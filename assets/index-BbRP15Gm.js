var A6=Object.defineProperty;var c6=(n,e,t)=>e in n?A6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Mr=(n,e,t)=>c6(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var zj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function u6(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var Ny={exports:{}},yp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function d6(){if(Gj)return yp;Gj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:s,key:c,ref:r!==void 0?r:null,props:o}}return yp.Fragment=e,yp.jsx=t,yp.jsxs=t,yp}var $j;function h6(){return $j||($j=1,Ny.exports=d6()),Ny.exports}var i=h6(),Ey={exports:{}},bs={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj;function f6(){if(Yj)return bs;Yj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function g(ee){return ee===null||typeof ee!="object"?null:(ee=x&&ee[x]||ee["@@iterator"],typeof ee=="function"?ee:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function S(ee,M,J){this.props=ee,this.context=M,this.refs=N,this.updater=J||b}S.prototype.isReactComponent={},S.prototype.setState=function(ee,M){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,M,"setState")},S.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function E(){}E.prototype=S.prototype;function F(ee,M,J){this.props=ee,this.context=M,this.refs=N,this.updater=J||b}var Q=F.prototype=new E;Q.constructor=F,I(Q,S.prototype),Q.isPureReactComponent=!0;var P=Array.isArray;function H(){}var L={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function R(ee,M,J){var ae=J.ref;return{$$typeof:n,type:ee,key:M,ref:ae!==void 0?ae:null,props:J}}function K(ee,M){return R(ee.type,M,ee.props)}function O(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function V(ee){var M={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(J){return M[J]})}var G=/\/+/g;function oe(ee,M){return typeof ee=="object"&&ee!==null&&ee.key!=null?V(""+ee.key):M.toString(36)}function ge(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(H,H):(ee.status="pending",ee.then(function(M){ee.status==="pending"&&(ee.status="fulfilled",ee.value=M)},function(M){ee.status==="pending"&&(ee.status="rejected",ee.reason=M)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function le(ee,M,J,ae,ie){var ce=typeof ee;(ce==="undefined"||ce==="boolean")&&(ee=null);var ye=!1;if(ee===null)ye=!0;else switch(ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(ee.$$typeof){case n:case e:ye=!0;break;case A:return ye=ee._init,le(ye(ee._payload),M,J,ae,ie)}}if(ye)return ie=ie(ee),ye=ae===""?"."+oe(ee,0):ae,P(ie)?(J="",ye!=null&&(J=ye.replace(G,"$&/")+"/"),le(ie,M,J,"",function(Se){return Se})):ie!=null&&(O(ie)&&(ie=K(ie,J+(ie.key==null||ee&&ee.key===ie.key?"":(""+ie.key).replace(G,"$&/")+"/")+ye)),M.push(ie)),1;ye=0;var Ne=ae===""?".":ae+":";if(P(ee))for(var xe=0;xe<ee.length;xe++)ae=ee[xe],ce=Ne+oe(ae,xe),ye+=le(ae,M,J,ce,ie);else if(xe=g(ee),typeof xe=="function")for(ee=xe.call(ee),xe=0;!(ae=ee.next()).done;)ae=ae.value,ce=Ne+oe(ae,xe++),ye+=le(ae,M,J,ce,ie);else if(ce==="object"){if(typeof ee.then=="function")return le(ge(ee),M,J,ae,ie);throw M=String(ee),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ye}function X(ee,M,J){if(ee==null)return ee;var ae=[],ie=0;return le(ee,ae,"","",function(ce){return M.call(J,ce,ie++)}),ae}function W(ee){if(ee._status===-1){var M=ee._result;M=M(),M.then(function(J){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=J)},function(J){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=J)}),ee._status===-1&&(ee._status=0,ee._result=M)}if(ee._status===1)return ee._result.default;throw ee._result}var re=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},me={map:X,forEach:function(ee,M,J){X(ee,function(){M.apply(this,arguments)},J)},count:function(ee){var M=0;return X(ee,function(){M++}),M},toArray:function(ee){return X(ee,function(M){return M})||[]},only:function(ee){if(!O(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return bs.Activity=m,bs.Children=me,bs.Component=S,bs.Fragment=t,bs.Profiler=r,bs.PureComponent=F,bs.StrictMode=s,bs.Suspense=u,bs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,bs.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return L.H.useMemoCache(ee)}},bs.cache=function(ee){return function(){return ee.apply(null,arguments)}},bs.cacheSignal=function(){return null},bs.cloneElement=function(ee,M,J){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var ae=I({},ee.props),ie=ee.key;if(M!=null)for(ce in M.key!==void 0&&(ie=""+M.key),M)!U.call(M,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&M.ref===void 0||(ae[ce]=M[ce]);var ce=arguments.length-2;if(ce===1)ae.children=J;else if(1<ce){for(var ye=Array(ce),Ne=0;Ne<ce;Ne++)ye[Ne]=arguments[Ne+2];ae.children=ye}return R(ee.type,ie,ae)},bs.createContext=function(ee){return ee={$$typeof:c,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},bs.createElement=function(ee,M,J){var ae,ie={},ce=null;if(M!=null)for(ae in M.key!==void 0&&(ce=""+M.key),M)U.call(M,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ie[ae]=M[ae]);var ye=arguments.length-2;if(ye===1)ie.children=J;else if(1<ye){for(var Ne=Array(ye),xe=0;xe<ye;xe++)Ne[xe]=arguments[xe+2];ie.children=Ne}if(ee&&ee.defaultProps)for(ae in ye=ee.defaultProps,ye)ie[ae]===void 0&&(ie[ae]=ye[ae]);return R(ee,ce,ie)},bs.createRef=function(){return{current:null}},bs.forwardRef=function(ee){return{$$typeof:h,render:ee}},bs.isValidElement=O,bs.lazy=function(ee){return{$$typeof:A,_payload:{_status:-1,_result:ee},_init:W}},bs.memo=function(ee,M){return{$$typeof:f,type:ee,compare:M===void 0?null:M}},bs.startTransition=function(ee){var M=L.T,J={};L.T=J;try{var ae=ee(),ie=L.S;ie!==null&&ie(J,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(H,re)}catch(ce){re(ce)}finally{M!==null&&J.types!==null&&(M.types=J.types),L.T=M}},bs.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},bs.use=function(ee){return L.H.use(ee)},bs.useActionState=function(ee,M,J){return L.H.useActionState(ee,M,J)},bs.useCallback=function(ee,M){return L.H.useCallback(ee,M)},bs.useContext=function(ee){return L.H.useContext(ee)},bs.useDebugValue=function(){},bs.useDeferredValue=function(ee,M){return L.H.useDeferredValue(ee,M)},bs.useEffect=function(ee,M){return L.H.useEffect(ee,M)},bs.useEffectEvent=function(ee){return L.H.useEffectEvent(ee)},bs.useId=function(){return L.H.useId()},bs.useImperativeHandle=function(ee,M,J){return L.H.useImperativeHandle(ee,M,J)},bs.useInsertionEffect=function(ee,M){return L.H.useInsertionEffect(ee,M)},bs.useLayoutEffect=function(ee,M){return L.H.useLayoutEffect(ee,M)},bs.useMemo=function(ee,M){return L.H.useMemo(ee,M)},bs.useOptimistic=function(ee,M){return L.H.useOptimistic(ee,M)},bs.useReducer=function(ee,M,J){return L.H.useReducer(ee,M,J)},bs.useRef=function(ee){return L.H.useRef(ee)},bs.useState=function(ee){return L.H.useState(ee)},bs.useSyncExternalStore=function(ee,M,J){return L.H.useSyncExternalStore(ee,M,J)},bs.useTransition=function(){return L.H.useTransition()},bs.version="19.2.3",bs}var Wj;function Zb(){return Wj||(Wj=1,Ey.exports=f6()),Ey.exports}var Z=Zb();const dv=qb(Z);var Ty={exports:{}},bp={},Iy={exports:{}},_y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function m6(){return Xj||(Xj=1,(function(n){function e(le,X){var W=le.length;le.push(X);e:for(;0<W;){var re=W-1>>>1,me=le[re];if(0<r(me,X))le[re]=X,le[W]=me,W=re;else break e}}function t(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var X=le[0],W=le.pop();if(W!==X){le[0]=W;e:for(var re=0,me=le.length,ee=me>>>1;re<ee;){var M=2*(re+1)-1,J=le[M],ae=M+1,ie=le[ae];if(0>r(J,W))ae<me&&0>r(ie,J)?(le[re]=ie,le[ae]=W,re=ae):(le[re]=J,le[M]=W,re=M);else if(ae<me&&0>r(ie,W))le[re]=ie,le[ae]=W,re=ae;else break e}}return X}function r(le,X){var W=le.sortIndex-X.sortIndex;return W!==0?W:le.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var u=[],f=[],A=1,m=null,x=3,g=!1,b=!1,I=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(le){for(var X=t(f);X!==null;){if(X.callback===null)s(f);else if(X.startTime<=le)s(f),X.sortIndex=X.expirationTime,e(u,X);else break;X=t(f)}}function P(le){if(I=!1,Q(le),!b)if(t(u)!==null)b=!0,H||(H=!0,V());else{var X=t(f);X!==null&&ge(P,X.startTime-le)}}var H=!1,L=-1,U=5,R=-1;function K(){return N?!0:!(n.unstable_now()-R<U)}function O(){if(N=!1,H){var le=n.unstable_now();R=le;var X=!0;try{e:{b=!1,I&&(I=!1,E(L),L=-1),g=!0;var W=x;try{t:{for(Q(le),m=t(u);m!==null&&!(m.expirationTime>le&&K());){var re=m.callback;if(typeof re=="function"){m.callback=null,x=m.priorityLevel;var me=re(m.expirationTime<=le);if(le=n.unstable_now(),typeof me=="function"){m.callback=me,Q(le),X=!0;break t}m===t(u)&&s(u),Q(le)}else s(u);m=t(u)}if(m!==null)X=!0;else{var ee=t(f);ee!==null&&ge(P,ee.startTime-le),X=!1}}break e}finally{m=null,x=W,g=!1}X=void 0}}finally{X?V():H=!1}}}var V;if(typeof F=="function")V=function(){F(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,oe=G.port2;G.port1.onmessage=O,V=function(){oe.postMessage(null)}}else V=function(){S(O,0)};function ge(le,X){L=S(function(){le(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(le){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var W=x;x=X;try{return le()}finally{x=W}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(le,X){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var W=x;x=le;try{return X()}finally{x=W}},n.unstable_scheduleCallback=function(le,X,W){var re=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,le){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=W+me,le={id:A++,callback:X,priorityLevel:le,startTime:W,expirationTime:me,sortIndex:-1},W>re?(le.sortIndex=W,e(f,le),t(u)===null&&le===t(f)&&(I?(E(L),L=-1):I=!0,ge(P,W-re))):(le.sortIndex=me,e(u,le),b||g||(b=!0,H||(H=!0,V()))),le},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(le){var X=x;return function(){var W=x;x=X;try{return le.apply(this,arguments)}finally{x=W}}}})(_y)),_y}var Jj;function p6(){return Jj||(Jj=1,Iy.exports=m6()),Iy.exports}var Fy={exports:{}},qo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function g6(){if(qj)return qo;qj=1;var n=Zb();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)f+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(u,f,A){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:u,containerInfo:f,implementation:A}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qo.createPortal=function(u,f){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,A)},qo.flushSync=function(u){var f=c.T,A=s.p;try{if(c.T=null,s.p=2,u)return u()}finally{c.T=f,s.p=A,s.d.f()}},qo.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(u,f))},qo.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},qo.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;A==="style"?s.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:g}):A==="script"&&s.d.X(u,{crossOrigin:m,integrity:x,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qo.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var A=h(f.as,f.crossOrigin);s.d.M(u,{crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(u)},qo.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin);s.d.L(u,A,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qo.preloadModule=function(u,f){if(typeof u=="string")if(f){var A=h(f.as,f.crossOrigin);s.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(u)},qo.requestFormReset=function(u){s.d.r(u)},qo.unstable_batchedUpdates=function(u,f){return u(f)},qo.useFormState=function(u,f,A){return c.H.useFormState(u,f,A)},qo.useFormStatus=function(){return c.H.useHostTransitionStatus()},qo.version="19.2.3",qo}var Zj;function x6(){if(Zj)return Fy.exports;Zj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fy.exports=g6(),Fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB;function v6(){if(eB)return bp;eB=1;var n=p6(),e=Zb(),t=x6();function s(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(s(188))}function f(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(s(188));return l!==a?null:a}for(var d=a,p=l;;){var T=d.return;if(T===null)break;var D=T.alternate;if(D===null){if(p=T.return,p!==null){d=p;continue}break}if(T.child===D.child){for(D=T.child;D;){if(D===d)return u(T),a;if(D===p)return u(T),l;D=D.sibling}throw Error(s(188))}if(d.return!==p.return)d=T,p=D;else{for(var te=!1,ve=T.child;ve;){if(ve===d){te=!0,d=T,p=D;break}if(ve===p){te=!0,p=T,d=D;break}ve=ve.sibling}if(!te){for(ve=D.child;ve;){if(ve===d){te=!0,d=D,p=T;break}if(ve===p){te=!0,p=D,d=T;break}ve=ve.sibling}if(!te)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:l}function A(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=A(a),l!==null)return l;a=a.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function oe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case H:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case F:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case Q:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return l=a.displayName||null,l!==null?l:oe(a.type)||"Memo";case U:l=a._payload,a=a._init;try{return oe(a(l))}catch{}}return null}var ge=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},re=[],me=-1;function ee(a){return{current:a}}function M(a){0>me||(a.current=re[me],re[me]=null,me--)}function J(a,l){me++,re[me]=a.current,a.current=l}var ae=ee(null),ie=ee(null),ce=ee(null),ye=ee(null);function Ne(a,l){switch(J(ce,l),J(ie,a),J(ae,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?fj(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=fj(l),a=mj(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}M(ae),J(ae,a)}function xe(){M(ae),M(ie),M(ce)}function Se(a){a.memoizedState!==null&&J(ye,a);var l=ae.current,d=mj(l,a.type);l!==d&&(J(ie,a),J(ae,d))}function Fe(a){ie.current===a&&(M(ae),M(ie)),ye.current===a&&(M(ye),pp._currentValue=W)}var Qe,Je;function Pe(a){if(Qe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Qe=l&&l[1]||"",Je=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+a+Je}var he=!1;function nt(a,l){if(!a||he)return"";he=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(ut){var rt=ut}Reflect.construct(a,[],It)}else{try{It.call()}catch(ut){rt=ut}a.call(It.prototype)}}else{try{throw Error()}catch(ut){rt=ut}(It=a())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(ut){if(ut&&rt&&typeof ut.stack=="string")return[ut.stack,rt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=p.DetermineComponentFrameRoot(),te=D[0],ve=D[1];if(te&&ve){var Ue=te.split(`
`),et=ve.split(`
`);for(T=p=0;p<Ue.length&&!Ue[p].includes("DetermineComponentFrameRoot");)p++;for(;T<et.length&&!et[T].includes("DetermineComponentFrameRoot");)T++;if(p===Ue.length||T===et.length)for(p=Ue.length-1,T=et.length-1;1<=p&&0<=T&&Ue[p]!==et[T];)T--;for(;1<=p&&0<=T;p--,T--)if(Ue[p]!==et[T]){if(p!==1||T!==1)do if(p--,T--,0>T||Ue[p]!==et[T]){var wt=`
`+Ue[p].replace(" at new "," at ");return a.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",a.displayName)),wt}while(1<=p&&0<=T);break}}}finally{he=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Pe(d):""}function lt(a,l){switch(a.tag){case 26:case 27:case 5:return Pe(a.type);case 16:return Pe("Lazy");case 13:return a.child!==l&&l!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return nt(a.type,!1);case 11:return nt(a.type.render,!1);case 1:return nt(a.type,!0);case 31:return Pe("Activity");default:return""}}function ht(a){try{var l="",d=null;do l+=lt(a,d),d=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ke=Object.prototype.hasOwnProperty,Nt=n.unstable_scheduleCallback,Rt=n.unstable_cancelCallback,qt=n.unstable_shouldYield,Zt=n.unstable_requestPaint,sn=n.unstable_now,an=n.unstable_getCurrentPriorityLevel,Xe=n.unstable_ImmediatePriority,Ht=n.unstable_UserBlockingPriority,zt=n.unstable_NormalPriority,Vt=n.unstable_LowPriority,xt=n.unstable_IdlePriority,Dt=n.log,Dn=n.unstable_setDisableYieldValue,Gt=null,Yt=null;function At(a){if(typeof Dt=="function"&&Dn(a),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Gt,a)}catch{}}var Lt=Math.clz32?Math.clz32:it,De=Math.log,ft=Math.LN2;function it(a){return a>>>=0,a===0?32:31-(De(a)/ft|0)|0}var Et=256,Jt=262144,vt=4194304;function st(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ft(a,l,d){var p=a.pendingLanes;if(p===0)return 0;var T=0,D=a.suspendedLanes,te=a.pingedLanes;a=a.warmLanes;var ve=p&134217727;return ve!==0?(p=ve&~D,p!==0?T=st(p):(te&=ve,te!==0?T=st(te):d||(d=ve&~a,d!==0&&(T=st(d))))):(ve=p&~D,ve!==0?T=st(ve):te!==0?T=st(te):d||(d=p&~a,d!==0&&(T=st(d)))),T===0?0:l!==0&&l!==T&&(l&D)===0&&(D=T&-T,d=l&-l,D>=d||D===32&&(d&4194048)!==0)?l:T}function Wt(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function dn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(){var a=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),a}function Hn(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Qt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function hs(a,l,d,p,T,D){var te=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var ve=a.entanglements,Ue=a.expirationTimes,et=a.hiddenUpdates;for(d=te&~d;0<d;){var wt=31-Lt(d),It=1<<wt;ve[wt]=0,Ue[wt]=-1;var rt=et[wt];if(rt!==null)for(et[wt]=null,wt=0;wt<rt.length;wt++){var ut=rt[wt];ut!==null&&(ut.lane&=-536870913)}d&=~It}p!==0&&Ts(a,p,0),D!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=D&~(te&~l))}function Ts(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-Lt(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|d&261930}function Is(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-Lt(d),T=1<<p;T&l|a[p]&l&&(a[p]|=l),d&=~T}}function _n(a,l){var d=l&-l;return d=(d&42)!==0?1:ln(d),(d&(a.suspendedLanes|l))!==0?0:d}function ln(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function cs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function or(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:Oj(a.type))}function ur(a,l){var d=X.p;try{return X.p=a,l()}finally{X.p=d}}var Ur=Math.random().toString(36).slice(2),js="__reactFiber$"+Ur,Hs="__reactProps$"+Ur,gr="__reactContainer$"+Ur,ia="__reactEvents$"+Ur,ei="__reactListeners$"+Ur,Si="__reactHandles$"+Ur,Ss="__reactResources$"+Ur,Nr="__reactMarker$"+Ur;function ga(a){delete a[js],delete a[Hs],delete a[ia],delete a[ei],delete a[Si]}function br(a){var l=a[js];if(l)return l;for(var d=a.parentNode;d;){if(l=d[gr]||d[js]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=wj(a);a!==null;){if(d=a[js])return d;a=wj(a)}return l}a=d,d=a.parentNode}return null}function tr(a){if(a=a[js]||a[gr]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function oa(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(s(33))}function Ga(a){var l=a[Ss];return l||(l=a[Ss]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Gs(a){a[Nr]=!0}var Ia=new Set,Vr={};function xa(a,l){Ni(a,l),Ni(a+"Capture",l)}function Ni(a,l){for(Vr[a]=l,a=0;a<l.length;a++)Ia.add(l[a])}var Gi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},Bl={};function di(a){return Ke.call(Bl,a)?!0:Ke.call(jl,a)?!1:Gi.test(a)?Bl[a]=!0:(jl[a]=!0,!1)}function la(a,l,d){if(di(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Ee(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function at(a,l,d,p){if(p===null)a.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+p)}}function dt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function kt(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function An(a,l,d){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,D=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return T.call(this)},set:function(te){d=""+te,D.call(this,te)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(te){d=""+te},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ot(a){if(!a._valueTracker){var l=kt(a)?"checked":"value";a._valueTracker=An(a,l,""+a[l])}}function Vn(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return a&&(p=kt(a)?a.checked?"true":"false":a.value),a=p,a!==d?(l.setValue(a),!0):!1}function pn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var yt=/[\n"\\]/g;function Tn(a){return a.replace(yt,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qn(a,l,d,p,T,D,te,ve){a.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?a.type=te:a.removeAttribute("type"),l!=null?te==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+dt(l)):a.value!==""+dt(l)&&(a.value=""+dt(l)):te!=="submit"&&te!=="reset"||a.removeAttribute("value"),l!=null?dr(a,te,dt(l)):d!=null?dr(a,te,dt(d)):p!=null&&a.removeAttribute("value"),T==null&&D!=null&&(a.defaultChecked=!!D),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?a.name=""+dt(ve):a.removeAttribute("name")}function fs(a,l,d,p,T,D,te,ve){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.type=D),l!=null||d!=null){if(!(D!=="submit"&&D!=="reset"||l!=null)){Ot(a);return}d=d!=null?""+dt(d):"",l=l!=null?""+dt(l):d,ve||l===a.value||(a.value=l),a.defaultValue=l}p=p??T,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=ve?a.checked:!!p,a.defaultChecked=!!p,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(a.name=te),Ot(a)}function dr(a,l,d){l==="number"&&pn(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Ns(a,l,d,p){if(a=a.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<a.length;d++)T=l.hasOwnProperty("$"+a[d].value),a[d].selected!==T&&(a[d].selected=T),T&&p&&(a[d].defaultSelected=!0)}else{for(d=""+dt(d),l=null,T=0;T<a.length;T++){if(a[T].value===d){a[T].selected=!0,p&&(a[T].defaultSelected=!0);return}l!==null||a[T].disabled||(l=a[T])}l!==null&&(l.selected=!0)}}function Aa(a,l,d){if(l!=null&&(l=""+dt(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+dt(d):""}function Xr(a,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(s(92));if(ge(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=dt(l),a.defaultValue=d,p=a.textContent,p===d&&p!==""&&p!==null&&(a.value=p),Ot(a)}function Ls(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var _a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hi(a,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,d):typeof d!="number"||d===0||_a.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Uo(a,l,d){if(l!=null&&typeof l!="object")throw Error(s(62));if(a=a.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var T in l)p=l[T],l.hasOwnProperty(T)&&d[T]!==p&&hi(a,T,p)}else for(var D in l)l.hasOwnProperty(D)&&hi(a,D,l[D])}function fo(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(a){return fi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function $i(){}var mo=null;function ti(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var mi=null,Rn=null;function Al(a){var l=tr(a);if(l&&(a=l.stateNode)){var d=a[Hs]||null;e:switch(a=l.stateNode,l.type){case"input":if(qn(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Tn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==a&&p.form===a.form){var T=p[Hs]||null;if(!T)throw Error(s(90));qn(p,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===a.form&&Vn(p)}break e;case"textarea":Aa(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ns(a,!!d.multiple,l,!1)}}}var Cl=!1;function oo(a,l,d){if(Cl)return a(l,d);Cl=!0;try{var p=a(l);return p}finally{if(Cl=!1,(mi!==null||Rn!==null)&&(so(),mi&&(l=mi,a=Rn,Rn=mi=null,Al(l),a)))for(l=0;l<a.length;l++)Al(a[l])}}function ca(a,l){var d=a.stateNode;if(d===null)return null;var p=d[Hs]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(s(231,l,typeof d));return d}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(Er)try{var $s={};Object.defineProperty($s,"passive",{get:function(){va=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{va=!1}var ya=null,Yi=null,ni=null;function Do(){if(ni)return ni;var a,l=Yi,d=l.length,p,T="value"in ya?ya.value:ya.textContent,D=T.length;for(a=0;a<d&&l[a]===T[a];a++);var te=d-a;for(p=1;p<=te&&l[d-p]===T[D-p];p++);return ni=T.slice(a,1<p?1-p:void 0)}function si(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Wi(){return!0}function Kt(){return!1}function hn(a){function l(d,p,T,D,te){this._reactName=d,this._targetInst=T,this.type=p,this.nativeEvent=D,this.target=te,this.currentTarget=null;for(var ve in a)a.hasOwnProperty(ve)&&(d=a[ve],this[ve]=d?d(D):D[ve]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Wi:Kt,this.isPropagationStopped=Kt,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),l}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zn=hn(ss),Bn=m({},ss,{view:0,detail:0}),rn=hn(Bn),xs,zr,Fa,Xi=m({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fa&&(Fa&&a.type==="mousemove"?(xs=a.screenX-Fa.screenX,zr=a.screenY-Fa.screenY):zr=xs=0,Fa=a),xs)},movementY:function(a){return"movementY"in a?a.movementY:zr}}),Ro=hn(Xi),Tr=m({},Xi,{dataTransfer:0}),ua=hn(Tr),Ua=m({},Bn,{relatedTarget:0}),Jr=hn(Ua),$a=m({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),k=hn($a),Ae=m({},ss,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ie=hn(Ae),Re=m({},ss,{data:0}),ze=hn(Re),bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=vn[a])?!!l[a]:!1}function Kn(){return Cn}var Ln=m({},Bn,{key:function(a){if(a.key){var l=bt[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=si(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_t[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kn,charCode:function(a){return a.type==="keypress"?si(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?si(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_s=hn(Ln),Ir=m({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=hn(Ir),w=m({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kn}),Y=hn(w),se=m({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),we=hn(se),$e=m({},Xi,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=hn($e),$t=m({},ss,{newState:0,oldState:0}),rs=hn($t),_r=[9,13,27,32],vs=Er&&"CompositionEvent"in window,nr=null;Er&&"documentMode"in document&&(nr=document.documentMode);var Ya=Er&&"TextEvent"in window&&!nr,ba=Er&&(!vs||nr&&8<nr&&11>=nr),Ys=" ",ls=!1;function po(a,l){switch(a){case"keyup":return _r.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var cl=!1;function Da(a,l){switch(a){case"compositionend":return Lo(l);case"keypress":return l.which!==32?null:(ls=!0,Ys);case"textInput":return a=l.data,a===Ys&&ls?null:a;default:return null}}function ri(a,l){if(cl)return a==="compositionend"||!vs&&po(a,l)?(a=Do(),ni=Yi=ya=null,cl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ba&&l.locale!=="ko"?null:l.data;default:return null}}var mc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qo(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!mc[a.type]:l==="textarea"}function Ws(a,l,d,p){mi?Rn?Rn.push(p):Rn=[p]:mi=p,l=B0(l,"onChange"),0<l.length&&(d=new Zn("onChange","change",null,d,p),a.push({event:d,listeners:l}))}var Oo=null,Dr=null;function OA(a){lj(a,0)}function ai(a){var l=oa(a);if(Vn(l))return a}function Po(a,l){if(a==="change")return l}var Bs=!1;if(Er){var Ei;if(Er){var ul="oninput"in document;if(!ul){var dl=document.createElement("div");dl.setAttribute("oninput","return;"),ul=typeof dl.oninput=="function"}Ei=ul}else Ei=!1;Bs=Ei&&(!document.documentMode||9<document.documentMode)}function Sl(){Oo&&(Oo.detachEvent("onpropertychange",$l),Dr=Oo=null)}function $l(a){if(a.propertyName==="value"&&ai(Dr)){var l=[];Ws(l,Dr,a,ti(a)),oo(OA,l)}}function PA(a,l,d){a==="focusin"?(Sl(),Oo=l,Dr=d,Oo.attachEvent("onpropertychange",$l)):a==="focusout"&&Sl()}function da(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ai(Dr)}function Ji(a,l){if(a==="click")return ai(l)}function pi(a,l){if(a==="input"||a==="change")return ai(l)}function gi(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Qs=typeof Object.is=="function"?Object.is:gi;function Ti(a,l){if(Qs(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var T=d[p];if(!Ke.call(l,T)||!Qs(a[T],l[T]))return!1}return!0}function kA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function MA(a,l){var d=kA(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=l&&p>=l)return{node:d,offset:l-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=kA(d)}}function hl(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?hl(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Nl(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=pn(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=pn(a.document)}return l}function El(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var fl=Er&&"documentMode"in document&&11>=document.documentMode,wa=null,Yl=null,Ii=null,qi=!1;function Xs(a,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;qi||wa==null||wa!==pn(p)||(p=wa,"selectionStart"in p&&El(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ii&&Ti(Ii,p)||(Ii=p,p=B0(Yl,"onSelect"),0<p.length&&(l=new Zn("onSelect","select",null,l,d),a.push({event:l,listeners:p}),l.target=wa)))}function Vs(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Fr={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},sr={},ml={};Er&&(ml=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function pl(a){if(sr[a])return sr[a];if(!Fr[a])return a;var l=Fr[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in ml)return sr[a]=l[d];return a}var HA=pl("animationend"),dA=pl("animationiteration"),sh=pl("animationstart"),rh=pl("transitionrun"),ah=pl("transitionstart"),ih=pl("transitioncancel"),Lu=pl("transitionend"),Qu=new Map,hA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hA.push("scrollEnd");function go(a,l){Qu.set(a,l),xa(l,[a])}var pc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},xo=[],Tl=0,Ou=0;function nu(){for(var a=Tl,l=Ou=Tl=0;l<a;){var d=xo[l];xo[l++]=null;var p=xo[l];xo[l++]=null;var T=xo[l];xo[l++]=null;var D=xo[l];if(xo[l++]=null,p!==null&&T!==null){var te=p.pending;te===null?T.next=T:(T.next=te.next,te.next=T),p.pending=T}D!==0&&su(d,T,D)}}function VA(a,l,d,p){xo[Tl++]=a,xo[Tl++]=l,xo[Tl++]=d,xo[Tl++]=p,Ou|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Pu(a,l,d,p){return VA(a,l,d,p),_i(a)}function Il(a,l){return VA(a,null,null,l),_i(a)}function su(a,l,d){a.lanes|=d;var p=a.alternate;p!==null&&(p.lanes|=d);for(var T=!1,D=a.return;D!==null;)D.childLanes|=d,p=D.alternate,p!==null&&(p.childLanes|=d),D.tag===22&&(a=D.stateNode,a===null||a._visibility&1||(T=!0)),a=D,D=D.return;return a.tag===3?(D=a.stateNode,T&&l!==null&&(T=31-Lt(d),a=D.hiddenUpdates,p=a[T],p===null?a[T]=[l]:p.push(l),l.lane=d|536870912),D):null}function _i(a){if(50<Us)throw Us=0,Ms=null,Error(s(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var xi={};function ku(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(a,l,d,p){return new ku(a,l,d,p)}function Wl(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ko(a,l){var d=a.alternate;return d===null?(d=Fi(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function ru(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Xl(a,l,d,p,T,D){var te=0;if(p=a,typeof a=="function")Wl(a)&&(te=1);else if(typeof a=="string")te=J_(a,d,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=Fi(31,d,l,T),a.elementType=R,a.lanes=D,a;case I:return fA(d.children,T,D,l);case N:te=8,T|=24;break;case S:return a=Fi(12,d,l,T|2),a.elementType=S,a.lanes=D,a;case P:return a=Fi(13,d,l,T),a.elementType=P,a.lanes=D,a;case H:return a=Fi(19,d,l,T),a.elementType=H,a.lanes=D,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:te=10;break e;case E:te=9;break e;case Q:te=11;break e;case L:te=14;break e;case U:te=16,p=null;break e}te=29,d=Error(s(130,a===null?"null":typeof a,"")),p=null}return l=Fi(te,d,l,T),l.elementType=a,l.type=p,l.lanes=D,l}function fA(a,l,d,p){return a=Fi(7,a,p,l),a.lanes=d,a}function au(a,l,d){return a=Fi(6,a,null,l),a.lanes=d,a}function Mu(a){var l=Fi(18,null,null,0);return l.stateNode=a,l}function gc(a,l,d){return l=Fi(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var KA=new WeakMap;function Mo(a,l){if(typeof a=="object"&&a!==null){var d=KA.get(a);return d!==void 0?d:(l={value:a,source:l,stack:ht(l)},KA.set(a,l),l)}return{value:a,source:l,stack:ht(l)}}var xc=[],zA=0,Hu=null,mA=0,Ho=[],Vo=0,pA=null,Ko=1,Zi="";function vo(a,l){xc[zA++]=mA,xc[zA++]=Hu,Hu=a,mA=l}function df(a,l,d){Ho[Vo++]=Ko,Ho[Vo++]=Zi,Ho[Vo++]=pA,pA=a;var p=Ko;a=Zi;var T=32-Lt(p)-1;p&=~(1<<T),d+=1;var D=32-Lt(l)+T;if(30<D){var te=T-T%5;D=(p&(1<<te)-1).toString(32),p>>=te,T-=te,Ko=1<<32-Lt(l)+T|d<<T|p,Zi=D+a}else Ko=1<<D|d<<T|p,Zi=a}function oh(a){a.return!==null&&(vo(a,1),df(a,1,0))}function Vu(a){for(;a===Hu;)Hu=xc[--zA],xc[zA]=null,mA=xc[--zA],xc[zA]=null;for(;a===pA;)pA=Ho[--Vo],Ho[Vo]=null,Zi=Ho[--Vo],Ho[Vo]=null,Ko=Ho[--Vo],Ho[Vo]=null}function hf(a,l){Ho[Vo++]=Ko,Ho[Vo++]=Zi,Ho[Vo++]=pA,Ko=l.id,Zi=l.overflow,pA=a}var vi=null,Rr=null,Ds=!1,eo=null,ha=!1,lo=Error(s(519));function gA(a){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Mo(l,a)),lo}function lh(a){var l=a.stateNode,d=a.type,p=a.memoizedProps;switch(l[js]=a,l[Hs]=p,d){case"dialog":zs("cancel",l),zs("close",l);break;case"iframe":case"object":case"embed":zs("load",l);break;case"video":case"audio":for(d=0;d<up.length;d++)zs(up[d],l);break;case"source":zs("error",l);break;case"img":case"image":case"link":zs("error",l),zs("load",l);break;case"details":zs("toggle",l);break;case"input":zs("invalid",l),fs(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":zs("invalid",l);break;case"textarea":zs("invalid",l),Xr(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||dj(l.textContent,d)?(p.popover!=null&&(zs("beforetoggle",l),zs("toggle",l)),p.onScroll!=null&&zs("scroll",l),p.onScrollEnd!=null&&zs("scrollend",l),p.onClick!=null&&(l.onclick=$i),l=!0):l=!1,l||gA(a,!0)}function _l(a){for(vi=a.return;vi;)switch(vi.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:vi=vi.return}}function yi(a){if(a!==vi)return!1;if(!Ds)return _l(a),Ds=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||dy(a.type,a.memoizedProps)),d=!d),d&&Rr&&gA(a),_l(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));Rr=bj(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));Rr=bj(a)}else l===27?(l=Rr,ud(a.type)?(a=gy,gy=null,Rr=a):Rr=l):Rr=vi?NA(a.stateNode.nextSibling):null;return!0}function GA(){Rr=vi=null,Ds=!1}function iu(){var a=eo;return a!==null&&(Le===null?Le=a:Le.push.apply(Le,a),eo=null),a}function Jl(a){eo===null?eo=[a]:eo.push(a)}var Ku=ee(null),xA=null,Fl=null;function vA(a,l,d){J(Ku,l._currentValue),l._currentValue=d}function zo(a){a._currentValue=Ku.current,M(Ku)}function vc(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function Ul(a,l,d,p){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var D=T.dependencies;if(D!==null){var te=T.child;D=D.firstContext;e:for(;D!==null;){var ve=D;D=T;for(var Ue=0;Ue<l.length;Ue++)if(ve.context===l[Ue]){D.lanes|=d,ve=D.alternate,ve!==null&&(ve.lanes|=d),vc(D.return,d,a),p||(te=null);break e}D=ve.next}}else if(T.tag===18){if(te=T.return,te===null)throw Error(s(341));te.lanes|=d,D=te.alternate,D!==null&&(D.lanes|=d),vc(te,d,a),te=null}else te=T.child;if(te!==null)te.return=T;else for(te=T;te!==null;){if(te===a){te=null;break}if(T=te.sibling,T!==null){T.return=te.return,te=T;break}te=te.return}T=te}}function yA(a,l,d,p){a=null;for(var T=l,D=!1;T!==null;){if(!D){if((T.flags&524288)!==0)D=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var te=T.alternate;if(te===null)throw Error(s(387));if(te=te.memoizedProps,te!==null){var ve=T.type;Qs(T.pendingProps.value,te.value)||(a!==null?a.push(ve):a=[ve])}}else if(T===ye.current){if(te=T.alternate,te===null)throw Error(s(387));te.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(pp):a=[pp])}T=T.return}a!==null&&Ul(l,a,d,p),l.flags|=262144}function zu(a){for(a=a.firstContext;a!==null;){if(!Qs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function bA(a){xA=a,Fl=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function bi(a){return ff(xA,a)}function Gu(a,l){return xA===null&&bA(a),ff(a,l)}function ff(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Fl===null){if(a===null)throw Error(s(308));Fl=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Fl=Fl.next=l;return d}var Fm=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},Um=n.unstable_scheduleCallback,Dm=n.unstable_NormalPriority,ja={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new Fm,data:new Map,refCount:0}}function ou(a){a.refCount--,a.refCount===0&&Um(Dm,function(){a.controller.abort()})}var bc=null,$u=0,y=0,_=null;function z(a,l){if(bc===null){var d=bc=[];$u=0,y=sy(),_={status:"pending",value:void 0,then:function(p){d.push(p)}}}return $u++,l.then(q,q),l}function q(){if(--$u===0&&bc!==null){_!==null&&(_.status="fulfilled");var a=bc;bc=null,y=0,_=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function ue(a,l){var d=[],p={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(p.status="rejected",p.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),p}var fe=le.S;le.S=function(a,l){gt=sn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&z(a,l),fe!==null&&fe(a,l)};var pe=ee(null);function be(){var a=pe.current;return a!==null?a:Or.pooledCache}function je(a,l){l===null?J(pe,pe.current):J(pe,l.pool)}function _e(){var a=be();return a===null?null:{parent:ja._currentValue,pool:a}}var Oe=Error(s(460)),qe=Error(s(474)),Te=Error(s(542)),Me={then:function(){}};function He(a){return a=a.status,a==="fulfilled"||a==="rejected"}function pt(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then($i,$i),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Mt(a),a;default:if(typeof l.status=="string")l.then($i,$i);else{if(a=Or,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=p}},function(p){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Mt(a),a}throw mt=l,Oe}}function We(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(mt=d,Oe):d}}var mt=null;function jt(){if(mt===null)throw Error(s(459));var a=mt;return mt=null,a}function Mt(a){if(a===Oe||a===Te)throw Error(s(483))}var Tt=null,Sn=0;function gn(a){var l=Sn;return Sn+=1,Tt===null&&(Tt=[]),pt(Tt,a,l)}function as(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function bn(a,l){throw l.$$typeof===x?Error(s(525)):(a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Fs(a){function l(Ge,ke){if(a){var Ze=Ge.deletions;Ze===null?(Ge.deletions=[ke],Ge.flags|=16):Ze.push(ke)}}function d(Ge,ke){if(!a)return null;for(;ke!==null;)l(Ge,ke),ke=ke.sibling;return null}function p(Ge){for(var ke=new Map;Ge!==null;)Ge.key!==null?ke.set(Ge.key,Ge):ke.set(Ge.index,Ge),Ge=Ge.sibling;return ke}function T(Ge,ke){return Ge=ko(Ge,ke),Ge.index=0,Ge.sibling=null,Ge}function D(Ge,ke,Ze){return Ge.index=Ze,a?(Ze=Ge.alternate,Ze!==null?(Ze=Ze.index,Ze<ke?(Ge.flags|=67108866,ke):Ze):(Ge.flags|=67108866,ke)):(Ge.flags|=1048576,ke)}function te(Ge){return a&&Ge.alternate===null&&(Ge.flags|=67108866),Ge}function ve(Ge,ke,Ze,St){return ke===null||ke.tag!==6?(ke=au(Ze,Ge.mode,St),ke.return=Ge,ke):(ke=T(ke,Ze),ke.return=Ge,ke)}function Ue(Ge,ke,Ze,St){var $n=Ze.type;return $n===I?wt(Ge,ke,Ze.props.children,St,Ze.key):ke!==null&&(ke.elementType===$n||typeof $n=="object"&&$n!==null&&$n.$$typeof===U&&We($n)===ke.type)?(ke=T(ke,Ze.props),as(ke,Ze),ke.return=Ge,ke):(ke=Xl(Ze.type,Ze.key,Ze.props,null,Ge.mode,St),as(ke,Ze),ke.return=Ge,ke)}function et(Ge,ke,Ze,St){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Ze.containerInfo||ke.stateNode.implementation!==Ze.implementation?(ke=gc(Ze,Ge.mode,St),ke.return=Ge,ke):(ke=T(ke,Ze.children||[]),ke.return=Ge,ke)}function wt(Ge,ke,Ze,St,$n){return ke===null||ke.tag!==7?(ke=fA(Ze,Ge.mode,St,$n),ke.return=Ge,ke):(ke=T(ke,Ze),ke.return=Ge,ke)}function It(Ge,ke,Ze){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=au(""+ke,Ge.mode,Ze),ke.return=Ge,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:return Ze=Xl(ke.type,ke.key,ke.props,null,Ge.mode,Ze),as(Ze,ke),Ze.return=Ge,Ze;case b:return ke=gc(ke,Ge.mode,Ze),ke.return=Ge,ke;case U:return ke=We(ke),It(Ge,ke,Ze)}if(ge(ke)||V(ke))return ke=fA(ke,Ge.mode,Ze,null),ke.return=Ge,ke;if(typeof ke.then=="function")return It(Ge,gn(ke),Ze);if(ke.$$typeof===F)return It(Ge,Gu(Ge,ke),Ze);bn(Ge,ke)}return null}function rt(Ge,ke,Ze,St){var $n=ke!==null?ke.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return $n!==null?null:ve(Ge,ke,""+Ze,St);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case g:return Ze.key===$n?Ue(Ge,ke,Ze,St):null;case b:return Ze.key===$n?et(Ge,ke,Ze,St):null;case U:return Ze=We(Ze),rt(Ge,ke,Ze,St)}if(ge(Ze)||V(Ze))return $n!==null?null:wt(Ge,ke,Ze,St,null);if(typeof Ze.then=="function")return rt(Ge,ke,gn(Ze),St);if(Ze.$$typeof===F)return rt(Ge,ke,Gu(Ge,Ze),St);bn(Ge,Ze)}return null}function ut(Ge,ke,Ze,St,$n){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return Ge=Ge.get(Ze)||null,ve(ke,Ge,""+St,$n);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case g:return Ge=Ge.get(St.key===null?Ze:St.key)||null,Ue(ke,Ge,St,$n);case b:return Ge=Ge.get(St.key===null?Ze:St.key)||null,et(ke,Ge,St,$n);case U:return St=We(St),ut(Ge,ke,Ze,St,$n)}if(ge(St)||V(St))return Ge=Ge.get(Ze)||null,wt(ke,Ge,St,$n,null);if(typeof St.then=="function")return ut(Ge,ke,Ze,gn(St),$n);if(St.$$typeof===F)return ut(Ge,ke,Ze,Gu(ke,St),$n);bn(ke,St)}return null}function Nn(Ge,ke,Ze,St){for(var $n=null,vr=null,Un=ke,Es=ke=0,qs=null;Un!==null&&Es<Ze.length;Es++){Un.index>Es?(qs=Un,Un=null):qs=Un.sibling;var yr=rt(Ge,Un,Ze[Es],St);if(yr===null){Un===null&&(Un=qs);break}a&&Un&&yr.alternate===null&&l(Ge,Un),ke=D(yr,ke,Es),vr===null?$n=yr:vr.sibling=yr,vr=yr,Un=qs}if(Es===Ze.length)return d(Ge,Un),Ds&&vo(Ge,Es),$n;if(Un===null){for(;Es<Ze.length;Es++)Un=It(Ge,Ze[Es],St),Un!==null&&(ke=D(Un,ke,Es),vr===null?$n=Un:vr.sibling=Un,vr=Un);return Ds&&vo(Ge,Es),$n}for(Un=p(Un);Es<Ze.length;Es++)qs=ut(Un,Ge,Es,Ze[Es],St),qs!==null&&(a&&qs.alternate!==null&&Un.delete(qs.key===null?Es:qs.key),ke=D(qs,ke,Es),vr===null?$n=qs:vr.sibling=qs,vr=qs);return a&&Un.forEach(function(pd){return l(Ge,pd)}),Ds&&vo(Ge,Es),$n}function ts(Ge,ke,Ze,St){if(Ze==null)throw Error(s(151));for(var $n=null,vr=null,Un=ke,Es=ke=0,qs=null,yr=Ze.next();Un!==null&&!yr.done;Es++,yr=Ze.next()){Un.index>Es?(qs=Un,Un=null):qs=Un.sibling;var pd=rt(Ge,Un,yr.value,St);if(pd===null){Un===null&&(Un=qs);break}a&&Un&&pd.alternate===null&&l(Ge,Un),ke=D(pd,ke,Es),vr===null?$n=pd:vr.sibling=pd,vr=pd,Un=qs}if(yr.done)return d(Ge,Un),Ds&&vo(Ge,Es),$n;if(Un===null){for(;!yr.done;Es++,yr=Ze.next())yr=It(Ge,yr.value,St),yr!==null&&(ke=D(yr,ke,Es),vr===null?$n=yr:vr.sibling=yr,vr=yr);return Ds&&vo(Ge,Es),$n}for(Un=p(Un);!yr.done;Es++,yr=Ze.next())yr=ut(Un,Ge,Es,yr.value,St),yr!==null&&(a&&yr.alternate!==null&&Un.delete(yr.key===null?Es:yr.key),ke=D(yr,ke,Es),vr===null?$n=yr:vr.sibling=yr,vr=yr);return a&&Un.forEach(function(l6){return l(Ge,l6)}),Ds&&vo(Ge,Es),$n}function Wr(Ge,ke,Ze,St){if(typeof Ze=="object"&&Ze!==null&&Ze.type===I&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case g:e:{for(var $n=Ze.key;ke!==null;){if(ke.key===$n){if($n=Ze.type,$n===I){if(ke.tag===7){d(Ge,ke.sibling),St=T(ke,Ze.props.children),St.return=Ge,Ge=St;break e}}else if(ke.elementType===$n||typeof $n=="object"&&$n!==null&&$n.$$typeof===U&&We($n)===ke.type){d(Ge,ke.sibling),St=T(ke,Ze.props),as(St,Ze),St.return=Ge,Ge=St;break e}d(Ge,ke);break}else l(Ge,ke);ke=ke.sibling}Ze.type===I?(St=fA(Ze.props.children,Ge.mode,St,Ze.key),St.return=Ge,Ge=St):(St=Xl(Ze.type,Ze.key,Ze.props,null,Ge.mode,St),as(St,Ze),St.return=Ge,Ge=St)}return te(Ge);case b:e:{for($n=Ze.key;ke!==null;){if(ke.key===$n)if(ke.tag===4&&ke.stateNode.containerInfo===Ze.containerInfo&&ke.stateNode.implementation===Ze.implementation){d(Ge,ke.sibling),St=T(ke,Ze.children||[]),St.return=Ge,Ge=St;break e}else{d(Ge,ke);break}else l(Ge,ke);ke=ke.sibling}St=gc(Ze,Ge.mode,St),St.return=Ge,Ge=St}return te(Ge);case U:return Ze=We(Ze),Wr(Ge,ke,Ze,St)}if(ge(Ze))return Nn(Ge,ke,Ze,St);if(V(Ze)){if($n=V(Ze),typeof $n!="function")throw Error(s(150));return Ze=$n.call(Ze),ts(Ge,ke,Ze,St)}if(typeof Ze.then=="function")return Wr(Ge,ke,gn(Ze),St);if(Ze.$$typeof===F)return Wr(Ge,ke,Gu(Ge,Ze),St);bn(Ge,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,ke!==null&&ke.tag===6?(d(Ge,ke.sibling),St=T(ke,Ze),St.return=Ge,Ge=St):(d(Ge,ke),St=au(Ze,Ge.mode,St),St.return=Ge,Ge=St),te(Ge)):d(Ge,ke)}return function(Ge,ke,Ze,St){try{Sn=0;var $n=Wr(Ge,ke,Ze,St);return Tt=null,$n}catch(Un){if(Un===Oe||Un===Te)throw Un;var vr=Fi(29,Un,null,Ge.mode);return vr.lanes=St,vr.return=Ge,vr}finally{}}}var Lr=Fs(!0),us=Fs(!1),ct=!1;function en(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qr(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Gn(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xn(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(pr&2)!==0){var T=p.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),p.pending=l,l=_i(a),su(a,null,d),l}return VA(a,p,l,d),_i(a)}function hr(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,Is(a,d)}}function Ra(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var T=null,D=null;if(d=d.firstBaseUpdate,d!==null){do{var te={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};D===null?T=D=te:D=D.next=te,d=d.next}while(d!==null);D===null?T=D=l:D=D.next=l}else T=D=l;d={baseState:p.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:p.shared,callbacks:p.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var Ba=!1;function fr(){if(Ba){var a=_;if(a!==null)throw a}}function La(a,l,d,p){Ba=!1;var T=a.updateQueue;ct=!1;var D=T.firstBaseUpdate,te=T.lastBaseUpdate,ve=T.shared.pending;if(ve!==null){T.shared.pending=null;var Ue=ve,et=Ue.next;Ue.next=null,te===null?D=et:te.next=et,te=Ue;var wt=a.alternate;wt!==null&&(wt=wt.updateQueue,ve=wt.lastBaseUpdate,ve!==te&&(ve===null?wt.firstBaseUpdate=et:ve.next=et,wt.lastBaseUpdate=Ue))}if(D!==null){var It=T.baseState;te=0,wt=et=Ue=null,ve=D;do{var rt=ve.lane&-536870913,ut=rt!==ve.lane;if(ut?(ks&rt)===rt:(p&rt)===rt){rt!==0&&rt===y&&(Ba=!0),wt!==null&&(wt=wt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var Nn=a,ts=ve;rt=l;var Wr=d;switch(ts.tag){case 1:if(Nn=ts.payload,typeof Nn=="function"){It=Nn.call(Wr,It,rt);break e}It=Nn;break e;case 3:Nn.flags=Nn.flags&-65537|128;case 0:if(Nn=ts.payload,rt=typeof Nn=="function"?Nn.call(Wr,It,rt):Nn,rt==null)break e;It=m({},It,rt);break e;case 2:ct=!0}}rt=ve.callback,rt!==null&&(a.flags|=64,ut&&(a.flags|=8192),ut=T.callbacks,ut===null?T.callbacks=[rt]:ut.push(rt))}else ut={lane:rt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},wt===null?(et=wt=ut,Ue=It):wt=wt.next=ut,te|=rt;if(ve=ve.next,ve===null){if(ve=T.shared.pending,ve===null)break;ut=ve,ve=ut.next,ut.next=null,T.lastBaseUpdate=ut,T.shared.pending=null}}while(!0);wt===null&&(Ue=It),T.baseState=Ue,T.firstBaseUpdate=et,T.lastBaseUpdate=wt,D===null&&(T.shared.lanes=0),B|=te,a.lanes=te,a.memoizedState=It}}function Ui(a,l){if(typeof a!="function")throw Error(s(191,a));a.call(l)}function Qa(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Ui(d[a],l)}var As=ee(null),Os=ee(0);function Qr(a,l){a=v,J(Os,a),J(As,l),v=a|l.baseLanes}function rr(){J(Os,v),J(As,As.current)}function Oa(){v=Os.current,M(As),M(Os)}var Zr=ee(null),Ps=null;function Ca(a){var l=a.alternate;J(Ks,Ks.current&1),J(Zr,a),Ps===null&&(l===null||As.current!==null||l.memoizedState!==null)&&(Ps=a)}function mr(a){J(Ks,Ks.current),J(Zr,a),Ps===null&&(Ps=a)}function Pa(a){a.tag===22?(J(Ks,Ks.current),J(Zr,a),Ps===null&&(Ps=a)):ka()}function ka(){J(Ks,Ks.current),J(Zr,Zr.current)}function wr(a){M(Zr),Ps===a&&(Ps=null),M(Ks)}var Ks=ee(0);function Di(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||my(d)||py(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var fa=0,On=null,zn=null,Js=null,Ao=!1,yo=!1,to=!1,ea=0,wA=0,Dl=null,wc=0;function jr(){throw Error(s(321))}function Yu(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Qs(a[d],l[d]))return!1;return!0}function Ah(a,l,d,p,T,D){return fa=D,On=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,le.H=a===null||a.memoizedState===null?Zg:wf,to=!1,D=d(p,T),to=!1,yo&&(D=gl(l,d,p,T)),lu(a),D}function lu(a){le.H=xh;var l=zn!==null&&zn.next!==null;if(fa=0,Js=zn=On=null,Ao=!1,wA=0,Dl=null,l)throw Error(s(300));a===null||ta||(a=a.dependencies,a!==null&&zu(a)&&(ta=!0))}function gl(a,l,d,p){On=a;var T=0;do{if(yo&&(Dl=null),wA=0,yo=!1,25<=T)throw Error(s(301));if(T+=1,Js=zn=null,a.updateQueue!=null){var D=a.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}le.H=jf,D=l(d,p)}while(yo);return D}function ch(){var a=le.H,l=a.useState()[0];return l=typeof l.then=="function"?jA(l):l,a=a.useState()[0],(zn!==null?zn.memoizedState:null)!==a&&(On.flags|=1024),l}function Wu(){var a=ea!==0;return ea=0,a}function Xu(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function Au(a){if(Ao){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Ao=!1}fa=0,Js=zn=On=null,yo=!1,wA=ea=0,Dl=null}function Wa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Js===null?On.memoizedState=Js=a:Js=Js.next=a,Js}function Gr(){if(zn===null){var a=On.alternate;a=a!==null?a.memoizedState:null}else a=zn.next;var l=Js===null?On.memoizedState:Js.next;if(l!==null)Js=l,zn=a;else{if(a===null)throw On.alternate===null?Error(s(467)):Error(s(310));zn=a,a={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Js===null?On.memoizedState=Js=a:Js=Js.next=a}return Js}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jA(a){var l=wA;return wA+=1,Dl===null&&(Dl=[]),a=pt(Dl,a,l),l=On,(Js===null?l.memoizedState:Js.next)===null&&(l=l.alternate,le.H=l===null||l.memoizedState===null?Zg:wf),a}function jc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return jA(a);if(a.$$typeof===F)return bi(a)}throw Error(s(438,String(a)))}function ii(a){var l=null,d=On.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=On.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=cu(),On.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),p=0;p<a;p++)d[p]=K;return l.index++,d}function Go(a,l){return typeof l=="function"?l(a):l}function Ju(a){var l=Gr();return Bc(l,zn,a)}function Bc(a,l,d){var p=a.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var T=a.baseQueue,D=p.pending;if(D!==null){if(T!==null){var te=T.next;T.next=D.next,D.next=te}l.baseQueue=T=D,p.pending=null}if(D=a.baseState,T===null)a.memoizedState=D;else{l=T.next;var ve=te=null,Ue=null,et=l,wt=!1;do{var It=et.lane&-536870913;if(It!==et.lane?(ks&It)===It:(fa&It)===It){var rt=et.revertLane;if(rt===0)Ue!==null&&(Ue=Ue.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),It===y&&(wt=!0);else if((fa&rt)===rt){et=et.next,rt===y&&(wt=!0);continue}else It={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Ue===null?(ve=Ue=It,te=D):Ue=Ue.next=It,On.lanes|=rt,B|=rt;It=et.action,to&&d(D,It),D=et.hasEagerState?et.eagerState:d(D,It)}else rt={lane:It,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Ue===null?(ve=Ue=rt,te=D):Ue=Ue.next=rt,On.lanes|=It,B|=It;et=et.next}while(et!==null&&et!==l);if(Ue===null?te=D:Ue.next=ve,!Qs(D,a.memoizedState)&&(ta=!0,wt&&(d=_,d!==null)))throw d;a.memoizedState=D,a.baseState=te,a.baseQueue=Ue,p.lastRenderedState=D}return T===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function qu(a){var l=Gr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var p=d.dispatch,T=d.pending,D=l.memoizedState;if(T!==null){d.pending=null;var te=T=T.next;do D=a(D,te.action),te=te.next;while(te!==T);Qs(D,l.memoizedState)||(ta=!0),l.memoizedState=D,l.baseQueue===null&&(l.baseState=D),d.lastRenderedState=D}return[D,p]}function Zu(a,l,d){var p=On,T=Gr(),D=Ds;if(D){if(d===void 0)throw Error(s(407));d=d()}else d=l();var te=!Qs((zn||T).memoizedState,d);if(te&&(T.memoizedState=d,ta=!0),T=T.queue,xf(dh.bind(null,p,T,a),[a]),T.getSnapshot!==l||te||Js!==null&&Js.memoizedState.tag&1){if(p.flags|=2048,YA(9,{destroy:void 0},uh.bind(null,p,T,d,l),null),Or===null)throw Error(s(349));D||(fa&127)!==0||ql(p,l,d)}return d}function ql(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=On.updateQueue,l===null?(l=cu(),On.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function uh(a,l,d,p){l.value=d,l.getSnapshot=p,mf(l)&&hh(a)}function dh(a,l,d){return d(function(){mf(l)&&hh(a)})}function mf(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Qs(a,d)}catch{return!0}}function hh(a){var l=Il(a,2);l!==null&&Pr(l,a,2)}function Zl(a){var l=Wa();if(typeof a=="function"){var d=a;if(a=d(),to){At(!0);try{d()}finally{At(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:a},l}function pf(a,l,d,p){return a.baseState=d,Bc(a,zn,typeof p=="function"?p:Go)}function ed(a,l,d,p,T){if(uu(a))throw Error(s(485));if(a=l.action,a!==null){var D={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){D.listeners.push(te)}};le.T!==null?d(!0):D.isTransition=!1,p(D),d=l.pending,d===null?(D.next=l.pending=D,fh(l,D)):(D.next=d.next,l.pending=d.next=D)}}function fh(a,l){var d=l.action,p=l.payload,T=a.state;if(l.isTransition){var D=le.T,te={};le.T=te;try{var ve=d(T,p),Ue=le.S;Ue!==null&&Ue(te,ve),Xa(a,l,ve)}catch(et){$A(a,l,et)}finally{D!==null&&te.types!==null&&(D.types=te.types),le.T=D}}else try{D=d(T,p),Xa(a,l,D)}catch(et){$A(a,l,et)}}function Xa(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Cc(a,l,p)},function(p){return $A(a,l,p)}):Cc(a,l,d)}function Cc(a,l,d){l.status="fulfilled",l.value=d,td(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,fh(a,d)))}function $A(a,l,d){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,td(l),l=l.next;while(l!==p)}a.action=null}function td(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Sc(a,l){return l}function $o(a,l){if(Ds){var d=Or.formState;if(d!==null){e:{var p=On;if(Ds){if(Rr){t:{for(var T=Rr,D=ha;T.nodeType!==8;){if(!D){T=null;break t}if(T=NA(T.nextSibling),T===null){T=null;break t}}D=T.data,T=D==="F!"||D==="F"?T:null}if(T){Rr=NA(T.nextSibling),p=T.data==="F!";break e}}gA(p)}p=!1}p&&(l=d[0])}}return d=Wa(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:l},d.queue=p,d=Vm.bind(null,On,p),p.dispatch=d,p=Zl(!1),D=gh.bind(null,On,!1,p.queue),p=Wa(),T={state:l,dispatch:null,action:a,pending:null},p.queue=T,d=ed.bind(null,On,T,D,d),T.dispatch=d,p.memoizedState=a,[l,d,!1]}function eA(a){var l=Gr();return tA(l,zn,a)}function tA(a,l,d){if(l=Bc(a,l,Sc)[0],a=Ju(Go)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=jA(l)}catch(te){throw te===Oe?Te:te}else p=l;l=Gr();var T=l.queue,D=T.dispatch;return d!==l.memoizedState&&(On.flags|=2048,YA(9,{destroy:void 0},nd.bind(null,T,d),null)),[p,D,a]}function nd(a,l){a.action=l}function sd(a){var l=Gr(),d=zn;if(d!==null)return tA(l,d,a);Gr(),l=l.memoizedState,d=Gr();var p=d.queue.dispatch;return d.memoizedState=a,[l,p,!1]}function YA(a,l,d,p){return a={tag:a,create:d,deps:p,inst:l,next:null},l=On.updateQueue,l===null&&(l=cu(),On.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function gf(){return Gr().memoizedState}function Nc(a,l,d,p){var T=Wa();On.flags|=a,T.memoizedState=YA(1|l,{destroy:void 0},d,p===void 0?null:p)}function Ec(a,l,d,p){var T=Gr();p=p===void 0?null:p;var D=T.memoizedState.inst;zn!==null&&p!==null&&Yu(p,zn.memoizedState.deps)?T.memoizedState=YA(l,D,d,p):(On.flags|=a,T.memoizedState=YA(1|l,D,d,p))}function Rm(a,l){Nc(8390656,8,a,l)}function xf(a,l){Ec(2048,8,a,l)}function zg(a){On.flags|=4;var l=On.updateQueue;if(l===null)l=cu(),On.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function Lm(a){var l=Gr().memoizedState;return zg({ref:l,nextImpl:a}),function(){if((pr&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function vf(a,l){return Ec(4,2,a,l)}function Gg(a,l){return Ec(4,4,a,l)}function $g(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Yg(a,l,d){d=d!=null?d.concat([a]):null,Ec(4,4,$g.bind(null,l,a),d)}function Qm(){}function mh(a,l){var d=Gr();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Yu(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function ph(a,l){var d=Gr();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Yu(l,p[1]))return p[0];if(p=a(),to){At(!0);try{a()}finally{At(!1)}}return d.memoizedState=[p,l],p}function Om(a,l,d){return d===void 0||(fa&1073741824)!==0&&(ks&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=Ja(),On.lanes|=a,B|=a,d)}function Pm(a,l,d,p){return Qs(d,l)?d:As.current!==null?(a=Om(a,d,p),Qs(a,l)||(ta=!0),a):(fa&42)===0||(fa&1073741824)!==0&&(ks&261930)===0?(ta=!0,a.memoizedState=d):(a=Ja(),On.lanes|=a,B|=a,l)}function yf(a,l,d,p,T){var D=X.p;X.p=D!==0&&8>D?D:8;var te=le.T,ve={};le.T=ve,gh(a,!1,l,d);try{var Ue=T(),et=le.S;if(et!==null&&et(ve,Ue),Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var wt=ue(Ue,p);BA(a,l,wt,Qn(a))}else BA(a,l,p,Qn(a))}catch(It){BA(a,l,{then:function(){},status:"rejected",reason:It},Qn())}finally{X.p=D,te!==null&&ve.types!==null&&(te.types=ve.types),le.T=te}}function Wg(){}function bf(a,l,d,p){if(a.tag!==5)throw Error(s(476));var T=km(a).queue;yf(a,T,l,W,d===null?Wg:function(){return Xg(a),d(p)})}function km(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:W},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Xg(a){var l=km(a);l.next===null&&(l=a.alternate.memoizedState),BA(a,l.next.queue,{},Qn())}function rd(){return bi(pp)}function Mm(){return Gr().memoizedState}function Hm(){return Gr().memoizedState}function $v(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Qn();a=Gn(d);var p=Xn(l,a,d);p!==null&&(Pr(p,l,d),hr(p,l,d)),l={cache:yc()},a.payload=l;return}l=l.return}}function Yv(a,l,d){var p=Qn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},uu(a)?Jg(l,d):(d=Pu(a,l,d,p),d!==null&&(Pr(d,a,p),qg(d,l,p)))}function Vm(a,l,d){var p=Qn();BA(a,l,d,p)}function BA(a,l,d,p){var T={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(uu(a))Jg(l,T);else{var D=a.alternate;if(a.lanes===0&&(D===null||D.lanes===0)&&(D=l.lastRenderedReducer,D!==null))try{var te=l.lastRenderedState,ve=D(te,d);if(T.hasEagerState=!0,T.eagerState=ve,Qs(ve,te))return VA(a,l,T,0),Or===null&&nu(),!1}catch{}finally{}if(d=Pu(a,l,T,p),d!==null)return Pr(d,a,p),qg(d,l,p),!0}return!1}function gh(a,l,d,p){if(p={lane:2,revertLane:sy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},uu(a)){if(l)throw Error(s(479))}else l=Pu(a,d,p,2),l!==null&&Pr(l,a,2)}function uu(a){var l=a.alternate;return a===On||l!==null&&l===On}function Jg(a,l){yo=Ao=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function qg(a,l,d){if((d&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,Is(a,d)}}var xh={readContext:bi,use:jc,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};xh.useEffectEvent=jr;var Zg={readContext:bi,use:jc,useCallback:function(a,l){return Wa().memoizedState=[a,l===void 0?null:l],a},useContext:bi,useEffect:Rm,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Nc(4194308,4,$g.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Nc(4194308,4,a,l)},useInsertionEffect:function(a,l){Nc(4,2,a,l)},useMemo:function(a,l){var d=Wa();l=l===void 0?null:l;var p=a();if(to){At(!0);try{a()}finally{At(!1)}}return d.memoizedState=[p,l],p},useReducer:function(a,l,d){var p=Wa();if(d!==void 0){var T=d(l);if(to){At(!0);try{d(l)}finally{At(!1)}}}else T=l;return p.memoizedState=p.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},p.queue=a,a=a.dispatch=Yv.bind(null,On,a),[p.memoizedState,a]},useRef:function(a){var l=Wa();return a={current:a},l.memoizedState=a},useState:function(a){a=Zl(a);var l=a.queue,d=Vm.bind(null,On,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Qm,useDeferredValue:function(a,l){var d=Wa();return Om(d,a,l)},useTransition:function(){var a=Zl(!1);return a=yf.bind(null,On,a.queue,!0,!1),Wa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var p=On,T=Wa();if(Ds){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Or===null)throw Error(s(349));(ks&127)!==0||ql(p,l,d)}T.memoizedState=d;var D={value:d,getSnapshot:l};return T.queue=D,Rm(dh.bind(null,p,D,a),[a]),p.flags|=2048,YA(9,{destroy:void 0},uh.bind(null,p,D,d,l),null),d},useId:function(){var a=Wa(),l=Or.identifierPrefix;if(Ds){var d=Zi,p=Ko;d=(p&~(1<<32-Lt(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=ea++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=wc++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:rd,useFormState:$o,useActionState:$o,useOptimistic:function(a){var l=Wa();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=gh.bind(null,On,!0,d),d.dispatch=l,[a,l]},useMemoCache:ii,useCacheRefresh:function(){return Wa().memoizedState=$v.bind(null,On)},useEffectEvent:function(a){var l=Wa(),d={impl:a};return l.memoizedState=d,function(){if((pr&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},wf={readContext:bi,use:jc,useCallback:mh,useContext:bi,useEffect:xf,useImperativeHandle:Yg,useInsertionEffect:vf,useLayoutEffect:Gg,useMemo:ph,useReducer:Ju,useRef:gf,useState:function(){return Ju(Go)},useDebugValue:Qm,useDeferredValue:function(a,l){var d=Gr();return Pm(d,zn.memoizedState,a,l)},useTransition:function(){var a=Ju(Go)[0],l=Gr().memoizedState;return[typeof a=="boolean"?a:jA(a),l]},useSyncExternalStore:Zu,useId:Mm,useHostTransitionStatus:rd,useFormState:eA,useActionState:eA,useOptimistic:function(a,l){var d=Gr();return pf(d,zn,a,l)},useMemoCache:ii,useCacheRefresh:Hm};wf.useEffectEvent=Lm;var jf={readContext:bi,use:jc,useCallback:mh,useContext:bi,useEffect:xf,useImperativeHandle:Yg,useInsertionEffect:vf,useLayoutEffect:Gg,useMemo:ph,useReducer:qu,useRef:gf,useState:function(){return qu(Go)},useDebugValue:Qm,useDeferredValue:function(a,l){var d=Gr();return zn===null?Om(d,a,l):Pm(d,zn.memoizedState,a,l)},useTransition:function(){var a=qu(Go)[0],l=Gr().memoizedState;return[typeof a=="boolean"?a:jA(a),l]},useSyncExternalStore:Zu,useId:Mm,useHostTransitionStatus:rd,useFormState:sd,useActionState:sd,useOptimistic:function(a,l){var d=Gr();return zn!==null?pf(d,zn,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:ii,useCacheRefresh:Hm};jf.useEffectEvent=Lm;function Bf(a,l,d,p){l=a.memoizedState,d=d(p,l),d=d==null?l:m({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Cf={enqueueSetState:function(a,l,d){a=a._reactInternals;var p=Qn(),T=Gn(p);T.payload=l,d!=null&&(T.callback=d),l=Xn(a,T,p),l!==null&&(Pr(l,a,p),hr(l,a,p))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=Qn(),T=Gn(p);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=Xn(a,T,p),l!==null&&(Pr(l,a,p),hr(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Qn(),p=Gn(d);p.tag=2,l!=null&&(p.callback=l),l=Xn(a,p,d),l!==null&&(Pr(l,a,d),hr(l,a,d))}};function Sf(a,l,d,p,T,D,te){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,D,te):l.prototype&&l.prototype.isPureReactComponent?!Ti(d,p)||!Ti(T,D):!0}function Km(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&Cf.enqueueReplaceState(l,l.state,null)}function Tc(a,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(a=a.defaultProps){d===l&&(d=m({},d));for(var T in a)d[T]===void 0&&(d[T]=a[T])}return d}function e0(a){pc(a)}function vh(a){console.error(a)}function yh(a){pc(a)}function bh(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function zm(a,l,d){try{var p=a.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Gm(a,l,d){return d=Gn(d),d.tag=3,d.payload={element:null},d.callback=function(){bh(a,l)},d}function $m(a){return a=Gn(a),a.tag=3,a}function Ym(a,l,d,p){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var D=p.value;a.payload=function(){return T(D)},a.callback=function(){zm(l,d,p)}}var te=d.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(a.callback=function(){zm(l,d,p),typeof T!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var ve=p.stack;this.componentDidCatch(p.value,{componentStack:ve!==null?ve:""})})}function Wv(a,l,d,p,T){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&yA(l,d,T,!0),d=Zr.current,d!==null){switch(d.tag){case 31:case 13:return Ps===null?kl():d.alternate===null&&C===0&&(C=3),d.flags&=-257,d.flags|=65536,d.lanes=T,p===Me?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),ey(a,p,T)),!1;case 22:return d.flags|=65536,p===Me?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),ey(a,p,T)),!1}throw Error(s(435,d.tag))}return ey(a,p,T),kl(),!1}if(Ds)return l=Zr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,p!==lo&&(a=Error(s(422),{cause:p}),Jl(Mo(a,d)))):(p!==lo&&(l=Error(s(423),{cause:p}),Jl(Mo(l,d))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,p=Mo(p,d),T=Gm(a.stateNode,p,T),Ra(a,T),C!==4&&(C=2)),!1;var D=Error(s(520),{cause:p});if(D=Mo(D,d),Ce===null?Ce=[D]:Ce.push(D),C!==4&&(C=2),l===null)return!0;p=Mo(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=T&-T,d.lanes|=a,a=Gm(d.stateNode,p,a),Ra(d,a),!1;case 1:if(l=d.type,D=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(tn===null||!tn.has(D))))return d.flags|=65536,T&=-T,d.lanes|=T,T=$m(T),Ym(T,a,d,p),Ra(d,T),!1}d=d.return}while(d!==null);return!1}var Wm=Error(s(461)),ta=!1;function Ri(a,l,d,p){l.child=a===null?us(l,null,d,p):Lr(l,a.child,d,p)}function Ma(a,l,d,p,T){d=d.render;var D=l.ref;if("ref"in p){var te={};for(var ve in p)ve!=="ref"&&(te[ve]=p[ve])}else te=p;return bA(l),p=Ah(a,l,d,te,D,T),ve=Wu(),a!==null&&!ta?(Xu(a,l,T),XA(a,l,T)):(Ds&&ve&&oh(l),l.flags|=1,Ri(a,l,p,T),l.child)}function Ic(a,l,d,p,T){if(a===null){var D=d.type;return typeof D=="function"&&!Wl(D)&&D.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=D,du(a,l,D,p,T)):(a=Xl(d.type,null,p,l,l.mode,T),a.ref=l.ref,a.return=l,l.child=a)}if(D=a.child,!sp(a,T)){var te=D.memoizedProps;if(d=d.compare,d=d!==null?d:Ti,d(te,p)&&a.ref===l.ref)return XA(a,l,T)}return l.flags|=1,a=ko(D,p),a.ref=l.ref,a.return=l,l.child=a}function du(a,l,d,p,T){if(a!==null){var D=a.memoizedProps;if(Ti(D,p)&&a.ref===l.ref)if(ta=!1,l.pendingProps=p=D,sp(a,T))(a.flags&131072)!==0&&(ta=!0);else return l.lanes=a.lanes,XA(a,l,T)}return jh(a,l,d,p,T)}function WA(a,l,d,p){var T=p.children,D=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(D=D!==null?D.baseLanes|d:d,a!==null){for(p=l.child=a.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;p=T&~D}else p=0,l.child=null;return ad(a,l,D,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&je(l,D!==null?D.cachePool:null),D!==null?Qr(l,D):rr(),Pa(l);else return p=l.lanes=536870912,ad(a,l,D!==null?D.baseLanes|d:d,d,p)}else D!==null?(je(l,D.cachePool),Qr(l,D),ka(),l.memoizedState=null):(a!==null&&je(l,null),rr(),ka());return Ri(a,l,T,d),l.child}function Rl(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function ad(a,l,d,p,T){var D=be();return D=D===null?null:{parent:ja._currentValue,pool:D},l.memoizedState={baseLanes:d,cachePool:D},a!==null&&je(l,null),rr(),Pa(l),a!==null&&yA(a,l,p,!0),l.childLanes=T,null}function Ll(a,l){return l=Nf({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function Xm(a,l,d){return Lr(l,a.child,null,d),a=Ll(l,l.pendingProps),a.flags|=2,wr(l),l.memoizedState=null,a}function t0(a,l,d){var p=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Ds){if(p.mode==="hidden")return a=Ll(l,p),l.lanes=536870912,Rl(null,a);if(mr(l),(a=Rr)?(a=yj(a,ha),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:pA!==null?{id:Ko,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},d=Mu(a),d.return=l,l.child=d,vi=l,Rr=null)):a=null,a===null)throw gA(l);return l.lanes=536870912,null}return Ll(l,p)}var D=a.memoizedState;if(D!==null){var te=D.dehydrated;if(mr(l),T)if(l.flags&256)l.flags&=-257,l=Xm(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(s(558));else if(ta||yA(a,l,d,!1),T=(d&a.childLanes)!==0,ta||T){if(p=Or,p!==null&&(te=_n(p,d),te!==0&&te!==D.retryLane))throw D.retryLane=te,Il(a,te),Pr(p,a,te),Wm;kl(),l=Xm(a,l,d)}else a=D.treeContext,Rr=NA(te.nextSibling),vi=l,Ds=!0,eo=null,ha=!1,a!==null&&hf(l,a),l=Ll(l,p),l.flags|=4096;return l}return a=ko(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function wh(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function jh(a,l,d,p,T){return bA(l),d=Ah(a,l,d,p,void 0,T),p=Wu(),a!==null&&!ta?(Xu(a,l,T),XA(a,l,T)):(Ds&&p&&oh(l),l.flags|=1,Ri(a,l,d,T),l.child)}function id(a,l,d,p,T,D){return bA(l),l.updateQueue=null,d=gl(l,p,d,T),lu(a),p=Wu(),a!==null&&!ta?(Xu(a,l,D),XA(a,l,D)):(Ds&&p&&oh(l),l.flags|=1,Ri(a,l,d,D),l.child)}function Jm(a,l,d,p,T){if(bA(l),l.stateNode===null){var D=xi,te=d.contextType;typeof te=="object"&&te!==null&&(D=bi(te)),D=new d(p,D),l.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Cf,l.stateNode=D,D._reactInternals=l,D=l.stateNode,D.props=p,D.state=l.memoizedState,D.refs={},en(l),te=d.contextType,D.context=typeof te=="object"&&te!==null?bi(te):xi,D.state=l.memoizedState,te=d.getDerivedStateFromProps,typeof te=="function"&&(Bf(l,d,te,p),D.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(te=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),te!==D.state&&Cf.enqueueReplaceState(D,D.state,null),La(l,p,D,T),fr(),D.state=l.memoizedState),typeof D.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){D=l.stateNode;var ve=l.memoizedProps,Ue=Tc(d,ve);D.props=Ue;var et=D.context,wt=d.contextType;te=xi,typeof wt=="object"&&wt!==null&&(te=bi(wt));var It=d.getDerivedStateFromProps;wt=typeof It=="function"||typeof D.getSnapshotBeforeUpdate=="function",ve=l.pendingProps!==ve,wt||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ve||et!==te)&&Km(l,D,p,te),ct=!1;var rt=l.memoizedState;D.state=rt,La(l,p,D,T),fr(),et=l.memoizedState,ve||rt!==et||ct?(typeof It=="function"&&(Bf(l,d,It,p),et=l.memoizedState),(Ue=ct||Sf(l,d,Ue,p,rt,et,te))?(wt||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=et),D.props=p,D.state=et,D.context=te,p=Ue):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{D=l.stateNode,qr(a,l),te=l.memoizedProps,wt=Tc(d,te),D.props=wt,It=l.pendingProps,rt=D.context,et=d.contextType,Ue=xi,typeof et=="object"&&et!==null&&(Ue=bi(et)),ve=d.getDerivedStateFromProps,(et=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(te!==It||rt!==Ue)&&Km(l,D,p,Ue),ct=!1,rt=l.memoizedState,D.state=rt,La(l,p,D,T),fr();var ut=l.memoizedState;te!==It||rt!==ut||ct||a!==null&&a.dependencies!==null&&zu(a.dependencies)?(typeof ve=="function"&&(Bf(l,d,ve,p),ut=l.memoizedState),(wt=ct||Sf(l,d,wt,p,rt,ut,Ue)||a!==null&&a.dependencies!==null&&zu(a.dependencies))?(et||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(p,ut,Ue),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(p,ut,Ue)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ut),D.props=p,D.state=ut,D.context=Ue,p=wt):(typeof D.componentDidUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=1024),p=!1)}return D=p,wh(a,l),p=(l.flags&128)!==0,D||p?(D=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:D.render(),l.flags|=1,a!==null&&p?(l.child=Lr(l,a.child,null,T),l.child=Lr(l,null,d,T)):Ri(a,l,d,T),l.memoizedState=D.state,a=l.child):a=XA(a,l,T),a}function qm(a,l,d,p){return GA(),l.flags|=256,Ri(a,l,d,p),l.child}var hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(a){return{baseLanes:a,cachePool:_e()}}function ep(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=de),a}function n0(a,l,d){var p=l.pendingProps,T=!1,D=(l.flags&128)!==0,te;if((te=D)||(te=a!==null&&a.memoizedState===null?!1:(Ks.current&2)!==0),te&&(T=!0,l.flags&=-129),te=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ds){if(T?Ca(l):ka(),(a=Rr)?(a=yj(a,ha),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:pA!==null?{id:Ko,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},d=Mu(a),d.return=l,l.child=d,vi=l,Rr=null)):a=null,a===null)throw gA(l);return py(a)?l.lanes=32:l.lanes=536870912,null}var ve=p.children;return p=p.fallback,T?(ka(),T=l.mode,ve=Nf({mode:"hidden",children:ve},T),p=fA(p,T,d,null),ve.return=l,p.return=l,ve.sibling=p,l.child=ve,p=l.child,p.memoizedState=Zm(d),p.childLanes=ep(a,te,d),l.memoizedState=hu,Rl(null,p)):(Ca(l),tp(l,ve))}var Ue=a.memoizedState;if(Ue!==null&&(ve=Ue.dehydrated,ve!==null)){if(D)l.flags&256?(Ca(l),l.flags&=-257,l=Bh(a,l,d)):l.memoizedState!==null?(ka(),l.child=a.child,l.flags|=128,l=null):(ka(),ve=p.fallback,T=l.mode,p=Nf({mode:"visible",children:p.children},T),ve=fA(ve,T,d,null),ve.flags|=2,p.return=l,ve.return=l,p.sibling=ve,l.child=p,Lr(l,a.child,null,d),p=l.child,p.memoizedState=Zm(d),p.childLanes=ep(a,te,d),l.memoizedState=hu,l=Rl(null,p));else if(Ca(l),py(ve)){if(te=ve.nextSibling&&ve.nextSibling.dataset,te)var et=te.dgst;te=et,p=Error(s(419)),p.stack="",p.digest=te,Jl({value:p,source:null,stack:null}),l=Bh(a,l,d)}else if(ta||yA(a,l,d,!1),te=(d&a.childLanes)!==0,ta||te){if(te=Or,te!==null&&(p=_n(te,d),p!==0&&p!==Ue.retryLane))throw Ue.retryLane=p,Il(a,p),Pr(te,a,p),Wm;my(ve)||kl(),l=Bh(a,l,d)}else my(ve)?(l.flags|=192,l.child=a.child,l=null):(a=Ue.treeContext,Rr=NA(ve.nextSibling),vi=l,Ds=!0,eo=null,ha=!1,a!==null&&hf(l,a),l=tp(l,p.children),l.flags|=4096);return l}return T?(ka(),ve=p.fallback,T=l.mode,Ue=a.child,et=Ue.sibling,p=ko(Ue,{mode:"hidden",children:p.children}),p.subtreeFlags=Ue.subtreeFlags&65011712,et!==null?ve=ko(et,ve):(ve=fA(ve,T,d,null),ve.flags|=2),ve.return=l,p.return=l,p.sibling=ve,l.child=p,Rl(null,p),p=l.child,ve=a.child.memoizedState,ve===null?ve=Zm(d):(T=ve.cachePool,T!==null?(Ue=ja._currentValue,T=T.parent!==Ue?{parent:Ue,pool:Ue}:T):T=_e(),ve={baseLanes:ve.baseLanes|d,cachePool:T}),p.memoizedState=ve,p.childLanes=ep(a,te,d),l.memoizedState=hu,Rl(a.child,p)):(Ca(l),d=a.child,a=d.sibling,d=ko(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,a!==null&&(te=l.deletions,te===null?(l.deletions=[a],l.flags|=16):te.push(a)),l.child=d,l.memoizedState=null,d)}function tp(a,l){return l=Nf({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Nf(a,l){return a=Fi(22,a,null,l),a.lanes=0,a}function Bh(a,l,d){return Lr(l,a.child,null,d),a=tp(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function s0(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),vc(a.return,l,d)}function np(a,l,d,p,T,D){var te=a.memoizedState;te===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:T,treeForkCount:D}:(te.isBackwards=l,te.rendering=null,te.renderingStartTime=0,te.last=p,te.tail=d,te.tailMode=T,te.treeForkCount=D)}function r0(a,l,d){var p=l.pendingProps,T=p.revealOrder,D=p.tail;p=p.children;var te=Ks.current,ve=(te&2)!==0;if(ve?(te=te&1|2,l.flags|=128):te&=1,J(Ks,te),Ri(a,l,p,d),p=Ds?mA:0,!ve&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&s0(a,d,l);else if(a.tag===19)s0(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(T){case"forwards":for(d=l.child,T=null;d!==null;)a=d.alternate,a!==null&&Di(a)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),np(l,!1,T,d,D,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(a=T.alternate,a!==null&&Di(a)===null){l.child=T;break}a=T.sibling,T.sibling=d,d=T,T=a}np(l,!0,d,null,D,p);break;case"together":np(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function XA(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),B|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(yA(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(a=l.child,d=ko(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=ko(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function sp(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&zu(a)))}function rp(a,l,d){switch(l.tag){case 3:Ne(l,l.stateNode.containerInfo),vA(l,ja,a.memoizedState.cache),GA();break;case 27:case 5:Se(l);break;case 4:Ne(l,l.stateNode.containerInfo);break;case 10:vA(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,mr(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ca(l),l.flags|=128,null):(d&l.child.childLanes)!==0?n0(a,l,d):(Ca(l),a=XA(a,l,d),a!==null?a.sibling:null);Ca(l);break;case 19:var T=(a.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(yA(a,l,d,!1),p=(d&l.childLanes)!==0),T){if(p)return r0(a,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),J(Ks,Ks.current),p)break;return null;case 22:return l.lanes=0,WA(a,l,d,l.pendingProps);case 24:vA(l,ja,a.memoizedState.cache)}return XA(a,l,d)}function Ef(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)ta=!0;else{if(!sp(a,d)&&(l.flags&128)===0)return ta=!1,rp(a,l,d);ta=(a.flags&131072)!==0}else ta=!1,Ds&&(l.flags&1048576)!==0&&df(l,mA,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=We(l.elementType),l.type=a,typeof a=="function")Wl(a)?(p=Tc(a,p),l.tag=1,l=Jm(null,l,a,p,d)):(l.tag=0,l=jh(null,l,a,p,d));else{if(a!=null){var T=a.$$typeof;if(T===Q){l.tag=11,l=Ma(null,l,a,p,d);break e}else if(T===L){l.tag=14,l=Ic(null,l,a,p,d);break e}}throw l=oe(a)||a,Error(s(306,l,""))}}return l;case 0:return jh(a,l,l.type,l.pendingProps,d);case 1:return p=l.type,T=Tc(p,l.pendingProps),Jm(a,l,p,T,d);case 3:e:{if(Ne(l,l.stateNode.containerInfo),a===null)throw Error(s(387));p=l.pendingProps;var D=l.memoizedState;T=D.element,qr(a,l),La(l,p,null,d);var te=l.memoizedState;if(p=te.cache,vA(l,ja,p),p!==D.cache&&Ul(l,[ja],d,!0),fr(),p=te.element,D.isDehydrated)if(D={element:p,isDehydrated:!1,cache:te.cache},l.updateQueue.baseState=D,l.memoizedState=D,l.flags&256){l=qm(a,l,p,d);break e}else if(p!==T){T=Mo(Error(s(424)),l),Jl(T),l=qm(a,l,p,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Rr=NA(a.firstChild),vi=l,Ds=!0,eo=null,ha=!0,d=us(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(GA(),p===T){l=XA(a,l,d);break e}Ri(a,l,p,d)}l=l.child}return l;case 26:return wh(a,l),a===null?(d=Sj(l.type,null,l.pendingProps,null))?l.memoizedState=d:Ds||(d=l.type,a=l.pendingProps,p=C0(ce.current).createElement(d),p[js]=l,p[Hs]=a,Bo(p,d,a),Gs(p),l.stateNode=p):l.memoizedState=Sj(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Se(l),a===null&&Ds&&(p=l.stateNode=jj(l.type,l.pendingProps,ce.current),vi=l,ha=!0,T=Rr,ud(l.type)?(gy=T,Rr=NA(p.firstChild)):Rr=T),Ri(a,l,l.pendingProps.children,d),wh(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ds&&((T=p=Rr)&&(p=O_(p,l.type,l.pendingProps,ha),p!==null?(l.stateNode=p,vi=l,Rr=NA(p.firstChild),ha=!1,T=!0):T=!1),T||gA(l)),Se(l),T=l.type,D=l.pendingProps,te=a!==null?a.memoizedProps:null,p=D.children,dy(T,D)?p=null:te!==null&&dy(T,te)&&(l.flags|=32),l.memoizedState!==null&&(T=Ah(a,l,ch,null,null,d),pp._currentValue=T),wh(a,l),Ri(a,l,p,d),l.child;case 6:return a===null&&Ds&&((a=d=Rr)&&(d=P_(d,l.pendingProps,ha),d!==null?(l.stateNode=d,vi=l,Rr=null,a=!0):a=!1),a||gA(l)),null;case 13:return n0(a,l,d);case 4:return Ne(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Lr(l,null,p,d):Ri(a,l,p,d),l.child;case 11:return Ma(a,l,l.type,l.pendingProps,d);case 7:return Ri(a,l,l.pendingProps,d),l.child;case 8:return Ri(a,l,l.pendingProps.children,d),l.child;case 12:return Ri(a,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,vA(l,l.type,p.value),Ri(a,l,p.children,d),l.child;case 9:return T=l.type._context,p=l.pendingProps.children,bA(l),T=bi(T),p=p(T),l.flags|=1,Ri(a,l,p,d),l.child;case 14:return Ic(a,l,l.type,l.pendingProps,d);case 15:return du(a,l,l.type,l.pendingProps,d);case 19:return r0(a,l,d);case 31:return t0(a,l,d);case 22:return WA(a,l,d,l.pendingProps);case 24:return bA(l),p=bi(ja),a===null?(T=be(),T===null&&(T=Or,D=yc(),T.pooledCache=D,D.refCount++,D!==null&&(T.pooledCacheLanes|=d),T=D),l.memoizedState={parent:p,cache:T},en(l),vA(l,ja,T)):((a.lanes&d)!==0&&(qr(a,l),La(l,null,null,d),fr()),T=a.memoizedState,D=l.memoizedState,T.parent!==p?(T={parent:p,cache:p},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),vA(l,ja,p)):(p=D.cache,vA(l,ja,p),p!==T.cache&&Ul(l,[ja],d,!0))),Ri(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function CA(a){a.flags|=4}function ap(a,l,d,p,T){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(T&335544128)===T)if(a.stateNode.complete)a.flags|=8192;else if(qA())a.flags|=8192;else throw mt=Me,qe}else a.flags&=-16777217}function a0(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_j(l))if(qA())a.flags|=8192;else throw mt=Me,qe}function Ch(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Wn():536870912,a.lanes|=l,Be|=l)}function Sh(a,l){if(!Ds)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function na(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var T=a.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags&65011712,p|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags,p|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function Xv(a,l,d){var p=l.pendingProps;switch(Vu(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return na(l),null;case 1:return na(l),null;case 3:return d=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),zo(ja),xe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(yi(l)?CA(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,iu())),na(l),null;case 26:var T=l.type,D=l.memoizedState;return a===null?(CA(l),D!==null?(na(l),a0(l,D)):(na(l),ap(l,T,null,p,d))):D?D!==a.memoizedState?(CA(l),na(l),a0(l,D)):(na(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&CA(l),na(l),ap(l,T,a,p,d)),null;case 27:if(Fe(l),d=ce.current,T=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&CA(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return na(l),null}a=ae.current,yi(l)?lh(l):(a=jj(T,p,d),l.stateNode=a,CA(l))}return na(l),null;case 5:if(Fe(l),T=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&CA(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return na(l),null}if(D=ae.current,yi(l))lh(l);else{var te=C0(ce.current);switch(D){case 1:D=te.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:D=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":D=te.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":D=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":D=te.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof p.is=="string"?te.createElement("select",{is:p.is}):te.createElement("select"),p.multiple?D.multiple=!0:p.size&&(D.size=p.size);break;default:D=typeof p.is=="string"?te.createElement(T,{is:p.is}):te.createElement(T)}}D[js]=l,D[Hs]=p;e:for(te=l.child;te!==null;){if(te.tag===5||te.tag===6)D.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===l)break e;for(;te.sibling===null;){if(te.return===null||te.return===l)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}l.stateNode=D;e:switch(Bo(D,T,p),T){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&CA(l)}}return na(l),ap(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&CA(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(a=ce.current,yi(l)){if(a=l.stateNode,d=l.memoizedProps,p=null,T=vi,T!==null)switch(T.tag){case 27:case 5:p=T.memoizedProps}a[js]=l,a=!!(a.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||dj(a.nodeValue,d)),a||gA(l,!0)}else a=C0(a).createTextNode(p),a[js]=l,l.stateNode=a}return na(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(p=yi(l),d!==null){if(a===null){if(!p)throw Error(s(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(557));a[js]=l}else GA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;na(l),a=!1}else d=iu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(wr(l),l):(wr(l),null);if((l.flags&128)!==0)throw Error(s(558))}return na(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=yi(l),p!==null&&p.dehydrated!==null){if(a===null){if(!T)throw Error(s(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));T[js]=l}else GA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;na(l),T=!1}else T=iu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(wr(l),l):(wr(l),null)}return wr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,a=a!==null&&a.memoizedState!==null,d&&(p=l.child,T=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(T=p.alternate.memoizedState.cachePool.pool),D=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(D=p.memoizedState.cachePool.pool),D!==T&&(p.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),Ch(l,l.updateQueue),na(l),null);case 4:return xe(),a===null&&oy(l.stateNode.containerInfo),na(l),null;case 10:return zo(l.type),na(l),null;case 19:if(M(Ks),p=l.memoizedState,p===null)return na(l),null;if(T=(l.flags&128)!==0,D=p.rendering,D===null)if(T)Sh(p,!1);else{if(C!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(D=Di(a),D!==null){for(l.flags|=128,Sh(p,!1),a=D.updateQueue,l.updateQueue=a,Ch(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)ru(d,a),d=d.sibling;return J(Ks,Ks.current&1|2),Ds&&vo(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&sn()>fn&&(l.flags|=128,T=!0,Sh(p,!1),l.lanes=4194304)}else{if(!T)if(a=Di(D),a!==null){if(l.flags|=128,T=!0,a=a.updateQueue,l.updateQueue=a,Ch(l,a),Sh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!D.alternate&&!Ds)return na(l),null}else 2*sn()-p.renderingStartTime>fn&&d!==536870912&&(l.flags|=128,T=!0,Sh(p,!1),l.lanes=4194304);p.isBackwards?(D.sibling=l.child,l.child=D):(a=p.last,a!==null?a.sibling=D:l.child=D,p.last=D)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=sn(),a.sibling=null,d=Ks.current,J(Ks,T?d&1|2:d&1),Ds&&vo(l,p.treeForkCount),a):(na(l),null);case 22:case 23:return wr(l),Oa(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(na(l),l.subtreeFlags&6&&(l.flags|=8192)):na(l),d=l.updateQueue,d!==null&&Ch(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),a!==null&&M(pe),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),zo(ja),na(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function Jv(a,l){switch(Vu(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return zo(ja),xe(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Fe(l),null;case 31:if(l.memoizedState!==null){if(wr(l),l.alternate===null)throw Error(s(340));GA()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(wr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));GA()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return M(Ks),null;case 4:return xe(),null;case 10:return zo(l.type),null;case 22:case 23:return wr(l),Oa(),a!==null&&M(pe),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return zo(ja),null;case 25:return null;default:return null}}function i0(a,l){switch(Vu(l),l.tag){case 3:zo(ja),xe();break;case 26:case 27:case 5:Fe(l);break;case 4:xe();break;case 31:l.memoizedState!==null&&wr(l);break;case 13:wr(l);break;case 19:M(Ks);break;case 10:zo(l.type);break;case 22:case 23:wr(l),Oa(),a!==null&&M(pe);break;case 24:zo(ja)}}function fu(a,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var T=p.next;d=T;do{if((d.tag&a)===a){p=void 0;var D=d.create,te=d.inst;p=D(),te.destroy=p}d=d.next}while(d!==T)}}catch(ve){kr(l,l.return,ve)}}function _c(a,l,d){try{var p=l.updateQueue,T=p!==null?p.lastEffect:null;if(T!==null){var D=T.next;p=D;do{if((p.tag&a)===a){var te=p.inst,ve=te.destroy;if(ve!==void 0){te.destroy=void 0,T=l;var Ue=d,et=ve;try{et()}catch(wt){kr(T,Ue,wt)}}}p=p.next}while(p!==D)}}catch(wt){kr(l,l.return,wt)}}function Tf(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Qa(l,d)}catch(p){kr(a,a.return,p)}}}function o0(a,l,d){d.props=Tc(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(p){kr(a,l,p)}}function on(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof d=="function"?a.refCleanup=d(p):d.current=p}}catch(T){kr(a,l,T)}}function bo(a,l){var d=a.ref,p=a.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(T){kr(a,l,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){kr(a,l,T)}else d.current=null}function Nh(a){var l=a.type,d=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(T){kr(a,a.return,T)}}function Yo(a,l,d){try{var p=a.stateNode;F_(p,a.type,d,l),p[Hs]=l}catch(T){kr(a,a.return,T)}}function l0(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ud(a.type)||a.tag===4}function lr(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||l0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ud(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $r(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=$i));else if(p!==4&&(p===27&&ud(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for($r(a,l,d),a=a.sibling;a!==null;)$r(a,l,d),a=a.sibling}function mu(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(p!==4&&(p===27&&ud(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(mu(a,l,d),a=a.sibling;a!==null;)mu(a,l,d),a=a.sibling}function A0(a){var l=a.stateNode,d=a.memoizedProps;try{for(var p=a.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);Bo(l,p,d),l[js]=a,l[Hs]=d}catch(D){kr(a,a.return,D)}}var Ql=!1,oi=!1,od=!1,c0=typeof WeakSet=="function"?WeakSet:Set,Li=null;function u0(a,l){if(a=a.containerInfo,cy=F0,a=Nl(a),El(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var T=p.anchorOffset,D=p.focusNode;p=p.focusOffset;try{d.nodeType,D.nodeType}catch{d=null;break e}var te=0,ve=-1,Ue=-1,et=0,wt=0,It=a,rt=null;t:for(;;){for(var ut;It!==d||T!==0&&It.nodeType!==3||(ve=te+T),It!==D||p!==0&&It.nodeType!==3||(Ue=te+p),It.nodeType===3&&(te+=It.nodeValue.length),(ut=It.firstChild)!==null;)rt=It,It=ut;for(;;){if(It===a)break t;if(rt===d&&++et===T&&(ve=te),rt===D&&++wt===p&&(Ue=te),(ut=It.nextSibling)!==null)break;It=rt,rt=It.parentNode}It=ut}d=ve===-1||Ue===-1?null:{start:ve,end:Ue}}else d=null}d=d||{start:0,end:0}}else d=null;for(uy={focusedElem:a,selectionRange:d},F0=!1,Li=l;Li!==null;)if(l=Li,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Li=a;else for(;Li!==null;){switch(l=Li,D=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)T=a[d],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&D!==null){a=void 0,d=l,T=D.memoizedProps,D=D.memoizedState,p=d.stateNode;try{var Nn=Tc(d.type,T);a=p.getSnapshotBeforeUpdate(Nn,D),p.__reactInternalSnapshotBeforeUpdate=a}catch(ts){kr(d,d.return,ts)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)fy(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":fy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=l.sibling,a!==null){a.return=l.return,Li=a;break}Li=l.return}}function d0(a,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ol(a,d),p&4&&fu(5,d);break;case 1:if(Ol(a,d),p&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(te){kr(d,d.return,te)}else{var T=Tc(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(T,l,a.__reactInternalSnapshotBeforeUpdate)}catch(te){kr(d,d.return,te)}}p&64&&Tf(d),p&512&&on(d,d.return);break;case 3:if(Ol(a,d),p&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Qa(a,l)}catch(te){kr(d,d.return,te)}}break;case 27:l===null&&p&4&&A0(d);case 26:case 5:Ol(a,d),l===null&&p&4&&Nh(d),p&512&&on(d,d.return);break;case 12:Ol(a,d);break;case 31:Ol(a,d),p&4&&op(a,d);break;case 13:Ol(a,d),p&4&&h0(a,d),p&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=y_.bind(null,d),k_(a,d))));break;case 22:if(p=d.memoizedState!==null||Ql,!p){l=l!==null&&l.memoizedState!==null||oi,T=Ql;var D=oi;Ql=p,(oi=l)&&!D?JA(a,d,(d.subtreeFlags&8772)!==0):Ol(a,d),Ql=T,oi=D}break;case 30:break;default:Ol(a,d)}}function ip(a){var l=a.alternate;l!==null&&(a.alternate=null,ip(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ga(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ma=null,wo=!1;function SA(a,l,d){for(d=d.child;d!==null;)If(a,l,d),d=d.sibling}function If(a,l,d){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Gt,d)}catch{}switch(d.tag){case 26:oi||bo(d,l),SA(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:oi||bo(d,l);var p=ma,T=wo;ud(d.type)&&(ma=d.stateNode,wo=!1),SA(a,l,d),hp(d.stateNode),ma=p,wo=T;break;case 5:oi||bo(d,l);case 6:if(p=ma,T=wo,ma=null,SA(a,l,d),ma=p,wo=T,ma!==null)if(wo)try{(ma.nodeType===9?ma.body:ma.nodeName==="HTML"?ma.ownerDocument.body:ma).removeChild(d.stateNode)}catch(D){kr(d,l,D)}else try{ma.removeChild(d.stateNode)}catch(D){kr(d,l,D)}break;case 18:ma!==null&&(wo?(a=ma,xj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Of(a)):xj(ma,d.stateNode));break;case 4:p=ma,T=wo,ma=d.stateNode.containerInfo,wo=!0,SA(a,l,d),ma=p,wo=T;break;case 0:case 11:case 14:case 15:_c(2,d,l),oi||_c(4,d,l),SA(a,l,d);break;case 1:oi||(bo(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&o0(d,l,p)),SA(a,l,d);break;case 21:SA(a,l,d);break;case 22:oi=(p=oi)||d.memoizedState!==null,SA(a,l,d),oi=p;break;default:SA(a,l,d)}}function op(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Of(a)}catch(d){kr(l,l.return,d)}}}function h0(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Of(a)}catch(d){kr(l,l.return,d)}}function f0(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new c0),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new c0),l;default:throw Error(s(435,a.tag))}}function _f(a,l){var d=f0(a);l.forEach(function(p){if(!d.has(p)){d.add(p);var T=b_.bind(null,a,p);p.then(T,T)}})}function Wo(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var T=d[p],D=a,te=l,ve=te;e:for(;ve!==null;){switch(ve.tag){case 27:if(ud(ve.type)){ma=ve.stateNode,wo=!1;break e}break;case 5:ma=ve.stateNode,wo=!1;break e;case 3:case 4:ma=ve.stateNode.containerInfo,wo=!0;break e}ve=ve.return}if(ma===null)throw Error(s(160));If(D,te,T),ma=null,wo=!1,D=T.alternate,D!==null&&(D.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Eh(l,a),l=l.sibling}var nA=null;function Eh(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Wo(l,a),sa(a),p&4&&(_c(3,a,a.return),fu(3,a),_c(5,a,a.return));break;case 1:Wo(l,a),sa(a),p&512&&(oi||d===null||bo(d,d.return)),p&64&&Ql&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var T=nA;if(Wo(l,a),sa(a),p&512&&(oi||d===null||bo(d,d.return)),p&4){var D=d!==null?d.memoizedState:null;if(p=a.memoizedState,d===null)if(p===null)if(a.stateNode===null){e:{p=a.type,d=a.memoizedProps,T=T.ownerDocument||T;t:switch(p){case"title":D=T.getElementsByTagName("title")[0],(!D||D[Nr]||D[js]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=T.createElement(p),T.head.insertBefore(D,T.querySelector("head > title"))),Bo(D,p,d),D[js]=a,Gs(D),p=D;break e;case"link":var te=Tj("link","href",T).get(p+(d.href||""));if(te){for(var ve=0;ve<te.length;ve++)if(D=te[ve],D.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&D.getAttribute("rel")===(d.rel==null?null:d.rel)&&D.getAttribute("title")===(d.title==null?null:d.title)&&D.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){te.splice(ve,1);break t}}D=T.createElement(p),Bo(D,p,d),T.head.appendChild(D);break;case"meta":if(te=Tj("meta","content",T).get(p+(d.content||""))){for(ve=0;ve<te.length;ve++)if(D=te[ve],D.getAttribute("content")===(d.content==null?null:""+d.content)&&D.getAttribute("name")===(d.name==null?null:d.name)&&D.getAttribute("property")===(d.property==null?null:d.property)&&D.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&D.getAttribute("charset")===(d.charSet==null?null:d.charSet)){te.splice(ve,1);break t}}D=T.createElement(p),Bo(D,p,d),T.head.appendChild(D);break;default:throw Error(s(468,p))}D[js]=a,Gs(D),p=D}a.stateNode=p}else Ij(T,a.type,a.stateNode);else a.stateNode=Ej(T,p,a.memoizedProps);else D!==p?(D===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):D.count--,p===null?Ij(T,a.type,a.stateNode):Ej(T,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Yo(a,a.memoizedProps,d.memoizedProps)}break;case 27:Wo(l,a),sa(a),p&512&&(oi||d===null||bo(d,d.return)),d!==null&&p&4&&Yo(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Wo(l,a),sa(a),p&512&&(oi||d===null||bo(d,d.return)),a.flags&32){T=a.stateNode;try{Ls(T,"")}catch(Nn){kr(a,a.return,Nn)}}p&4&&a.stateNode!=null&&(T=a.memoizedProps,Yo(a,T,d!==null?d.memoizedProps:T)),p&1024&&(od=!0);break;case 6:if(Wo(l,a),sa(a),p&4){if(a.stateNode===null)throw Error(s(162));p=a.memoizedProps,d=a.stateNode;try{d.nodeValue=p}catch(Nn){kr(a,a.return,Nn)}}break;case 3:if(E0=null,T=nA,nA=S0(l.containerInfo),Wo(l,a),nA=T,sa(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Of(l.containerInfo)}catch(Nn){kr(a,a.return,Nn)}od&&(od=!1,lp(a));break;case 4:p=nA,nA=S0(a.stateNode.containerInfo),Wo(l,a),sa(a),nA=p;break;case 12:Wo(l,a),sa(a);break;case 31:Wo(l,a),sa(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,_f(a,p)));break;case 13:Wo(l,a),sa(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ye=sn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,_f(a,p)));break;case 22:T=a.memoizedState!==null;var Ue=d!==null&&d.memoizedState!==null,et=Ql,wt=oi;if(Ql=et||T,oi=wt||Ue,Wo(l,a),oi=wt,Ql=et,sa(a),p&8192)e:for(l=a.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||Ue||Ql||oi||pu(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){Ue=d=l;try{if(D=Ue.stateNode,T)te=D.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{ve=Ue.stateNode;var It=Ue.memoizedProps.style,rt=It!=null&&It.hasOwnProperty("display")?It.display:null;ve.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(Nn){kr(Ue,Ue.return,Nn)}}}else if(l.tag===6){if(d===null){Ue=l;try{Ue.stateNode.nodeValue=T?"":Ue.memoizedProps}catch(Nn){kr(Ue,Ue.return,Nn)}}}else if(l.tag===18){if(d===null){Ue=l;try{var ut=Ue.stateNode;T?vj(ut,!0):vj(Ue.stateNode,!1)}catch(Nn){kr(Ue,Ue.return,Nn)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,_f(a,d))));break;case 19:Wo(l,a),sa(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,_f(a,p)));break;case 30:break;case 21:break;default:Wo(l,a),sa(a)}}function sa(a){var l=a.flags;if(l&2){try{for(var d,p=a.return;p!==null;){if(l0(p)){d=p;break}p=p.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var T=d.stateNode,D=lr(a);mu(a,D,T);break;case 5:var te=d.stateNode;d.flags&32&&(Ls(te,""),d.flags&=-33);var ve=lr(a);mu(a,ve,te);break;case 3:case 4:var Ue=d.stateNode.containerInfo,et=lr(a);$r(a,et,Ue);break;default:throw Error(s(161))}}catch(wt){kr(a,a.return,wt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function lp(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;lp(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Ol(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)d0(a,l.alternate,l),l=l.sibling}function pu(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:_c(4,l,l.return),pu(l);break;case 1:bo(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&o0(l,l.return,d),pu(l);break;case 27:hp(l.stateNode);case 26:case 5:bo(l,l.return),pu(l);break;case 22:l.memoizedState===null&&pu(l);break;case 30:pu(l);break;default:pu(l)}a=a.sibling}}function JA(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,T=a,D=l,te=D.flags;switch(D.tag){case 0:case 11:case 15:JA(T,D,d),fu(4,D);break;case 1:if(JA(T,D,d),p=D,T=p.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(et){kr(p,p.return,et)}if(p=D,T=p.updateQueue,T!==null){var ve=p.stateNode;try{var Ue=T.shared.hiddenCallbacks;if(Ue!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Ue.length;T++)Ui(Ue[T],ve)}catch(et){kr(p,p.return,et)}}d&&te&64&&Tf(D),on(D,D.return);break;case 27:A0(D);case 26:case 5:JA(T,D,d),d&&p===null&&te&4&&Nh(D),on(D,D.return);break;case 12:JA(T,D,d);break;case 31:JA(T,D,d),d&&te&4&&op(T,D);break;case 13:JA(T,D,d),d&&te&4&&h0(T,D);break;case 22:D.memoizedState===null&&JA(T,D,d),on(D,D.return);break;case 30:break;default:JA(T,D,d)}l=l.sibling}}function Th(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&ou(d))}function Fc(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ou(a))}function Xo(a,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)m0(a,l,d,p),l=l.sibling}function m0(a,l,d,p){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Xo(a,l,d,p),T&2048&&fu(9,l);break;case 1:Xo(a,l,d,p);break;case 3:Xo(a,l,d,p),T&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ou(a)));break;case 12:if(T&2048){Xo(a,l,d,p),a=l.stateNode;try{var D=l.memoizedProps,te=D.id,ve=D.onPostCommit;typeof ve=="function"&&ve(te,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Ue){kr(l,l.return,Ue)}}else Xo(a,l,d,p);break;case 31:Xo(a,l,d,p);break;case 13:Xo(a,l,d,p);break;case 23:break;case 22:D=l.stateNode,te=l.alternate,l.memoizedState!==null?D._visibility&2?Xo(a,l,d,p):Ih(a,l):D._visibility&2?Xo(a,l,d,p):(D._visibility|=2,sA(a,l,d,p,(l.subtreeFlags&10256)!==0||!1)),T&2048&&Th(te,l);break;case 24:Xo(a,l,d,p),T&2048&&Fc(l.alternate,l);break;default:Xo(a,l,d,p)}}function sA(a,l,d,p,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var D=a,te=l,ve=d,Ue=p,et=te.flags;switch(te.tag){case 0:case 11:case 15:sA(D,te,ve,Ue,T),fu(8,te);break;case 23:break;case 22:var wt=te.stateNode;te.memoizedState!==null?wt._visibility&2?sA(D,te,ve,Ue,T):Ih(D,te):(wt._visibility|=2,sA(D,te,ve,Ue,T)),T&&et&2048&&Th(te.alternate,te);break;case 24:sA(D,te,ve,Ue,T),T&&et&2048&&Fc(te.alternate,te);break;default:sA(D,te,ve,Ue,T)}l=l.sibling}}function Ih(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,p=l,T=p.flags;switch(p.tag){case 22:Ih(d,p),T&2048&&Th(p.alternate,p);break;case 24:Ih(d,p),T&2048&&Fc(p.alternate,p);break;default:Ih(d,p)}l=l.sibling}}var _h=8192;function gu(a,l,d){if(a.subtreeFlags&_h)for(a=a.child;a!==null;)p0(a,l,d),a=a.sibling}function p0(a,l,d){switch(a.tag){case 26:gu(a,l,d),a.flags&_h&&a.memoizedState!==null&&q_(d,nA,a.memoizedState,a.memoizedProps);break;case 5:gu(a,l,d);break;case 3:case 4:var p=nA;nA=S0(a.stateNode.containerInfo),gu(a,l,d),nA=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=_h,_h=16777216,gu(a,l,d),_h=p):gu(a,l,d));break;default:gu(a,l,d)}}function Ap(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Fh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Li=p,x0(p,a)}Ap(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)g0(a),a=a.sibling}function g0(a){switch(a.tag){case 0:case 11:case 15:Fh(a),a.flags&2048&&_c(9,a,a.return);break;case 3:Fh(a);break;case 12:Fh(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Ff(a)):Fh(a);break;default:Fh(a)}}function Ff(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Li=p,x0(p,a)}Ap(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:_c(8,l,l.return),Ff(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Ff(l));break;default:Ff(l)}a=a.sibling}}function x0(a,l){for(;Li!==null;){var d=Li;switch(d.tag){case 0:case 11:case 15:_c(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:ou(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Li=p;else e:for(d=a;Li!==null;){p=Li;var T=p.sibling,D=p.return;if(ip(p),p===d){Li=null;break e}if(T!==null){T.return=D,Li=T;break e}Li=D}}}var qv={getCacheForType:function(a){var l=bi(ja),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return bi(ja).controller.signal}},Zv=typeof WeakMap=="function"?WeakMap:Map,pr=0,Or=null,Rs=null,ks=0,Br=0,xl=null,Uc=!1,ld=!1,j=!1,v=0,C=0,B=0,$=0,ne=0,de=0,Be=0,Ce=null,Le=null,Ve=!1,Ye=0,gt=0,fn=1/0,Xt=null,tn=null,Fn=0,yn=null,xn=null,Cs=0,ys=0,es=null,mn=null,Us=0,Ms=null;function Qn(){return(pr&2)!==0&&ks!==0?ks&-ks:le.T!==null?sy():or()}function Ja(){if(de===0)if((ks&536870912)===0||Ds){var a=Jt;Jt<<=1,(Jt&3932160)===0&&(Jt=262144),de=a}else de=536870912;return a=Zr.current,a!==null&&(a.flags|=32),de}function Pr(a,l,d){(a===Or&&(Br===2||Br===9)||a.cancelPendingCommit!==null)&&(Pl(a,0),jo(a,ks,de,!1)),Qt(a,d),((pr&2)===0||a!==Or)&&(a===Or&&((pr&2)===0&&($|=d),C===4&&jo(a,ks,de,!1)),Lc(a))}function Jo(a,l,d){if((pr&6)!==0)throw Error(s(327));var p=!d&&(l&127)===0&&(l&a.expiredLanes)===0||Wt(a,l),T=p?Ad(a,l):ZA(a,l,!0),D=p;do{if(T===0){ld&&!p&&jo(a,l,0,!1);break}else{if(d=a.current.alternate,D&&!no(d)){T=ZA(a,l,!1),D=!1;continue}if(T===2){if(D=l,a.errorRecoveryDisabledLanes&D)var te=0;else te=a.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){l=te;e:{var ve=a;T=Ce;var Ue=ve.current.memoizedState.isDehydrated;if(Ue&&(Pl(ve,te).flags|=256),te=ZA(ve,te,!1),te!==2){if(j&&!Ue){ve.errorRecoveryDisabledLanes|=D,$|=D,T=4;break e}D=Le,Le=T,D!==null&&(Le===null?Le=D:Le.push.apply(Le,D))}T=te}if(D=!1,T!==2)continue}}if(T===1){Pl(a,0),jo(a,l,0,!0);break}e:{switch(p=a,D=T,D){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:jo(p,l,de,!Uc);break e;case 2:Le=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(T=Ye+300-sn(),10<T)){if(jo(p,l,de,!Uc),Ft(p,0,!0)!==0)break e;Cs=l,p.timeoutHandle=pj(Cr.bind(null,p,d,Le,Xt,Ve,l,de,$,Be,Uc,D,"Throttled",-0,0),T);break e}Cr(p,d,Le,Xt,Ve,l,de,$,Be,Uc,D,null,-0,0)}}break}while(!0);Lc(a)}function Cr(a,l,d,p,T,D,te,ve,Ue,et,wt,It,rt,ut){if(a.timeoutHandle=-1,It=l.subtreeFlags,It&8192||(It&16785408)===16785408){It={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$i},p0(l,D,It);var Nn=(D&62914560)===D?Ye-sn():(D&4194048)===D?gt-sn():0;if(Nn=Z_(It,Nn),Nn!==null){Cs=D,a.cancelPendingCommit=Nn(Y2.bind(null,a,l,D,d,p,T,te,ve,Ue,wt,It,null,rt,ut)),jo(a,D,te,!et);return}}Y2(a,l,D,d,p,T,te,ve,Ue)}function no(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var T=d[p],D=T.getSnapshot;T=T.value;try{if(!Qs(D(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function jo(a,l,d,p){l&=~ne,l&=~$,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var T=l;0<T;){var D=31-Lt(T),te=1<<D;p[D]=-1,T&=~te}d!==0&&Ts(a,d,l)}function so(){return(pr&6)===0?(cp(0),!1):!0}function co(){if(Rs!==null){if(Br===0)var a=Rs.return;else a=Rs,Fl=xA=null,Au(a),Tt=null,Sn=0,a=Rs;for(;a!==null;)i0(a.alternate,a),a=a.return;Rs=null}}function Pl(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,R_(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Cs=0,co(),Or=a,Rs=d=ko(a.current,null),ks=l,Br=0,xl=null,Uc=!1,ld=Wt(a,l),j=!1,Be=de=ne=$=B=C=0,Le=Ce=null,Ve=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var T=31-Lt(p),D=1<<T;l|=a[T],p&=~D}return v=l,nu(),d}function rA(a,l){On=null,le.H=xh,l===Oe||l===Te?(l=jt(),Br=3):l===qe?(l=jt(),Br=4):Br=l===Wm?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xl=l,Rs===null&&(C=1,bh(a,Mo(l,a.current)))}function qA(){var a=Zr.current;return a===null?!0:(ks&4194048)===ks?Ps===null:(ks&62914560)===ks||(ks&536870912)!==0?a===Ps:!1}function Dc(){var a=le.H;return le.H=xh,a===null?xh:a}function Rc(){var a=le.A;return le.A=qv,a}function kl(){C=4,Uc||(ks&4194048)!==ks&&Zr.current!==null||(ld=!0),(B&134217727)===0&&($&134217727)===0||Or===null||jo(Or,ks,de,!1)}function ZA(a,l,d){var p=pr;pr|=2;var T=Dc(),D=Rc();(Or!==a||ks!==l)&&(Xt=null,Pl(a,l)),l=!1;var te=C;e:do try{if(Br!==0&&Rs!==null){var ve=Rs,Ue=xl;switch(Br){case 8:co(),te=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(l=!0);var et=Br;if(Br=0,xl=null,Uf(a,ve,Ue,et),d&&ld){te=0;break e}break;default:et=Br,Br=0,xl=null,Uf(a,ve,Ue,et)}}ec(),te=C;break}catch(wt){rA(a,wt)}while(!0);return l&&a.shellSuspendCounter++,Fl=xA=null,pr=p,le.H=T,le.A=D,Rs===null&&(Or=null,ks=0,nu()),te}function ec(){for(;Rs!==null;)z2(Rs)}function Ad(a,l){var d=pr;pr|=2;var p=Dc(),T=Rc();Or!==a||ks!==l?(Xt=null,fn=sn()+500,Pl(a,l)):ld=Wt(a,l);e:do try{if(Br!==0&&Rs!==null){l=Rs;var D=xl;t:switch(Br){case 1:Br=0,xl=null,Uf(a,l,D,1);break;case 2:case 9:if(He(D)){Br=0,xl=null,G2(l);break}l=function(){Br!==2&&Br!==9||Or!==a||(Br=7),Lc(a)},D.then(l,l);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:He(D)?(Br=0,xl=null,G2(l)):(Br=0,xl=null,Uf(a,l,D,7));break;case 5:var te=null;switch(Rs.tag){case 26:te=Rs.memoizedState;case 5:case 27:var ve=Rs;if(te?_j(te):ve.stateNode.complete){Br=0,xl=null;var Ue=ve.sibling;if(Ue!==null)Rs=Ue;else{var et=ve.return;et!==null?(Rs=et,v0(et)):Rs=null}break t}}Br=0,xl=null,Uf(a,l,D,5);break;case 6:Br=0,xl=null,Uf(a,l,D,6);break;case 8:co(),C=6;break e;default:throw Error(s(462))}}Uh();break}catch(wt){rA(a,wt)}while(!0);return Fl=xA=null,le.H=p,le.A=T,pr=d,Rs!==null?0:(Or=null,ks=0,nu(),C)}function Uh(){for(;Rs!==null&&!qt();)z2(Rs)}function z2(a){var l=Ef(a.alternate,a,v);a.memoizedProps=a.pendingProps,l===null?v0(a):Rs=l}function G2(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=id(d,l,l.pendingProps,l.type,void 0,ks);break;case 11:l=id(d,l,l.pendingProps,l.type.render,l.ref,ks);break;case 5:Au(l);default:i0(d,l),l=Rs=ru(l,v),l=Ef(d,l,v)}a.memoizedProps=a.pendingProps,l===null?v0(a):Rs=l}function Uf(a,l,d,p){Fl=xA=null,Au(l),Tt=null,Sn=0;var T=l.return;try{if(Wv(a,T,l,d,ks)){C=1,bh(a,Mo(d,a.current)),Rs=null;return}}catch(D){if(T!==null)throw Rs=T,D;C=1,bh(a,Mo(d,a.current)),Rs=null;return}l.flags&32768?(Ds||p===1?a=!0:ld||(ks&536870912)!==0?a=!1:(Uc=a=!0,(p===2||p===9||p===3||p===6)&&(p=Zr.current,p!==null&&p.tag===13&&(p.flags|=16384))),$2(l,a)):v0(l)}function v0(a){var l=a;do{if((l.flags&32768)!==0){$2(l,Uc);return}a=l.return;var d=Xv(l.alternate,l,v);if(d!==null){Rs=d;return}if(l=l.sibling,l!==null){Rs=l;return}Rs=l=a}while(l!==null);C===0&&(C=5)}function $2(a,l){do{var d=Jv(a.alternate,a);if(d!==null){d.flags&=32767,Rs=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Rs=a;return}Rs=a=d}while(a!==null);C=6,Rs=null}function Y2(a,l,d,p,T,D,te,ve,Ue){a.cancelPendingCommit=null;do y0();while(Fn!==0);if((pr&6)!==0)throw Error(s(327));if(l!==null){if(l===a.current)throw Error(s(177));if(D=l.lanes|l.childLanes,D|=Ou,hs(a,d,D,te,ve,Ue),a===Or&&(Rs=Or=null,ks=0),xn=l,yn=a,Cs=d,ys=D,es=T,mn=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,w_(zt,function(){return Z2(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=le.T,le.T=null,T=X.p,X.p=2,te=pr,pr|=4;try{u0(a,l,d)}finally{pr=te,X.p=T,le.T=p}}Fn=1,W2(),X2(),J2()}}function W2(){if(Fn===1){Fn=0;var a=yn,l=xn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=le.T,le.T=null;var p=X.p;X.p=2;var T=pr;pr|=4;try{Eh(l,a);var D=uy,te=Nl(a.containerInfo),ve=D.focusedElem,Ue=D.selectionRange;if(te!==ve&&ve&&ve.ownerDocument&&hl(ve.ownerDocument.documentElement,ve)){if(Ue!==null&&El(ve)){var et=Ue.start,wt=Ue.end;if(wt===void 0&&(wt=et),"selectionStart"in ve)ve.selectionStart=et,ve.selectionEnd=Math.min(wt,ve.value.length);else{var It=ve.ownerDocument||document,rt=It&&It.defaultView||window;if(rt.getSelection){var ut=rt.getSelection(),Nn=ve.textContent.length,ts=Math.min(Ue.start,Nn),Wr=Ue.end===void 0?ts:Math.min(Ue.end,Nn);!ut.extend&&ts>Wr&&(te=Wr,Wr=ts,ts=te);var Ge=MA(ve,ts),ke=MA(ve,Wr);if(Ge&&ke&&(ut.rangeCount!==1||ut.anchorNode!==Ge.node||ut.anchorOffset!==Ge.offset||ut.focusNode!==ke.node||ut.focusOffset!==ke.offset)){var Ze=It.createRange();Ze.setStart(Ge.node,Ge.offset),ut.removeAllRanges(),ts>Wr?(ut.addRange(Ze),ut.extend(ke.node,ke.offset)):(Ze.setEnd(ke.node,ke.offset),ut.addRange(Ze))}}}}for(It=[],ut=ve;ut=ut.parentNode;)ut.nodeType===1&&It.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<It.length;ve++){var St=It[ve];St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}F0=!!cy,uy=cy=null}finally{pr=T,X.p=p,le.T=d}}a.current=l,Fn=2}}function X2(){if(Fn===2){Fn=0;var a=yn,l=xn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=le.T,le.T=null;var p=X.p;X.p=2;var T=pr;pr|=4;try{d0(a,l.alternate,l)}finally{pr=T,X.p=p,le.T=d}}Fn=3}}function J2(){if(Fn===4||Fn===3){Fn=0,Zt();var a=yn,l=xn,d=Cs,p=mn;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Fn=5:(Fn=0,xn=yn=null,q2(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(tn=null),cs(d),l=l.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Gt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=le.T,T=X.p,X.p=2,le.T=null;try{for(var D=a.onRecoverableError,te=0;te<p.length;te++){var ve=p[te];D(ve.value,{componentStack:ve.stack})}}finally{le.T=l,X.p=T}}(Cs&3)!==0&&y0(),Lc(a),T=a.pendingLanes,(d&261930)!==0&&(T&42)!==0?a===Ms?Us++:(Us=0,Ms=a):Us=0,cp(0)}}function q2(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,ou(l)))}function y0(){return W2(),X2(),J2(),Z2()}function Z2(){if(Fn!==5)return!1;var a=yn,l=ys;ys=0;var d=cs(Cs),p=le.T,T=X.p;try{X.p=32>d?32:d,le.T=null,d=es,es=null;var D=yn,te=Cs;if(Fn=0,xn=yn=null,Cs=0,(pr&6)!==0)throw Error(s(331));var ve=pr;if(pr|=4,g0(D.current),m0(D,D.current,te,d),pr=ve,cp(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Gt,D)}catch{}return!0}finally{X.p=T,le.T=p,q2(a,l)}}function ej(a,l,d){l=Mo(d,l),l=Gm(a.stateNode,l,2),a=Xn(a,l,2),a!==null&&(Qt(a,2),Lc(a))}function kr(a,l,d){if(a.tag===3)ej(a,a,d);else for(;l!==null;){if(l.tag===3){ej(l,a,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(tn===null||!tn.has(p))){a=Mo(d,a),d=$m(2),p=Xn(l,d,2),p!==null&&(Ym(d,p,l,a),Qt(p,2),Lc(p));break}}l=l.return}}function ey(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new Zv;var T=new Set;p.set(l,T)}else T=p.get(l),T===void 0&&(T=new Set,p.set(l,T));T.has(d)||(j=!0,T.add(d),a=v_.bind(null,a,l,d),l.then(a,a))}function v_(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Or===a&&(ks&d)===d&&(C===4||C===3&&(ks&62914560)===ks&&300>sn()-Ye?(pr&2)===0&&Pl(a,0):ne|=d,Be===ks&&(Be=0)),Lc(a)}function tj(a,l){l===0&&(l=Wn()),a=Il(a,l),a!==null&&(Qt(a,l),Lc(a))}function y_(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),tj(a,d)}function b_(a,l){var d=0;switch(a.tag){case 31:case 13:var p=a.stateNode,T=a.memoizedState;T!==null&&(d=T.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(l),tj(a,d)}function w_(a,l){return Nt(a,l)}var b0=null,Df=null,ty=!1,w0=!1,ny=!1,cd=0;function Lc(a){a!==Df&&a.next===null&&(Df===null?b0=Df=a:Df=Df.next=a),w0=!0,ty||(ty=!0,B_())}function cp(a,l){if(!ny&&w0){ny=!0;do for(var d=!1,p=b0;p!==null;){if(a!==0){var T=p.pendingLanes;if(T===0)var D=0;else{var te=p.suspendedLanes,ve=p.pingedLanes;D=(1<<31-Lt(42|a)+1)-1,D&=T&~(te&~ve),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(d=!0,aj(p,D))}else D=ks,D=Ft(p,p===Or?D:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(D&3)===0||Wt(p,D)||(d=!0,aj(p,D));p=p.next}while(d);ny=!1}}function j_(){nj()}function nj(){w0=ty=!1;var a=0;cd!==0&&D_()&&(a=cd);for(var l=sn(),d=null,p=b0;p!==null;){var T=p.next,D=sj(p,l);D===0?(p.next=null,d===null?b0=T:d.next=T,T===null&&(Df=d)):(d=p,(a!==0||(D&3)!==0)&&(w0=!0)),p=T}Fn!==0&&Fn!==5||cp(a),cd!==0&&(cd=0)}function sj(a,l){for(var d=a.suspendedLanes,p=a.pingedLanes,T=a.expirationTimes,D=a.pendingLanes&-62914561;0<D;){var te=31-Lt(D),ve=1<<te,Ue=T[te];Ue===-1?((ve&d)===0||(ve&p)!==0)&&(T[te]=dn(ve,l)):Ue<=l&&(a.expiredLanes|=ve),D&=~ve}if(l=Or,d=ks,d=Ft(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,d===0||a===l&&(Br===2||Br===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Rt(p),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Wt(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(p!==null&&Rt(p),cs(d)){case 2:case 8:d=Ht;break;case 32:d=zt;break;case 268435456:d=xt;break;default:d=zt}return p=rj.bind(null,a),d=Nt(d,p),a.callbackPriority=l,a.callbackNode=d,l}return p!==null&&p!==null&&Rt(p),a.callbackPriority=2,a.callbackNode=null,2}function rj(a,l){if(Fn!==0&&Fn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(y0()&&a.callbackNode!==d)return null;var p=ks;return p=Ft(a,a===Or?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Jo(a,p,l),sj(a,sn()),a.callbackNode!=null&&a.callbackNode===d?rj.bind(null,a):null)}function aj(a,l){if(y0())return null;Jo(a,l,!0)}function B_(){L_(function(){(pr&6)!==0?Nt(Xe,j_):nj()})}function sy(){if(cd===0){var a=y;a===0&&(a=Et,Et<<=1,(Et&261888)===0&&(Et=256)),cd=a}return cd}function ij(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Kr(""+a)}function oj(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function C_(a,l,d,p,T){if(l==="submit"&&d&&d.stateNode===T){var D=ij((T[Hs]||null).action),te=p.submitter;te&&(l=(l=te[Hs]||null)?ij(l.formAction):te.getAttribute("formAction"),l!==null&&(D=l,te=null));var ve=new Zn("action","action",null,p,T);a.push({event:ve,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(cd!==0){var Ue=te?oj(T,te):new FormData(T);bf(d,{pending:!0,data:Ue,method:T.method,action:D},null,Ue)}}else typeof D=="function"&&(ve.preventDefault(),Ue=te?oj(T,te):new FormData(T),bf(d,{pending:!0,data:Ue,method:T.method,action:D},D,Ue))},currentTarget:T}]})}}for(var ry=0;ry<hA.length;ry++){var ay=hA[ry],S_=ay.toLowerCase(),N_=ay[0].toUpperCase()+ay.slice(1);go(S_,"on"+N_)}go(HA,"onAnimationEnd"),go(dA,"onAnimationIteration"),go(sh,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(rh,"onTransitionRun"),go(ah,"onTransitionStart"),go(ih,"onTransitionCancel"),go(Lu,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(up));function lj(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],T=p.event;p=p.listeners;e:{var D=void 0;if(l)for(var te=p.length-1;0<=te;te--){var ve=p[te],Ue=ve.instance,et=ve.currentTarget;if(ve=ve.listener,Ue!==D&&T.isPropagationStopped())break e;D=ve,T.currentTarget=et;try{D(T)}catch(wt){pc(wt)}T.currentTarget=null,D=Ue}else for(te=0;te<p.length;te++){if(ve=p[te],Ue=ve.instance,et=ve.currentTarget,ve=ve.listener,Ue!==D&&T.isPropagationStopped())break e;D=ve,T.currentTarget=et;try{D(T)}catch(wt){pc(wt)}T.currentTarget=null,D=Ue}}}}function zs(a,l){var d=l[ia];d===void 0&&(d=l[ia]=new Set);var p=a+"__bubble";d.has(p)||(Aj(l,a,2,!1),d.add(p))}function iy(a,l,d){var p=0;l&&(p|=4),Aj(d,a,p,l)}var j0="_reactListening"+Math.random().toString(36).slice(2);function oy(a){if(!a[j0]){a[j0]=!0,Ia.forEach(function(d){d!=="selectionchange"&&(E_.has(d)||iy(d,!1,a),iy(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[j0]||(l[j0]=!0,iy("selectionchange",!1,l))}}function Aj(a,l,d,p){switch(Oj(l)){case 2:var T=n6;break;case 8:T=s6;break;default:T=wy}d=T.bind(null,l,d,a),T=void 0,!va||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),p?T!==void 0?a.addEventListener(l,d,{capture:!0,passive:T}):a.addEventListener(l,d,!0):T!==void 0?a.addEventListener(l,d,{passive:T}):a.addEventListener(l,d,!1)}function ly(a,l,d,p,T){var D=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var te=p.tag;if(te===3||te===4){var ve=p.stateNode.containerInfo;if(ve===T)break;if(te===4)for(te=p.return;te!==null;){var Ue=te.tag;if((Ue===3||Ue===4)&&te.stateNode.containerInfo===T)return;te=te.return}for(;ve!==null;){if(te=br(ve),te===null)return;if(Ue=te.tag,Ue===5||Ue===6||Ue===26||Ue===27){p=D=te;continue e}ve=ve.parentNode}}p=p.return}oo(function(){var et=D,wt=ti(d),It=[];e:{var rt=Qu.get(a);if(rt!==void 0){var ut=Zn,Nn=a;switch(a){case"keypress":if(si(d)===0)break e;case"keydown":case"keyup":ut=_s;break;case"focusin":Nn="focus",ut=Jr;break;case"focusout":Nn="blur",ut=Jr;break;case"beforeblur":case"afterblur":ut=Jr;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=ua;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Y;break;case HA:case dA:case sh:ut=k;break;case Lu:ut=we;break;case"scroll":case"scrollend":ut=rn;break;case"wheel":ut=tt;break;case"copy":case"cut":case"paste":ut=Ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=xr;break;case"toggle":case"beforetoggle":ut=rs}var ts=(l&4)!==0,Wr=!ts&&(a==="scroll"||a==="scrollend"),Ge=ts?rt!==null?rt+"Capture":null:rt;ts=[];for(var ke=et,Ze;ke!==null;){var St=ke;if(Ze=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||Ze===null||Ge===null||(St=ca(ke,Ge),St!=null&&ts.push(dp(ke,St,Ze))),Wr)break;ke=ke.return}0<ts.length&&(rt=new ut(rt,Nn,null,d,wt),It.push({event:rt,listeners:ts}))}}if((l&7)===0){e:{if(rt=a==="mouseover"||a==="pointerover",ut=a==="mouseout"||a==="pointerout",rt&&d!==mo&&(Nn=d.relatedTarget||d.fromElement)&&(br(Nn)||Nn[gr]))break e;if((ut||rt)&&(rt=wt.window===wt?wt:(rt=wt.ownerDocument)?rt.defaultView||rt.parentWindow:window,ut?(Nn=d.relatedTarget||d.toElement,ut=et,Nn=Nn?br(Nn):null,Nn!==null&&(Wr=o(Nn),ts=Nn.tag,Nn!==Wr||ts!==5&&ts!==27&&ts!==6)&&(Nn=null)):(ut=null,Nn=et),ut!==Nn)){if(ts=Ro,St="onMouseLeave",Ge="onMouseEnter",ke="mouse",(a==="pointerout"||a==="pointerover")&&(ts=xr,St="onPointerLeave",Ge="onPointerEnter",ke="pointer"),Wr=ut==null?rt:oa(ut),Ze=Nn==null?rt:oa(Nn),rt=new ts(St,ke+"leave",ut,d,wt),rt.target=Wr,rt.relatedTarget=Ze,St=null,br(wt)===et&&(ts=new ts(Ge,ke+"enter",Nn,d,wt),ts.target=Ze,ts.relatedTarget=Wr,St=ts),Wr=St,ut&&Nn)t:{for(ts=T_,Ge=ut,ke=Nn,Ze=0,St=Ge;St;St=ts(St))Ze++;St=0;for(var $n=ke;$n;$n=ts($n))St++;for(;0<Ze-St;)Ge=ts(Ge),Ze--;for(;0<St-Ze;)ke=ts(ke),St--;for(;Ze--;){if(Ge===ke||ke!==null&&Ge===ke.alternate){ts=Ge;break t}Ge=ts(Ge),ke=ts(ke)}ts=null}else ts=null;ut!==null&&cj(It,rt,ut,ts,!1),Nn!==null&&Wr!==null&&cj(It,Wr,Nn,ts,!0)}}e:{if(rt=et?oa(et):window,ut=rt.nodeName&&rt.nodeName.toLowerCase(),ut==="select"||ut==="input"&&rt.type==="file")var vr=Po;else if(Qo(rt))if(Bs)vr=pi;else{vr=da;var Un=PA}else ut=rt.nodeName,!ut||ut.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&fo(et.elementType)&&(vr=Po):vr=Ji;if(vr&&(vr=vr(a,et))){Ws(It,vr,d,wt);break e}Un&&Un(a,rt,et),a==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&dr(rt,"number",rt.value)}switch(Un=et?oa(et):window,a){case"focusin":(Qo(Un)||Un.contentEditable==="true")&&(wa=Un,Yl=et,Ii=null);break;case"focusout":Ii=Yl=wa=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":qi=!1,Xs(It,d,wt);break;case"selectionchange":if(fl)break;case"keydown":case"keyup":Xs(It,d,wt)}var Es;if(vs)e:{switch(a){case"compositionstart":var qs="onCompositionStart";break e;case"compositionend":qs="onCompositionEnd";break e;case"compositionupdate":qs="onCompositionUpdate";break e}qs=void 0}else cl?po(a,d)&&(qs="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(qs="onCompositionStart");qs&&(ba&&d.locale!=="ko"&&(cl||qs!=="onCompositionStart"?qs==="onCompositionEnd"&&cl&&(Es=Do()):(ya=wt,Yi="value"in ya?ya.value:ya.textContent,cl=!0)),Un=B0(et,qs),0<Un.length&&(qs=new ze(qs,a,null,d,wt),It.push({event:qs,listeners:Un}),Es?qs.data=Es:(Es=Lo(d),Es!==null&&(qs.data=Es)))),(Es=Ya?Da(a,d):ri(a,d))&&(qs=B0(et,"onBeforeInput"),0<qs.length&&(Un=new ze("onBeforeInput","beforeinput",null,d,wt),It.push({event:Un,listeners:qs}),Un.data=Es)),C_(It,a,et,d,wt)}lj(It,l)})}function dp(a,l,d){return{instance:a,listener:l,currentTarget:d}}function B0(a,l){for(var d=l+"Capture",p=[];a!==null;){var T=a,D=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||D===null||(T=ca(a,d),T!=null&&p.unshift(dp(a,T,D)),T=ca(a,l),T!=null&&p.push(dp(a,T,D))),a.tag===3)return p;a=a.return}return[]}function T_(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function cj(a,l,d,p,T){for(var D=l._reactName,te=[];d!==null&&d!==p;){var ve=d,Ue=ve.alternate,et=ve.stateNode;if(ve=ve.tag,Ue!==null&&Ue===p)break;ve!==5&&ve!==26&&ve!==27||et===null||(Ue=et,T?(et=ca(d,D),et!=null&&te.unshift(dp(d,et,Ue))):T||(et=ca(d,D),et!=null&&te.push(dp(d,et,Ue)))),d=d.return}te.length!==0&&a.push({event:l,listeners:te})}var I_=/\r\n?/g,__=/\u0000|\uFFFD/g;function uj(a){return(typeof a=="string"?a:""+a).replace(I_,`
`).replace(__,"")}function dj(a,l){return l=uj(l),uj(a)===l}function Yr(a,l,d,p,T,D){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Ls(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Ls(a,""+p);break;case"className":Ee(a,"class",p);break;case"tabIndex":Ee(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ee(a,d,p);break;case"style":Uo(a,p,D);break;case"data":if(l!=="object"){Ee(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Kr(""+p),a.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(d==="formAction"?(l!=="input"&&Yr(a,l,"name",T.name,T,null),Yr(a,l,"formEncType",T.formEncType,T,null),Yr(a,l,"formMethod",T.formMethod,T,null),Yr(a,l,"formTarget",T.formTarget,T,null)):(Yr(a,l,"encType",T.encType,T,null),Yr(a,l,"method",T.method,T,null),Yr(a,l,"target",T.target,T,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Kr(""+p),a.setAttribute(d,p);break;case"onClick":p!=null&&(a.onclick=$i);break;case"onScroll":p!=null&&zs("scroll",a);break;case"onScrollEnd":p!=null&&zs("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(s(60));a.innerHTML=d}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}d=Kr(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""+p):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":p===!0?a.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,p):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(d,p):a.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(d):a.setAttribute(d,p);break;case"popover":zs("beforetoggle",a),zs("toggle",a),la(a,"popover",p);break;case"xlinkActuate":at(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":at(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":at(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":at(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":at(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":at(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":at(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":at(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":at(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":la(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ll.get(d)||d,la(a,d,p))}}function Ay(a,l,d,p,T,D){switch(d){case"style":Uo(a,p,D);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(s(60));a.innerHTML=d}}break;case"children":typeof p=="string"?Ls(a,p):(typeof p=="number"||typeof p=="bigint")&&Ls(a,""+p);break;case"onScroll":p!=null&&zs("scroll",a);break;case"onScrollEnd":p!=null&&zs("scrollend",a);break;case"onClick":p!=null&&(a.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),D=a[Hs]||null,D=D!=null?D[d]:null,typeof D=="function"&&a.removeEventListener(l,D,T),typeof p=="function")){typeof D!="function"&&D!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,p,T);break e}d in a?a[d]=p:p===!0?a.setAttribute(d,""):la(a,d,p)}}}function Bo(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zs("error",a),zs("load",a);var p=!1,T=!1,D;for(D in d)if(d.hasOwnProperty(D)){var te=d[D];if(te!=null)switch(D){case"src":p=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Yr(a,l,D,te,d,null)}}T&&Yr(a,l,"srcSet",d.srcSet,d,null),p&&Yr(a,l,"src",d.src,d,null);return;case"input":zs("invalid",a);var ve=D=te=T=null,Ue=null,et=null;for(p in d)if(d.hasOwnProperty(p)){var wt=d[p];if(wt!=null)switch(p){case"name":T=wt;break;case"type":te=wt;break;case"checked":Ue=wt;break;case"defaultChecked":et=wt;break;case"value":D=wt;break;case"defaultValue":ve=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(s(137,l));break;default:Yr(a,l,p,wt,d,null)}}fs(a,D,ve,Ue,et,te,T,!1);return;case"select":zs("invalid",a),p=te=D=null;for(T in d)if(d.hasOwnProperty(T)&&(ve=d[T],ve!=null))switch(T){case"value":D=ve;break;case"defaultValue":te=ve;break;case"multiple":p=ve;default:Yr(a,l,T,ve,d,null)}l=D,d=te,a.multiple=!!p,l!=null?Ns(a,!!p,l,!1):d!=null&&Ns(a,!!p,d,!0);return;case"textarea":zs("invalid",a),D=T=p=null;for(te in d)if(d.hasOwnProperty(te)&&(ve=d[te],ve!=null))switch(te){case"value":p=ve;break;case"defaultValue":T=ve;break;case"children":D=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(91));break;default:Yr(a,l,te,ve,d,null)}Xr(a,p,T,D);return;case"option":for(Ue in d)if(d.hasOwnProperty(Ue)&&(p=d[Ue],p!=null))switch(Ue){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Yr(a,l,Ue,p,d,null)}return;case"dialog":zs("beforetoggle",a),zs("toggle",a),zs("cancel",a),zs("close",a);break;case"iframe":case"object":zs("load",a);break;case"video":case"audio":for(p=0;p<up.length;p++)zs(up[p],a);break;case"image":zs("error",a),zs("load",a);break;case"details":zs("toggle",a);break;case"embed":case"source":case"link":zs("error",a),zs("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in d)if(d.hasOwnProperty(et)&&(p=d[et],p!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Yr(a,l,et,p,d,null)}return;default:if(fo(l)){for(wt in d)d.hasOwnProperty(wt)&&(p=d[wt],p!==void 0&&Ay(a,l,wt,p,d,void 0));return}}for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!=null&&Yr(a,l,ve,p,d,null))}function F_(a,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,D=null,te=null,ve=null,Ue=null,et=null,wt=null;for(ut in d){var It=d[ut];if(d.hasOwnProperty(ut)&&It!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":Ue=It;default:p.hasOwnProperty(ut)||Yr(a,l,ut,null,p,It)}}for(var rt in p){var ut=p[rt];if(It=d[rt],p.hasOwnProperty(rt)&&(ut!=null||It!=null))switch(rt){case"type":D=ut;break;case"name":T=ut;break;case"checked":et=ut;break;case"defaultChecked":wt=ut;break;case"value":te=ut;break;case"defaultValue":ve=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(s(137,l));break;default:ut!==It&&Yr(a,l,rt,ut,p,It)}}qn(a,te,ve,Ue,et,wt,D,T);return;case"select":ut=te=ve=rt=null;for(D in d)if(Ue=d[D],d.hasOwnProperty(D)&&Ue!=null)switch(D){case"value":break;case"multiple":ut=Ue;default:p.hasOwnProperty(D)||Yr(a,l,D,null,p,Ue)}for(T in p)if(D=p[T],Ue=d[T],p.hasOwnProperty(T)&&(D!=null||Ue!=null))switch(T){case"value":rt=D;break;case"defaultValue":ve=D;break;case"multiple":te=D;default:D!==Ue&&Yr(a,l,T,D,p,Ue)}l=ve,d=te,p=ut,rt!=null?Ns(a,!!d,rt,!1):!!p!=!!d&&(l!=null?Ns(a,!!d,l,!0):Ns(a,!!d,d?[]:"",!1));return;case"textarea":ut=rt=null;for(ve in d)if(T=d[ve],d.hasOwnProperty(ve)&&T!=null&&!p.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:Yr(a,l,ve,null,p,T)}for(te in p)if(T=p[te],D=d[te],p.hasOwnProperty(te)&&(T!=null||D!=null))switch(te){case"value":rt=T;break;case"defaultValue":ut=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:T!==D&&Yr(a,l,te,T,p,D)}Aa(a,rt,ut);return;case"option":for(var Nn in d)if(rt=d[Nn],d.hasOwnProperty(Nn)&&rt!=null&&!p.hasOwnProperty(Nn))switch(Nn){case"selected":a.selected=!1;break;default:Yr(a,l,Nn,null,p,rt)}for(Ue in p)if(rt=p[Ue],ut=d[Ue],p.hasOwnProperty(Ue)&&rt!==ut&&(rt!=null||ut!=null))switch(Ue){case"selected":a.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:Yr(a,l,Ue,rt,p,ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ts in d)rt=d[ts],d.hasOwnProperty(ts)&&rt!=null&&!p.hasOwnProperty(ts)&&Yr(a,l,ts,null,p,rt);for(et in p)if(rt=p[et],ut=d[et],p.hasOwnProperty(et)&&rt!==ut&&(rt!=null||ut!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,l));break;default:Yr(a,l,et,rt,p,ut)}return;default:if(fo(l)){for(var Wr in d)rt=d[Wr],d.hasOwnProperty(Wr)&&rt!==void 0&&!p.hasOwnProperty(Wr)&&Ay(a,l,Wr,void 0,p,rt);for(wt in p)rt=p[wt],ut=d[wt],!p.hasOwnProperty(wt)||rt===ut||rt===void 0&&ut===void 0||Ay(a,l,wt,rt,p,ut);return}}for(var Ge in d)rt=d[Ge],d.hasOwnProperty(Ge)&&rt!=null&&!p.hasOwnProperty(Ge)&&Yr(a,l,Ge,null,p,rt);for(It in p)rt=p[It],ut=d[It],!p.hasOwnProperty(It)||rt===ut||rt==null&&ut==null||Yr(a,l,It,rt,p,ut)}function hj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U_(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var T=d[p],D=T.transferSize,te=T.initiatorType,ve=T.duration;if(D&&ve&&hj(te)){for(te=0,ve=T.responseEnd,p+=1;p<d.length;p++){var Ue=d[p],et=Ue.startTime;if(et>ve)break;var wt=Ue.transferSize,It=Ue.initiatorType;wt&&hj(It)&&(Ue=Ue.responseEnd,te+=wt*(Ue<ve?1:(ve-et)/(Ue-et)))}if(--p,l+=8*(D+te)/(T.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var cy=null,uy=null;function C0(a){return a.nodeType===9?a:a.ownerDocument}function fj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mj(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function dy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hy=null;function D_(){var a=window.event;return a&&a.type==="popstate"?a===hy?!1:(hy=a,!0):(hy=null,!1)}var pj=typeof setTimeout=="function"?setTimeout:void 0,R_=typeof clearTimeout=="function"?clearTimeout:void 0,gj=typeof Promise=="function"?Promise:void 0,L_=typeof queueMicrotask=="function"?queueMicrotask:typeof gj<"u"?function(a){return gj.resolve(null).then(a).catch(Q_)}:pj;function Q_(a){setTimeout(function(){throw a})}function ud(a){return a==="head"}function xj(a,l){var d=l,p=0;do{var T=d.nextSibling;if(a.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"||d==="/&"){if(p===0){a.removeChild(T),Of(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")hp(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,hp(d);for(var D=d.firstChild;D;){var te=D.nextSibling,ve=D.nodeName;D[Nr]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=te}}else d==="body"&&hp(a.ownerDocument.body);d=T}while(d);Of(l)}function vj(a,l){var d=a;a=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=p}while(d)}function fy(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":fy(d),ga(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function O_(a,l,d,p){for(;a.nodeType===1;){var T=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Nr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(D=a.getAttribute("rel"),D==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(D!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(D=a.getAttribute("src"),(D!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&D&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var D=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===D)return a}else return a;if(a=NA(a.nextSibling),a===null)break}return null}function P_(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=NA(a.nextSibling),a===null))return null;return a}function yj(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=NA(a.nextSibling),a===null))return null;return a}function my(a){return a.data==="$?"||a.data==="$~"}function py(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function k_(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function NA(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var gy=null;function bj(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return NA(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function wj(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function jj(a,l,d){switch(l=C0(d),a){case"html":if(a=l.documentElement,!a)throw Error(s(452));return a;case"head":if(a=l.head,!a)throw Error(s(453));return a;case"body":if(a=l.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function hp(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ga(a)}var EA=new Map,Bj=new Set;function S0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xu=X.d;X.d={f:M_,r:H_,D:V_,C:K_,L:z_,m:G_,X:Y_,S:$_,M:W_};function M_(){var a=xu.f(),l=so();return a||l}function H_(a){var l=tr(a);l!==null&&l.tag===5&&l.type==="form"?Xg(l):xu.r(a)}var Rf=typeof document>"u"?null:document;function Cj(a,l,d){var p=Rf;if(p&&typeof l=="string"&&l){var T=Tn(l);T='link[rel="'+a+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),Bj.has(T)||(Bj.add(T),a={rel:a,crossOrigin:d,href:l},p.querySelector(T)===null&&(l=p.createElement("link"),Bo(l,"link",a),Gs(l),p.head.appendChild(l)))}}function V_(a){xu.D(a),Cj("dns-prefetch",a,null)}function K_(a,l){xu.C(a,l),Cj("preconnect",a,l)}function z_(a,l,d){xu.L(a,l,d);var p=Rf;if(p&&a&&l){var T='link[rel="preload"][as="'+Tn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+Tn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+Tn(d.imageSizes)+'"]')):T+='[href="'+Tn(a)+'"]';var D=T;switch(l){case"style":D=Lf(a);break;case"script":D=Qf(a)}EA.has(D)||(a=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),EA.set(D,a),p.querySelector(T)!==null||l==="style"&&p.querySelector(fp(D))||l==="script"&&p.querySelector(mp(D))||(l=p.createElement("link"),Bo(l,"link",a),Gs(l),p.head.appendChild(l)))}}function G_(a,l){xu.m(a,l);var d=Rf;if(d&&a){var p=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Tn(p)+'"][href="'+Tn(a)+'"]',D=T;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Qf(a)}if(!EA.has(D)&&(a=m({rel:"modulepreload",href:a},l),EA.set(D,a),d.querySelector(T)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(mp(D)))return}p=d.createElement("link"),Bo(p,"link",a),Gs(p),d.head.appendChild(p)}}}function $_(a,l,d){xu.S(a,l,d);var p=Rf;if(p&&a){var T=Ga(p).hoistableStyles,D=Lf(a);l=l||"default";var te=T.get(D);if(!te){var ve={loading:0,preload:null};if(te=p.querySelector(fp(D)))ve.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":l},d),(d=EA.get(D))&&xy(a,d);var Ue=te=p.createElement("link");Gs(Ue),Bo(Ue,"link",a),Ue._p=new Promise(function(et,wt){Ue.onload=et,Ue.onerror=wt}),Ue.addEventListener("load",function(){ve.loading|=1}),Ue.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,N0(te,l,p)}te={type:"stylesheet",instance:te,count:1,state:ve},T.set(D,te)}}}function Y_(a,l){xu.X(a,l);var d=Rf;if(d&&a){var p=Ga(d).hoistableScripts,T=Qf(a),D=p.get(T);D||(D=d.querySelector(mp(T)),D||(a=m({src:a,async:!0},l),(l=EA.get(T))&&vy(a,l),D=d.createElement("script"),Gs(D),Bo(D,"link",a),d.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},p.set(T,D))}}function W_(a,l){xu.M(a,l);var d=Rf;if(d&&a){var p=Ga(d).hoistableScripts,T=Qf(a),D=p.get(T);D||(D=d.querySelector(mp(T)),D||(a=m({src:a,async:!0,type:"module"},l),(l=EA.get(T))&&vy(a,l),D=d.createElement("script"),Gs(D),Bo(D,"link",a),d.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},p.set(T,D))}}function Sj(a,l,d,p){var T=(T=ce.current)?S0(T):null;if(!T)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Lf(d.href),d=Ga(T).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Lf(d.href);var D=Ga(T).hoistableStyles,te=D.get(a);if(te||(T=T.ownerDocument||T,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(a,te),(D=T.querySelector(fp(a)))&&!D._p&&(te.instance=D,te.state.loading=5),EA.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},EA.set(a,d),D||X_(T,a,d,te.state))),l&&p===null)throw Error(s(528,""));return te}if(l&&p!==null)throw Error(s(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Qf(d),d=Ga(T).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Lf(a){return'href="'+Tn(a)+'"'}function fp(a){return'link[rel="stylesheet"]['+a+"]"}function Nj(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function X_(a,l,d,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Bo(l,"link",d),Gs(l),a.head.appendChild(l))}function Qf(a){return'[src="'+Tn(a)+'"]'}function mp(a){return"script[async]"+a}function Ej(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+Tn(d.href)+'"]');if(p)return l.instance=p,Gs(p),p;var T=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Gs(p),Bo(p,"style",T),N0(p,d.precedence,a),l.instance=p;case"stylesheet":T=Lf(d.href);var D=a.querySelector(fp(T));if(D)return l.state.loading|=4,l.instance=D,Gs(D),D;p=Nj(d),(T=EA.get(T))&&xy(p,T),D=(a.ownerDocument||a).createElement("link"),Gs(D);var te=D;return te._p=new Promise(function(ve,Ue){te.onload=ve,te.onerror=Ue}),Bo(D,"link",p),l.state.loading|=4,N0(D,d.precedence,a),l.instance=D;case"script":return D=Qf(d.src),(T=a.querySelector(mp(D)))?(l.instance=T,Gs(T),T):(p=d,(T=EA.get(D))&&(p=m({},d),vy(p,T)),a=a.ownerDocument||a,T=a.createElement("script"),Gs(T),Bo(T,"link",p),a.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,N0(p,d.precedence,a));return l.instance}function N0(a,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=p.length?p[p.length-1]:null,D=T,te=0;te<p.length;te++){var ve=p[te];if(ve.dataset.precedence===l)D=ve;else if(D!==T)break}D?D.parentNode.insertBefore(a,D.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function xy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function vy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var E0=null;function Tj(a,l,d){if(E0===null){var p=new Map,T=E0=new Map;T.set(d,p)}else T=E0,p=T.get(d),p||(p=new Map,T.set(d,p));if(p.has(a))return p;for(p.set(a,null),d=d.getElementsByTagName(a),T=0;T<d.length;T++){var D=d[T];if(!(D[Nr]||D[js]||a==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var te=D.getAttribute(l)||"";te=a+te;var ve=p.get(te);ve?ve.push(D):p.set(te,[D])}}return p}function Ij(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function J_(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function _j(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function q_(a,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=Lf(p.href),D=l.querySelector(fp(T));if(D){l=D._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=T0.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=D,Gs(D);return}D=l.ownerDocument||l,p=Nj(p),(T=EA.get(T))&&xy(p,T),D=D.createElement("link"),Gs(D);var te=D;te._p=new Promise(function(ve,Ue){te.onload=ve,te.onerror=Ue}),Bo(D,"link",p),d.instance=D}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=T0.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var yy=0;function Z_(a,l){return a.stylesheets&&a.count===0&&_0(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var p=setTimeout(function(){if(a.stylesheets&&_0(a,a.stylesheets),a.unsuspend){var D=a.unsuspend;a.unsuspend=null,D()}},6e4+l);0<a.imgBytes&&yy===0&&(yy=62500*U_());var T=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&_0(a,a.stylesheets),a.unsuspend)){var D=a.unsuspend;a.unsuspend=null,D()}},(a.imgBytes>yy?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(T)}}:null}function T0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var I0=null;function _0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,I0=new Map,l.forEach(e6,a),I0=null,T0.call(a))}function e6(a,l){if(!(l.state.loading&4)){var d=I0.get(a);if(d)var p=d.get(null);else{d=new Map,I0.set(a,d);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<T.length;D++){var te=T[D];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(d.set(te.dataset.precedence,te),p=te)}p&&d.set(null,p)}T=l.instance,te=T.getAttribute("data-precedence"),D=d.get(te)||p,D===p&&d.set(null,T),d.set(te,T),this.count++,p=T0.bind(this),T.addEventListener("load",p),T.addEventListener("error",p),D?D.parentNode.insertBefore(T,D.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),l.state.loading|=4}}var pp={$$typeof:F,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function t6(a,l,d,p,T,D,te,ve,Ue){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=p,this.onUncaughtError=T,this.onCaughtError=D,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ue,this.incompleteTransitions=new Map}function Fj(a,l,d,p,T,D,te,ve,Ue,et,wt,It){return a=new t6(a,l,d,te,Ue,et,wt,It,ve),l=1,D===!0&&(l|=24),D=Fi(3,null,null,l),a.current=D,D.stateNode=a,l=yc(),l.refCount++,a.pooledCache=l,l.refCount++,D.memoizedState={element:p,isDehydrated:d,cache:l},en(D),a}function Uj(a){return a?(a=xi,a):xi}function Dj(a,l,d,p,T,D){T=Uj(T),p.context===null?p.context=T:p.pendingContext=T,p=Gn(l),p.payload={element:d},D=D===void 0?null:D,D!==null&&(p.callback=D),d=Xn(a,p,l),d!==null&&(Pr(d,a,l),hr(d,a,l))}function Rj(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function by(a,l){Rj(a,l),(a=a.alternate)&&Rj(a,l)}function Lj(a){if(a.tag===13||a.tag===31){var l=Il(a,67108864);l!==null&&Pr(l,a,67108864),by(a,67108864)}}function Qj(a){if(a.tag===13||a.tag===31){var l=Qn();l=ln(l);var d=Il(a,l);d!==null&&Pr(d,a,l),by(a,l)}}var F0=!0;function n6(a,l,d,p){var T=le.T;le.T=null;var D=X.p;try{X.p=2,wy(a,l,d,p)}finally{X.p=D,le.T=T}}function s6(a,l,d,p){var T=le.T;le.T=null;var D=X.p;try{X.p=8,wy(a,l,d,p)}finally{X.p=D,le.T=T}}function wy(a,l,d,p){if(F0){var T=jy(p);if(T===null)ly(a,l,p,U0,d),Pj(a,p);else if(a6(T,a,l,d,p))p.stopPropagation();else if(Pj(a,p),l&4&&-1<r6.indexOf(a)){for(;T!==null;){var D=tr(T);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var te=st(D.pendingLanes);if(te!==0){var ve=D;for(ve.pendingLanes|=2,ve.entangledLanes|=2;te;){var Ue=1<<31-Lt(te);ve.entanglements[1]|=Ue,te&=~Ue}Lc(D),(pr&6)===0&&(fn=sn()+500,cp(0))}}break;case 31:case 13:ve=Il(D,2),ve!==null&&Pr(ve,D,2),so(),by(D,2)}if(D=jy(p),D===null&&ly(a,l,p,U0,d),D===T)break;T=D}T!==null&&p.stopPropagation()}else ly(a,l,p,null,d)}}function jy(a){return a=ti(a),By(a)}var U0=null;function By(a){if(U0=null,a=br(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=c(l),a!==null)return a;a=null}else if(d===31){if(a=h(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return U0=a,null}function Oj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case Xe:return 2;case Ht:return 8;case zt:case Vt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var Cy=!1,dd=null,hd=null,fd=null,gp=new Map,xp=new Map,md=[],r6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pj(a,l){switch(a){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":hd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":gp.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(l.pointerId)}}function vp(a,l,d,p,T,D){return a===null||a.nativeEvent!==D?(a={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:D,targetContainers:[T]},l!==null&&(l=tr(l),l!==null&&Lj(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),a)}function a6(a,l,d,p,T){switch(l){case"focusin":return dd=vp(dd,a,l,d,p,T),!0;case"dragenter":return hd=vp(hd,a,l,d,p,T),!0;case"mouseover":return fd=vp(fd,a,l,d,p,T),!0;case"pointerover":var D=T.pointerId;return gp.set(D,vp(gp.get(D)||null,a,l,d,p,T)),!0;case"gotpointercapture":return D=T.pointerId,xp.set(D,vp(xp.get(D)||null,a,l,d,p,T)),!0}return!1}function kj(a){var l=br(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){a.blockedOn=l,ur(a.priority,function(){Qj(d)});return}}else if(l===31){if(l=h(d),l!==null){a.blockedOn=l,ur(a.priority,function(){Qj(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function D0(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=jy(a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);mo=p,d.target.dispatchEvent(p),mo=null}else return l=tr(d),l!==null&&Lj(l),a.blockedOn=d,!1;l.shift()}return!0}function Mj(a,l,d){D0(a)&&d.delete(l)}function i6(){Cy=!1,dd!==null&&D0(dd)&&(dd=null),hd!==null&&D0(hd)&&(hd=null),fd!==null&&D0(fd)&&(fd=null),gp.forEach(Mj),xp.forEach(Mj)}function R0(a,l){a.blockedOn===l&&(a.blockedOn=null,Cy||(Cy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,i6)))}var L0=null;function Hj(a){L0!==a&&(L0=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){L0===a&&(L0=null);for(var l=0;l<a.length;l+=3){var d=a[l],p=a[l+1],T=a[l+2];if(typeof p!="function"){if(By(p||d)===null)continue;break}var D=tr(d);D!==null&&(a.splice(l,3),l-=3,bf(D,{pending:!0,data:T,method:d.method,action:p},p,T))}}))}function Of(a){function l(Ue){return R0(Ue,a)}dd!==null&&R0(dd,a),hd!==null&&R0(hd,a),fd!==null&&R0(fd,a),gp.forEach(l),xp.forEach(l);for(var d=0;d<md.length;d++){var p=md[d];p.blockedOn===a&&(p.blockedOn=null)}for(;0<md.length&&(d=md[0],d.blockedOn===null);)kj(d),d.blockedOn===null&&md.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var T=d[p],D=d[p+1],te=T[Hs]||null;if(typeof D=="function")te||Hj(d);else if(te){var ve=null;if(D&&D.hasAttribute("formAction")){if(T=D,te=D[Hs]||null)ve=te.formAction;else if(By(T)!==null)continue}else ve=te.action;typeof ve=="function"?d[p+1]=ve:(d.splice(p,3),p-=3),Hj(d)}}}function Vj(){function a(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(te){return T=te})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,T=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function Sy(a){this._internalRoot=a}Q0.prototype.render=Sy.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(s(409));var d=l.current,p=Qn();Dj(d,p,a,l,null,null)},Q0.prototype.unmount=Sy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Dj(a.current,2,null,a,null,null),so(),l[gr]=null}};function Q0(a){this._internalRoot=a}Q0.prototype.unstable_scheduleHydration=function(a){if(a){var l=or();a={blockedOn:null,target:a,priority:l};for(var d=0;d<md.length&&l!==0&&l<md[d].priority;d++);md.splice(d,0,a),d===0&&kj(a)}};var Kj=e.version;if(Kj!=="19.2.3")throw Error(s(527,Kj,"19.2.3"));X.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=f(l),a=a!==null?A(a):null,a=a===null?null:a.stateNode,a};var o6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O0.isDisabled&&O0.supportsFiber)try{Gt=O0.inject(o6),Yt=O0}catch{}}return bp.createRoot=function(a,l){if(!r(a))throw Error(s(299));var d=!1,p="",T=e0,D=vh,te=yh;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(te=l.onRecoverableError)),l=Fj(a,1,!1,null,null,d,p,null,T,D,te,Vj),a[gr]=l.current,oy(a),new Sy(l)},bp.hydrateRoot=function(a,l,d){if(!r(a))throw Error(s(299));var p=!1,T="",D=e0,te=vh,ve=yh,Ue=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(D=d.onUncaughtError),d.onCaughtError!==void 0&&(te=d.onCaughtError),d.onRecoverableError!==void 0&&(ve=d.onRecoverableError),d.formState!==void 0&&(Ue=d.formState)),l=Fj(a,1,!0,l,d??null,p,T,Ue,D,te,ve,Vj),l.context=Uj(null),d=l.current,p=Qn(),p=ln(p),T=Gn(p),T.callback=null,Xn(d,T,p),d=p,l.current.lanes=d,Qt(l,d),Lc(l),a[gr]=l.current,oy(a),new Q0(l)},bp.version="19.2.3",bp}var tB;function y6(){if(tB)return Ty.exports;tB=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ty.exports=v6(),Ty.exports}var b6=y6();const w6=qb(b6);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nB="popstate";function j6(n={}){function e(r,o){let{pathname:c="/",search:h="",hash:u=""}=rf(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),P1("",{pathname:c,search:h,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let u=r.location.href,f=u.indexOf("#");h=f===-1?u:u.slice(0,f)}return h+"#"+(typeof o=="string"?o:ng(o))}function s(r,o){cA(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return C6(e,t,s,n)}function Ka(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B6(){return Math.random().toString(36).substring(2,10)}function sB(n,e){return{usr:n.state,key:n.key,idx:e}}function P1(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?rf(e):e,state:t,key:e&&e.key||s||B6()}}function ng({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function rf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function C6(n,e,t,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,c=r.history,h="POP",u=null,f=A();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function A(){return(c.state||{idx:null}).idx}function m(){h="POP";let N=A(),S=N==null?null:N-f;f=N,u&&u({action:h,location:I.location,delta:S})}function x(N,S){h="PUSH";let E=P1(I.location,N,S);t&&t(E,N),f=A()+1;let F=sB(E,f),Q=I.createHref(E);try{c.pushState(F,"",Q)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(Q)}o&&u&&u({action:h,location:I.location,delta:1})}function g(N,S){h="REPLACE";let E=P1(I.location,N,S);t&&t(E,N),f=A();let F=sB(E,f),Q=I.createHref(E);c.replaceState(F,"",Q),o&&u&&u({action:h,location:I.location,delta:0})}function b(N){return S6(N)}let I={get action(){return h},get location(){return n(r,c)},listen(N){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(nB,m),u=N,()=>{r.removeEventListener(nB,m),u=null}},createHref(N){return e(r,N)},createURL:b,encodeLocation(N){let S=b(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:g,go(N){return c.go(N)}};return I}function S6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ka(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ng(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function MN(n,e,t="/"){return N6(n,e,t,!1)}function N6(n,e,t,s){let r=typeof e=="string"?rf(e):e,o=Nu(r.pathname||"/",t);if(o==null)return null;let c=HN(n);E6(c);let h=null;for(let u=0;h==null&&u<c.length;++u){let f=P6(o);h=Q6(c[u],f,s)}return h}function HN(n,e=[],t=[],s="",r=!1){let o=(c,h,u=r,f)=>{let A={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&u)return;Ka(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let m=Cu([s,A.relativePath]),x=t.concat(A);c.children&&c.children.length>0&&(Ka(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HN(c.children,e,x,m,u)),!(c.path==null&&!c.index)&&e.push({path:m,score:R6(m,c.index),routesMeta:x})};return n.forEach((c,h)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,h);else for(let f of VN(c.path))o(c,h,!0,f)}),e}function VN(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let c=VN(s.join("/")),h=[];return h.push(...c.map(u=>u===""?o:[o,u].join("/"))),r&&h.push(...c),h.map(u=>n.startsWith("/")&&u===""?"/":u)}function E6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:L6(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var T6=/^:[\w-]+$/,I6=3,_6=2,F6=1,U6=10,D6=-2,rB=n=>n==="*";function R6(n,e){let t=n.split("/"),s=t.length;return t.some(rB)&&(s+=D6),e&&(s+=_6),t.filter(r=>!rB(r)).reduce((r,o)=>r+(T6.test(o)?I6:o===""?F6:U6),s)}function L6(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function Q6(n,e,t=!1){let{routesMeta:s}=n,r={},o="/",c=[];for(let h=0;h<s.length;++h){let u=s[h],f=h===s.length-1,A=o==="/"?e:e.slice(o.length)||"/",m=Ex({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},A),x=u.route;if(!m&&f&&t&&!s[s.length-1].route.index&&(m=Ex({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},A)),!m)return null;Object.assign(r,m.params),c.push({params:r,pathname:Cu([o,m.pathname]),pathnameBase:V6(Cu([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=Cu([o,m.pathnameBase]))}return c}function Ex(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=O6(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((f,{paramName:A,isOptional:m},x)=>{if(A==="*"){let b=h[x]||"";c=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=h[x];return m&&!g?f[A]=void 0:f[A]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function O6(n,e=!1,t=!0){cA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,u)=>(s.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function P6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cA(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Nu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var KN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k6=n=>KN.test(n);function M6(n,e="/"){let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?rf(n):n,o;if(t)if(k6(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),cA(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=aB(t.substring(1),"/"):o=aB(t,e)}else o=e;return{pathname:o,search:K6(s),hash:z6(r)}}function aB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Uy(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ew(n){let e=H6(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function tw(n,e,t,s=!1){let r;typeof n=="string"?r=rf(n):(r={...n},Ka(!r.pathname||!r.pathname.includes("?"),Uy("?","pathname","search",r)),Ka(!r.pathname||!r.pathname.includes("#"),Uy("#","pathname","hash",r)),Ka(!r.search||!r.search.includes("#"),Uy("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let m=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;r.pathname=x.join("/")}h=m>=0?e[m]:"/"}let u=M6(r,h),f=c&&c!=="/"&&c.endsWith("/"),A=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||A)&&(u.pathname+="/"),u}var Cu=n=>n.join("/").replace(/\/\/+/g,"/"),V6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),K6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,z6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,G6=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function $6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Y6(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GN(n,e){let t=n;if(typeof t!="string"||!KN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,r=!1;if(zN)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Nu(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:r=!0}catch{cA(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $N=["POST","PUT","PATCH","DELETE"];new Set($N);var W6=["GET",...$N];new Set(W6);var gm=Z.createContext(null);gm.displayName="DataRouter";var hv=Z.createContext(null);hv.displayName="DataRouterState";var X6=Z.createContext(!1),YN=Z.createContext({isTransitioning:!1});YN.displayName="ViewTransition";var J6=Z.createContext(new Map);J6.displayName="Fetchers";var q6=Z.createContext(null);q6.displayName="Await";var uA=Z.createContext(null);uA.displayName="Navigation";var jg=Z.createContext(null);jg.displayName="Location";var cc=Z.createContext({outlet:null,matches:[],isDataRoute:!1});cc.displayName="Route";var nw=Z.createContext(null);nw.displayName="RouteError";var WN="REACT_ROUTER_ERROR",Z6="REDIRECT",eF="ROUTE_ERROR_RESPONSE";function tF(n){if(n.startsWith(`${WN}:${Z6}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nF(n){if(n.startsWith(`${WN}:${eF}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new G6(e.status,e.statusText,e.data)}catch{}}function sF(n,{relative:e}={}){Ka(xm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Z.useContext(uA),{hash:r,pathname:o,search:c}=Bg(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Cu([t,o])),s.createHref({pathname:h,search:c,hash:r})}function xm(){return Z.useContext(jg)!=null}function Uu(){return Ka(xm(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(jg).location}var XN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JN(n){Z.useContext(uA).static||Z.useLayoutEffect(n)}function vm(){let{isDataRoute:n}=Z.useContext(cc);return n?gF():rF()}function rF(){Ka(xm(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(gm),{basename:e,navigator:t}=Z.useContext(uA),{matches:s}=Z.useContext(cc),{pathname:r}=Uu(),o=JSON.stringify(ew(s)),c=Z.useRef(!1);return JN(()=>{c.current=!0}),Z.useCallback((u,f={})=>{if(cA(c.current,XN),!c.current)return;if(typeof u=="number"){t.go(u);return}let A=tw(u,JSON.parse(o),r,f.relative==="path");n==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Cu([e,A.pathname])),(f.replace?t.replace:t.push)(A,f.state,f)},[e,t,o,r,n])}Z.createContext(null);function aF(){let{matches:n}=Z.useContext(cc),e=n[n.length-1];return e?e.params:{}}function Bg(n,{relative:e}={}){let{matches:t}=Z.useContext(cc),{pathname:s}=Uu(),r=JSON.stringify(ew(t));return Z.useMemo(()=>tw(n,JSON.parse(r),s,e==="path"),[n,r,s,e])}function iF(n,e){return qN(n,e)}function qN(n,e,t,s,r){var E;Ka(xm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Z.useContext(uA),{matches:c}=Z.useContext(cc),h=c[c.length-1],u=h?h.params:{},f=h?h.pathname:"/",A=h?h.pathnameBase:"/",m=h&&h.route;{let F=m&&m.path||"";eE(f,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let x=Uu(),g;if(e){let F=typeof e=="string"?rf(e):e;Ka(A==="/"||((E=F.pathname)==null?void 0:E.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${F.pathname}" was given in the \`location\` prop.`),g=F}else g=x;let b=g.pathname||"/",I=b;if(A!=="/"){let F=A.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=MN(n,{pathname:I});cA(m||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),cA(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=uF(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:Cu([A,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?A:Cu([A,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,t,s,r);return e&&S?Z.createElement(jg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function oF(){let n=pF(),e=$6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:r},t):null,c)}var lF=Z.createElement(oF,null),ZN=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=nF(n.digest);t&&(n=t)}let e=n!==void 0?Z.createElement(cc.Provider,{value:this.props.routeContext},Z.createElement(nw.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?Z.createElement(AF,{error:n},e):e}};ZN.contextType=X6;var Dy=new WeakMap;function AF({children:n,error:e}){let{basename:t}=Z.useContext(uA);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=tF(e.digest);if(s){let r=Dy.get(e);if(r)throw r;let o=GN(s.location,t);if(zN&&!Dy.get(e))if(o.isExternal||s.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:s.replace}));throw Dy.set(e,c),c}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function cF({routeContext:n,match:e,children:t}){let s=Z.useContext(gm);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(cc.Provider,{value:n},t)}function uF(n,e=[],t=null,s=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let A=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Ka(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,A+1))}let h=!1,u=-1;if(t)for(let A=0;A<o.length;A++){let m=o[A];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=A),m.route.id){let{loaderData:x,errors:g}=t,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let f=t&&s?(A,m)=>{var x,g;s(A,{location:t.location,params:((g=(x=t.matches)==null?void 0:x[0])==null?void 0:g.params)??{},unstable_pattern:Y6(t.matches),errorInfo:m})}:void 0;return o.reduceRight((A,m,x)=>{let g,b=!1,I=null,N=null;t&&(g=c&&m.route.id?c[m.route.id]:void 0,I=m.route.errorElement||lF,h&&(u<0&&x===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===x&&(b=!0,N=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,x+1)),E=()=>{let F;return g?F=I:b?F=N:m.route.Component?F=Z.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=A,Z.createElement(cF,{match:m,routeContext:{outlet:A,matches:S,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?Z.createElement(ZN,{location:t.location,revalidation:t.revalidation,component:I,error:g,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):E()},null)}function sw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dF(n){let e=Z.useContext(gm);return Ka(e,sw(n)),e}function hF(n){let e=Z.useContext(hv);return Ka(e,sw(n)),e}function fF(n){let e=Z.useContext(cc);return Ka(e,sw(n)),e}function rw(n){let e=fF(n),t=e.matches[e.matches.length-1];return Ka(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mF(){return rw("useRouteId")}function pF(){var s;let n=Z.useContext(nw),e=hF("useRouteError"),t=rw("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function gF(){let{router:n}=dF("useNavigate"),e=rw("useNavigate"),t=Z.useRef(!1);return JN(()=>{t.current=!0}),Z.useCallback(async(r,o={})=>{cA(t.current,XN),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var iB={};function eE(n,e,t){!e&&!iB[n]&&(iB[n]=!0,cA(!1,t))}Z.memo(xF);function xF({routes:n,future:e,state:t,onError:s}){return qN(n,void 0,t,s,e)}function k1({to:n,replace:e,state:t,relative:s}){Ka(xm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Z.useContext(uA);cA(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Z.useContext(cc),{pathname:c}=Uu(),h=vm(),u=tw(n,ew(o),c,s==="path"),f=JSON.stringify(u);return Z.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:s})},[h,f,s,e,t]),null}function Va(n){Ka(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vF({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){Ka(!xm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),u=Z.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof t=="string"&&(t=rf(t));let{pathname:f="/",search:A="",hash:m="",state:x=null,key:g="default"}=t,b=Z.useMemo(()=>{let I=Nu(f,h);return I==null?null:{location:{pathname:I,search:A,hash:m,state:x,key:g},navigationType:s}},[h,f,A,m,x,g,s]);return cA(b!=null,`<Router basename="${h}"> is not able to match the URL "${f}${A}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Z.createElement(uA.Provider,{value:u},Z.createElement(jg.Provider,{children:e,value:b}))}function yF({children:n,location:e}){return iF(M1(n),e)}function M1(n,e=[]){let t=[];return Z.Children.forEach(n,(s,r)=>{if(!Z.isValidElement(s))return;let o=[...e,r];if(s.type===Z.Fragment){t.push.apply(t,M1(s.props.children,o));return}Ka(s.type===Va,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ka(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=M1(s.props.children,o)),t.push(c)}),t}var lx="get",Ax="application/x-www-form-urlencoded";function fv(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function bF(n){return fv(n)&&n.tagName.toLowerCase()==="button"}function wF(n){return fv(n)&&n.tagName.toLowerCase()==="form"}function jF(n){return fv(n)&&n.tagName.toLowerCase()==="input"}function BF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CF(n,e){return n.button===0&&(!e||e==="_self")&&!BF(n)}var P0=null;function SF(){if(P0===null)try{new FormData(document.createElement("form"),0),P0=!1}catch{P0=!0}return P0}var NF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ry(n){return n!=null&&!NF.has(n)?(cA(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ax}"`),null):n}function EF(n,e){let t,s,r,o,c;if(wF(n)){let h=n.getAttribute("action");s=h?Nu(h,e):null,t=n.getAttribute("method")||lx,r=Ry(n.getAttribute("enctype"))||Ax,o=new FormData(n)}else if(bF(n)||jF(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||h.getAttribute("action");if(s=u?Nu(u,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||lx,r=Ry(n.getAttribute("formenctype"))||Ry(h.getAttribute("enctype"))||Ax,o=new FormData(h,n),!SF()){let{name:f,type:A,value:m}=n;if(A==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,m)}}else{if(fv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lx,s=null,r=Ax,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function TF(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Nu(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function IF(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _F(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FF(n,e,t){let s=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await IF(o,t);return c.links?c.links():[]}return[]}));return LF(s.flat(1).filter(_F).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function oB(n,e,t,s,r,o){let c=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,h=(u,f)=>{var A;return t[f].pathname!==u.pathname||((A=t[f].route.path)==null?void 0:A.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>c(u,f)||h(u,f)):o==="data"?e.filter((u,f)=>{var m;let A=s.routes[u.route.id];if(!A||!A.hasLoader)return!1;if(c(u,f)||h(u,f))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function UF(n,e,{includeHydrateFallback:t}={}){return DF(n.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function DF(n){return[...new Set(n)]}function RF(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function LF(n,e){let t=new Set;return new Set(e),n.reduce((s,r)=>{let o=JSON.stringify(RF(r));return t.has(o)||(t.add(o),s.push({key:o,link:r})),s},[])}function tE(){let n=Z.useContext(gm);return aw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function QF(){let n=Z.useContext(hv);return aw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iw=Z.createContext(void 0);iw.displayName="FrameworkContext";function nE(){let n=Z.useContext(iw);return aw(n,"You must render this element inside a <HydratedRouter> element"),n}function OF(n,e){let t=Z.useContext(iw),[s,r]=Z.useState(!1),[o,c]=Z.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:f,onMouseLeave:A,onTouchStart:m}=e,x=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=S=>{S.forEach(E=>{c(E.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[n]),Z.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let g=()=>{r(!0)},b=()=>{r(!1),c(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:wp(h,g),onBlur:wp(u,b),onMouseEnter:wp(f,g),onMouseLeave:wp(A,b),onTouchStart:wp(m,g)}]:[!1,x,{}]}function wp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function PF({page:n,...e}){let{router:t}=tE(),s=Z.useMemo(()=>MN(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?Z.createElement(MF,{page:n,matches:s,...e}):null}function kF(n){let{manifest:e,routeModules:t}=nE(),[s,r]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return FF(n,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[n,e,t]),s}function MF({page:n,matches:e,...t}){let s=Uu(),{manifest:r,routeModules:o}=nE(),{basename:c}=tE(),{loaderData:h,matches:u}=QF(),f=Z.useMemo(()=>oB(n,e,u,r,s,"data"),[n,e,u,r,s]),A=Z.useMemo(()=>oB(n,e,u,r,s,"assets"),[n,e,u,r,s]),m=Z.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let b=new Set,I=!1;if(e.forEach(S=>{var F;let E=r.routes[S.route.id];!E||!E.hasLoader||(!f.some(Q=>Q.route.id===S.route.id)&&S.route.id in h&&((F=o[S.route.id])!=null&&F.shouldRevalidate)||E.hasClientLoader?I=!0:b.add(S.route.id))}),b.size===0)return[];let N=TF(n,c,"data");return I&&b.size>0&&N.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[c,h,s,r,f,e,n,o]),x=Z.useMemo(()=>UF(A,r),[A,r]),g=kF(A);return Z.createElement(Z.Fragment,null,m.map(b=>Z.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),x.map(b=>Z.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),g.map(({key:b,link:I})=>Z.createElement("link",{key:b,nonce:t.nonce,...I})))}function HF(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var VF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VF&&(window.__reactRouterVersion="7.11.0")}catch{}function KF({basename:n,children:e,unstable_useTransitions:t,window:s}){let r=Z.useRef();r.current==null&&(r.current=j6({window:s,v5Compat:!0}));let o=r.current,[c,h]=Z.useState({action:o.action,location:o.location}),u=Z.useCallback(f=>{t===!1?h(f):Z.startTransition(()=>h(f))},[t]);return Z.useLayoutEffect(()=>o.listen(u),[o,u]),Z.createElement(vF,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:r,reloadDocument:o,replace:c,state:h,target:u,to:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},b){let{basename:I,unstable_useTransitions:N}=Z.useContext(uA),S=typeof f=="string"&&sE.test(f),E=GN(f,I);f=E.to;let F=sF(f,{relative:r}),[Q,P,H]=OF(s,g),L=YF(f,{replace:c,state:h,target:u,preventScrollReset:A,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function U(K){e&&e(K),K.defaultPrevented||L(K)}let R=Z.createElement("a",{...g,...H,href:E.absoluteURL||F,onClick:E.isExternal||o?e:U,ref:HF(b,P),target:u,"data-discover":!S&&t==="render"?"true":void 0});return Q&&!S?Z.createElement(Z.Fragment,null,R,Z.createElement(PF,{page:F})):R});Na.displayName="Link";var zF=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:r=!1,style:o,to:c,viewTransition:h,children:u,...f},A){let m=Bg(c,{relative:f.relative}),x=Uu(),g=Z.useContext(hv),{navigator:b,basename:I}=Z.useContext(uA),N=g!=null&&ZF(m)&&h===!0,S=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=x.pathname,F=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(E=E.toLowerCase(),F=F?F.toLowerCase():null,S=S.toLowerCase()),F&&I&&(F=Nu(F,I)||F);const Q=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let P=E===S||!r&&E.startsWith(S)&&E.charAt(Q)==="/",H=F!=null&&(F===S||!r&&F.startsWith(S)&&F.charAt(S.length)==="/"),L={isActive:P,isPending:H,isTransitioning:N},U=P?e:void 0,R;typeof s=="function"?R=s(L):R=[s,P?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(L):o;return Z.createElement(Na,{...f,"aria-current":U,className:R,ref:A,style:K,to:c,viewTransition:h},typeof u=="function"?u(L):u)});zF.displayName="NavLink";var GF=Z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:r,state:o,method:c=lx,action:h,onSubmit:u,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},b)=>{let{unstable_useTransitions:I}=Z.useContext(uA),N=JF(),S=qF(h,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&sE.test(h),Q=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let H=P.nativeEvent.submitter,L=(H==null?void 0:H.getAttribute("formmethod"))||c,U=()=>N(H||P.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:r,state:o,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:x});I&&t!==!1?Z.startTransition(()=>U()):U()};return Z.createElement("form",{ref:b,method:E,action:S,onSubmit:s?u:Q,...g,"data-discover":!F&&n==="render"?"true":void 0})});GF.displayName="Form";function $F(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(n){let e=Z.useContext(gm);return Ka(e,$F(n)),e}function YF(n,{target:e,replace:t,state:s,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:u}={}){let f=vm(),A=Uu(),m=Bg(n,{relative:o});return Z.useCallback(x=>{if(CF(x,e)){x.preventDefault();let g=t!==void 0?t:ng(A)===ng(m),b=()=>f(n,{replace:g,state:s,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});u?Z.startTransition(()=>b()):b()}},[A,f,m,t,s,e,n,r,o,c,h,u])}var WF=0,XF=()=>`__${String(++WF)}__`;function JF(){let{router:n}=rE("useSubmit"),{basename:e}=Z.useContext(uA),t=mF(),s=n.fetch,r=n.navigate;return Z.useCallback(async(o,c={})=>{let{action:h,method:u,encType:f,formData:A,body:m}=EF(o,e);if(c.navigate===!1){let x=c.fetcherKey||XF();await s(x,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,r,e,t])}function qF(n,{relative:e}={}){let{basename:t}=Z.useContext(uA),s=Z.useContext(cc);Ka(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...Bg(n||".",{relative:e})},c=Uu();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),u=h.getAll("index");if(u.some(A=>A==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let A=h.toString();o.search=A?`?${A}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Cu([t,o.pathname])),ng(o)}function ZF(n,{relative:e}={}){let t=Z.useContext(YN);Ka(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rE("useViewTransitionState"),r=Bg(n,{relative:e});if(!t.isTransitioning)return!1;let o=Nu(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Nu(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ex(r.pathname,c)!=null||Ex(r.pathname,o)!=null}const eU=()=>{};var lB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let r=n.charCodeAt(s);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},tU=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const r=n[t++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],c=n[t++],h=n[t++],u=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,u=r+2<n.length,f=u?n[r+2]:0,A=o>>2,m=(o&3)<<4|h>>4;let x=(h&15)<<2|f>>6,g=f&63;u||(g=64,c||(x=64)),s.push(t[A],t[m],t[x],t[g])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],h=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const m=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||h==null||f==null||m==null)throw new nU;const x=o<<2|h>>4;if(s.push(x),f!==64){const g=h<<4&240|f>>2;if(s.push(g),m!==64){const b=f<<6&192|m;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sU=function(n){const e=aE(n);return iE.encodeByteArray(e,!0)},Tx=function(n){return sU(n).replace(/\./g,"")},oE=function(n){try{return iE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=()=>rU().__FIREBASE_DEFAULTS__,iU=()=>{if(typeof process>"u"||typeof lB>"u")return;const n=lB.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&oE(n[1]);return e&&JSON.parse(e)},mv=()=>{try{return eU()||aU()||iU()||oU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lE=n=>{var e,t;return(t=(e=mv())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},AE=n=>{const e=lE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},cE=()=>{var n;return(n=mv())==null?void 0:n.config},uE=n=>{var e;return(e=mv())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ow(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Tx(JSON.stringify(t)),Tx(JSON.stringify(c)),""].join(".")}const Qp={};function cU(){const n={prod:[],emulator:[]};for(const e of Object.keys(Qp))Qp[e]?n.emulator.push(e):n.prod.push(e);return n}function uU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let AB=!1;function lw(n,e){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||Qp[n]===e||Qp[n]||AB)return;Qp[n]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",o=cU().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function u(x,g){x.setAttribute("width","24"),x.setAttribute("id",g),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{AB=!0,c()},x}function A(x,g){x.setAttribute("id",g),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function m(){const x=uU(s),g=t("text"),b=document.getElementById(g)||document.createElement("span"),I=t("learnmore"),N=document.getElementById(I)||document.createElement("a"),S=t("preprendIcon"),E=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;h(F),A(N,I);const Q=f();u(E,S),F.append(E,b,N,Q),document.body.appendChild(F)}o?(b.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ol())}function hU(){var e;const n=(e=mv())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gU(){const n=ol();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xU(){return!hU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vU(){try{return typeof indexedDB=="object"}catch{return!1}}function yU(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="FirebaseError";class uc extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=bU,Object.setPrototypeOf(this,uc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cg.prototype.create)}}class Cg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?wU(o,s):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new uc(r,h,s)}}function wU(n,e){return n.replace(jU,(t,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const jU=/\{\$([^}]+)}/g;function BU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qh(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const r of t){if(!s.includes(r))return!1;const o=n[r],c=e[r];if(cB(o)&&cB(c)){if(!qh(o,c))return!1}else if(o!==c)return!1}for(const r of s)if(!t.includes(r))return!1;return!0}function cB(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ep(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,o]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Tp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CU(n,e){const t=new SU(n,e);return t.subscribe.bind(t)}class SU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let r;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");NU(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:s},r.next===void 0&&(r.next=Ly),r.error===void 0&&(r.error=Ly),r.complete===void 0&&(r.complete=Ly);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n){return n&&n._delegate?n._delegate:n}let Ix=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new lU;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IU(e))try{this.getOrInitializeService({instanceIdentifier:Rh})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(e=Rh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rh){return this.instances.has(e)}getOptions(e=Rh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&c.resolve(r)}return r}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const r of s)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TU(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rh){return this.component?this.component.multipleInstances?e:Rh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TU(n){return n===Rh?void 0:n}function IU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sa;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sa||(Sa={}));const FU={debug:Sa.DEBUG,verbose:Sa.VERBOSE,info:Sa.INFO,warn:Sa.WARN,error:Sa.ERROR,silent:Sa.SILENT},UU=Sa.INFO,DU={[Sa.DEBUG]:"log",[Sa.VERBOSE]:"log",[Sa.INFO]:"info",[Sa.WARN]:"warn",[Sa.ERROR]:"error"},RU=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),r=DU[e];if(r)console[r](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let LU=class{constructor(e){this.name=e,this._logLevel=UU,this._logHandler=RU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sa.DEBUG,...e),this._logHandler(this,Sa.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sa.VERBOSE,...e),this._logHandler(this,Sa.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sa.INFO,...e),this._logHandler(this,Sa.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sa.WARN,...e),this._logHandler(this,Sa.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sa.ERROR,...e),this._logHandler(this,Sa.ERROR,...e)}};const QU=(n,e)=>e.some(t=>n instanceof t);let uB,dB;function OU(){return uB||(uB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PU(){return dB||(dB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,H1=new WeakMap,hE=new WeakMap,Qy=new WeakMap,Aw=new WeakMap;function kU(n){const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Rd(n.result)),r()},c=()=>{s(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&dE.set(t,n)}).catch(()=>{}),Aw.set(e,n),e}function MU(n){if(H1.has(n))return;const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});H1.set(n,e)}let V1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return H1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rd(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HU(n){V1=n(V1)}function VU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Oy(this),e,...t);return hE.set(s,e.sort?e.sort():[e]),Rd(s)}:PU().includes(n)?function(...e){return n.apply(Oy(this),e),Rd(dE.get(this))}:function(...e){return Rd(n.apply(Oy(this),e))}}function KU(n){return typeof n=="function"?VU(n):(n instanceof IDBTransaction&&MU(n),QU(n,OU())?new Proxy(n,V1):n)}function Rd(n){if(n instanceof IDBRequest)return kU(n);if(Qy.has(n))return Qy.get(n);const e=KU(n);return e!==n&&(Qy.set(n,e),Aw.set(e,n)),e}const Oy=n=>Aw.get(n);function zU(n,e,{blocked:t,upgrade:s,blocking:r,terminated:o}={}){const c=indexedDB.open(n,e),h=Rd(c);return s&&c.addEventListener("upgradeneeded",u=>{s(Rd(c.result),u.oldVersion,u.newVersion,Rd(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),h.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const GU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],Py=new Map;function hB(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,r=$U.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(r||GU.includes(t)))return;const o=async function(c,...h){const u=this.transaction(c,r?"readwrite":"readonly");let f=u.store;return s&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),r&&u.done]))[0]};return Py.set(e,o),o}HU(n=>({...n,get:(e,t,s)=>hB(e,t)||n.get(e,t,s),has:(e,t)=>!!hB(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WU(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function WU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const K1="@firebase/app",fB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new LU("@firebase/app"),XU="@firebase/app-compat",JU="@firebase/analytics-compat",qU="@firebase/analytics",ZU="@firebase/app-check-compat",eD="@firebase/app-check",tD="@firebase/auth",nD="@firebase/auth-compat",sD="@firebase/database",rD="@firebase/data-connect",aD="@firebase/database-compat",iD="@firebase/functions",oD="@firebase/functions-compat",lD="@firebase/installations",AD="@firebase/installations-compat",cD="@firebase/messaging",uD="@firebase/messaging-compat",dD="@firebase/performance",hD="@firebase/performance-compat",fD="@firebase/remote-config",mD="@firebase/remote-config-compat",pD="@firebase/storage",gD="@firebase/storage-compat",xD="@firebase/firestore",vD="@firebase/ai",yD="@firebase/firestore-compat",bD="firebase",wD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="[DEFAULT]",jD={[K1]:"fire-core",[XU]:"fire-core-compat",[qU]:"fire-analytics",[JU]:"fire-analytics-compat",[eD]:"fire-app-check",[ZU]:"fire-app-check-compat",[tD]:"fire-auth",[nD]:"fire-auth-compat",[sD]:"fire-rtdb",[rD]:"fire-data-connect",[aD]:"fire-rtdb-compat",[iD]:"fire-fn",[oD]:"fire-fn-compat",[lD]:"fire-iid",[AD]:"fire-iid-compat",[cD]:"fire-fcm",[uD]:"fire-fcm-compat",[dD]:"fire-perf",[hD]:"fire-perf-compat",[fD]:"fire-rc",[mD]:"fire-rc-compat",[pD]:"fire-gcs",[gD]:"fire-gcs-compat",[xD]:"fire-fst",[yD]:"fire-fst-compat",[vD]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Map,BD=new Map,G1=new Map;function mB(n,e){try{n.container.addComponent(e)}catch(t){Eu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Md(n){const e=n.name;if(G1.has(e))return Eu.debug(`There were multiple attempts to register component ${e}.`),!1;G1.set(e,n);for(const t of _x.values())mB(t,n);for(const t of BD.values())mB(t,n);return!0}function pv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function iA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ld=new Cg("app","Firebase",CD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ix("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ld.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=wD;function fE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:z1,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ld.create("bad-app-name",{appName:String(r)});if(t||(t=cE()),!t)throw Ld.create("no-options");const o=_x.get(r);if(o){if(qh(t,o.options)&&qh(s,o.config))return o;throw Ld.create("duplicate-app",{appName:r})}const c=new _U(r);for(const u of G1.values())c.addComponent(u);const h=new SD(t,s,c);return _x.set(r,h),h}function cw(n=z1){const e=_x.get(n);if(!e&&n===z1&&cE())return fE();if(!e)throw Ld.create("no-app",{appName:n});return e}function UA(n,e,t){let s=jD[n]??n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eu.warn(c.join(" "));return}Md(new Ix(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebase-heartbeat-database",ED=1,sg="firebase-heartbeat-store";let ky=null;function mE(){return ky||(ky=zU(ND,ED,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ld.create("idb-open",{originalErrorMessage:n.message})})),ky}async function TD(n){try{const t=(await mE()).transaction(sg),s=await t.objectStore(sg).get(pE(n));return await t.done,s}catch(e){if(e instanceof uc)Eu.warn(e.message);else{const t=Ld.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Eu.warn(t.message)}}}async function pB(n,e){try{const s=(await mE()).transaction(sg,"readwrite");await s.objectStore(sg).put(e,pE(n)),await s.done}catch(t){if(t instanceof uc)Eu.warn(t.message);else{const s=Ld.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Eu.warn(s.message)}}}function pE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1024,_D=30;class FD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DD(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>_D){const c=RD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Eu.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gB(),{heartbeatsToSend:s,unsentEntries:r}=UD(this._heartbeatsCache.heartbeats),o=Tx(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Eu.warn(t),""}}}function gB(){return new Date().toISOString().substring(0,10)}function UD(n,e=ID){const t=[];let s=n.slice();for(const r of n){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),xB(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),xB(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class DD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vU()?yU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xB(n){return Tx(JSON.stringify({version:2,heartbeats:n})).length}function RD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n){Md(new Ix("platform-logger",e=>new YU(e),"PRIVATE")),Md(new Ix("heartbeat",e=>new FD(e),"PRIVATE")),UA(K1,fB,n),UA(K1,fB,"esm2020"),UA("fire-js","")}LD("");var QD="firebase",OD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */UA(QD,OD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(aa||(aa={}));const PD={debug:aa.DEBUG,verbose:aa.VERBOSE,info:aa.INFO,warn:aa.WARN,error:aa.ERROR,silent:aa.SILENT},kD=aa.INFO,MD={[aa.DEBUG]:"log",[aa.VERBOSE]:"log",[aa.INFO]:"info",[aa.WARN]:"warn",[aa.ERROR]:"error"},HD=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),r=MD[e];if(r)console[r](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let VD=class{constructor(e){this.name=e,this._logLevel=kD,this._logHandler=HD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in aa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,aa.DEBUG,...e),this._logHandler(this,aa.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,aa.VERBOSE,...e),this._logHandler(this,aa.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,aa.INFO,...e),this._logHandler(this,aa.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,aa.WARN,...e),this._logHandler(this,aa.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,aa.ERROR,...e),this._logHandler(this,aa.ERROR,...e)}},vB=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KD=gE,xE=new Cg("auth","Firebase",gE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new VD("@firebase/auth");function zD(n,...e){Fx.logLevel<=aa.WARN&&Fx.warn(`Auth (${af}): ${n}`,...e)}function cx(n,...e){Fx.logLevel<=aa.ERROR&&Fx.error(`Auth (${af}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n,...e){throw uw(n,...e)}function Hc(n,...e){return uw(n,...e)}function vE(n,e,t){const s={...KD(),[e]:t};return new Cg("auth","Firebase",s).create(e,{appName:n.name})}function Qd(n){return vE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uw(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return xE.create(n,...e)}function is(n,e,...t){if(!n)throw uw(e,...t)}function ju(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cx(e),new Error(e)}function Tu(n,e){n||ju(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function GD(){return yB()==="http:"||yB()==="https:"}function yB(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GD()||mU()||"connection"in navigator)?navigator.onLine:!0}function YD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tu(t>e,"Short delay should be less than long delay!"),this.isMobile=dU()||pU()}get(){return $D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n,e){Tu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ju("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ju("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ju("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JD=new Ng(3e4,6e4);function qd(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Du(n,e,t,s,r={}){return bE(n,r,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const h=Sg({key:n.config.apiKey,...c}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:u,...o};return fU()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Jd(n.emulatorConfig.host)&&(f.credentials="include"),yE.fetch()(await wE(n,n.config.apiHost,t,h),f)})}async function bE(n,e,t){n._canInitEmulator=!1;const s={...WD,...e};try{const r=new ZD(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw k0(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[u,f]=h.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw k0(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw k0(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw k0(n,"user-disabled",c);const A=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vE(n,A,f);oc(n,A)}}catch(r){if(r instanceof uc)throw r;oc(n,"network-request-failed",{message:String(r)})}}async function gv(n,e,t,s,r={}){const o=await Du(n,e,t,s,r);return"mfaPendingCredential"in o&&oc(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function wE(n,e,t,s){const r=`${e}${t}?${s}`,o=n,c=o.config.emulator?dw(n.config,r):`${n.config.apiScheme}://${r}`;return XD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function qD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Hc(this.auth,"network-request-failed")),JD.get())})}}function k0(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const r=Hc(n,e,s);return r.customData._tokenResponse=t,r}function bB(n){return n!==void 0&&n.enterprise!==void 0}class eR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tR(n,e){return Du(n,"GET","/v2/recaptchaConfig",qd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(n,e){return Du(n,"POST","/v1/accounts:delete",e)}async function Ux(n,e){return Du(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sR(n,e=!1){const t=za(n),s=await t.getIdToken(e),r=hw(s);is(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:s,authTime:Op(My(r.auth_time)),issuedAtTime:Op(My(r.iat)),expirationTime:Op(My(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function My(n){return Number(n)*1e3}function hw(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return cx("JWT malformed, contained fewer than 3 sections"),null;try{const r=oE(t);return r?JSON.parse(r):(cx("Failed to decode base64 JWT payload"),null)}catch(r){return cx("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function wB(n){const e=hw(n);return is(e,"internal-error"),is(typeof e.exp<"u","internal-error"),is(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof uc&&rR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function rR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Op(this.lastLoginAt),this.creationTime=Op(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(n){var m;const e=n.auth,t=await n.getIdToken(),s=await rg(n,Ux(e,{idToken:t}));is(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=(m=r.providerUserInfo)!=null&&m.length?jE(r.providerUserInfo):[],c=oR(n.providerData,o),h=n.isAnonymous,u=!(n.email&&r.passwordHash)&&!(c!=null&&c.length),f=h?u:!1,A={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Y1(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,A)}async function iR(n){const e=za(n);await Dx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oR(n,e){return[...n.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function jE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(n,e){const t=await bE(n,{},async()=>{const s=Sg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await wE(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:h,body:s};return n.emulatorConfig&&Jd(n.emulatorConfig.host)&&(u.credentials="include"),yE.fetch()(c,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AR(n,e){return Du(n,"POST","/v2/accounts:revokeToken",qd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){is(e.idToken,"internal-error"),is(typeof e.idToken<"u","internal-error"),is(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){is(e.length!==0,"internal-error");const t=wB(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(is(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:r,expiresIn:o}=await lR(e,t);this.updateTokensAndExpiration(s,r,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:r,expirationTime:o}=t,c=new em;return s&&(is(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),r&&(is(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(is(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new em,this.toJSON())}_performRefresh(){return ju("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n,e){is(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rc{constructor({uid:e,auth:t,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Y1(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await rg(this,this.stsTokenManager.getToken(this.auth,e));return is(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sR(this,e)}reload(){return iR(this)}_assign(e){this!==e&&(is(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){is(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Dx(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(iA(this.auth.app))return Promise.reject(Qd(this.auth));const e=await this.getIdToken();return await rg(this,nR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,u=t._redirectEventId??void 0,f=t.createdAt??void 0,A=t.lastLoginAt??void 0,{uid:m,emailVerified:x,isAnonymous:g,providerData:b,stsTokenManager:I}=t;is(m&&I,e,"internal-error");const N=em.fromJSON(this.name,I);is(typeof m=="string",e,"internal-error"),gd(s,e.name),gd(r,e.name),is(typeof x=="boolean",e,"internal-error"),is(typeof g=="boolean",e,"internal-error"),gd(o,e.name),gd(c,e.name),gd(h,e.name),gd(u,e.name),gd(f,e.name),gd(A,e.name);const S=new rc({uid:m,auth:e,email:r,emailVerified:x,displayName:s,isAnonymous:g,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:f,lastLoginAt:A});return b&&Array.isArray(b)&&(S.providerData=b.map(E=>({...E}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,t,s=!1){const r=new em;r.updateFromServerResponse(t);const o=new rc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Dx(o),o}static async _fromGetAccountInfoResponse(e,t,s){const r=t.users[0];is(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?jE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new em;h.updateFromIdToken(s);const u=new rc({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Y1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new Map;function Bu(n){Tu(n instanceof Function,"Expected a class definition");let e=jB.get(n);return e?(Tu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jB.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BE.type="NONE";const BB=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n,e,t){return`firebase:${n}:${e}:${t}`}class tm{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:r,name:o}=this.auth;this.fullUserKey=ux(this.userKey,r.apiKey,o),this.fullPersistenceKey=ux("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ux(this.auth,{idToken:e}).catch(()=>{});return t?rc._fromGetAccountInfoResponse(this.auth,t,e):null}return rc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new tm(Bu(BB),e,s);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Bu(BB);const c=ux(s,e.config.apiKey,e.name);let h=null;for(const f of t)try{const A=await f._get(c);if(A){let m;if(typeof A=="string"){const x=await Ux(e,{idToken:A}).catch(()=>{});if(!x)break;m=await rc._fromGetAccountInfoResponse(e,x,A)}else m=rc._fromJSON(e,A);f!==o&&(h=m),o=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new tm(o,e,s):(o=u[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new tm(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IE(e))return"Blackberry";if(_E(e))return"Webos";if(SE(e))return"Safari";if((e.includes("chrome/")||NE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function CE(n=ol()){return/firefox\//i.test(n)}function SE(n=ol()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NE(n=ol()){return/crios\//i.test(n)}function EE(n=ol()){return/iemobile/i.test(n)}function TE(n=ol()){return/android/i.test(n)}function IE(n=ol()){return/blackberry/i.test(n)}function _E(n=ol()){return/webos/i.test(n)}function fw(n=ol()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cR(n=ol()){var e;return fw(n)&&!!((e=window.navigator)!=null&&e.standalone)}function uR(){return gU()&&document.documentMode===10}function FE(n=ol()){return fw(n)||TE(n)||_E(n)||IE(n)||/windows phone/i.test(n)||EE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e=[]){let t;switch(n){case"Browser":t=CB(ol());break;case"Worker":t=`${CB(ol())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${af}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,h)=>{try{const u=e(o);c(u)}catch(u){h(u)}});s.onAbort=t,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(n,e={}){return Du(n,"GET","/v2/passwordPolicy",qd(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=6;class mR{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t,s,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SB(this),this.idTokenSubscription=new SB(this),this.beforeStateQueue=new dR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bu(t)),this._initializationPromise=this.queue(async()=>{var s,r,o;if(!this._deleted&&(this.persistenceManager=await tm.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ux(this,{idToken:e}),s=await rc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(iA(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===h)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return is(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dx(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(iA(this.app))return Promise.reject(Qd(this));const t=e?za(e):null;return t&&is(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&is(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return iA(this.app)?Promise.reject(Qd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return iA(this.app)?Promise.reject(Qd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hR(this),t=new mR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cg("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await AR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bu(e)||this._popupRedirectResolver;is(t,this,"argument-error"),this.redirectPersistenceManager=await tm.create(this,[Bu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(is(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,s,r);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return is(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(iA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&zD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function of(n){return za(n)}class SB{constructor(e){this.auth=e,this.observer=null,this.addObserver=CU(t=>this.observer=t)}get next(){return is(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(n){xv=n}function DE(n){return xv.loadJS(n)}function xR(){return xv.recaptchaEnterpriseScript}function vR(){return xv.gapiScript}function yR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bR{constructor(){this.enterprise=new wR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jR="recaptcha-enterprise",RE="NO_RECAPTCHA";class BR{constructor(e){this.type=jR,this.auth=of(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{tR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new eR(u);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(u=>{h(u)})})}function r(o,c,h){const u=window.grecaptcha;bB(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(RE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bR().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(h=>{if(!t&&bB(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xR();u.length!==0&&(u+=h),DE(u).then(()=>{r(h,o,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function NB(n,e,t,s=!1,r=!1){const o=new BR(n);let c;if(r)c=RE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const u=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const u=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function W1(n,e,t,s,r){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await NB(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await NB(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n,e){const t=pv(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(qh(o,e??{}))return r;oc(r,"already-initialized")}return t.initialize({options:e})}function SR(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Bu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function NR(n,e,t){const s=of(n);is(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,o=LE(e),{host:c,port:h}=ER(e),u=h===null?"":`:${h}`,f={url:`${o}//${c}${u}/`},A=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){is(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),is(qh(f,s.config.emulator)&&qh(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Jd(c)?(ow(`${o}//${c}${u}`),lw("Auth",!0)):TR()}function LE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ER(n){const e=LE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const o=r[1];return{host:o,port:EB(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:EB(c)}}}function EB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ju("not implemented")}_getIdTokenResponse(e){return ju("not implemented")}_linkToIdToken(e,t){return ju("not implemented")}_getReauthenticationResolver(e){return ju("not implemented")}}async function IR(n,e){return Du(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(n,e){return gv(n,"POST","/v1/accounts:signInWithPassword",qd(n,e))}async function FR(n,e){return Du(n,"POST","/v1/accounts:sendOobCode",qd(n,e))}async function UR(n,e){return FR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(n,e){return gv(n,"POST","/v1/accounts:signInWithEmailLink",qd(n,e))}async function RR(n,e){return gv(n,"POST","/v1/accounts:signInWithEmailLink",qd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends mw{constructor(e,t,s,r=null){super("password",s),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ag(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ag(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,t,"signInWithPassword",_R);case"emailLink":return DR(e,{email:this._email,oobCode:this._password});default:oc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,s,"signUpPassword",IR);case"emailLink":return RR(e,{idToken:t,email:this._email,oobCode:this._password});default:oc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(n,e){return gv(n,"POST","/v1/accounts:signInWithIdp",qd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="http://localhost";class Zh extends mw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...o}=t;if(!s||!r)return null;const c=new Zh(s,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return nm(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,nm(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nm(e,t)}buildRequest(){const e={requestUri:LR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OR(n){const e=Ep(Tp(n)).link,t=e?Ep(Tp(e)).deep_link_id:null,s=Ep(Tp(n)).deep_link_id;return(s?Ep(Tp(s)).link:null)||s||t||e||n}class pw{constructor(e){const t=Ep(Tp(e)),s=t.apiKey??null,r=t.oobCode??null,o=QR(t.mode??null);is(s&&r&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=OR(e);try{return new pw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.providerId=ym.PROVIDER_ID}static credential(e,t){return ag._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=pw.parseLink(t);return is(s,"argument-error"),ag._fromEmailAndCode(e,s.code,s.tenantId)}}ym.PROVIDER_ID="password";ym.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ym.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Eg{constructor(){super("facebook.com")}static credential(e){return Zh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jd.credential(e.oauthAccessToken)}catch{return null}}}jd.FACEBOOK_SIGN_IN_METHOD="facebook.com";jd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends Eg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zh._fromParams({providerId:Bd.PROVIDER_ID,signInMethod:Bd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bd.credentialFromTaggedObject(e)}static credentialFromError(e){return Bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Bd.credential(t,s)}catch{return null}}}Bd.GOOGLE_SIGN_IN_METHOD="google.com";Bd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Eg{constructor(){super("github.com")}static credential(e){return Zh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cd.credential(e.oauthAccessToken)}catch{return null}}}Cd.GITHUB_SIGN_IN_METHOD="github.com";Cd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends Eg{constructor(){super("twitter.com")}static credential(e,t){return Zh._fromParams({providerId:Sd.PROVIDER_ID,signInMethod:Sd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sd.credentialFromTaggedObject(e)}static credentialFromError(e){return Sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Sd.credential(t,s)}catch{return null}}}Sd.TWITTER_SIGN_IN_METHOD="twitter.com";Sd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,r=!1){const o=await rc._fromIdTokenResponse(e,s,r),c=TB(s);return new am({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const r=TB(s);return new am({user:e,providerId:r,_tokenResponse:s,operationType:t})}}function TB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends uc{constructor(e,t,s,r){super(t.code,t.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Rx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,r){return new Rx(e,t,s,r)}}function OE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rx._fromErrorAndOperation(n,o,e,s):o})}async function PR(n,e,t=!1){const s=await rg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return am._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e,t=!1){const{auth:s}=n;if(iA(s.app))return Promise.reject(Qd(s));const r="reauthenticate";try{const o=await rg(n,OE(s,r,e,n),t);is(o.idToken,s,"internal-error");const c=hw(o.idToken);is(c,s,"internal-error");const{sub:h}=c;return is(n.uid===h,s,"user-mismatch"),am._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&oc(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(n,e,t=!1){if(iA(n.app))return Promise.reject(Qd(n));const s="signIn",r=await OE(n,s,e),o=await am._fromIdTokenResponse(n,s,r);return t||await n._updateCurrentUser(o.user),o}async function MR(n,e){return PE(of(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n){const e=of(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VR(n,e,t){const s=of(n);await W1(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UR)}function KR(n,e,t){return iA(n.app)?Promise.reject(Qd(n)):MR(za(n),ym.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HR(n),s})}function zR(n,e,t,s){return za(n).onIdTokenChanged(e,t,s)}function GR(n,e,t){return za(n).beforeAuthStateChanged(e,t)}function $R(n,e,t,s){return za(n).onAuthStateChanged(e,t,s)}function jp(n){return za(n).signOut()}const Lx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lx,"1"),this.storage.removeItem(Lx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1e3,WR=10;class ME extends kE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),r=this.localCache[t];s!==r&&e(t,r,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,u)=>{this.notifyListeners(c,u)});return}const s=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);uR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,WR):r()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const XR=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends kE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HE.type="SESSION";const VE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const s=new vv(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const h=Array.from(c).map(async f=>f(t.origin,o)),u=await JR(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,u)=>{const f=gw("",20);r.port1.start();const A=setTimeout(()=>{u(new Error("unsupported_event"))},s);c={messageChannel:r,onMessage(m){const x=m;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(A),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(){return window}function ZR(n){Vc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof Vc().WorkerGlobalScope<"u"&&typeof Vc().importScripts=="function"}async function eL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function nL(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",sL=1,Qx="firebaseLocalStorage",GE="fbase_key";class Tg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yv(n,e){return n.transaction([Qx],e?"readwrite":"readonly").objectStore(Qx)}function rL(){const n=indexedDB.deleteDatabase(zE);return new Tg(n).toPromise()}function X1(){const n=indexedDB.open(zE,sL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Qx,{keyPath:GE})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Qx)?e(s):(s.close(),await rL(),e(await X1()))})})}async function IB(n,e,t){const s=yv(n,!0).put({[GE]:e,value:t});return new Tg(s).toPromise()}async function aL(n,e){const t=yv(n,!1).get(e),s=await new Tg(t).toPromise();return s===void 0?null:s.value}function _B(n,e){const t=yv(n,!0).delete(e);return new Tg(t).toPromise()}const iL=800,oL=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await X1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>oL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vv._getInstance(nL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await eL(),!this.activeServiceWorker)return;this.sender=new qR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await X1();return await IB(e,Lx,"1"),await _B(e,Lx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>IB(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>aL(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_B(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=yv(r,!1).getAll();return new Tg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const lL=$E;new Ng(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n,e){return e?Bu(e):(is(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends mw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cL(n){return PE(n.auth,new xw(n),n.bypassAuthState)}function uL(n){const{auth:e,user:t}=n;return is(t,e,"internal-error"),kR(t,new xw(n),n.bypassAuthState)}async function dL(n){const{auth:e,user:t}=n;return is(t,e,"internal-error"),PR(t,new xw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,s,r,o=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cL;case"linkViaPopup":case"linkViaRedirect":return dL;case"reauthViaPopup":case"reauthViaRedirect":return uL;default:oc(this.auth,"internal-error")}}resolve(e){Tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Ng(2e3,1e4);class Yf extends YE{constructor(e,t,s,r,o){super(e,t,r,o),this.provider=s,this.authWindow=null,this.pollId=null,Yf.currentPopupAction&&Yf.currentPopupAction.cancel(),Yf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return is(e,this.auth,"internal-error"),e}async onExecution(){Tu(this.filter.length===1,"Popup operations only handle one event");const e=gw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hL.get())};e()}}Yf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="pendingRedirect",dx=new Map;class mL extends YE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=dx.get(this.auth._key());if(!e){try{const s=await pL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}dx.set(this.auth._key(),e)}return this.bypassAuthState||dx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pL(n,e){const t=vL(e),s=xL(n);if(!await s._isAvailable())return!1;const r=await s._get(t)==="true";return await s._remove(t),r}function gL(n,e){dx.set(n._key(),e)}function xL(n){return Bu(n._redirectPersistence)}function vL(n){return ux(fL,n.config.apiKey,n.name)}async function yL(n,e,t=!1){if(iA(n.app))return Promise.reject(Qd(n));const s=of(n),r=AL(s,e),c=await new mL(s,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=600*1e3;class wL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!WE(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(Hc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bL&&this.cachedEventUids.clear(),this.cachedEventUids.has(FB(e))}saveEventToCache(e){this.cachedEventUids.add(FB(e)),this.lastProcessedEventTime=Date.now()}}function FB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(n,e={}){return Du(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SL=/^https?/;async function NL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await BL(n);for(const t of e)try{if(EL(t))return}catch{}oc(n,"unauthorized-domain")}function EL(n){const e=$1(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!SL.test(t))return!1;if(CL.test(n))return s===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new Ng(3e4,6e4);function UB(){const n=Vc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IL(n){return new Promise((e,t)=>{var r,o,c;function s(){UB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UB(),t(Hc(n,"network-request-failed"))},timeout:TL.get()})}if((o=(r=Vc().gapi)==null?void 0:r.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=Vc().gapi)!=null&&c.load)s();else{const h=yR("iframefcb");return Vc()[h]=()=>{gapi.load?s():t(Hc(n,"network-request-failed"))},DE(`${vR()}?onload=${h}`).catch(u=>t(u))}}).catch(e=>{throw hx=null,e})}let hx=null;function _L(n){return hx=hx||IL(n),hx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=new Ng(5e3,15e3),UL="__/auth/iframe",DL="emulator/auth/iframe",RL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QL(n){const e=n.config;is(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dw(e,DL):`https://${n.config.authDomain}/${UL}`,s={apiKey:e.apiKey,appName:n.name,v:af},r=LL.get(n.config.apiHost);r&&(s.eid=r);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${Sg(s).slice(1)}`}async function OL(n){const e=await _L(n),t=Vc().gapi;return is(t,n,"internal-error"),e.open({where:document.body,url:QL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RL,dontclear:!0},s=>new Promise(async(r,o)=>{await s.restyle({setHideOnLeave:!1});const c=Hc(n,"network-request-failed"),h=Vc().setTimeout(()=>{o(c)},FL.get());function u(){Vc().clearTimeout(h),r(s)}s.ping(u).then(u,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kL=500,ML=600,HL="_blank",VL="http://localhost";class DB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KL(n,e,t,s=kL,r=ML){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const u={...PL,width:s.toString(),height:r.toString(),top:o,left:c},f=ol().toLowerCase();t&&(h=NE(f)?HL:t),CE(f)&&(e=e||VL,u.scrollbars="yes");const A=Object.entries(u).reduce((x,[g,b])=>`${x}${g}=${b},`,"");if(cR(f)&&h!=="_self")return zL(e||"",h),new DB(null);const m=window.open(e||"",h,A);is(m,n,"popup-blocked");try{m.focus()}catch{}return new DB(m)}function zL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="__/auth/handler",$L="emulator/auth/handler",YL=encodeURIComponent("fac");async function RB(n,e,t,s,r,o){is(n.config.authDomain,n,"auth-domain-config-required"),is(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:af,eventId:r};if(e instanceof QE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",BU(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,m]of Object.entries({}))c[A]=m}if(e instanceof Eg){const A=e.getScopes().filter(m=>m!=="");A.length>0&&(c.scopes=A.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const A of Object.keys(h))h[A]===void 0&&delete h[A];const u=await n._getAppCheckToken(),f=u?`#${YL}=${encodeURIComponent(u)}`:"";return`${WL(n)}?${Sg(h).slice(1)}${f}`}function WL({config:n}){return n.emulator?dw(n,$L):`https://${n.authDomain}/${GL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="webStorageSupport";class XL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=yL,this._overrideRedirectResult=gL}async _openPopup(e,t,s,r){var c;Tu((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await RB(e,t,s,$1(),r);return KL(e,o,gw())}async _openRedirect(e,t,s,r){await this._originValidation(e);const o=await RB(e,t,s,$1(),r);return ZR(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Tu(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await OL(e),s=new wL(e);return t.register("authEvent",r=>(is(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hy,{type:Hy},r=>{var c;const o=(c=r==null?void 0:r[0])==null?void 0:c[Hy];o!==void 0&&t(!!o),oc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FE()||SE()||fw()}}const JL=XL;var LB="@firebase/auth",QB="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){is(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e8(n){Md(new vB("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;is(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(n)},f=new pR(s,r,o,u);return SR(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Md(new vB("auth-internal",e=>{const t=of(e.getProvider("auth").getImmediate());return(s=>new qL(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),UA(LB,QB,ZL(n)),UA(LB,QB,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=300,n8=uE("authIdTokenMaxAge")||t8;let OB=null;const s8=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>n8)return;const r=t==null?void 0:t.token;OB!==r&&(OB=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function r8(n=cw()){const e=pv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CR(n,{popupRedirectResolver:JL,persistence:[lL,XR,VE]}),s=uE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=s8(o.toString());GR(t,c,()=>c(t.currentUser)),zR(t,h=>c(h))}}const r=lE("auth");return r&&NR(t,`http://${r}`),t}function a8(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}gR({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=r=>{const o=Hc("internal-error");o.customData=r,t(o)},s.type="text/javascript",s.charset="UTF-8",a8().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e8("Browser");let i8=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(cr||(cr={}));const o8={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},l8=cr.INFO,A8={[cr.DEBUG]:"log",[cr.VERBOSE]:"log",[cr.INFO]:"info",[cr.WARN]:"warn",[cr.ERROR]:"error"},c8=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),r=A8[e];if(r)console[r](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u8{constructor(e){this.name=e,this._logLevel=l8,this._logHandler=c8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,cr.DEBUG,...e),this._logHandler(this,cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,cr.VERBOSE,...e),this._logHandler(this,cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,cr.INFO,...e),this._logHandler(this,cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,cr.WARN,...e),this._logHandler(this,cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,cr.ERROR,...e),this._logHandler(this,cr.ERROR,...e)}}var PB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Od,XE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,U){function R(){}R.prototype=U.prototype,L.F=U.prototype,L.prototype=new R,L.prototype.constructor=L,L.D=function(K,O,V){for(var G=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)G[oe-2]=arguments[oe];return U.prototype[O].apply(K,G)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(L,U,R){R||(R=0);const K=Array(16);if(typeof U=="string")for(var O=0;O<16;++O)K[O]=U.charCodeAt(R++)|U.charCodeAt(R++)<<8|U.charCodeAt(R++)<<16|U.charCodeAt(R++)<<24;else for(O=0;O<16;++O)K[O]=U[R++]|U[R++]<<8|U[R++]<<16|U[R++]<<24;U=L.g[0],R=L.g[1],O=L.g[2];let V=L.g[3],G;G=U+(V^R&(O^V))+K[0]+3614090360&4294967295,U=R+(G<<7&4294967295|G>>>25),G=V+(O^U&(R^O))+K[1]+3905402710&4294967295,V=U+(G<<12&4294967295|G>>>20),G=O+(R^V&(U^R))+K[2]+606105819&4294967295,O=V+(G<<17&4294967295|G>>>15),G=R+(U^O&(V^U))+K[3]+3250441966&4294967295,R=O+(G<<22&4294967295|G>>>10),G=U+(V^R&(O^V))+K[4]+4118548399&4294967295,U=R+(G<<7&4294967295|G>>>25),G=V+(O^U&(R^O))+K[5]+1200080426&4294967295,V=U+(G<<12&4294967295|G>>>20),G=O+(R^V&(U^R))+K[6]+2821735955&4294967295,O=V+(G<<17&4294967295|G>>>15),G=R+(U^O&(V^U))+K[7]+4249261313&4294967295,R=O+(G<<22&4294967295|G>>>10),G=U+(V^R&(O^V))+K[8]+1770035416&4294967295,U=R+(G<<7&4294967295|G>>>25),G=V+(O^U&(R^O))+K[9]+2336552879&4294967295,V=U+(G<<12&4294967295|G>>>20),G=O+(R^V&(U^R))+K[10]+4294925233&4294967295,O=V+(G<<17&4294967295|G>>>15),G=R+(U^O&(V^U))+K[11]+2304563134&4294967295,R=O+(G<<22&4294967295|G>>>10),G=U+(V^R&(O^V))+K[12]+1804603682&4294967295,U=R+(G<<7&4294967295|G>>>25),G=V+(O^U&(R^O))+K[13]+4254626195&4294967295,V=U+(G<<12&4294967295|G>>>20),G=O+(R^V&(U^R))+K[14]+2792965006&4294967295,O=V+(G<<17&4294967295|G>>>15),G=R+(U^O&(V^U))+K[15]+1236535329&4294967295,R=O+(G<<22&4294967295|G>>>10),G=U+(O^V&(R^O))+K[1]+4129170786&4294967295,U=R+(G<<5&4294967295|G>>>27),G=V+(R^O&(U^R))+K[6]+3225465664&4294967295,V=U+(G<<9&4294967295|G>>>23),G=O+(U^R&(V^U))+K[11]+643717713&4294967295,O=V+(G<<14&4294967295|G>>>18),G=R+(V^U&(O^V))+K[0]+3921069994&4294967295,R=O+(G<<20&4294967295|G>>>12),G=U+(O^V&(R^O))+K[5]+3593408605&4294967295,U=R+(G<<5&4294967295|G>>>27),G=V+(R^O&(U^R))+K[10]+38016083&4294967295,V=U+(G<<9&4294967295|G>>>23),G=O+(U^R&(V^U))+K[15]+3634488961&4294967295,O=V+(G<<14&4294967295|G>>>18),G=R+(V^U&(O^V))+K[4]+3889429448&4294967295,R=O+(G<<20&4294967295|G>>>12),G=U+(O^V&(R^O))+K[9]+568446438&4294967295,U=R+(G<<5&4294967295|G>>>27),G=V+(R^O&(U^R))+K[14]+3275163606&4294967295,V=U+(G<<9&4294967295|G>>>23),G=O+(U^R&(V^U))+K[3]+4107603335&4294967295,O=V+(G<<14&4294967295|G>>>18),G=R+(V^U&(O^V))+K[8]+1163531501&4294967295,R=O+(G<<20&4294967295|G>>>12),G=U+(O^V&(R^O))+K[13]+2850285829&4294967295,U=R+(G<<5&4294967295|G>>>27),G=V+(R^O&(U^R))+K[2]+4243563512&4294967295,V=U+(G<<9&4294967295|G>>>23),G=O+(U^R&(V^U))+K[7]+1735328473&4294967295,O=V+(G<<14&4294967295|G>>>18),G=R+(V^U&(O^V))+K[12]+2368359562&4294967295,R=O+(G<<20&4294967295|G>>>12),G=U+(R^O^V)+K[5]+4294588738&4294967295,U=R+(G<<4&4294967295|G>>>28),G=V+(U^R^O)+K[8]+2272392833&4294967295,V=U+(G<<11&4294967295|G>>>21),G=O+(V^U^R)+K[11]+1839030562&4294967295,O=V+(G<<16&4294967295|G>>>16),G=R+(O^V^U)+K[14]+4259657740&4294967295,R=O+(G<<23&4294967295|G>>>9),G=U+(R^O^V)+K[1]+2763975236&4294967295,U=R+(G<<4&4294967295|G>>>28),G=V+(U^R^O)+K[4]+1272893353&4294967295,V=U+(G<<11&4294967295|G>>>21),G=O+(V^U^R)+K[7]+4139469664&4294967295,O=V+(G<<16&4294967295|G>>>16),G=R+(O^V^U)+K[10]+3200236656&4294967295,R=O+(G<<23&4294967295|G>>>9),G=U+(R^O^V)+K[13]+681279174&4294967295,U=R+(G<<4&4294967295|G>>>28),G=V+(U^R^O)+K[0]+3936430074&4294967295,V=U+(G<<11&4294967295|G>>>21),G=O+(V^U^R)+K[3]+3572445317&4294967295,O=V+(G<<16&4294967295|G>>>16),G=R+(O^V^U)+K[6]+76029189&4294967295,R=O+(G<<23&4294967295|G>>>9),G=U+(R^O^V)+K[9]+3654602809&4294967295,U=R+(G<<4&4294967295|G>>>28),G=V+(U^R^O)+K[12]+3873151461&4294967295,V=U+(G<<11&4294967295|G>>>21),G=O+(V^U^R)+K[15]+530742520&4294967295,O=V+(G<<16&4294967295|G>>>16),G=R+(O^V^U)+K[2]+3299628645&4294967295,R=O+(G<<23&4294967295|G>>>9),G=U+(O^(R|~V))+K[0]+4096336452&4294967295,U=R+(G<<6&4294967295|G>>>26),G=V+(R^(U|~O))+K[7]+1126891415&4294967295,V=U+(G<<10&4294967295|G>>>22),G=O+(U^(V|~R))+K[14]+2878612391&4294967295,O=V+(G<<15&4294967295|G>>>17),G=R+(V^(O|~U))+K[5]+4237533241&4294967295,R=O+(G<<21&4294967295|G>>>11),G=U+(O^(R|~V))+K[12]+1700485571&4294967295,U=R+(G<<6&4294967295|G>>>26),G=V+(R^(U|~O))+K[3]+2399980690&4294967295,V=U+(G<<10&4294967295|G>>>22),G=O+(U^(V|~R))+K[10]+4293915773&4294967295,O=V+(G<<15&4294967295|G>>>17),G=R+(V^(O|~U))+K[1]+2240044497&4294967295,R=O+(G<<21&4294967295|G>>>11),G=U+(O^(R|~V))+K[8]+1873313359&4294967295,U=R+(G<<6&4294967295|G>>>26),G=V+(R^(U|~O))+K[15]+4264355552&4294967295,V=U+(G<<10&4294967295|G>>>22),G=O+(U^(V|~R))+K[6]+2734768916&4294967295,O=V+(G<<15&4294967295|G>>>17),G=R+(V^(O|~U))+K[13]+1309151649&4294967295,R=O+(G<<21&4294967295|G>>>11),G=U+(O^(R|~V))+K[4]+4149444226&4294967295,U=R+(G<<6&4294967295|G>>>26),G=V+(R^(U|~O))+K[11]+3174756917&4294967295,V=U+(G<<10&4294967295|G>>>22),G=O+(U^(V|~R))+K[2]+718787259&4294967295,O=V+(G<<15&4294967295|G>>>17),G=R+(V^(O|~U))+K[9]+3951481745&4294967295,L.g[0]=L.g[0]+U&4294967295,L.g[1]=L.g[1]+(O+(G<<21&4294967295|G>>>11))&4294967295,L.g[2]=L.g[2]+O&4294967295,L.g[3]=L.g[3]+V&4294967295}s.prototype.v=function(L,U){U===void 0&&(U=L.length);const R=U-this.blockSize,K=this.C;let O=this.h,V=0;for(;V<U;){if(O==0)for(;V<=R;)r(this,L,V),V+=this.blockSize;if(typeof L=="string"){for(;V<U;)if(K[O++]=L.charCodeAt(V++),O==this.blockSize){r(this,K),O=0;break}}else for(;V<U;)if(K[O++]=L[V++],O==this.blockSize){r(this,K),O=0;break}}this.h=O,this.o+=U},s.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var U=1;U<L.length-8;++U)L[U]=0;U=this.o*8;for(var R=L.length-8;R<L.length;++R)L[R]=U&255,U/=256;for(this.v(L),L=Array(16),U=0,R=0;R<4;++R)for(let K=0;K<32;K+=8)L[U++]=this.g[R]>>>K&255;return L};function o(L,U){var R=h;return Object.prototype.hasOwnProperty.call(R,L)?R[L]:R[L]=U(L)}function c(L,U){this.h=U;const R=[];let K=!0;for(let O=L.length-1;O>=0;O--){const V=L[O]|0;K&&V==U||(R[O]=V,K=!1)}this.g=R}var h={};function u(L){return-128<=L&&L<128?o(L,function(U){return new c([U|0],U<0?-1:0)}):new c([L|0],L<0?-1:0)}function f(L){if(isNaN(L)||!isFinite(L))return m;if(L<0)return N(f(-L));const U=[];let R=1;for(let K=0;L>=R;K++)U[K]=L/R|0,R*=4294967296;return new c(U,0)}function A(L,U){if(L.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(L.charAt(0)=="-")return N(A(L.substring(1),U));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(U,8));let K=m;for(let V=0;V<L.length;V+=8){var O=Math.min(8,L.length-V);const G=parseInt(L.substring(V,V+O),U);O<8?(O=f(Math.pow(U,O)),K=K.j(O).add(f(G))):(K=K.j(R),K=K.add(f(G)))}return K}var m=u(0),x=u(1),g=u(16777216);n=c.prototype,n.m=function(){if(I(this))return-N(this).m();let L=0,U=1;for(let R=0;R<this.g.length;R++){const K=this.i(R);L+=(K>=0?K:4294967296+K)*U,U*=4294967296}return L},n.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(b(this))return"0";if(I(this))return"-"+N(this).toString(L);const U=f(Math.pow(L,6));var R=this;let K="";for(;;){const O=Q(R,U).g;R=S(R,O.j(U));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(L);if(R=O,b(R))return V+K;for(;V.length<6;)V="0"+V;K=V+K}},n.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function b(L){if(L.h!=0)return!1;for(let U=0;U<L.g.length;U++)if(L.g[U]!=0)return!1;return!0}function I(L){return L.h==-1}n.l=function(L){return L=S(this,L),I(L)?-1:b(L)?0:1};function N(L){const U=L.g.length,R=[];for(let K=0;K<U;K++)R[K]=~L.g[K];return new c(R,~L.h).add(x)}n.abs=function(){return I(this)?N(this):this},n.add=function(L){const U=Math.max(this.g.length,L.g.length),R=[];let K=0;for(let O=0;O<=U;O++){let V=K+(this.i(O)&65535)+(L.i(O)&65535),G=(V>>>16)+(this.i(O)>>>16)+(L.i(O)>>>16);K=G>>>16,V&=65535,G&=65535,R[O]=G<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function S(L,U){return L.add(N(U))}n.j=function(L){if(b(this)||b(L))return m;if(I(this))return I(L)?N(this).j(N(L)):N(N(this).j(L));if(I(L))return N(this.j(N(L)));if(this.l(g)<0&&L.l(g)<0)return f(this.m()*L.m());const U=this.g.length+L.g.length,R=[];for(var K=0;K<2*U;K++)R[K]=0;for(K=0;K<this.g.length;K++)for(let O=0;O<L.g.length;O++){const V=this.i(K)>>>16,G=this.i(K)&65535,oe=L.i(O)>>>16,ge=L.i(O)&65535;R[2*K+2*O]+=G*ge,E(R,2*K+2*O),R[2*K+2*O+1]+=V*ge,E(R,2*K+2*O+1),R[2*K+2*O+1]+=G*oe,E(R,2*K+2*O+1),R[2*K+2*O+2]+=V*oe,E(R,2*K+2*O+2)}for(L=0;L<U;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=U;L<2*U;L++)R[L]=0;return new c(R,0)};function E(L,U){for(;(L[U]&65535)!=L[U];)L[U+1]+=L[U]>>>16,L[U]&=65535,U++}function F(L,U){this.g=L,this.h=U}function Q(L,U){if(b(U))throw Error("division by zero");if(b(L))return new F(m,m);if(I(L))return U=Q(N(L),U),new F(N(U.g),N(U.h));if(I(U))return U=Q(L,N(U)),new F(N(U.g),U.h);if(L.g.length>30){if(I(L)||I(U))throw Error("slowDivide_ only works with positive integers.");for(var R=x,K=U;K.l(L)<=0;)R=P(R),K=P(K);var O=H(R,1),V=H(K,1);for(K=H(K,2),R=H(R,2);!b(K);){var G=V.add(K);G.l(L)<=0&&(O=O.add(R),V=G),K=H(K,1),R=H(R,1)}return U=S(L,O.j(U)),new F(O,U)}for(O=m;L.l(U)>=0;){for(R=Math.max(1,Math.floor(L.m()/U.m())),K=Math.ceil(Math.log(R)/Math.LN2),K=K<=48?1:Math.pow(2,K-48),V=f(R),G=V.j(U);I(G)||G.l(L)>0;)R-=K,V=f(R),G=V.j(U);b(V)&&(V=x),O=O.add(V),L=S(L,G)}return new F(O,L)}n.B=function(L){return Q(this,L).h},n.and=function(L){const U=Math.max(this.g.length,L.g.length),R=[];for(let K=0;K<U;K++)R[K]=this.i(K)&L.i(K);return new c(R,this.h&L.h)},n.or=function(L){const U=Math.max(this.g.length,L.g.length),R=[];for(let K=0;K<U;K++)R[K]=this.i(K)|L.i(K);return new c(R,this.h|L.h)},n.xor=function(L){const U=Math.max(this.g.length,L.g.length),R=[];for(let K=0;K<U;K++)R[K]=this.i(K)^L.i(K);return new c(R,this.h^L.h)};function P(L){const U=L.g.length+1,R=[];for(let K=0;K<U;K++)R[K]=L.i(K)<<1|L.i(K-1)>>>31;return new c(R,L.h)}function H(L,U){const R=U>>5;U%=32;const K=L.g.length-R,O=[];for(let V=0;V<K;V++)O[V]=U>0?L.i(V+R)>>>U|L.i(V+R+1)<<32-U:L.i(V+R);return new c(O,L.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,XE=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=A,Od=c}).apply(typeof PB<"u"?PB:typeof self<"u"?self:typeof window<"u"?window:{});var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,Ip,qE,fx,J1,ZE,e4,t4;(function(){var n,e=Object.defineProperty;function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof M0=="object"&&M0];for(var Y=0;Y<w.length;++Y){var se=w[Y];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var s=t(this);function r(w,Y){if(Y)e:{var se=s;w=w.split(".");for(var we=0;we<w.length-1;we++){var $e=w[we];if(!($e in se))break e;se=se[$e]}w=w[w.length-1],we=se[w],Y=Y(we),Y!=we&&Y!=null&&e(se,w,{configurable:!0,writable:!0,value:Y})}}r("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(w){return w||function(Y){var se=[],we;for(we in Y)Object.prototype.hasOwnProperty.call(Y,we)&&se.push([we,Y[we]]);return se}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(w){var Y=typeof w;return Y=="object"&&w!=null||Y=="function"}function u(w,Y,se){return w.call.apply(w.bind,arguments)}function f(w,Y,se){return f=u,f.apply(null,arguments)}function A(w,Y){var se=Array.prototype.slice.call(arguments,1);return function(){var we=se.slice();return we.push.apply(we,arguments),w.apply(this,we)}}function m(w,Y){function se(){}se.prototype=Y.prototype,w.Z=Y.prototype,w.prototype=new se,w.prototype.constructor=w,w.Ob=function(we,$e,tt){for(var $t=Array(arguments.length-2),rs=2;rs<arguments.length;rs++)$t[rs-2]=arguments[rs];return Y.prototype[$e].apply(we,$t)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function g(w){const Y=w.length;if(Y>0){const se=Array(Y);for(let we=0;we<Y;we++)se[we]=w[we];return se}return[]}function b(w,Y){for(let we=1;we<arguments.length;we++){const $e=arguments[we];var se=typeof $e;if(se=se!="object"?se:$e?Array.isArray($e)?"array":se:"null",se=="array"||se=="object"&&typeof $e.length=="number"){se=w.length||0;const tt=$e.length||0;w.length=se+tt;for(let $t=0;$t<tt;$t++)w[se+$t]=$e[$t]}else w.push($e)}}class I{constructor(Y,se){this.i=Y,this.j=se,this.h=0,this.g=null}get(){let Y;return this.h>0?(this.h--,Y=this.g,this.g=Y.next,Y.next=null):Y=this.i(),Y}}function N(w){c.setTimeout(()=>{throw w},0)}function S(){var w=L;let Y=null;return w.g&&(Y=w.g,w.g=w.g.next,w.g||(w.h=null),Y.next=null),Y}class E{constructor(){this.h=this.g=null}add(Y,se){const we=F.get();we.set(Y,se),this.h?this.h.next=we:this.g=we,this.h=we}}var F=new I(()=>new Q,w=>w.reset());class Q{constructor(){this.next=this.g=this.h=null}set(Y,se){this.h=Y,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let P,H=!1,L=new E,U=()=>{const w=Promise.resolve(void 0);P=()=>{w.then(R)}};function R(){for(var w;w=S();){try{w.h.call(w.g)}catch(se){N(se)}var Y=F;Y.j(w),Y.h<100&&(Y.h++,w.next=Y.g,Y.g=w)}H=!1}function K(){this.u=this.u,this.C=this.C}K.prototype.u=!1,K.prototype.dispose=function(){this.u||(this.u=!0,this.N())},K.prototype[Symbol.dispose]=function(){this.dispose()},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(w,Y){this.type=w,this.g=this.target=Y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var w=!1,Y=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const se=()=>{};c.addEventListener("test",se,Y),c.removeEventListener("test",se,Y)}catch{}return w})();function G(w){return/^[\s\xa0]*$/.test(w)}function oe(w,Y){O.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,Y)}m(oe,O),oe.prototype.init=function(w,Y){const se=this.type=w.type,we=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=Y,Y=w.relatedTarget,Y||(se=="mouseover"?Y=w.fromElement:se=="mouseout"&&(Y=w.toElement)),this.relatedTarget=Y,we?(this.clientX=we.clientX!==void 0?we.clientX:we.pageX,this.clientY=we.clientY!==void 0?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),le=0;function X(w,Y,se,we,$e){this.listener=w,this.proxy=null,this.src=Y,this.type=se,this.capture=!!we,this.ha=$e,this.key=++le,this.da=this.fa=!1}function W(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function re(w,Y,se){for(const we in w)Y.call(se,w[we],we,w)}function me(w,Y){for(const se in w)Y.call(void 0,w[se],se,w)}function ee(w){const Y={};for(const se in w)Y[se]=w[se];return Y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(w,Y){let se,we;for(let $e=1;$e<arguments.length;$e++){we=arguments[$e];for(se in we)w[se]=we[se];for(let tt=0;tt<M.length;tt++)se=M[tt],Object.prototype.hasOwnProperty.call(we,se)&&(w[se]=we[se])}}function ae(w){this.src=w,this.g={},this.h=0}ae.prototype.add=function(w,Y,se,we,$e){const tt=w.toString();w=this.g[tt],w||(w=this.g[tt]=[],this.h++);const $t=ce(w,Y,we,$e);return $t>-1?(Y=w[$t],se||(Y.fa=!1)):(Y=new X(Y,this.src,tt,!!we,$e),Y.fa=se,w.push(Y)),Y};function ie(w,Y){const se=Y.type;if(se in w.g){var we=w.g[se],$e=Array.prototype.indexOf.call(we,Y,void 0),tt;(tt=$e>=0)&&Array.prototype.splice.call(we,$e,1),tt&&(W(Y),w.g[se].length==0&&(delete w.g[se],w.h--))}}function ce(w,Y,se,we){for(let $e=0;$e<w.length;++$e){const tt=w[$e];if(!tt.da&&tt.listener==Y&&tt.capture==!!se&&tt.ha==we)return $e}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Ne={};function xe(w,Y,se,we,$e){if(Array.isArray(Y)){for(let tt=0;tt<Y.length;tt++)xe(w,Y[tt],se,we,$e);return null}return se=ht(se),w&&w[ge]?w.J(Y,se,h(we)?!!we.capture:!1,$e):Se(w,Y,se,!1,we,$e)}function Se(w,Y,se,we,$e,tt){if(!Y)throw Error("Invalid event type");const $t=h($e)?!!$e.capture:!!$e;let rs=nt(w);if(rs||(w[ye]=rs=new ae(w)),se=rs.add(Y,se,we,$t,tt),se.proxy)return se;if(we=Fe(),se.proxy=we,we.src=w,we.listener=se,w.addEventListener)V||($e=$t),$e===void 0&&($e=!1),w.addEventListener(Y.toString(),we,$e);else if(w.attachEvent)w.attachEvent(Pe(Y.toString()),we);else if(w.addListener&&w.removeListener)w.addListener(we);else throw Error("addEventListener and attachEvent are unavailable.");return se}function Fe(){function w(se){return Y.call(w.src,w.listener,se)}const Y=he;return w}function Qe(w,Y,se,we,$e){if(Array.isArray(Y))for(var tt=0;tt<Y.length;tt++)Qe(w,Y[tt],se,we,$e);else we=h(we)?!!we.capture:!!we,se=ht(se),w&&w[ge]?(w=w.i,tt=String(Y).toString(),tt in w.g&&(Y=w.g[tt],se=ce(Y,se,we,$e),se>-1&&(W(Y[se]),Array.prototype.splice.call(Y,se,1),Y.length==0&&(delete w.g[tt],w.h--)))):w&&(w=nt(w))&&(Y=w.g[Y.toString()],w=-1,Y&&(w=ce(Y,se,we,$e)),(se=w>-1?Y[w]:null)&&Je(se))}function Je(w){if(typeof w!="number"&&w&&!w.da){var Y=w.src;if(Y&&Y[ge])ie(Y.i,w);else{var se=w.type,we=w.proxy;Y.removeEventListener?Y.removeEventListener(se,we,w.capture):Y.detachEvent?Y.detachEvent(Pe(se),we):Y.addListener&&Y.removeListener&&Y.removeListener(we),(se=nt(Y))?(ie(se,w),se.h==0&&(se.src=null,Y[ye]=null)):W(w)}}}function Pe(w){return w in Ne?Ne[w]:Ne[w]="on"+w}function he(w,Y){if(w.da)w=!0;else{Y=new oe(Y,this);const se=w.listener,we=w.ha||w.src;w.fa&&Je(w),w=se.call(we,Y)}return w}function nt(w){return w=w[ye],w instanceof ae?w:null}var lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ht(w){return typeof w=="function"?w:(w[lt]||(w[lt]=function(Y){return w.handleEvent(Y)}),w[lt])}function Ke(){K.call(this),this.i=new ae(this),this.M=this,this.G=null}m(Ke,K),Ke.prototype[ge]=!0,Ke.prototype.removeEventListener=function(w,Y,se,we){Qe(this,w,Y,se,we)};function Nt(w,Y){var se,we=w.G;if(we)for(se=[];we;we=we.G)se.push(we);if(w=w.M,we=Y.type||Y,typeof Y=="string")Y=new O(Y,w);else if(Y instanceof O)Y.target=Y.target||w;else{var $e=Y;Y=new O(we,w),J(Y,$e)}$e=!0;let tt,$t;if(se)for($t=se.length-1;$t>=0;$t--)tt=Y.g=se[$t],$e=Rt(tt,we,!0,Y)&&$e;if(tt=Y.g=w,$e=Rt(tt,we,!0,Y)&&$e,$e=Rt(tt,we,!1,Y)&&$e,se)for($t=0;$t<se.length;$t++)tt=Y.g=se[$t],$e=Rt(tt,we,!1,Y)&&$e}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var w=this.i;for(const Y in w.g){const se=w.g[Y];for(let we=0;we<se.length;we++)W(se[we]);delete w.g[Y],w.h--}}this.G=null},Ke.prototype.J=function(w,Y,se,we){return this.i.add(String(w),Y,!1,se,we)},Ke.prototype.K=function(w,Y,se,we){return this.i.add(String(w),Y,!0,se,we)};function Rt(w,Y,se,we){if(Y=w.i.g[String(Y)],!Y)return!0;Y=Y.concat();let $e=!0;for(let tt=0;tt<Y.length;++tt){const $t=Y[tt];if($t&&!$t.da&&$t.capture==se){const rs=$t.listener,_r=$t.ha||$t.src;$t.fa&&ie(w.i,$t),$e=rs.call(_r,we)!==!1&&$e}}return $e&&!we.defaultPrevented}function qt(w,Y){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(Y)>2147483647?-1:c.setTimeout(w,Y||0)}function Zt(w){w.g=qt(()=>{w.g=null,w.i&&(w.i=!1,Zt(w))},w.l);const Y=w.h;w.h=null,w.m.apply(null,Y)}class sn extends K{constructor(Y,se){super(),this.m=Y,this.l=se,this.h=null,this.i=!1,this.g=null}j(Y){this.h=arguments,this.g?this.i=!0:Zt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(w){K.call(this),this.h=w,this.g={}}m(an,K);var Xe=[];function Ht(w){re(w.g,function(Y,se){this.g.hasOwnProperty(se)&&Je(Y)},w),w.g={}}an.prototype.N=function(){an.Z.N.call(this),Ht(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=c.JSON.stringify,Vt=c.JSON.parse,xt=class{stringify(w){return c.JSON.stringify(w,void 0)}parse(w){return c.JSON.parse(w,void 0)}};function Dt(){}function Dn(){}var Gt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){O.call(this,"d")}m(Yt,O);function At(){O.call(this,"c")}m(At,O);var Lt={},De=null;function ft(){return De=De||new Ke}Lt.Ia="serverreachability";function it(w){O.call(this,Lt.Ia,w)}m(it,O);function Et(w){const Y=ft();Nt(Y,new it(Y))}Lt.STAT_EVENT="statevent";function Jt(w,Y){O.call(this,Lt.STAT_EVENT,w),this.stat=Y}m(Jt,O);function vt(w){const Y=ft();Nt(Y,new Jt(Y,w))}Lt.Ja="timingevent";function st(w,Y){O.call(this,Lt.Ja,w),this.size=Y}m(st,O);function Ft(w,Y){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){w()},Y)}function Wt(){this.g=!0}Wt.prototype.ua=function(){this.g=!1};function dn(w,Y,se,we,$e,tt){w.info(function(){if(w.g)if(tt){var $t="",rs=tt.split("&");for(let vs=0;vs<rs.length;vs++){var _r=rs[vs].split("=");if(_r.length>1){const nr=_r[0];_r=_r[1];const Ya=nr.split("_");$t=Ya.length>=2&&Ya[1]=="type"?$t+(nr+"="+_r+"&"):$t+(nr+"=redacted&")}}}else $t=null;else $t=tt;return"XMLHTTP REQ ("+we+") [attempt "+$e+"]: "+Y+`
`+se+`
`+$t})}function Wn(w,Y,se,we,$e,tt,$t){w.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+$e+"]: "+Y+`
`+se+`
`+tt+" "+$t})}function Hn(w,Y,se,we){w.info(function(){return"XMLHTTP TEXT ("+Y+"): "+hs(w,se)+(we?" "+we:"")})}function Qt(w,Y){w.info(function(){return"TIMEOUT: "+Y})}Wt.prototype.info=function(){};function hs(w,Y){if(!w.g)return Y;if(!Y)return null;try{const tt=JSON.parse(Y);if(tt){for(w=0;w<tt.length;w++)if(Array.isArray(tt[w])){var se=tt[w];if(!(se.length<2)){var we=se[1];if(Array.isArray(we)&&!(we.length<1)){var $e=we[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(let $t=1;$t<we.length;$t++)we[$t]=""}}}}return zt(tt)}catch{return Y}}var Ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Is={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_n;function ln(){}m(ln,Dt),ln.prototype.g=function(){return new XMLHttpRequest},_n=new ln;function cs(w){return encodeURIComponent(String(w))}function or(w){var Y=1;w=w.split(":");const se=[];for(;Y>0&&w.length;)se.push(w.shift()),Y--;return w.length&&se.push(w.join(":")),se}function ur(w,Y,se,we){this.j=w,this.i=Y,this.l=se,this.S=we||1,this.V=new an(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ur}function Ur(){this.i=null,this.g="",this.h=!1}var js={},Hs={};function gr(w,Y,se){w.M=1,w.A=Vn(at(Y)),w.u=se,w.R=!0,ia(w,null)}function ia(w,Y){w.F=Date.now(),Nr(w),w.B=at(w.A);var se=w.B,we=w.S;Array.isArray(we)||(we=[String(we)]),fo(se.i,"t",we),w.C=0,se=w.j.L,w.h=new Ur,w.g=vn(w.j,se?Y:null,!w.u),w.P>0&&(w.O=new sn(f(w.Y,w,w.g),w.P)),Y=w.V,se=w.g,we=w.ba;var $e="readystatechange";Array.isArray($e)||($e&&(Xe[0]=$e.toString()),$e=Xe);for(let tt=0;tt<$e.length;tt++){const $t=xe(se,$e[tt],we||Y.handleEvent,!1,Y.h||Y);if(!$t)break;Y.g[$t.key]=$t}Y=w.J?ee(w.J):{},w.u?(w.v||(w.v="POST"),Y["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,Y)):(w.v="GET",w.g.ea(w.B,w.v,null,Y)),Et(),dn(w.i,w.v,w.B,w.l,w.S,w.u)}ur.prototype.ba=function(w){w=w.target;const Y=this.O;Y&&Kt(w)==3?Y.j():this.Y(w)},ur.prototype.Y=function(w){try{if(w==this.g)e:{const rs=Kt(this.g),_r=this.g.ya(),vs=this.g.ca();if(!(rs<3)&&(rs!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||rs!=4||_r==7||(_r==8||vs<=0?Et(3):Et(2)),br(this);var Y=this.g.ca();this.X=Y;var se=ei(this);if(this.o=Y==200,Wn(this.i,this.v,this.B,this.l,this.S,rs,Y),this.o){if(this.U&&!this.L){t:{if(this.g){var we,$e=this.g;if((we=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(we)){var tt=we;break t}}tt=null}if(w=tt)Hn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ga(this,w);else{this.o=!1,this.m=3,vt(12),oa(this),tr(this);break e}}if(this.R){w=!0;let nr;for(;!this.K&&this.C<se.length;)if(nr=Ss(this,se),nr==Hs){rs==4&&(this.m=4,vt(14),w=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==js){this.m=4,vt(15),Hn(this.i,this.l,se,"[Invalid Chunk]"),w=!1;break}else Hn(this.i,this.l,nr,null),Ga(this,nr);if(Si(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rs!=4||se.length!=0||this.h.h||(this.m=1,vt(16),w=!1),this.o=this.o&&w,!w)Hn(this.i,this.l,se,"[Invalid Chunked Response]"),oa(this),tr(this);else if(se.length>0&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.aa&&!$t.P&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),$a($t),$t.P=!0,vt(11))}}else Hn(this.i,this.l,se,null),Ga(this,se);rs==4&&oa(this),this.o&&!this.K&&(rs==4?Ie(this.j,this):(this.o=!1,Nr(this)))}else ss(this.g),Y==400&&se.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),oa(this),tr(this)}}}catch{}finally{}};function ei(w){if(!Si(w))return w.g.la();const Y=hn(w.g);if(Y==="")return"";let se="";const we=Y.length,$e=Kt(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return oa(w),tr(w),"";w.h.i=new c.TextDecoder}for(let tt=0;tt<we;tt++)w.h.h=!0,se+=w.h.i.decode(Y[tt],{stream:!($e&&tt==we-1)});return Y.length=0,w.h.g+=se,w.C=0,w.h.g}function Si(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Ss(w,Y){var se=w.C,we=Y.indexOf(`
`,se);return we==-1?Hs:(se=Number(Y.substring(se,we)),isNaN(se)?js:(we+=1,we+se>Y.length?Hs:(Y=Y.slice(we,we+se),w.C=we+se,Y)))}ur.prototype.cancel=function(){this.K=!0,oa(this)};function Nr(w){w.T=Date.now()+w.H,ga(w,w.H)}function ga(w,Y){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Ft(f(w.aa,w),Y)}function br(w){w.D&&(c.clearTimeout(w.D),w.D=null)}ur.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(Qt(this.i,this.B),this.M!=2&&(Et(),vt(17)),oa(this),this.m=2,tr(this)):ga(this,this.T-w)};function tr(w){w.j.I==0||w.K||Ie(w.j,w)}function oa(w){br(w);var Y=w.O;Y&&typeof Y.dispose=="function"&&Y.dispose(),w.O=null,Ht(w.V),w.g&&(Y=w.g,w.g=null,Y.abort(),Y.dispose())}function Ga(w,Y){try{var se=w.j;if(se.I!=0&&(se.g==w||Ni(se.h,w))){if(!w.L&&Ni(se.h,w)&&se.I==3){try{var we=se.Ba.g.parse(Y)}catch{we=null}if(Array.isArray(we)&&we.length==3){var $e=we;if($e[0]==0){e:if(!se.v){if(se.g)if(se.g.F+3e3<w.F)Ae(se),xs(se);else break e;Jr(se),vt(18)}}else se.xa=$e[1],0<se.xa-se.K&&$e[2]<37500&&se.F&&se.A==0&&!se.C&&(se.C=Ft(f(se.Va,se),6e3));xa(se.h)<=1&&se.ta&&(se.ta=void 0)}else ze(se,11)}else if((w.L||se.g==w)&&Ae(se),!G(Y))for($e=se.Ba.g.parse(Y),Y=0;Y<$e.length;Y++){let vs=$e[Y];const nr=vs[0];if(!(nr<=se.K))if(se.K=nr,vs=vs[1],se.I==2)if(vs[0]=="c"){se.M=vs[1],se.ba=vs[2];const Ya=vs[3];Ya!=null&&(se.ka=Ya,se.j.info("VER="+se.ka));const ba=vs[4];ba!=null&&(se.za=ba,se.j.info("SVER="+se.za));const Ys=vs[5];Ys!=null&&typeof Ys=="number"&&Ys>0&&(we=1.5*Ys,se.O=we,se.j.info("backChannelRequestTimeoutMs_="+we)),we=se;const ls=w.g;if(ls){const po=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var tt=we.h;tt.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(Gi(tt,tt.h),tt.h=null))}if(we.G){const Lo=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(we.wa=Lo,Ot(we.J,we.G,Lo))}}se.I=3,se.l&&se.l.ra(),se.aa&&(se.T=Date.now()-w.F,se.j.info("Handshake RTT: "+se.T+"ms")),we=se;var $t=w;if(we.na=_t(we,we.L?we.ba:null,we.W),$t.L){jl(we.h,$t);var rs=$t,_r=we.O;_r&&(rs.H=_r),rs.D&&(br(rs),Nr(rs)),we.g=$t}else Ua(we);se.i.length>0&&Fa(se)}else vs[0]!="stop"&&vs[0]!="close"||ze(se,7);else se.I==3&&(vs[0]=="stop"||vs[0]=="close"?vs[0]=="stop"?ze(se,7):rn(se):vs[0]!="noop"&&se.l&&se.l.qa(vs),se.A=0)}}Et(4)}catch{}}var Gs=class{constructor(w,Y){this.g=w,this.map=Y}};function Ia(w){this.l=w||10,c.PerformanceNavigationTiming?(w=c.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vr(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function xa(w){return w.h?1:w.g?w.g.size:0}function Ni(w,Y){return w.h?w.h==Y:w.g?w.g.has(Y):!1}function Gi(w,Y){w.g?w.g.add(Y):w.h=Y}function jl(w,Y){w.h&&w.h==Y?w.h=null:w.g&&w.g.has(Y)&&w.g.delete(Y)}Ia.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Bl(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let Y=w.i;for(const se of w.g.values())Y=Y.concat(se.G);return Y}return g(w.i)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(w,Y){if(w){w=w.split("&");for(let se=0;se<w.length;se++){const we=w[se].indexOf("=");let $e,tt=null;we>=0?($e=w[se].substring(0,we),tt=w[se].substring(we+1)):$e=w[se],Y($e,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function Ee(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let Y;w instanceof Ee?(this.l=w.l,dt(this,w.j),this.o=w.o,this.g=w.g,kt(this,w.u),this.h=w.h,An(this,ll(w.i)),this.m=w.m):w&&(Y=String(w).match(di))?(this.l=!1,dt(this,Y[1]||"",!0),this.o=pn(Y[2]||""),this.g=pn(Y[3]||"",!0),kt(this,Y[4]),this.h=pn(Y[5]||"",!0),An(this,Y[6]||"",!0),this.m=pn(Y[7]||"")):(this.l=!1,this.i=new Xr(null,this.l))}Ee.prototype.toString=function(){const w=[];var Y=this.j;Y&&w.push(yt(Y,qn,!0),":");var se=this.g;return(se||Y=="file")&&(w.push("//"),(Y=this.o)&&w.push(yt(Y,qn,!0),"@"),w.push(cs(se).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.u,se!=null&&w.push(":",String(se))),(se=this.h)&&(this.g&&se.charAt(0)!="/"&&w.push("/"),w.push(yt(se,se.charAt(0)=="/"?dr:fs,!0))),(se=this.i.toString())&&w.push("?",se),(se=this.m)&&w.push("#",yt(se,Aa)),w.join("")},Ee.prototype.resolve=function(w){const Y=at(this);let se=!!w.j;se?dt(Y,w.j):se=!!w.o,se?Y.o=w.o:se=!!w.g,se?Y.g=w.g:se=w.u!=null;var we=w.h;if(se)kt(Y,w.u);else if(se=!!w.h){if(we.charAt(0)!="/")if(this.g&&!this.h)we="/"+we;else{var $e=Y.h.lastIndexOf("/");$e!=-1&&(we=Y.h.slice(0,$e+1)+we)}if($e=we,$e==".."||$e==".")we="";else if($e.indexOf("./")!=-1||$e.indexOf("/.")!=-1){we=$e.lastIndexOf("/",0)==0,$e=$e.split("/");const tt=[];for(let $t=0;$t<$e.length;){const rs=$e[$t++];rs=="."?we&&$t==$e.length&&tt.push(""):rs==".."?((tt.length>1||tt.length==1&&tt[0]!="")&&tt.pop(),we&&$t==$e.length&&tt.push("")):(tt.push(rs),we=!0)}we=tt.join("/")}else we=$e}return se?Y.h=we:se=w.i.toString()!=="",se?An(Y,ll(w.i)):se=!!w.m,se&&(Y.m=w.m),Y};function at(w){return new Ee(w)}function dt(w,Y,se){w.j=se?pn(Y,!0):Y,w.j&&(w.j=w.j.replace(/:$/,""))}function kt(w,Y){if(Y){if(Y=Number(Y),isNaN(Y)||Y<0)throw Error("Bad port number "+Y);w.u=Y}else w.u=null}function An(w,Y,se){Y instanceof Xr?(w.i=Y,Kr(w.i,w.l)):(se||(Y=yt(Y,Ns)),w.i=new Xr(Y,w.l))}function Ot(w,Y,se){w.i.set(Y,se)}function Vn(w){return Ot(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function pn(w,Y){return w?Y?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function yt(w,Y,se){return typeof w=="string"?(w=encodeURI(w).replace(Y,Tn),se&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Tn(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var qn=/[#\/\?@]/g,fs=/[#\?:]/g,dr=/[#\?]/g,Ns=/[#\?@]/g,Aa=/#/g;function Xr(w,Y){this.h=this.g=null,this.i=w||null,this.j=!!Y}function Ls(w){w.g||(w.g=new Map,w.h=0,w.i&&la(w.i,function(Y,se){w.add(decodeURIComponent(Y.replace(/\+/g," ")),se)}))}n=Xr.prototype,n.add=function(w,Y){Ls(this),this.i=null,w=fi(this,w);let se=this.g.get(w);return se||this.g.set(w,se=[]),se.push(Y),this.h+=1,this};function _a(w,Y){Ls(w),Y=fi(w,Y),w.g.has(Y)&&(w.i=null,w.h-=w.g.get(Y).length,w.g.delete(Y))}function hi(w,Y){return Ls(w),Y=fi(w,Y),w.g.has(Y)}n.forEach=function(w,Y){Ls(this),this.g.forEach(function(se,we){se.forEach(function($e){w.call(Y,$e,we,this)},this)},this)};function Uo(w,Y){Ls(w);let se=[];if(typeof Y=="string")hi(w,Y)&&(se=se.concat(w.g.get(fi(w,Y))));else for(w=Array.from(w.g.values()),Y=0;Y<w.length;Y++)se=se.concat(w[Y]);return se}n.set=function(w,Y){return Ls(this),this.i=null,w=fi(this,w),hi(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[Y]),this.h+=1,this},n.get=function(w,Y){return w?(w=Uo(this,w),w.length>0?String(w[0]):Y):Y};function fo(w,Y,se){_a(w,Y),se.length>0&&(w.i=null,w.g.set(fi(w,Y),g(se)),w.h+=se.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],Y=Array.from(this.g.keys());for(let we=0;we<Y.length;we++){var se=Y[we];const $e=cs(se);se=Uo(this,se);for(let tt=0;tt<se.length;tt++){let $t=$e;se[tt]!==""&&($t+="="+cs(se[tt])),w.push($t)}}return this.i=w.join("&")};function ll(w){const Y=new Xr;return Y.i=w.i,w.g&&(Y.g=new Map(w.g),Y.h=w.h),Y}function fi(w,Y){return Y=String(Y),w.j&&(Y=Y.toLowerCase()),Y}function Kr(w,Y){Y&&!w.j&&(Ls(w),w.i=null,w.g.forEach(function(se,we){const $e=we.toLowerCase();we!=$e&&(_a(this,we),fo(this,$e,se))},w)),w.j=Y}function $i(w,Y){const se=new Wt;if(c.Image){const we=new Image;we.onload=A(ti,se,"TestLoadImage: loaded",!0,Y,we),we.onerror=A(ti,se,"TestLoadImage: error",!1,Y,we),we.onabort=A(ti,se,"TestLoadImage: abort",!1,Y,we),we.ontimeout=A(ti,se,"TestLoadImage: timeout",!1,Y,we),c.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=w}else Y(!1)}function mo(w,Y){const se=new Wt,we=new AbortController,$e=setTimeout(()=>{we.abort(),ti(se,"TestPingServer: timeout",!1,Y)},1e4);fetch(w,{signal:we.signal}).then(tt=>{clearTimeout($e),tt.ok?ti(se,"TestPingServer: ok",!0,Y):ti(se,"TestPingServer: server error",!1,Y)}).catch(()=>{clearTimeout($e),ti(se,"TestPingServer: error",!1,Y)})}function ti(w,Y,se,we,$e){try{$e&&($e.onload=null,$e.onerror=null,$e.onabort=null,$e.ontimeout=null),we(se)}catch{}}function mi(){this.g=new xt}function Rn(w){this.i=w.Sb||null,this.h=w.ab||!1}m(Rn,Dt),Rn.prototype.g=function(){return new Al(this.i,this.h)};function Al(w,Y){Ke.call(this),this.H=w,this.o=Y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Al,Ke),n=Al.prototype,n.open=function(w,Y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=Y,this.readyState=1,ca(this)},n.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const Y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(Y.body=w),(this.H||c).fetch(new Request(this.D,Y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},n.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cl(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cl(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}n.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var Y=w.value?w.value:new Uint8Array(0);(Y=this.B.decode(Y,{stream:!w.done}))&&(this.response=this.responseText+=Y)}w.done?oo(this):ca(this),this.readyState==3&&Cl(this)}},n.Oa=function(w){this.g&&(this.response=this.responseText=w,oo(this))},n.Na=function(w){this.g&&(this.response=w,oo(this))},n.ga=function(){this.g&&oo(this)};function oo(w){w.readyState=4,w.l=null,w.j=null,w.B=null,ca(w)}n.setRequestHeader=function(w,Y){this.A.append(w,Y)},n.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],Y=this.h.entries();for(var se=Y.next();!se.done;)se=se.value,w.push(se[0]+": "+se[1]),se=Y.next();return w.join(`\r
`)};function ca(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Er(w){let Y="";return re(w,function(se,we){Y+=we,Y+=":",Y+=se,Y+=`\r
`}),Y}function va(w,Y,se){e:{for(we in se){var we=!1;break e}we=!0}we||(se=Er(se),typeof w=="string"?se!=null&&cs(se):Ot(w,Y,se))}function $s(w){Ke.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m($s,Ke);var ya=/^https?$/i,Yi=["POST","PUT"];n=$s.prototype,n.Fa=function(w){this.H=w},n.ea=function(w,Y,se,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);Y=Y?Y.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_n.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(Y,String(w),!0),this.B=!1}catch(tt){ni(this,tt);return}if(w=se||"",se=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var $e in we)se.set($e,we[$e]);else if(typeof we.keys=="function"&&typeof we.get=="function")for(const tt of we.keys())se.set(tt,we.get(tt));else throw Error("Unknown input type for opt_headers: "+String(we));we=Array.from(se.keys()).find(tt=>tt.toLowerCase()=="content-type"),$e=c.FormData&&w instanceof c.FormData,!(Array.prototype.indexOf.call(Yi,Y,void 0)>=0)||we||$e||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,$t]of se)this.g.setRequestHeader(tt,$t);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(tt){ni(this,tt)}};function ni(w,Y){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=Y,w.o=5,Do(w),Wi(w)}function Do(w){w.A||(w.A=!0,Nt(w,"complete"),Nt(w,"error"))}n.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,Nt(this,"complete"),Nt(this,"abort"),Wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),$s.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?si(this):this.Xa())},n.Xa=function(){si(this)};function si(w){if(w.h&&typeof o<"u"){if(w.v&&Kt(w)==4)setTimeout(w.Ca.bind(w),0);else if(Nt(w,"readystatechange"),Kt(w)==4){w.h=!1;try{const tt=w.ca();e:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Y=!0;break e;default:Y=!1}var se;if(!(se=Y)){var we;if(we=tt===0){let $t=String(w.D).match(di)[1]||null;!$t&&c.self&&c.self.location&&($t=c.self.location.protocol.slice(0,-1)),we=!ya.test($t?$t.toLowerCase():"")}se=we}if(se)Nt(w,"complete"),Nt(w,"success");else{w.o=6;try{var $e=Kt(w)>2?w.g.statusText:""}catch{$e=""}w.l=$e+" ["+w.ca()+"]",Do(w)}}finally{Wi(w)}}}}function Wi(w,Y){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const se=w.g;w.g=null,Y||Nt(w,"ready");try{se.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Kt(w){return w.g?w.g.readyState:0}n.ca=function(){try{return Kt(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(w){if(this.g){var Y=this.g.responseText;return w&&Y.indexOf(w)==0&&(Y=Y.substring(w.length)),Vt(Y)}};function hn(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(w){const Y={};w=(w.g&&Kt(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let we=0;we<w.length;we++){if(G(w[we]))continue;var se=or(w[we]);const $e=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const tt=Y[$e]||[];Y[$e]=tt,tt.push(se)}me(Y,function(we){return we.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(w,Y,se){return se&&se.internalChannelParams&&se.internalChannelParams[w]||Y}function Bn(w){this.za=0,this.i=[],this.j=new Wt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zn("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zn("baseRetryDelayMs",5e3,w),this.Za=Zn("retryDelaySeedMs",1e4,w),this.Ta=Zn("forwardChannelMaxRetries",2,w),this.va=Zn("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new Ia(w&&w.concurrentRequestLimit),this.Ba=new mi,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Bn.prototype,n.ka=8,n.I=1,n.connect=function(w,Y,se,we){vt(0),this.W=w,this.H=Y||{},se&&we!==void 0&&(this.H.OSID=se,this.H.OAID=we),this.F=this.X,this.J=_t(this,null,this.W),Fa(this)};function rn(w){if(zr(w),w.I==3){var Y=w.V++,se=at(w.J);if(Ot(se,"SID",w.M),Ot(se,"RID",Y),Ot(se,"TYPE","terminate"),Tr(w,se),Y=new ur(w,w.j,Y),Y.M=2,Y.A=Vn(at(se)),se=!1,c.navigator&&c.navigator.sendBeacon)try{se=c.navigator.sendBeacon(Y.A.toString(),"")}catch{}!se&&c.Image&&(new Image().src=Y.A,se=!0),se||(Y.g=vn(Y.j,null),Y.g.ea(Y.A)),Y.F=Date.now(),Nr(Y)}bt(w)}function xs(w){w.g&&($a(w),w.g.cancel(),w.g=null)}function zr(w){xs(w),w.v&&(c.clearTimeout(w.v),w.v=null),Ae(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&c.clearTimeout(w.m),w.m=null)}function Fa(w){if(!Vr(w.h)&&!w.m){w.m=!0;var Y=w.Ea;P||U(),H||(P(),H=!0),L.add(Y,w),w.D=0}}function Xi(w,Y){return xa(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=Y.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Ft(f(w.Ea,w,Y),Re(w,w.D)),w.D++,!0)}n.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const $e=new ur(this,this.j,w);let tt=this.o;if(this.U&&(tt?(tt=ee(tt),J(tt,this.U)):tt=this.U),this.u!==null||this.R||($e.J=tt,tt=null),this.S)e:{for(var Y=0,se=0;se<this.i.length;se++){t:{var we=this.i[se];if("__data__"in we.map&&(we=we.map.__data__,typeof we=="string")){we=we.length;break t}we=void 0}if(we===void 0)break;if(Y+=we,Y>4096){Y=se;break e}if(Y===4096||se===this.i.length-1){Y=se+1;break e}}Y=1e3}else Y=1e3;Y=ua(this,$e,Y),se=at(this.J),Ot(se,"RID",w),Ot(se,"CVER",22),this.G&&Ot(se,"X-HTTP-Session-Id",this.G),Tr(this,se),tt&&(this.R?Y="headers="+cs(Er(tt))+"&"+Y:this.u&&va(se,this.u,tt)),Gi(this.h,$e),this.Ra&&Ot(se,"TYPE","init"),this.S?(Ot(se,"$req",Y),Ot(se,"SID","null"),$e.U=!0,gr($e,se,null)):gr($e,se,Y),this.I=2}}else this.I==3&&(w?Ro(this,w):this.i.length==0||Vr(this.h)||Ro(this))};function Ro(w,Y){var se;Y?se=Y.l:se=w.V++;const we=at(w.J);Ot(we,"SID",w.M),Ot(we,"RID",se),Ot(we,"AID",w.K),Tr(w,we),w.u&&w.o&&va(we,w.u,w.o),se=new ur(w,w.j,se,w.D+1),w.u===null&&(se.J=w.o),Y&&(w.i=Y.G.concat(w.i)),Y=ua(w,se,1e3),se.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),Gi(w.h,se),gr(se,we,Y)}function Tr(w,Y){w.H&&re(w.H,function(se,we){Ot(Y,we,se)}),w.l&&re({},function(se,we){Ot(Y,we,se)})}function ua(w,Y,se){se=Math.min(w.i.length,se);const we=w.l?f(w.l.Ka,w.l,w):null;e:{var $e=w.i;let rs=-1;for(;;){const _r=["count="+se];rs==-1?se>0?(rs=$e[0].g,_r.push("ofs="+rs)):rs=0:_r.push("ofs="+rs);let vs=!0;for(let nr=0;nr<se;nr++){var tt=$e[nr].g;const Ya=$e[nr].map;if(tt-=rs,tt<0)rs=Math.max(0,$e[nr].g-100),vs=!1;else try{tt="req"+tt+"_"||"";try{var $t=Ya instanceof Map?Ya:Object.entries(Ya);for(const[ba,Ys]of $t){let ls=Ys;h(Ys)&&(ls=zt(Ys)),_r.push(tt+ba+"="+encodeURIComponent(ls))}}catch(ba){throw _r.push(tt+"type="+encodeURIComponent("_badmap")),ba}}catch{we&&we(Ya)}}if(vs){$t=_r.join("&");break e}}$t=void 0}return w=w.i.splice(0,se),Y.G=w,$t}function Ua(w){if(!w.g&&!w.v){w.Y=1;var Y=w.Da;P||U(),H||(P(),H=!0),L.add(Y,w),w.A=0}}function Jr(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Ft(f(w.Da,w),Re(w,w.A)),w.A++,!0)}n.Da=function(){if(this.v=null,k(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Ft(f(this.Wa,this),w)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),xs(this),k(this))};function $a(w){w.B!=null&&(c.clearTimeout(w.B),w.B=null)}function k(w){w.g=new ur(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var Y=at(w.na);Ot(Y,"RID","rpc"),Ot(Y,"SID",w.M),Ot(Y,"AID",w.K),Ot(Y,"CI",w.F?"0":"1"),!w.F&&w.ia&&Ot(Y,"TO",w.ia),Ot(Y,"TYPE","xmlhttp"),Tr(w,Y),w.u&&w.o&&va(Y,w.u,w.o),w.O&&(w.g.H=w.O);var se=w.g;w=w.ba,se.M=1,se.A=Vn(at(Y)),se.u=null,se.R=!0,ia(se,w)}n.Va=function(){this.C!=null&&(this.C=null,xs(this),Jr(this),vt(19))};function Ae(w){w.C!=null&&(c.clearTimeout(w.C),w.C=null)}function Ie(w,Y){var se=null;if(w.g==Y){Ae(w),$a(w),w.g=null;var we=2}else if(Ni(w.h,Y))se=Y.G,jl(w.h,Y),we=1;else return;if(w.I!=0){if(Y.o)if(we==1){se=Y.u?Y.u.length:0,Y=Date.now()-Y.F;var $e=w.D;we=ft(),Nt(we,new st(we,se)),Fa(w)}else Ua(w);else if($e=Y.m,$e==3||$e==0&&Y.X>0||!(we==1&&Xi(w,Y)||we==2&&Jr(w)))switch(se&&se.length>0&&(Y=w.h,Y.i=Y.i.concat(se)),$e){case 1:ze(w,5);break;case 4:ze(w,10);break;case 3:ze(w,6);break;default:ze(w,2)}}}function Re(w,Y){let se=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(se*=2),se*Y}function ze(w,Y){if(w.j.info("Error code "+Y),Y==2){var se=f(w.bb,w),we=w.Ua;const $e=!we;we=new Ee(we||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||dt(we,"https"),Vn(we),$e?$i(we.toString(),se):mo(we.toString(),se)}else vt(2);w.I=0,w.l&&w.l.pa(Y),bt(w),zr(w)}n.bb=function(w){w?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function bt(w){if(w.I=0,w.ja=[],w.l){const Y=Bl(w.h);(Y.length!=0||w.i.length!=0)&&(b(w.ja,Y),b(w.ja,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.oa()}}function _t(w,Y,se){var we=se instanceof Ee?at(se):new Ee(se);if(we.g!="")Y&&(we.g=Y+"."+we.g),kt(we,we.u);else{var $e=c.location;we=$e.protocol,Y=Y?Y+"."+$e.hostname:$e.hostname,$e=+$e.port;const tt=new Ee(null);we&&dt(tt,we),Y&&(tt.g=Y),$e&&kt(tt,$e),se&&(tt.h=se),we=tt}return se=w.G,Y=w.wa,se&&Y&&Ot(we,se,Y),Ot(we,"VER",w.ka),Tr(w,we),we}function vn(w,Y,se){if(Y&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return Y=w.Aa&&!w.ma?new $s(new Rn({ab:se})):new $s(w.ma),Y.Fa(w.L),Y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cn(){}n=Cn.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Kn(){}Kn.prototype.g=function(w,Y){return new Ln(w,Y)};function Ln(w,Y){Ke.call(this),this.g=new Bn(Y),this.l=w,this.h=Y&&Y.messageUrlParams||null,w=Y&&Y.messageHeaders||null,Y&&Y.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=Y&&Y.initMessageHeaders||null,Y&&Y.messageContentType&&(w?w["X-WebChannel-Content-Type"]=Y.messageContentType:w={"X-WebChannel-Content-Type":Y.messageContentType}),Y&&Y.sa&&(w?w["X-WebChannel-Client-Profile"]=Y.sa:w={"X-WebChannel-Client-Profile":Y.sa}),this.g.U=w,(w=Y&&Y.Qb)&&!G(w)&&(this.g.u=w),this.A=Y&&Y.supportsCrossDomainXhr||!1,this.v=Y&&Y.sendRawJson||!1,(Y=Y&&Y.httpSessionIdParam)&&!G(Y)&&(this.g.G=Y,w=this.h,w!==null&&Y in w&&(w=this.h,Y in w&&delete w[Y])),this.j=new xr(this)}m(Ln,Ke),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){rn(this.g)},Ln.prototype.o=function(w){var Y=this.g;if(typeof w=="string"){var se={};se.__data__=w,w=se}else this.v&&(se={},se.__data__=zt(w),w=se);Y.i.push(new Gs(Y.Ya++,w)),Y.I==3&&Fa(Y)},Ln.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Ln.Z.N.call(this)};function _s(w){Yt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var Y=w.__sm__;if(Y){e:{for(const se in Y){w=se;break e}w=void 0}(this.i=w)&&(w=this.i,Y=Y!==null&&w in Y?Y[w]:void 0),this.data=Y}else this.data=w}m(_s,Yt);function Ir(){At.call(this),this.status=1}m(Ir,At);function xr(w){this.g=w}m(xr,Cn),xr.prototype.ra=function(){Nt(this.g,"a")},xr.prototype.qa=function(w){Nt(this.g,new _s(w))},xr.prototype.pa=function(w){Nt(this.g,new Ir)},xr.prototype.oa=function(){Nt(this.g,"b")},Kn.prototype.createWebChannel=Kn.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,t4=function(){return new Kn},e4=function(){return ft()},ZE=Lt,J1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,fx=Ts,Is.COMPLETE="complete",qE=Is,Dn.EventType=Gt,Gt.OPEN="a",Gt.CLOSE="b",Gt.ERROR="c",Gt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Ip=Dn,$s.prototype.listenOnce=$s.prototype.K,$s.prototype.getLastError=$s.prototype.Ha,$s.prototype.getLastErrorCode=$s.prototype.ya,$s.prototype.getStatus=$s.prototype.ca,$s.prototype.getResponseJson=$s.prototype.La,$s.prototype.getResponseText=$s.prototype.la,$s.prototype.send=$s.prototype.ea,$s.prototype.setWithCredentials=$s.prototype.Fa,JE=$s}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});const kB="@firebase/firestore",MB="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rl.UNAUTHENTICATED=new rl(null),rl.GOOGLE_CREDENTIALS=new rl("google-credentials-uid"),rl.FIRST_PARTY=new rl("first-party-uid"),rl.MOCK_USER=new rl("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new u8("@firebase/firestore");function Vf(){return ef.logLevel}function wn(n,...e){if(ef.logLevel<=cr.DEBUG){const t=e.map(vw);ef.debug(`Firestore (${bm}): ${n}`,...t)}}function Iu(n,...e){if(ef.logLevel<=cr.ERROR){const t=e.map(vw);ef.error(`Firestore (${bm}): ${n}`,...t)}}function im(n,...e){if(ef.logLevel<=cr.WARN){const t=e.map(vw);ef.warn(`Firestore (${bm}): ${n}`,...t)}}function vw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,n4(n,s,t)}function n4(n,e,t){let s=`FIRESTORE (${bm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Iu(s),new Error(s)}function Sr(n,e,t,s){let r="Unexpected state";typeof t=="string"?r=t:s=t,n||n4(e,r,s)}function ms(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class un extends uc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rl.UNAUTHENTICATED)))}shutdown(){}}class h8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class f8{constructor(e){this.t=e,this.currentUser=rl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Sr(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,t(u)):Promise.resolve();let o=new Kc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kc,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},h=u=>{wn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>h(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?h(u):(wn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kc)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(wn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Sr(typeof s.accessToken=="string",31837,{l:s}),new s4(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sr(e===null||typeof e=="string",2055,{h:e}),new rl(e)}}class m8{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=rl.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p8{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new m8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Sr(this.o===void 0,3512);const s=o=>{o.error!=null&&wn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,wn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const r=o=>{wn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):wn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Sr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new HB(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=x8(40);for(let o=0;o<r.length;++o)s.length<20&&r[o]<t&&(s+=e.charAt(r[o]%62))}return s}}function Zs(n,e){return n<e?-1:n>e?1:0}function q1(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const r=n.charAt(s),o=e.charAt(s);if(r!==o)return Vy(r)===Vy(o)?Zs(r,o):Vy(r)?1:-1}return Zs(n.length,e.length)}const v8=55296,y8=57343;function Vy(n){const e=n.charCodeAt(0);return e>=v8&&e<=y8}function om(n,e,t){return n.length===e.length&&n.every(((s,r)=>t(s,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="__name__";class Pc{constructor(e,t,s){t===void 0?t=0:t>e.length&&os(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&os(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Pc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pc?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let r=0;r<s;r++){const o=Pc.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Zs(e.length,t.length)}static compareSegments(e,t){const s=Pc.isNumericId(e),r=Pc.isNumericId(t);return s&&!r?-1:!s&&r?1:s&&r?Pc.extractNumericId(e).compare(Pc.extractNumericId(t)):q1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Od.fromString(e.substring(4,e.length-2))}}class pa extends Pc{construct(e,t,s){return new pa(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new un(Ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((r=>r.length>0)))}return new pa(t)}static emptyPath(){return new pa([])}}const b8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Eo extends Pc{construct(e,t,s){return new Eo(e,t,s)}static isValidIdentifier(e){return b8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Eo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VB}static keyField(){return new Eo([VB])}static fromServerFormat(e){const t=[];let s="",r=0;const o=()=>{if(s.length===0)throw new un(Ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new un(Ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new un(Ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(s+=h,r++):(o(),r++)}if(o(),c)throw new un(Ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Eo(t)}static emptyPath(){return new Eo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.path=e}static fromPath(e){return new Yn(pa.fromString(e))}static fromName(e){return new Yn(pa.fromString(e).popFirst(5))}static empty(){return new Yn(pa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pa.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yn(new pa(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n,e,t){if(!t)throw new un(Ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function w8(n,e,t,s){if(e===!0&&s===!0)throw new un(Ct.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KB(n){if(!Yn.isDocumentKey(n))throw new un(Ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zB(n){if(Yn.isDocumentKey(n))throw new un(Ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":os(12329,{type:typeof n})}function wl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new un(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bv(n);throw new un(Ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function j8(n,e){if(e<=0)throw new un(Ct.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ig(n,e){if(!a4(n))throw new un(Ct.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const r=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(r&&typeof c!==r){t=`JSON field '${s}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${s}' field to equal '${o.value}'`;break}}if(t)throw new un(Ct.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=-62135596800,$B=1e6;class ar{static now(){return ar.fromMillis(Date.now())}static fromDate(e){return ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*$B);return new ar(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new un(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new un(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GB)throw new un(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new un(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$B}_compareTo(e){return this.seconds===e.seconds?Zs(this.nanoseconds,e.nanoseconds):Zs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ar._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ig(e,ar._jsonSchema))return new ar(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ar._jsonSchemaVersion="firestore/timestamp/1.0",ar._jsonSchema={type:Vi("string",ar._jsonSchemaVersion),seconds:Vi("number"),nanoseconds:Vi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static fromTimestamp(e){return new gs(e)}static min(){return new gs(new ar(0,0))}static max(){return new gs(new ar(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function B8(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,r=gs.fromTimestamp(s===1e9?new ar(t+1,0):new ar(t,s));return new Hd(r,Yn.empty(),e)}function C8(n){return new Hd(n.readTime,n.key,ig)}class Hd{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Hd(gs.min(),Yn.empty(),ig)}static max(){return new Hd(gs.max(),Yn.empty(),ig)}}function S8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Yn.comparator(n.documentKey,e.documentKey),t!==0?t:Zs(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(n){if(n.code!==Ct.FAILED_PRECONDITION||n.message!==N8)throw n;wn("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&os(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ut(((s,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ut?t:Ut.resolve(t)}catch(t){return Ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ut.reject(t)}static resolve(e){return new Ut(((t,s)=>{t(e)}))}static reject(e){return new Ut(((t,s)=>{s(e)}))}static waitFor(e){return new Ut(((t,s)=>{let r=0,o=0,c=!1;e.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&t()}),(u=>s(u)))})),c=!0,o===r&&t()}))}static or(e){let t=Ut.resolve(!1);for(const s of e)t=t.next((r=>r?Ut.resolve(r):s()));return t}static forEach(e,t){const s=[];return e.forEach(((r,o)=>{s.push(t.call(this,r,o))})),this.waitFor(s)}static mapArray(e,t){return new Ut(((s,r)=>{const o=e.length,c=new Array(o);let h=0;for(let u=0;u<o;u++){const f=u;t(e[f]).next((A=>{c[f]=A,++h,h===o&&s(c)}),(A=>r(A)))}}))}static doWhile(e,t){return new Ut(((s,r)=>{const o=()=>{e()===!0?t().next((()=>{o()}),r):s()};o()}))}}function T8(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jm(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=-1;function jv(n){return n==null}function Ox(n){return n===0&&1/n==-1/0}function I8(n){return typeof n=="number"&&Number.isInteger(n)&&!Ox(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="";function _8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YB(e)),e=F8(n.get(t),e);return YB(e)}function F8(n,e){let t=e;const s=n.length;for(let r=0;r<s;r++){const o=n.charAt(r);switch(o){case"\0":t+="";break;case i4:t+="";break;default:t+=o}}return t}function YB(n){return n+i4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U8(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function o4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t){this.comparator=e,this.root=t||No.EMPTY}insert(e,t){return new Za(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,No.BLACK,null,null))}remove(e){return new Za(this.comparator,this.root.remove(e,this.comparator).copy(null,null,No.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return t+s.left.size;r<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new H0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new H0(this.root,e,this.comparator,!1)}getReverseIterator(){return new H0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new H0(this.root,e,this.comparator,!0)}}class H0{constructor(e,t,s,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class No{constructor(e,t,s,r,o){this.key=e,this.value=t,this.color=s??No.RED,this.left=r??No.EMPTY,this.right=o??No.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,r,o){return new No(e??this.key,t??this.value,s??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let r=this;const o=s(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,s),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return No.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return No.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,No.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,No.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw os(43730,{key:this.key,value:this.value});if(this.right.isRed())throw os(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw os(27949);return e+(this.isRed()?0:1)}}No.EMPTY=null,No.RED=!0,No.BLACK=!1;No.EMPTY=new class{constructor(){this.size=0}get key(){throw os(57766)}get value(){throw os(16141)}get color(){throw os(16727)}get left(){throw os(29726)}get right(){throw os(36894)}copy(e,t,s,r,o){return this}insert(e,t,s){return new No(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.comparator=e,this.data=new Za(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XB(this.data.getIterator())}getIteratorFrom(e){return new XB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=s.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new io(this.comparator);return t.data=e,t}}class XB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.fields=e,e.sort(Eo.comparator)}static empty(){return new oA([])}unionWith(e){let t=new io(Eo.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new oA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return om(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new l4("Invalid base64 string: "+o):o}})(e);return new _o(t)}static fromUint8Array(e){const t=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(e);return new _o(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let r=0;r<t.length;r++)s[r]=t.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_o.EMPTY_BYTE_STRING=new _o("");const D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vd(n){if(Sr(!!n,39018),typeof n=="string"){let e=0;const t=D8.exec(n);if(Sr(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Kd(n){return typeof n=="string"?_o.fromBase64String(n):_o.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="server_timestamp",c4="__type__",u4="__previous_value__",d4="__local_write_time__";function ww(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[c4])==null?void 0:s.stringValue)===A4}function Bv(n){const e=n.mapValue.fields[u4];return ww(e)?Bv(e):e}function og(n){const e=Vd(n.mapValue.fields[d4].timestampValue);return new ar(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,t,s,r,o,c,h,u,f,A){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=A}}const Px="(default)";class lg{constructor(e,t){this.projectId=e,this.database=t||Px}static empty(){return new lg("","")}get isDefaultDatabase(){return this.database===Px}isEqual(e){return e instanceof lg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="__type__",L8="__max__",V0={mapValue:{}},f4="__vector__",kx="value";function zd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ww(n)?4:O8(n)?9007199254740991:Q8(n)?10:11:os(28295,{value:n})}function Xc(n,e){if(n===e)return!0;const t=zd(n);if(t!==zd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return og(n).isEqual(og(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Vd(r.timestampValue),h=Vd(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,o){return Kd(r.bytesValue).isEqual(Kd(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,o){return wi(r.geoPointValue.latitude)===wi(o.geoPointValue.latitude)&&wi(r.geoPointValue.longitude)===wi(o.geoPointValue.longitude)})(n,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return wi(r.integerValue)===wi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=wi(r.doubleValue),h=wi(o.doubleValue);return c===h?Ox(c)===Ox(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return om(n.arrayValue.values||[],e.arrayValue.values||[],Xc);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(WB(c)!==WB(h))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(h[u]===void 0||!Xc(c[u],h[u])))return!1;return!0})(n,e);default:return os(52216,{left:n})}}function Ag(n,e){return(n.values||[]).find((t=>Xc(t,e)))!==void 0}function lm(n,e){if(n===e)return 0;const t=zd(n),s=zd(e);if(t!==s)return Zs(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zs(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=wi(o.integerValue||o.doubleValue),u=wi(c.integerValue||c.doubleValue);return h<u?-1:h>u?1:h===u?0:isNaN(h)?isNaN(u)?0:-1:1})(n,e);case 3:return JB(n.timestampValue,e.timestampValue);case 4:return JB(og(n),og(e));case 5:return q1(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Kd(o),u=Kd(c);return h.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),u=c.split("/");for(let f=0;f<h.length&&f<u.length;f++){const A=Zs(h[f],u[f]);if(A!==0)return A}return Zs(h.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Zs(wi(o.latitude),wi(c.latitude));return h!==0?h:Zs(wi(o.longitude),wi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qB(n.arrayValue,e.arrayValue);case 10:return(function(o,c){var x,g,b,I;const h=o.fields||{},u=c.fields||{},f=(x=h[kx])==null?void 0:x.arrayValue,A=(g=u[kx])==null?void 0:g.arrayValue,m=Zs(((b=f==null?void 0:f.values)==null?void 0:b.length)||0,((I=A==null?void 0:A.values)==null?void 0:I.length)||0);return m!==0?m:qB(f,A)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===V0.mapValue&&c===V0.mapValue)return 0;if(o===V0.mapValue)return 1;if(c===V0.mapValue)return-1;const h=o.fields||{},u=Object.keys(h),f=c.fields||{},A=Object.keys(f);u.sort(),A.sort();for(let m=0;m<u.length&&m<A.length;++m){const x=q1(u[m],A[m]);if(x!==0)return x;const g=lm(h[u[m]],f[A[m]]);if(g!==0)return g}return Zs(u.length,A.length)})(n.mapValue,e.mapValue);default:throw os(23264,{he:t})}}function JB(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Zs(n,e);const t=Vd(n),s=Vd(e),r=Zs(t.seconds,s.seconds);return r!==0?r:Zs(t.nanos,s.nanos)}function qB(n,e){const t=n.values||[],s=e.values||[];for(let r=0;r<t.length&&r<s.length;++r){const o=lm(t[r],s[r]);if(o)return o}return Zs(t.length,s.length)}function Am(n){return Z1(n)}function Z1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Vd(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Kd(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Yn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",r=!0;for(const o of t.values||[])r?r=!1:s+=",",s+=Z1(o);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const c of s)o?o=!1:r+=",",r+=`${c}:${Z1(t.fields[c])}`;return r+"}"})(n.mapValue):os(61005,{value:n})}function mx(n){switch(zd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bv(n);return e?16+mx(e):16;case 5:return 2*n.stringValue.length;case 6:return Kd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,o)=>r+mx(o)),0)})(n.arrayValue);case 10:case 11:return(function(s){let r=0;return Zd(s.fields,((o,c)=>{r+=o.length+mx(c)})),r})(n.mapValue);default:throw os(13486,{value:n})}}function ZB(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eb(n){return!!n&&"integerValue"in n}function jw(n){return!!n&&"arrayValue"in n}function e5(n){return!!n&&"nullValue"in n}function t5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function px(n){return!!n&&"mapValue"in n}function Q8(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[h4])==null?void 0:s.stringValue)===f4}function Pp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Zd(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Pp(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pp(n.arrayValue.values[t]);return e}return{...n}}function O8(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===L8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.value=e}static empty(){return new Hl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!px(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pp(t)}setAll(e){let t=Eo.emptyPath(),s={},r=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const u=this.getFieldsMap(t);this.applyChanges(u,s,r),s={},r=[],t=h.popLast()}c?s[h.lastSegment()]=Pp(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,s,r)}delete(e){const t=this.field(e.popLast());px(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=t.mapValue.fields[e.get(s)];px(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,s){Zd(t,((r,o)=>e[r]=o));for(const r of s)delete e[r]}clone(){return new Hl(Pp(this.value))}}function m4(n){const e=[];return Zd(n.fields,((t,s)=>{const r=new Eo([t]);if(px(s)){const o=m4(s.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)})),new oA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t,s,r,o,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new al(e,0,gs.min(),gs.min(),gs.min(),Hl.empty(),0)}static newFoundDocument(e,t,s,r){return new al(e,1,t,gs.min(),s,r,0)}static newNoDocument(e,t){return new al(e,2,t,gs.min(),gs.min(),Hl.empty(),0)}static newUnknownDocument(e,t){return new al(e,3,t,gs.min(),gs.min(),Hl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gs.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof al&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new al(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.position=e,this.inclusive=t}}function n5(n,e,t){let s=0;for(let r=0;r<n.position.length;r++){const o=e[r],c=n.position[r];if(o.field.isKeyField()?s=Yn.comparator(Yn.fromName(c.referenceValue),t.key):s=lm(c,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function s5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function P8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{}class Hi extends p4{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new M8(e,t,s):t==="array-contains"?new K8(e,s):t==="in"?new z8(e,s):t==="not-in"?new G8(e,s):t==="array-contains-any"?new $8(e,s):new Hi(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new H8(e,s):new V8(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(lm(t,this.value)):t!==null&&zd(this.value)===zd(t)&&this.matchesComparison(lm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return os(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lc extends p4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new lc(e,t)}matches(e){return g4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g4(n){return n.op==="and"}function x4(n){return k8(n)&&g4(n)}function k8(n){for(const e of n.filters)if(e instanceof lc)return!1;return!0}function tb(n){if(n instanceof Hi)return n.field.canonicalString()+n.op.toString()+Am(n.value);if(x4(n))return n.filters.map((e=>tb(e))).join(",");{const e=n.filters.map((t=>tb(t))).join(",");return`${n.op}(${e})`}}function v4(n,e){return n instanceof Hi?(function(s,r){return r instanceof Hi&&s.op===r.op&&s.field.isEqual(r.field)&&Xc(s.value,r.value)})(n,e):n instanceof lc?(function(s,r){return r instanceof lc&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((o,c,h)=>o&&v4(c,r.filters[h])),!0):!1})(n,e):void os(19439)}function y4(n){return n instanceof Hi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Am(t.value)}`})(n):n instanceof lc?(function(t){return t.op.toString()+" {"+t.getFilters().map(y4).join(" ,")+"}"})(n):"Filter"}class M8 extends Hi{constructor(e,t,s){super(e,t,s),this.key=Yn.fromName(s.referenceValue)}matches(e){const t=Yn.comparator(e.key,this.key);return this.matchesComparison(t)}}class H8 extends Hi{constructor(e,t){super(e,"in",t),this.keys=b4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class V8 extends Hi{constructor(e,t){super(e,"not-in",t),this.keys=b4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function b4(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>Yn.fromName(s.referenceValue)))}class K8 extends Hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jw(t)&&Ag(t.arrayValue,this.value)}}class z8 extends Hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ag(this.value.arrayValue,t)}}class G8 extends Hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ag(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ag(this.value.arrayValue,t)}}class $8 extends Hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ag(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t=null,s=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function r5(n,e=null,t=[],s=[],r=null,o=null,c=null){return new Y8(n,e,t,s,r,o,c)}function Bw(n){const e=ms(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>tb(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),jv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Am(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Am(s))).join(",")),e.Te=t}return e.Te}function Cw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!s5(n.startAt,e.startAt)&&s5(n.endAt,e.endAt)}function nb(n){return Yn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t=null,s=[],r=[],o=null,c="F",h=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W8(n,e,t,s,r,o,c,h){return new Bm(n,e,t,s,r,o,c,h)}function Cv(n){return new Bm(n)}function a5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w4(n){return n.collectionGroup!==null}function kp(n){const e=ms(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new io(Eo.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new cg(o,s))})),t.has(Eo.keyField().canonicalString())||e.Ie.push(new cg(Eo.keyField(),s))}return e.Ie}function zc(n){const e=ms(n);return e.Ee||(e.Ee=j4(e,kp(n))),e.Ee}function X8(n){const e=ms(n);return e.de||(e.de=j4(e,n.explicitOrderBy)),e.de}function j4(n,e){if(n.limitType==="F")return r5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new cg(r.field,o)}));const t=n.endAt?new Mx(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Mx(n.startAt.position,n.startAt.inclusive):null;return r5(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function sb(n,e){const t=n.filters.concat([e]);return new Bm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hx(n,e,t){return new Bm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sv(n,e){return Cw(zc(n),zc(e))&&n.limitType===e.limitType}function B4(n){return`${Bw(zc(n))}|lt:${n.limitType}`}function Kf(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((r=>y4(r))).join(", ")}]`),jv(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((r=>Am(r))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((r=>Am(r))).join(",")),`Target(${s})`})(zc(n))}; limitType=${n.limitType})`}function Nv(n,e){return e.isFoundDocument()&&(function(s,r){const o=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Yn.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(n,e)&&(function(s,r){for(const o of kp(s))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(s,r){for(const o of s.filters)if(!o.matches(r))return!1;return!0})(n,e)&&(function(s,r){return!(s.startAt&&!(function(c,h,u){const f=n5(c,h,u);return c.inclusive?f<=0:f<0})(s.startAt,kp(s),r)||s.endAt&&!(function(c,h,u){const f=n5(c,h,u);return c.inclusive?f>=0:f>0})(s.endAt,kp(s),r))})(n,e)}function J8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C4(n){return(e,t)=>{let s=!1;for(const r of kp(n)){const o=q8(r,e,t);if(o!==0)return o;s=s||r.field.isKeyField()}return 0}}function q8(n,e,t){const s=n.field.isKeyField()?Yn.comparator(e.key,t.key):(function(o,c,h){const u=c.data.field(o),f=h.data.field(o);return u!==null&&f!==null?lm(u,f):os(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return os(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[r,o]of s)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[t]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zd(this.inner,((t,s)=>{for(const[r,o]of s)e(r,o)}))}isEmpty(){return o4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=new Za(Yn.comparator);function _u(){return Z8}const S4=new Za(Yn.comparator);function _p(...n){let e=S4;for(const t of n)e=e.insert(t.key,t);return e}function N4(n){let e=S4;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ph(){return Mp()}function E4(){return Mp()}function Mp(){return new lf((n=>n.toString()),((n,e)=>n.isEqual(e)))}const eQ=new Za(Yn.comparator),tQ=new io(Yn.comparator);function er(...n){let e=tQ;for(const t of n)e=e.add(t);return e}const nQ=new io(Zs);function sQ(){return nQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ox(e)?"-0":e}}function T4(n){return{integerValue:""+n}}function rQ(n,e){return I8(e)?T4(e):Sw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this._=void 0}}function aQ(n,e,t){return n instanceof Vx?(function(r,o){const c={fields:{[c4]:{stringValue:A4},[d4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ww(o)&&(o=Bv(o)),o&&(c.fields[u4]=o),{mapValue:c}})(t,e):n instanceof ug?_4(n,e):n instanceof dg?F4(n,e):(function(r,o){const c=I4(r,o),h=i5(c)+i5(r.Ae);return eb(c)&&eb(r.Ae)?T4(h):Sw(r.serializer,h)})(n,e)}function iQ(n,e,t){return n instanceof ug?_4(n,e):n instanceof dg?F4(n,e):t}function I4(n,e){return n instanceof Kx?(function(s){return eb(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Vx extends Ev{}class ug extends Ev{constructor(e){super(),this.elements=e}}function _4(n,e){const t=U4(e);for(const s of n.elements)t.some((r=>Xc(r,s)))||t.push(s);return{arrayValue:{values:t}}}class dg extends Ev{constructor(e){super(),this.elements=e}}function F4(n,e){let t=U4(e);for(const s of n.elements)t=t.filter((r=>!Xc(r,s)));return{arrayValue:{values:t}}}class Kx extends Ev{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function i5(n){return wi(n.integerValue||n.doubleValue)}function U4(n){return jw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function oQ(n,e){return n.field.isEqual(e.field)&&(function(s,r){return s instanceof ug&&r instanceof ug||s instanceof dg&&r instanceof dg?om(s.elements,r.elements,Xc):s instanceof Kx&&r instanceof Kx?Xc(s.Ae,r.Ae):s instanceof Vx&&r instanceof Vx})(n.transform,e.transform)}class lQ{constructor(e,t){this.version=e,this.transformResults=t}}class Kl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kl}static exists(e){return new Kl(void 0,e)}static updateTime(e){return new Kl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gx(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tv{}function D4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Iv(n.key,Kl.none()):new _g(n.key,n.data,Kl.none());{const t=n.data,s=Hl.empty();let r=new io(Eo.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?s.delete(o):s.set(o,c),r=r.add(o)}return new eh(n.key,s,new oA(r.toArray()),Kl.none())}}function AQ(n,e,t){n instanceof _g?(function(r,o,c){const h=r.value.clone(),u=l5(r.fieldTransforms,o,c.transformResults);h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof eh?(function(r,o,c){if(!gx(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=l5(r.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(R4(r)),u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Hp(n,e,t,s){return n instanceof _g?(function(o,c,h,u){if(!gx(o.precondition,c))return h;const f=o.value.clone(),A=A5(o.fieldTransforms,u,c);return f.setAll(A),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,s):n instanceof eh?(function(o,c,h,u){if(!gx(o.precondition,c))return h;const f=A5(o.fieldTransforms,u,c),A=c.data;return A.setAll(R4(o)),A.setAll(f),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(n,e,t,s):(function(o,c,h){return gx(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function cQ(n,e){let t=null;for(const s of n.fieldTransforms){const r=e.data.field(s.field),o=I4(s.transform,r||null);o!=null&&(t===null&&(t=Hl.empty()),t.set(s.field,o))}return t||null}function o5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&om(s,r,((o,c)=>oQ(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _g extends Tv{constructor(e,t,s,r=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class eh extends Tv{constructor(e,t,s,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function R4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function l5(n,e,t){const s=new Map;Sr(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const o=n[r],c=o.transform,h=e.data.field(o.field);s.set(o.field,iQ(c,h,t[r]))}return s}function A5(n,e,t){const s=new Map;for(const r of n){const o=r.transform,c=t.data.field(r.field);s.set(r.field,aQ(o,c,e))}return s}class Iv extends Tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uQ extends Tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e,t,s,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&AQ(o,e,s[r])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Hp(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Hp(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=E4();return this.mutations.forEach((r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(r.key)?null:h;const u=D4(c,h);u!==null&&s.set(r.key,u),c.isValidDocument()||c.convertToNoDocument(gs.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),er())}isEqual(e){return this.batchId===e.batchId&&om(this.mutations,e.mutations,((t,s)=>o5(t,s)))&&om(this.baseMutations,e.baseMutations,((t,s)=>o5(t,s)))}}class Nw{constructor(e,t,s,r){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=r}static from(e,t,s){Sr(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return eQ})();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,s[c].version);return new Nw(e,t,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi,Ar;function pQ(n){switch(n){case Ct.OK:return os(64938);case Ct.CANCELLED:case Ct.UNKNOWN:case Ct.DEADLINE_EXCEEDED:case Ct.RESOURCE_EXHAUSTED:case Ct.INTERNAL:case Ct.UNAVAILABLE:case Ct.UNAUTHENTICATED:return!1;case Ct.INVALID_ARGUMENT:case Ct.NOT_FOUND:case Ct.ALREADY_EXISTS:case Ct.PERMISSION_DENIED:case Ct.FAILED_PRECONDITION:case Ct.ABORTED:case Ct.OUT_OF_RANGE:case Ct.UNIMPLEMENTED:case Ct.DATA_LOSS:return!0;default:return os(15467,{code:n})}}function L4(n){if(n===void 0)return Iu("GRPC error has no .code"),Ct.UNKNOWN;switch(n){case Pi.OK:return Ct.OK;case Pi.CANCELLED:return Ct.CANCELLED;case Pi.UNKNOWN:return Ct.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return Ct.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return Ct.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return Ct.INTERNAL;case Pi.UNAVAILABLE:return Ct.UNAVAILABLE;case Pi.UNAUTHENTICATED:return Ct.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return Ct.INVALID_ARGUMENT;case Pi.NOT_FOUND:return Ct.NOT_FOUND;case Pi.ALREADY_EXISTS:return Ct.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return Ct.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return Ct.FAILED_PRECONDITION;case Pi.ABORTED:return Ct.ABORTED;case Pi.OUT_OF_RANGE:return Ct.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return Ct.UNIMPLEMENTED;case Pi.DATA_LOSS:return Ct.DATA_LOSS;default:return os(39323,{code:n})}}(Ar=Pi||(Pi={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ=new Od([4294967295,4294967295],0);function c5(n){const e=gQ().encode(n),t=new XE;return t.update(e),new Uint8Array(t.digest())}function u5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Od([t,s],0),new Od([r,o],0)]}class Ew{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Fp(`Invalid padding: ${t}`);if(s<0)throw new Fp(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fp(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Fp(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Od.fromNumber(this.ge)}ye(e,t,s){let r=e.add(t.multiply(Od.fromNumber(s)));return r.compare(xQ)===1&&(r=new Od([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=c5(e),[s,r]=u5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,r,o);if(!this.we(c))return!1}return!0}static create(e,t,s){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Ew(o,r,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=c5(e),[s,r]=u5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,r,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Fp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,s,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const r=new Map;return r.set(e,Fg.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new _v(gs.min(),r,new Za(Zs),_u(),er())}}class Fg{constructor(e,t,s,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fg(s,t,er(),er(),er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,s,r){this.be=e,this.removedTargetIds=t,this.key=s,this.De=r}}class Q4{constructor(e,t){this.targetId=e,this.Ce=t}}class O4{constructor(e,t,s=_o.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=r}}class d5{constructor(){this.ve=0,this.Fe=h5(),this.Me=_o.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=er(),t=er(),s=er();return this.Fe.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:s=s.add(r);break;default:os(38017,{changeType:o})}})),new Fg(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=h5()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Sr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=_u(),this.Je=K0(),this.He=K0(),this.Ye=new Za(Zs)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:os(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,s=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(nb(o))if(s===0){const c=new Yn(o.path);this.et(t,c,al.newNoDocument(c,gs.min()))}else Sr(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const h=this.ut(e),u=h?this.ct(h,e,c):1;if(u!==0){this.it(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:o=0}=t;let c,h;try{c=Kd(s).toUint8Array()}catch(u){if(u instanceof l4)return im("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{h=new Ew(c,r,o)}catch(u){return im(u instanceof Fp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let r=0;return s.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&nb(h.target)){const u=new Yn(h.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,al.newNoDocument(u,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let s=er();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const r=new _v(e,t,this.Ye,this.je,s);return this.je=_u(),this.Je=K0(),this.He=K0(),this.Ye=new Za(Zs),r}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new d5,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new io(Zs),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new io(Zs),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||wn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d5),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function K0(){return new Za(Yn.comparator)}function h5(){return new Za(Yn.comparator)}const yQ={asc:"ASCENDING",desc:"DESCENDING"},bQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wQ={and:"AND",or:"OR"};class jQ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rb(n,e){return n.useProto3Json||jv(e)?e:{value:e}}function zx(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BQ(n,e){return zx(n,e.toTimestamp())}function Gc(n){return Sr(!!n,49232),gs.fromTimestamp((function(t){const s=Vd(t);return new ar(s.seconds,s.nanos)})(n))}function Tw(n,e){return ab(n,e).canonicalString()}function ab(n,e){const t=(function(r){return new pa(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function k4(n){const e=pa.fromString(n);return Sr(G4(e),10190,{key:e.toString()}),e}function ib(n,e){return Tw(n.databaseId,e.path)}function Ky(n,e){const t=k4(e);if(t.get(1)!==n.databaseId.projectId)throw new un(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new un(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Yn(H4(t))}function M4(n,e){return Tw(n.databaseId,e)}function CQ(n){const e=k4(n);return e.length===4?pa.emptyPath():H4(e)}function ob(n){return new pa(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function H4(n){return Sr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function f5(n,e,t){return{name:ib(n,e),fields:t.value.mapValue.fields}}function SQ(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:os(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(f,A){return f.useProto3Json?(Sr(A===void 0||typeof A=="string",58123),_o.fromBase64String(A||"")):(Sr(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),_o.fromUint8Array(A||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const A=f.code===void 0?Ct.UNKNOWN:L4(f.code);return new un(A,f.message||"")})(c);t=new O4(s,r,o,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Ky(n,s.document.name),o=Gc(s.document.updateTime),c=s.document.createTime?Gc(s.document.createTime):gs.min(),h=new Hl({mapValue:{fields:s.document.fields}}),u=al.newFoundDocument(r,o,c,h),f=s.targetIds||[],A=s.removedTargetIds||[];t=new xx(f,A,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Ky(n,s.document),o=s.readTime?Gc(s.readTime):gs.min(),c=al.newNoDocument(r,o),h=s.removedTargetIds||[];t=new xx([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Ky(n,s.document),o=s.removedTargetIds||[];t=new xx([],o,r,null)}else{if(!("filter"in e))return os(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:o}=s,c=new mQ(r,o),h=s.targetId;t=new Q4(h,c)}}return t}function NQ(n,e){let t;if(e instanceof _g)t={update:f5(n,e.key,e.value)};else if(e instanceof Iv)t={delete:ib(n,e.key)};else if(e instanceof eh)t={update:f5(n,e.key,e.data),updateMask:LQ(e.fieldMask)};else{if(!(e instanceof uQ))return os(16599,{Vt:e.type});t={verify:ib(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const h=c.transform;if(h instanceof Vx)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ug)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dg)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Kx)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw os(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:BQ(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:os(27497)})(n,e.precondition)),t}function EQ(n,e){return n&&n.length>0?(Sr(e!==void 0,14353),n.map((t=>(function(r,o){let c=r.updateTime?Gc(r.updateTime):Gc(o);return c.isEqual(gs.min())&&(c=Gc(o)),new lQ(c,r.transformResults||[])})(t,e)))):[]}function TQ(n,e){return{documents:[M4(n,e.path)]}}function V4(n,e){const t={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=M4(n,r);const o=(function(f){if(f.length!==0)return z4(lc.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((A=>(function(x){return{field:Nd(x.field),direction:UQ(x.dir)}})(A)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=rb(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:r}}function IQ(n,e,t,s){const{ft:r,parent:o}=V4(n,e),c={},h=[];let u=0;return t.forEach((f=>{const A="aggregate_"+u++;c[A]=f.alias,f.aggregateType==="count"?h.push({alias:A,count:{}}):f.aggregateType==="avg"?h.push({alias:A,avg:{field:Nd(f.fieldPath)}}):f.aggregateType==="sum"&&h.push({alias:A,sum:{field:Nd(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:r.structuredQuery},parent:r.parent},gt:c,parent:o}}function _Q(n){let e=CQ(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let r=null;if(s>0){Sr(s===1,65062);const A=t.from[0];A.allDescendants?r=A.collectionId:e=e.child(A.collectionId)}let o=[];t.where&&(o=(function(m){const x=K4(m);return x instanceof lc&&x4(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(m){return m.map((x=>(function(b){return new cg(zf(b.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(m){let x;return x=typeof m=="object"?m.value:m,jv(x)?null:x})(t.limit));let u=null;t.startAt&&(u=(function(m){const x=!!m.before,g=m.values||[];return new Mx(g,x)})(t.startAt));let f=null;return t.endAt&&(f=(function(m){const x=!m.before,g=m.values||[];return new Mx(g,x)})(t.endAt)),W8(e,r,c,o,h,"F",u,f)}function FQ(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return os(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function K4(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=zf(t.unaryFilter.field);return Hi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=zf(t.unaryFilter.field);return Hi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zf(t.unaryFilter.field);return Hi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zf(t.unaryFilter.field);return Hi.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return os(61313);default:return os(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Hi.create(zf(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return os(58110);default:return os(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return lc.create(t.compositeFilter.filters.map((s=>K4(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return os(1026)}})(t.compositeFilter.op))})(n):os(30097,{filter:n})}function UQ(n){return yQ[n]}function DQ(n){return bQ[n]}function RQ(n){return wQ[n]}function Nd(n){return{fieldPath:n.canonicalString()}}function zf(n){return Eo.fromServerFormat(n.fieldPath)}function z4(n){return n instanceof Hi?(function(t){if(t.op==="=="){if(t5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NAN"}};if(e5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NOT_NAN"}};if(e5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nd(t.field),op:DQ(t.op),value:t.value}}})(n):n instanceof lc?(function(t){const s=t.getFilters().map((r=>z4(r)));return s.length===1?s[0]:{compositeFilter:{op:RQ(t.op),filters:s}}})(n):os(54877,{filter:n})}function LQ(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function G4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,s,r,o=gs.min(),c=gs.min(),h=_o.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=u}withSequenceNumber(e){return new Td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e){this.yt=e}}function OQ(n){const e=_Q({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.Cn=new kQ}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ut.resolve()}getCollectionParents(e,t){return Ut.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ut.resolve()}deleteFieldIndex(e,t){return Ut.resolve()}deleteAllFieldIndexes(e){return Ut.resolve()}createTargetIndexes(e,t){return Ut.resolve()}getDocumentsMatchingTarget(e,t){return Ut.resolve(null)}getIndexType(e,t){return Ut.resolve(0)}getFieldIndexes(e,t){return Ut.resolve([])}getNextCollectionGroupToUpdate(e){return Ut.resolve(null)}getMinOffset(e,t){return Ut.resolve(Hd.min())}getMinOffsetFromCollectionGroup(e,t){return Ut.resolve(Hd.min())}updateCollectionGroup(e,t,s){return Ut.resolve()}updateIndexEntries(e,t){return Ut.resolve()}}class kQ{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),r=this.index[t]||new io(pa.comparator),o=!r.has(s);return this.index[t]=r.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),r=this.index[t];return r&&r.has(s)}getEntries(e){return(this.index[e]||new io(pa.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$4=41943040;class Ml{static withCacheSize(e){return new Ml(e,Ml.DEFAULT_COLLECTION_PERCENTILE,Ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ml.DEFAULT_COLLECTION_PERCENTILE=10,Ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ml.DEFAULT=new Ml($4,Ml.DEFAULT_COLLECTION_PERCENTILE,Ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ml.DISABLED=new Ml(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cm(0)}static cr(){return new cm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="LruGarbageCollector",MQ=1048576;function g5([n,e],[t,s]){const r=Zs(n,t);return r===0?Zs(e,s):r}class HQ{constructor(e){this.Ir=e,this.buffer=new io(g5),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();g5(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VQ{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){wn(p5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jm(t)?wn(p5,"Ignoring IndexedDB error during garbage collection: ",t):await wm(t)}await this.Vr(3e5)}))}}class KQ{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Ut.resolve(wv.ce);const s=new HQ(t);return this.mr.forEachTarget(e,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(wn("LruGarbageCollector","Garbage collection skipped; disabled"),Ut.resolve(m5)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(wn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m5):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,r,o,c,h,u,f;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(wn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,c=Date.now(),this.nthSequenceNumber(e,r)))).next((m=>(s=m,h=Date.now(),this.removeTargets(e,s,t)))).next((m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((m=>(f=Date.now(),Vf()<=cr.DEBUG&&wn("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-A}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(u-h)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-A}ms`),Ut.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:m}))))}}function zQ(n,e){return new KQ(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(){this.changes=new lf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,al.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Ut.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,t,s,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(s!==null&&Hp(s.mutation,r,oA.empty(),ar.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,er()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=er()){const r=Ph();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,s).next((o=>{let c=_p();return o.forEach(((h,u)=>{c=c.insert(h,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Ph();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,er())))}populateOverlays(e,t,s){const r=[];return s.forEach((o=>{t.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,r){let o=_u();const c=Mp(),h=(function(){return Mp()})();return t.forEach(((u,f)=>{const A=s.get(f.key);r.has(f.key)&&(A===void 0||A.mutation instanceof eh)?o=o.insert(f.key,f):A!==void 0?(c.set(f.key,A.mutation.getFieldMask()),Hp(A.mutation,f,A.mutation.getFieldMask(),ar.now())):c.set(f.key,oA.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((f,A)=>c.set(f,A))),t.forEach(((f,A)=>h.set(f,new $Q(A,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=Mp();let r=new Za(((c,h)=>c-h)),o=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((u=>{const f=t.get(u);if(f===null)return;let A=s.get(u)||oA.empty();A=h.applyToLocalView(f,A),s.set(u,A);const m=(r.get(h.batchId)||er()).add(u);r=r.insert(h.batchId,m)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const u=h.getNext(),f=u.key,A=u.value,m=E4();A.forEach((x=>{if(!o.has(x)){const g=D4(t.get(x),s.get(x));g!==null&&m.set(x,g),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Ut.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,r){return(function(c){return Yn.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,r):this.getDocumentsMatchingCollectionQuery(e,t,s,r)}getNextDocuments(e,t,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,r-o.size):Ut.resolve(Ph());let h=ig,u=o;return c.next((f=>Ut.forEach(f,((A,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),o.get(A)?Ut.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{u=u.insert(A,x)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,u,f,er()))).next((A=>({batchId:h,changes:N4(A)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yn(t)).next((s=>{let r=_p();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,r){const o=t.collectionGroup;let c=_p();return this.indexManager.getCollectionParents(e,o).next((h=>Ut.forEach(h,(u=>{const f=(function(m,x){return new Bm(x,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,r).next((A=>{A.forEach(((m,x)=>{c=c.insert(m,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,r)))).next((c=>{o.forEach(((u,f)=>{const A=f.getKey();c.get(A)===null&&(c=c.insert(A,al.newInvalidDocument(A)))}));let h=_p();return c.forEach(((u,f)=>{const A=o.get(u);A!==void 0&&Hp(A.mutation,f,oA.empty(),ar.now()),Nv(t,f)&&(h=h.insert(u,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ut.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Gc(r.createTime)}})(t)),Ut.resolve()}getNamedQuery(e,t){return Ut.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:OQ(r.bundledQuery),readTime:Gc(r.readTime)}})(t)),Ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(){this.overlays=new Za(Yn.comparator),this.qr=new Map}getOverlay(e,t){return Ut.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ph();return Ut.forEach(t,(r=>this.getOverlay(e,r).next((o=>{o!==null&&s.set(r,o)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((r,o)=>{this.St(e,t,o)})),Ut.resolve()}removeOverlaysForBatchId(e,t,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),Ut.resolve()}getOverlaysForCollection(e,t,s){const r=Ph(),o=t.length+1,c=new Yn(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const u=h.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>s&&r.set(u.getKey(),u)}return Ut.resolve(r)}getOverlaysForCollectionGroup(e,t,s,r){let o=new Za(((f,A)=>f-A));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>s){let A=o.get(f.largestBatchId);A===null&&(A=Ph(),o=o.insert(f.largestBatchId,A)),A.set(f.getKey(),f)}}const h=Ph(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,A)=>h.set(f,A))),!(h.size()>=r)););return Ut.resolve(h)}St(e,t,s){const r=this.overlays.get(s.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new hQ(t,s));let o=this.qr.get(t);o===void 0&&(o=er(),this.qr.set(t,o)),this.qr.set(t,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(){this.sessionToken=_o.EMPTY_BYTE_STRING}getSessionToken(e){return Ut.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Qr=new io(uo.$r),this.Ur=new io(uo.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new uo(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new uo(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Yn(new pa([])),s=new uo(t,e),r=new uo(t,e+1),o=[];return this.Ur.forEachInRange([s,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Yn(new pa([])),s=new uo(t,e),r=new uo(t,e+1);let o=er();return this.Ur.forEachInRange([s,r],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new uo(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class uo{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Yn.comparator(e.key,t.key)||Zs(e.Yr,t.Yr)}static Kr(e,t){return Zs(e.Yr,t.Yr)||Yn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new io(uo.$r)}checkEmpty(e){return Ut.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dQ(o,t,s,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new uo(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ut.resolve(c)}lookupMutationBatch(e,t){return Ut.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,r=this.ei(s),o=r<0?0:r;return Ut.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(this.mutationQueue.length===0?bw:this.tr-1)}getAllMutationBatches(e){return Ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new uo(t,0),r=new uo(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),Ut.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new io(Zs);return t.forEach((r=>{const o=new uo(r,0),c=new uo(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{s=s.add(h.Yr)}))})),Ut.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,r=s.length+1;let o=s;Yn.isDocumentKey(o)||(o=o.child(""));const c=new uo(new Yn(o),0);let h=new io(Zs);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!s.isPrefixOf(f)&&(f.length===r&&(h=h.add(u.Yr)),!0)}),c),Ut.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((s=>{const r=this.Xr(s);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Sr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ut.forEach(t.mutations,(r=>{const o=new uo(r.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new uo(t,0),r=this.Zr.firstAfterOrEqual(s);return Ut.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ut.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.ri=e,this.docs=(function(){return new Za(Yn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,r=this.docs.get(s),o=r?r.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ut.resolve(s?s.document.mutableCopy():al.newInvalidDocument(t))}getEntries(e,t){let s=_u();return t.forEach((r=>{const o=this.docs.get(r);s=s.insert(r,o?o.document.mutableCopy():al.newInvalidDocument(r))})),Ut.resolve(s)}getDocumentsMatchingQuery(e,t,s,r){let o=_u();const c=t.path,h=new Yn(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(h);for(;u.hasNext();){const{key:f,value:{document:A}}=u.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||S8(C8(A),s)<=0||(r.has(A.key)||Nv(t,A))&&(o=o.insert(A.key,A.mutableCopy()))}return Ut.resolve(o)}getAllFromCollectionGroup(e,t,s,r){os(9500)}ii(e,t){return Ut.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new eO(this)}getSize(e){return Ut.resolve(this.size)}}class eO extends GQ{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)})),Ut.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.persistence=e,this.si=new lf((t=>Bw(t)),Cw),this.lastRemoteSnapshotVersion=gs.min(),this.highestTargetId=0,this.oi=0,this._i=new Iw,this.targetCount=0,this.ai=cm.ur()}forEachTarget(e,t){return this.si.forEach(((s,r)=>t(r))),Ut.resolve()}getLastRemoteSnapshotVersion(e){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ut.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Ut.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new cm(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ut.resolve()}updateTargetData(e,t){return this.Pr(t),Ut.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(e,t,s){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),Ut.waitFor(o).next((()=>r))}getTargetCount(e){return Ut.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Ut.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Ut.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((c=>{o.push(r.markPotentiallyOrphaned(e,c))})),Ut.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ut.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Ut.resolve(s)}containsKey(e,t){return Ut.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t){this.ui={},this.overlays={},this.ci=new wv(0),this.li=!1,this.li=!0,this.hi=new JQ,this.referenceDelegate=e(this),this.Pi=new tO(this),this.indexManager=new PQ,this.remoteDocumentCache=(function(r){return new ZQ(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new QQ(t),this.Ii=new WQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new qQ(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){wn("MemoryPersistence","Starting transaction:",e);const r=new nO(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ut.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class nO extends E8{constructor(e){super(),this.currentSequenceNumber=e}}class _w{constructor(e){this.persistence=e,this.Ri=new Iw,this.Vi=null}static mi(e){return new _w(e)}get fi(){if(this.Vi)return this.Vi;throw os(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Ut.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Ut.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ut.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.fi,(s=>{const r=Yn.fromPath(s);return this.gi(e,r).next((o=>{o||t.removeEntry(r,gs.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ut.or([()=>Ut.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gx{constructor(e,t){this.persistence=e,this.pi=new lf((s=>_8(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=zQ(this,t)}static mi(e,t){return new Gx(e,t)}Ei(){}di(e){return Ut.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((r=>s+r))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Ut.forEach(this.pi,((s,r)=>this.br(e,s,r).next((o=>o?Ut.resolve():t(r)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,t).next((h=>{h||(s++,o.removeEntry(c,gs.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ut.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Ut.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Ut.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ut.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mx(e.data.value)),t}br(e,t,s){return Ut.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return Ut.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,s,r){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=r}static As(e,t){let s=er(),r=er();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Fw(e,t.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xU()?8:T8(ol())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,r){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,r,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new sO;return this.Ss(e,t,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>o.result))}bs(e,t,s,r){return s.documentReadCount<this.fs?(Vf()<=cr.DEBUG&&wn("QueryEngine","SDK will not create cache indexes for query:",Kf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ut.resolve()):(Vf()<=cr.DEBUG&&wn("QueryEngine","Query:",Kf(t),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Vf()<=cr.DEBUG&&wn("QueryEngine","The SDK decides to create cache indexes for query:",Kf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zc(t))):Ut.resolve())}ys(e,t){if(a5(t))return Ut.resolve(null);let s=zc(t);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Hx(t,null,"F"),s=zc(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=er(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((u=>{const f=this.Ds(t,h);return this.Cs(t,f,c,u.readTime)?this.ys(e,Hx(t,null,"F")):this.vs(e,f,t,u)}))))})))))}ws(e,t,s,r){return a5(t)||r.isEqual(gs.min())?Ut.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,s,r)?Ut.resolve(null):(Vf()<=cr.DEBUG&&wn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kf(t)),this.vs(e,c,t,B8(r,ig)).next((h=>h)))}))}Ds(e,t){let s=new io(C4(e));return t.forEach(((r,o)=>{Nv(e,o)&&(s=s.add(o))})),s}Cs(e,t,s,r){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,s){return Vf()<=cr.DEBUG&&wn("QueryEngine","Using full collection scan to execute query:",Kf(t)),this.ps.getDocumentsMatchingQuery(e,t,Hd.min(),s)}vs(e,t,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="LocalStore",aO=3e8;class iO{constructor(e,t,s,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Za(Zs),this.xs=new lf((o=>Bw(o)),Cw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function oO(n,e,t,s){return new iO(n,e,t,s)}async function W4(n,e){const t=ms(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return t.mutationQueue.getAllMutationBatches(s).next((o=>(r=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],h=[];let u=er();for(const f of r){c.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}for(const f of o){h.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}return t.localDocuments.getDocuments(s,u).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function lO(n,e){const t=ms(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,u,f,A){const m=f.batch,x=m.keys();let g=Ut.resolve();return x.forEach((b=>{g=g.next((()=>A.getEntry(u,b))).next((I=>{const N=f.docVersions.get(b);Sr(N!==null,48541),I.version.compareTo(N)<0&&(m.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),A.addEntry(I)))}))})),g.next((()=>h.mutationQueue.removeMutationBatch(u,m)))})(t,s,e,o).next((()=>o.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let u=er();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(u=u.add(h.batch.mutations[f].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(s,r)))}))}function X4(n){const e=ms(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function AO(n,e){const t=ms(n),s=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((A,m)=>{const x=r.get(m);if(!x)return;h.push(t.Pi.removeMatchingKeys(o,A.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(o,A.addedDocuments,m))));let g=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(_o.EMPTY_BYTE_STRING,gs.min()).withLastLimboFreeSnapshotVersion(gs.min()):A.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(A.resumeToken,s)),r=r.insert(m,g),(function(I,N,S){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=aO?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(x,g,A)&&h.push(t.Pi.updateTargetData(o,g))}));let u=_u(),f=er();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,A))})),h.push(cO(o,c,e.documentUpdates).next((A=>{u=A.ks,f=A.qs}))),!s.isEqual(gs.min())){const A=t.Pi.getLastRemoteSnapshotVersion(o).next((m=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));h.push(A)}return Ut.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,u,f))).next((()=>u))})).then((o=>(t.Ms=r,o)))}function cO(n,e,t){let s=er(),r=er();return t.forEach((o=>s=s.add(o))),e.getEntries(n,s).next((o=>{let c=_u();return t.forEach(((h,u)=>{const f=o.get(h);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(h)),u.isNoDocument()&&u.version.isEqual(gs.min())?(e.removeEntry(h,u.readTime),c=c.insert(h,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),c=c.insert(h,u)):wn(Uw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",u.version)})),{ks:c,qs:r}}))}function uO(n,e){const t=ms(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bw),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dO(n,e){const t=ms(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return t.Pi.getTargetData(s,e).next((o=>o?(r=o,Ut.resolve(r)):t.Pi.allocateTargetId(s).next((c=>(r=new Td(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=t.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function lb(n,e,t){const s=ms(n),r=s.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!jm(c))throw c;wn(Uw,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function x5(n,e,t){const s=ms(n);let r=gs.min(),o=er();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,f,A){const m=ms(u),x=m.xs.get(A);return x!==void 0?Ut.resolve(m.Ms.get(x)):m.Pi.getTargetData(f,A)})(s,c,zc(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((u=>{o=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?r:gs.min(),t?o:er()))).next((h=>(hO(s,J8(e),h),{documents:h,Qs:o})))))}function hO(n,e,t){let s=n.Os.get(e)||gs.min();t.forEach(((r,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),n.Os.set(e,s)}class v5{constructor(){this.activeTargetIds=sQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.Mo=new v5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v5,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="ConnectivityMonitor";class b5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){wn(y5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){wn(y5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0=null;function Ab(){return z0===null?z0=(function(){return 268435456+Math.round(2147483648*Math.random())})():z0++,"0x"+z0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="RestConnection",pO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Px?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,t,s,r,o){const c=Ab(),h=this.zo(e,t.toUriEncodedString());wn(zy,`Sending RPC '${e}' ${c}:`,h,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,o);const{host:f}=new URL(h),A=Jd(f);return this.Jo(e,h,u,s,A).then((m=>(wn(zy,`Received RPC '${e}' ${c}: `,m),m)),(m=>{throw im(zy,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",s),m}))}Ho(e,t,s,r,o,c){return this.Go(e,t,s,r,o)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,o)=>e[o]=r)),s&&s.headers.forEach(((r,o)=>e[o]=r))}zo(e,t){const s=pO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="WebChannelConnection";class vO extends gO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,r,o){const c=Ab();return new Promise(((h,u)=>{const f=new JE;f.setWithCredentials(!0),f.listenOnce(qE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case fx.NO_ERROR:const m=f.getResponseJson();wn(Zo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(m)),h(m);break;case fx.TIMEOUT:wn(Zo,`RPC '${e}' ${c} timed out`),u(new un(Ct.DEADLINE_EXCEEDED,"Request time out"));break;case fx.HTTP_ERROR:const x=f.getStatus();if(wn(Zo,`RPC '${e}' ${c} failed with status:`,x,"response text:",f.getResponseText()),x>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const I=(function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(Ct).indexOf(E)>=0?E:Ct.UNKNOWN})(b.status);u(new un(I,b.message))}else u(new un(Ct.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new un(Ct.UNAVAILABLE,"Connection failed."));break;default:os(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{wn(Zo,`RPC '${e}' ${c} completed.`)}}));const A=JSON.stringify(r);wn(Zo,`RPC '${e}' ${c} sending request:`,r),f.send(t,"POST",A,s,15)}))}T_(e,t,s){const r=Ab(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=t4(),h=e4(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,s),u.encodeInitMessageHeaders=!0;const A=o.join("");wn(Zo,`Creating RPC '${e}' stream ${r}: ${A}`,u);const m=c.createWebChannel(A,u);this.I_(m);let x=!1,g=!1;const b=new xO({Yo:N=>{g?wn(Zo,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(x||(wn(Zo,`Opening RPC '${e}' stream ${r} transport.`),m.open(),x=!0),wn(Zo,`RPC '${e}' stream ${r} sending:`,N),m.send(N))},Zo:()=>m.close()}),I=(N,S,E)=>{N.listen(S,(F=>{try{E(F)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return I(m,Ip.EventType.OPEN,(()=>{g||(wn(Zo,`RPC '${e}' stream ${r} transport opened.`),b.o_())})),I(m,Ip.EventType.CLOSE,(()=>{g||(g=!0,wn(Zo,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(m))})),I(m,Ip.EventType.ERROR,(N=>{g||(g=!0,im(Zo,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),b.a_(new un(Ct.UNAVAILABLE,"The operation could not be completed")))})),I(m,Ip.EventType.MESSAGE,(N=>{var S;if(!g){const E=N.data[0];Sr(!!E,16349);const F=E,Q=(F==null?void 0:F.error)||((S=F[0])==null?void 0:S.error);if(Q){wn(Zo,`RPC '${e}' stream ${r} received error:`,Q);const P=Q.status;let H=(function(R){const K=Pi[R];if(K!==void 0)return L4(K)})(P),L=Q.message;H===void 0&&(H=Ct.INTERNAL,L="Unknown error status: "+P+" with message "+Q.message),g=!0,b.a_(new un(H,L)),m.close()}else wn(Zo,`RPC '${e}' stream ${r} received:`,E),b.u_(E)}})),I(h,ZE.STAT_EVENT,(N=>{N.stat===J1.PROXY?wn(Zo,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===J1.NOPROXY&&wn(Zo,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Gy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n){return new jQ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t,s=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-s);r>0&&wn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="PersistentStream";class q4{constructor(e,t,s,r,o,c,h,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ct.RESOURCE_EXHAUSTED?(Iu(t.toString()),Iu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===t&&this.G_(s,r)}),(s=>{e((()=>{const r=new un(Ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return wn(w5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(wn(w5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yO extends q4{constructor(e,t,s,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,r,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=SQ(this.serializer,e),s=(function(o){if(!("targetChange"in o))return gs.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?gs.min():c.readTime?Gc(c.readTime):gs.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=ob(this.serializer),t.addTarget=(function(o,c){let h;const u=c.target;if(h=nb(u)?{documents:TQ(o,u)}:{query:V4(o,u).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=P4(o,c.resumeToken);const f=rb(o,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(gs.min())>0){h.readTime=zx(o,c.snapshotVersion.toTimestamp());const f=rb(o,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const s=FQ(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=ob(this.serializer),t.removeTarget=e,this.q_(t)}}class bO extends q4{constructor(e,t,s,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Sr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Sr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Sr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=EQ(e.writeResults,e.commitTime),s=Gc(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=ob(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>NQ(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{}class jO extends wO{constructor(e,t,s,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new un(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,ab(t,s),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new un(Ct.UNKNOWN,o.toString())}))}Ho(e,t,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,ab(t,s),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new un(Ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Iu(t),this.aa=!1):wn("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="RemoteStore";class CO{constructor(e,t,s,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Af(this)&&(wn(tf,"Restarting streams for network reachability change."),await(async function(u){const f=ms(u);f.Ea.add(4),await Ug(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Uv(f)})(this))}))})),this.Ra=new BO(s,r)}}async function Uv(n){if(Af(n))for(const e of n.da)await e(!0)}async function Ug(n){for(const e of n.da)await e(!1)}function Z4(n,e){const t=ms(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qw(t)?Lw(t):Cm(t).O_()&&Rw(t,e))}function Dw(n,e){const t=ms(n),s=Cm(t);t.Ia.delete(e),s.O_()&&eT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Af(t)&&t.Ra.set("Unknown"))}function Rw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gs.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cm(n).Y_(e)}function eT(n,e){n.Va.Ue(e),Cm(n).Z_(e)}function Lw(n){n.Va=new vQ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Cm(n).start(),n.Ra.ua()}function Qw(n){return Af(n)&&!Cm(n).x_()&&n.Ia.size>0}function Af(n){return ms(n).Ea.size===0}function tT(n){n.Va=void 0}async function SO(n){n.Ra.set("Online")}async function NO(n){n.Ia.forEach(((e,t)=>{Rw(n,e)}))}async function EO(n,e){tT(n),Qw(n)?(n.Ra.ha(e),Lw(n)):n.Ra.set("Unknown")}async function TO(n,e,t){if(n.Ra.set("Online"),e instanceof O4&&e.state===2&&e.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(n,e)}catch(s){wn(tf,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $x(n,s)}else if(e instanceof xx?n.Va.Ze(e):e instanceof Q4?n.Va.st(e):n.Va.tt(e),!t.isEqual(gs.min()))try{const s=await X4(n.localStore);t.compareTo(s)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const A=o.Ia.get(f);A&&o.Ia.set(f,A.withResumeToken(u.resumeToken,c))}})),h.targetMismatches.forEach(((u,f)=>{const A=o.Ia.get(u);if(!A)return;o.Ia.set(u,A.withResumeToken(_o.EMPTY_BYTE_STRING,A.snapshotVersion)),eT(o,u);const m=new Td(A.target,u,f,A.sequenceNumber);Rw(o,m)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){wn(tf,"Failed to raise snapshot:",s),await $x(n,s)}}async function $x(n,e,t){if(!jm(e))throw e;n.Ea.add(1),await Ug(n),n.Ra.set("Offline"),t||(t=()=>X4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{wn(tf,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Uv(n)}))}function nT(n,e){return e().catch((t=>$x(n,t,e)))}async function Dv(n){const e=ms(n),t=Gd(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bw;for(;IO(e);)try{const r=await uO(e.localStore,s);if(r===null){e.Ta.length===0&&t.L_();break}s=r.batchId,_O(e,r)}catch(r){await $x(e,r)}sT(e)&&rT(e)}function IO(n){return Af(n)&&n.Ta.length<10}function _O(n,e){n.Ta.push(e);const t=Gd(n);t.O_()&&t.X_&&t.ea(e.mutations)}function sT(n){return Af(n)&&!Gd(n).x_()&&n.Ta.length>0}function rT(n){Gd(n).start()}async function FO(n){Gd(n).ra()}async function UO(n){const e=Gd(n);for(const t of n.Ta)e.ea(t.mutations)}async function DO(n,e,t){const s=n.Ta.shift(),r=Nw.from(s,e,t);await nT(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Dv(n)}async function RO(n,e){e&&Gd(n).X_&&await(async function(s,r){if((function(c){return pQ(c)&&c!==Ct.ABORTED})(r.code)){const o=s.Ta.shift();Gd(s).B_(),await nT(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Dv(s)}})(n,e),sT(n)&&rT(n)}async function j5(n,e){const t=ms(n);t.asyncQueue.verifyOperationInProgress(),wn(tf,"RemoteStore received new credentials");const s=Af(t);t.Ea.add(3),await Ug(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Uv(t)}async function LO(n,e){const t=ms(n);e?(t.Ea.delete(2),await Uv(t)):e||(t.Ea.add(2),await Ug(t),t.Ra.set("Unknown"))}function Cm(n){return n.ma||(n.ma=(function(t,s,r){const o=ms(t);return o.sa(),new yO(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:SO.bind(null,n),t_:NO.bind(null,n),r_:EO.bind(null,n),H_:TO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Qw(n)?Lw(n):n.Ra.set("Unknown")):(await n.ma.stop(),tT(n))}))),n.ma}function Gd(n){return n.fa||(n.fa=(function(t,s,r){const o=ms(t);return o.sa(),new bO(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:FO.bind(null,n),r_:RO.bind(null,n),ta:UO.bind(null,n),na:DO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Dv(n)):(await n.fa.stop(),n.Ta.length>0&&(wn(tf,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,s,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=r,this.removalCallback=o,this.deferred=new Kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,r,o){const c=Date.now()+s,h=new Ow(e,t,c,r,o);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new un(Ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(n,e){if(Iu("AsyncQueue",`${e}: ${n}`),jm(n))return new un(Ct.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{static emptySet(e){return new sm(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Yn.comparator(t.key,s.key):(t,s)=>Yn.comparator(t.key,s.key),this.keyedMap=_p(),this.sortedSet=new Za(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=s.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new sm;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.ga=new Za(Yn.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):os(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class um{constructor(e,t,s,r,o,c,h,u,f){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,s,r,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new um(e,t,sm.emptySet(t),c,s,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==s[r].type||!t[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OO{constructor(){this.queries=C5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const r=ms(t),o=r.queries;r.queries=C5(),o.forEach(((c,h)=>{for(const u of h.Sa)u.onError(s)}))})(this,new un(Ct.ABORTED,"Firestore shutting down"))}}function C5(){return new lf((n=>B4(n)),Sv)}async function kw(n,e){const t=ms(n);let s=3;const r=e.query;let o=t.queries.get(r);o?!o.ba()&&e.Da()&&(s=2):(o=new QO,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await t.onListen(r,!0);break;case 1:o.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(c){const h=Pw(c,`Initialization of query '${Kf(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Hw(t)}async function Mw(n,e){const t=ms(n),s=e.query;let r=3;const o=t.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function PO(n,e){const t=ms(n);let s=!1;for(const r of e){const o=r.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(s=!0);c.wa=r}}s&&Hw(t)}function kO(n,e,t){const s=ms(n),r=s.queries.get(e);if(r)for(const o of r.Sa)o.onError(t);s.queries.delete(e)}function Hw(n){n.Ca.forEach((e=>{e.next()}))}var cb,S5;(S5=cb||(cb={})).Ma="default",S5.Cache="cache";class Vw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new um(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=um.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class iT{constructor(e){this.key=e}}class MO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=er(),this.mutatedKeys=er(),this.eu=C4(e),this.tu=new sm(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new B5,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((A,m)=>{const x=r.get(A),g=Nv(this.query,m)?m:null,b=!!x&&this.mutatedKeys.has(x.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;x&&g?x.data.isEqual(g.data)?b!==I&&(s.track({type:3,doc:g}),N=!0):this.su(x,g)||(s.track({type:2,doc:g}),N=!0,(u&&this.eu(g,u)>0||f&&this.eu(g,f)<0)&&(h=!0)):!x&&g?(s.track({type:0,doc:g}),N=!0):x&&!g&&(s.track({type:1,doc:x}),N=!0,(u||f)&&(h=!0)),N&&(g?(c=c.add(g),o=I?o.add(A):o.delete(A)):(c=c.delete(A),o=o.delete(A)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const A=this.query.limitType==="F"?c.last():c.first();c=c.delete(A.key),o=o.delete(A.key),s.track({type:1,doc:A})}return{tu:c,iu:s,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((A,m)=>(function(g,b){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return os(20277,{Rt:N})}};return I(g)-I(b)})(A.type,m.type)||this.eu(A.doc,m.doc))),this.ou(s),r=r??!1;const h=t&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,f=u!==this.Za;return this.Za=u,c.length!==0||f?{snapshot:new um(this.query,e.tu,o,c,e.mutatedKeys,u===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=er(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new iT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new aT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=er();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return um.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kw="SyncEngine";class HO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class VO{constructor(e){this.key=e,this.hu=!1}}class KO{constructor(e,t,s,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new lf((h=>B4(h)),Sv),this.Iu=new Map,this.Eu=new Set,this.du=new Za(Yn.comparator),this.Au=new Map,this.Ru=new Iw,this.Vu={},this.mu=new Map,this.fu=cm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zO(n,e,t=!0){const s=dT(n);let r;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await oT(s,e,t,!0),r}async function GO(n,e){const t=dT(n);await oT(t,e,!0,!1)}async function oT(n,e,t,s){const r=await dO(n.localStore,zc(e)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return s&&(h=await $O(n,e,o,c==="current",r.resumeToken)),n.isPrimaryClient&&t&&Z4(n.remoteStore,r),h}async function $O(n,e,t,s,r){n.pu=(m,x,g)=>(async function(I,N,S,E){let F=N.view.ru(S);F.Cs&&(F=await x5(I.localStore,N.query,!1).then((({documents:L})=>N.view.ru(L,F))));const Q=E&&E.targetChanges.get(N.targetId),P=E&&E.targetMismatches.get(N.targetId)!=null,H=N.view.applyChanges(F,I.isPrimaryClient,Q,P);return E5(I,N.targetId,H.au),H.snapshot})(n,m,x,g);const o=await x5(n.localStore,e,!0),c=new MO(e,o.Qs),h=c.ru(o.documents),u=Fg.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",r),f=c.applyChanges(h,n.isPrimaryClient,u);E5(n,t,f.au);const A=new HO(e,t,c);return n.Tu.set(e,A),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function YO(n,e,t){const s=ms(n),r=s.Tu.get(e),o=s.Iu.get(r.targetId);if(o.length>1)return s.Iu.set(r.targetId,o.filter((c=>!Sv(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await lb(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),t&&Dw(s.remoteStore,r.targetId),ub(s,r.targetId)})).catch(wm)):(ub(s,r.targetId),await lb(s.localStore,r.targetId,!0))}async function WO(n,e){const t=ms(n),s=t.Tu.get(e),r=t.Iu.get(s.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dw(t.remoteStore,s.targetId))}async function XO(n,e,t){const s=sP(n);try{const r=await(function(c,h){const u=ms(c),f=ar.now(),A=h.reduce(((g,b)=>g.add(b.key)),er());let m,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let b=_u(),I=er();return u.Ns.getEntries(g,A).next((N=>{b=N,b.forEach(((S,E)=>{E.isValidDocument()||(I=I.add(S))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,b))).next((N=>{m=N;const S=[];for(const E of h){const F=cQ(E,m.get(E.key).overlayedDocument);F!=null&&S.push(new eh(E.key,F,m4(F.value.mapValue),Kl.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,S,h)})).next((N=>{x=N;const S=N.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(g,N.batchId,S)}))})).then((()=>({batchId:x.batchId,changes:N4(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(c,h,u){let f=c.Vu[c.currentUser.toKey()];f||(f=new Za(Zs)),f=f.insert(h,u),c.Vu[c.currentUser.toKey()]=f})(s,r.batchId,t),await Dg(s,r.changes),await Dv(s.remoteStore)}catch(r){const o=Pw(r,"Failed to persist write");t.reject(o)}}async function lT(n,e){const t=ms(n);try{const s=await AO(t.localStore,e);e.targetChanges.forEach(((r,o)=>{const c=t.Au.get(o);c&&(Sr(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Sr(c.hu,14607):r.removedDocuments.size>0&&(Sr(c.hu,42227),c.hu=!1))})),await Dg(t,s,e)}catch(s){await wm(s)}}function N5(n,e,t){const s=ms(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const r=[];s.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const u=ms(c);u.onlineState=h;let f=!1;u.queries.forEach(((A,m)=>{for(const x of m.Sa)x.va(h)&&(f=!0)})),f&&Hw(u)})(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JO(n,e,t){const s=ms(n);s.sharedClientState.updateQueryState(e,"rejected",t);const r=s.Au.get(e),o=r&&r.key;if(o){let c=new Za(Yn.comparator);c=c.insert(o,al.newNoDocument(o,gs.min()));const h=er().add(o),u=new _v(gs.min(),new Map,new Za(Zs),c,h);await lT(s,u),s.du=s.du.remove(o),s.Au.delete(e),zw(s)}else await lb(s.localStore,e,!1).then((()=>ub(s,e,t))).catch(wm)}async function qO(n,e){const t=ms(n),s=e.batch.batchId;try{const r=await lO(t.localStore,e);cT(t,s,null),AT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Dg(t,r)}catch(r){await wm(r)}}async function ZO(n,e,t){const s=ms(n);try{const r=await(function(c,h){const u=ms(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let A;return u.mutationQueue.lookupMutationBatch(f,h).next((m=>(Sr(m!==null,37113),A=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,A,h))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,A))).next((()=>u.localDocuments.getDocuments(f,A)))}))})(s.localStore,e);cT(s,e,t),AT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Dg(s,r)}catch(r){await wm(r)}}function AT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function cT(n,e,t){const s=ms(n);let r=s.Vu[s.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function ub(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||uT(n,s)}))}function uT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Dw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),zw(n))}function E5(n,e,t){for(const s of t)s instanceof aT?(n.Ru.addReference(s.key,e),eP(n,s)):s instanceof iT?(wn(Kw,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||uT(n,s.key)):os(19791,{wu:s})}function eP(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(wn(Kw,"New document in limbo: "+t),n.Eu.add(s),zw(n))}function zw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Yn(pa.fromString(e)),s=n.fu.next();n.Au.set(s,new VO(t)),n.du=n.du.insert(t,s),Z4(n.remoteStore,new Td(zc(Cv(t.path)),s,"TargetPurposeLimboResolution",wv.ce))}}async function Dg(n,e,t){const s=ms(n),r=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,u)=>{c.push(s.pu(u,e,t).then((f=>{var A;if((f||t)&&s.isPrimaryClient){const m=f?!f.fromCache:(A=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){r.push(f);const m=Fw.As(u.targetId,f);o.push(m)}})))})),await Promise.all(c),s.Pu.H_(r),await(async function(u,f){const A=ms(u);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Ut.forEach(f,(x=>Ut.forEach(x.Es,(g=>A.persistence.referenceDelegate.addReference(m,x.targetId,g))).next((()=>Ut.forEach(x.ds,(g=>A.persistence.referenceDelegate.removeReference(m,x.targetId,g)))))))))}catch(m){if(!jm(m))throw m;wn(Uw,"Failed to update sequence numbers: "+m)}for(const m of f){const x=m.targetId;if(!m.fromCache){const g=A.Ms.get(x),b=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(b);A.Ms=A.Ms.insert(x,I)}}})(s.localStore,o))}async function tP(n,e){const t=ms(n);if(!t.currentUser.isEqual(e)){wn(Kw,"User change. New user:",e.toKey());const s=await W4(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((u=>{u.reject(new un(Ct.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Dg(t,s.Ls)}}function nP(n,e){const t=ms(n),s=t.Au.get(e);if(s&&s.hu)return er().add(s.key);{let r=er();const o=t.Iu.get(e);if(!o)return r;for(const c of o){const h=t.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function dT(n){const e=ms(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JO.bind(null,e),e.Pu.H_=PO.bind(null,e.eventManager),e.Pu.yu=kO.bind(null,e.eventManager),e}function sP(n){const e=ms(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZO.bind(null,e),e}class Yx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oO(this.persistence,new rO,e.initialUser,this.serializer)}Cu(e){return new Y4(_w.mi,this.serializer)}Du(e){return new fO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yx.provider={build:()=>new Yx};class rP extends Yx{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Sr(this.persistence.referenceDelegate instanceof Gx,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VQ(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ml.withCacheSize(this.cacheSizeBytes):Ml.DEFAULT;return new Y4((s=>Gx.mi(s,t)),this.serializer)}}class db{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N5(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tP.bind(null,this.syncEngine),await LO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OO})()}createDatastore(e){const t=Fv(e.databaseInfo.databaseId),s=(function(o){return new vO(o)})(e.databaseInfo);return(function(o,c,h,u){return new jO(o,c,h,u)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,r,o,c,h){return new CO(s,r,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>N5(this.syncEngine,t,0)),(function(){return b5.v()?new b5:new mO})())}createSyncEngine(e,t){return(function(r,o,c,h,u,f,A){const m=new KO(r,o,c,h,u,f);return A&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const o=ms(r);wn(tf,"RemoteStore shutting down."),o.Ea.add(5),await Ug(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}db.provider={build:()=>new db};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Iu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="FirestoreClient";class aP{constructor(e,t,s,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=r,this.user=rl.UNAUTHENTICATED,this.clientId=yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{wn($d,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(wn($d,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Pw(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function $y(n,e){n.asyncQueue.verifyOperationInProgress(),wn($d,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async r=>{s.isEqual(r)||(await W4(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function T5(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iP(n);wn($d,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>j5(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,r)=>j5(e.remoteStore,r))),n._onlineComponents=e}async function iP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){wn($d,"Using user provided OfflineComponentProvider");try{await $y(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===Ct.FAILED_PRECONDITION||r.code===Ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;im("Error using user provided cache. Falling back to memory cache: "+t),await $y(n,new Yx)}}else wn($d,"Using default OfflineComponentProvider"),await $y(n,new rP(void 0));return n._offlineComponents}async function $w(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(wn($d,"Using user provided OnlineComponentProvider"),await T5(n,n._uninitializedComponentsProvider._online)):(wn($d,"Using default OnlineComponentProvider"),await T5(n,new db))),n._onlineComponents}function oP(n){return $w(n).then((e=>e.syncEngine))}function lP(n){return $w(n).then((e=>e.datastore))}async function Wx(n){const e=await $w(n),t=e.eventManager;return t.onListen=zO.bind(null,e.syncEngine),t.onUnlisten=YO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WO.bind(null,e.syncEngine),t}function AP(n,e,t={}){const s=new Kc;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new Gw({next:x=>{A.Nu(),c.enqueueAndForget((()=>Mw(o,m)));const g=x.docs.has(h);!g&&x.fromCache?f.reject(new un(Ct.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&x.fromCache&&u&&u.source==="server"?f.reject(new un(Ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new Vw(Cv(h.path),A,{includeMetadataChanges:!0,qa:!0});return kw(o,m)})(await Wx(n),n.asyncQueue,e,t,s))),s.promise}function cP(n,e,t={}){const s=new Kc;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new Gw({next:x=>{A.Nu(),c.enqueueAndForget((()=>Mw(o,m))),x.fromCache&&u.source==="server"?f.reject(new un(Ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new Vw(h,A,{includeMetadataChanges:!0,qa:!0});return kw(o,m)})(await Wx(n),n.asyncQueue,e,t,s))),s.promise}function uP(n,e,t){const s=new Kc;return n.asyncQueue.enqueueAndForget((async()=>{try{const r=await lP(n);s.resolve((async function(c,h,u){var I;const f=ms(c),{request:A,gt:m,parent:x}=IQ(f.serializer,X8(h),u);f.connection.$o||delete A.parent;const g=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,x,A,1)).filter((N=>!!N.result));Sr(g.length===1,64727);const b=(I=g[0].result)==null?void 0:I.aggregateFields;return Object.keys(b).reduce(((N,S)=>(N[m[S]]=b[S],N)),{})})(r,e,t))}catch(r){s.reject(r)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firestore.googleapis.com",_5=!0;class F5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new un(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=_5}else this.host=e.host,this.ssl=e.ssl??_5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MQ)throw new un(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new un(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new un(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new un(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rv{constructor(e,t,s,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new un(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new un(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new d8;switch(s.type){case"firstParty":return new p8(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new un(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=I5.get(t);s&&(wn("ComponentProvider","Removing Datastore"),I5.delete(t),s.terminate())})(this),Promise.resolve()}}function dP(n,e,t,s={}){var f;n=wl(n,Rv);const r=Jd(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;r&&(ow(`https://${h}`),lw("Firestore",!0)),o.host!==fT&&o.host!==h&&im("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:h,ssl:r,emulatorOptions:s};if(!qh(u,c)&&(n._setSettings(u),s.mockUserToken)){let A,m;if(typeof s.mockUserToken=="string")A=s.mockUserToken,m=rl.MOCK_USER;else{A=AU(s.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new un(Ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new rl(x)}n._authCredentials=new h8(new s4(A,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ru(this.firestore,e,this._query)}}class ui{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}toJSON(){return{type:ui._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ig(t,ui._jsonSchema))return new ui(e,s||null,new Yn(pa.fromString(t.referencePath)))}}ui._jsonSchemaVersion="firestore/documentReference/1.0",ui._jsonSchema={type:Vi("string",ui._jsonSchemaVersion),referencePath:Vi("string")};class Pd extends Ru{constructor(e,t,s){super(e,t,Cv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new Yn(e))}withConverter(e){return new Pd(this.firestore,e,this._path)}}function kn(n,e,...t){if(n=za(n),r4("collection","path",e),n instanceof Rv){const s=pa.fromString(e,...t);return zB(s),new Pd(n,null,s)}{if(!(n instanceof ui||n instanceof Pd))throw new un(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(pa.fromString(e,...t));return zB(s),new Pd(n.firestore,null,s)}}function Pn(n,e,...t){if(n=za(n),arguments.length===1&&(e=yw.newId()),r4("doc","path",e),n instanceof Rv){const s=pa.fromString(e,...t);return KB(s),new ui(n,null,new Yn(s))}{if(!(n instanceof ui||n instanceof Pd))throw new un(Ct.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(pa.fromString(e,...t));return KB(s),new ui(n.firestore,n instanceof Pd?n.converter:null,new Yn(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="AsyncQueue";class D5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J4(this,"async_queue_retry"),this._c=()=>{const s=Gy();s&&wn(U5,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Gy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Gy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Kc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jm(e))throw e;wn(U5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Iu("INTERNAL UNHANDLED ERROR: ",R5(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ow.createAndSchedule(this,e,t,s,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&os(47125,{Pc:R5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function R5(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const r=t;for(const o of s)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Jc extends Rv{constructor(e,t,s,r){super(e,t,s,r),this.type="firestore",this._queue=new D5,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D5(e),this._firestoreClient=void 0,await e}}}function hP(n,e){const t=typeof n=="object"?n:cw(),s=typeof n=="string"?n:Px,r=pv(t,"firestore").getImmediate({identifier:s});if(!r._initialized){const o=AE("firestore");o&&dP(r,...o)}return r}function Sm(n){if(n._terminated)throw new un(Ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fP(n),n._firestoreClient}function fP(n){var s,r,o;const e=n._freezeSettings(),t=(function(h,u,f,A){return new R8(h,u,f,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,hT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new aP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const u=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class pP{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new IA(_o.fromBase64String(e))}catch(t){throw new un(Ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new IA(_o.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:IA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ig(e,IA._jsonSchema))return IA.fromBase64String(e.bytes)}}IA._jsonSchemaVersion="firestore/bytes/1.0",IA._jsonSchema={type:Vi("string",IA._jsonSchemaVersion),bytes:Vi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new un(Ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new un(Ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new un(Ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zs(this._lat,e._lat)||Zs(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$c._jsonSchemaVersion}}static fromJSON(e){if(Ig(e,$c._jsonSchema))return new $c(e.latitude,e.longitude)}}$c._jsonSchemaVersion="firestore/geoPoint/1.0",$c._jsonSchema={type:Vi("string",$c._jsonSchemaVersion),latitude:Vi("number"),longitude:Vi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ig(e,Yc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Yc(e.vectorValues);throw new un(Ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yc._jsonSchemaVersion="firestore/vectorValue/1.0",Yc._jsonSchema={type:Vi("string",Yc._jsonSchemaVersion),vectorValues:Vi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=/^__.*__$/;class xP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new eh(e,this.data,this.fieldMask,t,this.fieldTransforms):new _g(e,this.data,t,this.fieldTransforms)}}class mT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new eh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw os(40011,{Ac:n})}}class Ww{constructor(e,t,s,r,o,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ww({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&gP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Fv(e)}Cc(e,t,s,r=!1){return new Ww({Ac:e,methodName:t,Dc:s,path:Eo.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lv(n){const e=n._freezeSettings(),t=Fv(n._databaseId);return new vP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gT(n,e,t,s,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,r);Xw("Data must be an object, but it was:",c,s);const h=yT(s,c);let u,f;if(o.merge)u=new oA(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const A=[];for(const m of o.mergeFields){const x=hb(e,m,t);if(!c.contains(x))throw new un(Ct.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);wT(A,x)||A.push(x)}u=new oA(A),f=c.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=c.fieldTransforms;return new xP(new Hl(h),u,f)}class Qv extends Yw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qv}}function xT(n,e,t,s){const r=n.Cc(1,e,t);Xw("Data must be an object, but it was:",r,s);const o=[],c=Hl.empty();Zd(s,((u,f)=>{const A=Jw(e,u,t);f=za(f);const m=r.yc(A);if(f instanceof Qv)o.push(A);else{const x=Lg(f,m);x!=null&&(o.push(A),c.set(A,x))}}));const h=new oA(o);return new mT(c,h,r.fieldTransforms)}function vT(n,e,t,s,r,o){const c=n.Cc(1,e,t),h=[hb(e,s,t)],u=[r];if(o.length%2!=0)throw new un(Ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(hb(e,o[x])),u.push(o[x+1]);const f=[],A=Hl.empty();for(let x=h.length-1;x>=0;--x)if(!wT(f,h[x])){const g=h[x];let b=u[x];b=za(b);const I=c.yc(g);if(b instanceof Qv)f.push(g);else{const N=Lg(b,I);N!=null&&(f.push(g),A.set(g,N))}}const m=new oA(f);return new mT(A,m,c.fieldTransforms)}function yP(n,e,t,s=!1){return Lg(t,n.Cc(s?4:3,e))}function Lg(n,e){if(bT(n=za(n)))return Xw("Unsupported field value:",e,n),yT(n,e);if(n instanceof Yw)return(function(s,r){if(!pT(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,r){const o=[];let c=0;for(const h of s){let u=Lg(h,r.wc(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(n,e)}return(function(s,r){if((s=za(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rQ(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=ar.fromDate(s);return{timestampValue:zx(r.serializer,o)}}if(s instanceof ar){const o=new ar(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zx(r.serializer,o)}}if(s instanceof $c)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof IA)return{bytesValue:P4(r.serializer,s._byteString)};if(s instanceof ui){const o=r.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tw(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Yc)return(function(c,h){return{mapValue:{fields:{[h4]:{stringValue:f4},[kx]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return Sw(h.serializer,f)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${bv(s)}`)})(n,e)}function yT(n,e){const t={};return o4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zd(n,((s,r)=>{const o=Lg(r,e.mc(s));o!=null&&(t[s]=o)})),{mapValue:{fields:t}}}function bT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ar||n instanceof $c||n instanceof IA||n instanceof ui||n instanceof Yw||n instanceof Yc)}function Xw(n,e,t){if(!bT(t)||!a4(t)){const s=bv(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function hb(n,e,t){if((e=za(e))instanceof Rg)return e._internalPath;if(typeof e=="string")return Jw(n,e);throw Xx("Field path arguments must be of type string or ",n,!1,void 0,t)}const bP=new RegExp("[~\\*/\\[\\]]");function Jw(n,e,t){if(e.search(bP)>=0)throw Xx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rg(...e.split("."))._internalPath}catch{throw Xx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xx(n,e,t,s,r){const o=s&&!s.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${s}`),c&&(u+=` in document ${r}`),u+=")"),new un(Ct.INVALID_ARGUMENT,h+n+u)}function wT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t,s,r,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ov("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wP extends jT{data(){return super.data()}}function Ov(n,e){return typeof e=="string"?Jw(n,e):e instanceof Rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new un(Ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qw{}class Zw extends qw{}function Jn(n,e,...t){let s=[];e instanceof qw&&s.push(e),s=s.concat(t),(function(o){const c=o.filter((u=>u instanceof e2)).length,h=o.filter((u=>u instanceof Pv)).length;if(c>1||c>0&&h>0)throw new un(Ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)n=r._apply(n);return n}class Pv extends Zw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Pv(e,t,s)}_apply(e){const t=this._parse(e);return CT(e._query,t),new Ru(e.firestore,e.converter,sb(e._query,t))}_parse(e){const t=Lv(e.firestore);return(function(o,c,h,u,f,A,m){let x;if(f.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new un(Ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){O5(m,A);const b=[];for(const I of m)b.push(Q5(u,o,I));x={arrayValue:{values:b}}}else x=Q5(u,o,m)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||O5(m,A),x=yP(h,c,m,A==="in"||A==="not-in");return Hi.create(f,A,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nn(n,e,t){const s=e,r=Ov("where",n);return Pv._create(r,s,t)}class e2 extends qw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new e2(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:lc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const u of h)CT(c,u),c=sb(c,u)})(e._query,t),new Ru(e.firestore,e.converter,sb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t2 extends Zw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new t2(e,t)}_apply(e){const t=(function(r,o,c){if(r.startAt!==null)throw new un(Ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new un(Ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cg(o,c)})(e._query,this._field,this._direction);return new Ru(e.firestore,e.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new Bm(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function fb(n,e="asc"){const t=e,s=Ov("orderBy",n);return t2._create(s,t)}class n2 extends Zw{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new n2(e,t,s)}_apply(e){return new Ru(e.firestore,e.converter,Hx(e._query,this._limit,this._limitType))}}function Jx(n){return j8("limit",n),n2._create("limit",n,"F")}function Q5(n,e,t){if(typeof(t=za(t))=="string"){if(t==="")throw new un(Ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w4(e)&&t.indexOf("/")!==-1)throw new un(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(pa.fromString(t));if(!Yn.isDocumentKey(s))throw new un(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ZB(n,new Yn(s))}if(t instanceof ui)return ZB(n,t._key);throw new un(Ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bv(t)}.`)}function O5(n,e){if(!Array.isArray(n)||n.length===0)throw new un(Ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CT(n,e){const t=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new un(Ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new un(Ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jP{convertValue(e,t="none"){switch(zd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw os(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Zd(e,((r,o)=>{s[r]=this.convertValue(o,t)})),s}convertVectorValue(e){var s,r,o;const t=(o=(r=(s=e.fields)==null?void 0:s[kx].arrayValue)==null?void 0:r.values)==null?void 0:o.map((c=>wi(c.doubleValue)));return new Yc(t)}convertGeoPoint(e){return new $c(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Bv(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(og(e));default:return null}}convertTimestamp(e){const t=Vd(e);return new ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pa.fromString(e);Sr(G4(s),9688,{name:e});const r=new lg(s.get(1),s.get(3)),o=new Yn(s.popFirst(5));return r.isEqual(t)||Iu(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function BP(){return new mP("count")}class Up{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vh extends jT{constructor(e,t,s,r,o,c){super(e,t,s,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new un(Ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Vh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vh._jsonSchema={type:Vi("string",Vh._jsonSchemaVersion),bundleSource:Vi("string","DocumentSnapshot"),bundleName:Vi("string"),bundle:Vi("string")};class vx extends Vh{data(e={}){return super.data(e)}}class Kh{constructor(e,t,s,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Up(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new vx(this._firestore,this._userDataWriter,s.key,s,new Up(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new un(Ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const u=new vx(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Up(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const u=new vx(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Up(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,A=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),A=c.indexOf(h.doc.key)),{type:CP(h.type),doc:u,oldIndex:f,newIndex:A}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new un(Ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return os(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n){n=wl(n,ui);const e=wl(n.firestore,Jc);return AP(Sm(e),n._key).then((t=>NT(e,n,t)))}Kh._jsonSchemaVersion="firestore/querySnapshot/1.0",Kh._jsonSchema={type:Vi("string",Kh._jsonSchemaVersion),bundleSource:Vi("string","QuerySnapshot"),bundleName:Vi("string"),bundle:Vi("string")};class kv extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new IA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}function ns(n){n=wl(n,Ru);const e=wl(n.firestore,Jc),t=Sm(e),s=new kv(e);return BT(n._query),cP(t,n._query).then((r=>new Kh(e,s,n,r)))}function Oi(n,e,t){n=wl(n,ui);const s=wl(n.firestore,Jc),r=ST(n.converter,e,t);return Mv(s,[gT(Lv(s),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Kl.none())])}function Oh(n,e,t,...s){n=wl(n,ui);const r=wl(n.firestore,Jc),o=Lv(r);let c;return c=typeof(e=za(e))=="string"||e instanceof Rg?vT(o,"updateDoc",n._key,e,t,s):xT(o,"updateDoc",n._key,e),Mv(r,[c.toMutation(n._key,Kl.exists(!0))])}function ki(n){return Mv(wl(n.firestore,Jc),[new Iv(n._key,Kl.none())])}function Id(n,...e){var u,f,A;n=za(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||L5(e[s])||(t=e[s++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(L5(e[s])){const m=e[s];e[s]=(u=m.next)==null?void 0:u.bind(m),e[s+1]=(f=m.error)==null?void 0:f.bind(m),e[s+2]=(A=m.complete)==null?void 0:A.bind(m)}let o,c,h;if(n instanceof ui)c=wl(n.firestore,Jc),h=Cv(n._key.path),o={next:m=>{e[s]&&e[s](NT(c,n,m))},error:e[s+1],complete:e[s+2]};else{const m=wl(n,Ru);c=wl(m.firestore,Jc),h=m._query;const x=new kv(c);o={next:g=>{e[s]&&e[s](new Kh(c,x,m,g))},error:e[s+1],complete:e[s+2]},BT(n._query)}return(function(x,g,b,I){const N=new Gw(I),S=new Vw(g,N,b);return x.asyncQueue.enqueueAndForget((async()=>kw(await Wx(x),S))),()=>{N.Nu(),x.asyncQueue.enqueueAndForget((async()=>Mw(await Wx(x),S)))}})(Sm(c),h,r,o)}function Mv(n,e){return(function(s,r){const o=new Kc;return s.asyncQueue.enqueueAndForget((async()=>XO(await oP(s),r,o))),o.promise})(Sm(n),e)}function NT(n,e,t){const s=t.docs.get(e._key),r=new kv(n);return new Vh(n,r,e._key,s,new Up(t.hasPendingWrites,t.fromCache),e.converter)}function P5(n){return SP(n,{count:BP()})}function SP(n,e){const t=wl(n.firestore,Jc),s=Sm(t),r=U8(e,((o,c)=>new fQ(c,o.aggregateType,o._internalFieldPath)));return uP(s,n._query,r).then((o=>(function(h,u,f){const A=new kv(h);return new pP(u,A,f)})(t,n,o)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lv(e)}set(e,t,s){this._verifyNotCommitted();const r=Yy(e,this._firestore),o=ST(r.converter,t,s),c=gT(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,s);return this._mutations.push(c.toMutation(r._key,Kl.none())),this}update(e,t,s,...r){this._verifyNotCommitted();const o=Yy(e,this._firestore);let c;return c=typeof(t=za(t))=="string"||t instanceof Rg?vT(this._dataReader,"WriteBatch.update",o._key,t,s,r):xT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Kl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yy(e,this._firestore);return this._mutations=this._mutations.concat(new Iv(t._key,Kl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new un(Ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yy(n,e){if((n=za(n)).firestore!==e)throw new un(Ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(n){return Sm(n=wl(n,Jc)),new NP(n,(e=>Mv(n,e)))}(function(e,t=!0){(function(r){bm=r})(af),Md(new i8("firestore",((s,{instanceIdentifier:r,options:o})=>{const c=s.getProvider("app").getImmediate(),h=new Jc(new f8(s.getProvider("auth-internal")),new g8(c,s.getProvider("app-check-internal")),(function(f,A){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new un(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lg(f.options.projectId,A)})(c,r),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),UA(kB,MB,e),UA(kB,MB,"esm2020")})();let EP=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="type.googleapis.com/google.protobuf.Int64Value",IP="type.googleapis.com/google.protobuf.UInt64Value";function ET(n,e){const t={};for(const s in n)n.hasOwnProperty(s)&&(t[s]=e(n[s]));return t}function qx(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>qx(e));if(typeof n=="function"||typeof n=="object")return ET(n,e=>qx(e));throw new Error("Data cannot be encoded in JSON: "+n)}function dm(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case TP:case IP:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>dm(e)):typeof n=="function"||typeof n=="object"?ET(n,e=>dm(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vl extends uc{constructor(e,t,s){super(`${s2}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,Vl.prototype)}}function _P(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Zx(n,e){let t=_P(n),s=t,r;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!M5[c])return new Vl("internal","internal");t=M5[c],s=c}const h=o.message;typeof h=="string"&&(s=h),r=o.details,r!==void 0&&(r=dm(r))}}catch{}return t==="ok"?null:new Vl(t,s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,s,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,iA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||s.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="us-central1",UP=/^data: (.*?)(?:\n|$)/;function DP(n){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new Vl("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class RP{constructor(e,t,s,r,o=mb,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new FP(e,t,s,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=mb}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function LP(n,e,t){const s=Jd(e);n.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(ow(n.emulatorOrigin+"/backends"),lw("Functions",!0))}function QP(n,e,t){const s=r=>PP(n,e,r,{});return s.stream=(r,o)=>MP(n,e,r,o),s}function TT(n){return n.emulatorOrigin&&Jd(n.emulatorOrigin)?"include":void 0}async function OP(n,e,t,s,r){t["Content-Type"]="application/json";let o;try{o=await s(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:TT(r)})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function IT(n,e){const t={},s=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function PP(n,e,t,s){const r=n._url(e);return kP(n,r,t,s)}async function kP(n,e,t,s){t=qx(t);const r={data:t},o=await IT(n,s),c=s.timeout||7e4,h=DP(c),u=await Promise.race([OP(e,r,o,n.fetchImpl,n),h.promise,n.cancelAllRequests]);if(h.cancel(),!u)throw new Vl("cancelled","Firebase Functions instance was deleted.");const f=Zx(u.status,u.json);if(f)throw f;if(!u.json)throw new Vl("internal","Response is not valid JSON object.");let A=u.json.data;if(typeof A>"u"&&(A=u.json.result),typeof A>"u")throw new Vl("internal","Response is missing data field.");return{data:dm(A)}}function MP(n,e,t,s){const r=n._url(e);return HP(n,r,t,s||{})}async function HP(n,e,t,s){var x;t=qx(t);const r={data:t},o=await IT(n,s);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(r),headers:o,signal:s==null?void 0:s.signal,credentials:TT(n)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const I=new Vl("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const b=Zx(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let h,u;const f=new Promise((g,b)=>{h=g,u=b});(x=s==null?void 0:s.signal)==null||x.addEventListener("abort",()=>{const g=new Vl("cancelled","Request was cancelled.");u(g)});const A=c.body.getReader(),m=VP(A,h,u,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const g=m.getReader();return{async next(){const{value:b,done:I}=await g.read();return{value:b,done:I}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:f}}function VP(n,e,t,s){const r=(c,h)=>{const u=c.match(UP);if(!u)return;const f=u[1];try{const A=JSON.parse(f);if("result"in A){e(dm(A.result));return}if("message"in A){h.enqueue(dm(A.message));return}if("error"in A){const m=Zx(0,A);h.error(m),t(m);return}}catch(A){if(A instanceof Vl){h.error(A),t(A);return}}},o=new TextDecoder;return new ReadableStream({start(c){let h="";return u();async function u(){if(s!=null&&s.aborted){const f=new Vl("cancelled","Request was cancelled");return c.error(f),t(f),Promise.resolve()}try{const{value:f,done:A}=await n.read();if(A){h.trim()&&r(h.trim(),c),c.close();return}if(s!=null&&s.aborted){const x=new Vl("cancelled","Request was cancelled");c.error(x),t(x),await n.cancel();return}h+=o.decode(f,{stream:!0});const m=h.split(`
`);h=m.pop()||"";for(const x of m)x.trim()&&r(x.trim(),c);return u()}catch(f){const A=f instanceof Vl?f:Zx(0,null);c.error(A),t(A)}}},cancel(){return n.cancel()}})}const H5="@firebase/functions",V5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="auth-internal",zP="app-check-internal",GP="messaging-internal";function $P(n){const e=(t,{instanceIdentifier:s})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider(KP),c=t.getProvider(GP),h=t.getProvider(zP);return new RP(r,o,c,h,s)};Md(new EP(s2,e,"PUBLIC").setMultipleInstances(!0)),UA(H5,V5,n),UA(H5,V5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(n=cw(),e=mb){const s=pv(za(n),s2).getImmediate({identifier:e}),r=AE("functions");return r&&WP(s,...r),s}function WP(n,e,t){LP(za(n),e,t)}function Qg(n,e,t){return QP(za(n),e)}$P();const XP={apiKey:"AIzaSyCHlCLhumJn50nw2JBgJTGeIH_6GKzjFbA",authDomain:"noble-care-management-system.firebaseapp.com",projectId:"noble-care-management-system",storageBucket:"noble-care-management-system.firebasestorage.app",messagingSenderId:"573085015524",appId:"1:573085015524:web:29ae8a509813ec1199fbf1"},r2=fE(XP),bu=r8(r2),Bt=hP(r2),Og=YP(r2);var ps=(n=>(n.SUPER_ADMIN="super_admin",n.SCHOOL_ADMIN="school_admin",n.TEACHER="teacher",n))(ps||{});async function JP(n){var s;const e=Pn(Bt,"users",n.uid),t=await kc(e);if(t.exists()){const r=t.data(),o=r.status||"active";if(o!=="active")throw new Error("ACCOUNT_INACTIVE");const c=r.role,h=r.schoolId||null,u=Array.isArray(r.assignedClassIds)?r.assignedClassIds:[];if((c==="school_admin"||c==="teacher")&&!h)throw console.warn(`[AUTH] ${c==="teacher"?"Teacher":"School Admin"} account incomplete - missing schoolId`,{uid:n.uid,email:n.email,role:c,hasSchoolId:!!h}),new Error(`${c==="teacher"?"Teacher":"School Admin"} account is incomplete: missing schoolId. Please contact your administrator.`);if(c==="school_admin"&&h){const f=Pn(Bt,"schools",h),A=await kc(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}if(c==="teacher"&&h){const f=Pn(Bt,"schools",h),A=await kc(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}return{id:n.uid,fullName:r.fullName||n.displayName||"User",email:n.email||"",role:c,schoolId:h,assignedClassIds:u,status:o,createdAt:((s=r.createdAt)==null?void 0:s.toDate())||new Date}}else throw new Error("ACCOUNT_NOT_PROVISIONED")}function _T(n){if(!n)throw new Error("Authentication required");if(n.role===ps.SUPER_ADMIN)throw new Error("Super admin does not belong to a school");if(!n.schoolId)throw new Error("School access required. Please contact your administrator.");return n.schoolId}const FT=Z.createContext(void 0),qP=({children:n})=>{const[e,t]=Z.useState(null),[s,r]=Z.useState(!0),[o,c]=Z.useState(!0),[h,u]=Z.useState(null);Z.useEffect(()=>{const A=$R(bu,async m=>{if(c(!0),m){u(null),r(!0);try{const x=await JP(m);t(x)}catch(x){console.error("Error fetching user profile:",x),t(null);const g=x.message||x.toString();g==="ACCOUNT_NOT_PROVISIONED"?(u("Your account is not set up yet. Please contact your administrator for access."),await jp(bu)):g==="ACCOUNT_INACTIVE"?(u("Your account has been deactivated. Please contact your administrator for access."),await jp(bu)):g==="SCHOOL_NOT_FOUND"?(u("Your school could not be found. Please contact your administrator."),await jp(bu)):g==="SCHOOL_INACTIVE"?(u("Your school has been deactivated. Please contact your administrator."),await jp(bu)):g.includes("Cloud Firestore API has not been used")?u("CRITICAL ERROR: The Firestore Database is not enabled. Go to Firebase Console > Build > Firestore Database > Create Database."):g.includes("permission-denied")||g.includes("Missing or insufficient permissions")?u("PERMISSION DENIED: Database access blocked. Go to Firebase Console > Firestore Database > Rules and change 'allow read, write: if false;' to 'allow read, write: if true;' (for testing)."):g.includes("client is offline")||g.includes("offline")?u("Network Error: Could not connect to the database. Check your internet connection."):u("Failed to load user profile. Please try refreshing the page. Error: "+g)}}else t(null),u(null);c(!1),r(!1)});return()=>A()},[]);const f=async()=>{try{await jp(bu),t(null),u(null)}catch(A){console.error("Logout failed",A)}};return i.jsx(FT.Provider,{value:{user:e,loading:s,authLoading:o,error:h,logout:f,isAuthenticated:!!e},children:n})},Fo=()=>{const n=Z.useContext(FT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},UT=Z.createContext(void 0),ZP=({children:n})=>{const{user:e,isAuthenticated:t}=Fo(),[s,r]=Z.useState(null),[o,c]=Z.useState(!1),[h,u]=Z.useState(null);return Z.useEffect(()=>{let f=!1;const m=(()=>{if(r(null),u(null),!t||!e||e.role==="super_admin"){c(!1);return}if(!e.schoolId){c(!1),u("No school assigned to your account");return}c(!0);const x=`school_${e.schoolId}`,g=localStorage.getItem(x);if(g)try{const b=JSON.parse(g);b.status==="active"&&(f||r(b))}catch{localStorage.removeItem(x)}try{const b=Pn(Bt,"schools",e.schoolId),I=Id(b,N=>{if(!N.exists()){f||u("School not found. Please contact your administrator."),f||r(null);return}const S={id:N.id,...N.data()};if(S.status!=="active"){f||u("Your school is currently inactive. Please contact your administrator."),f||r(null);return}localStorage.setItem(x,JSON.stringify(S)),f||r(S)},N=>{console.error("Error loading school data:",N),f||u("Failed to load school information. Please try refreshing the page."),f||r(null)});return()=>I()}finally{f||c(!1)}})();return()=>{f=!0,m&&m()}},[t,e==null?void 0:e.id,e==null?void 0:e.schoolId,e==null?void 0:e.role]),i.jsx(UT.Provider,{value:{school:s,schoolLoading:o,schoolError:h},children:n})},dc=()=>{const n=Z.useContext(UT);if(!n)throw new Error("useSchool must be used within a SchoolProvider");return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),K5=n=>{const e=tk(n);return e.charAt(0).toUpperCase()+e.slice(1)},DT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),nk=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:c,...h},u)=>Z.createElement("svg",{ref:u,...sk,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:DT("lucide",r),...!o&&!nk(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,A])=>Z.createElement(f,A)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=(n,e)=>{const t=Z.forwardRef(({className:s,...r},o)=>Z.createElement(rk,{ref:o,iconNode:e,className:DT(`lucide-${ek(K5(n))}`,`lucide-${n}`,s),...r}));return t.displayName=K5(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ik=cn("activity",ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],lk=cn("arrow-down-right",ok);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],RT=cn("arrow-left",Ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uk=cn("arrow-right",ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],LT=cn("arrow-up-right",dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],fk=cn("badge-dollar-sign",hk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Vp=cn("bell",mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zl=cn("book-open",pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],xk=cn("book",gk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],yk=cn("building-2",vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Kp=cn("building",bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],jk=cn("calendar-days",wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ho=cn("calendar",Bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Sk=cn("chart-no-axes-column-increasing",Ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],yx=cn("chart-no-axes-column",Nk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Tk=cn("chart-pie",Ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zp=cn("check",Ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QT=cn("chevron-right",_k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pb=cn("circle-alert",Fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DA=cn("circle-check-big",Uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_d=cn("circle-x",Dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Wf=cn("clipboard-check",Rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ac=cn("clock",Lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Ok=cn("coffee",Qk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],z5=cn("copy",Pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Dp=cn("credit-card",kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Hk=cn("door-open",Mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ev=cn("download",Vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],zk=cn("ellipsis",Kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OT=cn("eye-off",Gk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],th=cn("eye",$k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zh=cn("file-text",Yk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PT=cn("funnel",Wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],hm=cn("graduation-cap",Xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],qk=cn("history",Jk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wy=cn("layout-dashboard",Zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xy=cn("loader-circle",eM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nM=cn("lock",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rM=cn("log-out",sM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iM=cn("mail",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lM=cn("map-pin",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],cM=cn("megaphone",AM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dM=cn("menu",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fM=cn("message-square",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M5 12h14",key:"1ays0h"}]],G5=cn("minus",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Jy=cn("octagon-alert",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xM=cn("pen",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yM=cn("pencil",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],wM=cn("phone",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gh=cn("plus",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],kT=cn("refresh-ccw",BM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hg=cn("refresh-cw",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AA=cn("save",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gb=cn("search",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a2=cn("settings",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],$5=cn("shield-alert",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qy=cn("shield-check",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],i2=cn("shield",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],MT=cn("sparkles",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y5=cn("square-check-big",UM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],o2=cn("square-pen",DM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],W5=cn("square",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],QM=cn("timer",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],PM=cn("toggle-left",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],MM=cn("toggle-right",kM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RA=cn("trash-2",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],X5=cn("trending-down",VM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fd=cn("trending-up",KM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ki=cn("triangle-alert",zM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$M=cn("trophy",GM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l2=cn("user-plus",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HT=cn("user",WM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vl=cn("users",XM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],fg=cn("wallet",JM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],J5=cn("wrench",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Io=cn("x",ZM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],t7=cn("zap",e7);class n7 extends Z.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ki,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(hg,{size:16,className:"mr-2"}),"Try Again"]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Refresh Page"})]}),this.state.error&&i.jsxs("details",{className:"mt-4 text-left",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:"Error Details (Development)"}),i.jsxs("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs text-slate-800 overflow-auto max-h-40",children:[this.state.error?this.state.error.toString():"Error details not available",(e=this.state.errorInfo)==null?void 0:e.componentStack]})]})]})}):this.props.children}}const xb=""+new URL("apple-icon-180x180-CeJtO7PD.png",import.meta.url).href,s7=()=>{const{isAuthenticated:n,loading:e,error:t}=Fo(),s=vm(),[r,o]=Z.useState(""),[c,h]=Z.useState(""),[u,f]=Z.useState(!1),[A,m]=Z.useState(""),[x,g]=Z.useState(!1),[b,I]=Z.useState("");Z.useEffect(()=>{n&&!e&&s("/",{replace:!0})},[n,e,s]);const N=async F=>{F.preventDefault(),f(!0),m("");try{await KR(bu,r,c)}catch(Q){console.error(Q);let P="Failed to sign in.";Q.code==="auth/invalid-credential"||Q.code==="auth/user-not-found"||Q.code==="auth/wrong-password"?P="Invalid email or password.":Q.code==="auth/too-many-requests"&&(P="Too many failed attempts. Please try again later."),m(P),f(!1)}},S=async F=>{if(F.preventDefault(),f(!0),m(""),I(""),!r){m("Please enter your email address to reset password."),f(!1);return}try{await VR(bu,r),I("Password reset link has been sent to your email."),m("")}catch(Q){console.error(Q);let P="Failed to send reset email.";Q.code==="auth/user-not-found"?P="No account found with this email address.":Q.code==="auth/invalid-email"&&(P="Please enter a valid email address."),m(P)}finally{f(!1)}},E=()=>{g(!x),m(""),I(""),h("")};return e?i.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:i.jsx("div",{className:"text-red-900 animate-pulse font-semibold",children:"Loading School Manager GH..."})}):i.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-[#E6F0FA] flex items-center justify-center p-4",children:[i.jsx("style",{children:`
        @keyframes loginGradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes floatBlob {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(20px, -30px, 0) scale(1.08); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
        @keyframes floatBlobReverse {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(-25px, 25px, 0) scale(1.05); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
      `}),i.jsx("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"linear-gradient(120deg, rgba(11,143,165,0.14), rgba(216,241,244,0.35), rgba(4,107,126,0.12))",backgroundSize:"200% 200%",animation:"loginGradientShift 18s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-[#E6F0FA]/35 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 16s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute top-1/3 -right-28 w-96 h-96 bg-[#1160A8]/25 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlobReverse 20s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -bottom-28 left-1/4 w-72 h-72 bg-[#E6F0FA]/60 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 22s ease-in-out infinite"},"aria-hidden":"true"}),i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 border-t-8 border-[#0B4A82]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-28 h-28 mb-4 relative p-2 bg-white rounded-full shadow-sm border border-[#E6F0FA]",children:i.jsx("img",{src:xb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full",onError:F=>{F.currentTarget.style.display="none",F.currentTarget.parentElement.innerHTML='<div class="w-24 h-24 bg-[#0B4A82] rounded-full flex items-center justify-center text-[#E6F0FA] font-bold border-4 border-[#1160A8] text-xs text-center p-1">School Manager GH</div>'}})}),i.jsx("h1",{className:"text-2xl font-bold text-[#0B4A82] font-serif",children:"School Manager GH"}),i.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:x?"Reset your password":"Sign in to manage the system"})]}),t&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-800 text-sm rounded-lg border border-red-200 flex items-start",children:[i.jsx(pb,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold block mb-1",children:"System Error"}),t]})]}),A&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center",children:[i.jsx(pb,{size:16,className:"mr-2 flex-shrink-0"}),A]}),b&&i.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-lg border border-emerald-100 flex items-center",children:[i.jsx(DA,{size:16,className:"mr-2 flex-shrink-0"}),b]}),x?i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:r,onChange:F=>o(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your registered email",required:!0}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"We'll send you a link to reset your password."})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#1160A8] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Sending...":"Send Reset Link"}),i.jsxs("button",{type:"button",onClick:E,className:"w-full text-center text-sm text-slate-600 hover:text-[#0B4A82] font-medium flex items-center justify-center mt-4",children:[i.jsx(RT,{size:16,className:"mr-1"})," Back to Sign In"]})]}):i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:r,onChange:F=>o(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"e.g., admin@school.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Password"}),i.jsx("button",{type:"button",onClick:E,className:"text-xs text-[#1160A8] hover:text-[#0B4A82] font-medium",children:"Forgot Password?"})]}),i.jsx("input",{type:"password",value:c,onChange:F=>h(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your password",required:!0})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#0B4A82] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:i.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," School Manager GH  Empowering Excellence"]})})]})]})},To="2023-2024",zi=1,In=[{id:"c_n1",name:"Nursery 1",level:"NURSERY"},{id:"c_n2",name:"Nursery 2",level:"NURSERY"},{id:"c_kg1",name:"KG 1",level:"KG"},{id:"c_kg2",name:"KG 2",level:"KG"},{id:"c_p1",name:"Class 1",level:"PRIMARY"},{id:"c_p2",name:"Class 2",level:"PRIMARY"},{id:"c_p3",name:"Class 3",level:"PRIMARY"},{id:"c_p4",name:"Class 4",level:"PRIMARY"},{id:"c_p5",name:"Class 5",level:"PRIMARY"},{id:"c_p6",name:"Class 6",level:"PRIMARY"},{id:"c_jhs1",name:"JHS 1",level:"JHS"},{id:"c_jhs2",name:"JHS 2",level:"JHS"},{id:"c_jhs3",name:"JHS 3",level:"JHS"}],r7=["Language & Literacy","Numeracy","Environmental Studies","Creative Arts","Physical Development","Social & Emotional Development","Rhymes, Songs & Storytelling"],a7=["Literacy & Language","Numeracy","OWOP","Creative Art","Physical Education"],i7=["English Language","Mathematics","Science","ICT","Religious & Moral Education (RME)","Ghanaian Language","Our World Our People (OWOP)","Creative Arts","Physical Education"],o7=["English Language","Mathematics","Integrated Science","Social Studies","Religious & Moral Education (RME)","ICT","French","Ghanaian Language","Creative Arts & Design","Physical Education","Career Technology","Computing / Coding"],fm=n=>n>=80?{total:n,grade:"A",remark:"Excellent"}:n>=70?{total:n,grade:"B",remark:"Very Good"}:n>=60?{total:n,grade:"C",remark:"Good"}:n>=45?{total:n,grade:"D",remark:"Pass"}:{total:n,grade:"F",remark:"Fail"},_A=n=>{const e=(n.testScore||0)+(n.homeworkScore||0)+(n.projectScore||0),t=(n.examScore||0)*.5;return Math.round(e+t)},Pg=n=>{switch(n){case"A":return"text-green-600 bg-green-100";case"B":return"text-red-600 bg-red-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}};class l7{async getCollection(e){return(await ns(kn(Bt,e))).docs.map(s=>s.data())}requireSchoolId(e,t="operation"){if(!e)throw new Error(`schoolId is required for ${t}`);return e}async getCollectionBySchoolId(e,t){const s=this.requireSchoolId(t,`getCollectionBySchoolId(${e})`),r=Jn(kn(Bt,e),nn("schoolId","==",s));return(await ns(r)).docs.map(c=>c.data())}async getSchoolConfig(e){const t=this.requireSchoolId(e,"getSchoolConfig"),s=Pn(Bt,"settings",t),r=await kc(s);if(r.exists()){const c={...r.data(),schoolId:t};if(c.nextTermBegins&&!c.termTransitionProcessed){const h=new Date(c.nextTermBegins+"T00:00:00"),u=new Date;if(u.setHours(0,0,0,0),!Number.isNaN(h.getTime())&&u>=h){const f={...c,schoolReopenDate:c.nextTermBegins||c.schoolReopenDate||""};await this.resetForNewTerm(f);const A=await kc(s);if(A.exists())return{...A.data(),schoolId:t}}}return c}return{schoolId:t,schoolName:"New School",academicYear:To,currentTerm:`Term ${zi}`,headTeacherRemark:"Keep it up.",termEndDate:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,holidayDates:[]}}async updateSchoolConfig(e){const t=this.requireSchoolId(e.schoolId,"updateSchoolConfig");await Oi(Pn(Bt,"settings",t),e)}async getUsers(e){const t=this.requireSchoolId(e,"getUsers"),s=Jn(kn(Bt,"users"),nn("schoolId","==",t));return(await ns(s)).docs.map(o=>({id:o.id,...o.data()}))}async addUser(e){await Oi(Pn(Bt,"users",e.id),e)}async deleteUser(e){await ki(Pn(Bt,"users",e))}async updateUserAssignedClasses(e,t){await Oh(Pn(Bt,"users",e),{assignedClassIds:t})}async getStudents(e,t){const s=this.requireSchoolId(e,"getStudents"),r=kn(Bt,"students"),o=[nn("schoolId","==",s)];t&&o.push(nn("classId","==",t));const c=Jn(r,...o);return(await ns(c)).docs.map(u=>u.data())}async addStudent(e){this.requireSchoolId(e.schoolId,"addStudent"),await Oi(Pn(Bt,"students",e.id),e)}async updateStudent(e){this.requireSchoolId(e.schoolId,"updateStudent"),await Oh(Pn(Bt,"students",e.id),{...e,...e.schoolId?{schoolId:e.schoolId}:{}})}async deleteStudent(e){await ki(Pn(Bt,"students",e))}async getSubjects(e,t){const s=this.requireSchoolId(e,"getSubjects");if(!t)return[];const r=Jn(kn(Bt,"class_subjects"),nn("schoolId","==",s),nn("classId","==",t)),o=await ns(r);return o.empty?[]:o.docs[0].data().subjects}async addSubject(e,t,s){const r=this.requireSchoolId(s,"addSubject"),o=await this.getSubjects(r,e);o.includes(t)||await Oi(Pn(Bt,"class_subjects",`${r}_${e}`),{schoolId:r,classId:e,subjects:[...o,t]})}async updateSubject(e,t,s,r){const o=this.requireSchoolId(r,"updateSubject"),c=await this.getSubjects(o,e),h=c.indexOf(t);h!==-1&&(c[h]=s,await Oi(Pn(Bt,"class_subjects",`${o}_${e}`),{schoolId:o,classId:e,subjects:c}))}async deleteSubject(e,t,s){const r=this.requireSchoolId(s,"deleteSubject"),c=(await this.getSubjects(r,e)).filter(h=>h!==t);await Oi(Pn(Bt,"class_subjects",`${r}_${e}`),{schoolId:r,classId:e,subjects:c})}async seedClassSubjects(e,t,s){const r=this.requireSchoolId(s,"seedClassSubjects");await Oi(Pn(Bt,"class_subjects",`${r}_${e}`),{schoolId:r,classId:e,subjects:t})}async resetAllClassSubjects(e){const t=this.requireSchoolId(e,"resetAllClassSubjects"),s=Jn(kn(Bt,"class_subjects"),nn("schoolId","==",t)),o=(await ns(s)).docs.map(c=>ki(Pn(Bt,"class_subjects",c.id)));await Promise.all(o)}async getAttendance(e,t,s){const r=this.requireSchoolId(e,"getAttendance");if(!t||!s)return;const o=Jn(kn(Bt,"attendance"),nn("schoolId","==",r),nn("classId","==",t),nn("date","==",s)),c=await ns(o);return c.empty?void 0:c.docs[0].data()}async getClassAttendance(e,t){const s=this.requireSchoolId(e,"getClassAttendance");if(!t)return[];const r=Jn(kn(Bt,"attendance"),nn("schoolId","==",s),nn("classId","==",t));return(await ns(r)).docs.map(c=>c.data())}async getAttendanceByDate(e,t){const s=this.requireSchoolId(e,"getAttendanceByDate");if(!t)return[];const r=Jn(kn(Bt,"attendance"),nn("schoolId","==",s),nn("date","==",t));return(await ns(r)).docs.map(c=>c.data())}async saveAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveAttendance")}_${e.classId}_${e.date}`;await Oi(Pn(Bt,"attendance",s),{...e,id:s})}async getAssessments(e,t,s){const r=this.requireSchoolId(e,"getAssessments");if(!t||!s)return[];const o=Jn(kn(Bt,"assessments"),nn("schoolId","==",r),nn("classId","==",t),nn("subject","==",s));return(await ns(o)).docs.map(h=>h.data())}async getAllAssessments(e){return this.getCollectionBySchoolId("assessments",e)}async saveAssessment(e){const t=this.requireSchoolId(e.schoolId,"saveAssessment"),s=e.id||`${t}_${e.studentId}_${e.subject}_${e.term}_${e.academicYear}`;await Oi(Pn(Bt,"assessments",s),{...e,id:s})}async resetAssessmentsForClass(e,t,s=!1,r){const o=this.requireSchoolId(e,"resetAssessmentsForClass");if(!t)return;const c=Jn(kn(Bt,"assessments"),nn("schoolId","==",o),nn("classId","==",t)),u=(await ns(c)).docs.map(f=>ki(Pn(Bt,"assessments",f.id)));if(await Promise.all(u),s){const f=await this.getStudents(o,t),A=await this.getSubjects(o,t),m=[],x=r||zi;for(const g of f)for(const b of A){const I=`${g.id}_${b}_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,N={id:I,schoolId:o,studentId:g.id,classId:t,term:x,academicYear:To,subject:b,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0};m.push(Oi(Pn(Bt,"assessments",I),N))}await Promise.all(m)}}async getNotices(e){const t=this.requireSchoolId(e,"getNotices"),s=Jn(kn(Bt,"notices"),nn("schoolId","==",t));return(await ns(s)).docs.map(o=>o.data())}async addNotice(e){this.requireSchoolId(e.schoolId,"addNotice"),await Oi(Pn(Bt,"notices",e.id),e)}async deleteNotice(e){await ki(Pn(Bt,"notices",e))}async getStudentRemarks(e,t){const s=this.requireSchoolId(e,"getStudentRemarks");if(!t)return[];const r=Jn(kn(Bt,"student_remarks"),nn("schoolId","==",s),nn("classId","==",t));return(await ns(r)).docs.map(c=>c.data())}async saveStudentRemark(e){this.requireSchoolId(e.schoolId,"saveStudentRemark"),await Oi(Pn(Bt,"student_remarks",e.id),e)}async getStudentSkills(e,t){const s=this.requireSchoolId(e,"getStudentSkills");if(!t)return[];const r=Jn(kn(Bt,"student_skills"),nn("schoolId","==",s),nn("classId","==",t));return(await ns(r)).docs.map(c=>c.data())}async saveStudentSkills(e){this.requireSchoolId(e.schoolId,"saveStudentSkills"),await Oi(Pn(Bt,"student_skills",e.id),e)}async addSystemNotification(e,t,s){const r=this.requireSchoolId(s,"addSystemNotification"),o=`${r}_${Date.now()}`,c={id:o,schoolId:r,message:e,createdAt:Date.now(),isRead:!1,type:t};await Oi(Pn(Bt,"admin_notifications",o),c)}async getSystemNotifications(e){const t=this.requireSchoolId(e,"getSystemNotifications"),s=Jn(kn(Bt,"admin_notifications"),nn("schoolId","==",t),Jx(20));return(await ns(s)).docs.map(o=>o.data()).sort((o,c)=>(c.createdAt??0)-(o.createdAt??0))}async markNotificationAsRead(e){await Oh(Pn(Bt,"admin_notifications",e),{isRead:!0})}async deleteSystemNotification(e){await ki(Pn(Bt,"admin_notifications",e))}async getTimetable(e,t){const s=this.requireSchoolId(e,"getTimetable");if(!t)return;const r=Jn(kn(Bt,"timetables"),nn("schoolId","==",s),nn("classId","==",t),Jx(1)),o=await ns(r);return o.empty?void 0:o.docs[0].data()}async saveTimetable(e){const t=this.requireSchoolId(e.schoolId,"saveTimetable");await Oi(Pn(Bt,"timetables",`${t}_${e.classId}`),{...e,schoolId:t})}async getStudentPerformance(e,t,s){const r=await this.getClassAttendance(e,s),o=new Set(r.filter(E=>E.isHoliday).map(E=>E.date)),c=await this.getSchoolConfig(e),h=new Set((c.holidayDates||[]).map(E=>E.date));let u=0,f=[];if(c.schoolReopenDate){const E=new Date(`${c.schoolReopenDate}T00:00:00`),F=c.vacationDate?new Date(`${c.vacationDate}T00:00:00`):null,Q=new Date;Q.setHours(0,0,0,0);const P=F&&F<Q?F:Q;if(!Number.isNaN(E.getTime())){const H=new Date(E);for(;H<=P;){const L=H.getDay();if(!(L===0||L===6)){const R=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`;!o.has(R)&&!h.has(R)&&(u++,f.push(R))}H.setDate(H.getDate()+1)}}}if(!u){const E=r.filter(F=>!F.isHoliday&&!h.has(F.date));u=E.length,f=E.map(F=>F.date).sort()}const A=r.filter(E=>!E.isHoliday&&!h.has(E.date)&&E.presentStudentIds.includes(t)).length,m=u===0?0:Math.round(A/u*100);f.length||(f=r.filter(E=>!E.isHoliday&&!h.has(E.date)).map(E=>E.date).sort());const x=r.filter(E=>!E.isHoliday&&!h.has(E.date)&&E.presentStudentIds.includes(t)).map(E=>E.date).sort(),g=Jn(kn(Bt,"assessments"),nn("schoolId","==",e),nn("studentId","==",t)),I=(await ns(g)).docs.map(E=>E.data()).filter(E=>!0),S=(await this.getSubjects(e,s)).map(E=>{const F=I.find(Q=>Q.subject===E);return F||{subject:E,total:0}});return{attendance:{total:u,present:A,percentage:m,schoolDates:f,presentDates:x},grades:S}}async getDashboardStats(e){const t=this.requireSchoolId(e,"getDashboardStats"),[s,r,o]=await Promise.all([ns(Jn(kn(Bt,"students"),nn("schoolId","==",t))),ns(Jn(kn(Bt,"users"),nn("schoolId","==",t))),ns(Jn(kn(Bt,"attendance"),nn("schoolId","==",t)))]),c=s.docs.map(b=>b.data()),h=r.docs.map(b=>b.data()),u=await this.getSchoolConfig(t),f=new Set((u.holidayDates||[]).map(b=>b.date)),A=o.docs.map(b=>b.data()).filter(b=>!b.isHoliday&&!f.has(b.date)),m=c.filter(b=>b.gender==="Male").length,x=c.filter(b=>b.gender==="Female").length,g=In.map(b=>{const I=A.filter(S=>S.classId===b.id),N=c.filter(S=>S.classId===b.id);if(I.length>0&&N.length>0){const S=I.length*N.length,E=I.reduce((Q,P)=>Q+P.presentStudentIds.length,0),F=Math.round(E/S*100);return{className:b.name,percentage:F,id:b.id}}return{className:b.name,percentage:0,id:b.id}});return{studentsCount:c.length,teachersCount:h.filter(b=>b.role===ps.TEACHER).length,gender:{male:m,female:x},classAttendance:g}}async getDashboardSummary(e){const t=this.requireSchoolId(e,"getDashboardSummary"),[s,r]=await Promise.all([P5(Jn(kn(Bt,"students"),nn("schoolId","==",t))),P5(Jn(kn(Bt,"users"),nn("schoolId","==",t),nn("role","==",ps.TEACHER)))]);return{studentsCount:s.data().count,teachersCount:r.data().count}}async getTeacherAttendance(e,t,s){const r=this.requireSchoolId(e,"getTeacherAttendance");if(!t||!s)return;const o=Jn(kn(Bt,"teacher_attendance"),nn("schoolId","==",r),nn("teacherId","==",t),nn("date","==",s)),c=await ns(o);return c.empty?void 0:c.docs[0].data()}async getTeacherAttendancePendingByDate(e,t){return t?(await this.getAllTeacherAttendance(e,t)).filter(r=>r.approvalStatus==="pending"):[]}async getAllPendingTeacherAttendance(e){return(await this.getAllTeacherAttendanceRecords(e)).filter(s=>s.approvalStatus==="pending")}async getAllTeacherAttendance(e,t){const s=this.requireSchoolId(e,"getAllTeacherAttendance");if(!t)return[];const r=Jn(kn(Bt,"teacher_attendance"),nn("schoolId","==",s),nn("date","==",t));return(await ns(r)).docs.map(c=>c.data())}async getAllApprovedTeacherAttendance(e,t){return t?(await this.getAllTeacherAttendance(e,t)).filter(r=>r.approvalStatus==="approved"):[]}async saveTeacherAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveTeacherAttendance")}_${e.teacherId}_${e.date}`;await Oi(Pn(Bt,"teacher_attendance",s),{approvalStatus:e.approvalStatus||"approved",...e,id:s})}async approveTeacherAttendance(e,t,s){const r=this.requireSchoolId(e,"approveTeacherAttendance");await Oh(Pn(Bt,"teacher_attendance",t),{schoolId:r,approvalStatus:"approved",approvedBy:s,approvedAt:Date.now(),rejectedBy:null,rejectedAt:null})}async rejectTeacherAttendance(e,t,s){const r=this.requireSchoolId(e,"rejectTeacherAttendance");await Oh(Pn(Bt,"teacher_attendance",t),{schoolId:r,approvalStatus:"rejected",status:"absent",rejectedBy:s,rejectedAt:Date.now()})}async getAllTeacherAttendanceRecords(e){return this.getCollectionBySchoolId("teacher_attendance",e)}async resetAllTeacherAttendance(e){const t=this.requireSchoolId(e,"resetAllTeacherAttendance"),s=Jn(kn(Bt,"teacher_attendance"),nn("schoolId","==",t)),o=(await ns(s)).docs.map(c=>ki(Pn(Bt,"teacher_attendance",c.id)));await Promise.all(o)}async getAdminRemark(e,t){const s=this.requireSchoolId(e,"getAdminRemark");if(!t)return;const r=Pn(Bt,"admin_remarks",t),o=await kc(r);if(!o.exists())return;const c=o.data();return c.schoolId===s?c:void 0}async saveAdminRemark(e){this.requireSchoolId(e.schoolId,"saveAdminRemark"),await Oi(Pn(Bt,"admin_remarks",e.id),e)}async createTermBackup(e,t,s){console.log(`Creating backup for ${t}, ${s}...`);try{const r=this.requireSchoolId(e.schoolId,"createTermBackup"),[o,c,h,u,f,A,m,x,g,b,I,N]=await Promise.all([this.getCollectionBySchoolId("students",r),this.getCollectionBySchoolId("users",r),this.getCollectionBySchoolId("attendance",r),this.getCollectionBySchoolId("teacher_attendance",r),this.getCollectionBySchoolId("assessments",r),this.getCollectionBySchoolId("student_remarks",r),this.getCollectionBySchoolId("admin_remarks",r),this.getCollectionBySchoolId("student_skills",r),this.getCollectionBySchoolId("timetables",r),this.getCollectionBySchoolId("notices",r),this.getCollectionBySchoolId("admin_notifications",r),this.getCollectionBySchoolId("activity_logs",r)]),E=(await ns(Jn(kn(Bt,"class_subjects"),nn("schoolId","==",r)))).docs.map(Q=>Q.data()),F={id:`backup_${Date.now()}`,schoolId:r,timestamp:Date.now(),term:t,academicYear:s,data:{schoolConfig:e,students:o,attendanceRecords:h,teacherAttendanceRecords:u,assessments:f,studentRemarks:A,adminRemarks:m,studentSkills:x,timetables:g,users:c,classSubjects:E,notices:b,adminNotifications:I,activityLogs:N}};await Oi(Pn(Bt,"backups",F.id),F),console.log(`Backup created successfully: ${F.id}`)}catch(r){throw console.error("Error creating backup:",r),r}}async resetForNewTerm(e){console.log("Initiating term transition for:",e.currentTerm,e.academicYear),await this.createTermBackup(e,e.currentTerm,e.academicYear);const t=In.map(f=>f.id),s=this.requireSchoolId(e.schoolId,"resetForNewTerm"),r=[(async()=>{const f=Jn(kn(Bt,"attendance"),nn("schoolId","==",s)),m=(await ns(f)).docs.map(x=>ki(Pn(Bt,"attendance",x.id)));await Promise.all(m),console.log("Cleared student attendance records.")})(),this.resetAllTeacherAttendance(s),(async()=>{const f=Jn(kn(Bt,"student_remarks"),nn("schoolId","==",s)),m=(await ns(f)).docs.map(x=>ki(Pn(Bt,"student_remarks",x.id)));await Promise.all(m),console.log("Cleared student remarks.")})(),(async()=>{const f=Jn(kn(Bt,"student_skills"),nn("schoolId","==",s)),m=(await ns(f)).docs.map(x=>ki(Pn(Bt,"student_skills",x.id)));await Promise.all(m),console.log("Cleared student skills.")})(),(async()=>{const f=Jn(kn(Bt,"admin_remarks"),nn("schoolId","==",s)),m=(await ns(f)).docs.map(x=>ki(Pn(Bt,"admin_remarks",x.id)));await Promise.all(m),console.log("Cleared admin remarks.")})(),(async()=>{const f=Jn(kn(Bt,"admin_notifications"),nn("schoolId","==",s)),m=(await ns(f)).docs.map(x=>ki(Pn(Bt,"admin_notifications",x.id)));await Promise.all(m),console.log("Cleared system notifications.")})(),(async()=>{const f=Jn(kn(Bt,"notices"),nn("schoolId","==",s)),m=(await ns(f)).docs.map(x=>ki(Pn(Bt,"notices",x.id)));await Promise.all(m),console.log("Cleared notices.")})()];await Promise.all(r);let o=1,c=e.academicYear;const h=parseInt(e.currentTerm.split(" ")[1]);if(h===3){o=1;const f=e.academicYear.split("-").map(Number);c=`${f[0]+1}-${f[1]+1}`}else o=h+1;for(const f of t)await this.resetAssessmentsForClass(e.schoolId,f,!0,o),console.log(`Reset and re-seeded assessments for class: ${f} with term ${o}`);const u={...e,currentTerm:`Term ${o}`,academicYear:c,termTransitionProcessed:!0,schoolReopenDate:e.schoolReopenDate||"",vacationDate:"",nextTermBegins:""};await this.updateSchoolConfig(u),console.log("SchoolConfig updated for new term:",`Term ${o}`,c)}async getTeacherAttendanceAnalytics(e,t,s){const r=this.requireSchoolId(e,"getTeacherAttendanceAnalytics"),o=await this.getSchoolConfig(r);if(!t&&!o.schoolReopenDate)return[];const h=(await this.getUsers(r)).filter(b=>b.role===ps.TEACHER),u=await this.getAllTeacherAttendanceRecords(r),A=`${(o.academicYear||To).split("-")[0]}-09-01`,m=t||o.schoolReopenDate||A,x=s||new Date().toISOString().split("T")[0],g=[];for(const b of h){const N=u.filter(H=>H.teacherId===b.id&&H.approvalStatus!=="pending").filter(H=>H.date>=m&&H.date<=x&&!H.isHoliday),S={};N.forEach(H=>{const L=new Date(H.date),U=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`;S[U]||(S[U]={total:0,present:0}),S[U].total+=1,H.status==="present"&&H.approvalStatus==="approved"&&(S[U].present+=1)});const E=Object.entries(S).map(([H,L])=>{const[U,R]=H.split("-"),K=L.total>0?Math.round(L.present/L.total*100):0;return{teacherId:b.id,teacherName:b.fullName,month:H,year:parseInt(U),totalWorkingDays:L.total,presentDays:L.present,absentDays:L.total-L.present,attendanceRate:K,trend:"stable"}}).sort((H,L)=>H.month.localeCompare(L.month));for(let H=0;H<E.length;H++)if(H>0){const L=E[H].attendanceRate,U=E[H-1].attendanceRate;L>U+5?E[H].trend="improving":L<U-5?E[H].trend="declining":E[H].trend="stable"}const F=E.reduce((H,L)=>H+L.totalWorkingDays,0),Q=E.reduce((H,L)=>H+L.presentDays,0),P=F>0?Math.round(Q/F*100):0;g.push({teacherId:b.id,teacherName:b.fullName,overallAttendance:P,monthlyBreakdown:E,termStartDate:m,vacationDate:x!==new Date().toISOString().split("T")[0]?x:void 0})}return g}async getBackups(e){const t=this.requireSchoolId(e==null?void 0:e.schoolId,"getBackups");let s=Jn(kn(Bt,"backups"),nn("schoolId","==",t));const r=[];if(e!=null&&e.term&&r.push(nn("term","==",e.term)),e!=null&&e.academicYear&&r.push(nn("academicYear","==",e.academicYear)),e!=null&&e.date){const c=new Date(e.date).getTime(),h=c+1440*60*1e3-1;r.push(nn("timestamp",">=",c),nn("timestamp","<=",h))}return r.length>0&&(s=Jn(s,...r)),(await ns(s)).docs.map(c=>c.data())}async getBackupDetails(e,t){const s=this.requireSchoolId(e,"getBackupDetails");if(!t)return;const r=await kc(Pn(Bt,"backups",t));if(!r.exists())return;const o=r.data();return o.schoolId===s?o:void 0}async deleteBackup(e,t){const s=this.requireSchoolId(e,"deleteBackup");!t||!await this.getBackupDetails(s,t)||await ki(Pn(Bt,"backups",t))}async deleteAllBackups(e){const t=this.requireSchoolId(e,"deleteAllBackups"),s=Jn(kn(Bt,"backups"),nn("schoolId","==",t)),o=(await ns(s)).docs.map(c=>ki(Pn(Bt,"backups",c.id)));await Promise.all(o)}}const ot=new l7,A7=({toast:n,onClose:e})=>{Z.useEffect(()=>{const s=setTimeout(()=>e(n.id),n.duration);return()=>clearTimeout(s)},[n,e]);const t=n.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":n.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-[#E6F0FA] border-[#E6F0FA] text-[#0B4A82]";return i.jsx("div",{className:`max-w-sm w-full px-4 py-3 rounded-lg border shadow-md ${t} transform transition-all`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-1 text-sm leading-tight",children:n.message}),i.jsx("button",{onClick:()=>e(n.id),className:"text-slate-400 hover:text-slate-600 ml-2","aria-label":"Close notification",children:i.jsx(Io,{size:14})})]})})},c7=()=>{const[n,e]=Z.useState([]);Z.useEffect(()=>{let s=1;const r=o=>{const{message:c,type:h,duration:u}=o.detail||{},f=s++;e(A=>[{id:f,message:c,type:h,duration:u},...A])};return window.addEventListener("app-toast",r),()=>window.removeEventListener("app-toast",r)},[]);const t=s=>e(r=>r.filter(o=>o.id!==s));return n.length===0?null:i.jsx("div",{className:"fixed right-4 top-20 z-60 flex flex-col gap-3",children:n.map(s=>i.jsx(A7,{toast:s,onClose:t},s.id))})},ir=({children:n,title:e})=>{const{user:t,logout:s}=Fo(),{school:r}=dc(),o=(r==null?void 0:r.id)||null,[c,h]=Z.useState(!1),u=Uu(),f=u.pathname.startsWith("/admin/billing"),[A,m]=Z.useState([]),[x,g]=Z.useState(!1),[b,I]=Z.useState(0),N=(t==null?void 0:t.role)===ps.SCHOOL_ADMIN,S=(t==null?void 0:t.role)===ps.SUPER_ADMIN,E=(r==null?void 0:r.plan)==="free",F=Z.useMemo(()=>{var re,me,ee;if(!r||E||S)return null;const L=M=>{if(!M)return null;const J=M instanceof Date?M:new Date(typeof(M==null?void 0:M.toDate)=="function"?M.toDate():M);return Number.isNaN(J.getTime())?null:J},U=M=>M==="termly"?4:M==="yearly"?12:1,R=(r==null?void 0:r.plan)||"monthly",K=L(r==null?void 0:r.planEndsAt),O=((re=r==null?void 0:r.billing)==null?void 0:re.lastPaymentAt)||null,V=(r==null?void 0:r.createdAt)||((me=r==null?void 0:r.billing)==null?void 0:me.createdAt)||null;let G=L(O)||L(V);if(!G)return null;O&&(G=new Date(G),G.setDate(1),G.setHours(0,0,0,0));const oe=K||(()=>{const M=new Date(G);return M.setMonth(M.getMonth()+U(R)),M})(),ge=10080*60*1e3,le=new Date(oe.getTime()+ge);if(new Date<le)return null;const W=String(((ee=r==null?void 0:r.billing)==null?void 0:ee.status)||"").toLowerCase().trim();return["active","success","paid"].includes(W)?null:{planEndsAt:oe,graceEndsAt:le}},[r,E,S]);Z.useEffect(()=>{if(N||S){const L=async()=>{try{if(!o)return;const R=await ot.getSystemNotifications(o);m(R),I(R.filter(K=>!K.isRead).length)}catch(R){console.error("Failed to fetch notifications",R)}};L();const U=setInterval(L,3e4);return()=>clearInterval(U)}},[N,S,o]);const Q=async(L,U)=>{U.stopPropagation(),await ot.markNotificationAsRead(L),m(R=>R.map(K=>K.id===L?{...K,isRead:!0}:K)),I(R=>Math.max(0,R-1))},P=async(L,U)=>{U.stopPropagation();try{await ot.deleteSystemNotification(L),m(R=>R.filter(K=>K.id!==L)),I(R=>A.find(O=>O.id===L&&!O.isRead)?Math.max(0,R-1):R)}catch(R){console.error("Failed to delete notification",R)}},H=({href:L,icon:U,label:R})=>{const K=u.pathname===L;return i.jsxs(Na,{to:L,className:`flex items-center px-4 py-3 transition-colors ${K?"bg-[#0B4A82] text-white border-r-4 border-[#1160A8]":"text-[#E6F0FA] hover:bg-[#1160A8] hover:text-white"}`,onClick:()=>h(!1),children:[i.jsx(U,{className:`w-5 h-5 mr-3 ${K?"text-white":"text-[#E6F0FA]"}`}),i.jsx("span",{className:"font-medium",children:R})]})};return i.jsxs("div",{className:"h-screen bg-[#fafafa] flex",children:[c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),i.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-30 w-64 bg-[#0B4A82] text-white transform transition-transform duration-200 ease-in-out overflow-y-auto
        ${c?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0 flex flex-col shadow-xl border-r border-[#0B4A82]
      `,children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] bg-[#0B4A82] flex flex-col items-center justify-center relative",children:[i.jsx("button",{onClick:()=>h(!1),className:"md:hidden absolute top-4 right-4 text-[#E6F0FA] hover:text-white",children:i.jsx(Io,{size:24})}),S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-[#E6F0FA] overflow-hidden",children:i.jsx("img",{src:xb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:"Super Admin Panel"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"System Administration"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-amber-500 overflow-hidden",children:i.jsx("img",{src:(r==null?void 0:r.logoUrl)||xb,alt:(r==null?void 0:r.name)||"School Management System",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:(r==null?void 0:r.name)||"School Management System"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"Management System"})]})]})]}),i.jsx("nav",{className:"flex-1 py-6 space-y-1",children:S?i.jsxs(i.Fragment,{children:[i.jsx(H,{href:"/",icon:Wy,label:"Dashboard"}),i.jsx(H,{href:"/super-admin/schools",icon:hm,label:"Schools"}),i.jsx(H,{href:"/super-admin/backups",icon:i2,label:"Backups"}),i.jsx(H,{href:"/super-admin/payments",icon:fg,label:"Payments"})]}):N?i.jsx(i.Fragment,{children:F?i.jsx(H,{href:"/admin/billing",icon:Dp,label:"Billing"}):i.jsxs(i.Fragment,{children:[i.jsx(H,{href:"/",icon:Wy,label:"Dashboard"}),i.jsx(H,{href:"/admin/students",icon:hm,label:"Students"}),i.jsx(H,{href:"/admin/teachers",icon:vl,label:"Teachers"}),i.jsx(H,{href:"/admin/attendance",icon:Sk,label:"Student Attendance"}),i.jsx(H,{href:"/admin/teacher-attendance",icon:Wf,label:"Teacher Attendance"}),i.jsx(H,{href:"/admin/reports",icon:zl,label:"Reports"}),i.jsx(H,{href:"/admin/report-card",icon:zl,label:"Report Card"}),i.jsx(H,{href:"/admin/timetable",icon:jk,label:"Timetable"}),i.jsx(H,{href:"/admin/settings",icon:a2,label:"Settings"}),!E&&i.jsx(H,{href:"/admin/billing",icon:Dp,label:"Billing"})]})}):i.jsx(i.Fragment,{children:F?i.jsx(H,{href:"/admin/billing",icon:Dp,label:"Billing"}):i.jsxs(i.Fragment,{children:[i.jsx(H,{href:"/",icon:Wy,label:"Dashboard"}),i.jsx(H,{href:"/teacher/my-attendance",icon:Wf,label:"My Attendance"}),i.jsx(H,{href:"/teacher/attendance",icon:vl,label:"Student Attendance"}),i.jsx(H,{href:"/teacher/assessment",icon:zl,label:"Assessment"})]})})}),i.jsxs("div",{className:"p-4 border-t border-[#0B4A82] bg-[#0B4A82]",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1160A8] border-2 border-[#E6F0FA] flex items-center justify-center text-sm font-bold shadow-lg text-white",children:t==null?void 0:t.fullName.charAt(0)}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:t==null?void 0:t.fullName}),i.jsx("p",{className:"text-xs text-[#E6F0FA] capitalize",children:(t==null?void 0:t.role)===ps.SUPER_ADMIN?"Super Admin":(t==null?void 0:t.role)===ps.SCHOOL_ADMIN?"School Admin":"Teacher"})]})]}),i.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center px-4 py-2 text-sm text-[#E6F0FA] hover:text-white hover:bg-[#1160A8] rounded-md transition-colors",children:[i.jsx(rM,{size:16,className:"mr-2"}),"Sign Out"]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[i.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-4 md:px-8 z-10 border-b border-[#E6F0FA]",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 -ml-2 text-[#0B4A82] hover:text-[#1160A8]",children:i.jsx(dM,{size:24})}),i.jsx("h2",{className:"text-xl font-bold text-[#0B4A82] ml-2 md:ml-0",children:e})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[(N||S)&&i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>g(!x),className:`relative p-2 transition-colors ${x?"text-[#0B4A82] bg-[#E6F0FA] rounded-full":"text-slate-400 hover:text-[#0B4A82]"}`,children:[i.jsx(Vp,{size:20}),b>0&&i.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-[#1160A8] rounded-full border-2 border-white"})]}),x&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),i.jsxs("div",{className:"fixed right-4 top-16 w-80 sm:w-96 bg-white bg-opacity-100 rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[i.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[i.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Notifications"}),i.jsxs("span",{className:"text-xs text-slate-500",children:[b," unread"]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto bg-white",children:A.length===0?i.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No new activity."}):A.map(L=>i.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 transition-colors ${L.isRead?"bg-slate-50":"bg-white border-l-4 border-l-[#1160A8]"}`,children:i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm leading-snug mb-1 ${L.isRead?"text-slate-500":"text-slate-800 font-medium"}`,children:L.message}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase tracking-wide ${L.isRead?"bg-slate-200 text-slate-500":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:L.isRead?"Read":"Unread"}),i.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(L.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!L.isRead&&i.jsx("button",{onClick:U=>Q(L.id,U),className:"text-emerald-500 hover:text-emerald-700 p-1 hover:bg-emerald-50 rounded transition-colors shrink-0",title:"Mark as read",children:i.jsx(zp,{size:16})}),i.jsx("button",{onClick:U=>P(L.id,U),className:"text-slate-400 hover:text-red-600 p-1 hover:bg-red-50 rounded transition-colors shrink-0",title:"Delete notification",children:i.jsx(Io,{size:16})})]})]})},L.id))})]})]})]}),i.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2 hidden sm:block"}),i.jsx("div",{className:"text-sm text-slate-500 hidden sm:block font-medium",children:new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),F&&!f&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/70 p-4",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-slate-200 bg-white p-6 shadow-2xl",children:[i.jsx("div",{className:"absolute -top-10 right-6 h-16 w-16 rounded-2xl bg-rose-500 text-white flex items-center justify-center shadow-lg",children:i.jsx(nM,{size:28})}),i.jsx("div",{className:"flex flex-col gap-4 pt-6",children:N?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Subscription expired"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-1",children:"Access paused until renewal"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your one-week grace period ended on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:F.graceEndsAt.toLocaleDateString()}),". Renew now to restore access for your team."]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[i.jsxs(Na,{to:"/admin/billing",className:"inline-flex items-center justify-center gap-2 rounded-full bg-[#0B4A82] px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-[#1160A8]",children:[i.jsx(Dp,{size:16}),"Renew Subscription"]}),i.jsx("span",{className:"text-xs text-slate-500",children:"Need help? Contact your super admin."})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Subscription expired"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-1",children:"Access temporarily paused"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your schools subscription grace period ended on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:F.graceEndsAt.toLocaleDateString()}),". Please contact your school admin to renew and restore access."]})]}),i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:i.jsx("span",{className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-slate-50 px-4 py-2 text-sm font-semibold text-slate-600",children:"Waiting for admin renewal"})})]})})]})}),i.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8",children:n}),i.jsx(c7,{})]})]})},Pt=(n,e)=>{const t={message:n,type:(e==null?void 0:e.type)||"info",duration:(e==null?void 0:e.duration)??4e3};window.dispatchEvent(new CustomEvent("app-toast",{detail:t}))},u7=({data:n,week:e,onPreviousWeek:t,onNextWeek:s,onCurrentWeek:r,schoolReopenDate:o})=>{if(e===null)return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col items-center justify-center",children:[i.jsx("div",{className:"relative w-12 h-12 border-3 border-slate-100 border-t-red-900 rounded-full animate-spin"}),i.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"Loading attendance data..."})]});const{monday:c,friday:h}=VT(e),f=d7().toDateString()===c.toDateString(),A=b=>{const I=b.split("-");return I.length===3?new Date(parseInt(I[0]),parseInt(I[1])-1,parseInt(I[2])):new Date(b)};let m="",x=null;o&&(x=A(o),x>new Date?m="School Closed":m="School Open");const g=b=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(b);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Class Attendance"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Weekly participation overview"})]}),m&&i.jsx("div",{className:`text-xs font-bold px-3 py-1 rounded-full ${m==="School Closed"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:m})]}),i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-amber-50 rounded-xl border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold",title:"Previous week",children:""}),i.jsx("div",{className:"flex-1 mx-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[g(c),"  ",g(h)]}),i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:c.getFullYear()}),f&&i.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded-full mt-1 uppercase tracking-wide",children:"Current Week"})]})}),i.jsx("button",{onClick:s,disabled:f,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-200 disabled:hover:text-slate-600",title:f?"You are viewing the current week":"Next week",children:""})]}),!f&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("button",{onClick:r,className:"text-xs text-red-700 hover:text-red-800 font-semibold bg-white border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50 transition-colors",children:"Return to Current Week"})})]}),m==="School Closed"&&x&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-red-800 font-semibold",children:["School is currently closed. Attendance records will begin from"," ",g(x)]})}),i.jsx("div",{className:"flex-1 flex items-end justify-between gap-1 sm:gap-2 px-1 pb-2 h-96 w-full overflow-x-auto",children:n.map(b=>{let I="bg-amber-500";return b.percentage<50?I="bg-red-600":b.percentage>=80&&(I="bg-emerald-500"),i.jsxs("div",{className:"flex flex-col items-center flex-1 group h-full justify-end min-w-[20px]",children:[i.jsxs("div",{className:"w-full max-w-[30px] bg-slate-50 rounded-t-sm relative flex items-end h-full hover:bg-slate-100 transition-colors",children:[i.jsxs("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[b.className,": ",b.percentage,"%"]}),i.jsx("div",{className:`w-full ${I} rounded-t-sm transition-all duration-1000 ease-out relative`,style:{height:`${b.percentage}%`}})]}),i.jsx("span",{className:"text-[10px] text-slate-400 mt-2 font-medium truncate w-full text-center",children:b.className.replace("Nursery ","N").replace("Class ","P").replace("Primary ","P").replace("KG ","K").replace("JHS ","J")})]},b.id)})})]})},VT=n=>{const e=new Date(n),t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-(t===0?6:t-1));const r=new Date(s);return r.setDate(s.getDate()+4),{monday:s,friday:r}},d7=()=>VT(new Date).monday,h7=dv.memo(u7),Qi=({className:n="h-4 bg-slate-100 rounded animate-pulse"})=>i.jsx("div",{className:n}),xd=({label:n="Loading"})=>i.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-slate-500",children:[i.jsxs("span",{className:"relative inline-flex h-4 w-4",children:[i.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-amber-400 via-[#0B4A82] to-emerald-400 opacity-60 blur-[1px]"}),i.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-slate-200 border-t-[#0B4A82] animate-spin"})]}),n,""]}),q5=n=>{if(!n)return null;const[e,t,s]=n.split("-").map(Number);if(!e||!t||!s)return null;const r=new Date(e,t-1,s);return Number.isNaN(r.getTime())?null:(r.setHours(0,0,0,0),r)},f7=(n,e)=>{const t=n.match(/\d+/),s=t?parseInt(t[0],10):zi;let r=s+1,o=e;if(s>=3){r=1;const c=e.split("-").map(Number);c.length===2&&c.every(h=>!Number.isNaN(h))&&(o=`${c[0]+1}-${c[1]+1}`)}return{nextTerm:r,nextAcademicYear:o}},m7=()=>{var la;vm();const{user:n}=Fo(),{school:e,schoolLoading:t}=dc(),s=(e==null?void 0:e.id)||null,[r,o]=Z.useState({students:0,teachers:0,classes:In.length,maleStudents:0,femaleStudents:0,classAttendance:[]}),[c,h]=Z.useState([]),[u,f]=Z.useState([]),[A,m]=Z.useState(null),[x,g]=Z.useState(!1),[b,I]=Z.useState(!1),[N,S]=Z.useState(!1),[E,F]=Z.useState(!1),[Q,P]=Z.useState(!1),[H,L]=Z.useState(null),[U,R]=Z.useState(null),[K,O]=Z.useState([]),[V,G]=Z.useState([]),[oe,ge]=Z.useState([]),[le,X]=Z.useState([]),[W,re]=Z.useState([]),[me,ee]=Z.useState(!1),[M,J]=Z.useState(null),ae=dv.useRef(null),[ie,ce]=Z.useState(Date.now()),[ye,Ne]=Z.useState(0),[xe,Se]=Z.useState(0),[Fe,Qe]=Z.useState(0),[Je,Pe]=Z.useState(null),[he,nt]=Z.useState(null),[lt,ht]=Z.useState({academicYear:"",currentTerm:"",schoolReopenDate:"",schoolName:"",headTeacherRemark:"",termEndDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}),[Ke,Nt]=Z.useState(null),[Rt,qt]=Z.useState({A:0,B:0,C:0,D:0,F:0}),[Zt,sn]=Z.useState([]),[an,Xe]=Z.useState({A:[],B:[],C:[],D:[],F:[]}),[Ht,zt]=Z.useState(null),Vt=Z.useMemo(()=>{const Ee=q5(lt.vacationDate||""),at=q5(lt.nextTermBegins||"");if(!Ee||!at)return null;const dt=new Date(Ee);dt.setDate(dt.getDate()+1),dt.setHours(0,0,0,0);const kt=new Date;return kt.setHours(0,0,0,0),kt<dt||kt>=at?null:{vacationDate:Ee,nextTermBegins:at}},[lt.vacationDate,lt.nextTermBegins]),xt=Ee=>{if(!Ee)return null;const at=Ee instanceof Date?Ee:new Date(typeof(Ee==null?void 0:Ee.toDate)=="function"?Ee.toDate():Ee);return Number.isNaN(at.getTime())?null:(typeof Ee=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(Ee)&&at.setHours(23,59,59,999),at)},Dt=Ee=>Ee==="termly"?4:Ee==="yearly"?12:1,Dn=()=>{var pn,yt;const Ee=(e==null?void 0:e.plan)||"monthly";if(Ee==="free")return null;const at=xt(e==null?void 0:e.planEndsAt);if(at)return at;const dt=((pn=e==null?void 0:e.billing)==null?void 0:pn.lastPaymentAt)||null,kt=(e==null?void 0:e.createdAt)||((yt=e==null?void 0:e.billing)==null?void 0:yt.createdAt)||null,An=Tn=>{if(!Tn)return null;const qn=Tn instanceof Date?Tn:new Date(typeof(Tn==null?void 0:Tn.toDate)=="function"?Tn.toDate():Tn);return Number.isNaN(qn.getTime())?null:qn};let Ot=An(dt)||An(kt);if(!Ot)return null;dt&&(Ot=new Date(Ot),Ot.setDate(1),Ot.setHours(0,0,0,0));const Vn=new Date(Ot);return Vn.setMonth(Vn.getMonth()+Dt(Ee)),Vn},Gt=Z.useMemo(()=>{if((e==null?void 0:e.plan)==="free")return null;const Ee=Dn();if(!Ee)return null;const at=new Date(ie);if(at>=Ee)return null;const dt=Math.max(0,Ee.getTime()-at.getTime()),kt=Math.floor(dt/(1440*60*1e3)),An=Math.floor(dt/(3600*1e3)%24),Ot=Math.floor(dt/(60*1e3)%60),Vn=Math.floor(dt/1e3%60);return{planEndsAt:Ee,days:kt,hours:An,minutes:Ot,seconds:Vn}},[e==null?void 0:e.planEndsAt,ie,e==null?void 0:e.plan]),Yt=Z.useMemo(()=>{if((e==null?void 0:e.plan)==="free")return null;const Ee=Dn();if(!Ee)return null;const at=10080*60*1e3,dt=new Date(Ee.getTime()+at),kt=new Date(ie);if(kt<Ee||kt>=dt)return null;const An=Math.max(0,dt.getTime()-kt.getTime()),Ot=Math.floor(An/(1440*60*1e3)),Vn=Math.floor(An/(3600*1e3)%24),pn=Math.floor(An/(60*1e3)%60),yt=Math.floor(An/1e3%60);return{planEndsAt:Ee,graceEndsAt:dt,days:Ot,hours:Vn,minutes:pn,seconds:yt}},[e==null?void 0:e.planEndsAt,ie,e==null?void 0:e.plan]),[At,Lt]=Z.useState({}),[De,ft]=Z.useState([]),[it,Et]=Z.useState({}),[Jt,vt]=Z.useState({}),[st,Ft]=Z.useState(null),[Wt,dn]=Z.useState(null),[Wn,Hn]=Z.useState(null),[Qt,hs]=Z.useState({}),Ts=Z.useMemo(()=>s?`admin_dashboard_summary_${s}`:"",[s]),Is=Z.useMemo(()=>s?`admin_dashboard_heavy_${s}`:"",[s]),_n=Z.useMemo(()=>{if(!Is)return null;const Ee=localStorage.getItem(Is);if(!Ee)return null;try{return JSON.parse(Ee)}catch(at){return console.warn("Failed to parse cached dashboard data",at),localStorage.removeItem(Is),null}},[Is]);Z.useLayoutEffect(()=>{var Ot,Vn,pn;if(!_n)return;const Ee=new Date,at=`${Ee.getFullYear()}-${String(Ee.getMonth()+1).padStart(2,"0")}-${String(Ee.getDate()).padStart(2,"0")}`;if(_n.attendanceDate&&_n.attendanceDate!==at){localStorage.removeItem(Is),O([]),G([]),ge([]);return}o(_n.stats),m(_n.stats),h(_n.notices),f(_n.recentStudents);const dt=(_n.teacherAttendance||[]).filter(yt=>yt.date===at);O(dt);const An=(_n.pendingTeacherAttendance||[]).filter(yt=>yt.date===at&&yt.approvalStatus==="pending");if(G(An),ge(_n.teacherTermStats),X(_n.missedAttendanceAlerts),re(_n.missedStudentAttendanceAlerts),qt(_n.gradeDistribution),sn(_n.topStudents),Xe(_n.gradeBuckets),ht(yt=>({...yt,..._n.schoolConfig})),Lt(_n.heatmapData),ft(_n.comparativeData),Et(_n.gradeDistributionByClass),vt(_n.sparklines),J(new Date(_n.lastUpdated)),I(!0),((Ot=_n.stats)==null?void 0:Ot.students)!==void 0&&Ne(_n.stats.students),(pn=(Vn=_n.stats)==null?void 0:Vn.classAttendance)!=null&&pn.length){const yt=_n.stats.classAttendance.map(qn=>qn.percentage||0),Tn=yt.length>0?Math.round(yt.reduce((qn,fs)=>qn+fs,0)/yt.length):0;Se(Tn)}if(_n.gradeDistribution){const yt=Object.values(_n.gradeDistribution).reduce((Tn,qn)=>Tn+qn,0);if(yt>0){const Tn={A:4,B:3,C:2,D:1,F:0},fs=Object.entries(_n.gradeDistribution).reduce((dr,[Ns,Aa])=>dr+(Tn[Ns]??0)*(Aa??0),0)/yt;Qe(Math.round(fs/4*100))}}},[_n]);const ln=Z.useCallback(async Ee=>{if(s){Ee!=null&&Ee.background||F(!0),L(null);try{const at=await ot.getDashboardSummary(s),dt={students:at.studentsCount,teachers:at.teachersCount,classes:In.length,maleStudents:0,femaleStudents:0,classAttendance:[]};o(kt=>({...kt,students:dt.students,teachers:dt.teachers,classes:dt.classes})),m(kt=>({...kt||dt,students:dt.students,teachers:dt.teachers,classes:dt.classes})),Ts&&localStorage.setItem(Ts,JSON.stringify({...dt,updatedAt:Date.now()}))}catch(at){console.error("Summary fetch error:",at)}finally{Ee!=null&&Ee.background||F(!1)}}},[s,Ts]),cs=Z.useCallback(async Ee=>{var at,dt;if(s){Ee!=null&&Ee.background||P(!0),L(null);try{const kt=new Date,An=`${kt.getFullYear()}-${String(kt.getMonth()+1).padStart(2,"0")}-${String(kt.getDate()).padStart(2,"0")}`,[Ot,Vn,pn,yt,Tn,qn,fs,dr]=await Promise.all([ot.getDashboardStats(s),ot.getStudents(s),ot.getNotices(s),ot.getSchoolConfig(s),ot.getUsers(s),ot.getAllApprovedTeacherAttendance(s,An),ot.getAllPendingTeacherAttendance(s),ot.getAllTeacherAttendanceRecords(s)]),Ns=[],Aa=new Date,Xr=yt.schoolReopenDate?new Date(yt.schoolReopenDate+"T00:00:00"):null,Ls=!Xr||Aa>=Xr,_a=yt.vacationDate?new Date(yt.vacationDate+"T00:00:00"):null;_a&&_a.setHours(0,0,0,0);const hi=yt.nextTermBegins?new Date(yt.nextTermBegins+"T00:00:00"):null;Aa.setHours(0,0,0,0);const Uo=_a&&hi&&Aa>=_a&&Aa<hi,fo=5,ll=new Set([...dr.filter(Kt=>Kt.isHoliday).map(Kt=>Kt.date),...(yt.holidayDates||[]).map(Kt=>Kt.date)]);if(Ls&&!Uo&&dr.length>0){const Kt=Bn=>{if(!Bn)return null;let rn=[];if(Bn.includes("-")){if(rn=Bn.split("-"),rn.length===3)return new Date(parseInt(rn[0]),parseInt(rn[1])-1,parseInt(rn[2]))}else if(Bn.includes("/")&&(rn=Bn.split("/"),rn.length===3))return new Date(parseInt(rn[2]),parseInt(rn[0])-1,parseInt(rn[1]));return null},hn=Kt(yt.schoolReopenDate),ss=Kt(yt.vacationDate);let Zn=new Date;for(let Bn=0;Bn<fo;Bn++){let rn=new Date(Zn),xs=rn.getDay();do{rn.setDate(rn.getDate()-1),xs=rn.getDay();const Tr=ss&&rn.toDateString()===ss.toDateString();if(!(xs===0||xs===6||Tr))break}while(!0);const zr=`${rn.getFullYear()}-${String(rn.getMonth()+1).padStart(2,"0")}-${String(rn.getDate()).padStart(2,"0")}`,Fa=rn.getTime(),Xi=hn?hn.getTime():0,Ro=ss&&hi&&rn>=ss&&rn<hi;if(Fa>=Xi&&Xi>0&&!Ro&&!ll.has(zr))for(const Tr of Tn.filter(ua=>ua.role===ps.TEACHER)){const ua=await ot.getTeacherAttendance(s,Tr.id,zr);(!ua||ua.isHoliday)&&Ns.push({teacherId:Tr.id,teacherName:Tr.fullName,date:zr,classes:((at=Tr.assignedClassIds)==null?void 0:at.map(Ua=>{var Jr;return(Jr=In.find($a=>$a.id===Ua))==null?void 0:Jr.name}).join(", "))||"Not Assigned"})}else break;Zn=rn}}const fi=[];if(Ls&&!Uo){const Kt=Bn=>{if(!Bn)return null;let rn=[];if(Bn.includes("-")){if(rn=Bn.split("-"),rn.length===3)return new Date(parseInt(rn[0]),parseInt(rn[1])-1,parseInt(rn[2]))}else if(Bn.includes("/")&&(rn=Bn.split("/"),rn.length===3))return new Date(parseInt(rn[2]),parseInt(rn[0])-1,parseInt(rn[1]));return null},hn=Kt(yt.schoolReopenDate),ss=Kt(yt.vacationDate);let Zn=new Date;for(let Bn=0;Bn<fo;Bn++){let rn=new Date(Zn),xs=rn.getDay();do{rn.setDate(rn.getDate()-1),xs=rn.getDay();const Ua=ss&&rn.toDateString()===ss.toDateString();if(!(xs===0||xs===6||Ua))break}while(!0);const zr=`${rn.getFullYear()}-${String(rn.getMonth()+1).padStart(2,"0")}-${String(rn.getDate()).padStart(2,"0")}`,Fa=rn.getTime(),Xi=hn?hn.getTime():0,Ro=ss&&hi&&rn>=ss&&rn<hi,ua=(await ot.getAttendanceByDate(s,zr)).some(Ua=>Ua.isHoliday)||(yt.holidayDates||[]).some(Ua=>Ua.date===zr);if(Fa>=Xi&&Xi>0&&!Ro&&!ua)for(const Ua of Tn.filter(Jr=>Jr.role===ps.TEACHER&&Jr.assignedClassIds&&Jr.assignedClassIds.length>0)){const Jr=Ua.assignedClassIds[0],$a=((dt=In.find(Ae=>Ae.id===Jr))==null?void 0:dt.name)||"Unknown Class",k=await ot.getAttendance(s,Jr,zr);(!k||k.isHoliday)&&fi.push({teacherId:Ua.id,teacherName:Ua.fullName,date:zr,className:$a})}else break;Zn=rn}}const Kr=(Kt,hn)=>{if(!Kt||!hn)return 0;const ss=new Date(Kt+"T00:00:00"),Zn=new Date(hn+"T00:00:00");let Bn=0;const rn=new Date(ss);for(;rn<=Zn;){const xs=rn.getDay();xs!==0&&xs!==6&&Bn++,rn.setDate(rn.getDate()+1)}return Bn},$i=new Set([...dr.filter(Kt=>Kt.isHoliday).map(Kt=>Kt.date),...(yt.holidayDates||[]).map(Kt=>Kt.date)]),mo=Kr(yt.schoolReopenDate,yt.vacationDate),ti=Math.max(0,mo-$i.size),mi=Tn.filter(Kt=>Kt.role===ps.TEACHER).map(Kt=>{var rn;const ss=dr.filter(xs=>xs.teacherId===Kt.id&&xs.date>=(yt.schoolReopenDate||"")&&xs.date<=(yt.vacationDate||"9999-99-99")&&!xs.isHoliday&&xs.approvalStatus!=="pending").filter(xs=>xs.status==="present").length,Zn=ti,Bn=Zn>0?Math.round(ss/Zn*100):0;return{id:Kt.id,name:Kt.fullName,classes:((rn=Kt.assignedClassIds)==null?void 0:rn.map(xs=>{var zr;return(zr=In.find(Fa=>Fa.id===xs))==null?void 0:zr.name}).join(", "))||"Not Assigned",presentDays:ss,totalDays:Zn,attendanceRate:Bn}}),Rn=qn.map(Kt=>{var ss;const hn=Tn.find(Zn=>Zn.id===Kt.teacherId);return{...Kt,teacherName:(hn==null?void 0:hn.fullName)||"Unknown",teacherClasses:((ss=hn==null?void 0:hn.assignedClassIds)==null?void 0:ss.map(Zn=>{var Bn;return(Bn=In.find(rn=>rn.id===Zn))==null?void 0:Bn.name}).join(", "))||"Not Assigned"}}),Al=fs.map(Kt=>{var ss;const hn=Tn.find(Zn=>Zn.id===Kt.teacherId);return{...Kt,teacherName:(hn==null?void 0:hn.fullName)||"Unknown",teacherClasses:((ss=hn==null?void 0:hn.assignedClassIds)==null?void 0:ss.map(Zn=>{var Bn;return(Bn=In.find(rn=>rn.id===Zn))==null?void 0:Bn.name}).join(", "))||"Not Assigned"}}),Cl=dr.filter(Kt=>Kt.date===An&&Kt.approvalStatus==="approved").map(Kt=>{var ss;const hn=Tn.find(Zn=>Zn.id===Kt.teacherId);return{...Kt,teacherName:(hn==null?void 0:hn.fullName)||"Unknown",teacherClasses:((ss=hn==null?void 0:hn.assignedClassIds)==null?void 0:ss.map(Zn=>{var Bn;return(Bn=In.find(rn=>rn.id===Zn))==null?void 0:Bn.name}).join(", "))||"Not Assigned"}});if(ht(Kt=>({...Kt,academicYear:yt.academicYear,currentTerm:yt.currentTerm,schoolReopenDate:yt.schoolReopenDate||""})),yt.nextTermBegins&&new Date>=new Date(yt.nextTermBegins+"T00:00:00")&&!yt.termTransitionProcessed)try{const{nextTerm:Kt,nextAcademicYear:hn}=f7(yt.currentTerm,yt.academicYear),ss={...yt,currentTerm:`Term ${Kt}`,academicYear:hn,schoolReopenDate:yt.nextTermBegins||"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!0};await ot.resetForNewTerm(ss),Pt("Term transition completed automatically.",{type:"success"}),setTimeout(()=>cs({background:!0}),1e3)}catch(Kt){console.error("Auto term transition failed:",Kt),Pt("Auto term transition failed. Please check settings.",{type:"error"})}let oo=zi;if(yt.currentTerm){const Kt=yt.currentTerm.match(/\d+/);Kt&&(oo=parseInt(Kt[0]))}const ca=await ot.getAllAssessments(s),Er={},va=new Map(Vn.map(Kt=>[Kt.id,Kt]));ca.some(Kt=>{const hn=Kt.total??_A(Kt);return Kt.term===oo&&hn>0})&&ca.forEach(Kt=>{const hn=Kt.total??_A(Kt);if(Kt.term===oo&&hn>0&&va.has(Kt.studentId)){if(!Er[Kt.studentId]){const ss=va.get(Kt.studentId);Er[Kt.studentId]={total:0,count:0,name:ss.name,classId:ss.classId}}Er[Kt.studentId].total+=hn,Er[Kt.studentId].count+=1}});const ya={A:0,B:0,C:0,D:0,F:0},Yi=[],ni={A:[],B:[],C:[],D:[],F:[]};Object.entries(Er).forEach(([Kt,hn])=>{var rn;const ss=hn.count>0?hn.total/hn.count:0,{grade:Zn}=fm(ss);ya[Zn]!==void 0&&ya[Zn]++;const Bn={id:Kt,name:hn.name,class:((rn=In.find(xs=>xs.id===hn.classId))==null?void 0:rn.name)||"N/A",avg:parseFloat(ss.toFixed(1))};Yi.push(Bn),ni[Zn]&&ni[Zn].push(Bn)}),Yi.sort((Kt,hn)=>hn.avg-Kt.avg);const Do={students:Ot.studentsCount,teachers:Ot.teachersCount,classes:In.length,maleStudents:Ot.gender.male,femaleStudents:Ot.gender.female,classAttendance:Ot.classAttendance};o(Do),m(Do),Ts&&localStorage.setItem(Ts,JSON.stringify({...Do,updatedAt:Date.now()})),h(pn),f(Vn.slice(-5).reverse());const si=[...Cl,...Rn].filter(Kt=>Kt.date===An).reduce((Kt,hn)=>(Kt.find(ss=>ss.id===hn.id)||Kt.push(hn),Kt),[]);O(si);const Wi=Al.filter(Kt=>Kt.date===An&&Kt.approvalStatus==="pending");if(G(Wi),ge(mi),X(Ns),re(fi),qt(ya),sn(Yi.slice(0,5)),Xe(ni),J(new Date),I(!0),Is){const Kt={stats:Do,notices:pn,recentStudents:Vn.slice(-5).reverse(),teacherAttendance:si,pendingTeacherAttendance:Wi,teacherTermStats:mi,missedAttendanceAlerts:Ns,missedStudentAttendanceAlerts:fi,gradeDistribution:ya,topStudents:Yi.slice(0,5),gradeBuckets:ni,schoolConfig:{academicYear:yt.academicYear,currentTerm:yt.currentTerm,schoolReopenDate:yt.schoolReopenDate||"",schoolName:yt.schoolName,headTeacherRemark:yt.headTeacherRemark,termEndDate:yt.termEndDate,vacationDate:yt.vacationDate,nextTermBegins:yt.nextTermBegins,termTransitionProcessed:yt.termTransitionProcessed},heatmapData:At,comparativeData:De,gradeDistributionByClass:it,sparklines:Jt,lastUpdated:Date.now(),attendanceDate:An};localStorage.setItem(Is,JSON.stringify(Kt))}}catch(kt){console.error("Dashboard fetch error:",kt),L("Failed to load dashboard data. Please check your internet connection or database permissions.")}finally{Ee!=null&&Ee.background||P(!1)}}},[s,Ts]);Z.useEffect(()=>{if(!_n||!Is)return;const Ee=_n.schoolConfig;if(!Ee||!!!(lt.currentTerm||lt.academicYear||lt.schoolReopenDate))return;const dt=(Ee.currentTerm||"")!==(lt.currentTerm||"")||(Ee.academicYear||"")!==(lt.academicYear||""),kt=(Ee.schoolReopenDate||"")!==(lt.schoolReopenDate||"");(dt||kt)&&(localStorage.removeItem(Is),O([]),G([]),ge([]),X([]),re([]),cs({background:!0}).catch(An=>console.error("Error refreshing after term reset",An)))},[_n,Is,lt.currentTerm,lt.academicYear,lt.schoolReopenDate,cs]);const or=async Ee=>{if(!(!s||!(n!=null&&n.id)))try{await ot.approveTeacherAttendance(s,Ee.id,n.id),Pt(`Approved attendance for ${Ee.teacherName}.`,{type:"success"}),G(at=>at.filter(dt=>dt.id!==Ee.id)),O(at=>[...at,{...Ee,approvalStatus:"approved",approvedBy:n.id}])}catch(at){console.error("Failed to approve attendance",at),Pt("Failed to approve attendance.",{type:"error"})}},ur=async Ee=>{if(!(!s||!(n!=null&&n.id)))try{await ot.rejectTeacherAttendance(s,Ee.id,n.id),Pt(`Rejected attendance for ${Ee.teacherName}.`,{type:"success"}),G(at=>at.filter(dt=>dt.id!==Ee.id))}catch(at){console.error("Failed to reject attendance",at),Pt("Failed to reject attendance.",{type:"error"})}},Ur=Z.useCallback(async()=>{s&&(S(!0),await Promise.all([ln({background:!0}),cs({background:!0})]),S(!1))},[ln,cs,s]),js=async()=>{try{if(!s)return;const Ee=await ot.getDashboardStats(s),at=(Ee.classAttendance||[]).map(kt=>kt.percentage||0),dt=at.length>0?Math.round(at.reduce((kt,An)=>kt+An,0)/at.length):0;o(kt=>({...kt,students:Ee.studentsCount,teachers:Ee.teachersCount,classes:In.length,maleStudents:Ee.gender.male,femaleStudents:Ee.gender.female,classAttendance:Ee.classAttendance})),Ts&&localStorage.setItem(Ts,JSON.stringify({students:Ee.studentsCount,teachers:Ee.teachersCount,classes:In.length,maleStudents:Ee.gender.male,femaleStudents:Ee.gender.female,classAttendance:Ee.classAttendance,updatedAt:Date.now()})),J(new Date),I(!0),gr(Ne,Ee.studentsCount,600),gr(Se,dt,600);try{const An=(await ot.getAllAssessments(s)).slice(-300),Ot={};An.forEach(yt=>{Ot[yt.studentId]||(Ot[yt.studentId]={total:0,count:0});const Tn=yt.total??_A(yt);Ot[yt.studentId].total+=Tn,Ot[yt.studentId].count+=1});const Vn=Object.values(Ot).map(yt=>yt.count>0?yt.total/yt.count:0),pn=Vn.length>0?Math.round(Vn.reduce((yt,Tn)=>yt+Tn,0)/Vn.length):0;gr(Qe,pn,600)}catch(kt){console.error("Failed to compute grade avg",kt)}ei().catch(kt=>console.error(kt)),Hs().catch(kt=>console.error("Failed to compute visuals",kt))}catch(Ee){console.error("Failed to fetch live stats",Ee)}},Hs=async()=>{try{if(!s)return;const Ee=await ot.getAllAssessments(s),at=await ot.getStudents(s),dt={},kt={},An={},Ot={},Vn=new Map(at.map(qn=>[qn.id,qn.classId]));Ee.forEach(qn=>{const fs=qn.classId||Vn.get(qn.studentId)||"unknown",dr=qn.subject||"General",Ns=qn.total??_A(qn);dt[fs]||(dt[fs]={}),dt[fs][dr]||(dt[fs][dr]={total:0,count:0}),dt[fs][dr].total+=Ns,dt[fs][dr].count+=1,kt[fs]||(kt[fs]={total:0,count:0}),kt[fs].total+=Ns,kt[fs].count+=1;const Aa=Ns,Xr=Aa>=80?"A":Aa>=65?"B":Aa>=50?"C":Aa>=35?"D":"F";An[fs]||(An[fs]={A:0,B:0,C:0,D:0,F:0}),An[fs][Xr]=(An[fs][Xr]||0)+1;const Ls=qn.date?new Date(qn.date).getTime():qn.createdAt?new Date(qn.createdAt).getTime():Date.now();Ot[fs]||(Ot[fs]=[]),Ot[fs].push({date:Ls,avg:Ns})});const pn={};Object.entries(dt).forEach(([qn,fs])=>{pn[qn]={},Object.entries(fs).forEach(([dr,Ns])=>{pn[qn][dr]=Math.round(Ns.total/Math.max(1,Ns.count))})});const yt=Object.entries(kt).map(([qn,fs])=>{var dr;return{className:((dr=In.find(Ns=>Ns.id===qn))==null?void 0:dr.name)||qn,avg:Math.round(fs.total/Math.max(1,fs.count))}}).sort((qn,fs)=>fs.avg-qn.avg),Tn={};Object.entries(Ot).forEach(([qn,fs])=>{const dr=fs.sort((Ls,_a)=>Ls.date-_a.date),Ns=8,Aa=Math.max(1,Math.ceil(dr.length/Ns)),Xr=[];for(let Ls=0;Ls<dr.length;Ls+=Aa){const _a=dr.slice(Ls,Ls+Aa),hi=Math.round(_a.reduce((Uo,fo)=>Uo+fo.avg,0)/_a.length);Xr.push(hi)}for(;Xr.length<Ns;)Xr.unshift(Xr[0]??0);Tn[qn]=Xr.slice(-Ns)}),Lt(pn),ft(yt),Et(An),vt(Tn)}catch(Ee){console.error("Error fetching visualizations",Ee)}},gr=(Ee,at,dt=500)=>{const kt=Date.now(),An=0,Ot=()=>{const Vn=Math.min(1,(Date.now()-kt)/dt),pn=Math.round(An+(at-An)*Vn);Ee(pn),Vn<1&&requestAnimationFrame(Ot)};requestAnimationFrame(Ot)},ia=async(Ee,at)=>{const dt=[];for(const kt of In)try{if(!s)return null;const Ot=(await ot.getClassAttendance(s,kt.id)).filter(pn=>{const yt=pn.date.split("-");if(yt.length!==3)return!1;const Tn=new Date(parseInt(yt[0]),parseInt(yt[1])-1,parseInt(yt[2]));return Tn>=Ee&&Tn<=at&&!pn.isHoliday}),Vn=(await ot.getStudents(s,kt.id)).length||0;if(Ot.length>0&&Vn>0){const pn=Ot.length*Vn,yt=Ot.reduce((Tn,qn)=>{var fs;return Tn+(((fs=qn.presentStudentIds)==null?void 0:fs.length)||0)},0);dt.push(Math.round(yt/pn*100))}}catch(An){console.error("Error computing class attendance for",kt.id,An)}return dt.length===0?null:Math.round(dt.reduce((kt,An)=>kt+An,0)/dt.length)},ei=async()=>{const Ee=Ke||new Date,{monday:at}=tr(Ee),dt=at,kt=new Date(at);kt.setDate(at.getDate()+4);const An=new Date(at);An.setDate(at.getDate()-7);const Ot=new Date(An);Ot.setDate(An.getDate()+4);const Vn=await ia(dt,kt),pn=await ia(An,Ot);Pe(Vn),nt(pn)};Z.useEffect(()=>{if(!(t||!s)){if(g(!1),Ts){const Ee=localStorage.getItem(Ts);if(Ee)try{const at=JSON.parse(Ee);o(dt=>({...dt,students:at.students??dt.students,teachers:at.teachers??dt.teachers,classes:at.classes??dt.classes,maleStudents:at.maleStudents??dt.maleStudents,femaleStudents:at.femaleStudents??dt.femaleStudents,classAttendance:at.classAttendance??dt.classAttendance})),m(at)}catch(at){console.warn("Failed to parse cached dashboard summary",at),localStorage.removeItem(Ts)}}ln().catch(Ee=>console.error(Ee)),_n?cs({background:!0}).catch(Ee=>console.error(Ee)):cs().catch(Ee=>console.error(Ee))}},[t,s,ln,cs,Ts,_n]),Z.useEffect(()=>{if(!s)return;const Ee=Jn(kn(Bt,"attendance"),nn("schoolId","==",s)),at=Jn(kn(Bt,"assessments"),nn("schoolId","==",s)),dt=Jn(kn(Bt,"teacher_attendance"),nn("schoolId","==",s)),kt=Pn(Bt,"settings",s),An=Id(Ee,()=>{js().catch(yt=>console.error("Error refreshing stats on attendance change",yt))}),Ot=Id(at,()=>{js().catch(yt=>console.error("Error refreshing stats on assessments change",yt))}),Vn=Id(dt,()=>{js().catch(yt=>console.error("Error refreshing stats on teacher attendance change",yt)),cs({background:!0}).catch(yt=>console.error("Error refreshing attendance widgets",yt))}),pn=Id(kt,yt=>{if(yt.exists()){const Tn=yt.data();ht(qn=>({...qn,academicYear:Tn.academicYear||To,currentTerm:Tn.currentTerm||`Term ${zi}`,schoolReopenDate:Tn.schoolReopenDate||""}))}});return()=>{An(),Ot(),pn(),Vn()}},[s]),Z.useEffect(()=>{if(!me){ae.current&&(clearInterval(ae.current),ae.current=null);return}return js(),ae.current=window.setInterval(js,15e3),()=>{ae.current&&(clearInterval(ae.current),ae.current=null)}},[me]),Z.useEffect(()=>{if(!M)return;ce(Date.now());const Ee=window.setInterval(()=>ce(Date.now()),1e3);return()=>clearInterval(Ee)},[M]),Z.useEffect(()=>{if(lt.schoolReopenDate){const Ee=lt.schoolReopenDate.split("-"),at=Ee.length===3?new Date(parseInt(Ee[0]),parseInt(Ee[1])-1,parseInt(Ee[2])):new Date(lt.schoolReopenDate);if(at>new Date){Nt(tr(at).monday);return}}Nt(tr(new Date).monday)},[lt.schoolReopenDate]),Z.useEffect(()=>{const Ee=()=>R(null);return U&&window.addEventListener("click",Ee),()=>window.removeEventListener("click",Ee)},[U]);const Si=(Ee,at)=>{Ee.stopPropagation(),R(U===at?null:at)},Ss=async Ee=>{R(null),Ft(Ee),dn(null);try{const at=await ot.getStudentPerformance(s,Ee.id,Ee.classId);dn(at)}catch(at){console.error(at)}},Nr=Ee=>{R(null),Hn(Ee),hs({...Ee})},ga=async Ee=>{if(Ee.preventDefault(),!(!Wn||!Qt.name))try{const at={...Wn,...Qt};await ot.updateStudent(at),Ur(),Hn(null)}catch{Pt("Failed to update student",{type:"error"})}},br=async Ee=>{zt(null);try{if(!s)return;const dt=(await ot.getStudents(s)).find(kt=>kt.id===Ee);dt?Ss(dt):Pt("Student not found",{type:"error"})}catch(at){console.error(at),Pt("Failed to fetch student",{type:"error"})}},tr=Ee=>{const at=new Date(Ee),dt=at.getDay(),kt=new Date(at);kt.setDate(at.getDate()-(dt===0?6:dt-1));const An=new Date(kt);return An.setDate(kt.getDate()+4),{monday:kt,friday:An}},oa=()=>{if(Ke===null)return;const Ee=new Date(Ke);if(Ee.setDate(Ee.getDate()-7),lt.schoolReopenDate){const at=lt.schoolReopenDate.split("-"),dt=at.length===3?new Date(parseInt(at[0]),parseInt(at[1])-1,parseInt(at[2])):new Date(lt.schoolReopenDate),kt=tr(dt).monday;if(Ee<kt){Pt("Cannot view weeks before school re-opens",{type:"info"});return}}Nt(Ee)},Ga=()=>{if(Ke===null)return;const Ee=new Date(Ke);Ee.setDate(Ee.getDate()+7),Nt(Ee)},Gs=()=>{if(lt.schoolReopenDate){const Ee=lt.schoolReopenDate.split("-"),at=Ee.length===3?new Date(parseInt(Ee[0]),parseInt(Ee[1])-1,parseInt(Ee[2])):new Date(lt.schoolReopenDate);if(at>new Date){Nt(tr(at).monday);return}}Nt(tr(new Date).monday)},Ia=({title:Ee,value:at,subtext:dt,icon:kt,colorClass:An,iconColorClass:Ot})=>i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between relative overflow-hidden group hover:shadow-md transition-shadow min-h-[140px]",children:[i.jsx("div",{className:"flex justify-between items-start z-10",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:Ee}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:at}),dt&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:dt})]})}),i.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-10 pointer-events-none transform group-hover:scale-110 transition-transform ${Ot}`,children:i.jsx(kt,{size:100})})]}),Vr=({title:Ee,value:at,suffix:dt,delta:kt,deltaPositive:An})=>i.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:Ee}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-slate-800",children:at}),dt&&i.jsx("span",{className:"text-sm text-slate-500",children:dt})]})]}),i.jsx("div",{className:`text-sm font-semibold px-2 py-1 rounded ${An?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:kt??"--"})]})}),xa=()=>i.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Vr,{title:"Students Enrolled",value:ye,suffix:"total",delta:null,deltaPositive:!0}),i.jsx(Vr,{title:"Attendance Now",value:`${xe}%`,suffix:null,delta:Je!==null&&he!==null?`${Je-he}% vs last week`:"No comparison",deltaPositive:Je!==null&&he!==null?Je-he>=0:!0}),i.jsx(Vr,{title:"Avg Grade",value:`${Fe}%`,suffix:null,delta:null,deltaPositive:!0})]})}),Ni=()=>i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-2xl shadow-md border border-amber-200 flex flex-col justify-between min-h-[140px] overflow-hidden",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 min-w-0",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Students Enrolled"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-amber-900 mt-2",children:r.students}),i.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[r.classes," classes  ",r.teachers," teachers"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(hm,{className:"text-amber-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Female"}),i.jsx("div",{className:"text-lg font-bold text-[#0B4A82]",children:r.femaleStudents})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Male"}),i.jsx("div",{className:"text-lg font-bold text-amber-600",children:r.maleStudents})]})]}),i.jsx("div",{className:"hidden sm:flex items-end gap-2 flex-1 max-w-[55%] overflow-hidden",children:r.classAttendance.slice(0,8).map(Ee=>i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsx("div",{className:"w-full rounded-sm",title:`${Ee.className}: ${Ee.percentage}%`,style:{background:Ee.percentage>=80?"#16a34a":Ee.percentage<50?"#dc2626":"#f59e0b",height:`${Math.max(6,Math.round(Ee.percentage/2))}px`}}),i.jsx("div",{className:"text-[10px] text-slate-500 mt-1 truncate text-center",children:Ee.className.replace("Primary ","P").replace("Class ","P").replace("Nursery ","N")})]},Ee.id))})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",M?`${Math.floor((ie-M.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Responsive  Clean  Insightful"})]})]}),Gi=()=>{const Ee=r.teachers>0?Math.round(r.students/r.teachers):"";return i.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 p-6 rounded-2xl shadow-md border border-sky-200 flex flex-col justify-between min-h-[140px]",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-sky-700",children:"Teachers & Staff"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-sky-900 mt-2",children:r.teachers}),i.jsxs("p",{className:"text-sm text-sky-700 mt-1",children:["Teaching across ",r.classes," classes"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(vl,{className:"text-sky-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Avg Students / Teacher"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:Ee})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Classes"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:r.classes})]})]}),i.jsx("div",{className:"hidden sm:flex items-center gap-3",children:i.jsx(Na,{to:"/admin/teachers",className:"text-xs bg-white px-3 py-1 rounded-md font-medium text-sky-700 shadow-sm hover:underline",children:"Manage Staff"})})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",M?`${Math.floor((ie-M.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Professional  Accessible  Responsive"})]})]})},jl=()=>{const Ee=r.maleStudents+r.femaleStudents||1,at=Math.round(r.maleStudents/Ee*100),dt=Math.round(r.femaleStudents/Ee*100);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"font-bold text-slate-800 w-full mb-6",children:"Demographics"}),i.jsxs("div",{className:"relative w-48 h-48",children:[i.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-slate-50"}),i.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#1160A8 0% ${dt}%, #f59e0b ${dt}% 100%)`,mask:"radial-gradient(transparent 60%, black 61%)",WebkitMask:"radial-gradient(transparent 60%, black 61%)"}}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[i.jsx("span",{className:"text-3xl font-bold text-slate-800",children:r.students}),i.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Total"})]})]}),i.jsxs("div",{className:"flex w-full justify-between px-6 mt-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Female"}),i.jsxs("p",{className:"text-xl font-bold text-[#0B4A82]",children:[dt,"%"]}),i.jsx("p",{className:"text-lg font-bold text-[#1160A8] mt-1",children:r.femaleStudents})]}),i.jsx("div",{className:"w-px bg-slate-100"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Male"}),i.jsxs("p",{className:"text-xl font-bold text-amber-500",children:[at,"%"]}),i.jsx("p",{className:"text-lg font-bold text-amber-600 mt-1",children:r.maleStudents})]})]})]})},Bl=()=>{const Ee=Object.keys(Rt).reduce((Ot,Vn)=>Ot+Rt[Vn],0)||0,at={A:4,B:3,C:2,D:1,F:0},dt=Object.entries(Rt).reduce((Ot,[Vn,pn])=>{const yt=at[Vn]??0;return Ot+yt*pn},0),kt=Ee>0?dt/Ee:0,An=kt>=3.5?"A":kt>=2.5?"B":kt>=1.5?"C":kt>=.5?"D":"F";return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-2xl shadow-md border border-slate-100 overflow-x-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-xl",children:i.jsx(yx,{className:"w-6 h-6 text-[#0B4A82]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"Academic Performance Rate"}),i.jsx("p",{className:"text-xs text-slate-500",children:lt.currentTerm})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:ml-6 gap-4 sm:gap-6 sm:hidden",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:Ee})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:[An," ",i.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["(",kt.toFixed(2),")"]})]})]})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:Ee})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-500",children:[An," ",i.jsxs("span",{className:"text-sm text-slate-500",children:["(",kt.toFixed(2),")"]})]})]})]}),i.jsxs("button",{onClick:Ur,disabled:N,className:"flex items-center px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",title:"Refresh performance data",children:[i.jsx(hg,{size:14,className:`mr-1 ${N?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:Object.entries(Rt).map(([Ot,Vn])=>{const pn=Ee>0?Math.round(Vn/Ee*100):0;let yt="from-emerald-400 to-emerald-600";return Ot==="B"&&(yt="from-[#E6F0FA] to-[#1160A8]"),Ot==="C"&&(yt="from-amber-300 to-amber-500"),Ot==="D"&&(yt="from-orange-300 to-orange-500"),Ot==="F"&&(yt="from-red-400 to-red-600"),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 font-bold text-slate-700",children:Ot}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"relative h-4 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full bg-gradient-to-r ${yt} transition-all duration-1000`,style:{width:`${pn}%`},title:`${Vn} students  ${pn}%`})}),i.jsxs("div",{className:"mt-2 flex justify-between text-xs text-slate-500",children:[i.jsxs("span",{children:[Vn," ",Vn===1?"student":"students"]}),i.jsxs("span",{className:"font-semibold text-slate-700",children:[pn,"%"]})]})]}),i.jsx("div",{className:"ml-4",children:i.jsx("button",{onClick:()=>zt(Ot),className:"text-xs text-[#0B4A82] hover:underline font-medium",children:"View"})})]},Ot)})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-emerald-400 to-emerald-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"A  Excellent"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-[#E6F0FA] to-[#1160A8]","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"B  Very Good"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-amber-300 to-amber-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"C  Satisfactory"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-orange-300 to-orange-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"D  Needs Support"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-red-400 to-red-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"F  Intervention Required"})]})]}),Ee===0&&i.jsxs("div",{className:"text-center text-slate-400 py-4 text-sm",children:["No academic data available for ",lt.currentTerm,"."]}),i.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-[#E6F0FA] rounded-lg text-sm text-slate-700 border border-slate-100",children:[i.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"What this chart shows"}),i.jsx("div",{className:"text-sm",children:"Each bar represents the number of students who received that grade during the selected term. Percentages are calculated against the total number of graded students. Use the counts and percentages to identify strengths (high A/B) and areas for intervention (high D/F). Hover a bar to see the exact count."})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx($M,{className:"w-5 h-5 mr-2 text-amber-500"})," Top Performers"]}),i.jsx("div",{className:"space-y-4",children:Zt.length===0?i.jsx("p",{className:"text-sm text-slate-400 italic",children:"No data yet."}):Zt.map((Ot,Vn)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-2 last:border-0 last:pb-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${Vn===0?"bg-amber-500":"bg-slate-300"}`,children:Vn+1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Ot.name}),i.jsx("p",{className:"text-xs text-slate-400",children:Ot.class})]})]}),i.jsx("span",{className:"text-sm font-bold text-[#0B4A82]",children:Ot.avg})]},Vn))})]})]})},di=E||!b;return H?i.jsx(ir,{title:"Dashboard",children:i.jsxs("div",{className:"flex items-center justify-center h-96 flex-col p-8",children:[i.jsx(Jy,{size:48,className:"text-red-400 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Unable to load dashboard"}),i.jsx("p",{className:"text-slate-500 text-center max-w-md mb-6",children:H}),i.jsxs("button",{onClick:Ur,className:"flex items-center px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors",children:[i.jsx(hg,{size:16,className:"mr-2"})," Retry"]})]})}):i.jsxs(ir,{title:"Dashboard",children:[i.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome",n!=null&&n.fullName?`, ${n.fullName}`:""]}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Here is what's happening in your school today."}),i.jsx("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-2",children:N||Q?i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),"Refreshing data"]}):i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"}),"Data up to date"]})})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right mr-2 hidden sm:block",children:[i.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Academic Period"}),i.jsxs("p",{className:"text-sm font-bold text-[#0B4A82]",children:[lt.currentTerm,"  ",lt.academicYear]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Na,{to:"/admin/students",className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors shadow-sm text-sm font-medium",children:[i.jsx(l2,{size:16,className:"mr-2"}),"Add Student"]}),i.jsxs(Na,{to:"/admin/teachers",className:"flex items-center px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",children:[i.jsx(vl,{size:16,className:"mr-2"}),"Add Staff"]})]}),i.jsxs("div",{className:"ml-4 flex flex-col items-end text-right",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`w-3 h-3 rounded-full ${me?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":!0}),i.jsx("button",{onClick:()=>ee(Ee=>!Ee),className:"text-xs text-slate-600 hover:underline",title:"Toggle live metrics polling",children:me?"Live Metrics On":"Enable Live Metrics"})]}),i.jsx("div",{className:"text-xs text-slate-400 mt-1",children:M?`Updated ${Math.floor((ie-M.getTime())/1e3)}s ago`:"Not updated"})]})]})]}),Vt&&i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"rounded-2xl border border-sky-200 bg-gradient-to-r from-sky-50 via-white to-blue-50 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-[#0B4A82] text-white",children:i.jsx(ho,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-sky-700",children:"School Vacation"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Your school is currently on vacation"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["School will reopen on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:Vt.nextTermBegins.toLocaleDateString()}),"."]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-[#0B4A82] text-white",children:"Vacation mode"}),i.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[i.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Next term"}),i.jsx("div",{className:"text-sm font-bold",children:Vt.nextTermBegins.toLocaleDateString()})]})]})]})})}),Gt&&i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-[#0B4A82] text-white",children:i.jsx(ho,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Subscription Countdown"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Renewal due soon"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your subscription ends on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:Gt.planEndsAt.toLocaleDateString()}),". Renew before the end date to avoid interruption."]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-[#0B4A82] text-white",children:"Subscription ends"}),i.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-slate-50 border border-slate-200 text-slate-700",children:[i.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),i.jsxs("div",{className:"text-lg font-bold",children:[Gt.days,"d ",Gt.hours,"h"," ",Gt.minutes,"m"," ",Gt.seconds,"s"]})]}),i.jsxs(Na,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#1160A8] transition-colors",children:[i.jsx(fg,{size:16}),"Renew Now"]})]})]})})}),Yt&&i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-amber-500 text-white",children:i.jsx(QM,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Subscription Reminder"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"One-week grace period is active"}),i.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Your subscription has ended. You have a one-week window to renew before access is paused."}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Grace ends on"," ",Yt.graceEndsAt.toLocaleDateString(),"."]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white",children:"Grace period"}),i.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[i.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),i.jsxs("div",{className:"text-lg font-bold",children:[Yt.days,"d ",Yt.hours,"h"," ",Yt.minutes,"m ",Yt.seconds,"s"]})]}),i.jsxs(Na,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-colors",children:[i.jsx(fg,{size:16}),"Go to Billing"]})]})]})})}),le.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Jy,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Attendance Alerts"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[le.length," teacher",le.length!==1?"s":""," have missed attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:le.map(Ee=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:Ee.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:Ee.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:Ee.classes})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed:"," ",(()=>{const at=Ee.date.split("-");return at.length===3?`${at[1]}/${at[2]}/${at[0]}`:Ee.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Please follow up"})]})]})},`${Ee.teacherId}-${Ee.date}`))})]})}),W.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-indigo-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Jy,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Missed Student Attendance"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[W.length," teacher",W.length!==1?"s":""," have not marked student attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:W.map(Ee=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:Ee.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:Ee.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:Ee.className})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed for:"," ",(()=>{const at=Ee.date.split("-");return at.length===3?`${at[1]}/${at[2]}/${at[0]}`:Ee.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Action may be required"})]})]})},`${Ee.teacherId}-${Ee.date}`))})]})}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Overview"}),(E||N)&&i.jsx(xd,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[di?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[i.jsx(Qi,{className:"h-4 w-32"}),i.jsx(Qi,{className:"h-10 w-24 mt-4"}),i.jsx(Qi,{className:"h-4 w-40 mt-4"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsx(Qi,{className:"h-6 w-16"}),i.jsx(Qi,{className:"h-6 w-16"})]})]}):i.jsx(Ni,{}),di?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[i.jsx(Qi,{className:"h-4 w-32"}),i.jsx(Qi,{className:"h-10 w-24 mt-4"}),i.jsx(Qi,{className:"h-4 w-40 mt-4"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsx(Qi,{className:"h-6 w-16"}),i.jsx(Qi,{className:"h-6 w-16"})]})]}):i.jsx(Gi,{}),i.jsx(Ia,{title:"Notices",value:di?"":c.length,subtext:"Active Announcements",icon:Vp,colorClass:"bg-[#E6F0FA]",iconColorClass:"text-[#0B4A82]"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Live KPIs"}),(E||N)&&i.jsx(xd,{})]}),di?i.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((Ee,at)=>i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsx(Qi,{className:"h-4 w-24"}),i.jsx(Qi,{className:"h-8 w-20 mt-3"}),i.jsx(Qi,{className:"h-4 w-16 mt-2"})]},at))})}):i.jsx(xa,{})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Attendance & Demographics"}),(Q||N)&&i.jsx(xd,{})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsx("div",{className:"lg:col-span-2 h-[550px]",children:di?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full",children:[i.jsx(Qi,{className:"h-5 w-40"}),i.jsx(Qi,{className:"h-4 w-64 mt-3"}),i.jsx(Qi,{className:"h-64 mt-6"})]}):i.jsx(h7,{data:r.classAttendance,week:Ke,onPreviousWeek:oa,onNextWeek:Ga,onCurrentWeek:Gs,schoolReopenDate:lt.schoolReopenDate})}),i.jsx("div",{className:"h-96",children:di?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center",children:[i.jsx(Qi,{className:"h-5 w-32"}),i.jsx(Qi,{className:"h-44 w-44 rounded-full mx-auto mt-6"}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx(Qi,{className:"h-6 w-20"}),i.jsx(Qi,{className:"h-6 w-20"})]})]}):i.jsx(jl,{})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Academic Performance"}),(Q||N)&&i.jsx(xd,{})]}),i.jsx(Bl,{}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-visible",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"New Admissions"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Recently added students"})]}),(Q||N)&&i.jsx(xd,{}),i.jsx(Na,{to:"/admin/students",className:"text-sm text-[#0B4A82] hover:text-[#0B4A82] font-medium bg-[#E6F0FA] px-3 py-1 rounded-full transition-colors",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Student Name"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Class"}),i.jsx("th",{className:"px-6 py-3",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:u.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-6 text-center text-slate-400",children:"No students yet."})}):u.map((Ee,at)=>{var dt;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${Ee.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:Ee.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:Ee.name}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:Ee.gender})]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:(dt=In.find(kt=>kt.id===Ee.classId))==null?void 0:dt.name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"inline-flex items-center text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5"}),"Active"]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:kt=>Si(kt,Ee.id),className:`transition-colors p-1.5 rounded-full hover:bg-slate-200 ${U===Ee.id?"text-[#1160A8] bg-slate-100":"text-slate-400"}`,children:i.jsx(zk,{size:18})}),U===Ee.id&&i.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-xl border border-slate-100 z-50 py-1 text-left animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[i.jsxs("button",{onClick:()=>Ss(Ee),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(th,{size:14,className:"mr-2"})," View Details"]}),i.jsxs("button",{onClick:()=>Nr(Ee),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(o2,{size:14,className:"mr-2"})," Edit Student"]})]})]})})]},Ee.id)})})]})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-[#0B4A82] to-[#0B4A82] rounded-2xl shadow-lg border border-[#0B4A82] overflow-hidden flex flex-col text-white self-start",children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#E6F0FA]",children:"Notice Board"}),i.jsx("p",{className:"text-xs text-slate-300",children:"School announcements"})]}),(Q||N)&&i.jsx(xd,{label:"Refreshing"}),i.jsx(Na,{to:"/admin/settings",className:"p-2 rounded-lg hover:bg-white/10 text-slate-300 transition-colors",children:i.jsx(a2,{size:18})})]}),i.jsx("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto max-h-[400px]",children:c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:[i.jsx(ho,{size:40,className:"mb-2 opacity-20"}),i.jsx("p",{className:"text-sm",children:"No new notices"})]}):c.map((Ee,at)=>i.jsxs("div",{className:"group relative pl-4 pb-4 border-l border-slate-700 last:pb-0",children:[i.jsx("div",{className:`absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full border-2 border-slate-800 ${Ee.type==="urgent"?"bg-red-500":"bg-amber-500"}`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-900 px-1.5 py-0.5 rounded",children:Ee.date}),Ee.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider",children:"Urgent"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-200 group-hover:text-white transition-colors",children:Ee.message})]})]},Ee.id))}),i.jsx("div",{className:"p-4 bg-slate-900/50 text-center",children:i.jsxs(Na,{to:"/admin/timetable",className:"text-xs font-semibold text-amber-400 hover:text-amber-300 uppercase tracking-wide flex items-center justify-center w-full",children:["View Calendar ",i.jsx(LT,{size:12,className:"ml-1"})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 rounded-2xl shadow-lg border border-emerald-200 flex flex-col min-h-[260px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-emerald-200 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-emerald-900 text-base sm:text-lg",children:"Teacher Attendance Today"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-0.5",children:"Current day's staff presence overview"})]}),(Q||N)&&i.jsx(xd,{}),i.jsx("div",{className:"bg-emerald-100 p-1.5 sm:p-2 rounded-full",children:i.jsx(vl,{className:"text-emerald-600",size:16})})]}),i.jsxs("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:[V.length>0&&i.jsxs("div",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[i.jsxs("p",{className:"text-xs font-semibold text-amber-800",children:["Pending approvals (",V.length,")"]}),i.jsx("span",{className:"text-[10px] text-amber-700",children:"Approve to confirm attendance"})]}),i.jsx("div",{className:"space-y-2",children:V.map(Ee=>i.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md bg-white px-3 py-2 border border-amber-100",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-800 truncate",children:Ee.teacherName}),i.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Ee.teacherClasses||"No classes assigned"}),i.jsx("p",{className:"text-[10px] text-slate-400",children:Ee.date})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>or(Ee),className:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1 text-[10px] font-semibold text-white hover:bg-emerald-700",children:"Yes"}),i.jsx("button",{onClick:()=>ur(Ee),className:"inline-flex items-center gap-1 rounded-full bg-rose-600 px-3 py-1 text-[10px] font-semibold text-white hover:bg-rose-700",children:"No"})]})]},Ee.id))})]}),K.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-emerald-500",children:[i.jsx("div",{className:"bg-emerald-100 p-3 rounded-full mb-2",children:i.jsx(vl,{size:24,className:"text-emerald-400"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance marked yet today"}),i.jsx("p",{className:"text-[10px] text-emerald-400 mt-0.5",children:"Teachers will appear here once they mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[K.map(Ee=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-emerald-100 hover:shadow-md transition-all duration-200 hover:border-emerald-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex-shrink-0 ${Ee.isHoliday?"bg-amber-500":Ee.status==="present"?"bg-emerald-500":"bg-red-500"} shadow-sm`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Ee.teacherName}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Ee.isHoliday?"bg-amber-100 text-amber-700":Ee.status==="present"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:Ee.isHoliday?"Holiday":Ee.status==="present"?"Present":"Absent"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Ee.teacherClasses||"No classes assigned"}),i.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:Ee.date})]})]}),i.jsx("div",{className:"ml-2 flex-shrink-0",children:i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${Ee.isHoliday?"bg-amber-100 text-amber-600":Ee.status==="present"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:Ee.isHoliday?i.jsx(Ki,{className:"w-3 h-3"}):Ee.status==="present"?i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},Ee.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-emerald-100",children:i.jsxs("p",{className:"text-[10px] text-emerald-600 font-medium",children:[K.length," teacher",K.length!==1?"s":""," marked attendance today"]})})]})]})]}),lt.schoolReopenDate!==new Date().toISOString().split("T")[0]&&i.jsxs("div",{className:"bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-white rounded-2xl shadow-lg border border-[#E6F0FA] flex flex-col min-h-[280px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-[#E6F0FA] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#0B4A82] text-base sm:text-lg",children:"Teacher Attendance Summary"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-[#1160A8] mt-0.5",children:"Term-wide staff attendance statistics"})]}),(Q||N)&&i.jsx(xd,{}),i.jsx("div",{className:"bg-[#E6F0FA] p-1.5 sm:p-2 rounded-full",children:i.jsx(yx,{className:"text-[#0B4A82]",size:16})})]}),i.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:oe.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-[#0B4A82]",children:[i.jsx("div",{className:"bg-[#E6F0FA] p-3 rounded-full mb-2",children:i.jsx(yx,{size:24,className:"text-[#1160A8]"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance data available"}),i.jsx("p",{className:"text-[10px] text-[#1160A8] mt-0.5",children:"Term statistics will appear as teachers mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[oe.map(Ee=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-[#E6F0FA] hover:shadow-md transition-all duration-200 hover:border-[#E6F0FA]",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-9 h-9 bg-[#E6F0FA] rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-[10px] font-bold text-[#0B4A82]",children:[Ee.attendanceRate,"%"]})}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-white rounded-full flex items-center justify-center",children:i.jsx("div",{className:`w-2 h-2 rounded-full ${Ee.attendanceRate>=80?"bg-emerald-500":Ee.attendanceRate>=70?"bg-amber-500":"bg-red-500"}`})})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Ee.name}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Ee.attendanceRate>=80?"bg-emerald-100 text-emerald-700":Ee.attendanceRate>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:Ee.attendanceRate>=80?"Excellent":Ee.attendanceRate>=70?"Good":"Needs Attention"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Ee.classes||"No classes assigned"}),i.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:[Ee.presentDays," present / ",Ee.totalDays," ","total days"]})]})]})})},Ee.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-[#E6F0FA]",children:i.jsxs("p",{className:"text-[10px] text-[#0B4A82] font-medium",children:["Average attendance:"," ",oe.length>0?Math.round(oe.reduce((Ee,at)=>Ee+at.attendanceRate,0)/oe.length):0,"%"]})})]})})]})]})]}),st&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center text-2xl font-bold text-slate-500 shadow-inner",children:st.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:st.name}),i.jsxs("div",{className:"flex gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(HT,{size:14,className:"mr-1"})," ",st.gender]}),i.jsx("span",{children:""}),i.jsx("span",{children:(la=In.find(Ee=>Ee.id===st.classId))==null?void 0:la.name})]})]})]}),i.jsx("button",{onClick:()=>Ft(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-5 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 rounded-full text-amber-600",children:i.jsx(ho,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-amber-900",children:"Attendance Overview"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Current Term Participation"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-3xl font-bold text-amber-600",children:Wt?`${Wt.attendance.percentage}%`:"..."}),i.jsx("p",{className:"text-xs text-amber-700 font-medium mt-1",children:Wt?`${Wt.attendance.present}/${Wt.attendance.total} Days`:"Loading"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(zl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance (",lt.currentTerm,")"]}),i.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:Wt?Wt.grades.map((Ee,at)=>{const dt=Ee.total??_A(Ee),{grade:kt,remark:An}=fm(dt);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:Ee.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:dt>0?dt:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Pg(kt)}`,children:dt>0?kt:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:dt>0?An:"N/A"})]},at)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center text-slate-400 italic",children:"Fetching academic records..."})})})]})})]})]})]})}),Wn&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Student Details"}),i.jsx("button",{onClick:()=>Hn(null),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("form",{onSubmit:ga,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none transition-all placeholder-slate-400",value:Qt.name||"",onChange:Ee=>hs({...Qt,name:Ee.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Qt.gender,onChange:Ee=>hs({...Qt,gender:Ee.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none",value:Qt.dob||"",onChange:Ee=>hs({...Qt,dob:Ee.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Qt.classId,onChange:Ee=>hs({...Qt,classId:Ee.target.value}),children:In.map(Ee=>i.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Qt.guardianName||"",onChange:Ee=>hs({...Qt,guardianName:Ee.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Qt.guardianPhone||"",onChange:Ee=>hs({...Qt,guardianPhone:Ee.target.value})})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>Hn(null),className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",className:"flex items-center px-5 py-2.5 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] font-medium shadow-sm transition-colors",children:[i.jsx(AA,{size:18,className:"mr-2"})," Save Changes"]})]})]})]})}),Ht&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Students with grade ",Ht]}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(an[Ht]||[]).length," students"]})]}),i.jsx("button",{onClick:()=>zt(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(Io,{size:20})})]}),i.jsx("div",{className:"p-6 space-y-4",children:!an[Ht]||an[Ht].length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No students in this grade for the selected term."}):i.jsx("div",{className:"space-y-3",children:an[Ht].map((Ee,at)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:pb-0",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:Ee.name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[Ee.class,"  Avg: ",Ee.avg]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("button",{onClick:()=>br(Ee.id),className:"text-xs text-[#0B4A82] hover:underline",children:"View"})})]},Ee.id))})})]})})]})},p7=()=>{var M,J,ae,ie,ce,ye,Ne;const{school:n}=dc(),e=(n==null?void 0:n.id)||null,[t,s]=Z.useState([]),[r,o]=Z.useState("all"),[c,h]=Z.useState(!1),[u,f]=Z.useState(null),[A,m]=Z.useState({gender:"Male",classId:"c_p1",dob:""}),[x,g]=Z.useState(null),[b,I]=Z.useState(null),[N,S]=Z.useState(null),[E,F]=Z.useState(!1),Q=async()=>{if(!e){s([]);return}const xe=await ot.getStudents(e,void 0);if(s(xe),e){const Se=xe.filter(Fe=>!Fe.schoolId);Se.length>0&&await Promise.all(Se.map(Fe=>ot.updateStudent({...Fe,schoolId:e})))}};Z.useEffect(()=>{Q()},[e]);const P=async xe=>{I(null),g(xe);const Se=await ot.getStudentPerformance(e||"",xe.id,xe.classId);I(Se)},H=()=>{g(null),I(null)},L=t.filter(xe=>r==="all"?!0:xe.classId===r).sort((xe,Se)=>xe.name.localeCompare(Se.name)),U=r==="all"?"All Classes":((M=In.find(xe=>xe.id===r))==null?void 0:M.name)||r,R=t.length,K=L.length,O=(J=b==null?void 0:b.attendance)==null?void 0:J.total,V=(ae=b==null?void 0:b.attendance)==null?void 0:ae.present,G=O!=null&&V!=null?Math.max(O-V,0):null;(ie=b==null?void 0:b.attendance)==null||ie.percentage;const oe=((ce=b==null?void 0:b.grades)==null?void 0:ce.length)??0,ge=()=>{I(null),m({gender:"Male",classId:r!=="all"?r:"c_p1",dob:""}),f(null),h(!0)},le=async xe=>{m(xe),f(xe.id),h(!0),I(null);const Se=await ot.getStudentPerformance(e||"",xe.id,xe.classId);I(Se)},X=()=>{h(!1),m({gender:"Male",classId:"c_p1",dob:""}),f(null),I(null)},W=(xe,Se)=>{Se.stopPropagation(),S(xe)},re=async()=>{if(!N)return;const xe=N;S(null);const Se=[...t];s(Fe=>Fe.filter(Qe=>Qe.id!==xe));try{await ot.deleteStudent(xe)}catch(Fe){console.error("Delete failed",Fe),s(Se),Pt("Failed to delete student. Please try again.",{type:"error"})}},me=async xe=>{if(xe.preventDefault(),!(!A.name||!A.classId)){F(!0);try{if(u){const Se={...A,id:u,schoolId:e||A.schoolId};await ot.updateStudent(Se),Pt("Student updated successfully.",{type:"success"})}else{const Se={id:Math.random().toString(36).substr(2,9),name:A.name,gender:A.gender,dob:A.dob||"2015-01-01",classId:A.classId,schoolId:e||"",guardianName:A.guardianName||"",guardianPhone:A.guardianPhone||""};await ot.addStudent(Se),Pt("Student added successfully.",{type:"success"})}await Q(),X()}catch(Se){console.error("Save failed",Se),Pt("Failed to save student. Please try again.",{type:"error"})}finally{F(!1)}}},ee=()=>{if(!b||!b.attendance||!b.attendance.schoolDates)return null;const{schoolDates:xe,presentDates:Se}=b.attendance;if(xe.length===0)return i.jsx("div",{className:"text-center text-slate-400 py-4 italic",children:"No attendance records found for this term."});const Fe=nt=>(typeof nt=="string"?new Date(nt):nt).toISOString().split("T")[0],Qe=new Set(xe.map(nt=>Fe(nt))),Je=new Set(Se.map(nt=>Fe(nt))),Pe={};xe.forEach(nt=>{const lt=new Date(nt),ht=`${lt.getFullYear()}-${lt.getMonth()}`;Pe[ht]||(Pe[ht]={label:lt.toLocaleString("default",{month:"long",year:"numeric"}),year:lt.getFullYear(),month:lt.getMonth()})});const he=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(Pe).map(([nt,lt])=>{const{year:ht,month:Ke,label:Nt}=lt,Rt=new Date(ht,Ke,1).getDay(),qt=new Date(ht,Ke+1,0).getDate(),Zt=Math.ceil((Rt+qt)/7)*7;return i.jsxs("div",{className:"relative overflow-hidden border border-slate-200 rounded-2xl p-4 bg-white shadow-sm",children:[i.jsx("div",{className:"absolute -top-10 -right-10 h-24 w-24 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-12 -left-10 h-28 w-28 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between mb-3 border-b border-slate-100 pb-2",children:[i.jsx("h5",{className:"font-semibold text-slate-800 text-sm",children:Nt}),i.jsx("span",{className:"text-[11px] text-slate-400",children:"Attendance"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[he.map((sn,an)=>i.jsx("div",{className:"text-[10px] text-slate-400 font-semibold uppercase",children:sn},an)),Array.from({length:Zt}).map((sn,an)=>{const Xe=an-Rt+1;if(Xe<1||Xe>qt)return i.jsx("div",{className:"h-8"},an);const Ht=new Date(ht,Ke,Xe),zt=Fe(Ht),Vt=Qe.has(zt),xt=Je.has(zt),Dt=Ht.getDay()===0||Ht.getDay()===6,Dn="h-8 w-8 mx-auto flex items-center justify-center rounded-full text-xs font-semibold transition",Gt=Dt?"text-slate-300 bg-slate-50":"text-slate-600";return Vt?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("div",{title:`${zt}: ${xt?"Present":"Absent"}`,className:`${Dn} ${Gt} ${xt?"bg-emerald-100 text-emerald-800 shadow-sm":"bg-sky-100 text-sky-800 shadow-sm"}`,children:Xe})},an):i.jsx("div",{className:"h-8 flex items-center justify-center text-[11px] text-slate-200"},an)})]}),i.jsxs("div",{className:"mt-3 flex justify-center gap-4 text-[11px] text-slate-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-100 rounded-full border border-emerald-200"})," ","Present"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-sky-100 rounded-full border border-sky-200"})," ","Absent"]})]})]},nt)})})};return i.jsxs(ir,{title:"Manage Students",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Manage Students"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Organize, update, and review student profiles in a beautiful workspace."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(vl,{className:"h-4 w-4 text-indigo-500"}),"Total: ",R]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(DA,{className:"h-4 w-4"}),"Showing: ",K]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(zl,{className:"h-4 w-4"}),U]})]})]})]}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm focus:ring-2 focus:ring-emerald-200",value:r,onChange:xe=>o(xe.target.value),children:[i.jsx("option",{value:"all",children:"All Classes"}),In.map(xe=>i.jsx("option",{value:xe.id,children:xe.name},xe.id))]})}),i.jsxs("button",{onClick:ge,className:"flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2 text-sm font-semibold shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700",children:[i.jsx(Gh,{size:16}),"Add Student"]})]}),i.jsx("div",{className:"p-4",children:L.length===0?i.jsx("div",{className:"px-6 py-10 text-center text-slate-400",children:"No students found."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:L.map(xe=>{var Fe;const Se=((Fe=In.find(Qe=>Qe.id===xe.classId))==null?void 0:Fe.name)||xe.classId;return i.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition duration-300 hover:-translate-y-1 hover:shadow-md",children:[i.jsx("div",{className:"absolute -top-14 -right-14 h-28 w-28 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-16 -left-10 h-32 w-32 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-11 w-11 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-semibold",children:xe.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:xe.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",xe.id]})]})]}),i.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:Se})]}),i.jsxs("div",{className:"relative mt-4 grid grid-cols-2 gap-3 text-xs text-slate-600",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Gender"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:xe.gender})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Guardian"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:xe.guardianName||"-"}),i.jsx("p",{className:"text-[11px] text-slate-400",children:xe.guardianPhone||""})]})]}),i.jsxs("div",{className:"relative mt-4 flex items-center justify-between",children:[i.jsxs("button",{type:"button",onClick:()=>P(xe),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100",title:"View Performance",children:[i.jsx(th,{size:14}),"View"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>le(xe),className:"text-[#1160A8] hover:text-[#0B4A82] p-2 hover:bg-[#E6F0FA] rounded-full transition-colors",title:"Edit Details",children:i.jsx(o2,{size:16})}),i.jsx("button",{type:"button",onClick:Qe=>W(xe.id,Qe),className:"text-rose-500 hover:text-rose-700 p-2 hover:bg-rose-50 rounded-full transition-colors cursor-pointer",title:"Delete Student",children:i.jsx(RA,{size:16,className:"pointer-events-none"})})]})]})]},xe.id)})})})]})]}),N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-2xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Ki,{className:"text-rose-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Student?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this student? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>S(null),className:"flex-1 px-4 py-2 border border-slate-200 text-slate-700 rounded-full hover:bg-slate-50 font-medium transition",children:"Cancel"}),i.jsx("button",{onClick:re,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-full hover:bg-rose-700 font-medium transition shadow-sm",children:"Delete"})]})]})})}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"mb-6 border-b border-slate-100 pb-3",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:u?"Edit Student Details":"Add New Student"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Keep student records accurate and up to date."})]}),u&&i.jsxs("div",{className:"mb-6 bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Attendance Summary"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Current Term Performance"})]}),i.jsx("div",{className:"text-right",children:b?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[b.attendance.percentage,"%"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[b.attendance.present,"/",b.attendance.total," Days"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"Loading data..."})})]}),i.jsxs("form",{onSubmit:me,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all placeholder-slate-400",value:A.name||"",onChange:xe=>m({...A,name:xe.target.value}),placeholder:"e.g. Kwame Nkrumah Jnr"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.gender,onChange:xe=>m({...A,gender:xe.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:A.dob||"",onChange:xe=>m({...A,dob:xe.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.classId,onChange:xe=>m({...A,classId:xe.target.value}),children:In.map(xe=>i.jsx("option",{value:xe.id,children:xe.name},xe.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianName||"",onChange:xe=>m({...A,guardianName:xe.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianPhone||"",onChange:xe=>m({...A,guardianPhone:xe.target.value}),placeholder:"e.g. 024 123 4567"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:X,className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:E,className:`px-5 py-2.5 bg-emerald-600 text-white rounded-lg font-medium shadow-sm transition-colors ${E?"opacity-60 cursor-not-allowed hover:bg-emerald-600":"hover:bg-emerald-700"}`,children:E?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u?"Updating...":"Saving..."]}):u?"Update Student":"Save Student"})]})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col gap-4 bg-gradient-to-r from-slate-50 via-white to-emerald-50 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-700 rounded-2xl flex items-center justify-center text-2xl font-bold shadow-sm",children:x.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:x.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(HT,{size:14}),x.gender]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(zl,{size:14}),(ye=In.find(xe=>xe.id===x.classId))==null?void 0:ye.name]})]})]})]}),i.jsx("button",{onClick:H,className:"text-slate-400 hover:text-slate-700 bg-white p-2 rounded-full shadow-sm",children:i.jsx(Io,{size:24})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Attendance Rate"}),i.jsx("p",{className:`mt-1 text-2xl font-bold ${((Ne=b==null?void 0:b.attendance)==null?void 0:Ne.percentage)<50?"text-rose-600":"text-emerald-600"}`,children:b?`${b.attendance.percentage}%`:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Days Present"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.present:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total School Days"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.total:"-"})]})]})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:i.jsx(ho,{size:20})}),i.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Attendance Record"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-300 rounded-full"}),"Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 font-semibold text-sky-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-sky-300 rounded-full"}),"Absent"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total Days"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-slate-900",children:O??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-emerald-500",children:"Days Present"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-emerald-700",children:V??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-sky-100 bg-sky-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-sky-500",children:"Days Absent"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-sky-700",children:G??"-"})]})]}),i.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm",children:ee()})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(zl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:["Subjects: ",oe]})]}),i.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden bg-white",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:b?b.grades.map((xe,Se)=>{const Fe=xe.total||(xe.testScore||0)+(xe.homeworkScore||0)+(xe.projectScore||0)+(xe.examScore||0),{grade:Qe,remark:Je}=fm(Fe);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:xe.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:Fe>0?Fe:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Pg(Qe)}`,children:Fe>0?Qe:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Fe>0?Je:"N/A"})]},Se)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Loading grades..."})})})]})}),i.jsx("div",{className:"mt-3 flex items-center justify-end text-xs text-slate-400",children:"Updated via system records"})]})]}),i.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center",children:i.jsx("p",{className:"text-xs text-slate-400",children:"Generated automatically by School Manager GH System"})})]})})]})};async function g7(){const n=bu.currentUser;if(!n)throw new Error("NO_SESSION");try{return await n.getIdToken(!0)}catch(e){throw console.error("Error refreshing ID token:",e),new Error("TOKEN_REFRESH_FAILED")}}async function x7(n=2,e=400){let t=0;for(;t<=n;)try{return await g7()}catch(s){if(((s==null?void 0:s.message)==="NO_SESSION"||(s==null?void 0:s.message)==="TOKEN_REFRESH_FAILED")&&t<n){await new Promise(r=>setTimeout(r,e)),t+=1;continue}throw s}throw new Error("TOKEN_REFRESH_FAILED")}const v7="http://localhost:3001".replace(/\/$/,"")||"https://school-manager-hehk.onrender.com",Z5=v7;class Bp extends Error{constructor(e,t,s){super(e),this.code=t,this.status=s,this.name="ApiError"}}async function Nm(n,e={}){let t=0;const s=1;for(;t<=s;)try{const r=await x7(),o=await fetch(`${Z5}${n}`,{method:e.method||"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:e.body?JSON.stringify(e.body):void 0});if(!o.ok){const c=await o.json().catch(()=>({})),h=o.status===403&&(c.code==="INVALID_TOKEN"||/invalid token/i.test(c.error||"")||/invalid token/i.test(c.message||""));if(o.status===401&&c.code==="ID_TOKEN_EXPIRED"||h){if(t<s){console.log("ID token expired, retrying request..."),t++;continue}throw new Bp("Your session has expired. Please log out and log in again.","SESSION_EXPIRED",o.status)}throw new Bp(c.error||`HTTP ${o.status} ${o.statusText}`,c.code,o.status)}return await o.json()}catch(r){throw r.message==="NO_SESSION"?new Bp("You are not logged in. Please log in to continue.","NO_SESSION"):r.message==="TOKEN_REFRESH_FAILED"?new Bp("Your session has expired. Please log out and log in again.","SESSION_EXPIRED"):r.name==="TypeError"&&r.message==="Failed to fetch"?new Bp(`Cannot connect to the backend at ${Z5}. Please ensure the server is running.`,"CONNECTION_FAILED"):r}throw new Error("API request failed after all retries.")}async function y7(n){return Nm("/api/superadmin/create-school",{body:n})}async function b7(n){return Nm("/api/superadmin/create-school-admin",{body:n})}async function w7(n){return Nm("/api/superadmin/reset-school-admin-password",{body:n})}async function j7(n){return Nm("/api/createTeacher",{body:n})}async function B7(n){return Nm("/api/billing/initiate",{body:n})}async function eC(n){return Nm("/api/billing/verify",{body:n})}Qg(Og,"createSchool");Qg(Og,"createSchoolAdmin");const C7=Qg(Og,"deleteSchool");Qg(Og,"createTeacherAccount");const S7=Qg(Og,"repairUserSchoolId"),N7=()=>{const{school:n}=dc(),e=(n==null?void 0:n.id)||"",[t,s]=Z.useState([]),[r,o]=Z.useState(!1),[c,h]=Z.useState(!1),[u,f]=Z.useState(!1),[A,m]=Z.useState(null),[x,g]=Z.useState(null),[b,I]=Z.useState(null),[N,S]=Z.useState(!1),[E,F]=Z.useState(!1),[Q,P]=Z.useState(!1),[H,L]=Z.useState(null),[U,R]=Z.useState([]),[K,O]=Z.useState(!1),[V,G]=Z.useState({role:ps.TEACHER,assignedClassIds:[]}),[oe,ge]=Z.useState(null),le=async()=>{if(!e){s([]);return}const ye=(await ot.getUsers(e)).filter(Ne=>Ne.role===ps.TEACHER);s(ye)};Z.useEffect(()=>{le()},[e]);const X=(ce,ye)=>{navigator.clipboard.writeText(ce),g(ye),setTimeout(()=>g(null),2e3)},W=ce=>{G(ye=>{const Ne=ye.assignedClassIds||[];return Ne.includes(ce)?{...ye,assignedClassIds:Ne.filter(xe=>xe!==ce)}:{...ye,assignedClassIds:[...Ne,ce]}})},re=async ce=>{if(ce.preventDefault(),!e){Pt("School ID is not available. Please refresh and try again.",{type:"error"});return}if(!V.fullName||!V.email){Pt("Please fill in all fields (full name and email).",{type:"error"});return}h(!0);try{await j7({fullName:V.fullName,email:V.email,password:V.password||void 0,assignedClassIds:V.assignedClassIds||[],schoolId:e}),m({tempPassword:V.password||void 0,email:V.email,fullName:V.fullName,adminProvidedPassword:!!V.password}),f(!0),o(!1),G({role:ps.TEACHER,assignedClassIds:[],email:"",fullName:"",password:""}),F(!1),await le()}catch(ye){console.error("Error creating teacher:",ye),Pt((ye==null?void 0:ye.message)||"Failed to create teacher.",{type:"error",duration:7e3})}finally{h(!1)}},me=ce=>{ge(ce)},ee=async()=>{if(!oe)return;const ce=t.find(xe=>xe.id===oe);if(!ce){ge(null);return}if(ce.schoolId!==e){ge(null),Pt("You can only delete teachers from your school.",{type:"error"});return}const ye=oe;ge(null);const Ne=[...t];s(xe=>xe.filter(Se=>Se.id!==ye));try{await ot.deleteUser(ye);const Fe=(await ot.getAllTeacherAttendanceRecords(e)).filter(Qe=>Qe.teacherId===ye&&Qe.schoolId&&Qe.schoolId===e).map(Qe=>ki(Pn(Bt,"teacher_attendance",Qe.id)));await Promise.all(Fe)}catch(xe){console.error("Failed to delete teacher",xe),s(Ne),Pt("Failed to delete teacher profile. Please try again.",{type:"error"})}},M=ce=>{L(ce),R(ce.assignedClassIds||[]),P(!0)},J=ce=>{R(ye=>(ye||[]).includes(ce)?(ye||[]).filter(Ne=>Ne!==ce):[...ye||[],ce])},ae=async()=>{if(H){if(H.schoolId!==e){Pt("You can only edit teachers from your school.",{type:"error"});return}O(!0);try{await ot.updateUserAssignedClasses(H.id,U),Pt("Teacher classes updated successfully.",{type:"success"}),P(!1),L(null),R([]),await le()}catch(ce){console.error("Error updating teacher classes:",ce),Pt((ce==null?void 0:ce.message)||"Failed to update teacher classes.",{type:"error"})}finally{O(!1)}}},ie=async()=>{if(b){S(!0);try{const ce=await S7({targetUid:b,schoolId:e}),{message:ye}=ce.data;Pt(ye||"Teacher account repaired successfully.",{type:"success"}),I(null),await le()}catch(ce){console.error("Error repairing teacher:",ce),Pt((ce==null?void 0:ce.details)||(ce==null?void 0:ce.message)||"Failed to repair teacher account.",{type:"error",duration:6e3})}finally{S(!1)}}};return i.jsxs(ir,{title:"Manage Teachers",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h2",{className:"font-semibold text-slate-800",children:"Staff List"}),i.jsxs("button",{onClick:()=>{if(!e){Pt("School ID is not available yet. Please refresh and try again.",{type:"error"});return}o(!0)},className:"flex items-center bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[i.jsx(Gh,{size:16,className:"mr-2"}),"Add Teacher"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Name"}),i.jsx("th",{className:"px-6 py-3",children:"Email"}),i.jsx("th",{className:"px-6 py-3",children:"Account Status"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Classes"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No teachers found for this school."})}):t.map(ce=>{const Ne=(ce.assignedClassIds||[]).map(Se=>{var Fe;return(Fe=In.find(Qe=>Qe.id===Se))==null?void 0:Fe.name}).filter(Boolean),xe=!ce.schoolId;return i.jsxs("tr",{className:`hover:bg-slate-50 ${xe?"bg-red-50":""}`,children:[i.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:ce.fullName}),i.jsxs("td",{className:"px-6 py-3 flex items-center",children:[i.jsx(iM,{size:14,className:"mr-2 text-slate-400"}),ce.email]}),i.jsx("td",{className:"px-6 py-3",children:xe?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pb,{size:16,className:"text-red-600"}),i.jsx("span",{className:"text-red-700 font-semibold text-xs",children:"Missing schoolId"})]}):i.jsx("span",{className:"text-emerald-700 text-xs font-medium",children:" Complete"})}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:Ne.length>0?Ne.map(Se=>i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:Se},Se)):i.jsx("span",{className:"text-slate-400 italic text-xs",children:"No classes"})})}),i.jsxs("td",{className:"px-6 py-3 text-right flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>M(ce),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit Assigned Classes",children:i.jsx(yM,{size:16,className:"pointer-events-none"})}),xe&&i.jsx("button",{onClick:()=>I(ce.id),className:"text-orange-600 hover:text-orange-800 p-2 hover:bg-orange-50 rounded-full transition-colors",title:"Repair Account",children:i.jsx(J5,{size:16,className:"pointer-events-none"})}),i.jsx("button",{onClick:()=>me(ce.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Remove Teacher",children:i.jsx(RA,{size:16,className:"pointer-events-none"})})]})]},ce.id)})})]})})]}),oe&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Ki,{className:"text-red-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Remove Teacher?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This removes their profile and disables their login account from the system."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>ge(null),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),i.jsx("button",{onClick:ee,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors shadow-sm",children:"Remove"})]})]})})}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center text-slate-900 border-b pb-2",children:[i.jsx(l2,{className:"mr-2 text-emerald-600",size:20})," Add New Teacher"]}),i.jsxs("form",{onSubmit:re,className:"space-y-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.fullName||"",onChange:ce=>G({...V,fullName:ce.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.email||"",onChange:ce=>G({...V,email:ce.target.value}),placeholder:"teacher@school.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Password (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:E?"text":"password",className:"w-full border border-slate-300 p-2.5 pr-10 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.password||"",onChange:ce=>G({...V,password:ce.target.value}),placeholder:"Leave empty to send password reset link"}),i.jsx("button",{type:"button",onClick:()=>F(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",title:E?"Hide password":"Show password",children:E?i.jsx(OT,{size:18}):i.jsx(th,{size:18})})]})]}),i.jsxs("p",{className:"text-xs text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[" ",i.jsx("strong",{children:"Option 1:"})," Leave password empty - a reset link will be sent to email. ",i.jsx("strong",{children:"Option 2:"})," Set a password above - teacher can log in immediately with it."]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Assign Classes"}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:In.map(ce=>{var Ne;const ye=(Ne=V.assignedClassIds)==null?void 0:Ne.includes(ce.id);return i.jsxs("button",{type:"button",onClick:()=>W(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ye?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:ce.name}),ye?i.jsx(Y5,{size:16,className:"text-white ml-2"}):i.jsx(W5,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Click classes to select/deselect them."})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>o(!1),disabled:c,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:c,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-70",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Xy,{size:16,className:"mr-2 animate-spin"})," ","Creating..."]}):"Create Teacher"})]})]})]})}),b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(J5,{className:"text-orange-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Repair Teacher Account?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"This teacher's account is missing the required schoolId field."}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action will add your school's ID to their profile so they can log in."}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-3 mb-6 w-full",children:i.jsx("p",{className:"text-xs text-orange-700",children:"After repair, the teacher will be able to log in and access the system."})}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>I(null),disabled:N,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:ie,disabled:N,className:"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-colors shadow-sm disabled:opacity-70",children:N?i.jsxs(i.Fragment,{children:[i.jsx(Xy,{size:16,className:"mr-2 animate-spin"}),"Repairing..."]}):"Repair Account"})]})]})})}),u&&A&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(zp,{className:"text-emerald-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Teacher Created Successfully!"}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Share these credentials with the teacher."})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 mb-4 border border-slate-200",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:"Email"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.email}),i.jsx("button",{onClick:()=>X(A.email,"email"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:x==="email"?i.jsx(zp,{size:16,className:"text-emerald-600"}):i.jsx(z5,{size:16})})]})]}),A.tempPassword&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:A.adminProvidedPassword?"Password":"Temporary Password"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.tempPassword}),i.jsx("button",{onClick:()=>X(A.tempPassword,"password"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:x==="password"?i.jsx(zp,{size:16,className:"text-emerald-600"}):i.jsx(z5,{size:16})})]}),!A.adminProvidedPassword&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:" Teacher must change password on first login."})]}),A.adminProvidedPassword?i.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-green-700",children:" Teacher can log in immediately with the password above."})}):i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-blue-700",children:" A password reset link has been sent to their email inbox."})})]}),i.jsx("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition-colors",children:"Done"})]})}),Q&&H&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-900 border-b pb-2",children:"Assign Classes"}),i.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Assign classes to ",H.fullName,"."]}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50 mb-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:In.map(ce=>{const ye=(U||[]).includes(ce.id);return i.jsxs("button",{type:"button",onClick:()=>J(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ye?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:ce.name}),ye?i.jsx(Y5,{size:16,className:"text-white ml-2"}):i.jsx(W5,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>P(!1),disabled:K,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors disabled:opacity-60",children:"Cancel"}),i.jsx("button",{type:"button",onClick:ae,disabled:K,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-60",children:K?i.jsxs(i.Fragment,{children:[i.jsx(Xy,{size:16,className:"mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})},E7=()=>{const{school:n}=dc(),e=(n==null?void 0:n.id)||null,[t,s]=Z.useState(In[0].id),[r,o]=Z.useState([]),[c,h]=Z.useState(!1),[u,f]=Z.useState(0);return Z.useEffect(()=>{(async()=>{h(!0);try{if(!e){o([]),f(0);return}const m=await ot.getStudents(e,t),x=await ot.getSchoolConfig(e);let g=0;const b=await ot.getClassAttendance(e,t),I=new Set([...b.filter(E=>E.isHoliday).map(E=>E.date),...(x.holidayDates||[]).map(E=>E.date)]);if(x.schoolReopenDate){const E=new Date(`${x.schoolReopenDate}T00:00:00`),F=x.vacationDate?new Date(`${x.vacationDate}T00:00:00`):null,Q=new Date;Q.setHours(0,0,0,0);const P=F&&F<Q?F:Q,H=new Date(E);for(;H<=P;){const L=H.getDay();if(!(L===0||L===6)){const R=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`;I.has(R)||g++}H.setDate(H.getDate()+1)}}else g=b.filter(F=>!F.isHoliday).length;f(g);const N=b,S=m.map(E=>{const F=N.filter(P=>!P.isHoliday&&P.presentStudentIds.includes(E.id)).length,Q=g===0?0:Math.round(F/g*100);return{id:E.id,name:E.name,gender:E.gender,presentDays:F,totalDays:g,percentage:Q}});S.sort((E,F)=>E.name.localeCompare(F.name)),o(S)}catch(m){console.error("Error fetching attendance stats:",m)}finally{h(!1)}})()},[t,e]),i.jsx(ir,{title:"Attendance Statistics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48 bg-white text-slate-900",value:t,onChange:A=>s(A.target.value),children:In.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-md px-4 py-1.5 shadow-sm",children:[i.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Term Total Days"}),i.jsx("span",{className:"font-bold text-lg text-slate-800",children:u})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})," ","Excellent (90%+)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400"})," ","Average (50-89%)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(Ki,{size:12,className:"text-[#0B4A82]"})," Critical (","<","50%)"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:c?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Calculating Attendance Data..."}):i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200 sticky top-0 z-10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Student Name"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Days Present"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Total School Days"}),i.jsx("th",{className:"px-6 py-4 w-1/3",children:"Attendance Rate"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"No students found in this class."})}):r.map(A=>{let m="bg-emerald-500",x="text-emerald-700 bg-emerald-50 border-emerald-200",g="hover:bg-slate-50",b=null;return A.percentage<50?(m="bg-red-500",x="text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]",g="bg-[#E6F0FA]/60 hover:bg-[#E6F0FA]/80",b=i.jsx("span",{title:"Critical Attendance",children:i.jsx(Ki,{size:14,className:"text-[#0B4A82] ml-2"})})):A.percentage<90&&(m="bg-amber-400",x="text-amber-700 bg-amber-50 border-amber-200"),i.jsxs("tr",{className:`${g} transition-colors border-b border-slate-100 last:border-0`,children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold text-white mr-3 shadow-sm ${A.gender==="Male"?"bg-[#0B4A82]":"bg-pink-500"}`,children:A.name.charAt(0)}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800 flex items-center",children:[A.name,b]}),i.jsx("p",{className:"text-xs text-slate-500",children:A.gender})]})]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"font-bold text-slate-800 text-lg",children:A.presentDays})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"text-slate-500",children:A.totalDays})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-2.5 bg-slate-200 rounded-full overflow-hidden shadow-inner",children:i.jsx("div",{className:`h-full ${m} transition-all duration-500 rounded-full`,style:{width:`${A.percentage}%`}})}),i.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded border ${x} min-w-[3.5rem] text-center shadow-sm`,children:[A.percentage,"%"]})]})})]},A.id)})})]})})]})})},T7=()=>{const{school:n}=dc(),e=(n==null?void 0:n.id)||null,[t,s]=Z.useState([]),[r,o]=Z.useState(!1),[c,h]=Z.useState(""),[u,f]=Z.useState("");Z.useEffect(()=>{(async()=>{o(!0);try{if(!e){s([]);return}const g=await ot.getSchoolConfig(e);g.schoolReopenDate&&!c&&h(g.schoolReopenDate),g.vacationDate&&!u&&f(g.vacationDate);const b=c||g.schoolReopenDate||void 0,I=u||g.vacationDate||void 0,N=await ot.getTeacherAttendanceAnalytics(e,b,I);s(N)}catch(g){console.error("Error fetching teacher attendance analytics:",g)}finally{o(!1)}})()},[c,u,e]);const A=x=>{switch(x){case"improving":return i.jsx(Fd,{className:"text-emerald-600",size:16});case"declining":return i.jsx(X5,{className:"text-[#0B4A82]",size:16});default:return i.jsx(G5,{className:"text-slate-400",size:16})}},m=x=>{switch(x){case"improving":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"declining":return"text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]";default:return"text-slate-600 bg-slate-50 border-slate-200"}};return i.jsx(ir,{title:"Teacher Attendance Analytics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Teacher Attendance Overview"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Term Start Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:c,onChange:x=>h(x.target.value)})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Vacation Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:u,onChange:x=>f(x.target.value)})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(Fd,{size:12,className:"text-emerald-600"})," Improving"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(G5,{size:12,className:"text-slate-400"})," Stable"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(X5,{size:12,className:"text-[#0B4A82]"})," Declining"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:r?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Analyzing Teacher Attendance Data..."}):i.jsx("div",{className:"p-6 space-y-6",children:t.length===0?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"No teacher attendance data found."}):t.map(x=>i.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0B4A82] border-2 border-[#E6F0FA] flex items-center justify-center text-white font-bold text-lg shadow-lg",children:x.teacherName.charAt(0)}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800",children:x.teacherName}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ho,{size:14,className:"text-slate-500"}),i.jsxs("span",{className:"text-sm text-slate-600",children:[x.termStartDate," -"," ",x.vacationDate||"Present"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(DA,{size:14,className:"text-emerald-600"}),i.jsxs("span",{className:"text-sm font-semibold text-emerald-700",children:[x.overallAttendance,"% Overall Attendance"]})]})]})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Monthly Attendance Breakdown"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.monthlyBreakdown.map(g=>i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold text-slate-800",children:g.month}),A(g.trend)]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Working Days:"}),i.jsx("span",{className:"font-medium",children:g.totalWorkingDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Present:"}),i.jsx("span",{className:"font-medium text-emerald-700",children:g.presentDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Absent:"}),i.jsx("span",{className:"font-medium text-rose-600",children:g.absentDays})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Attendance Rate"}),i.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${m(g.trend)}`,children:[g.attendanceRate,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.attendanceRate>=90?"bg-emerald-500":g.attendanceRate>=70?"bg-amber-400":"bg-[#1160A8]"}`,style:{width:`${g.attendanceRate}%`}})})]})]})]},g.month))})]}),x.overallAttendance<70&&i.jsxs("div",{className:"mt-4 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Ki,{className:"text-[#0B4A82]",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-[#0B4A82]",children:"Critical Attendance Alert"}),i.jsx("p",{className:"text-xs text-[#1160A8]",children:"This teacher has below 70% overall attendance and may need intervention."})]})]})]},x.teacherId))})})]})})},I7=()=>{var N,S;const{school:n}=dc(),e=(n==null?void 0:n.id)||null,[t,s]=Z.useState(In[0].id),[r,o]=Z.useState([]),[c,h]=Z.useState({pass:[],fail:[]}),[u,f]=Z.useState([]),[A,m]=Z.useState(!1),[x,g]=Z.useState({currentTerm:`Term ${zi}`,academicYear:To,schoolReopenDate:""}),b=((N=In.find(E=>E.id===t))==null?void 0:N.name)||"Class";Z.useEffect(()=>{t&&(async()=>{if(m(!0),!e){o([]),f([]),m(!1);return}const F=In.find(V=>V.id===t);let Q=await ot.getSubjects(e,t);if(!Q.length&&F)switch(F.level){case"NURSERY":Q=r7;break;case"KG":Q=a7;break;case"PRIMARY":Q=i7;break;case"JHS":Q=o7;break;default:Q=[]}if(f(Q),Q.length===0){o([]),m(!1);return}const P=await ot.getSchoolConfig(e);g({currentTerm:P.currentTerm||`Term ${zi}`,academicYear:P.academicYear||To,schoolReopenDate:P.schoolReopenDate||""});let H=zi;if(P.currentTerm){const V=P.currentTerm.match(/\d+/);V&&(H=parseInt(V[0],10))}const L=await ot.getStudents(e,t),U=await ot.getStudentRemarks(e,t),R=await Promise.all(L.map(async V=>{let G=0,oe=0;const ge={};for(const W of Q){const me=(await ot.getAssessments(e,t,W)).find(ee=>ee.studentId===V.id&&ee.term===H);if(me){const ee=me.total??_A(me);ge[W]=ee,G+=ee,oe++}else ge[W]="-"}const le=oe>0?(G/oe).toFixed(1):"0",X=U.find(W=>W.studentId===V.id&&Number(W.term)===H);return{student:V,scores:ge,totalScore:G,average:le,remark:X?X.remark:"N/A"}}));R.sort((V,G)=>G.totalScore-V.totalScore),o(R);const K=R.filter(V=>V.totalScore>=500),O=R.filter(V=>V.totalScore<500);h({pass:K,fail:O}),m(!1)})()},[t,e]);const I=()=>{var K,O,V;if(r.length===0)return;const E=["Position","Student Name",...u,"Total Score","Average Grade","Remark"],F=r.map((G,oe)=>{const ge=u.map(le=>G.scores[le]);return[oe+1,`"${G.student.name}"`,...ge,G.totalScore,G.average,`"${G.remark}"`]}),Q=[E.join(","),...F.map(G=>G.join(","))].join(`
`),P=new Blob([Q],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL(P),L=document.createElement("a"),R=`${((K=In.find(G=>G.id===t))==null?void 0:K.name)||"Class"}_Report_${x.academicYear.replace("-","_")}_Term${((V=(O=x.currentTerm)==null?void 0:O.match(/\d+/))==null?void 0:V[0])||zi}.csv`;L.setAttribute("href",H),L.setAttribute("download",R),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)};return i.jsxs(ir,{title:"Academic Reports",children:[i.jsx("style",{children:`
                @media print {
                    @page { size: landscape; margin: 10mm; }
                    body * {
                        visibility: hidden;
                    }
                    #report-content, #report-content * {
                        visibility: visible;
                    }
                    #report-content {
                        position: fixed;
                        left: 0;
                        top: 0;
                        width: 100%;
                        height: 100%;
                        margin: 0;
                        padding: 0;
                        background: white;
                        z-index: 9999;
                    }
                    .no-print {
                        display: none !important;
                    }
                    /* Ensure table expands fully and isn't cut off by scroll areas */
                    #table-container {
                        overflow: visible !important;
                        height: auto !important;
                    }
                }
            `}),i.jsxs("div",{id:"report-content",className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)] print:h-auto print:border-none print:shadow-none",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-indigo-50 via-white to-emerald-50 print:bg-white print:border-none",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(zl,{size:22})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Academic Reports"}),i.jsxs("p",{className:"text-sm text-slate-600",children:[x.currentTerm,"  ",x.academicYear]})]})]}),i.jsxs("div",{className:"hidden print:block text-2xl font-bold text-slate-900",children:[b," Report"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm no-print focus:ring-2 focus:ring-emerald-200",value:t,onChange:E=>s(E.target.value),children:In.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))}),i.jsxs("button",{onClick:I,disabled:A||r.length===0,className:"flex items-center gap-2 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 px-4 py-2 rounded-full transition-colors no-print font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(ev,{size:18})," Export CSV"]})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(vl,{className:"h-4 w-4 text-indigo-500"}),"Students: ",r.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(DA,{className:"h-4 w-4"}),"Pass: ",c.pass.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(_d,{className:"h-4 w-4"}),"Fail: ",c.fail.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(zl,{className:"h-4 w-4"}),"Subjects: ",u.length]})]})]}),i.jsxs("div",{id:"table-container",className:"flex-1 overflow-auto p-4 print:overflow-visible print:p-0",children:[((S=x.currentTerm)==null?void 0:S.includes("3"))&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6 no-print",children:[i.jsxs("div",{className:"bg-emerald-50/70 border border-emerald-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-emerald-800",children:"Passed (>= 500)"}),i.jsx("span",{className:"text-xs text-emerald-700 font-semibold",children:c.pass.length})]}),c.pass.length===0?i.jsx("p",{className:"text-sm text-emerald-700",children:"No passing students."}):i.jsx("ul",{className:"text-sm text-emerald-900 space-y-1 max-h-40 overflow-y-auto",children:c.pass.map(E=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:E.student.name}),i.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]}),i.jsxs("div",{className:"bg-rose-50/70 border border-rose-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-rose-800",children:"Failed (< 500)"}),i.jsx("span",{className:"text-xs text-rose-700 font-semibold",children:c.fail.length})]}),c.fail.length===0?i.jsx("p",{className:"text-sm text-rose-700",children:"No failing students."}):i.jsx("ul",{className:"text-sm text-rose-900 space-y-1 max-h-40 overflow-y-auto",children:c.fail.map(E=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:E.student.name}),i.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]})]}),A?i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Loading Report Data..."}):i.jsx("div",{className:"overflow-x-auto print:overflow-visible rounded-2xl border border-slate-100 bg-white shadow-sm",children:i.jsxs("table",{className:"w-full text-left text-sm border-collapse text-black",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold print:bg-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 border border-slate-200 w-10",children:"Pos"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Student Name"}),u.map(E=>i.jsx("th",{className:"px-2 py-3 border border-slate-200 w-24 text-center text-xs",children:E.substring(0,3)},E)),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-emerald-50 text-emerald-900 print:bg-slate-100",children:"Total"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-[#E6F0FA] text-[#0B4A82] print:bg-slate-100",children:"Avg"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Remark"})]})}),i.jsxs("tbody",{children:[r.map((E,F)=>i.jsxs("tr",{className:"hover:bg-slate-50 print:hover:bg-transparent",children:[i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-medium",children:F+1}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 font-medium",children:E.student.name}),u.map(Q=>{const P=E.scores[Q],H=typeof P=="number"?fm(P).grade:"-";return i.jsx("td",{className:"px-2 py-2 border border-slate-200 text-center",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:P}),typeof P=="number"&&i.jsx("span",{className:`text-[10px] font-bold ${Pg(H).split(" ")[0]}`,children:H})]})},Q)}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-emerald-50 text-emerald-900 print:bg-transparent",children:E.totalScore}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-[#E6F0FA] text-[#0B4A82] print:bg-transparent",children:E.average}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-sm",children:E.remark})]},E.student.id)),r.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:u.length+5,className:"p-8 text-center text-slate-400",children:"No students found."})})]})]})})]})]})]})};var Zy={exports:{}};const _7="modulepreload",F7=function(n,e){return new URL(n,e).href},tC={},e1=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let c=function(A){return Promise.all(A.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const h=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=c(t.map(A=>{if(A=F7(A,s),A in tC)return;tC[A]=!0;const m=A.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(!!s)for(let I=h.length-1;I>=0;I--){const N=h[I];if(N.href===A&&(!m||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${x}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":_7,m||(b.as="script"),b.crossOrigin="",b.href=A,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((I,N)=>{b.addEventListener("load",I),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${A}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Hr(n){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(n)}var Ac=Uint8Array,lA=Uint16Array,A2=Int32Array,c2=new Ac([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u2=new Ac([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nC=new Ac([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KT=function(n,e){for(var t=new lA(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var r=new A2(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)r[o]=o-t[s]<<5|s;return{b:t,r}},zT=KT(c2,2),U7=zT.b,vb=zT.r;U7[28]=258,vb[258]=28;var D7=KT(u2,0),sC=D7.r,yb=new lA(32768);for(var Ea=0;Ea<32768;++Ea){var vd=(Ea&43690)>>1|(Ea&21845)<<1;vd=(vd&52428)>>2|(vd&13107)<<2,vd=(vd&61680)>>4|(vd&3855)<<4,yb[Ea]=((vd&65280)>>8|(vd&255)<<8)>>1}var Gp=(function(n,e,t){for(var s=n.length,r=0,o=new lA(e);r<s;++r)n[r]&&++o[n[r]-1];var c=new lA(e);for(r=1;r<e;++r)c[r]=c[r-1]+o[r-1]<<1;var h;if(t){h=new lA(1<<e);var u=15-e;for(r=0;r<s;++r)if(n[r])for(var f=r<<4|n[r],A=e-n[r],m=c[n[r]-1]++<<A,x=m|(1<<A)-1;m<=x;++m)h[yb[m]>>u]=f}else for(h=new lA(s),r=0;r<s;++r)n[r]&&(h[r]=yb[c[n[r]-1]++]>>15-n[r]);return h}),nf=new Ac(288);for(var Ea=0;Ea<144;++Ea)nf[Ea]=8;for(var Ea=144;Ea<256;++Ea)nf[Ea]=9;for(var Ea=256;Ea<280;++Ea)nf[Ea]=7;for(var Ea=280;Ea<288;++Ea)nf[Ea]=8;var tv=new Ac(32);for(var Ea=0;Ea<32;++Ea)tv[Ea]=5;var R7=Gp(nf,9,0),L7=Gp(tv,5,0),GT=function(n){return(n+7)/8|0},Q7=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ac(n.subarray(e,t))},vu=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},Cp=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},t1=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var r=t.length,o=t.slice();if(!r)return{t:YT,l:0};if(r==1){var c=new Ac(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(P,H){return P.f-H.f}),t.push({s:-1,f:25001});var h=t[0],u=t[1],f=0,A=1,m=2;for(t[0]={s:-1,f:h.f+u.f,l:h,r:u};A!=r-1;)h=t[t[f].f<t[m].f?f++:m++],u=t[f!=A&&t[f].f<t[m].f?f++:m++],t[A++]={s:-1,f:h.f+u.f,l:h,r:u};for(var x=o[0].s,s=1;s<r;++s)o[s].s>x&&(x=o[s].s);var g=new lA(x+1),b=bb(t[A-1],g,0);if(b>e){var s=0,I=0,N=b-e,S=1<<N;for(o.sort(function(H,L){return g[L.s]-g[H.s]||H.f-L.f});s<r;++s){var E=o[s].s;if(g[E]>e)I+=S-(1<<b-g[E]),g[E]=e;else break}for(I>>=N;I>0;){var F=o[s].s;g[F]<e?I-=1<<e-g[F]++-1:++s}for(;s>=0&&I;--s){var Q=o[s].s;g[Q]==e&&(--g[Q],++I)}b=e}return{t:new Ac(g),l:b}},bb=function(n,e,t){return n.s==-1?Math.max(bb(n.l,e,t+1),bb(n.r,e,t+1)):e[n.s]=t},rC=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new lA(++e),s=0,r=n[0],o=1,c=function(u){t[s++]=u},h=1;h<=e;++h)if(n[h]==r&&h!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(r),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(r);o=1,r=n[h]}return{c:t.subarray(0,s),n:e}},Sp=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},$T=function(n,e,t){var s=t.length,r=GT(e+2);n[r]=s&255,n[r+1]=s>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var o=0;o<s;++o)n[r+o+4]=t[o];return(r+4+s)*8},aC=function(n,e,t,s,r,o,c,h,u,f,A){vu(e,A++,t),++r[256];for(var m=t1(r,15),x=m.t,g=m.l,b=t1(o,15),I=b.t,N=b.l,S=rC(x),E=S.c,F=S.n,Q=rC(I),P=Q.c,H=Q.n,L=new lA(19),U=0;U<E.length;++U)++L[E[U]&31];for(var U=0;U<P.length;++U)++L[P[U]&31];for(var R=t1(L,7),K=R.t,O=R.l,V=19;V>4&&!K[nC[V-1]];--V);var G=f+5<<3,oe=Sp(r,nf)+Sp(o,tv)+c,ge=Sp(r,x)+Sp(o,I)+c+14+3*V+Sp(L,K)+2*L[16]+3*L[17]+7*L[18];if(u>=0&&G<=oe&&G<=ge)return $T(e,A,n.subarray(u,u+f));var le,X,W,re;if(vu(e,A,1+(ge<oe)),A+=2,ge<oe){le=Gp(x,g,0),X=x,W=Gp(I,N,0),re=I;var me=Gp(K,O,0);vu(e,A,F-257),vu(e,A+5,H-1),vu(e,A+10,V-4),A+=14;for(var U=0;U<V;++U)vu(e,A+3*U,K[nC[U]]);A+=3*V;for(var ee=[E,P],M=0;M<2;++M)for(var J=ee[M],U=0;U<J.length;++U){var ae=J[U]&31;vu(e,A,me[ae]),A+=K[ae],ae>15&&(vu(e,A,J[U]>>5&127),A+=J[U]>>12)}}else le=R7,X=nf,W=L7,re=tv;for(var U=0;U<h;++U){var ie=s[U];if(ie>255){var ae=ie>>18&31;Cp(e,A,le[ae+257]),A+=X[ae+257],ae>7&&(vu(e,A,ie>>23&31),A+=c2[ae]);var ce=ie&31;Cp(e,A,W[ce]),A+=re[ce],ce>3&&(Cp(e,A,ie>>5&8191),A+=u2[ce])}else Cp(e,A,le[ie]),A+=X[ie]}return Cp(e,A,le[256]),A+X[256]},O7=new A2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YT=new Ac(0),P7=function(n,e,t,s,r,o){var c=o.z||n.length,h=new Ac(s+c+5*(1+Math.ceil(c/7e3))+r),u=h.subarray(s,h.length-r),f=o.l,A=(o.r||0)&7;if(e){A&&(u[0]=o.r>>3);for(var m=O7[e-1],x=m>>13,g=m&8191,b=(1<<t)-1,I=o.p||new lA(32768),N=o.h||new lA(b+1),S=Math.ceil(t/3),E=2*S,F=function(Pe){return(n[Pe]^n[Pe+1]<<S^n[Pe+2]<<E)&b},Q=new A2(25e3),P=new lA(288),H=new lA(32),L=0,U=0,R=o.i||0,K=0,O=o.w||0,V=0;R+2<c;++R){var G=F(R),oe=R&32767,ge=N[G];if(I[oe]=ge,N[G]=oe,O<=R){var le=c-R;if((L>7e3||K>24576)&&(le>423||!f)){A=aC(n,u,0,Q,P,H,U,K,V,R-V,A),K=L=U=0,V=R;for(var X=0;X<286;++X)P[X]=0;for(var X=0;X<30;++X)H[X]=0}var W=2,re=0,me=g,ee=oe-ge&32767;if(le>2&&G==F(R-ee))for(var M=Math.min(x,le)-1,J=Math.min(32767,R),ae=Math.min(258,le);ee<=J&&--me&&oe!=ge;){if(n[R+W]==n[R+W-ee]){for(var ie=0;ie<ae&&n[R+ie]==n[R+ie-ee];++ie);if(ie>W){if(W=ie,re=ee,ie>M)break;for(var ce=Math.min(ee,ie-2),ye=0,X=0;X<ce;++X){var Ne=R-ee+X&32767,xe=I[Ne],Se=Ne-xe&32767;Se>ye&&(ye=Se,ge=Ne)}}}oe=ge,ge=I[oe],ee+=oe-ge&32767}if(re){Q[K++]=268435456|vb[W]<<18|sC[re];var Fe=vb[W]&31,Qe=sC[re]&31;U+=c2[Fe]+u2[Qe],++P[257+Fe],++H[Qe],O=R+W,++L}else Q[K++]=n[R],++P[n[R]]}}for(R=Math.max(R,O);R<c;++R)Q[K++]=n[R],++P[n[R]];A=aC(n,u,f,Q,P,H,U,K,V,R-V,A),f||(o.r=A&7|u[A/8|0]<<3,A-=7,o.h=N,o.p=I,o.i=R,o.w=O)}else{for(var R=o.w||0;R<c+f;R+=65535){var Je=R+65535;Je>=c&&(u[A/8|0]=f,Je=c),A=$T(u,A+1,n.subarray(R,Je))}o.i=c}return Q7(h,0,s+GT(A)+r)},WT=function(){var n=1,e=0;return{p:function(t){for(var s=n,r=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)r+=s+=t[c];s=(s&65535)+15*(s>>16),r=(r&65535)+15*(r>>16)}n=s,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},k7=function(n,e,t,s,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new Ac(o.length+n.length);c.set(o),c.set(n,o.length),n=c,r.w=o.length}return P7(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,r)},XT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},M7=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=WT();r.p(e.dictionary),XT(n,2,r.d())}};function wb(n,e){e||(e={});var t=WT();t.p(n);var s=k7(n,e,e.dictionary?6:2,4);return M7(s,e),XT(s,s.length-4,t.d()),s}var H7=typeof TextDecoder<"u"&&new TextDecoder,V7=0;try{H7.decode(YT,{stream:!0}),V7=1}catch{}function K7(n){if(Array.isArray(n))return n}function z7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,r,o,c,h=[],u=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(u=(s=o.call(t)).done)&&(h.push(s.value),h.length!==e);u=!0);}catch(A){f=!0,r=A}finally{try{if(!u&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw r}}return h}}function iC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function G7(n,e){if(n){if(typeof n=="string")return iC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?iC(n,e):void 0}}function $7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oC(n,e){return K7(n)||z7(n,e)||G7(n,e)||$7()}function lC(n,e="utf8"){return new TextDecoder(e).decode(n)}const Y7=new TextEncoder;function W7(n){return Y7.encode(n)}const X7=1024*8,J7=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),n1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class d2{constructor(e=X7,t={}){Mr(this,"buffer");Mr(this,"byteLength");Mr(this,"byteOffset");Mr(this,"length");Mr(this,"offset");Mr(this,"lastWrittenByte");Mr(this,"littleEndian");Mr(this,"_data");Mr(this,"_mark");Mr(this,"_marks");let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,o=e.byteLength-r;let c=r;(ArrayBuffer.isView(e)||e instanceof d2)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+r),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,r=new Uint8Array(s);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=n1[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+s);if(this.littleEndian===J7&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(r,r+s));h.reverse();const u=new n1[t](h.buffer);return this.offset+=s,u.reverse(),u}const c=new n1[t](o);return this.offset+=s,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return lC(this.readBytes(e))}decodeText(e=1,t="utf8"){return lC(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(W7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Em(n){let e=n.length;for(;--e>=0;)n[e]=0}const q7=3,Z7=258,JT=29,eH=256,tH=eH+1+JT,qT=30,nH=512,sH=new Array((tH+2)*2);Em(sH);const rH=new Array(qT*2);Em(rH);const aH=new Array(nH);Em(aH);const iH=new Array(Z7-q7+1);Em(iH);const oH=new Array(JT);Em(oH);const lH=new Array(qT);Em(lH);const AH=(n,e,t,s)=>{let r=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do r=r+e[s++]|0,o=o+r|0;while(--c);r%=65521,o%=65521}return r|o<<16|0};var jb=AH;const cH=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},uH=new Uint32Array(cH()),dH=(n,e,t,s)=>{const r=uH,o=s+t;n^=-1;for(let c=s;c<o;c++)n=n>>>8^r[(n^e[c])&255];return n^-1};var Qc=dH,Bb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ZT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const hH=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var fH=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)hH(t,s)&&(n[s]=t[s])}}return n},mH=n=>{let e=0;for(let s=0,r=n.length;s<r;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,r=0,o=n.length;s<o;s++){let c=n[s];t.set(c,r),r+=c.length}return t},eI={assign:fH,flattenChunks:mH};let tI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tI=!1}const mg=new Uint8Array(256);for(let n=0;n<256;n++)mg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;mg[254]=mg[254]=1;var pH=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,r,o,c=n.length,h=0;for(r=0;r<c;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<c&&(s=n.charCodeAt(r+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),r++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,r=0;o<h;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<c&&(s=n.charCodeAt(r+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),r++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const gH=(n,e)=>{if(e<65534&&n.subarray&&tI)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var xH=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,r;const o=new Array(t*2);for(r=0,s=0;s<t;){let c=n[s++];if(c<128){o[r++]=c;continue}let h=mg[c];if(h>4){o[r++]=65533,s+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&s<t;)c=c<<6|n[s++]&63,h--;if(h>1){o[r++]=65533;continue}c<65536?o[r++]=c:(c-=65536,o[r++]=55296|c>>10&1023,o[r++]=56320|c&1023)}return gH(o,r)},vH=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+mg[n[t]]>e?t:e},Cb={string2buf:pH,buf2string:xH,utf8border:vH};function yH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bH=yH;const G0=16209,wH=16191;var jH=function(e,t){let s,r,o,c,h,u,f,A,m,x,g,b,I,N,S,E,F,Q,P,H,L,U,R,K;const O=e.state;s=e.next_in,R=e.input,r=s+(e.avail_in-5),o=e.next_out,K=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),u=O.dmax,f=O.wsize,A=O.whave,m=O.wnext,x=O.window,g=O.hold,b=O.bits,I=O.lencode,N=O.distcode,S=(1<<O.lenbits)-1,E=(1<<O.distbits)-1;e:do{b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),F=I[g&S];t:for(;;){if(Q=F>>>24,g>>>=Q,b-=Q,Q=F>>>16&255,Q===0)K[o++]=F&65535;else if(Q&16){P=F&65535,Q&=15,Q&&(b<Q&&(g+=R[s++]<<b,b+=8),P+=g&(1<<Q)-1,g>>>=Q,b-=Q),b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),F=N[g&E];n:for(;;){if(Q=F>>>24,g>>>=Q,b-=Q,Q=F>>>16&255,Q&16){if(H=F&65535,Q&=15,b<Q&&(g+=R[s++]<<b,b+=8,b<Q&&(g+=R[s++]<<b,b+=8)),H+=g&(1<<Q)-1,H>u){e.msg="invalid distance too far back",O.mode=G0;break e}if(g>>>=Q,b-=Q,Q=o-c,H>Q){if(Q=H-Q,Q>A&&O.sane){e.msg="invalid distance too far back",O.mode=G0;break e}if(L=0,U=x,m===0){if(L+=f-Q,Q<P){P-=Q;do K[o++]=x[L++];while(--Q);L=o-H,U=K}}else if(m<Q){if(L+=f+m-Q,Q-=m,Q<P){P-=Q;do K[o++]=x[L++];while(--Q);if(L=0,m<P){Q=m,P-=Q;do K[o++]=x[L++];while(--Q);L=o-H,U=K}}}else if(L+=m-Q,Q<P){P-=Q;do K[o++]=x[L++];while(--Q);L=o-H,U=K}for(;P>2;)K[o++]=U[L++],K[o++]=U[L++],K[o++]=U[L++],P-=3;P&&(K[o++]=U[L++],P>1&&(K[o++]=U[L++]))}else{L=o-H;do K[o++]=K[L++],K[o++]=K[L++],K[o++]=K[L++],P-=3;while(P>2);P&&(K[o++]=K[L++],P>1&&(K[o++]=K[L++]))}}else if((Q&64)===0){F=N[(F&65535)+(g&(1<<Q)-1)];continue n}else{e.msg="invalid distance code",O.mode=G0;break e}break}}else if((Q&64)===0){F=I[(F&65535)+(g&(1<<Q)-1)];continue t}else if(Q&32){O.mode=wH;break e}else{e.msg="invalid literal/length code",O.mode=G0;break e}break}}while(s<r&&o<h);P=b>>3,s-=P,b-=P<<3,g&=(1<<b)-1,e.next_in=s,e.next_out=o,e.avail_in=s<r?5+(r-s):5-(s-r),e.avail_out=o<h?257+(h-o):257-(o-h),O.hold=g,O.bits=b};const Pf=15,AC=852,cC=592,uC=0,s1=1,dC=2,BH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),CH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),SH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),EH=(n,e,t,s,r,o,c,h)=>{const u=h.bits;let f=0,A=0,m=0,x=0,g=0,b=0,I=0,N=0,S=0,E=0,F,Q,P,H,L,U=null,R;const K=new Uint16Array(Pf+1),O=new Uint16Array(Pf+1);let V=null,G,oe,ge;for(f=0;f<=Pf;f++)K[f]=0;for(A=0;A<s;A++)K[e[t+A]]++;for(g=u,x=Pf;x>=1&&K[x]===0;x--);if(g>x&&(g=x),x===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,h.bits=1,0;for(m=1;m<x&&K[m]===0;m++);for(g<m&&(g=m),N=1,f=1;f<=Pf;f++)if(N<<=1,N-=K[f],N<0)return-1;if(N>0&&(n===uC||x!==1))return-1;for(O[1]=0,f=1;f<Pf;f++)O[f+1]=O[f]+K[f];for(A=0;A<s;A++)e[t+A]!==0&&(c[O[e[t+A]]++]=A);if(n===uC?(U=V=c,R=20):n===s1?(U=BH,V=CH,R=257):(U=SH,V=NH,R=0),E=0,A=0,f=m,L=o,b=g,I=0,P=-1,S=1<<g,H=S-1,n===s1&&S>AC||n===dC&&S>cC)return 1;for(;;){G=f-I,c[A]+1<R?(oe=0,ge=c[A]):c[A]>=R?(oe=V[c[A]-R],ge=U[c[A]-R]):(oe=96,ge=0),F=1<<f-I,Q=1<<b,m=Q;do Q-=F,r[L+(E>>I)+Q]=G<<24|oe<<16|ge|0;while(Q!==0);for(F=1<<f-1;E&F;)F>>=1;if(F!==0?(E&=F-1,E+=F):E=0,A++,--K[f]===0){if(f===x)break;f=e[t+c[A]]}if(f>g&&(E&H)!==P){for(I===0&&(I=g),L+=m,b=f-I,N=1<<b;b+I<x&&(N-=K[b+I],!(N<=0));)b++,N<<=1;if(S+=1<<b,n===s1&&S>AC||n===dC&&S>cC)return 1;P=E&H,r[P]=g<<24|b<<16|L-o|0}}return E!==0&&(r[L+E]=f-I<<24|64<<16|0),h.bits=g,0};var $p=EH;const TH=0,nI=1,sI=2,{Z_FINISH:hC,Z_BLOCK:IH,Z_TREES:$0,Z_OK:sf,Z_STREAM_END:_H,Z_NEED_DICT:FH,Z_STREAM_ERROR:QA,Z_DATA_ERROR:rI,Z_MEM_ERROR:aI,Z_BUF_ERROR:UH,Z_DEFLATED:fC}=ZT,Hv=16180,mC=16181,pC=16182,gC=16183,xC=16184,vC=16185,yC=16186,bC=16187,wC=16188,jC=16189,nv=16190,yu=16191,r1=16192,BC=16193,a1=16194,CC=16195,SC=16196,NC=16197,EC=16198,Y0=16199,W0=16200,TC=16201,IC=16202,_C=16203,FC=16204,UC=16205,i1=16206,DC=16207,RC=16208,Ha=16209,iI=16210,oI=16211,DH=852,RH=592,LH=15,QH=LH,LC=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function OH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cf=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Hv||e.mode>oI?1:0},lI=n=>{if(cf(n))return QA;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Hv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(DH),e.distcode=e.distdyn=new Int32Array(RH),e.sane=1,e.back=-1,sf},AI=n=>{if(cf(n))return QA;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,lI(n)},cI=(n,e)=>{let t;if(cf(n))return QA;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?QA:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,AI(n))},uI=(n,e)=>{if(!n)return QA;const t=new OH;n.state=t,t.strm=n,t.window=null,t.mode=Hv;const s=cI(n,e);return s!==sf&&(n.state=null),s},PH=n=>uI(n,QH);let QC=!0,o1,l1;const kH=n=>{if(QC){o1=new Int32Array(512),l1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for($p(nI,n.lens,0,288,o1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;$p(sI,n.lens,0,32,l1,0,n.work,{bits:5}),QC=!1}n.lencode=o1,n.lenbits=9,n.distcode=l1,n.distbits=5},dI=(n,e,t,s)=>{let r;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>s&&(r=s),o.window.set(e.subarray(t-s,t-s+r),o.wnext),s-=r,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},MH=(n,e)=>{let t,s,r,o,c,h,u,f,A,m,x,g,b,I,N=0,S,E,F,Q,P,H,L,U;const R=new Uint8Array(4);let K,O;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cf(n)||!n.output||!n.input&&n.avail_in!==0)return QA;t=n.state,t.mode===yu&&(t.mode=r1),c=n.next_out,r=n.output,u=n.avail_out,o=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,m=h,x=u,U=sf;e:for(;;)switch(t.mode){case Hv:if(t.wrap===0){t.mode=r1;break}for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=f&255,R[1]=f>>>8&255,t.check=Qc(t.check,R,2,0),f=0,A=0,t.mode=mC;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=Ha;break}if((f&15)!==fC){n.msg="unknown compression method",t.mode=Ha;break}if(f>>>=4,A-=4,L=(f&15)+8,t.wbits===0&&(t.wbits=L),L>15||L>t.wbits){n.msg="invalid window size",t.mode=Ha;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?jC:yu,f=0,A=0;break;case mC:for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.flags=f,(t.flags&255)!==fC){n.msg="unknown compression method",t.mode=Ha;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ha;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Qc(t.check,R,2,0)),f=0,A=0,t.mode=pC;case pC:for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,t.check=Qc(t.check,R,4,0)),f=0,A=0,t.mode=gC;case gC:for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Qc(t.check,R,2,0)),f=0,A=0,t.mode=xC;case xC:if(t.flags&1024){for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Qc(t.check,R,2,0)),f=0,A=0}else t.head&&(t.head.extra=null);t.mode=vC;case vC:if(t.flags&1024&&(g=t.length,g>h&&(g=h),g&&(t.head&&(L=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+g),L)),t.flags&512&&t.wrap&4&&(t.check=Qc(t.check,s,g,o)),h-=g,o+=g,t.length-=g),t.length))break e;t.length=0,t.mode=yC;case yC:if(t.flags&2048){if(h===0)break e;g=0;do L=s[o+g++],t.head&&L&&t.length<65536&&(t.head.name+=String.fromCharCode(L));while(L&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Qc(t.check,s,g,o)),h-=g,o+=g,L)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=bC;case bC:if(t.flags&4096){if(h===0)break e;g=0;do L=s[o+g++],t.head&&L&&t.length<65536&&(t.head.comment+=String.fromCharCode(L));while(L&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Qc(t.check,s,g,o)),h-=g,o+=g,L)break e}else t.head&&(t.head.comment=null);t.mode=wC;case wC:if(t.flags&512){for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ha;break}f=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=yu;break;case jC:for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}n.adler=t.check=LC(f),f=0,A=0,t.mode=nv;case nv:if(t.havedict===0)return n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,FH;n.adler=t.check=1,t.mode=yu;case yu:if(e===IH||e===$0)break e;case r1:if(t.last){f>>>=A&7,A-=A&7,t.mode=i1;break}for(;A<3;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}switch(t.last=f&1,f>>>=1,A-=1,f&3){case 0:t.mode=BC;break;case 1:if(kH(t),t.mode=Y0,e===$0){f>>>=2,A-=2;break e}break;case 2:t.mode=SC;break;case 3:n.msg="invalid block type",t.mode=Ha}f>>>=2,A-=2;break;case BC:for(f>>>=A&7,A-=A&7;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ha;break}if(t.length=f&65535,f=0,A=0,t.mode=a1,e===$0)break e;case a1:t.mode=CC;case CC:if(g=t.length,g){if(g>h&&(g=h),g>u&&(g=u),g===0)break e;r.set(s.subarray(o,o+g),c),h-=g,o+=g,u-=g,c+=g,t.length-=g;break}t.mode=yu;break;case SC:for(;A<14;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.nlen=(f&31)+257,f>>>=5,A-=5,t.ndist=(f&31)+1,f>>>=5,A-=5,t.ncode=(f&15)+4,f>>>=4,A-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ha;break}t.have=0,t.mode=NC;case NC:for(;t.have<t.ncode;){for(;A<3;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.lens[V[t.have++]]=f&7,f>>>=3,A-=3}for(;t.have<19;)t.lens[V[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,K={bits:t.lenbits},U=$p(TH,t.lens,0,19,t.lencode,0,t.work,K),t.lenbits=K.bits,U){n.msg="invalid code lengths set",t.mode=Ha;break}t.have=0,t.mode=EC;case EC:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[f&(1<<t.lenbits)-1],S=N>>>24,E=N>>>16&255,F=N&65535,!(S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(F<16)f>>>=S,A-=S,t.lens[t.have++]=F;else{if(F===16){for(O=S+2;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(f>>>=S,A-=S,t.have===0){n.msg="invalid bit length repeat",t.mode=Ha;break}L=t.lens[t.have-1],g=3+(f&3),f>>>=2,A-=2}else if(F===17){for(O=S+3;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=S,A-=S,L=0,g=3+(f&7),f>>>=3,A-=3}else{for(O=S+7;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=S,A-=S,L=0,g=11+(f&127),f>>>=7,A-=7}if(t.have+g>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ha;break}for(;g--;)t.lens[t.have++]=L}}if(t.mode===Ha)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ha;break}if(t.lenbits=9,K={bits:t.lenbits},U=$p(nI,t.lens,0,t.nlen,t.lencode,0,t.work,K),t.lenbits=K.bits,U){n.msg="invalid literal/lengths set",t.mode=Ha;break}if(t.distbits=6,t.distcode=t.distdyn,K={bits:t.distbits},U=$p(sI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,K),t.distbits=K.bits,U){n.msg="invalid distances set",t.mode=Ha;break}if(t.mode=Y0,e===$0)break e;case Y0:t.mode=W0;case W0:if(h>=6&&u>=258){n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,jH(n,x),c=n.next_out,r=n.output,u=n.avail_out,o=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,t.mode===yu&&(t.back=-1);break}for(t.back=0;N=t.lencode[f&(1<<t.lenbits)-1],S=N>>>24,E=N>>>16&255,F=N&65535,!(S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(E&&(E&240)===0){for(Q=S,P=E,H=F;N=t.lencode[H+((f&(1<<Q+P)-1)>>Q)],S=N>>>24,E=N>>>16&255,F=N&65535,!(Q+S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=Q,A-=Q,t.back+=Q}if(f>>>=S,A-=S,t.back+=S,t.length=F,E===0){t.mode=UC;break}if(E&32){t.back=-1,t.mode=yu;break}if(E&64){n.msg="invalid literal/length code",t.mode=Ha;break}t.extra=E&15,t.mode=TC;case TC:if(t.extra){for(O=t.extra;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=IC;case IC:for(;N=t.distcode[f&(1<<t.distbits)-1],S=N>>>24,E=N>>>16&255,F=N&65535,!(S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if((E&240)===0){for(Q=S,P=E,H=F;N=t.distcode[H+((f&(1<<Q+P)-1)>>Q)],S=N>>>24,E=N>>>16&255,F=N&65535,!(Q+S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=Q,A-=Q,t.back+=Q}if(f>>>=S,A-=S,t.back+=S,E&64){n.msg="invalid distance code",t.mode=Ha;break}t.offset=F,t.extra=E&15,t.mode=_C;case _C:if(t.extra){for(O=t.extra;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ha;break}t.mode=FC;case FC:if(u===0)break e;if(g=x-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ha;break}g>t.wnext?(g-=t.wnext,b=t.wsize-g):b=t.wnext-g,g>t.length&&(g=t.length),I=t.window}else I=r,b=c-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do r[c++]=I[b++];while(--g);t.length===0&&(t.mode=W0);break;case UC:if(u===0)break e;r[c++]=t.length,u--,t.mode=W0;break;case i1:if(t.wrap){for(;A<32;){if(h===0)break e;h--,f|=s[o++]<<A,A+=8}if(x-=u,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?Qc(t.check,r,x,c-x):jb(t.check,r,x,c-x)),x=u,t.wrap&4&&(t.flags?f:LC(f))!==t.check){n.msg="incorrect data check",t.mode=Ha;break}f=0,A=0}t.mode=DC;case DC:if(t.wrap&&t.flags){for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ha;break}f=0,A=0}t.mode=RC;case RC:U=_H;break e;case Ha:U=rI;break e;case iI:return aI;case oI:default:return QA}return n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,(t.wsize||x!==n.avail_out&&t.mode<Ha&&(t.mode<i1||e!==hC))&&dI(n,n.output,n.next_out,x-n.avail_out),m-=n.avail_in,x-=n.avail_out,n.total_in+=m,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?Qc(t.check,r,x,n.next_out-x):jb(t.check,r,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===yu?128:0)+(t.mode===Y0||t.mode===a1?256:0),(m===0&&x===0||e===hC)&&U===sf&&(U=UH),U},HH=n=>{if(cf(n))return QA;let e=n.state;return e.window&&(e.window=null),n.state=null,sf},VH=(n,e)=>{if(cf(n))return QA;const t=n.state;return(t.wrap&2)===0?QA:(t.head=e,e.done=!1,sf)},KH=(n,e)=>{const t=e.length;let s,r,o;return cf(n)||(s=n.state,s.wrap!==0&&s.mode!==nv)?QA:s.mode===nv&&(r=1,r=jb(r,e,t,0),r!==s.check)?rI:(o=dI(n,e,t,t),o?(s.mode=iI,aI):(s.havedict=1,sf))};var zH=AI,GH=cI,$H=lI,YH=PH,WH=uI,XH=MH,JH=HH,qH=VH,ZH=KH,e9="pako inflate (from Nodeca project)",wu={inflateReset:zH,inflateReset2:GH,inflateResetKeep:$H,inflateInit:YH,inflateInit2:WH,inflate:XH,inflateEnd:JH,inflateGetHeader:qH,inflateSetDictionary:ZH,inflateInfo:e9};function t9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var n9=t9;const hI=Object.prototype.toString,{Z_NO_FLUSH:s9,Z_FINISH:r9,Z_OK:pg,Z_STREAM_END:A1,Z_NEED_DICT:c1,Z_STREAM_ERROR:a9,Z_DATA_ERROR:OC,Z_MEM_ERROR:i9}=ZT;function kg(n){this.options=eI.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bH,this.strm.avail_out=0;let t=wu.inflateInit2(this.strm,e.windowBits);if(t!==pg)throw new Error(Bb[t]);if(this.header=new n9,wu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Cb.string2buf(e.dictionary):hI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=wu.inflateSetDictionary(this.strm,e.dictionary),t!==pg)))throw new Error(Bb[t])}kg.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,r=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?r9:s9,hI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=wu.inflate(t,c),o===c1&&r&&(o=wu.inflateSetDictionary(t,r),o===pg?o=wu.inflate(t,c):o===OC&&(o=c1));t.avail_in>0&&o===A1&&t.state.wrap>0&&n[t.next_in]!==0;)wu.inflateReset(t),o=wu.inflate(t,c);switch(o){case a9:case OC:case c1:case i9:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===A1))if(this.options.to==="string"){let u=Cb.utf8border(t.output,t.next_out),f=t.next_out-u,A=Cb.buf2string(t.output,u);t.next_out=f,t.avail_out=s-f,f&&t.output.set(t.output.subarray(u,u+f),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===pg&&h===0)){if(o===A1)return o=wu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};kg.prototype.onData=function(n){this.chunks.push(n)};kg.prototype.onEnd=function(n){n===pg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eI.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function o9(n,e){const t=new kg(e);if(t.push(n),t.err)throw t.msg||Bb[t.err];return t.result}var l9=kg,A9=o9,c9={Inflate:l9,inflate:A9};const{Inflate:u9,inflate:d9}=c9;var PC=u9,h9=d9;const fI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;fI[n]=e}const kC=4294967295;function f9(n,e,t){let s=n;for(let r=0;r<t;r++)s=fI[(s^e[r])&255]^s>>>8;return s}function m9(n,e){return(f9(kC,n,e)^kC)>>>0}function MC(n,e,t){const s=n.readUint32(),r=m9(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(r!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${r}`)}function mI(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function pI(n,e,t,s){let r=0;for(;r<s;r++)e[r]=n[r];for(;r<t;r++)e[r]=n[r]+e[r-s]&255}function gI(n,e,t,s){let r=0;if(t.length===0)for(;r<s;r++)e[r]=n[r];else for(;r<s;r++)e[r]=n[r]+t[r]&255}function xI(n,e,t,s,r){let o=0;if(t.length===0){for(;o<r;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-r]>>1)&255}else{for(;o<r;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-r]+t[o]>>1)&255}}function vI(n,e,t,s,r){let o=0;if(t.length===0){for(;o<r;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-r]&255}else{for(;o<r;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+p9(e[o-r],t[o],t[o-r])&255}}function p9(n,e,t){const s=n+e-t,r=Math.abs(s-n),o=Math.abs(s-e),c=Math.abs(s-t);return r<=o&&r<=c?n:o<=c?e:t}function g9(n,e,t,s,r,o){switch(n){case 0:mI(e,t,r);break;case 1:pI(e,t,r,o);break;case 2:gI(e,t,s,r);break;case 3:xI(e,t,s,r,o);break;case 4:vI(e,t,s,r,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const x9=new Uint16Array([255]),v9=new Uint8Array(x9.buffer),y9=v9[0]===255;function b9(n){const{data:e,width:t,height:s,channels:r,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*r,u=new Uint8Array(s*t*h);let f=0;for(let A=0;A<7;A++){const m=c[A],x=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((s-m.y)/m.yStep);if(x<=0||g<=0)continue;const b=x*h,I=new Uint8Array(b);for(let N=0;N<g;N++){const S=e[f++],E=e.subarray(f,f+b);f+=b;const F=new Uint8Array(b);g9(S,E,F,I,b,h),I.set(F);for(let Q=0;Q<x;Q++){const P=m.x+Q*m.xStep,H=m.y+N*m.yStep;if(!(P>=t||H>=s))for(let L=0;L<h;L++)u[(H*t+P)*h+L]=F[Q*h+L]}}}if(o===16){const A=new Uint16Array(u.buffer);if(y9)for(let m=0;m<A.length;m++)A[m]=w9(A[m]);return A}else return u}function w9(n){return(n&255)<<8|n>>8&255}const j9=new Uint16Array([255]),B9=new Uint8Array(j9.buffer),C9=B9[0]===255,S9=new Uint8Array(0);function HC(n){const{data:e,width:t,height:s,channels:r,depth:o}=n,c=Math.ceil(o/8)*r,h=Math.ceil(o/8*r*t),u=new Uint8Array(s*h);let f=S9,A=0,m,x;for(let g=0;g<s;g++){switch(m=e.subarray(A+1,A+1+h),x=u.subarray(g*h,(g+1)*h),e[A]){case 0:mI(m,x,h);break;case 1:pI(m,x,h,c);break;case 2:gI(m,x,f,h);break;case 3:xI(m,x,f,h,c);break;case 4:vI(m,x,f,h,c);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}f=x,A+=h+1}if(o===16){const g=new Uint16Array(u.buffer);if(C9)for(let b=0;b<g.length;b++)g[b]=N9(g[b]);return g}else return u}function N9(n){return(n&255)<<8|n>>8&255}const bx=Uint8Array.of(137,80,78,71,13,10,26,10);function VC(n){if(!E9(n.readBytes(bx.length)))throw new Error("wrong PNG signature")}function E9(n){if(n.length<bx.length)return!1;for(let e=0;e<bx.length;e++)if(n[e]!==bx[e])return!1;return!0}const T9="tEXt",I9=0,yI=new TextDecoder("latin1");function _9(n){if(U9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const F9=/^[\u0000-\u00FF]*$/;function U9(n){if(!F9.test(n))throw new Error("invalid latin1 text")}function D9(n,e,t){const s=bI(e);n[s]=R9(e,t-s.length-1)}function bI(n){for(n.mark();n.readByte()!==I9;);const e=n.offset;n.reset();const t=yI.decode(n.readBytes(e-n.offset-1));return n.skip(1),_9(t),t}function R9(n,e){return yI.decode(n.readBytes(e))}const aA={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},u1={UNKNOWN:-1,DEFLATE:0},KC={UNKNOWN:-1,ADAPTIVE:0},d1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},X0={NONE:0,BACKGROUND:1,PREVIOUS:2},h1={SOURCE:0,OVER:1};class L9 extends d2{constructor(t,s={}){super(t);Mr(this,"_checkCrc");Mr(this,"_inflator");Mr(this,"_png");Mr(this,"_apng");Mr(this,"_end");Mr(this,"_hasPalette");Mr(this,"_palette");Mr(this,"_hasTransparency");Mr(this,"_transparency");Mr(this,"_compressionMethod");Mr(this,"_filterMethod");Mr(this,"_interlaceMethod");Mr(this,"_colorType");Mr(this,"_isAnimated");Mr(this,"_numberOfFrames");Mr(this,"_numberOfPlays");Mr(this,"_frames");Mr(this,"_writingDataChunks");const{checkCrc:r=!1}=s;this._checkCrc=r,this._inflator=new PC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=u1.UNKNOWN,this._filterMethod=KC.UNKNOWN,this._interlaceMethod=d1.UNKNOWN,this._colorType=aA.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(VC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(VC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const r=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case T9:D9(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?MC(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const r=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?MC(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Q9(this.readUint8());const s=this.readUint8();this._colorType=s;let r;switch(s){case aA.GREYSCALE:r=1;break;case aA.TRUECOLOUR:r=3;break;case aA.INDEXED_COLOUR:r=1;break;case aA.GREYSCALE_ALPHA:r=2;break;case aA.TRUECOLOUR_ALPHA:r=4;break;case aA.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==u1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let o=0;o<s;o++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,r=this.offset+this.byteOffset;if(r+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,r,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case aA.GREYSCALE:case aA.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case aA.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const r=this.readByte();this._palette[s].push(r)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case aA.UNKNOWN:case aA.GREYSCALE_ALPHA:case aA.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=bI(this),r=this.readUint8();if(r!==u1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const o=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:h9(o)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:s,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=HC({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)s.data=r.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(r,o,s),this.addFrameDataToCanvas(s,r)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,r){switch(t.disposeOp){case X0.NONE:break;case X0.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const h=(o*t.width+c)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[h+u]=0}break;case X0.PREVIOUS:r.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const r=1<<this._png.depth,o=(c,h)=>{const u=((c+s.yOffset)*this._png.width+s.xOffset+h)*this._png.channels,f=(c*s.width+h)*this._png.channels;return{index:u,frameIndex:f}};switch(s.blendOp){case h1.SOURCE:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++)t.data[u+A]=s.data[f+A]}break;case h1.OVER:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++){const m=s.data[f+this._png.channels-1]/r,x=A%(this._png.channels-1)===0?1:s.data[f+A],g=Math.floor(m*x+(1-m)*t.data[u+A]);t.data[u+A]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==KC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===d1.NO_INTERLACE)this._png.data=HC({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===d1.ADAM7)this._png.data=b9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:X0.NONE,blendOp:h1.SOURCE,data:t}),this._inflator=new PC,this._writingDataChunks=!1}}function Q9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var zC;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(zC||(zC={}));function O9(n,e){return new L9(n,e).decode()}var ds=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f1(){ds.console&&typeof ds.console.log=="function"&&ds.console.log.apply(ds.console,arguments)}var ra={log:f1,warn:function(n){ds.console&&(typeof ds.console.warn=="function"?ds.console.warn.apply(ds.console,arguments):f1.call(null,arguments))},error:function(n){ds.console&&(typeof ds.console.error=="function"?ds.console.error.apply(ds.console,arguments):f1(n))}};function m1(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){Lh(s.response,e,t)},s.onerror=function(){ra.error("could not download file")},s.send()}function GC(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function J0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Lh=ds.saveAs||((typeof window>"u"?"undefined":Hr(window))!=="object"||window!==ds?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=ds.URL||ds.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?GC(r.href)?m1(n,e,t):J0(r,r.target="_blank"):J0(r)):(r.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(r.href)},4e4),setTimeout(function(){J0(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(GC(n))m1(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){J0(s)})}else navigator.msSaveOrOpenBlob((function(r,o){return o===void 0?o={autoBom:!1}:Hr(o)!=="object"&&(ra.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return m1(n,e,t);var r=n.type==="application/octet-stream",o=/constructor/i.test(ds.HTMLElement)||ds.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&o)&&(typeof FileReader>"u"?"undefined":Hr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var A=h.result;A=c?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=A:location=A,s=null},h.readAsDataURL(n)}else{var u=ds.URL||ds.webkitURL,f=u.createObjectURL(n);s?s.location=f:location.href=f,s=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],s=0;s<t.length;s++){var r=t[s].re,o=t[s].process,c=r.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+h+u+f}}var wx=ds.atob.bind(ds),$C=ds.btoa.bind(ds);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p1(n,e){var t=n[0],s=n[1],r=n[2],o=n[3];t=el(t,s,r,o,e[0],7,-680876936),o=el(o,t,s,r,e[1],12,-389564586),r=el(r,o,t,s,e[2],17,606105819),s=el(s,r,o,t,e[3],22,-1044525330),t=el(t,s,r,o,e[4],7,-176418897),o=el(o,t,s,r,e[5],12,1200080426),r=el(r,o,t,s,e[6],17,-1473231341),s=el(s,r,o,t,e[7],22,-45705983),t=el(t,s,r,o,e[8],7,1770035416),o=el(o,t,s,r,e[9],12,-1958414417),r=el(r,o,t,s,e[10],17,-42063),s=el(s,r,o,t,e[11],22,-1990404162),t=el(t,s,r,o,e[12],7,1804603682),o=el(o,t,s,r,e[13],12,-40341101),r=el(r,o,t,s,e[14],17,-1502002290),t=tl(t,s=el(s,r,o,t,e[15],22,1236535329),r,o,e[1],5,-165796510),o=tl(o,t,s,r,e[6],9,-1069501632),r=tl(r,o,t,s,e[11],14,643717713),s=tl(s,r,o,t,e[0],20,-373897302),t=tl(t,s,r,o,e[5],5,-701558691),o=tl(o,t,s,r,e[10],9,38016083),r=tl(r,o,t,s,e[15],14,-660478335),s=tl(s,r,o,t,e[4],20,-405537848),t=tl(t,s,r,o,e[9],5,568446438),o=tl(o,t,s,r,e[14],9,-1019803690),r=tl(r,o,t,s,e[3],14,-187363961),s=tl(s,r,o,t,e[8],20,1163531501),t=tl(t,s,r,o,e[13],5,-1444681467),o=tl(o,t,s,r,e[2],9,-51403784),r=tl(r,o,t,s,e[7],14,1735328473),t=nl(t,s=tl(s,r,o,t,e[12],20,-1926607734),r,o,e[5],4,-378558),o=nl(o,t,s,r,e[8],11,-2022574463),r=nl(r,o,t,s,e[11],16,1839030562),s=nl(s,r,o,t,e[14],23,-35309556),t=nl(t,s,r,o,e[1],4,-1530992060),o=nl(o,t,s,r,e[4],11,1272893353),r=nl(r,o,t,s,e[7],16,-155497632),s=nl(s,r,o,t,e[10],23,-1094730640),t=nl(t,s,r,o,e[13],4,681279174),o=nl(o,t,s,r,e[0],11,-358537222),r=nl(r,o,t,s,e[3],16,-722521979),s=nl(s,r,o,t,e[6],23,76029189),t=nl(t,s,r,o,e[9],4,-640364487),o=nl(o,t,s,r,e[12],11,-421815835),r=nl(r,o,t,s,e[15],16,530742520),t=sl(t,s=nl(s,r,o,t,e[2],23,-995338651),r,o,e[0],6,-198630844),o=sl(o,t,s,r,e[7],10,1126891415),r=sl(r,o,t,s,e[14],15,-1416354905),s=sl(s,r,o,t,e[5],21,-57434055),t=sl(t,s,r,o,e[12],6,1700485571),o=sl(o,t,s,r,e[3],10,-1894986606),r=sl(r,o,t,s,e[10],15,-1051523),s=sl(s,r,o,t,e[1],21,-2054922799),t=sl(t,s,r,o,e[8],6,1873313359),o=sl(o,t,s,r,e[15],10,-30611744),r=sl(r,o,t,s,e[6],15,-1560198380),s=sl(s,r,o,t,e[13],21,1309151649),t=sl(t,s,r,o,e[4],6,-145523070),o=sl(o,t,s,r,e[11],10,-1120210379),r=sl(r,o,t,s,e[2],15,718787259),s=sl(s,r,o,t,e[9],21,-343485551),n[0]=Ud(t,n[0]),n[1]=Ud(s,n[1]),n[2]=Ud(r,n[2]),n[3]=Ud(o,n[3])}function Vv(n,e,t,s,r,o){return e=Ud(Ud(e,n),Ud(s,o)),Ud(e<<r|e>>>32-r,t)}function el(n,e,t,s,r,o,c){return Vv(e&t|~e&s,n,e,r,o,c)}function tl(n,e,t,s,r,o,c){return Vv(e&s|t&~s,n,e,r,o,c)}function nl(n,e,t,s,r,o,c){return Vv(e^t^s,n,e,r,o,c)}function sl(n,e,t,s,r,o,c){return Vv(t^(e|~s),n,e,r,o,c)}function jI(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)p1(s,P9(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(p1(s,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,p1(s,r),s}function P9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var YC="0123456789abcdef".split("");function k9(n){for(var e="",t=0;t<4;t++)e+=YC[n>>8*t+4&15]+YC[n>>8*t&15];return e}function M9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Sb(n){return jI(n).map(M9).join("")}var H9=(function(n){for(var e=0;e<n.length;e++)n[e]=k9(n[e]);return n.join("")})(jI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ud(n,e){if(H9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nb(n,e){var t,s,r,o;if(n!==t){for(var c=(r=n,o=1+(256/n.length|0),new Array(o+1).join(r)),h=[],u=0;u<256;u++)h[u]=u;var f=0;for(u=0;u<256;u++){var A=h[u];f=(f+A+c.charCodeAt(u))%256,h[u]=h[f],h[f]=A}t=n,s=h}else h=s;var m=e.length,x=0,g=0,b="";for(u=0;u<m;u++)g=(g+(A=h[x=(x+1)%256]))%256,h[x]=h[g],h[g]=A,c=h[(h[x]+h[g])%256],b+=String.fromCharCode(e.charCodeAt(u)^c);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WC={print:4,modify:8,copy:16,"annot-forms":32};function Gf(n,e,t,s){this.v=1,this.r=2;var r=192;n.forEach(function(h){if(WC.perm!==void 0)throw new Error("Invalid permission: "+h);r+=WC[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^r)),this.encryptionKey=Sb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Nb(this.encryptionKey,this.padding)}function $f(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var r=n.charCodeAt(s);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):n[s]}return e}function XC(n){if(Hr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,r){if(r=r||!1,typeof t!="string"||typeof s!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!r],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),r=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,s)}catch(h){ds.console&&ra.error("jsPDF PubSub Error",h.message,h)}c[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gg(n){if(!(this instanceof gg))return new gg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function BI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ed(n,e,t,s,r){if(!(this instanceof Ed))return new Ed(n,e,t,s,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,BI.call(this,s,r)}function kh(n,e,t,s,r){if(!(this instanceof kh))return new kh(n,e,t,s,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,BI.call(this,s,r)}function Mn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],r=arguments[2],o=arguments[3],c=[],h=1,u=16,f="S",A=null;Hr(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,r=n.format||r,o=n.compress||n.compressPdf||o,(A=n.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=XC;var b="1.3",I=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(k){b=k};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var S=g.__private__.getPageFormat=function(k){return N[k]};r=r||"a4";var E="compat",F="advanced",Q=E;function P(){this.saveGraphicsState(),he(new Qt(xt,0,0,-xt,0,Jr()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),f="n",Q=F}function H(){this.restoreGraphicsState(),f="S",Q=E}var L=g.__private__.combineFontStyleAndFontWeight=function(k,Ae){if(k=="bold"&&Ae=="normal"||k=="bold"&&Ae==400||k=="normal"&&Ae=="italic"||k=="bold"&&Ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ae&&(k=Ae==400||Ae==="normal"?k==="italic"?"italic":"normal":Ae!=700&&Ae!=="bold"||k!=="normal"?(Ae==700?"bold":Ae)+""+k:"bold"),k};g.advancedAPI=function(k){var Ae=Q===E;return Ae&&P.call(this),typeof k!="function"||(k(this),Ae&&H.call(this)),this},g.compatAPI=function(k){var Ae=Q===F;return Ae&&H.call(this),typeof k!="function"||(k(this),Ae&&P.call(this)),this},g.isAdvancedAPI=function(){return Q===F};var U,R=function(k){if(Q!==F)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(k,Ae){var Ie=e||Ae;if(isNaN(k)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Ie).replace(/0+$/,"")};U=g.hpf=g.__private__.hpf=typeof u=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return K(k,u)}:u==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return K(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return K(k,16)};var O=g.f2=g.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return K(k,2)},V=g.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return K(k,3)},G=g.scale=g.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return Q===E?k*xt:Q===F?k:void 0},oe=function(k){return G((function(Ae){return Q===E?Jr()-Ae:Q===F?Ae:void 0})(k))};g.__private__.setPrecision=g.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var ge,le="00000000000000000000000000000000",X=g.__private__.getFileId=function(){return le},W=g.__private__.setFileId=function(k){return le=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(yt=new Gf(A.userPermissions,A.userPassword,A.ownerPassword,le)),le};g.setFileId=function(k){return W(k),this},g.getFileId=function(){return X()};var re=g.__private__.convertDateToPDFDate=function(k){var Ae=k.getTimezoneOffset(),Ie=Ae<0?"+":"-",Re=Math.floor(Math.abs(Ae/60)),ze=Math.abs(Ae%60),bt=[Ie,ae(Re),"'",ae(ze),"'"].join("");return["D:",k.getFullYear(),ae(k.getMonth()+1),ae(k.getDate()),ae(k.getHours()),ae(k.getMinutes()),ae(k.getSeconds()),bt].join("")},me=g.__private__.convertPDFDateToDate=function(k){var Ae=parseInt(k.substr(2,4),10),Ie=parseInt(k.substr(6,2),10)-1,Re=parseInt(k.substr(8,2),10),ze=parseInt(k.substr(10,2),10),bt=parseInt(k.substr(12,2),10),_t=parseInt(k.substr(14,2),10);return new Date(Ae,Ie,Re,ze,bt,_t,0)},ee=g.__private__.setCreationDate=function(k){var Ae;if(k===void 0&&(k=new Date),k instanceof Date)Ae=re(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ae=k}return ge=Ae},M=g.__private__.getCreationDate=function(k){var Ae=ge;return k==="jsDate"&&(Ae=me(ge)),Ae};g.setCreationDate=function(k){return ee(k),this},g.getCreationDate=function(k){return M(k)};var J,ae=g.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},ie=g.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ce=0,ye=[],Ne=[],xe=0,Se=[],Fe=[],Qe=!1,Je=Ne;g.__private__.setCustomOutputDestination=function(k){Qe=!0,Je=k};var Pe=function(k){Qe||(Je=k)};g.__private__.resetCustomOutputDestination=function(){Qe=!1,Je=Ne};var he=g.__private__.out=function(k){return k=k.toString(),xe+=k.length+1,Je.push(k),Je},nt=g.__private__.write=function(k){return he(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},lt=g.__private__.getArrayBuffer=function(k){for(var Ae=k.length,Ie=new ArrayBuffer(Ae),Re=new Uint8Array(Ie);Ae--;)Re[Ae]=k.charCodeAt(Ae);return Ie},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ht};var Ke=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(k){return Ke=Q===F?k/xt:k,this};var Nt,Rt=g.__private__.getFontSize=g.getFontSize=function(){return Q===E?Ke:Ke*xt},qt=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(k){return qt=k,this},g.__private__.getR2L=g.getR2L=function(){return qt};var Zt,sn=g.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Nt=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Nt=k}else Nt=parseInt(k,10)};g.__private__.getZoomMode=function(){return Nt};var an,Xe=g.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Zt=k};g.__private__.getPageMode=function(){return Zt};var Ht=g.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');an=k};g.__private__.getLayoutMode=function(){return an},g.__private__.setDisplayMode=g.setDisplayMode=function(k,Ae,Ie){return sn(k),Ht(Ae),Xe(Ie),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(k){if(Object.keys(zt).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[k]},g.__private__.getDocumentProperties=function(){return zt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(k){for(var Ae in zt)zt.hasOwnProperty(Ae)&&k[Ae]&&(zt[Ae]=k[Ae]);return this},g.__private__.setDocumentProperty=function(k,Ae){if(Object.keys(zt).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[k]=Ae};var Vt,xt,Dt,Dn,Gt,Yt={},At={},Lt=[],De={},ft={},it={},Et={},Jt=null,vt=0,st=[],Ft=new XC(g),Wt=n.hotfixes||[],dn={},Wn={},Hn=[],Qt=function k(Ae,Ie,Re,ze,bt,_t){if(!(this instanceof k))return new k(Ae,Ie,Re,ze,bt,_t);isNaN(Ae)&&(Ae=1),isNaN(Ie)&&(Ie=0),isNaN(Re)&&(Re=0),isNaN(ze)&&(ze=1),isNaN(bt)&&(bt=0),isNaN(_t)&&(_t=0),this._matrix=[Ae,Ie,Re,ze,bt,_t]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(k)},Qt.prototype.multiply=function(k){var Ae=k.sx*this.sx+k.shy*this.shx,Ie=k.sx*this.shy+k.shy*this.sy,Re=k.shx*this.sx+k.sy*this.shx,ze=k.shx*this.shy+k.sy*this.sy,bt=k.tx*this.sx+k.ty*this.shx+this.tx,_t=k.tx*this.shy+k.ty*this.sy+this.ty;return new Qt(Ae,Ie,Re,ze,bt,_t)},Qt.prototype.decompose=function(){var k=this.sx,Ae=this.shy,Ie=this.shx,Re=this.sy,ze=this.tx,bt=this.ty,_t=Math.sqrt(k*k+Ae*Ae),vn=(k/=_t)*Ie+(Ae/=_t)*Re;Ie-=k*vn,Re-=Ae*vn;var Cn=Math.sqrt(Ie*Ie+Re*Re);return vn/=Cn,k*(Re/=Cn)<Ae*(Ie/=Cn)&&(k=-k,Ae=-Ae,vn=-vn,_t=-_t),{scale:new Qt(_t,0,0,Cn,0,0),translate:new Qt(1,0,0,1,ze,bt),rotate:new Qt(k,Ae,-Ae,k,0,0),skew:new Qt(1,0,vn,1,0,0)}},Qt.prototype.toString=function(k){return this.join(" ")},Qt.prototype.inversed=function(){var k=this.sx,Ae=this.shy,Ie=this.shx,Re=this.sy,ze=this.tx,bt=this.ty,_t=1/(k*Re-Ae*Ie),vn=Re*_t,Cn=-Ae*_t,Kn=-Ie*_t,Ln=k*_t;return new Qt(vn,Cn,Kn,Ln,-vn*ze-Kn*bt,-Cn*ze-Ln*bt)},Qt.prototype.applyToPoint=function(k){var Ae=k.x*this.sx+k.y*this.shx+this.tx,Ie=k.x*this.shy+k.y*this.sy+this.ty;return new Zn(Ae,Ie)},Qt.prototype.applyToRectangle=function(k){var Ae=this.applyToPoint(k),Ie=this.applyToPoint(new Zn(k.x+k.w,k.y+k.h));return new Bn(Ae.x,Ae.y,Ie.x-Ae.x,Ie.y-Ae.y)},Qt.prototype.clone=function(){var k=this.sx,Ae=this.shy,Ie=this.shx,Re=this.sy,ze=this.tx,bt=this.ty;return new Qt(k,Ae,Ie,Re,ze,bt)},g.Matrix=Qt;var hs=g.matrixMult=function(k,Ae){return Ae.multiply(k)},Ts=new Qt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ts;var Is=function(k,Ae){if(!ft[k]){var Ie=(Ae instanceof Ed?"Sh":"P")+(Object.keys(De).length+1).toString(10);Ae.id=Ie,ft[k]=Ie,De[Ie]=Ae,Ft.publish("addPattern",Ae)}};g.ShadingPattern=Ed,g.TilingPattern=kh,g.addShadingPattern=function(k,Ae){return R("addShadingPattern()"),Is(k,Ae),this},g.beginTilingPattern=function(k){R("beginTilingPattern()"),xs(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},g.endTilingPattern=function(k,Ae){R("endTilingPattern()"),Ae.stream=Fe[J].join(`
`),Is(k,Ae),Ft.publish("endTilingPattern",Ae),Hn.pop().restore()};var _n,ln=g.__private__.newObject=function(){var k=cs();return or(k,!0),k},cs=g.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return xe},ce},or=function(k,Ae){return Ae=typeof Ae=="boolean"&&Ae,ye[k]=xe,Ae&&he(k+" 0 obj"),k},ur=g.__private__.newAdditionalObject=function(){var k={objId:cs(),content:""};return Se.push(k),k},Ur=cs(),js=cs(),Hs=g.__private__.decodeColorString=function(k){var Ae=k.split(" ");if(Ae.length!==2||Ae[1]!=="g"&&Ae[1]!=="G")Ae.length!==5||Ae[4]!=="k"&&Ae[4]!=="K"||(Ae=[(1-Ae[0])*(1-Ae[3]),(1-Ae[1])*(1-Ae[3]),(1-Ae[2])*(1-Ae[3]),"r"]);else{var Ie=parseFloat(Ae[0]);Ae=[Ie,Ie,Ie,"r"]}for(var Re="#",ze=0;ze<3;ze++)Re+=("0"+Math.floor(255*parseFloat(Ae[ze])).toString(16)).slice(-2);return Re},gr=g.__private__.encodeColorString=function(k){var Ae;typeof k=="string"&&(k={ch1:k});var Ie=k.ch1,Re=k.ch2,ze=k.ch3,bt=k.ch4,_t=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var vn=new wI(Ie);if(vn.ok)Ie=vn.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var Cn=parseInt(Ie.substr(1),16);Ie=Cn>>16&255,Re=Cn>>8&255,ze=255&Cn}if(Re===void 0||bt===void 0&&Ie===Re&&Re===ze)Ae=typeof Ie=="string"?Ie+" "+_t[0]:k.precision===2?O(Ie/255)+" "+_t[0]:V(Ie/255)+" "+_t[0];else if(bt===void 0||Hr(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return["1.","1.","1.",_t[1]].join(" ");Ae=typeof Ie=="string"?[Ie,Re,ze,_t[1]].join(" "):k.precision===2?[O(Ie/255),O(Re/255),O(ze/255),_t[1]].join(" "):[V(Ie/255),V(Re/255),V(ze/255),_t[1]].join(" ")}else Ae=typeof Ie=="string"?[Ie,Re,ze,bt,_t[2]].join(" "):k.precision===2?[O(Ie),O(Re),O(ze),O(bt),_t[2]].join(" "):[V(Ie),V(Re),V(ze),V(bt),_t[2]].join(" ");return Ae},ia=g.__private__.getFilters=function(){return c},ei=g.__private__.putStream=function(k){var Ae=(k=k||{}).data||"",Ie=k.filters||ia(),Re=k.alreadyAppliedFilters||[],ze=k.addLength1||!1,bt=Ae.length,_t=k.objectId,vn=function(Y){return Y};if(A!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(vn=yt.encryptor(_t,0));var Cn={};Ie===!0&&(Ie=["FlateEncode"]);var Kn=k.additionalKeyValues||[],Ln=(Cn=Mn.API.processDataByFilters!==void 0?Mn.API.processDataByFilters(Ae,Ie):{data:Ae,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(Cn.data.length!==0&&(Kn.push({key:"Length",value:Cn.data.length}),ze===!0&&Kn.push({key:"Length1",value:bt})),Ln.length!=0)if(Ln.split("/").length-1==1)Kn.push({key:"Filter",value:Ln});else{Kn.push({key:"Filter",value:"["+Ln+"]"});for(var _s=0;_s<Kn.length;_s+=1)if(Kn[_s].key==="DecodeParms"){for(var Ir=[],xr=0;xr<Cn.reverseChain.split("/").length-1;xr+=1)Ir.push("null");Ir.push(Kn[_s].value),Kn[_s].value="["+Ir.join(" ")+"]"}}he("<<");for(var w=0;w<Kn.length;w++)he("/"+Kn[w].key+" "+Kn[w].value);he(">>"),Cn.data.length!==0&&(he("stream"),he(vn(Cn.data)),he("endstream"))},Si=g.__private__.putPage=function(k){var Ae=k.number,Ie=k.data,Re=k.objId,ze=k.contentsObjId;or(Re,!0),he("<</Type /Page"),he("/Parent "+k.rootDictionaryObjId+" 0 R"),he("/Resources "+k.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(U(k.mediaBox.bottomLeftX))+" "+parseFloat(U(k.mediaBox.bottomLeftY))+" "+U(k.mediaBox.topRightX)+" "+U(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&he("/CropBox ["+U(k.cropBox.bottomLeftX)+" "+U(k.cropBox.bottomLeftY)+" "+U(k.cropBox.topRightX)+" "+U(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&he("/BleedBox ["+U(k.bleedBox.bottomLeftX)+" "+U(k.bleedBox.bottomLeftY)+" "+U(k.bleedBox.topRightX)+" "+U(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&he("/TrimBox ["+U(k.trimBox.bottomLeftX)+" "+U(k.trimBox.bottomLeftY)+" "+U(k.trimBox.topRightX)+" "+U(k.trimBox.topRightY)+"]"),k.artBox!==null&&he("/ArtBox ["+U(k.artBox.bottomLeftX)+" "+U(k.artBox.bottomLeftY)+" "+U(k.artBox.topRightX)+" "+U(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&he("/UserUnit "+k.userUnit),Ft.publish("putPage",{objId:Re,pageContext:st[Ae],pageNumber:Ae,page:Ie}),he("/Contents "+ze+" 0 R"),he(">>"),he("endobj");var bt=Ie.join(`
`);return Q===F&&(bt+=`
Q`),or(ze,!0),ei({data:bt,filters:ia(),objectId:ze}),he("endobj"),Re},Ss=g.__private__.putPages=function(){var k,Ae,Ie=[];for(k=1;k<=vt;k++)st[k].objId=cs(),st[k].contentsObjId=cs();for(k=1;k<=vt;k++)Ie.push(Si({number:k,data:Fe[k],objId:st[k].objId,contentsObjId:st[k].contentsObjId,mediaBox:st[k].mediaBox,cropBox:st[k].cropBox,bleedBox:st[k].bleedBox,trimBox:st[k].trimBox,artBox:st[k].artBox,userUnit:st[k].userUnit,rootDictionaryObjId:Ur,resourceDictionaryObjId:js}));or(Ur,!0),he("<</Type /Pages");var Re="/Kids [";for(Ae=0;Ae<vt;Ae++)Re+=Ie[Ae]+" 0 R ";he(Re+"]"),he("/Count "+vt),he(">>"),he("endobj"),Ft.publish("postPutPages")},Nr=function(k){Ft.publish("putFont",{font:k,out:he,newObject:ln,putStream:ei}),k.isAlreadyPutted!==!0&&(k.objectNumber=ln(),he("<<"),he("/Type /Font"),he("/BaseFont /"+$f(k.postScriptName)),he("/Subtype /Type1"),typeof k.encoding=="string"&&he("/Encoding /"+k.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},ga=function(k){k.objectNumber=ln();var Ae=[];Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Form"}),Ae.push({key:"BBox",value:"["+[U(k.x),U(k.y),U(k.x+k.width),U(k.y+k.height)].join(" ")+"]"}),Ae.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Ie=k.pages[1].join(`
`);ei({data:Ie,additionalKeyValues:Ae,objectId:k.objectNumber}),he("endobj")},br=function(k,Ae){Ae||(Ae=21);var Ie=ln(),Re=(function(_t,vn){var Cn,Kn=[],Ln=1/(vn-1);for(Cn=0;Cn<1;Cn+=Ln)Kn.push(Cn);if(Kn.push(1),_t[0].offset!=0){var _s={offset:0,color:_t[0].color};_t.unshift(_s)}if(_t[_t.length-1].offset!=1){var Ir={offset:1,color:_t[_t.length-1].color};_t.push(Ir)}for(var xr="",w=0,Y=0;Y<Kn.length;Y++){for(Cn=Kn[Y];Cn>_t[w+1].offset;)w++;var se=_t[w].offset,we=(Cn-se)/(_t[w+1].offset-se),$e=_t[w].color,tt=_t[w+1].color;xr+=ie(Math.round((1-we)*$e[0]+we*tt[0]).toString(16))+ie(Math.round((1-we)*$e[1]+we*tt[1]).toString(16))+ie(Math.round((1-we)*$e[2]+we*tt[2]).toString(16))}return xr.trim()})(k.colors,Ae),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+Ae+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ei({data:Re,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),he("endobj"),k.objectNumber=ln(),he("<< /ShadingType "+k.type),he("/ColorSpace /DeviceRGB");var bt="/Coords ["+U(parseFloat(k.coords[0]))+" "+U(parseFloat(k.coords[1]))+" ";k.type===2?bt+=U(parseFloat(k.coords[2]))+" "+U(parseFloat(k.coords[3])):bt+=U(parseFloat(k.coords[2]))+" "+U(parseFloat(k.coords[3]))+" "+U(parseFloat(k.coords[4]))+" "+U(parseFloat(k.coords[5])),he(bt+="]"),k.matrix&&he("/Matrix ["+k.matrix.toString()+"]"),he("/Function "+Ie+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},tr=function(k,Ae){var Ie=cs(),Re=ln();Ae.push({resourcesOid:Ie,objectOid:Re}),k.objectNumber=Re;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+k.boundingBox.map(U).join(" ")+"]"}),ze.push({key:"XStep",value:U(k.xStep)}),ze.push({key:"YStep",value:U(k.yStep)}),ze.push({key:"Resources",value:Ie+" 0 R"}),k.matrix&&ze.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),ei({data:k.stream,additionalKeyValues:ze,objectId:k.objectNumber}),he("endobj")},oa=function(k){for(var Ae in k.objectNumber=ln(),he("<<"),k)switch(Ae){case"opacity":he("/ca "+O(k[Ae]));break;case"stroke-opacity":he("/CA "+O(k[Ae]))}he(">>"),he("endobj")},Ga=function(k){or(k.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Ae in he("/Font <<"),Yt)Yt.hasOwnProperty(Ae)&&(m===!1||m===!0&&x.hasOwnProperty(Ae))&&he("/"+Ae+" "+Yt[Ae].objectNumber+" 0 R");he(">>")})(),(function(){if(Object.keys(De).length>0){for(var Ae in he("/Shading <<"),De)De.hasOwnProperty(Ae)&&De[Ae]instanceof Ed&&De[Ae].objectNumber>=0&&he("/"+Ae+" "+De[Ae].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),he(">>")}})(),(function(Ae){if(Object.keys(De).length>0){for(var Ie in he("/Pattern <<"),De)De.hasOwnProperty(Ie)&&De[Ie]instanceof g.TilingPattern&&De[Ie].objectNumber>=0&&De[Ie].objectNumber<Ae&&he("/"+Ie+" "+De[Ie].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),he(">>")}})(k.objectOid),(function(){if(Object.keys(it).length>0){var Ae;for(Ae in he("/ExtGState <<"),it)it.hasOwnProperty(Ae)&&it[Ae].objectNumber>=0&&he("/"+Ae+" "+it[Ae].objectNumber+" 0 R");Ft.publish("putGStateDict"),he(">>")}})(),(function(){for(var Ae in he("/XObject <<"),dn)dn.hasOwnProperty(Ae)&&dn[Ae].objectNumber>=0&&he("/"+Ae+" "+dn[Ae].objectNumber+" 0 R");Ft.publish("putXobjectDict"),he(">>")})(),he(">>"),he("endobj")},Gs=function(k){At[k.fontName]=At[k.fontName]||{},At[k.fontName][k.fontStyle]=k.id},Ia=function(k,Ae,Ie,Re,ze){var bt={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:k,fontName:Ae,fontStyle:Ie,encoding:Re,isStandardFont:ze||!1,metadata:{}};return Ft.publish("addFont",{font:bt,instance:this}),Yt[bt.id]=bt,Gs(bt),bt.id},Vr=g.__private__.pdfEscape=g.pdfEscape=function(k,Ae){return(function(Ie,Re){var ze,bt,_t,vn,Cn,Kn,Ln,_s,Ir;if(_t=(Re=Re||{}).sourceEncoding||"Unicode",Cn=Re.outputEncoding,(Re.autoencode||Cn)&&Yt[Vt].metadata&&Yt[Vt].metadata[_t]&&Yt[Vt].metadata[_t].encoding&&(vn=Yt[Vt].metadata[_t].encoding,!Cn&&Yt[Vt].encoding&&(Cn=Yt[Vt].encoding),!Cn&&vn.codePages&&(Cn=vn.codePages[0]),typeof Cn=="string"&&(Cn=vn[Cn]),Cn)){for(Ln=!1,Kn=[],ze=0,bt=Ie.length;ze<bt;ze++)(_s=Cn[Ie.charCodeAt(ze)])?Kn.push(String.fromCharCode(_s)):Kn.push(Ie[ze]),Kn[ze].charCodeAt(0)>>8&&(Ln=!0);Ie=Kn.join("")}for(ze=Ie.length;Ln===void 0&&ze!==0;)Ie.charCodeAt(ze-1)>>8&&(Ln=!0),ze--;if(!Ln)return Ie;for(Kn=Re.noBOM?[]:[254,255],ze=0,bt=Ie.length;ze<bt;ze++){if((Ir=(_s=Ie.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+Ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kn.push(Ir),Kn.push(_s-(Ir<<8))}return String.fromCharCode.apply(void 0,Kn)})(k,Ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xa=g.__private__.beginPage=function(k){Fe[++vt]=[],st[vt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},jl(vt),Pe(Fe[J])},Ni=function(k,Ae){var Ie,Re,ze;switch(t=Ae||t,typeof k=="string"&&(Ie=S(k.toLowerCase()),Array.isArray(Ie)&&(Re=Ie[0],ze=Ie[1])),Array.isArray(k)&&(Re=k[0]*xt,ze=k[1]*xt),isNaN(Re)&&(Re=r[0],ze=r[1]),(Re>14400||ze>14400)&&(ra.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),ze=Math.min(14400,ze)),r=[Re,ze],t.substr(0,1)){case"l":ze>Re&&(r=[ze,Re]);break;case"p":Re>ze&&(r=[ze,Re])}xa(r),Rn(ti),he(ya),Kt!==0&&he(Kt+" J"),hn!==0&&he(hn+" j"),Ft.publish("addPage",{pageNumber:vt})},Gi=function(k){k>0&&k<=vt&&(Fe.splice(k,1),st.splice(k,1),vt--,J>vt&&(J=vt),this.setPage(J))},jl=function(k){k>0&&k<=vt&&(J=k)},Bl=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Fe.length-1},di=function(k,Ae,Ie){var Re,ze=void 0;return Ie=Ie||{},k=k!==void 0?k:Yt[Vt].fontName,Ae=Ae!==void 0?Ae:Yt[Vt].fontStyle,Re=k.toLowerCase(),At[Re]!==void 0&&At[Re][Ae]!==void 0?ze=At[Re][Ae]:At[k]!==void 0&&At[k][Ae]!==void 0?ze=At[k][Ae]:Ie.disableWarning===!1&&ra.warn("Unable to look up font label for font '"+k+"', '"+Ae+"'. Refer to getFontList() for available fonts."),ze||Ie.noFallback||(ze=At.times[Ae])==null&&(ze=At.times.normal),ze},la=g.__private__.putInfo=function(){var k=ln(),Ae=function(Re){return Re};for(var Ie in A!==null&&(Ae=yt.encryptor(k,0)),he("<<"),he("/Producer ("+Vr(Ae("jsPDF "+Mn.version))+")"),zt)zt.hasOwnProperty(Ie)&&zt[Ie]&&he("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+Vr(Ae(zt[Ie]))+")");he("/CreationDate ("+Vr(Ae(ge))+")"),he(">>"),he("endobj")},Ee=g.__private__.putCatalog=function(k){var Ae=(k=k||{}).rootDictionaryObjId||Ur;switch(ln(),he("<<"),he("/Type /Catalog"),he("/Pages "+Ae+" 0 R"),Nt||(Nt="fullwidth"),Nt){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+Nt;Ie.substr(Ie.length-1)==="%"&&(Nt=parseInt(Nt)/100),typeof Nt=="number"&&he("/OpenAction [3 0 R /XYZ null null "+O(Nt)+"]")}switch(an||(an="continuous"),an){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}Zt&&he("/PageMode /"+Zt),Ft.publish("putCatalog"),he(">>"),he("endobj")},at=g.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ce+1)),he("/Root "+ce+" 0 R"),he("/Info "+(ce-1)+" 0 R"),A!==null&&he("/Encrypt "+yt.oid+" 0 R"),he("/ID [ <"+le+"> <"+le+"> ]"),he(">>")},dt=g.__private__.putHeader=function(){he("%PDF-"+b),he("%")},kt=g.__private__.putXRef=function(){var k="0000000000";he("xref"),he("0 "+(ce+1)),he("0000000000 65535 f ");for(var Ae=1;Ae<=ce;Ae++)typeof ye[Ae]=="function"?he((k+ye[Ae]()).slice(-10)+" 00000 n "):ye[Ae]!==void 0?he((k+ye[Ae]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},An=g.__private__.buildDocument=function(){var k;ce=0,xe=0,Ne=[],ye=[],Se=[],Ur=cs(),js=cs(),Pe(Ne),Ft.publish("buildDocument"),dt(),Ss(),(function(){Ft.publish("putAdditionalObjects");for(var Ie=0;Ie<Se.length;Ie++){var Re=Se[Ie];or(Re.objId,!0),he(Re.content),he("endobj")}Ft.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Ie in Yt)Yt.hasOwnProperty(Ie)&&(m===!1||m===!0&&x.hasOwnProperty(Ie))&&Nr(Yt[Ie])})(),(function(){var Ie;for(Ie in it)it.hasOwnProperty(Ie)&&oa(it[Ie])})(),(function(){for(var Ie in dn)dn.hasOwnProperty(Ie)&&ga(dn[Ie])})(),(function(Ie){var Re;for(Re in De)De.hasOwnProperty(Re)&&(De[Re]instanceof Ed?br(De[Re]):De[Re]instanceof kh&&tr(De[Re],Ie))})(k),Ft.publish("putResources"),k.forEach(Ga),Ga({resourcesOid:js,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources"),A!==null&&(yt.oid=ln(),he("<<"),he("/Filter /Standard"),he("/V "+yt.v),he("/R "+yt.r),he("/U <"+yt.toHexString(yt.U)+">"),he("/O <"+yt.toHexString(yt.O)+">"),he("/P "+yt.P),he(">>"),he("endobj")),la(),Ee();var Ae=xe;return kt(),at(),he("startxref"),he(""+Ae),he("%%EOF"),Pe(Fe[J]),Ne.join(`
`)},Ot=g.__private__.getBlob=function(k){return new Blob([lt(k)],{type:"application/pdf"})},Vn=g.output=g.__private__.output=(_n=function(k,Ae){switch(typeof(Ae=Ae||{})=="string"?Ae={filename:Ae}:Ae.filename=Ae.filename||"generated.pdf",k){case void 0:return An();case"save":g.save(Ae.filename);break;case"arraybuffer":return lt(An());case"blob":return Ot(An());case"bloburi":case"bloburl":if(ds.URL!==void 0&&typeof ds.URL.createObjectURL=="function")return ds.URL&&ds.URL.createObjectURL(Ot(An()))||void 0;ra.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",Re=An();try{Ie=$C(Re)}catch{Ie=$C(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+Ae.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ds)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ae.pdfObjectUrl&&(ze=Ae.pdfObjectUrl,bt="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ae)+");<\/script></body></html>",vn=ds.open();return vn!==null&&vn.document.write(_t),vn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ds)==="[object Window]"){var Cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ae.filename+'" width="500px" height="400px" /></body></html>',Kn=ds.open();if(Kn!==null){Kn.document.write(Cn);var Ln=this;Kn.document.documentElement.querySelector("#pdfViewer").onload=function(){Kn.document.title=Ae.filename,Kn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ln.output("bloburl"))}}return Kn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ds)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ae)+'"></iframe></body></html>',Ir=ds.open();if(Ir!==null&&(Ir.document.write(_s),Ir.document.title=Ae.filename),Ir||typeof safari>"u")return Ir;break;case"datauri":case"dataurl":return ds.document.location.href=this.output("datauristring",Ae);default:return null}},_n.foo=function(){try{return _n.apply(this,arguments)}catch(Ie){var k=Ie.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var Ae="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Ie.message;if(!ds.console)throw new Error(Ae);ds.console.error(Ae,Ie),ds.alert&&alert(Ae)}},_n.foo.bar=_n,_n.foo),pn=function(k){return Array.isArray(Wt)===!0&&Wt.indexOf(k)>-1};switch(s){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=pn("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);xt=s}var yt=null;ee(),W();var Tn=g.__private__.getPageInfo=g.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[k].objId,pageNumber:k,pageContext:st[k]}},qn=g.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ae in st)if(st[Ae].objId===k)break;return Tn(Ae)},fs=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:st[J].objId,pageNumber:J,pageContext:st[J]}};g.addPage=function(){return Ni.apply(this,arguments),this},g.setPage=function(){return jl.apply(this,arguments),Pe.call(this,Fe[J]),this},g.insertPage=function(k){return this.addPage(),this.movePage(J,k),this},g.movePage=function(k,Ae){var Ie,Re;if(k>Ae){Ie=Fe[k],Re=st[k];for(var ze=k;ze>Ae;ze--)Fe[ze]=Fe[ze-1],st[ze]=st[ze-1];Fe[Ae]=Ie,st[Ae]=Re,this.setPage(Ae)}else if(k<Ae){Ie=Fe[k],Re=st[k];for(var bt=k;bt<Ae;bt++)Fe[bt]=Fe[bt+1],st[bt]=st[bt+1];Fe[Ae]=Ie,st[Ae]=Re,this.setPage(Ae)}return this},g.deletePage=function(){return Gi.apply(this,arguments),this},g.__private__.text=g.text=function(k,Ae,Ie,Re,ze){var bt,_t,vn,Cn,Kn,Ln,_s,Ir,xr,w=(Re=Re||{}).scope||this;if(typeof k=="number"&&typeof Ae=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var Y=Ie;Ie=Ae,Ae=k,k=Y}if(arguments[3]instanceof Qt==0?(vn=arguments[4],Cn=arguments[5],Hr(_s=arguments[3])==="object"&&_s!==null||(typeof vn=="string"&&(Cn=vn,vn=null),typeof _s=="string"&&(Cn=_s,_s=null),typeof _s=="number"&&(vn=_s,_s=null),Re={flags:_s,angle:vn,align:Cn})):(R("The transform parameter of text() with a Matrix value"),xr=ze),isNaN(Ae)||isNaN(Ie)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return w;var se,we="",$e=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:mo,tt=w.internal.scaleFactor;function $t(Xs){return Xs=Xs.split("	").join(Array(Re.TabLen||9).join(" ")),Vr(Xs,_s)}function rs(Xs){for(var Vs,Fr=Xs.concat(),sr=[],ml=Fr.length;ml--;)typeof(Vs=Fr.shift())=="string"?sr.push(Vs):Array.isArray(Xs)&&(Vs.length===1||Vs[1]===void 0&&Vs[2]===void 0)?sr.push(Vs[0]):sr.push([Vs[0],Vs[1],Vs[2]]);return sr}function _r(Xs,Vs){var Fr;if(typeof Xs=="string")Fr=Vs(Xs)[0];else if(Array.isArray(Xs)){for(var sr,ml,pl=Xs.concat(),HA=[],dA=pl.length;dA--;)typeof(sr=pl.shift())=="string"?HA.push(Vs(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&(ml=Vs(sr[0],sr[1],sr[2]),HA.push([ml[0],ml[1],ml[2]]));Fr=HA}return Fr}var vs=!1,nr=!0;if(typeof k=="string")vs=!0;else if(Array.isArray(k)){var Ya=k.concat();_t=[];for(var ba,Ys=Ya.length;Ys--;)(typeof(ba=Ya.shift())!="string"||Array.isArray(ba)&&typeof ba[0]!="string")&&(nr=!1);vs=nr}if(vs===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var ls=Ke/w.internal.scaleFactor,po=ls*($e-1);switch(Re.baseline){case"bottom":Ie-=po;break;case"top":Ie+=ls-po;break;case"hanging":Ie+=ls-2*po;break;case"middle":Ie+=ls/2-po}if((Ln=Re.maxWidth||0)>0&&(typeof k=="string"?k=w.splitTextToSize(k,Ln):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Xs,Vs){return Xs.concat(w.splitTextToSize(Vs,Ln))},[]))),bt={text:k,x:Ae,y:Ie,options:Re,mutex:{pdfEscape:Vr,activeFontKey:Vt,fonts:Yt,activeFontSize:Ke}},Ft.publish("preProcessText",bt),k=bt.text,vn=(Re=bt.options).angle,xr instanceof Qt==0&&vn&&typeof vn=="number"){vn*=Math.PI/180,Re.rotationDirection===0&&(vn=-vn),Q===F&&(vn=-vn);var Lo=Math.cos(vn),cl=Math.sin(vn);xr=new Qt(Lo,cl,-cl,Lo,0,0)}else vn&&vn instanceof Qt&&(xr=vn);Q!==F||xr||(xr=Ts),(Kn=Re.charSpace||si)!==void 0&&(we+=U(G(Kn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ir=Re.horizontalScale)!==void 0&&(we+=U(100*Ir)+` Tz
`),Re.lang;var Da=-1,ri=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,mc=w.internal.getCurrentPageInfo().pageContext;switch(ri){case 0:case!1:case"fill":Da=0;break;case 1:case!0:case"stroke":Da=1;break;case 2:case"fillThenStroke":Da=2;break;case 3:case"invisible":Da=3;break;case 4:case"fillAndAddForClipping":Da=4;break;case 5:case"strokeAndAddPathForClipping":Da=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Da=6;break;case 7:case"addToPathForClipping":Da=7}var Qo=mc.usedRenderingMode!==void 0?mc.usedRenderingMode:-1;Da!==-1?we+=Da+` Tr
`:Qo!==-1&&(we+=`0 Tr
`),Da!==-1&&(mc.usedRenderingMode=Da),Cn=Re.align||"left";var Ws,Oo=Ke*$e,Dr=w.internal.pageSize.getWidth(),OA=Yt[Vt];Kn=Re.charSpace||si,Ln=Re.maxWidth||0,_s=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var ai=[],Po=function(Xs){return w.getStringUnitWidth(Xs,{font:OA,charSpace:Kn,fontSize:Ke,doKerning:!1})*Ke/tt};if(Object.prototype.toString.call(k)==="[object Array]"){var Bs;_t=rs(k),Cn!=="left"&&(Ws=_t.map(Po));var Ei,ul=0;if(Cn==="right"){Ae-=Ws[0],k=[],Ys=_t.length;for(var dl=0;dl<Ys;dl++)dl===0?(Ei=ca(Ae),Bs=Er(Ie)):(Ei=G(ul-Ws[dl]),Bs=-Oo),k.push([_t[dl],Ei,Bs]),ul=Ws[dl]}else if(Cn==="center"){Ae-=Ws[0]/2,k=[],Ys=_t.length;for(var Sl=0;Sl<Ys;Sl++)Sl===0?(Ei=ca(Ae),Bs=Er(Ie)):(Ei=G((ul-Ws[Sl])/2),Bs=-Oo),k.push([_t[Sl],Ei,Bs]),ul=Ws[Sl]}else if(Cn==="left"){k=[],Ys=_t.length;for(var $l=0;$l<Ys;$l++)k.push(_t[$l])}else if(Cn==="justify"&&OA.encoding==="Identity-H"){k=[],Ys=_t.length,Ln=Ln!==0?Ln:Dr;for(var PA=0,da=0;da<Ys;da++)if(Bs=da===0?Er(Ie):-Oo,Ei=da===0?ca(Ae):PA,da<Ys-1){var Ji=G((Ln-Ws[da])/(_t[da].split(" ").length-1)),pi=_t[da].split(" ");k.push([pi[0]+" ",Ei,Bs]),PA=0;for(var gi=1;gi<pi.length;gi++){var Qs=(Po(pi[gi-1]+" "+pi[gi])-Po(pi[gi]))*tt+Ji;gi==pi.length-1?k.push([pi[gi],Qs,0]):k.push([pi[gi]+" ",Qs,0]),PA-=Qs}}else k.push([_t[da],Ei,Bs]);k.push(["",PA,0])}else{if(Cn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Ys=_t.length,Ln=Ln!==0?Ln:Dr,da=0;da<Ys;da++){Bs=da===0?Er(Ie):-Oo,Ei=da===0?ca(Ae):0;var Ti=_t[da].split(" ").length-1,kA=Ti>0?(Ln-Ws[da])/Ti:0;da<Ys-1?ai.push(U(G(kA))):ai.push(0),k.push([_t[da],Ei,Bs])}}}(typeof Re.R2L=="boolean"?Re.R2L:qt)===!0&&(k=_r(k,function(Xs,Vs,Fr){return[Xs.split("").reverse().join(""),Vs,Fr]})),bt={text:k,x:Ae,y:Ie,options:Re,mutex:{pdfEscape:Vr,activeFontKey:Vt,fonts:Yt,activeFontSize:Ke}},Ft.publish("postProcessText",bt),k=bt.text,se=bt.mutex.isHex||!1;var MA=Yt[Vt].encoding;MA!=="WinAnsiEncoding"&&MA!=="StandardEncoding"||(k=_r(k,function(Xs,Vs,Fr){return[$t(Xs),Vs,Fr]})),_t=rs(k),k=[];for(var hl,Nl,El,fl=Array.isArray(_t[0])?1:0,wa="",Yl=function(Xs,Vs,Fr){var sr="";return Fr instanceof Qt?(Fr=typeof Re.angle=="number"?hs(Fr,new Qt(1,0,0,1,Xs,Vs)):hs(new Qt(1,0,0,1,Xs,Vs),Fr),Q===F&&(Fr=hs(new Qt(1,0,0,-1,0,0),Fr)),sr=Fr.join(" ")+` Tm
`):sr=U(Xs)+" "+U(Vs)+` Td
`,sr},Ii=0;Ii<_t.length;Ii++){switch(wa="",fl){case 1:El=(se?"<":"(")+_t[Ii][0]+(se?">":")"),hl=parseFloat(_t[Ii][1]),Nl=parseFloat(_t[Ii][2]);break;case 0:El=(se?"<":"(")+_t[Ii]+(se?">":")"),hl=ca(Ae),Nl=Er(Ie)}ai!==void 0&&ai[Ii]!==void 0&&(wa=ai[Ii]+` Tw
`),Ii===0?k.push(wa+Yl(hl,Nl,xr)+El):fl===0?k.push(wa+El):fl===1&&k.push(wa+Yl(hl,Nl,xr)+El)}k=fl===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var qi=`BT
/`;return qi+=Vt+" "+Ke+` Tf
`,qi+=U(Ke*$e)+` TL
`,qi+=ni+`
`,qi+=we,qi+=k,he(qi+="ET"),x[Vt]=!0,w};var dr=g.__private__.clip=g.clip=function(k){return he(k==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return dr("evenodd")},g.__private__.discardPath=g.discardPath=function(){return he("n"),this};var Ns=g.__private__.isValidStyle=function(k){var Ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(Ae=!0),Ae};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(k){return Ns(k)&&(f=k),this};var Aa=g.__private__.getStyle=g.getStyle=function(k){var Ae=f;switch(k){case"D":case"S":Ae="S";break;case"F":Ae="f";break;case"FD":case"DF":Ae="B";break;case"f":case"f*":case"B":case"B*":Ae=k}return Ae},Xr=g.close=function(){return he("h"),this};g.stroke=function(){return he("S"),this},g.fill=function(k){return Ls("f",k),this},g.fillEvenOdd=function(k){return Ls("f*",k),this},g.fillStroke=function(k){return Ls("B",k),this},g.fillStrokeEvenOdd=function(k){return Ls("B*",k),this};var Ls=function(k,Ae){Hr(Ae)==="object"?Uo(Ae,k):he(k)},_a=function(k){k===null||Q===F&&k===void 0||(k=Aa(k),he(k))};function hi(k,Ae,Ie,Re,ze){var bt=new kh(Ae||this.boundingBox,Ie||this.xStep,Re||this.yStep,this.gState,ze||this.matrix);bt.stream=this.stream;var _t=k+"$$"+this.cloneIndex+++"$$";return Is(_t,bt),bt}var Uo=function(k,Ae){var Ie=ft[k.key],Re=De[Ie];if(Re instanceof Ed)he("q"),he(fo(Ae)),Re.gState&&g.setGState(Re.gState),he(k.matrix.toString()+" cm"),he("/"+Ie+" sh"),he("Q");else if(Re instanceof kh){var ze=new Qt(1,0,0,-1,0,Jr());k.matrix&&(ze=ze.multiply(k.matrix||Ts),Ie=hi.call(Re,k.key,k.boundingBox,k.xStep,k.yStep,ze).id),he("q"),he("/Pattern cs"),he("/"+Ie+" scn"),Re.gState&&g.setGState(Re.gState),he(Ae),he("Q")}},fo=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ll=g.moveTo=function(k,Ae){return he(U(G(k))+" "+U(oe(Ae))+" m"),this},fi=g.lineTo=function(k,Ae){return he(U(G(k))+" "+U(oe(Ae))+" l"),this},Kr=g.curveTo=function(k,Ae,Ie,Re,ze,bt){return he([U(G(k)),U(oe(Ae)),U(G(Ie)),U(oe(Re)),U(G(ze)),U(oe(bt)),"c"].join(" ")),this};g.__private__.line=g.line=function(k,Ae,Ie,Re,ze){if(isNaN(k)||isNaN(Ae)||isNaN(Ie)||isNaN(Re)||!Ns(ze))throw new Error("Invalid arguments passed to jsPDF.line");return Q===E?this.lines([[Ie-k,Re-Ae]],k,Ae,[1,1],ze||"S"):this.lines([[Ie-k,Re-Ae]],k,Ae,[1,1]).stroke()},g.__private__.lines=g.lines=function(k,Ae,Ie,Re,ze,bt){var _t,vn,Cn,Kn,Ln,_s,Ir,xr,w,Y,se,we;if(typeof k=="number"&&(we=Ie,Ie=Ae,Ae=k,k=we),Re=Re||[1,1],bt=bt||!1,isNaN(Ae)||isNaN(Ie)||!Array.isArray(k)||!Array.isArray(Re)||!Ns(ze)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ll(Ae,Ie),_t=Re[0],vn=Re[1],Kn=k.length,Y=Ae,se=Ie,Cn=0;Cn<Kn;Cn++)(Ln=k[Cn]).length===2?(Y=Ln[0]*_t+Y,se=Ln[1]*vn+se,fi(Y,se)):(_s=Ln[0]*_t+Y,Ir=Ln[1]*vn+se,xr=Ln[2]*_t+Y,w=Ln[3]*vn+se,Y=Ln[4]*_t+Y,se=Ln[5]*vn+se,Kr(_s,Ir,xr,w,Y,se));return bt&&Xr(),_a(ze),this},g.path=function(k){for(var Ae=0;Ae<k.length;Ae++){var Ie=k[Ae],Re=Ie.c;switch(Ie.op){case"m":ll(Re[0],Re[1]);break;case"l":fi(Re[0],Re[1]);break;case"c":Kr.apply(this,Re);break;case"h":Xr()}}return this},g.__private__.rect=g.rect=function(k,Ae,Ie,Re,ze){if(isNaN(k)||isNaN(Ae)||isNaN(Ie)||isNaN(Re)||!Ns(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return Q===E&&(Re=-Re),he([U(G(k)),U(oe(Ae)),U(G(Ie)),U(G(Re)),"re"].join(" ")),_a(ze),this},g.__private__.triangle=g.triangle=function(k,Ae,Ie,Re,ze,bt,_t){if(isNaN(k)||isNaN(Ae)||isNaN(Ie)||isNaN(Re)||isNaN(ze)||isNaN(bt)||!Ns(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-k,Re-Ae],[ze-Ie,bt-Re],[k-ze,Ae-bt]],k,Ae,[1,1],_t,!0),this},g.__private__.roundedRect=g.roundedRect=function(k,Ae,Ie,Re,ze,bt,_t){if(isNaN(k)||isNaN(Ae)||isNaN(Ie)||isNaN(Re)||isNaN(ze)||isNaN(bt)||!Ns(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vn=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ie),bt=Math.min(bt,.5*Re),this.lines([[Ie-2*ze,0],[ze*vn,0,ze,bt-bt*vn,ze,bt],[0,Re-2*bt],[0,bt*vn,-ze*vn,bt,-ze,bt],[2*ze-Ie,0],[-ze*vn,0,-ze,-bt*vn,-ze,-bt],[0,2*bt-Re],[0,-bt*vn,ze*vn,-bt,ze,-bt]],k+ze,Ae,[1,1],_t,!0),this},g.__private__.ellipse=g.ellipse=function(k,Ae,Ie,Re,ze){if(isNaN(k)||isNaN(Ae)||isNaN(Ie)||isNaN(Re)||!Ns(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*Ie,_t=4/3*(Math.SQRT2-1)*Re;return ll(k+Ie,Ae),Kr(k+Ie,Ae-_t,k+bt,Ae-Re,k,Ae-Re),Kr(k-bt,Ae-Re,k-Ie,Ae-_t,k-Ie,Ae),Kr(k-Ie,Ae+_t,k-bt,Ae+Re,k,Ae+Re),Kr(k+bt,Ae+Re,k+Ie,Ae+_t,k+Ie,Ae),_a(ze),this},g.__private__.circle=g.circle=function(k,Ae,Ie,Re){if(isNaN(k)||isNaN(Ae)||isNaN(Ie)||!Ns(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,Ae,Ie,Ie,Re)},g.setFont=function(k,Ae,Ie){return Ie&&(Ae=L(Ae,Ie)),Vt=di(k,Ae,{disableWarning:!1}),this};var $i=g.__private__.getFont=g.getFont=function(){return Yt[di.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var k,Ae,Ie={};for(k in At)if(At.hasOwnProperty(k))for(Ae in Ie[k]=[],At[k])At[k].hasOwnProperty(Ae)&&Ie[k].push(Ae);return Ie},g.addFont=function(k,Ae,Ie,Re,ze){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(Ie=L(Ie,Re)),Ia.call(this,k,Ae,Ie,ze=ze||"Identity-H")};var mo,ti=n.lineWidth||.200025,mi=g.__private__.getLineWidth=g.getLineWidth=function(){return ti},Rn=g.__private__.setLineWidth=g.setLineWidth=function(k){return ti=k,he(U(G(k))+" w"),this};g.__private__.setLineDash=Mn.API.setLineDash=Mn.API.setLineDashPattern=function(k,Ae){if(k=k||[],Ae=Ae||0,isNaN(Ae)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Ie){return U(G(Ie))}).join(" "),Ae=U(G(Ae)),he("["+k+"] "+Ae+" d"),this};var Al=g.__private__.getLineHeight=g.getLineHeight=function(){return Ke*mo};g.__private__.getLineHeight=g.getLineHeight=function(){return Ke*mo};var Cl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(mo=k),this},oo=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return mo};Cl(n.lineHeight);var ca=g.__private__.getHorizontalCoordinate=function(k){return G(k)},Er=g.__private__.getVerticalCoordinate=function(k){return Q===F?k:st[J].mediaBox.topRightY-st[J].mediaBox.bottomLeftY-G(k)},va=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(k){return U(ca(k))},$s=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(k){return U(Er(k))},ya=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Hs(ya)},g.__private__.setStrokeColor=g.setDrawColor=function(k,Ae,Ie,Re){return ya=gr({ch1:k,ch2:Ae,ch3:Ie,ch4:Re,pdfColorType:"draw",precision:2}),he(ya),this};var Yi=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Hs(Yi)},g.__private__.setFillColor=g.setFillColor=function(k,Ae,Ie,Re){return Yi=gr({ch1:k,ch2:Ae,ch3:Ie,ch4:Re,pdfColorType:"fill",precision:2}),he(Yi),this};var ni=n.textColor||"0 g",Do=g.__private__.getTextColor=g.getTextColor=function(){return Hs(ni)};g.__private__.setTextColor=g.setTextColor=function(k,Ae,Ie,Re){return ni=gr({ch1:k,ch2:Ae,ch3:Ie,ch4:Re,pdfColorType:"text",precision:3}),this};var si=n.charSpace,Wi=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(si||0)};g.__private__.setCharSpace=g.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return si=k,this};var Kt=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(k){var Ae=g.CapJoinStyles[k];if(Ae===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kt=Ae,he(Ae+" J"),this};var hn=0;g.__private__.setLineJoin=g.setLineJoin=function(k){var Ae=g.CapJoinStyles[k];if(Ae===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hn=Ae,he(Ae+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(U(G(k))+" M"),this},g.GState=gg,g.setGState=function(k){(k=typeof k=="string"?it[Et[k]]:ss(null,k)).equals(Jt)||(he("/"+k.id+" gs"),Jt=k)};var ss=function(k,Ae){if(!k||!Et[k]){var Ie=!1;for(var Re in it)if(it.hasOwnProperty(Re)&&it[Re].equals(Ae)){Ie=!0;break}if(Ie)Ae=it[Re];else{var ze="GS"+(Object.keys(it).length+1).toString(10);it[ze]=Ae,Ae.id=ze}return k&&(Et[k]=Ae.id),Ft.publish("addGState",Ae),Ae}};g.addGState=function(k,Ae){return ss(k,Ae),this},g.saveGraphicsState=function(){return he("q"),Lt.push({key:Vt,size:Ke,color:ni}),this},g.restoreGraphicsState=function(){he("Q");var k=Lt.pop();return Vt=k.key,Ke=k.size,ni=k.color,Jt=null,this},g.setCurrentTransformationMatrix=function(k){return he(k.toString()+" cm"),this},g.comment=function(k){return he("#"+k),this};var Zn=function(k,Ae){var Ie=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(bt){isNaN(bt)||(Ie=parseFloat(bt))}});var Re=Ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(bt){isNaN(bt)||(Re=parseFloat(bt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(bt){ze=bt.toString()}}),this},Bn=function(k,Ae,Ie,Re){Zn.call(this,k,Ae),this.type="rect";var ze=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(_t){isNaN(_t)||(ze=parseFloat(_t))}});var bt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(_t){isNaN(_t)||(bt=parseFloat(_t))}}),this},rn=function(){this.page=vt,this.currentPage=J,this.pages=Fe.slice(0),this.pagesContext=st.slice(0),this.x=Dt,this.y=Dn,this.matrix=Gt,this.width=Fa(J),this.height=Ro(J),this.outputDestination=Je,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){vt=this.page,J=this.currentPage,st=this.pagesContext,Fe=this.pages,Dt=this.x,Dn=this.y,Gt=this.matrix,Xi(J,this.width),Tr(J,this.height),Je=this.outputDestination};var xs=function(k,Ae,Ie,Re,ze){Hn.push(new rn),vt=J=0,Fe=[],Dt=k,Dn=Ae,Gt=ze,xa([Ie,Re])};for(var zr in g.beginFormObject=function(k,Ae,Ie,Re,ze){return xs(k,Ae,Ie,Re,ze),this},g.endFormObject=function(k){return(function(Ae){if(Wn[Ae])Hn.pop().restore();else{var Ie=new rn,Re="Xo"+(Object.keys(dn).length+1).toString(10);Ie.id=Re,Wn[Ae]=Re,dn[Re]=Ie,Ft.publish("addFormObject",Ie),Hn.pop().restore()}})(k),this},g.doFormObject=function(k,Ae){var Ie=dn[Wn[k]];return he("q"),he(Ae.toString()+" cm"),he("/"+Ie.id+" Do"),he("Q"),this},g.getFormObject=function(k){var Ae=dn[Wn[k]];return{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height,matrix:Ae.matrix}},g.save=function(k,Ae){return k=k||"generated.pdf",(Ae=Ae||{}).returnPromise=Ae.returnPromise||!1,Ae.returnPromise===!1?(Lh(Ot(An()),k),typeof Lh.unload=="function"&&ds.setTimeout&&setTimeout(Lh.unload,911),this):new Promise(function(Ie,Re){try{var ze=Lh(Ot(An()),k);typeof Lh.unload=="function"&&ds.setTimeout&&setTimeout(Lh.unload,911),Ie(ze)}catch(bt){Re(bt.message)}})},Mn.API)Mn.API.hasOwnProperty(zr)&&(zr==="events"&&Mn.API.events.length?(function(k,Ae){var Ie,Re,ze;for(ze=Ae.length-1;ze!==-1;ze--)Ie=Ae[ze][0],Re=Ae[ze][1],k.subscribe.apply(k,[Ie].concat(typeof Re=="function"?[Re]:Re))})(Ft,Mn.API.events):g[zr]=Mn.API[zr]);function Fa(k){return st[k].mediaBox.topRightX-st[k].mediaBox.bottomLeftX}function Xi(k,Ae){st[k].mediaBox.topRightX=Ae+st[k].mediaBox.bottomLeftX}function Ro(k){return st[k].mediaBox.topRightY-st[k].mediaBox.bottomLeftY}function Tr(k,Ae){st[k].mediaBox.topRightY=Ae+st[k].mediaBox.bottomLeftY}var ua=g.getPageWidth=function(k){return Fa(k=k||J)/xt},Ua=g.setPageWidth=function(k,Ae){Xi(k,Ae*xt)},Jr=g.getPageHeight=function(k){return Ro(k=k||J)/xt},$a=g.setPageHeight=function(k,Ae){Tr(k,Ae*xt)};return g.internal={pdfEscape:Vr,getStyle:Aa,getFont:$i,getFontSize:Rt,getCharSpace:Wi,getTextColor:Do,getLineHeight:Al,getLineHeightFactor:oo,getLineWidth:mi,write:nt,getHorizontalCoordinate:ca,getVerticalCoordinate:Er,getCoordinateString:va,getVerticalCoordinateString:$s,collections:{},newObject:ln,newAdditionalObject:ur,newObjectDeferred:cs,newObjectDeferredBegin:or,getFilters:ia,putStream:ei,events:Ft,scaleFactor:xt,pageSize:{getWidth:function(){return ua(J)},setWidth:function(k){Ua(J,k)},getHeight:function(){return Jr(J)},setHeight:function(k){$a(J,k)}},encryptionOptions:A,encryption:yt,getEncryptor:function(k){return A!==null?yt.encryptor(k,0):function(Ae){return Ae}},output:Vn,getNumberOfPages:Bl,get pages(){return Fe},out:he,f2:O,f3:V,getPageInfo:Tn,getPageInfoByObjId:qn,getCurrentPageInfo:fs,getPDFVersion:I,Point:Zn,Rectangle:Bn,Matrix:Qt,hasHotfix:pn},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ua(J)},set:function(k){Ua(J,k)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Jr(J)},set:function(k){$a(J,k)},enumerable:!0,configurable:!0}),(function(k){for(var Ae=0,Ie=ht.length;Ae<Ie;Ae++){var Re=Ia.call(this,k[Ae][0],k[Ae][1],k[Ae][2],ht[Ae][3],!0);m===!1&&(x[Re]=!0);var ze=k[Ae][0].split("-");Gs({id:Re,fontName:ze[0],fontStyle:ze[1]||""})}Ft.publish("addFonts",{fonts:Yt,dictionary:At})}).call(g,ht),Vt="F1",Ni(r,t),Ft.publish("initialized"),g}Gf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Gf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Gf.prototype.processOwnerPassword=function(n,e){return Nb(Sb(e).substr(0,5),n)},Gf.prototype.encryptor=function(n,e){var t=Sb(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Nb(t,s)}},gg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Hr(n)!==Hr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Mn.API={events:[]},Mn.version="3.0.4";var Ai=Mn.API,h2=1,uf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ws=function(n){return n.toFixed(2)},yd=function(n){return n.toFixed(5)};Ai.__acroform__={};var Gl=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},JC=function(n){return n*h2},Oc=function(n){var e=new SI,t=En.internal.getHeight(n)||0,s=En.internal.getWidth(n)||0;return e.BBox=[0,0,Number(ws(s)),Number(ws(t))],e},V9=Ai.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},K9=Ai.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},z9=Ai.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ji=Ai.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return z9(n,e-1)},Bi=Ai.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return V9(n,e-1)},Ci=Ai.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K9(n,e-1)},G9=Ai.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,r=n[0],o=n[1],c=n[2],h=n[3],u={};return u.lowerLeft_X=t(r)||0,u.lowerLeft_Y=s(o+h)||0,u.upperRight_X=t(r+c)||0,u.upperRight_Y=s(o)||0,[Number(ws(u.lowerLeft_X)),Number(ws(u.lowerLeft_Y)),Number(ws(u.upperRight_X)),Number(ws(u.upperRight_Y))]},$9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=Eb(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+ws(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Oc(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Eb=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(O){return O.split(`
`)}):r.map(function(O){return[O]});var o=t,c=En.internal.getHeight(n)||0;c=c<0?-c:c;var h=En.internal.getWidth(n)||0;h=h<0?-h:h;var u=function(O,V,G){if(O+1<r.length){var oe=V+" "+r[O+1][0];return q0(oe,n,G).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var f,A,m=q0("3",n,o).height,x=n.multiline?c-o:(c-m)/2,g=x+=2,b=0,I=0,N=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+q0(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var S="",E=0,F=0;F<r.length;F++)if(r.hasOwnProperty(F)){var Q=!1;if(r[F].length!==1&&N!==r[F].length-1){if((m+2)*(E+2)+2>c)continue e;S+=r[F][N],Q=!0,I=F,F--}else{S=(S+=r[F][N]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var P=parseInt(F),H=u(P,S,o),L=F>=r.length-1;if(H&&!L){S+=" ",N=0;continue}if(H||L){if(L)I=P;else if(n.multiline&&(m+2)*(E+2)+2>c)continue e}else{if(!n.multiline||(m+2)*(E+2)+2>c)continue e;I=P}}for(var U="",R=b;R<=I;R++){var K=r[R];if(n.multiline){if(R===I){U+=K[N]+" ",N=(N+1)%K.length;continue}if(R===b){U+=K[K.length-1]+" ";continue}}U+=K[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,A=q0(U,n,o).width,n.textAlign){case"right":f=h-A-2;break;case"center":f=(h-A)/2;break;default:f=2}e+=ws(f)+" "+ws(g)+` Td
`,e+="("+uf(U)+`) Tj
`,e+=-ws(f)+` 0 Td
`,g=-(o+2),A=0,b=Q?I:I+1,E++,S=""}break}return s.text=e,s.fontSize=o,s},q0=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},Y9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},W9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},X9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(hc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Y9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new NI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in s)if(s.hasOwnProperty(r)){var o=s[r];o.objId=void 0,o.hasAnnotation&&W9(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,r){var o=!s;for(var c in s||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var h=s[c],u=[],f=h.Rect;if(h.Rect&&(h.Rect=G9(h.Rect,r)),r.internal.newObjectDeferredBegin(h.objId,!0),h.DA=En.createDefaultAppearanceStream(h),Hr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(u=h.getKeyValueListForStream()),h.Rect=f,h.hasAppearanceStream&&!h.appearanceStreamContent){var A=$9(h);u.push({key:"AP",value:"<</N "+A+">>"}),r.internal.acroformPlugin.xForms.push(A)}if(h.appearanceStreamContent){var m="";for(var x in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(x)){var g=h.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var b=g[c];typeof b=="function"&&(b=b.call(r,h)),m+="/"+c+" "+b+" ",r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(r,h)),m+="/"+c+" "+b,r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:h.objId}),r.internal.out("endobj")}o&&(function(I,N){for(var S in I)if(I.hasOwnProperty(S)){var E=S,F=I[S];N.internal.newObjectDeferredBegin(F.objId,!0),Hr(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete I[E]}})(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},CI=Ai.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var r="[",o=0;o<n.length;o++)switch(o!==0&&(r+=" "),Hr(n[o])){case"boolean":case"number":case"object":r+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),r+="("+uf(s(n[o].toString()))+")"):r+=n[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g1=function(n,e,t){var s=function(r){return r};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+uf(s(n))+")"},Mc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mc.prototype.toString=function(){return this.objId+" 0 R"},Mc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Mc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],r=this[s];r&&(Array.isArray(r)?n.push({key:s,value:CI(r,this.objId,this.scope)}):r instanceof Mc?(r.scope=this.scope,n.push({key:s,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:s,value:r}))}return n};var SI=function(){Mc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Gl(SI,Mc);var NI=function(){Mc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+uf(t(n))+")"}},set:function(t){n=t}})};Gl(NI,Mc);var hc=function n(){Mc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ji(e,3)},set:function(S){S?this.F=Bi(e,3):this.F=Ci(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(S){s=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(S){s[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(S){s[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(S){s[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(S){s[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof sv)return;o="FieldObject"+n.FieldNum++}var S=function(E){return E};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+uf(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/h2:f},set:function(S){f=S}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(S){A=S}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof sv||this instanceof kd))return g1(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=S}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ao==0?g1(x,this.objId,this.scope):x},set:function(S){S=S.toString(),x=this instanceof ao==0?S.substr(0,1)==="("?kf(S.substr(1,S.length-2)):kf(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao==1?kf(x.substr(1,x.length-1)):x},set:function(S){S=S.toString(),x=this instanceof ao==1?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ao==0?g1(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof ao==0?S.substr(0,1)==="("?kf(S.substr(1,S.length-2)):kf(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao==1?kf(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof ao==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(S){S=!!S,I=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(S){b=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,1)},set:function(S){S?this.Ff=Bi(this.Ff,1):this.Ff=Ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,2)},set:function(S){S?this.Ff=Bi(this.Ff,2):this.Ff=Ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,3)},set:function(S){S?this.Ff=Bi(this.Ff,3):this.Ff=Ci(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');N=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(N){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Gl(hc,Mc);var $h=function(){hc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CI(e,this.objId,this.scope)},set:function(t){var s,r;r=[],typeof(s=t)=="string"&&(r=(function(o,c,h){h||(h=1);for(var u,f=[];u=c.exec(o);)f.push(u[h]);return f})(s,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,18)},set:function(t){t?this.Ff=Bi(this.Ff,18):this.Ff=Ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Bi(this.Ff,19):this.Ff=Ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,20)},set:function(t){t?(this.Ff=Bi(this.Ff,20),e.sort()):this.Ff=Ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,22)},set:function(t){t?this.Ff=Bi(this.Ff,22):this.Ff=Ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,23)},set:function(t){t?this.Ff=Bi(this.Ff,23):this.Ff=Ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,27)},set:function(t){t?this.Ff=Bi(this.Ff,27):this.Ff=Ci(this.Ff,27)}}),this.hasAppearanceStream=!1};Gl($h,hc);var Yh=function(){$h.call(this),this.fontName="helvetica",this.combo=!1};Gl(Yh,$h);var Wh=function(){Yh.call(this),this.combo=!0};Gl(Wh,Yh);var Yp=function(){Wh.call(this),this.edit=!0};Gl(Yp,Wh);var ao=function(){hc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,15)},set:function(t){t?this.Ff=Bi(this.Ff,15):this.Ff=Ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,16)},set:function(t){t?this.Ff=Bi(this.Ff,16):this.Ff=Ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,17)},set:function(t){t?this.Ff=Bi(this.Ff,17):this.Ff=Ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,26)},set:function(t){t?this.Ff=Bi(this.Ff,26):this.Ff=Ci(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,r=[];for(s in r.push("<<"),e)r.push("/"+s+" ("+uf(t(e[s]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Hr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Gl(ao,hc);var Wp=function(){ao.call(this),this.pushButton=!0};Gl(Wp,ao);var Xh=function(){ao.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Gl(Xh,ao);var sv=function(){var n,e;hc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(h){return h};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+uf(r(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(r){Hr(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=En.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gl(sv,hc),Xh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Xh.prototype.createOption=function(n){var e=new sv;return e.Parent=this,e.optionName=n,this.Kids.push(e),J9.call(this.scope,e),e};var Xp=function(){ao.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=En.CheckBox.createAppearanceStream()};Gl(Xp,ao);var kd=function(){hc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,13)},set:function(e){e?this.Ff=Bi(this.Ff,13):this.Ff=Ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,21)},set:function(e){e?this.Ff=Bi(this.Ff,21):this.Ff=Ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,23)},set:function(e){e?this.Ff=Bi(this.Ff,23):this.Ff=Ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,24)},set:function(e){e?this.Ff=Bi(this.Ff,24):this.Ff=Ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,25)},set:function(e){e?this.Ff=Bi(this.Ff,25):this.Ff=Ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,26)},set:function(e){e?this.Ff=Bi(this.Ff,26):this.Ff=Ci(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gl(kd,hc);var Jp=function(){kd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,14)},set:function(n){n?this.Ff=Bi(this.Ff,14):this.Ff=Ci(this.Ff,14)}}),this.password=!0};Gl(Jp,kd);var En={CheckBox:{createAppearanceStream:function(){return{N:{On:En.CheckBox.YesNormal},D:{On:En.CheckBox.YesPushDown,Off:En.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Oc(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),o=Eb(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+ws(En.internal.getWidth(n))+" "+ws(En.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+ws(o.fontSize)+" Tf "+r),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Oc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),r=[],o=En.internal.getHeight(n),c=En.internal.getWidth(n),h=Eb(n,n.caption);return r.push("1 g"),r.push("0 0 "+ws(c)+" "+ws(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ws(c-1)+" "+ws(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+ws(h.fontSize)+" Tf "+s),r.push(h.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Oc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ws(En.internal.getWidth(n))+" "+ws(En.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:En.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=En.RadioButton.Circle.YesNormal,e.D[n]=En.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Oc(n);e.scope=n.scope;var t=[],s=En.internal.getWidth(n)<=En.internal.getHeight(n)?En.internal.getWidth(n)/4:En.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var r=En.internal.Bezier_C,o=Number((s*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yd(En.internal.getWidth(n)/2)+" "+yd(En.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Oc(n);e.scope=n.scope;var t=[],s=En.internal.getWidth(n)<=En.internal.getHeight(n)?En.internal.getWidth(n)/4:En.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var r=Number((2*s).toFixed(5)),o=Number((r*En.internal.Bezier_C).toFixed(5)),c=Number((s*En.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yd(En.internal.getWidth(n)/2)+" "+yd(En.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yd(En.internal.getWidth(n)/2)+" "+yd(En.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Oc(n);e.scope=n.scope;var t=[],s=En.internal.getWidth(n)<=En.internal.getHeight(n)?En.internal.getWidth(n)/4:En.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var r=Number((2*s).toFixed(5)),o=Number((r*En.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yd(En.internal.getWidth(n)/2)+" "+yd(En.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:En.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=En.RadioButton.Cross.YesNormal,e.D[n]=En.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Oc(n);e.scope=n.scope;var t=[],s=En.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+ws(En.internal.getWidth(n)-2)+" "+ws(En.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(ws(s.x1.x)+" "+ws(s.x1.y)+" m"),t.push(ws(s.x2.x)+" "+ws(s.x2.y)+" l"),t.push(ws(s.x4.x)+" "+ws(s.x4.y)+" m"),t.push(ws(s.x3.x)+" "+ws(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Oc(n);e.scope=n.scope;var t=En.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+ws(En.internal.getWidth(n))+" "+ws(En.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+ws(En.internal.getWidth(n)-2)+" "+ws(En.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(ws(t.x1.x)+" "+ws(t.x1.y)+" m"),s.push(ws(t.x2.x)+" "+ws(t.x2.y)+" l"),s.push(ws(t.x4.x)+" "+ws(t.x4.y)+" m"),s.push(ws(t.x3.x)+" "+ws(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Oc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ws(En.internal.getWidth(n))+" "+ws(En.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};En.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=En.internal.getWidth(n),t=En.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},En.internal.getWidth=function(n){var e=0;return Hr(n)==="object"&&(e=JC(n.Rect[2])),e},En.internal.getHeight=function(n){var e=0;return Hr(n)==="object"&&(e=JC(n.Rect[3])),e};var J9=Ai.addField=function(n){if(X9(this,n),!(n instanceof hc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=$h,Ai.AcroFormListBox=Yh,Ai.AcroFormComboBox=Wh,Ai.AcroFormEditBox=Yp,Ai.AcroFormButton=ao,Ai.AcroFormPushButton=Wp,Ai.AcroFormRadioButton=Xh,Ai.AcroFormCheckBox=Xp,Ai.AcroFormTextField=kd,Ai.AcroFormPasswordField=Jp,Ai.AcroFormAppearance=En,Ai.AcroForm={ChoiceField:$h,ListBox:Yh,ComboBox:Wh,EditBox:Yp,Button:ao,PushButton:Wp,RadioButton:Xh,CheckBox:Xp,TextField:kd,PasswordField:Jp,Appearance:En},Mn.AcroForm={ChoiceField:$h,ListBox:Yh,ComboBox:Wh,EditBox:Yp,Button:ao,PushButton:Wp,RadioButton:Xh,CheckBox:Xp,TextField:kd,PasswordField:Jp,Appearance:En};var q9=Mn.AcroForm;function EI(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(O,V){var G,oe,ge,le,X,W=t;if((V=V||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(H(O))for(X in s)for(ge=s[X],G=0;G<ge.length;G+=1){for(le=!0,oe=0;oe<ge[G].length;oe+=1)if(ge[G][oe]!==void 0&&ge[G][oe]!==O[oe]){le=!1;break}if(le===!0){W=X;break}}else for(X in s)for(ge=s[X],G=0;G<ge.length;G+=1){for(le=!0,oe=0;oe<ge[G].length;oe+=1)if(ge[G][oe]!==void 0&&ge[G][oe]!==O.charCodeAt(oe)){le=!1;break}if(le===!0){W=X;break}}return W===t&&V!==t&&(W=V),W},o=function O(V){for(var G=this.internal.write,oe=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:V.width}),le.push({key:"Height",value:V.height}),V.colorSpace===S.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===S.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var X="",W=0,re=V.transparency.length;W<re;W++)X+=V.transparency[W]+" "+V.transparency[W]+" ";le.push({key:"Mask",value:"["+X+"]"})}V.sMask!==void 0&&le.push({key:"SMask",value:V.objectId+1+" 0 R"});var me=V.filter!==void 0?["/"+V.filter]:void 0;if(oe({data:V.data,additionalKeyValues:le,alreadyAppliedFilters:me,objectId:V.objectId}),G("endobj"),"sMask"in V&&V.sMask!==void 0){var ee,M=(ee=V.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:V.bitsPerComponent,J={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:V.sMask};"filter"in V&&(J.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(V.width),J.filter=V.filter),O.call(this,J)}if(V.colorSpace===S.INDEXED){var ae=this.internal.newObject();oe({data:U(new Uint8Array(V.palette)),objectId:ae}),G("endobj")}},c=function(){var O=this.internal.collections[e+"images"];for(var V in O)o.call(this,O[V])},h=function(){var O,V=this.internal.collections[e+"images"],G=this.internal.write;for(var oe in V)G("/I"+(O=V[oe]).index,O.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},f=function(){var O=this.internal.collections[e+"images"];return u.call(this),O},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(O){return typeof n["process"+O.toUpperCase()]=="function"},x=function(O){return Hr(O)==="object"&&O.nodeType===1},g=function(O,V){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var G=""+O.getAttribute("src");if(G.indexOf("data:image/")===0)return wx(unescape(G).split("base64,").pop());var oe=n.loadFile(G,!0);if(oe!==void 0)return oe}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ge;switch(V){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return wx(O.toDataURL(ge,1).split("base64,").pop())}},b=function(O){var V=this.internal.collections[e+"images"];if(V){for(var G in V)if(O===V[G].alias)return V[G]}},I=function(O,V,G){return O||V||(O=-96,V=-96),O<0&&(O=-1*G.width*72/O/this.internal.scaleFactor),V<0&&(V=-1*G.height*72/V/this.internal.scaleFactor),O===0&&(O=V*G.width/G.height),V===0&&(V=O*G.height/G.width),[O,V]},N=function(O,V,G,oe,ge,le){var X=I.call(this,G,oe,ge),W=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,me=f.call(this);if(G=X[0],oe=X[1],me[ge.index]=ge,le){le*=Math.PI/180;var ee=Math.cos(le),M=Math.sin(le),J=function(ie){return ie.toFixed(4)},ae=[J(ee),J(M),J(-1*M),J(ee),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,W(O),re(V+oe),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([W(G),"0","0",W(oe),"0","0","cm"].join(" "))):this.internal.write([W(G),"0","0",W(oe),W(O),re(V+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=n.__addimage__.sHashCode=function(O){var V,G,oe=0;if(typeof O=="string")for(G=O.length,V=0;V<G;V++)oe=(oe<<5)-oe+O.charCodeAt(V),oe|=0;else if(H(O))for(G=O.byteLength/2,V=0;V<G;V++)oe=(oe<<5)-oe+O[V],oe|=0;return oe},Q=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var V=!0;return O.length===0&&(V=!1),O.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(V=!1),V},P=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var V=O.indexOf(",");return V<0?null:O.substring(0,V).trim().endsWith("base64")?O.substring(V+1):null};n.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var H=n.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},L=n.__addimage__.binaryStringToUint8Array=function(O){for(var V=O.length,G=new Uint8Array(V),oe=0;oe<V;oe++)G[oe]=O.charCodeAt(oe);return G},U=n.__addimage__.arrayBufferToBinaryString=function(O){for(var V="",G=H(O)?O:new Uint8Array(O),oe=0;oe<G.length;oe+=8192)V+=String.fromCharCode.apply(null,G.subarray(oe,oe+8192));return V};n.addImage=function(){var O,V,G,oe,ge,le,X,W,re;if(typeof arguments[1]=="number"?(V=t,G=arguments[1],oe=arguments[2],ge=arguments[3],le=arguments[4],X=arguments[5],W=arguments[6],re=arguments[7]):(V=arguments[1],G=arguments[2],oe=arguments[3],ge=arguments[4],le=arguments[5],X=arguments[6],W=arguments[7],re=arguments[8]),Hr(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var me=O;O=me.imageData,V=me.format||V||t,G=me.x||G||0,oe=me.y||oe||0,ge=me.w||me.width||ge,le=me.h||me.height||le,X=me.alias||X,W=me.compression||W,re=me.rotation||me.angle||re}var ee=this.internal.getFilters();if(W===void 0&&ee.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(G)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=R.call(this,O,V,X,W);return N.call(this,G,oe,ge,le,M,re),this};var R=function(O,V,G,oe){var ge,le,X;if(typeof O=="string"&&r(O)===t){O=unescape(O);var W=K(O,!1);(W!==""||(W=n.loadFile(O,!0))!==void 0)&&(O=W)}if(x(O)&&(O=g(O,V)),V=r(O,V),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((X=G)==null||X.length===0)&&(G=(function(re){return typeof re=="string"||H(re)?F(re):H(re.data)?F(re.data):null})(O)),(ge=b.call(this,G))||(O instanceof Uint8Array||V==="RGBA"||(le=O,O=L(O)),ge=this["process"+V.toUpperCase()](O,A.call(this),G,(function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in n.image_compression?re:E.NONE})(oe),le)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},K=n.__addimage__.convertBase64ToBinaryString=function(O,V){V=typeof V!="boolean"||V;var G,oe="";if(typeof O=="string"){var ge;G=(ge=P(O))!==null&&ge!==void 0?ge:O;try{oe=wx(G)}catch(le){if(V)throw Q(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(O){var V,G,oe="";if(x(O)&&(O=g(O)),typeof O=="string"&&r(O)===t&&((oe=K(O,!1))===""&&(oe=n.loadFile(O)||""),O=oe),G=r(O),!m(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(O instanceof Uint8Array||(O=L(O)),!(V=this["process"+G.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=G,V}})(Mn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Mn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,r,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,A=!1,m=0;m<f.length&&!A;m++)switch((s=f[m]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){s=f[x];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(I.objId),E=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y)+"] ")+"/Contents ("+g(S(s.contents))+")",o+=" /Popup "+N.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(S(E))+") >>",I.content=o;var F=I.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+c(s.bounds.x+30)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+h(s.bounds.y)+"] ")+" /Parent "+F,s.open&&(o+=" /Open true"),o+=" >>",N.content=o,this.internal.write(I.objId,"0 R",N.objId,"0 R");break;case"freetext":r="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y+s.bounds.h)+"] ";var Q=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(b(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Q+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var P=this.annotations._nameMap[s.options.name];s.options.pageNumber=P.page,s.options.top=P.y}else s.options.top||(s.options.top=0);if(r="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var H=h(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+H+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,r,o,c){var h=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:u(t),y:f(s),w:u(t+r),h:f(s+o)},options:c,type:"link"})},n.textWithLink=function(t,s,r,o){var c,h,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var A=this.splitTextToSize(t,h).length;c=Math.ceil(f*A)}else h=u,c=f;return this.text(t,s,r,o),r+=.2*f,o.align==="center"&&(s-=u/2),o.align==="right"&&(s-=u),this.link(s,r-f,h,c,o),u},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Mn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},h=n.__arabicParser__.isArabicEndLetter=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(I){return c(I)&&r.indexOf(I.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=3};var A=n.__arabicParser__.arabicLetterHasMedialForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(I){var N=0,S=t,E="",F=0;for(N=0;N<I.length;N+=1)S[I.charCodeAt(N)]!==void 0?(F++,typeof(S=S[I.charCodeAt(N)])=="number"&&(E+=String.fromCharCode(S),S=t,F=0),N===I.length-1&&(S=t,E+=I.charAt(N-(F-1)),N-=F-1,F=0)):(S=t,E+=I.charAt(N-F),N-=F,F=0);return E};n.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&s[I.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(I,N,S){return c(I)?o(I)===!1?-1:!f(I)||!c(N)&&!c(S)||!c(S)&&h(N)||h(I)&&!c(N)||h(I)&&u(N)||h(I)&&h(N)?0:A(I)&&c(N)&&!h(N)&&c(S)&&f(S)?3:h(I)||!c(S)?1:2:-1},g=function(I){var N=0,S=0,E=0,F="",Q="",P="",H=(I=I||"").split("\\s+"),L=[];for(N=0;N<H.length;N+=1){for(L.push(""),S=0;S<H[N].length;S+=1)F=H[N][S],Q=H[N][S-1],P=H[N][S+1],c(F)?(E=x(F,Q,P),L[N]+=E!==-1?String.fromCharCode(e[F.charCodeAt(0)][E]):F):L[N]+=F;L[N]=m(L[N])}return L.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var I,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(N)){var E=0;for(S=[],E=0;E<N.length;E+=1)Array.isArray(N[E])?S.push([g(N[E][0]),N[E][1],N[E][2]]):S.push([g(N[E])]);I=S}else I=g(N);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};n.events.push(["preProcessText",b])})(Mn.API),Mn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var r;if((t=t||"2d")!=="2d")return null;for(r in s)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=s[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Mn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(I){x=I}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(I){b=I}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return s.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){s.call(this);var A=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,g=0,b=0,I=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=f.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(F,Q){return F.concat(N.splitTextToSize(Q,S))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)g<(I=this.getStringUnitWidth(u[E],{font:m})*A)&&(g=I);return g!==0&&(b=u.length),{w:g/=x,h:Math.max((b*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var f=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-A,u.y+A,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+A,{align:"center",baseline:"top",maxWidth:u.width-A-A}):this.text(u.text,u.x+A,u.y+A,{align:"left",baseline:"top",maxWidth:u.width-A-A})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,A,m,x){if(s.call(this),!A)throw new Error("No data for PDF table.");var g,b,I,N,S=[],E=[],F=[],Q={},P={},H=[],L=[],U=(x=x||{}).autoSize||!1,R=x.printHeaders!==!1,K=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},e),V=typeof x.padding=="number"?x.padding:3,G=x.headerBackgroundColor||"#c8c8c8",oe=x.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=oe,this.setFontSize(K),m==null)E=S=Object.keys(A[0]),F=S.map(function(){return"left"});else if(Array.isArray(m)&&Hr(m[0])==="object")for(S=m.map(function(me){return me.name}),E=m.map(function(me){return me.prompt||me.name||""}),F=m.map(function(me){return me.align||"left"}),g=0;g<m.length;g+=1)P[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=S=m,F=S.map(function(){return"left"}));if(U||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<S.length;g+=1){for(Q[N=S[g]]=A.map(function(me){return me[N]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=Q[N],this.setFont(void 0,"normal"),I=0;I<b.length;I+=1)H.push(this.getTextDimensions(b[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[N]=Math.max.apply(null,H)+V+V,H=[]}if(R){var ge={};for(g=0;g<S.length;g+=1)ge[S[g]]={},ge[S[g]].text=E[g],ge[S[g]].align=F[g];var le=h.call(this,ge,P);L=S.map(function(me){return new o(u,f,P[me],le,ge[me].text,void 0,ge[me].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var X=m.reduce(function(me,ee){return me[ee.name]=ee.align,me},{});for(g=0;g<A.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:A[g]},this);var W=h.call(this,A[g],P);for(I=0;I<S.length;I+=1){var re=A[g][S[I]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:I,data:re},this),c.call(this,new o(u,f,P[S[I]],W,re,g+2,X[S[I]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var h=function(u,f){var A=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var b=u[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[g]-A-A)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/x+A+A},this).reduce(function(g,b){return Math.max(g,b)},0)};n.setTableHeaderRow=function(u){s.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){A=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(A.y=this.internal.__cell__.margins.top||0,x.push(A)),A.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,A),this.setTextColor(b)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Mn.API);var TI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},II=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tb=EI(II),_I=[100,200,300,400,500,600,700,800,900],Z9=EI(_I);function x1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return TI[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),r=(function(o){return typeof Tb[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,s].join(" ")}}}function qC(n,e,t,s){var r;for(r=t;r>=0&&r<e.length;r+=s)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=s)if(n[e[r]])return n[e[r]]}var eV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eS(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function tS(n){return n.trimLeft()}function tV(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function nV(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Z0,nS,sS,Mf,ex,rS,aS,iS,v1=["times"];function oS(n,e,t,s,r){var o=4,c=AS;switch(r){case Mn.API.image_compression.FAST:o=1,c=lS;break;case Mn.API.image_compression.MEDIUM:o=6,c=cS;break;case Mn.API.image_compression.SLOW:o=9,c=uS}n=(function(u,f,A,m){for(var x,g=u.length/f,b=new Uint8Array(u.length+g),I=[sV,lS,AS,cS,uS],N=0;N<g;N+=1){var S=N*f,E=u.subarray(S,S+f);if(m)b.set(m(E,A,x),S+N);else{for(var F=I.length,Q=[],P=0;P<F;P+=1)Q[P]=I[P](E,A,x);var H=aV(Q.concat());b.set(Q[H],S+N)}x=E}return b})(n,e,Math.ceil(t*s/8),c);var h=wb(n,{level:o});return Mn.API.__addimage__.arrayBufferToBinaryString(h)}function sV(n){var e=Array.apply([],n);return e.unshift(0),e}function lS(n,e){var t=n.length,s=[];s[0]=1;for(var r=0;r<t;r+=1){var o=n[r-e]||0;s[r+1]=n[r]-o+256&255}return s}function AS(n,e,t){var s=n.length,r=[];r[0]=2;for(var o=0;o<s;o+=1){var c=t&&t[o]||0;r[o+1]=n[o]-c+256&255}return r}function cS(n,e,t){var s=n.length,r=[];r[0]=3;for(var o=0;o<s;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;r[o+1]=n[o]+256-(c+h>>>1)&255}return r}function uS(n,e,t){var s=n.length,r=[];r[0]=4;for(var o=0;o<s;o+=1){var c=rV(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);r[o+1]=n[o]-c+256&255}return r}function rV(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),r=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=r&&s<=o?n:r<=o?e:t}function aV(n){var e=n.map(function(t){return t.reduce(function(s,r){return s+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function y1(n,e,t){var s=e*t,r=Math.floor(s/8),o=16-(s-8*r+t),c=(1<<t)-1;return FI(n,r)>>o&c}function dS(n,e,t,s){var r=t*s,o=Math.floor(r/8),c=16-(r-8*o+s),h=(1<<s)-1,u=(e&h)<<c;(function(f,A,m){if(A+1<f.byteLength)f.setUint16(A,m,!1);else{var x=m>>8&255;f.setUint8(A,x)}})(n,o,FI(n,o)&~(h<<c)&65535|u)}function FI(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function iV(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,r=n[e++],o=r>>7,c=1<<1+(7&r);n[e++],n[e++];var h=null,u=null;o&&(h=e,u=c,e+=3*c);var f=!0,A=[],m=0,x=null,g=0,b=null;for(this.width=t,this.height=s;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=n[e++];m=n[e++]|n[e++]<<8,x=n[e++],1&I||(x=null),g=I>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var N=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,Q=n[e++],P=Q>>6&1,H=1<<1+(7&Q),L=h,U=u,R=!1;Q>>7&&(R=!0,L=e,U=H,e+=3*H);var K=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}A.push({x:N,y:S,width:E,height:F,has_local_palette:R,palette_offset:L,palette_size:U,data_offset:K,data_length:e-K,transparent_index:x,interlaced:!!P,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return b},this.frameInfo=function(V){if(V<0||V>=A.length)throw new Error("Frame index out of range.");return A[V]},this.decodeAndBlitFrameBGRA=function(V,G){var oe=this.frameInfo(V),ge=oe.width*oe.height,le=new Uint8Array(ge);hS(n,oe.data_offset,le,ge);var X=oe.palette_offset,W=oe.transparent_index;W===null&&(W=256);var re=oe.width,me=t-re,ee=re,M=4*(oe.y*t+oe.x),J=4*((oe.y+oe.height)*t+oe.x),ae=M,ie=4*me;oe.interlaced===!0&&(ie+=4*t*7);for(var ce=8,ye=0,Ne=le.length;ye<Ne;++ye){var xe=le[ye];if(ee===0&&(ee=re,(ae+=ie)>=J&&(ie=4*me+4*t*(ce-1),ae=M+(re+me)*(ce<<1),ce>>=1)),xe===W)ae+=4;else{var Se=n[X+3*xe],Fe=n[X+3*xe+1],Qe=n[X+3*xe+2];G[ae++]=Qe,G[ae++]=Fe,G[ae++]=Se,G[ae++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(V,G){var oe=this.frameInfo(V),ge=oe.width*oe.height,le=new Uint8Array(ge);hS(n,oe.data_offset,le,ge);var X=oe.palette_offset,W=oe.transparent_index;W===null&&(W=256);var re=oe.width,me=t-re,ee=re,M=4*(oe.y*t+oe.x),J=4*((oe.y+oe.height)*t+oe.x),ae=M,ie=4*me;oe.interlaced===!0&&(ie+=4*t*7);for(var ce=8,ye=0,Ne=le.length;ye<Ne;++ye){var xe=le[ye];if(ee===0&&(ee=re,(ae+=ie)>=J&&(ie=4*me+4*t*(ce-1),ae=M+(re+me)*(ce<<1),ce>>=1)),xe===W)ae+=4;else{var Se=n[X+3*xe],Fe=n[X+3*xe+1],Qe=n[X+3*xe+2];G[ae++]=Se,G[ae++]=Fe,G[ae++]=Qe,G[ae++]=255}--ee}}}function hS(n,e,t,s){for(var r=n[e++],o=1<<r,c=o+1,h=c+1,u=r+1,f=(1<<u)-1,A=0,m=0,x=0,g=n[e++],b=new Int32Array(4096),I=null;;){for(;A<16&&g!==0;)m|=n[e++]<<A,A+=8,g===1?g=n[e++]:--g;if(A<u)break;var N=m&f;if(m>>=u,A-=u,N!==o){if(N===c)break;for(var S=N<h?N:I,E=0,F=S;F>o;)F=b[F]>>8,++E;var Q=F;if(x+E+(S!==N?1:0)>s)return void ra.log("Warning, gif stream longer than expected.");t[x++]=Q;var P=x+=E;for(S!==N&&(t[x++]=Q),F=S;E--;)F=b[F],t[--P]=255&F,F>>=8;I!==null&&h<4096&&(b[h++]=I<<8|Q,h>=f+1&&u<12&&(++u,f=f<<1|1)),I=N}else h=c+1,f=(1<<(u=r+1))-1,I=null}return x!==s&&ra.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function b1(n){var e,t,s,r,o,c=Math.floor,h=new Array(64),u=new Array(64),f=new Array(64),A=new Array(64),m=new Array(65535),x=new Array(65535),g=new Array(64),b=new Array(64),I=[],N=0,S=7,E=new Array(64),F=new Array(64),Q=new Array(64),P=new Array(256),H=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(M,J){for(var ae=0,ie=0,ce=new Array,ye=1;ye<=16;ye++){for(var Ne=1;Ne<=M[ye];Ne++)ce[J[ie]]=[],ce[J[ie]][0]=ae,ce[J[ie]][1]=ye,ie++,ae++;ae*=2}return ce}function X(M){for(var J=M[0],ae=M[1]-1;ae>=0;)J&1<<ae&&(N|=1<<S),ae--,--S<0&&(N==255?(W(255),W(0)):W(N),S=7,N=0)}function W(M){I.push(M)}function re(M){W(M>>8&255),W(255&M)}function me(M,J,ae,ie,ce){for(var ye,Ne=ce[0],xe=ce[240],Se=(function(Ke,Nt){var Rt,qt,Zt,sn,an,Xe,Ht,zt,Vt,xt,Dt=0;for(Vt=0;Vt<8;++Vt){Rt=Ke[Dt],qt=Ke[Dt+1],Zt=Ke[Dt+2],sn=Ke[Dt+3],an=Ke[Dt+4],Xe=Ke[Dt+5],Ht=Ke[Dt+6];var Dn=Rt+(zt=Ke[Dt+7]),Gt=Rt-zt,Yt=qt+Ht,At=qt-Ht,Lt=Zt+Xe,De=Zt-Xe,ft=sn+an,it=sn-an,Et=Dn+ft,Jt=Dn-ft,vt=Yt+Lt,st=Yt-Lt;Ke[Dt]=Et+vt,Ke[Dt+4]=Et-vt;var Ft=.707106781*(st+Jt);Ke[Dt+2]=Jt+Ft,Ke[Dt+6]=Jt-Ft;var Wt=.382683433*((Et=it+De)-(st=At+Gt)),dn=.5411961*Et+Wt,Wn=1.306562965*st+Wt,Hn=.707106781*(vt=De+At),Qt=Gt+Hn,hs=Gt-Hn;Ke[Dt+5]=hs+dn,Ke[Dt+3]=hs-dn,Ke[Dt+1]=Qt+Wn,Ke[Dt+7]=Qt-Wn,Dt+=8}for(Dt=0,Vt=0;Vt<8;++Vt){Rt=Ke[Dt],qt=Ke[Dt+8],Zt=Ke[Dt+16],sn=Ke[Dt+24],an=Ke[Dt+32],Xe=Ke[Dt+40],Ht=Ke[Dt+48];var Ts=Rt+(zt=Ke[Dt+56]),Is=Rt-zt,_n=qt+Ht,ln=qt-Ht,cs=Zt+Xe,or=Zt-Xe,ur=sn+an,Ur=sn-an,js=Ts+ur,Hs=Ts-ur,gr=_n+cs,ia=_n-cs;Ke[Dt]=js+gr,Ke[Dt+32]=js-gr;var ei=.707106781*(ia+Hs);Ke[Dt+16]=Hs+ei,Ke[Dt+48]=Hs-ei;var Si=.382683433*((js=Ur+or)-(ia=ln+Is)),Ss=.5411961*js+Si,Nr=1.306562965*ia+Si,ga=.707106781*(gr=or+ln),br=Is+ga,tr=Is-ga;Ke[Dt+40]=tr+Ss,Ke[Dt+24]=tr-Ss,Ke[Dt+8]=br+Nr,Ke[Dt+56]=br-Nr,Dt++}for(Vt=0;Vt<64;++Vt)xt=Ke[Vt]*Nt[Vt],g[Vt]=xt>0?xt+.5|0:xt-.5|0;return g})(M,J),Fe=0;Fe<64;++Fe)b[L[Fe]]=Se[Fe];var Qe=b[0]-ae;ae=b[0],Qe==0?X(ie[0]):(X(ie[x[ye=32767+Qe]]),X(m[ye]));for(var Je=63;Je>0&&b[Je]==0;)Je--;if(Je==0)return X(Ne),ae;for(var Pe,he=1;he<=Je;){for(var nt=he;b[he]==0&&he<=Je;)++he;var lt=he-nt;if(lt>=16){Pe=lt>>4;for(var ht=1;ht<=Pe;++ht)X(xe);lt&=15}ye=32767+b[he],X(ce[(lt<<4)+x[ye]]),X(m[ye]),he++}return Je!=63&&X(Ne),ae}function ee(M){M=Math.min(Math.max(M,1),100),o!=M&&((function(J){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ce=c((ae[ie]*J+50)/100);ce=Math.min(Math.max(ce,1),255),h[L[ie]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var xe=c((ye[Ne]*J+50)/100);xe=Math.min(Math.max(xe,1),255),u[L[Ne]]=xe}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Qe=0;Qe<8;Qe++)for(var Je=0;Je<8;Je++)f[Fe]=1/(h[L[Fe]]*Se[Qe]*Se[Je]*8),A[Fe]=1/(u[L[Fe]]*Se[Qe]*Se[Je]*8),Fe++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,J){J&&ee(J),I=new Array,N=0,S=7,re(65496),re(65504),re(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),re(1),re(1),W(0),W(0),(function(){re(65499),re(132),W(0);for(var qt=0;qt<64;qt++)W(h[qt]);W(1);for(var Zt=0;Zt<64;Zt++)W(u[Zt])})(),(function(qt,Zt){re(65472),re(17),W(8),re(Zt),re(qt),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(M.width,M.height),(function(){re(65476),re(418),W(0);for(var qt=0;qt<16;qt++)W(U[qt+1]);for(var Zt=0;Zt<=11;Zt++)W(R[Zt]);W(16);for(var sn=0;sn<16;sn++)W(K[sn+1]);for(var an=0;an<=161;an++)W(O[an]);W(1);for(var Xe=0;Xe<16;Xe++)W(V[Xe+1]);for(var Ht=0;Ht<=11;Ht++)W(G[Ht]);W(17);for(var zt=0;zt<16;zt++)W(oe[zt+1]);for(var Vt=0;Vt<=161;Vt++)W(ge[Vt])})(),re(65498),re(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ae=0,ie=0,ce=0;N=0,S=7,this.encode.displayName="_encode_";for(var ye,Ne,xe,Se,Fe,Qe,Je,Pe,he,nt=M.data,lt=M.width,ht=M.height,Ke=4*lt,Nt=0;Nt<ht;){for(ye=0;ye<Ke;){for(Fe=Ke*Nt+ye,Je=-1,Pe=0,he=0;he<64;he++)Qe=Fe+(Pe=he>>3)*Ke+(Je=4*(7&he)),Nt+Pe>=ht&&(Qe-=Ke*(Nt+1+Pe-ht)),ye+Je>=Ke&&(Qe-=ye+Je-Ke+4),Ne=nt[Qe++],xe=nt[Qe++],Se=nt[Qe++],E[he]=(H[Ne]+H[xe+256|0]+H[Se+512|0]>>16)-128,F[he]=(H[Ne+768|0]+H[xe+1024|0]+H[Se+1280|0]>>16)-128,Q[he]=(H[Ne+1280|0]+H[xe+1536|0]+H[Se+1792|0]>>16)-128;ae=me(E,f,ae,e,s),ie=me(F,A,ie,t,r),ce=me(Q,A,ce,t,r),ye+=32}Nt+=8}if(S>=0){var Rt=[];Rt[1]=S+1,Rt[0]=(1<<S+1)-1,X(Rt)}return re(65497),new Uint8Array(I)},n=n||50,(function(){for(var M=String.fromCharCode,J=0;J<256;J++)P[J]=M(J)})(),e=le(U,R),t=le(V,G),s=le(K,O),r=le(oe,ge),(function(){for(var M=1,J=2,ae=1;ae<=15;ae++){for(var ie=M;ie<J;ie++)x[32767+ie]=ae,m[32767+ie]=[],m[32767+ie][1]=ae,m[32767+ie][0]=ie;for(var ce=-(J-1);ce<=-M;ce++)x[32767+ce]=ae,m[32767+ce]=[],m[32767+ce][1]=ae,m[32767+ce][0]=J-1+ce;M<<=1,J<<=1}})(),(function(){for(var M=0;M<256;M++)H[M]=19595*M,H[M+256|0]=38470*M,H[M+512|0]=7471*M+32768,H[M+768|0]=-11059*M,H[M+1024|0]=-21709*M,H[M+1280|0]=32768*M+8421375,H[M+1536|0]=-27439*M,H[M+1792|0]=-5329*M})(),ee(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function tc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fS(n){function e(R){if(!R)throw Error("assert :P")}function t(R,K,O){for(var V=0;4>V;V++)if(R[K+V]!=O.charCodeAt(V))return!0;return!1}function s(R,K,O,V,G){for(var oe=0;oe<G;oe++)R[K+oe]=O[V+oe]}function r(R,K,O,V){for(var G=0;G<V;G++)R[K+G]=O}function o(R){return new Int32Array(R)}function c(R,K){for(var O=[],V=0;V<R;V++)O.push(new K);return O}function h(R,K){var O=[];return(function V(G,oe,ge){for(var le=ge[oe],X=0;X<le&&(G.push(ge.length>oe+1?[]:new K),!(ge.length<oe+1));X++)V(G[X],oe+1,ge)})(O,0,R),O}var u=function(){var R=this;function K(y,_){for(var z=1<<_-1>>>0;y&z;)z>>>=1;return z?(y&z-1)+z:y}function O(y,_,z,q,ue){e(!(q%z));do y[_+(q-=z)]=ue;while(0<q)}function V(y,_,z,q,ue){if(e(2328>=ue),512>=ue)var fe=o(512);else if((fe=o(ue))==null)return 0;return(function(pe,be,je,_e,Oe,qe){var Te,Me,He=be,pt=1<<je,We=o(16),mt=o(16);for(e(Oe!=0),e(_e!=null),e(pe!=null),e(0<je),Me=0;Me<Oe;++Me){if(15<_e[Me])return 0;++We[_e[Me]]}if(We[0]==Oe)return 0;for(mt[1]=0,Te=1;15>Te;++Te){if(We[Te]>1<<Te)return 0;mt[Te+1]=mt[Te]+We[Te]}for(Me=0;Me<Oe;++Me)Te=_e[Me],0<_e[Me]&&(qe[mt[Te]++]=Me);if(mt[15]==1)return(_e=new G).g=0,_e.value=qe[0],O(pe,He,1,pt,_e),pt;var jt,Mt=-1,Tt=pt-1,Sn=0,gn=1,as=1,bn=1<<je;for(Me=0,Te=1,Oe=2;Te<=je;++Te,Oe<<=1){if(gn+=as<<=1,0>(as-=We[Te]))return 0;for(;0<We[Te];--We[Te])(_e=new G).g=Te,_e.value=qe[Me++],O(pe,He+Sn,Oe,bn,_e),Sn=K(Sn,Te)}for(Te=je+1,Oe=2;15>=Te;++Te,Oe<<=1){if(gn+=as<<=1,0>(as-=We[Te]))return 0;for(;0<We[Te];--We[Te]){if(_e=new G,(Sn&Tt)!=Mt){for(He+=bn,jt=1<<(Mt=Te)-je;15>Mt&&!(0>=(jt-=We[Mt]));)++Mt,jt<<=1;pt+=bn=1<<(jt=Mt-je),pe[be+(Mt=Sn&Tt)].g=jt+je,pe[be+Mt].value=He-be-Mt}_e.g=Te-je,_e.value=qe[Me++],O(pe,He+(Sn>>je),Oe,bn,_e),Sn=K(Sn,Te)}}return gn!=2*mt[15]-1?0:pt})(y,_,z,q,ue,fe)}function G(){this.value=this.g=0}function oe(){this.value=this.g=0}function ge(){this.G=c(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Po,oe)}function le(y,_,z,q){e(y!=null),e(_!=null),e(2147483648>q),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=z,y.Jd=_,y.Yc=z+q,y.Zc=4<=q?z+q-4+1:z,Ne(y)}function X(y,_){for(var z=0;0<_--;)z|=Se(y,128)<<_;return z}function W(y,_){var z=X(y,_);return xe(y)?-z:z}function re(y,_,z,q){var ue,fe=0;for(e(y!=null),e(_!=null),e(4294967288>q),y.Sb=q,y.Ra=0,y.u=0,y.h=0,4<q&&(q=4),ue=0;ue<q;++ue)fe+=_[z+ue]<<8*ue;y.Ra=fe,y.bb=q,y.oa=_,y.pa=z}function me(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<ul-8>>>0,++y.bb,y.u-=8;ie(y)&&(y.h=1,y.u=0)}function ee(y,_){if(e(0<=_),!y.h&&_<=Ei){var z=ae(y)&Bs[_];return y.u+=_,me(y),z}return y.h=1,y.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(y){return y.Ra>>>(y.u&ul-1)>>>0}function ie(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>ul}function ce(y,_){y.u=_,y.h=ie(y)}function ye(y){y.u>=dl&&(e(y.u>=dl),me(y))}function Ne(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function xe(y){return X(y,1)}function Se(y,_){var z=y.Ca;0>y.b&&Ne(y);var q=y.b,ue=z*_>>>8,fe=(y.I>>>q>ue)+0;for(fe?(z-=ue,y.I-=ue+1<<q>>>0):z=ue+1,q=z,ue=0;256<=q;)ue+=8,q>>=8;return q=7^ue+Sl[q],y.b-=q,y.Ca=(z<<q)-1,fe}function Fe(y,_,z){y[_+0]=z>>24&255,y[_+1]=z>>16&255,y[_+2]=z>>8&255,y[_+3]=255&z}function Qe(y,_){return y[_+0]|y[_+1]<<8}function Je(y,_){return Qe(y,_)|y[_+2]<<16}function Pe(y,_){return Qe(y,_)|Qe(y,_+2)<<16}function he(y,_){var z=1<<_;return e(y!=null),e(0<_),y.X=o(z),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function nt(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),s(_.X,0,y.X,0,1<<_.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function ht(y,_,z,q){e(z!=null),e(q!=null);var ue=z[0],fe=q[0];return ue==0&&(ue=(y*fe+_/2)/_),fe==0&&(fe=(_*ue+y/2)/y),0>=ue||0>=fe?0:(z[0]=ue,q[0]=fe,1)}function Ke(y,_){return y+(1<<_)-1>>>_}function Nt(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function Rt(y,_){R[_]=function(z,q,ue,fe,pe,be,je){var _e;for(_e=0;_e<pe;++_e){var Oe=R[y](be[je+_e-1],ue,fe+_e);be[je+_e]=Nt(z[q+_e],Oe)}}}function qt(){this.ud=this.hd=this.jd=0}function Zt(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function sn(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function an(y,_){return sn(y+(y-_+.5>>1))}function Xe(y,_,z){return Math.abs(_-z)-Math.abs(y-z)}function Ht(y,_,z,q,ue,fe,pe){for(q=fe[pe-1],z=0;z<ue;++z)fe[pe+z]=q=Nt(y[_+z],q)}function zt(y,_,z,q,ue){var fe;for(fe=0;fe<z;++fe){var pe=y[_+fe],be=pe>>8&255,je=16711935&(je=(je=16711935&pe)+((be<<16)+be));q[ue+fe]=(4278255360&pe)+je>>>0}}function Vt(y,_){_.jd=255&y,_.hd=y>>8&255,_.ud=y>>16&255}function xt(y,_,z,q,ue,fe){var pe;for(pe=0;pe<q;++pe){var be=_[z+pe],je=be>>>8,_e=be,Oe=255&(Oe=(Oe=be>>>16)+((y.jd<<24>>24)*(je<<24>>24)>>>5));_e=255&(_e=(_e+=(y.hd<<24>>24)*(je<<24>>24)>>>5)+((y.ud<<24>>24)*(Oe<<24>>24)>>>5)),ue[fe+pe]=(4278255360&be)+(Oe<<16)+_e}}function Dt(y,_,z,q,ue){R[_]=function(fe,pe,be,je,_e,Oe,qe,Te,Me){for(je=qe;je<Te;++je)for(qe=0;qe<Me;++qe)_e[Oe++]=ue(be[q(fe[pe++])])},R[y]=function(fe,pe,be,je,_e,Oe,qe){var Te=8>>fe.b,Me=fe.Ea,He=fe.K[0],pt=fe.w;if(8>Te)for(fe=(1<<fe.b)-1,pt=(1<<Te)-1;pe<be;++pe){var We,mt=0;for(We=0;We<Me;++We)We&fe||(mt=q(je[_e++])),Oe[qe++]=ue(He[mt&pt]),mt>>=Te}else R["VP8LMapColor"+z](je,_e,He,pt,Oe,qe,pe,be,Me)}}function Dn(y,_,z,q,ue){for(z=_+z;_<z;){var fe=y[_++];q[ue++]=fe>>16&255,q[ue++]=fe>>8&255,q[ue++]=255&fe}}function Gt(y,_,z,q,ue){for(z=_+z;_<z;){var fe=y[_++];q[ue++]=fe>>16&255,q[ue++]=fe>>8&255,q[ue++]=255&fe,q[ue++]=fe>>24&255}}function Yt(y,_,z,q,ue){for(z=_+z;_<z;){var fe=(pe=y[_++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;q[ue++]=fe,q[ue++]=pe}}function At(y,_,z,q,ue){for(z=_+z;_<z;){var fe=(pe=y[_++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;q[ue++]=fe,q[ue++]=pe}}function Lt(y,_,z,q,ue){for(z=_+z;_<z;){var fe=y[_++];q[ue++]=255&fe,q[ue++]=fe>>8&255,q[ue++]=fe>>16&255}}function De(y,_,z,q,ue,fe){if(fe==0)for(z=_+z;_<z;)Fe(q,((fe=y[_++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),ue+=32;else s(q,ue,y,_,z)}function ft(y,_){R[_][0]=R[y+"0"],R[_][1]=R[y+"1"],R[_][2]=R[y+"2"],R[_][3]=R[y+"3"],R[_][4]=R[y+"4"],R[_][5]=R[y+"5"],R[_][6]=R[y+"6"],R[_][7]=R[y+"7"],R[_][8]=R[y+"8"],R[_][9]=R[y+"9"],R[_][10]=R[y+"10"],R[_][11]=R[y+"11"],R[_][12]=R[y+"12"],R[_][13]=R[y+"13"],R[_][14]=R[y+"0"],R[_][15]=R[y+"0"]}function it(y){return y==au||y==Mu||y==gc||y==KA}function Et(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Et,this.f.kb=new Jt,this.sd=null}function st(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function dn(y,_){var z=y.T,q=_.ba.f.RGBA,ue=q.eb,fe=q.fb+y.ka*q.A,pe=yi[_.ba.S],be=y.y,je=y.O,_e=y.f,Oe=y.N,qe=y.ea,Te=y.W,Me=_.cc,He=_.dc,pt=_.Mc,We=_.Nc,mt=y.ka,jt=y.ka+y.T,Mt=y.U,Tt=Mt+1>>1;for(mt==0?pe(be,je,null,null,_e,Oe,qe,Te,_e,Oe,qe,Te,ue,fe,null,null,Mt):(pe(_.ec,_.fc,be,je,Me,He,pt,We,_e,Oe,qe,Te,ue,fe-q.A,ue,fe,Mt),++z);mt+2<jt;mt+=2)Me=_e,He=Oe,pt=qe,We=Te,Oe+=y.Rc,Te+=y.Rc,fe+=2*q.A,pe(be,(je+=2*y.fa)-y.fa,be,je,Me,He,pt,We,_e,Oe,qe,Te,ue,fe-q.A,ue,fe,Mt);return je+=y.fa,y.j+jt<y.o?(s(_.ec,_.fc,be,je,Mt),s(_.cc,_.dc,_e,Oe,Tt),s(_.Mc,_.Nc,qe,Te,Tt),z--):1&jt||pe(be,je,null,null,_e,Oe,qe,Te,_e,Oe,qe,Te,ue,fe+q.A,null,null,Mt),z}function Wn(y,_,z){var q=y.F,ue=[y.J];if(q!=null){var fe=y.U,pe=_.ba.S,be=pe==ru||pe==gc;_=_.ba.f.RGBA;var je=[0],_e=y.ka;je[0]=y.T,y.Kb&&(_e==0?--je[0]:(--_e,ue[0]-=y.width),y.j+y.ka+y.T==y.o&&(je[0]=y.o-y.j-_e));var Oe=_.eb;_e=_.fb+_e*_.A,y=pc(q,ue[0],y.width,fe,je,Oe,_e+(be?0:3),_.A),e(z==je),y&&it(pe)&&hA(Oe,_e,be,fe,je,_.A)}return 0}function Hn(y){var _=y.ma,z=_.ba.S,q=11>z,ue=z==Fi||z==ko||z==ru||z==Xl||z==12||it(z);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Dr(_.Oa,y,ue?11:12))return 0;if(ue&&it(z)&&rs(),y.da)alert("todo:use_scaling");else{if(q){if(_.Ib=Wt,y.Kb){if(z=y.U+1>>1,_.memory=o(y.U+2*z),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+z,_.Ib=dn,rs()}}else alert("todo:EmitYUV");ue&&(_.Jb=Wn,q&&tt())}if(q&&!bA){for(y=0;256>y;++y)bi[y]=89858*(y-128)+vc>>zo,Fm[y]=-22014*(y-128)+vc,ff[y]=-45773*(y-128),Gu[y]=113618*(y-128)+vc>>zo;for(y=Ul;y<yA;++y)_=76283*(y-16)+vc>>zo,Um[y-Ul]=la(_,255),Dm[y-Ul]=la(_+8>>4,15);bA=1}return 1}function Qt(y){var _=y.ma,z=y.U,q=y.T;return e(!(1&y.ka)),0>=z||0>=q?0:(z=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,z),_.Dc+=z,1)}function hs(y){y.ma.memory=null}function Ts(y,_,z,q){return ee(y,8)!=47?0:(_[0]=ee(y,14)+1,z[0]=ee(y,14)+1,q[0]=ee(y,1),ee(y,3)!=0?0:!y.h)}function Is(y,_){if(4>y)return y+1;var z=y-2>>1;return(2+(1&y)<<z)+ee(_,z)+1}function _n(y,_){return 120<_?_-120:1<=(z=((z=Ho[_-1])>>4)*y+(8-(15&z)))?z:1;var z}function ln(y,_,z){var q=ae(z),ue=y[_+=255&q].g-8;return 0<ue&&(ce(z,z.u+8),q=ae(z),_+=y[_].value,_+=q&(1<<ue)-1),ce(z,z.u+y[_].g),y[_].value}function cs(y,_,z){return z.g+=y.g,z.value+=y.value<<_>>>0,e(8>=z.g),y.g}function or(y,_,z){var q=y.xc;return e((_=q==0?0:y.vc[y.md*(z>>q)+(_>>q)])<y.Wb),y.Ya[_]}function ur(y,_,z,q){var ue=y.ab,fe=y.c*_,pe=y.C;_=pe+_;var be=z,je=q;for(q=y.Ta,z=y.Ua;0<ue--;){var _e=y.gc[ue],Oe=pe,qe=_,Te=be,Me=je,He=(je=q,be=z,_e.Ea);switch(e(Oe<qe),e(qe<=_e.nc),_e.hc){case 2:da(Te,Me,(qe-Oe)*He,je,be);break;case 0:var pt=Oe,We=qe,mt=je,jt=be,Mt=(bn=_e).Ea;pt==0&&($l(Te,Me,null,null,1,mt,jt),Ht(Te,Me+1,0,0,Mt-1,mt,jt+1),Me+=Mt,jt+=Mt,++pt);for(var Tt=1<<bn.b,Sn=Tt-1,gn=Ke(Mt,bn.b),as=bn.K,bn=bn.w+(pt>>bn.b)*gn;pt<We;){var Fs=as,Lr=bn,us=1;for(PA(Te,Me,mt,jt-Mt,1,mt,jt);us<Mt;){var ct=(us&~Sn)+Tt;ct>Mt&&(ct=Mt),(0,Ti[Fs[Lr++]>>8&15])(Te,Me+ +us,mt,jt+us-Mt,ct-us,mt,jt+us),us=ct}Me+=Mt,jt+=Mt,++pt&Sn||(bn+=gn)}qe!=_e.nc&&s(je,be-He,je,be+(qe-Oe-1)*He,He);break;case 1:for(He=Te,We=Me,Mt=(Te=_e.Ea)-(jt=Te&~(mt=(Me=1<<_e.b)-1)),pt=Ke(Te,_e.b),Tt=_e.K,_e=_e.w+(Oe>>_e.b)*pt;Oe<qe;){for(Sn=Tt,gn=_e,as=new qt,bn=We+jt,Fs=We+Te;We<bn;)Vt(Sn[gn++],as),kA(as,He,We,Me,je,be),We+=Me,be+=Me;We<Fs&&(Vt(Sn[gn++],as),kA(as,He,We,Mt,je,be),We+=Mt,be+=Mt),++Oe&mt||(_e+=pt)}break;case 3:if(Te==je&&Me==be&&0<_e.b){for(We=je,Te=He=be+(qe-Oe)*He-(jt=(qe-Oe)*Ke(_e.Ea,_e.b)),Me=je,mt=be,pt=[],jt=(Mt=jt)-1;0<=jt;--jt)pt[jt]=Me[mt+jt];for(jt=Mt-1;0<=jt;--jt)We[Te+jt]=pt[jt];Ji(_e,Oe,qe,je,He,je,be)}else Ji(_e,Oe,qe,Te,Me,je,be)}be=q,je=z}je!=z&&s(q,z,be,je,fe)}function Ur(y,_){var z=y.V,q=y.Ba+y.c*y.C,ue=_-y.C;if(e(_<=y.l.o),e(16>=ue),0<ue){var fe=y.l,pe=y.Ta,be=y.Ua,je=fe.width;if(ur(y,ue,z,q),ue=be=[be],e((z=y.C)<(q=_)),e(fe.v<fe.va),q>fe.o&&(q=fe.o),z<fe.j){var _e=fe.j-z;z=fe.j,ue[0]+=_e*je}if(z>=q?z=0:(ue[0]+=4*fe.v,fe.ka=z-fe.j,fe.U=fe.va-fe.v,fe.T=q-z,z=1),z){if(be=be[0],11>(z=y.ca).S){var Oe=z.f.RGBA,qe=(q=z.S,ue=fe.U,fe=fe.T,_e=Oe.eb,Oe.A),Te=fe;for(Oe=Oe.fb+y.Ma*Oe.A;0<Te--;){var Me=pe,He=be,pt=ue,We=_e,mt=Oe;switch(q){case ku:MA(Me,He,pt,We,mt);break;case Fi:hl(Me,He,pt,We,mt);break;case au:hl(Me,He,pt,We,mt),hA(We,mt,0,pt,1,0);break;case Wl:fl(Me,He,pt,We,mt);break;case ko:De(Me,He,pt,We,mt,1);break;case Mu:De(Me,He,pt,We,mt,1),hA(We,mt,0,pt,1,0);break;case ru:De(Me,He,pt,We,mt,0);break;case gc:De(Me,He,pt,We,mt,0),hA(We,mt,1,pt,1,0);break;case Xl:Nl(Me,He,pt,We,mt);break;case KA:Nl(Me,He,pt,We,mt),go(We,mt,pt,1,0);break;case fA:El(Me,He,pt,We,mt);break;default:e(0)}be+=je,Oe+=qe}y.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=z.height)}}y.C=_,e(y.C<=y.i)}function js(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var z=y.Ya[_].G,q=y.Ya[_].H;if(0<z[1][q[1]+0].g||0<z[2][q[2]+0].g||0<z[3][q[3]+0].g)return 0}return 1}function Hs(y,_,z,q,ue,fe){if(y.Z!=0){var pe=y.qd,be=y.rd;for(e(_l[y.Z]!=null);_<z;++_)_l[y.Z](pe,be,q,ue,q,ue,fe),pe=q,be=ue,ue+=fe;y.qd=pe,y.rd=be}}function gr(y,_){var z=y.l.ma,q=z.Z==0||z.Z==1?y.l.j:y.C;if(q=y.C<q?q:y.C,e(_<=y.l.o),_>q){var ue=y.l.width,fe=z.ca,pe=z.tb+ue*q,be=y.V,je=y.Ba+y.c*q,_e=y.gc;e(y.ab==1),e(_e[0].hc==3),gi(_e[0],q,_,be,je,fe,pe),Hs(z,q,_,fe,pe,ue)}y.C=y.Ma=_}function ia(y,_,z,q,ue,fe,pe){var be=y.$/q,je=y.$%q,_e=y.m,Oe=y.s,qe=z+y.$,Te=qe;ue=z+q*ue;var Me=z+q*fe,He=280+Oe.ua,pt=y.Pb?be:16777216,We=0<Oe.ua?Oe.Wa:null,mt=Oe.wc,jt=qe<Me?or(Oe,je,be):null;e(y.C<fe),e(Me<=ue);var Mt=!1;e:for(;;){for(;Mt||qe<Me;){var Tt=0;if(be>=pt){var Sn=qe-z;e((pt=y).Pb),pt.wd=pt.m,pt.xd=Sn,0<pt.s.ua&&nt(pt.s.Wa,pt.s.vb),pt=be+pA}if(je&mt||(jt=or(Oe,je,be)),e(jt!=null),jt.Qb&&(_[qe]=jt.qb,Mt=!0),!Mt)if(ye(_e),jt.jc){Tt=_e,Sn=_;var gn=qe,as=jt.pd[ae(Tt)&Po-1];e(jt.jc),256>as.g?(ce(Tt,Tt.u+as.g),Sn[gn]=as.value,Tt=0):(ce(Tt,Tt.u+as.g-256),e(256<=as.value),Tt=as.value),Tt==0&&(Mt=!0)}else Tt=ln(jt.G[0],jt.H[0],_e);if(_e.h)break;if(Mt||256>Tt){if(!Mt)if(jt.nd)_[qe]=(jt.qb|Tt<<8)>>>0;else{if(ye(_e),Mt=ln(jt.G[1],jt.H[1],_e),ye(_e),Sn=ln(jt.G[2],jt.H[2],_e),gn=ln(jt.G[3],jt.H[3],_e),_e.h)break;_[qe]=(gn<<24|Mt<<16|Tt<<8|Sn)>>>0}if(Mt=!1,++qe,++je>=q&&(je=0,++be,pe!=null&&be<=fe&&!(be%16)&&pe(y,be),We!=null))for(;Te<qe;)Tt=_[Te++],We.X[(506832829*Tt&4294967295)>>>We.Mb]=Tt}else if(280>Tt){if(Tt=Is(Tt-256,_e),Sn=ln(jt.G[4],jt.H[4],_e),ye(_e),Sn=_n(q,Sn=Is(Sn,_e)),_e.h)break;if(qe-z<Sn||ue-qe<Tt)break e;for(gn=0;gn<Tt;++gn)_[qe+gn]=_[qe+gn-Sn];for(qe+=Tt,je+=Tt;je>=q;)je-=q,++be,pe!=null&&be<=fe&&!(be%16)&&pe(y,be);if(e(qe<=ue),je&mt&&(jt=or(Oe,je,be)),We!=null)for(;Te<qe;)Tt=_[Te++],We.X[(506832829*Tt&4294967295)>>>We.Mb]=Tt}else{if(!(Tt<He))break e;for(Mt=Tt-280,e(We!=null);Te<qe;)Tt=_[Te++],We.X[(506832829*Tt&4294967295)>>>We.Mb]=Tt;Tt=qe,e(!(Mt>>>(Sn=We).Xa)),_[Tt]=Sn.X[Mt],Mt=!0}Mt||e(_e.h==ie(_e))}if(y.Pb&&_e.h&&qe<ue)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&nt(y.s.vb,y.s.Wa);else{if(_e.h)break e;pe!=null&&pe(y,be>fe?fe:be),y.a=0,y.$=qe-z}return 1}return y.a=3,0}function ei(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function Si(){var y=new Kn;return y==null?null:(y.a=0,y.xb=lh,ft("Predictor","VP8LPredictors"),ft("Predictor","VP8LPredictors_C"),ft("PredictorAdd","VP8LPredictorsAdd"),ft("PredictorAdd","VP8LPredictorsAdd_C"),da=zt,kA=xt,MA=Dn,hl=Gt,Nl=Yt,El=At,fl=Lt,R.VP8LMapColor32b=pi,R.VP8LMapColor8b=Qs,y)}function Ss(y,_,z,q,ue){var fe=1,pe=[y],be=[_],je=q.m,_e=q.s,Oe=null,qe=0;e:for(;;){if(z)for(;fe&&ee(je,1);){var Te=pe,Me=be,He=q,pt=1,We=He.m,mt=He.gc[He.ab],jt=ee(We,2);if(He.Oc&1<<jt)fe=0;else{switch(He.Oc|=1<<jt,mt.hc=jt,mt.Ea=Te[0],mt.nc=Me[0],mt.K=[null],++He.ab,e(4>=He.ab),jt){case 0:case 1:mt.b=ee(We,3)+2,pt=Ss(Ke(mt.Ea,mt.b),Ke(mt.nc,mt.b),0,He,mt.K),mt.K=mt.K[0];break;case 3:var Mt,Tt=ee(We,8)+1,Sn=16<Tt?0:4<Tt?1:2<Tt?2:3;if(Te[0]=Ke(mt.Ea,Sn),mt.b=Sn,Mt=pt=Ss(Tt,1,0,He,mt.K)){var gn,as=Tt,bn=mt,Fs=1<<(8>>bn.b),Lr=o(Fs);if(Lr==null)Mt=0;else{var us=bn.K[0],ct=bn.w;for(Lr[0]=bn.K[0][0],gn=1;gn<1*as;++gn)Lr[gn]=Nt(us[ct+gn],Lr[gn-1]);for(;gn<4*Fs;++gn)Lr[gn]=0;bn.K[0]=null,bn.K[0]=Lr,Mt=1}}pt=Mt;break;case 2:break;default:e(0)}fe=pt}}if(pe=pe[0],be=be[0],fe&&ee(je,1)&&!(fe=1<=(qe=ee(je,4))&&11>=qe)){q.a=3;break e}var en;if(en=fe)t:{var qr,Gn,Xn,hr=q,Ra=pe,Ba=be,fr=qe,La=z,Ui=hr.m,Qa=hr.s,As=[null],Os=1,Qr=0,rr=Vo[fr];n:for(;;){if(La&&ee(Ui,1)){var Oa=ee(Ui,3)+2,Zr=Ke(Ra,Oa),Ps=Ke(Ba,Oa),Ca=Zr*Ps;if(!Ss(Zr,Ps,0,hr,As))break n;for(As=As[0],Qa.xc=Oa,qr=0;qr<Ca;++qr){var mr=As[qr]>>8&65535;As[qr]=mr,mr>=Os&&(Os=mr+1)}}if(Ui.h)break n;for(Gn=0;5>Gn;++Gn){var Pa=zA[Gn];!Gn&&0<fr&&(Pa+=1<<fr),Qr<Pa&&(Qr=Pa)}var ka=c(Os*rr,G),wr=Os,Ks=c(wr,ge);if(Ks==null)var Di=null;else e(65536>=wr),Di=Ks;var fa=o(Qr);if(Di==null||fa==null||ka==null){hr.a=1;break n}var On=ka;for(qr=Xn=0;qr<Os;++qr){var zn=Di[qr],Js=zn.G,Ao=zn.H,yo=0,to=1,ea=0;for(Gn=0;5>Gn;++Gn){Pa=zA[Gn],Js[Gn]=On,Ao[Gn]=Xn,!Gn&&0<fr&&(Pa+=1<<fr);r:{var wA,Dl=Pa,wc=hr,jr=fa,Yu=On,Ah=Xn,lu=0,gl=wc.m,ch=ee(gl,1);if(r(jr,0,0,Dl),ch){var Wu=ee(gl,1)+1,Xu=ee(gl,1),Au=ee(gl,Xu==0?1:8);jr[Au]=1,Wu==2&&(jr[Au=ee(gl,8)]=1);var Wa=1}else{var Gr=o(19),cu=ee(gl,4)+4;if(19<cu){wc.a=3;var jA=0;break r}for(wA=0;wA<cu;++wA)Gr[mA[wA]]=ee(gl,3);var jc=void 0,ii=void 0,Go=wc,Ju=Gr,Bc=Dl,qu=jr,Zu=0,ql=Go.m,uh=8,dh=c(128,G);s:for(;V(dh,0,7,Ju,19);){if(ee(ql,1)){var mf=2+2*ee(ql,3);if((jc=2+ee(ql,mf))>Bc)break s}else jc=Bc;for(ii=0;ii<Bc&&jc--;){ye(ql);var hh=dh[0+(127&ae(ql))];ce(ql,ql.u+hh.g);var Zl=hh.value;if(16>Zl)qu[ii++]=Zl,Zl!=0&&(uh=Zl);else{var pf=Zl==16,ed=Zl-16,fh=xc[ed],Xa=ee(ql,Mo[ed])+fh;if(ii+Xa>Bc)break s;for(var Cc=pf?uh:0;0<Xa--;)qu[ii++]=Cc}}Zu=1;break s}Zu||(Go.a=3),Wa=Zu}(Wa=Wa&&!gl.h)&&(lu=V(Yu,Ah,8,jr,Dl)),Wa&&lu!=0?jA=lu:(wc.a=3,jA=0)}if(jA==0)break n;if(to&&Hu[Gn]==1&&(to=On[Xn].g==0),yo+=On[Xn].g,Xn+=jA,3>=Gn){var $A,td=fa[0];for($A=1;$A<Pa;++$A)fa[$A]>td&&(td=fa[$A]);ea+=td}}if(zn.nd=to,zn.Qb=0,to&&(zn.qb=(Js[3][Ao[3]+0].value<<24|Js[1][Ao[1]+0].value<<16|Js[2][Ao[2]+0].value)>>>0,yo==0&&256>Js[0][Ao[0]+0].value&&(zn.Qb=1,zn.qb+=Js[0][Ao[0]+0].value<<8)),zn.jc=!zn.Qb&&6>ea,zn.jc){var Sc,$o=zn;for(Sc=0;Sc<Po;++Sc){var eA=Sc,tA=$o.pd[eA],nd=$o.G[0][$o.H[0]+eA];256<=nd.value?(tA.g=nd.g+256,tA.value=nd.value):(tA.g=0,tA.value=0,eA>>=cs(nd,8,tA),eA>>=cs($o.G[1][$o.H[1]+eA],16,tA),eA>>=cs($o.G[2][$o.H[2]+eA],0,tA),cs($o.G[3][$o.H[3]+eA],24,tA))}}}Qa.vc=As,Qa.Wb=Os,Qa.Ya=Di,Qa.yc=ka,en=1;break t}en=0}if(!(fe=en)){q.a=3;break e}if(0<qe){if(_e.ua=1<<qe,!he(_e.Wa,qe)){q.a=1,fe=0;break e}}else _e.ua=0;var sd=q,YA=pe,gf=be,Nc=sd.s,Ec=Nc.xc;if(sd.c=YA,sd.i=gf,Nc.md=Ke(YA,Ec),Nc.wc=Ec==0?-1:(1<<Ec)-1,z){q.xb=gA;break e}if((Oe=o(pe*be))==null){q.a=1,fe=0;break e}fe=(fe=ia(q,Oe,0,pe,be,be,null))&&!je.h;break e}return fe?(ue!=null?ue[0]=Oe:(e(Oe==null),e(z)),q.$=0,z||ei(_e)):ei(_e),fe}function Nr(y,_){var z=y.c*y.i,q=z+_+16*_;return e(y.c<=_),y.V=o(q),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+z+_,1)}function ga(y,_){var z=y.C,q=_-z,ue=y.V,fe=y.Ba+y.c*z;for(e(_<=y.l.o);0<q;){var pe=16<q?16:q,be=y.l.ma,je=y.l.width,_e=je*pe,Oe=be.ca,qe=be.tb+je*z,Te=y.Ta,Me=y.Ua;ur(y,pe,ue,fe),xo(Te,Me,Oe,qe,_e),Hs(be,z,z+pe,Oe,qe,je),q-=pe,ue+=pe*y.c,z+=pe}e(z==_),y.C=y.Ma=_}function br(){this.ub=this.yd=this.td=this.Rb=0}function tr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oa(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ga(){this.Yb=(function(){var y=[];return(function _(z,q,ue){for(var fe=ue[q],pe=0;pe<fe&&(z.push(ue.length>q+1?[]:0),!(ue.length<q+1));pe++)_(z[pe],q+1,ue)})(y,0,[3,11]),y})()}function Gs(){this.jb=o(3),this.Wc=h([4,8],Ga),this.Xc=h([4,17],Ga)}function Ia(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function xa(){this.Na=this.la=0}function Ni(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new Gi),this.aa=0,this.l=new Ee}function Bl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function di(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new br,this.Kc=new tr,this.ed=new Ia,this.Qa=new oa,this.Ic=this.$c=this.Aa=0,this.D=new jl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,M),this.ia=0,this.pb=c(4,Ni),this.Pa=new Gs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bl),this.Hd=0,this.rb=Array(new xa),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gi),this.L=this.aa=0,this.gd=h([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function la(y,_){return 0>y?0:y>_?_:y}function Ee(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function at(){var y=new di;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,vo||(vo=Ot)),y}function dt(y,_,z){return y.a==0&&(y.a=_,y.sc=z,y.cb=0),0}function kt(y,_,z){return 3<=z&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function An(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return dt(y,2,"null VP8Io passed to VP8GetHeaders()");var z=_.data,q=_.w,ue=_.ha;if(4>ue)return dt(y,7,"Truncated header.");var fe=z[q+0]|z[q+1]<<8|z[q+2]<<16,pe=y.Od;if(pe.Rb=!(1&fe),pe.td=fe>>1&7,pe.yd=fe>>4&1,pe.ub=fe>>5,3<pe.td)return dt(y,3,"Incorrect keyframe parameters.");if(!pe.yd)return dt(y,4,"Frame not displayable.");q+=3,ue-=3;var be=y.Kc;if(pe.Rb){if(7>ue)return dt(y,7,"cannot parse picture header");if(!kt(z,q,ue))return dt(y,3,"Bad code word");be.c=16383&(z[q+4]<<8|z[q+3]),be.Td=z[q+4]>>6,be.i=16383&(z[q+6]<<8|z[q+5]),be.Ud=z[q+6]>>6,q+=7,ue-=7,y.za=be.c+15>>4,y.Ub=be.i+15>>4,_.width=be.c,_.height=be.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((fe=y.Pa).jb,0,255,fe.jb.length),e((fe=y.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,r(fe.Zb,0,0,fe.Zb.length),r(fe.Lb,0,0,fe.Lb)}if(pe.ub>ue)return dt(y,7,"bad partition length");le(fe=y.m,z,q,pe.ub),q+=pe.ub,ue-=pe.ub,pe.Rb&&(be.Ld=xe(fe),be.Kd=xe(fe)),be=y.Qa;var je,_e=y.Pa;if(e(fe!=null),e(be!=null),be.Cb=xe(fe),be.Cb){if(be.Bb=xe(fe),xe(fe)){for(be.Fb=xe(fe),je=0;4>je;++je)be.Zb[je]=xe(fe)?W(fe,7):0;for(je=0;4>je;++je)be.Lb[je]=xe(fe)?W(fe,6):0}if(be.Bb)for(je=0;3>je;++je)_e.jb[je]=xe(fe)?X(fe,8):255}else be.Bb=0;if(fe.Ka)return dt(y,3,"cannot parse segment header");if((be=y.ed).zd=xe(fe),be.Tb=X(fe,6),be.wb=X(fe,3),be.Pc=xe(fe),be.Pc&&xe(fe)){for(_e=0;4>_e;++_e)xe(fe)&&(be.vd[_e]=W(fe,6));for(_e=0;4>_e;++_e)xe(fe)&&(be.od[_e]=W(fe,6))}if(y.L=be.Tb==0?0:be.zd?1:2,fe.Ka)return dt(y,3,"cannot parse filter header");var Oe=ue;if(ue=je=q,q=je+Oe,be=Oe,y.Xb=(1<<X(y.m,2))-1,Oe<3*(_e=y.Xb))z=7;else{for(je+=3*_e,be-=3*_e,Oe=0;Oe<_e;++Oe){var qe=z[ue+0]|z[ue+1]<<8|z[ue+2]<<16;qe>be&&(qe=be),le(y.Jc[+Oe],z,je,qe),je+=qe,be-=qe,ue+=3}le(y.Jc[+_e],z,je,be),z=je<q?0:5}if(z!=0)return dt(y,z,"cannot parse partitions");for(z=X(je=y.m,7),ue=xe(je)?W(je,4):0,q=xe(je)?W(je,4):0,be=xe(je)?W(je,4):0,_e=xe(je)?W(je,4):0,je=xe(je)?W(je,4):0,Oe=y.Qa,qe=0;4>qe;++qe){if(Oe.Cb){var Te=Oe.Zb[qe];Oe.Fb||(Te+=z)}else{if(0<qe){y.pb[qe]=y.pb[0];continue}Te=z}var Me=y.pb[qe];Me.Sc[0]=Ko[la(Te+ue,127)],Me.Sc[1]=Zi[la(Te+0,127)],Me.Eb[0]=2*Ko[la(Te+q,127)],Me.Eb[1]=101581*Zi[la(Te+be,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=Ko[la(Te+_e,117)],Me.Qc[1]=Zi[la(Te+je,127)],Me.lc=Te+je}if(!pe.Rb)return dt(y,4,"Not a key frame.");for(xe(fe),pe=y.Pa,z=0;4>z;++z){for(ue=0;8>ue;++ue)for(q=0;3>q;++q)for(be=0;11>be;++be)_e=Se(fe,Rr[z][ue][q][be])?X(fe,8):hf[z][ue][q][be],pe.Wc[z][ue].Yb[q][be]=_e;for(ue=0;17>ue;++ue)pe.Xc[z][ue]=pe.Wc[z][Ds[ue]]}return y.kc=xe(fe),y.kc&&(y.Bd=X(fe,8)),y.cb=1}function Ot(y,_,z,q,ue,fe,pe){var be=_[ue].Yb[z];for(z=0;16>ue;++ue){if(!Se(y,be[z+0]))return ue;for(;!Se(y,be[z+1]);)if(be=_[++ue].Yb[0],z=0,ue==16)return 16;var je=_[ue+1].Yb;if(Se(y,be[z+2])){var _e=y,Oe=0;if(Se(_e,(Te=be)[(qe=z)+3]))if(Se(_e,Te[qe+6])){for(be=0,qe=2*(Oe=Se(_e,Te[qe+8]))+(Te=Se(_e,Te[qe+9+Oe])),Oe=0,Te=df[qe];Te[be];++be)Oe+=Oe+Se(_e,Te[be]);Oe+=3+(8<<qe)}else Se(_e,Te[qe+7])?(Oe=7+2*Se(_e,165),Oe+=Se(_e,145)):Oe=5+Se(_e,159);else Oe=Se(_e,Te[qe+4])?3+Se(_e,Te[qe+5]):2;be=je[2]}else Oe=1,be=je[1];je=pe+oh[ue],0>(_e=y).b&&Ne(_e);var qe,Te=_e.b,Me=(qe=_e.Ca>>1)-(_e.I>>Te)>>31;--_e.b,_e.Ca+=Me,_e.Ca|=1,_e.I-=(qe+1&Me)<<Te,fe[je]=((Oe^Me)-Me)*q[(0<ue)+0]}return 16}function Vn(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function pn(y,_,z,q,ue){ue=y[_+z+32*q]+(ue>>3),y[_+z+32*q]=-256&ue?0>ue?0:255:ue}function yt(y,_,z,q,ue,fe){pn(y,_,0,z,q+ue),pn(y,_,1,z,q+fe),pn(y,_,2,z,q-fe),pn(y,_,3,z,q-ue)}function Tn(y){return(20091*y>>16)+y}function qn(y,_,z,q){var ue,fe=0,pe=o(16);for(ue=0;4>ue;++ue){var be=y[_+0]+y[_+8],je=y[_+0]-y[_+8],_e=(35468*y[_+4]>>16)-Tn(y[_+12]),Oe=Tn(y[_+4])+(35468*y[_+12]>>16);pe[fe+0]=be+Oe,pe[fe+1]=je+_e,pe[fe+2]=je-_e,pe[fe+3]=be-Oe,fe+=4,_++}for(ue=fe=0;4>ue;++ue)be=(y=pe[fe+0]+4)+pe[fe+8],je=y-pe[fe+8],_e=(35468*pe[fe+4]>>16)-Tn(pe[fe+12]),pn(z,q,0,0,be+(Oe=Tn(pe[fe+4])+(35468*pe[fe+12]>>16))),pn(z,q,1,0,je+_e),pn(z,q,2,0,je-_e),pn(z,q,3,0,be-Oe),fe++,q+=32}function fs(y,_,z,q){var ue=y[_+0]+4,fe=35468*y[_+4]>>16,pe=Tn(y[_+4]),be=35468*y[_+1]>>16;yt(z,q,0,ue+pe,y=Tn(y[_+1]),be),yt(z,q,1,ue+fe,y,be),yt(z,q,2,ue-fe,y,be),yt(z,q,3,ue-pe,y,be)}function dr(y,_,z,q,ue){qn(y,_,z,q),ue&&qn(y,_+16,z,q+4)}function Ns(y,_,z,q){Yl(y,_+0,z,q,1),Yl(y,_+32,z,q+128,1)}function Aa(y,_,z,q){var ue;for(y=y[_+0]+4,ue=0;4>ue;++ue)for(_=0;4>_;++_)pn(z,q,_,ue,y)}function Xr(y,_,z,q){y[_+0]&&Xs(y,_+0,z,q),y[_+16]&&Xs(y,_+16,z,q+4),y[_+32]&&Xs(y,_+32,z,q+128),y[_+48]&&Xs(y,_+48,z,q+128+4)}function Ls(y,_,z,q){var ue,fe=o(16);for(ue=0;4>ue;++ue){var pe=y[_+0+ue]+y[_+12+ue],be=y[_+4+ue]+y[_+8+ue],je=y[_+4+ue]-y[_+8+ue],_e=y[_+0+ue]-y[_+12+ue];fe[0+ue]=pe+be,fe[8+ue]=pe-be,fe[4+ue]=_e+je,fe[12+ue]=_e-je}for(ue=0;4>ue;++ue)pe=(y=fe[0+4*ue]+3)+fe[3+4*ue],be=fe[1+4*ue]+fe[2+4*ue],je=fe[1+4*ue]-fe[2+4*ue],_e=y-fe[3+4*ue],z[q+0]=pe+be>>3,z[q+16]=_e+je>>3,z[q+32]=pe-be>>3,z[q+48]=_e-je>>3,q+=64}function _a(y,_,z){var q,ue=_-32,fe=_i,pe=255-y[ue-1];for(q=0;q<z;++q){var be,je=fe,_e=pe+y[_-1];for(be=0;be<z;++be)y[_+be]=je[_e+y[ue+be]];_+=32}}function hi(y,_){_a(y,_,4)}function Uo(y,_){_a(y,_,8)}function fo(y,_){_a(y,_,16)}function ll(y,_){var z;for(z=0;16>z;++z)s(y,_+32*z,y,_-32,16)}function fi(y,_){var z;for(z=16;0<z;--z)r(y,_,y[_-1],16),_+=32}function Kr(y,_,z){var q;for(q=0;16>q;++q)r(_,z+32*q,y,16)}function $i(y,_){var z,q=16;for(z=0;16>z;++z)q+=y[_-1+32*z]+y[_+z-32];Kr(q>>5,y,_)}function mo(y,_){var z,q=8;for(z=0;16>z;++z)q+=y[_-1+32*z];Kr(q>>4,y,_)}function ti(y,_){var z,q=8;for(z=0;16>z;++z)q+=y[_+z-32];Kr(q>>4,y,_)}function mi(y,_){Kr(128,y,_)}function Rn(y,_,z){return y+2*_+z+2>>2}function Al(y,_){var z,q=_-32;for(q=new Uint8Array([Rn(y[q-1],y[q+0],y[q+1]),Rn(y[q+0],y[q+1],y[q+2]),Rn(y[q+1],y[q+2],y[q+3]),Rn(y[q+2],y[q+3],y[q+4])]),z=0;4>z;++z)s(y,_+32*z,q,0,q.length)}function Cl(y,_){var z=y[_-1],q=y[_-1+32],ue=y[_-1+64],fe=y[_-1+96];Fe(y,_+0,16843009*Rn(y[_-1-32],z,q)),Fe(y,_+32,16843009*Rn(z,q,ue)),Fe(y,_+64,16843009*Rn(q,ue,fe)),Fe(y,_+96,16843009*Rn(ue,fe,fe))}function oo(y,_){var z,q=4;for(z=0;4>z;++z)q+=y[_+z-32]+y[_-1+32*z];for(q>>=3,z=0;4>z;++z)r(y,_+32*z,q,4)}function ca(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],fe=y[_-1-32],pe=y[_+0-32],be=y[_+1-32],je=y[_+2-32],_e=y[_+3-32];y[_+0+96]=Rn(q,ue,y[_-1+96]),y[_+1+96]=y[_+0+64]=Rn(z,q,ue),y[_+2+96]=y[_+1+64]=y[_+0+32]=Rn(fe,z,q),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=Rn(pe,fe,z),y[_+3+64]=y[_+2+32]=y[_+1+0]=Rn(be,pe,fe),y[_+3+32]=y[_+2+0]=Rn(je,be,pe),y[_+3+0]=Rn(_e,je,be)}function Er(y,_){var z=y[_+1-32],q=y[_+2-32],ue=y[_+3-32],fe=y[_+4-32],pe=y[_+5-32],be=y[_+6-32],je=y[_+7-32];y[_+0+0]=Rn(y[_+0-32],z,q),y[_+1+0]=y[_+0+32]=Rn(z,q,ue),y[_+2+0]=y[_+1+32]=y[_+0+64]=Rn(q,ue,fe),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=Rn(ue,fe,pe),y[_+3+32]=y[_+2+64]=y[_+1+96]=Rn(fe,pe,be),y[_+3+64]=y[_+2+96]=Rn(pe,be,je),y[_+3+96]=Rn(be,je,je)}function va(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],fe=y[_-1-32],pe=y[_+0-32],be=y[_+1-32],je=y[_+2-32],_e=y[_+3-32];y[_+0+0]=y[_+1+64]=fe+pe+1>>1,y[_+1+0]=y[_+2+64]=pe+be+1>>1,y[_+2+0]=y[_+3+64]=be+je+1>>1,y[_+3+0]=je+_e+1>>1,y[_+0+96]=Rn(ue,q,z),y[_+0+64]=Rn(q,z,fe),y[_+0+32]=y[_+1+96]=Rn(z,fe,pe),y[_+1+32]=y[_+2+96]=Rn(fe,pe,be),y[_+2+32]=y[_+3+96]=Rn(pe,be,je),y[_+3+32]=Rn(be,je,_e)}function $s(y,_){var z=y[_+0-32],q=y[_+1-32],ue=y[_+2-32],fe=y[_+3-32],pe=y[_+4-32],be=y[_+5-32],je=y[_+6-32],_e=y[_+7-32];y[_+0+0]=z+q+1>>1,y[_+1+0]=y[_+0+64]=q+ue+1>>1,y[_+2+0]=y[_+1+64]=ue+fe+1>>1,y[_+3+0]=y[_+2+64]=fe+pe+1>>1,y[_+0+32]=Rn(z,q,ue),y[_+1+32]=y[_+0+96]=Rn(q,ue,fe),y[_+2+32]=y[_+1+96]=Rn(ue,fe,pe),y[_+3+32]=y[_+2+96]=Rn(fe,pe,be),y[_+3+64]=Rn(pe,be,je),y[_+3+96]=Rn(be,je,_e)}function ya(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],fe=y[_-1+96];y[_+0+0]=z+q+1>>1,y[_+2+0]=y[_+0+32]=q+ue+1>>1,y[_+2+32]=y[_+0+64]=ue+fe+1>>1,y[_+1+0]=Rn(z,q,ue),y[_+3+0]=y[_+1+32]=Rn(q,ue,fe),y[_+3+32]=y[_+1+64]=Rn(ue,fe,fe),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=fe}function Yi(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],fe=y[_-1+96],pe=y[_-1-32],be=y[_+0-32],je=y[_+1-32],_e=y[_+2-32];y[_+0+0]=y[_+2+32]=z+pe+1>>1,y[_+0+32]=y[_+2+64]=q+z+1>>1,y[_+0+64]=y[_+2+96]=ue+q+1>>1,y[_+0+96]=fe+ue+1>>1,y[_+3+0]=Rn(be,je,_e),y[_+2+0]=Rn(pe,be,je),y[_+1+0]=y[_+3+32]=Rn(z,pe,be),y[_+1+32]=y[_+3+64]=Rn(q,z,pe),y[_+1+64]=y[_+3+96]=Rn(ue,q,z),y[_+1+96]=Rn(fe,ue,q)}function ni(y,_){var z;for(z=0;8>z;++z)s(y,_+32*z,y,_-32,8)}function Do(y,_){var z;for(z=0;8>z;++z)r(y,_,y[_-1],8),_+=32}function si(y,_,z){var q;for(q=0;8>q;++q)r(_,z+32*q,y,8)}function Wi(y,_){var z,q=8;for(z=0;8>z;++z)q+=y[_+z-32]+y[_-1+32*z];si(q>>4,y,_)}function Kt(y,_){var z,q=4;for(z=0;8>z;++z)q+=y[_+z-32];si(q>>3,y,_)}function hn(y,_){var z,q=4;for(z=0;8>z;++z)q+=y[_-1+32*z];si(q>>3,y,_)}function ss(y,_){si(128,y,_)}function Zn(y,_,z){var q=y[_-z],ue=y[_+0],fe=3*(ue-q)+Il[1020+y[_-2*z]-y[_+z]],pe=su[112+(fe+4>>3)];y[_-z]=_i[255+q+su[112+(fe+3>>3)]],y[_+0]=_i[255+ue-pe]}function Bn(y,_,z,q){var ue=y[_+0],fe=y[_+z];return xi[255+y[_-2*z]-y[_-z]]>q||xi[255+fe-ue]>q}function rn(y,_,z,q){return 4*xi[255+y[_-z]-y[_+0]]+xi[255+y[_-2*z]-y[_+z]]<=q}function xs(y,_,z,q,ue){var fe=y[_-3*z],pe=y[_-2*z],be=y[_-z],je=y[_+0],_e=y[_+z],Oe=y[_+2*z],qe=y[_+3*z];return 4*xi[255+be-je]+xi[255+pe-_e]>q?0:xi[255+y[_-4*z]-fe]<=ue&&xi[255+fe-pe]<=ue&&xi[255+pe-be]<=ue&&xi[255+qe-Oe]<=ue&&xi[255+Oe-_e]<=ue&&xi[255+_e-je]<=ue}function zr(y,_,z,q){var ue=2*q+1;for(q=0;16>q;++q)rn(y,_+q,z,ue)&&Zn(y,_+q,z)}function Fa(y,_,z,q){var ue=2*q+1;for(q=0;16>q;++q)rn(y,_+q*z,1,ue)&&Zn(y,_+q*z,1)}function Xi(y,_,z,q){var ue;for(ue=3;0<ue;--ue)zr(y,_+=4*z,z,q)}function Ro(y,_,z,q){var ue;for(ue=3;0<ue;--ue)Fa(y,_+=4,z,q)}function Tr(y,_,z,q,ue,fe,pe,be){for(fe=2*fe+1;0<ue--;){if(xs(y,_,z,fe,pe))if(Bn(y,_,z,be))Zn(y,_,z);else{var je=y,_e=_,Oe=z,qe=je[_e-2*Oe],Te=je[_e-Oe],Me=je[_e+0],He=je[_e+Oe],pt=je[_e+2*Oe],We=27*(jt=Il[1020+3*(Me-Te)+Il[1020+qe-He]])+63>>7,mt=18*jt+63>>7,jt=9*jt+63>>7;je[_e-3*Oe]=_i[255+je[_e-3*Oe]+jt],je[_e-2*Oe]=_i[255+qe+mt],je[_e-Oe]=_i[255+Te+We],je[_e+0]=_i[255+Me-We],je[_e+Oe]=_i[255+He-mt],je[_e+2*Oe]=_i[255+pt-jt]}_+=q}}function ua(y,_,z,q,ue,fe,pe,be){for(fe=2*fe+1;0<ue--;){if(xs(y,_,z,fe,pe))if(Bn(y,_,z,be))Zn(y,_,z);else{var je=y,_e=_,Oe=z,qe=je[_e-Oe],Te=je[_e+0],Me=je[_e+Oe],He=su[112+(4+(pt=3*(Te-qe))>>3)],pt=su[112+(pt+3>>3)],We=He+1>>1;je[_e-2*Oe]=_i[255+je[_e-2*Oe]+We],je[_e-Oe]=_i[255+qe+pt],je[_e+0]=_i[255+Te-He],je[_e+Oe]=_i[255+Me-We]}_+=q}}function Ua(y,_,z,q,ue,fe){Tr(y,_,z,1,16,q,ue,fe)}function Jr(y,_,z,q,ue,fe){Tr(y,_,1,z,16,q,ue,fe)}function $a(y,_,z,q,ue,fe){var pe;for(pe=3;0<pe;--pe)ua(y,_+=4*z,z,1,16,q,ue,fe)}function k(y,_,z,q,ue,fe){var pe;for(pe=3;0<pe;--pe)ua(y,_+=4,1,z,16,q,ue,fe)}function Ae(y,_,z,q,ue,fe,pe,be){Tr(y,_,ue,1,8,fe,pe,be),Tr(z,q,ue,1,8,fe,pe,be)}function Ie(y,_,z,q,ue,fe,pe,be){Tr(y,_,1,ue,8,fe,pe,be),Tr(z,q,1,ue,8,fe,pe,be)}function Re(y,_,z,q,ue,fe,pe,be){ua(y,_+4*ue,ue,1,8,fe,pe,be),ua(z,q+4*ue,ue,1,8,fe,pe,be)}function ze(y,_,z,q,ue,fe,pe,be){ua(y,_+4,1,ue,8,fe,pe,be),ua(z,q+4,1,ue,8,fe,pe,be)}function bt(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Cn(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new G}function Kn(){this.xb=this.a=0,this.l=new Ee,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Cn,this.ab=0,this.gc=c(4,vn),this.Oc=0}function Ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ee,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _s(y,_,z,q,ue,fe,pe){for(y=y==null?0:y[_+0],_=0;_<pe;++_)ue[fe+_]=y+z[q+_]&255,y=ue[fe+_]}function Ir(y,_,z,q,ue,fe,pe){var be;if(y==null)_s(null,null,z,q,ue,fe,pe);else for(be=0;be<pe;++be)ue[fe+be]=y[_+be]+z[q+be]&255}function xr(y,_,z,q,ue,fe,pe){if(y==null)_s(null,null,z,q,ue,fe,pe);else{var be,je=y[_+0],_e=je,Oe=je;for(be=0;be<pe;++be)_e=Oe+(je=y[_+be])-_e,Oe=z[q+be]+(-256&_e?0>_e?0:255:_e)&255,_e=je,ue[fe+be]=Oe}}function w(y,_,z,q){var ue=_.width,fe=_.o;if(e(y!=null&&_!=null),0>z||0>=q||z+q>fe)return null;if(!y.Cc){if(y.ga==null){var pe;if(y.ga=new Ln,(pe=y.ga==null)||(pe=_.width*_.o,e(y.Gb.length==0),y.Gb=o(pe),y.Uc=0,y.Gb==null?pe=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,pe=1),pe=!pe),!pe){pe=y.ga;var be=y.Fa,je=y.P,_e=y.qc,Oe=y.mb,qe=y.nb,Te=je+1,Me=_e-1,He=pe.l;if(e(be!=null&&Oe!=null&&_!=null),_l[0]=null,_l[1]=_s,_l[2]=Ir,_l[3]=xr,pe.ca=Oe,pe.tb=qe,pe.c=_.width,pe.i=_.height,e(0<pe.c&&0<pe.i),1>=_e)_=0;else if(pe.$a=3&be[je+0],pe.Z=be[je+0]>>2&3,pe.Lc=be[je+0]>>4&3,je=be[je+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||je)_=0;else if(He.put=Qt,He.ac=Hn,He.bc=hs,He.ma=pe,He.width=_.width,He.height=_.height,He.Da=_.Da,He.v=_.v,He.va=_.va,He.j=_.j,He.o=_.o,pe.$a)e:{e(pe.$a==1),_=Si();t:for(;;){if(_==null){_=0;break e}if(e(pe!=null),pe.mc=_,_.c=pe.c,_.i=pe.i,_.l=pe.l,_.l.ma=pe,_.l.width=pe.c,_.l.height=pe.i,_.a=0,re(_.m,be,Te,Me),!Ss(pe.c,pe.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&js(_.s)?(pe.ic=1,be=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(be),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(pe.ic=0,_=Nr(_,pe.c)),!_))break t;_=1;break e}pe.mc=null,_=0}else _=Me>=pe.c*pe.i;pe=!_}if(pe)return null;y.ga.Lc!=1?y.Ga=0:q=fe-z}e(y.ga!=null),e(z+q<=fe);e:{if(_=(be=y.ga).c,fe=be.l.o,be.$a==0){if(Te=y.rc,Me=y.Vc,He=y.Fa,je=y.P+1+z*_,_e=y.mb,Oe=y.nb+z*_,e(je<=y.P+y.qc),be.Z!=0)for(e(_l[be.Z]!=null),pe=0;pe<q;++pe)_l[be.Z](Te,Me,He,je,_e,Oe,_),Te=_e,Me=Oe,Oe+=_,je+=_;else for(pe=0;pe<q;++pe)s(_e,Oe,He,je,_),Te=_e,Me=Oe,Oe+=_,je+=_;y.rc=Te,y.Vc=Me}else{if(e(be.mc!=null),_=z+q,e((pe=be.mc)!=null),e(_<=pe.i),pe.C>=_)_=1;else if(be.ic||tt(),be.ic){be=pe.V,Te=pe.Ba,Me=pe.c;var pt=pe.i,We=(He=1,je=pe.$/Me,_e=pe.$%Me,Oe=pe.m,qe=pe.s,pe.$),mt=Me*pt,jt=Me*_,Mt=qe.wc,Tt=We<jt?or(qe,_e,je):null;e(We<=mt),e(_<=pt),e(js(qe));t:for(;;){for(;!Oe.h&&We<jt;){if(_e&Mt||(Tt=or(qe,_e,je)),e(Tt!=null),ye(Oe),256>(pt=ln(Tt.G[0],Tt.H[0],Oe)))be[Te+We]=pt,++We,++_e>=Me&&(_e=0,++je<=_&&!(je%16)&&gr(pe,je));else{if(!(280>pt)){He=0;break t}pt=Is(pt-256,Oe);var Sn,gn=ln(Tt.G[4],Tt.H[4],Oe);if(ye(Oe),!(We>=(gn=_n(Me,gn=Is(gn,Oe)))&&mt-We>=pt)){He=0;break t}for(Sn=0;Sn<pt;++Sn)be[Te+We+Sn]=be[Te+We+Sn-gn];for(We+=pt,_e+=pt;_e>=Me;)_e-=Me,++je<=_&&!(je%16)&&gr(pe,je);We<jt&&_e&Mt&&(Tt=or(qe,_e,je))}e(Oe.h==ie(Oe))}gr(pe,je>_?_:je);break t}!He||Oe.h&&We<mt?(He=0,pe.a=Oe.h?5:3):pe.$=We,_=He}else _=ia(pe,pe.V,pe.Ba,pe.c,pe.i,_,ga);if(!_){q=0;break e}}z+q>=fe&&(y.Cc=1),q=1}if(!q)return null;if(y.Cc&&((q=y.ga)!=null&&(q.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+z*ue}function Y(y,_,z,q,ue,fe){for(;0<ue--;){var pe,be=y,je=_+(z?1:0),_e=y,Oe=_+(z?0:3);for(pe=0;pe<q;++pe){var qe=_e[Oe+4*pe];qe!=255&&(qe*=32897,be[je+4*pe+0]=be[je+4*pe+0]*qe>>23,be[je+4*pe+1]=be[je+4*pe+1]*qe>>23,be[je+4*pe+2]=be[je+4*pe+2]*qe>>23)}_+=fe}}function se(y,_,z,q,ue){for(;0<q--;){var fe;for(fe=0;fe<z;++fe){var pe=y[_+2*fe+0],be=15&(_e=y[_+2*fe+1]),je=4369*be,_e=(240&_e|_e>>4)*je>>16;y[_+2*fe+0]=(240&pe|pe>>4)*je>>16&240|(15&pe|pe<<4)*je>>16>>4&15,y[_+2*fe+1]=240&_e|be}_+=ue}}function we(y,_,z,q,ue,fe,pe,be){var je,_e,Oe=255;for(_e=0;_e<ue;++_e){for(je=0;je<q;++je){var qe=y[_+je];fe[pe+4*je]=qe,Oe&=qe}_+=z,pe+=be}return Oe!=255}function $e(y,_,z,q,ue){var fe;for(fe=0;fe<ue;++fe)z[q+fe]=y[_+fe]>>8}function tt(){hA=Y,go=se,pc=we,xo=$e}function $t(y,_,z){R[y]=function(q,ue,fe,pe,be,je,_e,Oe,qe,Te,Me,He,pt,We,mt,jt,Mt){var Tt,Sn=Mt-1>>1,gn=be[je+0]|_e[Oe+0]<<16,as=qe[Te+0]|Me[He+0]<<16;e(q!=null);var bn=3*gn+as+131074>>2;for(_(q[ue+0],255&bn,bn>>16,pt,We),fe!=null&&(bn=3*as+gn+131074>>2,_(fe[pe+0],255&bn,bn>>16,mt,jt)),Tt=1;Tt<=Sn;++Tt){var Fs=be[je+Tt]|_e[Oe+Tt]<<16,Lr=qe[Te+Tt]|Me[He+Tt]<<16,us=gn+Fs+as+Lr+524296,ct=us+2*(Fs+as)>>3;bn=ct+gn>>1,gn=(us=us+2*(gn+Lr)>>3)+Fs>>1,_(q[ue+2*Tt-1],255&bn,bn>>16,pt,We+(2*Tt-1)*z),_(q[ue+2*Tt-0],255&gn,gn>>16,pt,We+(2*Tt-0)*z),fe!=null&&(bn=us+as>>1,gn=ct+Lr>>1,_(fe[pe+2*Tt-1],255&bn,bn>>16,mt,jt+(2*Tt-1)*z),_(fe[pe+2*Tt+0],255&gn,gn>>16,mt,jt+(2*Tt+0)*z)),gn=Fs,as=Lr}1&Mt||(bn=3*gn+as+131074>>2,_(q[ue+Mt-1],255&bn,bn>>16,pt,We+(Mt-1)*z),fe!=null&&(bn=3*as+gn+131074>>2,_(fe[pe+Mt-1],255&bn,bn>>16,mt,jt+(Mt-1)*z)))}}function rs(){yi[ku]=GA,yi[Fi]=Jl,yi[Wl]=iu,yi[ko]=Ku,yi[ru]=xA,yi[Xl]=Fl,yi[fA]=vA,yi[au]=Jl,yi[Mu]=Ku,yi[gc]=xA,yi[KA]=Fl}function _r(y){return y&-16384?0>y?0:255:y>>zu}function vs(y,_){return _r((19077*y>>8)+(26149*_>>8)-14234)}function nr(y,_,z){return _r((19077*y>>8)-(6419*_>>8)-(13320*z>>8)+8708)}function Ya(y,_){return _r((19077*y>>8)+(33050*_>>8)-17685)}function ba(y,_,z,q,ue){q[ue+0]=vs(y,z),q[ue+1]=nr(y,_,z),q[ue+2]=Ya(y,_)}function Ys(y,_,z,q,ue){q[ue+0]=Ya(y,_),q[ue+1]=nr(y,_,z),q[ue+2]=vs(y,z)}function ls(y,_,z,q,ue){var fe=nr(y,_,z);_=fe<<3&224|Ya(y,_)>>3,q[ue+0]=248&vs(y,z)|fe>>5,q[ue+1]=_}function po(y,_,z,q,ue){var fe=240&Ya(y,_)|15;q[ue+0]=240&vs(y,z)|nr(y,_,z)>>4,q[ue+1]=fe}function Lo(y,_,z,q,ue){q[ue+0]=255,ba(y,_,z,q,ue+1)}function cl(y,_,z,q,ue){Ys(y,_,z,q,ue),q[ue+3]=255}function Da(y,_,z,q,ue){ba(y,_,z,q,ue),q[ue+3]=255}function ri(y,_,z){R[y]=function(q,ue,fe,pe,be,je,_e,Oe,qe){for(var Te=Oe+(-2&qe)*z;Oe!=Te;)_(q[ue+0],fe[pe+0],be[je+0],_e,Oe),_(q[ue+1],fe[pe+0],be[je+0],_e,Oe+z),ue+=2,++pe,++je,Oe+=2*z;1&qe&&_(q[ue+0],fe[pe+0],be[je+0],_e,Oe)}}function mc(y,_,z){return z==0?y==0?_==0?6:5:_==0?4:0:z}function Qo(y,_,z,q,ue){switch(y>>>30){case 3:Yl(_,z,q,ue,0);break;case 2:Ii(_,z,q,ue);break;case 1:Xs(_,z,q,ue)}}function Ws(y,_){var z,q,ue=_.M,fe=_.Nb,pe=y.oc,be=y.pc+40,je=y.oc,_e=y.pc+584,Oe=y.oc,qe=y.pc+600;for(z=0;16>z;++z)pe[be+32*z-1]=129;for(z=0;8>z;++z)je[_e+32*z-1]=129,Oe[qe+32*z-1]=129;for(0<ue?pe[be-1-32]=je[_e-1-32]=Oe[qe-1-32]=129:(r(pe,be-32-1,127,21),r(je,_e-32-1,127,9),r(Oe,qe-32-1,127,9)),q=0;q<y.za;++q){var Te=_.ya[_.aa+q];if(0<q){for(z=-1;16>z;++z)s(pe,be+32*z-4,pe,be+32*z+12,4);for(z=-1;8>z;++z)s(je,_e+32*z-4,je,_e+32*z+4,4),s(Oe,qe+32*z-4,Oe,qe+32*z+4,4)}var Me=y.Gd,He=y.Hd+q,pt=Te.ad,We=Te.Hc;if(0<ue&&(s(pe,be-32,Me[He].y,0,16),s(je,_e-32,Me[He].f,0,8),s(Oe,qe-32,Me[He].ea,0,8)),Te.Za){var mt=pe,jt=be-32+16;for(0<ue&&(q>=y.za-1?r(mt,jt,Me[He].y[15],4):s(mt,jt,Me[He+1].y,0,4)),z=0;4>z;z++)mt[jt+128+z]=mt[jt+256+z]=mt[jt+384+z]=mt[jt+0+z];for(z=0;16>z;++z,We<<=2)mt=pe,jt=be+ja[z],ha[Te.Ob[z]](mt,jt),Qo(We,pt,16*+z,mt,jt)}else if(mt=mc(q,ue,Te.Ob[0]),eo[mt](pe,be),We!=0)for(z=0;16>z;++z,We<<=2)Qo(We,pt,16*+z,pe,be+ja[z]);for(z=Te.Gc,mt=mc(q,ue,Te.Dd),lo[mt](je,_e),lo[mt](Oe,qe),We=pt,mt=je,jt=_e,255&(Te=0|z)&&(170&Te?qi(We,256,mt,jt):Vs(We,256,mt,jt)),Te=Oe,We=qe,255&(z>>=8)&&(170&z?qi(pt,320,Te,We):Vs(pt,320,Te,We)),ue<y.Ub-1&&(s(Me[He].y,0,pe,be+480,16),s(Me[He].f,0,je,_e+224,8),s(Me[He].ea,0,Oe,qe+224,8)),z=8*fe*y.B,Me=y.sa,He=y.ta+16*q+16*fe*y.R,pt=y.qa,Te=y.ra+8*q+z,We=y.Ha,mt=y.Ia+8*q+z,z=0;16>z;++z)s(Me,He+z*y.R,pe,be+32*z,16);for(z=0;8>z;++z)s(pt,Te+z*y.B,je,_e+32*z,8),s(We,mt+z*y.B,Oe,qe+32*z,8)}}function Oo(y,_,z,q,ue,fe,pe,be,je){var _e=[0],Oe=[0],qe=0,Te=je!=null?je.kd:0,Me=je??new _t;if(y==null||12>z)return 7;Me.data=y,Me.w=_,Me.ha=z,_=[_],z=[z],Me.gb=[Me.gb];e:{var He=_,pt=z,We=Me.gb;if(e(y!=null),e(pt!=null),e(We!=null),We[0]=0,12<=pt[0]&&!t(y,He[0],"RIFF")){if(t(y,He[0]+8,"WEBP")){We=3;break e}var mt=Pe(y,He[0]+4);if(12>mt||4294967286<mt){We=3;break e}if(Te&&mt>pt[0]-8){We=7;break e}We[0]=mt,He[0]+=12,pt[0]-=12}We=0}if(We!=0)return We;for(mt=0<Me.gb[0],z=z[0];;){e:{var jt=y;pt=_,We=z;var Mt=_e,Tt=Oe,Sn=He=[0];if((bn=qe=[qe])[0]=0,8>We[0])We=7;else{if(!t(jt,pt[0],"VP8X")){if(Pe(jt,pt[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var gn=Pe(jt,pt[0]+8),as=1+Je(jt,pt[0]+12);if(2147483648<=as*(jt=1+Je(jt,pt[0]+15))){We=3;break e}Sn!=null&&(Sn[0]=gn),Mt!=null&&(Mt[0]=as),Tt!=null&&(Tt[0]=jt),pt[0]+=18,We[0]-=18,bn[0]=1}We=0}}if(qe=qe[0],He=He[0],We!=0)return We;if(pt=!!(2&He),!mt&&qe)return 3;if(fe!=null&&(fe[0]=!!(16&He)),pe!=null&&(pe[0]=pt),be!=null&&(be[0]=0),pe=_e[0],He=Oe[0],qe&&pt&&je==null){We=0;break}if(4>z){We=7;break}if(mt&&qe||!mt&&!qe&&!t(y,_[0],"ALPH")){z=[z],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{gn=y,We=_,mt=z;var bn=Me.gb;Mt=Me.na,Tt=Me.P,Sn=Me.Sa,as=22,e(gn!=null),e(mt!=null),jt=We[0];var Fs=mt[0];for(e(Mt!=null),e(Sn!=null),Mt[0]=null,Tt[0]=null,Sn[0]=0;;){if(We[0]=jt,mt[0]=Fs,8>Fs){We=7;break e}var Lr=Pe(gn,jt+4);if(4294967286<Lr){We=3;break e}var us=8+Lr+1&-2;if(as+=us,0<bn&&as>bn){We=3;break e}if(!t(gn,jt,"VP8 ")||!t(gn,jt,"VP8L")){We=0;break e}if(Fs[0]<us){We=7;break e}t(gn,jt,"ALPH")||(Mt[0]=gn,Tt[0]=jt+8,Sn[0]=Lr),jt+=us,Fs-=us}}if(z=z[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],We!=0)break}z=[z],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(bn=y,We=_,mt=z,Mt=Me.gb[0],Tt=Me.Ja,Sn=Me.xa,gn=We[0],jt=!t(bn,gn,"VP8 "),as=!t(bn,gn,"VP8L"),e(bn!=null),e(mt!=null),e(Tt!=null),e(Sn!=null),8>mt[0])We=7;else{if(jt||as){if(bn=Pe(bn,gn+4),12<=Mt&&bn>Mt-12){We=3;break e}if(Te&&bn>mt[0]-8){We=7;break e}Tt[0]=bn,We[0]+=8,mt[0]-=8,Sn[0]=as}else Sn[0]=5<=mt[0]&&bn[gn+0]==47&&!(bn[gn+4]>>5),Tt[0]=mt[0];We=0}if(z=z[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],_=_[0],We!=0)break;if(4294967286<Me.Ja)return 3;if(be==null||pt||(be[0]=Me.xa?2:1),pe=[pe],He=[He],Me.xa){if(5>z){We=7;break}be=pe,Te=He,pt=fe,y==null||5>z?y=0:5<=z&&y[_+0]==47&&!(y[_+4]>>5)?(mt=[0],bn=[0],Mt=[0],re(Tt=new J,y,_,z),Ts(Tt,mt,bn,Mt)?(be!=null&&(be[0]=mt[0]),Te!=null&&(Te[0]=bn[0]),pt!=null&&(pt[0]=Mt[0]),y=1):y=0):y=0}else{if(10>z){We=7;break}be=He,y==null||10>z||!kt(y,_+3,z-3)?y=0:(Te=y[_+0]|y[_+1]<<8|y[_+2]<<16,pt=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Me.Ja||!pt||!y?y=0:(pe&&(pe[0]=pt),be&&(be[0]=y),y=1))}if(!y||(pe=pe[0],He=He[0],qe&&(_e[0]!=pe||Oe[0]!=He)))return 3;je!=null&&(je[0]=Me,je.offset=_-je.w,e(4294967286>_-je.w),e(je.offset==je.ha-z));break}return We==0||We==7&&qe&&je==null?(fe!=null&&(fe[0]|=Me.na!=null&&0<Me.na.length),q!=null&&(q[0]=pe),ue!=null&&(ue[0]=He),0):We}function Dr(y,_,z){var q=_.width,ue=_.height,fe=0,pe=0,be=q,je=ue;if(_.Da=y!=null&&0<y.Da,_.Da&&(be=y.cd,je=y.bd,fe=y.v,pe=y.j,11>z||(fe&=-2,pe&=-2),0>fe||0>pe||0>=be||0>=je||fe+be>q||pe+je>ue))return 0;if(_.v=fe,_.j=pe,_.va=fe+be,_.o=pe+je,_.U=be,_.T=je,_.da=y!=null&&0<y.da,_.da){if(!ht(be,je,z=[y.ib],fe=[y.hb]))return 0;_.ib=z[0],_.hb=fe[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*q/4&&_.hb<3*ue/4,_.Kb=0),1}function OA(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function ai(y,_,z,q){if(q==null||0>=y||0>=_)return 2;if(z!=null){if(z.Da){var ue=z.cd,fe=z.bd,pe=-2&z.v,be=-2&z.j;if(0>pe||0>be||0>=ue||0>=fe||pe+ue>y||be+fe>_)return 2;y=ue,_=fe}if(z.da){if(!ht(y,_,ue=[z.ib],fe=[z.hb]))return 2;y=ue[0],_=fe[0]}}q.width=y,q.height=_;e:{var je=q.width,_e=q.height;if(y=q.S,0>=je||0>=_e||!(y>=ku&&13>y))y=2;else{if(0>=q.Rd&&q.sd==null){pe=fe=ue=_=0;var Oe=(be=je*$u[y])*_e;if(11>y||(fe=(_e+1)/2*(_=(je+1)/2),y==12&&(pe=(ue=je)*_e)),(_e=o(Oe+2*fe+pe))==null){y=1;break e}q.sd=_e,11>y?((je=q.f.RGBA).eb=_e,je.fb=0,je.A=be,je.size=Oe):((je=q.f.kb).y=_e,je.O=0,je.fa=be,je.Fd=Oe,je.f=_e,je.N=0+Oe,je.Ab=_,je.Cd=fe,je.ea=_e,je.W=0+Oe+fe,je.Db=_,je.Ed=fe,y==12&&(je.F=_e,je.J=0+Oe+2*fe),je.Tc=pe,je.lb=ue)}if(_=1,ue=q.S,fe=q.width,pe=q.height,ue>=ku&&13>ue)if(11>ue)y=q.f.RGBA,_&=(be=Math.abs(y.A))*(pe-1)+fe<=y.size,_&=be>=fe*$u[ue],_&=y.eb!=null;else{y=q.f.kb,be=(fe+1)/2,Oe=(pe+1)/2,je=Math.abs(y.fa),_e=Math.abs(y.Ab);var qe=Math.abs(y.Db),Te=Math.abs(y.lb),Me=Te*(pe-1)+fe;_&=je*(pe-1)+fe<=y.Fd,_&=_e*(Oe-1)+be<=y.Cd,_=(_&=qe*(Oe-1)+be<=y.Ed)&je>=fe&_e>=be&qe>=be,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,ue==12&&(_&=Te>=fe,_&=Me<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||z!=null&&z.fd&&(y=OA(q)),y}var Po=64,Bs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ei=24,ul=32,dl=8,Sl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Rt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(y){return y},R.Predictor2=function(y,_,z){return _[z+0]},R.Predictor3=function(y,_,z){return _[z+1]},R.Predictor4=function(y,_,z){return _[z-1]},R.Predictor5=function(y,_,z){return Zt(Zt(y,_[z+1]),_[z+0])},R.Predictor6=function(y,_,z){return Zt(y,_[z-1])},R.Predictor7=function(y,_,z){return Zt(y,_[z+0])},R.Predictor8=function(y,_,z){return Zt(_[z-1],_[z+0])},R.Predictor9=function(y,_,z){return Zt(_[z+0],_[z+1])},R.Predictor10=function(y,_,z){return Zt(Zt(y,_[z-1]),Zt(_[z+0],_[z+1]))},R.Predictor11=function(y,_,z){var q=_[z+0];return 0>=Xe(q>>24&255,y>>24&255,(_=_[z-1])>>24&255)+Xe(q>>16&255,y>>16&255,_>>16&255)+Xe(q>>8&255,y>>8&255,_>>8&255)+Xe(255&q,255&y,255&_)?q:y},R.Predictor12=function(y,_,z){var q=_[z+0];return(sn((y>>24&255)+(q>>24&255)-((_=_[z-1])>>24&255))<<24|sn((y>>16&255)+(q>>16&255)-(_>>16&255))<<16|sn((y>>8&255)+(q>>8&255)-(_>>8&255))<<8|sn((255&y)+(255&q)-(255&_)))>>>0},R.Predictor13=function(y,_,z){var q=_[z-1];return(an((y=Zt(y,_[z+0]))>>24&255,q>>24&255)<<24|an(y>>16&255,q>>16&255)<<16|an(y>>8&255,q>>8&255)<<8|an(255&y,255&q))>>>0};var $l=R.PredictorAdd0;R.PredictorAdd1=Ht,Rt("Predictor2","PredictorAdd2"),Rt("Predictor3","PredictorAdd3"),Rt("Predictor4","PredictorAdd4"),Rt("Predictor5","PredictorAdd5"),Rt("Predictor6","PredictorAdd6"),Rt("Predictor7","PredictorAdd7"),Rt("Predictor8","PredictorAdd8"),Rt("Predictor9","PredictorAdd9"),Rt("Predictor10","PredictorAdd10"),Rt("Predictor11","PredictorAdd11"),Rt("Predictor12","PredictorAdd12"),Rt("Predictor13","PredictorAdd13");var PA=R.PredictorAdd2;Dt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var da,Ji=R.ColorIndexInverseTransform,pi=R.MapARGB,gi=R.VP8LColorIndexInverseTransformAlpha,Qs=R.MapAlpha,Ti=R.VP8LPredictorsAdd=[];Ti.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var kA,MA,hl,Nl,El,fl,wa,Yl,Ii,qi,Xs,Vs,Fr,sr,ml,pl,HA,dA,sh,rh,ah,ih,Lu,Qu,hA,go,pc,xo,Tl=o(511),Ou=o(2041),nu=o(225),VA=o(767),Pu=0,Il=Ou,su=nu,_i=VA,xi=Tl,ku=0,Fi=1,Wl=2,ko=3,ru=4,Xl=5,fA=6,au=7,Mu=8,gc=9,KA=10,Mo=[2,3,7],xc=[3,3,11],zA=[280,256,256,256,40],Hu=[0,1,1,1,0],mA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ho=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Vo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pA=8,Ko=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vo=null,df=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ds=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eo=[],ha=[],lo=[],gA=1,lh=2,_l=[],yi=[];$t("UpsampleRgbLinePair",ba,3),$t("UpsampleBgrLinePair",Ys,3),$t("UpsampleRgbaLinePair",Da,4),$t("UpsampleBgraLinePair",cl,4),$t("UpsampleArgbLinePair",Lo,4),$t("UpsampleRgba4444LinePair",po,2),$t("UpsampleRgb565LinePair",ls,2);var GA=R.UpsampleRgbLinePair,iu=R.UpsampleBgrLinePair,Jl=R.UpsampleRgbaLinePair,Ku=R.UpsampleBgraLinePair,xA=R.UpsampleArgbLinePair,Fl=R.UpsampleRgba4444LinePair,vA=R.UpsampleRgb565LinePair,zo=16,vc=1<<zo-1,Ul=-227,yA=482,zu=6,bA=0,bi=o(256),Gu=o(256),ff=o(256),Fm=o(256),Um=o(yA-Ul),Dm=o(yA-Ul);ri("YuvToRgbRow",ba,3),ri("YuvToBgrRow",Ys,3),ri("YuvToRgbaRow",Da,4),ri("YuvToBgraRow",cl,4),ri("YuvToArgbRow",Lo,4),ri("YuvToRgba4444Row",po,2),ri("YuvToRgb565Row",ls,2);var ja=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yc=[0,2,8],ou=[8,7,6,4,4,2,2,2,1,1,1,1],bc=1;this.WebPDecodeRGBA=function(y,_,z,q,ue){var fe=Fi,pe=new bt,be=new vt;pe.ba=be,be.S=fe,be.width=[be.width],be.height=[be.height];var je=be.width,_e=be.height,Oe=new st;if(Oe==null||y==null)var qe=2;else e(Oe!=null),qe=Oo(y,_,z,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(qe!=0?je=0:(je!=null&&(je[0]=Oe.width[0]),_e!=null&&(_e[0]=Oe.height[0]),je=1),je){be.width=be.width[0],be.height=be.height[0],q!=null&&(q[0]=be.width),ue!=null&&(ue[0]=be.height);e:{if(q=new Ee,(ue=new _t).data=y,ue.w=_,ue.ha=z,ue.kd=1,_=[0],e(ue!=null),((y=Oo(ue.data,ue.w,ue.ha,null,null,null,_,null,ue))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(pe!=null),q.data=ue.data,q.w=ue.w+ue.offset,q.ha=ue.ha-ue.offset,q.put=Qt,q.ac=Hn,q.bc=hs,q.ma=pe,ue.xa){if((y=Si())==null){pe=1;break e}if((function(Te,Me){var He=[0],pt=[0],We=[0];t:for(;;){if(Te==null)return 0;if(Me==null)return Te.a=2,0;if(Te.l=Me,Te.a=0,re(Te.m,Me.data,Me.w,Me.ha),!Ts(Te.m,He,pt,We)){Te.a=3;break t}if(Te.xb=lh,Me.width=He[0],Me.height=pt[0],!Ss(He[0],pt[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(y,q)){if(q=(_=ai(q.width,q.height,pe.Oa,pe.ba))==0){t:{q=y;n:for(;;){if(q==null){q=0;break t}if(e(q.s.yc!=null),e(q.s.Ya!=null),e(0<q.s.Wb),e((z=q.l)!=null),e((ue=z.ma)!=null),q.xb!=0){if(q.ca=ue.ba,q.tb=ue.tb,e(q.ca!=null),!Dr(ue.Oa,z,ko)){q.a=2;break n}if(!Nr(q,z.width)||z.da)break n;if((z.da||it(q.ca.S))&&tt(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&tt()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!he(q.s.vb,q.s.Wa.Xa)){q.a=1;break n}q.xb=0}if(!ia(q,q.V,q.Ba,q.c,q.i,z.o,Ur))break n;ue.Dc=q.Ma,q=1;break t}e(q.a!=0),q=0}q=!q}q&&(_=y.a)}else _=y.a}else{if((y=new at)==null){pe=1;break e}if(y.Fa=ue.na,y.P=ue.P,y.qc=ue.Sa,An(y,q)){if((_=ai(q.width,q.height,pe.Oa,pe.ba))==0){if(y.Aa=0,z=pe.Oa,e((ue=y)!=null),z!=null){if(0<(je=0>(je=z.Md)?0:100<je?255:255*je/100)){for(_e=Oe=0;4>_e;++_e)12>(qe=ue.pb[_e]).lc&&(qe.ia=je*ou[0>qe.lc?0:qe.lc]>>3),Oe|=qe.ia;Oe&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=z.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Te,Me){if(Te==null)return 0;if(Me==null)return dt(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!An(Te,Me))return 0;if(e(Te.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(Te.L=0);var He=yc[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Me.v-He>>4,Te.zb=Me.j-He>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Me.o+15+He>>4,Te.Hb=Me.va+15+He>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var pt=Te.ed;for(He=0;4>He;++He){var We;if(Te.Qa.Cb){var mt=Te.Qa.Lb[He];Te.Qa.Fb||(mt+=pt.Tb)}else mt=pt.Tb;for(We=0;1>=We;++We){var jt=Te.gd[He][We],Mt=mt;if(pt.Pc&&(Mt+=pt.vd[0],We&&(Mt+=pt.od[0])),0<(Mt=0>Mt?0:63<Mt?63:Mt)){var Tt=Mt;0<pt.wb&&(Tt=4<pt.wb?Tt>>2:Tt>>1)>9-pt.wb&&(Tt=9-pt.wb),1>Tt&&(Tt=1),jt.dd=Tt,jt.tc=2*Mt+Tt,jt.ld=40<=Mt?2:15<=Mt?1:0}else jt.tc=0;jt.La=We}}}He=0}else dt(Te,6,"Frame setup failed"),He=Te.a;if(He=He==0){if(He){Te.$c=0,0<Te.Aa||(Te.Ic=bc);t:{He=Te.Ic,pt=4*(Tt=Te.za);var Sn=32*Tt,gn=Tt+1,as=0<Te.L?Tt*(0<Te.Aa?2:1):0,bn=(Te.Aa==2?2:1)*Tt;if((jt=pt+832+(We=3*(16*He+yc[Te.L])/2*Sn)+(mt=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=jt)He=0;else{if(jt>Te.Vb){if(Te.Vb=0,Te.Ec=o(jt),Te.Fc=0,Te.Ec==null){He=dt(Te,1,"no memory during frame initialization.");break t}Te.Vb=jt}jt=Te.Ec,Mt=Te.Fc,Te.Ac=jt,Te.Bc=Mt,Mt+=pt,Te.Gd=c(Sn,Bl),Te.Hd=0,Te.rb=c(gn+1,xa),Te.sb=1,Te.wa=as?c(as,Vr):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=Tt),e(!0),Te.oc=jt,Te.pc=Mt,Mt+=832,Te.ya=c(bn,Gi),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=Tt),Te.R=16*Tt,Te.B=8*Tt,Tt=(Sn=yc[Te.L])*Te.R,Sn=Sn/2*Te.B,Te.sa=jt,Te.ta=Mt+Tt,Te.qa=Te.sa,Te.ra=Te.ta+16*He*Te.R+Sn,Te.Ha=Te.qa,Te.Ia=Te.ra+8*He*Te.B+Sn,Te.$c=0,Mt+=We,Te.mb=mt?jt:null,Te.nb=mt?Mt:null,e(Mt+mt<=Te.Fc+Te.Vb),Vn(Te),r(Te.Ac,Te.Bc,0,pt),He=1}}if(He){if(Me.ka=0,Me.y=Te.sa,Me.O=Te.ta,Me.f=Te.qa,Me.N=Te.ra,Me.ea=Te.Ha,Me.Vd=Te.Ia,Me.fa=Te.R,Me.Rc=Te.B,Me.F=null,Me.J=0,!Pu){for(He=-255;255>=He;++He)Tl[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)Ou[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)nu[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)VA[255+He]=0>He?0:255<He?255:He;Pu=1}wa=Ls,Yl=dr,qi=Ns,Xs=Aa,Vs=Xr,Ii=fs,Fr=Ua,sr=Jr,ml=Ae,pl=Ie,HA=$a,dA=k,sh=Re,rh=ze,ah=zr,ih=Fa,Lu=Xi,Qu=Ro,ha[0]=oo,ha[1]=hi,ha[2]=Al,ha[3]=Cl,ha[4]=ca,ha[5]=va,ha[6]=Er,ha[7]=$s,ha[8]=Yi,ha[9]=ya,eo[0]=$i,eo[1]=fo,eo[2]=ll,eo[3]=fi,eo[4]=mo,eo[5]=ti,eo[6]=mi,lo[0]=Wi,lo[1]=Uo,lo[2]=ni,lo[3]=Do,lo[4]=hn,lo[5]=Kt,lo[6]=ss,He=1}else He=0}He&&(He=(function(Fs,Lr){for(Fs.M=0;Fs.M<Fs.Va;++Fs.M){var us,ct=Fs.Jc[Fs.M&Fs.Xb],en=Fs.m,qr=Fs;for(us=0;us<qr.za;++us){var Gn=en,Xn=qr,hr=Xn.Ac,Ra=Xn.Bc+4*us,Ba=Xn.zc,fr=Xn.ya[Xn.aa+us];if(Xn.Qa.Bb?fr.$b=Se(Gn,Xn.Pa.jb[0])?2+Se(Gn,Xn.Pa.jb[2]):Se(Gn,Xn.Pa.jb[1]):fr.$b=0,Xn.kc&&(fr.Ad=Se(Gn,Xn.Bd)),fr.Za=!Se(Gn,145)+0,fr.Za){var La=fr.Ob,Ui=0;for(Xn=0;4>Xn;++Xn){var Qa,As=Ba[0+Xn];for(Qa=0;4>Qa;++Qa){As=vi[hr[Ra+Qa]][As];for(var Os=Vu[Se(Gn,As[0])];0<Os;)Os=Vu[2*Os+Se(Gn,As[Os])];As=-Os,hr[Ra+Qa]=As}s(La,Ui,hr,Ra,4),Ui+=4,Ba[0+Xn]=As}}else As=Se(Gn,156)?Se(Gn,128)?1:3:Se(Gn,163)?2:0,fr.Ob[0]=As,r(hr,Ra,As,4),r(Ba,0,As,4);fr.Dd=Se(Gn,142)?Se(Gn,114)?Se(Gn,183)?1:3:2:0}if(qr.m.Ka)return dt(Fs,7,"Premature end-of-partition0 encountered.");for(;Fs.ja<Fs.za;++Fs.ja){if(qr=ct,Gn=(en=Fs).rb[en.sb-1],hr=en.rb[en.sb+en.ja],us=en.ya[en.aa+en.ja],Ra=en.kc?us.Ad:0)Gn.la=hr.la=0,us.Za||(Gn.Na=hr.Na=0),us.Hc=0,us.Gc=0,us.ia=0;else{var Qr,rr;if(Gn=hr,hr=qr,Ra=en.Pa.Xc,Ba=en.ya[en.aa+en.ja],fr=en.pb[Ba.$b],Xn=Ba.ad,La=0,Ui=en.rb[en.sb-1],As=Qa=0,r(Xn,La,0,384),Ba.Za)var Oa=0,Zr=Ra[3];else{Os=o(16);var Ps=Gn.Na+Ui.Na;if(Ps=vo(hr,Ra[1],Ps,fr.Eb,0,Os,0),Gn.Na=Ui.Na=(0<Ps)+0,1<Ps)wa(Os,0,Xn,La);else{var Ca=Os[0]+3>>3;for(Os=0;256>Os;Os+=16)Xn[La+Os]=Ca}Oa=1,Zr=Ra[0]}var mr=15&Gn.la,Pa=15&Ui.la;for(Os=0;4>Os;++Os){var ka=1&Pa;for(Ca=rr=0;4>Ca;++Ca)mr=mr>>1|(ka=(Ps=vo(hr,Zr,Ps=ka+(1&mr),fr.Sc,Oa,Xn,La))>Oa)<<7,rr=rr<<2|(3<Ps?3:1<Ps?2:Xn[La+0]!=0),La+=16;mr>>=4,Pa=Pa>>1|ka<<7,Qa=(Qa<<8|rr)>>>0}for(Zr=mr,Oa=Pa>>4,Qr=0;4>Qr;Qr+=2){for(rr=0,mr=Gn.la>>4+Qr,Pa=Ui.la>>4+Qr,Os=0;2>Os;++Os){for(ka=1&Pa,Ca=0;2>Ca;++Ca)Ps=ka+(1&mr),mr=mr>>1|(ka=0<(Ps=vo(hr,Ra[2],Ps,fr.Qc,0,Xn,La)))<<3,rr=rr<<2|(3<Ps?3:1<Ps?2:Xn[La+0]!=0),La+=16;mr>>=2,Pa=Pa>>1|ka<<5}As|=rr<<4*Qr,Zr|=mr<<4<<Qr,Oa|=(240&Pa)<<Qr}Gn.la=Zr,Ui.la=Oa,Ba.Hc=Qa,Ba.Gc=As,Ba.ia=43690&As?0:fr.ia,Ra=!(Qa|As)}if(0<en.L&&(en.wa[en.Y+en.ja]=en.gd[us.$b][us.Za],en.wa[en.Y+en.ja].La|=!Ra),qr.Ka)return dt(Fs,7,"Premature end-of-file encountered.")}if(Vn(Fs),en=Lr,qr=1,us=(ct=Fs).D,Gn=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(us.M=ct.M,us.uc=Gn,Ws(ct,us),qr=1,us=(rr=ct.D).Nb,Gn=(As=yc[ct.L])*ct.R,hr=As/2*ct.B,Os=16*us*ct.R,Ca=8*us*ct.B,Ra=ct.sa,Ba=ct.ta-Gn+Os,fr=ct.qa,Xn=ct.ra-hr+Ca,La=ct.Ha,Ui=ct.Ia-hr+Ca,Pa=(mr=rr.M)==0,Qa=mr>=ct.Va-1,ct.Aa==2&&Ws(ct,rr),rr.uc)for(ka=(Ps=ct).D.M,e(Ps.D.uc),rr=Ps.yb;rr<Ps.Hb;++rr){Oa=rr,Zr=ka;var wr=(Ks=(ea=Ps).D).Nb;Qr=ea.R;var Ks=Ks.wa[Ks.Y+Oa],Di=ea.sa,fa=ea.ta+16*wr*Qr+16*Oa,On=Ks.dd,zn=Ks.tc;if(zn!=0)if(e(3<=zn),ea.L==1)0<Oa&&ih(Di,fa,Qr,zn+4),Ks.La&&Qu(Di,fa,Qr,zn),0<Zr&&ah(Di,fa,Qr,zn+4),Ks.La&&Lu(Di,fa,Qr,zn);else{var Js=ea.B,Ao=ea.qa,yo=ea.ra+8*wr*Js+8*Oa,to=ea.Ha,ea=ea.Ia+8*wr*Js+8*Oa;wr=Ks.ld,0<Oa&&(sr(Di,fa,Qr,zn+4,On,wr),pl(Ao,yo,to,ea,Js,zn+4,On,wr)),Ks.La&&(dA(Di,fa,Qr,zn,On,wr),rh(Ao,yo,to,ea,Js,zn,On,wr)),0<Zr&&(Fr(Di,fa,Qr,zn+4,On,wr),ml(Ao,yo,to,ea,Js,zn+4,On,wr)),Ks.La&&(HA(Di,fa,Qr,zn,On,wr),sh(Ao,yo,to,ea,Js,zn,On,wr))}}if(ct.ia&&alert("todo:DitherRow"),en.put!=null){if(rr=16*mr,mr=16*(mr+1),Pa?(en.y=ct.sa,en.O=ct.ta+Os,en.f=ct.qa,en.N=ct.ra+Ca,en.ea=ct.Ha,en.W=ct.Ia+Ca):(rr-=As,en.y=Ra,en.O=Ba,en.f=fr,en.N=Xn,en.ea=La,en.W=Ui),Qa||(mr-=As),mr>en.o&&(mr=en.o),en.F=null,en.J=null,ct.Fa!=null&&0<ct.Fa.length&&rr<mr&&(en.J=w(ct,en,rr,mr-rr),en.F=ct.mb,en.F==null&&en.F.length==0)){qr=dt(ct,3,"Could not decode alpha data.");break t}rr<en.j&&(As=en.j-rr,rr=en.j,e(!(1&As)),en.O+=ct.R*As,en.N+=ct.B*(As>>1),en.W+=ct.B*(As>>1),en.F!=null&&(en.J+=en.width*As)),rr<mr&&(en.O+=en.v,en.N+=en.v>>1,en.W+=en.v>>1,en.F!=null&&(en.J+=en.v),en.ka=rr-en.j,en.U=en.va-en.v,en.T=mr-rr,qr=en.put(en))}us+1!=ct.Ic||Qa||(s(ct.sa,ct.ta-Gn,Ra,Ba+16*ct.R,Gn),s(ct.qa,ct.ra-hr,fr,Xn+8*ct.B,hr),s(ct.Ha,ct.Ia-hr,La,Ui+8*ct.B,hr))}if(!qr)return dt(Fs,6,"Output aborted.")}return 1})(Te,Me)),Me.bc!=null&&Me.bc(Me),He&=1}return He?(Te.cb=0,He):0})(y,q)||(_=y.a)}}else _=y.a}_==0&&pe.Oa!=null&&pe.Oa.fd&&(_=OA(pe.ba))}pe=_}fe=pe!=0?null:11>fe?be.f.RGBA.eb:be.f.kb.y}else fe=null;return fe};var $u=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(R,K){for(var O="",V=0;V<4;V++)O+=String.fromCharCode(R[K++]);return O}function A(R,K){return R[K+0]|R[K+1]<<8}function m(R,K){return(R[K+0]|R[K+1]<<8|R[K+2]<<16)>>>0}function x(R,K){return(R[K+0]|R[K+1]<<8|R[K+2]<<16|R[K+3]<<24)>>>0}new u;var g=[0],b=[0],I=[],N=new u,S=n,E=(function(R,K){var O={},V=0,G=!1,oe=0,ge=0;if(O.frames=[],!(function(M,J){for(var ae=0;ae<4;ae++)if(M[J+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(R,K)){for(x(R,K+=4),K+=8;K<R.length;){var le=f(R,K),X=x(R,K+=4);K+=4;var W=X+(1&X);switch(le){case"VP8 ":case"VP8L":O.frames[V]===void 0&&(O.frames[V]={}),(ee=O.frames[V]).src_off=G?ge:K-8,ee.src_size=oe+X+8,V++,G&&(G=!1,oe=0,ge=0);break;case"VP8X":(ee=O.header={}).feature_flags=R[K];var re=K+4;ee.canvas_width=1+m(R,re),re+=3,ee.canvas_height=1+m(R,re),re+=3;break;case"ALPH":G=!0,oe=W+8,ge=K-8;break;case"ANIM":(ee=O.header).bgcolor=x(R,K),re=K+4,ee.loop_count=A(R,re),re+=2;break;case"ANMF":var me,ee;(ee=O.frames[V]={}).offset_x=2*m(R,K),K+=3,ee.offset_y=2*m(R,K),K+=3,ee.width=1+m(R,K),K+=3,ee.height=1+m(R,K),K+=3,ee.duration=m(R,K),K+=3,me=R[K++],ee.dispose=1&me,ee.blend=me>>1&1}le!="ANMF"&&(K+=W)}return O}})(S,0);E.response=S,E.rgbaoutput=!0,E.dataurl=!1;var F=E.header?E.header:null,Q=E.frames?E.frames:null;if(F){F.loop_counter=F.loop_count,g=[F.canvas_height],b=[F.canvas_width];for(var P=0;P<Q.length&&Q[P].blend!=0;P++);}var H=Q[0],L=N.WebPDecodeRGBA(S,H.src_off,H.src_size,b,g);H.rgba=L,H.imgwidth=b[0],H.imgheight=g[0];for(var U=0;U<b[0]*g[0]*4;U++)I[U]=L[U];return this.width=b,this.height=g,this.data=I,this}(function(n){var e,t,s,r,o,c,h,u,f,A=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new c,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new c,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,u=this.internal.Matrix,f=new A}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=M;Object.defineProperty(this,"pdf",{get:function(){return J}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(he){ae=!!he}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(he){ie=!!he}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(he){isNaN(he)||(ce=he)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(he){isNaN(he)||(ye=he)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(he){var nt;typeof he=="number"?nt=[he,he,he,he]:((nt=new Array(4))[0]=he[0],nt[1]=he.length>=2?he[1]:nt[0],nt[2]=he.length>=3?he[2]:nt[0],nt[3]=he.length>=4?he[3]:nt[1]),f.margin=nt}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(he){Ne=he}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(he){xe=he}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(he){Se=he}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(he){he instanceof A&&(f=he)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(he){f.path=he}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(he){Fe=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var nt;nt=x(he),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=nt.a===0,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var nt=x(he);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=nt.a===0,this.ctx.strokeOpacity=nt.a,nt.a===0?this.pdf.setDrawColor(255,255,255):(nt.a,this.pdf.setDrawColor(nt.r,nt.g,nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Qe=null,Je=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(he){Qe=null,Je=null,Pe=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var nt;if(this.ctx.font=he,(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(he))!==null){var lt=nt[1];nt[2];var ht=nt[3],Ke=nt[4];nt[5];var Nt=nt[6],Rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(Rt==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:Rt==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var qt=(function(Dt){var Dn,Gt,Yt=[],At=Dt.trim();if(At==="")return v1;if(At in ZC)return[ZC[At]];for(;At!=="";){switch(Gt=null,Dn=(At=tS(At)).charAt(0)){case'"':case"'":Gt=tV(At.substring(1),Dn);break;default:Gt=nV(At)}if(Gt===null||(Yt.push(Gt[0]),(At=tS(Gt[1]))!==""&&At.charAt(0)!==","))return v1;At=At.replace(/^,/,"")}return Yt})(Nt);if(this.fontFaces){var Zt=(function(Dt,Dn){var Gt=Dt.getFontList(),Yt=JSON.stringify(Gt);if(Qe===null||Je!==Yt){var At=(function(Lt){var De=[];return Object.keys(Lt).forEach(function(ft){Lt[ft].forEach(function(it){var Et=null;switch(it){case"bold":Et={family:ft,weight:"bold"};break;case"italic":Et={family:ft,style:"italic"};break;case"bolditalic":Et={family:ft,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:ft}}Et!==null&&(Et.ref={name:ft,style:it},De.push(Et))})}),De})(Gt);Qe=(function(Lt){for(var De={},ft=0;ft<Lt.length;++ft){var it=x1(Lt[ft]),Et=it.family,Jt=it.stretch,vt=it.style,st=it.weight;De[Et]=De[Et]||{},De[Et][Jt]=De[Et][Jt]||{},De[Et][Jt][vt]=De[Et][Jt][vt]||{},De[Et][Jt][vt][st]=it}return De})(At.concat(Dn)),Je=Yt}return Qe})(this.pdf,this.fontFaces),sn=qt.map(function(Dt){return{family:Dt,stretch:"normal",weight:ht,style:lt}}),an=(function(Dt,Dn,Gt){for(var Yt=(Gt=Gt||{}).defaultFontFamily||"times",At=Object.assign({},eV,Gt.genericFontFamilies||{}),Lt=null,De=null,ft=0;ft<Dn.length;++ft)if(At[(Lt=x1(Dn[ft])).family]&&(Lt.family=At[Lt.family]),Dt.hasOwnProperty(Lt.family)){De=Dt[Lt.family];break}if(!(De=De||Dt[Yt]))throw new Error("Could not find a font-family for the rule '"+eS(Lt)+"' and default family '"+Yt+"'.");if(De=(function(it,Et){if(Et[it])return Et[it];var Jt=Tb[it],vt=Jt<=Tb.normal?-1:1,st=qC(Et,II,Jt,vt);if(!st)throw new Error("Could not find a matching font-stretch value for "+it);return st})(Lt.stretch,De),De=(function(it,Et){if(Et[it])return Et[it];for(var Jt=TI[it],vt=0;vt<Jt.length;++vt)if(Et[Jt[vt]])return Et[Jt[vt]];throw new Error("Could not find a matching font-style for "+it)})(Lt.style,De),!(De=(function(it,Et){if(Et[it])return Et[it];if(it===400&&Et[500])return Et[500];if(it===500&&Et[400])return Et[400];var Jt=Z9[it],vt=qC(Et,_I,Jt,it<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+it);return vt})(Lt.weight,De)))throw new Error("Failed to resolve a font for the rule '"+eS(Lt)+"'.");return De})(Zt,sn);this.pdf.setFont(an.ref.name,an.ref.style)}else{var Xe="";(ht==="bold"||parseInt(ht,10)>=700||lt==="bold")&&(Xe="bold"),lt==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var Ht="",zt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<qt.length;Vt++){if(this.pdf.internal.getFont(qt[Vt],Xe,{noFallback:!0,disableWarning:!0})!==void 0){Ht=qt[Vt];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(qt[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=qt[Vt],Xe="bold";else if(this.pdf.internal.getFont(qt[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=qt[Vt],Xe="normal";break}}if(Ht===""){for(var xt=0;xt<qt.length;xt++)if(zt[qt[xt]]){Ht=zt[qt[xt]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){Q.call(this,"fill",!1)},m.prototype.stroke=function(){Q.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,J){if(isNaN(M)||isNaN(J))throw ra.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new c(M,J));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(M,J)},m.prototype.closePath=function(){var M=new c(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Hr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){M=new c(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(M.x,M.y)},m.prototype.lineTo=function(M,J){if(isNaN(M)||isNaN(J))throw ra.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new c(M,J));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(ae.x,ae.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Q.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,J,ae,ie){if(isNaN(ae)||isNaN(ie)||isNaN(M)||isNaN(J))throw ra.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new c(ae,ie)),ye=this.ctx.transform.applyToPoint(new c(M,J));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},m.prototype.bezierCurveTo=function(M,J,ae,ie,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(M)||isNaN(J)||isNaN(ae)||isNaN(ie))throw ra.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new c(ce,ye)),xe=this.ctx.transform.applyToPoint(new c(M,J)),Se=this.ctx.transform.applyToPoint(new c(ae,ie));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Se.x,y2:Se.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new c(Ne.x,Ne.y)},m.prototype.arc=function(M,J,ae,ie,ce,ye){if(isNaN(M)||isNaN(J)||isNaN(ae)||isNaN(ie)||isNaN(ce))throw ra.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new c(M,J));M=Ne.x,J=Ne.y;var xe=this.ctx.transform.applyToPoint(new c(0,ae)),Se=this.ctx.transform.applyToPoint(new c(0,0));ae=Math.sqrt(Math.pow(xe.x-Se.x,2)+Math.pow(xe.y-Se.y,2))}Math.abs(ce-ie)>=2*Math.PI&&(ie=0,ce=2*Math.PI),this.path.push({type:"arc",x:M,y:J,radius:ae,startAngle:ie,endAngle:ce,counterclockwise:ye})},m.prototype.arcTo=function(M,J,ae,ie,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,J,ae,ie){if(isNaN(M)||isNaN(J)||isNaN(ae)||isNaN(ie))throw ra.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,J),this.lineTo(M+ae,J),this.lineTo(M+ae,J+ie),this.lineTo(M,J+ie),this.lineTo(M,J),this.lineTo(M+ae,J),this.lineTo(M,J)},m.prototype.fillRect=function(M,J,ae,ie){if(isNaN(M)||isNaN(J)||isNaN(ae)||isNaN(ie))throw ra.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,J,ae,ie),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(M,J,ae,ie){if(isNaN(M)||isNaN(J)||isNaN(ae)||isNaN(ie))throw ra.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(M,J,ae,ie),this.stroke())},m.prototype.clearRect=function(M,J,ae,ie){if(isNaN(M)||isNaN(J)||isNaN(ae)||isNaN(ie))throw ra.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,J,ae,ie))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(J),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(M){var J,ae,ie,ce;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))J=0,ae=0,ie=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ye!==null)J=parseInt(ye[1]),ae=parseInt(ye[2]),ie=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)J=parseInt(ye[1]),ae=parseInt(ye[2]),ie=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ne=new wI(M);M=Ne.ok?Ne.toHex():"#000000"}M.length===4?(J=M.substring(1,2),J+=J,ae=M.substring(2,3),ae+=ae,ie=M.substring(3,4),ie+=ie):(J=M.substring(1,3),ae=M.substring(3,5),ie=M.substring(5,7)),J=parseInt(J,16),ae=parseInt(ae,16),ie=parseInt(ie,16)}}return{r:J,g:ae,b:ie,a:ce,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,J,ae,ie){if(isNaN(J)||isNaN(ae)||typeof M!="string")throw ra.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!g.call(this)){var ce=W(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;V.call(this,{text:M,x:J,y:ae,scale:ye,angle:ce,align:this.textAlign,maxWidth:ie})}},m.prototype.strokeText=function(M,J,ae,ie){if(isNaN(J)||isNaN(ae)||typeof M!="string")throw ra.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ie=isNaN(ie)?void 0:ie;var ce=W(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;V.call(this,{text:M,x:J,y:ae,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ie})}},m.prototype.measureText=function(M){if(typeof M!="string")throw ra.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ae=this.pdf.internal.scaleFactor,ie=J.internal.getFontSize(),ce=J.getStringUnitWidth(M)*ie/J.internal.scaleFactor;return new function(ye){var Ne=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:ce*=Math.round(96*ae/72*1e4)/1e4})},m.prototype.scale=function(M,J){if(isNaN(M)||isNaN(J))throw ra.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new u(M,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.rotate=function(M){if(isNaN(M))throw ra.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.translate=function(M,J){if(isNaN(M)||isNaN(J))throw ra.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new u(1,0,0,1,M,J);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.transform=function(M,J,ae,ie,ce,ye){if(isNaN(M)||isNaN(J)||isNaN(ae)||isNaN(ie)||isNaN(ce)||isNaN(ye))throw ra.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new u(M,J,ae,ie,ce,ye);this.ctx.transform=this.ctx.transform.multiply(Ne)},m.prototype.setTransform=function(M,J,ae,ie,ce,ye){M=isNaN(M)?1:M,J=isNaN(J)?0:J,ae=isNaN(ae)?0:ae,ie=isNaN(ie)?1:ie,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(M,J,ae,ie,ce,ye)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,J,ae,ie,ce,ye,Ne,xe,Se){var Fe=this.pdf.getImageProperties(M),Qe=1,Je=1,Pe=1,he=1;ie!==void 0&&xe!==void 0&&(Pe=xe/ie,he=Se/ce,Qe=Fe.width/ie*xe/ie,Je=Fe.height/ce*Se/ce),ye===void 0&&(ye=J,Ne=ae,J=0,ae=0),ie!==void 0&&xe===void 0&&(xe=ie,Se=ce),ie===void 0&&xe===void 0&&(xe=Fe.width,Se=Fe.height);var nt=this.ctx.transform.decompose(),lt=W(nt.rotate.shx),ht=new u,Ke=(ht=(ht=(ht=ht.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new h(ye-J*Pe,Ne-ae*he,ie*Qe,ce*Je));if(this.autoPaging){for(var Nt,Rt=N.call(this,Ke),qt=[],Zt=0;Zt<Rt.length;Zt+=1)qt.indexOf(Rt[Zt])===-1&&qt.push(Rt[Zt]);F(qt);for(var sn=qt[0],an=qt[qt.length-1],Xe=sn;Xe<an+1;Xe++){this.pdf.setPage(Xe);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=Xe===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=Xe===1?0:Vt+(Xe-2)*xt;if(this.ctx.clip_path.length!==0){var Dn=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Nt,this.posX+this.margin[3],-Dt+zt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Dn}var Gt=JSON.parse(JSON.stringify(Ke));Gt=E([Gt],this.posX+this.margin[3],-Dt+zt+this.ctx.prevPageLastElemOffset)[0];var Yt=(Xe>sn||Xe<an)&&I.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,xt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,lt),Yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,lt)};var N=function(M,J,ae){var ie=[];J=J||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ie.push(Math.floor((M.y+ce)/ae)+1);break;case"arc":ie.push(Math.floor((M.y+ce-M.radius)/ae)+1),ie.push(Math.floor((M.y+ce+M.radius)/ae)+1);break;case"qct":var ye=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ie.push(Math.floor((ye.y+ce)/ae)+1),ie.push(Math.floor((ye.y+ye.h+ce)/ae)+1);break;case"bct":var Ne=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ie.push(Math.floor((Ne.y+ce)/ae)+1),ie.push(Math.floor((Ne.y+Ne.h+ce)/ae)+1);break;case"rect":ie.push(Math.floor((M.y+ce)/ae)+1),ie.push(Math.floor((M.y+M.h+ce)/ae)+1)}for(var xe=0;xe<ie.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ie[xe];)S.call(this);return ie},S=function(){var M=this.fillStyle,J=this.strokeStyle,ae=this.font,ie=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=J,this.font=ae,this.lineCap=ie,this.lineWidth=ce,this.lineJoin=ye},E=function(M,J,ae){for(var ie=0;ie<M.length;ie++)switch(M[ie].type){case"bct":M[ie].x2+=J,M[ie].y2+=ae;case"qct":M[ie].x1+=J,M[ie].y1+=ae;default:M[ie].x+=J,M[ie].y+=ae}return M},F=function(M){return M.sort(function(J,ae){return J-ae})},Q=function(M,J){var ae=this.fillStyle,ie=this.strokeStyle,ce=this.lineCap,ye=this.lineWidth,Ne=Math.abs(ye*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Se,Fe,Qe=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),Pe=[],he=0;he<Je.length;he++)if(Je[he].x!==void 0)for(var nt=N.call(this,Je[he]),lt=0;lt<nt.length;lt+=1)Pe.indexOf(nt[lt])===-1&&Pe.push(nt[lt]);for(var ht=0;ht<Pe.length;ht++)for(;this.pdf.internal.getNumberOfPages()<Pe[ht];)S.call(this);F(Pe);for(var Ke=Pe[0],Nt=Pe[Pe.length-1],Rt=Ke;Rt<Nt+1;Rt++){this.pdf.setPage(Rt),this.fillStyle=ae,this.strokeStyle=ie,this.lineCap=ce,this.lineWidth=Ne,this.lineJoin=xe;var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=Rt===1?this.posY+this.margin[0]:this.margin[0],sn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],an=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Rt===1?0:sn+(Rt-2)*an;if(this.ctx.clip_path.length!==0){var Ht=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Se,this.posX+this.margin[3],-Xe+Zt+this.ctx.prevPageLastElemOffset),P.call(this,M,!0),this.path=Ht}if(Fe=JSON.parse(JSON.stringify(Qe)),this.path=E(Fe,this.posX+this.margin[3],-Xe+Zt+this.ctx.prevPageLastElemOffset),J===!1||Rt===0){var zt=(Rt>Ke||Rt<Nt)&&I.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,an,null).clip().discardPath()),P.call(this,M,J),zt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=Qe}else this.lineWidth=Ne,P.call(this,M,J),this.lineWidth=ye},P=function(M,J){if((M!=="stroke"||J||!b.call(this))&&(M==="stroke"||J||!g.call(this))){for(var ae,ie,ce=[],ye=this.path,Ne=0;Ne<ye.length;Ne++){var xe=ye[Ne];switch(xe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:xe,deltas:[],abs:[]});break;case"lt":var Se=ce.length;if(ye[Ne-1]&&!isNaN(ye[Ne-1].x)&&(ae=[xe.x-ye[Ne-1].x,xe.y-ye[Ne-1].y],Se>0)){for(;Se>=0;Se--)if(ce[Se-1].close!==!0&&ce[Se-1].begin!==!0){ce[Se-1].deltas.push(ae),ce[Se-1].abs.push(xe);break}}break;case"bct":ae=[xe.x1-ye[Ne-1].x,xe.y1-ye[Ne-1].y,xe.x2-ye[Ne-1].x,xe.y2-ye[Ne-1].y,xe.x-ye[Ne-1].x,xe.y-ye[Ne-1].y],ce[ce.length-1].deltas.push(ae);break;case"qct":var Fe=ye[Ne-1].x+2/3*(xe.x1-ye[Ne-1].x),Qe=ye[Ne-1].y+2/3*(xe.y1-ye[Ne-1].y),Je=xe.x+2/3*(xe.x1-xe.x),Pe=xe.y+2/3*(xe.y1-xe.y),he=xe.x,nt=xe.y;ae=[Fe-ye[Ne-1].x,Qe-ye[Ne-1].y,Je-ye[Ne-1].x,Pe-ye[Ne-1].y,he-ye[Ne-1].x,nt-ye[Ne-1].y],ce[ce.length-1].deltas.push(ae);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(xe)}}ie=J?null:M==="stroke"?"stroke":"fill";for(var lt=!1,ht=0;ht<ce.length;ht++)if(ce[ht].arc)for(var Ke=ce[ht].abs,Nt=0;Nt<Ke.length;Nt++){var Rt=Ke[Nt];Rt.type==="arc"?U.call(this,Rt.x,Rt.y,Rt.radius,Rt.startAngle,Rt.endAngle,Rt.counterclockwise,void 0,J,!lt):G.call(this,Rt.x,Rt.y),lt=!0}else if(ce[ht].close===!0)this.pdf.internal.out("h"),lt=!1;else if(ce[ht].begin!==!0){var qt=ce[ht].start.x,Zt=ce[ht].start.y;oe.call(this,ce[ht].deltas,qt,Zt),lt=!0}ie&&R.call(this,ie),J&&K.call(this)}},H=function(M){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-ae;case"top":return M+J-ae;case"hanging":return M+J-2*ae;case"middle":return M+J/2-ae;default:return M}},L=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(J,ae){this.colorStops.push([J,ae])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(M,J,ae,ie,ce,ye,Ne,xe,Se){for(var Fe=le.call(this,ae,ie,ce,ye),Qe=0;Qe<Fe.length;Qe++){var Je=Fe[Qe];Qe===0&&(Se?O.call(this,Je.x1+M,Je.y1+J):G.call(this,Je.x1+M,Je.y1+J)),ge.call(this,M,J,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}xe?K.call(this):R.call(this,Ne)},R=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(M,J){this.pdf.internal.out(t(M)+" "+s(J)+" m")},V=function(M){var J;switch(M.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var ae,ie,ce,ye=this.pdf.getTextDimensions(M.text),Ne=H.call(this,M.y),xe=L.call(this,Ne)-ye.h,Se=this.ctx.transform.applyToPoint(new c(M.x,Ne));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),Qe=new u;Qe=(Qe=(Qe=Qe.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var Je=this.ctx.transform.applyToRectangle(new h(M.x,Ne,ye.w,ye.h)),Pe=Qe.applyToRectangle(new h(M.x,xe,ye.w,ye.h)),he=N.call(this,Pe),nt=[],lt=0;lt<he.length;lt+=1)nt.indexOf(he[lt])===-1&&nt.push(he[lt]);F(nt);for(var ht=nt[0],Ke=nt[nt.length-1],Nt=ht;Nt<Ke+1;Nt++){this.pdf.setPage(Nt);var Rt=Nt===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[2],sn=Zt-this.margin[0],an=this.pdf.internal.pageSize.width-this.margin[1],Xe=an-this.margin[3],Ht=Nt===1?0:qt+(Nt-2)*sn;if(this.ctx.clip_path.length!==0){var zt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ae,this.posX+this.margin[3],-1*Ht+Rt),P.call(this,"fill",!0),this.path=zt}var Vt=E([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Ht+Rt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale);var xt=this.autoPaging!=="text";if(xt||Vt.y+Vt.h<=Zt){if(xt||Vt.y>=Rt&&Vt.x<=an){var Dt=xt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||an-Vt.x)[0],Dn=E([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Ht+Rt+this.ctx.prevPageLastElemOffset)[0],Gt=xt&&(Nt>ht||Nt<Ke)&&I.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,sn,null).clip().discardPath()),this.pdf.text(Dt,Dn.x,Dn.y,{angle:M.angle,align:J,renderingMode:M.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else Vt.y<Zt&&(this.ctx.prevPageLastElemOffset+=Zt-Vt.y);M.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ce)}}else M.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale),this.pdf.text(M.text,Se.x+this.posX,Se.y+this.posY,{angle:M.angle,align:J,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ce)},G=function(M,J,ae,ie){ae=ae||0,ie=ie||0,this.pdf.internal.out(t(M+ae)+" "+s(J+ie)+" l")},oe=function(M,J,ae){return this.pdf.lines(M,J,ae,null,null)},ge=function(M,J,ae,ie,ce,ye,Ne,xe){this.pdf.internal.out([e(r(ae+M)),e(o(ie+J)),e(r(ce+M)),e(o(ye+J)),e(r(Ne+M)),e(o(xe+J)),"c"].join(" "))},le=function(M,J,ae,ie){for(var ce=2*Math.PI,ye=Math.PI/2;J>ae;)J-=ce;var Ne=Math.abs(ae-J);Ne<ce&&ie&&(Ne=ce-Ne);for(var xe=[],Se=ie?-1:1,Fe=J;Ne>1e-5;){var Qe=Fe+Se*Math.min(Ne,ye);xe.push(X.call(this,M,Fe,Qe)),Ne-=Math.abs(Qe-Fe),Fe=Qe}return xe},X=function(M,J,ae){var ie=(ae-J)/2,ce=M*Math.cos(ie),ye=M*Math.sin(ie),Ne=ce,xe=-ye,Se=Ne*Ne+xe*xe,Fe=Se+Ne*ce+xe*ye,Qe=4/3*(Math.sqrt(2*Se*Fe)-Fe)/(Ne*ye-xe*ce),Je=Ne-Qe*xe,Pe=xe+Qe*Ne,he=Je,nt=-Pe,lt=ie+J,ht=Math.cos(lt),Ke=Math.sin(lt);return{x1:M*Math.cos(J),y1:M*Math.sin(J),x2:Je*ht-Pe*Ke,y2:Je*Ke+Pe*ht,x3:he*ht-nt*Ke,y3:he*Ke+nt*ht,x4:M*Math.cos(ae),y4:M*Math.sin(ae)}},W=function(M){return 180*M/Math.PI},re=function(M,J,ae,ie,ce,ye){var Ne=M+.5*(ae-M),xe=J+.5*(ie-J),Se=ce+.5*(ae-ce),Fe=ye+.5*(ie-ye),Qe=Math.min(M,ce,Ne,Se),Je=Math.max(M,ce,Ne,Se),Pe=Math.min(J,ye,xe,Fe),he=Math.max(J,ye,xe,Fe);return new h(Qe,Pe,Je-Qe,he-Pe)},me=function(M,J,ae,ie,ce,ye,Ne,xe){var Se,Fe,Qe,Je,Pe,he,nt,lt,ht,Ke,Nt,Rt,qt,Zt,sn=ae-M,an=ie-J,Xe=ce-ae,Ht=ye-ie,zt=Ne-ce,Vt=xe-ye;for(Fe=0;Fe<41;Fe++)ht=(nt=(Qe=M+(Se=Fe/40)*sn)+Se*((Pe=ae+Se*Xe)-Qe))+Se*(Pe+Se*(ce+Se*zt-Pe)-nt),Ke=(lt=(Je=J+Se*an)+Se*((he=ie+Se*Ht)-Je))+Se*(he+Se*(ye+Se*Vt-he)-lt),Fe==0?(Nt=ht,Rt=Ke,qt=ht,Zt=Ke):(Nt=Math.min(Nt,ht),Rt=Math.min(Rt,Ke),qt=Math.max(qt,ht),Zt=Math.max(Zt,Ke));return new h(Math.round(Nt),Math.round(Rt),Math.round(qt-Nt),Math.round(Zt-Rt))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,J,ae=(M=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:J}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(Mn.API),(function(n){var e=function(c){var h,u,f,A,m,x,g,b,I,N;for(u=[],f=0,A=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;A>f;f+=4)(m=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(x=(m=((m=((m=((m=(m-(N=m%85))/85)-(I=m%85))/85)-(b=m%85))/85)-(g=m%85))/85)%85,u.push(x+33,g+33,b+33,I+33,N+33)):u.push(122);return(function(S,E){for(var F=E;F>0;F--)S.pop()})(u,h.length),String.fromCharCode.apply(String,u)+"~>"},t=function(c){var h,u,f,A,m,x=String,g="length",b=255,I="charCodeAt",N="slice",S="replace";for(c[N](-2),c=c[N](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],A=0,m=(c+=h="uuuuu"[N](c[g]%5||5))[g];m>A;A+=5)u=52200625*(c[I](A)-33)+614125*(c[I](A+1)-33)+7225*(c[I](A+2)-33)+85*(c[I](A+3)-33)+(c[I](A+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,F){for(var Q=F;Q>0;Q--)E.pop()})(f,h[g]),x.fromCharCode.apply(x,f)},s=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var u="",f=0;f<c.length;f+=2)u+=String.fromCharCode("0x"+(c[f]+c[f+1]));return u},o=function(c){for(var h=new Uint8Array(c.length),u=c.length;u--;)h[u]=c.charCodeAt(u);return(h=wb(h)).reduce(function(f,A){return f+String.fromCharCode(A)},"")};n.processDataByFilters=function(c,h){var u=0,f=c||"",A=[];for(typeof(h=h||[])=="string"&&(h=[h]),u=0;u<h.length;u+=1)switch(h[u]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=r(f),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=s(f),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[u]+'" is not implemented')}return{data:f,reverseChain:A.reverse().join(" ")}}})(Mn.API),(function(n){n.loadFile=function(e,t,s){return(function(r,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(u,f,A){var m=new XMLHttpRequest,x=0,g=function(b){var I=b.length,N=[],S=String.fromCharCode;for(x=0;x<I;x+=1)N.push(S(255&b.charCodeAt(x)));return N.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?A(g(this.responseText)):A(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)})(r,o,c)}catch{}return h})(e,t,s)},n.loadImageFile=n.loadFile})(Mn.API),(function(n){function e(){return(ds.html2canvas?Promise.resolve(ds.html2canvas):e1(()=>import("./html2canvas.esm-QH1iLAAe.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(ds.DOMPurify?Promise.resolve(ds.DOMPurify):e1(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var s=function(h){var u=Hr(h);return u==="undefined"?"undefined":u==="string"||h instanceof String?"string":u==="number"||h instanceof Number?"number":u==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(h,u){var f=document.createElement(h);for(var A in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[A]=u.style[A];return f},o=function h(u,f){for(var A=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||A.appendChild(h(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(A.width=u.width,A.height=u.height,A.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(A.value=u.value),A.addEventListener("load",function(){A.scrollTop=u.scrollTop,A.scrollLeft=u.scrollLeft},!0)),A},c=function h(u){var f=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),A=h.convert(Promise.resolve(),f);return(A=A.setProgress(1,h,1,[h])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,u){return h.__proto__=u||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,u){return this.then(function(){switch(u=u||(function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),u){case"string":return this.then(t).then(function(f){return this.set({src:r("div",{innerHTML:h,dompurify:f})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=this.opt.jsPDF,A=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=A,A)for(var g=0;g<A.length;++g){var b=A[g],I=b.src.find(function(N){return N.format==="truetype"});I&&f.addFont(I.url,b.ref.name,b.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(h,u):this.outputPdf(h,u)},c.prototype.outputPdf=function(h,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,u)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(s(h)!=="object")return this;var u=Object.keys(h||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=h[f]};switch(f){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[f]=h[f]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(h,u){return this.then(function(){var f=h in c.template.prop?this.prop[h]:this.opt[h];return u?u(f):f})},c.prototype.setMargin=function(h){return this.then(function(){switch(s(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function u(f,A){return Math.floor(f*A/72*96)}return this.then(function(){(h=h||Mn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:u(h.inner.width,h.k),height:u(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,u,f,A){return h!=null&&(this.progress.val=h),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,u,f,A){return this.setProgress(h?this.progress.val+h:null,u||null,f?this.progress.n+f:null,A?this.progress.stack.concat(A):null)},c.prototype.then=function(h,u){var f=this;return this.thenCore(h,u,function(A,m){return f.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,A),x}).then(A,m).then(function(x){return f.updateProgress(1),x})})},c.prototype.thenCore=function(h,u,f){f=f||Promise.prototype.then;var A=this;h&&(h=h.bind(A)),u&&(u=u.bind(A));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:c.convert(Object.assign({},A),Promise.prototype),x=f.call(m,h,u);return c.convert(x,A.__proto__)},c.prototype.thenExternal=function(h,u){return Promise.prototype.then.call(this,h,u)},c.prototype.thenList=function(h){var u=this;return h.forEach(function(f){u=u.thenCore(f)}),u},c.prototype.catch=function(h){h&&(h=h.bind(this));var u=Promise.prototype.catch.call(this,h);return c.convert(u,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Mn.getPageSize=function(h,u,f){if(Hr(h)==="object"){var A=h;h=A.orientation,u=A.unit||u,f=A.format||f}u=u||"mm",f=f||"a4",h=(""+(h||"P")).toLowerCase();var m,x=(""+f).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,I=0,N=0;if(g.hasOwnProperty(x))I=g[x][1]/m,N=g[x][0]/m;else try{I=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(h==="p"||h==="portrait")h="p",N>I&&(b=N,N=I,I=b);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",I>N&&(b=N,N=I,I=b)}return{width:N,height:I,unit:u,k:m,orientation:h}},n.html=function(h,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(x1):null;var f=new c(u);return u.worker?f:f.from(h).doCallback()}})(Mn.API),Mn.API.addJS=function(n){return sS=n,this.internal.events.subscribe("postPutResources",function(){Z0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Z0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Z0!==void 0&&nS!==void 0&&this.internal.out("/Names <</JavaScript "+Z0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),o=0;o<r.length;o++){var c=r[o],h=s.exec(c);if(h!=null){var u=h[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,A=[];for(o=0;o<f;o++){var m=t.internal.newObject();A.push(m);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<A.length;o++)t.internal.write("(page_"+(o+1)+")"+A[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,r,o){var c={title:r,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var r=0;r<s.children.length;r++)this.genIds_r(s.children[r])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,r){for(var o=0;o<r.children.length;o++)s.count++,this.count_r(s,r.children[o]);return s.count}}])})(Mn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,r,o,c,h){var u,f=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var x,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,I={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=g,e.indexOf(m.charCodeAt(N+1))!==-1){x=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),I={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:x,numcomponents:m.charCodeAt(N+9)};break}g=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return I})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}A={data:t,width:u.width,height:u.height,colorSpace:h,bitsPerComponent:8,filter:f,index:s,alias:r}}return A}})(Mn.API),Mn.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var r,o=O9(n,{checkCrc:!0}),c=o.width,h=o.height,u=o.channels,f=o.palette,A=o.depth;r=f&&u===1?(function(U){for(var R=U.width,K=U.height,O=U.data,V=U.palette,G=U.depth,oe=!1,ge=[],le=[],X=void 0,W=!1,re=0,me=0;me<V.length;me++){var ee=oC(V[me],4),M=ee[0],J=ee[1],ae=ee[2],ie=ee[3];ge.push(M,J,ae),ie!=null&&(ie===0?(re++,le.length<1&&le.push(me)):ie<255&&(W=!0))}if(W||re>1){oe=!0,le=void 0;var ce=R*K;X=new Uint8Array(ce);for(var ye=new DataView(O.buffer),Ne=0;Ne<ce;Ne++){var xe=y1(ye,Ne,G),Se=oC(V[xe],4)[3];X[Ne]=Se}}else re===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:O,alphaBytes:X,needSMask:oe,palette:ge,mask:le}})(o):u===2||u===4?(function(U){for(var R=U.data,K=U.width,O=U.height,V=U.channels,G=U.depth,oe=V===2?"DeviceGray":"DeviceRGB",ge=V-1,le=K*O,X=ge,W=le*X,re=1*le,me=Math.ceil(W*G/8),ee=Math.ceil(re*G/8),M=new Uint8Array(me),J=new Uint8Array(ee),ae=new DataView(R.buffer),ie=new DataView(M.buffer),ce=new DataView(J.buffer),ye=!1,Ne=0;Ne<le;Ne++){for(var xe=Ne*V,Se=0;Se<X;Se++)dS(ie,y1(ae,xe+Se,G),Ne*X+Se,G);var Fe=y1(ae,xe+X,G);Fe<(1<<G)-1&&(ye=!0),dS(ce,Fe,1*Ne,G)}return{colorSpace:oe,colorsPerPixel:ge,sMaskBitsPerComponent:ye?G:void 0,colorBytes:M,alphaBytes:J,needSMask:ye}})(o):(function(U){var R=U.data,K=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(O){for(var V=O.length,G=new Uint8Array(2*V),oe=new DataView(G.buffer,G.byteOffset,G.byteLength),ge=0;ge<V;ge++)oe.setUint16(2*ge,O[ge],!1);return G})(R):R,needSMask:!1}})(o);var m,x,g,b=r,I=b.colorSpace,N=b.colorsPerPixel,S=b.sMaskBitsPerComponent,E=b.colorBytes,F=b.alphaBytes,Q=b.needSMask,P=b.palette,H=b.mask,L=null;return s!==Mn.API.image_compression.NONE&&typeof wb=="function"?(L=(function(U){var R;switch(U){case Mn.API.image_compression.FAST:R=11;break;case Mn.API.image_compression.MEDIUM:R=13;break;case Mn.API.image_compression.SLOW:R=14;break;default:R=12}return R})(s),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(L," /Colors ").concat(N," /BitsPerComponent ").concat(A," /Columns ").concat(c),n=oS(E,Math.ceil(c*N*A/8),N,A,s),Q&&(g=oS(F,Math.ceil(c*S/8),1,S,s))):(m=void 0,x=void 0,n=E,Q&&(g=F)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:n,index:e,filter:m,decodeParameters:x,transparency:H,palette:P,sMask:g,predictor:L,width:c,height:h,bitsPerComponent:A,sMaskBitsPerComponent:S,colorSpace:I}}},(function(n){n.processGIF89A=function(e,t,s,r){var o=new iV(e),c=o.width,h=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:c,height:h},A=new b1(100).encode(f,100);return n.processJPEG.call(this,A,t,s,r)},n.processGIF87A=n.processGIF89A})(Mn.API),tc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},tc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ra.log("bit decode error:"+t)}},tc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*r*4,h=0;h<8&&8*r+h<this.width;h++){var u=this.palette[o>>7-h&1];this.data[c+4*h]=u.blue,this.data[c+4*h+1]=u.green,this.data[c+4*h+2]=u.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},tc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*r*4,h=o>>4,u=15&o,f=this.palette[h];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},tc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(r<this.palette.length){var c=this.palette[r];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},tc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,f=o>>15?255:0,A=s*this.width*4+4*r;this.data[A]=u,this.data[A+1]=h,this.data[A+2]=c,this.data[A+3]=f}this.pos+=n}},tc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,u=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,A=r*this.width*4+4*o;this.data[A]=f,this.data[A+1]=u,this.data[A+2]=h,this.data[A+3]=255}this.pos+=n}},tc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=r,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},tc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=r,this.data[h+2]=s,this.data[h+3]=c}},tc.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,r){var o=new tc(e,!1),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new b1(100).encode(u,100);return n.processJPEG.call(this,f,t,s,r)}})(Mn.API),fS.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,r){var o=new fS(e),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new b1(100).encode(u,100);return n.processJPEG.call(this,f,t,s,r)}})(Mn.API),Mn.API.processRGBA=function(n,e,t){for(var s=n.data,r=s.length,o=new Uint8Array(r/4*3),c=new Uint8Array(r/4),h=0,u=0,f=0;f<r;f+=4){var A=s[f],m=s[f+1],x=s[f+2],g=s[f+3];o[h++]=A,o[h++]=m,o[h++]=x,c[u++]=g}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Mn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mf=Mn.API,ex=Mf.getCharWidthsArray=function(n,e){var t,s,r=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:r.metadata.Unicode.widths,u=h.fof?h.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,A=f.fof?f.fof:1,m=e.doKerning!==!1,x=0,g=n.length,b=0,I=h[0]||u,N=[];for(t=0;t<g;t++)s=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?N.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(x=m&&Hr(f[s])==="object"&&!isNaN(parseInt(f[s][b],10))?f[s][b]/A:0,N.push((h[s]||I)/u+x)),b=s;return N},rS=Mf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Mf.processArabic&&(n=Mf.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,r)/t:ex.apply(this,arguments).reduce(function(o,c){return o+c},0)},aS=function(n,e,t,s){for(var r=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;r.push(n.slice(0,o));var u=o;for(h=0;o!==c;)h+e[o]>s&&(r.push(n.slice(u,o)),h=0,u=o),h+=e[o],o++;return u!==o&&r.push(n.slice(u,o)),r},iS=function(n,e,t){t||(t={});var s,r,o,c,h,u,f,A=[],m=[A],x=t.textIndent||0,g=0,b=0,I=n.split(" "),N=ex.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?I[0].length+2:t.lineIndent||0){var S=Array(u).join(" "),E=[];I.map(function(Q){(Q=Q.split(/\s*\n/)).length>1?E=E.concat(Q.map(function(P,H){return(H&&P.length?`
`:"")+P})):E.push(Q[0])}),I=E,u=rS.apply(this,[S,t])}for(o=0,c=I.length;o<c;o++){var F=0;if(s=I[o],u&&s[0]==`
`&&(s=s.substr(1),F=1),x+g+(b=(r=ex.apply(this,[s,t])).reduce(function(Q,P){return Q+P},0))>e||F){if(b>e){for(h=aS.apply(this,[s,r,e-(x+g),e]),A.push(h.shift()),A=[h.pop()];h.length;)m.push([h.shift()]);b=r.slice(s.length-(A[0]?A[0].length:0)).reduce(function(Q,P){return Q+P},0)}else A=[s];m.push(A),x=b+u,g=N}else A.push(s),x+=g+b,g=N}return f=u?function(Q,P){return(P?S:"")+Q.join(" ")}:function(Q){return Q.join(" ")},m.map(f)},Mf.splitTextToSize=function(n,e,t){var s,r=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var m=this.internal.getFont(A.fontName,A.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/r;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=t.lineIndent;var h,u,f=[];for(h=0,u=s.length;h<u;h++)f=f.concat(iS.apply(this,[s[h],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},r={},o=0;o<16;o++)s[t[o]]=e[o],r[e[o]]=t[o];var c=function(x){return"0x"+parseInt(x,10).toString(16)},h=n.__fontmetrics__.compress=function(x){var g,b,I,N,S=["{"];for(var E in x){if(g=x[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=c(E).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof g=="number")g<0?(I=c(g).slice(3),N="-"):(I=c(g).slice(2),N=""),I=N+I.slice(0,-1)+r[I.slice(-1)];else{if(Hr(g)!=="object")throw new Error("Don't know what to do with value type "+Hr(g)+".");I=h(g)}S.push(b+I)}return S.push("}"),S.join("")},u=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,b,I,N,S={},E=1,F=S,Q=[],P="",H="",L=x.length-1,U=1;U<L;U+=1)(N=x[U])=="'"?g?(I=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(Q.push([F,I]),F={},I=void 0):N=="}"?((b=Q.pop())[0][b[1]]=F,I=void 0,F=b[0]):N=="-"?E=-1:I===void 0?s.hasOwnProperty(N)?(P+=s[N],I=parseInt(P,16)*E,E=1,P=""):P+=N:s.hasOwnProperty(N)?(H+=s[N],F[I]=parseInt(H,16)*E,E=1,I=void 0,H=""):H+=N;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var g=x.font,b=m.Unicode[g.postScriptName];b&&(g.metadata.Unicode={},g.metadata.Unicode.widths=b.widths,g.metadata.Unicode.kerning=b.kerning);var I=A.Unicode[g.postScriptName];I&&(g.metadata.Unicode.encoding=I,g.encoding=I.codePages[0])}])})(Mn.API),(function(n){var e=function(t){for(var s=t.length,r=new Uint8Array(s),o=0;o<s;o++)r[o]=t.charCodeAt(o);return r};n.API.events.push(["addFont",function(t){var s=void 0,r=t.font,o=t.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(s=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(wx(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(r,s)}}])})(Mn),Mn.API.addSvgAsImage=function(n,e,t,s,r,o,c,h){if(isNaN(e)||isNaN(t))throw ra.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(r))throw ra.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=r;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(ds.canvg?Promise.resolve(ds.canvg):e1(()=>import("./index.es-IVJI_pow.js"),[],import.meta.url)).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(f,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(A)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,s,r,c,h)})},Mn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var r=0;r<this.internal.pages[s].length;r++)this.internal.pages[s][r]=this.internal.pages[s][r].replace(e,t);return this},Mn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,r,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),u=[],f=0,A=0,m=0;function x(b,I){var N,S=!1;for(N=0;N<b.length;N+=1)b[N]===I&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=h.length;for(m=0;m<g;m+=1)t[h[m]].value=t[h[m]].defaultValue,t[h[m]].explicitSet=!1}if(Hr(n)==="object"){for(r in n)if(o=n[r],x(h,r)&&o!==void 0){if(t[r].type==="boolean"&&typeof o=="boolean")t[r].value=o;else if(t[r].type==="name"&&x(t[r].valueSet,o))t[r].value=o;else if(t[r].type==="integer"&&Number.isInteger(o))t[r].value=o;else if(t[r].type==="array"){for(f=0;f<o.length;f+=1)if(s=!0,o[f].length===1&&typeof o[f][0]=="number")u.push(String(o[f]-1));else if(o[f].length>1){for(A=0;A<o[f].length;A+=1)typeof o[f][A]!="number"&&(s=!1);s===!0&&u.push([o[f][0]-1,o[f][1]-1].join(" "))}t[r].value="["+u.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,I=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?I.push("/"+b+" /"+t[b].value):I.push("/"+b+" "+t[b].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+h.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+o+c+h+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Mn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,u=c.metadata.Unicode.widths,f=["","0","00","000","0000"],A=[""],m=0,x=o.length;m<x;++m){if(h=c.metadata.characterToGlyph(o.charCodeAt(m)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(m),u.indexOf(h)==-1&&(u.push(h),u.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return A.join("");h=h.toString(16),A.push(f[4-h.length],h)}return A.join("")},s=function(o){var c,h,u,f,A,m,x;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,x=(h=Object.keys(o).sort(function(g,b){return g-b})).length;m<x;m++)c=h[m],u.length>=100&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+f+">"));return u.length&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var m=h.metadata.Unicode.widths,x=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),g="",b=0;b<x.length;b++)g+=String.fromCharCode(x[b]);var I=f();A({data:g,addLength1:!0,objectId:I}),u("endobj");var N=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var S=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+$f(h.fontName)),u("/FontFile2 "+I+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/Flags "+h.metadata.flags),u("/StemV "+h.metadata.stemV),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+$f(h.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+n.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+h.encoding+")"),u(">>"),u(">>"),u("endobj"),h.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+$f(h.fontName)),u("/Encoding /"+h.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var m=h.metadata.rawData,x="",g=0;g<m.length;g++)x+=String.fromCharCode(m[g]);var b=f();A({data:x,addLength1:!0,objectId:b}),u("endobj");var I=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var N=f();u("<<"),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u("/StemV "+h.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/FontName /"+$f(h.fontName)),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u(">>"),u("endobj"),h.objectNumber=f();for(var S=0;S<h.metadata.hmtx.widths.length;S++)h.metadata.hmtx.widths[S]=parseInt(h.metadata.hmtx.widths[S]*(1e3/h.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+$f(h.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]);var r=function(o){var c,h=o.text||"",u=o.x,f=o.y,A=o.options||{},m=o.mutex||{},x=m.pdfEscape,g=m.activeFontKey,b=m.fonts,I=g,N="",S=0,E="",F=b[I].encoding;if(b[I].encoding!=="Identity-H")return{text:h,x:u,y:f,options:A,mutex:m};for(E=h,I=g,Array.isArray(h)&&(E=h[0]),S=0;S<E.length;S+=1)b[I].metadata.hasOwnProperty("cmap")&&(c=b[I].metadata.cmap.unicode.codeMap[E[S].charCodeAt(0)]),c||E[S].charCodeAt(0)<256&&b[I].metadata.hasOwnProperty("Unicode")?N+=E[S]:N+="";var Q="";return parseInt(I.slice(1))<14||F==="WinAnsiEncoding"?Q=x(N,I).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(Q=t(N,b[I])),m.isHex=!0,{text:Q,x:u,y:f,options:A,mutex:m}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?h.push([r(Object.assign({},u,{text:c[f][0]})).text,c[f][1],c[f][2]]):h.push(r(Object.assign({},u,{text:c[f]})).text);o.text=h}else o.text=r(Object.assign({},u,{text:c})).text}])})(Mn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Mn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var r,o,c,h,u,f,A,m=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,F=0;this.__bidiEngine__={};var Q=function(O){var V=O.charCodeAt(),G=V>>8,oe=I[G];return oe!==void 0?m[256*oe+(255&V)]:G===252||G===253?"AL":S.test(G)?"L":G===8?"R":"N"},P=function(O){for(var V,G=0;G<O.length;G++){if((V=Q(O.charAt(G)))==="L")return!1;if(V==="R")return!0}return!1},H=function(O,V,G,oe){var ge,le,X,W,re=V[oe];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(re="AN");break;case"AL":E=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":oe<1||oe+1>=V.length||(ge=G[oe-1])!=="EN"&&ge!=="AN"||(le=V[oe+1])!=="EN"&&le!=="AN"?re="N":E&&(le="AN"),re=le===ge?le:"N";break;case"ES":re=(ge=oe>0?G[oe-1]:"B")==="EN"&&oe+1<V.length&&V[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&G[oe-1]==="EN"){re="EN";break}if(E){re="N";break}for(X=oe+1,W=V.length;X<W&&V[X]==="ET";)X++;re=X<W&&V[X]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(W=V.length,X=oe+1;X<W&&V[X]==="NSM";)X++;if(X<W){var me=O[oe],ee=me>=1425&&me<=2303||me===64286;if(ge=V[X],ee&&(ge==="R"||ge==="AL")){re="R";break}}}re=oe<1||(ge=V[oe-1])==="B"?"N":G[oe-1];break;case"B":E=!1,r=!0,re=F;break;case"S":o=!0,re="N"}return re},L=function(O,V,G){var oe=O.split("");return G&&U(oe,G,{hiLevel:F}),oe.reverse(),V&&V.reverse(),oe.join("")},U=function(O,V,G){var oe,ge,le,X,W,re=-1,me=O.length,ee=0,M=[],J=F?g:x,ae=[];for(E=!1,r=!1,o=!1,ge=0;ge<me;ge++)ae[ge]=Q(O[ge]);for(le=0;le<me;le++){if(W=ee,M[le]=H(O,ae,M,le),oe=240&(ee=J[W][b[M[le]]]),ee&=15,V[le]=X=J[ee][5],oe>0)if(oe===16){for(ge=re;ge<le;ge++)V[ge]=1;re=-1}else re=-1;if(J[ee][6])re===-1&&(re=le);else if(re>-1){for(ge=re;ge<le;ge++)V[ge]=X;re=-1}ae[le]==="B"&&(V[le]=0),G.hiLevel|=X}o&&(function(ie,ce,ye){for(var Ne=0;Ne<ye;Ne++)if(ie[Ne]==="S"){ce[Ne]=F;for(var xe=Ne-1;xe>=0&&ie[xe]==="WS";xe--)ce[xe]=F}})(ae,V,me)},R=function(O,V,G,oe,ge){if(!(ge.hiLevel<O)){if(O===1&&F===1&&!r)return V.reverse(),void(G&&G.reverse());for(var le,X,W,re,me=V.length,ee=0;ee<me;){if(oe[ee]>=O){for(W=ee+1;W<me&&oe[W]>=O;)W++;for(re=ee,X=W-1;re<X;re++,X--)le=V[re],V[re]=V[X],V[X]=le,G&&(le=G[re],G[re]=G[X],G[X]=le);ee=W}ee++}}},K=function(O,V,G){var oe=O.split(""),ge={hiLevel:F};return G||(G=[]),U(oe,G,ge),(function(le,X,W){if(W.hiLevel!==0&&A)for(var re,me=0;me<le.length;me++)X[me]===1&&(re=N.indexOf(le[me]))>=0&&(le[me]=N[re+1])})(oe,G,ge),R(2,oe,V,G,ge),R(1,oe,V,G,ge),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(O,V,G){if((function(ge,le){if(le)for(var X=0;X<ge.length;X++)le[X]=X;h===void 0&&(h=P(ge)),f===void 0&&(f=P(ge))})(O,V),c||!u||f)if(c&&u&&h^f)F=h?1:0,O=L(O,V,G);else if(!c&&u&&f)F=h?1:0,O=K(O,V,G),O=L(O,V);else if(!c||h||u||f){if(c&&!u&&h^f)O=L(O,V),h?(F=0,O=K(O,V,G)):(F=1,O=K(O,V,G),O=L(O,V));else if(c&&h&&!u&&f)F=1,O=K(O,V,G),O=L(O,V);else if(!c&&!u&&h^f){var oe=A;h?(F=1,O=K(O,V,G),F=0,A=!1,O=K(O,V,G),A=oe):(F=0,O=K(O,V,G),O=L(O,V),F=1,A=!1,O=K(O,V,G),A=oe,O=L(O,V))}}else F=0,O=K(O,V,G);else F=h?1:0,O=K(O,V,G);return O},this.__bidiEngine__.setOptions=function(O){O&&(c=O.isInputVisual,u=O.isOutputVisual,h=O.isInputRtl,f=O.isOutputRtl,A=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var r=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var h=0;for(c=[],h=0;h<r.length;h+=1)Object.prototype.toString.call(r[h])==="[object Array]"?c.push([t.doBidiReorder(r[h][0]),r[h][1],r[h][2]]):c.push([t.doBidiReorder(r[h])]);s.text=c}else s.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(Mn),Mn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Yd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new bV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new oV(this.contents),this.head=new AV(this),this.name=new fV(this),this.cmap=new UI(this),this.toUnicode={},this.hhea=new cV(this),this.maxp=new mV(this),this.hmtx=new pV(this),this.post=new dV(this),this.os2=new uV(this),this.loca=new yV(this),this.glyf=new gV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,u,f;for(f=[],c=0,h=(u=this.bbox).length;c<h;c++)e=u[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var r,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)r=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(r))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var fc,Yd=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,r;for(r=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,r,o,c,h,u;return e=this.readByte(),t=this.readByte(),s=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^r)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*r+16777216*o+65536*c+256*h+u},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,r,o;for(o=[],s=0,r=e.length;s<r;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),oV=(function(){var n;function e(t){var s,r,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,r,o,c,h,u,f,A,m,x,g,b,I;for(I in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),c=Math.floor(m/u),A=16*g-m,(r=new Yd).writeInt(this.scalarType),r.writeShort(g),r.writeShort(m),r.writeShort(c),r.writeShort(A),o=16*g,f=r.pos+o,h=null,b=[],t)for(x=t[I],r.writeString(I),r.writeInt(n(x)),r.writeInt(f),r.writeInt(x.length),b=b.concat(x),I==="head"&&(h=f),f+=x.length;f%4;)b.push(0),f++;return r.write(b),s=2981146554-n(r.data),r.pos=h+8,r.writeUInt32(s),r.data},n=function(t){var s,r,o,c;for(t=DI.call(t);t.length%4;)t.push(0);for(o=new Yd(t),r=0,s=0,c=t.length;s<c;s=s+=4)r+=o.readUInt32();return 4294967295&r},e})(),lV={}.hasOwnProperty,eu=function(n,e){for(var t in e)lV.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};fc=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var AV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Yd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),mS=(function(){function n(e,t){var s,r,o,c,h,u,f,A,m,x,g,b,I,N,S,E,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,o=(function(){var Q,P;for(P=[],u=Q=0;0<=x?Q<x:Q>x;u=0<=x?++Q:--Q)P.push(e.readUInt16());return P})(),e.pos+=2,I=(function(){var Q,P;for(P=[],u=Q=0;0<=x?Q<x:Q>x;u=0<=x?++Q:--Q)P.push(e.readUInt16());return P})(),f=(function(){var Q,P;for(P=[],u=Q=0;0<=x?Q<x:Q>x;u=0<=x?++Q:--Q)P.push(e.readUInt16());return P})(),A=(function(){var Q,P;for(P=[],u=Q=0;0<=x?Q<x:Q>x;u=0<=x?++Q:--Q)P.push(e.readUInt16());return P})(),r=(this.length-e.pos+this.offset)/2,h=(function(){var Q,P;for(P=[],u=Q=0;0<=r?Q<r:Q>r;u=0<=r?++Q:--Q)P.push(e.readUInt16());return P})(),u=S=0,F=o.length;S<F;u=++S)for(N=o[u],s=E=b=I[u];b<=N?E<=N:E>=N;s=b<=N?++E:--E)A[u]===0?c=s+f[u]:(c=h[A[u]/2+(s-b)-(x-u)]||0)!==0&&(c+=f[u]),this.codeMap[s]=65535&c}e.pos=m}return n.encode=function(e,t){var s,r,o,c,h,u,f,A,m,x,g,b,I,N,S,E,F,Q,P,H,L,U,R,K,O,V,G,oe,ge,le,X,W,re,me,ee,M,J,ae,ie,ce,ye,Ne,xe,Se,Fe,Qe;switch(oe=new Yd,c=Object.keys(e).sort(function(Je,Pe){return Je-Pe}),t){case"macroman":for(I=0,N=(function(){var Je=[];for(b=0;b<256;++b)Je.push(0);return Je})(),E={0:0},o={},ge=0,re=c.length;ge<re;ge++)E[xe=e[r=c[ge]]]==null&&(E[xe]=++I),o[r]={old:e[r],new:E[e[r]]},N[r]=E[e[r]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(N),{charMap:o,subtable:oe.data,maxGlyphID:I+1};case"unicode":for(V=[],m=[],F=0,E={},s={},S=f=null,le=0,me=c.length;le<me;le++)E[P=e[r=c[le]]]==null&&(E[P]=++F),s[r]={old:P,new:E[P]},h=E[P]-r,S!=null&&h===f||(S&&m.push(S),V.push(r),f=h),S=r;for(S&&m.push(S),m.push(65535),V.push(65535),K=2*(R=V.length),U=2*Math.pow(Math.log(R)/Math.LN2,2),x=Math.log(U/2)/Math.LN2,L=2*R-U,u=[],H=[],g=[],b=X=0,ee=V.length;X<ee;b=++X){if(O=V[b],A=m[b],O===65535){u.push(0),H.push(0);break}if(O-(G=s[O].new)>=32768)for(u.push(0),H.push(2*(g.length+R-b)),r=W=O;O<=A?W<=A:W>=A;r=O<=A?++W:--W)g.push(s[r].new);else u.push(G-O),H.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*R+2*g.length),oe.writeUInt16(0),oe.writeUInt16(K),oe.writeUInt16(U),oe.writeUInt16(x),oe.writeUInt16(L),ye=0,M=m.length;ye<M;ye++)r=m[ye],oe.writeUInt16(r);for(oe.writeUInt16(0),Ne=0,J=V.length;Ne<J;Ne++)r=V[Ne],oe.writeUInt16(r);for(Se=0,ae=u.length;Se<ae;Se++)h=u[Se],oe.writeUInt16(h);for(Fe=0,ie=H.length;Fe<ie;Fe++)Q=H[Fe],oe.writeUInt16(Q);for(Qe=0,ce=g.length;Qe<ce;Qe++)I=g[Qe],oe.writeUInt16(I);return{charMap:s,subtable:oe.data,maxGlyphID:F+1}}},n})(),UI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)t=new mS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,r;return t==null&&(t="macroman"),s=mS.encode(e,t),(r=new Yd).writeUInt16(0),r.writeUInt16(1),s.table=r.data.concat(s.subtable),s},n})(),cV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),uV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),dV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var c,h,u;for(u=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)u.push(e.readUInt32());return u}).call(this)}},n})(),hV=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,r,o,c,h,u,f,A,m,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(u={},o=A=0,m=s.length;A<m;o=++A)r=s[o],e.pos=r.offset,f=e.readString(r.length),c=new hV(f,r),u[x=r.nameID]==null&&(u[x]=[]),u[r.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n})(),mV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),pV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,r,o,c,h,u;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,A;for(A=[],t=f=0;0<=r?f<r:f>r;t=0<=r?++f:--f)A.push(e.readInt16());return A})(),this.widths=(function(){var f,A,m,x;for(x=[],f=0,A=(m=this.metrics).length;f<A;f++)o=m[f],x.push(o.advance);return x}).call(this),s=this.widths[this.widths.length-1],u=[],t=c=0;0<=r?c<r:c>r;t=0<=r?++c:--c)u.push(this.widths.push(s));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),DI=[].slice,gV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,r,o,c,h,u,f,A,m;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(r=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,c=(h=new Yd(t.read(r))).readShort(),f=h.readShort(),m=h.readShort(),u=h.readShort(),A=h.readShort(),this.cache[e]=c===-1?new vV(h,f,m,u,A):new xV(h,c,f,m,u,A),this.cache[e]))},n.prototype.encode=function(e,t,s){var r,o,c,h,u;for(c=[],o=[],h=0,u=t.length;h<u;h++)r=e[t[h]],o.push(c.length),r&&(c=c.concat(r.encode(s)));return o.push(c.length),{table:c,offsets:o}},n})(),xV=(function(){function n(e,t,s,r,o,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=r,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),vV=(function(){function n(e,t,s,r,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new Yd(DI.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),yV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return eu(n,fc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,o;for(o=[],s=0,r=this.length;s<r;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],s=0,r=this.length;s<r;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),r=0,o=0,c=0;c<s.length;++c)if(s[c]=r,o<t.length&&t[o]==c){++o,s[c]=r;var h=this.offsets[c],u=this.offsets[c+1]-h;u>0&&(r+=u)}for(var f=new Array(4*s.length),A=0;A<s.length;++A)f[4*A+3]=255&s[A],f[4*A+2]=(65280&s[A])>>8,f[4*A+1]=(16711680&s[A])>>16,f[4*A]=(4278190080&s[A])>>24;return f},n})(),bV=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,r,o;for(t in r=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=r[s];return e},n.prototype.glyphsFor=function(e){var t,s,r,o,c,h,u;for(r={},c=0,h=e.length;c<h;c++)r[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],r)(s=r[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))s=u[o],r[o]=s;return r},n.prototype.encode=function(e,t){var s,r,o,c,h,u,f,A,m,x,g,b,I,N,S;for(r in s=UI.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),g={0:0},S=s.charMap)g[(u=S[r]).old]=u.new;for(b in x=s.maxGlyphID,c)b in g||(g[b]=x++);return A=(function(E){var F,Q;for(F in Q={},E)Q[E[F]]=F;return Q})(g),m=Object.keys(A).sort(function(E,F){return E-F}),I=(function(){var E,F,Q;for(Q=[],E=0,F=m.length;E<F;E++)h=m[E],Q.push(A[h]);return Q})(),o=this.font.glyf.encode(c,I,g),f=this.font.loca.encode(o.offsets,I),N={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();Mn.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,r,o,c;if(Array.isArray(t))return"["+(function(){var h,u,f;for(f=[],h=0,u=t.length;h<u;h++)s=t[h],f.push(e.convert(s));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in o=["<<"],t)c=t[r],o.push("/"+r+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const wV=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:q9,AcroFormAppearance:En,AcroFormButton:ao,AcroFormCheckBox:Xp,AcroFormChoiceField:$h,AcroFormComboBox:Wh,AcroFormEditBox:Yp,AcroFormListBox:Yh,AcroFormPasswordField:Jp,AcroFormPushButton:Wp,AcroFormRadioButton:Xh,AcroFormTextField:kd,GState:gg,ShadingPattern:Ed,TilingPattern:kh,default:Mn,jsPDF:Mn},Symbol.toStringTag,{value:"Module"})),jV=u6(wV);var jx={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var BV=jx.exports,pS;function CV(){return pS||(pS=1,(function(n,e){(function(t,s){n.exports=s()})(BV,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var t=function(j,v){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,B){C.__proto__=B}||function(C,B){for(var $ in B)Object.prototype.hasOwnProperty.call(B,$)&&(C[$]=B[$])},t(j,v)};function s(j,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");t(j,v);function C(){this.constructor=j}j.prototype=v===null?Object.create(v):(C.prototype=v.prototype,new C)}var r=function(){return r=Object.assign||function(v){for(var C,B=1,$=arguments.length;B<$;B++){C=arguments[B];for(var ne in C)Object.prototype.hasOwnProperty.call(C,ne)&&(v[ne]=C[ne])}return v},r.apply(this,arguments)};function o(j,v,C,B){function $(ne){return ne instanceof C?ne:new C(function(de){de(ne)})}return new(C||(C=Promise))(function(ne,de){function Be(Ve){try{Le(B.next(Ve))}catch(Ye){de(Ye)}}function Ce(Ve){try{Le(B.throw(Ve))}catch(Ye){de(Ye)}}function Le(Ve){Ve.done?ne(Ve.value):$(Ve.value).then(Be,Ce)}Le((B=B.apply(j,[])).next())})}function c(j,v){var C={label:0,sent:function(){if(ne[0]&1)throw ne[1];return ne[1]},trys:[],ops:[]},B,$,ne,de;return de={next:Be(0),throw:Be(1),return:Be(2)},typeof Symbol=="function"&&(de[Symbol.iterator]=function(){return this}),de;function Be(Le){return function(Ve){return Ce([Le,Ve])}}function Ce(Le){if(B)throw new TypeError("Generator is already executing.");for(;C;)try{if(B=1,$&&(ne=Le[0]&2?$.return:Le[0]?$.throw||((ne=$.return)&&ne.call($),0):$.next)&&!(ne=ne.call($,Le[1])).done)return ne;switch($=0,ne&&(Le=[Le[0]&2,ne.value]),Le[0]){case 0:case 1:ne=Le;break;case 4:return C.label++,{value:Le[1],done:!1};case 5:C.label++,$=Le[1],Le=[0];continue;case 7:Le=C.ops.pop(),C.trys.pop();continue;default:if(ne=C.trys,!(ne=ne.length>0&&ne[ne.length-1])&&(Le[0]===6||Le[0]===2)){C=0;continue}if(Le[0]===3&&(!ne||Le[1]>ne[0]&&Le[1]<ne[3])){C.label=Le[1];break}if(Le[0]===6&&C.label<ne[1]){C.label=ne[1],ne=Le;break}if(ne&&C.label<ne[2]){C.label=ne[2],C.ops.push(Le);break}ne[2]&&C.ops.pop(),C.trys.pop();continue}Le=v.call(j,C)}catch(Ve){Le=[6,Ve],$=0}finally{B=ne=0}if(Le[0]&5)throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}}function h(j,v,C){if(arguments.length===2)for(var B=0,$=v.length,ne;B<$;B++)(ne||!(B in v))&&(ne||(ne=Array.prototype.slice.call(v,0,B)),ne[B]=v[B]);return j.concat(ne||v)}for(var u=(function(){function j(v,C,B,$){this.left=v,this.top=C,this.width=B,this.height=$}return j.prototype.add=function(v,C,B,$){return new j(this.left+v,this.top+C,this.width+B,this.height+$)},j.fromClientRect=function(v,C){return new j(C.left+v.windowBounds.left,C.top+v.windowBounds.top,C.width,C.height)},j.fromDOMRectList=function(v,C){var B=Array.from(C).find(function($){return $.width!==0});return B?new j(B.left+v.windowBounds.left,B.top+v.windowBounds.top,B.width,B.height):j.EMPTY},j.EMPTY=new j(0,0,0,0),j})(),f=function(j,v){return u.fromClientRect(j,v.getBoundingClientRect())},A=function(j){var v=j.body,C=j.documentElement;if(!v||!C)throw new Error("Unable to get document size");var B=Math.max(Math.max(v.scrollWidth,C.scrollWidth),Math.max(v.offsetWidth,C.offsetWidth),Math.max(v.clientWidth,C.clientWidth)),$=Math.max(Math.max(v.scrollHeight,C.scrollHeight),Math.max(v.offsetHeight,C.offsetHeight),Math.max(v.clientHeight,C.clientHeight));return new u(0,0,B,$)},m=function(j){for(var v=[],C=0,B=j.length;C<B;){var $=j.charCodeAt(C++);if($>=55296&&$<=56319&&C<B){var ne=j.charCodeAt(C++);(ne&64512)===56320?v.push((($&1023)<<10)+(ne&1023)+65536):(v.push($),C--)}else v.push($)}return v},x=function(){for(var j=[],v=0;v<arguments.length;v++)j[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],$=-1,ne="";++$<C;){var de=j[$];de<=65535?B.push(de):(de-=65536,B.push((de>>10)+55296,de%1024+56320)),($+1===C||B.length>16384)&&(ne+=String.fromCharCode.apply(String,B),B.length=0)}return ne},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),I=0;I<g.length;I++)b[g.charCodeAt(I)]=I;for(var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<N.length;E++)S[N.charCodeAt(E)]=E;for(var F=function(j){var v=j.length*.75,C=j.length,B,$=0,ne,de,Be,Ce;j[j.length-1]==="="&&(v--,j[j.length-2]==="="&&v--);var Le=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ve=Array.isArray(Le)?Le:new Uint8Array(Le);for(B=0;B<C;B+=4)ne=S[j.charCodeAt(B)],de=S[j.charCodeAt(B+1)],Be=S[j.charCodeAt(B+2)],Ce=S[j.charCodeAt(B+3)],Ve[$++]=ne<<2|de>>4,Ve[$++]=(de&15)<<4|Be>>2,Ve[$++]=(Be&3)<<6|Ce&63;return Le},Q=function(j){for(var v=j.length,C=[],B=0;B<v;B+=2)C.push(j[B+1]<<8|j[B]);return C},P=function(j){for(var v=j.length,C=[],B=0;B<v;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},H=5,L=11,U=2,R=L-H,K=65536>>H,O=1<<H,V=O-1,G=1024>>H,oe=K+G,ge=oe,le=32,X=ge+le,W=65536>>L,re=1<<R,me=re-1,ee=function(j,v,C){return j.slice?j.slice(v,C):new Uint16Array(Array.prototype.slice.call(j,v,C))},M=function(j,v,C){return j.slice?j.slice(v,C):new Uint32Array(Array.prototype.slice.call(j,v,C))},J=function(j,v){var C=F(j),B=Array.isArray(C)?P(C):new Uint32Array(C),$=Array.isArray(C)?Q(C):new Uint16Array(C),ne=24,de=ee($,ne/2,B[4]/2),Be=B[5]===2?ee($,(ne+B[4])/2):M(B,Math.ceil((ne+B[4])/4));return new ae(B[0],B[1],B[2],B[3],de,Be)},ae=(function(){function j(v,C,B,$,ne,de){this.initialValue=v,this.errorValue=C,this.highStart=B,this.highValueIndex=$,this.index=ne,this.data=de}return j.prototype.get=function(v){var C;if(v>=0){if(v<55296||v>56319&&v<=65535)return C=this.index[v>>H],C=(C<<U)+(v&V),this.data[C];if(v<=65535)return C=this.index[K+(v-55296>>H)],C=(C<<U)+(v&V),this.data[C];if(v<this.highStart)return C=X-W+(v>>L),C=this.index[C],C+=v>>H&me,C=this.index[C],C=(C<<U)+(v&V),this.data[C];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce=typeof Uint8Array>"u"?[]:new Uint8Array(256),ye=0;ye<ie.length;ye++)ce[ie.charCodeAt(ye)]=ye;var Ne="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",xe=50,Se=1,Fe=2,Qe=3,Je=4,Pe=5,he=7,nt=8,lt=9,ht=10,Ke=11,Nt=12,Rt=13,qt=14,Zt=15,sn=16,an=17,Xe=18,Ht=19,zt=20,Vt=21,xt=22,Dt=23,Dn=24,Gt=25,Yt=26,At=27,Lt=28,De=29,ft=30,it=31,Et=32,Jt=33,vt=34,st=35,Ft=36,Wt=37,dn=38,Wn=39,Hn=40,Qt=41,hs=42,Ts=43,Is=[9001,65288],_n="!",ln="",cs="",or=J(Ne),ur=[ft,Ft],Ur=[Se,Fe,Qe,Pe],js=[ht,nt],Hs=[At,Yt],gr=Ur.concat(js),ia=[dn,Wn,Hn,vt,st],ei=[Zt,Rt],Si=function(j,v){v===void 0&&(v="strict");var C=[],B=[],$=[];return j.forEach(function(ne,de){var Be=or.get(ne);if(Be>xe?($.push(!0),Be-=xe):$.push(!1),["normal","auto","loose"].indexOf(v)!==-1&&[8208,8211,12316,12448].indexOf(ne)!==-1)return B.push(de),C.push(sn);if(Be===Je||Be===Ke){if(de===0)return B.push(de),C.push(ft);var Ce=C[de-1];return gr.indexOf(Ce)===-1?(B.push(B[de-1]),C.push(Ce)):(B.push(de),C.push(ft))}if(B.push(de),Be===it)return C.push(v==="strict"?Vt:Wt);if(Be===hs||Be===De)return C.push(ft);if(Be===Ts)return ne>=131072&&ne<=196605||ne>=196608&&ne<=262141?C.push(Wt):C.push(ft);C.push(Be)}),[B,C,$]},Ss=function(j,v,C,B){var $=B[C];if(Array.isArray(j)?j.indexOf($)!==-1:j===$)for(var ne=C;ne<=B.length;){ne++;var de=B[ne];if(de===v)return!0;if(de!==ht)break}if($===ht)for(var ne=C;ne>0;){ne--;var Be=B[ne];if(Array.isArray(j)?j.indexOf(Be)!==-1:j===Be)for(var Ce=C;Ce<=B.length;){Ce++;var de=B[Ce];if(de===v)return!0;if(de!==ht)break}if(Be!==ht)break}return!1},Nr=function(j,v){for(var C=j;C>=0;){var B=v[C];if(B===ht)C--;else return B}return 0},ga=function(j,v,C,B,$){if(C[B]===0)return ln;var ne=B-1;if(Array.isArray($)&&$[ne]===!0)return ln;var de=ne-1,Be=ne+1,Ce=v[ne],Le=de>=0?v[de]:0,Ve=v[Be];if(Ce===Fe&&Ve===Qe)return ln;if(Ur.indexOf(Ce)!==-1)return _n;if(Ur.indexOf(Ve)!==-1||js.indexOf(Ve)!==-1)return ln;if(Nr(ne,v)===nt)return cs;if(or.get(j[ne])===Ke||(Ce===Et||Ce===Jt)&&or.get(j[Be])===Ke||Ce===he||Ve===he||Ce===lt||[ht,Rt,Zt].indexOf(Ce)===-1&&Ve===lt||[an,Xe,Ht,Dn,Lt].indexOf(Ve)!==-1||Nr(ne,v)===xt||Ss(Dt,xt,ne,v)||Ss([an,Xe],Vt,ne,v)||Ss(Nt,Nt,ne,v))return ln;if(Ce===ht)return cs;if(Ce===Dt||Ve===Dt)return ln;if(Ve===sn||Ce===sn)return cs;if([Rt,Zt,Vt].indexOf(Ve)!==-1||Ce===qt||Le===Ft&&ei.indexOf(Ce)!==-1||Ce===Lt&&Ve===Ft||Ve===zt||ur.indexOf(Ve)!==-1&&Ce===Gt||ur.indexOf(Ce)!==-1&&Ve===Gt||Ce===At&&[Wt,Et,Jt].indexOf(Ve)!==-1||[Wt,Et,Jt].indexOf(Ce)!==-1&&Ve===Yt||ur.indexOf(Ce)!==-1&&Hs.indexOf(Ve)!==-1||Hs.indexOf(Ce)!==-1&&ur.indexOf(Ve)!==-1||[At,Yt].indexOf(Ce)!==-1&&(Ve===Gt||[xt,Zt].indexOf(Ve)!==-1&&v[Be+1]===Gt)||[xt,Zt].indexOf(Ce)!==-1&&Ve===Gt||Ce===Gt&&[Gt,Lt,Dn].indexOf(Ve)!==-1)return ln;if([Gt,Lt,Dn,an,Xe].indexOf(Ve)!==-1)for(var Ye=ne;Ye>=0;){var gt=v[Ye];if(gt===Gt)return ln;if([Lt,Dn].indexOf(gt)!==-1)Ye--;else break}if([At,Yt].indexOf(Ve)!==-1)for(var Ye=[an,Xe].indexOf(Ce)!==-1?de:ne;Ye>=0;){var gt=v[Ye];if(gt===Gt)return ln;if([Lt,Dn].indexOf(gt)!==-1)Ye--;else break}if(dn===Ce&&[dn,Wn,vt,st].indexOf(Ve)!==-1||[Wn,vt].indexOf(Ce)!==-1&&[Wn,Hn].indexOf(Ve)!==-1||[Hn,st].indexOf(Ce)!==-1&&Ve===Hn||ia.indexOf(Ce)!==-1&&[zt,Yt].indexOf(Ve)!==-1||ia.indexOf(Ve)!==-1&&Ce===At||ur.indexOf(Ce)!==-1&&ur.indexOf(Ve)!==-1||Ce===Dn&&ur.indexOf(Ve)!==-1||ur.concat(Gt).indexOf(Ce)!==-1&&Ve===xt&&Is.indexOf(j[Be])===-1||ur.concat(Gt).indexOf(Ve)!==-1&&Ce===Xe)return ln;if(Ce===Qt&&Ve===Qt){for(var fn=C[ne],Xt=1;fn>0&&(fn--,v[fn]===Qt);)Xt++;if(Xt%2!==0)return ln}return Ce===Et&&Ve===Jt?ln:cs},br=function(j,v){v||(v={lineBreak:"normal",wordBreak:"normal"});var C=Si(j,v.lineBreak),B=C[0],$=C[1],ne=C[2];(v.wordBreak==="break-all"||v.wordBreak==="break-word")&&($=$.map(function(Be){return[Gt,ft,hs].indexOf(Be)!==-1?Wt:Be}));var de=v.wordBreak==="keep-all"?ne.map(function(Be,Ce){return Be&&j[Ce]>=19968&&j[Ce]<=40959}):void 0;return[B,$,de]},tr=(function(){function j(v,C,B,$){this.codePoints=v,this.required=C===_n,this.start=B,this.end=$}return j.prototype.slice=function(){return x.apply(void 0,this.codePoints.slice(this.start,this.end))},j})(),oa=function(j,v){var C=m(j),B=br(C,v),$=B[0],ne=B[1],de=B[2],Be=C.length,Ce=0,Le=0;return{next:function(){if(Le>=Be)return{done:!0,value:null};for(var Ve=ln;Le<Be&&(Ve=ga(C,ne,$,++Le,de))===ln;);if(Ve!==ln||Le===Be){var Ye=new tr(C,Ve,Ce,Le);return Ce=Le,{value:Ye,done:!1}}return{done:!0,value:null}}}},Ga=1,Gs=2,Ia=4,Vr=8,xa=10,Ni=47,Gi=92,jl=9,Bl=32,di=34,la=61,Ee=35,at=36,dt=37,kt=39,An=40,Ot=41,Vn=95,pn=45,yt=33,Tn=60,qn=62,fs=64,dr=91,Ns=93,Aa=61,Xr=123,Ls=63,_a=125,hi=124,Uo=126,fo=128,ll=65533,fi=42,Kr=43,$i=44,mo=58,ti=59,mi=46,Rn=0,Al=8,Cl=11,oo=14,ca=31,Er=127,va=-1,$s=48,ya=97,Yi=101,ni=102,Do=117,si=122,Wi=65,Kt=69,hn=70,ss=85,Zn=90,Bn=function(j){return j>=$s&&j<=57},rn=function(j){return j>=55296&&j<=57343},xs=function(j){return Bn(j)||j>=Wi&&j<=hn||j>=ya&&j<=ni},zr=function(j){return j>=ya&&j<=si},Fa=function(j){return j>=Wi&&j<=Zn},Xi=function(j){return zr(j)||Fa(j)},Ro=function(j){return j>=fo},Tr=function(j){return j===xa||j===jl||j===Bl},ua=function(j){return Xi(j)||Ro(j)||j===Vn},Ua=function(j){return ua(j)||Bn(j)||j===pn},Jr=function(j){return j>=Rn&&j<=Al||j===Cl||j>=oo&&j<=ca||j===Er},$a=function(j,v){return j!==Gi?!1:v!==xa},k=function(j,v,C){return j===pn?ua(v)||$a(v,C):ua(j)?!0:!!(j===Gi&&$a(j,v))},Ae=function(j,v,C){return j===Kr||j===pn?Bn(v)?!0:v===mi&&Bn(C):Bn(j===mi?v:j)},Ie=function(j){var v=0,C=1;(j[v]===Kr||j[v]===pn)&&(j[v]===pn&&(C=-1),v++);for(var B=[];Bn(j[v]);)B.push(j[v++]);var $=B.length?parseInt(x.apply(void 0,B),10):0;j[v]===mi&&v++;for(var ne=[];Bn(j[v]);)ne.push(j[v++]);var de=ne.length,Be=de?parseInt(x.apply(void 0,ne),10):0;(j[v]===Kt||j[v]===Yi)&&v++;var Ce=1;(j[v]===Kr||j[v]===pn)&&(j[v]===pn&&(Ce=-1),v++);for(var Le=[];Bn(j[v]);)Le.push(j[v++]);var Ve=Le.length?parseInt(x.apply(void 0,Le),10):0;return C*($+Be*Math.pow(10,-de))*Math.pow(10,Ce*Ve)},Re={type:2},ze={type:3},bt={type:4},_t={type:13},vn={type:8},Cn={type:21},Kn={type:9},Ln={type:10},_s={type:11},Ir={type:12},xr={type:14},w={type:23},Y={type:1},se={type:25},we={type:24},$e={type:26},tt={type:27},$t={type:28},rs={type:29},_r={type:31},vs={type:32},nr=(function(){function j(){this._value=[]}return j.prototype.write=function(v){this._value=this._value.concat(m(v))},j.prototype.read=function(){for(var v=[],C=this.consumeToken();C!==vs;)v.push(C),C=this.consumeToken();return v},j.prototype.consumeToken=function(){var v=this.consumeCodePoint();switch(v){case di:return this.consumeStringToken(di);case Ee:var C=this.peekCodePoint(0),B=this.peekCodePoint(1),$=this.peekCodePoint(2);if(Ua(C)||$a(B,$)){var ne=k(C,B,$)?Gs:Ga,de=this.consumeName();return{type:5,value:de,flags:ne}}break;case at:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),_t;break;case kt:return this.consumeStringToken(kt);case An:return Re;case Ot:return ze;case fi:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),xr;break;case Kr:if(Ae(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case $i:return bt;case pn:var Be=v,Ce=this.peekCodePoint(0),Le=this.peekCodePoint(1);if(Ae(Be,Ce,Le))return this.reconsumeCodePoint(v),this.consumeNumericToken();if(k(Be,Ce,Le))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();if(Ce===pn&&Le===qn)return this.consumeCodePoint(),this.consumeCodePoint(),we;break;case mi:if(Ae(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case Ni:if(this.peekCodePoint(0)===fi)for(this.consumeCodePoint();;){var Ve=this.consumeCodePoint();if(Ve===fi&&(Ve=this.consumeCodePoint(),Ve===Ni))return this.consumeToken();if(Ve===va)return this.consumeToken()}break;case mo:return $e;case ti:return tt;case Tn:if(this.peekCodePoint(0)===yt&&this.peekCodePoint(1)===pn&&this.peekCodePoint(2)===pn)return this.consumeCodePoint(),this.consumeCodePoint(),se;break;case fs:var Ye=this.peekCodePoint(0),gt=this.peekCodePoint(1),fn=this.peekCodePoint(2);if(k(Ye,gt,fn)){var de=this.consumeName();return{type:7,value:de}}break;case dr:return $t;case Gi:if($a(v,this.peekCodePoint(0)))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();break;case Ns:return rs;case Aa:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),vn;break;case Xr:return _s;case _a:return Ir;case Do:case ss:var Xt=this.peekCodePoint(0),tn=this.peekCodePoint(1);return Xt===Kr&&(xs(tn)||tn===Ls)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(v),this.consumeIdentLikeToken();case hi:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),Kn;if(this.peekCodePoint(0)===hi)return this.consumeCodePoint(),Cn;break;case Uo:if(this.peekCodePoint(0)===la)return this.consumeCodePoint(),Ln;break;case va:return vs}return Tr(v)?(this.consumeWhiteSpace(),_r):Bn(v)?(this.reconsumeCodePoint(v),this.consumeNumericToken()):ua(v)?(this.reconsumeCodePoint(v),this.consumeIdentLikeToken()):{type:6,value:x(v)}},j.prototype.consumeCodePoint=function(){var v=this._value.shift();return typeof v>"u"?-1:v},j.prototype.reconsumeCodePoint=function(v){this._value.unshift(v)},j.prototype.peekCodePoint=function(v){return v>=this._value.length?-1:this._value[v]},j.prototype.consumeUnicodeRangeToken=function(){for(var v=[],C=this.consumeCodePoint();xs(C)&&v.length<6;)v.push(C),C=this.consumeCodePoint();for(var B=!1;C===Ls&&v.length<6;)v.push(C),C=this.consumeCodePoint(),B=!0;if(B){var $=parseInt(x.apply(void 0,v.map(function(Ce){return Ce===Ls?$s:Ce})),16),ne=parseInt(x.apply(void 0,v.map(function(Ce){return Ce===Ls?hn:Ce})),16);return{type:30,start:$,end:ne}}var de=parseInt(x.apply(void 0,v),16);if(this.peekCodePoint(0)===pn&&xs(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var Be=[];xs(C)&&Be.length<6;)Be.push(C),C=this.consumeCodePoint();var ne=parseInt(x.apply(void 0,Be),16);return{type:30,start:de,end:ne}}else return{type:30,start:de,end:de}},j.prototype.consumeIdentLikeToken=function(){var v=this.consumeName();return v.toLowerCase()==="url"&&this.peekCodePoint(0)===An?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===An?(this.consumeCodePoint(),{type:19,value:v}):{type:20,value:v}},j.prototype.consumeUrlToken=function(){var v=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===va)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===kt||C===di){var B=this.consumeStringToken(this.consumeCodePoint());return B.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===va||this.peekCodePoint(0)===Ot)?(this.consumeCodePoint(),{type:22,value:B.value}):(this.consumeBadUrlRemnants(),w)}for(;;){var $=this.consumeCodePoint();if($===va||$===Ot)return{type:22,value:x.apply(void 0,v)};if(Tr($))return this.consumeWhiteSpace(),this.peekCodePoint(0)===va||this.peekCodePoint(0)===Ot?(this.consumeCodePoint(),{type:22,value:x.apply(void 0,v)}):(this.consumeBadUrlRemnants(),w);if($===di||$===kt||$===An||Jr($))return this.consumeBadUrlRemnants(),w;if($===Gi)if($a($,this.peekCodePoint(0)))v.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),w;else v.push($)}},j.prototype.consumeWhiteSpace=function(){for(;Tr(this.peekCodePoint(0));)this.consumeCodePoint()},j.prototype.consumeBadUrlRemnants=function(){for(;;){var v=this.consumeCodePoint();if(v===Ot||v===va)return;$a(v,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},j.prototype.consumeStringSlice=function(v){for(var C=5e4,B="";v>0;){var $=Math.min(C,v);B+=x.apply(void 0,this._value.splice(0,$)),v-=$}return this._value.shift(),B},j.prototype.consumeStringToken=function(v){var C="",B=0;do{var $=this._value[B];if($===va||$===void 0||$===v)return C+=this.consumeStringSlice(B),{type:0,value:C};if($===xa)return this._value.splice(0,B),Y;if($===Gi){var ne=this._value[B+1];ne!==va&&ne!==void 0&&(ne===xa?(C+=this.consumeStringSlice(B),B=-1,this._value.shift()):$a($,ne)&&(C+=this.consumeStringSlice(B),C+=x(this.consumeEscapedCodePoint()),B=-1))}B++}while(!0)},j.prototype.consumeNumber=function(){var v=[],C=Ia,B=this.peekCodePoint(0);for((B===Kr||B===pn)&&v.push(this.consumeCodePoint());Bn(this.peekCodePoint(0));)v.push(this.consumeCodePoint());B=this.peekCodePoint(0);var $=this.peekCodePoint(1);if(B===mi&&Bn($))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Vr;Bn(this.peekCodePoint(0));)v.push(this.consumeCodePoint());B=this.peekCodePoint(0),$=this.peekCodePoint(1);var ne=this.peekCodePoint(2);if((B===Kt||B===Yi)&&(($===Kr||$===pn)&&Bn(ne)||Bn($)))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Vr;Bn(this.peekCodePoint(0));)v.push(this.consumeCodePoint());return[Ie(v),C]},j.prototype.consumeNumericToken=function(){var v=this.consumeNumber(),C=v[0],B=v[1],$=this.peekCodePoint(0),ne=this.peekCodePoint(1),de=this.peekCodePoint(2);if(k($,ne,de)){var Be=this.consumeName();return{type:15,number:C,flags:B,unit:Be}}return $===dt?(this.consumeCodePoint(),{type:16,number:C,flags:B}):{type:17,number:C,flags:B}},j.prototype.consumeEscapedCodePoint=function(){var v=this.consumeCodePoint();if(xs(v)){for(var C=x(v);xs(this.peekCodePoint(0))&&C.length<6;)C+=x(this.consumeCodePoint());Tr(this.peekCodePoint(0))&&this.consumeCodePoint();var B=parseInt(C,16);return B===0||rn(B)||B>1114111?ll:B}return v===va?ll:v},j.prototype.consumeName=function(){for(var v="";;){var C=this.consumeCodePoint();if(Ua(C))v+=x(C);else if($a(C,this.peekCodePoint(0)))v+=x(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),v}},j})(),Ya=(function(){function j(v){this._tokens=v}return j.create=function(v){var C=new nr;return C.write(v),new j(C.read())},j.parseValue=function(v){return j.create(v).parseComponentValue()},j.parseValues=function(v){return j.create(v).parseComponentValues()},j.prototype.parseComponentValue=function(){for(var v=this.consumeToken();v.type===31;)v=this.consumeToken();if(v.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(v);var C=this.consumeComponentValue();do v=this.consumeToken();while(v.type===31);if(v.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},j.prototype.parseComponentValues=function(){for(var v=[];;){var C=this.consumeComponentValue();if(C.type===32)return v;v.push(C),v.push()}},j.prototype.consumeComponentValue=function(){var v=this.consumeToken();switch(v.type){case 11:case 28:case 2:return this.consumeSimpleBlock(v.type);case 19:return this.consumeFunction(v)}return v},j.prototype.consumeSimpleBlock=function(v){for(var C={type:v,values:[]},B=this.consumeToken();;){if(B.type===32||mc(B,v))return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue()),B=this.consumeToken()}},j.prototype.consumeFunction=function(v){for(var C={name:v.value,values:[],type:18};;){var B=this.consumeToken();if(B.type===32||B.type===3)return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue())}},j.prototype.consumeToken=function(){var v=this._tokens.shift();return typeof v>"u"?vs:v},j.prototype.reconsumeToken=function(v){this._tokens.unshift(v)},j})(),ba=function(j){return j.type===15},Ys=function(j){return j.type===17},ls=function(j){return j.type===20},po=function(j){return j.type===0},Lo=function(j,v){return ls(j)&&j.value===v},cl=function(j){return j.type!==31},Da=function(j){return j.type!==31&&j.type!==4},ri=function(j){var v=[],C=[];return j.forEach(function(B){if(B.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");v.push(C),C=[];return}B.type!==31&&C.push(B)}),C.length&&v.push(C),v},mc=function(j,v){return v===11&&j.type===12||v===28&&j.type===29?!0:v===2&&j.type===3},Qo=function(j){return j.type===17||j.type===15},Ws=function(j){return j.type===16||Qo(j)},Oo=function(j){return j.length>1?[j[0],j[1]]:[j[0]]},Dr={type:17,number:0,flags:Ia},OA={type:16,number:50,flags:Ia},ai={type:16,number:100,flags:Ia},Po=function(j,v,C){var B=j[0],$=j[1];return[Bs(B,v),Bs(typeof $<"u"?$:B,C)]},Bs=function(j,v){if(j.type===16)return j.number/100*v;if(ba(j))switch(j.unit){case"rem":case"em":return 16*j.number;case"px":default:return j.number}return j.number},Ei="deg",ul="grad",dl="rad",Sl="turn",$l={name:"angle",parse:function(j,v){if(v.type===15)switch(v.unit){case Ei:return Math.PI*v.number/180;case ul:return Math.PI/200*v.number;case dl:return v.number;case Sl:return Math.PI*2*v.number}throw new Error("Unsupported angle type")}},PA=function(j){return j.type===15&&(j.unit===Ei||j.unit===ul||j.unit===dl||j.unit===Sl)},da=function(j){var v=j.filter(ls).map(function(C){return C.value}).join(" ");switch(v){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Dr,Dr];case"to top":case"bottom":return Ji(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Dr,ai];case"to right":case"left":return Ji(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ai,ai];case"to bottom":case"top":return Ji(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ai,Dr];case"to left":case"right":return Ji(270)}return 0},Ji=function(j){return Math.PI*j/180},pi={name:"color",parse:function(j,v){if(v.type===18){var C=El[v.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+v.name+'"');return C(j,v.values)}if(v.type===5){if(v.value.length===3){var B=v.value.substring(0,1),$=v.value.substring(1,2),ne=v.value.substring(2,3);return Ti(parseInt(B+B,16),parseInt($+$,16),parseInt(ne+ne,16),1)}if(v.value.length===4){var B=v.value.substring(0,1),$=v.value.substring(1,2),ne=v.value.substring(2,3),de=v.value.substring(3,4);return Ti(parseInt(B+B,16),parseInt($+$,16),parseInt(ne+ne,16),parseInt(de+de,16)/255)}if(v.value.length===6){var B=v.value.substring(0,2),$=v.value.substring(2,4),ne=v.value.substring(4,6);return Ti(parseInt(B,16),parseInt($,16),parseInt(ne,16),1)}if(v.value.length===8){var B=v.value.substring(0,2),$=v.value.substring(2,4),ne=v.value.substring(4,6),de=v.value.substring(6,8);return Ti(parseInt(B,16),parseInt($,16),parseInt(ne,16),parseInt(de,16)/255)}}if(v.type===20){var Be=wa[v.value.toUpperCase()];if(typeof Be<"u")return Be}return wa.TRANSPARENT}},gi=function(j){return(255&j)===0},Qs=function(j){var v=255&j,C=255&j>>8,B=255&j>>16,$=255&j>>24;return v<255?"rgba("+$+","+B+","+C+","+v/255+")":"rgb("+$+","+B+","+C+")"},Ti=function(j,v,C,B){return(j<<24|v<<16|C<<8|Math.round(B*255)<<0)>>>0},kA=function(j,v){if(j.type===17)return j.number;if(j.type===16){var C=v===3?1:255;return v===3?j.number/100*C:Math.round(j.number/100*C)}return 0},MA=function(j,v){var C=v.filter(Da);if(C.length===3){var B=C.map(kA),$=B[0],ne=B[1],de=B[2];return Ti($,ne,de,1)}if(C.length===4){var Be=C.map(kA),$=Be[0],ne=Be[1],de=Be[2],Ce=Be[3];return Ti($,ne,de,Ce)}return 0};function hl(j,v,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(v-j)*C*6+j:C<1/2?v:C<2/3?(v-j)*6*(2/3-C)+j:j}var Nl=function(j,v){var C=v.filter(Da),B=C[0],$=C[1],ne=C[2],de=C[3],Be=(B.type===17?Ji(B.number):$l.parse(j,B))/(Math.PI*2),Ce=Ws($)?$.number/100:0,Le=Ws(ne)?ne.number/100:0,Ve=typeof de<"u"&&Ws(de)?Bs(de,1):1;if(Ce===0)return Ti(Le*255,Le*255,Le*255,1);var Ye=Le<=.5?Le*(Ce+1):Le+Ce-Le*Ce,gt=Le*2-Ye,fn=hl(gt,Ye,Be+1/3),Xt=hl(gt,Ye,Be),tn=hl(gt,Ye,Be-1/3);return Ti(fn*255,Xt*255,tn*255,Ve)},El={hsl:Nl,hsla:Nl,rgb:MA,rgba:MA},fl=function(j,v){return pi.parse(j,Ya.create(v).parseComponentValue())},wa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Yl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(j,v){return v.map(function(C){if(ls(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ii={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qi=function(j,v){var C=pi.parse(j,v[0]),B=v[1];return B&&Ws(B)?{color:C,stop:B}:{color:C,stop:null}},Xs=function(j,v){var C=j[0],B=j[j.length-1];C.stop===null&&(C.stop=Dr),B.stop===null&&(B.stop=ai);for(var $=[],ne=0,de=0;de<j.length;de++){var Be=j[de].stop;if(Be!==null){var Ce=Bs(Be,v);Ce>ne?$.push(Ce):$.push(ne),ne=Ce}else $.push(null)}for(var Le=null,de=0;de<$.length;de++){var Ve=$[de];if(Ve===null)Le===null&&(Le=de);else if(Le!==null){for(var Ye=de-Le,gt=$[Le-1],fn=(Ve-gt)/(Ye+1),Xt=1;Xt<=Ye;Xt++)$[Le+Xt-1]=fn*Xt;Le=null}}return j.map(function(tn,Fn){var yn=tn.color;return{color:yn,stop:Math.max(Math.min(1,$[Fn]/v),0)}})},Vs=function(j,v,C){var B=v/2,$=C/2,ne=Bs(j[0],v)-B,de=$-Bs(j[1],C);return(Math.atan2(de,ne)+Math.PI*2)%(Math.PI*2)},Fr=function(j,v,C){var B=typeof j=="number"?j:Vs(j,v,C),$=Math.abs(v*Math.sin(B))+Math.abs(C*Math.cos(B)),ne=v/2,de=C/2,Be=$/2,Ce=Math.sin(B-Math.PI/2)*Be,Le=Math.cos(B-Math.PI/2)*Be;return[$,ne-Le,ne+Le,de-Ce,de+Ce]},sr=function(j,v){return Math.sqrt(j*j+v*v)},ml=function(j,v,C,B,$){var ne=[[0,0],[0,v],[j,0],[j,v]];return ne.reduce(function(de,Be){var Ce=Be[0],Le=Be[1],Ve=sr(C-Ce,B-Le);return($?Ve<de.optimumDistance:Ve>de.optimumDistance)?{optimumCorner:Be,optimumDistance:Ve}:de},{optimumDistance:$?1/0:-1/0,optimumCorner:null}).optimumCorner},pl=function(j,v,C,B,$){var ne=0,de=0;switch(j.size){case 0:j.shape===0?ne=de=Math.min(Math.abs(v),Math.abs(v-B),Math.abs(C),Math.abs(C-$)):j.shape===1&&(ne=Math.min(Math.abs(v),Math.abs(v-B)),de=Math.min(Math.abs(C),Math.abs(C-$)));break;case 2:if(j.shape===0)ne=de=Math.min(sr(v,C),sr(v,C-$),sr(v-B,C),sr(v-B,C-$));else if(j.shape===1){var Be=Math.min(Math.abs(C),Math.abs(C-$))/Math.min(Math.abs(v),Math.abs(v-B)),Ce=ml(B,$,v,C,!0),Le=Ce[0],Ve=Ce[1];ne=sr(Le-v,(Ve-C)/Be),de=Be*ne}break;case 1:j.shape===0?ne=de=Math.max(Math.abs(v),Math.abs(v-B),Math.abs(C),Math.abs(C-$)):j.shape===1&&(ne=Math.max(Math.abs(v),Math.abs(v-B)),de=Math.max(Math.abs(C),Math.abs(C-$)));break;case 3:if(j.shape===0)ne=de=Math.max(sr(v,C),sr(v,C-$),sr(v-B,C),sr(v-B,C-$));else if(j.shape===1){var Be=Math.max(Math.abs(C),Math.abs(C-$))/Math.max(Math.abs(v),Math.abs(v-B)),Ye=ml(B,$,v,C,!1),Le=Ye[0],Ve=Ye[1];ne=sr(Le-v,(Ve-C)/Be),de=Be*ne}break}return Array.isArray(j.size)&&(ne=Bs(j.size[0],B),de=j.size.length===2?Bs(j.size[1],$):ne),[ne,de]},HA=function(j,v){var C=Ji(180),B=[];return ri(v).forEach(function($,ne){if(ne===0){var de=$[0];if(de.type===20&&de.value==="to"){C=da($);return}else if(PA(de)){C=$l.parse(j,de);return}}var Be=qi(j,$);B.push(Be)}),{angle:C,stops:B,type:1}},dA=function(j,v){var C=Ji(180),B=[];return ri(v).forEach(function($,ne){if(ne===0){var de=$[0];if(de.type===20&&["top","left","right","bottom"].indexOf(de.value)!==-1){C=da($);return}else if(PA(de)){C=($l.parse(j,de)+Ji(270))%Ji(360);return}}var Be=qi(j,$);B.push(Be)}),{angle:C,stops:B,type:1}},sh=function(j,v){var C=Ji(180),B=[],$=1,ne=0,de=3,Be=[];return ri(v).forEach(function(Ce,Le){var Ve=Ce[0];if(Le===0){if(ls(Ve)&&Ve.value==="linear"){$=1;return}else if(ls(Ve)&&Ve.value==="radial"){$=2;return}}if(Ve.type===18){if(Ve.name==="from"){var Ye=pi.parse(j,Ve.values[0]);B.push({stop:Dr,color:Ye})}else if(Ve.name==="to"){var Ye=pi.parse(j,Ve.values[0]);B.push({stop:ai,color:Ye})}else if(Ve.name==="color-stop"){var gt=Ve.values.filter(Da);if(gt.length===2){var Ye=pi.parse(j,gt[1]),fn=gt[0];Ys(fn)&&B.push({stop:{type:16,number:fn.number*100,flags:fn.flags},color:Ye})}}}}),$===1?{angle:(C+Ji(180))%Ji(360),stops:B,type:$}:{size:de,shape:ne,stops:B,position:Be,type:$}},rh="closest-side",ah="farthest-side",ih="closest-corner",Lu="farthest-corner",Qu="circle",hA="ellipse",go="cover",pc="contain",xo=function(j,v){var C=0,B=3,$=[],ne=[];return ri(v).forEach(function(de,Be){var Ce=!0;if(Be===0){var Le=!1;Ce=de.reduce(function(Ye,gt){if(Le)if(ls(gt))switch(gt.value){case"center":return ne.push(OA),Ye;case"top":case"left":return ne.push(Dr),Ye;case"right":case"bottom":return ne.push(ai),Ye}else(Ws(gt)||Qo(gt))&&ne.push(gt);else if(ls(gt))switch(gt.value){case Qu:return C=0,!1;case hA:return C=1,!1;case"at":return Le=!0,!1;case rh:return B=0,!1;case go:case ah:return B=1,!1;case pc:case ih:return B=2,!1;case Lu:return B=3,!1}else if(Qo(gt)||Ws(gt))return Array.isArray(B)||(B=[]),B.push(gt),!1;return Ye},Ce)}if(Ce){var Ve=qi(j,de);$.push(Ve)}}),{size:B,shape:C,stops:$,position:ne,type:2}},Tl=function(j,v){var C=0,B=3,$=[],ne=[];return ri(v).forEach(function(de,Be){var Ce=!0;if(Be===0?Ce=de.reduce(function(Ve,Ye){if(ls(Ye))switch(Ye.value){case"center":return ne.push(OA),!1;case"top":case"left":return ne.push(Dr),!1;case"right":case"bottom":return ne.push(ai),!1}else if(Ws(Ye)||Qo(Ye))return ne.push(Ye),!1;return Ve},Ce):Be===1&&(Ce=de.reduce(function(Ve,Ye){if(ls(Ye))switch(Ye.value){case Qu:return C=0,!1;case hA:return C=1,!1;case pc:case rh:return B=0,!1;case ah:return B=1,!1;case ih:return B=2,!1;case go:case Lu:return B=3,!1}else if(Qo(Ye)||Ws(Ye))return Array.isArray(B)||(B=[]),B.push(Ye),!1;return Ve},Ce)),Ce){var Le=qi(j,de);$.push(Le)}}),{size:B,shape:C,stops:$,position:ne,type:2}},Ou=function(j){return j.type===1},nu=function(j){return j.type===2},VA={name:"image",parse:function(j,v){if(v.type===22){var C={url:v.value,type:0};return j.cache.addImage(v.value),C}if(v.type===18){var B=Il[v.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported image function "'+v.name+'"');return B(j,v.values)}throw new Error("Unsupported image type "+v.type)}};function Pu(j){return!(j.type===20&&j.value==="none")&&(j.type!==18||!!Il[j.name])}var Il={"linear-gradient":HA,"-moz-linear-gradient":dA,"-ms-linear-gradient":dA,"-o-linear-gradient":dA,"-webkit-linear-gradient":dA,"radial-gradient":xo,"-moz-radial-gradient":Tl,"-ms-radial-gradient":Tl,"-o-radial-gradient":Tl,"-webkit-radial-gradient":Tl,"-webkit-gradient":sh},su={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(j,v){if(v.length===0)return[];var C=v[0];return C.type===20&&C.value==="none"?[]:v.filter(function(B){return Da(B)&&Pu(B)}).map(function(B){return VA.parse(j,B)})}},_i={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(j,v){return v.map(function(C){if(ls(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xi={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(j,v){return ri(v).map(function(C){return C.filter(Ws)}).map(Oo)}},ku={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(j,v){return ri(v).map(function(C){return C.filter(ls).map(function(B){return B.value}).join(" ")}).map(Fi)}},Fi=function(j){switch(j){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Wl;(function(j){j.AUTO="auto",j.CONTAIN="contain",j.COVER="cover"})(Wl||(Wl={}));var ko={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(j,v){return ri(v).map(function(C){return C.filter(ru)})}},ru=function(j){return ls(j)||Ws(j)},Xl=function(j){return{name:"border-"+j+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fA=Xl("top"),au=Xl("right"),Mu=Xl("bottom"),gc=Xl("left"),KA=function(j){return{name:"border-radius-"+j,initialValue:"0 0",prefix:!1,type:1,parse:function(v,C){return Oo(C.filter(Ws))}}},Mo=KA("top-left"),xc=KA("top-right"),zA=KA("bottom-right"),Hu=KA("bottom-left"),mA=function(j){return{name:"border-"+j+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(v,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ho=mA("top"),Vo=mA("right"),pA=mA("bottom"),Ko=mA("left"),Zi=function(j){return{name:"border-"+j+"-width",initialValue:"0",type:0,prefix:!1,parse:function(v,C){return ba(C)?C.number:0}}},vo=Zi("top"),df=Zi("right"),oh=Zi("bottom"),Vu=Zi("left"),hf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(j,v){switch(v){case"rtl":return 1;case"ltr":default:return 0}}},Rr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(j,v){return v.filter(ls).reduce(function(C,B){return C|Ds(B.value)},0)}},Ds=function(j){switch(j){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},eo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ha={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(j,v){return v.type===20&&v.value==="normal"?0:v.type===17||v.type===15?v.number:0}},lo;(function(j){j.NORMAL="normal",j.STRICT="strict"})(lo||(lo={}));var gA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"strict":return lo.STRICT;case"normal":default:return lo.NORMAL}}},lh={name:"line-height",initialValue:"normal",prefix:!1,type:4},_l=function(j,v){return ls(j)&&j.value==="normal"?1.2*v:j.type===17?v*j.number:Ws(j)?Bs(j,v):v},yi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(j,v){return v.type===20&&v.value==="none"?null:VA.parse(j,v)}},GA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(j,v){switch(v){case"inside":return 0;case"outside":default:return 1}}},iu={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Jl=function(j){return{name:"margin-"+j,initialValue:"0",prefix:!1,type:4}},Ku=Jl("top"),xA=Jl("right"),Fl=Jl("bottom"),vA=Jl("left"),zo={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(j,v){return v.filter(ls).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},vc={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ul=function(j){return{name:"padding-"+j,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},yA=Ul("top"),zu=Ul("right"),bA=Ul("bottom"),bi=Ul("left"),Gu={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(j,v){switch(v){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ff={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(j,v){switch(v){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Fm={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.length===1&&Lo(v[0],"none")?[]:ri(v).map(function(C){for(var B={color:wa.TRANSPARENT,offsetX:Dr,offsetY:Dr,blur:Dr},$=0,ne=0;ne<C.length;ne++){var de=C[ne];Qo(de)?($===0?B.offsetX=de:$===1?B.offsetY=de:B.blur=de,$++):B.color=pi.parse(j,de)}return B})}},Um={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Dm={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(j,v){if(v.type===20&&v.value==="none")return null;if(v.type===18){var C=ou[v.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+v.name+'"');return C(v.values)}return null}},ja=function(j){var v=j.filter(function(C){return C.type===17}).map(function(C){return C.number});return v.length===6?v:null},yc=function(j){var v=j.filter(function(Ce){return Ce.type===17}).map(function(Ce){return Ce.number}),C=v[0],B=v[1];v[2],v[3];var $=v[4],ne=v[5];v[6],v[7],v[8],v[9],v[10],v[11];var de=v[12],Be=v[13];return v[14],v[15],v.length===16?[C,B,$,ne,de,Be]:null},ou={matrix:ja,matrix3d:yc},bc={type:16,number:50,flags:Ia},$u=[bc,bc],y={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(j,v){var C=v.filter(Ws);return C.length!==2?$u:[C[0],C[1]]}},_={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},z;(function(j){j.NORMAL="normal",j.BREAK_ALL="break-all",j.KEEP_ALL="keep-all"})(z||(z={}));for(var q={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"break-all":return z.BREAK_ALL;case"keep-all":return z.KEEP_ALL;case"normal":default:return z.NORMAL}}},ue={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(j,v){if(v.type===20)return{auto:!0,order:0};if(Ys(v))return{auto:!1,order:v.number};throw new Error("Invalid z-index number parsed")}},fe={name:"time",parse:function(j,v){if(v.type===15)switch(v.unit.toLowerCase()){case"s":return 1e3*v.number;case"ms":return v.number}throw new Error("Unsupported time type")}},pe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(j,v){return Ys(v)?v.number:1}},be={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},je={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(j,v){return v.filter(ls).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},_e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(j,v){var C=[],B=[];return v.forEach(function($){switch($.type){case 20:case 0:C.push($.value);break;case 17:C.push($.number.toString());break;case 4:B.push(C.join(" ")),C.length=0;break}}),C.length&&B.push(C.join(" ")),B.map(function($){return $.indexOf(" ")===-1?$:"'"+$+"'"})}},Oe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},qe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(j,v){if(Ys(v))return v.number;if(ls(v))switch(v.value){case"bold":return 700;case"normal":default:return 400}return 400}},Te={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.filter(ls).map(function(C){return C.value})}},Me={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},He=function(j,v){return(j&v)!==0},pt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(j,v){if(v.length===0)return[];var C=v[0];return C.type===20&&C.value==="none"?[]:v}},We={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return null;var C=v[0];if(C.type===20&&C.value==="none")return null;for(var B=[],$=v.filter(cl),ne=0;ne<$.length;ne++){var de=$[ne],Be=$[ne+1];if(de.type===20){var Ce=Be&&Ys(Be)?Be.number:1;B.push({counter:de.value,increment:Ce})}}return B}},mt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return[];for(var C=[],B=v.filter(cl),$=0;$<B.length;$++){var ne=B[$],de=B[$+1];if(ls(ne)&&ne.value!=="none"){var Be=de&&Ys(de)?de.number:0;C.push({counter:ne.value,reset:Be})}}return C}},jt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(j,v){return v.filter(ba).map(function(C){return fe.parse(j,C)})}},Mt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return null;var C=v[0];if(C.type===20&&C.value==="none")return null;var B=[],$=v.filter(po);if($.length%2!==0)return null;for(var ne=0;ne<$.length;ne+=2){var de=$[ne].value,Be=$[ne+1].value;B.push({open:de,close:Be})}return B}},Tt=function(j,v,C){if(!j)return"";var B=j[Math.min(v,j.length-1)];return B?C?B.open:B.close:""},Sn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.length===1&&Lo(v[0],"none")?[]:ri(v).map(function(C){for(var B={color:255,offsetX:Dr,offsetY:Dr,blur:Dr,spread:Dr,inset:!1},$=0,ne=0;ne<C.length;ne++){var de=C[ne];Lo(de,"inset")?B.inset=!0:Qo(de)?($===0?B.offsetX=de:$===1?B.offsetY=de:$===2?B.blur=de:B.spread=de,$++):B.color=pi.parse(j,de)}return B})}},gn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(j,v){var C=[0,1,2],B=[];return v.filter(ls).forEach(function($){switch($.value){case"stroke":B.push(1);break;case"fill":B.push(0);break;case"markers":B.push(2);break}}),C.forEach(function($){B.indexOf($)===-1&&B.push($)}),B}},as={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},bn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(j,v){return ba(v)?v.number:0}},Fs=(function(){function j(v,C){var B,$;this.animationDuration=ct(v,jt,C.animationDuration),this.backgroundClip=ct(v,Yl,C.backgroundClip),this.backgroundColor=ct(v,Ii,C.backgroundColor),this.backgroundImage=ct(v,su,C.backgroundImage),this.backgroundOrigin=ct(v,_i,C.backgroundOrigin),this.backgroundPosition=ct(v,xi,C.backgroundPosition),this.backgroundRepeat=ct(v,ku,C.backgroundRepeat),this.backgroundSize=ct(v,ko,C.backgroundSize),this.borderTopColor=ct(v,fA,C.borderTopColor),this.borderRightColor=ct(v,au,C.borderRightColor),this.borderBottomColor=ct(v,Mu,C.borderBottomColor),this.borderLeftColor=ct(v,gc,C.borderLeftColor),this.borderTopLeftRadius=ct(v,Mo,C.borderTopLeftRadius),this.borderTopRightRadius=ct(v,xc,C.borderTopRightRadius),this.borderBottomRightRadius=ct(v,zA,C.borderBottomRightRadius),this.borderBottomLeftRadius=ct(v,Hu,C.borderBottomLeftRadius),this.borderTopStyle=ct(v,Ho,C.borderTopStyle),this.borderRightStyle=ct(v,Vo,C.borderRightStyle),this.borderBottomStyle=ct(v,pA,C.borderBottomStyle),this.borderLeftStyle=ct(v,Ko,C.borderLeftStyle),this.borderTopWidth=ct(v,vo,C.borderTopWidth),this.borderRightWidth=ct(v,df,C.borderRightWidth),this.borderBottomWidth=ct(v,oh,C.borderBottomWidth),this.borderLeftWidth=ct(v,Vu,C.borderLeftWidth),this.boxShadow=ct(v,Sn,C.boxShadow),this.color=ct(v,hf,C.color),this.direction=ct(v,vi,C.direction),this.display=ct(v,Rr,C.display),this.float=ct(v,eo,C.cssFloat),this.fontFamily=ct(v,_e,C.fontFamily),this.fontSize=ct(v,Oe,C.fontSize),this.fontStyle=ct(v,Me,C.fontStyle),this.fontVariant=ct(v,Te,C.fontVariant),this.fontWeight=ct(v,qe,C.fontWeight),this.letterSpacing=ct(v,ha,C.letterSpacing),this.lineBreak=ct(v,gA,C.lineBreak),this.lineHeight=ct(v,lh,C.lineHeight),this.listStyleImage=ct(v,yi,C.listStyleImage),this.listStylePosition=ct(v,GA,C.listStylePosition),this.listStyleType=ct(v,iu,C.listStyleType),this.marginTop=ct(v,Ku,C.marginTop),this.marginRight=ct(v,xA,C.marginRight),this.marginBottom=ct(v,Fl,C.marginBottom),this.marginLeft=ct(v,vA,C.marginLeft),this.opacity=ct(v,pe,C.opacity);var ne=ct(v,zo,C.overflow);this.overflowX=ne[0],this.overflowY=ne[ne.length>1?1:0],this.overflowWrap=ct(v,vc,C.overflowWrap),this.paddingTop=ct(v,yA,C.paddingTop),this.paddingRight=ct(v,zu,C.paddingRight),this.paddingBottom=ct(v,bA,C.paddingBottom),this.paddingLeft=ct(v,bi,C.paddingLeft),this.paintOrder=ct(v,gn,C.paintOrder),this.position=ct(v,ff,C.position),this.textAlign=ct(v,Gu,C.textAlign),this.textDecorationColor=ct(v,be,(B=C.textDecorationColor)!==null&&B!==void 0?B:C.color),this.textDecorationLine=ct(v,je,($=C.textDecorationLine)!==null&&$!==void 0?$:C.textDecoration),this.textShadow=ct(v,Fm,C.textShadow),this.textTransform=ct(v,Um,C.textTransform),this.transform=ct(v,Dm,C.transform),this.transformOrigin=ct(v,y,C.transformOrigin),this.visibility=ct(v,_,C.visibility),this.webkitTextStrokeColor=ct(v,as,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=ct(v,bn,C.webkitTextStrokeWidth),this.wordBreak=ct(v,q,C.wordBreak),this.zIndex=ct(v,ue,C.zIndex)}return j.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},j.prototype.isTransparent=function(){return gi(this.backgroundColor)},j.prototype.isTransformed=function(){return this.transform!==null},j.prototype.isPositioned=function(){return this.position!==0},j.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},j.prototype.isFloating=function(){return this.float!==0},j.prototype.isInlineLevel=function(){return He(this.display,4)||He(this.display,33554432)||He(this.display,268435456)||He(this.display,536870912)||He(this.display,67108864)||He(this.display,134217728)},j})(),Lr=(function(){function j(v,C){this.content=ct(v,pt,C.content),this.quotes=ct(v,Mt,C.quotes)}return j})(),us=(function(){function j(v,C){this.counterIncrement=ct(v,We,C.counterIncrement),this.counterReset=ct(v,mt,C.counterReset)}return j})(),ct=function(j,v,C){var B=new nr,$=C!==null&&typeof C<"u"?C.toString():v.initialValue;B.write($);var ne=new Ya(B.read());switch(v.type){case 2:var de=ne.parseComponentValue();return v.parse(j,ls(de)?de.value:v.initialValue);case 0:return v.parse(j,ne.parseComponentValue());case 1:return v.parse(j,ne.parseComponentValues());case 4:return ne.parseComponentValue();case 3:switch(v.format){case"angle":return $l.parse(j,ne.parseComponentValue());case"color":return pi.parse(j,ne.parseComponentValue());case"image":return VA.parse(j,ne.parseComponentValue());case"length":var Be=ne.parseComponentValue();return Qo(Be)?Be:Dr;case"length-percentage":var Ce=ne.parseComponentValue();return Ws(Ce)?Ce:Dr;case"time":return fe.parse(j,ne.parseComponentValue())}break}},en="data-html2canvas-debug",qr=function(j){var v=j.getAttribute(en);switch(v){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Gn=function(j,v){var C=qr(j);return C===1||v===C},Xn=(function(){function j(v,C){if(this.context=v,this.textNodes=[],this.elements=[],this.flags=0,Gn(C,3))debugger;this.styles=new Fs(v,window.getComputedStyle(C,null)),gh(C)&&(this.styles.animationDuration.some(function(B){return B>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=f(this.context,C),Gn(C,4)&&(this.flags|=16)}return j})(),hr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ba=typeof Uint8Array>"u"?[]:new Uint8Array(256),fr=0;fr<Ra.length;fr++)Ba[Ra.charCodeAt(fr)]=fr;for(var La=function(j){var v=j.length*.75,C=j.length,B,$=0,ne,de,Be,Ce;j[j.length-1]==="="&&(v--,j[j.length-2]==="="&&v--);var Le=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ve=Array.isArray(Le)?Le:new Uint8Array(Le);for(B=0;B<C;B+=4)ne=Ba[j.charCodeAt(B)],de=Ba[j.charCodeAt(B+1)],Be=Ba[j.charCodeAt(B+2)],Ce=Ba[j.charCodeAt(B+3)],Ve[$++]=ne<<2|de>>4,Ve[$++]=(de&15)<<4|Be>>2,Ve[$++]=(Be&3)<<6|Ce&63;return Le},Ui=function(j){for(var v=j.length,C=[],B=0;B<v;B+=2)C.push(j[B+1]<<8|j[B]);return C},Qa=function(j){for(var v=j.length,C=[],B=0;B<v;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},As=5,Os=11,Qr=2,rr=Os-As,Oa=65536>>As,Zr=1<<As,Ps=Zr-1,Ca=1024>>As,mr=Oa+Ca,Pa=mr,ka=32,wr=Pa+ka,Ks=65536>>Os,Di=1<<rr,fa=Di-1,On=function(j,v,C){return j.slice?j.slice(v,C):new Uint16Array(Array.prototype.slice.call(j,v,C))},zn=function(j,v,C){return j.slice?j.slice(v,C):new Uint32Array(Array.prototype.slice.call(j,v,C))},Js=function(j,v){var C=La(j),B=Array.isArray(C)?Qa(C):new Uint32Array(C),$=Array.isArray(C)?Ui(C):new Uint16Array(C),ne=24,de=On($,ne/2,B[4]/2),Be=B[5]===2?On($,(ne+B[4])/2):zn(B,Math.ceil((ne+B[4])/4));return new Ao(B[0],B[1],B[2],B[3],de,Be)},Ao=(function(){function j(v,C,B,$,ne,de){this.initialValue=v,this.errorValue=C,this.highStart=B,this.highValueIndex=$,this.index=ne,this.data=de}return j.prototype.get=function(v){var C;if(v>=0){if(v<55296||v>56319&&v<=65535)return C=this.index[v>>As],C=(C<<Qr)+(v&Ps),this.data[C];if(v<=65535)return C=this.index[Oa+(v-55296>>As)],C=(C<<Qr)+(v&Ps),this.data[C];if(v<this.highStart)return C=wr-Ks+(v>>Os),C=this.index[C],C+=v>>As&fa,C=this.index[C],C=(C<<Qr)+(v&Ps),this.data[C];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",to=typeof Uint8Array>"u"?[]:new Uint8Array(256),ea=0;ea<yo.length;ea++)to[yo.charCodeAt(ea)]=ea;var wA=1,Dl=2,wc=3,jr=4,Yu=5,Ah=7,lu=8,gl=9,ch=10,Wu=11,Xu=12,Au=13,Wa=14,Gr=15,cu=function(j){for(var v=[],C=0,B=j.length;C<B;){var $=j.charCodeAt(C++);if($>=55296&&$<=56319&&C<B){var ne=j.charCodeAt(C++);(ne&64512)===56320?v.push((($&1023)<<10)+(ne&1023)+65536):(v.push($),C--)}else v.push($)}return v},jA=function(){for(var j=[],v=0;v<arguments.length;v++)j[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],$=-1,ne="";++$<C;){var de=j[$];de<=65535?B.push(de):(de-=65536,B.push((de>>10)+55296,de%1024+56320)),($+1===C||B.length>16384)&&(ne+=String.fromCharCode.apply(String,B),B.length=0)}return ne},jc=Js(hr),ii="",Go="",Ju=function(j){return jc.get(j)},Bc=function(j,v,C){var B=C-2,$=v[B],ne=v[C-1],de=v[C];if(ne===Dl&&de===wc)return ii;if(ne===Dl||ne===wc||ne===jr||de===Dl||de===wc||de===jr)return Go;if(ne===lu&&[lu,gl,Wu,Xu].indexOf(de)!==-1||(ne===Wu||ne===gl)&&(de===gl||de===ch)||(ne===Xu||ne===ch)&&de===ch||de===Au||de===Yu||de===Ah||ne===wA)return ii;if(ne===Au&&de===Wa){for(;$===Yu;)$=v[--B];if($===Wa)return ii}if(ne===Gr&&de===Gr){for(var Be=0;$===Gr;)Be++,$=v[--B];if(Be%2===0)return ii}return Go},qu=function(j){var v=cu(j),C=v.length,B=0,$=0,ne=v.map(Ju);return{next:function(){if(B>=C)return{done:!0,value:null};for(var de=ii;B<C&&(de=Bc(v,ne,++B))===ii;);if(de!==ii||B===C){var Be=jA.apply(null,v.slice($,B));return $=B,{value:Be,done:!1}}return{done:!0,value:null}}}},Zu=function(j){for(var v=qu(j),C=[],B;!(B=v.next()).done;)B.value&&C.push(B.value.slice());return C},ql=function(j){var v=123;if(j.createRange){var C=j.createRange();if(C.getBoundingClientRect){var B=j.createElement("boundtest");B.style.height=v+"px",B.style.display="block",j.body.appendChild(B),C.selectNode(B);var $=C.getBoundingClientRect(),ne=Math.round($.height);if(j.body.removeChild(B),ne===v)return!0}}return!1},uh=function(j){var v=j.createElement("boundtest");v.style.width="50px",v.style.display="block",v.style.fontSize="12px",v.style.letterSpacing="0px",v.style.wordSpacing="0px",j.body.appendChild(v);var C=j.createRange();v.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var B=v.firstChild,$=m(B.data).map(function(Ce){return x(Ce)}),ne=0,de={},Be=$.every(function(Ce,Le){C.setStart(B,ne),C.setEnd(B,ne+Ce.length);var Ve=C.getBoundingClientRect();ne+=Ce.length;var Ye=Ve.x>de.x||Ve.y>de.y;return de=Ve,Le===0?!0:Ye});return j.body.removeChild(v),Be},dh=function(){return typeof new Image().crossOrigin<"u"},mf=function(){return typeof new XMLHttpRequest().responseType=="string"},hh=function(j){var v=new Image,C=j.createElement("canvas"),B=C.getContext("2d");if(!B)return!1;v.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{B.drawImage(v,0,0),C.toDataURL()}catch{return!1}return!0},Zl=function(j){return j[0]===0&&j[1]===255&&j[2]===0&&j[3]===255},pf=function(j){var v=j.createElement("canvas"),C=100;v.width=C,v.height=C;var B=v.getContext("2d");if(!B)return Promise.reject(!1);B.fillStyle="rgb(0, 255, 0)",B.fillRect(0,0,C,C);var $=new Image,ne=v.toDataURL();$.src=ne;var de=ed(C,C,0,0,$);return B.fillStyle="red",B.fillRect(0,0,C,C),fh(de).then(function(Be){B.drawImage(Be,0,0);var Ce=B.getImageData(0,0,C,C).data;B.fillStyle="red",B.fillRect(0,0,C,C);var Le=j.createElement("div");return Le.style.backgroundImage="url("+ne+")",Le.style.height=C+"px",Zl(Ce)?fh(ed(C,C,0,0,Le)):Promise.reject(!1)}).then(function(Be){return B.drawImage(Be,0,0),Zl(B.getImageData(0,0,C,C).data)}).catch(function(){return!1})},ed=function(j,v,C,B,$){var ne="http://www.w3.org/2000/svg",de=document.createElementNS(ne,"svg"),Be=document.createElementNS(ne,"foreignObject");return de.setAttributeNS(null,"width",j.toString()),de.setAttributeNS(null,"height",v.toString()),Be.setAttributeNS(null,"width","100%"),Be.setAttributeNS(null,"height","100%"),Be.setAttributeNS(null,"x",C.toString()),Be.setAttributeNS(null,"y",B.toString()),Be.setAttributeNS(null,"externalResourcesRequired","true"),de.appendChild(Be),Be.appendChild($),de},fh=function(j){return new Promise(function(v,C){var B=new Image;B.onload=function(){return v(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Xa={get SUPPORT_RANGE_BOUNDS(){var j=ql(document);return Object.defineProperty(Xa,"SUPPORT_RANGE_BOUNDS",{value:j}),j},get SUPPORT_WORD_BREAKING(){var j=Xa.SUPPORT_RANGE_BOUNDS&&uh(document);return Object.defineProperty(Xa,"SUPPORT_WORD_BREAKING",{value:j}),j},get SUPPORT_SVG_DRAWING(){var j=hh(document);return Object.defineProperty(Xa,"SUPPORT_SVG_DRAWING",{value:j}),j},get SUPPORT_FOREIGNOBJECT_DRAWING(){var j=typeof Array.from=="function"&&typeof window.fetch=="function"?pf(document):Promise.resolve(!1);return Object.defineProperty(Xa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:j}),j},get SUPPORT_CORS_IMAGES(){var j=dh();return Object.defineProperty(Xa,"SUPPORT_CORS_IMAGES",{value:j}),j},get SUPPORT_RESPONSE_TYPE(){var j=mf();return Object.defineProperty(Xa,"SUPPORT_RESPONSE_TYPE",{value:j}),j},get SUPPORT_CORS_XHR(){var j="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xa,"SUPPORT_CORS_XHR",{value:j}),j},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var j=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Xa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:j}),j}},Cc=(function(){function j(v,C){this.text=v,this.bounds=C}return j})(),$A=function(j,v,C,B){var $=tA(v,C),ne=[],de=0;return $.forEach(function(Be){if(C.textDecorationLine.length||Be.trim().length>0)if(Xa.SUPPORT_RANGE_BOUNDS){var Ce=Sc(B,de,Be.length).getClientRects();if(Ce.length>1){var Le=$o(Be),Ve=0;Le.forEach(function(gt){ne.push(new Cc(gt,u.fromDOMRectList(j,Sc(B,Ve+de,gt.length).getClientRects()))),Ve+=gt.length})}else ne.push(new Cc(Be,u.fromDOMRectList(j,Ce)))}else{var Ye=B.splitText(Be.length);ne.push(new Cc(Be,td(j,B))),B=Ye}else Xa.SUPPORT_RANGE_BOUNDS||(B=B.splitText(Be.length));de+=Be.length}),ne},td=function(j,v){var C=v.ownerDocument;if(C){var B=C.createElement("html2canvaswrapper");B.appendChild(v.cloneNode(!0));var $=v.parentNode;if($){$.replaceChild(B,v);var ne=f(j,B);return B.firstChild&&$.replaceChild(B.firstChild,B),ne}}return u.EMPTY},Sc=function(j,v,C){var B=j.ownerDocument;if(!B)throw new Error("Node has no owner document");var $=B.createRange();return $.setStart(j,v),$.setEnd(j,v+C),$},$o=function(j){if(Xa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var v=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(v.segment(j)).map(function(C){return C.segment})}return Zu(j)},eA=function(j,v){if(Xa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(j)).map(function(B){return B.segment})}return sd(j,v)},tA=function(j,v){return v.letterSpacing!==0?$o(j):eA(j,v)},nd=[32,160,4961,65792,65793,4153,4241],sd=function(j,v){for(var C=oa(j,{lineBreak:v.lineBreak,wordBreak:v.overflowWrap==="break-word"?"break-word":v.wordBreak}),B=[],$,ne=function(){if($.value){var de=$.value.slice(),Be=m(de),Ce="";Be.forEach(function(Le){nd.indexOf(Le)===-1?Ce+=x(Le):(Ce.length&&B.push(Ce),B.push(x(Le)),Ce="")}),Ce.length&&B.push(Ce)}};!($=C.next()).done;)ne();return B},YA=(function(){function j(v,C,B){this.text=gf(C.data,B.textTransform),this.textBounds=$A(v,this.text,B,C)}return j})(),gf=function(j,v){switch(v){case 1:return j.toLowerCase();case 3:return j.replace(Nc,Ec);case 2:return j.toUpperCase();default:return j}},Nc=/(^|\s|:|-|\(|\))([a-z])/g,Ec=function(j,v,C){return j.length>0?v+C.toUpperCase():j},Rm=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;return $.src=B.currentSrc||B.src,$.intrinsicWidth=B.naturalWidth,$.intrinsicHeight=B.naturalHeight,$.context.cache.addImage($.src),$}return v})(Xn),xf=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;return $.canvas=B,$.intrinsicWidth=B.width,$.intrinsicHeight=B.height,$}return v})(Xn),zg=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this,ne=new XMLSerializer,de=f(C,B);return B.setAttribute("width",de.width+"px"),B.setAttribute("height",de.height+"px"),$.svg="data:image/svg+xml,"+encodeURIComponent(ne.serializeToString(B)),$.intrinsicWidth=B.width.baseVal.value,$.intrinsicHeight=B.height.baseVal.value,$.context.cache.addImage($.svg),$}return v})(Xn),Lm=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;return $.value=B.value,$}return v})(Xn),vf=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;return $.start=B.start,$.reversed=typeof B.reversed=="boolean"&&B.reversed===!0,$}return v})(Xn),Gg=[{type:15,flags:0,unit:"px",number:3}],$g=[{type:16,flags:0,number:50}],Yg=function(j){return j.width>j.height?new u(j.left+(j.width-j.height)/2,j.top,j.height,j.height):j.width<j.height?new u(j.left,j.top+(j.height-j.width)/2,j.width,j.width):j},Qm=function(j){var v=j.type===Om?new Array(j.value.length+1).join(""):j.value;return v.length===0?j.placeholder||"":v},mh="checkbox",ph="radio",Om="password",Pm=707406591,yf=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;switch($.type=B.type.toLowerCase(),$.checked=B.checked,$.value=Qm(B),($.type===mh||$.type===ph)&&($.styles.backgroundColor=3739148031,$.styles.borderTopColor=$.styles.borderRightColor=$.styles.borderBottomColor=$.styles.borderLeftColor=2779096575,$.styles.borderTopWidth=$.styles.borderRightWidth=$.styles.borderBottomWidth=$.styles.borderLeftWidth=1,$.styles.borderTopStyle=$.styles.borderRightStyle=$.styles.borderBottomStyle=$.styles.borderLeftStyle=1,$.styles.backgroundClip=[0],$.styles.backgroundOrigin=[0],$.bounds=Yg($.bounds)),$.type){case mh:$.styles.borderTopRightRadius=$.styles.borderTopLeftRadius=$.styles.borderBottomRightRadius=$.styles.borderBottomLeftRadius=Gg;break;case ph:$.styles.borderTopRightRadius=$.styles.borderTopLeftRadius=$.styles.borderBottomRightRadius=$.styles.borderBottomLeftRadius=$g;break}return $}return v})(Xn),Wg=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this,ne=B.options[B.selectedIndex||0];return $.value=ne&&ne.text||"",$}return v})(Xn),bf=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;return $.value=B.value,$}return v})(Xn),km=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;$.src=B.src,$.width=parseInt(B.width,10)||0,$.height=parseInt(B.height,10)||0,$.backgroundColor=$.styles.backgroundColor;try{if(B.contentWindow&&B.contentWindow.document&&B.contentWindow.document.documentElement){$.tree=Hm(C,B.contentWindow.document.documentElement);var ne=B.contentWindow.document.documentElement?fl(C,getComputedStyle(B.contentWindow.document.documentElement).backgroundColor):wa.TRANSPARENT,de=B.contentWindow.document.body?fl(C,getComputedStyle(B.contentWindow.document.body).backgroundColor):wa.TRANSPARENT;$.backgroundColor=gi(ne)?gi(de)?$.styles.backgroundColor:de:ne}}catch{}return $}return v})(Xn),Xg=["OL","UL","MENU"],rd=function(j,v,C,B){for(var $=v.firstChild,ne=void 0;$;$=ne)if(ne=$.nextSibling,Vm($)&&$.data.trim().length>0)C.textNodes.push(new YA(j,$,C.styles));else if(BA($))if(bh($)&&$.assignedNodes)$.assignedNodes().forEach(function(Be){return rd(j,Be,C,B)});else{var de=Mm(j,$);de.styles.isVisible()&&($v($,de,B)?de.flags|=4:Yv(de.styles)&&(de.flags|=2),Xg.indexOf($.tagName)!==-1&&(de.flags|=8),C.elements.push(de),$.slot,$.shadowRoot?rd(j,$.shadowRoot,de,B):!vh($)&&!wf($)&&!yh($)&&rd(j,$,de,B))}},Mm=function(j,v){return Sf(v)?new Rm(j,v):Bf(v)?new xf(j,v):wf(v)?new zg(j,v):Jg(v)?new Lm(j,v):qg(v)?new vf(j,v):xh(v)?new yf(j,v):yh(v)?new Wg(j,v):vh(v)?new bf(j,v):Km(v)?new km(j,v):new Xn(j,v)},Hm=function(j,v){var C=Mm(j,v);return C.flags|=4,rd(j,v,C,C),C},$v=function(j,v,C){return v.styles.isPositionedWithZIndex()||v.styles.opacity<1||v.styles.isTransformed()||jf(j)&&C.styles.isTransparent()},Yv=function(j){return j.isPositioned()||j.isFloating()},Vm=function(j){return j.nodeType===Node.TEXT_NODE},BA=function(j){return j.nodeType===Node.ELEMENT_NODE},gh=function(j){return BA(j)&&typeof j.style<"u"&&!uu(j)},uu=function(j){return typeof j.className=="object"},Jg=function(j){return j.tagName==="LI"},qg=function(j){return j.tagName==="OL"},xh=function(j){return j.tagName==="INPUT"},Zg=function(j){return j.tagName==="HTML"},wf=function(j){return j.tagName==="svg"},jf=function(j){return j.tagName==="BODY"},Bf=function(j){return j.tagName==="CANVAS"},Cf=function(j){return j.tagName==="VIDEO"},Sf=function(j){return j.tagName==="IMG"},Km=function(j){return j.tagName==="IFRAME"},Tc=function(j){return j.tagName==="STYLE"},e0=function(j){return j.tagName==="SCRIPT"},vh=function(j){return j.tagName==="TEXTAREA"},yh=function(j){return j.tagName==="SELECT"},bh=function(j){return j.tagName==="SLOT"},zm=function(j){return j.tagName.indexOf("-")>0},Gm=(function(){function j(){this.counters={}}return j.prototype.getCounterValue=function(v){var C=this.counters[v];return C&&C.length?C[C.length-1]:1},j.prototype.getCounterValues=function(v){var C=this.counters[v];return C||[]},j.prototype.pop=function(v){var C=this;v.forEach(function(B){return C.counters[B].pop()})},j.prototype.parse=function(v){var C=this,B=v.counterIncrement,$=v.counterReset,ne=!0;B!==null&&B.forEach(function(Be){var Ce=C.counters[Be.counter];Ce&&Be.increment!==0&&(ne=!1,Ce.length||Ce.push(1),Ce[Math.max(0,Ce.length-1)]+=Be.increment)});var de=[];return ne&&$.forEach(function(Be){var Ce=C.counters[Be.counter];de.push(Be.counter),Ce||(Ce=C.counters[Be.counter]=[]),Ce.push(Be.reset)}),de},j})(),$m={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ym={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wv={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wm={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ta=function(j,v,C,B,$,ne){return j<v||j>C?id(j,$,ne.length>0):B.integers.reduce(function(de,Be,Ce){for(;j>=Be;)j-=Be,de+=B.values[Ce];return de},"")+ne},Ri=function(j,v,C,B){var $="";do C||j--,$=B(j)+$,j/=v;while(j*v>=v);return $},Ma=function(j,v,C,B,$){var ne=C-v+1;return(j<0?"-":"")+(Ri(Math.abs(j),ne,B,function(de){return x(Math.floor(de%ne)+v)})+$)},Ic=function(j,v,C){C===void 0&&(C=". ");var B=v.length;return Ri(Math.abs(j),B,!1,function($){return v[Math.floor($%B)]})+C},du=1,WA=2,Rl=4,ad=8,Ll=function(j,v,C,B,$,ne){if(j<-9999||j>9999)return id(j,4,$.length>0);var de=Math.abs(j),Be=$;if(de===0)return v[0]+Be;for(var Ce=0;de>0&&Ce<=4;Ce++){var Le=de%10;Le===0&&He(ne,du)&&Be!==""?Be=v[Le]+Be:Le>1||Le===1&&Ce===0||Le===1&&Ce===1&&He(ne,WA)||Le===1&&Ce===1&&He(ne,Rl)&&j>100||Le===1&&Ce>1&&He(ne,ad)?Be=v[Le]+(Ce>0?C[Ce-1]:"")+Be:Le===1&&Ce>0&&(Be=C[Ce-1]+Be),de=Math.floor(de/10)}return(j<0?B:"")+Be},Xm="",t0="",wh="",jh="",id=function(j,v,C){var B=C?". ":"",$=C?"":"",ne=C?", ":"",de=C?" ":"";switch(v){case 0:return""+de;case 1:return""+de;case 2:return""+de;case 5:var Be=Ma(j,48,57,!0,B);return Be.length<4?"0"+Be:Be;case 4:return Ic(j,"",$);case 6:return ta(j,1,3999,$m,3,B).toLowerCase();case 7:return ta(j,1,3999,$m,3,B);case 8:return Ma(j,945,969,!1,B);case 9:return Ma(j,97,122,!1,B);case 10:return Ma(j,65,90,!1,B);case 11:return Ma(j,1632,1641,!0,B);case 12:case 49:return ta(j,1,9999,Ym,3,B);case 35:return ta(j,1,9999,Ym,3,B).toLowerCase();case 13:return Ma(j,2534,2543,!0,B);case 14:case 30:return Ma(j,6112,6121,!0,B);case 15:return Ic(j,"",$);case 16:return Ic(j,"",$);case 17:case 48:return Ll(j,"",Xm,"",$,WA|Rl|ad);case 47:return Ll(j,"",t0,"",$,du|WA|Rl|ad);case 42:return Ll(j,"",Xm,"",$,WA|Rl|ad);case 41:return Ll(j,"",t0,"",$,du|WA|Rl|ad);case 26:return Ll(j,"","",wh,$,0);case 25:return Ll(j,"","",wh,$,du|WA|Rl);case 31:return Ll(j,"","",jh,ne,du|WA|Rl);case 33:return Ll(j,"","",jh,ne,0);case 32:return Ll(j,"","",jh,ne,du|WA|Rl);case 18:return Ma(j,2406,2415,!0,B);case 20:return ta(j,1,19999,Wm,3,B);case 21:return Ma(j,2790,2799,!0,B);case 22:return Ma(j,2662,2671,!0,B);case 22:return ta(j,1,10999,Wv,3,B);case 23:return Ic(j,"");case 24:return Ic(j,"");case 27:return Ma(j,3302,3311,!0,B);case 28:return Ic(j,"",$);case 29:return Ic(j,"",$);case 34:return Ma(j,3792,3801,!0,B);case 37:return Ma(j,6160,6169,!0,B);case 38:return Ma(j,4160,4169,!0,B);case 39:return Ma(j,2918,2927,!0,B);case 40:return Ma(j,1776,1785,!0,B);case 43:return Ma(j,3046,3055,!0,B);case 44:return Ma(j,3174,3183,!0,B);case 45:return Ma(j,3664,3673,!0,B);case 46:return Ma(j,3872,3881,!0,B);case 3:default:return Ma(j,48,57,!0,B)}},Jm="data-html2canvas-ignore",qm=(function(){function j(v,C,B){if(this.context=v,this.options=B,this.scrolledElements=[],this.referenceElement=C,this.counters=new Gm,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return j.prototype.toIFrame=function(v,C){var B=this,$=Zm(v,C);if(!$.contentWindow)return Promise.reject("Unable to find iframe window");var ne=v.defaultView.pageXOffset,de=v.defaultView.pageYOffset,Be=$.contentWindow,Ce=Be.document,Le=tp($).then(function(){return o(B,void 0,void 0,function(){var Ve,Ye;return c(this,function(gt){switch(gt.label){case 0:return this.scrolledElements.forEach(r0),Be&&(Be.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Be.scrollY!==C.top||Be.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Be.scrollX-C.left,Be.scrollY-C.top,0,0))),Ve=this.options.onclone,Ye=this.clonedReferenceElement,typeof Ye>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ce.fonts&&Ce.fonts.ready?[4,Ce.fonts.ready]:[3,2];case 1:gt.sent(),gt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,n0(Ce)]:[3,4];case 3:gt.sent(),gt.label=4;case 4:return typeof Ve=="function"?[2,Promise.resolve().then(function(){return Ve(Ce,Ye)}).then(function(){return $})]:[2,$]}})})});return Ce.open(),Ce.write(s0(document.doctype)+"<html></html>"),np(this.referenceElement.ownerDocument,ne,de),Ce.replaceChild(Ce.adoptNode(this.documentElement),Ce.documentElement),Ce.close(),Le},j.prototype.createElementClone=function(v){if(Gn(v,2))debugger;if(Bf(v))return this.createCanvasClone(v);if(Cf(v))return this.createVideoClone(v);if(Tc(v))return this.createStyleClone(v);var C=v.cloneNode(!1);return Sf(C)&&(Sf(v)&&v.currentSrc&&v.currentSrc!==v.src&&(C.src=v.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),zm(C)?this.createCustomElementClone(C):C},j.prototype.createCustomElementClone=function(v){var C=document.createElement("html2canvascustomelement");return Bh(v.style,C),C},j.prototype.createStyleClone=function(v){try{var C=v.sheet;if(C&&C.cssRules){var B=[].slice.call(C.cssRules,0).reduce(function(ne,de){return de&&typeof de.cssText=="string"?ne+de.cssText:ne},""),$=v.cloneNode(!1);return $.textContent=B,$}}catch(ne){if(this.context.logger.error("Unable to access cssRules property",ne),ne.name!=="SecurityError")throw ne}return v.cloneNode(!1)},j.prototype.createCanvasClone=function(v){var C;if(this.options.inlineImages&&v.ownerDocument){var B=v.ownerDocument.createElement("img");try{return B.src=v.toDataURL(),B}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",v)}}var $=v.cloneNode(!1);try{$.width=v.width,$.height=v.height;var ne=v.getContext("2d"),de=$.getContext("2d");if(de)if(!this.options.allowTaint&&ne)de.putImageData(ne.getImageData(0,0,v.width,v.height),0,0);else{var Be=(C=v.getContext("webgl2"))!==null&&C!==void 0?C:v.getContext("webgl");if(Be){var Ce=Be.getContextAttributes();(Ce==null?void 0:Ce.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",v)}de.drawImage(v,0,0)}return $}catch{this.context.logger.info("Unable to clone canvas as it is tainted",v)}return $},j.prototype.createVideoClone=function(v){var C=v.ownerDocument.createElement("canvas");C.width=v.offsetWidth,C.height=v.offsetHeight;var B=C.getContext("2d");try{return B&&(B.drawImage(v,0,0,C.width,C.height),this.options.allowTaint||B.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",v)}var $=v.ownerDocument.createElement("canvas");return $.width=v.offsetWidth,$.height=v.offsetHeight,$},j.prototype.appendChildNode=function(v,C,B){(!BA(C)||!e0(C)&&!C.hasAttribute(Jm)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!BA(C)||!Tc(C))&&v.appendChild(this.cloneNode(C,B))},j.prototype.cloneChildNodes=function(v,C,B){for(var $=this,ne=v.shadowRoot?v.shadowRoot.firstChild:v.firstChild;ne;ne=ne.nextSibling)if(BA(ne)&&bh(ne)&&typeof ne.assignedNodes=="function"){var de=ne.assignedNodes();de.length&&de.forEach(function(Be){return $.appendChildNode(C,Be,B)})}else this.appendChildNode(C,ne,B)},j.prototype.cloneNode=function(v,C){if(Vm(v))return document.createTextNode(v.data);if(!v.ownerDocument)return v.cloneNode(!1);var B=v.ownerDocument.defaultView;if(B&&BA(v)&&(gh(v)||uu(v))){var $=this.createElementClone(v);$.style.transitionProperty="none";var ne=B.getComputedStyle(v),de=B.getComputedStyle(v,":before"),Be=B.getComputedStyle(v,":after");this.referenceElement===v&&gh($)&&(this.clonedReferenceElement=$),jf($)&&ap($);var Ce=this.counters.parse(new us(this.context,ne)),Le=this.resolvePseudoContent(v,$,de,hu.BEFORE);zm(v)&&(C=!0),Cf(v)||this.cloneChildNodes(v,$,C),Le&&$.insertBefore(Le,$.firstChild);var Ve=this.resolvePseudoContent(v,$,Be,hu.AFTER);return Ve&&$.appendChild(Ve),this.counters.pop(Ce),(ne&&(this.options.copyStyles||uu(v))&&!Km(v)||C)&&Bh(ne,$),(v.scrollTop!==0||v.scrollLeft!==0)&&this.scrolledElements.push([$,v.scrollLeft,v.scrollTop]),(vh(v)||yh(v))&&(vh($)||yh($))&&($.value=v.value),$}return v.cloneNode(!1)},j.prototype.resolvePseudoContent=function(v,C,B,$){var ne=this;if(B){var de=B.content,Be=C.ownerDocument;if(!(!Be||!de||de==="none"||de==="-moz-alt-content"||B.display==="none")){this.counters.parse(new us(this.context,B));var Ce=new Lr(this.context,B),Le=Be.createElement("html2canvaspseudoelement");Bh(B,Le),Ce.content.forEach(function(Ye){if(Ye.type===0)Le.appendChild(Be.createTextNode(Ye.value));else if(Ye.type===22){var gt=Be.createElement("img");gt.src=Ye.value,gt.style.opacity="1",Le.appendChild(gt)}else if(Ye.type===18){if(Ye.name==="attr"){var fn=Ye.values.filter(ls);fn.length&&Le.appendChild(Be.createTextNode(v.getAttribute(fn[0].value)||""))}else if(Ye.name==="counter"){var Xt=Ye.values.filter(Da),tn=Xt[0],Fn=Xt[1];if(tn&&ls(tn)){var yn=ne.counters.getCounterValue(tn.value),xn=Fn&&ls(Fn)?iu.parse(ne.context,Fn.value):3;Le.appendChild(Be.createTextNode(id(yn,xn,!1)))}}else if(Ye.name==="counters"){var Cs=Ye.values.filter(Da),tn=Cs[0],ys=Cs[1],Fn=Cs[2];if(tn&&ls(tn)){var es=ne.counters.getCounterValues(tn.value),mn=Fn&&ls(Fn)?iu.parse(ne.context,Fn.value):3,Us=ys&&ys.type===0?ys.value:"",Ms=es.map(function(Pr){return id(Pr,mn,!1)}).join(Us);Le.appendChild(Be.createTextNode(Ms))}}}else if(Ye.type===20)switch(Ye.value){case"open-quote":Le.appendChild(Be.createTextNode(Tt(Ce.quotes,ne.quoteDepth++,!0)));break;case"close-quote":Le.appendChild(Be.createTextNode(Tt(Ce.quotes,--ne.quoteDepth,!1)));break;default:Le.appendChild(Be.createTextNode(Ye.value))}}),Le.className=rp+" "+Ef;var Ve=$===hu.BEFORE?" "+rp:" "+Ef;return uu(C)?C.className.baseValue+=Ve:C.className+=Ve,Le}}},j.destroy=function(v){return v.parentNode?(v.parentNode.removeChild(v),!0):!1},j})(),hu;(function(j){j[j.BEFORE=0]="BEFORE",j[j.AFTER=1]="AFTER"})(hu||(hu={}));var Zm=function(j,v){var C=j.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=v.width.toString(),C.height=v.height.toString(),C.scrolling="no",C.setAttribute(Jm,"true"),j.body.appendChild(C),C},ep=function(j){return new Promise(function(v){if(j.complete){v();return}if(!j.src){v();return}j.onload=v,j.onerror=v})},n0=function(j){return Promise.all([].slice.call(j.images,0).map(ep))},tp=function(j){return new Promise(function(v,C){var B=j.contentWindow;if(!B)return C("No window assigned for iframe");var $=B.document;B.onload=j.onload=function(){B.onload=j.onload=null;var ne=setInterval(function(){$.body.childNodes.length>0&&$.readyState==="complete"&&(clearInterval(ne),v(j))},50)}})},Nf=["all","d","content"],Bh=function(j,v){for(var C=j.length-1;C>=0;C--){var B=j.item(C);Nf.indexOf(B)===-1&&v.style.setProperty(B,j.getPropertyValue(B))}return v},s0=function(j){var v="";return j&&(v+="<!DOCTYPE ",j.name&&(v+=j.name),j.internalSubset&&(v+=j.internalSubset),j.publicId&&(v+='"'+j.publicId+'"'),j.systemId&&(v+='"'+j.systemId+'"'),v+=">"),v},np=function(j,v,C){j&&j.defaultView&&(v!==j.defaultView.pageXOffset||C!==j.defaultView.pageYOffset)&&j.defaultView.scrollTo(v,C)},r0=function(j){var v=j[0],C=j[1],B=j[2];v.scrollLeft=C,v.scrollTop=B},XA=":before",sp=":after",rp="___html2canvas___pseudoelement_before",Ef="___html2canvas___pseudoelement_after",CA=`{
    content: "" !important;
    display: none !important;
}`,ap=function(j){a0(j,"."+rp+XA+CA+`
         .`+Ef+sp+CA)},a0=function(j,v){var C=j.ownerDocument;if(C){var B=C.createElement("style");B.textContent=v,j.appendChild(B)}},Ch=(function(){function j(){}return j.getOrigin=function(v){var C=j._link;return C?(C.href=v,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},j.isSameOrigin=function(v){return j.getOrigin(v)===j._origin},j.setContext=function(v){j._link=v.document.createElement("a"),j._origin=j.getOrigin(v.location.href)},j._origin="about:blank",j})(),Sh=(function(){function j(v,C){this.context=v,this._options=C,this._cache={}}return j.prototype.addImage=function(v){var C=Promise.resolve();return this.has(v)||(Tf(v)||i0(v))&&(this._cache[v]=this.loadImage(v)).catch(function(){}),C},j.prototype.match=function(v){return this._cache[v]},j.prototype.loadImage=function(v){return o(this,void 0,void 0,function(){var C,B,$,ne,de=this;return c(this,function(Be){switch(Be.label){case 0:return C=Ch.isSameOrigin(v),B=!fu(v)&&this._options.useCORS===!0&&Xa.SUPPORT_CORS_IMAGES&&!C,$=!fu(v)&&!C&&!Tf(v)&&typeof this._options.proxy=="string"&&Xa.SUPPORT_CORS_XHR&&!B,!C&&this._options.allowTaint===!1&&!fu(v)&&!Tf(v)&&!$&&!B?[2]:(ne=v,$?[4,this.proxy(ne)]:[3,2]);case 1:ne=Be.sent(),Be.label=2;case 2:return this.context.logger.debug("Added image "+v.substring(0,256)),[4,new Promise(function(Ce,Le){var Ve=new Image;Ve.onload=function(){return Ce(Ve)},Ve.onerror=Le,(_c(ne)||B)&&(Ve.crossOrigin="anonymous"),Ve.src=ne,Ve.complete===!0&&setTimeout(function(){return Ce(Ve)},500),de._options.imageTimeout>0&&setTimeout(function(){return Le("Timed out ("+de._options.imageTimeout+"ms) loading image")},de._options.imageTimeout)})];case 3:return[2,Be.sent()]}})})},j.prototype.has=function(v){return typeof this._cache[v]<"u"},j.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},j.prototype.proxy=function(v){var C=this,B=this._options.proxy;if(!B)throw new Error("No proxy defined");var $=v.substring(0,256);return new Promise(function(ne,de){var Be=Xa.SUPPORT_RESPONSE_TYPE?"blob":"text",Ce=new XMLHttpRequest;Ce.onload=function(){if(Ce.status===200)if(Be==="text")ne(Ce.response);else{var Ye=new FileReader;Ye.addEventListener("load",function(){return ne(Ye.result)},!1),Ye.addEventListener("error",function(gt){return de(gt)},!1),Ye.readAsDataURL(Ce.response)}else de("Failed to proxy resource "+$+" with status code "+Ce.status)},Ce.onerror=de;var Le=B.indexOf("?")>-1?"&":"?";if(Ce.open("GET",""+B+Le+"url="+encodeURIComponent(v)+"&responseType="+Be),Be!=="text"&&Ce instanceof XMLHttpRequest&&(Ce.responseType=Be),C._options.imageTimeout){var Ve=C._options.imageTimeout;Ce.timeout=Ve,Ce.ontimeout=function(){return de("Timed out ("+Ve+"ms) proxying "+$)}}Ce.send()})},j})(),na=/^data:image\/svg\+xml/i,Xv=/^data:image\/.*;base64,/i,Jv=/^data:image\/.*/i,i0=function(j){return Xa.SUPPORT_SVG_DRAWING||!o0(j)},fu=function(j){return Jv.test(j)},_c=function(j){return Xv.test(j)},Tf=function(j){return j.substr(0,4)==="blob"},o0=function(j){return j.substr(-3).toLowerCase()==="svg"||na.test(j)},on=(function(){function j(v,C){this.type=0,this.x=v,this.y=C}return j.prototype.add=function(v,C){return new j(this.x+v,this.y+C)},j})(),bo=function(j,v,C){return new on(j.x+(v.x-j.x)*C,j.y+(v.y-j.y)*C)},Nh=(function(){function j(v,C,B,$){this.type=1,this.start=v,this.startControl=C,this.endControl=B,this.end=$}return j.prototype.subdivide=function(v,C){var B=bo(this.start,this.startControl,v),$=bo(this.startControl,this.endControl,v),ne=bo(this.endControl,this.end,v),de=bo(B,$,v),Be=bo($,ne,v),Ce=bo(de,Be,v);return C?new j(this.start,B,de,Ce):new j(Ce,Be,ne,this.end)},j.prototype.add=function(v,C){return new j(this.start.add(v,C),this.startControl.add(v,C),this.endControl.add(v,C),this.end.add(v,C))},j.prototype.reverse=function(){return new j(this.end,this.endControl,this.startControl,this.start)},j})(),Yo=function(j){return j.type===1},l0=(function(){function j(v){var C=v.styles,B=v.bounds,$=Po(C.borderTopLeftRadius,B.width,B.height),ne=$[0],de=$[1],Be=Po(C.borderTopRightRadius,B.width,B.height),Ce=Be[0],Le=Be[1],Ve=Po(C.borderBottomRightRadius,B.width,B.height),Ye=Ve[0],gt=Ve[1],fn=Po(C.borderBottomLeftRadius,B.width,B.height),Xt=fn[0],tn=fn[1],Fn=[];Fn.push((ne+Ce)/B.width),Fn.push((Xt+Ye)/B.width),Fn.push((de+tn)/B.height),Fn.push((Le+gt)/B.height);var yn=Math.max.apply(Math,Fn);yn>1&&(ne/=yn,de/=yn,Ce/=yn,Le/=yn,Ye/=yn,gt/=yn,Xt/=yn,tn/=yn);var xn=B.width-Ce,Cs=B.height-gt,ys=B.width-Ye,es=B.height-tn,mn=C.borderTopWidth,Us=C.borderRightWidth,Ms=C.borderBottomWidth,Qn=C.borderLeftWidth,Ja=Bs(C.paddingTop,v.bounds.width),Pr=Bs(C.paddingRight,v.bounds.width),Jo=Bs(C.paddingBottom,v.bounds.width),Cr=Bs(C.paddingLeft,v.bounds.width);this.topLeftBorderDoubleOuterBox=ne>0||de>0?$r(B.left+Qn/3,B.top+mn/3,ne-Qn/3,de-mn/3,lr.TOP_LEFT):new on(B.left+Qn/3,B.top+mn/3),this.topRightBorderDoubleOuterBox=ne>0||de>0?$r(B.left+xn,B.top+mn/3,Ce-Us/3,Le-mn/3,lr.TOP_RIGHT):new on(B.left+B.width-Us/3,B.top+mn/3),this.bottomRightBorderDoubleOuterBox=Ye>0||gt>0?$r(B.left+ys,B.top+Cs,Ye-Us/3,gt-Ms/3,lr.BOTTOM_RIGHT):new on(B.left+B.width-Us/3,B.top+B.height-Ms/3),this.bottomLeftBorderDoubleOuterBox=Xt>0||tn>0?$r(B.left+Qn/3,B.top+es,Xt-Qn/3,tn-Ms/3,lr.BOTTOM_LEFT):new on(B.left+Qn/3,B.top+B.height-Ms/3),this.topLeftBorderDoubleInnerBox=ne>0||de>0?$r(B.left+Qn*2/3,B.top+mn*2/3,ne-Qn*2/3,de-mn*2/3,lr.TOP_LEFT):new on(B.left+Qn*2/3,B.top+mn*2/3),this.topRightBorderDoubleInnerBox=ne>0||de>0?$r(B.left+xn,B.top+mn*2/3,Ce-Us*2/3,Le-mn*2/3,lr.TOP_RIGHT):new on(B.left+B.width-Us*2/3,B.top+mn*2/3),this.bottomRightBorderDoubleInnerBox=Ye>0||gt>0?$r(B.left+ys,B.top+Cs,Ye-Us*2/3,gt-Ms*2/3,lr.BOTTOM_RIGHT):new on(B.left+B.width-Us*2/3,B.top+B.height-Ms*2/3),this.bottomLeftBorderDoubleInnerBox=Xt>0||tn>0?$r(B.left+Qn*2/3,B.top+es,Xt-Qn*2/3,tn-Ms*2/3,lr.BOTTOM_LEFT):new on(B.left+Qn*2/3,B.top+B.height-Ms*2/3),this.topLeftBorderStroke=ne>0||de>0?$r(B.left+Qn/2,B.top+mn/2,ne-Qn/2,de-mn/2,lr.TOP_LEFT):new on(B.left+Qn/2,B.top+mn/2),this.topRightBorderStroke=ne>0||de>0?$r(B.left+xn,B.top+mn/2,Ce-Us/2,Le-mn/2,lr.TOP_RIGHT):new on(B.left+B.width-Us/2,B.top+mn/2),this.bottomRightBorderStroke=Ye>0||gt>0?$r(B.left+ys,B.top+Cs,Ye-Us/2,gt-Ms/2,lr.BOTTOM_RIGHT):new on(B.left+B.width-Us/2,B.top+B.height-Ms/2),this.bottomLeftBorderStroke=Xt>0||tn>0?$r(B.left+Qn/2,B.top+es,Xt-Qn/2,tn-Ms/2,lr.BOTTOM_LEFT):new on(B.left+Qn/2,B.top+B.height-Ms/2),this.topLeftBorderBox=ne>0||de>0?$r(B.left,B.top,ne,de,lr.TOP_LEFT):new on(B.left,B.top),this.topRightBorderBox=Ce>0||Le>0?$r(B.left+xn,B.top,Ce,Le,lr.TOP_RIGHT):new on(B.left+B.width,B.top),this.bottomRightBorderBox=Ye>0||gt>0?$r(B.left+ys,B.top+Cs,Ye,gt,lr.BOTTOM_RIGHT):new on(B.left+B.width,B.top+B.height),this.bottomLeftBorderBox=Xt>0||tn>0?$r(B.left,B.top+es,Xt,tn,lr.BOTTOM_LEFT):new on(B.left,B.top+B.height),this.topLeftPaddingBox=ne>0||de>0?$r(B.left+Qn,B.top+mn,Math.max(0,ne-Qn),Math.max(0,de-mn),lr.TOP_LEFT):new on(B.left+Qn,B.top+mn),this.topRightPaddingBox=Ce>0||Le>0?$r(B.left+Math.min(xn,B.width-Us),B.top+mn,xn>B.width+Us?0:Math.max(0,Ce-Us),Math.max(0,Le-mn),lr.TOP_RIGHT):new on(B.left+B.width-Us,B.top+mn),this.bottomRightPaddingBox=Ye>0||gt>0?$r(B.left+Math.min(ys,B.width-Qn),B.top+Math.min(Cs,B.height-Ms),Math.max(0,Ye-Us),Math.max(0,gt-Ms),lr.BOTTOM_RIGHT):new on(B.left+B.width-Us,B.top+B.height-Ms),this.bottomLeftPaddingBox=Xt>0||tn>0?$r(B.left+Qn,B.top+Math.min(es,B.height-Ms),Math.max(0,Xt-Qn),Math.max(0,tn-Ms),lr.BOTTOM_LEFT):new on(B.left+Qn,B.top+B.height-Ms),this.topLeftContentBox=ne>0||de>0?$r(B.left+Qn+Cr,B.top+mn+Ja,Math.max(0,ne-(Qn+Cr)),Math.max(0,de-(mn+Ja)),lr.TOP_LEFT):new on(B.left+Qn+Cr,B.top+mn+Ja),this.topRightContentBox=Ce>0||Le>0?$r(B.left+Math.min(xn,B.width+Qn+Cr),B.top+mn+Ja,xn>B.width+Qn+Cr?0:Ce-Qn+Cr,Le-(mn+Ja),lr.TOP_RIGHT):new on(B.left+B.width-(Us+Pr),B.top+mn+Ja),this.bottomRightContentBox=Ye>0||gt>0?$r(B.left+Math.min(ys,B.width-(Qn+Cr)),B.top+Math.min(Cs,B.height+mn+Ja),Math.max(0,Ye-(Us+Pr)),gt-(Ms+Jo),lr.BOTTOM_RIGHT):new on(B.left+B.width-(Us+Pr),B.top+B.height-(Ms+Jo)),this.bottomLeftContentBox=Xt>0||tn>0?$r(B.left+Qn+Cr,B.top+es,Math.max(0,Xt-(Qn+Cr)),tn-(Ms+Jo),lr.BOTTOM_LEFT):new on(B.left+Qn+Cr,B.top+B.height-(Ms+Jo))}return j})(),lr;(function(j){j[j.TOP_LEFT=0]="TOP_LEFT",j[j.TOP_RIGHT=1]="TOP_RIGHT",j[j.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",j[j.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(lr||(lr={}));var $r=function(j,v,C,B,$){var ne=4*((Math.sqrt(2)-1)/3),de=C*ne,Be=B*ne,Ce=j+C,Le=v+B;switch($){case lr.TOP_LEFT:return new Nh(new on(j,Le),new on(j,Le-Be),new on(Ce-de,v),new on(Ce,v));case lr.TOP_RIGHT:return new Nh(new on(j,v),new on(j+de,v),new on(Ce,Le-Be),new on(Ce,Le));case lr.BOTTOM_RIGHT:return new Nh(new on(Ce,v),new on(Ce,v+Be),new on(j+de,Le),new on(j,Le));case lr.BOTTOM_LEFT:default:return new Nh(new on(Ce,Le),new on(Ce-de,Le),new on(j,v+Be),new on(j,v))}},mu=function(j){return[j.topLeftBorderBox,j.topRightBorderBox,j.bottomRightBorderBox,j.bottomLeftBorderBox]},A0=function(j){return[j.topLeftContentBox,j.topRightContentBox,j.bottomRightContentBox,j.bottomLeftContentBox]},Ql=function(j){return[j.topLeftPaddingBox,j.topRightPaddingBox,j.bottomRightPaddingBox,j.bottomLeftPaddingBox]},oi=(function(){function j(v,C,B){this.offsetX=v,this.offsetY=C,this.matrix=B,this.type=0,this.target=6}return j})(),od=(function(){function j(v,C){this.path=v,this.target=C,this.type=1}return j})(),c0=(function(){function j(v){this.opacity=v,this.type=2,this.target=6}return j})(),Li=function(j){return j.type===0},u0=function(j){return j.type===1},d0=function(j){return j.type===2},ip=function(j,v){return j.length===v.length?j.some(function(C,B){return C===v[B]}):!1},ma=function(j,v,C,B,$){return j.map(function(ne,de){switch(de){case 0:return ne.add(v,C);case 1:return ne.add(v+B,C);case 2:return ne.add(v+B,C+$);case 3:return ne.add(v,C+$)}return ne})},wo=(function(){function j(v){this.element=v,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return j})(),SA=(function(){function j(v,C){if(this.container=v,this.parent=C,this.effects=[],this.curves=new l0(this.container),this.container.styles.opacity<1&&this.effects.push(new c0(this.container.styles.opacity)),this.container.styles.transform!==null){var B=this.container.bounds.left+this.container.styles.transformOrigin[0].number,$=this.container.bounds.top+this.container.styles.transformOrigin[1].number,ne=this.container.styles.transform;this.effects.push(new oi(B,$,ne))}if(this.container.styles.overflowX!==0){var de=mu(this.curves),Be=Ql(this.curves);ip(de,Be)?this.effects.push(new od(de,6)):(this.effects.push(new od(de,2)),this.effects.push(new od(Be,4)))}}return j.prototype.getEffects=function(v){for(var C=[2,3].indexOf(this.container.styles.position)===-1,B=this.parent,$=this.effects.slice(0);B;){var ne=B.effects.filter(function(Ce){return!u0(Ce)});if(C||B.container.styles.position!==0||!B.parent){if($.unshift.apply($,ne),C=[2,3].indexOf(B.container.styles.position)===-1,B.container.styles.overflowX!==0){var de=mu(B.curves),Be=Ql(B.curves);ip(de,Be)||$.unshift(new od(Be,6))}}else $.unshift.apply($,ne);B=B.parent}return $.filter(function(Ce){return He(Ce.target,v)})},j})(),If=function(j,v,C,B){j.container.elements.forEach(function($){var ne=He($.flags,4),de=He($.flags,2),Be=new SA($,j);He($.styles.display,2048)&&B.push(Be);var Ce=He($.flags,8)?[]:B;if(ne||de){var Le=ne||$.styles.isPositioned()?C:v,Ve=new wo(Be);if($.styles.isPositioned()||$.styles.opacity<1||$.styles.isTransformed()){var Ye=$.styles.zIndex.order;if(Ye<0){var gt=0;Le.negativeZIndex.some(function(Xt,tn){return Ye>Xt.element.container.styles.zIndex.order?(gt=tn,!1):gt>0}),Le.negativeZIndex.splice(gt,0,Ve)}else if(Ye>0){var fn=0;Le.positiveZIndex.some(function(Xt,tn){return Ye>=Xt.element.container.styles.zIndex.order?(fn=tn+1,!1):fn>0}),Le.positiveZIndex.splice(fn,0,Ve)}else Le.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ve)}else $.styles.isFloating()?Le.nonPositionedFloats.push(Ve):Le.nonPositionedInlineLevel.push(Ve);If(Be,Ve,ne?Ve:C,Ce)}else $.styles.isInlineLevel()?v.inlineLevel.push(Be):v.nonInlineLevel.push(Be),If(Be,v,C,Ce);He($.flags,8)&&op($,Ce)})},op=function(j,v){for(var C=j instanceof vf?j.start:1,B=j instanceof vf?j.reversed:!1,$=0;$<v.length;$++){var ne=v[$];ne.container instanceof Lm&&typeof ne.container.value=="number"&&ne.container.value!==0&&(C=ne.container.value),ne.listValue=id(C,ne.container.styles.listStyleType,!0),C+=B?-1:1}},h0=function(j){var v=new SA(j,null),C=new wo(v),B=[];return If(v,C,C,B),op(v.container,B),C},f0=function(j,v){switch(v){case 0:return sa(j.topLeftBorderBox,j.topLeftPaddingBox,j.topRightBorderBox,j.topRightPaddingBox);case 1:return sa(j.topRightBorderBox,j.topRightPaddingBox,j.bottomRightBorderBox,j.bottomRightPaddingBox);case 2:return sa(j.bottomRightBorderBox,j.bottomRightPaddingBox,j.bottomLeftBorderBox,j.bottomLeftPaddingBox);case 3:default:return sa(j.bottomLeftBorderBox,j.bottomLeftPaddingBox,j.topLeftBorderBox,j.topLeftPaddingBox)}},_f=function(j,v){switch(v){case 0:return sa(j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox,j.topRightBorderBox,j.topRightBorderDoubleOuterBox);case 1:return sa(j.topRightBorderBox,j.topRightBorderDoubleOuterBox,j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox);case 2:return sa(j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox,j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox);case 3:default:return sa(j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox,j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox)}},Wo=function(j,v){switch(v){case 0:return sa(j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox,j.topRightBorderDoubleInnerBox,j.topRightPaddingBox);case 1:return sa(j.topRightBorderDoubleInnerBox,j.topRightPaddingBox,j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox);case 2:return sa(j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox,j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox);case 3:default:return sa(j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox,j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox)}},nA=function(j,v){switch(v){case 0:return Eh(j.topLeftBorderStroke,j.topRightBorderStroke);case 1:return Eh(j.topRightBorderStroke,j.bottomRightBorderStroke);case 2:return Eh(j.bottomRightBorderStroke,j.bottomLeftBorderStroke);case 3:default:return Eh(j.bottomLeftBorderStroke,j.topLeftBorderStroke)}},Eh=function(j,v){var C=[];return Yo(j)?C.push(j.subdivide(.5,!1)):C.push(j),Yo(v)?C.push(v.subdivide(.5,!0)):C.push(v),C},sa=function(j,v,C,B){var $=[];return Yo(j)?$.push(j.subdivide(.5,!1)):$.push(j),Yo(C)?$.push(C.subdivide(.5,!0)):$.push(C),Yo(B)?$.push(B.subdivide(.5,!0).reverse()):$.push(B),Yo(v)?$.push(v.subdivide(.5,!1).reverse()):$.push(v),$},lp=function(j){var v=j.bounds,C=j.styles;return v.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},Ol=function(j){var v=j.styles,C=j.bounds,B=Bs(v.paddingLeft,C.width),$=Bs(v.paddingRight,C.width),ne=Bs(v.paddingTop,C.width),de=Bs(v.paddingBottom,C.width);return C.add(B+v.borderLeftWidth,ne+v.borderTopWidth,-(v.borderRightWidth+v.borderLeftWidth+B+$),-(v.borderTopWidth+v.borderBottomWidth+ne+de))},pu=function(j,v){return j===0?v.bounds:j===2?Ol(v):lp(v)},JA=function(j,v){return j===0?v.bounds:j===2?Ol(v):lp(v)},Th=function(j,v,C){var B=pu(sA(j.styles.backgroundOrigin,v),j),$=JA(sA(j.styles.backgroundClip,v),j),ne=m0(sA(j.styles.backgroundSize,v),C,B),de=ne[0],Be=ne[1],Ce=Po(sA(j.styles.backgroundPosition,v),B.width-de,B.height-Be),Le=Ih(sA(j.styles.backgroundRepeat,v),Ce,ne,B,$),Ve=Math.round(B.left+Ce[0]),Ye=Math.round(B.top+Ce[1]);return[Le,Ve,Ye,de,Be]},Fc=function(j){return ls(j)&&j.value===Wl.AUTO},Xo=function(j){return typeof j=="number"},m0=function(j,v,C){var B=v[0],$=v[1],ne=v[2],de=j[0],Be=j[1];if(!de)return[0,0];if(Ws(de)&&Be&&Ws(Be))return[Bs(de,C.width),Bs(Be,C.height)];var Ce=Xo(ne);if(ls(de)&&(de.value===Wl.CONTAIN||de.value===Wl.COVER)){if(Xo(ne)){var Le=C.width/C.height;return Le<ne!=(de.value===Wl.COVER)?[C.width,C.width/ne]:[C.height*ne,C.height]}return[C.width,C.height]}var Ve=Xo(B),Ye=Xo($),gt=Ve||Ye;if(Fc(de)&&(!Be||Fc(Be))){if(Ve&&Ye)return[B,$];if(!Ce&&!gt)return[C.width,C.height];if(gt&&Ce){var fn=Ve?B:$*ne,Xt=Ye?$:B/ne;return[fn,Xt]}var tn=Ve?B:C.width,Fn=Ye?$:C.height;return[tn,Fn]}if(Ce){var yn=0,xn=0;return Ws(de)?yn=Bs(de,C.width):Ws(Be)&&(xn=Bs(Be,C.height)),Fc(de)?yn=xn*ne:(!Be||Fc(Be))&&(xn=yn/ne),[yn,xn]}var Cs=null,ys=null;if(Ws(de)?Cs=Bs(de,C.width):Be&&Ws(Be)&&(ys=Bs(Be,C.height)),Cs!==null&&(!Be||Fc(Be))&&(ys=Ve&&Ye?Cs/B*$:C.height),ys!==null&&Fc(de)&&(Cs=Ve&&Ye?ys/$*B:C.width),Cs!==null&&ys!==null)return[Cs,ys];throw new Error("Unable to calculate background-size for element")},sA=function(j,v){var C=j[v];return typeof C>"u"?j[0]:C},Ih=function(j,v,C,B,$){var ne=v[0],de=v[1],Be=C[0],Ce=C[1];switch(j){case 2:return[new on(Math.round(B.left),Math.round(B.top+de)),new on(Math.round(B.left+B.width),Math.round(B.top+de)),new on(Math.round(B.left+B.width),Math.round(Ce+B.top+de)),new on(Math.round(B.left),Math.round(Ce+B.top+de))];case 3:return[new on(Math.round(B.left+ne),Math.round(B.top)),new on(Math.round(B.left+ne+Be),Math.round(B.top)),new on(Math.round(B.left+ne+Be),Math.round(B.height+B.top)),new on(Math.round(B.left+ne),Math.round(B.height+B.top))];case 1:return[new on(Math.round(B.left+ne),Math.round(B.top+de)),new on(Math.round(B.left+ne+Be),Math.round(B.top+de)),new on(Math.round(B.left+ne+Be),Math.round(B.top+de+Ce)),new on(Math.round(B.left+ne),Math.round(B.top+de+Ce))];default:return[new on(Math.round($.left),Math.round($.top)),new on(Math.round($.left+$.width),Math.round($.top)),new on(Math.round($.left+$.width),Math.round($.height+$.top)),new on(Math.round($.left),Math.round($.height+$.top))]}},_h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",gu="Hidden Text",p0=(function(){function j(v){this._data={},this._document=v}return j.prototype.parseMetrics=function(v,C){var B=this._document.createElement("div"),$=this._document.createElement("img"),ne=this._document.createElement("span"),de=this._document.body;B.style.visibility="hidden",B.style.fontFamily=v,B.style.fontSize=C,B.style.margin="0",B.style.padding="0",B.style.whiteSpace="nowrap",de.appendChild(B),$.src=_h,$.width=1,$.height=1,$.style.margin="0",$.style.padding="0",$.style.verticalAlign="baseline",ne.style.fontFamily=v,ne.style.fontSize=C,ne.style.margin="0",ne.style.padding="0",ne.appendChild(this._document.createTextNode(gu)),B.appendChild(ne),B.appendChild($);var Be=$.offsetTop-ne.offsetTop+2;B.removeChild(ne),B.appendChild(this._document.createTextNode(gu)),B.style.lineHeight="normal",$.style.verticalAlign="super";var Ce=$.offsetTop-B.offsetTop+2;return de.removeChild(B),{baseline:Be,middle:Ce}},j.prototype.getMetrics=function(v,C){var B=v+" "+C;return typeof this._data[B]>"u"&&(this._data[B]=this.parseMetrics(v,C)),this._data[B]},j})(),Ap=(function(){function j(v,C){this.context=v,this.options=C}return j})(),Fh=1e4,g0=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;return $._activeEffects=[],$.canvas=B.canvas?B.canvas:document.createElement("canvas"),$.ctx=$.canvas.getContext("2d"),B.canvas||($.canvas.width=Math.floor(B.width*B.scale),$.canvas.height=Math.floor(B.height*B.scale),$.canvas.style.width=B.width+"px",$.canvas.style.height=B.height+"px"),$.fontMetrics=new p0(document),$.ctx.scale($.options.scale,$.options.scale),$.ctx.translate(-B.x,-B.y),$.ctx.textBaseline="bottom",$._activeEffects=[],$.context.logger.debug("Canvas renderer initialized ("+B.width+"x"+B.height+") with scale "+B.scale),$}return v.prototype.applyEffects=function(C){for(var B=this;this._activeEffects.length;)this.popEffect();C.forEach(function($){return B.applyEffect($)})},v.prototype.applyEffect=function(C){this.ctx.save(),d0(C)&&(this.ctx.globalAlpha=C.opacity),Li(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),u0(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},v.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},v.prototype.renderStack=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function($){switch($.label){case 0:return B=C.element.container.styles,B.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:$.sent(),$.label=2;case 2:return[2]}})})},v.prototype.renderNode=function(C){return o(this,void 0,void 0,function(){return c(this,function(B){switch(B.label){case 0:if(He(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return B.sent(),[4,this.renderNodeContent(C)];case 2:B.sent(),B.label=3;case 3:return[2]}})})},v.prototype.renderTextWithLetterSpacing=function(C,B,$){var ne=this;if(B===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+$);else{var de=$o(C.text);de.reduce(function(Be,Ce){return ne.ctx.fillText(Ce,Be,C.bounds.top+$),Be+ne.ctx.measureText(Ce).width},C.bounds.left)}},v.prototype.createFontStyle=function(C){var B=C.fontVariant.filter(function(de){return de==="normal"||de==="small-caps"}).join(""),$=pr(C.fontFamily).join(", "),ne=ba(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,B,C.fontWeight,ne,$].join(" "),$,ne]},v.prototype.renderTextNode=function(C,B){return o(this,void 0,void 0,function(){var $,ne,de,Be,Ce,Le,Ve,Ye,gt=this;return c(this,function(fn){return $=this.createFontStyle(B),ne=$[0],de=$[1],Be=$[2],this.ctx.font=ne,this.ctx.direction=B.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ce=this.fontMetrics.getMetrics(de,Be),Le=Ce.baseline,Ve=Ce.middle,Ye=B.paintOrder,C.textBounds.forEach(function(Xt){Ye.forEach(function(tn){switch(tn){case 0:gt.ctx.fillStyle=Qs(B.color),gt.renderTextWithLetterSpacing(Xt,B.letterSpacing,Le);var Fn=B.textShadow;Fn.length&&Xt.text.trim().length&&(Fn.slice(0).reverse().forEach(function(yn){gt.ctx.shadowColor=Qs(yn.color),gt.ctx.shadowOffsetX=yn.offsetX.number*gt.options.scale,gt.ctx.shadowOffsetY=yn.offsetY.number*gt.options.scale,gt.ctx.shadowBlur=yn.blur.number,gt.renderTextWithLetterSpacing(Xt,B.letterSpacing,Le)}),gt.ctx.shadowColor="",gt.ctx.shadowOffsetX=0,gt.ctx.shadowOffsetY=0,gt.ctx.shadowBlur=0),B.textDecorationLine.length&&(gt.ctx.fillStyle=Qs(B.textDecorationColor||B.color),B.textDecorationLine.forEach(function(yn){switch(yn){case 1:gt.ctx.fillRect(Xt.bounds.left,Math.round(Xt.bounds.top+Le),Xt.bounds.width,1);break;case 2:gt.ctx.fillRect(Xt.bounds.left,Math.round(Xt.bounds.top),Xt.bounds.width,1);break;case 3:gt.ctx.fillRect(Xt.bounds.left,Math.ceil(Xt.bounds.top+Ve),Xt.bounds.width,1);break}}));break;case 1:B.webkitTextStrokeWidth&&Xt.text.trim().length&&(gt.ctx.strokeStyle=Qs(B.webkitTextStrokeColor),gt.ctx.lineWidth=B.webkitTextStrokeWidth,gt.ctx.lineJoin=window.chrome?"miter":"round",gt.ctx.strokeText(Xt.text,Xt.bounds.left,Xt.bounds.top+Le)),gt.ctx.strokeStyle="",gt.ctx.lineWidth=0,gt.ctx.lineJoin="miter";break}})}),[2]})})},v.prototype.renderReplacedElement=function(C,B,$){if($&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var ne=Ol(C),de=Ql(B);this.path(de),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage($,0,0,C.intrinsicWidth,C.intrinsicHeight,ne.left,ne.top,ne.width,ne.height),this.ctx.restore()}},v.prototype.renderNodeContent=function(C){return o(this,void 0,void 0,function(){var B,$,ne,de,Be,Ce,xn,xn,Le,Ve,Ye,gt,ys,fn,Xt,es,tn,Fn,yn,xn,Cs,ys,es;return c(this,function(mn){switch(mn.label){case 0:this.applyEffects(C.getEffects(4)),B=C.container,$=C.curves,ne=B.styles,de=0,Be=B.textNodes,mn.label=1;case 1:return de<Be.length?(Ce=Be[de],[4,this.renderTextNode(Ce,ne)]):[3,4];case 2:mn.sent(),mn.label=3;case 3:return de++,[3,1];case 4:if(!(B instanceof Rm))return[3,8];mn.label=5;case 5:return mn.trys.push([5,7,,8]),[4,this.context.cache.match(B.src)];case 6:return xn=mn.sent(),this.renderReplacedElement(B,$,xn),[3,8];case 7:return mn.sent(),this.context.logger.error("Error loading image "+B.src),[3,8];case 8:if(B instanceof xf&&this.renderReplacedElement(B,$,B.canvas),!(B instanceof zg))return[3,12];mn.label=9;case 9:return mn.trys.push([9,11,,12]),[4,this.context.cache.match(B.svg)];case 10:return xn=mn.sent(),this.renderReplacedElement(B,$,xn),[3,12];case 11:return mn.sent(),this.context.logger.error("Error loading svg "+B.svg.substring(0,255)),[3,12];case 12:return B instanceof km&&B.tree?(Le=new v(this.context,{scale:this.options.scale,backgroundColor:B.backgroundColor,x:0,y:0,width:B.width,height:B.height}),[4,Le.render(B.tree)]):[3,14];case 13:Ve=mn.sent(),B.width&&B.height&&this.ctx.drawImage(Ve,0,0,B.width,B.height,B.bounds.left,B.bounds.top,B.bounds.width,B.bounds.height),mn.label=14;case 14:if(B instanceof yf&&(Ye=Math.min(B.bounds.width,B.bounds.height),B.type===mh?B.checked&&(this.ctx.save(),this.path([new on(B.bounds.left+Ye*.39363,B.bounds.top+Ye*.79),new on(B.bounds.left+Ye*.16,B.bounds.top+Ye*.5549),new on(B.bounds.left+Ye*.27347,B.bounds.top+Ye*.44071),new on(B.bounds.left+Ye*.39694,B.bounds.top+Ye*.5649),new on(B.bounds.left+Ye*.72983,B.bounds.top+Ye*.23),new on(B.bounds.left+Ye*.84,B.bounds.top+Ye*.34085),new on(B.bounds.left+Ye*.39363,B.bounds.top+Ye*.79)]),this.ctx.fillStyle=Qs(Pm),this.ctx.fill(),this.ctx.restore()):B.type===ph&&B.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(B.bounds.left+Ye/2,B.bounds.top+Ye/2,Ye/4,0,Math.PI*2,!0),this.ctx.fillStyle=Qs(Pm),this.ctx.fill(),this.ctx.restore())),Ff(B)&&B.value.length){switch(gt=this.createFontStyle(ne),ys=gt[0],fn=gt[1],Xt=this.fontMetrics.getMetrics(ys,fn).baseline,this.ctx.font=ys,this.ctx.fillStyle=Qs(ne.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=qv(B.styles.textAlign),es=Ol(B),tn=0,B.styles.textAlign){case 1:tn+=es.width/2;break;case 2:tn+=es.width;break}Fn=es.add(tn,0,0,-es.height/2+1),this.ctx.save(),this.path([new on(es.left,es.top),new on(es.left+es.width,es.top),new on(es.left+es.width,es.top+es.height),new on(es.left,es.top+es.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Cc(B.value,Fn),ne.letterSpacing,Xt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!He(B.styles.display,2048))return[3,20];if(B.styles.listStyleImage===null)return[3,19];if(yn=B.styles.listStyleImage,yn.type!==0)return[3,18];xn=void 0,Cs=yn.url,mn.label=15;case 15:return mn.trys.push([15,17,,18]),[4,this.context.cache.match(Cs)];case 16:return xn=mn.sent(),this.ctx.drawImage(xn,B.bounds.left-(xn.width+10),B.bounds.top),[3,18];case 17:return mn.sent(),this.context.logger.error("Error loading list-style-image "+Cs),[3,18];case 18:return[3,20];case 19:C.listValue&&B.styles.listStyleType!==-1&&(ys=this.createFontStyle(ne)[0],this.ctx.font=ys,this.ctx.fillStyle=Qs(ne.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",es=new u(B.bounds.left,B.bounds.top+Bs(B.styles.paddingTop,B.bounds.width),B.bounds.width,_l(ne.lineHeight,ne.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Cc(C.listValue,es),ne.letterSpacing,_l(ne.lineHeight,ne.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),mn.label=20;case 20:return[2]}})})},v.prototype.renderStackContent=function(C){return o(this,void 0,void 0,function(){var B,$,yn,ne,de,yn,Be,Ce,yn,Le,Ve,yn,Ye,gt,yn,fn,Xt,yn,tn,Fn,yn;return c(this,function(xn){switch(xn.label){case 0:if(He(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:xn.sent(),B=0,$=C.negativeZIndex,xn.label=2;case 2:return B<$.length?(yn=$[B],[4,this.renderStack(yn)]):[3,5];case 3:xn.sent(),xn.label=4;case 4:return B++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:xn.sent(),ne=0,de=C.nonInlineLevel,xn.label=7;case 7:return ne<de.length?(yn=de[ne],[4,this.renderNode(yn)]):[3,10];case 8:xn.sent(),xn.label=9;case 9:return ne++,[3,7];case 10:Be=0,Ce=C.nonPositionedFloats,xn.label=11;case 11:return Be<Ce.length?(yn=Ce[Be],[4,this.renderStack(yn)]):[3,14];case 12:xn.sent(),xn.label=13;case 13:return Be++,[3,11];case 14:Le=0,Ve=C.nonPositionedInlineLevel,xn.label=15;case 15:return Le<Ve.length?(yn=Ve[Le],[4,this.renderStack(yn)]):[3,18];case 16:xn.sent(),xn.label=17;case 17:return Le++,[3,15];case 18:Ye=0,gt=C.inlineLevel,xn.label=19;case 19:return Ye<gt.length?(yn=gt[Ye],[4,this.renderNode(yn)]):[3,22];case 20:xn.sent(),xn.label=21;case 21:return Ye++,[3,19];case 22:fn=0,Xt=C.zeroOrAutoZIndexOrTransformedOrOpacity,xn.label=23;case 23:return fn<Xt.length?(yn=Xt[fn],[4,this.renderStack(yn)]):[3,26];case 24:xn.sent(),xn.label=25;case 25:return fn++,[3,23];case 26:tn=0,Fn=C.positiveZIndex,xn.label=27;case 27:return tn<Fn.length?(yn=Fn[tn],[4,this.renderStack(yn)]):[3,30];case 28:xn.sent(),xn.label=29;case 29:return tn++,[3,27];case 30:return[2]}})})},v.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},v.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},v.prototype.formatPath=function(C){var B=this;C.forEach(function($,ne){var de=Yo($)?$.start:$;ne===0?B.ctx.moveTo(de.x,de.y):B.ctx.lineTo(de.x,de.y),Yo($)&&B.ctx.bezierCurveTo($.startControl.x,$.startControl.y,$.endControl.x,$.endControl.y,$.end.x,$.end.y)})},v.prototype.renderRepeat=function(C,B,$,ne){this.path(C),this.ctx.fillStyle=B,this.ctx.translate($,ne),this.ctx.fill(),this.ctx.translate(-$,-ne)},v.prototype.resizeImage=function(C,B,$){var ne;if(C.width===B&&C.height===$)return C;var de=(ne=this.canvas.ownerDocument)!==null&&ne!==void 0?ne:document,Be=de.createElement("canvas");Be.width=Math.max(1,B),Be.height=Math.max(1,$);var Ce=Be.getContext("2d");return Ce.drawImage(C,0,0,C.width,C.height,0,0,B,$),Be},v.prototype.renderBackgroundImage=function(C){return o(this,void 0,void 0,function(){var B,$,ne,de,Be,Ce;return c(this,function(Le){switch(Le.label){case 0:B=C.styles.backgroundImage.length-1,$=function(Ve){var Ye,gt,fn,Ja,so,co,Cr,no,Ms,Xt,Ja,so,co,Cr,no,tn,Fn,yn,xn,Cs,ys,es,mn,Us,Ms,Qn,Ja,Pr,Jo,Cr,no,jo,so,co,Pl,rA,qA,Dc,Rc,kl,ZA,ec;return c(this,function(Ad){switch(Ad.label){case 0:if(Ve.type!==0)return[3,5];Ye=void 0,gt=Ve.url,Ad.label=1;case 1:return Ad.trys.push([1,3,,4]),[4,ne.context.cache.match(gt)];case 2:return Ye=Ad.sent(),[3,4];case 3:return Ad.sent(),ne.context.logger.error("Error loading background-image "+gt),[3,4];case 4:return Ye&&(fn=Th(C,B,[Ye.width,Ye.height,Ye.width/Ye.height]),Ja=fn[0],so=fn[1],co=fn[2],Cr=fn[3],no=fn[4],Ms=ne.ctx.createPattern(ne.resizeImage(Ye,Cr,no),"repeat"),ne.renderRepeat(Ja,Ms,so,co)),[3,6];case 5:Ou(Ve)?(Xt=Th(C,B,[null,null,null]),Ja=Xt[0],so=Xt[1],co=Xt[2],Cr=Xt[3],no=Xt[4],tn=Fr(Ve.angle,Cr,no),Fn=tn[0],yn=tn[1],xn=tn[2],Cs=tn[3],ys=tn[4],es=document.createElement("canvas"),es.width=Cr,es.height=no,mn=es.getContext("2d"),Us=mn.createLinearGradient(yn,Cs,xn,ys),Xs(Ve.stops,Fn).forEach(function(Uh){return Us.addColorStop(Uh.stop,Qs(Uh.color))}),mn.fillStyle=Us,mn.fillRect(0,0,Cr,no),Cr>0&&no>0&&(Ms=ne.ctx.createPattern(es,"repeat"),ne.renderRepeat(Ja,Ms,so,co))):nu(Ve)&&(Qn=Th(C,B,[null,null,null]),Ja=Qn[0],Pr=Qn[1],Jo=Qn[2],Cr=Qn[3],no=Qn[4],jo=Ve.position.length===0?[OA]:Ve.position,so=Bs(jo[0],Cr),co=Bs(jo[jo.length-1],no),Pl=pl(Ve,so,co,Cr,no),rA=Pl[0],qA=Pl[1],rA>0&&qA>0&&(Dc=ne.ctx.createRadialGradient(Pr+so,Jo+co,0,Pr+so,Jo+co,rA),Xs(Ve.stops,rA*2).forEach(function(Uh){return Dc.addColorStop(Uh.stop,Qs(Uh.color))}),ne.path(Ja),ne.ctx.fillStyle=Dc,rA!==qA?(Rc=C.bounds.left+.5*C.bounds.width,kl=C.bounds.top+.5*C.bounds.height,ZA=qA/rA,ec=1/ZA,ne.ctx.save(),ne.ctx.translate(Rc,kl),ne.ctx.transform(1,0,0,ZA,0,0),ne.ctx.translate(-Rc,-kl),ne.ctx.fillRect(Pr,ec*(Jo-kl)+kl,Cr,no*ec),ne.ctx.restore()):ne.ctx.fill())),Ad.label=6;case 6:return B--,[2]}})},ne=this,de=0,Be=C.styles.backgroundImage.slice(0).reverse(),Le.label=1;case 1:return de<Be.length?(Ce=Be[de],[5,$(Ce)]):[3,4];case 2:Le.sent(),Le.label=3;case 3:return de++,[3,1];case 4:return[2]}})})},v.prototype.renderSolidBorder=function(C,B,$){return o(this,void 0,void 0,function(){return c(this,function(ne){return this.path(f0($,B)),this.ctx.fillStyle=Qs(C),this.ctx.fill(),[2]})})},v.prototype.renderDoubleBorder=function(C,B,$,ne){return o(this,void 0,void 0,function(){var de,Be;return c(this,function(Ce){switch(Ce.label){case 0:return B<3?[4,this.renderSolidBorder(C,$,ne)]:[3,2];case 1:return Ce.sent(),[2];case 2:return de=_f(ne,$),this.path(de),this.ctx.fillStyle=Qs(C),this.ctx.fill(),Be=Wo(ne,$),this.path(Be),this.ctx.fill(),[2]}})})},v.prototype.renderNodeBackgroundAndBorders=function(C){return o(this,void 0,void 0,function(){var B,$,ne,de,Be,Ce,Le,Ve,Ye=this;return c(this,function(gt){switch(gt.label){case 0:return this.applyEffects(C.getEffects(2)),B=C.container.styles,$=!gi(B.backgroundColor)||B.backgroundImage.length,ne=[{style:B.borderTopStyle,color:B.borderTopColor,width:B.borderTopWidth},{style:B.borderRightStyle,color:B.borderRightColor,width:B.borderRightWidth},{style:B.borderBottomStyle,color:B.borderBottomColor,width:B.borderBottomWidth},{style:B.borderLeftStyle,color:B.borderLeftColor,width:B.borderLeftWidth}],de=x0(sA(B.backgroundClip,0),C.curves),$||B.boxShadow.length?(this.ctx.save(),this.path(de),this.ctx.clip(),gi(B.backgroundColor)||(this.ctx.fillStyle=Qs(B.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:gt.sent(),this.ctx.restore(),B.boxShadow.slice(0).reverse().forEach(function(fn){Ye.ctx.save();var Xt=mu(C.curves),tn=fn.inset?0:Fh,Fn=ma(Xt,-tn+(fn.inset?1:-1)*fn.spread.number,(fn.inset?1:-1)*fn.spread.number,fn.spread.number*(fn.inset?-2:2),fn.spread.number*(fn.inset?-2:2));fn.inset?(Ye.path(Xt),Ye.ctx.clip(),Ye.mask(Fn)):(Ye.mask(Xt),Ye.ctx.clip(),Ye.path(Fn)),Ye.ctx.shadowOffsetX=fn.offsetX.number+tn,Ye.ctx.shadowOffsetY=fn.offsetY.number,Ye.ctx.shadowColor=Qs(fn.color),Ye.ctx.shadowBlur=fn.blur.number,Ye.ctx.fillStyle=fn.inset?Qs(fn.color):"rgba(0,0,0,1)",Ye.ctx.fill(),Ye.ctx.restore()}),gt.label=2;case 2:Be=0,Ce=0,Le=ne,gt.label=3;case 3:return Ce<Le.length?(Ve=Le[Ce],Ve.style!==0&&!gi(Ve.color)&&Ve.width>0?Ve.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ve.color,Ve.width,Be,C.curves,2)]:[3,11]):[3,13];case 4:return gt.sent(),[3,11];case 5:return Ve.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ve.color,Ve.width,Be,C.curves,3)];case 6:return gt.sent(),[3,11];case 7:return Ve.style!==4?[3,9]:[4,this.renderDoubleBorder(Ve.color,Ve.width,Be,C.curves)];case 8:return gt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ve.color,Be,C.curves)];case 10:gt.sent(),gt.label=11;case 11:Be++,gt.label=12;case 12:return Ce++,[3,3];case 13:return[2]}})})},v.prototype.renderDashedDottedBorder=function(C,B,$,ne,de){return o(this,void 0,void 0,function(){var Be,Ce,Le,Ve,Ye,gt,fn,Xt,tn,Fn,yn,xn,Cs,ys,es,mn,es,mn;return c(this,function(Us){return this.ctx.save(),Be=nA(ne,$),Ce=f0(ne,$),de===2&&(this.path(Ce),this.ctx.clip()),Yo(Ce[0])?(Le=Ce[0].start.x,Ve=Ce[0].start.y):(Le=Ce[0].x,Ve=Ce[0].y),Yo(Ce[1])?(Ye=Ce[1].end.x,gt=Ce[1].end.y):(Ye=Ce[1].x,gt=Ce[1].y),$===0||$===2?fn=Math.abs(Le-Ye):fn=Math.abs(Ve-gt),this.ctx.beginPath(),de===3?this.formatPath(Be):this.formatPath(Ce.slice(0,2)),Xt=B<3?B*3:B*2,tn=B<3?B*2:B,de===3&&(Xt=B,tn=B),Fn=!0,fn<=Xt*2?Fn=!1:fn<=Xt*2+tn?(yn=fn/(2*Xt+tn),Xt*=yn,tn*=yn):(xn=Math.floor((fn+tn)/(Xt+tn)),Cs=(fn-xn*Xt)/(xn-1),ys=(fn-(xn+1)*Xt)/xn,tn=ys<=0||Math.abs(tn-Cs)<Math.abs(tn-ys)?Cs:ys),Fn&&(de===3?this.ctx.setLineDash([0,Xt+tn]):this.ctx.setLineDash([Xt,tn])),de===3?(this.ctx.lineCap="round",this.ctx.lineWidth=B):this.ctx.lineWidth=B*2+1.1,this.ctx.strokeStyle=Qs(C),this.ctx.stroke(),this.ctx.setLineDash([]),de===2&&(Yo(Ce[0])&&(es=Ce[3],mn=Ce[0],this.ctx.beginPath(),this.formatPath([new on(es.end.x,es.end.y),new on(mn.start.x,mn.start.y)]),this.ctx.stroke()),Yo(Ce[1])&&(es=Ce[1],mn=Ce[2],this.ctx.beginPath(),this.formatPath([new on(es.end.x,es.end.y),new on(mn.start.x,mn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},v.prototype.render=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function($){switch($.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Qs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),B=h0(C),[4,this.renderStack(B)];case 1:return $.sent(),this.applyEffects([]),[2,this.canvas]}})})},v})(Ap),Ff=function(j){return j instanceof bf||j instanceof Wg?!0:j instanceof yf&&j.type!==ph&&j.type!==mh},x0=function(j,v){switch(j){case 0:return mu(v);case 2:return A0(v);case 1:default:return Ql(v)}},qv=function(j){switch(j){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zv=["-apple-system","system-ui"],pr=function(j){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?j.filter(function(v){return Zv.indexOf(v)===-1}):j},Or=(function(j){s(v,j);function v(C,B){var $=j.call(this,C,B)||this;return $.canvas=B.canvas?B.canvas:document.createElement("canvas"),$.ctx=$.canvas.getContext("2d"),$.options=B,$.canvas.width=Math.floor(B.width*B.scale),$.canvas.height=Math.floor(B.height*B.scale),$.canvas.style.width=B.width+"px",$.canvas.style.height=B.height+"px",$.ctx.scale($.options.scale,$.options.scale),$.ctx.translate(-B.x,-B.y),$.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+B.width+"x"+B.height+" at "+B.x+","+B.y+") with scale "+B.scale),$}return v.prototype.render=function(C){return o(this,void 0,void 0,function(){var B,$;return c(this,function(ne){switch(ne.label){case 0:return B=ed(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,Rs(B)];case 1:return $=ne.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Qs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage($,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},v})(Ap),Rs=function(j){return new Promise(function(v,C){var B=new Image;B.onload=function(){v(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},ks=(function(){function j(v){var C=v.id,B=v.enabled;this.id=C,this.enabled=B,this.start=Date.now()}return j.prototype.debug=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.prototype.getTime=function(){return Date.now()-this.start},j.prototype.info=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,h([this.id,this.getTime()+"ms"],v))},j.prototype.warn=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.prototype.error=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.instances={},j})(),Br=(function(){function j(v,C){var B;this.windowBounds=C,this.instanceName="#"+j.instanceCount++,this.logger=new ks({id:this.instanceName,enabled:v.logging}),this.cache=(B=v.cache)!==null&&B!==void 0?B:new Sh(this,v)}return j.instanceCount=1,j})(),xl=function(j,v){return v===void 0&&(v={}),Uc(j,v)};typeof window<"u"&&Ch.setContext(window);var Uc=function(j,v){return o(void 0,void 0,void 0,function(){var C,B,$,ne,de,Be,Ce,Le,Ve,Ye,gt,fn,Xt,tn,Fn,yn,xn,Cs,ys,es,Us,mn,Us,Ms,Qn,Ja,Pr,Jo,Cr,no,jo,so,co,Pl,rA,qA,Dc,Rc,kl,ZA;return c(this,function(ec){switch(ec.label){case 0:if(!j||typeof j!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=j.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(B=C.defaultView,!B)throw new Error("Document is not attached to a Window");return $={allowTaint:(Ms=v.allowTaint)!==null&&Ms!==void 0?Ms:!1,imageTimeout:(Qn=v.imageTimeout)!==null&&Qn!==void 0?Qn:15e3,proxy:v.proxy,useCORS:(Ja=v.useCORS)!==null&&Ja!==void 0?Ja:!1},ne=r({logging:(Pr=v.logging)!==null&&Pr!==void 0?Pr:!0,cache:v.cache},$),de={windowWidth:(Jo=v.windowWidth)!==null&&Jo!==void 0?Jo:B.innerWidth,windowHeight:(Cr=v.windowHeight)!==null&&Cr!==void 0?Cr:B.innerHeight,scrollX:(no=v.scrollX)!==null&&no!==void 0?no:B.pageXOffset,scrollY:(jo=v.scrollY)!==null&&jo!==void 0?jo:B.pageYOffset},Be=new u(de.scrollX,de.scrollY,de.windowWidth,de.windowHeight),Ce=new Br(ne,Be),Le=(so=v.foreignObjectRendering)!==null&&so!==void 0?so:!1,Ve={allowTaint:(co=v.allowTaint)!==null&&co!==void 0?co:!1,onclone:v.onclone,ignoreElements:v.ignoreElements,inlineImages:Le,copyStyles:Le},Ce.logger.debug("Starting document clone with size "+Be.width+"x"+Be.height+" scrolled to "+-Be.left+","+-Be.top),Ye=new qm(Ce,j,Ve),gt=Ye.clonedReferenceElement,gt?[4,Ye.toIFrame(C,Be)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return fn=ec.sent(),Xt=jf(gt)||Zg(gt)?A(gt.ownerDocument):f(Ce,gt),tn=Xt.width,Fn=Xt.height,yn=Xt.left,xn=Xt.top,Cs=ld(Ce,gt,v.backgroundColor),ys={canvas:v.canvas,backgroundColor:Cs,scale:(rA=(Pl=v.scale)!==null&&Pl!==void 0?Pl:B.devicePixelRatio)!==null&&rA!==void 0?rA:1,x:((qA=v.x)!==null&&qA!==void 0?qA:0)+yn,y:((Dc=v.y)!==null&&Dc!==void 0?Dc:0)+xn,width:(Rc=v.width)!==null&&Rc!==void 0?Rc:Math.ceil(tn),height:(kl=v.height)!==null&&kl!==void 0?kl:Math.ceil(Fn)},Le?(Ce.logger.debug("Document cloned, using foreign object rendering"),Us=new Or(Ce,ys),[4,Us.render(gt)]):[3,3];case 2:return es=ec.sent(),[3,5];case 3:return Ce.logger.debug("Document cloned, element located at "+yn+","+xn+" with size "+tn+"x"+Fn+" using computed rendering"),Ce.logger.debug("Starting DOM parsing"),mn=Hm(Ce,gt),Cs===mn.styles.backgroundColor&&(mn.styles.backgroundColor=wa.TRANSPARENT),Ce.logger.debug("Starting renderer for element at "+ys.x+","+ys.y+" with size "+ys.width+"x"+ys.height),Us=new g0(Ce,ys),[4,Us.render(mn)];case 4:es=ec.sent(),ec.label=5;case 5:return(!((ZA=v.removeContainer)!==null&&ZA!==void 0)||ZA)&&(qm.destroy(fn)||Ce.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ce.logger.debug("Finished rendering"),[2,es]}})})},ld=function(j,v,C){var B=v.ownerDocument,$=B.documentElement?fl(j,getComputedStyle(B.documentElement).backgroundColor):wa.TRANSPARENT,ne=B.body?fl(j,getComputedStyle(B.body).backgroundColor):wa.TRANSPARENT,de=typeof C=="string"?fl(j,C):C===null?wa.TRANSPARENT:4294967295;return v===B.documentElement?gi($)?gi(ne)?de:ne:$:de};return xl}))})(jx)),jx.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var gS;function SV(){return gS||(gS=1,(function(n,e){(function(s,r){n.exports=r(jV,CV())})(self,function(t,s){return(function(){var r={"./node_modules/core-js/internals/a-callable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),x=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(x(b)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-constructor.js"),x=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(x(b)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-possible-prototype.js"),x=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g("Can't set "+x(b)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js").has;u.exports=function(x){return m(x),x}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/object-define-property.js").f,b=m("unscopables"),I=Array.prototype;I[b]===void 0&&g(I,b,{configurable:!0,value:x(null)}),u.exports=function(N){I[b][N]=!0}}),"./node_modules/core-js/internals/an-instance.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-is-prototype-of.js"),x=TypeError;u.exports=function(g,b){if(m(b,g))return g;throw new x("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),x=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(x(b)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=m(function(){if(typeof ArrayBuffer=="function"){var x=new ArrayBuffer(8);Object.isExtensible(x)&&Object.defineProperty(x,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-iteration.js").forEach,x=A("./node_modules/core-js/internals/array-method-is-strict.js"),g=x("forEach");u.exports=g?[].forEach:function(I){return m(this,I,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),I=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/is-constructor.js"),S=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/get-iterator.js"),Q=A("./node_modules/core-js/internals/get-iterator-method.js"),P=Array;u.exports=function(L){var U=g(L),R=N(this),K=arguments.length,O=K>1?arguments[1]:void 0,V=O!==void 0;V&&(O=m(O,K>2?arguments[2]:void 0));var G=Q(U),oe=0,ge,le,X,W,re,me;if(G&&!(this===P&&I(G)))for(le=R?new this:[],W=F(U,G),re=W.next;!(X=x(re,W)).done;oe++)me=V?b(W,O,[X.value,oe],!0):X.value,E(le,oe,me);else for(ge=S(U),le=R?new this(ge):P(ge);ge>oe;oe++)me=V?O(U[oe],oe):U[oe],E(le,oe,me);return le.length=oe,le}}),"./node_modules/core-js/internals/array-includes.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),x=A("./node_modules/core-js/internals/to-absolute-index.js"),g=A("./node_modules/core-js/internals/length-of-array-like.js"),b=function(I){return function(N,S,E){var F=m(N),Q=g(F);if(Q===0)return!I&&-1;var P=x(E,Q),H;if(I&&S!==S){for(;Q>P;)if(H=F[P++],H!==H)return!0}else for(;Q>P;P++)if((I||P in F)&&F[P]===S)return I||P||0;return!I&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-object.js"),I=A("./node_modules/core-js/internals/length-of-array-like.js"),N=A("./node_modules/core-js/internals/array-species-create.js"),S=x([].push),E=function(F){var Q=F===1,P=F===2,H=F===3,L=F===4,U=F===6,R=F===7,K=F===5||U;return function(O,V,G,oe){for(var ge=b(O),le=g(ge),X=I(le),W=m(V,G),re=0,me=oe||N,ee=Q?me(O,X):P||R?me(O,0):void 0,M,J;X>re;re++)if((K||re in le)&&(M=le[re],J=W(M,re,ge),F))if(Q)ee[re]=J;else if(J)switch(F){case 3:return!0;case 5:return M;case 6:return re;case 2:S(ee,M)}else switch(F){case 4:return!1;case 7:S(ee,M)}return U?-1:H||L?L:ee}};u.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/well-known-symbol.js"),g=A("./node_modules/core-js/internals/environment-v8-version.js"),b=x("species");u.exports=function(I){return g>=51||!m(function(){var N=[],S=N.constructor={};return S[b]=function(){return{foo:1}},N[I](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(x,g){var b=[][x];return!!b&&m(function(){b.call(null,g||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-array.js"),x=A("./node_modules/core-js/internals/is-constructor.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("species"),N=Array;u.exports=function(S){var E;return m(S)&&(E=S.constructor,x(E)&&(E===N||m(E.prototype))?E=void 0:g(E)&&(E=E[I],E===null&&(E=void 0))),E===void 0?N:E}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(x,g){return new(m(x))(g===0?0:g)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(g,b,I,N){try{return N?b(m(I)[0],I[1]):b(I)}catch(S){x(g,"throw",S)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=m("iterator"),g=!1;try{var b=0,I={next:function(){return{done:!!b++}},return:function(){g=!0}};I[x]=function(){return this},Array.from(I,function(){throw 2})}catch{}u.exports=function(N,S){try{if(!S&&!g)return!1}catch{return!1}var E=!1;try{var F={};F[x]=function(){return{next:function(){return{done:E=!0}}}},N(F)}catch{}return E}}),"./node_modules/core-js/internals/classof-raw.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=m({}.toString),g=m("".slice);u.exports=function(b){return g(x(b),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("toStringTag"),N=Object,S=g((function(){return arguments})())==="Arguments",E=function(F,Q){try{return F[Q]}catch{}};u.exports=m?g:function(F){var Q,P,H;return F===void 0?"Undefined":F===null?"Null":typeof(P=E(Q=N(F),I))=="string"?P:S?g(Q):(H=g(Q))==="Object"&&x(Q.callee)?"Arguments":H}}),"./node_modules/core-js/internals/collection-strong.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-create.js"),x=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/define-built-ins.js"),b=A("./node_modules/core-js/internals/function-bind-context.js"),I=A("./node_modules/core-js/internals/an-instance.js"),N=A("./node_modules/core-js/internals/is-null-or-undefined.js"),S=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/iterator-define.js"),F=A("./node_modules/core-js/internals/create-iter-result-object.js"),Q=A("./node_modules/core-js/internals/set-species.js"),P=A("./node_modules/core-js/internals/descriptors.js"),H=A("./node_modules/core-js/internals/internal-metadata.js").fastKey,L=A("./node_modules/core-js/internals/internal-state.js"),U=L.set,R=L.getterFor;u.exports={getConstructor:function(K,O,V,G){var oe=K(function(re,me){I(re,ge),U(re,{type:O,index:m(null),first:null,last:null,size:0}),P||(re.size=0),N(me)||S(me,re[G],{that:re,AS_ENTRIES:V})}),ge=oe.prototype,le=R(O),X=function(re,me,ee){var M=le(re),J=W(re,me),ae,ie;return J?J.value=ee:(M.last=J={index:ie=H(me,!0),key:me,value:ee,previous:ae=M.last,next:null,removed:!1},M.first||(M.first=J),ae&&(ae.next=J),P?M.size++:re.size++,ie!=="F"&&(M.index[ie]=J)),re},W=function(re,me){var ee=le(re),M=H(me),J;if(M!=="F")return ee.index[M];for(J=ee.first;J;J=J.next)if(J.key===me)return J};return g(ge,{clear:function(){for(var me=this,ee=le(me),M=ee.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=null),M=M.next;ee.first=ee.last=null,ee.index=m(null),P?ee.size=0:me.size=0},delete:function(re){var me=this,ee=le(me),M=W(me,re);if(M){var J=M.next,ae=M.previous;delete ee.index[M.index],M.removed=!0,ae&&(ae.next=J),J&&(J.previous=ae),ee.first===M&&(ee.first=J),ee.last===M&&(ee.last=ae),P?ee.size--:me.size--}return!!M},forEach:function(me){for(var ee=le(this),M=b(me,arguments.length>1?arguments[1]:void 0),J;J=J?J.next:ee.first;)for(M(J.value,J.key,this);J&&J.removed;)J=J.previous},has:function(me){return!!W(this,me)}}),g(ge,V?{get:function(me){var ee=W(this,me);return ee&&ee.value},set:function(me,ee){return X(this,me===0?0:me,ee)}}:{add:function(me){return X(this,me=me===0?0:me,me)}}),P&&x(ge,"size",{configurable:!0,get:function(){return le(this).size}}),oe},setStrong:function(K,O,V){var G=O+" Iterator",oe=R(O),ge=R(G);E(K,O,function(le,X){U(this,{type:G,target:le,state:oe(le),kind:X,last:null})},function(){for(var le=ge(this),X=le.kind,W=le.last;W&&W.removed;)W=W.previous;return!le.target||!(le.last=W=W?W.next:le.state.first)?(le.target=null,F(void 0,!0)):F(X==="keys"?W.key:X==="values"?W.value:[W.key,W.value],!1)},V?"entries":"values",!V,!0),Q(O)}}}),"./node_modules/core-js/internals/collection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/is-forced.js"),I=A("./node_modules/core-js/internals/define-built-in.js"),N=A("./node_modules/core-js/internals/internal-metadata.js"),S=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/an-instance.js"),F=A("./node_modules/core-js/internals/is-callable.js"),Q=A("./node_modules/core-js/internals/is-null-or-undefined.js"),P=A("./node_modules/core-js/internals/is-object.js"),H=A("./node_modules/core-js/internals/fails.js"),L=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),U=A("./node_modules/core-js/internals/set-to-string-tag.js"),R=A("./node_modules/core-js/internals/inherit-if-required.js");u.exports=function(K,O,V){var G=K.indexOf("Map")!==-1,oe=K.indexOf("Weak")!==-1,ge=G?"set":"add",le=x[K],X=le&&le.prototype,W=le,re={},me=function(ye){var Ne=g(X[ye]);I(X,ye,ye==="add"?function(Se){return Ne(this,Se===0?0:Se),this}:ye==="delete"?function(xe){return oe&&!P(xe)?!1:Ne(this,xe===0?0:xe)}:ye==="get"?function(Se){return oe&&!P(Se)?void 0:Ne(this,Se===0?0:Se)}:ye==="has"?function(Se){return oe&&!P(Se)?!1:Ne(this,Se===0?0:Se)}:function(Se,Fe){return Ne(this,Se===0?0:Se,Fe),this})},ee=b(K,!F(le)||!(oe||X.forEach&&!H(function(){new le().entries().next()})));if(ee)W=V.getConstructor(O,K,G,ge),N.enable();else if(b(K,!0)){var M=new W,J=M[ge](oe?{}:-0,1)!==M,ae=H(function(){M.has(1)}),ie=L(function(ye){new le(ye)}),ce=!oe&&H(function(){for(var ye=new le,Ne=5;Ne--;)ye[ge](Ne,Ne);return!ye.has(-0)});ie||(W=O(function(ye,Ne){E(ye,X);var xe=R(new le,ye,W);return Q(Ne)||S(Ne,xe[ge],{that:xe,AS_ENTRIES:G}),xe}),W.prototype=X,X.constructor=W),(ae||ce)&&(me("delete"),me("has"),G&&me("get")),(ce||J)&&me(ge),oe&&X.clear&&delete X.clear}return re[K]=W,m({global:!0,constructor:!0,forced:W!==le},re),U(W,K),oe||V.setStrong(W,K,G),W}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),x=A("./node_modules/core-js/internals/own-keys.js"),g=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),b=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(I,N,S){for(var E=x(N),F=b.f,Q=g.f,P=0;P<E.length;P++){var H=E[P];!m(I,H)&&!(S&&m(S,H))&&F(I,H,Q(N,H))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function x(){}return x.prototype.constructor=null,Object.getPrototypeOf(new x)!==x.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=/"/g,I=m("".replace);u.exports=function(N,S,E,F){var Q=g(x(N)),P="<"+S;return E!==""&&(P+=" "+E+'="'+I(g(F),b,"&quot;")+'"'),P+">"+Q+"</"+S+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(u){u.exports=function(f,A){return{value:f,done:A}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(b,I,N){return x.f(b,I,g(1,N))}:function(b,I,N){return b[I]=N,b}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(f,A){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:A}}}),"./node_modules/core-js/internals/create-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(b,I,N){m?x.f(b,I,g(0,N)):b[I]=N}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/make-built-in.js"),x=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(g,b,I){return I.get&&m(I.get,b,{getter:!0}),I.set&&m(I.set,b,{setter:!0}),x.f(g,b,I)}}),"./node_modules/core-js/internals/define-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),x=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/make-built-in.js"),b=A("./node_modules/core-js/internals/define-global-property.js");u.exports=function(I,N,S,E){E||(E={});var F=E.enumerable,Q=E.name!==void 0?E.name:N;if(m(S)&&g(S,Q,E),E.global)F?I[N]=S:b(N,S);else{try{E.unsafe?I[N]&&(F=!0):delete I[N]}catch{}F?I[N]=S:x.f(I,N,{value:S,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return I}}),"./node_modules/core-js/internals/define-built-ins.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(x,g,b){for(var I in g)m(x,I,g[I],b);return x}}),"./node_modules/core-js/internals/define-global-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=Object.defineProperty;u.exports=function(g,b){try{x(m,g,{value:b,configurable:!0,writable:!0})}catch{m[g]=b}return b}}),"./node_modules/core-js/internals/descriptors.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=m.document,b=x(g)&&x(g.createElement);u.exports=function(I){return b?g.createElement(I):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(u){var f=TypeError,A=9007199254740991;u.exports=function(m){if(m>A)throw f("Maximum allowed index exceeded");return m}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/document-create-element.js"),x=m("span").classList,g=x&&x.constructor&&x.constructor.prototype;u.exports=g===Object.prototype?void 0:g}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)}),"./node_modules/core-js/internals/environment-is-node.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment.js");u.exports=m==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/web0s(?!.*chrome)/i.test(m)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=m.navigator,g=x&&x.userAgent;u.exports=g?String(g):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/environment-user-agent.js"),g=m.process,b=m.Deno,I=g&&g.versions||b&&b.version,N=I&&I.v8,S,E;N&&(S=N.split("."),E=S[0]>0&&S[0]<4?1:+(S[0]+S[1])),!E&&x&&(S=x.match(/Edge\/(\d+)/),(!S||S[1]>=74)&&(S=x.match(/Chrome\/(\d+)/),S&&(E=+S[1]))),u.exports=E}),"./node_modules/core-js/internals/environment.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/environment-user-agent.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=function(I){return x.slice(0,I.length)===I};u.exports=(function(){return b("Bun/")?"BUN":b("Cloudflare-Workers")?"CLOUDFLARE":b("Deno/")?"DENO":b("Node.js/")?"NODE":m.Bun&&typeof Bun.version=="string"?"BUN":m.Deno&&typeof Deno.version=="object"?"DENO":g(m.process)==="process"?"NODE":m.window&&m.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-in.js"),I=A("./node_modules/core-js/internals/define-global-property.js"),N=A("./node_modules/core-js/internals/copy-constructor-properties.js"),S=A("./node_modules/core-js/internals/is-forced.js");u.exports=function(E,F){var Q=E.target,P=E.global,H=E.stat,L,U,R,K,O,V;if(P?U=m:H?U=m[Q]||I(Q,{}):U=m[Q]&&m[Q].prototype,U)for(R in F){if(O=F[R],E.dontCallGetSet?(V=x(U,R),K=V&&V.value):K=U[R],L=S(P?R:Q+(H?".":"#")+R,E.forced),!L&&K!==void 0){if(typeof O==typeof K)continue;N(O,K)}(E.sham||K&&K.sham)&&g(O,"sham",!0),b(U,R,O,E)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(f){try{return!!f()}catch{return!0}}}),"./node_modules/core-js/internals/freezing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype,g=x.apply,b=x.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?b.bind(g):function(){return b.apply(g,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-clause.js"),x=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/function-bind-native.js"),b=m(m.bind);u.exports=function(I,N){return x(I),N===void 0?I:g?b(I,N):function(){return I.apply(N,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){var x=(function(){}).bind();return typeof x!="function"||x.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype.call;u.exports=m?x.bind(x):function(){return x.apply(x,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=Function.prototype,b=m&&Object.getOwnPropertyDescriptor,I=x(g,"name"),N=I&&(function(){}).name==="something",S=I&&(!m||m&&b(g,"name").configurable);u.exports={EXISTS:I,PROPER:N,CONFIGURABLE:S}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/a-callable.js");u.exports=function(g,b,I){try{return m(x(Object.getOwnPropertyDescriptor(g,b)[I]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=function(g){if(m(g)==="Function")return x(g)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype,g=x.call,b=m&&x.bind.bind(g,g);u.exports=m?b:function(I){return function(){return g.apply(I,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=function(b){return x(b)?b:void 0};u.exports=function(b,I){return arguments.length<2?g(m[b]):m[b]&&m[b][I]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(u){u.exports=function(f){return{iterator:f,next:f.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),x=A("./node_modules/core-js/internals/get-method.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/iterators.js"),I=A("./node_modules/core-js/internals/well-known-symbol.js"),N=I("iterator");u.exports=function(S){if(!g(S))return x(S,N)||x(S,"@@iterator")||b[m(S)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/get-iterator-method.js"),N=TypeError;u.exports=function(S,E){var F=arguments.length<2?I(S):E;if(x(F))return g(m(F,S));throw new N(b(S)+" is not iterable")}}),"./node_modules/core-js/internals/get-json-replacer-function.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof-raw.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=m([].push);u.exports=function(S){if(g(S))return S;if(x(S)){for(var E=S.length,F=[],Q=0;Q<E;Q++){var P=S[Q];typeof P=="string"?N(F,P):(typeof P=="number"||b(P)==="Number"||b(P)==="String")&&N(F,I(P))}var H=F.length,L=!0;return function(U,R){if(L)return L=!1,R;if(x(this))return R;for(var K=0;K<H;K++)if(F[K]===U)return R}}}}),"./node_modules/core-js/internals/get-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),x=A("./node_modules/core-js/internals/is-null-or-undefined.js");u.exports=function(g,b){var I=g[b];return x(I)?void 0:m(I)}}),"./node_modules/core-js/internals/get-set-record.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),x=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),I=A("./node_modules/core-js/internals/get-iterator-direct.js"),N="Invalid size",S=RangeError,E=TypeError,F=Math.max,Q=function(P,H){this.set=P,this.size=F(H,0),this.has=m(P.has),this.keys=m(P.keys)};Q.prototype={getIterator:function(){return I(x(g(this.keys,this.set)))},includes:function(P){return g(this.has,this.set,P)}},u.exports=function(P){x(P);var H=+P.size;if(H!==H)throw new E(N);var L=b(H);if(L<0)throw new S(N);return new Q(P,L)}}),"./node_modules/core-js/internals/global-this.js":(function(u){var f=function(A){return A&&A.Math===Math&&A};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof zj=="object"&&zj)||f(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/to-object.js"),g=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(I,N){return g(x(I),N)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(u){u.exports=function(f,A){try{arguments.length===1?console.error(f):console.error(f,A)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!x(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=Object,I=m("".split);u.exports=x(function(){return!b("z").propertyIsEnumerable(0)})?function(N){return g(N)==="String"?I(N,""):b(N)}:b}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(b,I,N){var S,E;return g&&m(S=I.constructor)&&S!==N&&x(E=S.prototype)&&E!==N.prototype&&g(b,E),b}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/shared-store.js"),b=m(Function.toString);x(g.inspectSource)||(g.inspectSource=function(I){return b(I)}),u.exports=g.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/hidden-keys.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/object-define-property.js").f,S=A("./node_modules/core-js/internals/object-get-own-property-names.js"),E=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),F=A("./node_modules/core-js/internals/object-is-extensible.js"),Q=A("./node_modules/core-js/internals/uid.js"),P=A("./node_modules/core-js/internals/freezing.js"),H=!1,L=Q("meta"),U=0,R=function(ge){N(ge,L,{value:{objectID:"O"+U++,weakData:{}}})},K=function(ge,le){if(!b(ge))return typeof ge=="symbol"?ge:(typeof ge=="string"?"S":"P")+ge;if(!I(ge,L)){if(!F(ge))return"F";if(!le)return"E";R(ge)}return ge[L].objectID},O=function(ge,le){if(!I(ge,L)){if(!F(ge))return!0;if(!le)return!1;R(ge)}return ge[L].weakData},V=function(ge){return P&&H&&F(ge)&&!I(ge,L)&&R(ge),ge},G=function(){oe.enable=function(){},H=!0;var ge=S.f,le=x([].splice),X={};X[L]=1,ge(X).length&&(S.f=function(W){for(var re=ge(W),me=0,ee=re.length;me<ee;me++)if(re[me]===L){le(re,me,1);break}return re},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},oe=u.exports={enable:G,fastKey:K,getWeakData:O,onFreeze:V};g[L]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/weak-map-basic-detection.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/shared-store.js"),S=A("./node_modules/core-js/internals/shared-key.js"),E=A("./node_modules/core-js/internals/hidden-keys.js"),F="Object already initialized",Q=x.TypeError,P=x.WeakMap,H,L,U,R=function(G){return U(G)?L(G):H(G,{})},K=function(G){return function(oe){var ge;if(!g(oe)||(ge=L(oe)).type!==G)throw new Q("Incompatible receiver, "+G+" required");return ge}};if(m||N.state){var O=N.state||(N.state=new P);O.get=O.get,O.has=O.has,O.set=O.set,H=function(G,oe){if(O.has(G))throw new Q(F);return oe.facade=G,O.set(G,oe),oe},L=function(G){return O.get(G)||{}},U=function(G){return O.has(G)}}else{var V=S("state");E[V]=!0,H=function(G,oe){if(I(G,V))throw new Q(F);return oe.facade=G,b(G,V,oe),oe},L=function(G){return I(G,V)?G[V]:{}},U=function(G){return I(G,V)}}u.exports={set:H,get:L,has:U,enforce:R,getterFor:K}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=A("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),b=Array.prototype;u.exports=function(I){return I!==void 0&&(x.Array===I||b[g]===I)}}),"./node_modules/core-js/internals/is-array.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(u){var f=typeof document=="object"&&document.all;u.exports=typeof f>"u"&&f!==void 0?function(A){return typeof A=="function"||A===f}:function(A){return typeof A=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof.js"),I=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/inspect-source.js"),S=function(){},E=I("Reflect","construct"),F=/^\s*(?:class|function)\b/,Q=m(F.exec),P=!F.test(S),H=function(R){if(!g(R))return!1;try{return E(S,[],R),!0}catch{return!1}},L=function(R){if(!g(R))return!1;switch(b(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return P||!!Q(F,N(R))}catch{return!0}};L.sham=!0,u.exports=!E||x(function(){var U;return H(H.call)||!H(Object)||!H(function(){U=!0})||U})?L:H}),"./node_modules/core-js/internals/is-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=/#|\.prototype\./,b=function(F,Q){var P=N[I(F)];return P===E?!0:P===S?!1:x(Q)?m(Q):!!Q},I=b.normalize=function(F){return String(F).replace(g,".").toLowerCase()},N=b.data={},S=b.NATIVE="N",E=b.POLYFILL="P";u.exports=b}),"./node_modules/core-js/internals/is-iterable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=A("./node_modules/core-js/internals/iterators.js"),N=b("iterator"),S=Object;u.exports=function(E){if(g(E))return!1;var F=S(E);return F[N]!==void 0||"@@iterator"in F||x(I,m(F))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(u){u.exports=function(f){return f==null}}),"./node_modules/core-js/internals/is-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js");u.exports=function(x){return typeof x=="object"?x!==null:m(x)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(x){return m(x)||x===null}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),I=Object;u.exports=b?function(N){return typeof N=="symbol"}:function(N){var S=m("Symbol");return x(S)&&g(S.prototype,I(N))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js");u.exports=function(x,g,b){for(var I=b?x:x.iterator,N=x.next,S,E;!(S=m(N,I)).done;)if(E=g(S.value),E!==void 0)return E}}),"./node_modules/core-js/internals/iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/object-is-prototype-of.js"),E=A("./node_modules/core-js/internals/get-iterator.js"),F=A("./node_modules/core-js/internals/get-iterator-method.js"),Q=A("./node_modules/core-js/internals/iterator-close.js"),P=TypeError,H=function(U,R){this.stopped=U,this.result=R},L=H.prototype;u.exports=function(U,R,K){var O=K&&K.that,V=!!(K&&K.AS_ENTRIES),G=!!(K&&K.IS_RECORD),oe=!!(K&&K.IS_ITERATOR),ge=!!(K&&K.INTERRUPTED),le=m(R,O),X,W,re,me,ee,M,J,ae=function(ce){return X&&Q(X,"normal"),new H(!0,ce)},ie=function(ce){return V?(g(ce),ge?le(ce[0],ce[1],ae):le(ce[0],ce[1])):ge?le(ce,ae):le(ce)};if(G)X=U.iterator;else if(oe)X=U;else{if(W=F(U),!W)throw new P(b(U)+" is not iterable");if(I(W)){for(re=0,me=N(U);me>re;re++)if(ee=ie(U[re]),ee&&S(L,ee))return ee;return new H(!1)}X=E(U,W)}for(M=G?U.next:X.next;!(J=x(M,X)).done;){try{ee=ie(J.value)}catch(ce){Q(X,"throw",ce)}if(typeof ee=="object"&&ee&&S(L,ee))return ee}return new H(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(x,g,b){for(var I=x.length-1;I>=0;I--)if(x[I]!==void 0)try{b=m(x[I].iterator,g,b)}catch(N){g="throw",b=N}if(g==="throw")throw b;return b}}),"./node_modules/core-js/internals/iterator-close.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/get-method.js");u.exports=function(b,I,N){var S,E;x(b);try{if(S=g(b,"return"),!S){if(I==="throw")throw N;return N}S=m(S,b)}catch(F){E=!0,S=F}if(I==="throw")throw N;if(E)throw S;return x(S),N}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,x=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js"),b=A("./node_modules/core-js/internals/set-to-string-tag.js"),I=A("./node_modules/core-js/internals/iterators.js"),N=function(){return this};u.exports=function(S,E,F,Q){var P=E+" Iterator";return S.prototype=x(m,{next:g(+!Q,F)}),b(S,P,!1,!0),I[P]=N,S}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-ins.js"),I=A("./node_modules/core-js/internals/well-known-symbol.js"),N=A("./node_modules/core-js/internals/internal-state.js"),S=A("./node_modules/core-js/internals/get-method.js"),E=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,F=A("./node_modules/core-js/internals/create-iter-result-object.js"),Q=A("./node_modules/core-js/internals/iterator-close.js"),P=A("./node_modules/core-js/internals/iterator-close-all.js"),H=I("toStringTag"),L="IteratorHelper",U="WrapForValidIterator",R="normal",K="throw",O=N.set,V=function(ge){var le=N.getterFor(ge?U:L);return b(x(E),{next:function(){var W=le(this);if(ge)return W.nextHandler();if(W.done)return F(void 0,!0);try{var re=W.nextHandler();return W.returnHandlerResult?re:F(re,W.done)}catch(me){throw W.done=!0,me}},return:function(){var X=le(this),W=X.iterator;if(X.done=!0,ge){var re=S(W,"return");return re?m(re,W):F(void 0,!0)}if(X.inner)try{Q(X.inner.iterator,R)}catch(me){return Q(W,K,me)}if(X.openIters)try{P(X.openIters,R)}catch(me){return Q(W,K,me)}return W&&Q(W,R),F(void 0,!0)}})},G=V(!0),oe=V(!1);g(oe,H,"Iterator Helper"),u.exports=function(ge,le,X){var W=function(me,ee){ee?(ee.iterator=me.iterator,ee.next=me.next):ee=me,ee.type=le?U:L,ee.returnHandlerResult=!!X,ee.nextHandler=ge,ee.counter=0,ee.done=!1,O(this,ee)};return W.prototype=le?G:oe,W}}),"./node_modules/core-js/internals/iterator-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/function-name.js"),I=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/iterator-create-constructor.js"),S=A("./node_modules/core-js/internals/object-get-prototype-of.js"),E=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),Q=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),P=A("./node_modules/core-js/internals/define-built-in.js"),H=A("./node_modules/core-js/internals/well-known-symbol.js"),L=A("./node_modules/core-js/internals/iterators.js"),U=A("./node_modules/core-js/internals/iterators-core.js"),R=b.PROPER,K=b.CONFIGURABLE,O=U.IteratorPrototype,V=U.BUGGY_SAFARI_ITERATORS,G=H("iterator"),oe="keys",ge="values",le="entries",X=function(){return this};u.exports=function(W,re,me,ee,M,J,ae){N(me,re,ee);var ie=function(he){if(he===M&&Se)return Se;if(!V&&he&&he in Ne)return Ne[he];switch(he){case oe:return function(){return new me(this,he)};case ge:return function(){return new me(this,he)};case le:return function(){return new me(this,he)}}return function(){return new me(this)}},ce=re+" Iterator",ye=!1,Ne=W.prototype,xe=Ne[G]||Ne["@@iterator"]||M&&Ne[M],Se=!V&&xe||ie(M),Fe=re==="Array"&&Ne.entries||xe,Qe,Je,Pe;if(Fe&&(Qe=S(Fe.call(new W)),Qe!==Object.prototype&&Qe.next&&(!g&&S(Qe)!==O&&(E?E(Qe,O):I(Qe[G])||P(Qe,G,X)),F(Qe,ce,!0,!0),g&&(L[ce]=X))),R&&M===ge&&xe&&xe.name!==ge&&(!g&&K?Q(Ne,"name",ge):(ye=!0,Se=function(){return x(xe,this)})),M)if(Je={values:ie(ge),keys:J?Se:ie(oe),entries:ie(le)},ae)for(Pe in Je)(V||ye||!(Pe in Ne))&&P(Ne,Pe,Je[Pe]);else m({target:re,proto:!0,forced:V||ye},Je);return(!g||ae)&&Ne[G]!==Se&&P(Ne,G,Se,{name:M}),L[re]=Se,Je}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(u){u.exports=function(f,A){var m=typeof Iterator=="function"&&Iterator.prototype[f];if(m)try{m.call({next:null},A).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=function(x,g){var b=m.Iterator,I=b&&b.prototype,N=I&&I[x],S=!1;if(N)try{N.call({next:function(){return{done:!0}},return:function(){S=!0}},-1)}catch(E){E instanceof g||(S=!1)}if(!S)return N}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/object-create.js"),I=A("./node_modules/core-js/internals/object-get-prototype-of.js"),N=A("./node_modules/core-js/internals/define-built-in.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),E=A("./node_modules/core-js/internals/is-pure.js"),F=S("iterator"),Q=!1,P,H,L;[].keys&&(L=[].keys(),"next"in L?(H=I(I(L)),H!==Object.prototype&&(P=H)):Q=!0);var U=!g(P)||m(function(){var R={};return P[F].call(R)!==R});U?P={}:E&&(P=b(P)),x(P[F])||N(P,F,function(){return this}),u.exports={IteratorPrototype:P,BUGGY_SAFARI_ITERATORS:Q}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-length.js");u.exports=function(x){return m(x.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/has-own-property.js"),I=A("./node_modules/core-js/internals/descriptors.js"),N=A("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,S=A("./node_modules/core-js/internals/inspect-source.js"),E=A("./node_modules/core-js/internals/internal-state.js"),F=E.enforce,Q=E.get,P=String,H=Object.defineProperty,L=m("".slice),U=m("".replace),R=m([].join),K=I&&!x(function(){return H(function(){},"length",{value:8}).length!==8}),O=String(String).split("String"),V=u.exports=function(G,oe,ge){L(P(oe),0,7)==="Symbol("&&(oe="["+U(P(oe),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ge&&ge.getter&&(oe="get "+oe),ge&&ge.setter&&(oe="set "+oe),(!b(G,"name")||N&&G.name!==oe)&&(I?H(G,"name",{value:oe,configurable:!0}):G.name=oe),K&&ge&&b(ge,"arity")&&G.length!==ge.arity&&H(G,"length",{value:ge.arity});try{ge&&b(ge,"constructor")&&ge.constructor?I&&H(G,"prototype",{writable:!1}):G.prototype&&(G.prototype=void 0)}catch{}var le=F(G);return b(le,"source")||(le.source=R(O,typeof oe=="string"?oe:"")),G};Function.prototype.toString=V(function(){return g(this)&&Q(this).source||S(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(u){var f=Math.ceil,A=Math.floor;u.exports=Math.trunc||function(x){var g=+x;return(g>0?A:f)(g)}}),"./node_modules/core-js/internals/microtask.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/safe-get-built-in.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/task.js").set,I=A("./node_modules/core-js/internals/queue.js"),N=A("./node_modules/core-js/internals/environment-is-ios.js"),S=A("./node_modules/core-js/internals/environment-is-ios-pebble.js"),E=A("./node_modules/core-js/internals/environment-is-webos-webkit.js"),F=A("./node_modules/core-js/internals/environment-is-node.js"),Q=m.MutationObserver||m.WebKitMutationObserver,P=m.document,H=m.process,L=m.Promise,U=x("queueMicrotask"),R,K,O,V,G;if(!U){var oe=new I,ge=function(){var le,X;for(F&&(le=H.domain)&&le.exit();X=oe.get();)try{X()}catch(W){throw oe.head&&R(),W}le&&le.enter()};!N&&!F&&!E&&Q&&P?(K=!0,O=P.createTextNode(""),new Q(ge).observe(O,{characterData:!0}),R=function(){O.data=K=!K}):!S&&L&&L.resolve?(V=L.resolve(void 0),V.constructor=L,G=g(V.then,V),R=function(){G(ge)}):F?R=function(){H.nextTick(ge)}:(b=g(b,m),R=function(){b(ge)}),U=function(le){oe.head||R(),oe.add(le)}}u.exports=U}),"./node_modules/core-js/internals/new-promise-capability.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),x=TypeError,g=function(b){var I,N;this.promise=new b(function(S,E){if(I!==void 0||N!==void 0)throw new x("Bad Promise constructor");I=S,N=E}),this.resolve=m(I),this.reject=m(N)};u.exports.f=function(b){return new g(b)}}),"./node_modules/core-js/internals/object-assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/fails.js"),I=A("./node_modules/core-js/internals/object-keys.js"),N=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=A("./node_modules/core-js/internals/to-object.js"),F=A("./node_modules/core-js/internals/indexed-object.js"),Q=Object.assign,P=Object.defineProperty,H=x([].concat);u.exports=!Q||b(function(){if(m&&Q({b:1},Q(P({},"a",{enumerable:!0,get:function(){P(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},U={},R=Symbol("assign detection"),K="abcdefghijklmnopqrst";return L[R]=7,K.split("").forEach(function(O){U[O]=O}),Q({},L)[R]!==7||I(Q({},U)).join("")!==K})?function(U,R){for(var K=E(U),O=arguments.length,V=1,G=N.f,oe=S.f;O>V;)for(var ge=F(arguments[V++]),le=G?H(I(ge),G(ge)):I(ge),X=le.length,W=0,re;X>W;)re=le[W++],(!m||g(oe,ge,re))&&(K[re]=ge[re]);return K}:Q}),"./node_modules/core-js/internals/object-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/object-define-properties.js"),g=A("./node_modules/core-js/internals/enum-bug-keys.js"),b=A("./node_modules/core-js/internals/hidden-keys.js"),I=A("./node_modules/core-js/internals/html.js"),N=A("./node_modules/core-js/internals/document-create-element.js"),S=A("./node_modules/core-js/internals/shared-key.js"),E=">",F="<",Q="prototype",P="script",H=S("IE_PROTO"),L=function(){},U=function(G){return F+P+E+G+F+"/"+P+E},R=function(G){G.write(U("")),G.close();var oe=G.parentWindow.Object;return G=null,oe},K=function(){var G=N("iframe"),oe="java"+P+":",ge;return G.style.display="none",I.appendChild(G),G.src=String(oe),ge=G.contentWindow.document,ge.open(),ge.write(U("document.F=Object")),ge.close(),ge.F},O,V=function(){try{O=new ActiveXObject("htmlfile")}catch{}V=typeof document<"u"?document.domain&&O?R(O):K():R(O);for(var G=g.length;G--;)delete V[Q][g[G]];return V()};b[H]=!0,u.exports=Object.create||function(oe,ge){var le;return oe!==null?(L[Q]=m(oe),le=new L,L[Q]=null,le[H]=oe):le=V(),ge===void 0?le:x.f(le,ge)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=A("./node_modules/core-js/internals/object-define-property.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/object-keys.js");f.f=m&&!x?Object.defineProperties:function(E,F){b(E);for(var Q=I(F),P=N(F),H=P.length,L=0,U;H>L;)g.f(E,U=P[L++],Q[U]);return E}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/ie8-dom-define.js"),g=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-property-key.js"),N=TypeError,S=Object.defineProperty,E=Object.getOwnPropertyDescriptor,F="enumerable",Q="configurable",P="writable";f.f=m?g?function(L,U,R){if(b(L),U=I(U),b(R),typeof L=="function"&&U==="prototype"&&"value"in R&&P in R&&!R[P]){var K=E(L,U);K&&K[P]&&(L[U]=R.value,R={configurable:Q in R?R[Q]:K[Q],enumerable:F in R?R[F]:K[F],writable:!1})}return S(L,U,R)}:S:function(L,U,R){if(b(L),U=I(U),b(R),x)try{return S(L,U,R)}catch{}if("get"in R||"set"in R)throw new N("Accessors not supported");return"value"in R&&(L[U]=R.value),L}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=A("./node_modules/core-js/internals/create-property-descriptor.js"),I=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/to-property-key.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),E=A("./node_modules/core-js/internals/ie8-dom-define.js"),F=Object.getOwnPropertyDescriptor;f.f=m?F:function(P,H){if(P=I(P),H=N(H),E)try{return F(P,H)}catch{}if(S(P,H))return b(!x(g.f,P,H),P[H])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),x=A("./node_modules/core-js/internals/to-indexed-object.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,b=A("./node_modules/core-js/internals/array-slice.js"),I=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],N=function(S){try{return g(S)}catch{return b(I)}};u.exports.f=function(E){return I&&m(E)==="Window"?N(E):g(x(E))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),x=A("./node_modules/core-js/internals/enum-bug-keys.js"),g=x.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(I){return m(I,g)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,f){f.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/shared-key.js"),I=A("./node_modules/core-js/internals/correct-prototype-getter.js"),N=b("IE_PROTO"),S=Object,E=S.prototype;u.exports=I?S.getPrototypeOf:function(F){var Q=g(F);if(m(Q,N))return Q[N];var P=Q.constructor;return x(P)&&Q instanceof P?P.prototype:Q instanceof S?E:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/array-buffer-non-extensible.js"),I=Object.isExtensible,N=m(function(){});u.exports=N||b?function(E){return!x(E)||b&&g(E)==="ArrayBuffer"?!1:I?I(E):!0}:I}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/to-indexed-object.js"),b=A("./node_modules/core-js/internals/array-includes.js").indexOf,I=A("./node_modules/core-js/internals/hidden-keys.js"),N=m([].push);u.exports=function(S,E){var F=g(S),Q=0,P=[],H;for(H in F)!x(I,H)&&x(F,H)&&N(P,H);for(;E.length>Q;)x(F,H=E[Q++])&&(~b(P,H)||N(P,H));return P}}),"./node_modules/core-js/internals/object-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),x=A("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(b){return m(b,x)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,f){var A={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,x=m&&!A.call({1:2},1);f.f=x?function(b){var I=m(this,b);return!!I&&I.enumerable}:A}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/require-object-coercible.js"),b=A("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var I=!1,N={},S;try{S=m(Object.prototype,"__proto__","set"),S(N,[]),I=N instanceof Array}catch{}return function(F,Q){return g(F),b(Q),x(F)&&(I?S(F,Q):F.__proto__=Q),F}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),x=A("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+x(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=TypeError;u.exports=function(I,N){var S,E;if(N==="string"&&x(S=I.toString)&&!g(E=m(S,I))||x(S=I.valueOf)&&!g(E=m(S,I))||N!=="string"&&x(S=I.toString)&&!g(E=m(S,I)))return E;throw new b("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),I=A("./node_modules/core-js/internals/an-object.js"),N=x([].concat);u.exports=m("Reflect","ownKeys")||function(E){var F=g.f(I(E)),Q=b.f;return Q?N(F,Q(E)):F}}),"./node_modules/core-js/internals/path.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m}),"./node_modules/core-js/internals/perform.js":(function(u){u.exports=function(f){try{return{error:!1,value:f()}}catch(A){return{error:!0,value:A}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/promise-native-constructor.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/is-forced.js"),I=A("./node_modules/core-js/internals/inspect-source.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),S=A("./node_modules/core-js/internals/environment.js"),E=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/environment-v8-version.js"),Q=x&&x.prototype,P=N("species"),H=!1,L=g(m.PromiseRejectionEvent),U=b("Promise",function(){var R=I(x),K=R!==String(x);if(!K&&F===66||E&&!(Q.catch&&Q.finally))return!0;if(!F||F<51||!/native code/.test(R)){var O=new x(function(oe){oe(1)}),V=function(oe){oe(function(){},function(){})},G=O.constructor={};if(G[P]=V,H=O.then(function(){})instanceof V,!H)return!0}return!K&&(S==="BROWSER"||S==="DENO")&&!L});u.exports={CONSTRUCTOR:U,REJECTION_EVENT:L,SUBCLASSING:H}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/new-promise-capability.js");u.exports=function(b,I){if(m(b),x(I)&&I.constructor===b)return I;var N=g.f(b),S=N.resolve;return S(I),N.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/promise-native-constructor.js"),x=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u.exports=g||!x(function(b){m.all(b).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(u){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(A){var m={item:A,next:null},x=this.tail;x?x.next=m:this.head=m,this.tail=m},get:function(){var A=this.head;if(A){var m=this.head=A.next;return m===null&&(this.tail=null),A.item}}},u.exports=f}),"./node_modules/core-js/internals/regexp-exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/regexp-flags.js"),I=A("./node_modules/core-js/internals/regexp-sticky-helpers.js"),N=A("./node_modules/core-js/internals/shared.js"),S=A("./node_modules/core-js/internals/object-create.js"),E=A("./node_modules/core-js/internals/internal-state.js").get,F=A("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),Q=A("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),P=N("native-string-replace",String.prototype.replace),H=RegExp.prototype.exec,L=H,U=x("".charAt),R=x("".indexOf),K=x("".replace),O=x("".slice),V=(function(){var le=/a/,X=/b*/g;return m(H,le,"a"),m(H,X,"a"),le.lastIndex!==0||X.lastIndex!==0})(),G=I.BROKEN_CARET,oe=/()??/.exec("")[1]!==void 0,ge=V||oe||G||F||Q;ge&&(L=function(X){var W=this,re=E(W),me=g(X),ee=re.raw,M,J,ae,ie,ce,ye,Ne;if(ee)return ee.lastIndex=W.lastIndex,M=m(L,ee,me),W.lastIndex=ee.lastIndex,M;var xe=re.groups,Se=G&&W.sticky,Fe=m(b,W),Qe=W.source,Je=0,Pe=me;if(Se&&(Fe=K(Fe,"y",""),R(Fe,"g")===-1&&(Fe+="g"),Pe=O(me,W.lastIndex),W.lastIndex>0&&(!W.multiline||W.multiline&&U(me,W.lastIndex-1)!==`
`)&&(Qe="(?: "+Qe+")",Pe=" "+Pe,Je++),J=new RegExp("^(?:"+Qe+")",Fe)),oe&&(J=new RegExp("^"+Qe+"$(?!\\s)",Fe)),V&&(ae=W.lastIndex),ie=m(H,Se?J:W,Pe),Se?ie?(ie.input=O(ie.input,Je),ie[0]=O(ie[0],Je),ie.index=W.lastIndex,W.lastIndex+=ie[0].length):W.lastIndex=0:V&&ie&&(W.lastIndex=W.global?ie.index+ie[0].length:ae),oe&&ie&&ie.length>1&&m(P,ie[0],J,function(){for(ce=1;ce<arguments.length-2;ce++)arguments[ce]===void 0&&(ie[ce]=void 0)}),ie&&xe)for(ie.groups=ye=S(null),ce=0;ce<xe.length;ce++)Ne=xe[ce],ye[Ne[0]]=ie[Ne[1]];return ie}),u.exports=L}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=m.RegExp,b=!x(function(){var I=!0;try{g(".","d")}catch{I=!1}var N={},S="",E=I?"dgimsy":"gimsy",F=function(L,U){Object.defineProperty(N,L,{get:function(){return S+=U,!0}})},Q={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};I&&(Q.hasIndices="d");for(var P in Q)F(P,Q[P]);var H=Object.getOwnPropertyDescriptor(g.prototype,"flags").get.call(N);return H!==E||S!==E});u.exports={correct:b}}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js");u.exports=function(){var x=m(this),g="";return x.hasIndices&&(g+="d"),x.global&&(g+="g"),x.ignoreCase&&(g+="i"),x.multiline&&(g+="m"),x.dotAll&&(g+="s"),x.unicode&&(g+="u"),x.unicodeSets&&(g+="v"),x.sticky&&(g+="y"),g}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/regexp-flags-detection.js"),I=A("./node_modules/core-js/internals/regexp-flags.js"),N=RegExp.prototype;u.exports=b.correct?function(S){return S.flags}:function(S){return!b.correct&&g(N,S)&&!x(S,"flags")?m(I,S):S.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=x.RegExp,b=m(function(){var S=g("a","y");return S.lastIndex=2,S.exec("abcd")!==null}),I=b||m(function(){return!g("a","y").sticky}),N=b||m(function(){var S=g("^r","gy");return S.lastIndex=2,S.exec("str")!==null});u.exports={BROKEN_CARET:N,MISSED_STICKY:I,UNSUPPORTED_Y:b}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=x.RegExp;u.exports=m(function(){var b=g(".","s");return!(b.dotAll&&b.test(`
`)&&b.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=x.RegExp;u.exports=m(function(){var b=g("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-null-or-undefined.js"),x=TypeError;u.exports=function(g){if(m(g))throw new x("Can't call method on "+g);return g}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/descriptors.js"),g=Object.getOwnPropertyDescriptor;u.exports=function(b){if(!x)return m[b];var I=g(m,b);return I&&I.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/environment.js"),I=A("./node_modules/core-js/internals/environment-user-agent.js"),N=A("./node_modules/core-js/internals/array-slice.js"),S=A("./node_modules/core-js/internals/validate-arguments-length.js"),E=m.Function,F=/MSIE .\./.test(I)||b==="BUN"&&(function(){var Q=m.Bun.version.split(".");return Q.length<3||Q[0]==="0"&&(Q[1]<3||Q[1]==="3"&&Q[2]==="0")})();u.exports=function(Q,P){var H=P?2:1;return F?function(L,U){var R=S(arguments.length,1)>H,K=g(L)?L:E(L),O=R?N(arguments,H):[],V=R?function(){x(K,this,O)}:K;return P?Q(V,U):Q(V)}:Q}}),"./node_modules/core-js/internals/set-clone.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js"),x=A("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,b=m.add;u.exports=function(I){var N=new g;return x(I,function(S){b(N,S)}),N}}),"./node_modules/core-js/internals/set-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/set-size.js"),I=A("./node_modules/core-js/internals/get-set-record.js"),N=A("./node_modules/core-js/internals/set-iterate.js"),S=A("./node_modules/core-js/internals/iterate-simple.js"),E=x.has,F=x.remove;u.exports=function(P){var H=m(this),L=I(P),U=g(H);return b(H)<=L.size?N(H,function(R){L.includes(R)&&F(U,R)}):S(L.getIterator(),function(R){E(U,R)&&F(U,R)}),U}}),"./node_modules/core-js/internals/set-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=Set.prototype;u.exports={Set,add:m(x.add),has:m(x.has),remove:m(x.delete),proto:x}}),"./node_modules/core-js/internals/set-intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),S=x.Set,E=x.add,F=x.has;u.exports=function(P){var H=m(this),L=b(P),U=new S;return g(H)>L.size?N(L.getIterator(),function(R){F(H,R)&&E(U,R)}):I(H,function(R){L.includes(R)&&E(U,R)}),U}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),S=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(F){var Q=m(this),P=b(F);if(g(Q)<=P.size)return I(Q,function(L){if(P.includes(L))return!1},!0)!==!1;var H=P.getIterator();return N(H,function(L){if(x(Q,L))return S(H,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-size.js"),g=A("./node_modules/core-js/internals/set-iterate.js"),b=A("./node_modules/core-js/internals/get-set-record.js");u.exports=function(N){var S=m(this),E=b(N);return x(S)>E.size?!1:g(S,function(F){if(!E.includes(F))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js"),N=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(E){var F=m(this),Q=b(E);if(g(F)<Q.size)return!1;var P=Q.getIterator();return I(P,function(H){if(!x(F,H))return N(P,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/iterate-simple.js"),g=A("./node_modules/core-js/internals/set-helpers.js"),b=g.Set,I=g.proto,N=m(I.forEach),S=m(I.keys),E=S(new b).next;u.exports=function(F,Q,P){return P?x({iterator:S(F),next:E},Q):N(F,Q)}}),"./node_modules/core-js/internals/set-size.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),x=A("./node_modules/core-js/internals/set-helpers.js");u.exports=m(x.proto,"size","get")||function(g){return g.size}}),"./node_modules/core-js/internals/set-species.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/descriptors.js"),I=g("species");u.exports=function(N){var S=m(N);b&&S&&!S[I]&&x(S,I,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js"),N=x.add,S=x.has,E=x.remove;u.exports=function(Q){var P=m(this),H=b(Q).getIterator(),L=g(P);return I(H,function(U){S(P,U)?E(L,U):N(L,U)}),L}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-define-property.js").f,x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=g("toStringTag");u.exports=function(I,N,S){I&&!S&&(I=I.prototype),I&&!x(I,b)&&m(I,b,{configurable:!0,value:N})}}),"./node_modules/core-js/internals/set-union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js").add,g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js");u.exports=function(S){var E=m(this),F=b(S).getIterator(),Q=g(E);return I(F,function(P){x(Q,P)}),Q}}),"./node_modules/core-js/internals/shared-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared.js"),x=A("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(b){return g[b]||(g[b]=x(b))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-pure.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/define-global-property.js"),b="__core-js_shared__",I=u.exports=x[b]||g(b,{});(I.versions||(I.versions=[])).push({version:"3.45.1",mode:m?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared-store.js");u.exports=function(x,g){return m[x]||(m[x]=g||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/a-constructor.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("species");u.exports=function(N,S){var E=m(N).constructor,F;return E===void 0||g(F=m(E)[I])?S:x(F)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(x){return m(function(){var g=""[x]('"');return g!==g.toLowerCase()||g.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/require-object-coercible.js"),I=m("".charAt),N=m("".charCodeAt),S=m("".slice),E=function(F){return function(Q,P){var H=g(b(Q)),L=x(P),U=H.length,R,K;return L<0||L>=U?F?"":void 0:(R=N(H,L),R<55296||R>56319||L+1===U||(K=N(H,L+1))<56320||K>57343?F?I(H,L):R:F?S(H,L,L+2):(R-55296<<10)+(K-56320)+65536)}};u.exports={codeAt:E(!1),charAt:E(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/whitespaces.js"),I=m("".replace),N=RegExp("^["+b+"]+"),S=RegExp("(^|[^"+b+"])["+b+"]+$"),E=function(F){return function(Q){var P=g(x(Q));return F&1&&(P=I(P,N,"")),F&2&&(P=I(P,S,"$1")),P}};u.exports={start:E(1),end:E(2),trim:E(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-v8-version.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=g.String;u.exports=!!Object.getOwnPropertySymbols&&!x(function(){var I=Symbol("symbol detection");return!b(I)||!(Object(I)instanceof Symbol)||!Symbol.sham&&m&&m<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(){var I=x("Symbol"),N=I&&I.prototype,S=N&&N.valueOf,E=g("toPrimitive");N&&!N[E]&&b(N,E,function(F){return m(S,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/is-callable.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/html.js"),E=A("./node_modules/core-js/internals/array-slice.js"),F=A("./node_modules/core-js/internals/document-create-element.js"),Q=A("./node_modules/core-js/internals/validate-arguments-length.js"),P=A("./node_modules/core-js/internals/environment-is-ios.js"),H=A("./node_modules/core-js/internals/environment-is-node.js"),L=m.setImmediate,U=m.clearImmediate,R=m.process,K=m.Dispatch,O=m.Function,V=m.MessageChannel,G=m.String,oe=0,ge={},le="onreadystatechange",X,W,re,me;N(function(){X=m.location});var ee=function(ie){if(I(ge,ie)){var ce=ge[ie];delete ge[ie],ce()}},M=function(ie){return function(){ee(ie)}},J=function(ie){ee(ie.data)},ae=function(ie){m.postMessage(G(ie),X.protocol+"//"+X.host)};(!L||!U)&&(L=function(ce){Q(arguments.length,1);var ye=b(ce)?ce:O(ce),Ne=E(arguments,1);return ge[++oe]=function(){x(ye,void 0,Ne)},W(oe),oe},U=function(ce){delete ge[ce]},H?W=function(ie){R.nextTick(M(ie))}:K&&K.now?W=function(ie){K.now(M(ie))}:V&&!P?(re=new V,me=re.port2,re.port1.onmessage=J,W=g(me.postMessage,me)):m.addEventListener&&b(m.postMessage)&&!m.importScripts&&X&&X.protocol!=="file:"&&!N(ae)?(W=ae,m.addEventListener("message",J,!1)):le in F("script")?W=function(ie){S.appendChild(F("script"))[le]=function(){S.removeChild(this),ee(ie)}}:W=function(ie){setTimeout(M(ie),0)}),u.exports={set:L,clear:U}}),"./node_modules/core-js/internals/this-number-value.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),x=Math.max,g=Math.min;u.exports=function(b,I){var N=m(b);return N<0?x(N+I,0):g(N,I)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/indexed-object.js"),x=A("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(x(g))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/math-trunc.js");u.exports=function(x){var g=+x;return g!==g||g===0?0:m(g)}}),"./node_modules/core-js/internals/to-length.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),x=Math.min;u.exports=function(g){var b=m(g);return b>0?x(b,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js"),x=Object;u.exports=function(g){return x(m(g))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/get-method.js"),I=A("./node_modules/core-js/internals/ordinary-to-primitive.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),S=TypeError,E=N("toPrimitive");u.exports=function(F,Q){if(!x(F)||g(F))return F;var P=b(F,E),H;if(P){if(Q===void 0&&(Q="default"),H=m(P,F,Q),!x(H)||g(H))return H;throw new S("Can't convert object to primitive value")}return Q===void 0&&(Q="number"),I(F,Q)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-primitive.js"),x=A("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var b=m(g,"string");return x(b)?b:b+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-iterable.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=m("Set"),N=function(S){return b(S)&&typeof S.size=="number"&&x(S.has)&&x(S.keys)};u.exports=function(S){return N(S)?S:g(S)?new I(S):S}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=m("toStringTag"),g={};g[x]="z",u.exports=String(g)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),x=String;u.exports=function(g){if(m(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return x(g)}}),"./node_modules/core-js/internals/try-to-string.js":(function(u){var f=String;u.exports=function(A){try{return f(A)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=0,g=Math.random(),b=m(1.1.toString);u.exports=function(I){return"Symbol("+(I===void 0?"":I)+")_"+b(++x+g,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/fails.js");u.exports=m&&x(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(u){var f=TypeError;u.exports=function(A,m){if(A<m)throw new f("Not enough arguments");return A}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=m.WeakMap;u.exports=x(g)&&/native code/.test(String(g))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/path.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),b=A("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(I){var N=m.Symbol||(m.Symbol={});x(N,I)||b(N,I,{value:g.f(I)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js");f.f=m}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/shared.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/uid.js"),I=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),N=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),S=m.Symbol,E=x("wks"),F=N?S.for||S:S&&S.withoutSetter||b;u.exports=function(Q){return g(E,Q)||(E[Q]=I&&g(S,Q)?S[Q]:F("Symbol."+Q)),E[Q]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-array.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/to-object.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/array-species-create.js"),Q=A("./node_modules/core-js/internals/array-method-has-species-support.js"),P=A("./node_modules/core-js/internals/well-known-symbol.js"),H=A("./node_modules/core-js/internals/environment-v8-version.js"),L=P("isConcatSpreadable"),U=H>=51||!x(function(){var O=[];return O[L]=!1,O.concat()[0]!==O}),R=function(O){if(!b(O))return!1;var V=O[L];return V!==void 0?!!V:g(O)},K=!U||!Q("concat");m({target:"Array",proto:!0,arity:1,forced:K},{concat:function(V){var G=I(this),oe=F(G,0),ge=0,le,X,W,re,me;for(le=-1,W=arguments.length;le<W;le++)if(me=le===-1?G:arguments[le],R(me))for(re=N(me),S(ge+re),X=0;X<re;X++,ge++)X in me&&E(oe,ge,me[X]);else S(ge+1),E(oe,ge++,me);return oe.length=ge,oe}})}),"./node_modules/core-js/modules/es.array.from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/array-from.js"),g=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),b=!g(function(I){Array.from(I)});m({target:"Array",stat:!0,forced:b},{from:x})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),x=A("./node_modules/core-js/internals/add-to-unscopables.js"),g=A("./node_modules/core-js/internals/iterators.js"),b=A("./node_modules/core-js/internals/internal-state.js"),I=A("./node_modules/core-js/internals/object-define-property.js").f,N=A("./node_modules/core-js/internals/iterator-define.js"),S=A("./node_modules/core-js/internals/create-iter-result-object.js"),E=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/descriptors.js"),Q="Array Iterator",P=b.set,H=b.getterFor(Q);u.exports=N(Array,"Array",function(U,R){P(this,{type:Q,target:m(U),index:0,kind:R})},function(){var U=H(this),R=U.target,K=U.index++;if(!R||K>=R.length)return U.target=null,S(void 0,!0);switch(U.kind){case"keys":return S(K,!1);case"values":return S(R[K],!1)}return S([K,R[K]],!1)},"values");var L=g.Arguments=g.Array;if(x("keys"),x("values"),x("entries"),!E&&F&&L.name!=="values")try{I(L,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-indexed-object.js"),I=A("./node_modules/core-js/internals/array-method-is-strict.js"),N=x([].join),S=g!==Object,E=S||!I("join",",");m({target:"Array",proto:!0,forced:E},{join:function(Q){return N(b(this),Q===void 0?",":Q)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/array-iteration.js").map,g=A("./node_modules/core-js/internals/array-method-has-species-support.js"),b=g("map");m({target:"Array",proto:!0,forced:!b},{map:function(N){return x(this,N,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-constructor.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/to-absolute-index.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/to-indexed-object.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/well-known-symbol.js"),Q=A("./node_modules/core-js/internals/array-method-has-species-support.js"),P=A("./node_modules/core-js/internals/array-slice.js"),H=Q("slice"),L=F("species"),U=Array,R=Math.max;m({target:"Array",proto:!0,forced:!H},{slice:function(O,V){var G=S(this),oe=N(G),ge=I(O,oe),le=I(V===void 0?oe:V,oe),X,W,re;if(x(G)&&(X=G.constructor,g(X)&&(X===U||x(X.prototype))?X=void 0:b(X)&&(X=X[L],X===null&&(X=void 0)),X===U||X===void 0))return P(G,ge,le);for(W=new(X===void 0?U:X)(R(le-ge,0)),re=0;ge<le;ge++,re++)ge in G&&E(W,re,G[ge]);return W.length=re,W}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/function-name.js").EXISTS,g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/define-built-in-accessor.js"),I=Function.prototype,N=g(I.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=g(S.exec),F="name";m&&!x&&b(I,F,{configurable:!0,get:function(){try{return E(S,N(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/an-instance.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/object-get-prototype-of.js"),S=A("./node_modules/core-js/internals/define-built-in-accessor.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/fails.js"),Q=A("./node_modules/core-js/internals/has-own-property.js"),P=A("./node_modules/core-js/internals/well-known-symbol.js"),H=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,L=A("./node_modules/core-js/internals/descriptors.js"),U=A("./node_modules/core-js/internals/is-pure.js"),R="constructor",K="Iterator",O=P("toStringTag"),V=TypeError,G=x[K],oe=U||!I(G)||G.prototype!==H||!F(function(){G({})}),ge=function(){if(g(this,H),N(this)===H)throw new V("Abstract class Iterator not directly constructable")},le=function(X,W){L?S(H,X,{configurable:!0,get:function(){return W},set:function(re){if(b(this),this===H)throw new V("You can't redefine this property");Q(this,X)?this[X]=re:E(this,X,re)}}):H[X]=W};Q(H,O)||le(O,K),(oe||!Q(H,R)||H[R]===Object)&&le(R,ge),ge.prototype=H,m({global:!0,constructor:!0,forced:oe},{Iterator:ge})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/iterate.js"),b=A("./node_modules/core-js/internals/a-callable.js"),I=A("./node_modules/core-js/internals/an-object.js"),N=A("./node_modules/core-js/internals/get-iterator-direct.js"),S=A("./node_modules/core-js/internals/iterator-close.js"),E=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),F=E("forEach",TypeError);m({target:"Iterator",proto:!0,real:!0,forced:F},{forEach:function(P){I(this);try{b(P)}catch(U){S(this,"throw",U)}if(F)return x(F,this,P);var H=N(this),L=0;g(H,function(U){P(U,L++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/get-iterator-direct.js"),N=A("./node_modules/core-js/internals/iterator-create-proxy.js"),S=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),E=A("./node_modules/core-js/internals/iterator-close.js"),F=A("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),Q=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),P=A("./node_modules/core-js/internals/is-pure.js"),H=!P&&!F("map",function(){}),L=!P&&!H&&Q("map",TypeError),U=P||H||L,R=N(function(){var K=this.iterator,O=b(x(this.next,K)),V=this.done=!!O.done;if(!V)return S(K,this.mapper,[O.value,this.counter++],!0)});m({target:"Iterator",proto:!0,real:!0,forced:U},{map:function(O){b(this);try{g(O)}catch(V){E(this,"throw",V)}return L?x(L,this,O):new R(I(this),{mapper:O})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/function-apply.js"),b=A("./node_modules/core-js/internals/function-call.js"),I=A("./node_modules/core-js/internals/function-uncurry-this.js"),N=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/is-callable.js"),E=A("./node_modules/core-js/internals/is-symbol.js"),F=A("./node_modules/core-js/internals/array-slice.js"),Q=A("./node_modules/core-js/internals/get-json-replacer-function.js"),P=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),H=String,L=x("JSON","stringify"),U=I(/./.exec),R=I("".charAt),K=I("".charCodeAt),O=I("".replace),V=I(1.1.toString),G=/[\uD800-\uDFFF]/g,oe=/^[\uD800-\uDBFF]$/,ge=/^[\uDC00-\uDFFF]$/,le=!P||N(function(){var me=x("Symbol")("stringify detection");return L([me])!=="[null]"||L({a:me})!=="{}"||L(Object(me))!=="{}"}),X=N(function(){return L("\uDF06\uD834")!=='"\\udf06\\ud834"'||L("\uDEAD")!=='"\\udead"'}),W=function(me,ee){var M=F(arguments),J=Q(ee);if(!(!S(J)&&(me===void 0||E(me))))return M[1]=function(ae,ie){if(S(J)&&(ie=b(J,this,H(ae),ie)),!E(ie))return ie},g(L,null,M)},re=function(me,ee,M){var J=R(M,ee-1),ae=R(M,ee+1);return U(oe,me)&&!U(ge,ae)||U(ge,me)&&!U(oe,J)?"\\u"+V(K(me,0),16):me};L&&m({target:"JSON",stat:!0,arity:3,forced:le||X},{stringify:function(ee,M,J){var ae=F(arguments),ie=g(le?W:L,null,ae);return X&&typeof ie=="string"?O(ie,G,re):ie}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/descriptors.js"),b=A("./node_modules/core-js/internals/global-this.js"),I=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-uncurry-this.js"),S=A("./node_modules/core-js/internals/is-forced.js"),E=A("./node_modules/core-js/internals/has-own-property.js"),F=A("./node_modules/core-js/internals/inherit-if-required.js"),Q=A("./node_modules/core-js/internals/object-is-prototype-of.js"),P=A("./node_modules/core-js/internals/is-symbol.js"),H=A("./node_modules/core-js/internals/to-primitive.js"),L=A("./node_modules/core-js/internals/fails.js"),U=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,R=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,K=A("./node_modules/core-js/internals/object-define-property.js").f,O=A("./node_modules/core-js/internals/this-number-value.js"),V=A("./node_modules/core-js/internals/string-trim.js").trim,G="Number",oe=b[G],ge=I[G],le=oe.prototype,X=b.TypeError,W=N("".slice),re=N("".charCodeAt),me=function(ce){var ye=H(ce,"number");return typeof ye=="bigint"?ye:ee(ye)},ee=function(ce){var ye=H(ce,"number"),Ne,xe,Se,Fe,Qe,Je,Pe,he;if(P(ye))throw new X("Cannot convert a Symbol value to a number");if(typeof ye=="string"&&ye.length>2){if(ye=V(ye),Ne=re(ye,0),Ne===43||Ne===45){if(xe=re(ye,2),xe===88||xe===120)return NaN}else if(Ne===48){switch(re(ye,1)){case 66:case 98:Se=2,Fe=49;break;case 79:case 111:Se=8,Fe=55;break;default:return+ye}for(Qe=W(ye,2),Je=Qe.length,Pe=0;Pe<Je;Pe++)if(he=re(Qe,Pe),he<48||he>Fe)return NaN;return parseInt(Qe,Se)}}return+ye},M=S(G,!oe(" 0o1")||!oe("0b1")||oe("+0x1")),J=function(ce){return Q(le,ce)&&L(function(){O(ce)})},ae=function(ye){var Ne=arguments.length<1?0:oe(me(ye));return J(this)?F(Object(Ne),this,ae):Ne};ae.prototype=le,M&&!x&&(le.constructor=ae),m({global:!0,constructor:!0,wrap:!0,forced:M},{Number:ae});var ie=function(ce,ye){for(var Ne=g?U(ye):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),xe=0,Se;Ne.length>xe;xe++)E(ye,Se=Ne[xe])&&!E(ce,Se)&&K(ce,Se,R(ye,Se))};x&&ge&&ie(I[G],ge),(M||x)&&ie(I[G],oe)}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==x},{assign:x})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=A("./node_modules/core-js/internals/fails.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),I=A("./node_modules/core-js/internals/to-object.js"),N=!x||g(function(){b.f(1)});m({target:"Object",stat:!0,forced:N},{getOwnPropertySymbols:function(E){var F=b.f;return F?F(I(E)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/to-object.js"),g=A("./node_modules/core-js/internals/object-keys.js"),b=A("./node_modules/core-js/internals/fails.js"),I=b(function(){g(1)});m({target:"Object",stat:!0,forced:I},{keys:function(S){return g(x(S))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),x=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/object-to-string.js");m||x(Object.prototype,"toString",g,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),I=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),S=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{all:function(F){var Q=this,P=b.f(Q),H=P.resolve,L=P.reject,U=I(function(){var R=g(Q.resolve),K=[],O=0,V=1;N(F,function(G){var oe=O++,ge=!1;V++,x(R,Q,G).then(function(le){ge||(ge=!0,K[oe]=le,--V||H(K))},L)}),--V||H(K)});return U.error&&L(U.value),P.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,b=A("./node_modules/core-js/internals/promise-native-constructor.js"),I=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),E=b&&b.prototype;if(m({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(Q){return this.then(void 0,Q)}}),!x&&N(b)){var F=I("Promise").prototype.catch;E.catch!==F&&S(E,"catch",F,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/environment-is-node.js"),b=A("./node_modules/core-js/internals/global-this.js"),I=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-call.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),E=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),Q=A("./node_modules/core-js/internals/set-species.js"),P=A("./node_modules/core-js/internals/a-callable.js"),H=A("./node_modules/core-js/internals/is-callable.js"),L=A("./node_modules/core-js/internals/is-object.js"),U=A("./node_modules/core-js/internals/an-instance.js"),R=A("./node_modules/core-js/internals/species-constructor.js"),K=A("./node_modules/core-js/internals/task.js").set,O=A("./node_modules/core-js/internals/microtask.js"),V=A("./node_modules/core-js/internals/host-report-errors.js"),G=A("./node_modules/core-js/internals/perform.js"),oe=A("./node_modules/core-js/internals/queue.js"),ge=A("./node_modules/core-js/internals/internal-state.js"),le=A("./node_modules/core-js/internals/promise-native-constructor.js"),X=A("./node_modules/core-js/internals/promise-constructor-detection.js"),W=A("./node_modules/core-js/internals/new-promise-capability.js"),re="Promise",me=X.CONSTRUCTOR,ee=X.REJECTION_EVENT,M=X.SUBCLASSING,J=ge.getterFor(re),ae=ge.set,ie=le&&le.prototype,ce=le,ye=ie,Ne=b.TypeError,xe=b.document,Se=b.process,Fe=W.f,Qe=Fe,Je=!!(xe&&xe.createEvent&&b.dispatchEvent),Pe="unhandledrejection",he="rejectionhandled",nt=0,lt=1,ht=2,Ke=1,Nt=2,Rt,qt,Zt,sn,an=function(At){var Lt;return L(At)&&H(Lt=At.then)?Lt:!1},Xe=function(At,Lt){var De=Lt.value,ft=Lt.state===lt,it=ft?At.ok:At.fail,Et=At.resolve,Jt=At.reject,vt=At.domain,st,Ft,Wt;try{it?(ft||(Lt.rejection===Nt&&Dt(Lt),Lt.rejection=Ke),it===!0?st=De:(vt&&vt.enter(),st=it(De),vt&&(vt.exit(),Wt=!0)),st===At.promise?Jt(new Ne("Promise-chain cycle")):(Ft=an(st))?N(Ft,st,Et,Jt):Et(st)):Jt(De)}catch(dn){vt&&!Wt&&vt.exit(),Jt(dn)}},Ht=function(At,Lt){At.notified||(At.notified=!0,O(function(){for(var De=At.reactions,ft;ft=De.get();)Xe(ft,At);At.notified=!1,Lt&&!At.rejection&&Vt(At)}))},zt=function(At,Lt,De){var ft,it;Je?(ft=xe.createEvent("Event"),ft.promise=Lt,ft.reason=De,ft.initEvent(At,!1,!0),b.dispatchEvent(ft)):ft={promise:Lt,reason:De},!ee&&(it=b["on"+At])?it(ft):At===Pe&&V("Unhandled promise rejection",De)},Vt=function(At){N(K,b,function(){var Lt=At.facade,De=At.value,ft=xt(At),it;if(ft&&(it=G(function(){g?Se.emit("unhandledRejection",De,Lt):zt(Pe,Lt,De)}),At.rejection=g||xt(At)?Nt:Ke,it.error))throw it.value})},xt=function(At){return At.rejection!==Ke&&!At.parent},Dt=function(At){N(K,b,function(){var Lt=At.facade;g?Se.emit("rejectionHandled",Lt):zt(he,Lt,At.value)})},Dn=function(At,Lt,De){return function(ft){At(Lt,ft,De)}},Gt=function(At,Lt,De){At.done||(At.done=!0,De&&(At=De),At.value=Lt,At.state=ht,Ht(At,!0))},Yt=function(At,Lt,De){if(!At.done){At.done=!0,De&&(At=De);try{if(At.facade===Lt)throw new Ne("Promise can't be resolved itself");var ft=an(Lt);ft?O(function(){var it={done:!1};try{N(ft,Lt,Dn(Yt,it,At),Dn(Gt,it,At))}catch(Et){Gt(it,Et,At)}}):(At.value=Lt,At.state=lt,Ht(At,!1))}catch(it){Gt({done:!1},it,At)}}};if(me&&(ce=function(Lt){U(this,ye),P(Lt),N(Rt,this);var De=J(this);try{Lt(Dn(Yt,De),Dn(Gt,De))}catch(ft){Gt(De,ft)}},ye=ce.prototype,Rt=function(Lt){ae(this,{type:re,done:!1,notified:!1,parent:!1,reactions:new oe,rejection:!1,state:nt,value:null})},Rt.prototype=S(ye,"then",function(Lt,De){var ft=J(this),it=Fe(R(this,ce));return ft.parent=!0,it.ok=H(Lt)?Lt:!0,it.fail=H(De)&&De,it.domain=g?Se.domain:void 0,ft.state===nt?ft.reactions.add(it):O(function(){Xe(it,ft)}),it.promise}),qt=function(){var At=new Rt,Lt=J(At);this.promise=At,this.resolve=Dn(Yt,Lt),this.reject=Dn(Gt,Lt)},W.f=Fe=function(At){return At===ce||At===Zt?new qt(At):Qe(At)},!x&&H(le)&&ie!==Object.prototype)){sn=ie.then,M||S(ie,"then",function(Lt,De){var ft=this;return new ce(function(it,Et){N(sn,ft,it,Et)}).then(Lt,De)},{unsafe:!0});try{delete ie.constructor}catch{}E&&E(ie,ye)}m({global:!0,constructor:!0,wrap:!0,forced:me},{Promise:ce}),Zt=I.Promise,F(ce,re,!1,!0),Q(re)}),"./node_modules/core-js/modules/es.promise.js":(function(u,f,A){A("./node_modules/core-js/modules/es.promise.constructor.js"),A("./node_modules/core-js/modules/es.promise.all.js"),A("./node_modules/core-js/modules/es.promise.catch.js"),A("./node_modules/core-js/modules/es.promise.race.js"),A("./node_modules/core-js/modules/es.promise.reject.js"),A("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),I=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),S=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{race:function(F){var Q=this,P=b.f(Q),H=P.reject,L=I(function(){var U=g(Q.resolve);N(F,function(R){x(U,Q,R).then(P.resolve,H)})});return L.error&&H(L.value),P.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/new-promise-capability.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;m({target:"Promise",stat:!0,forced:g},{reject:function(I){var N=x.f(this),S=N.reject;return S(I),N.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/promise-native-constructor.js"),I=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,N=A("./node_modules/core-js/internals/promise-resolve.js"),S=x("Promise"),E=g&&!I;m({target:"Promise",stat:!0,forced:g||I},{resolve:function(Q){return N(E&&this===S?b:this,Q)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/regexp-exec.js");m({target:"RegExp",proto:!0,forced:/./.exec!==x},{exec:x})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(u,f,A){A("./node_modules/core-js/modules/es.regexp.exec.js");var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=(function(){var E=!1,F=/[ac]/;return F.exec=function(){return E=!0,/./.exec.apply(this,arguments)},F.test("abc")===!0&&E})(),S=/./.test;m({target:"RegExp",proto:!0,forced:!N},{test:function(E){var F=b(this),Q=I(E),P=F.exec;if(!g(P))return x(S,F,Q);var H=x(P,F,Q);return H===null?!1:(b(H),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-name.js").PROPER,x=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/to-string.js"),I=A("./node_modules/core-js/internals/fails.js"),N=A("./node_modules/core-js/internals/regexp-get-flags.js"),S="toString",E=RegExp.prototype,F=E[S],Q=I(function(){return F.call({source:"a",flags:"b"})!=="/a/b"}),P=m&&F.name!==S;(Q||P)&&x(E,S,function(){var L=g(this),U=b(L.source),R=b(N(L));return"/"+U+"/"+R},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/collection.js"),x=A("./node_modules/core-js/internals/collection-strong.js");m("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},x)}),"./node_modules/core-js/modules/es.set.js":(function(u,f,A){A("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/string-multibyte.js").charAt,x=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/internal-state.js"),b=A("./node_modules/core-js/internals/iterator-define.js"),I=A("./node_modules/core-js/internals/create-iter-result-object.js"),N="String Iterator",S=g.set,E=g.getterFor(N);b(String,"String",function(F){S(this,{type:N,string:x(F),index:0})},function(){var Q=E(this),P=Q.string,H=Q.index,L;return H>=P.length?I(void 0,!0):(L=m(P,H),Q.index+=L.length,I(L,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/create-html.js"),g=A("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(I){return x(this,"a","href",I)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),I=A("./node_modules/core-js/internals/is-pure.js"),N=A("./node_modules/core-js/internals/descriptors.js"),S=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),E=A("./node_modules/core-js/internals/fails.js"),F=A("./node_modules/core-js/internals/has-own-property.js"),Q=A("./node_modules/core-js/internals/object-is-prototype-of.js"),P=A("./node_modules/core-js/internals/an-object.js"),H=A("./node_modules/core-js/internals/to-indexed-object.js"),L=A("./node_modules/core-js/internals/to-property-key.js"),U=A("./node_modules/core-js/internals/to-string.js"),R=A("./node_modules/core-js/internals/create-property-descriptor.js"),K=A("./node_modules/core-js/internals/object-create.js"),O=A("./node_modules/core-js/internals/object-keys.js"),V=A("./node_modules/core-js/internals/object-get-own-property-names.js"),G=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),oe=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ge=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),le=A("./node_modules/core-js/internals/object-define-property.js"),X=A("./node_modules/core-js/internals/object-define-properties.js"),W=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),re=A("./node_modules/core-js/internals/define-built-in.js"),me=A("./node_modules/core-js/internals/define-built-in-accessor.js"),ee=A("./node_modules/core-js/internals/shared.js"),M=A("./node_modules/core-js/internals/shared-key.js"),J=A("./node_modules/core-js/internals/hidden-keys.js"),ae=A("./node_modules/core-js/internals/uid.js"),ie=A("./node_modules/core-js/internals/well-known-symbol.js"),ce=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ye=A("./node_modules/core-js/internals/well-known-symbol-define.js"),Ne=A("./node_modules/core-js/internals/symbol-define-to-primitive.js"),xe=A("./node_modules/core-js/internals/set-to-string-tag.js"),Se=A("./node_modules/core-js/internals/internal-state.js"),Fe=A("./node_modules/core-js/internals/array-iteration.js").forEach,Qe=M("hidden"),Je="Symbol",Pe="prototype",he=Se.set,nt=Se.getterFor(Je),lt=Object[Pe],ht=x.Symbol,Ke=ht&&ht[Pe],Nt=x.RangeError,Rt=x.TypeError,qt=x.QObject,Zt=ge.f,sn=le.f,an=G.f,Xe=W.f,Ht=b([].push),zt=ee("symbols"),Vt=ee("op-symbols"),xt=ee("wks"),Dt=!qt||!qt[Pe]||!qt[Pe].findChild,Dn=function(vt,st,Ft){var Wt=Zt(lt,st);Wt&&delete lt[st],sn(vt,st,Ft),Wt&&vt!==lt&&sn(lt,st,Wt)},Gt=N&&E(function(){return K(sn({},"a",{get:function(){return sn(this,"a",{value:7}).a}})).a!==7})?Dn:sn,Yt=function(vt,st){var Ft=zt[vt]=K(Ke);return he(Ft,{type:Je,tag:vt,description:st}),N||(Ft.description=st),Ft},At=function(st,Ft,Wt){st===lt&&At(Vt,Ft,Wt),P(st);var dn=L(Ft);return P(Wt),F(zt,dn)?(Wt.enumerable?(F(st,Qe)&&st[Qe][dn]&&(st[Qe][dn]=!1),Wt=K(Wt,{enumerable:R(0,!1)})):(F(st,Qe)||sn(st,Qe,R(1,K(null))),st[Qe][dn]=!0),Gt(st,dn,Wt)):sn(st,dn,Wt)},Lt=function(st,Ft){P(st);var Wt=H(Ft),dn=O(Wt).concat(Jt(Wt));return Fe(dn,function(Wn){(!N||g(ft,Wt,Wn))&&At(st,Wn,Wt[Wn])}),st},De=function(st,Ft){return Ft===void 0?K(st):Lt(K(st),Ft)},ft=function(st){var Ft=L(st),Wt=g(Xe,this,Ft);return this===lt&&F(zt,Ft)&&!F(Vt,Ft)?!1:Wt||!F(this,Ft)||!F(zt,Ft)||F(this,Qe)&&this[Qe][Ft]?Wt:!0},it=function(st,Ft){var Wt=H(st),dn=L(Ft);if(!(Wt===lt&&F(zt,dn)&&!F(Vt,dn))){var Wn=Zt(Wt,dn);return Wn&&F(zt,dn)&&!(F(Wt,Qe)&&Wt[Qe][dn])&&(Wn.enumerable=!0),Wn}},Et=function(st){var Ft=an(H(st)),Wt=[];return Fe(Ft,function(dn){!F(zt,dn)&&!F(J,dn)&&Ht(Wt,dn)}),Wt},Jt=function(vt){var st=vt===lt,Ft=an(st?Vt:H(vt)),Wt=[];return Fe(Ft,function(dn){F(zt,dn)&&(!st||F(lt,dn))&&Ht(Wt,zt[dn])}),Wt};S||(ht=function(){if(Q(Ke,this))throw new Rt("Symbol is not a constructor");var st=!arguments.length||arguments[0]===void 0?void 0:U(arguments[0]),Ft=ae(st),Wt=function(dn){var Wn=this===void 0?x:this;Wn===lt&&g(Wt,Vt,dn),F(Wn,Qe)&&F(Wn[Qe],Ft)&&(Wn[Qe][Ft]=!1);var Hn=R(1,dn);try{Gt(Wn,Ft,Hn)}catch(Qt){if(!(Qt instanceof Nt))throw Qt;Dn(Wn,Ft,Hn)}};return N&&Dt&&Gt(lt,Ft,{configurable:!0,set:Wt}),Yt(Ft,st)},Ke=ht[Pe],re(Ke,"toString",function(){return nt(this).tag}),re(ht,"withoutSetter",function(vt){return Yt(ae(vt),vt)}),W.f=ft,le.f=At,X.f=Lt,ge.f=it,V.f=G.f=Et,oe.f=Jt,ce.f=function(vt){return Yt(ie(vt),vt)},N&&(me(Ke,"description",{configurable:!0,get:function(){return nt(this).description}}),I||re(lt,"propertyIsEnumerable",ft,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!S,sham:!S},{Symbol:ht}),Fe(O(xt),function(vt){ye(vt)}),m({target:Je,stat:!0,forced:!S},{useSetter:function(){Dt=!0},useSimple:function(){Dt=!1}}),m({target:"Object",stat:!0,forced:!S,sham:!N},{create:De,defineProperty:At,defineProperties:Lt,getOwnPropertyDescriptor:it}),m({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:Et}),Ne(),xe(ht,Je),J[Qe]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/descriptors.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/object-is-prototype-of.js"),E=A("./node_modules/core-js/internals/to-string.js"),F=A("./node_modules/core-js/internals/define-built-in-accessor.js"),Q=A("./node_modules/core-js/internals/copy-constructor-properties.js"),P=g.Symbol,H=P&&P.prototype;if(x&&N(P)&&(!("description"in H)||P().description!==void 0)){var L={},U=function(){var le=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),X=S(H,this)?new P(le):le===void 0?P():P(le);return le===""&&(L[X]=!0),X};Q(U,P),U.prototype=H,H.constructor=U;var R=String(P("description detection"))==="Symbol(description detection)",K=b(H.valueOf),O=b(H.toString),V=/^Symbol\((.*)\)[^)]+$/,G=b("".replace),oe=b("".slice);F(H,"description",{configurable:!0,get:function(){var le=K(this);if(I(L,le))return"";var X=O(le),W=R?oe(X,7,-1):G(X,V,"$1");return W===""?void 0:W}}),m({global:!0,constructor:!0,forced:!0},{Symbol:U})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/to-string.js"),I=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),S=I("string-to-symbol-registry"),E=I("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{for:function(F){var Q=b(F);if(g(S,Q))return S[Q];var P=x("Symbol")(Q);return S[Q]=P,E[P]=Q,P}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol-define.js");m("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,f,A){A("./node_modules/core-js/modules/es.symbol.constructor.js"),A("./node_modules/core-js/modules/es.symbol.for.js"),A("./node_modules/core-js/modules/es.symbol.key-for.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),S=I("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{keyFor:function(F){if(!g(F))throw new TypeError(b(F)+" is not a symbol");if(x(S,F))return S[F]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").add;m({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var I=x(this),N=0,S=arguments.length;N<S;N++)g(I,arguments[N]);return I}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").remove;m({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var I=x(this),N=!0,S,E=0,F=arguments.length;E<F;E++)S=g(I,arguments[E]),N=N&&S;return!!N}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{every:function(N){var S=g(this),E=x(N,arguments.length>1?arguments[1]:void 0);return b(S,function(F){if(!E(F,F,S))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,S=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(F){var Q=g(this),P=x(F,arguments.length>1?arguments[1]:void 0),H=new N;return I(Q,function(L){P(L,L,Q)&&S(H,L)}),H}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{find:function(N){var S=g(this),E=x(N,arguments.length>1?arguments[1]:void 0),F=b(S,function(Q){if(E(Q,Q,S))return{value:Q}},!0);return F&&F.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-intersection.js");m({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-disjoint-from.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-subset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-superset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=x([].join),S=x([].push);m({target:"Set",proto:!0,real:!0,forced:!0},{join:function(F){var Q=g(this),P=F===void 0?",":I(F),H=[];return b(Q,function(L){S(H,L)}),N(H,P)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,S=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{map:function(F){var Q=g(this),P=x(F,arguments.length>1?arguments[1]:void 0),H=new N;return I(Q,function(L){S(H,P(L,L,Q))}),H}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),I=TypeError;m({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(S){var E=g(this),F=arguments.length<2,Q=F?void 0:arguments[1];if(x(S),b(E,function(P){F?(F=!1,Q=P):Q=S(Q,P,P,E)}),F)throw new I("Reduce of empty set with no initial value");return Q}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{some:function(N){var S=g(this),E=x(N,arguments.length>1?arguments[1]:void 0);return b(S,function(F){if(E(F,F,S))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-symmetric-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-union.js");m({target:"Set",proto:!0,real:!0,forced:!0},{union:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/internals/array-for-each.js"),I=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=function(E){if(E&&E.forEach!==b)try{I(E,"forEach",b)}catch{E.forEach=b}};for(var S in x)x[S]&&N(m[S]&&m[S].prototype);N(g)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/modules/es.array.iterator.js"),I=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=A("./node_modules/core-js/internals/set-to-string-tag.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),E=S("iterator"),F=b.values,Q=function(H,L){if(H){if(H[E]!==F)try{I(H,E,F)}catch{H[E]=F}if(N(H,L,!0),x[L]){for(var U in b)if(H[U]!==b[U])try{I(H,U,b[U])}catch{H[U]=b[U]}}}};for(var P in x)Q(m[P]&&m[P].prototype,P);Q(g,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(x.setInterval,!0);m({global:!0,bind:!0,forced:x.setInterval!==b},{setInterval:b})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(x.setTimeout,!0);m({global:!0,bind:!0,forced:x.setTimeout!==b},{setTimeout:b})}),"./node_modules/core-js/modules/web.timers.js":(function(u,f,A){A("./node_modules/core-js/modules/web.set-interval.js"),A("./node_modules/core-js/modules/web.set-timeout.js")}),"./src/plugin/hyperlinks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.link.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),x=A("./src/utils.js"),g=[],b={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){if(this.opt.enableLinks){var S=this.prop.container,E=S.querySelectorAll("a"),F=(0,x.unitConvert)(S.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(E,function(Q){for(var P=Q.getClientRects(),H=0;H<P.length;H++){var L=(0,x.unitConvert)(P[H],this.prop.pageSize.k);L.left-=F.left,L.top-=F.top;var U=Math.floor(L.top/this.prop.pageSize.inner.height)+1,R=this.opt.margin[0]+L.top%this.prop.pageSize.inner.height,K=this.opt.margin[1]+L.left;g.push({page:U,top:R,left:K,clientRect:L,link:Q})}},this)}})},m.default.prototype.toPdf=function(){return b.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(E){this.prop.pdf.setPage(E.page),this.prop.pdf.link(E.left,E.top,E.clientRect.width,E.clientRect.height,{url:E.link.href})},this);var S=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(S)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=A("jspdf");function x(g){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},x(g)}m.jsPDF.getPageSize=function(g,b,I){if(x(g)==="object"){var N=g;g=N.orientation,b=N.unit||b,I=N.format||I}b=b||"mm",I=I||"a4",g=(""+(g||"P")).toLowerCase();var S=(""+I).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(b){case"pt":var F=1;break;case"mm":var F=72/25.4;break;case"cm":var F=72/2.54;break;case"in":var F=72;break;case"px":var F=72/96;break;case"pc":var F=12;break;case"em":var F=12;break;case"ex":var F=6;break;default:throw"Invalid unit: "+b}if(E.hasOwnProperty(S))var Q=E[S][1]/F,P=E[S][0]/F;else try{var Q=I[1],P=I[0]}catch{throw new Error("Invalid format: "+I)}if(g==="p"||g==="portrait"){if(g="p",P>Q){var H=P;P=Q,Q=H}}else if(g==="l"||g==="landscape"){if(g="l",Q>P){var H=P;P=Q,Q=H}}else throw"Invalid orientation: "+g;var L={width:P,height:Q,unit:b,k:F};return L},f.default=m.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.join.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),x=A("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var N=this.prop.container,S=this.prop.pageSize.inner.px.height,E=[].concat(this.opt.pagebreak.mode),F={avoidAll:E.indexOf("avoid-all")!==-1,css:E.indexOf("css")!==-1,legacy:E.indexOf("legacy")!==-1},Q={},P=this;["before","after","avoid"].forEach(function(U){var R=F.avoidAll&&U==="avoid";Q[U]=R?[]:[].concat(P.opt.pagebreak[U]||[]),Q[U].length>0&&(Q[U]=Array.prototype.slice.call(N.querySelectorAll(Q[U].join(", "))))});var H=N.querySelectorAll(".html2pdf__page-break");H=Array.prototype.slice.call(H);var L=N.querySelectorAll("*");Array.prototype.forEach.call(L,function(R){var K={before:!1,after:F.legacy&&H.indexOf(R)!==-1,avoid:F.avoidAll};if(F.css){var O=window.getComputedStyle(R),V=["always","page","left","right"],G=["avoid","avoid-page"];K={before:K.before||V.indexOf(O.breakBefore||O.pageBreakBefore)!==-1,after:K.after||V.indexOf(O.breakAfter||O.pageBreakAfter)!==-1,avoid:K.avoid||G.indexOf(O.breakInside||O.pageBreakInside)!==-1}}Object.keys(K).forEach(function(re){K[re]=K[re]||Q[re].indexOf(R)!==-1});var oe=R.getBoundingClientRect();if(K.avoid&&!K.before){var ge=Math.floor(oe.top/S),le=Math.floor(oe.bottom/S),X=Math.abs(oe.bottom-oe.top)/S;le!==ge&&X<=1&&(K.before=!0)}if(K.before){var W=(0,x.createElement)("div",{style:{display:"block",height:S-oe.top%S+"px"}});R.parentNode.insertBefore(W,R)}if(K.after){var W=(0,x.createElement)("div",{style:{display:"block",height:S-oe.bottom%S+"px"}});R.parentNode.insertBefore(W,R.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(u,f,A){A.r(f),A.d(f,{deepCloneBasic:function(){return I}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.from.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.regexp.exec.js"),A("./node_modules/core-js/modules/es.regexp.test.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/es.set.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/esnext.set.add-all.js"),A("./node_modules/core-js/modules/esnext.set.delete-all.js"),A("./node_modules/core-js/modules/esnext.set.difference.js"),A("./node_modules/core-js/modules/esnext.set.every.js"),A("./node_modules/core-js/modules/esnext.set.filter.js"),A("./node_modules/core-js/modules/esnext.set.find.js"),A("./node_modules/core-js/modules/esnext.set.intersection.js"),A("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),A("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),A("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),A("./node_modules/core-js/modules/esnext.set.join.js"),A("./node_modules/core-js/modules/esnext.set.map.js"),A("./node_modules/core-js/modules/esnext.set.reduce.js"),A("./node_modules/core-js/modules/esnext.set.some.js"),A("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),A("./node_modules/core-js/modules/esnext.set.union.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N,S){var E=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!E){if(Array.isArray(N)||(E=x(N))||S){E&&(N=E);var F=0,Q=function(){};return{s:Q,n:function(){return F>=N.length?{done:!0}:{done:!1,value:N[F++]}},e:function(R){throw R},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,H=!0,L=!1;return{s:function(){E=E.call(N)},n:function(){var R=E.next();return H=R.done,R},e:function(R){L=!0,P=R},f:function(){try{H||E.return==null||E.return()}finally{if(L)throw P}}}}function x(N,S){if(N){if(typeof N=="string")return g(N,S);var E={}.toString.call(N).slice(8,-1);return E==="Object"&&N.constructor&&(E=N.constructor.name),E==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?g(N,S):void 0}}function g(N,S){(S==null||S>N.length)&&(S=N.length);for(var E=0,F=Array(S);E<S;E++)F[E]=N[E];return F}function b(N,S){try{var E=N.currentSrc||N.src||"";if(!E)return;S.setAttribute("src",E),S.removeAttribute("srcset"),S.removeAttribute("sizes"),S.loading="eager",S.decoding="sync"}catch{}}function I(N){if(!N)throw new Error("Invalid node");var S=new Set,E=null;if(N.nodeType===Node.TEXT_NODE||N.nodeType!==Node.ELEMENT_NODE)return N.cloneNode(!0);if(N.tagName==="IFRAME"){var F=document.createElement("div");return F.style.cssText="width:".concat(N.offsetWidth,"px;height:").concat(N.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),F}if(N.tagName==="CANVAS"){var Q=N.toDataURL(),P=document.createElement("img");return P.src=Q,P.width=N.width,P.height=N.height,P}var H;try{H=N.cloneNode(!1),N.tagName==="IMG"&&b(N,H)}catch(Je){throw console.error("[Snapdom] Failed to clone node:",N,Je),Je}if(N instanceof HTMLTextAreaElement){H.textContent=N.value,H.value=N.value;var L=N.getBoundingClientRect();return H.style.boxSizing="border-box",H.style.width="".concat(L.width,"px"),H.style.height="".concat(L.height,"px"),H}if(N instanceof HTMLInputElement&&(N.hasAttribute("value")&&(H.value=N.value,H.setAttribute("value",N.value)),N.checked!==void 0&&(H.checked=N.checked,N.checked&&H.setAttribute("checked",""),N.indeterminate&&(H.indeterminate=N.indeterminate))),N instanceof HTMLSelectElement&&(E=N.value),N.shadowRoot){var U=Array.from(N.shadowRoot.querySelectorAll("slot")).length>0;if(!U){var R=document.createDocumentFragment(),K=m(N.shadowRoot.childNodes),O;try{for(K.s();!(O=K.n()).done;){var V=O.value;if(!(V.nodeType===Node.ELEMENT_NODE&&V.tagName==="STYLE")){var G=I(V);G&&R.appendChild(G)}}}catch(Je){K.e(Je)}finally{K.f()}H.appendChild(R)}}if(N.tagName==="SLOT"){var oe,ge=((oe=N.assignedNodes)===null||oe===void 0?void 0:oe.call(N,{flatten:!0}))||[],le=ge.length>0?ge:Array.from(N.childNodes),X=document.createDocumentFragment(),W=m(le),re;try{for(W.s();!(re=W.n()).done;){var me=re.value,ee=I(me);ee&&X.appendChild(ee)}}catch(Je){W.e(Je)}finally{W.f()}return X}var M=m(N.childNodes),J;try{for(M.s();!(J=M.n()).done;){var ae=J.value;if(!S.has(ae)){var ie=I(ae);ie&&H.appendChild(ie)}}}catch(Je){M.e(Je)}finally{M.f()}if(E!==null&&H instanceof HTMLSelectElement){H.value=E;var ce=m(H.options),ye;try{for(ce.s();!(ye=ce.n()).done;){var Ne=ye.value;Ne.value===E?Ne.setAttribute("selected",""):Ne.removeAttribute("selected")}}catch(Je){ce.e(Je)}finally{ce.f()}}var xe=N.scrollLeft,Se=N.scrollTop,Fe=xe||Se;if(Fe&&H instanceof HTMLElement){H.style.overflow="hidden",H.style.scrollbarWidth="none",H.style.msOverflowStyle="none";var Qe=document.createElement("div");for(Qe.style.transform="translate(".concat(-xe,"px, ").concat(-Se,"px)"),Qe.style.willChange="transform",Qe.style.display="inline-block",Qe.style.width="100%";H.firstChild;)Qe.appendChild(H.firstChild);H.appendChild(Qe)}return H}}),"./src/utils.js":(function(u,f,A){A.r(f),A.d(f,{createElement:function(){return g},objType:function(){return x},toPx:function(){return I},unitConvert:function(){return b}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.number.constructor.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},m(N)}var x=function(S){var E=m(S);return E==="undefined"?"undefined":E==="string"||S instanceof String?"string":E==="number"||S instanceof Number?"number":E==="function"||S instanceof Function?"function":S&&S.constructor===Array?"array":S&&S.nodeType===1?"element":E==="object"?"object":"unknown"},g=function(S,E){var F=document.createElement(S);if(E.className&&(F.className=E.className),E.innerHTML){F.innerHTML=E.innerHTML;for(var Q=F.getElementsByTagName("script"),P=Q.length;P-- >0;null)Q[P].parentNode.removeChild(Q[P])}for(var H in E.style)F.style[H]=E.style[H];return F},b=function(S,E){if(x(S)==="number")return S*72/96/E;var F={};for(var Q in S)F[Q]=S[Q]*72/96/E;return F},I=function(S,E){return Math.floor(S*E/72*96)}}),"./src/worker.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.map.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.assign.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.promise.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/esnext.iterator.map.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js"),A("./node_modules/core-js/modules/web.timers.js");var m=A("jspdf"),x=A("html2canvas"),g=A.n(x),b=A("./src/snapdom/clone.js"),I=A("./src/utils.js"),N=function S(E){var F=Object.assign(S.convert(Promise.resolve()),JSON.parse(JSON.stringify(S.template))),Q=S.convert(Promise.resolve(),F);return Q=Q.setProgress(1,S,1,[S]),Q=Q.set(E),Q};N.prototype=Object.create(Promise.prototype),N.prototype.constructor=N,N.convert=function(E,F){return E.__proto__=F||N.prototype,E},N.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},N.prototype.from=function(E,F){function Q(P){switch((0,I.objType)(P)){case"string":return"string";case"element":return P.nodeName.toLowerCase&&P.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(F=F||Q(E),F){case"string":return this.set({src:(0,I.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},N.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},N.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var Q={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},P={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};Q.opacity=0;var H=(0,b.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,I.createElement)("div",{className:"html2pdf__overlay",style:Q}),this.prop.container=(0,I.createElement)("div",{className:"html2pdf__container",style:P}),this.prop.container.appendChild(H),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(L){return setTimeout(L,10)})})},N.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var Q=Object.assign({},this.opt.html2canvas);return delete Q.onrendered,g()(this.prop.container,Q)}).then(function(Q){var P=this.opt.html2canvas.onrendered||function(){};P(Q),this.prop.canvas=Q,document.body.removeChild(this.prop.overlay)})},N.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var Q=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Q})},N.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var Q=this.prop.canvas,P=this.opt,H=Q.height,L=Math.floor(Q.width*this.prop.pageSize.inner.ratio),U=Math.ceil(H/L),R=this.prop.pageSize.inner.height,K=document.createElement("canvas"),O=K.getContext("2d");K.width=Q.width,K.height=L,this.prop.pdf=this.prop.pdf||new m.jsPDF(P.jsPDF);for(var V=0;V<U;V++){V===U-1&&H%L!==0&&(K.height=H%L,R=K.height*this.prop.pageSize.inner.width/K.width);var G=K.width,oe=K.height;O.fillStyle="white",O.fillRect(0,0,G,oe),O.drawImage(Q,0,V*L,G,oe,0,0,G,oe),V&&this.prop.pdf.addPage();var ge=K.toDataURL("image/"+P.image.type,P.image.quality);this.prop.pdf.addImage(ge,P.image.type,P.margin[1],P.margin[0],this.prop.pageSize.inner.width,R)}})},N.prototype.output=function(E,F,Q){return Q=Q||"pdf",Q.toLowerCase()==="img"||Q.toLowerCase()==="image"?this.outputImg(E,F):this.outputPdf(E,F)},N.prototype.outputPdf=function(E,F){var Q=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(Q).then(function(){return this.prop.pdf.output(E,F)})},N.prototype.outputImg=function(E,F){var Q=[function(){return this.prop.img||this.toImg()}];return this.thenList(Q).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},N.prototype.save=function(E){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},N.prototype.set=function(E){if((0,I.objType)(E)!=="object")return this;var F=Object.keys(E||{}).map(function(Q){switch(Q){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return Q in N.template.prop?function(){this.prop[Q]=E[Q]}:function(){this.opt[Q]=E[Q]}}},this);return this.then(function(){return this.thenList(F)})},N.prototype.get=function(E,F){return this.then(function(){var P=E in N.template.prop?this.prop[E]:this.opt[E];return F?F(P):P})},N.prototype.setMargin=function(E){return this.then(function(){switch((0,I.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},N.prototype.setPageSize=function(E){return this.then(function(){E=E||m.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,I.toPx)(E.inner.width,E.k),height:(0,I.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},N.prototype.setProgress=function(E,F,Q,P){return E!=null&&(this.progress.val=E),F!=null&&(this.progress.state=F),Q!=null&&(this.progress.n=Q),P!=null&&(this.progress.stack=P),this.progress.ratio=this.progress.val/this.progress.state,this},N.prototype.updateProgress=function(E,F,Q,P){return this.setProgress(E?this.progress.val+E:null,F||null,Q?this.progress.n+Q:null,P?this.progress.stack.concat(P):null)},N.prototype.then=function(E,F){var Q=this;return this.thenCore(E,F,function(H,L){return Q.updateProgress(null,null,1,[H]),Promise.prototype.then.call(this,function(R){return Q.updateProgress(null,H),R}).then(H,L).then(function(R){return Q.updateProgress(1),R})})},N.prototype.thenCore=function(E,F,Q){Q=Q||Promise.prototype.then;var P=this;E&&(E=E.bind(P)),F&&(F=F.bind(P));var H=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",L=H?P:N.convert(Object.assign({},P),Promise.prototype),U=Q.call(L,E,F);return N.convert(U,P.__proto__)},N.prototype.thenExternal=function(E,F){return Promise.prototype.then.call(this,E,F)},N.prototype.thenList=function(E){var F=this;return E.forEach(function(P){F=F.thenCore(P)}),F},N.prototype.catch=function(S){S&&(S=S.bind(this));var E=Promise.prototype.catch.call(this,S);return N.convert(E,this)},N.prototype.catchExternal=function(E){return Promise.prototype.catch.call(this,E)},N.prototype.error=function(E){return this.then(function(){throw new Error(E)})},N.prototype.using=N.prototype.set,N.prototype.saveAs=N.prototype.save,N.prototype.export=N.prototype.output,N.prototype.run=N.prototype.then,f.default=N}),html2canvas:(function(u){u.exports=s}),jspdf:(function(u){u.exports=t})},o={};function c(u){var f=o[u];if(f!==void 0)return f.exports;var A=o[u]={exports:{}};return r[u].call(A.exports,A,A.exports,c),A.exports}(function(){c.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(f,{a:f}),f}})(),(function(){c.d=function(u,f){for(var A in f)c.o(f,A)&&!c.o(u,A)&&Object.defineProperty(u,A,{enumerable:!0,get:f[A]})}})(),(function(){c.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)}})(),(function(){c.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var h={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/c.r(h);var u=c("./src/worker.js");c("./src/plugin/jspdf-plugin.js"),c("./src/plugin/pagebreaks.js"),c("./src/plugin/hyperlinks.js");var f=function A(m,x){var g=new A.Worker(x);return m?g.from(m).save():g};f.Worker=u.default,h.default=f})(),h=h.default,h})()})})(Zy)),Zy.exports}var NV=SV();const EV=qb(NV),TV=({data:n})=>{var S;const[e,t]=Z.useState(!1),[s,r]=Z.useState(null);if(Z.useEffect(()=>{var F;const E=async()=>{var P;const Q=(P=n==null?void 0:n.schoolInfo)==null?void 0:P.logoUrl;if(!Q){r(null);return}if(Q.startsWith("data:")){r(Q);return}try{const L=await(await fetch(Q)).blob(),U=new FileReader;U.onloadend=()=>{r(U.result)},U.readAsDataURL(L)}catch(H){console.error("Failed to fetch or convert logo:",H),r(Q)}};(F=n==null?void 0:n.schoolInfo)!=null&&F.logoUrl&&E()},[(S=n==null?void 0:n.schoolInfo)==null?void 0:S.logoUrl]),!n)return null;const{schoolInfo:o,studentInfo:c,attendance:h,performance:u,summary:f,skills:A,remarks:m,promotion:x,termDates:g}=n,b=async E=>{const F=Array.from(E.querySelectorAll("img"));await Promise.all(F.map(Q=>(Q.setAttribute("crossorigin","anonymous"),Q.setAttribute("referrerpolicy","no-referrer"),Q.complete&&Q.naturalWidth>0?Promise.resolve():new Promise(P=>{const H=()=>P();Q.addEventListener("load",H,{once:!0}),Q.addEventListener("error",H,{once:!0})}))))},I=async E=>{const F=E.includes("?")?`${E}&cb=${Date.now()}`:`${E}?cb=${Date.now()}`,P=await(await fetch(F)).blob();return await new Promise((H,L)=>{const U=new FileReader;U.onloadend=()=>H(U.result),U.onerror=L,U.readAsDataURL(P)})},N=async()=>{const E=document.getElementById("report-card");if(!E)return;t(!0);const F=E.querySelector("img[data-report-logo='true']"),Q=F==null?void 0:F.src,P={transform:E.style.transform,transformOrigin:E.style.transformOrigin,width:E.style.width};try{E.style.width="794px";const U=E.scrollHeight||E.offsetHeight,R=Math.min(1,1123/U);if(E.style.transform=`scale(${R})`,E.style.transformOrigin="top left",F!=null&&F.src&&!F.src.startsWith("data:image"))try{const O=await I(F.src);F.src=O}catch(O){console.warn("Logo base64 conversion failed. Using normal URL.",O)}await b(E);const K={margin:0,filename:`${n.studentInfo.name}_Report_Card.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2.2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1},jsPDF:{unit:"px",format:[794,1123],orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"]}};await EV().set(K).from(E).save()}catch(H){console.error("PDF generation failed:",H)}finally{F&&Q&&(F.src=Q),E.style.transform=P.transform,E.style.transformOrigin=P.transformOrigin,E.style.width=P.width,t(!1)}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{id:"report-card",className:"bg-white p-4 rounded-lg shadow-lg border border-slate-200 text-[12.5px] leading-relaxed",style:{minHeight:"10.7in",boxSizing:"border-box",pageBreakInside:"avoid"},children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 mb-2",style:{borderBottom:"2px solid #0B4A82"},children:[i.jsxs("div",{className:"flex items-center",children:[o.logoUrl?i.jsx("img",{"data-report-logo":"true",src:o.logoUrl,alt:"School Logo",className:"h-12 w-12 object-contain",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:E=>{E.currentTarget.style.display="none",console.warn("Logo failed to load:",o.logoUrl)}}):null,i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-primary-900",children:o.name}),i.jsxs("p",{className:"text-xs text-slate-600",children:[o.address," | ",o.phone]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-lg font-bold text-primary-800",children:"Terminal Report Card"}),i.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:[o.academicYear," | ",o.term]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 p-2 rounded mb-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Name:"})," ",c.name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Class:"})," ",c.class]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Gender:"})," ",c.gender]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",c.classTeacher]})]}),i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.totalDays}),i.jsx("span",{className:"text-xs text-red-700",children:"School Days"})]}),i.jsxs("div",{className:"bg-green-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-green-800 text-lg",children:h.presentDays}),i.jsx("span",{className:"text-xs text-green-700",children:"Present"})]}),i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.absentDays}),i.jsx("span",{className:"text-xs text-red-700",children:"Absent"})]}),i.jsxs("div",{className:"bg-purple-50 p-1.5 rounded",children:[i.jsxs("span",{className:"block font-bold text-purple-800 text-lg",children:[h.attendancePercentage,"%"]}),i.jsx("span",{className:"text-xs text-purple-700",children:"Attendance"})]})]})}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-2 px-3 pb-2 bg-slate-50",style:{borderLeft:"2px solid #1160A8",borderRight:"2px solid #1160A8",borderBottom:"1px solid #1160A8"},children:"Academic Performance"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-collapse text-xs",children:[i.jsx("thead",{className:"text-white",style:{backgroundColor:"#1160A8"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle leading-relaxed",children:"Subject"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"C.Test"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"HW"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Proj"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Exam"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Total"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Pos"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Grade"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle",children:"Remark"})]})}),i.jsx("tbody",{children:n.allStudentsAssessments&&u.map((E,F)=>{const Q=fm(E.total),P=n.allStudentsAssessments.filter(U=>U.subject===E.subject).map(U=>U.total);P.sort((U,R)=>R-U);const H=P.indexOf(E.total)+1,L=["st","nd","rd"][H-1]||"th";return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"p-1.5 border font-medium",children:E.subject}),i.jsx("td",{className:"px-2 py-2 border text-center leading-relaxed",children:E.testScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.homeworkScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.projectScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.examScore}),i.jsx("td",{className:"p-1.5 border text-center font-bold",children:E.total}),i.jsx("td",{className:"p-1.5 border text-center",children:`${H}${L}`}),i.jsx("td",{className:`p-1.5 border text-center font-bold ${Pg(Q.grade).split(" ")[0]}`,children:Q.grade}),i.jsx("td",{className:"p-1.5 border",children:Q.remark})]},F)})})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Performance Summary"}),i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:[i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Total Score:"}),i.jsx("span",{children:f.totalScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Average:"}),i.jsx("span",{children:f.averageScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Grade:"}),i.jsx("span",{className:"font-bold",children:f.overallGrade})]}),i.jsxs("div",{className:"flex justify-between py-0.5",children:[i.jsx("span",{className:"font-semibold",children:"Position:"}),i.jsxs("span",{children:[f.classPosition," of ",f.totalStudents]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Skills & Behaviour"}),i.jsx("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:A&&Object.entries(A).map(([E,F])=>i.jsxs("div",{className:"flex justify-between py-0.5 last:border-0",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsxs("span",{className:"font-semibold capitalize",children:[E.replace(/([A-Z])/g," $1"),":"]}),i.jsx("span",{children:F})]},E))})]})," "]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Remarks"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs min-h-[70px]",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Class Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.teacher,'"']})]}),i.jsxs("div",{className:"bg-slate-50 p-2 rounded text-xs",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Head Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.headTeacher,'"']})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2 text-xs",children:[i.jsxs("div",{className:"bg-red-50 text-red-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Promotion:"})," ",x.status]}),i.jsxs("div",{className:"bg-green-50 text-green-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Next Term:"})," ",g.reopeningDate]}),i.jsxs("div",{className:"bg-slate-100 text-slate-700 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Term Ends in:"})," ",g.vacationDate]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Class Teacher"})}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"w-16 h-16 border border-dashed border-slate-300 flex items-center justify-center",children:i.jsx("p",{className:"text-slate-400 text-[10px]",children:"Stamp"})})}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Head Teacher"})})]})]}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx("button",{onClick:N,disabled:e,className:`px-6 py-2 text-white rounded-lg flex items-center gap-2 transition-colors ${e?"bg-[#5C93C4] cursor-not-allowed":"bg-[#1160A8] hover:bg-[#0B4A82]"}`,children:e?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating PDF..."]}):i.jsxs(i.Fragment,{children:[i.jsx(AA,{className:"h-4 w-4"}),"Download PDF"]})})})]})},IV=n=>new Promise((e,t)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{try{const r=document.createElement("canvas");r.width=s.width,r.height=s.height;const o=r.getContext("2d");if(!o)return t(new Error("Canvas context not available"));o.drawImage(s,0,0);const c=r.toDataURL("image/png");e(c)}catch(r){t(r)}},s.onerror=()=>t(new Error("Failed to load image for base64")),s.src=n}),xS=n=>{let e=parseInt(n);if(!isNaN(e)&&e>=1&&e<=3)return e;const t=n.split(" ");return t.length>1&&(e=parseInt(t[1]),!isNaN(e)&&e>=1&&e<=3)?e:1},_V=500,FV=()=>{const{school:n}=dc(),e=(n==null?void 0:n.id)||null,[t,s]=Z.useState(In[0].id),[r,o]=Z.useState([]),[c,h]=Z.useState(""),[u,f]=Z.useState(null),[A,m]=Z.useState(!1),[x,g]=Z.useState(""),[b,I]=Z.useState(!1),[N,S]=Z.useState(!1),E=async P=>{if(!e){o([]),h(""),f(null);return}s(P);const H=await ot.getStudents(e,P);o(H),h(""),f(null)},F=async()=>{var P,H,L,U,R,K,O,V,G,oe,ge;if(!(!c||!e)){m(!0);try{const X=(await ot.getStudents(e,t)).find(xt=>xt.id===c),W=await ot.getSchoolConfig(e),re=((H=(P=W==null?void 0:W.logoUrl)==null?void 0:P.trim)==null?void 0:H.call(P))||((U=(L=W==null?void 0:W.logo)==null?void 0:L.trim)==null?void 0:U.call(L))||((K=(R=W==null?void 0:W.schoolLogo)==null?void 0:R.trim)==null?void 0:K.call(R))||"",me=((V=(O=n==null?void 0:n.logoUrl)==null?void 0:O.trim)==null?void 0:V.call(O))||((oe=(G=n==null?void 0:n.logo)==null?void 0:G.trim)==null?void 0:oe.call(G))||"",ee=re||me||"";let M=ee;if(ee&&ee.startsWith("http"))try{M=await IV(ee)}catch(xt){console.warn("Base64 conversion failed, using original URL:",xt),M=ee}const J=xS(W.currentTerm),ae=W.academicYear,ie=`${c}_term${J}_${ae}`,ye=(await ot.getAllAssessments(e).then(xt=>xt.filter(Dt=>Dt.studentId===c))).filter(xt=>xt.term===J),Ne=Object.values(ye.reduce((xt,Dt)=>{const Dn=Dt.subject;if(!Dn)return xt;const Gt=xt[Dn],Yt=(Gt==null?void 0:Gt.total)??0,At=Dt.total??0;return(!Gt||At>=Yt)&&(xt[Dn]=Dt),xt},{})),xe=await ot.getStudentRemarks(e,t).then(xt=>xt.find(Dt=>Dt.studentId===c)),Se=await ot.getAdminRemark(e,ie),Fe=await ot.getClassAttendance(e,t),Qe=new Set([...Fe.filter(xt=>xt.isHoliday).map(xt=>xt.date),...(W.holidayDates||[]).map(xt=>xt.date)]),Je=Fe.filter(xt=>!xt.isHoliday),Pe=await ot.getStudentSkills(e,t).then(xt=>xt.find(Dt=>Dt.studentId===c)),he=await ot.getUsers(e);let nt=0;if(W.schoolReopenDate){const xt=new Date(`${W.schoolReopenDate}T00:00:00`),Dt=W.vacationDate?new Date(`${W.vacationDate}T00:00:00`):null,Dn=new Date;Dn.setHours(0,0,0,0);const Gt=Dt&&Dt<Dn?Dt:Dn;if(Number.isNaN(xt.getTime()))nt=Je.length;else{const Yt=new Date(xt);for(;Yt<=Gt;){const At=Yt.getDay();if(!(At===0||At===6)){const De=`${Yt.getFullYear()}-${String(Yt.getMonth()+1).padStart(2,"0")}-${String(Yt.getDate()).padStart(2,"0")}`;Qe.has(De)||nt++}Yt.setDate(Yt.getDate()+1)}}}else nt=Je.length;const lt=Je.filter(xt=>xt.presentStudentIds.includes(c)).length,ht=nt-lt,Ke=nt>0?Math.round(lt/nt*100):0,Nt=he.find(xt=>{var Dt;return(Dt=xt.assignedClassIds)==null?void 0:Dt.includes(t)}),Rt=xt=>xt>=80?"A":xt>=70?"B":xt>=60?"C":xt>=45?"D":"F",qt=await ot.getAllAssessments(e).then(xt=>xt.filter(Dt=>Dt.classId===t&&Dt.term===J)),Zt=r.map(xt=>{const Dn=qt.filter(Gt=>Gt.studentId===xt.id).reduce((Gt,Yt)=>Gt+(Yt.total||0),0);return{studentId:xt.id,totalScore:Dn}});Zt.sort((xt,Dt)=>Dt.totalScore-xt.totalScore);const sn=Zt.findIndex(xt=>xt.studentId===c)+1;g((Se==null?void 0:Se.remark)||"");const an=Ne.reduce((xt,Dt)=>xt+(Dt.total||0),0),Xe=In.findIndex(xt=>xt.id===(X==null?void 0:X.classId)),Ht=Xe>=0&&Xe<In.length-1?In[Xe+1].name:"",zt=J===3?an>=_V?Ht?`Promoted to ${Ht}`:"Promoted":"Fail":"N/A",Vt={schoolInfo:{name:(n==null?void 0:n.name)||W.schoolName||"School Manager GH",logoUrl:ee,address:(n==null?void 0:n.address)||W.address||"",phone:(n==null?void 0:n.phone)||W.phone||"",email:W.email||"",academicYear:W.academicYear||"",term:W.currentTerm||""},studentInfo:{name:(X==null?void 0:X.name)||"",gender:(X==null?void 0:X.gender)||"",dob:(X==null?void 0:X.dob)||"",class:((ge=In.find(xt=>xt.id===(X==null?void 0:X.classId)))==null?void 0:ge.name)||"",classTeacher:(Nt==null?void 0:Nt.fullName)||"N/A"},attendance:{totalDays:nt||0,presentDays:lt||0,absentDays:ht||0,attendancePercentage:Ke||0},performance:Ne||[],summary:{totalScore:an||0,averageScore:Ne.length>0?(Ne.reduce((xt,Dt)=>xt+(Dt.total||0),0)/Ne.length).toFixed(1):"0.0",overallGrade:Rt(Ne.length>0?Ne.reduce((xt,Dt)=>xt+(Dt.total||0),0)/Ne.length:0)||"N/A",classPosition:`${sn}${["st","nd","rd"][sn-1]||"th"}`,totalStudents:r.length||0},skills:{punctuality:(Pe==null?void 0:Pe.punctuality)||"N/A",neatness:(Pe==null?void 0:Pe.neatness)||"N/A",conduct:(Pe==null?void 0:Pe.conduct)||"N/A",attitudeToWork:(Pe==null?void 0:Pe.attitudeToWork)||"N/A",classParticipation:(Pe==null?void 0:Pe.classParticipation)||"N/A",homeworkCompletion:(Pe==null?void 0:Pe.homeworkCompletion)||"N/A"},remarks:{teacher:(xe==null?void 0:xe.remark)||"N/A",headTeacher:(Se==null?void 0:Se.remark)||W.headTeacherRemark||"An outstanding performance. The school is proud of you.",adminRemark:(Se==null?void 0:Se.remark)||"",adminRemarkDate:(Se==null?void 0:Se.dateCreated)||""},promotion:{status:zt},termDates:{endDate:W.termEndDate||"",reopeningDate:W.nextTermBegins||"",vacationDate:W.vacationDate||""},allStudentsAssessments:qt};f(Vt),Pt("Report card generated successfully!",{type:"success"})}catch(le){console.error("Error generating report card:",le),Pt(`Failed to generate report card: ${le.message||"An unknown error occurred."}`,{type:"error"})}finally{m(!1)}}},Q=async()=>{if(!(!c||!x.trim()||!e)){S(!0);try{const P=await ot.getSchoolConfig(e),H=xS(P.currentTerm),L={id:`${c}_term${H}_${P.academicYear}`,studentId:c,classId:t,term:H,academicYear:P.academicYear,schoolId:e,remark:x,adminId:"admin",dateCreated:new Date().toISOString().split("T")[0]};await ot.saveAdminRemark(L),I(!1),F()}catch(P){console.error("Error saving admin remark:",P)}finally{S(!1)}}};return Z.useEffect(()=>{(async()=>{try{await E(t)}catch(H){console.error("Error in useEffect:",H)}})()},[e]),i.jsxs(ir,{title:"Generate Report Card",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Select Student"}),i.jsxs("div",{className:"flex gap-4 mb-4",children:[i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black",value:t,onChange:P=>E(P.target.value),children:In.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))}),i.jsxs("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black flex-grow",value:c,onChange:P=>h(P.target.value),disabled:!r.length,children:[i.jsx("option",{value:"",children:"-- Select a student --"}),r.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))]})]}),i.jsx("button",{onClick:F,disabled:!c||A,className:"px-6 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] disabled:opacity-50",children:A?"Generating...":"Generate Report"})]}),u&&i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"bg-[#E6F0FA] border border-[#E6F0FA] rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-[#0B4A82] flex items-center gap-2",children:[i.jsx(fM,{className:"w-5 h-5"}),"Admin/Head Teacher Remark"]}),b?i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>I(!1),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:[i.jsx(Io,{className:"w-4 h-4"}),"Cancel"]}),i.jsxs("button",{onClick:Q,disabled:N,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[i.jsx(AA,{className:"w-4 h-4"}),N?"Saving...":"Save"]})]}):i.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-1 px-3 py-1 text-sm bg-[#1160A8] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(xM,{className:"w-4 h-4"}),"Edit Remark"]})]}),b?i.jsx("textarea",{value:x,onChange:P=>g(P.target.value),className:"w-full border border-[#E6F0FA] rounded-lg p-3 text-black bg-white",rows:3,placeholder:"Enter admin/head teacher remark..."}):i.jsx("p",{className:"text-[#0B4A82] italic",children:x||"No remark added yet"})]}),i.jsx(TV,{data:u})]})]})};class UV{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebasestorage.googleapis.com",DV="storageBucket",RV=120*1e3,LV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends uc{constructor(e,t,s=0){super(w1(e),`Firebase Storage: ${t} (${w1(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tu.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return w1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qc;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qc||(qc={}));function w1(n){return"storage/"+n}function QV(){const n="An unknown error occurred, please check the error payload for server response.";return new tu(qc.UNKNOWN,n)}function OV(){return new tu(qc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PV(){return new tu(qc.CANCELED,"User canceled the upload/download.")}function kV(n){return new tu(qc.INVALID_URL,"Invalid URL '"+n+"'.")}function MV(n){return new tu(qc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function vS(n){return new tu(qc.INVALID_ARGUMENT,n)}function LI(){return new tu(qc.APP_DELETED,"The Firebase app was deleted.")}function HV(n){return new tu(qc.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ic.makeFromUrl(e,t)}catch{return new ic(e,"")}if(s.path==="")return s;throw MV(e)}static makeFromUrl(e,t){let s=null;const r="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),u={bucket:1,path:3};function f(Q){Q.path_=decodeURIComponent(Q.path)}const A="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${A}/b/${r}/o${x}`,"i"),b={bucket:1,path:3},I=t===RI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",S=new RegExp(`^https?://${I}/${r}/${N}`,"i"),F=[{regex:h,indices:u,postModify:o},{regex:g,indices:b,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let Q=0;Q<F.length;Q++){const P=F[Q],H=P.regex.exec(e);if(H){const L=H[P.indices.bucket];let U=H[P.indices.path];U||(U=""),s=new ic(L,U),P.postModify(s);break}}if(s==null)throw kV(e);return s}}class VV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n,e,t){let s=1,r=null,o=null,c=!1,h=0;function u(){return h===2}let f=!1;function A(...N){f||(f=!0,e.apply(null,N))}function m(N){r=setTimeout(()=>{r=null,n(g,u())},N)}function x(){o&&clearTimeout(o)}function g(N,...S){if(f){x();return}if(N){x(),A.call(null,N,...S);return}if(u()||c){x(),A.call(null,N,...S);return}s<64&&(s*=2);let F;h===1?(h=2,F=0):F=(s+Math.random())*1e3,m(F)}let b=!1;function I(N){b||(b=!0,x(),!f&&(r!==null?(N||(h=2),clearTimeout(r),m(0)):N||(h=1)))}return m(0),o=setTimeout(()=>{c=!0,I(!0)},t),I}function zV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(n){return n!==void 0}function yS(n,e,t,s){if(s<e)throw vS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw vS(`Invalid value for '${n}'. Expected ${t} or less.`)}function $V(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const r=e(s)+"="+e(n[s]);t=t+r+"&"}return t=t.slice(0,-1),t}var rv;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(rv||(rv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,t,s,r,o,c,h,u,f,A,m,x=!0,g=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=A,this.connectionFactory_=m,this.retry=x,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new tx(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const u=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===rv.NO_ERROR,u=o.getStatus();if(!h||YV(u,this.additionalRetryCodes_)&&this.retry){const A=o.getErrorCode()===rv.ABORT;s(!1,new tx(!1,null,A));return}const f=this.successCodes_.indexOf(u)!==-1;s(!0,new tx(f,o))})},t=(s,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(h,h.getResponse());GV(u)?o(u):o()}catch(u){c(u)}else if(h!==null){const u=QV();u.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,u)):c(u)}else if(r.canceled){const u=this.appDelete_?LI():PV();c(u)}else{const u=OV();c(u)}};this.canceled_?t(!1,new tx(!1,null,!0)):this.backoffId_=KV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tx{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function XV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function JV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qV(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function eK(n,e,t,s,r,o,c=!0,h=!1){const u=$V(n.urlParams),f=n.url+u,A=Object.assign({},n.headers);return qV(A,e),XV(A,t),JV(A,o),ZV(A,s),new WV(f,n.method,A,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function nK(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t){this._service=e,t instanceof ic?this._location=t:this._location=ic.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new av(e,t)}get root(){const e=new ic(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nK(this._location.path)}get storage(){return this._service}get parent(){const e=tK(this._location.path);if(e===null)return null;const t=new ic(this._location.bucket,e);return new av(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw HV(e)}}function bS(n,e){const t=e==null?void 0:e[DV];return t==null?null:ic.makeFromBucketSpec(t,n)}class sK{constructor(e,t,s,r,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=RI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RV,this._maxUploadRetryTime=LV,this._requests=new Set,r!=null?this._bucket=ic.makeFromBucketSpec(r,this._host):this._bucket=bS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ic.makeFromBucketSpec(this._url,e):this._bucket=bS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(iA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new av(this,e)}_makeRequest(e,t,s,r,o=!0){if(this._deleted)return new VV(LI());{const c=eK(e,this._appId,s,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,r).getPromise()}}const wS="@firebase/storage",jS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK="storage";function aK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new sK(t,s,r,e,af)}function iK(){Md(new UV(rK,aK,"PUBLIC").setMultipleInstances(!0)),UA(wS,jS,""),UA(wS,jS,"esm2020")}iK();const BS=n=>{const e=n.toLowerCase();return e.includes("nursery")?"Nursery":e.startsWith("kg")||e.includes("kg")?"KG":/class\s*[1-3]\b/i.test(n)?"Class 1-3":/class\s*[4-6]\b/i.test(n)?"Class 4-6":/jhs\s*[1-3]\b/i.test(n)?"JHS 1-3":"Other"},oK=()=>{var an;const{user:n}=Fo(),e=_T(n),[t,s]=Z.useState([]),[r,o]=Z.useState(""),[c,h]=Z.useState(new Date().toISOString().split("T")[0]),[u,f]=Z.useState("info"),[A,m]=Z.useState(!1),[x,g]=Z.useState(((an=In[0])==null?void 0:an.id)||""),[b,I]=Z.useState([]),[N,S]=Z.useState(""),[E,F]=Z.useState(null),[Q,P]=Z.useState({schoolId:e,schoolName:"",academicYear:"",currentTerm:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,headTeacherRemark:"",termEndDate:"",holidayDates:[]}),[H,L]=Z.useState(!1),[U,R]=Z.useState(!1),[K,O]=Z.useState(""),[V,G]=Z.useState(""),[oe,ge]=Z.useState(!1),[le,X]=Z.useState(!1),[W,re]=Z.useState(!1),[me,ee]=Z.useState(!1),[M,J]=Z.useState(null),[ae,ie]=Z.useState(!1),ce=dv.useMemo(()=>{const Xe={Nursery:[],KG:[],"Class 1-3":[],"Class 4-6":[],"JHS 1-3":[],Other:[]};return In.forEach(Ht=>{const zt=BS(Ht.name);Xe[zt].push(Ht)}),Xe},[]),ye=Xe=>{const Ht=In.find(xt=>xt.id===Xe);if(!Ht)return[Xe];const zt=BS(Ht.name),Vt=ce[zt];return(Vt!=null&&Vt.length?Vt:[Ht]).map(xt=>xt.id)},Ne=async()=>{const Xe=await ot.getNotices(e);s(Xe)},xe=async()=>{if(x){const Xe=await ot.getSubjects(e,x);I(Xe)}},Se=async()=>{const Xe=await ot.getSchoolConfig(e);P(Ht=>({...Ht,schoolId:e,...Xe,holidayDates:Xe.holidayDates||[]}))};Z.useEffect(()=>{Ne(),Se()},[e]),Z.useEffect(()=>{xe()},[x,e]);const Fe=async()=>{L(!0),await ot.updateSchoolConfig({...Q,holidayDates:Q.holidayDates||[]}),L(!1),Pt("Configuration saved successfully!",{type:"success"})},Qe=async()=>{if(!K)return;const Xe=V.trim(),Ht=Q.holidayDates||[];if(Ht.some(Vt=>Vt.date===K)){Pt("Holiday date already exists.",{type:"error"});return}const zt={...Q,holidayDates:[...Ht,{date:K,reason:Xe||void 0}].sort((Vt,xt)=>Vt.date.localeCompare(xt.date))};P(zt),await ot.updateSchoolConfig({...zt,holidayDates:zt.holidayDates||[]}),Pt("Holiday date saved.",{type:"success"}),O(""),G("")},Je=async Xe=>{const Ht=Q.holidayDates||[],zt={...Q,holidayDates:Ht.filter(Vt=>Vt.date!==Xe)};P(zt),await ot.updateSchoolConfig({...zt,holidayDates:zt.holidayDates||[]}),Pt("Holiday date removed.",{type:"success"})},Pe=async()=>{R(!0);try{await ot.createTermBackup(Q,Q.currentTerm,Q.academicYear),Pt("Term backup created successfully!",{type:"success"})}catch(Xe){console.error("Error creating term backup:",Xe),Pt("Failed to create term backup. Please try again.",{type:"error"})}finally{R(!1)}},he=async Xe=>{if(Xe.preventDefault(),!(!r.trim()||!c)){m(!0);try{const[Ht,zt,Vt]=c.split("-").map(Number),Dt=new Date(Ht,zt-1,Vt).toLocaleDateString("en-GB",{day:"numeric",month:"short"});await ot.addNotice({id:Math.random().toString(36).substr(2,9),schoolId:e,message:r,date:Dt,type:u,createdAt:Date.now()}),o(""),Ne(),Pt("Notice added successfully!",{type:"success"})}catch(Ht){console.error("Error adding notice:",Ht),Pt("Failed to add notice. Please try again.",{type:"error"})}finally{m(!1)}}},nt=async Xe=>{await ot.deleteNotice(Xe),Ne()},lt=async Xe=>{if(Xe.preventDefault(),!N.trim()||!x)return;const Ht=ye(x);await Promise.all(Ht.map(zt=>ot.addSubject(zt,N.trim(),e))),S(""),xe(),Pt("Subject added successfully!",{type:"success"})},ht=Xe=>{J(Xe),ee(!0)},Ke=async()=>{if(!(!M||!x)){ee(!1);try{const Xe=ye(x);await Promise.all(Xe.map(Ht=>ot.deleteSubject(Ht,M,e))),xe(),Pt(`Subject "${M}" deleted successfully!`,{type:"success"})}catch(Xe){console.error("Error deleting subject:",Xe),Pt("Failed to delete subject. Please try again.",{type:"error"})}finally{J(null)}}},Nt=Xe=>{F({original:Xe,current:Xe})},Rt=async()=>{if(!E||!E.current.trim()||!x)return;const Xe=ye(x);await Promise.all(Xe.map(Ht=>ot.updateSubject(Ht,E.original,E.current.trim(),e))),F(null),xe(),Pt("Subject updated successfully!",{type:"success"})},qt=()=>{re(!0)},Zt=async Xe=>{const Ht=kn(Bt,Xe),Vt=(await ns(Ht)).docs.map(xt=>ki(xt.ref));await Promise.all(Vt)},sn=async()=>{re(!1),X(!0);try{const Xe=["attendance","assessments","teacher_attendance","notices","student_remarks","admin_remarks","student_skills","admin_notifications"];for(const zt of Xe)console.log(`Deleting collection: ${zt}`),await Zt(zt);const Ht=Pn(Bt,"settings",e);await Oi(Ht,{schoolReopenDate:"",vacationDate:"",nextTermBegins:""},{merge:!0}),Pt("Term data reset successfully!",{type:"success"}),window.location.reload()}catch(Xe){console.error("Term Reset error:",Xe),Pt(`Term Reset Failed: ${Xe.message}`,{type:"error"})}finally{X(!1)}};return i.jsxs(ir,{title:"System Settings",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(a2,{size:20})}),"System Settings"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Configure academic terms, subjects, notices, and backups with a premium control center."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"General Configuration"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Academic year, term, and key school dates."})]}),i.jsxs("button",{onClick:Fe,disabled:H,className:"flex items-center text-xs font-bold text-white bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-full transition-colors",children:[i.jsx(AA,{size:14,className:"mr-1"})," ",H?"Saving...":"Save Changes"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:Q.academicYear,onChange:Xe=>P({...Q,academicYear:Xe.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Term"}),i.jsxs("select",{value:Q.currentTerm,onChange:Xe=>P({...Q,currentTerm:Xe.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[i.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"School Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School Re-open Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:Q.schoolReopenDate,onChange:Xe=>P({...Q,schoolReopenDate:Xe.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term Vacation Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:Q.vacationDate,onChange:Xe=>P({...Q,vacationDate:Xe.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Term Begins"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:Q.nextTermBegins||"",onChange:Xe=>P({...Q,nextTermBegins:Xe.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),i.jsxs("div",{className:"mt-6 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-900 font-semibold",children:[i.jsx(Ki,{className:"h-5 w-5"}),"Holiday Dates (exclude from term totals)"]}),i.jsx("p",{className:"mt-1 text-xs text-amber-800",children:"Add dates here to remove them from term total days and attendance analytics."}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-[180px_1fr_auto] gap-3 items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-amber-400 pointer-events-none"}),i.jsx("input",{type:"date",value:K,onChange:Xe=>O(Xe.target.value),className:"w-full border border-amber-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"})]}),i.jsx("input",{type:"text",value:V,onChange:Xe=>G(Xe.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full border border-amber-200 px-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"}),i.jsxs("button",{type:"button",onClick:Qe,className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-amber-700",children:[i.jsx(Gh,{size:16}),"Add"]})]}),i.jsx("div",{className:"mt-4 space-y-2",children:(Q.holidayDates||[]).length===0?i.jsx("div",{className:"text-xs text-amber-700",children:"No holiday dates added yet."}):(Q.holidayDates||[]).map(Xe=>i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-amber-200 bg-white px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-amber-900",children:Xe.date}),Xe.reason&&i.jsx("p",{className:"text-xs text-amber-700",children:Xe.reason})]}),i.jsxs("button",{type:"button",onClick:()=>Je(Xe.date),className:"inline-flex items-center gap-1 text-xs font-semibold text-rose-600 hover:text-rose-700",children:[i.jsx(RA,{size:14}),"Remove"]})]},Xe.date))})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(xk,{className:"mr-2 text-[#0B4A82]",size:24}),"Manage Class Subjects"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:x,onChange:Xe=>g(Xe.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:["Nursery","KG","Class 1-3","Class 4-6","JHS 1-3","Other"].map(Xe=>{var Ht;return(Ht=ce[Xe])!=null&&Ht.length?i.jsx("optgroup",{label:Xe,children:ce[Xe].map(zt=>i.jsx("option",{value:zt.id,children:zt.name},zt.id))},Xe):null})})]}),i.jsxs("form",{onSubmit:lt,className:"flex gap-2 mb-6",children:[i.jsx("input",{type:"text",required:!0,className:"flex-1 border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-[#1160A8] outline-none text-sm",placeholder:"New subject name...",value:N,onChange:Xe=>S(Xe.target.value)}),i.jsx("button",{type:"submit",className:"bg-[#1160A8] text-white px-4 py-2 rounded-xl hover:bg-[#0B4A82] transition-colors",children:i.jsx(Gh,{size:20})})]}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:b.length===0?i.jsx("p",{className:"text-sm text-slate-500 text-center italic",children:"No subjects configured for this class. Add some above!"}):b.map(Xe=>i.jsx("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-100 group",children:(E==null?void 0:E.original)===Xe?i.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 border border-slate-200 p-2 rounded-lg text-sm focus:ring-2 focus:ring-[#1160A8] outline-none",value:E.current,onChange:Ht=>F({...E,current:Ht.target.value}),autoFocus:!0}),i.jsx("button",{onClick:Rt,className:"text-emerald-600 hover:bg-emerald-50 p-1 rounded",children:i.jsx(zp,{size:16})}),i.jsx("button",{onClick:()=>F(null),className:"text-[#1160A8] hover:bg-[#E6F0FA] p-1 rounded",children:i.jsx(Io,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:Xe}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>Nt(Xe),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(o2,{size:14})}),i.jsx("button",{onClick:()=>ht(Xe),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(RA,{size:14})})]})]})},Xe))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(AA,{className:"mr-2 text-purple-600",size:24}),"Term Data Backup"]}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:`Create a full backup of the current term's academic records, attendance, and student data. Backups can be viewed and restored from the "Manage Backups" section.`}),i.jsx("button",{onClick:Pe,disabled:U,className:"bg-purple-600 text-white px-4 py-2 rounded-full hover:bg-purple-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:U?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(AA,{size:16,className:"mr-2"})," Create Current Term Backup"]})}),i.jsxs(Na,{to:"/admin/backups",className:"mt-4 inline-flex items-center text-sm font-medium text-[#1160A8] hover:text-[#0B4A82]",children:[i.jsx(qk,{size:16,className:"mr-1"})," View and Manage Previous Backups"]})]}),oe&&i.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(i2,{className:"text-rose-600 mr-2",size:24}),i.jsx("h2",{className:"text-xl font-bold text-rose-800",children:"Danger Zone: Database Reset"})]}),i.jsx("p",{className:"text-rose-700 mb-4",children:"This will reset term data (attendance, assessments, reports, and term-specific records) for the selected term. It does not delete school accounts or core setup, but the term data cannot be recovered. Use with extreme caution."}),i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("button",{onClick:qt,disabled:le,className:"bg-rose-600 text-white px-4 py-2 rounded-full hover:bg-rose-700 disabled:bg-rose-400 transition-colors",children:le?"Resetting Term...":"Term Reset"})})]}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{onClick:()=>ge(!oe),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition-all hover:border-[#1160A8] hover:text-[#0B4A82] hover:shadow-md",children:[i.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold transition-colors ${oe?"bg-rose-100 text-rose-600":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:oe?"":"+"}),oe?"Hide":"Show"," Advanced Settings"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 flex flex-col h-full",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(cM,{className:"mr-2 text-emerald-600",size:24}),"School Notices"]}),i.jsxs("form",{onSubmit:he,className:"mb-6 bg-slate-50 p-4 rounded-2xl border border-slate-200",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",value:c,onChange:Xe=>h(Xe.target.value)})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notice Message"}),i.jsx("textarea",{required:!0,className:"w-full border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",placeholder:"Type notice here...",rows:2,value:r,onChange:Xe=>o(Xe.target.value)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-emerald-600 focus:ring-emerald-500",checked:u==="info",onChange:()=>f("info")}),"Info"]}),i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-red-600 focus:ring-red-500",checked:u==="urgent",onChange:()=>f("urgent")}),"Urgent"]})]}),i.jsx("button",{type:"submit",disabled:A,className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-emerald-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:A?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gh,{size:16,className:"mr-1"})," Add Notice"]})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[i.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-3",children:"Active Notices"}),i.jsx("div",{className:"space-y-3",children:t.length===0?i.jsx("p",{className:"text-slate-400 text-sm text-center italic",children:"No notices posted."}):t.map(Xe=>i.jsxs("div",{className:"flex justify-between items-start group p-3 border border-slate-100 rounded-xl hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:`border-l-2 pl-3 ${Xe.type==="urgent"?"border-red-500":"border-emerald-500"}`,children:[i.jsx("p",{className:"text-sm text-slate-800 font-medium",children:Xe.message}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[Xe.date," "," ",Xe.type==="urgent"?"Urgent":"General Info"]})]}),i.jsx("button",{onClick:()=>nt(Xe.id),className:"text-slate-300 hover:text-[#1160A8] transition-colors p-1",title:"Delete Notice",children:i.jsx(RA,{size:16})})]},Xe.id))})]})]})]})]}),W&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Ki,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirm Term Reset"})]}),i.jsxs("div",{className:"text-slate-600 mb-6 space-y-2",children:[i.jsxs("p",{children:["This will reset all data for the current term, but"," ",i.jsx("strong",{children:"keep core school setup"}),". Are you sure you want to proceed?"]}),i.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"RESET:"})," Attendance, Assessments, Teacher Attendance, Notices, and all student Remarks."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"KEEP:"})," Student Enrollment, Teacher Accounts, Class Subjects, and Timetables."]})]}),i.jsx("p",{className:"font-semibold text-red-700",children:"This action cannot be undone."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:sn,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Term Reset"})]})]})}),me&&M&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Ki,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Delete Subject"})]}),i.jsxs("p",{className:"text-slate-600 mb-6",children:['Are you sure you want to delete the subject "',i.jsx("strong",{children:M}),'"? This might hide scores associated with this subject and cannot be undone.']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{ee(!1),J(null)},className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:Ke,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Subject"})]})]})})]})},lK=n=>{if(!n)return"CLASS";const e=In.find(t=>t.id===n);return e&&e.level?e.level:n.startsWith("c_n")?"NURSERY":n.startsWith("c_kg")?"KG":n.startsWith("c_p")?"PRIMARY":n.startsWith("c_jhs")?"JHS":"CLASS"},AK=()=>{var ge,le,X,W,re,me,ee,M;const{school:n}=dc(),e=(n==null?void 0:n.id)||null,[t,s]=Z.useState([]),[r,o]=Z.useState(!0),[c,h]=Z.useState(null),[u,f]=Z.useState(""),[A,m]=Z.useState(""),[x,g]=Z.useState(""),[b,I]=Z.useState(null),[N,S]=Z.useState(!1),[E,F]=Z.useState(null),[Q,P]=Z.useState(!1),[H,L]=Z.useState(!1),U=Z.useMemo(()=>{var Se;if(!((Se=b==null?void 0:b.data)!=null&&Se.students))return[];const J=b.data.students||[],ae=b.data.attendanceRecords||[],ie=b.data.assessments||[],ce=b.data.studentRemarks||[],ye=ae.reduce((Fe,Qe)=>(Fe[Qe.classId]||(Fe[Qe.classId]=[]),Fe[Qe.classId].push(Qe),Fe),{}),Ne=ie.reduce((Fe,Qe)=>{const Je=typeof Qe.total=="number"?Qe.total:_A(Qe);return Fe[Qe.studentId]||(Fe[Qe.studentId]={total:0,count:0}),Fe[Qe.studentId].total+=Je,Fe[Qe.studentId].count+=1,Fe},{}),xe=ce.reduce((Fe,Qe)=>{const Je=Fe[Qe.studentId];if(!Je)return Fe[Qe.studentId]=Qe,Fe;const Pe=new Date(Je.dateCreated).getTime();return new Date(Qe.dateCreated).getTime()>=Pe&&(Fe[Qe.studentId]=Qe),Fe},{});return J.map(Fe=>{var Ke;const Qe=ye[Fe.classId]||[],Je=Qe.filter(Nt=>{var Rt;return(Rt=Nt.presentStudentIds)==null?void 0:Rt.includes(Fe.id)}).length,Pe=Qe.length,he=Pe?`${Math.round(Je/Pe*100)}%`:"-",nt=Ne[Fe.id],lt=nt!=null&&nt.count?(nt.total/nt.count).toFixed(1):"-",ht=((Ke=xe[Fe.id])==null?void 0:Ke.remark)||"N/A";return{student:Fe,presentDays:Je,totalDays:Pe,attendanceRate:he,avgScore:lt,remark:ht}})},[b]),R=async J=>{o(!0),h(null);try{if(!e){s([]);return}const ae={schoolId:e,term:(J==null?void 0:J.term)||void 0,academicYear:(J==null?void 0:J.academicYear)||void 0,date:(J==null?void 0:J.date)||void 0},ie=await ot.getBackups(ae);s(ie)}catch(ae){console.error("Error fetching backups:",ae),h("Failed to fetch backups."),Pt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},K=async J=>{try{if(!e)return;const ae=await ot.getBackupDetails(e,J);ae?(I(ae),S(!0)):Pt("Backup details not found.",{type:"error"})}catch(ae){console.error("Error fetching backup details:",ae),Pt("Failed to fetch backup details.",{type:"error"})}},O=J=>{F(J),P(!0)},V=async J=>{try{if(!e)return;const ae=await ot.getBackupDetails(e,J);if(ae&&ae.data){const ie=`backup_${ae.academicYear.replace("-","")}_${ae.term.replace(" ","")}_${ae.timestamp}.json`,ce=JSON.stringify(ae.data,null,2),ye=new Blob([ce],{type:"application/json"}),Ne=URL.createObjectURL(ye),xe=document.createElement("a");xe.href=Ne,xe.download=ie,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Ne),Pt("Backup downloaded successfully!",{type:"success"})}else Pt("No data available to download for this backup.",{type:"error"})}catch(ae){console.error("Error downloading backup:",ae),Pt("Failed to download backup.",{type:"error"})}},G=async()=>{if(E){console.log("Attempting to delete backup:",E);try{if(!e)return;await ot.deleteBackup(e,E),console.log("Backup deleted successfully in DB."),Pt("Backup deleted successfully!",{type:"success"}),P(!1),F(null),f(""),m(""),g(""),await R(),console.log("Backup list refreshed after deletion.")}catch(J){console.error("Error during backup deletion or refresh:",J),Pt("Failed to delete backup or refresh list.",{type:"error"})}}},oe=async()=>{L(!1);try{if(!e)return;await ot.deleteAllBackups(e),Pt("All backups cleared successfully!",{type:"success"}),f(""),m(""),g(""),await R()}catch(J){console.error("Error clearing all backups:",J),Pt("Failed to clear all backups.",{type:"error"})}};return Z.useEffect(()=>{R()},[e]),r?i.jsx(ir,{title:"Manage Backups",children:i.jsxs("div",{className:"flex justify-center items-center h-48",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-[#0B4A82]"}),i.jsx("p",{className:"ml-4 text-slate-500",children:"Loading backups..."})]})}):c?i.jsx(ir,{title:"Manage Backups",children:i.jsxs("div",{className:"text-center p-8 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg",children:[i.jsx("p",{className:"text-[#0B4A82]",children:c}),i.jsxs("button",{onClick:()=>R(),className:"mt-4 px-4 py-2 bg-[#0B4A82] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(kT,{className:"inline-block mr-2",size:16})," Retry"]})]})}):i.jsxs(ir,{title:"Manage Backups",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Manage Term Backups"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backup Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterTerm",className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{id:"filterTerm",value:u,onChange:J=>f(J.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterAcademicYear",className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{id:"filterAcademicYear",type:"text",value:A,onChange:J=>m(J.target.value),placeholder:"e.g., 2023-2024",className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Created (YYYY-MM-DD)"}),i.jsx("input",{id:"filterDate",type:"date",value:x,onChange:J=>g(J.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]})]}),i.jsxs("button",{onClick:()=>R({term:u,academicYear:A,date:x}),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors flex items-center",children:[i.jsx(PT,{size:16,className:"mr-2"})," Apply Filters"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),R()},className:"ml-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Clear Filters"}),i.jsx("button",{onClick:()=>L(!0),className:"ml-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Backups"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Available Backups"}),t.length===0?i.jsx("div",{className:"text-center p-8 text-slate-500",children:i.jsx("p",{children:"No backups found. Create one from System Settings."})}):i.jsx("div",{className:"space-y-4",children:t.map((J,ae)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800",children:[J.term," - ",J.academicYear]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",new Date(J.timestamp).toLocaleString()]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>K(J.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"View Backup Details",children:[i.jsx(th,{size:16,className:"mr-1"})," View"]}),i.jsxs("button",{onClick:()=>V(J.id||""),className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-sm hover:bg-emerald-200 flex items-center",title:"Download Backup",children:[i.jsx(ev,{size:16,className:"mr-1"})," Download"]}),i.jsxs("button",{onClick:()=>O(J.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"Delete Backup",children:[i.jsx(RA,{size:16,className:"mr-1"})," Delete"]})]})]},J.id||`backup-${ae}`))})]}),N&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Backup Details: ",b.term," -"," ",b.academicYear]}),i.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-[#E6F0FA] to-amber-50 rounded-xl p-4 mb-6 border border-[#E6F0FA]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-full",children:i.jsx(ac,{className:"text-[#0B4A82]",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup Created"}),i.jsx("p",{className:"text-lg font-bold text-slate-800",children:new Date(b.timestamp).toLocaleString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup ID"}),i.jsxs("p",{className:"text-sm font-mono text-slate-700",children:[(ge=b.id)==null?void 0:ge.slice(0,8),"..."]})]})]})}),b.data?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:i.jsx(hm,{className:"text-amber-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Students"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((le=b.data.students)==null?void 0:le.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-lg",children:i.jsx(vl,{className:"text-[#0B4A82]",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teachers"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((X=b.data.users)==null?void 0:X.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:i.jsx(zl,{className:"text-emerald-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Assessments"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((W=b.data.assessments)==null?void 0:W.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(ho,{className:"text-purple-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Attendance"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((re=b.data.attendanceRecords)==null?void 0:re.length)||0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(zh,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teacher Attendance"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((me=b.data.teacherAttendanceRecords)==null?void 0:me.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(yx,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Remarks"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((ee=b.data.studentRemarks)==null?void 0:ee.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(zl,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Timetables"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((M=b.data.timetables)==null?void 0:M.length)||0," classes"]})]})]}),i.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(vl,{size:18,className:"mr-2 text-[#0B4A82]"}),"Students List"]}),U.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:U.map(J=>{var ae;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${J.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:J.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:J.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:J.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((ae=In.find(ie=>ie.id===J.student.classId))==null?void 0:ae.name)||J.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:J.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[J.presentDays,"/",J.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:J.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:J.remark})]},J.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",U.length," student",U.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(vl,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No students in this backup."})]}),b.data.classSubjects&&b.data.classSubjects.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("h5",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(hm,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.data.classSubjects.map((J,ae)=>{var ye,Ne;const ie=In.find(xe=>xe.id===J.classId),ce=lK(J.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:ce}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(ie==null?void 0:ie.name)||J.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:J.subjects&&J.subjects.length>0?J.subjects.map((xe,Se)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:xe},Se)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((ye=J.subjects)==null?void 0:ye.length)||0," subject",((Ne=J.subjects)==null?void 0:Ne.length)!==1?"s":""]})]})]},ae)})})]})]})]}):i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(zh,{size:48,className:"mx-auto mb-4 text-slate-300"}),i.jsx("p",{children:"No data available for this backup."})]})]}),i.jsx("div",{className:"p-6 border-t border-slate-100 text-right",children:i.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Close"})})]})}),Q&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Deletion"}),i.jsx("button",{onClick:()=>P(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Backup ID: ",E]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:G,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Delete"})]})]})}),H&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Clear All Backups"}),i.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete ALL backups? This action cannot be undone and will permanently remove all backup data."}),i.jsxs("p",{className:"text-sm text-[#0B4A82] font-semibold",children:["Warning: This will affect ",t.length," backup",t.length!==1?"s":"","."]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:oe,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Clear All"})]})]})})]})},nx=["Monday","Tuesday","Wednesday","Thursday","Friday"],cK=()=>{var F,Q;const{user:n}=Fo(),e=_T(n),[t,s]=Z.useState(In[0].id),[r,o]=Z.useState({}),[c,h]=Z.useState(!1),[u,f]=Z.useState(nx[0]),[A,m]=Z.useState([]),[x,g]=Z.useState({startTime:"08:00",endTime:"09:00",subject:"",type:"lesson"});Z.useEffect(()=>{(async()=>{h(!0);const H=await ot.getSubjects(e,t);m(H),H.length>0?g(K=>({...K,subject:H[0],type:"lesson"})):g(K=>({...K,subject:"",type:"lesson"}));const L=await ot.getTimetable(e,t),U=(L==null?void 0:L.schedule)||{};nx.forEach(K=>{U[K]||(U[K]=[])});let R=!1;if(H.length>0&&Object.keys(U).forEach(K=>{U[K].forEach(O=>{O.type==="lesson"&&!H.includes(O.subject)&&(O.subject=H[0],R=!0)})}),R){const K={schoolId:e,classId:t,schedule:U};await ot.saveTimetable(K),Pt("Timetable subjects updated to match system settings!",{type:"success"})}o(U),h(!1)})()},[t,e]);const b=()=>{if(!x.startTime||!x.endTime||!x.subject)return;if(x.startTime>=x.endTime){Pt("End time must be after start time",{type:"error"});return}const P={id:Math.random().toString(36).substr(2,9),startTime:x.startTime,endTime:x.endTime,subject:x.subject,type:x.type},H={...r};H[u]=[...H[u],P].sort((L,U)=>L.startTime.localeCompare(U.startTime)),o(H)},I=P=>{const H={...r};H[u]=H[u].filter(L=>L.id!==P),o(H)},N=async()=>{h(!0);const P={schoolId:e,classId:t,schedule:r,updatedAt:Date.now()};await ot.saveTimetable(P),h(!1),Pt("Timetable saved successfully!",{type:"success"})},S=P=>{const H=r[P];return!H||H.length===0?"N/A":H[H.length-1].endTime},E=P=>{switch(P){case"break":return{bg:"bg-amber-50",border:"border-amber-100",icon:Ok,iconColor:"text-amber-600",badge:"text-amber-600 border-amber-200"};case"worship":return{bg:"bg-purple-50",border:"border-purple-100",icon:MT,iconColor:"text-purple-600",badge:"text-purple-600 border-purple-200"};case"assembly":return{bg:"bg-[#E6F0FA]",border:"border-[#E6F0FA]",icon:vl,iconColor:"text-[#0B4A82]",badge:"text-[#0B4A82] border-[#E6F0FA]"};case"arrival":return{bg:"bg-green-50",border:"border-green-100",icon:vl,iconColor:"text-green-600",badge:"text-green-600 border-green-200"};case"closing":return{bg:"bg-slate-100",border:"border-slate-200",icon:Hk,iconColor:"text-slate-600",badge:"text-slate-600 border-slate-300"};default:return{bg:"bg-white",border:"border-slate-100",icon:ac,iconColor:"text-emerald-600",badge:"text-slate-600 border-slate-200"}}};return i.jsx(ir,{title:"Manage Timetable",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-auto md:h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row justify-between md:items-center gap-4 bg-slate-50",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48",value:t,onChange:P=>s(P.target.value),children:In.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))})]})}),i.jsxs("button",{onClick:N,disabled:c,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50",children:[i.jsx(AA,{size:18,className:"mr-2"}),c?"Saving...":"Save Schedule"]})]}),i.jsxs("div",{className:"flex flex-1 overflow-y-auto md:overflow-hidden",children:[i.jsx("div",{className:"hidden md:flex w-40 border-r border-slate-100 bg-white flex flex-col overflow-y-auto",children:nx.map(P=>{var L;const H=((L=r[P])==null?void 0:L.length)||0;return i.jsxs("button",{onClick:()=>f(P),className:`p-4 text-left border-l-4 transition-colors hover:bg-slate-50 ${u===P?"border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{className:"block",children:P}),i.jsxs("span",{className:"text-xs text-slate-400",children:[H," Slots"]})]},P)})}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto md:overflow-hidden bg-slate-50/50",children:[i.jsx("div",{className:"md:hidden flex overflow-x-auto bg-white border-b border-slate-100",children:nx.map(P=>{var L;const H=((L=r[P])==null?void 0:L.length)||0;return i.jsxs("button",{onClick:()=>f(P),className:`px-4 py-3 text-sm whitespace-nowrap transition-colors hover:bg-slate-50 ${u===P?"border-b-2 border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{children:P}),i.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",H,")"]})]},P)})}),i.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 flex justify-between items-center bg-white",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[u," Schedule"]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Closing Time:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:S(u)})]})]})}),i.jsx("div",{className:"flex-1 overflow-visible md:overflow-y-auto p-3 md:p-6 space-y-3 md:space-y-4 min-h-[260px]",children:((F=r[u])==null?void 0:F.length)===0?i.jsxs("div",{className:"text-center w-full min-h-[260px] md:min-h-[320px] py-10 md:py-16 px-6 md:px-10 text-slate-500 border-2 border-dashed border-slate-200 rounded-2xl bg-white flex flex-col items-center justify-center",children:[i.jsx("div",{className:"text-xl md:text-2xl font-semibold mb-3 text-slate-700",children:"No classes or breaks scheduled"}),i.jsxs("div",{className:"text-base md:text-lg leading-relaxed max-w-md mx-auto",children:["Add time slots for ",u," using the form below."]})]}):(Q=r[u])==null?void 0:Q.map(P=>{const H=E(P.type),L=H.icon;return i.jsxs("div",{className:`flex items-center p-4 md:p-5 rounded-lg border shadow-sm ${H.bg} ${H.border}`,children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-full mr-3 md:mr-4 bg-white shadow-sm text-slate-500 flex-shrink-0",children:i.jsx(L,{size:20,className:H.iconColor})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-mono text-sm md:text-base font-semibold text-slate-600 bg-slate-100 px-2 py-1 rounded whitespace-nowrap",children:[P.startTime," - ",P.endTime]}),P.type!=="lesson"&&i.jsx("span",{className:`text-xs uppercase font-bold border px-2 py-0.5 rounded ${H.badge}`,children:P.type})]}),i.jsx("p",{className:"text-base md:text-lg font-bold text-slate-800 break-words",children:P.subject})]}),i.jsx("button",{onClick:()=>I(P.id),className:"text-slate-300 hover:text-[#1160A8] p-2 transition-colors flex-shrink-0",children:i.jsx(RA,{size:18})})]},P.id)})}),i.jsxs("div",{className:"p-4 md:p-6 bg-white border-t border-slate-200",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-4",children:"Add Time Slot"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 items-end",children:[i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Start Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:x.startTime,onChange:P=>g({...x,startTime:P.target.value})})]}),i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"End Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:x.endTime,onChange:P=>g({...x,endTime:P.target.value})})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Type"}),i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:x.type,onChange:P=>{const H=P.target.value;let L="";H==="break"?L="Break":H==="worship"?L="Worship":H==="closing"?L="Closing":H==="assembly"?L="Assembly":H==="arrival"?L="Arrival & Free Play":H==="lunch"?L="Lunch":H==="snack"?L="Snack":H==="cleaning"?L="Clean Up":H==="games"?L="Games":H==="nap"?L="Nap Time":H==="clubs"?L="Clubs/Activities":L=A[0]||"",g({...x,type:H,subject:L})},children:[i.jsx("option",{value:"arrival",children:"Arrival & Free Play"}),i.jsx("option",{value:"assembly",children:"Morning Assembly"}),i.jsx("option",{value:"lesson",children:"Lesson"}),i.jsx("option",{value:"break",children:"Break"}),i.jsx("option",{value:"snack",children:"Snack"}),i.jsx("option",{value:"lunch",children:"Lunch"}),i.jsx("option",{value:"worship",children:"Worship/Devotion"}),i.jsx("option",{value:"games",children:"Games/Sports"}),i.jsx("option",{value:"clubs",children:"Clubs/Activities"}),i.jsx("option",{value:"cleaning",children:"Clean Up"}),i.jsx("option",{value:"nap",children:"Nap Time"}),i.jsx("option",{value:"closing",children:"Closing"})]})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-4",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Activity/Subject"}),x.type==="lesson"?i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:x.subject,onChange:P=>g({...x,subject:P.target.value}),children:[A.map(P=>i.jsx("option",{value:P,children:P},P)),A.length===0&&i.jsx("option",{value:"",children:"No Subjects Found"})]}):i.jsx("input",{type:"text",className:"w-full border p-3 rounded text-sm md:text-base",value:x.subject,onChange:P=>g({...x,subject:P.target.value})})]}),i.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:i.jsxs("button",{onClick:b,className:"w-full bg-[#1160A8] text-white p-3 rounded text-sm md:text-base font-medium hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Gh,{size:16,className:"inline mr-1"})," Add Slot"]})})]})]})]})]})]})})},uK=()=>{const{school:n}=dc(),e=vm(),[t,s]=Z.useState(!1),[r,o]=Z.useState("0"),[c,h]=Z.useState([]),[u,f]=Z.useState(!1),[A,m]=Z.useState(!1),[x,g]=Z.useState(!1),b=(U,R="GHS")=>{if(!U&&U!==0)return"-";const K=U>=100?U/100:U;return new Intl.NumberFormat("en-GH",{style:"currency",currency:R}).format(K)},I=U=>{if(!U)return"-";if(U instanceof ar)return U.toDate().toLocaleString();if(typeof U=="number")return new Date(U).toLocaleString();const R=new Date(U);return Number.isNaN(R.getTime())?"-":R.toLocaleString()},N=U=>{const R=(U||"pending").toLowerCase();return["success","paid","active"].includes(R)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(R)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(R)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},S=Z.useMemo(()=>{var K;const U=((K=n==null?void 0:n.billing)==null?void 0:K.status)||"inactive",R=(n==null?void 0:n.plan)||"monthly";return{status:U,plan:R}},[n]),E=S.plan==="free",F=Z.useMemo(()=>{const U=c[0];return N((U==null?void 0:U.status)||S.status)},[S.status,c]),Q=Z.useMemo(()=>{const U=S.plan||"monthly";return 300*(U==="termly"?4:U==="yearly"?12:1)},[S.plan]);Z.useEffect(()=>{E||o(String(Q))},[Q,E]);const P=async()=>{if(n!=null&&n.id){f(!0);try{const U=kn(Bt,"payments"),R=Jn(U,nn("schoolId","==",n.id)),O=(await ns(R)).docs.map(V=>({id:V.id,...V.data()})).sort((V,G)=>{var le,X;const oe=(le=V.createdAt)!=null&&le.toMillis?V.createdAt.toMillis():new Date(V.createdAt||0).getTime();return((X=G.createdAt)!=null&&X.toMillis?G.createdAt.toMillis():new Date(G.createdAt||0).getTime())-oe});h(O)}catch(U){console.error("Failed to load payment history",U),Pt("Failed to load payment history.",{type:"error"})}finally{f(!1)}}},H=async()=>{if(!c.length){Pt("No payments to verify.",{type:"info"});return}const U=c.filter(R=>["pending","abandoned","failed"].includes(String(R.status||"pending").toLowerCase()));if(!U.length){Pt("All payments are already verified.",{type:"success"});return}try{m(!0);let R=0;for(const K of U)K.reference&&(await eC({reference:K.reference}),R+=1);Pt(`Verification complete. ${R} payment(s) updated.`,{type:"success"}),await P()}catch(R){console.error("Payment verification failed:",R),Pt((R==null?void 0:R.message)||"Payment verification failed.",{type:"error"})}finally{m(!1)}};Z.useEffect(()=>{E||P()},[n==null?void 0:n.id,E]),Z.useEffect(()=>{if(E)return;const R=new URLSearchParams(window.location.search).get("reference");if(!R)return;(async()=>{try{m(!0);const O=await eC({reference:R});if(String((O==null?void 0:O.status)||"").toLowerCase()==="success"){g(!0),setTimeout(()=>{e("/",{replace:!0})},3500);return}Pt("Payment was not completed. Please try again or verify later.",{type:"info"}),await P()}catch(O){console.error("Payment verification failed:",O),Pt((O==null?void 0:O.message)||"Payment verification failed.",{type:"error"})}finally{m(!1)}})()},[E,e]);const L=async()=>{if(E)return;const U=Number(Q);if(!U||U<=0){Pt("Enter a valid amount.",{type:"error"});return}try{s(!0);const R=await B7({amount:U*100,currency:"GHS"});window.location.href=R.authorizationUrl}catch(R){console.error("Billing error:",R),Pt((R==null?void 0:R.message)||"Payment initiation failed.",{type:"error"})}finally{s(!1)}};return E?i.jsx(ir,{title:"Billing & Subscription",children:i.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:i.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/60 p-6 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(qy,{size:18})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Free Plan Active"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Billing is disabled for your school. Contact your super admin if you need to change your subscription."})]})]})})})}):i.jsx(ir,{title:"Billing & Subscription",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[x&&i.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/70 p-6 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(qy,{size:18})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Subscription renewed successfully"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Great news! Your access has been restored. Redirecting to the dashboard now."})]})]})}),i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Billing & Subscription"}),i.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Pay monthly via Mobile Money and keep your school active."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(Dp,{size:18})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Pay Monthly (MoMo)"}),i.jsx("p",{className:"text-sm text-slate-500",children:"MTN, Telecel, AirtelTigo supported via Paystack."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount (GHS)"}),i.jsx("input",{type:"number",min:"0",step:"1",value:r,readOnly:!0,className:"w-full border border-slate-200 rounded-xl p-2.5 bg-slate-50 text-slate-700"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:L,disabled:t,className:"w-full inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2.5 font-semibold hover:bg-emerald-700 transition disabled:opacity-60",children:[t?"Redirecting...":"Pay with MoMo",i.jsx(uk,{size:16})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-indigo-100 text-indigo-600 flex items-center justify-center",children:i.jsx(qy,{size:18})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Subscription Status"}),i.jsx("p",{className:"text-sm text-slate-500",children:"School Plan"})]})]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Plan"}),i.jsx("span",{className:"font-semibold text-slate-800",children:S.plan})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Status"}),i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${F.className}`,children:F.label})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Renewal"}),i.jsx("span",{className:"font-semibold text-slate-800",children:"Monthly"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Payment History"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Track all payments made by your school admin account."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{onClick:H,className:"text-sm text-emerald-700 border border-emerald-200 px-3 py-1.5 rounded-lg hover:bg-emerald-50",disabled:u||A,children:A?"Verifying...":"Verify Pending"}),i.jsx("button",{onClick:P,className:"text-sm text-slate-600 border border-slate-200 px-3 py-1.5 rounded-lg hover:bg-slate-50",disabled:u,children:u?"Loading...":"Refresh"})]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:c.map(U=>{const R=N(U.status);return i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:b(U.amount,U.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:U.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${R.className}`,children:R.label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:U.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:I(U.createdAt)})]},U.id)})})]}),!c.length&&!u&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payment history yet."})]})]})]})})},QI=Z.createContext({});function dK(n){const e=Z.useRef(null);return e.current===null&&(e.current=n()),e.current}const f2=typeof window<"u",hK=f2?Z.useLayoutEffect:Z.useEffect,m2=Z.createContext(null);function p2(n,e){n.indexOf(e)===-1&&n.push(e)}function g2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Zc=(n,e,t)=>t>e?e:t<n?n:t;let x2=()=>{};const Fu={},OI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function PI(n){return typeof n=="object"&&n!==null}const kI=n=>/^0[^.\s]+$/u.test(n);function v2(n){let e;return()=>(e===void 0&&(e=n()),e)}const LA=n=>n,fK=(n,e)=>t=>e(n(t)),Mg=(...n)=>n.reduce(fK),xg=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class y2{constructor(){this.subscriptions=[]}add(e){return p2(this.subscriptions,e),()=>g2(this.subscriptions,e)}notify(e,t,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,s);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Su=n=>n*1e3,FA=n=>n/1e3;function MI(n,e){return e?n*(1e3/e):0}const HI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,mK=1e-7,pK=12;function gK(n,e,t,s,r){let o,c,h=0;do c=e+(t-e)/2,o=HI(c,s,r)-n,o>0?t=c:e=c;while(Math.abs(o)>mK&&++h<pK);return c}function Hg(n,e,t,s){if(n===e&&t===s)return LA;const r=o=>gK(o,0,1,n,t);return o=>o===0||o===1?o:HI(r(o),e,s)}const VI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,KI=n=>e=>1-n(1-e),zI=Hg(.33,1.53,.69,.99),b2=KI(zI),GI=VI(b2),$I=n=>(n*=2)<1?.5*b2(n):.5*(2-Math.pow(2,-10*(n-1))),w2=n=>1-Math.sin(Math.acos(n)),YI=KI(w2),WI=VI(w2),xK=Hg(.42,0,1,1),vK=Hg(0,0,.58,1),XI=Hg(.42,0,.58,1),yK=n=>Array.isArray(n)&&typeof n[0]!="number",JI=n=>Array.isArray(n)&&typeof n[0]=="number",bK={linear:LA,easeIn:xK,easeInOut:XI,easeOut:vK,circIn:w2,circInOut:WI,circOut:YI,backIn:b2,backInOut:GI,backOut:zI,anticipate:$I},wK=n=>typeof n=="string",CS=n=>{if(JI(n)){x2(n.length===4);const[e,t,s,r]=n;return Hg(e,t,s,r)}else if(wK(n))return bK[n];return n},sx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jK(n,e){let t=new Set,s=new Set,r=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function u(A){c.has(A)&&(f.schedule(A),n()),A(h)}const f={schedule:(A,m=!1,x=!1)=>{const b=x&&r?t:s;return m&&c.add(A),b.has(A)||b.add(A),A},cancel:A=>{s.delete(A),c.delete(A)},process:A=>{if(h=A,r){o=!0;return}r=!0,[t,s]=[s,t],t.forEach(u),t.clear(),r=!1,o&&(o=!1,f.process(A))}};return f}const BK=40;function qI(n,e){let t=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=sx.reduce((F,Q)=>(F[Q]=jK(o),F),{}),{setup:h,read:u,resolveKeyframes:f,preUpdate:A,update:m,preRender:x,render:g,postRender:b}=c,I=()=>{const F=Fu.useManualTiming?r.timestamp:performance.now();t=!1,Fu.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(F-r.timestamp,BK),1)),r.timestamp=F,r.isProcessing=!0,h.process(r),u.process(r),f.process(r),A.process(r),m.process(r),x.process(r),g.process(r),b.process(r),r.isProcessing=!1,t&&e&&(s=!1,n(I))},N=()=>{t=!0,s=!0,r.isProcessing||n(I)};return{schedule:sx.reduce((F,Q)=>{const P=c[Q];return F[Q]=(H,L=!1,U=!1)=>(t||N(),P.schedule(H,L,U)),F},{}),cancel:F=>{for(let Q=0;Q<sx.length;Q++)c[sx[Q]].cancel(F)},state:r,steps:c}}const{schedule:Ta,cancel:Wd,state:So,steps:j1}=qI(typeof requestAnimationFrame<"u"?requestAnimationFrame:LA,!0);let Bx;function CK(){Bx=void 0}const yl={now:()=>(Bx===void 0&&yl.set(So.isProcessing||Fu.useManualTiming?So.timestamp:performance.now()),Bx),set:n=>{Bx=n,queueMicrotask(CK)}},ZI=n=>e=>typeof e=="string"&&e.startsWith(n),e3=ZI("--"),SK=ZI("var(--"),j2=n=>SK(n)?NK.test(n.split("/*")[0].trim()):!1,NK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function SS(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Tm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},vg={...Tm,transform:n=>Zc(0,1,n)},rx={...Tm,default:1},qp=n=>Math.round(n*1e5)/1e5,B2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EK(n){return n==null}const TK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,C2=(n,e)=>t=>!!(typeof t=="string"&&TK.test(t)&&t.startsWith(n)||e&&!EK(t)&&Object.prototype.hasOwnProperty.call(t,e)),t3=(n,e,t)=>s=>{if(typeof s!="string")return s;const[r,o,c,h]=s.match(B2);return{[n]:parseFloat(r),[e]:parseFloat(o),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},IK=n=>Zc(0,255,n),B1={...Tm,transform:n=>Math.round(IK(n))},Mh={test:C2("rgb","red"),parse:t3("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+B1.transform(n)+", "+B1.transform(e)+", "+B1.transform(t)+", "+qp(vg.transform(s))+")"};function _K(n){let e="",t="",s="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Ib={test:C2("#"),parse:_K,transform:Mh.transform},Vg=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),bd=Vg("deg"),Wc=Vg("%"),jn=Vg("px"),FK=Vg("vh"),UK=Vg("vw"),NS={...Wc,parse:n=>Wc.parse(n)/100,transform:n=>Wc.transform(n*100)},Xf={test:C2("hsl","hue"),parse:t3("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+Wc.transform(qp(e))+", "+Wc.transform(qp(t))+", "+qp(vg.transform(s))+")"},Mi={test:n=>Mh.test(n)||Ib.test(n)||Xf.test(n),parse:n=>Mh.test(n)?Mh.parse(n):Xf.test(n)?Xf.parse(n):Ib.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Mh.transform(n):Xf.transform(n),getAnimatableNone:n=>{const e=Mi.parse(n);return e.alpha=0,Mi.transform(e)}},DK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RK(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(B2))==null?void 0:e.length)||0)+(((t=n.match(DK))==null?void 0:t.length)||0)>0}const n3="number",s3="color",LK="var",QK="var(",ES="${}",OK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yg(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},r=[];let o=0;const h=e.replace(OK,u=>(Mi.test(u)?(s.color.push(o),r.push(s3),t.push(Mi.parse(u))):u.startsWith(QK)?(s.var.push(o),r.push(LK),t.push(u)):(s.number.push(o),r.push(n3),t.push(parseFloat(u))),++o,ES)).split(ES);return{values:t,split:h,indexes:s,types:r}}function r3(n){return yg(n).values}function a3(n){const{split:e,types:t}=yg(n),s=e.length;return r=>{let o="";for(let c=0;c<s;c++)if(o+=e[c],r[c]!==void 0){const h=t[c];h===n3?o+=qp(r[c]):h===s3?o+=Mi.transform(r[c]):o+=r[c]}return o}}const PK=n=>typeof n=="number"?0:Mi.test(n)?Mi.getAnimatableNone(n):n;function kK(n){const e=r3(n);return a3(n)(e.map(PK))}const Xd={test:RK,parse:r3,createTransformer:a3,getAnimatableNone:kK};function C1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function MK({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let r=0,o=0,c=0;if(!e)r=o=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,u=2*t-h;r=C1(u,h,n+1/3),o=C1(u,h,n),c=C1(u,h,n-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:s}}function iv(n,e){return t=>t>0?e:n}const qa=(n,e,t)=>n+(e-n)*t,S1=(n,e,t)=>{const s=n*n,r=t*(e*e-s)+s;return r<0?0:Math.sqrt(r)},HK=[Ib,Mh,Xf],VK=n=>HK.find(e=>e.test(n));function TS(n){const e=VK(n);if(!e)return!1;let t=e.parse(n);return e===Xf&&(t=MK(t)),t}const IS=(n,e)=>{const t=TS(n),s=TS(e);if(!t||!s)return iv(n,e);const r={...t};return o=>(r.red=S1(t.red,s.red,o),r.green=S1(t.green,s.green,o),r.blue=S1(t.blue,s.blue,o),r.alpha=qa(t.alpha,s.alpha,o),Mh.transform(r))},_b=new Set(["none","hidden"]);function KK(n,e){return _b.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function zK(n,e){return t=>qa(n,e,t)}function S2(n){return typeof n=="number"?zK:typeof n=="string"?j2(n)?iv:Mi.test(n)?IS:YK:Array.isArray(n)?i3:typeof n=="object"?Mi.test(n)?IS:GK:iv}function i3(n,e){const t=[...n],s=t.length,r=n.map((o,c)=>S2(o)(o,e[c]));return o=>{for(let c=0;c<s;c++)t[c]=r[c](o);return t}}function GK(n,e){const t={...n,...e},s={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(s[r]=S2(n[r])(n[r],e[r]));return r=>{for(const o in s)t[o]=s[o](r);return t}}function $K(n,e){const t=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],c=n.indexes[o][s[o]],h=n.values[c]??0;t[r]=h,s[o]++}return t}const YK=(n,e)=>{const t=Xd.createTransformer(e),s=yg(n),r=yg(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?_b.has(n)&&!r.values.length||_b.has(e)&&!s.values.length?KK(n,e):Mg(i3($K(s,r),r.values),t):iv(n,e)};function o3(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?qa(n,e,t):S2(n)(n,e)}const WK=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ta.update(e,t),stop:()=>Wd(e),now:()=>So.isProcessing?So.timestamp:yl.now()}},l3=(n,e,t=10)=>{let s="";const r=Math.max(Math.round(e/t),2);for(let o=0;o<r;o++)s+=Math.round(n(o/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ov=2e4;function N2(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<ov;)e+=t,s=n.next(e);return e>=ov?1/0:e}function XK(n,e=100,t){const s=t({...n,keyframes:[0,e]}),r=Math.min(N2(s),ov);return{type:"keyframes",ease:o=>s.next(r*o).value/e,duration:FA(r)}}const JK=5;function A3(n,e,t){const s=Math.max(e-JK,0);return MI(t-n(s),e-s)}const ci={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},N1=.001;function qK({duration:n=ci.duration,bounce:e=ci.bounce,velocity:t=ci.velocity,mass:s=ci.mass}){let r,o,c=1-e;c=Zc(ci.minDamping,ci.maxDamping,c),n=Zc(ci.minDuration,ci.maxDuration,FA(n)),c<1?(r=f=>{const A=f*c,m=A*n,x=A-t,g=Fb(f,c),b=Math.exp(-m);return N1-x/g*b},o=f=>{const m=f*c*n,x=m*t+t,g=Math.pow(c,2)*Math.pow(f,2)*n,b=Math.exp(-m),I=Fb(Math.pow(f,2),c);return(-r(f)+N1>0?-1:1)*((x-g)*b)/I}):(r=f=>{const A=Math.exp(-f*n),m=(f-t)*n+1;return-N1+A*m},o=f=>{const A=Math.exp(-f*n),m=(t-f)*(n*n);return A*m});const h=5/n,u=ez(r,o,h);if(n=Su(n),isNaN(u))return{stiffness:ci.stiffness,damping:ci.damping,duration:n};{const f=Math.pow(u,2)*s;return{stiffness:f,damping:c*2*Math.sqrt(s*f),duration:n}}}const ZK=12;function ez(n,e,t){let s=t;for(let r=1;r<ZK;r++)s=s-n(s)/e(s);return s}function Fb(n,e){return n*Math.sqrt(1-e*e)}const tz=["duration","bounce"],nz=["stiffness","damping","mass"];function _S(n,e){return e.some(t=>n[t]!==void 0)}function sz(n){let e={velocity:ci.velocity,stiffness:ci.stiffness,damping:ci.damping,mass:ci.mass,isResolvedFromDuration:!1,...n};if(!_S(n,nz)&&_S(n,tz))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),r=s*s,o=2*Zc(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:ci.mass,stiffness:r,damping:o}}else{const t=qK(n);e={...e,...t,mass:ci.mass},e.isResolvedFromDuration=!0}return e}function lv(n=ci.visualDuration,e=ci.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:r}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:u,damping:f,mass:A,duration:m,velocity:x,isResolvedFromDuration:g}=sz({...t,velocity:-FA(t.velocity||0)}),b=x||0,I=f/(2*Math.sqrt(u*A)),N=c-o,S=FA(Math.sqrt(u/A)),E=Math.abs(N)<5;s||(s=E?ci.restSpeed.granular:ci.restSpeed.default),r||(r=E?ci.restDelta.granular:ci.restDelta.default);let F;if(I<1){const P=Fb(S,I);F=H=>{const L=Math.exp(-I*S*H);return c-L*((b+I*S*N)/P*Math.sin(P*H)+N*Math.cos(P*H))}}else if(I===1)F=P=>c-Math.exp(-S*P)*(N+(b+S*N)*P);else{const P=S*Math.sqrt(I*I-1);F=H=>{const L=Math.exp(-I*S*H),U=Math.min(P*H,300);return c-L*((b+I*S*N)*Math.sinh(U)+P*N*Math.cosh(U))/P}}const Q={calculatedDuration:g&&m||null,next:P=>{const H=F(P);if(g)h.done=P>=m;else{let L=P===0?b:0;I<1&&(L=P===0?Su(b):A3(F,P,H));const U=Math.abs(L)<=s,R=Math.abs(c-H)<=r;h.done=U&&R}return h.value=h.done?c:H,h},toString:()=>{const P=Math.min(N2(Q),ov),H=l3(L=>Q.next(P*L).value,P,30);return P+"ms "+H},toTransition:()=>{}};return Q}lv.applyToOptions=n=>{const e=XK(n,100,lv);return n.ease=e.ease,n.duration=Su(e.duration),n.type="keyframes",n};function Ub({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:u,restDelta:f=.5,restSpeed:A}){const m=n[0],x={done:!1,value:m},g=U=>h!==void 0&&U<h||u!==void 0&&U>u,b=U=>h===void 0?u:u===void 0||Math.abs(h-U)<Math.abs(u-U)?h:u;let I=t*e;const N=m+I,S=c===void 0?N:c(N);S!==N&&(I=S-m);const E=U=>-I*Math.exp(-U/s),F=U=>S+E(U),Q=U=>{const R=E(U),K=F(U);x.done=Math.abs(R)<=f,x.value=x.done?S:K};let P,H;const L=U=>{g(x.value)&&(P=U,H=lv({keyframes:[x.value,b(x.value)],velocity:A3(F,U,x.value),damping:r,stiffness:o,restDelta:f,restSpeed:A}))};return L(0),{calculatedDuration:null,next:U=>{let R=!1;return!H&&P===void 0&&(R=!0,Q(U),L(U)),P!==void 0&&U>=P?H.next(U-P):(!R&&Q(U),x)}}}function rz(n,e,t){const s=[],r=t||Fu.mix||o3,o=n.length-1;for(let c=0;c<o;c++){let h=r(n[c],n[c+1]);if(e){const u=Array.isArray(e)?e[c]||LA:e;h=Mg(u,h)}s.push(h)}return s}function az(n,e,{clamp:t=!0,ease:s,mixer:r}={}){const o=n.length;if(x2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=rz(e,s,r),u=h.length,f=A=>{if(c&&A<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(A<n[m+1]);m++);const x=xg(n[m],n[m+1],A);return h[m](x)};return t?A=>f(Zc(n[0],n[o-1],A)):f}function iz(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const r=xg(0,e,s);n.push(qa(t,1,r))}}function oz(n){const e=[0];return iz(e,n.length-1),e}function lz(n,e){return n.map(t=>t*e)}function Az(n,e){return n.map(()=>e||XI).splice(0,n.length-1)}function Zp({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const r=yK(s)?s.map(CS):CS(s),o={done:!1,value:e[0]},c=lz(t&&t.length===e.length?t:oz(e),n),h=az(c,e,{ease:Array.isArray(r)?r:Az(e,r)});return{calculatedDuration:n,next:u=>(o.value=h(u),o.done=u>=n,o)}}const cz=n=>n!==null;function E2(n,{repeat:e,repeatType:t="loop"},s,r=1){const o=n.filter(cz),h=r<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||s===void 0?o[h]:s}const uz={decay:Ub,inertia:Ub,tween:Zp,keyframes:Zp,spring:lv};function c3(n){typeof n.type=="string"&&(n.type=uz[n.type])}class T2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const dz=n=>n/100;class I2 extends T2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:t}=this.options;t&&t.updatedAt!==yl.now()&&this.tick(yl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;c3(e);const{type:t=Zp,repeat:s=0,repeatDelay:r=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const u=t||Zp;u!==Zp&&typeof h[0]!="number"&&(this.mixKeyframes=Mg(dz,o3(h[0],h[1])),h=[0,100]);const f=u({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=N2(f));const{calculatedDuration:A}=f;this.calculatedDuration=A,this.resolvedDuration=A+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:r,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:A,repeat:m,repeatType:x,repeatDelay:g,type:b,onUpdate:I,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let F=this.currentTime,Q=s;if(m){const U=Math.min(this.currentTime,r)/h;let R=Math.floor(U),K=U%1;!K&&U>=1&&(K=1),K===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(x==="reverse"?(K=1-K,g&&(K-=g/h)):x==="mirror"&&(Q=c)),F=Zc(0,1,K)*h}const P=E?{done:!1,value:A[0]}:Q.next(F);o&&(P.value=o(P.value));let{done:H}=P;!E&&u!==null&&(H=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return L&&b!==Ub&&(P.value=E2(A,this.options,N,this.speed)),I&&I(P.value),L&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return FA(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+FA(e)}get time(){return FA(this.currentTime)}set time(e){var t;e=Su(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yl.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=FA(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:e=WK,startTime:t}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(o=(r=this.options).onPlay)==null||o.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function hz(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Hh=n=>n*180/Math.PI,Db=n=>{const e=Hh(Math.atan2(n[1],n[0]));return Rb(e)},fz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Db,rotateZ:Db,skewX:n=>Hh(Math.atan(n[1])),skewY:n=>Hh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Rb=n=>(n=n%360,n<0&&(n+=360),n),FS=Db,US=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),DS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),mz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:US,scaleY:DS,scale:n=>(US(n)+DS(n))/2,rotateX:n=>Rb(Hh(Math.atan2(n[6],n[5]))),rotateY:n=>Rb(Hh(Math.atan2(-n[2],n[0]))),rotateZ:FS,rotate:FS,skewX:n=>Hh(Math.atan(n[4])),skewY:n=>Hh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Lb(n){return n.includes("scale")?1:0}function Qb(n,e){if(!n||n==="none")return Lb(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(t)s=mz,r=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=fz,r=h}if(!r)return Lb(e);const o=s[e],c=r[1].split(",").map(gz);return typeof o=="function"?o(c):c[o]}const pz=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Qb(t,e)};function gz(n){return parseFloat(n.trim())}const Im=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_m=new Set(Im),RS=n=>n===Tm||n===jn,xz=new Set(["x","y","z"]),vz=Im.filter(n=>!xz.has(n));function yz(n){const e=[];return vz.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Dd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Qb(e,"x"),y:(n,{transform:e})=>Qb(e,"y")};Dd.translateX=Dd.x;Dd.translateY=Dd.y;const Jh=new Set;let Ob=!1,Pb=!1,kb=!1;function u3(){if(Pb){const n=Array.from(Jh).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const r=yz(s);r.length&&(t.set(s,r),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=t.get(s);r&&r.forEach(([o,c])=>{var h;(h=s.getValue(o))==null||h.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pb=!1,Ob=!1,Jh.forEach(n=>n.complete(kb)),Jh.clear()}function d3(){Jh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Pb=!0)})}function bz(){kb=!0,d3(),u3(),kb=!1}class _2{constructor(e,t,s,r,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=r,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Jh.add(this),Ob||(Ob=!0,Ta.read(d3),Ta.resolveKeyframes(u3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:r}=this;if(e[0]===null){const o=r==null?void 0:r.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&t){const h=s.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),r&&o===void 0&&r.set(e[0])}hz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jh.delete(this)}cancel(){this.state==="scheduled"&&(Jh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wz=n=>n.startsWith("--");function jz(n,e,t){wz(e)?n.style.setProperty(e,t):n.style[e]=t}const Bz=v2(()=>window.ScrollTimeline!==void 0),Cz={};function Sz(n,e){const t=v2(n);return()=>Cz[e]??t()}const h3=Sz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rp=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,LS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rp([0,.65,.55,1]),circOut:Rp([.55,0,1,.45]),backIn:Rp([.31,.01,.66,-.59]),backOut:Rp([.33,1.53,.69,.99])};function f3(n,e){if(n)return typeof n=="function"?h3()?l3(n,e):"ease-out":JI(n)?Rp(n):Array.isArray(n)?n.map(t=>f3(t,e)||LS.easeOut):LS[n]}function Nz(n,e,t,{delay:s=0,duration:r=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:u}={},f=void 0){const A={[e]:t};u&&(A.offset=u);const m=f3(h,r);Array.isArray(m)&&(A.easing=m);const x={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),n.animate(A,x)}function m3(n){return typeof n=="function"&&"applyToOptions"in n}function Ez({type:n,...e}){return m3(n)&&h3()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Tz extends T2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:r,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,x2(typeof e.type!="string");const f=Ez(e);this.animation=Nz(t,s,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const A=E2(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(A):jz(t,s,A),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,s;const e=((s=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:s.call(t).duration)||0;return FA(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+FA(e)}get time(){return FA(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Su(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Bz()?(this.animation.timeline=e,LA):t(this)}}const p3={anticipate:$I,backInOut:GI,circInOut:WI};function Iz(n){return n in p3}function _z(n){typeof n.ease=="string"&&Iz(n.ease)&&(n.ease=p3[n.ease])}const E1=10;class Fz extends Tz{constructor(e){_z(e),c3(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:r,element:o,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new I2({...c,autoplay:!1}),u=Math.max(E1,yl.now()-this.startTime),f=Zc(0,E1,u-E1);t.setWithVelocity(h.sample(Math.max(0,u-f)).value,h.sample(u).value,f),h.stop()}}const QS=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Xd.test(n)||n==="0")&&!n.startsWith("url("));function Uz(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Dz(n,e,t,s){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],c=QS(r,e),h=QS(o,e);return!c||!h?!1:Uz(n)||(t==="spring"||m3(t))&&s}function Mb(n){n.duration=0,n.type="keyframes"}const Rz=new Set(["opacity","clipPath","filter","transform"]),Lz=v2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qz(n){var A;const{motionValue:e,name:t,repeatDelay:s,repeatType:r,damping:o,type:c}=n;if(!(((A=e==null?void 0:e.owner)==null?void 0:A.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return Lz()&&t&&Rz.has(t)&&(t!=="transform"||!f)&&!u&&!s&&r!=="mirror"&&o!==0&&c!=="inertia"}const Oz=40;class Pz extends T2{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:u,motionValue:f,element:A,...m}){var b;super(),this.stop=()=>{var I,N;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=yl.now();const x={autoplay:e,delay:t,type:s,repeat:r,repeatDelay:o,repeatType:c,name:u,motionValue:f,element:A,...m},g=(A==null?void 0:A.KeyframeResolver)||_2;this.keyframeResolver=new g(h,(I,N,S)=>this.onKeyframesResolved(I,N,x,!S),u,f,A),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,s,r){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:u,isHandoff:f,onUpdate:A}=s;this.resolvedAt=yl.now(),Dz(e,o,c,h)||((Fu.instantAnimations||!u)&&(A==null||A(E2(e,s,t))),e[0]=e[e.length-1],Mb(s),s.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Oz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},g=!f&&Qz(x)?new Fz({...x,element:x.motionValue.owner.current}):new I2(x);g.finished.then(()=>this.notifyFinished()).catch(LA),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),bz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const kz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mz(n){const e=kz.exec(n);if(!e)return[,];const[,t,s,r]=e;return[`--${t??s}`,r]}function g3(n,e,t=1){const[s,r]=Mz(n);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const c=o.trim();return OI(c)?parseFloat(c):c}return j2(r)?g3(r,e,t+1):r}function F2(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const x3=new Set(["width","height","top","left","right","bottom",...Im]),Hz={test:n=>n==="auto",parse:n=>n},v3=n=>e=>e.test(n),y3=[Tm,jn,Wc,bd,UK,FK,Hz],OS=n=>y3.find(v3(n));function Vz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||kI(n):!0}const Kz=new Set(["brightness","contrast","saturate","opacity"]);function zz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(B2)||[];if(!s)return n;const r=t.replace(s,"");let o=Kz.has(e)?1:0;return s!==t&&(o*=100),e+"("+o+r+")"}const Gz=/\b([a-z-]*)\(.*?\)/gu,Hb={...Xd,getAnimatableNone:n=>{const e=n.match(Gz);return e?e.map(zz).join(" "):n}},PS={...Tm,transform:Math.round},$z={rotate:bd,rotateX:bd,rotateY:bd,rotateZ:bd,scale:rx,scaleX:rx,scaleY:rx,scaleZ:rx,skew:bd,skewX:bd,skewY:bd,distance:jn,translateX:jn,translateY:jn,translateZ:jn,x:jn,y:jn,z:jn,perspective:jn,transformPerspective:jn,opacity:vg,originX:NS,originY:NS,originZ:jn},U2={borderWidth:jn,borderTopWidth:jn,borderRightWidth:jn,borderBottomWidth:jn,borderLeftWidth:jn,borderRadius:jn,radius:jn,borderTopLeftRadius:jn,borderTopRightRadius:jn,borderBottomRightRadius:jn,borderBottomLeftRadius:jn,width:jn,maxWidth:jn,height:jn,maxHeight:jn,top:jn,right:jn,bottom:jn,left:jn,inset:jn,insetBlock:jn,insetBlockStart:jn,insetBlockEnd:jn,insetInline:jn,insetInlineStart:jn,insetInlineEnd:jn,padding:jn,paddingTop:jn,paddingRight:jn,paddingBottom:jn,paddingLeft:jn,paddingBlock:jn,paddingBlockStart:jn,paddingBlockEnd:jn,paddingInline:jn,paddingInlineStart:jn,paddingInlineEnd:jn,margin:jn,marginTop:jn,marginRight:jn,marginBottom:jn,marginLeft:jn,marginBlock:jn,marginBlockStart:jn,marginBlockEnd:jn,marginInline:jn,marginInlineStart:jn,marginInlineEnd:jn,backgroundPositionX:jn,backgroundPositionY:jn,...$z,zIndex:PS,fillOpacity:vg,strokeOpacity:vg,numOctaves:PS},Yz={...U2,color:Mi,backgroundColor:Mi,outlineColor:Mi,fill:Mi,stroke:Mi,borderColor:Mi,borderTopColor:Mi,borderRightColor:Mi,borderBottomColor:Mi,borderLeftColor:Mi,filter:Hb,WebkitFilter:Hb},b3=n=>Yz[n];function w3(n,e){let t=b3(n);return t!==Hb&&(t=Xd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Wz=new Set(["auto","none","0"]);function Xz(n,e,t){let s=0,r;for(;s<n.length&&!r;){const o=n[s];typeof o=="string"&&!Wz.has(o)&&yg(o).values.length&&(r=n[s]),s++}if(r&&t)for(const o of e)n[o]=w3(t,r)}class Jz extends _2{constructor(e,t,s,r,o){super(e,t,s,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let A=0;A<e.length;A++){let m=e[A];if(typeof m=="string"&&(m=m.trim(),j2(m))){const x=g3(m,t.current);x!==void 0&&(e[A]=x),A===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!x3.has(s)||e.length!==2)return;const[r,o]=e,c=OS(r),h=OS(o),u=SS(r),f=SS(o);if(u!==f&&Dd[s]){this.needsMeasurement=!0;return}if(c!==h)if(RS(c)&&RS(h))for(let A=0;A<e.length;A++){const m=e[A];typeof m=="string"&&(e[A]=parseFloat(m))}else Dd[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||Vz(e[r]))&&s.push(r);s.length&&Xz(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=Dd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function qz(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const r=(t==null?void 0:t[n])??s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const j3=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Zz(n){return PI(n)&&"offsetHeight"in n}const kS=30,eG=n=>!isNaN(parseFloat(n));class tG{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const r=yl.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=yl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new y2);const s=this.events[e].add(t);return e==="change"?()=>{s(),Ta.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,kS);return MI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mm(n,e){return new tG(n,e)}const{schedule:D2}=qI(queueMicrotask,!1),sc={x:!1,y:!1};function B3(){return sc.x||sc.y}function nG(n){return n==="x"||n==="y"?sc[n]?null:(sc[n]=!0,()=>{sc[n]=!1}):sc.x||sc.y?null:(sc.x=sc.y=!0,()=>{sc.x=sc.y=!1})}function C3(n,e){const t=qz(n),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[t,r,()=>s.abort()]}function MS(n){return!(n.pointerType==="touch"||B3())}function sG(n,e,t={}){const[s,r,o]=C3(n,t),c=h=>{if(!MS(h))return;const{target:u}=h,f=e(u,h);if(typeof f!="function"||!u)return;const A=m=>{MS(m)&&(f(m),u.removeEventListener("pointerleave",A))};u.addEventListener("pointerleave",A,r)};return s.forEach(h=>{h.addEventListener("pointerenter",c,r)}),o}const S3=(n,e)=>e?n===e?!0:S3(n,e.parentElement):!1,R2=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,rG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N3(n){return rG.has(n.tagName)||n.isContentEditable===!0}const Cx=new WeakSet;function HS(n){return e=>{e.key==="Enter"&&n(e)}}function T1(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aG=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=HS(()=>{if(Cx.has(t))return;T1(t,"down");const r=HS(()=>{T1(t,"up")}),o=()=>T1(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function VS(n){return R2(n)&&!B3()}function iG(n,e,t={}){const[s,r,o]=C3(n,t),c=h=>{const u=h.currentTarget;if(!VS(h))return;Cx.add(u);const f=e(u,h),A=(g,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),Cx.has(u)&&Cx.delete(u),VS(g)&&typeof f=="function"&&f(g,{success:b})},m=g=>{A(g,u===window||u===document||t.useGlobalTarget||S3(u,g.target))},x=g=>{A(g,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",x,r)};return s.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),Zz(h)&&(h.addEventListener("focus",f=>aG(f,r)),!N3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function E3(n){return PI(n)&&"ownerSVGElement"in n}function oG(n){return E3(n)&&n.tagName==="svg"}const il=n=>!!(n&&n.getVelocity),lG=[...y3,Mi,Xd],AG=n=>lG.find(v3(n)),T3=Z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function cG(n=!0){const e=Z.useContext(m2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,o=Z.useId();Z.useEffect(()=>{if(n)return r(o)},[n]);const c=Z.useCallback(()=>n&&s&&s(o),[o,s,n]);return!t&&s?[!1,c]:[!0]}const I3=Z.createContext({strict:!1}),KS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pm={};for(const n in KS)pm[n]={isEnabled:e=>KS[n].some(t=>!!e[t])};function uG(n){for(const e in n)pm[e]={...pm[e],...n[e]}}const dG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Av(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||dG.has(n)}let _3=n=>!Av(n);function hG(n){typeof n=="function"&&(_3=e=>e.startsWith("on")?!Av(e):n(e))}try{hG(require("@emotion/is-prop-valid").default)}catch{}function fG(n,e,t){const s={};for(const r in n)r==="values"&&typeof n.values=="object"||(_3(r)||t===!0&&Av(r)||!e&&!Av(r)||n.draggable&&r.startsWith("onDrag"))&&(s[r]=n[r]);return s}const Kv=Z.createContext({});function zv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function bg(n){return typeof n=="string"||Array.isArray(n)}const L2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q2=["initial",...L2];function Gv(n){return zv(n.animate)||Q2.some(e=>bg(n[e]))}function F3(n){return!!(Gv(n)||n.variants)}function mG(n,e){if(Gv(n)){const{initial:t,animate:s}=n;return{initial:t===!1||bg(t)?t:void 0,animate:bg(s)?s:void 0}}return n.inherit!==!1?e:{}}function pG(n){const{initial:e,animate:t}=mG(n,Z.useContext(Kv));return Z.useMemo(()=>({initial:e,animate:t}),[zS(e),zS(t)])}function zS(n){return Array.isArray(n)?n.join(" "):n}function GS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Np={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(jn.test(n))n=parseFloat(n);else return n;const t=GS(n,e.target.x),s=GS(n,e.target.y);return`${t}% ${s}%`}},gG={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,r=Xd.parse(n);if(r.length>5)return s;const o=Xd.createTransformer(n),c=typeof r[0]!="number"?1:0,h=t.x.scale*e.x,u=t.y.scale*e.y;r[0+c]/=h,r[1+c]/=u;const f=qa(h,u,.5);return typeof r[2+c]=="number"&&(r[2+c]/=f),typeof r[3+c]=="number"&&(r[3+c]/=f),o(r)}},Vb={borderRadius:{...Np,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Np,borderTopRightRadius:Np,borderBottomLeftRadius:Np,borderBottomRightRadius:Np,boxShadow:gG};function U3(n,{layout:e,layoutId:t}){return _m.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Vb[n]||n==="opacity")}const xG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vG=Im.length;function yG(n,e,t){let s="",r=!0;for(let o=0;o<vG;o++){const c=Im[o],h=n[c];if(h===void 0)continue;let u=!0;if(typeof h=="number"?u=h===(c.startsWith("scale")?1:0):u=parseFloat(h)===0,!u||t){const f=j3(h,U2[c]);if(!u){r=!1;const A=xG[c]||c;s+=`${A}(${f}) `}t&&(e[c]=f)}}return s=s.trim(),t?s=t(e,r?"":s):r&&(s="none"),s}function O2(n,e,t){const{style:s,vars:r,transformOrigin:o}=n;let c=!1,h=!1;for(const u in e){const f=e[u];if(_m.has(u)){c=!0;continue}else if(e3(u)){r[u]=f;continue}else{const A=j3(f,U2[u]);u.startsWith("origin")?(h=!0,o[u]=A):s[u]=A}}if(e.transform||(c||t?s.transform=yG(e,n.transform,t):s.transform&&(s.transform="none")),h){const{originX:u="50%",originY:f="50%",originZ:A=0}=o;s.transformOrigin=`${u} ${f} ${A}`}}const P2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D3(n,e,t){for(const s in e)!il(e[s])&&!U3(s,t)&&(n[s]=e[s])}function bG({transformTemplate:n},e){return Z.useMemo(()=>{const t=P2();return O2(t,e,n),Object.assign({},t.vars,t.style)},[e])}function wG(n,e){const t=n.style||{},s={};return D3(s,t,n),Object.assign(s,bG(n,e)),s}function jG(n,e){const t={},s=wG(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const BG={offset:"stroke-dashoffset",array:"stroke-dasharray"},CG={offset:"strokeDashoffset",array:"strokeDasharray"};function SG(n,e,t=1,s=0,r=!0){n.pathLength=1;const o=r?BG:CG;n[o.offset]=jn.transform(-s);const c=jn.transform(e),h=jn.transform(t);n[o.array]=`${c} ${h}`}const NG=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function R3(n,{attrX:e,attrY:t,attrScale:s,pathLength:r,pathSpacing:o=1,pathOffset:c=0,...h},u,f,A){if(O2(n,h,f),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:x}=n;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(A==null?void 0:A.transformBox)??"fill-box",delete m.transformBox);for(const g of NG)m[g]!==void 0&&(x[g]=m[g],delete m[g]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),s!==void 0&&(m.scale=s),r!==void 0&&SG(m,r,o,c,!1)}const L3=()=>({...P2(),attrs:{}}),Q3=n=>typeof n=="string"&&n.toLowerCase()==="svg";function EG(n,e,t,s){const r=Z.useMemo(()=>{const o=L3();return R3(o,e,Q3(s),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};D3(o,n.style,n),r.style={...o,...r.style}}return r}const TG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k2(n){return typeof n!="string"||n.includes("-")?!1:!!(TG.indexOf(n)>-1||/[A-Z]/u.test(n))}function IG(n,e,t,{latestValues:s},r,o=!1,c){const u=(c??k2(n)?EG:jG)(e,s,r,n),f=fG(e,typeof n=="string",o),A=n!==Z.Fragment?{...f,...u,ref:t}:{},{children:m}=e,x=Z.useMemo(()=>il(m)?m.get():m,[m]);return Z.createElement(n,{...A,children:x})}function $S(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function M2(n,e,t,s){if(typeof e=="function"){const[r,o]=$S(s);e=e(t!==void 0?t:n.custom,r,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,o]=$S(s);e=e(t!==void 0?t:n.custom,r,o)}return e}function Sx(n){return il(n)?n.get():n}function _G({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,r){return{latestValues:FG(t,s,r,n),renderState:e()}}function FG(n,e,t,s){const r={},o=s(n,{});for(const x in o)r[x]=Sx(o[x]);let{initial:c,animate:h}=n;const u=Gv(n),f=F3(n);e&&f&&!u&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let A=t?t.initial===!1:!1;A=A||c===!1;const m=A?h:c;if(m&&typeof m!="boolean"&&!zv(m)){const x=Array.isArray(m)?m:[m];for(let g=0;g<x.length;g++){const b=M2(n,x[g]);if(b){const{transitionEnd:I,transition:N,...S}=b;for(const E in S){let F=S[E];if(Array.isArray(F)){const Q=A?F.length-1:0;F=F[Q]}F!==null&&(r[E]=F)}for(const E in I)r[E]=I[E]}}}return r}const O3=n=>(e,t)=>{const s=Z.useContext(Kv),r=Z.useContext(m2),o=()=>_G(n,e,s,r);return t?o():dK(o)};function H2(n,e,t){var o;const{style:s}=n,r={};for(const c in s)(il(s[c])||e.style&&il(e.style[c])||U3(c,n)||((o=t==null?void 0:t.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(r[c]=s[c]);return r}const UG=O3({scrapeMotionValuesFromProps:H2,createRenderState:P2});function P3(n,e,t){const s=H2(n,e,t);for(const r in n)if(il(n[r])||il(e[r])){const o=Im.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[o]=n[r]}return s}const DG=O3({scrapeMotionValuesFromProps:P3,createRenderState:L3}),RG=Symbol.for("motionComponentSymbol");function LG(n,e,t){const s=Z.useRef(t);Z.useInsertionEffect(()=>{s.current=t});const r=Z.useRef(null);return Z.useCallback(o=>{var h;o&&((h=n.onMount)==null||h.call(n,o)),e&&(o?e.mount(o):e.unmount());const c=s.current;if(typeof c=="function")if(o){const u=c(o);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):c(o);else c&&(c.current=o)},[e])}const V2=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QG="framerAppearId",k3="data-"+V2(QG),M3=Z.createContext({});function Lp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function OG(n,e,t,s,r,o){var N,S;const{visualElement:c}=Z.useContext(Kv),h=Z.useContext(I3),u=Z.useContext(m2),f=Z.useContext(T3).reducedMotion,A=Z.useRef(null);s=s||h.renderer,!A.current&&s&&(A.current=s(n,{visualState:e,parent:c,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const m=A.current,x=Z.useContext(M3);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&PG(A.current,t,r,x);const g=Z.useRef(!1);Z.useInsertionEffect(()=>{m&&g.current&&m.update(t,u)});const b=t[k3],I=Z.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return hK(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),I.current&&m.animationState&&m.animationState.animateChanges())}),Z.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,b)}),I.current=!1),m.enteringChildren=void 0)}),m}function PG(n,e,t,s){const{layoutId:r,layout:o,drag:c,dragConstraints:h,layoutScroll:u,layoutRoot:f,layoutCrossfade:A}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:H3(n.parent)),n.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||h&&Lp(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:A,layoutScroll:u,layoutRoot:f})}function H3(n){if(n)return n.options.allowProjection!==!1?n.projection:H3(n.parent)}function I1(n,{forwardMotionProps:e=!1,type:t}={},s,r){s&&uG(s);const o=t?t==="svg":k2(n),c=o?DG:UG;function h(f,A){let m;const x={...Z.useContext(T3),...f,layoutId:kG(f)},{isStatic:g}=x,b=pG(f),I=c(f,g);if(!g&&f2){MG();const N=HG(x);m=N.MeasureLayout,b.visualElement=OG(n,I,x,r,N.ProjectionNode,o)}return i.jsxs(Kv.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...x}):null,IG(n,f,LG(I,b.visualElement,A),I,g,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=Z.forwardRef(h);return u[RG]=n,u}function kG({layoutId:n}){const e=Z.useContext(QI).id;return e&&n!==void 0?e+"-"+n:n}function MG(n,e){Z.useContext(I3).strict}function HG(n){const{drag:e,layout:t}=pm;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function VG(n,e){if(typeof Proxy>"u")return I1;const t=new Map,s=(o,c)=>I1(o,c,n,e),r=(o,c)=>s(o,c);return new Proxy(r,{get:(o,c)=>c==="create"?s:(t.has(c)||t.set(c,I1(c,void 0,n,e)),t.get(c))})}function V3({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function KG({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function zG(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function _1(n){return n===void 0||n===1}function Kb({scale:n,scaleX:e,scaleY:t}){return!_1(n)||!_1(e)||!_1(t)}function Qh(n){return Kb(n)||K3(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function K3(n){return YS(n.x)||YS(n.y)}function YS(n){return n&&n!=="0%"}function cv(n,e,t){const s=n-t,r=e*s;return t+r}function WS(n,e,t,s,r){return r!==void 0&&(n=cv(n,r,s)),cv(n,t,s)+e}function zb(n,e=0,t=1,s,r){n.min=WS(n.min,e,t,s,r),n.max=WS(n.max,e,t,s,r)}function z3(n,{x:e,y:t}){zb(n.x,e.translate,e.scale,e.originPoint),zb(n.y,t.translate,t.scale,t.originPoint)}const XS=.999999999999,JS=1.0000000000001;function GG(n,e,t,s=!1){const r=t.length;if(!r)return;e.x=e.y=1;let o,c;for(let h=0;h<r;h++){o=t[h],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&qf(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,z3(n,c)),s&&Qh(o.latestValues)&&qf(n,o.latestValues))}e.x<JS&&e.x>XS&&(e.x=1),e.y<JS&&e.y>XS&&(e.y=1)}function Jf(n,e){n.min=n.min+e,n.max=n.max+e}function qS(n,e,t,s,r=.5){const o=qa(n.min,n.max,r);zb(n,e,t,o,s)}function qf(n,e){qS(n.x,e.x,e.scaleX,e.scale,e.originX),qS(n.y,e.y,e.scaleY,e.scale,e.originY)}function G3(n,e){return V3(zG(n.getBoundingClientRect(),e))}function $G(n,e,t){const s=G3(n,t),{scroll:r}=e;return r&&(Jf(s.x,r.offset.x),Jf(s.y,r.offset.y)),s}const ZS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zf=()=>({x:ZS(),y:ZS()}),eN=()=>({min:0,max:0}),ro=()=>({x:eN(),y:eN()}),Gb={current:null},$3={current:!1};function YG(){if($3.current=!0,!!f2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gb.current=n.matches;n.addEventListener("change",e),e()}else Gb.current=!1}const WG=new WeakMap;function XG(n,e,t){for(const s in e){const r=e[s],o=t[s];if(il(r))n.addValue(s,r);else if(il(o))n.addValue(s,mm(r,{owner:n}));else if(o!==r)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=n.getStaticValue(s);n.addValue(s,mm(c!==void 0?c:r,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const tN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JG{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=yl.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ta.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Gv(t),this.isVariantNode=F3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:A,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in m){const g=m[x];u[x]!==void 0&&il(g)&&g.set(u[x])}}mount(e){var t;this.current=e,WG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($3.current||YG(),this.shouldReduceMotion=Gb.current),(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Wd(this.notifyUpdate),Wd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=_m.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ta.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pm){const t=pm[e];if(!t)continue;const{isEnabled:s,Feature:r}=t;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ro()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<tN.length;s++){const r=tN[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,c=e[o];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=XG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=mm(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(OI(s)||kI(s))?s=parseFloat(s):!AG(s)&&Xd.test(t)&&(s=w3(e,t)),this.setBaseTarget(e,il(s)?s.get():s)),il(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const c=M2(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);c&&(s=c[e])}if(t&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!il(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new y2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){D2.render(this.render)}}class Y3 extends JG{constructor(){super(...arguments),this.KeyframeResolver=Jz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;il(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function W3(n,{style:e,vars:t},s,r){const o=n.style;let c;for(c in e)o[c]=e[c];r==null||r.applyProjectionStyles(o,s);for(c in t)o.setProperty(c,t[c])}function qG(n){return window.getComputedStyle(n)}class ZG extends Y3{constructor(){super(...arguments),this.type="html",this.renderInstance=W3}readValueFromInstance(e,t){var s;if(_m.has(t))return(s=this.projection)!=null&&s.isProjecting?Lb(t):pz(e,t);{const r=qG(e),o=(e3(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return G3(e,t)}build(e,t,s){O2(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return H2(e,t,s)}}const X3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e$(n,e,t,s){W3(n,e,void 0,s);for(const r in e.attrs)n.setAttribute(X3.has(r)?r:V2(r),e.attrs[r])}class t$ extends Y3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ro}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_m.has(t)){const s=b3(t);return s&&s.default||0}return t=X3.has(t)?t:V2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return P3(e,t,s)}build(e,t,s){R3(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,r){e$(e,t,s,r)}mount(e){this.isSVGTag=Q3(e.tagName),super.mount(e)}}const n$=(n,e)=>e.isSVG??k2(n)?new t$(e):new ZG(e,{allowProjection:n!==Z.Fragment});function rm(n,e,t){const s=n.getProps();return M2(s,e,t!==void 0?t:s.custom,n)}const $b=n=>Array.isArray(n);function s$(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,mm(t))}function r$(n){return $b(n)?n[n.length-1]||0:n}function a$(n,e){const t=rm(n,e);let{transitionEnd:s={},transition:r={},...o}=t||{};o={...o,...s};for(const c in o){const h=r$(o[c]);s$(n,c,h)}}function i$(n){return!!(il(n)&&n.add)}function Yb(n,e){const t=n.getValue("willChange");if(i$(t))return t.add(e);if(!t&&Fu.WillChange){const s=new Fu.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function J3(n){return n.props[k3]}const o$=n=>n!==null;function l$(n,{repeat:e,repeatType:t="loop"},s){const r=n.filter(o$),o=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[o]}const A$={type:"spring",stiffness:500,damping:25,restSpeed:10},c$=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),u$={type:"keyframes",duration:.8},d$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h$=(n,{keyframes:e})=>e.length>2?u$:_m.has(n)?n.startsWith("scale")?c$(e[1]):A$:d$;function f$({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:h,from:u,elapsed:f,...A}){return!!Object.keys(A).length}const K2=(n,e,t,s={},r,o)=>c=>{const h=F2(s,n)||{},u=h.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Su(u);const A={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:r};f$(h)||Object.assign(A,h$(n,A)),A.duration&&(A.duration=Su(A.duration)),A.repeatDelay&&(A.repeatDelay=Su(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let m=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(Mb(A),A.delay===0&&(m=!0)),(Fu.instantAnimations||Fu.skipAnimations)&&(m=!0,Mb(A),A.delay=0),A.allowFlatten=!h.type&&!h.ease,m&&!o&&e.get()!==void 0){const x=l$(A.keyframes,h);if(x!==void 0){Ta.update(()=>{A.onUpdate(x),A.onComplete()});return}}return h.isSync?new I2(A):new Pz(A)};function m$({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function q3(n,e,{delay:t=0,transitionOverride:s,type:r}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(o=s);const u=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const A in h){const m=n.getValue(A,n.latestValues[A]??null),x=h[A];if(x===void 0||f&&m$(f,A))continue;const g={delay:t,...F2(o||{},A)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===b&&!g.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const S=J3(n);if(S){const E=window.MotionHandoffAnimation(S,A,Ta);E!==null&&(g.startTime=E,I=!0)}}Yb(n,A),m.start(K2(A,m,x,n.shouldReduceMotion&&x3.has(A)?{type:!1}:g,n,I));const N=m.animation;N&&u.push(N)}return c&&Promise.all(u).then(()=>{Ta.update(()=>{c&&a$(n,c)})}),u}function Z3(n,e,t,s=0,r=1){const o=Array.from(n).sort((f,A)=>f.sortNodePosition(A)).indexOf(e),c=n.size,h=(c-1)*s;return typeof t=="function"?t(o,c):r===1?o*s:h-o*s}function Wb(n,e,t={}){var u;const s=rm(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(r=t.transitionOverride);const o=s?()=>Promise.all(q3(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:A=0,staggerChildren:m,staggerDirection:x}=r;return p$(n,e,f,A,m,x,t)}:()=>Promise.resolve(),{when:h}=r;if(h){const[f,A]=h==="beforeChildren"?[o,c]:[c,o];return f().then(()=>A())}else return Promise.all([o(),c(t.delay)])}function p$(n,e,t=0,s=0,r=0,o=1,c){const h=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),h.push(Wb(u,e,{...c,delay:t+(typeof s=="function"?0:s)+Z3(n.variantChildren,u,s,r,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(h)}function g$(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(o=>Wb(n,o,t));s=Promise.all(r)}else if(typeof e=="string")s=Wb(n,e,t);else{const r=typeof e=="function"?rm(n,e,t.custom):e;s=Promise.all(q3(n,r,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}function e_(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const x$=Q2.length;function t_(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?t_(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<x$;t++){const s=Q2[t],r=n.props[s];(bg(r)||r===!1)&&(e[s]=r)}return e}const v$=[...L2].reverse(),y$=L2.length;function b$(n){return e=>Promise.all(e.map(({animation:t,options:s})=>g$(n,t,s)))}function w$(n){let e=b$(n),t=nN(),s=!0;const r=u=>(f,A)=>{var x;const m=rm(n,A,u==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:g,transitionEnd:b,...I}=m;f={...f,...I,...b}}return f};function o(u){e=u(n)}function c(u){const{props:f}=n,A=t_(n.parent)||{},m=[],x=new Set;let g={},b=1/0;for(let N=0;N<y$;N++){const S=v$[N],E=t[S],F=f[S]!==void 0?f[S]:A[S],Q=bg(F),P=S===u?E.isActive:null;P===!1&&(b=N);let H=F===A[S]&&F!==f[S]&&Q;if(H&&s&&n.manuallyAnimateOnMount&&(H=!1),E.protectedKeys={...g},!E.isActive&&P===null||!F&&!E.prevProp||zv(F)||typeof F=="boolean")continue;const L=j$(E.prevProp,F);let U=L||S===u&&E.isActive&&!H&&Q||N>b&&Q,R=!1;const K=Array.isArray(F)?F:[F];let O=K.reduce(r(S),{});P===!1&&(O={});const{prevResolvedValues:V={}}=E,G={...V,...O},oe=X=>{U=!0,x.has(X)&&(R=!0,x.delete(X)),E.needsAnimating[X]=!0;const W=n.getValue(X);W&&(W.liveStyle=!1)};for(const X in G){const W=O[X],re=V[X];if(g.hasOwnProperty(X))continue;let me=!1;$b(W)&&$b(re)?me=!e_(W,re):me=W!==re,me?W!=null?oe(X):x.add(X):W!==void 0&&x.has(X)?oe(X):E.protectedKeys[X]=!0}E.prevProp=F,E.prevResolvedValues=O,E.isActive&&(g={...g,...O}),s&&n.blockInitialAnimation&&(U=!1);const ge=H&&L;U&&(!ge||R)&&m.push(...K.map(X=>{const W={type:S};if(typeof X=="string"&&s&&!ge&&n.manuallyAnimateOnMount&&n.parent){const{parent:re}=n,me=rm(re,X);if(re.enteringChildren&&me){const{delayChildren:ee}=me.transition||{};W.delay=Z3(re.enteringChildren,n,ee)}}return{animation:X,options:W}}))}if(x.size){const N={};if(typeof f.initial!="boolean"){const S=rm(n,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(N.transition=S.transition)}x.forEach(S=>{const E=n.getBaseTarget(S),F=n.getValue(S);F&&(F.liveStyle=!0),N[S]=E??null}),m.push({animation:N})}let I=!!m.length;return s&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(m):Promise.resolve()}function h(u,f){var m;if(t[u].isActive===f)return Promise.resolve();(m=n.variantChildren)==null||m.forEach(x=>{var g;return(g=x.animationState)==null?void 0:g.setActive(u,f)}),t[u].isActive=f;const A=c(u);for(const x in t)t[x].protectedKeys={};return A}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=nN()}}}function j$(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!e_(e,n):!1}function Dh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nN(){return{animate:Dh(!0),whileInView:Dh(),whileHover:Dh(),whileTap:Dh(),whileDrag:Dh(),whileFocus:Dh(),exit:Dh()}}class nh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class B$ extends nh{constructor(e){super(e),e.animationState||(e.animationState=w$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let C$=0;class S$ extends nh{constructor(){super(...arguments),this.id=C$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const N$={animation:{Feature:B$},exit:{Feature:S$}};function wg(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Kg(n){return{point:{x:n.pageX,y:n.pageY}}}const E$=n=>e=>R2(e)&&n(e,Kg(e));function eg(n,e,t,s){return wg(n,e,E$(t),s)}const n_=1e-4,T$=1-n_,I$=1+n_,s_=.01,_$=0-s_,F$=0+s_;function bl(n){return n.max-n.min}function U$(n,e,t){return Math.abs(n-e)<=t}function sN(n,e,t,s=.5){n.origin=s,n.originPoint=qa(e.min,e.max,n.origin),n.scale=bl(t)/bl(e),n.translate=qa(t.min,t.max,n.origin)-n.originPoint,(n.scale>=T$&&n.scale<=I$||isNaN(n.scale))&&(n.scale=1),(n.translate>=_$&&n.translate<=F$||isNaN(n.translate))&&(n.translate=0)}function tg(n,e,t,s){sN(n.x,e.x,t.x,s?s.originX:void 0),sN(n.y,e.y,t.y,s?s.originY:void 0)}function rN(n,e,t){n.min=t.min+e.min,n.max=n.min+bl(e)}function D$(n,e,t){rN(n.x,e.x,t.x),rN(n.y,e.y,t.y)}function aN(n,e,t){n.min=e.min-t.min,n.max=n.min+bl(e)}function uv(n,e,t){aN(n.x,e.x,t.x),aN(n.y,e.y,t.y)}function TA(n){return[n("x"),n("y")]}const r_=({current:n})=>n?n.ownerDocument.defaultView:null,iN=(n,e)=>Math.abs(n-e);function R$(n,e){const t=iN(n.x,e.x),s=iN(n.y,e.y);return Math.sqrt(t**2+s**2)}const oN=new Set(["auto","scroll"]);class a_{constructor(e,t,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=U1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,I=R$(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!I)return;const{point:N}=g,{timestamp:S}=So;this.history.push({...N,timestamp:S});const{onStart:E,onMove:F}=this.handlers;b||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=F1(b,this.transformPagePoint),Ta.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=U1(g.type==="pointercancel"?this.lastMoveEventInfo:F1(b,this.transformPagePoint),this.history);this.startEvent&&I&&I(g,E),N&&N(g,E)},!R2(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=r||window;const u=Kg(e),f=F1(u,this.transformPagePoint),{point:A}=f,{timestamp:m}=So;this.history=[{...A,timestamp:m}];const{onSessionStart:x}=t;x&&x(e,U1(f,this.history)),this.removeListeners=Mg(eg(this.contextWindow,"pointermove",this.handlePointerMove),eg(this.contextWindow,"pointerup",this.handlePointerUp),eg(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(oN.has(s.overflowX)||oN.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:r.x-t.x,y:r.y-t.y};o.x===0&&o.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,r),Ta.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Wd(this.updatePoint)}}function F1(n,e){return e?{point:e(n.point)}:n}function lN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function U1({point:n},e){return{point:n,delta:lN(n,i_(e)),offset:lN(n,L$(e)),velocity:Q$(e,.1)}}function L$(n){return n[0]}function i_(n){return n[n.length-1]}function Q$(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const r=i_(n);for(;t>=0&&(s=n[t],!(r.timestamp-s.timestamp>Su(e)));)t--;if(!s)return{x:0,y:0};const o=FA(r.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-s.x)/o,y:(r.y-s.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function O$(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?qa(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?qa(t,n,s.max):Math.min(n,t)),n}function AN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function P$(n,{top:e,left:t,bottom:s,right:r}){return{x:AN(n.x,t,r),y:AN(n.y,e,s)}}function cN(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function k$(n,e){return{x:cN(n.x,e.x),y:cN(n.y,e.y)}}function M$(n,e){let t=.5;const s=bl(n),r=bl(e);return r>s?t=xg(e.min,e.max-s,n.min):s>r&&(t=xg(n.min,n.max-r,e.min)),Zc(0,1,t)}function H$(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Xb=.35;function V$(n=Xb){return n===!1?n=0:n===!0&&(n=Xb),{x:uN(n,"left","right"),y:uN(n,"top","bottom")}}function uN(n,e,t){return{min:dN(n,e),max:dN(n,t)}}function dN(n,e){return typeof n=="number"?n:n[e]||0}const K$=new WeakMap;class z${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ro(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{t?(this.stopAnimation(),this.snapToCursor(Kg(m).point)):this.pauseAnimation()},c=(m,x)=>{this.stopAnimation();const{drag:g,dragPropagation:b,onDragStart:I}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nG(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),TA(S=>{let E=this.getAxisMotionValue(S).get()||0;if(Wc.test(E)){const{projection:F}=this.visualElement;if(F&&F.layout){const Q=F.layout.layoutBox[S];Q&&(E=bl(Q)*(parseFloat(E)/100))}}this.originPoint[S]=E}),I&&Ta.postRender(()=>I(m,x)),Yb(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:I,onDrag:N}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=x;if(b&&this.currentDirection===null){this.currentDirection=G$(S),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,S),this.updateAxis("y",x.point,S),this.visualElement.render(),N&&N(m,x)},u=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>TA(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)==null?void 0:x.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new a_(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:s,contextWindow:r_(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!s)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Ta.postRender(()=>h(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:r}=this.getProps();if(!s||!ax(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=O$(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;e&&Lp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=P$(s.layoutBox,e):this.constraints=!1,this.elastic=V$(t),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&TA(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=H$(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Lp(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=$G(s,r.root,this.visualElement.getTransformPagePoint());let c=k$(r.layout.layoutBox,o);if(t){const h=t(KG(c));this.hasMutatedConstraints=!!h,h&&(c=V3(h))}return c}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),u=this.constraints||{},f=TA(A=>{if(!ax(A,t,this.currentDirection))return;let m=u&&u[A]||{};c&&(m={min:0,max:0});const x=r?200:1e6,g=r?40:1e7,b={type:"inertia",velocity:s?e[A]:0,bounceStiffness:x,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(A,b)});return Promise.all(f).then(h)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Yb(this.visualElement,e),s.start(K2(e,s,0,t,this.visualElement,!1))}stopAnimation(){TA(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){TA(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[t];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){TA(t=>{const{drag:s}=this.getProps();if(!ax(t,s,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[t],u=o.get()||0;o.set(e[t]-qa(c,h,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Lp(t)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};TA(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const u=h.get();r[c]=M$({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),TA(c=>{if(!ax(c,e,null))return;const h=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];h.set(qa(u,f,r[c]))})}addListeners(){if(!this.visualElement.current)return;K$.set(this.visualElement,this);const e=this.visualElement.current,t=eg(e,"pointerdown",u=>{const{drag:f,dragListener:A=!0}=this.getProps();f&&A&&!N3(u.target)&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Lp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ta.read(s);const c=wg(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(TA(A=>{const m=this.getAxisMotionValue(A);m&&(this.originPoint[A]+=u[A].translate,m.set(m.get()+u[A].translate))}),this.visualElement.render())}));return()=>{c(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=Xb,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function ax(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function G$(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class $$ extends nh{constructor(e){super(e),this.removeGroupControls=LA,this.removeListeners=LA,this.controls=new z$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||LA}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const hN=n=>(e,t)=>{n&&Ta.postRender(()=>n(e,t))};class Y$ extends nh{constructor(){super(...arguments),this.removePointerDownListener=LA}onPointerDown(e){this.session=new a_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:hN(e),onStart:hN(t),onMove:s,onEnd:(o,c)=>{delete this.session,r&&Ta.postRender(()=>r(o,c))}}}mount(){this.removePointerDownListener=eg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let D1=!1;class W$ extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),s&&s.register&&r&&s.register(o),D1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Nx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:r,isPresent:o}=this.props,{projection:c}=s;return c&&(c.isPresent=o,D1=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Ta.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),D2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:r}=e;D1=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function o_(n){const[e,t]=cG(),s=Z.useContext(QI);return i.jsx(W$,{...n,layoutGroup:s,switchLayoutGroup:Z.useContext(M3),isPresent:e,safeToRemove:t})}function X$(n,e,t){const s=il(n)?n:mm(n);return s.start(K2("",s,e,t)),s.animation}const J$=(n,e)=>n.depth-e.depth;class q${constructor(){this.children=[],this.isDirty=!1}add(e){p2(this.children,e),this.isDirty=!0}remove(e){g2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J$),this.isDirty=!1,this.children.forEach(e)}}function Z$(n,e){const t=yl.now(),s=({timestamp:r})=>{const o=r-t;o>=e&&(Wd(s),n(o-e))};return Ta.setup(s,!0),()=>Wd(s)}const l_=["TopLeft","TopRight","BottomLeft","BottomRight"],eY=l_.length,fN=n=>typeof n=="string"?parseFloat(n):n,mN=n=>typeof n=="number"||jn.test(n);function tY(n,e,t,s,r,o){r?(n.opacity=qa(0,t.opacity??1,nY(s)),n.opacityExit=qa(e.opacity??1,0,sY(s))):o&&(n.opacity=qa(e.opacity??1,t.opacity??1,s));for(let c=0;c<eY;c++){const h=`border${l_[c]}Radius`;let u=pN(e,h),f=pN(t,h);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||mN(u)===mN(f)?(n[h]=Math.max(qa(fN(u),fN(f),s),0),(Wc.test(f)||Wc.test(u))&&(n[h]+="%")):n[h]=f}(e.rotate||t.rotate)&&(n.rotate=qa(e.rotate||0,t.rotate||0,s))}function pN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const nY=A_(0,.5,YI),sY=A_(.5,.95,LA);function A_(n,e,t){return s=>s<n?0:s>e?1:t(xg(n,e,s))}function gN(n,e){n.min=e.min,n.max=e.max}function nc(n,e){gN(n.x,e.x),gN(n.y,e.y)}function xN(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function vN(n,e,t,s,r){return n-=e,n=cv(n,1/t,s),r!==void 0&&(n=cv(n,1/r,s)),n}function rY(n,e=0,t=1,s=.5,r,o=n,c=n){if(Wc.test(e)&&(e=parseFloat(e),e=qa(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=qa(o.min,o.max,s);n===o&&(h-=e),n.min=vN(n.min,e,t,h,r),n.max=vN(n.max,e,t,h,r)}function yN(n,e,[t,s,r],o,c){rY(n,e[t],e[s],e[r],e.scale,o,c)}const aY=["x","scaleX","originX"],iY=["y","scaleY","originY"];function bN(n,e,t,s){yN(n.x,e,aY,t?t.x:void 0,s?s.x:void 0),yN(n.y,e,iY,t?t.y:void 0,s?s.y:void 0)}function wN(n){return n.translate===0&&n.scale===1}function c_(n){return wN(n.x)&&wN(n.y)}function jN(n,e){return n.min===e.min&&n.max===e.max}function oY(n,e){return jN(n.x,e.x)&&jN(n.y,e.y)}function BN(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function u_(n,e){return BN(n.x,e.x)&&BN(n.y,e.y)}function CN(n){return bl(n.x)/bl(n.y)}function SN(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class lY{constructor(){this.members=[]}add(e){p2(this.members,e),e.scheduleRender()}remove(e){if(g2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let s;for(let r=t;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AY(n,e,t){let s="";const r=n.x.translate/e.x,o=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((r||o||c)&&(s=`translate3d(${r}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:A,rotateX:m,rotateY:x,skewX:g,skewY:b}=t;f&&(s=`perspective(${f}px) ${s}`),A&&(s+=`rotate(${A}deg) `),m&&(s+=`rotateX(${m}deg) `),x&&(s+=`rotateY(${x}deg) `),g&&(s+=`skewX(${g}deg) `),b&&(s+=`skewY(${b}deg) `)}const h=n.x.scale*e.x,u=n.y.scale*e.y;return(h!==1||u!==1)&&(s+=`scale(${h}, ${u})`),s||"none"}const R1=["","X","Y","Z"],cY=1e3;let uY=0;function L1(n,e,t,s){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),s&&(s[n]=0))}function d_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=J3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ta,!(r||o))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&d_(s)}function h_({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(c={},h=e==null?void 0:e()){this.id=uY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fY),this.nodes.forEach(xY),this.nodes.forEach(vY),this.nodes.forEach(mY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new q$)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new y2),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const u=this.eventHandlers.get(c);u&&u.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=E3(c)&&!oG(c),this.instance=c;const{layoutId:h,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||h)&&(this.isLayoutDirty=!0),n){let A,m=0;const x=()=>this.root.updateBlockedByResize=!1;Ta.read(()=>{m=window.innerWidth}),n(c,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,A&&A(),A=Z$(x,250),Nx.hasAnimatedSinceResize&&(Nx.hasAnimatedSinceResize=!1,this.nodes.forEach(TN)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||u)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||BY,{onLayoutAnimationStart:I,onLayoutAnimationComplete:N}=f.getProps(),S=!this.targetLayout||!u_(this.targetLayout,g),E=!m&&x;if(this.options.layoutRoot||this.resumeFrom||E||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...F2(b,"layout"),onPlay:I,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(A,E)}else m||TN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yY),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const m=this.path[A];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:h,layout:u}=this.options;if(h===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gY),this.nodes.forEach(dY),this.nodes.forEach(hY)):this.nodes.forEach(EN),this.clearAllSnapshots();const h=yl.now();So.delta=Zc(0,1e3/60,h-So.timestamp),So.timestamp=h,So.isProcessing=!0,j1.update.process(So),j1.preRender.process(So),j1.render.process(So),So.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,D2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pY),this.sharedNodes.forEach(bY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ta.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ta.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bl(this.snapshot.measuredBox.x)&&!bl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ro(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!c_(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,A=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||Qh(this.latestValues)||A)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let u=this.removeElementScroll(h);return c&&(u=this.removeTransform(u)),CY(u),{animationId:this.root.animationId,measuredBox:h,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return ro();const h=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(SY))){const{scroll:A}=this.root;A&&(Jf(h.x,A.offset.x),Jf(h.y,A.offset.y))}return h}removeElementScroll(c){var u;const h=ro();if(nc(h,c),(u=this.scroll)!=null&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const A=this.path[f],{scroll:m,options:x}=A;A!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&nc(h,c),Jf(h.x,m.offset.x),Jf(h.y,m.offset.y))}return h}applyTransform(c,h=!1){const u=ro();nc(u,c);for(let f=0;f<this.path.length;f++){const A=this.path[f];!h&&A.options.layoutScroll&&A.scroll&&A!==A.root&&qf(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Qh(A.latestValues)&&qf(u,A.latestValues)}return Qh(this.latestValues)&&qf(u,this.latestValues),u}removeTransform(c){const h=ro();nc(h,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Qh(f.latestValues))continue;Kb(f.latestValues)&&f.updateSnapshot();const A=ro(),m=f.measurePageBox();nc(A,m),bN(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,A)}return Qh(this.latestValues)&&bN(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==So.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==h;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:m}=this.options;if(!this.layout||!(A||m))return;this.resolvedRelativeTargetAt=So.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ro(),this.targetWithTransforms=ro()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),D$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nc(this.target,this.layout.layoutBox),z3(this.target,this.targetDelta)):nc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kb(this.parent.latestValues)||K3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,u){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),uv(this.relativeTargetOrigin,h,u),nc(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===So.timestamp&&(u=!1),u)return;const{layout:f,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||A))return;nc(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;GG(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ro());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xN(this.prevProjectionDelta.x,this.projectionDelta.x),xN(this.prevProjectionDelta.y,this.projectionDelta.y)),tg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!SN(this.projectionDelta.x,this.prevProjectionDelta.x)||!SN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zf(),this.projectionDelta=Zf(),this.projectionDeltaWithTransform=Zf()}setAnimationOrigin(c,h=!1){const u=this.snapshot,f=u?u.latestValues:{},A={...this.latestValues},m=Zf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=ro(),g=u?u.source:void 0,b=this.layout?this.layout.source:void 0,I=g!==b,N=this.getStack(),S=!N||N.members.length<=1,E=!!(I&&!S&&this.options.crossfade===!0&&!this.path.some(jY));this.animationProgress=0;let F;this.mixTargetDelta=Q=>{const P=Q/1e3;IN(m.x,c.x,P),IN(m.y,c.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uv(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wY(this.relativeTarget,this.relativeTargetOrigin,x,P),F&&oY(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=ro()),nc(F,this.relativeTarget)),I&&(this.animationValues=A,tY(A,f,this.latestValues,P,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,u,f;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Wd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ta.update(()=>{Nx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mm(0)),this.currentAnimation=X$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:A=>{this.mixTargetDelta(A),c.onUpdate&&c.onUpdate(A)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:u,layout:f,latestValues:A}=c;if(!(!h||!u||!f)){if(this!==c&&this.layout&&f&&f_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||ro();const m=bl(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+m;const x=bl(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+x}nc(h,u),qf(h,A),tg(this.projectionDeltaWithTransform,this.layoutCorrected,h,A)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lY),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(h=!0),!h)return;const f={};u.z&&L1("z",c,f,this.animationValues);for(let A=0;A<R1.length;A++)L1(`rotate${R1[A]}`,c,f,this.animationValues),L1(`skew${R1[A]}`,c,f,this.animationValues);c.render();for(const A in f)c.setStaticValue(A,f[A]),this.animationValues&&(this.animationValues[A]=f[A]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Sx(h==null?void 0:h.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Sx(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Qh(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const A=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=AY(this.projectionDeltaWithTransform,this.treeScale,A);u&&(m=u(A,m)),c.transform=m;const{x,y:g}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:c.opacity=f===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const b in Vb){if(A[b]===void 0)continue;const{correct:I,applyTo:N,isCSSVariable:S}=Vb[b],E=m==="none"?A[b]:I(A[b],f);if(N){const F=N.length;for(let Q=0;Q<F;Q++)c[N[Q]]=E}else S?this.options.visualElement.renderState.vars[b]=E:c[b]=E}this.options.layoutId&&(c.pointerEvents=f===this?Sx(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(NN),this.root.sharedNodes.clear()}}}function dY(n){n.updateLayout()}function hY(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=n.layout,{animationType:o}=n.options,c=e.source!==n.layout.source;o==="size"?TA(m=>{const x=c?e.measuredBox[m]:e.layoutBox[m],g=bl(x);x.min=s[m].min,x.max=x.min+g}):f_(o,e.layoutBox,s)&&TA(m=>{const x=c?e.measuredBox[m]:e.layoutBox[m],g=bl(s[m]);x.max=x.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+g)});const h=Zf();tg(h,s,e.layoutBox);const u=Zf();c?tg(u,n.applyTransform(r,!0),e.measuredBox):tg(u,s,e.layoutBox);const f=!c_(h);let A=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:g}=m;if(x&&g){const b=ro();uv(b,e.layoutBox,x.layoutBox);const I=ro();uv(I,s,g.layoutBox),u_(b,I)||(A=!0),m.options.layoutRoot&&(n.relativeTarget=I,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:u,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:A})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function fY(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function mY(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function pY(n){n.clearSnapshot()}function NN(n){n.clearMeasurements()}function EN(n){n.isLayoutDirty=!1}function gY(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function TN(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function xY(n){n.resolveTargetDelta()}function vY(n){n.calcProjection()}function yY(n){n.resetSkewAndRotation()}function bY(n){n.removeLeadSnapshot()}function IN(n,e,t){n.translate=qa(e.translate,0,t),n.scale=qa(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function _N(n,e,t,s){n.min=qa(e.min,t.min,s),n.max=qa(e.max,t.max,s)}function wY(n,e,t,s){_N(n.x,e.x,t.x,s),_N(n.y,e.y,t.y,s)}function jY(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const BY={duration:.45,ease:[.4,0,.1,1]},FN=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),UN=FN("applewebkit/")&&!FN("chrome/")?Math.round:LA;function DN(n){n.min=UN(n.min),n.max=UN(n.max)}function CY(n){DN(n.x),DN(n.y)}function f_(n,e,t){return n==="position"||n==="preserve-aspect"&&!U$(CN(e),CN(t),.2)}function SY(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const NY=h_({attachResizeListener:(n,e)=>wg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q1={current:void 0},m_=h_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Q1.current){const n=new NY({});n.mount(window),n.setOptions({layoutScroll:!0}),Q1.current=n}return Q1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),EY={pan:{Feature:Y$},drag:{Feature:$$,ProjectionNode:m_,MeasureLayout:o_}};function RN(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,o=s[r];o&&Ta.postRender(()=>o(e,Kg(e)))}class TY extends nh{mount(){const{current:e}=this.node;e&&(this.unmount=sG(e,(t,s)=>(RN(this.node,s,"Start"),r=>RN(this.node,r,"End"))))}unmount(){}}class IY extends nh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mg(wg(this.node.current,"focus",()=>this.onFocus()),wg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LN(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),o=s[r];o&&Ta.postRender(()=>o(e,Kg(e)))}class _Y extends nh{mount(){const{current:e}=this.node;e&&(this.unmount=iG(e,(t,s)=>(LN(this.node,s,"Start"),(r,{success:o})=>LN(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jb=new WeakMap,O1=new WeakMap,FY=n=>{const e=Jb.get(n.target);e&&e(n)},UY=n=>{n.forEach(FY)};function DY({root:n,...e}){const t=n||document;O1.has(t)||O1.set(t,{});const s=O1.get(t),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(UY,{root:n,...e})),s[r]}function RY(n,e,t){const s=DY(e);return Jb.set(n,t),s.observe(n),()=>{Jb.delete(n),s.unobserve(n)}}const LY={some:0,all:1};class QY extends nh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:r="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:LY[r]},h=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:A,onViewportLeave:m}=this.node.getProps(),x=f?A:m;x&&x(u)};return RY(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(OY(e,t))&&this.startObserver()}unmount(){}}function OY({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const PY={inView:{Feature:QY},tap:{Feature:_Y},focus:{Feature:IY},hover:{Feature:TY}},kY={layout:{ProjectionNode:m_,MeasureLayout:o_}},MY={...N$,...PY,...EY,...kY},QN=VG(MY,n$),HY=({reopenDate:n})=>{const e=n?(()=>{const[t,s,r]=n.split("-").map(c=>parseInt(c,10));return new Date(t,s-1,r).toLocaleDateString()})():"Not set";return i.jsx(QN.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:i.jsxs(QN.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg p-8 m-4 text-center shadow-2xl",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"School is on Vacation!"}),i.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"The school is currently on break. We hope you are having a wonderful time."}),i.jsxs("p",{className:"text-lg text-gray-600",children:["School will reopen on"," ",i.jsx("span",{className:"font-semibold text-red-600",children:e}),"."]})]})})},ON=["Monday","Tuesday","Wednesday","Thursday","Friday"],VY=["punctuality","neatness","conduct","attitudeToWork","classParticipation","homeworkCompletion"],KY=["An outstanding performer with excellent academic progress.","Shows great potential and maintains good conduct in class.","Consistent effort and improvement throughout the term.","Active participant in class activities and assignments.","Demonstrates good leadership qualities among peers.","Maintains excellent attendance and punctuality.","Shows remarkable improvement in academic performance.","A disciplined student who follows school rules diligently.","Excellent interpersonal skills and teamwork abilities.","Creative and innovative in approaching class tasks."],p_=()=>{const{user:n}=Fo(),e=(n==null?void 0:n.schoolId)||null,[t,s]=Z.useState([]),r=(n==null?void 0:n.assignedClassIds)||[],[o,c]=Z.useState(""),[h,u]=Z.useState("Term 1"),[f,A]=Z.useState(null),[m,x]=Z.useState(!1);Z.useEffect(()=>{r.length>0&&c(r[0])},[n]);const g=In.find(De=>De.id===o),b=r.map(De=>{var ft;return(ft=In.find(it=>it.id===De))==null?void 0:ft.name}).join(", "),[I,N]=Z.useState([]),[S,E]=Z.useState(null),[F,Q]=Z.useState(!1),[P,H]=Z.useState({show:!1,dates:[]}),[L,U]=Z.useState({show:!1,date:""}),[R,K]=Z.useState(!1),[O,V]=Z.useState([]),[G,oe]=Z.useState({}),[ge,le]=Z.useState(!1),[X,W]=Z.useState(!1),[re,me]=Z.useState([]),[ee,M]=Z.useState({}),[J,ae]=Z.useState(!1),[ie,ce]=Z.useState([]),ye=()=>{const De=new Date().toLocaleDateString("en-US",{weekday:"long"});return ON.includes(De)?De:"Monday"},Ne=(De=new Date)=>`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}-${String(De.getDate()).padStart(2,"0")}`,[xe,Se]=Z.useState(null),[Fe,Qe]=Z.useState(ye()),[Je,Pe]=Z.useState([]),[he,nt]=Z.useState([]),[lt,ht]=Z.useState([]),[Ke,Nt]=Z.useState(0),[Rt,qt]=Z.useState(0),[Zt,sn]=Z.useState(0),[an,Xe]=Z.useState(0),[Ht,zt]=Z.useState(0),[Vt,xt]=Z.useState("0.0"),[Dt,Dn]=Z.useState([]);if(!n)return i.jsx(ir,{title:"Teacher Dashboard",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1160A8] mx-auto mb-4"}),i.jsx("p",{className:"text-slate-500",children:"Loading dashboard..."})]})});const Gt=(De=0)=>{const ft=new Date;ft.setDate(ft.getDate()+De*7);const it=ft.getDay(),Et=it===0?-6:1-it,Jt=new Date(ft);Jt.setDate(ft.getDate()+Et);const vt=[];for(let st=0;st<5;st++){const Ft=new Date(Jt);Ft.setDate(Jt.getDate()+st);const Wt=Ft.getFullYear(),dn=String(Ft.getMonth()+1).padStart(2,"0"),Wn=String(Ft.getDate()).padStart(2,"0");vt.push(`${Wt}-${dn}-${Wn}`)}return vt},Yt=De=>{if(De===0)return"This Week";const ft=Gt(De),it=new Date(ft[0]+"T00:00:00"),Et=new Date(ft[4]+"T00:00:00"),Jt={month:"short",day:"numeric"},vt=it.toLocaleDateString("en-US",Jt),st=Et.toLocaleDateString("en-US",Jt);return De===-1?`Last Week (${vt} - ${st})`:`${vt} - ${st}`},At=async De=>{if(!e||!(n!=null&&n.id))return;const ft=Gt(De),it=await Promise.all(ft.map(Jt=>ot.getTeacherAttendance(e,(n==null?void 0:n.id)||"",Jt))),Et=ft.map((Jt,vt)=>{const st=it[vt],[Ft,Wt,dn]=Jt.split("-").map(Number),Hn=new Date(Ft,Wt-1,dn).toLocaleDateString("en-US",{weekday:"short"}),Qt=(st==null?void 0:st.approvalStatus)||(st?"approved":"missing");return{day:Hn,percentage:st?100:0,status:Qt}});ht(Jt=>Et.some(st=>st.status!=="missing")?Et:Jt)};Z.useEffect(()=>{let De=!0;return n&&(async()=>{const it=Ne();await ot.getTeacherAttendance(e||void 0,(n==null?void 0:n.id)||"",it);try{if(!e)return;const Et=await ot.getSchoolConfig(e);if(!De)return;const Jt=new Date,vt=Et.schoolReopenDate?new Date(Et.schoolReopenDate+"T00:00:00"):null;vt&&vt.setHours(0,0,0,0);const st=new Date;st.setHours(0,0,0,0);const Ft=Et.nextTermBegins?new Date(Et.nextTermBegins+"T00:00:00"):null;if(Ft&&Ft.setHours(0,0,0,0),Ft&&st.getTime()===Ft.getTime()){H({show:!1,dates:[]}),U({show:!1,date:""});return}const Wt=Et.vacationDate?new Date(Et.vacationDate+"T00:00:00"):null;Wt&&Wt.setHours(0,0,0,0);const dn=!vt||Jt>=vt,Wn=Wt&&Ft&&st>=Wt&&st<Ft;if(dn&&!Wn){const Hn=[];let Qt=new Date;for(Qt.setDate(Qt.getDate()-1);Qt>=vt;){const hs=Qt.getDay(),Ts=Wt&&Qt.toDateString()===Wt.toDateString();if(hs===0||hs===6||Ts){Qt.setDate(Qt.getDate()-1);continue}const Is=`${Qt.getFullYear()}-${String(Qt.getMonth()+1).padStart(2,"0")}-${String(Qt.getDate()).padStart(2,"0")}`,_n=await ot.getTeacherAttendance(e,(n==null?void 0:n.id)||"",Is);if(!De)return;_n||Hn.push(Is),Qt.setDate(Qt.getDate()-1)}if(Hn.length>0?H({show:!0,dates:Hn}):H({show:!1,dates:[]}),o&&Hn.length>0){const hs=Hn[0],Ts=await ot.getAttendance(e,o,hs);if(!De)return;U(Ts?{show:!1,date:""}:{show:!0,date:hs})}}}catch(Et){console.error("Error re-checking missed attendance:",Et)}})(),()=>{De=!1}},[n,o,Ke,e]),Z.useEffect(()=>{!e||!(n!=null&&n.id)||At(Ke)},[e,n==null?void 0:n.id,Ke]),Z.useEffect(()=>{if(!e||!(n!=null&&n.id))return;const De=Jn(kn(Bt,"teacher_attendance"),nn("schoolId","==",e),nn("teacherId","==",n.id)),ft=Id(De,async()=>{await At(Ke);const it=Ne(),Et=await ot.getTeacherAttendance(e,n.id,it);E(Et)});return()=>ft()},[e,n==null?void 0:n.id,Ke]),Z.useEffect(()=>{if(!e||!o)return;const De=Jn(kn(Bt,"attendance"),nn("schoolId","==",e),nn("classId","==",o)),ft=Id(De,async()=>{try{const[it,Et]=await Promise.all([ot.getClassAttendance(e,o),ot.getStudents(e,o)]),Jt=Et.length||1,vt=Gt(Ke),st=it.filter(Hn=>vt.includes(Hn.date)),Ft=vt.map(Hn=>{const Qt=st.find(or=>or.date===Hn),hs=Qt?Math.round(Qt.presentStudentIds.length/Jt*100):0,[Ts,Is,_n]=Hn.split("-").map(Number);return{day:new Date(Ts,Is-1,_n).toLocaleDateString("en-US",{weekday:"short"}),percentage:hs}});nt(Ft),qt(Et.length);const Wt=Ne(),dn=it.find(Hn=>Hn.date===Wt),Wn=dn?dn.presentStudentIds.length:0;sn(Wn),Xe(dn?Et.length-Wn:0)}catch(it){console.error("Error updating attendance trend:",it)}});return()=>ft()},[e,o,Ke]),Z.useEffect(()=>{let De=!0;return(async()=>{if(!o||!e)return;let it;try{if(it=await ot.getSchoolConfig(e),De){A(it),u(it.currentTerm||`Term ${zi}`);const Ft=new Date;Ft.setHours(0,0,0,0);const Wt=Ft.getTime();let dn=null;if(it.vacationDate){const hs=new Date(it.vacationDate+"T00:00:00");hs.setHours(0,0,0,0),dn=hs.getTime()}let Wn=null;if(it.nextTermBegins){const hs=new Date(it.nextTermBegins+"T00:00:00");hs.setHours(0,0,0,0),Wn=hs.getTime()}let Hn=null;if(dn!==null){const hs=new Date(dn);hs.setDate(hs.getDate()+1),Hn=hs.getTime()}let Qt=!1;if(Hn!==null&&Wt>=Hn&&Wn!==null&&Wt<Wn&&(Qt=!0),x(Qt),console.log("--- Vacation Overlay Debug ---"),console.log("Current Date (Local Midnight):",Ft.toLocaleDateString()),console.log("Vacation Date (Last School Day):",it.vacationDate),console.log("Vacation Starts (Local Midnight):",Hn?new Date(Hn).toLocaleDateString():"N/A"),console.log("Next Term Begins (Local Midnight):",it.nextTermBegins),console.log("Is Vacation:",Qt),console.log("--- End Debug ---"),it.nextTermBegins&&Wt>=Wn){if(it.termTransitionProcessed===!1){console.log("New term begins today or has passed. Initiating dashboard reset...");try{await ot.resetForNewTerm(it),await ot.updateSchoolConfig({...it,termTransitionProcessed:!0}),Pt("New term started! Dashboard has been reset.",{type:"success"}),window.location.reload()}catch(hs){console.error("Error during new term reset:",hs),Pt("Failed to reset dashboard for new term.",{type:"error"})}}}else it.nextTermBegins&&Wt<Wn&&it.termTransitionProcessed===!0&&await ot.updateSchoolConfig({...it,termTransitionProcessed:!1})}}catch(Ft){console.error(Ft),it={currentTerm:`Term ${zi}`,academicYear:To,schoolReopenDate:"",schoolName:"School Manager GH",headTeacherRemark:"An outstanding performance. The school is proud of you.",termEndDate:"2024-12-20",vacationDate:"2024-12-20",nextTermBegins:"",termTransitionProcessed:!1,schoolId:""}}const Et=await ot.getSubjects(e,o);if(!De)return;s(Et);const Jt=await ot.getNotices(e);if(!De)return;N(Jt);const vt=Ne(),st=await ot.getTeacherAttendance(e,(n==null?void 0:n.id)||"",vt);if(De){if(E(st),o){const Ft=await ot.getTimetable(e,o);if(!De)return;Se(Ft||null),Qe(ye());try{const[Wt,dn]=await Promise.all([ot.getClassAttendance(e,o),ot.getStudents(e,o)]);if(!De)return;const Wn=dn.length||1,Hn=Gt(Ke),Qt=Wt.filter(Ss=>Hn.includes(Ss.date)),hs=Hn.map(Ss=>{const Nr=Qt.find(Ia=>Ia.date===Ss),ga=Nr?Math.round(Nr.presentStudentIds.length/Wn*100):0,[br,tr,oa]=Ss.split("-").map(Number);return{day:new Date(br,tr-1,oa).toLocaleDateString("en-US",{weekday:"short"}),percentage:ga}});nt(hs),ce(dn),qt(dn.length);const Ts=Ne(),Is=Wt.find(Ss=>Ss.date===Ts),_n=Is?Is.presentStudentIds.length:0;sn(_n),Xe(Is?dn.length-_n:0);const ln=parseInt((it.currentTerm||`Term ${zi}`).split(" ")[1]);let cs=0,or=0;for(const Ss of Et){const ga=(await ot.getAssessments(e,o,Ss)).filter(br=>br.term===ln);for(const br of ga){const tr=br.total??_A(br);cs+=tr,or++}}const ur=or>0?cs/or:0;zt(ur);const js=(await ot.getStudentSkills(e,o)).filter(Ss=>Ss.term===ln);let Hs=0,gr=0;const ia={Excellent:5,"Very Good":4,Good:3,Fair:2,Poor:1};for(const Ss of js)Ss.conduct&&(Hs+=ia[Ss.conduct]||0,gr++);const ei=gr>0?Hs/gr:0;xt(ei.toFixed(1));const Si=[];for(const Ss of Et){const ga=(await ot.getAssessments(e,o,Ss)).filter(Gs=>Gs.term===ln);if(ga.length===0)continue;let br=0,tr=0,oa="";for(const Gs of ga){const Ia=Gs.total??_A(Gs),Vr=dn.find(xa=>xa.id===Gs.studentId);Vr&&Ia>tr&&(tr=Ia,oa=Vr.name),br+=Ia}const Ga=br/ga.length;Si.push({subject:Ss,topStudent:oa,average:Ga})}Si.sort((Ss,Nr)=>Nr.average-Ss.average),Dn(Si)}catch(Wt){console.error("Error calculating dashboard stats:",Wt)}}try{await At(Ke)}catch(Ft){console.error("Error calculating teacher attendance trend:",Ft)}}})(),()=>{De=!1}},[o,Ke,e]),Z.useEffect(()=>{if(xe&&xe.schedule&&Fe){const De=xe.schedule[Fe]||[];Pe(De)}else Pe([])},[xe,Fe]);const Lt=De=>{switch(De){case"break":return{border:"border-amber-400",bgHover:"group-hover:bg-amber-50",text:"text-amber-700 italic",badge:"text-amber-600"};case"worship":return{border:"border-purple-400",bgHover:"group-hover:bg-purple-50",text:"text-purple-700 font-semibold",badge:"text-purple-600"};case"closing":return{border:"border-slate-400",bgHover:"group-hover:bg-slate-50",text:"text-slate-700 font-bold",badge:"text-slate-600"};default:return{border:"border-[#1160A8]",bgHover:"group-hover:bg-[#E6F0FA]",text:"text-slate-800",badge:"text-[#1160A8]"}}};return i.jsxs(ir,{title:"Teacher Dashboard",children:[m&&i.jsx(HY,{reopenDate:(f==null?void 0:f.nextTermBegins)||"TBD"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome back, ",n==null?void 0:n.fullName]}),i.jsxs("p",{className:"text-slate-500 mt-1",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#1160A8] mr-2"}),"Class Teacher for:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:b||"Not Assigned"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end sm:items-center",children:[r.length>1&&i.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-lg px-3 py-1.5 shadow-sm",children:[i.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:"Viewing:"}),i.jsx("select",{value:o,onChange:De=>c(De.target.value),className:"text-sm font-semibold text-slate-800 bg-transparent outline-none cursor-pointer",children:r.map(De=>{const ft=In.find(it=>it.id===De);return i.jsx("option",{value:De,children:ft==null?void 0:ft.name},De)})})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 text-xs font-bold rounded-full border border-emerald-100 uppercase tracking-wide",children:[h," Active"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs(Na,{to:"/teacher/attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#0B4A82] transition-colors",children:i.jsx(Wf,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Take Attendance"}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Record daily register for"," ",(g==null?void 0:g.name)||"your class","."]})]})]}),i.jsxs(Na,{to:"/teacher/assessment",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-amber-500 transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-amber-500 transition-colors",children:i.jsx(zl,{className:"w-6 h-6 text-amber-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Gradebook"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Record marks for tests, homework & exams."})]})]}),i.jsxs(Na,{to:"/teacher/my-attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-green-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-green-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-500 transition-colors",children:i.jsx(Wf,{className:"w-6 h-6 text-green-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"My Attendance"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Mark weekly attendance & view records"}),S&&i.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-400",children:[i.jsxs("span",{children:["Last marked: ",S.date]}),S.approvalStatus==="pending"&&i.jsx("span",{className:"rounded-full bg-amber-50 px-2 py-0.5 text-[10px] font-semibold text-amber-700",children:"Pending approval"})]})]})]}),i.jsxs("button",{onClick:async()=>{let De=ie;(!De||De.length===0)&&(De=await ot.getStudents(e,o));const it=(await ot.getStudentRemarks(e,o)).reduce((vt,st)=>(vt[st.studentId]={remark:st.remark,behaviorTag:st.behaviorTag},vt),{});oe(it);const Jt=(await ot.getStudentSkills(e,o)).reduce((vt,st)=>(vt[st.studentId]={punctuality:st.punctuality,neatness:st.neatness,conduct:st.conduct,attitudeToWork:st.attitudeToWork,classParticipation:st.classParticipation,homeworkCompletion:st.homeworkCompletion},vt),{});M(Jt),V(De||[]),K(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-purple-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-500 transition-colors",children:i.jsx(zl,{className:"w-6 h-6 text-purple-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Write Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"End of term comments & behavior tags."})]})]}),i.jsxs("button",{onClick:async()=>{let De=ie;(!De||De.length===0)&&(De=await ot.getStudents(e,o));const it=(await ot.getStudentSkills(e,o)).reduce((Et,Jt)=>(Et[Jt.studentId]={punctuality:Jt.punctuality,neatness:Jt.neatness,conduct:Jt.conduct,attitudeToWork:Jt.attitudeToWork,classParticipation:Jt.classParticipation,homeworkCompletion:Jt.homeworkCompletion},Et),{});M(it),me(De||[]),W(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#1160A8] transition-colors",children:i.jsx(Fd,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Edit Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate student skills and behavior."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Class Health"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Students:"}),i.jsx("span",{className:"font-semibold",children:Rt})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Present Today:"}),i.jsx("span",{className:"font-semibold text-green-600",children:Zt})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Absent Today:"}),i.jsx("span",{className:"font-semibold text-red-600",children:an})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Average Performance"}),i.jsx("div",{className:"text-center",children:Ht>0?i.jsxs("span",{className:"text-2xl font-bold text-[#1160A8]",children:[Ht.toFixed(1),"%"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No assessment data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Behavior Average"}),i.jsx("div",{className:"text-center",children:parseFloat(Vt)>0?i.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[Vt,"/5"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No behavior data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Subject Standings"}),i.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:Dt.slice(0,3).map(De=>i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsxs("span",{children:[De.subject,":"]}),i.jsx("span",{className:"font-semibold",children:De.topStudent||"N/A"})]},De.subject))})]})]}),i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[i.jsx(Fd,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-[#1160A8]"})," ","Students Weekly Attendance Trend"]}),i.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[i.jsx("button",{onClick:()=>Nt(Ke-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),i.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-[#1160A8] text-white text-center min-w-[120px] sm:w-36 truncate",children:Yt(Ke)}),i.jsx("button",{onClick:()=>Nt(Ke+1),disabled:Ke===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),i.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2",children:he.length===0?i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[i.jsx(Fd,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),i.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):he.map((De,ft)=>i.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[i.jsxs("div",{className:"relative w-full flex justify-center",children:[i.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-[#E6F0FA] relative overflow-hidden",style:{height:"120px"},children:i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1160A8] rounded-t-lg transition-all duration-1000",style:{height:`${De.percentage}%`}})}),i.jsxs("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[De.percentage,"%"]}),i.jsxs("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:[De.percentage,"%"]})]}),i.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:De.day})]},ft))})]}),i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[i.jsx(Wf,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-emerald-600"})," ","Teacher Attendance Trend"]}),i.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[i.jsx("button",{onClick:()=>Nt(Ke-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),i.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-emerald-600 text-white text-center min-w-[120px] sm:w-36 truncate",children:Yt(Ke)}),i.jsx("button",{onClick:()=>Nt(Ke+1),disabled:Ke===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[10px] text-slate-500 mb-3",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 font-semibold text-emerald-700",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Present (Approved)"]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-rose-200 bg-rose-50 px-2 py-0.5 font-semibold text-rose-700",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),"Absent (Rejected)"]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200 bg-amber-50 px-2 py-0.5 font-semibold text-amber-700",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-400"}),"Pending"]})]}),i.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2",children:lt.length===0?i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[i.jsx(Wf,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),i.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):lt.map((De,ft)=>i.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[i.jsxs("div",{className:"relative w-full flex justify-center",children:[i.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-emerald-50 relative overflow-hidden",style:{height:"120px"},children:i.jsx("div",{className:`absolute bottom-0 left-0 right-0 rounded-t-lg transition-all duration-1000 ${De.status==="pending"?"bg-amber-400":De.status==="approved"?"bg-emerald-500":De.status==="rejected"?"bg-rose-500":"bg-slate-300"}`,style:{height:`${De.percentage}%`}})}),i.jsx("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:De.status==="pending"?"Pending":De.status==="approved"?"Approved":"Missing"}),i.jsx("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:De.status==="pending"?"Pending":De.status==="approved"?"Approved":"Missing"})]}),i.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:De.day})]},ft))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Vp,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Notice Board"]}),i.jsx("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-1",children:I.length===0?i.jsx("div",{className:"text-center py-6 text-slate-400 italic text-sm",children:"No announcements at this time."}):I.map(De=>i.jsxs("div",{className:"group relative pl-4 pb-2 border-l-2 border-slate-200 hover:border-[#1160A8] transition-colors",children:[i.jsx("div",{className:`absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full border-2 border-white ${De.type==="urgent"?"bg-red-500":"bg-amber-400"} shadow-sm`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:De.date}),De.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-500 font-bold px-1.5 py-0.5 bg-red-50 rounded",children:"URGENT"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-800 leading-snug",children:De.message})]})]},De.id))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(ac,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Class Schedule"]}),i.jsx("select",{value:Fe,onChange:De=>Qe(De.target.value),className:"text-xs font-bold text-[#1160A8] bg-[#E6F0FA] px-2 py-1 rounded uppercase border-none outline-none cursor-pointer hover:bg-[#E6F0FA] transition-colors",children:ON.map(De=>i.jsx("option",{value:De,children:De},De))})]}),o?i.jsx("div",{className:"space-y-4 relative min-h-[150px]",children:Je.length===0?i.jsxs("div",{className:"text-center py-10 text-slate-400 text-sm italic border-2 border-dashed border-slate-100 rounded-lg",children:["No schedule set for ",Fe,"."]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-0.5 bg-slate-200"}),Je.map(De=>{const ft=Lt(De.type);return i.jsxs("div",{className:"relative pl-8 group",children:[i.jsx("div",{className:`absolute left-0 top-1.5 w-5 h-5 bg-white border-2 rounded-full z-10 transition-colors ${ft.border} ${ft.bgHover}`}),i.jsxs("div",{className:"flex items-baseline justify-between",children:[i.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[De.startTime," - ",De.endTime]}),i.jsx("span",{className:`text-[10px] font-bold uppercase ${ft.badge}`,children:De.type})]}),i.jsx("p",{className:`text-sm ${ft.text}`,children:De.subject})]},De.id)})]})}):i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Select a class to view schedule."})]})]})]}),P.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:i.jsx(Vp,{className:"text-amber-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking attendance for a previous school day"})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-amber-800",children:"Please mark your attendance for the following dates to keep your records accurate:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:P.dates.map(De=>i.jsx("li",{className:"text-sm font-medium",children:i.jsx("strong",{children:(()=>{const ft=De.split("-");return ft.length===3?`${ft[1]}/${ft[2]}/${ft[0]}`:De})()})},De))})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>H({show:!1,dates:[]}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(Na,{to:"/teacher/my-attendance",onClick:()=>H({show:!1,dates:[]}),className:"flex-1 px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-center",children:"Mark Attendance Now"})]})]})]})}),L.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Vp,{className:"text-red-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Student Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking student attendance for your class."})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-red-800",children:["Please mark student attendance for"," ",i.jsx("strong",{children:g==null?void 0:g.name})," on"," ",i.jsx("strong",{children:(()=>{const De=L.date.split("-");return De.length===3?`${De[1]}/${De[2]}/${De[0]}`:L.date})()})," ","to keep records accurate."]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>U({show:!1,date:""}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(Na,{to:"/teacher/attendance",onClick:()=>U({show:!1,date:""}),className:"flex-1 px-4 py-2 text-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Take Attendance"})]})]})]})}),R&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:i.jsx(zl,{className:"text-purple-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"End of Term Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Write comments and select behavior tags for each student"})]})]}),i.jsx("button",{onClick:()=>K(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(Io,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:O.map(De=>{var ft,it;return i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:De.name}),i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Behavior Tag"}),i.jsxs("select",{value:((ft=G[De.id])==null?void 0:ft.behaviorTag)||"",onChange:Et=>oe(Jt=>({...Jt,[De.id]:{...Jt[De.id],behaviorTag:Et.target.value}})),className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"",children:"Select Behavior"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Needs Improvement",children:"Needs Improvement"})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[i.jsx(MT,{size:14,className:"text-purple-600"}),"Remark"]}),i.jsx("textarea",{value:((it=G[De.id])==null?void 0:it.remark)||"",onChange:Et=>oe(Jt=>({...Jt,[De.id]:{...Jt[De.id],remark:Et.target.value}})),placeholder:"Write remark or select from suggestions below...",className:"w-full p-2 border rounded",rows:3}),i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tap to insert suggestion:"}),i.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto p-1 bg-slate-50 rounded-lg",children:KY.map((Et,Jt)=>i.jsx("button",{type:"button",onClick:()=>oe(vt=>({...vt,[De.id]:{...vt[De.id],remark:Et}})),className:"text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 hover:bg-purple-100 transition-colors text-left truncate max-w-full",title:Et,children:Et.length>50?Et.substring(0,50)+"...":Et},Jt))})]})]})]},De.id)})}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{var De,ft;le(!0);try{for(const it of O){const Et=parseInt(h.split(" ")[1]),Jt={id:`${it.id}_${h}_${To}`,studentId:it.id,classId:o,term:Et,academicYear:To,schoolId:e||(f==null?void 0:f.schoolId)||"",remark:((De=G[it.id])==null?void 0:De.remark)||"",behaviorTag:((ft=G[it.id])==null?void 0:ft.behaviorTag)||"",teacherId:n.id,dateCreated:new Date().toISOString().split("T")[0]};await ot.saveStudentRemark(Jt)}Pt("Remarks saved successfully!",{type:"success"}),K(!1)}catch(it){console.error(it),Pt("Failed to save remarks",{type:"error"})}finally{le(!1)}},disabled:ge,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:ge?"Saving...":"Save Remarks"})]})]})]})}),X&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-full",children:i.jsx(Fd,{className:"text-[#1160A8]",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Edit Student Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate skills and behavior for each student"})]})]}),i.jsx("button",{onClick:()=>W(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(Io,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:re.map(De=>i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:De.name}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:VY.map(ft=>{var it;return i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 capitalize",children:ft.replace(/([A-Z])/g," $1").trim()}),i.jsxs("select",{value:((it=ee[De.id])==null?void 0:it[ft])||"",onChange:Et=>M(Jt=>({...Jt,[De.id]:{...Jt[De.id],[ft]:Et.target.value}})),className:"w-full p-2 border rounded text-sm",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Very Good",children:"Very Good"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Fair",children:"Fair"}),i.jsx("option",{value:"Poor",children:"Poor"})]})]},ft)})})]},De.id))}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{ae(!0);try{const De=parseInt(h.split(" ")[1]);for(const ft of re){const it={id:`${ft.id}_${h}_${To}`,studentId:ft.id,classId:o,term:De,academicYear:To,schoolId:e||(f==null?void 0:f.schoolId)||"",...ee[ft.id]};await ot.saveStudentSkills(it)}Pt("Skills saved successfully!",{type:"success"}),W(!1)}catch(De){console.error(De),Pt("Failed to save skills",{type:"error"})}finally{ae(!1)}},disabled:J,className:"px-4 py-2 bg-[#1160A8] text-white rounded hover:bg-[#0B4A82] disabled:opacity-50",children:J?"Saving...":"Save Skills"})]})]})]})})]})},zY=()=>{var X;const{user:n}=Fo(),e=(n==null?void 0:n.assignedClassIds)||[],[t,s]=Z.useState(""),r=(n==null?void 0:n.schoolId)||null,[o,c]=Z.useState([]),h=(W=new Date)=>`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`,[u,f]=Z.useState(h()),[A,m]=Z.useState(new Set),[x,g]=Z.useState(!1),[b,I]=Z.useState(""),[N,S]=Z.useState(!1),[E,F]=Z.useState(!1),[Q,P]=Z.useState(null),[H,L]=Z.useState(""),[U,R]=Z.useState(null);Z.useEffect(()=>{e.length>0&&!t&&s(e[0])},[e]),Z.useEffect(()=>{(async()=>{if(!r){R(null);return}const re=await ot.getSchoolConfig(r);R(re);const me=O(re);me&&u<me&&f(me)})()},[r]);const K=()=>O(U),O=W=>W&&W.schoolReopenDate?W.schoolReopenDate:"",V=()=>{const W=U==null?void 0:U.vacationDate,re=U==null?void 0:U.nextTermBegins,me=U==null?void 0:U.schoolReopenDate,ee=((U==null?void 0:U.holidayDates)||[]).some(M=>M.date===u);return re&&u>=re?!1:!!(ee||W&&u>W||!W&&me&&u<me)};Z.useEffect(()=>{if(!t||!r)return;(async()=>{F(!0);try{const re=await ot.getStudents(r,t);c(re);const me=await ot.getAttendance(r,t,u),ee=((U==null?void 0:U.holidayDates)||[]).find(M=>M.date===u);if(ee){P(ee),g(!0),I(ee.reason||""),m(new Set);return}me?me.isHoliday?(g(!0),I(me.holidayReason||""),m(new Set),S(!1)):(g(!1),I(""),m(new Set(me.presentStudentIds)),S(!0)):(g(!1),I(""),m(new Set),S(!1)),P(null)}catch(re){console.error(re)}finally{F(!1)}})()},[t,u,r,U]);const G=W=>{if(x||Q)return;N||S(!0);const re=new Set(A);re.has(W)?re.delete(W):re.add(W),m(re)},oe=async()=>{var ee;if(!t||!r)return;const W=U==null?void 0:U.vacationDate,re=U==null?void 0:U.nextTermBegins,me=U==null?void 0:U.schoolReopenDate;if(Q){L("This date is marked as a holiday by the admin."),setTimeout(()=>L(""),3e3);return}if(!(re&&u>=re)){if(W&&u>W){L("Cannot mark attendance after school vacation date"),setTimeout(()=>L(""),3e3);return}else if(!W&&me&&u<me){L(`Cannot mark attendance before school re-open date (${me})`),setTimeout(()=>L(""),3e3);return}}F(!0);try{if(x&&(await ot.getAttendanceByDate(r,u)).some(ae=>{var ie;return(ie=ae.presentStudentIds)==null?void 0:ie.length})){L("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>L(""),4e3);return}await ot.saveAttendance({id:`${r}_${t}_${u}`,schoolId:r,classId:t,date:u,presentStudentIds:x?[]:Array.from(A),isHoliday:x,holidayReason:x?b.trim():""}),S(!x);const M=((ee=In.find(J=>J.id===t))==null?void 0:ee.name)||t;await ot.addSystemNotification(x?`${n==null?void 0:n.fullName} marked ${M} as Holiday on ${u}.`:`${n==null?void 0:n.fullName} marked attendance for ${M} on ${u}. (${A.size} Present)`,"attendance",r),L(x?"Holiday saved successfully!":"Attendance saved successfully!"),setTimeout(()=>L(""),3e3)}catch(M){console.error(M)}finally{F(!1)}};if(e.length===0)return i.jsx(ir,{title:"Attendance",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const ge=((X=In.find(W=>W.id===t))==null?void 0:X.name)||t,le=x||!N?0:o.length-A.size;return i.jsx(ir,{title:"Mark Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Student Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark attendance quickly and accurately for your class."}),Q&&i.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday: ",Q.reason||"No reason provided"]}),x&&i.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-800",children:[i.jsx(Ki,{className:"h-4 w-4"}),Q?"Admin Holiday":"Holiday / No School",b?` ${b}`:""]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(vl,{className:"h-4 w-4 text-indigo-500"}),"Class: ",ge||"Select class"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(DA,{className:"h-4 w-4"}),A.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(_d,{className:"h-4 w-4"}),le," Absent"]})]})]})]}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:t,onChange:W=>s(W.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",children:e.map(W=>{const re=In.find(me=>me.id===W);return i.jsx("option",{value:W,children:re==null?void 0:re.name},W)})})]}),i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",value:u,onChange:W=>f(W.target.value),min:K(),className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-4 py-2 text-sm shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[i.jsxs("label",{className:"inline-flex items-center gap-3 text-sm font-semibold text-amber-900",children:[i.jsx("input",{type:"checkbox",checked:x,onChange:W=>{const re=W.target.checked;g(re),re&&m(new Set)},disabled:!!Q,className:"h-4 w-4 rounded border-amber-300 text-amber-600 focus:ring-amber-300"}),"Mark this date as Holiday / No School"]}),Q?i.jsx("div",{className:"text-xs text-amber-800",children:"This date is locked as a holiday by the admin."}):x?i.jsx("input",{type:"text",value:b,onChange:W=>I(W.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}):null]}),i.jsxs("div",{className:"flex flex-col gap-4 border-t border-slate-100 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx(DA,{className:"h-4 w-4"}),A.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-semibold text-rose-700",children:[i.jsx(_d,{className:"h-4 w-4"}),le," Absent"]})]}),i.jsxs("button",{onClick:oe,disabled:E||!t||V()||!!Q,className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700 disabled:opacity-50 sm:w-auto",children:[i.jsx(AA,{size:18}),E?"Saving...":x?"Save Holiday":"Save Register"]})]})]})}),H&&i.jsx("div",{className:`rounded-2xl p-3 text-center text-sm shadow-sm ${H.includes("Cannot")?"bg-rose-50 text-rose-700":"bg-emerald-50 text-emerald-700"}`,children:H}),(V()||Q)&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[i.jsx(Ki,{size:18}),i.jsx("span",{className:"font-medium",children:Q?`Admin marked ${Q.date} as a holiday${Q.reason?` (${Q.reason})`:""}.`:U!=null&&U.nextTermBegins&&u>=U.nextTermBegins?"Attendance not available for selected date":U!=null&&U.vacationDate&&u>U.vacationDate?`Cannot mark attendance after vacation date (${U.vacationDate})`:!(U!=null&&U.vacationDate)&&(U!=null&&U.schoolReopenDate)&&u<U.schoolReopenDate?`Cannot mark attendance before school re-open date (${U.schoolReopenDate})`:"Attendance not available for selected date"})]})}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:[o.map(W=>{const re=A.has(W.id),me=V()||x||!!Q;return i.jsxs("div",{className:`group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md ${me?"opacity-60":"cursor-pointer"}`,onClick:()=>!me&&G(W.id),children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full text-sm font-bold ${re?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:W.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:W.name}),i.jsx("p",{className:"text-xs text-slate-500",children:W.gender})]})]}),i.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${x?"border-amber-200 bg-amber-50 text-amber-700":re?"border-emerald-200 bg-emerald-50 text-emerald-700":N?"border-rose-200 bg-rose-50 text-rose-700":"border-slate-200 bg-slate-50 text-slate-500"}`,children:[x?i.jsx(Ki,{className:"h-4 w-4"}):re?i.jsx(DA,{className:"h-4 w-4"}):N?i.jsx(_d,{className:"h-4 w-4"}):i.jsx(ac,{className:"h-4 w-4"}),x?Q?"ADMIN HOLIDAY":"HOLIDAY":re?"PRESENT":N?"ABSENT":"UNMARKED"]})]},W.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:t?"No students found in this class.":"Select a class to view students."})]})]})})},Co=n=>{const e=n.split("-");if(e.length===3){const s=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]));if(!isNaN(s.getTime()))return s}const t=new Date(n);return isNaN(t.getTime())?(console.error("Invalid date string:",n),new Date):t},GY=()=>{var le;const{user:n}=Fo(),e=(n==null?void 0:n.schoolId)||null,[t,s]=Z.useState({}),[r,o]=Z.useState(!0),[c,h]=Z.useState({}),[u,f]=Z.useState(null),[A,m]=Z.useState(null),[x,g]=Z.useState({}),[b,I]=Z.useState({}),[N,S]=Z.useState(""),E=X=>{const W=X.getFullYear(),re=String(X.getMonth()+1).padStart(2,"0"),me=String(X.getDate()).padStart(2,"0");return`${W}-${re}-${me}`},F=()=>{const X=new Date;return X.setHours(0,0,0,0),X},Q=Z.useMemo(()=>F(),[]),P=Z.useMemo(()=>E(Q),[Q]),H=(X,W,re=!1)=>{const me=[];let ee=new Date(X);for(ee.setHours(0,0,0,0);me.length<W;)ee.getDay()!==0&&ee.getDay()!==6&&me.push(E(ee)),ee.setDate(ee.getDate()+(re?-1:1));return me},L=Z.useMemo(()=>{const X=u!=null&&u.schoolReopenDate?Co(u.schoolReopenDate):null,W=u!=null&&u.vacationDate?Co(u.vacationDate):null,re=new Date(Q);return H(re,20,!0).filter(ee=>{const M=Co(ee),J=u!=null&&u.nextTermBegins?Co(u.nextTermBegins):null;if(J&&M>=J)return!0;const ae=!X||M>=X,ie=!W||M<=W;return ae&&ie}).sort()},[Q,u]),U=X=>{const W=new Date(X);for(W.setDate(W.getDate()-1);W.getDay()===0||W.getDay()===6;)W.setDate(W.getDate()-1);return E(W)},R=Z.useMemo(()=>U(Q),[Q]),K=(X,W,re,me,ee)=>{const M=Co(X),J=W?Co(W):null,ae=re?Co(re):null,ie=me?Co(me):null,ce=(ee||[]).some(ye=>ye.date===X);return ie&&M>=ie?!0:!(ce||J&&M<J||ae&&M>ae)};Z.useEffect(()=>{(async()=>{if(!e){f(null);return}const W=await ot.getSchoolConfig(e);f(W)})()},[e]),Z.useEffect(()=>{if(!(n!=null&&n.id)||!e||L.length===0){o(!1);return}(async()=>{o(!0);const W={};for(const re of L)if(K(re,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates)){const me=await ot.getTeacherAttendance(e,n.id,re);me&&(W[re]=me)}s(W),o(!1)})()},[n==null?void 0:n.id,L,u==null?void 0:u.schoolReopenDate,e]),Z.useEffect(()=>{if(!(n!=null&&n.id)||!e||!u)return;(async()=>{const W=u.schoolReopenDate,re=u.vacationDate;if(!K(R,W,re,u.nextTermBegins,u.holidayDates))return;await ot.getTeacherAttendance(e,n.id,R)||m(R)})()},[n==null?void 0:n.id,u,R,K]);const O=async(X,W)=>{if(!(n!=null&&n.id)||!e)return;h(me=>({...me,[X]:!0}));const re={id:`${e}_${n.id}_${X}`,date:X,teacherId:n.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:W,approvalStatus:"pending",isHoliday:!1,holidayReason:""};await ot.saveTeacherAttendance(re),s(me=>({...me,[X]:re})),m(null),await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} submitted ${W} attendance for ${X} (pending approval)`,"attendance",e),h(me=>({...me,[X]:!1}))},V=async X=>{var W;if(!(!(n!=null&&n.id)||!e)){h(re=>({...re,[X]:!0}));try{if((await ot.getAllTeacherAttendance(e,X)).some(M=>!M.isHoliday)){S("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>S(""),4e3);return}const ee={id:`${e}_${n.id}_${X}`,date:X,teacherId:n.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:"absent",approvalStatus:"pending",isHoliday:!0,holidayReason:((W=x[X])==null?void 0:W.trim())||""};await ot.saveTeacherAttendance(ee),s(M=>({...M,[X]:ee})),m(null),await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} submitted ${X} as Holiday (pending approval).`,"attendance",e),S("Holiday saved successfully!"),setTimeout(()=>S(""),3e3),I(M=>({...M,[X]:!1}))}finally{h(re=>({...re,[X]:!1}))}}},G=()=>u!=null&&u.schoolReopenDate?Q>=Co(u.schoolReopenDate):!0,oe=X=>{const W=Co(X),re=u!=null&&u.schoolReopenDate?Co(u.schoolReopenDate):null,me=u!=null&&u.vacationDate?Co(u.vacationDate):null,ee=u!=null&&u.nextTermBegins?Co(u.nextTermBegins):null;return ee&&W>=ee?!0:!(re&&W<re||me&&W>me)},ge=X=>Co(X).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"});return i.jsx(ir,{title:"Daily Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Daily Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark your attendance with confidence  fast, clear, and beautiful."}),((le=u==null?void 0:u.holidayDates)==null?void 0:le.some(X=>X.date===P))&&i.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday:"," ",(()=>{const X=u.holidayDates.find(W=>W.date===P);return(X==null?void 0:X.reason)||"No reason provided"})()]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(ho,{className:"h-4 w-4 text-indigo-500"}),"Today: ",ge(P)]}),i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-medium shadow-sm ${G()?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[i.jsx(ac,{className:"h-4 w-4"}),G()?"School Open":"School Closed"]})]})]})]}),A&&i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-amber-200 bg-amber-50/60 p-5 shadow-sm",children:[i.jsx("div",{className:"absolute -right-10 -top-10 h-24 w-24 rounded-full bg-amber-200/60 blur-2xl"}),i.jsxs("div",{className:"relative flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[i.jsx(Ki,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Missed Attendance"})]}),i.jsxs("p",{className:"text-sm text-amber-900",children:["You missed attendance for",i.jsxs("span",{className:"font-semibold",children:[" ",ge(A)]}),". Please update it now."]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>O(A,"present"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-emerald-700 disabled:opacity-50",children:[i.jsx(DA,{className:"h-4 w-4"}),"Mark Present"]}),i.jsxs("button",{onClick:()=>O(A,"absent"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-rose-700 disabled:opacity-50",children:[i.jsx(_d,{className:"h-4 w-4"}),"Mark Absent"]})]})]})]}),N&&i.jsx("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4 text-sm text-emerald-800 shadow-sm",children:N}),!G()&&i.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/70 p-4 text-rose-800 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(ac,{className:"h-5 w-5"}),"School not yet open"]})}),(u==null?void 0:u.vacationDate)&&Q<Co(u.vacationDate)&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(ho,{className:"h-5 w-5 text-amber-600"}),"School will vacate on: ",u.vacationDate]})}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:r?i.jsx("div",{className:"p-8 text-center text-sm text-slate-500",children:"Loading attendance..."}):i.jsx("div",{className:"grid gap-3 p-2",children:L.map(X=>{const W=t[X],re=X>P,me=K(X,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates),ee=((u==null?void 0:u.holidayDates)||[]).find(ie=>ie.date===X),M=!!ee,J=!!(W!=null&&W.isHoliday),ae=(W==null?void 0:W.holidayReason)||(ee==null?void 0:ee.reason)||"";return i.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ge(X)}),i.jsx("p",{className:"text-xs text-slate-500",children:X})]}),i.jsx("div",{className:"flex items-center gap-2",children:M||J?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx(Ki,{className:"h-4 w-4"}),"Holiday"]}):W?i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${W.approvalStatus==="rejected"?"bg-rose-50 text-rose-700":W.status==="present"?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[W.approvalStatus==="pending"?i.jsx(ac,{className:"h-4 w-4"}):W.approvalStatus==="rejected"?i.jsx(_d,{className:"h-4 w-4"}):W.status==="present"?i.jsx(DA,{className:"h-4 w-4"}):i.jsx(_d,{className:"h-4 w-4"}),W.approvalStatus==="pending"?"PENDING":W.approvalStatus==="rejected"?"ABSENT":W.status.toUpperCase()]}):me?re?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:[i.jsx(ac,{className:"h-4 w-4"}),"Future"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:[i.jsx(ho,{className:"h-4 w-4"}),"Pending"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx(Ki,{className:"h-4 w-4"}),Co(X)<Co((u==null?void 0:u.schoolReopenDate)||"")?"Before Reopen":"After Vacation"]})})]}),(M||J)&&ae&&i.jsxs("div",{className:"text-xs font-medium text-amber-700",children:["Reason: ",ae]}),(W==null?void 0:W.approvalStatus)==="rejected"&&i.jsx("div",{className:"text-xs font-semibold text-rose-600",children:"Attendance rejected. Please do not cheat when marking attendance."}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("div",{className:"text-xs text-slate-500",children:M||J?"Holiday / No School":oe(X)?"School in session":"Out of session"}),M||!me||re?null:i.jsxs("div",{className:"flex flex-1 flex-wrap items-center gap-2",children:[!W&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>O(X,"present"),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-xs font-semibold text-emerald-700 shadow-sm transition hover:scale-[1.02] hover:bg-emerald-100",children:[i.jsx(DA,{className:"h-4 w-4"}),"Present"]}),i.jsxs("button",{onClick:()=>O(X,"absent"),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 shadow-sm transition hover:scale-[1.02] hover:bg-rose-100",children:[i.jsx(_d,{className:"h-4 w-4"}),"Absent"]})]}),(!W||W.isHoliday)&&i.jsxs("button",{onClick:()=>I(ie=>({...ie,[X]:!ie[X]})),className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-700 shadow-sm transition hover:scale-[1.02] hover:bg-amber-100",children:[i.jsx(Ki,{className:"h-4 w-4"}),W!=null&&W.isHoliday?"Update Holiday":"Mark Holiday"]})]})]}),(b[X]||J)&&(!W||W.isHoliday)&&!re&&me&&!M&&i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx("input",{type:"text",value:x[X]??(W==null?void 0:W.holidayReason)??"",onChange:ie=>g(ce=>({...ce,[X]:ie.target.value})),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}),i.jsx("button",{onClick:()=>V(X),disabled:c[X],className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-amber-700 disabled:opacity-50",children:"Save Holiday"})]})]},X)})})})]})})},$Y=()=>{const{user:n}=Fo(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,r]=Z.useState(""),[o,c]=Z.useState([]),[h,u]=Z.useState([]),[f,A]=Z.useState(""),[m,x]=Z.useState({}),[g,b]=Z.useState(!1),[I,N]=Z.useState(!1),[S,E]=Z.useState({currentTerm:`Term ${zi}`,academicYear:To}),F={testScore:15,homeworkScore:15,projectScore:20,examScore:100};Z.useEffect(()=>{e.length>0&&!s&&r(e[0])},[e]),Z.useEffect(()=>{(async()=>{try{if(!t)return;const L=await ot.getSchoolConfig(t);if(E({currentTerm:L.currentTerm||`Term ${zi}`,academicYear:L.academicYear||To}),L.termTransitionProcessed){console.log("Term transition detected, reloading for fresh data..."),await ot.updateSchoolConfig({...L,termTransitionProcessed:!1}),window.location.reload();return}const U=new Date;U.setHours(0,0,0,0);const R=L.nextTermBegins?new Date(L.nextTermBegins+"T00:00:00"):null;if(R&&U>=R){console.log("New term begins, initiating reset..."),await ot.resetForNewTerm(L),await ot.updateSchoolConfig({...L,termTransitionProcessed:!0}),Pt("New term started! Assessments have been reset.",{type:"success"}),window.location.reload();return}}catch(L){console.error("Failed to load school config",L)}})()},[t]),Z.useEffect(()=>{(async()=>{if(!s||!t){u([]),A("");return}const L=await ot.getSubjects(t,s);u(L),L.length>0?A(L[0]):A("")})()},[s,t]),Z.useEffect(()=>{if(!s||!t)return;(async()=>{const L=await ot.getStudents(t,s);c(L)})()},[s,t]),Z.useEffect(()=>{if(!s||!f||!t){x({});return}(async()=>{b(!0);const L=await ot.getAssessments(t,s,f);let U=zi;if(S.currentTerm){const K=S.currentTerm.match(/\d+/);K&&(U=parseInt(K[0],10))}const R={};o.forEach(K=>{const O=L.find(V=>V.studentId===K.id&&V.term===U);R[K.id]=O||{id:`${K.id}_${f}_${U}_${S.academicYear}`,schoolId:t||"",studentId:K.id,classId:s,term:U,academicYear:S.academicYear,subject:f,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0}}),x(R),b(!1)})()},[s,f,o,S.currentTerm,S.academicYear,t]);const Q=(H,L,U)=>{let R=U===""?0:parseFloat(U);const K=F[L];R>K&&(R=K),R<0&&(R=0),x(O=>{const V=O[H]||{};return{...O,[H]:{...V,[L]:R}}})},P=async()=>{var H;if(!(!s||!t)){N(!0);try{let L=zi;if(S.currentTerm){const K=S.currentTerm.match(/\d+/);K&&(L=parseInt(K[0],10))}const U=Object.values(m).map(async K=>{if(!K.studentId)return;const O=_A(K),V={...K,id:K.id||Math.random().toString(36),schoolId:t,total:O,studentId:K.studentId,classId:s,subject:f,term:L,academicYear:S.academicYear,testScore:K.testScore||0,homeworkScore:K.homeworkScore||0,projectScore:K.projectScore||0,examScore:K.examScore||0};return ot.saveAssessment(V)});await Promise.all(U);const R=((H=In.find(K=>K.id===s))==null?void 0:H.name)||s;await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated assessments for ${R} in ${f}.`,"assessment",t),Pt("Saved Successfully",{type:"success"})}catch(L){console.error(L),Pt("Error saving data",{type:"error"})}finally{N(!1)}}};return e.length===0?i.jsx(ir,{title:"Assessment",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"No class assigned."})}):i.jsx(ir,{title:"Assessment Sheet",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Class"}),i.jsx("select",{value:s,onChange:H=>r(H.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64 bg-white text-black",children:e.map(H=>{const L=In.find(U=>U.id===H);return i.jsx("option",{value:H,children:L==null?void 0:L.name},H)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Subject"}),i.jsxs("select",{value:f,onChange:H=>A(H.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64",disabled:h.length===0,children:[h.length===0&&i.jsx("option",{children:"Loading subjects..."}),h.map(H=>i.jsx("option",{value:H,children:H},H))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[i.jsx("div",{className:"hidden sm:block",children:i.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[S.currentTerm,"  ",S.academicYear]})}),i.jsxs("button",{onClick:P,disabled:I||!f||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[i.jsx(AA,{size:18,className:"mr-2"}),I?"Saving...":"Save Scores"]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold uppercase text-xs tracking-wider",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 sticky left-0 bg-slate-100 z-10 w-48",children:"Student Name"}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Class Test",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Homework",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Project",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(20)"})]}),i.jsxs("th",{className:"px-2 py-3 w-28 text-center border-l border-slate-200 bg-red-50/50",children:["Exam",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-red-600",children:"(100)"})]}),i.jsxs("th",{className:"px-4 py-3 w-24 text-center bg-slate-200",children:["Total",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case",children:"(100%)"})]}),i.jsx("th",{className:"px-4 py-3 w-20 text-center bg-slate-200",children:"Grade"})]})}),i.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.map(H=>{const L=m[H.id]||{},U=_A(L),{grade:R,remark:K}=fm(U),O=Pg(R);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 sticky left-0 bg-white border-r border-slate-100",children:H.name}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.testScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:L.testScore||0,onChange:V=>Q(H.id,"testScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.homeworkScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:L.homeworkScore||0,onChange:V=>Q(H.id,"homeworkScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.projectScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:L.projectScore||0,onChange:V=>Q(H.id,"projectScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2 border-l border-slate-200 bg-red-50/20",children:i.jsx("input",{type:"number",min:"0",max:F.examScore,className:"w-full text-center border border-red-500 rounded p-1 focus:ring-2 focus:ring-red-300 outline-none font-bold text-slate-800 bg-white shadow-sm",value:L.examScore||0,onChange:V=>Q(H.id,"examScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-800 bg-slate-50",children:U}),i.jsx("td",{className:"px-4 py-3 text-center bg-slate-50",children:i.jsx("span",{className:`inline-block w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${O}`,children:R})})]},H.id)}),o.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:s?"No students found in this class.":"Select a class above."})})]})]})})]})})},YY=()=>{const{user:n}=Fo(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,r]=Z.useState(""),[o,c]=Z.useState([]),[h,u]=Z.useState({}),[f,A]=Z.useState(!1),[m,x]=Z.useState(!1),[g,b]=Z.useState("");Z.useEffect(()=>{e.length>0&&!s&&r(e[0])},[e]),Z.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const E=await ot.getStudents(t,s);c(E);const F=await ot.getStudentRemarks(t,s),Q={};let P=zi;const H=await ot.getSchoolConfig(t);if(H.currentTerm){const L=H.currentTerm.match(/\d+/);L&&(P=parseInt(L[0],10))}E.forEach(L=>{const U=F.find(R=>R.studentId===L.id&&R.term===P);Q[L.id]=(U==null?void 0:U.remark)||""}),u(Q)}catch(E){console.error(E)}finally{A(!1)}})()},[s,t]);const I=(S,E)=>{u(F=>({...F,[S]:E}))},N=async()=>{var S;if(!(!s||!t)){x(!0);try{const E=await ot.getSchoolConfig(t);let F=zi;if(E.currentTerm){const H=E.currentTerm.match(/\d+/);H&&(F=parseInt(H[0],10))}const Q=Object.entries(h).map(async([H,L])=>{const U=L;if(!U.trim())return;const R={id:`${H}_${s}_${F}_${To}`,studentId:H,classId:s,term:F,academicYear:To,schoolId:t,remark:U,behaviorTag:"Good",teacherId:(n==null?void 0:n.id)||"",dateCreated:new Date().toISOString().split("T")[0]};await ot.saveStudentRemark(R)});await Promise.all(Q);const P=((S=In.find(H=>H.id===s))==null?void 0:S.name)||s;await ot.addSystemNotification(`${n==null?void 0:n.fullName} updated remarks for ${P}.`,"assessment",t),b("Remarks saved successfully!"),setTimeout(()=>b(""),3e3)}catch(E){console.error(E),b("Error saving remarks"),setTimeout(()=>b(""),3e3)}finally{x(!1)}}};return e.length===0?i.jsx(ir,{title:"Write Remarks",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})}):i.jsx(ir,{title:"Write Remarks",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:s,onChange:S=>r(S.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(S=>{const E=In.find(F=>F.id===S);return i.jsx("option",{value:S,children:E==null?void 0:E.name},S)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(AA,{size:18,className:"mr-2"}),m?"Saving...":"Save Remarks"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):o.map(S=>{var E;return i.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:S.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-800",children:S.name}),i.jsx("p",{className:"text-xs text-slate-400",children:(E=In.find(F=>F.id===S.classId))==null?void 0:E.name})]})]}),i.jsx("textarea",{value:h[S.id]||"",onChange:F=>I(S.id,F.target.value),placeholder:"Write remarks for this student...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none resize-none",rows:3})]},S.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},WY=["Excellent","Very Good","Good","Fair","Poor"],XY=()=>{const{user:n}=Fo(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,r]=Z.useState(""),[o,c]=Z.useState([]),[h,u]=Z.useState({}),[f,A]=Z.useState(!1),[m,x]=Z.useState(!1),[g,b]=Z.useState("");Z.useEffect(()=>{e.length>0&&!s&&r(e[0])},[e]),Z.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const F=await ot.getStudents(t,s);c(F);const Q=await ot.getStudentSkills(t,s),P={};let H=zi;const L=await ot.getSchoolConfig(t);if(L.currentTerm){const U=L.currentTerm.match(/\d+/);U&&(H=parseInt(U[0],10))}F.forEach(U=>{const R=Q.find(K=>K.studentId===U.id&&K.term===H);R?P[U.id]=R:P[U.id]={id:`${U.id}_${s}_${H}_${To}`,studentId:U.id,classId:s,term:H,academicYear:To,schoolId:t||(L==null?void 0:L.schoolId)||"",punctuality:"Good",neatness:"Good",conduct:"Good",attitudeToWork:"Good",classParticipation:"Good",homeworkCompletion:"Good"}}),u(P)}catch(F){console.error(F)}finally{A(!1)}})()},[s,t]);const I=(E,F,Q)=>{u(P=>({...P,[E]:{...P[E],[F]:Q}}))},N=async()=>{var E;if(!(!s||!t)){x(!0);try{const F=await ot.getSchoolConfig(t);let Q=zi;if(F.currentTerm){const L=F.currentTerm.match(/\d+/);L&&(Q=parseInt(L[0],10))}const P=Object.values(h).map(async L=>{await ot.saveStudentSkills(L)});await Promise.all(P);const H=((E=In.find(L=>L.id===s))==null?void 0:E.name)||s;await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated skills for ${H}.`,"assessment",t),b("Skills saved successfully!"),setTimeout(()=>b(""),3e3)}catch(F){console.error(F),b("Error saving skills"),setTimeout(()=>b(""),3e3)}finally{x(!1)}}};if(e.length===0)return i.jsx(ir,{title:"Edit Skills",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const S=[{key:"punctuality",label:"Punctuality"},{key:"neatness",label:"Neatness"},{key:"conduct",label:"Conduct"},{key:"attitudeToWork",label:"Attitude to Work"},{key:"classParticipation",label:"Class Participation"},{key:"homeworkCompletion",label:"Homework Completion"}];return i.jsx(ir,{title:"Edit Skills",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:s,onChange:E=>r(E.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(E=>{const F=In.find(Q=>Q.id===E);return i.jsx("option",{value:E,children:F==null?void 0:F.name},E)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(AA,{size:18,className:"mr-2"}),m?"Saving...":"Save Skills"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left w-48",children:"Student Name"}),S.map(E=>i.jsx("th",{className:"px-2 py-3 text-center",children:E.label},E.key))]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(E=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:E.name.charAt(0)}),E.name]})}),S.map(F=>{var Q;return i.jsx("td",{className:"px-2 py-3",children:i.jsx("select",{value:((Q=h[E.id])==null?void 0:Q[F.key])||"Good",onChange:P=>I(E.id,F.key,P.target.value),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-center",children:WY.map(P=>i.jsx("option",{value:P,children:P},P))})},F.key)})]},E.id))})]}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},JY=()=>{const{user:n}=Fo(),[e,t]=Z.useState([]),[s,r]=Z.useState(!0),[o,c]=Z.useState(!1),[h,u]=Z.useState({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),[f,A]=Z.useState(!1),[m,x]=Z.useState(null),[g,b]=Z.useState(!1),[I,N]=Z.useState(!1),[S,E]=Z.useState(""),[F,Q]=Z.useState(1),[P,H]=Z.useState({x:0,y:0}),[L,U]=Z.useState({width:0,height:0}),R=Z.useRef(null),K=180,O=512,V=K/2,G=re=>{if(!re)return"N/A";const me=re,ee=me instanceof Date?me:typeof(me==null?void 0:me.toDate)=="function"?me.toDate():typeof me=="string"||typeof me=="number"?new Date(me):null;return!ee||Number.isNaN(ee.getTime())?"N/A":ee.toLocaleDateString()};Z.useEffect(()=>{const re=kn(Bt,"schools");return Id(re,ee=>{const M=ee.docs.map(J=>({id:J.id,...J.data()}));t(M),r(!1)})},[]);const oe=async re=>{if(re.preventDefault(),!h.name.trim())return;const me=()=>{if(!S||!R.current)return"";const ee=R.current,M=L.width||ee.naturalWidth||1,J=L.height||ee.naturalHeight||1,ie=Math.max(K/M,K/J)*F*(O/K),ce=P.x*(O/K),ye=P.y*(O/K),Ne=document.createElement("canvas");Ne.width=O,Ne.height=O;const xe=Ne.getContext("2d");if(!xe)return"";const Se=M*ie,Fe=J*ie,Qe=O/2-Se/2+ce,Je=O/2-Fe/2+ye;return xe.drawImage(ee,Qe,Je,Se,Fe),Ne.toDataURL("image/png")};b(!0);try{const ee=me();await y7({name:h.name.trim(),phone:h.phone.trim(),address:h.address.trim(),logoUrl:ee||"",plan:h.plan}),u({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),E(""),Q(1),H({x:0,y:0}),U({width:0,height:0}),c(!1),Pt("School created successfully!",{type:"success"})}catch(ee){console.error("Error creating school:",ee),Pt(ee.message||"Failed to create school",{type:"error"})}finally{b(!1)}},ge=re=>{var M;const me=(M=re.target.files)==null?void 0:M[0];if(!me){E(""),U({width:0,height:0});return}const ee=new FileReader;ee.onload=()=>{E(ee.result),Q(1),H({x:0,y:0})},ee.readAsDataURL(me)},le=async(re,me)=>{try{const ee=me==="active"?"inactive":"active";await Oh(Pn(Bt,"schools",re),{status:ee}),Pt(`School ${ee==="active"?"activated":"deactivated"}`,{type:"success"})}catch(ee){console.error("Error updating school status:",ee),Pt("Failed to update school status",{type:"error"})}},X=async()=>{if(m)try{N(!0);const re=m.id,me=400,ee=await ns(Jn(kn(Bt,"users"),nn("schoolId","==",re)));let M=0;const J=[];for(let ce=0;ce<ee.docs.length;ce+=me){const ye=k5(Bt),Ne=ee.docs.slice(ce,ce+me);for(const xe of Ne)ye.delete(Pn(Bt,"users",xe.id));J.push(ye.commit()),M+=Ne.length}J.length>0&&(await Promise.all(J),console.log(`Deleted ${M} user documents`));const ae=["students","classes","attendance","assessments","teacher_attendance","notices","student_remarks","student_skills","admin_remarks","admin_notifications","timetables","class_subjects","settings"];let ie=0;for(const ce of ae)if(ce==="settings")try{await ki(Pn(Bt,"settings",re)),ie+=1}catch{console.log(`Settings document ${re} not found or already deleted`)}else{const ye=Jn(kn(Bt,ce),nn("schoolId","==",re)),xe=(await ns(ye)).docs.map(Se=>Se.id);if(xe.length>0)for(let Se=0;Se<xe.length;Se+=me){const Fe=k5(Bt),Qe=xe.slice(Se,Se+me);for(const Je of Qe)Fe.delete(Pn(Bt,ce,Je));await Fe.commit(),ie+=Qe.length}}await ki(Pn(Bt,"schools",re)),Pt(`School deleted successfully! Removed ${M} users and ${ie} data records.`,{type:"success"}),A(!1),x(null)}catch(re){console.error("Error deleting school:",re),Pt(re.message||"Failed to delete school",{type:"error"})}finally{N(!1)}},W=re=>{x(re),A(!0)};return s?i.jsx(ir,{title:"Schools",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):i.jsxs(ir,{title:"Schools",children:[i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Schools Management"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage all schools in the system"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Gh,{size:18,className:"mr-2"}),"Create School"]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Name"}),i.jsx("th",{className:"px-6 py-4",children:"Code"}),i.jsx("th",{className:"px-6 py-4",children:"Status"}),i.jsx("th",{className:"px-6 py-4",children:"Plan"}),i.jsx("th",{className:"px-6 py-4",children:"Created"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400",children:"No schools created yet."})}):e.map(re=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center overflow-hidden",children:re.logoUrl?i.jsx("img",{src:re.logoUrl,alt:re.name,className:"w-full h-full object-cover"}):i.jsx(Kp,{size:16,className:"text-slate-600"})}),re.name]}),i.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:re.code}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${re.status==="active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:re.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"px-6 py-4 capitalize",children:re.plan}),i.jsx("td",{className:"px-6 py-4",children:G(re.createdAt)}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>le(re.id,re.status),className:`p-1 rounded transition-colors ${re.status==="active"?"text-[#1160A8] hover:bg-[#E6F0FA]":"text-emerald-600 hover:bg-emerald-50"}`,title:re.status==="active"?"Deactivate":"Activate",children:re.status==="active"?i.jsx(MM,{size:18}):i.jsx(PM,{size:18})}),i.jsx(Na,{to:`/super-admin/schools/${re.id}`,className:"p-1 text-slate-600 hover:bg-slate-50 rounded transition-colors",title:"View Details",children:i.jsx(th,{size:18})}),i.jsx("button",{onClick:()=>W(re),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete School",children:i.jsx(RA,{size:18})})]})})]},re.id))})]})})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Create New School"}),i.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"School Name"}),i.jsx("input",{type:"text",required:!0,disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.name,onChange:re=>u({...h,name:re.target.value}),placeholder:"Enter school name"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.phone,onChange:re=>u({...h,phone:re.target.value}),placeholder:"School phone number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.address,onChange:re=>u({...h,address:re.target.value}),placeholder:"School address"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Logo Upload (Optional)"}),i.jsx("input",{type:"file",accept:"image/*",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg bg-white focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",onChange:ge}),S&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(F*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:K,height:K},children:i.jsx("img",{ref:R,src:S,alt:"Logo preview",onLoad:re=>{const me=re.currentTarget;U({width:me.naturalWidth,height:me.naturalHeight})},style:{width:L.width?`${Math.max(K,K/L.height*L.width)*F}px`:"auto",height:L.height?`${Math.max(K,K/L.width*L.height)*F}px`:"auto",transform:`translate(${P.x}px, ${P.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:F,onChange:re=>Q(parseFloat(re.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-V,max:V,value:P.x,onChange:re=>H(me=>({...me,x:parseFloat(re.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-V,max:V,value:P.y,onChange:re=>H(me=>({...me,y:parseFloat(re.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan"}),i.jsxs("select",{disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.plan,onChange:re=>u({...h,plan:re.target.value}),children:[i.jsx("option",{value:"free",children:"Free (No Billing)"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",disabled:g,onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:g,className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(AA,{size:18,className:"mr-2"}),"Create School"]})})]})]}),g&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(Kp,{size:64,className:"text-[#0B4A82] animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-[#E6F0FA] rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-[#0B4A82] rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Creating Your School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Setting up everything perfectly..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-150"})]})]})})]})}),f&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete School"}),i.jsx("button",{onClick:()=>A(!1),disabled:I,className:"text-slate-400 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Are you sure you want to delete this school?"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. All associated data including students, teachers, admin accounts, and all school records will be permanently removed from the system."})]})]})}),i.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:i.jsx(Kp,{size:20,className:"text-slate-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:m.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Code: ",m.code]})]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>A(!1),disabled:I,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:X,disabled:I,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete School"})]}),I&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(RA,{size:64,className:"text-red-600 animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-red-400 rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-red-300 rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-red-500 rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Deleting School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Removing associated data safely..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-150"})]})]})})]})})]})},qY=()=>{const{schoolId:n}=aF(),e=vm(),[t,s]=Z.useState(null),[r,o]=Z.useState(null),[c,h]=Z.useState(!0),[u,f]=Z.useState(!1),[A,m]=Z.useState(!1),[x,g]=Z.useState(!1),[b,I]=Z.useState({fullName:"",email:"",password:""}),[N,S]=Z.useState(!1),[E,F]=Z.useState(null),[Q,P]=Z.useState({students:"0",teachers:"0",lastActivity:"Coming soon"}),[H,L]=Z.useState(!1),[U,R]=Z.useState(""),[K,O]=Z.useState(!1),[V,G]=Z.useState(""),[oe,ge]=Z.useState(1),[le,X]=Z.useState({x:0,y:0}),[W,re]=Z.useState({width:0,height:0}),me=Z.useRef(null),ee=180,M=512,J=ee/2;Z.useEffect(()=>{if(!n)return;(async()=>{var he,nt;try{const lt=await kc(Pn(Bt,"schools",n));if(!lt.exists()){Pt("School not found",{type:"error"}),e("/super-admin/schools");return}const ht={id:lt.id,...lt.data()};s(ht);const Ke=ht.createdAt&&((nt=(he=ht.createdAt)==null?void 0:he.toDate)!=null&&nt.call(he))?ht.createdAt.toDate():null;o({name:ht.name||"",code:ht.code||"",phone:ht.phone||"",address:ht.address||"",logoUrl:ht.logoUrl||"",status:ht.status||"active",plan:ht.plan||"trial",planEndsAt:ht.planEndsAt?new Date(ht.planEndsAt).toISOString().split("T")[0]:"",notes:ht.notes||""});const Nt=Jn(kn(Bt,"users"),nn("role","==",ps.SCHOOL_ADMIN),nn("schoolId","==",ht.id)),qt=(await ns(Nt)).docs[0];F(qt?{id:qt.id,...qt.data()}:null);const[Zt,sn]=await Promise.all([ns(Jn(kn(Bt,"students"),nn("schoolId","==",ht.id))),ns(Jn(kn(Bt,"users"),nn("schoolId","==",ht.id),nn("role","==",ps.TEACHER)))]);P({students:Zt.size.toString(),teachers:sn.size.toString(),lastActivity:Ke?Ke.toLocaleDateString():""})}catch(lt){console.error("Error fetching school:",lt),Pt("Failed to load school details",{type:"error"})}finally{h(!1)}})()},[n,e]);const ae=Z.useMemo(()=>{var he,nt;if(!(t!=null&&t.createdAt))return"";const Pe=(nt=(he=t.createdAt)==null?void 0:he.toDate)!=null&&nt.call(he)?t.createdAt.toDate():new Date(t.createdAt);return!Pe||Number.isNaN(Pe.getTime())?"":Pe.toLocaleDateString()},[t==null?void 0:t.createdAt]),ie=(Pe,he)=>{r&&o({...r,[Pe]:he})},ce=Pe=>{var lt;const he=(lt=Pe.target.files)==null?void 0:lt[0];if(!he){G(""),re({width:0,height:0});return}const nt=new FileReader;nt.onload=()=>{G(nt.result),ge(1),X({x:0,y:0})},nt.readAsDataURL(he)},ye=()=>{if(!r)return!1;if(!r.name.trim())return Pt("School name is required.",{type:"error"}),!1;if(r.phone&&r.phone.trim().length<7)return Pt("Phone number is too short.",{type:"error"}),!1;if(r.planEndsAt){const Pe=new Date(r.planEndsAt),he=new Date;if(he.setHours(0,0,0,0),Pe<he)return Pt("Plan end date cannot be in the past.",{type:"error"}),!1}return!0},Ne=async()=>{if(!n||!r||!ye())return;const Pe=()=>{if(!V||!me.current)return"";const he=me.current,nt=W.width||he.naturalWidth||1,lt=W.height||he.naturalHeight||1,Ke=Math.max(ee/nt,ee/lt)*oe*(M/ee),Nt=le.x*(M/ee),Rt=le.y*(M/ee),qt=document.createElement("canvas");qt.width=M,qt.height=M;const Zt=qt.getContext("2d");if(!Zt)return"";const sn=nt*Ke,an=lt*Ke,Xe=M/2-sn/2+Nt,Ht=M/2-an/2+Rt;return Zt.drawImage(he,Xe,Ht,sn,an),qt.toDataURL("image/png")};f(!0);try{const nt=Pe()||r.logoUrl.trim();await Oi(Pn(Bt,"schools",n),{name:r.name.trim(),code:r.code.trim(),phone:r.phone.trim(),address:r.address.trim(),logoUrl:nt,status:r.status,plan:r.plan,planEndsAt:r.planEndsAt?new Date(r.planEndsAt):null,notes:r.notes.trim()},{merge:!0}),Pt("School updated successfully.",{type:"success"}),s(lt=>lt&&{...lt,...r,logoUrl:nt,planEndsAt:r.planEndsAt?new Date(r.planEndsAt):null}),o(lt=>lt&&{...lt,logoUrl:nt}),G(""),ge(1),X({x:0,y:0}),re({width:0,height:0})}catch(he){console.error("Failed to update school",he),Pt(he.message||"Failed to update school.",{type:"error"})}finally{f(!1)}},xe=()=>{t&&o({name:t.name||"",code:t.code||"",phone:t.phone||"",address:t.address||"",logoUrl:t.logoUrl||"",status:t.status||"active",plan:t.plan||"trial",planEndsAt:t.planEndsAt?new Date(t.planEndsAt).toISOString().split("T")[0]:"",notes:t.notes||""})},Se=async Pe=>{if(Pe.preventDefault(),!!n&&!(!b.fullName.trim()||!b.email.trim())){S(!0);try{const he=await b7({schoolId:n,fullName:b.fullName.trim(),email:b.email.trim(),password:b.password.trim()||void 0});Pt(b.password.trim()?`Admin created: ${he.email}`:`Admin created: ${he.email}. Reset link sent.`,{type:"success"}),I({fullName:"",email:"",password:""}),m(!1);const nt=Jn(kn(Bt,"users"),nn("role","==",ps.SCHOOL_ADMIN),nn("schoolId","==",n)),ht=(await ns(nt)).docs[0];F(ht?{id:ht.id,...ht.data()}:null)}catch(he){console.error("Error creating admin:",he),Pt(he.message||"Failed to create admin.",{type:"error"})}finally{S(!1)}}},Fe=async()=>{if(E)try{const Pe=await w7({adminUid:E.id});await navigator.clipboard.writeText(Pe.resetLink),Pt("Reset link copied to clipboard.",{type:"success"})}catch(Pe){console.error("Failed to reset admin password",Pe),Pt(Pe.message||"Failed to reset admin password.",{type:"error"})}},Qe=async()=>{if(E)try{await Oh(Pn(Bt,"users",E.id),{status:"inactive"}),F({...E,status:"inactive"}),Pt("Admin disabled successfully.",{type:"success"})}catch(Pe){console.error("Failed to disable admin",Pe),Pt(Pe.message||"Failed to disable admin.",{type:"error"})}},Je=async()=>{if(!(!t||U.trim()!==t.name)){O(!0);try{await C7({schoolId:t.id}),Pt("School deleted successfully.",{type:"success"}),L(!1),e("/super-admin/schools")}catch(Pe){console.error("Failed to delete school",Pe),Pt(Pe.message||"Failed to delete school.",{type:"error"})}finally{O(!1),R("")}}};return c?i.jsx(ir,{title:"School Details",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):!t||!r?i.jsx(ir,{title:"School Details",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-slate-500",children:"School not found"})})}):i.jsxs(ir,{title:"School Details",children:[i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("button",{onClick:()=>e("/super-admin/schools"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 text-sm",children:[i.jsx(RT,{size:16}),"Schools / ",t.name]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center overflow-hidden",children:t.logoUrl?i.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-full h-full object-cover"}):i.jsx(yk,{className:"text-slate-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(zh,{size:14})," Code: ",t.code||""]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ho,{size:14})," Created: ",ae]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:t.status==="active"?"Active":"Inactive"}),i.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-600",children:t.plan})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_1.4fr] gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Overview"}),i.jsxs("div",{className:"grid gap-3 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wM,{size:16}),i.jsx("span",{children:t.phone||"No phone"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lM,{size:16}),i.jsx("span",{children:t.address||"No address"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zh,{size:16}),i.jsx("span",{children:t.notes||"No internal notes"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Administration"}),!E&&i.jsx("button",{onClick:()=>m(!0),className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Create Admin"})]}),E?i.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:E.fullName}),i.jsx("p",{className:"text-sm text-slate-500",children:E.email})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:E.status})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:Fe,className:"px-3 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",children:"Reset Admin Password"}),i.jsx("button",{onClick:Qe,className:"px-3 py-2 rounded-lg border border-red-200 text-sm text-red-600 hover:bg-red-50",children:"Disable Admin"})]})]}):i.jsx("div",{className:"text-sm text-slate-500",children:"No admin assigned yet."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Total students",value:Q.students},{label:"Total teachers",value:Q.teachers},{label:"Last activity",value:Q.lastActivity}].map(Pe=>i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-4",children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:Pe.label}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Pe.value})]},Pe.label))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Edit School Settings"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Name"}),i.jsx("input",{value:r.name,onChange:Pe=>ie("name",Pe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Code"}),i.jsx("input",{value:r.code,onChange:Pe=>ie("code",Pe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),i.jsx("input",{value:r.phone,onChange:Pe=>ie("phone",Pe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Status"}),i.jsxs("select",{value:r.status,onChange:Pe=>ie("status",Pe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Address"}),i.jsx("input",{value:r.address,onChange:Pe=>ie("address",Pe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Logo Upload"}),i.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white"}),r.logoUrl&&!V&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Current logo is saved. Upload a new file to replace it."}),V&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(oe*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:ee,height:ee},children:i.jsx("img",{ref:me,src:V,alt:"Logo preview",onLoad:Pe=>{const he=Pe.currentTarget;re({width:he.naturalWidth,height:he.naturalHeight})},style:{width:W.width?`${Math.max(ee,ee/W.height*W.width)*oe}px`:"auto",height:W.height?`${Math.max(ee,ee/W.width*W.height)*oe}px`:"auto",transform:`translate(${le.x}px, ${le.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:oe,onChange:Pe=>ge(parseFloat(Pe.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-J,max:J,value:le.x,onChange:Pe=>X(he=>({...he,x:parseFloat(Pe.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-J,max:J,value:le.y,onChange:Pe=>X(he=>({...he,y:parseFloat(Pe.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan"}),i.jsxs("select",{value:r.plan,onChange:Pe=>ie("plan",Pe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"free",children:"Free (No Billing)"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan Ends At"}),i.jsx("input",{type:"date",value:r.planEndsAt,onChange:Pe=>ie("planEndsAt",Pe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Internal Notes"}),i.jsx("textarea",{value:r.notes,onChange:Pe=>ie("notes",Pe.target.value),rows:4,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[i.jsx("button",{onClick:xe,className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsxs("button",{onClick:Ne,disabled:u,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white flex items-center gap-2 disabled:opacity-60",children:[i.jsx(AA,{size:16})," ",u?"Saving...":"Save Changes"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-red-100 shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[i.jsx($5,{size:18}),i.jsx("h2",{className:"text-lg font-semibold",children:"Danger Zone"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>ie("status",r.status==="active"?"inactive":"active"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:r.status==="active"?"Deactivate School":"Activate School"}),i.jsx(RA,{size:16})]}),i.jsxs("button",{onClick:()=>L(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:"Delete School"}),i.jsx(RA,{size:16})]})]})]})]})]})]}),A&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create School Admin"}),i.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:18})})]}),i.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Full Name"}),i.jsx("input",{value:b.fullName,onChange:Pe=>I({...b,fullName:Pe.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email"}),i.jsx("input",{type:"email",value:b.email,onChange:Pe=>I({...b,email:Pe.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Password (optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:x?"text":"password",value:b.password,onChange:Pe=>I({...b,password:Pe.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 pr-10"}),i.jsx("button",{type:"button",onClick:()=>g(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:x?i.jsx(OT,{size:16}):i.jsx(th,{size:16})})]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Leave blank to send a reset link."})]}),i.jsxs("button",{type:"submit",disabled:N,className:"w-full py-2 rounded-xl bg-emerald-600 text-white flex items-center justify-center gap-2 disabled:opacity-60",children:[i.jsx(l2,{size:16}),N?"Creating...":"Create Admin"]})]})]})}),H&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx($5,{size:18}),i.jsx("h3",{className:"text-lg font-semibold",children:"Delete School"})]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Type ",i.jsx("span",{className:"font-semibold",children:t.name})," to confirm deletion."]}),i.jsx("input",{value:U,onChange:Pe=>R(Pe.target.value),className:"w-full border border-slate-200 rounded-xl px-3 py-2"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>L(!1),className:"flex-1 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:Je,disabled:U.trim()!==t.name||K,className:"flex-1 py-2 rounded-xl bg-red-600 text-white disabled:opacity-60",children:K?"Deleting...":"Delete"})]})]})})]})},wd=({children:n,className:e=""})=>i.jsx("div",{className:`bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow p-6 ${e}`,children:n}),ix=({label:n,value:e,hint:t,icon:s,trend:r=0})=>i.jsxs(wd,{className:"group hover:-translate-y-0.5 hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:n}),i.jsx("div",{className:"text-3xl md:text-4xl font-bold text-slate-900 mt-2",children:e})]}),i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white ${r>=0?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-amber-400 to-amber-600"}`,children:s})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[t&&i.jsx("div",{className:"text-xs text-slate-500",children:t}),r!==void 0&&i.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${r>=0?"text-emerald-600":"text-[#0B4A82]"}`,children:[r>=0?i.jsx(LT,{size:14}):i.jsx(lk,{size:14}),Math.abs(r),"%"]})]}),i.jsx("div",{className:"mt-3 h-1 bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100 rounded-full opacity-50"})]}),ox=({icon:n,title:e,count:t,description:s,accentColor:r})=>i.jsx(wd,{className:`border-l-4 ${r} group hover:shadow-lg transition-all`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white ${r.replace("border","bg")}`,children:n}),i.jsx("h3",{className:"font-semibold text-slate-800",children:e})]}),i.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:t}),i.jsx("p",{className:"text-sm text-slate-600",children:s})]}),i.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-50 transition",children:i.jsx(QT,{size:18,className:"text-slate-400"})})]})}),Hf=({className:n="h-6 bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 rounded animate-pulse"})=>i.jsx("div",{className:n}),PN=({icon:n,title:e,description:t,action:s})=>i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"flex justify-center mb-4",children:n}),i.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:e}),i.jsx("p",{className:"text-sm text-slate-600 mb-6",children:t}),s&&i.jsx("button",{onClick:s.onClick,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-sm font-medium",children:s.label})]}),g_=()=>{const{user:n}=Fo(),[e,t]=Z.useState([]),[s,r]=Z.useState([]),[o,c]=Z.useState([]),[h,u]=Z.useState(!1),[f,A]=Z.useState(""),[m,x]=Z.useState(""),[g,b]=Z.useState(""),[I,N]=Z.useState("inactive"),[S,E]=Z.useState(null),[F,Q]=Z.useState({summary:{},perSchool:{}}),P=Z.useCallback(async()=>{u(!0);try{const X=kn(Bt,"schools"),re=(await ns(X)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));t(re);const me=kn(Bt,"activity_logs"),ee=Jn(me,fb("createdAt","desc"),Jx(20)),J=(await ns(ee)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));r(J);const ae=kn(Bt,"payments"),ie=Jn(ae,fb("createdAt","desc"),Jx(200)),ye=(await ns(ie)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));c(ye),E(new Date)}catch(X){console.error(X)}finally{u(!1)}},[]);Z.useEffect(()=>{if(!e.length)return;(async()=>{try{const W=new Date,me=(ht=>{const Ke=ht.getFullYear(),Nt=String(ht.getMonth()+1).padStart(2,"0"),Rt=String(ht.getDate()).padStart(2,"0");return`${Ke}-${Nt}-${Rt}`})(W),ee=new Date(W);ee.setHours(0,0,0,0);const M=new Date(W);M.setHours(23,59,59,999);const J=ee.getTime(),ae=M.getTime(),ie=e.length,ce={attendance:{completed:0,total:ie},teacherAttendance:{completed:0,total:ie},assessments:{completed:0,total:ie},timetable:{completed:0,total:ie},notices:{completed:0,total:ie}},ye={},[Ne,xe,Se,Fe,Qe]=await Promise.all([ns(Jn(kn(Bt,"attendance"),nn("date","==",me))),ns(Jn(kn(Bt,"teacher_attendance"),nn("date","==",me))),ns(Jn(kn(Bt,"assessments"),nn("createdAt",">=",J),nn("createdAt","<=",ae))),ns(kn(Bt,"timetables")),ns(Jn(kn(Bt,"notices"),nn("createdAt",">=",J),nn("createdAt","<=",ae)))]),Je=new Set(Ne.docs.map(ht=>ht.data().schoolId).filter(Boolean)),Pe=new Set(xe.docs.map(ht=>ht.data().schoolId).filter(Boolean)),he=new Set(Se.docs.map(ht=>ht.data().schoolId).filter(Boolean)),nt=new Set(Fe.docs.map(ht=>ht.data().schoolId).filter(Boolean)),lt=new Set(Qe.docs.map(ht=>ht.data().schoolId).filter(Boolean));e.forEach(ht=>{const Ke=ht.id;if(!Ke)return;const Nt={attendance:Je.has(Ke),teacherAttendance:Pe.has(Ke),assessments:he.has(Ke),timetable:nt.has(Ke),notices:lt.has(Ke)};ye[Ke]=Nt,Nt.attendance&&(ce.attendance.completed+=1),Nt.teacherAttendance&&(ce.teacherAttendance.completed+=1),Nt.assessments&&(ce.assessments.completed+=1),Nt.timetable&&(ce.timetable.completed+=1),Nt.notices&&(ce.notices.completed+=1)}),Q({summary:ce,perSchool:ye})}catch(W){console.error("Failed to load daily checklist",W)}})()},[e]),Z.useEffect(()=>{P()},[P]);const H=Z.useMemo(()=>{const X=e.length,W=e.filter(ie=>ie.status==="active").length,re=e.filter(ie=>ie.status==="inactive").length,me=e.filter(ie=>ie.plan==="trial").length,ee=e.filter(ie=>ie.plan==="free").length,M=e.filter(ie=>ie.plan&&ie.plan!=="trial"&&ie.plan!=="free").length,J=e.filter(ie=>ie.createdAt?(ie.createdAt instanceof ar?ie.createdAt.toDate():new Date(ie.createdAt))>=new Date(Date.now()-720*60*60*1e3):!1).length,ae=new Set(s.filter(ie=>ie.createdAt?(ie.createdAt instanceof ar?ie.createdAt.toDate():new Date(ie.createdAt))>=new Date(Date.now()-10080*60*1e3):!1).map(ie=>ie.schoolId)).size;return{total:X,active:W,inactive:re,trial:me,free:ee,paid:M,newSchools:J,activeLast7:ae}},[e,s]),L=X=>{const W=String(X||"pending").toLowerCase();return["success","paid","active"].includes(W)?"success":["failed","failure","past_due"].includes(W)||["abandoned","cancelled","canceled"].includes(W)?"failed":"pending"},U=(X,W="GHS")=>new Intl.NumberFormat("en-GH",{style:"currency",currency:W,maximumFractionDigits:2}).format(X),R=Z.useMemo(()=>{const X=new Date,W=[];for(let xe=0;xe<12;xe+=1){const Se=new Date(X.getFullYear(),xe,1),Fe=`${Se.getFullYear()}-${String(Se.getMonth()+1).padStart(2,"0")}`,Qe=Se.toLocaleString("en-US",{month:"short"});W.push({key:Fe,label:Qe})}const re=Object.fromEntries(W.map(xe=>[xe.key,0])),me=Object.fromEntries(W.map(xe=>[xe.key,0])),ee=new Date(Date.now()-720*60*60*1e3);let M=0,J=0,ae=0,ie=0,ce=0;o.forEach(xe=>{const Se=L(xe.status),Fe=xe.amount??0,Qe=Fe>=100?Fe/100:Fe,Je=xe.createdAt instanceof ar?xe.createdAt.toDate():new Date(xe.createdAt||0);if(Se==="success"){M+=Qe,J+=1,Je>=ee&&(ce+=Qe);const Pe=`${Je.getFullYear()}-${String(Je.getMonth()+1).padStart(2,"0")}`;re[Pe]!==void 0&&(re[Pe]+=Qe),me[Pe]!==void 0&&(me[Pe]+=Qe)}Se==="pending"&&(ae+=1),Se==="failed"&&(ie+=1)});const ye=J+ae+ie,Ne=ye?Math.round(J/ye*100):0;return{paidAmount:M,paidCount:J,pendingCount:ae,failedCount:ie,last30Amount:ce,successRate:Ne,monthlySeries:W.map(xe=>({label:xe.label,value:re[xe.key]||0})),monthlyFeesSeries:W.map(xe=>({label:xe.label,value:me[xe.key]||0}))}},[o]),K=Z.useMemo(()=>{const X={free:0,trial:0,monthly:0,termly:0,yearly:0};return e.forEach(W=>{const re=W.plan||"trial";X[re]=(X[re]||0)+1}),X},[e]),O=e.filter(X=>!(f&&!X.name.toLowerCase().includes(f.toLowerCase())||m&&X.status!==m||g&&X.plan!==g)),V=e.filter(X=>X.status!=="active"),G=e.filter(X=>X.plan==="trial"&&X.planEndsAt).sort((X,W)=>{const re=X.planEndsAt instanceof ar?X.planEndsAt.toDate().getTime():new Date(X.planEndsAt).getTime(),me=W.planEndsAt instanceof ar?W.planEndsAt.toDate().getTime():new Date(W.planEndsAt).getTime();return re-me}),oe=e.filter(X=>X.plan!=="free"&&X.planEndsAt).map(X=>{const W=X.planEndsAt,re=W instanceof ar?W.toDate():new Date(W),me=new Date(re.getTime()+10080*60*1e3);return{...X,planEndsAt:re,graceEndsAt:me}}).filter(X=>!Number.isNaN(X.graceEndsAt.getTime())).filter(X=>new Date>=X.graceEndsAt).sort((X,W)=>X.graceEndsAt.getTime()-W.graceEndsAt.getTime()),ge=(()=>{const X=new Date(Date.now()-12096e5),W={};return s.forEach(re=>{if(!re.schoolId)return;const me=re.createdAt instanceof ar?re.createdAt.toDate():new Date(re.createdAt);(!W[re.schoolId]||W[re.schoolId]<me)&&(W[re.schoolId]=me)}),e.filter(re=>{const me=W[re.id];return!me||me<X})})(),le=[{label:"Active",count:H.active,color:"bg-emerald-100 text-emerald-700"},{label:"Free",count:H.free,color:"bg-emerald-50 text-emerald-700"},{label:"Trial",count:H.trial,color:"bg-amber-100 text-amber-700"},{label:"Paid",count:H.paid,color:"bg-[#E6F0FA] text-[#0B4A82]"}];return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 rounded-3xl border border-slate-100 shadow-sm p-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),i.jsx("span",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-widest",children:"System Status"})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Super Admin Dashboard"}),i.jsxs("p",{className:"text-slate-600",children:["Manage ",H.total," schools across ",H.active," active organizations"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>P(),"aria-label":"Refresh dashboard",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(hg,{size:16,className:"group-hover:rotate-180 transition-transform"}),"Refresh"]}),i.jsxs(Na,{to:"/super-admin/schools",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(Kp,{size:16}),"View Schools"]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-slate-100",children:[le.map(X=>i.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${X.color}`,children:[X.label,": ",i.jsx("span",{className:"font-bold",children:X.count})]},X.label)),i.jsx("div",{className:"text-xs text-slate-500 flex items-center ml-auto",children:S?`Last updated ${S.toLocaleTimeString()}`:"Not updated yet"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:h?Array.from({length:4}).map((X,W)=>i.jsx("div",{children:i.jsx(Hf,{className:"h-32"})},W)):i.jsxs(i.Fragment,{children:[i.jsx(ix,{label:"Total Schools",value:H.total,hint:"All time",icon:i.jsx(vl,{size:20}),trend:5}),i.jsx(ix,{label:"Active Schools",value:H.active,hint:"Currently active",icon:i.jsx(DA,{size:20}),trend:3}),i.jsx(ix,{label:"Inactive Schools",value:H.inactive,hint:"Needs attention",icon:i.jsx(Ki,{size:20}),trend:-1}),i.jsx(ix,{label:"New Schools",value:H.newSchools,hint:"Last 30 days",icon:i.jsx(Fd,{size:20}),trend:8})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(wd,{className:"lg:col-span-2",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing Analytics"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Payment performance over the last 6 months"})]}),i.jsxs(Na,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 text-sm font-semibold text-[#0B4A82]",children:["View payments ",i.jsx(QT,{size:16})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-emerald-600",children:"Total Revenue"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-emerald-500/90 text-white flex items-center justify-center",children:i.jsx(fk,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:U(R.paidAmount)}),i.jsxs("p",{className:"text-xs text-emerald-700 mt-2",children:[R.paidCount," successful payments"]})]}),i.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-amber-600",children:"Pending"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-amber-500/90 text-white flex items-center justify-center",children:i.jsx(ac,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:R.pendingCount}),i.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"Awaiting confirmation"})]}),i.jsxs("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-rose-600",children:"Failed"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-rose-500/90 text-white flex items-center justify-center",children:i.jsx(Ki,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:R.failedCount}),i.jsx("p",{className:"text-xs text-rose-700 mt-2",children:"Needs follow-up"})]})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Earnings"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Successful payments per month"})]}),i.jsx("div",{className:"text-xs text-slate-400",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-slate-500",children:[i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-[#3B82F6]"}),"Total Collections"]}),i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),"Fees Collection"]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-10",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Total Collections"}),i.jsx("p",{className:"text-lg font-bold text-slate-900",children:U(R.paidAmount)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Fees Collection"}),i.jsx("p",{className:"text-lg font-bold text-slate-900",children:U(R.last30Amount)})]})]}),i.jsx("div",{className:"mt-4",children:(()=>{const ie=Se=>Se>=300?130-(Se-300)/3300*102:130+Math.min(1,(300-Se)/300)*22,ce=R.monthlySeries.map((Se,Fe)=>{const Qe=28+Fe*584/(R.monthlySeries.length-1||1),Je=ie(Se.value);return{x:Qe,y:Je}}),ye=R.monthlyFeesSeries.map((Se,Fe)=>{const Qe=28+Fe*584/(R.monthlyFeesSeries.length-1||1),Je=ie(Se.value);return{x:Qe,y:Je}}),Ne=Se=>{if(Se.length===0)return"";const[Fe,...Qe]=Se;return Qe.reduce((Je,Pe,he)=>{const nt=Se[he],lt=(nt.x+Pe.x)/2;return`${Je} Q ${lt} ${nt.y} ${Pe.x} ${Pe.y}`},`M ${Fe.x} ${Fe.y}`)},xe=Se=>{const Fe=Ne(Se);if(!Fe)return"";const Qe=Se[Se.length-1],Je=Se[0];return`${Fe} L ${Qe.x} 152 L ${Je.x} 152 Z`};return i.jsx("div",{className:"w-full rounded-2xl bg-gradient-to-br from-slate-50 via-white to-slate-50 border border-slate-100 p-3 shadow-[0_10px_30px_-24px_rgba(15,23,42,0.5)]",children:i.jsxs("svg",{viewBox:"0 0 640 180",className:"w-full h-44",role:"img","aria-label":"Monthly earnings chart",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"earningsBlue",x1:"0",x2:"0",y1:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"0.65"}),i.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.05"})]}),i.jsxs("linearGradient",{id:"earningsRed",x1:"0",x2:"0",y1:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#F43F5E",stopOpacity:"0.7"}),i.jsx("stop",{offset:"100%",stopColor:"#F43F5E",stopOpacity:"0.1"})]})]}),i.jsx("rect",{x:28,y:28,width:584,height:102,rx:12,fill:"#FFFFFF",opacity:"0.6"}),i.jsx("rect",{x:28,y:130,width:584,height:22,rx:10,fill:"#F1F5F9"}),[0,25,50,75,100].map(Se=>{const Fe=130-Se/100*102,Qe=Math.round(300+Se/100*3300);return i.jsxs("g",{children:[i.jsx("line",{x1:28,x2:612,y1:Fe,y2:Fe,stroke:"#E2E8F0",strokeDasharray:"4 4"}),i.jsxs("text",{x:6,y:Fe+4,fontSize:"10",fill:"#94A3B8",children:["GHS ",Qe.toLocaleString("en-GH")]})]},Se)}),i.jsx("line",{x1:28,x2:612,y1:130,y2:130,stroke:"#CBD5F5",strokeWidth:"1.5"}),i.jsx("path",{d:xe(ce),fill:"url(#earningsBlue)"}),i.jsx("path",{d:Ne(ce),fill:"none",stroke:"#3B82F6",strokeWidth:"2"}),i.jsx("path",{d:xe(ye),fill:"url(#earningsRed)"}),i.jsx("path",{d:Ne(ye),fill:"none",stroke:"#F43F5E",strokeWidth:"2"}),R.monthlySeries.map((Se,Fe)=>{const Qe=28+Fe*584/(R.monthlySeries.length-1||1);return i.jsx("text",{x:Qe,y:174,textAnchor:"middle",fontSize:"10",fill:"#94A3B8",children:Se.label},Se.label)})]})})})()})]})]}),i.jsxs(wd,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Billing Health"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Current payment status mix"})]}),i.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(fg,{size:18})})]}),i.jsx("div",{className:"space-y-4",children:[{label:"Successful",value:R.paidCount,color:"bg-emerald-500"},{label:"Pending",value:R.pendingCount,color:"bg-amber-500"},{label:"Failed",value:R.failedCount,color:"bg-rose-500"}].map(X=>{const W=R.paidCount+R.pendingCount+R.failedCount,re=W?Math.round(X.value/W*100):0;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium text-slate-700",children:X.label}),i.jsxs("span",{className:"text-slate-500",children:[re,"%"]})]}),i.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:i.jsx("div",{className:`h-full ${X.color} rounded-full`,style:{width:`${re}%`}})})]},X.label)})}),i.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-100 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Success rate"}),i.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[R.successRate,"%"]})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(Fd,{size:18})})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Track billed revenue and follow up on pending payments."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[i.jsx(ox,{icon:i.jsx(Ki,{size:18}),title:"Inactive Schools",count:V.length,description:"Schools requiring attention",accentColor:"border-[#1160A8] bg-[#E6F0FA]"}),i.jsx(ox,{icon:i.jsx(t7,{size:18}),title:"Trials Ending",count:G.length,description:"Trial periods expiring soon",accentColor:"border-amber-400 bg-amber-80"}),i.jsx(ox,{icon:i.jsx(ac,{size:18}),title:"Expired Subscriptions",count:oe.length,description:"Grace period ended  renewal required",accentColor:"border-rose-400 bg-rose-50"}),i.jsx(ox,{icon:i.jsx(ac,{size:18}),title:"No Recent Activity",count:ge.length,description:"Last 14 days with no activity",accentColor:"border-slate-400 bg-slate-50"})]}),oe.length>0&&i.jsxs(wd,{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Renewal required"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mt-1",children:"Subscriptions past grace period"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"These schools have exceeded the one-week grace period and need renewal to restore access."})]}),i.jsxs(Na,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-100",children:[i.jsx(fg,{size:16}),"Review payments"]})]}),i.jsx("div",{className:"mt-6 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-xs uppercase tracking-wider text-slate-400",children:[i.jsx("th",{className:"py-2 pr-4",children:"School"}),i.jsx("th",{className:"py-2 pr-4",children:"Plan"}),i.jsx("th",{className:"py-2 pr-4",children:"Grace ended"}),i.jsx("th",{className:"py-2",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:oe.slice(0,6).map(X=>i.jsxs("tr",{className:"text-slate-600",children:[i.jsxs("td",{className:"py-3 pr-4",children:[i.jsx(Na,{to:`/super-admin/schools/${X.id}`,className:"font-semibold text-slate-800 hover:text-[#0B4A82]",children:X.name}),i.jsx("div",{className:"text-xs text-slate-400",children:X.code})]}),i.jsx("td",{className:"py-3 pr-4 capitalize",children:X.plan}),i.jsx("td",{className:"py-3 pr-4",children:X.graceEndsAt.toLocaleDateString()}),i.jsx("td",{className:"py-3",children:i.jsx("span",{className:"inline-flex items-center rounded-full bg-rose-50 px-2 py-1 text-xs font-semibold text-rose-600",children:"Renewal overdue"})})]},X.id))})]})})]}),i.jsxs(wd,{className:"mb-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Plan Distribution"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Plan split across ",H.total," schools"]})]}),e.length===0?i.jsx(PN,{icon:i.jsx(Tk,{className:"mx-auto text-slate-300",size:48}),title:"No Plan Data",description:"Create your first school to see plan distribution",action:{label:"Create School",onClick:()=>{}}}):i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[i.jsx("div",{className:"w-full lg:w-1/3 flex justify-center",children:i.jsx("div",{className:"w-40 h-40",children:i.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",style:{transform:"rotate(-90deg)"},children:[i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f1f5f9",strokeWidth:"8"}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f97316",strokeWidth:"8",strokeDasharray:`${K.trial/Math.max(1,e.length)*100} 100`}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeDasharray:`${K.monthly/Math.max(1,e.length)*100} 100`,style:{strokeDashoffset:`${-(K.trial/Math.max(1,e.length)*100)}`}})]})})}),i.jsx("div",{className:"w-full lg:w-2/3",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Free",value:K.free,color:"bg-emerald-50 border-l-4 border-emerald-500"},{label:"Trial",value:K.trial,color:"bg-orange-100 border-l-4 border-orange-500"},{label:"Monthly",value:K.monthly,color:"bg-[#E6F0FA] border-l-4 border-[#1160A8]"},{label:"Termly",value:K.termly,color:"bg-green-100 border-l-4 border-green-500"},{label:"Yearly",value:K.yearly,color:"bg-purple-100 border-l-4 border-purple-500"}].map(X=>i.jsxs("div",{className:`${X.color} rounded-lg p-4`,children:[i.jsx("div",{className:"text-2xl font-bold text-slate-900",children:X.value}),i.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[X.label," Plan"]})]},X.label))})})]})]}),i.jsxs(wd,{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Schools Directory"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[O.length," of ",e.length," schools"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[i.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[i.jsx(gb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{value:f,onChange:X=>A(X.target.value),placeholder:"Search schools...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-[#1160A8] transition-all","aria-label":"Search schools"})]}),i.jsxs("select",{value:m,onChange:X=>x(X.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]}),i.jsxs("select",{value:g,onChange:X=>b(X.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Plans"}),i.jsx("option",{value:"free",children:"Free"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"School"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Plan"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-slate-700",children:"Action"})]})}),i.jsx("tbody",{children:h?Array.from({length:5}).map((X,W)=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsx(Hf,{className:"h-4 w-32"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(Hf,{className:"h-4 w-16"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(Hf,{className:"h-4 w-20"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(Hf,{className:"h-4 w-24"})}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsx(Hf,{className:"h-8 w-16 ml-auto"})})]},W)):O.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"py-12 px-4",children:i.jsx(PN,{icon:i.jsx(gb,{className:"text-slate-300 mx-auto",size:40}),title:"No schools found",description:"Try adjusting your filters or search criteria"})})}):O.map((X,W)=>i.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${W%2===0?"bg-white":"bg-slate-50/30"}`,children:[i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 overflow-hidden font-semibold flex-shrink-0",children:X.logoUrl?i.jsx("img",{src:X.logoUrl,alt:X.name,className:"w-full h-full object-cover"}):X.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-slate-900",children:X.name}),i.jsx("div",{className:"text-xs text-slate-500",children:X.code||""})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${X.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:X.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700 capitalize",children:X.plan})}),i.jsx("td",{className:"py-4 px-4 text-slate-600",children:X.createdAt?X.createdAt instanceof ar?X.createdAt.toDate().toLocaleDateString():new Date(X.createdAt).toLocaleDateString():""}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsxs(Na,{to:`/super-admin/schools/${X.id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-[#0B4A82] text-white hover:bg-[#0B4A82] transition-colors",children:[i.jsx(th,{size:14})," View"]})})]},X.id))})]})}),O.length>0&&i.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-100",children:[i.jsxs("div",{className:"text-xs text-slate-600",children:["Showing 1 to ",Math.min(10,O.length)," of"," ",O.length]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:" Previous"}),i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Next "})]})]})]}),i.jsxs(wd,{className:"bg-gradient-to-br from-white via-slate-50 to-white border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(ik,{size:20})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Daily Operations Checklist"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Track routine school actions completed each day"})]})]})}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[i.jsx("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:"Live today"}),i.jsxs("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:[e.length," schools"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"attendance",title:"Attendance submitted",description:"Daily student attendance recorded by classes.",gradient:"from-emerald-500/15 to-emerald-500/5",accent:"text-emerald-600",bar:"bg-emerald-500"},{key:"teacherAttendance",title:"Teacher attendance completed",description:"Staff attendance confirmed for the day.",gradient:"from-blue-500/15 to-blue-500/5",accent:"text-blue-600",bar:"bg-blue-500"},{key:"timetable",title:"Lesson plans logged",description:"Timetable updated today to reflect lessons.",gradient:"from-violet-500/15 to-violet-500/5",accent:"text-violet-600",bar:"bg-violet-500"},{key:"assessments",title:"Assessments graded",description:"Class assessments scored and saved.",gradient:"from-amber-500/15 to-amber-500/5",accent:"text-amber-600",bar:"bg-amber-500"},{key:"notices",title:"Notices posted",description:"Daily notices shared to staff and students.",gradient:"from-slate-500/15 to-slate-500/5",accent:"text-slate-600",bar:"bg-slate-500"}].map(X=>{const W=F.summary[X.key],re=W?Math.round(W.completed/Math.max(1,W.total)*100):0,me=(W==null?void 0:W.completed)??0,ee=(W==null?void 0:W.total)??0;return i.jsxs("div",{className:`rounded-2xl border border-slate-100 bg-gradient-to-br ${X.gradient} p-4 shadow-sm hover:shadow-md transition-shadow`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`mt-1 ${X.accent}`,children:i.jsx(DA,{size:18})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:X.title}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:X.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-lg font-bold ${X.accent}`,children:[re,"%"]}),i.jsxs("div",{className:"text-[10px] text-slate-500",children:[me,"/",ee," schools"]})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx("div",{className:"h-2 w-full rounded-full bg-white/70 border border-white/60 overflow-hidden",children:i.jsx("div",{className:`h-full ${X.bar} transition-all`,style:{width:`${re}%`}})})})]},X.title)})}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"School Activity Status"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Live today per school"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(X=>{const W=F.perSchool[X.id]||{attendance:!1,teacherAttendance:!1,assessments:!1,timetable:!1,notices:!1},re=[{label:"Attendance",value:W.attendance},{label:"Teacher Attendance",value:W.teacherAttendance},{label:"Assessments",value:W.assessments},{label:"Timetable",value:W.timetable},{label:"Notices",value:W.notices}],me=re.filter(ee=>ee.value).length;return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:X.name}),i.jsx("p",{className:"text-xs text-slate-400",children:X.code})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Completion"}),i.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[me,"/",re.length]})]})]}),i.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:re.map(ee=>i.jsxs("div",{className:`flex items-center justify-between rounded-lg border px-2 py-1.5 ${ee.value?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-500"}`,children:[i.jsx("span",{children:ee.label}),i.jsx("span",{className:"font-semibold",children:ee.value?"Done":"Pending"})]},ee.label))})]},X.id)})})]})]})]})})},ZY=()=>{var W,re,me,ee;const[n,e]=Z.useState([]),[t,s]=Z.useState([]),[r,o]=Z.useState(!0),[c,h]=Z.useState(null),[u,f]=Z.useState(""),[A,m]=Z.useState(""),[x,g]=Z.useState(""),[b,I]=Z.useState(""),[N,S]=Z.useState(null),[E,F]=Z.useState(!1),[Q,P]=Z.useState(null),[H,L]=Z.useState(!1),U=Z.useMemo(()=>n.reduce((M,J)=>(M[J.id]=J,M),{}),[n]),R=Z.useMemo(()=>{var xe;if(!((xe=N==null?void 0:N.data)!=null&&xe.students))return[];const M=N.data.students||[],J=N.data.attendanceRecords||[],ae=N.data.assessments||[],ie=N.data.studentRemarks||[],ce=J.reduce((Se,Fe)=>(Se[Fe.classId]||(Se[Fe.classId]=[]),Se[Fe.classId].push(Fe),Se),{}),ye=ae.reduce((Se,Fe)=>{const Qe=typeof Fe.total=="number"?Fe.total:_A(Fe);return Se[Fe.studentId]||(Se[Fe.studentId]={total:0,count:0}),Se[Fe.studentId].total+=Qe,Se[Fe.studentId].count+=1,Se},{}),Ne=ie.reduce((Se,Fe)=>{const Qe=Se[Fe.studentId];if(!Qe)return Se[Fe.studentId]=Fe,Se;const Je=new Date(Qe.dateCreated).getTime();return new Date(Fe.dateCreated).getTime()>=Je&&(Se[Fe.studentId]=Fe),Se},{});return M.map(Se=>{var ht;const Fe=ce[Se.classId]||[],Qe=Fe.filter(Ke=>{var Nt;return(Nt=Ke.presentStudentIds)==null?void 0:Nt.includes(Se.id)}).length,Je=Fe.length,Pe=Je?`${Math.round(Qe/Je*100)}%`:"-",he=ye[Se.id],nt=he!=null&&he.count?(he.total/he.count).toFixed(1):"-",lt=((ht=Ne[Se.id])==null?void 0:ht.remark)||"N/A";return{student:Se,presentDays:Qe,totalDays:Je,attendanceRate:Pe,avgScore:nt,remark:lt}})},[N]),K=M=>{if(!M)return"CLASS";const J=In.find(ae=>ae.id===M);return J&&J.level?J.level:M.startsWith("c_n")?"NURSERY":M.startsWith("c_kg")?"KG":M.startsWith("c_p")?"PRIMARY":M.startsWith("c_jhs")?"JHS":"CLASS"},O=u&&U[u]?U[u].name:"All Schools",V=async()=>{const J=(await ns(kn(Bt,"schools"))).docs.map(ae=>({id:ae.id,...ae.data()}));e(J)},G=async()=>{o(!0),h(null);try{const M=[];if(u&&M.push(nn("schoolId","==",u)),A&&M.push(nn("term","==",A)),x&&M.push(nn("academicYear","==",x)),b){const ye=new Date(b).getTime(),Ne=ye+1440*60*1e3-1;M.push(nn("timestamp",">=",ye)),M.push(nn("timestamp","<=",Ne))}const J=kn(Bt,"backups"),ae=M.length>0?Jn(J,...M):J,ce=(await ns(ae)).docs.map(ye=>ye.data());ce.sort((ye,Ne)=>(Ne.timestamp||0)-(ye.timestamp||0)),s(ce)}catch(M){console.error("Error fetching backups:",M),h("Failed to fetch backups."),Pt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},oe=async M=>{try{const J=await kc(Pn(Bt,"backups",M));if(!J.exists()){Pt("Backup details not found.",{type:"error"});return}S(J.data()),F(!0)}catch(J){console.error("Error fetching backup details:",J),Pt("Failed to fetch backup details.",{type:"error"})}},ge=async M=>{try{const J=await kc(Pn(Bt,"backups",M));if(!J.exists()){Pt("No data available to download.",{type:"error"});return}const ae=J.data();if(!ae.data){Pt("No data available to download.",{type:"error"});return}const ie=`backup_${ae.academicYear.replace("-","")}_${ae.term.replace(" ","")}_${ae.timestamp}.json`,ce=JSON.stringify(ae.data,null,2),ye=new Blob([ce],{type:"application/json"}),Ne=URL.createObjectURL(ye),xe=document.createElement("a");xe.href=Ne,xe.download=ie,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Ne),Pt("Backup downloaded successfully!",{type:"success"})}catch(J){console.error("Error downloading backup:",J),Pt("Failed to download backup.",{type:"error"})}},le=async()=>{if(Q)try{await ki(Pn(Bt,"backups",Q)),Pt("Backup deleted successfully!",{type:"success"}),L(!1),P(null),await G()}catch(M){console.error("Error deleting backup:",M),Pt("Failed to delete backup.",{type:"error"})}};Z.useEffect(()=>{V()},[]),Z.useEffect(()=>{G()},[u,A,x,b]);const X=M=>M?M.length:"-";return i.jsxs(ir,{title:"Backups Overview",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(i2,{size:20})}),"Global Backups"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"View, audit, and manage term backups across all schools."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Kp,{className:"h-4 w-4 text-indigo-500"}),O]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(zh,{className:"h-4 w-4"}),"Backups: ",t.length]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-700 font-semibold",children:[i.jsx(PT,{size:16})," Filters"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School"}),i.jsxs("select",{value:u,onChange:M=>f(M.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Schools"}),n.map(M=>i.jsx("option",{value:M.id,children:M.name},M.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{value:A,onChange:M=>m(M.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:x,onChange:M=>g(M.target.value),placeholder:"e.g. 2024-2025",className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),i.jsx("input",{type:"date",value:b,onChange:M=>I(M.target.value),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[i.jsxs("button",{onClick:G,className:"inline-flex items-center gap-2 rounded-full bg-[#0B4A82] text-white px-4 py-2 text-sm font-semibold hover:bg-[#0B4A82]",children:[i.jsx(kT,{size:16})," Refresh"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),I("")},className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50",children:"Clear Filters"})]})]}),r?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading backups..."}):c?i.jsx("div",{className:"text-center py-12 text-rose-600",children:c}):t.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"No backups found for the current filters."}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map(M=>{var ae,ie,ce,ye;const J=M.schoolId?((ae=U[M.schoolId])==null?void 0:ae.name)||M.schoolId:"Unknown School";return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:J}),i.jsxs("p",{className:"text-sm text-slate-500",children:[M.term,"  ",M.academicYear]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:M.timestamp?new Date(M.timestamp).toLocaleString():"N/A"})]}),i.jsx(Na,{to:M.schoolId?`/super-admin/schools/${M.schoolId}`:"/super-admin/schools",className:"text-xs font-semibold text-[#1160A8] hover:text-[#0B4A82]",children:"View School"})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-xs text-slate-500",children:[i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Students"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:X((ie=M.data)==null?void 0:ie.students)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Assessments"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:X((ce=M.data)==null?void 0:ce.assessments)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Users"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:X((ye=M.data)==null?void 0:ye.users)})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>oe(M.id||""),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:[i.jsx(th,{size:14})," View"]}),i.jsxs("button",{onClick:()=>ge(M.id||""),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(ev,{size:14})," Download"]}),i.jsxs("button",{onClick:()=>{P(M.id||null),L(!0)},className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-3 py-1.5 text-xs font-semibold text-rose-700 hover:bg-rose-100",children:[i.jsx(RA,{size:14})," Delete"]})]})]},M.id)})})]}),E&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Backup Details"}),i.jsxs("p",{className:"text-sm text-slate-500",children:[N.term,"  ",N.academicYear]})]}),i.jsx("button",{onClick:()=>F(!1),className:"text-slate-400 hover:text-slate-600",children:""})]}),i.jsxs("div",{className:"p-5 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Students"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:X((W=N.data)==null?void 0:W.students)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Assessments"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:X((re=N.data)==null?void 0:re.assessments)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Users"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:X((me=N.data)==null?void 0:me.users)})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(zh,{size:18,className:"mr-2 text-[#0B4A82]"}),"Student Performance Snapshot"]}),R.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:R.map(M=>{var J;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${M.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:M.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:M.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:M.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((J=In.find(ae=>ae.id===M.student.classId))==null?void 0:J.name)||M.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:M.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[M.presentDays,"/",M.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:M.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:M.remark})]},M.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",R.length," student",R.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(zh,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No student records in this backup."})]})]}),((ee=N.data)==null?void 0:ee.classSubjects)&&N.data.classSubjects.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(hm,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.data.classSubjects.map((M,J)=>{var ce,ye;const ae=In.find(Ne=>Ne.id===M.classId),ie=K(M.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:ie}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(ae==null?void 0:ae.name)||M.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:M.subjects&&M.subjects.length>0?M.subjects.map((Ne,xe)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:Ne},xe)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((ce=M.subjects)==null?void 0:ce.length)||0," subject",((ye=M.subjects)==null?void 0:ye.length)!==1?"s":""]})]})]},J)})})]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsxs("button",{onClick:()=>ge(N.id),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(ev,{size:16})," Download JSON"]})})]})]})}),H&&Q&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Backup"}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 rounded-full border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:le,className:"px-4 py-2 rounded-full bg-rose-600 text-white",children:"Delete"})]})]})})]})},eW=n=>{if(!n)return"-";if(n instanceof ar)return n.toDate().toLocaleString();if(typeof n=="number")return new Date(n).toLocaleString();const e=new Date(n);return Number.isNaN(e.getTime())?"-":e.toLocaleString()},tW=(n,e="GHS")=>{if(!n&&n!==0)return"-";const t=n>=100?n/100:n;return new Intl.NumberFormat("en-GH",{style:"currency",currency:e}).format(t)},kN=n=>{const e=(n||"pending").toLowerCase();return["success","paid","active"].includes(e)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(e)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(e)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},nW=()=>{const[n,e]=Z.useState([]),[t,s]=Z.useState(!1),[r,o]=Z.useState(""),c=async()=>{s(!0);try{const u=kn(Bt,"payments"),f=Jn(u,fb("createdAt","desc")),m=(await ns(f)).docs.map(x=>({id:x.id,...x.data()}));e(m)}catch(u){console.error("Failed to load payments",u),Pt("Failed to load payment data.",{type:"error"})}finally{s(!1)}};Z.useEffect(()=>{c()},[]);const h=Z.useMemo(()=>{const u=r.trim().toLowerCase();return u?n.filter(f=>[f.schoolName,f.schoolId,f.adminEmail,f.status,f.reference,f.currency].filter(Boolean).join(" ").toLowerCase().includes(u)):n},[n,r]);return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Payments"}),i.jsx("p",{className:"text-sm text-slate-500",children:"View all school admin payments in one place."})]}),i.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50",disabled:t,children:[i.jsx(hg,{size:16,className:t?"animate-spin":""}),"Refresh"]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(gb,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),i.jsx("input",{value:r,onChange:u=>o(u.target.value),placeholder:"Search by school, email, status, reference",className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0B4A82]/20"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[h.length," records"]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"School"}),i.jsx("th",{className:"py-3 pr-4",children:"Admin Email"}),i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:h.map(u=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsxs("td",{className:"py-3 pr-4",children:[i.jsx("div",{className:"font-medium text-slate-800",children:u.schoolName||"-"}),i.jsx("div",{className:"text-xs text-slate-400",children:u.schoolId||""})]}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.adminEmail||"-"}),i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:tW(u.amount,u.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${kN(u.status).className}`,children:kN(u.status).label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:u.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:eW(u.createdAt)})]},u.id))})]}),!h.length&&!t&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payments found yet."})]})]})]})},sW=()=>{const{user:n,loading:e,authLoading:t,error:s,logout:r}=Fo(),{school:o,schoolLoading:c,schoolError:h}=dc();return t?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})}):s==="Your account is not set up yet. Please contact your administrator for access."?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Account Not Set Up"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"Your account is not set up yet. Please contact your administrator for access to the system."}),i.jsx("button",{onClick:r,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):h&&(n==null?void 0:n.role)!==ps.SUPER_ADMIN?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"School Access Issue"}),i.jsx("p",{className:"text-slate-600 mb-6",children:h}),i.jsx("button",{onClick:r,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):i.jsx(n7,{children:i.jsx(iW,{})})},rW=()=>i.jsx(qP,{children:i.jsx(ZP,{children:i.jsx(KF,{children:i.jsx(sW,{})})})}),li=({children:n,allowedRoles:e})=>{const{user:t,isAuthenticated:s,authLoading:r}=Fo();if(r)return i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})});if(!s)return i.jsx(k1,{to:"/login",replace:!0});if(e&&t&&!e.includes(t.role)){const o=t.role===ps.SUPER_ADMIN?"/super-admin/schools":t.role===ps.SCHOOL_ADMIN?"/admin/students":"/teacher";return i.jsx(k1,{to:o,replace:!0})}return n},aW=()=>{const{user:n}=Fo();return(n==null?void 0:n.role)===ps.SUPER_ADMIN?i.jsx(ir,{title:"Super Admin Dashboard",children:i.jsx(g_,{})}):(n==null?void 0:n.role)===ps.SCHOOL_ADMIN?i.jsx(m7,{}):(n==null?void 0:n.role)===ps.TEACHER?i.jsx(p_,{}):i.jsx(k1,{to:"/login"})},iW=()=>i.jsxs(yF,{children:[i.jsx(Va,{path:"/login",element:i.jsx(s7,{})}),i.jsx(Va,{path:"/",element:i.jsx(li,{children:i.jsx(aW,{})})}),i.jsx(Va,{path:"/admin/students",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(p7,{})})}),i.jsx(Va,{path:"/admin/teachers",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(N7,{})})}),i.jsx(Va,{path:"/admin/attendance",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(E7,{})})}),i.jsx(Va,{path:"/admin/teacher-attendance",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(T7,{})})}),i.jsx(Va,{path:"/admin/reports",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(I7,{})})}),i.jsx(Va,{path:"/admin/report-card",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(FV,{})})}),i.jsx(Va,{path:"/admin/timetable",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(cK,{})})}),i.jsx(Va,{path:"/admin/settings",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(oK,{})})}),i.jsx(Va,{path:"/admin/backups",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(AK,{})})}),i.jsx(Va,{path:"/admin/billing",element:i.jsx(li,{allowedRoles:[ps.SCHOOL_ADMIN],children:i.jsx(uK,{})})}),i.jsx(Va,{path:"/super-admin/schools",element:i.jsx(li,{allowedRoles:[ps.SUPER_ADMIN],children:i.jsx(JY,{})})}),i.jsx(Va,{path:"/super-admin/dashboard",element:i.jsx(li,{allowedRoles:[ps.SUPER_ADMIN],children:i.jsx(ir,{title:"Super Admin Dashboard",children:i.jsx(g_,{})})})}),i.jsx(Va,{path:"/super-admin/schools/:schoolId",element:i.jsx(li,{allowedRoles:[ps.SUPER_ADMIN],children:i.jsx(qY,{})})}),i.jsx(Va,{path:"/super-admin/backups",element:i.jsx(li,{allowedRoles:[ps.SUPER_ADMIN],children:i.jsx(ZY,{})})}),i.jsx(Va,{path:"/super-admin/payments",element:i.jsx(li,{allowedRoles:[ps.SUPER_ADMIN],children:i.jsx(ir,{title:"Payments",children:i.jsx(nW,{})})})}),i.jsx(Va,{path:"/teacher",element:i.jsx(li,{allowedRoles:[ps.TEACHER],children:i.jsx(p_,{})})}),i.jsx(Va,{path:"/teacher/attendance",element:i.jsx(li,{allowedRoles:[ps.TEACHER],children:i.jsx(zY,{})})}),i.jsx(Va,{path:"/teacher/assessment",element:i.jsx(li,{allowedRoles:[ps.TEACHER],children:i.jsx($Y,{})})}),i.jsx(Va,{path:"/teacher/my-attendance",element:i.jsx(li,{allowedRoles:[ps.TEACHER],children:i.jsx(GY,{})})}),i.jsx(Va,{path:"/teacher/write-remarks",element:i.jsx(li,{allowedRoles:[ps.TEACHER],children:i.jsx(YY,{})})}),i.jsx(Va,{path:"/teacher/edit-skills",element:i.jsx(li,{allowedRoles:[ps.TEACHER],children:i.jsx(XY,{})})})]}),x_=document.getElementById("root");if(!x_)throw new Error("Could not find root element to mount to");const oW=w6.createRoot(x_);oW.render(i.jsx(dv.StrictMode,{children:i.jsx(rW,{})}));export{Hr as _,zj as c,qb as g};
