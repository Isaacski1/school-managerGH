var G_=Object.defineProperty;var $_=(n,e,t)=>e in n?G_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _r=(n,e,t)=>$_(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var FB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function W_(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),t}var v1={exports:{}},op={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UB;function Y_(){if(UB)return op;UB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var h in a)h!=="key"&&(i[h]=a[h])}else i=a;return a=i.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:i}}return op.Fragment=e,op.jsx=t,op.jsxs=t,op}var RB;function X_(){return RB||(RB=1,v1.exports=Y_()),v1.exports}var l=X_(),y1={exports:{}},hs={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DB;function J_(){if(DB)return hs;DB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function g(se){return se===null||typeof se!="object"?null:(se=v&&se[v]||se["@@iterator"],typeof se=="function"?se:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function E(se,G,te){this.props=se,this.context=G,this.refs=T,this.updater=te||B}E.prototype.isReactComponent={},E.prototype.setState=function(se,G){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,G,"setState")},E.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function _(){}_.prototype=E.prototype;function F(se,G,te){this.props=se,this.context=G,this.refs=T,this.updater=te||B}var Q=F.prototype=new _;Q.constructor=F,S(Q,E.prototype),Q.isPureReactComponent=!0;var M=Array.isArray;function k(){}var R={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function O(se,G,te){var le=te.ref;return{$$typeof:n,type:se,key:G,ref:le!==void 0?le:null,props:te}}function $(se,G){return O(se.type,G,se.props)}function L(se){return typeof se=="object"&&se!==null&&se.$$typeof===n}function H(se){var G={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(te){return G[te]})}var z=/\/+/g;function re(se,G){return typeof se=="object"&&se!==null&&se.key!=null?H(""+se.key):G.toString(36)}function pe(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(k,k):(se.status="pending",se.then(function(G){se.status==="pending"&&(se.status="fulfilled",se.value=G)},function(G){se.status==="pending"&&(se.status="rejected",se.reason=G)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function ae(se,G,te,le,he){var ce=typeof se;(ce==="undefined"||ce==="boolean")&&(se=null);var xe=!1;if(se===null)xe=!0;else switch(ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(se.$$typeof){case n:case e:xe=!0;break;case A:return xe=se._init,ae(xe(se._payload),G,te,le,he)}}if(xe)return he=he(se),xe=le===""?"."+re(se,0):le,M(he)?(te="",xe!=null&&(te=xe.replace(z,"$&/")+"/"),ae(he,G,te,"",function(Fe){return Fe})):he!=null&&(L(he)&&(he=$(he,te+(he.key==null||se&&se.key===he.key?"":(""+he.key).replace(z,"$&/")+"/")+xe)),G.push(he)),1;xe=0;var Ne=le===""?".":le+":";if(M(se))for(var Te=0;Te<se.length;Te++)le=se[Te],ce=Ne+re(le,Te),xe+=ae(le,G,te,ce,he);else if(Te=g(se),typeof Te=="function")for(se=Te.call(se),Te=0;!(le=se.next()).done;)le=le.value,ce=Ne+re(le,Te++),xe+=ae(le,G,te,ce,he);else if(ce==="object"){if(typeof se.then=="function")return ae(pe(se),G,te,le,he);throw G=String(se),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ne(se,G,te){if(se==null)return se;var le=[],he=0;return ae(se,le,"","",function(ce){return G.call(te,ce,he++)}),le}function Z(se){if(se._status===-1){var G=se._result;G=G(),G.then(function(te){(se._status===0||se._status===-1)&&(se._status=1,se._result=te)},function(te){(se._status===0||se._status===-1)&&(se._status=2,se._result=te)}),se._status===-1&&(se._status=0,se._result=G)}if(se._status===1)return se._result.default;throw se._result}var ue=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)},je={map:ne,forEach:function(se,G,te){ne(se,function(){G.apply(this,arguments)},te)},count:function(se){var G=0;return ne(se,function(){G++}),G},toArray:function(se){return ne(se,function(G){return G})||[]},only:function(se){if(!L(se))throw Error("React.Children.only expected to receive a single React element child.");return se}};return hs.Activity=m,hs.Children=je,hs.Component=E,hs.Fragment=t,hs.Profiler=a,hs.PureComponent=F,hs.StrictMode=s,hs.Suspense=u,hs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,hs.__COMPILER_RUNTIME={__proto__:null,c:function(se){return R.H.useMemoCache(se)}},hs.cache=function(se){return function(){return se.apply(null,arguments)}},hs.cacheSignal=function(){return null},hs.cloneElement=function(se,G,te){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var le=S({},se.props),he=se.key;if(G!=null)for(ce in G.key!==void 0&&(he=""+G.key),G)!D.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||(le[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)le.children=te;else if(1<ce){for(var xe=Array(ce),Ne=0;Ne<ce;Ne++)xe[Ne]=arguments[Ne+2];le.children=xe}return O(se.type,he,le)},hs.createContext=function(se){return se={$$typeof:c,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:i,_context:se},se},hs.createElement=function(se,G,te){var le,he={},ce=null;if(G!=null)for(le in G.key!==void 0&&(ce=""+G.key),G)D.call(G,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(he[le]=G[le]);var xe=arguments.length-2;if(xe===1)he.children=te;else if(1<xe){for(var Ne=Array(xe),Te=0;Te<xe;Te++)Ne[Te]=arguments[Te+2];he.children=Ne}if(se&&se.defaultProps)for(le in xe=se.defaultProps,xe)he[le]===void 0&&(he[le]=xe[le]);return O(se,ce,he)},hs.createRef=function(){return{current:null}},hs.forwardRef=function(se){return{$$typeof:h,render:se}},hs.isValidElement=L,hs.lazy=function(se){return{$$typeof:A,_payload:{_status:-1,_result:se},_init:Z}},hs.memo=function(se,G){return{$$typeof:f,type:se,compare:G===void 0?null:G}},hs.startTransition=function(se){var G=R.T,te={};R.T=te;try{var le=se(),he=R.S;he!==null&&he(te,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(k,ue)}catch(ce){ue(ce)}finally{G!==null&&te.types!==null&&(G.types=te.types),R.T=G}},hs.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},hs.use=function(se){return R.H.use(se)},hs.useActionState=function(se,G,te){return R.H.useActionState(se,G,te)},hs.useCallback=function(se,G){return R.H.useCallback(se,G)},hs.useContext=function(se){return R.H.useContext(se)},hs.useDebugValue=function(){},hs.useDeferredValue=function(se,G){return R.H.useDeferredValue(se,G)},hs.useEffect=function(se,G){return R.H.useEffect(se,G)},hs.useEffectEvent=function(se){return R.H.useEffectEvent(se)},hs.useId=function(){return R.H.useId()},hs.useImperativeHandle=function(se,G,te){return R.H.useImperativeHandle(se,G,te)},hs.useInsertionEffect=function(se,G){return R.H.useInsertionEffect(se,G)},hs.useLayoutEffect=function(se,G){return R.H.useLayoutEffect(se,G)},hs.useMemo=function(se,G){return R.H.useMemo(se,G)},hs.useOptimistic=function(se,G){return R.H.useOptimistic(se,G)},hs.useReducer=function(se,G,te){return R.H.useReducer(se,G,te)},hs.useRef=function(se){return R.H.useRef(se)},hs.useState=function(se){return R.H.useState(se)},hs.useSyncExternalStore=function(se,G,te){return R.H.useSyncExternalStore(se,G,te)},hs.useTransition=function(){return R.H.useTransition()},hs.version="19.2.3",hs}var LB;function Hb(){return LB||(LB=1,y1.exports=J_()),y1.exports}var ee=Hb();const jS=kb(ee);var x1={exports:{}},lp={},b1={exports:{}},w1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QB;function q_(){return QB||(QB=1,(function(n){function e(ae,ne){var Z=ae.length;ae.push(ne);e:for(;0<Z;){var ue=Z-1>>>1,je=ae[ue];if(0<a(je,ne))ae[ue]=ne,ae[Z]=je,Z=ue;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var ne=ae[0],Z=ae.pop();if(Z!==ne){ae[0]=Z;e:for(var ue=0,je=ae.length,se=je>>>1;ue<se;){var G=2*(ue+1)-1,te=ae[G],le=G+1,he=ae[le];if(0>a(te,Z))le<je&&0>a(he,te)?(ae[ue]=he,ae[le]=Z,ue=le):(ae[ue]=te,ae[G]=Z,ue=G);else if(le<je&&0>a(he,Z))ae[ue]=he,ae[le]=Z,ue=le;else break e}}return ne}function a(ae,ne){var Z=ae.sortIndex-ne.sortIndex;return Z!==0?Z:ae.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var u=[],f=[],A=1,m=null,v=3,g=!1,B=!1,S=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(ae){for(var ne=t(f);ne!==null;){if(ne.callback===null)s(f);else if(ne.startTime<=ae)s(f),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=t(f)}}function M(ae){if(S=!1,Q(ae),!B)if(t(u)!==null)B=!0,k||(k=!0,H());else{var ne=t(f);ne!==null&&pe(M,ne.startTime-ae)}}var k=!1,R=-1,D=5,O=-1;function $(){return T?!0:!(n.unstable_now()-O<D)}function L(){if(T=!1,k){var ae=n.unstable_now();O=ae;var ne=!0;try{e:{B=!1,S&&(S=!1,_(R),R=-1),g=!0;var Z=v;try{t:{for(Q(ae),m=t(u);m!==null&&!(m.expirationTime>ae&&$());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var je=ue(m.expirationTime<=ae);if(ae=n.unstable_now(),typeof je=="function"){m.callback=je,Q(ae),ne=!0;break t}m===t(u)&&s(u),Q(ae)}else s(u);m=t(u)}if(m!==null)ne=!0;else{var se=t(f);se!==null&&pe(M,se.startTime-ae),ne=!1}}break e}finally{m=null,v=Z,g=!1}ne=void 0}}finally{ne?H():k=!1}}}var H;if(typeof F=="function")H=function(){F(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=L,H=function(){re.postMessage(null)}}else H=function(){E(L,0)};function pe(ae,ne){R=E(function(){ae(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var Z=v;v=ne;try{return ae()}finally{v=Z}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(ae,ne){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Z=v;v=ae;try{return ne()}finally{v=Z}},n.unstable_scheduleCallback=function(ae,ne,Z){var ue=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,ae){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Z+je,ae={id:A++,callback:ne,priorityLevel:ae,startTime:Z,expirationTime:je,sortIndex:-1},Z>ue?(ae.sortIndex=Z,e(f,ae),t(u)===null&&ae===t(f)&&(S?(_(R),R=-1):S=!0,pe(M,Z-ue))):(ae.sortIndex=je,e(u,ae),B||g||(B=!0,k||(k=!0,H()))),ae},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(ae){var ne=v;return function(){var Z=v;v=ne;try{return ae.apply(this,arguments)}finally{v=Z}}}})(w1)),w1}var OB;function Z_(){return OB||(OB=1,b1.exports=q_()),b1.exports}var B1={exports:{}},Lo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PB;function eF(){if(PB)return Lo;PB=1;var n=Hb();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)f+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,A){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:A}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Lo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Lo.createPortal=function(u,f){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(u,f,null,A)},Lo.flushSync=function(u){var f=c.T,A=s.p;try{if(c.T=null,s.p=2,u)return u()}finally{c.T=f,s.p=A,s.d.f()}},Lo.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(u,f))},Lo.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},Lo.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;A==="style"?s.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:g}):A==="script"&&s.d.X(u,{crossOrigin:m,integrity:v,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Lo.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var A=h(f.as,f.crossOrigin);s.d.M(u,{crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(u)},Lo.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin);s.d.L(u,A,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Lo.preloadModule=function(u,f){if(typeof u=="string")if(f){var A=h(f.as,f.crossOrigin);s.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(u)},Lo.requestFormReset=function(u){s.d.r(u)},Lo.unstable_batchedUpdates=function(u,f){return u(f)},Lo.useFormState=function(u,f,A){return c.H.useFormState(u,f,A)},Lo.useFormStatus=function(){return c.H.useHostTransitionStatus()},Lo.version="19.2.3",Lo}var MB;function tF(){if(MB)return B1.exports;MB=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),B1.exports=eF(),B1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kB;function nF(){if(kB)return lp;kB=1;var n=Z_(),e=Hb(),t=tF();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function i(r){var o=r,d=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(d=o.return),r=o.return;while(r)}return o.tag===3?d:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(i(r)!==r)throw Error(s(188))}function f(r){var o=r.alternate;if(!o){if(o=i(r),o===null)throw Error(s(188));return o!==r?null:r}for(var d=r,p=o;;){var N=d.return;if(N===null)break;var U=N.alternate;if(U===null){if(p=N.return,p!==null){d=p;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===d)return u(N),r;if(U===p)return u(N),o;U=U.sibling}throw Error(s(188))}if(d.return!==p.return)d=N,p=U;else{for(var X=!1,ge=N.child;ge;){if(ge===d){X=!0,d=N,p=U;break}if(ge===p){X=!0,p=N,d=U;break}ge=ge.sibling}if(!X){for(ge=U.child;ge;){if(ge===d){X=!0,d=U,p=N;break}if(ge===p){X=!0,p=U,d=N;break}ge=ge.sibling}if(!X)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?r:o}function A(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=A(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function re(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case k:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case B:return"Portal";case F:return r.displayName||"Context";case _:return(r._context.displayName||"Context")+".Consumer";case Q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return o=r.displayName||null,o!==null?o:re(r.type)||"Memo";case D:o=r._payload,r=r._init;try{return re(r(o))}catch{}}return null}var pe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ue=[],je=-1;function se(r){return{current:r}}function G(r){0>je||(r.current=ue[je],ue[je]=null,je--)}function te(r,o){je++,ue[je]=r.current,r.current=o}var le=se(null),he=se(null),ce=se(null),xe=se(null);function Ne(r,o){switch(te(ce,o),te(he,r),te(le,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?tB(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=tB(o),r=nB(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}G(le),te(le,r)}function Te(){G(le),G(he),G(ce)}function Fe(r){r.memoizedState!==null&&te(xe,r);var o=le.current,d=nB(o,r.type);o!==d&&(te(he,r),te(le,d))}function tt(r){he.current===r&&(G(le),G(he)),xe.current===r&&(G(xe),sp._currentValue=Z)}var $e,it;function Ve(r){if($e===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);$e=o&&o[1]||"",it=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+r+it}var fe=!1;function ut(r,o){if(!r||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(rt){var nt=rt}Reflect.construct(r,[],wt)}else{try{wt.call()}catch(rt){nt=rt}r.call(wt.prototype)}}else{try{throw Error()}catch(rt){nt=rt}(wt=r())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(rt){if(rt&&nt&&typeof rt.stack=="string")return[rt.stack,nt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=p.DetermineComponentFrameRoot(),X=U[0],ge=U[1];if(X&&ge){var Ie=X.split(`
`),Ze=ge.split(`
`);for(N=p=0;p<Ie.length&&!Ie[p].includes("DetermineComponentFrameRoot");)p++;for(;N<Ze.length&&!Ze[N].includes("DetermineComponentFrameRoot");)N++;if(p===Ie.length||N===Ze.length)for(p=Ie.length-1,N=Ze.length-1;1<=p&&0<=N&&Ie[p]!==Ze[N];)N--;for(;1<=p&&0<=N;p--,N--)if(Ie[p]!==Ze[N]){if(p!==1||N!==1)do if(p--,N--,0>N||Ie[p]!==Ze[N]){var mt=`
`+Ie[p].replace(" at new "," at ");return r.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",r.displayName)),mt}while(1<=p&&0<=N);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Ve(d):""}function Lt(r,o){switch(r.tag){case 26:case 27:case 5:return Ve(r.type);case 16:return Ve("Lazy");case 13:return r.child!==o&&o!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return ut(r.type,!1);case 11:return ut(r.type.render,!1);case 1:return ut(r.type,!0);case 31:return Ve("Activity");default:return""}}function Ge(r){try{var o="",d=null;do o+=Lt(r,d),d=r,r=r.return;while(r);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Je=Object.prototype.hasOwnProperty,Qt=n.unstable_scheduleCallback,Ut=n.unstable_cancelCallback,Yt=n.unstable_shouldYield,zt=n.unstable_requestPaint,Jt=n.unstable_now,yn=n.unstable_getCurrentPriorityLevel,tn=n.unstable_ImmediatePriority,Dn=n.unstable_UserBlockingPriority,xt=n.unstable_NormalPriority,Et=n.unstable_LowPriority,Gt=n.unstable_IdlePriority,kt=n.log,Pn=n.unstable_setDisableYieldValue,ke=null,gt=null;function He(r){if(typeof kt=="function"&&Pn(r),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(ke,r)}catch{}}var at=Math.clz32?Math.clz32:Bt,ht=Math.log,Rt=Math.LN2;function Bt(r){return r>>>=0,r===0?32:31-(ht(r)/Rt|0)|0}var Ht=256,xn=262144,Ct=4194304;function dt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Dt(r,o,d){var p=r.pendingLanes;if(p===0)return 0;var N=0,U=r.suspendedLanes,X=r.pingedLanes;r=r.warmLanes;var ge=p&134217727;return ge!==0?(p=ge&~U,p!==0?N=dt(p):(X&=ge,X!==0?N=dt(X):d||(d=ge&~r,d!==0&&(N=dt(d))))):(ge=p&~U,ge!==0?N=dt(ge):X!==0?N=dt(X):d||(d=p&~r,d!==0&&(N=dt(d)))),N===0?0:o!==0&&o!==N&&(o&U)===0&&(U=N&-N,d=o&-o,U>=d||U===32&&(d&4194048)!==0)?o:N}function Xt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function rn(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(){var r=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),r}function Bs(r){for(var o=[],d=0;31>d;d++)o.push(r);return o}function ln(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function si(r,o,d,p,N,U){var X=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var ge=r.entanglements,Ie=r.expirationTimes,Ze=r.hiddenUpdates;for(d=X&~d;0<d;){var mt=31-at(d),wt=1<<mt;ge[mt]=0,Ie[mt]=-1;var nt=Ze[mt];if(nt!==null)for(Ze[mt]=null,mt=0;mt<nt.length;mt++){var rt=nt[mt];rt!==null&&(rt.lane&=-536870913)}d&=~wt}p!==0&&Fa(r,p,0),U!==0&&N===0&&r.tag!==0&&(r.suspendedLanes|=U&~(X&~o))}function Fa(r,o,d){r.pendingLanes|=o,r.suspendedLanes&=~o;var p=31-at(o);r.entangledLanes|=o,r.entanglements[p]=r.entanglements[p]|1073741824|d&261930}function ua(r,o){var d=r.entangledLanes|=o;for(r=r.entanglements;d;){var p=31-at(d),N=1<<p;N&o|r[p]&o&&(r[p]|=o),d&=~N}}function $r(r,o){var d=o&-o;return d=(d&42)!==0?1:an(d),(d&(r.suspendedLanes|o))!==0?0:d}function an(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Re(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function _t(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:CB(r.type))}function Pt(r,o){var d=ne.p;try{return ne.p=r,o()}finally{ne.p=d}}var Nt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Nt,Tt="__reactProps$"+Nt,gn="__reactContainer$"+Nt,En="__reactEvents$"+Nt,Ln="__reactListeners$"+Nt,ur="__reactHandles$"+Nt,Hn="__reactResources$"+Nt,Tn="__reactMarker$"+Nt;function Us(r){delete r[Vt],delete r[Tt],delete r[En],delete r[Ln],delete r[ur]}function Es(r){var o=r[Vt];if(o)return o;for(var d=r.parentNode;d;){if(o=d[gn]||d[Vt]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(r=AB(r);r!==null;){if(d=r[Vt])return d;r=AB(r)}return o}r=d,d=r.parentNode}return null}function ir(r){if(r=r[Vt]||r[gn]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function tr(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function Xs(r){var o=r[Hn];return o||(o=r[Hn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function zs(r){r[Tn]=!0}var Ka=new Set,Wr={};function da(r,o){ri(r,o),ri(r+"Capture",o)}function ri(r,o){for(Wr[r]=o,r=0;r<o.length;r++)Ka.add(o[r])}var wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},$o={};function mo(r){return Je.call($o,r)?!0:Je.call(ll,r)?!1:wi.test(r)?$o[r]=!0:(ll[r]=!0,!1)}function Br(r,o,d){if(mo(o))if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+d)}}function na(r,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+d)}}function vr(r,o,d,p){if(p===null)r.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(o,d,""+p)}}function os(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ua(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Cn(r,o,d){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var N=p.get,U=p.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return N.call(this)},set:function(X){d=""+X,U.call(this,X)}}),Object.defineProperty(r,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(X){d=""+X},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function hn(r){if(!r._valueTracker){var o=Ua(r)?"checked":"value";r._valueTracker=Cn(r,o,""+r[o])}}function Ss(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return r&&(p=Ua(r)?r.checked?"true":"false":r.value),r=p,r!==d?(o.setValue(r),!0):!1}function Fn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Qn=/[\n"\\]/g;function Kt(r){return r.replace(Qn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Js(r,o,d,p,N,U,X,ge){r.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?r.type=X:r.removeAttribute("type"),o!=null?X==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+os(o)):r.value!==""+os(o)&&(r.value=""+os(o)):X!=="submit"&&X!=="reset"||r.removeAttribute("value"),o!=null?Wi(r,X,os(o)):d!=null?Wi(r,X,os(d)):p!=null&&r.removeAttribute("value"),N==null&&U!=null&&(r.defaultChecked=!!U),N!=null&&(r.checked=N&&typeof N!="function"&&typeof N!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?r.name=""+os(ge):r.removeAttribute("name")}function Bi(r,o,d,p,N,U,X,ge){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.type=U),o!=null||d!=null){if(!(U!=="submit"&&U!=="reset"||o!=null)){hn(r);return}d=d!=null?""+os(d):"",o=o!=null?""+os(o):d,ge||o===r.value||(r.value=o),r.defaultValue=o}p=p??N,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=ge?r.checked:!!p,r.defaultChecked=!!p,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(r.name=X),hn(r)}function Wi(r,o,d){o==="number"&&Fn(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Or(r,o,d,p){if(r=r.options,o){o={};for(var N=0;N<d.length;N++)o["$"+d[N]]=!0;for(d=0;d<r.length;d++)N=o.hasOwnProperty("$"+r[d].value),r[d].selected!==N&&(r[d].selected=N),N&&p&&(r[d].defaultSelected=!0)}else{for(d=""+os(d),o=null,N=0;N<r.length;N++){if(r[N].value===d){r[N].selected=!0,p&&(r[N].defaultSelected=!0);return}o!==null||r[N].disabled||(o=r[N])}o!==null&&(o.selected=!0)}}function Wo(r,o,d){if(o!=null&&(o=""+os(o),o!==r.value&&(r.value=o),d==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=d!=null?""+os(d):""}function Ur(r,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(s(92));if(pe(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=os(o),r.defaultValue=d,p=r.textContent,p===d&&p!==""&&p!==null&&(r.value=p),hn(r)}function Qs(r,o){if(o){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=o;return}}r.textContent=o}var Mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(r,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":p?r.setProperty(o,d):typeof d!="number"||d===0||Mi.has(o)?o==="float"?r.cssFloat=d:r[o]=(""+d).trim():r[o]=d+"px"}function Yo(r,o,d){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var N in o)p=o[N],o.hasOwnProperty(N)&&d[N]!==p&&po(r,N,p)}else for(var U in o)o.hasOwnProperty(U)&&po(r,U,o[U])}function sA(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yr(r){return Yi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Xi(){}var Xo=null;function ai(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ki=null,On=null;function Rl(r){var o=ir(r);if(o&&(r=o.stateNode)){var d=r[Tt]||null;e:switch(r=o.stateNode,o.type){case"input":if(Js(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Kt(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==r&&p.form===r.form){var N=p[Tt]||null;if(!N)throw Error(s(90));Js(p,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===r.form&&Ss(p)}break e;case"textarea":Wo(r,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Or(r,!!d.multiple,o,!1)}}}var rA=!1;function Al(r,o,d){if(rA)return r(o,d);rA=!0;try{var p=r(o);return p}finally{if(rA=!1,(ki!==null||On!==null)&&(Ui(),ki&&(o=ki,r=On,On=ki=null,Rl(o),r)))for(o=0;o<r.length;o++)Rl(r[o])}}function Ca(r,o){var d=r.stateNode;if(d===null)return null;var p=d[Tt]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(s(231,o,typeof d));return d}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(ha)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Ra=!1}var ii=null,cl=null,Ji=null;function FA(){if(Ji)return Ji;var r,o=cl,d=o.length,p,N="value"in ii?ii.value:ii.textContent,U=N.length;for(r=0;r<d&&o[r]===N[r];r++);var X=d-r;for(p=1;p<=X&&o[d-p]===N[U-p];p++);return Ji=N.slice(r,1<p?1-p:void 0)}function ji(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function go(){return!0}function oi(){return!1}function Xr(r){function o(d,p,N,U,X){this._reactName=d,this._targetInst=N,this.type=p,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var ge in r)r.hasOwnProperty(ge)&&(d=r[ge],this[ge]=d?d(U):U[ge]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?go:oi,this.isPropagationStopped=oi,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),o}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Xr(vo),dr=m({},vo,{view:0,detail:0}),ul=Xr(dr),za,yo,Hi,Dl=m({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Hi&&(Hi&&r.type==="mousemove"?(za=r.screenX-Hi.screenX,yo=r.screenY-Hi.screenY):yo=za=0,Hi=r),za)},movementY:function(r){return"movementY"in r?r.movementY:yo}}),aA=Xr(Dl),La=m({},Dl,{dataTransfer:0}),Ci=Xr(La),iA=m({},dr,{relatedTarget:0}),qi=Xr(iA),Ei=m({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),P=Xr(Ei),ie=m({},vo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ee=Xr(ie),_e=m({},vo,{data:0}),Me=Xr(_e),ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=un[r])?!!o[r]:!1}function Mn(){return bn}var In=m({},dr,{key:function(r){if(r.key){var o=ft[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ji(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(r){return r.type==="keypress"?ji(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ji(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xs=Xr(In),yr=m({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=Xr(yr),b=m({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),W=Xr(b),q=m({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ye=Xr(q),ze=m({},Dl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),et=Xr(ze),Ot=m({},vo,{newState:0,oldState:0}),Jn=Xr(Ot),xr=[9,13,27,32],us=ha&&"CompositionEvent"in window,$s=null;ha&&"documentMode"in document&&($s=document.documentMode);var Ea=ha&&"TextEvent"in window&&!$s,sa=ha&&(!us||$s&&8<$s&&11>=$s),Os=" ",ns=!1;function Zi(r,o){switch(r){case"keyup":return xr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Jo=!1;function fa(r,o){switch(r){case"compositionend":return xo(o);case"keypress":return o.which!==32?null:(ns=!0,Os);case"textInput":return r=o.data,r===Os&&ns?null:r;default:return null}}function Qa(r,o){if(Jo)return r==="compositionend"||!us&&Zi(r,o)?(r=FA(),Ji=cl=ii=null,Jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sa&&o.locale!=="ko"?null:o.data;default:return null}}var lc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bo(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!lc[r.type]:o==="textarea"}function Ps(r,o,d,p){ki?On?On.push(p):On=[p]:ki=p,o=h0(o,"onChange"),0<o.length&&(d=new Da("onChange","change",null,d,p),r.push({event:d,listeners:o}))}var wo=null,jr=null;function UA(r){Y2(r,0)}function Oa(r){var o=tr(r);if(Ss(o))return r}function Bo(r,o){if(r==="change")return o}var ps=!1;if(ha){var li;if(ha){var qo="oninput"in document;if(!qo){var Zo=document.createElement("div");Zo.setAttribute("oninput","return;"),qo=typeof Zo.oninput=="function"}li=qo}else li=!1;ps=li&&(!document.documentMode||9<document.documentMode)}function dl(){wo&&(wo.detachEvent("onpropertychange",Ll),jr=wo=null)}function Ll(r){if(r.propertyName==="value"&&Oa(jr)){var o=[];Ps(o,jr,r,ai(r)),Al(UA,o)}}function RA(r,o,d){r==="focusin"?(dl(),wo=o,jr=d,wo.attachEvent("onpropertychange",Ll)):r==="focusout"&&dl()}function Jr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oa(jr)}function Si(r,o){if(r==="click")return Oa(o)}function Ga(r,o){if(r==="input"||r==="change")return Oa(o)}function $a(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ns=typeof Object.is=="function"?Object.is:$a;function Ai(r,o){if(Ns(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var d=Object.keys(r),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var N=d[p];if(!Je.call(o,N)||!Ns(r[N],o[N]))return!1}return!0}function DA(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function LA(r,o){var d=DA(r);r=0;for(var p;d;){if(d.nodeType===3){if(p=r+d.textContent.length,r<=o&&p>=o)return{node:d,offset:o-r};r=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=DA(d)}}function el(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?el(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function hl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Fn(r.document);o instanceof r.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)r=o.contentWindow;else break;o=Fn(r.document)}return o}function fl(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var tl=ha&&"documentMode"in document&&11>=document.documentMode,ra=null,Ql=null,ci=null,Ni=!1;function Ms(r,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ni||ra==null||ra!==Fn(p)||(p=ra,"selectionStart"in p&&fl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ci&&Ai(ci,p)||(ci=p,p=h0(Ql,"onSelect"),0<p.length&&(o=new Da("onSelect","select",null,o,d),r.push({event:o,listeners:p}),o.target=ra)))}function Rs(r,o){var d={};return d[r.toLowerCase()]=o.toLowerCase(),d["Webkit"+r]="webkit"+o,d["Moz"+r]="moz"+o,d}var br={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Ws={},nl={};ha&&(nl=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function sl(r){if(Ws[r])return Ws[r];if(!br[r])return r;var o=br[r],d;for(d in o)if(o.hasOwnProperty(d)&&d in nl)return Ws[r]=o[d];return r}var QA=sl("animationend"),oA=sl("animationiteration"),Wd=sl("animationstart"),Yd=sl("transitionrun"),Xd=sl("transitionstart"),Jd=sl("transitioncancel"),Fu=sl("transitionend"),Uu=new Map,lA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lA.push("scrollEnd");function eo(r,o){Uu.set(r,o),da(o,[r])}var Ac=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},to=[],ml=0,Ru=0;function Yc(){for(var r=ml,o=Ru=ml=0;o<r;){var d=to[o];to[o++]=null;var p=to[o];to[o++]=null;var N=to[o];to[o++]=null;var U=to[o];if(to[o++]=null,p!==null&&N!==null){var X=p.pending;X===null?N.next=N:(N.next=X.next,X.next=N),p.pending=N}U!==0&&Xc(d,N,U)}}function OA(r,o,d,p){to[ml++]=r,to[ml++]=o,to[ml++]=d,to[ml++]=p,Ru|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function Du(r,o,d,p){return OA(r,o,d,p),ui(r)}function pl(r,o){return OA(r,null,null,o),ui(r)}function Xc(r,o,d){r.lanes|=d;var p=r.alternate;p!==null&&(p.lanes|=d);for(var N=!1,U=r.return;U!==null;)U.childLanes|=d,p=U.alternate,p!==null&&(p.childLanes|=d),U.tag===22&&(r=U.stateNode,r===null||r._visibility&1||(N=!0)),r=U,U=U.return;return r.tag===3?(U=r.stateNode,N&&o!==null&&(N=31-at(d),r=U.hiddenUpdates,p=r[N],p===null?r[N]=[o]:p.push(o),o.lane=d|536870912),U):null}function ui(r){if(50<ws)throw ws=0,Fs=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Wa={};function Lu(r,o,d,p){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(r,o,d,p){return new Lu(r,o,d,p)}function Ol(r){return r=r.prototype,!(!r||!r.isReactComponent)}function jo(r,o){var d=r.alternate;return d===null?(d=di(r.tag,o,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=o,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,o=r.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Jc(r,o){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,o=d.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Pl(r,o,d,p,N,U){var X=0;if(p=r,typeof r=="function")Ol(r)&&(X=1);else if(typeof r=="string")X=R_(r,d,le.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=di(31,d,o,N),r.elementType=O,r.lanes=U,r;case S:return AA(d.children,N,U,o);case T:X=8,N|=24;break;case E:return r=di(12,d,o,N|2),r.elementType=E,r.lanes=U,r;case M:return r=di(13,d,o,N),r.elementType=M,r.lanes=U,r;case k:return r=di(19,d,o,N),r.elementType=k,r.lanes=U,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:X=10;break e;case _:X=9;break e;case Q:X=11;break e;case R:X=14;break e;case D:X=16,p=null;break e}X=29,d=Error(s(130,r===null?"null":typeof r,"")),p=null}return o=di(X,d,o,N),o.elementType=r,o.type=p,o.lanes=U,o}function AA(r,o,d,p){return r=di(7,r,p,o),r.lanes=d,r}function qc(r,o,d){return r=di(6,r,null,o),r.lanes=d,r}function Qu(r){var o=di(18,null,null,0);return o.stateNode=r,o}function cc(r,o,d){return o=di(4,r.children!==null?r.children:[],r.key,o),o.lanes=d,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var PA=new WeakMap;function Co(r,o){if(typeof r=="object"&&r!==null){var d=PA.get(r);return d!==void 0?d:(o={value:r,source:o,stack:Ge(o)},PA.set(r,o),o)}return{value:r,source:o,stack:Ge(o)}}var uc=[],MA=0,Ou=null,cA=0,Eo=[],So=0,uA=null,No=1,Ti="";function no(r,o){uc[MA++]=cA,uc[MA++]=Ou,Ou=r,cA=o}function tf(r,o,d){Eo[So++]=No,Eo[So++]=Ti,Eo[So++]=uA,uA=r;var p=No;r=Ti;var N=32-at(p)-1;p&=~(1<<N),d+=1;var U=32-at(o)+N;if(30<U){var X=N-N%5;U=(p&(1<<X)-1).toString(32),p>>=X,N-=X,No=1<<32-at(o)+N|d<<N|p,Ti=U+r}else No=1<<U|d<<N|p,Ti=r}function qd(r){r.return!==null&&(no(r,1),tf(r,1,0))}function Pu(r){for(;r===Ou;)Ou=uc[--MA],uc[MA]=null,cA=uc[--MA],uc[MA]=null;for(;r===uA;)uA=Eo[--So],Eo[So]=null,Ti=Eo[--So],Eo[So]=null,No=Eo[--So],Eo[So]=null}function nf(r,o){Eo[So++]=No,Eo[So++]=Ti,Eo[So++]=uA,No=o.id,Ti=o.overflow,uA=r}var Ya=null,Cr=null,js=!1,Ii=null,qr=!1,Vi=Error(s(519));function dA(r){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(Co(o,r)),Vi}function Zd(r){var o=r.stateNode,d=r.type,p=r.memoizedProps;switch(o[Vt]=r,o[Tt]=p,d){case"dialog":Ls("cancel",o),Ls("close",o);break;case"iframe":case"object":case"embed":Ls("load",o);break;case"video":case"audio":for(d=0;d<qm.length;d++)Ls(qm[d],o);break;case"source":Ls("error",o);break;case"img":case"image":case"link":Ls("error",o),Ls("load",o);break;case"details":Ls("toggle",o);break;case"input":Ls("invalid",o),Bi(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ls("invalid",o);break;case"textarea":Ls("invalid",o),Ur(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||Z2(o.textContent,d)?(p.popover!=null&&(Ls("beforetoggle",o),Ls("toggle",o)),p.onScroll!=null&&Ls("scroll",o),p.onScrollEnd!=null&&Ls("scrollend",o),p.onClick!=null&&(o.onclick=Xi),o=!0):o=!1,o||dA(r,!0)}function gl(r){for(Ya=r.return;Ya;)switch(Ya.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Ya=Ya.return}}function Xa(r){if(r!==Ya)return!1;if(!js)return gl(r),js=!0,!1;var o=r.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||s1(r.type,r.memoizedProps)),d=!d),d&&Cr&&dA(r),gl(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Cr=lB(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Cr=lB(r)}else o===27?(o=Cr,od(r.type)?(r=l1,l1=null,Cr=r):Cr=o):Cr=Ya?wA(r.stateNode.nextSibling):null;return!0}function kA(){Cr=Ya=null,js=!1}function Zc(){var r=Ii;return r!==null&&(Ue===null?Ue=r:Ue.push.apply(Ue,r),Ii=null),r}function Ml(r){Ii===null?Ii=[r]:Ii.push(r)}var Mu=se(null),hA=null,vl=null;function fA(r,o,d){te(Mu,o._currentValue),o._currentValue=d}function To(r){r._currentValue=Mu.current,G(Mu)}function dc(r,o,d){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===d)break;r=r.return}}function yl(r,o,d,p){var N=r.child;for(N!==null&&(N.return=r);N!==null;){var U=N.dependencies;if(U!==null){var X=N.child;U=U.firstContext;e:for(;U!==null;){var ge=U;U=N;for(var Ie=0;Ie<o.length;Ie++)if(ge.context===o[Ie]){U.lanes|=d,ge=U.alternate,ge!==null&&(ge.lanes|=d),dc(U.return,d,r),p||(X=null);break e}U=ge.next}}else if(N.tag===18){if(X=N.return,X===null)throw Error(s(341));X.lanes|=d,U=X.alternate,U!==null&&(U.lanes|=d),dc(X,d,r),X=null}else X=N.child;if(X!==null)X.return=N;else for(X=N;X!==null;){if(X===r){X=null;break}if(N=X.sibling,N!==null){N.return=X.return,X=N;break}X=X.return}N=X}}function mA(r,o,d,p){r=null;for(var N=o,U=!1;N!==null;){if(!U){if((N.flags&524288)!==0)U=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var X=N.alternate;if(X===null)throw Error(s(387));if(X=X.memoizedProps,X!==null){var ge=N.type;Ns(N.pendingProps.value,X.value)||(r!==null?r.push(ge):r=[ge])}}else if(N===xe.current){if(X=N.alternate,X===null)throw Error(s(387));X.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(r!==null?r.push(sp):r=[sp])}N=N.return}r!==null&&yl(o,r,d,p),o.flags|=262144}function ku(r){for(r=r.firstContext;r!==null;){if(!Ns(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function pA(r){hA=r,vl=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ja(r){return sf(hA,r)}function Hu(r,o){return hA===null&&pA(r),sf(r,o)}function sf(r,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},vl===null){if(r===null)throw Error(s(308));vl=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else vl=vl.next=o;return d}var ym=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(d,p){r.push(p)}};this.abort=function(){o.aborted=!0,r.forEach(function(d){return d()})}},xm=n.unstable_scheduleCallback,bm=n.unstable_NormalPriority,aa={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new ym,data:new Map,refCount:0}}function eu(r){r.refCount--,r.refCount===0&&xm(bm,function(){r.controller.abort()})}var fc=null,Vu=0,x=0,I=null;function V(r,o){if(fc===null){var d=fc=[];Vu=0,x=Wy(),I={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Vu++,o.then(Y,Y),o}function Y(){if(--Vu===0&&fc!==null){I!==null&&(I.status="fulfilled");var r=fc;fc=null,x=0,I=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function oe(r,o){var d=[],p={status:"pending",value:null,reason:null,then:function(N){d.push(N)}};return r.then(function(){p.status="fulfilled",p.value=o;for(var N=0;N<d.length;N++)(0,d[N])(o)},function(N){for(p.status="rejected",p.reason=N,N=0;N<d.length;N++)(0,d[N])(void 0)}),p}var de=ae.S;ae.S=function(r,o){At=Jt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&V(r,o),de!==null&&de(r,o)};var me=se(null);function ve(){var r=me.current;return r!==null?r:Nr.pooledCache}function be(r,o){o===null?te(me,me.current):te(me,o.pool)}function Se(){var r=ve();return r===null?null:{parent:aa._currentValue,pool:r}}var De=Error(s(460)),Xe=Error(s(474)),Ce=Error(s(542)),Qe={then:function(){}};function Oe(r){return r=r.status,r==="fulfilled"||r==="rejected"}function lt(r,o,d){switch(d=r[d],d===void 0?r.push(o):d!==o&&(o.then(Xi,Xi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ft(r),r;default:if(typeof o.status=="string")o.then(Xi,Xi);else{if(r=Nr,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(p){if(o.status==="pending"){var N=o;N.status="fulfilled",N.value=p}},function(p){if(o.status==="pending"){var N=o;N.status="rejected",N.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ft(r),r}throw ot=o,De}}function Ye(r){try{var o=r._init;return o(r._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ot=d,De):d}}var ot=null;function pt(){if(ot===null)throw Error(s(459));var r=ot;return ot=null,r}function Ft(r){if(r===De||r===Ce)throw Error(s(483))}var bt=null,wn=0;function An(r){var o=wn;return wn+=1,bt===null&&(bt=[]),lt(bt,r,o)}function qn(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function fn(r,o){throw o.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function bs(r){function o(Ke,Le){if(r){var qe=Ke.deletions;qe===null?(Ke.deletions=[Le],Ke.flags|=16):qe.push(Le)}}function d(Ke,Le){if(!r)return null;for(;Le!==null;)o(Ke,Le),Le=Le.sibling;return null}function p(Ke){for(var Le=new Map;Ke!==null;)Ke.key!==null?Le.set(Ke.key,Ke):Le.set(Ke.index,Ke),Ke=Ke.sibling;return Le}function N(Ke,Le){return Ke=jo(Ke,Le),Ke.index=0,Ke.sibling=null,Ke}function U(Ke,Le,qe){return Ke.index=qe,r?(qe=Ke.alternate,qe!==null?(qe=qe.index,qe<Le?(Ke.flags|=67108866,Le):qe):(Ke.flags|=67108866,Le)):(Ke.flags|=1048576,Le)}function X(Ke){return r&&Ke.alternate===null&&(Ke.flags|=67108866),Ke}function ge(Ke,Le,qe,yt){return Le===null||Le.tag!==6?(Le=qc(qe,Ke.mode,yt),Le.return=Ke,Le):(Le=N(Le,qe),Le.return=Ke,Le)}function Ie(Ke,Le,qe,yt){var Kn=qe.type;return Kn===S?mt(Ke,Le,qe.props.children,yt,qe.key):Le!==null&&(Le.elementType===Kn||typeof Kn=="object"&&Kn!==null&&Kn.$$typeof===D&&Ye(Kn)===Le.type)?(Le=N(Le,qe.props),qn(Le,qe),Le.return=Ke,Le):(Le=Pl(qe.type,qe.key,qe.props,null,Ke.mode,yt),qn(Le,qe),Le.return=Ke,Le)}function Ze(Ke,Le,qe,yt){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==qe.containerInfo||Le.stateNode.implementation!==qe.implementation?(Le=cc(qe,Ke.mode,yt),Le.return=Ke,Le):(Le=N(Le,qe.children||[]),Le.return=Ke,Le)}function mt(Ke,Le,qe,yt,Kn){return Le===null||Le.tag!==7?(Le=AA(qe,Ke.mode,yt,Kn),Le.return=Ke,Le):(Le=N(Le,qe),Le.return=Ke,Le)}function wt(Ke,Le,qe){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=qc(""+Le,Ke.mode,qe),Le.return=Ke,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return qe=Pl(Le.type,Le.key,Le.props,null,Ke.mode,qe),qn(qe,Le),qe.return=Ke,qe;case B:return Le=cc(Le,Ke.mode,qe),Le.return=Ke,Le;case D:return Le=Ye(Le),wt(Ke,Le,qe)}if(pe(Le)||H(Le))return Le=AA(Le,Ke.mode,qe,null),Le.return=Ke,Le;if(typeof Le.then=="function")return wt(Ke,An(Le),qe);if(Le.$$typeof===F)return wt(Ke,Hu(Ke,Le),qe);fn(Ke,Le)}return null}function nt(Ke,Le,qe,yt){var Kn=Le!==null?Le.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Kn!==null?null:ge(Ke,Le,""+qe,yt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case g:return qe.key===Kn?Ie(Ke,Le,qe,yt):null;case B:return qe.key===Kn?Ze(Ke,Le,qe,yt):null;case D:return qe=Ye(qe),nt(Ke,Le,qe,yt)}if(pe(qe)||H(qe))return Kn!==null?null:mt(Ke,Le,qe,yt,null);if(typeof qe.then=="function")return nt(Ke,Le,An(qe),yt);if(qe.$$typeof===F)return nt(Ke,Le,Hu(Ke,qe),yt);fn(Ke,qe)}return null}function rt(Ke,Le,qe,yt,Kn){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Ke=Ke.get(qe)||null,ge(Le,Ke,""+yt,Kn);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case g:return Ke=Ke.get(yt.key===null?qe:yt.key)||null,Ie(Le,Ke,yt,Kn);case B:return Ke=Ke.get(yt.key===null?qe:yt.key)||null,Ze(Le,Ke,yt,Kn);case D:return yt=Ye(yt),rt(Ke,Le,qe,yt,Kn)}if(pe(yt)||H(yt))return Ke=Ke.get(qe)||null,mt(Le,Ke,yt,Kn,null);if(typeof yt.then=="function")return rt(Ke,Le,qe,An(yt),Kn);if(yt.$$typeof===F)return rt(Ke,Le,qe,Hu(Le,yt),Kn);fn(Le,yt)}return null}function Bn(Ke,Le,qe,yt){for(var Kn=null,lr=null,Nn=Le,vs=Le=0,Hs=null;Nn!==null&&vs<qe.length;vs++){Nn.index>vs?(Hs=Nn,Nn=null):Hs=Nn.sibling;var Ar=nt(Ke,Nn,qe[vs],yt);if(Ar===null){Nn===null&&(Nn=Hs);break}r&&Nn&&Ar.alternate===null&&o(Ke,Nn),Le=U(Ar,Le,vs),lr===null?Kn=Ar:lr.sibling=Ar,lr=Ar,Nn=Hs}if(vs===qe.length)return d(Ke,Nn),js&&no(Ke,vs),Kn;if(Nn===null){for(;vs<qe.length;vs++)Nn=wt(Ke,qe[vs],yt),Nn!==null&&(Le=U(Nn,Le,vs),lr===null?Kn=Nn:lr.sibling=Nn,lr=Nn);return js&&no(Ke,vs),Kn}for(Nn=p(Nn);vs<qe.length;vs++)Hs=rt(Nn,Ke,vs,qe[vs],yt),Hs!==null&&(r&&Hs.alternate!==null&&Nn.delete(Hs.key===null?vs:Hs.key),Le=U(Hs,Le,vs),lr===null?Kn=Hs:lr.sibling=Hs,lr=Hs);return r&&Nn.forEach(function(dd){return o(Ke,dd)}),js&&no(Ke,vs),Kn}function Xn(Ke,Le,qe,yt){if(qe==null)throw Error(s(151));for(var Kn=null,lr=null,Nn=Le,vs=Le=0,Hs=null,Ar=qe.next();Nn!==null&&!Ar.done;vs++,Ar=qe.next()){Nn.index>vs?(Hs=Nn,Nn=null):Hs=Nn.sibling;var dd=nt(Ke,Nn,Ar.value,yt);if(dd===null){Nn===null&&(Nn=Hs);break}r&&Nn&&dd.alternate===null&&o(Ke,Nn),Le=U(dd,Le,vs),lr===null?Kn=dd:lr.sibling=dd,lr=dd,Nn=Hs}if(Ar.done)return d(Ke,Nn),js&&no(Ke,vs),Kn;if(Nn===null){for(;!Ar.done;vs++,Ar=qe.next())Ar=wt(Ke,Ar.value,yt),Ar!==null&&(Le=U(Ar,Le,vs),lr===null?Kn=Ar:lr.sibling=Ar,lr=Ar);return js&&no(Ke,vs),Kn}for(Nn=p(Nn);!Ar.done;vs++,Ar=qe.next())Ar=rt(Nn,Ke,vs,Ar.value,yt),Ar!==null&&(r&&Ar.alternate!==null&&Nn.delete(Ar.key===null?vs:Ar.key),Le=U(Ar,Le,vs),lr===null?Kn=Ar:lr.sibling=Ar,lr=Ar);return r&&Nn.forEach(function(z_){return o(Ke,z_)}),js&&no(Ke,vs),Kn}function Qr(Ke,Le,qe,yt){if(typeof qe=="object"&&qe!==null&&qe.type===S&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case g:e:{for(var Kn=qe.key;Le!==null;){if(Le.key===Kn){if(Kn=qe.type,Kn===S){if(Le.tag===7){d(Ke,Le.sibling),yt=N(Le,qe.props.children),yt.return=Ke,Ke=yt;break e}}else if(Le.elementType===Kn||typeof Kn=="object"&&Kn!==null&&Kn.$$typeof===D&&Ye(Kn)===Le.type){d(Ke,Le.sibling),yt=N(Le,qe.props),qn(yt,qe),yt.return=Ke,Ke=yt;break e}d(Ke,Le);break}else o(Ke,Le);Le=Le.sibling}qe.type===S?(yt=AA(qe.props.children,Ke.mode,yt,qe.key),yt.return=Ke,Ke=yt):(yt=Pl(qe.type,qe.key,qe.props,null,Ke.mode,yt),qn(yt,qe),yt.return=Ke,Ke=yt)}return X(Ke);case B:e:{for(Kn=qe.key;Le!==null;){if(Le.key===Kn)if(Le.tag===4&&Le.stateNode.containerInfo===qe.containerInfo&&Le.stateNode.implementation===qe.implementation){d(Ke,Le.sibling),yt=N(Le,qe.children||[]),yt.return=Ke,Ke=yt;break e}else{d(Ke,Le);break}else o(Ke,Le);Le=Le.sibling}yt=cc(qe,Ke.mode,yt),yt.return=Ke,Ke=yt}return X(Ke);case D:return qe=Ye(qe),Qr(Ke,Le,qe,yt)}if(pe(qe))return Bn(Ke,Le,qe,yt);if(H(qe)){if(Kn=H(qe),typeof Kn!="function")throw Error(s(150));return qe=Kn.call(qe),Xn(Ke,Le,qe,yt)}if(typeof qe.then=="function")return Qr(Ke,Le,An(qe),yt);if(qe.$$typeof===F)return Qr(Ke,Le,Hu(Ke,qe),yt);fn(Ke,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Le!==null&&Le.tag===6?(d(Ke,Le.sibling),yt=N(Le,qe),yt.return=Ke,Ke=yt):(d(Ke,Le),yt=qc(qe,Ke.mode,yt),yt.return=Ke,Ke=yt),X(Ke)):d(Ke,Le)}return function(Ke,Le,qe,yt){try{wn=0;var Kn=Qr(Ke,Le,qe,yt);return bt=null,Kn}catch(Nn){if(Nn===De||Nn===Ce)throw Nn;var lr=di(29,Nn,null,Ke.mode);return lr.lanes=yt,lr.return=Ke,lr}finally{}}}var Er=bs(!0),rs=bs(!1),st=!1;function $t(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vn(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Gn(r,o,d){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ar&2)!==0){var N=p.pending;return N===null?o.next=o:(o.next=N.next,N.next=o),p.pending=o,o=ui(r),Xc(r,null,d),o}return OA(r,p,o,d),ui(r)}function nr(r,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=r.pendingLanes,d|=p,o.lanes=d,ua(r,d)}}function ma(r,o){var d=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var N=null,U=null;if(d=d.firstBaseUpdate,d!==null){do{var X={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};U===null?N=U=X:U=U.next=X,d=d.next}while(d!==null);U===null?N=U=o:U=U.next=o}else N=U=o;d={baseState:p.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:p.shared,callbacks:p.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=o}var ia=!1;function sr(){if(ia){var r=I;if(r!==null)throw r}}function pa(r,o,d,p){ia=!1;var N=r.updateQueue;st=!1;var U=N.firstBaseUpdate,X=N.lastBaseUpdate,ge=N.shared.pending;if(ge!==null){N.shared.pending=null;var Ie=ge,Ze=Ie.next;Ie.next=null,X===null?U=Ze:X.next=Ze,X=Ie;var mt=r.alternate;mt!==null&&(mt=mt.updateQueue,ge=mt.lastBaseUpdate,ge!==X&&(ge===null?mt.firstBaseUpdate=Ze:ge.next=Ze,mt.lastBaseUpdate=Ie))}if(U!==null){var wt=N.baseState;X=0,mt=Ze=Ie=null,ge=U;do{var nt=ge.lane&-536870913,rt=nt!==ge.lane;if(rt?(_s&nt)===nt:(p&nt)===nt){nt!==0&&nt===x&&(ia=!0),mt!==null&&(mt=mt.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Bn=r,Xn=ge;nt=o;var Qr=d;switch(Xn.tag){case 1:if(Bn=Xn.payload,typeof Bn=="function"){wt=Bn.call(Qr,wt,nt);break e}wt=Bn;break e;case 3:Bn.flags=Bn.flags&-65537|128;case 0:if(Bn=Xn.payload,nt=typeof Bn=="function"?Bn.call(Qr,wt,nt):Bn,nt==null)break e;wt=m({},wt,nt);break e;case 2:st=!0}}nt=ge.callback,nt!==null&&(r.flags|=64,rt&&(r.flags|=8192),rt=N.callbacks,rt===null?N.callbacks=[nt]:rt.push(nt))}else rt={lane:nt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},mt===null?(Ze=mt=rt,Ie=wt):mt=mt.next=rt,X|=nt;if(ge=ge.next,ge===null){if(ge=N.shared.pending,ge===null)break;rt=ge,ge=rt.next,rt.next=null,N.lastBaseUpdate=rt,N.shared.pending=null}}while(!0);mt===null&&(Ie=wt),N.baseState=Ie,N.firstBaseUpdate=Ze,N.lastBaseUpdate=mt,U===null&&(N.shared.lanes=0),j|=X,r.lanes=X,r.memoizedState=wt}}function hi(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function ga(r,o){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)hi(d[r],o)}var ss=se(null),Ts=se(0);function Sr(r,o){r=y,te(Ts,r),te(ss,o),y=r|o.baseLanes}function Ys(){te(Ts,y),te(ss,ss.current)}function va(){y=Ts.current,G(ss),G(Ts)}var Mr=se(null),Is=null;function oa(r){var o=r.alternate;te(Ds,Ds.current&1),te(Mr,r),Is===null&&(o===null||ss.current!==null||o.memoizedState!==null)&&(Is=r)}function rr(r){te(Ds,Ds.current),te(Mr,r),Is===null&&(Is=r)}function ya(r){r.tag===22?(te(Ds,Ds.current),te(Mr,r),Is===null&&(Is=r)):xa()}function xa(){te(Ds,Ds.current),te(Mr,Mr.current)}function hr(r){G(Mr),Is===r&&(Is=null),G(Ds)}var Ds=se(0);function fi(r){for(var o=r;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||i1(d)||o1(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Zr=0,Un=null,kn=null,ks=null,Ki=!1,so=!1,_i=!1,kr=0,gA=0,xl=null,mc=0;function fr(){throw Error(s(321))}function Ku(r,o){if(o===null)return!1;for(var d=0;d<o.length&&d<r.length;d++)if(!Ns(r[d],o[d]))return!1;return!0}function eh(r,o,d,p,N,U){return Zr=U,Un=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ae.H=r===null||r.memoizedState===null?Hg:df,_i=!1,U=d(p,N),_i=!1,so&&(U=rl(o,d,p,N)),tu(r),U}function tu(r){ae.H=Ah;var o=kn!==null&&kn.next!==null;if(Zr=0,ks=kn=Un=null,Ki=!1,gA=0,xl=null,o)throw Error(s(300));r===null||Hr||(r=r.dependencies,r!==null&&ku(r)&&(Hr=!0))}function rl(r,o,d,p){Un=r;var N=0;do{if(so&&(xl=null),gA=0,so=!1,25<=N)throw Error(s(301));if(N+=1,ks=kn=null,r.updateQueue!=null){var U=r.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}ae.H=hf,U=o(d,p)}while(so);return U}function th(){var r=ae.H,o=r.useState()[0];return o=typeof o.then=="function"?vA(o):o,r=r.useState()[0],(kn!==null?kn.memoizedState:null)!==r&&(Un.flags|=1024),o}function zu(){var r=kr!==0;return kr=0,r}function Gu(r,o,d){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~d}function nu(r){if(Ki){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ki=!1}Zr=0,ks=kn=Un=null,so=!1,gA=kr=0,xl=null}function Sa(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ks===null?Un.memoizedState=ks=r:ks=ks.next=r,ks}function Rr(){if(kn===null){var r=Un.alternate;r=r!==null?r.memoizedState:null}else r=kn.next;var o=ks===null?Un.memoizedState:ks.next;if(o!==null)ks=o,kn=r;else{if(r===null)throw Un.alternate===null?Error(s(467)):Error(s(310));kn=r,r={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},ks===null?Un.memoizedState=ks=r:ks=ks.next=r}return ks}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vA(r){var o=gA;return gA+=1,xl===null&&(xl=[]),r=lt(xl,r,o),o=Un,(ks===null?o.memoizedState:ks.next)===null&&(o=o.alternate,ae.H=o===null||o.memoizedState===null?Hg:df),r}function pc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vA(r);if(r.$$typeof===F)return Ja(r)}throw Error(s(438,String(r)))}function Pa(r){var o=null,d=Un.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=Un.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(N){return N.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=su(),Un.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(r),p=0;p<r;p++)d[p]=$;return o.index++,d}function Io(r,o){return typeof o=="function"?o(r):o}function $u(r){var o=Rr();return gc(o,kn,r)}function gc(r,o,d){var p=r.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var N=r.baseQueue,U=p.pending;if(U!==null){if(N!==null){var X=N.next;N.next=U.next,U.next=X}o.baseQueue=N=U,p.pending=null}if(U=r.baseState,N===null)r.memoizedState=U;else{o=N.next;var ge=X=null,Ie=null,Ze=o,mt=!1;do{var wt=Ze.lane&-536870913;if(wt!==Ze.lane?(_s&wt)===wt:(Zr&wt)===wt){var nt=Ze.revertLane;if(nt===0)Ie!==null&&(Ie=Ie.next={lane:0,revertLane:0,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),wt===x&&(mt=!0);else if((Zr&nt)===nt){Ze=Ze.next,nt===x&&(mt=!0);continue}else wt={lane:0,revertLane:Ze.revertLane,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Ie===null?(ge=Ie=wt,X=U):Ie=Ie.next=wt,Un.lanes|=nt,j|=nt;wt=Ze.action,_i&&d(U,wt),U=Ze.hasEagerState?Ze.eagerState:d(U,wt)}else nt={lane:wt,revertLane:Ze.revertLane,gesture:Ze.gesture,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Ie===null?(ge=Ie=nt,X=U):Ie=Ie.next=nt,Un.lanes|=wt,j|=wt;Ze=Ze.next}while(Ze!==null&&Ze!==o);if(Ie===null?X=U:Ie.next=ge,!Ns(U,r.memoizedState)&&(Hr=!0,mt&&(d=I,d!==null)))throw d;r.memoizedState=U,r.baseState=X,r.baseQueue=Ie,p.lastRenderedState=U}return N===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Wu(r){var o=Rr(),d=o.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=r;var p=d.dispatch,N=d.pending,U=o.memoizedState;if(N!==null){d.pending=null;var X=N=N.next;do U=r(U,X.action),X=X.next;while(X!==N);Ns(U,o.memoizedState)||(Hr=!0),o.memoizedState=U,o.baseQueue===null&&(o.baseState=U),d.lastRenderedState=U}return[U,p]}function Yu(r,o,d){var p=Un,N=Rr(),U=js;if(U){if(d===void 0)throw Error(s(407));d=d()}else d=o();var X=!Ns((kn||N).memoizedState,d);if(X&&(N.memoizedState=d,Hr=!0),N=N.queue,lf(sh.bind(null,p,N,r),[r]),N.getSnapshot!==o||X||ks!==null&&ks.memoizedState.tag&1){if(p.flags|=2048,VA(9,{destroy:void 0},nh.bind(null,p,N,d,o),null),Nr===null)throw Error(s(349));U||(Zr&127)!==0||kl(p,o,d)}return d}function kl(r,o,d){r.flags|=16384,r={getSnapshot:o,value:d},o=Un.updateQueue,o===null?(o=su(),Un.updateQueue=o,o.stores=[r]):(d=o.stores,d===null?o.stores=[r]:d.push(r))}function nh(r,o,d,p){o.value=d,o.getSnapshot=p,rf(o)&&rh(r)}function sh(r,o,d){return d(function(){rf(o)&&rh(r)})}function rf(r){var o=r.getSnapshot;r=r.value;try{var d=o();return!Ns(r,d)}catch{return!0}}function rh(r){var o=pl(r,2);o!==null&&Tr(o,r,2)}function Hl(r){var o=Sa();if(typeof r=="function"){var d=r;if(r=d(),_i){He(!0);try{d()}finally{He(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:r},o}function af(r,o,d,p){return r.baseState=d,gc(r,kn,typeof p=="function"?p:Io)}function Xu(r,o,d,p,N){if(ru(r))throw Error(s(485));if(r=o.action,r!==null){var U={payload:N,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){U.listeners.push(X)}};ae.T!==null?d(!0):U.isTransition=!1,p(U),d=o.pending,d===null?(U.next=o.pending=U,ah(o,U)):(U.next=d.next,o.pending=d.next=U)}}function ah(r,o){var d=o.action,p=o.payload,N=r.state;if(o.isTransition){var U=ae.T,X={};ae.T=X;try{var ge=d(N,p),Ie=ae.S;Ie!==null&&Ie(X,ge),Na(r,o,ge)}catch(Ze){HA(r,o,Ze)}finally{U!==null&&X.types!==null&&(U.types=X.types),ae.T=U}}else try{U=d(N,p),Na(r,o,U)}catch(Ze){HA(r,o,Ze)}}function Na(r,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){vc(r,o,p)},function(p){return HA(r,o,p)}):vc(r,o,d)}function vc(r,o,d){o.status="fulfilled",o.value=d,Ju(o),r.state=d,o=r.pending,o!==null&&(d=o.next,d===o?r.pending=null:(d=d.next,o.next=d,ah(r,d)))}function HA(r,o,d){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,Ju(o),o=o.next;while(o!==p)}r.action=null}function Ju(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function yc(r,o){return o}function _o(r,o){if(js){var d=Nr.formState;if(d!==null){e:{var p=Un;if(js){if(Cr){t:{for(var N=Cr,U=qr;N.nodeType!==8;){if(!U){N=null;break t}if(N=wA(N.nextSibling),N===null){N=null;break t}}U=N.data,N=U==="F!"||U==="F"?N:null}if(N){Cr=wA(N.nextSibling),p=N.data==="F!";break e}}dA(p)}p=!1}p&&(o=d[0])}}return d=Sa(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:o},d.queue=p,d=Im.bind(null,Un,p),p.dispatch=d,p=Hl(!1),U=lh.bind(null,Un,!1,p.queue),p=Sa(),N={state:o,dispatch:null,action:r,pending:null},p.queue=N,d=Xu.bind(null,Un,N,U,d),N.dispatch=d,p.memoizedState=r,[o,d,!1]}function Vl(r){var o=Rr();return Kl(o,kn,r)}function Kl(r,o,d){if(o=gc(r,o,yc)[0],r=$u(Io)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=vA(o)}catch(X){throw X===De?Ce:X}else p=o;o=Rr();var N=o.queue,U=N.dispatch;return d!==o.memoizedState&&(Un.flags|=2048,VA(9,{destroy:void 0},qu.bind(null,N,d),null)),[p,U,r]}function qu(r,o){r.action=o}function Zu(r){var o=Rr(),d=kn;if(d!==null)return Kl(o,d,r);Rr(),o=o.memoizedState,d=Rr();var p=d.queue.dispatch;return d.memoizedState=r,[o,p,!1]}function VA(r,o,d,p){return r={tag:r,create:d,deps:p,inst:o,next:null},o=Un.updateQueue,o===null&&(o=su(),Un.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=r.next=r:(p=d.next,d.next=r,r.next=p,o.lastEffect=r),r}function of(){return Rr().memoizedState}function xc(r,o,d,p){var N=Sa();Un.flags|=r,N.memoizedState=VA(1|o,{destroy:void 0},d,p===void 0?null:p)}function bc(r,o,d,p){var N=Rr();p=p===void 0?null:p;var U=N.memoizedState.inst;kn!==null&&p!==null&&Ku(p,kn.memoizedState.deps)?N.memoizedState=VA(o,U,d,p):(Un.flags|=r,N.memoizedState=VA(1|o,U,d,p))}function wm(r,o){xc(8390656,8,r,o)}function lf(r,o){bc(2048,8,r,o)}function Rg(r){Un.flags|=4;var o=Un.updateQueue;if(o===null)o=su(),Un.updateQueue=o,o.events=[r];else{var d=o.events;d===null?o.events=[r]:d.push(r)}}function Bm(r){var o=Rr().memoizedState;return Rg({ref:o,nextImpl:r}),function(){if((ar&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function Af(r,o){return bc(4,2,r,o)}function Dg(r,o){return bc(4,4,r,o)}function Lg(r,o){if(typeof o=="function"){r=r();var d=o(r);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Qg(r,o,d){d=d!=null?d.concat([r]):null,bc(4,4,Lg.bind(null,o,r),d)}function jm(){}function ih(r,o){var d=Rr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&Ku(o,p[1])?p[0]:(d.memoizedState=[r,o],r)}function oh(r,o){var d=Rr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&Ku(o,p[1]))return p[0];if(p=r(),_i){He(!0);try{r()}finally{He(!1)}}return d.memoizedState=[p,o],p}function Cm(r,o,d){return d===void 0||(Zr&1073741824)!==0&&(_s&261930)===0?r.memoizedState=o:(r.memoizedState=d,r=Ta(),Un.lanes|=r,j|=r,d)}function Em(r,o,d,p){return Ns(d,o)?d:ss.current!==null?(r=Cm(r,d,p),Ns(r,o)||(Hr=!0),r):(Zr&42)===0||(Zr&1073741824)!==0&&(_s&261930)===0?(Hr=!0,r.memoizedState=d):(r=Ta(),Un.lanes|=r,j|=r,o)}function cf(r,o,d,p,N){var U=ne.p;ne.p=U!==0&&8>U?U:8;var X=ae.T,ge={};ae.T=ge,lh(r,!1,o,d);try{var Ie=N(),Ze=ae.S;if(Ze!==null&&Ze(ge,Ie),Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var mt=oe(Ie,p);yA(r,o,mt,_n(r))}else yA(r,o,p,_n(r))}catch(wt){yA(r,o,{then:function(){},status:"rejected",reason:wt},_n())}finally{ne.p=U,X!==null&&ge.types!==null&&(X.types=ge.types),ae.T=X}}function Og(){}function uf(r,o,d,p){if(r.tag!==5)throw Error(s(476));var N=Sm(r).queue;cf(r,N,o,Z,d===null?Og:function(){return Pg(r),d(p)})}function Sm(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:Z},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:d},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Pg(r){var o=Sm(r);o.next===null&&(o=r.alternate.memoizedState),yA(r,o.next.queue,{},_n())}function ed(){return Ja(sp)}function Nm(){return Rr().memoizedState}function Tm(){return Rr().memoizedState}function Oy(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var d=_n();r=Vn(d);var p=Gn(o,r,d);p!==null&&(Tr(p,o,d),nr(p,o,d)),o={cache:hc()},r.payload=o;return}o=o.return}}function Py(r,o,d){var p=_n();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ru(r)?Mg(o,d):(d=Du(r,o,d,p),d!==null&&(Tr(d,r,p),kg(d,o,p)))}function Im(r,o,d){var p=_n();yA(r,o,d,p)}function yA(r,o,d,p){var N={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ru(r))Mg(o,N);else{var U=r.alternate;if(r.lanes===0&&(U===null||U.lanes===0)&&(U=o.lastRenderedReducer,U!==null))try{var X=o.lastRenderedState,ge=U(X,d);if(N.hasEagerState=!0,N.eagerState=ge,Ns(ge,X))return OA(r,o,N,0),Nr===null&&Yc(),!1}catch{}finally{}if(d=Du(r,o,N,p),d!==null)return Tr(d,r,p),kg(d,o,p),!0}return!1}function lh(r,o,d,p){if(p={lane:2,revertLane:Wy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ru(r)){if(o)throw Error(s(479))}else o=Du(r,d,p,2),o!==null&&Tr(o,r,2)}function ru(r){var o=r.alternate;return r===Un||o!==null&&o===Un}function Mg(r,o){so=Ki=!0;var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}function kg(r,o,d){if((d&4194048)!==0){var p=o.lanes;p&=r.pendingLanes,d|=p,o.lanes=d,ua(r,d)}}var Ah={readContext:Ja,use:pc,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr};Ah.useEffectEvent=fr;var Hg={readContext:Ja,use:pc,useCallback:function(r,o){return Sa().memoizedState=[r,o===void 0?null:o],r},useContext:Ja,useEffect:wm,useImperativeHandle:function(r,o,d){d=d!=null?d.concat([r]):null,xc(4194308,4,Lg.bind(null,o,r),d)},useLayoutEffect:function(r,o){return xc(4194308,4,r,o)},useInsertionEffect:function(r,o){xc(4,2,r,o)},useMemo:function(r,o){var d=Sa();o=o===void 0?null:o;var p=r();if(_i){He(!0);try{r()}finally{He(!1)}}return d.memoizedState=[p,o],p},useReducer:function(r,o,d){var p=Sa();if(d!==void 0){var N=d(o);if(_i){He(!0);try{d(o)}finally{He(!1)}}}else N=o;return p.memoizedState=p.baseState=N,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:N},p.queue=r,r=r.dispatch=Py.bind(null,Un,r),[p.memoizedState,r]},useRef:function(r){var o=Sa();return r={current:r},o.memoizedState=r},useState:function(r){r=Hl(r);var o=r.queue,d=Im.bind(null,Un,o);return o.dispatch=d,[r.memoizedState,d]},useDebugValue:jm,useDeferredValue:function(r,o){var d=Sa();return Cm(d,r,o)},useTransition:function(){var r=Hl(!1);return r=cf.bind(null,Un,r.queue,!0,!1),Sa().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,d){var p=Un,N=Sa();if(js){if(d===void 0)throw Error(s(407));d=d()}else{if(d=o(),Nr===null)throw Error(s(349));(_s&127)!==0||kl(p,o,d)}N.memoizedState=d;var U={value:d,getSnapshot:o};return N.queue=U,wm(sh.bind(null,p,U,r),[r]),p.flags|=2048,VA(9,{destroy:void 0},nh.bind(null,p,U,d,o),null),d},useId:function(){var r=Sa(),o=Nr.identifierPrefix;if(js){var d=Ti,p=No;d=(p&~(1<<32-at(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=kr++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=mc++,o="_"+o+"r_"+d.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:ed,useFormState:_o,useActionState:_o,useOptimistic:function(r){var o=Sa();o.memoizedState=o.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=lh.bind(null,Un,!0,d),d.dispatch=o,[r,o]},useMemoCache:Pa,useCacheRefresh:function(){return Sa().memoizedState=Oy.bind(null,Un)},useEffectEvent:function(r){var o=Sa(),d={impl:r};return o.memoizedState=d,function(){if((ar&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},df={readContext:Ja,use:pc,useCallback:ih,useContext:Ja,useEffect:lf,useImperativeHandle:Qg,useInsertionEffect:Af,useLayoutEffect:Dg,useMemo:oh,useReducer:$u,useRef:of,useState:function(){return $u(Io)},useDebugValue:jm,useDeferredValue:function(r,o){var d=Rr();return Em(d,kn.memoizedState,r,o)},useTransition:function(){var r=$u(Io)[0],o=Rr().memoizedState;return[typeof r=="boolean"?r:vA(r),o]},useSyncExternalStore:Yu,useId:Nm,useHostTransitionStatus:ed,useFormState:Vl,useActionState:Vl,useOptimistic:function(r,o){var d=Rr();return af(d,kn,r,o)},useMemoCache:Pa,useCacheRefresh:Tm};df.useEffectEvent=Bm;var hf={readContext:Ja,use:pc,useCallback:ih,useContext:Ja,useEffect:lf,useImperativeHandle:Qg,useInsertionEffect:Af,useLayoutEffect:Dg,useMemo:oh,useReducer:Wu,useRef:of,useState:function(){return Wu(Io)},useDebugValue:jm,useDeferredValue:function(r,o){var d=Rr();return kn===null?Cm(d,r,o):Em(d,kn.memoizedState,r,o)},useTransition:function(){var r=Wu(Io)[0],o=Rr().memoizedState;return[typeof r=="boolean"?r:vA(r),o]},useSyncExternalStore:Yu,useId:Nm,useHostTransitionStatus:ed,useFormState:Zu,useActionState:Zu,useOptimistic:function(r,o){var d=Rr();return kn!==null?af(d,kn,r,o):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Pa,useCacheRefresh:Tm};hf.useEffectEvent=Bm;function ff(r,o,d,p){o=r.memoizedState,d=d(p,o),d=d==null?o:m({},o,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var mf={enqueueSetState:function(r,o,d){r=r._reactInternals;var p=_n(),N=Vn(p);N.payload=o,d!=null&&(N.callback=d),o=Gn(r,N,p),o!==null&&(Tr(o,r,p),nr(o,r,p))},enqueueReplaceState:function(r,o,d){r=r._reactInternals;var p=_n(),N=Vn(p);N.tag=1,N.payload=o,d!=null&&(N.callback=d),o=Gn(r,N,p),o!==null&&(Tr(o,r,p),nr(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var d=_n(),p=Vn(d);p.tag=2,o!=null&&(p.callback=o),o=Gn(r,p,d),o!==null&&(Tr(o,r,d),nr(o,r,d))}};function pf(r,o,d,p,N,U,X){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,U,X):o.prototype&&o.prototype.isPureReactComponent?!Ai(d,p)||!Ai(N,U):!0}function _m(r,o,d,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==r&&mf.enqueueReplaceState(o,o.state,null)}function wc(r,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(r=r.defaultProps){d===o&&(d=m({},d));for(var N in r)d[N]===void 0&&(d[N]=r[N])}return d}function Vg(r){Ac(r)}function ch(r){console.error(r)}function uh(r){Ac(r)}function dh(r,o){try{var d=r.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Fm(r,o,d){try{var p=r.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Um(r,o,d){return d=Vn(d),d.tag=3,d.payload={element:null},d.callback=function(){dh(r,o)},d}function Rm(r){return r=Vn(r),r.tag=3,r}function Dm(r,o,d,p){var N=d.type.getDerivedStateFromError;if(typeof N=="function"){var U=p.value;r.payload=function(){return N(U)},r.callback=function(){Fm(o,d,p)}}var X=d.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(r.callback=function(){Fm(o,d,p),typeof N!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var ge=p.stack;this.componentDidCatch(p.value,{componentStack:ge!==null?ge:""})})}function My(r,o,d,p,N){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&mA(o,d,N,!0),d=Mr.current,d!==null){switch(d.tag){case 31:case 13:return Is===null?El():d.alternate===null&&C===0&&(C=3),d.flags&=-257,d.flags|=65536,d.lanes=N,p===Qe?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),zy(r,p,N)),!1;case 22:return d.flags|=65536,p===Qe?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),zy(r,p,N)),!1}throw Error(s(435,d.tag))}return zy(r,p,N),El(),!1}if(js)return o=Mr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=N,p!==Vi&&(r=Error(s(422),{cause:p}),Ml(Co(r,d)))):(p!==Vi&&(o=Error(s(423),{cause:p}),Ml(Co(o,d))),r=r.current.alternate,r.flags|=65536,N&=-N,r.lanes|=N,p=Co(p,d),N=Um(r.stateNode,p,N),ma(r,N),C!==4&&(C=2)),!1;var U=Error(s(520),{cause:p});if(U=Co(U,d),Be===null?Be=[U]:Be.push(U),C!==4&&(C=2),o===null)return!0;p=Co(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,r=N&-N,d.lanes|=r,r=Um(d.stateNode,p,r),ma(d,r),!1;case 1:if(o=d.type,U=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Wt===null||!Wt.has(U))))return d.flags|=65536,N&=-N,d.lanes|=N,N=Rm(N),Dm(N,r,d,p),ma(d,N),!1}d=d.return}while(d!==null);return!1}var Lm=Error(s(461)),Hr=!1;function mi(r,o,d,p){o.child=r===null?rs(o,null,d,p):Er(o,r.child,d,p)}function ba(r,o,d,p,N){d=d.render;var U=o.ref;if("ref"in p){var X={};for(var ge in p)ge!=="ref"&&(X[ge]=p[ge])}else X=p;return pA(o),p=eh(r,o,d,X,U,N),ge=zu(),r!==null&&!Hr?(Gu(r,o,N),zA(r,o,N)):(js&&ge&&qd(o),o.flags|=1,mi(r,o,p,N),o.child)}function Bc(r,o,d,p,N){if(r===null){var U=d.type;return typeof U=="function"&&!Ol(U)&&U.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=U,au(r,o,U,p,N)):(r=Pl(d.type,null,p,o,o.mode,N),r.ref=o.ref,r.return=o,o.child=r)}if(U=r.child,!Km(r,N)){var X=U.memoizedProps;if(d=d.compare,d=d!==null?d:Ai,d(X,p)&&r.ref===o.ref)return zA(r,o,N)}return o.flags|=1,r=jo(U,p),r.ref=o.ref,r.return=o,o.child=r}function au(r,o,d,p,N){if(r!==null){var U=r.memoizedProps;if(Ai(U,p)&&r.ref===o.ref)if(Hr=!1,o.pendingProps=p=U,Km(r,N))(r.flags&131072)!==0&&(Hr=!0);else return o.lanes=r.lanes,zA(r,o,N)}return fh(r,o,d,p,N)}function KA(r,o,d,p){var N=p.children,U=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(U=U!==null?U.baseLanes|d:d,r!==null){for(p=o.child=r.child,N=0;p!==null;)N=N|p.lanes|p.childLanes,p=p.sibling;p=N&~U}else p=0,o.child=null;return td(r,o,U,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&be(o,U!==null?U.cachePool:null),U!==null?Sr(o,U):Ys(),ya(o);else return p=o.lanes=536870912,td(r,o,U!==null?U.baseLanes|d:d,d,p)}else U!==null?(be(o,U.cachePool),Sr(o,U),xa(),o.memoizedState=null):(r!==null&&be(o,null),Ys(),xa());return mi(r,o,N,d),o.child}function bl(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function td(r,o,d,p,N){var U=ve();return U=U===null?null:{parent:aa._currentValue,pool:U},o.memoizedState={baseLanes:d,cachePool:U},r!==null&&be(o,null),Ys(),ya(o),r!==null&&mA(r,o,p,!0),o.childLanes=N,null}function wl(r,o){return o=gf({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function Qm(r,o,d){return Er(o,r.child,null,d),r=wl(o,o.pendingProps),r.flags|=2,hr(o),o.memoizedState=null,r}function Kg(r,o,d){var p=o.pendingProps,N=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(js){if(p.mode==="hidden")return r=wl(o,p),o.lanes=536870912,bl(null,r);if(rr(o),(r=Cr)?(r=oB(r,qr),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:uA!==null?{id:No,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},d=Qu(r),d.return=o,o.child=d,Ya=o,Cr=null)):r=null,r===null)throw dA(o);return o.lanes=536870912,null}return wl(o,p)}var U=r.memoizedState;if(U!==null){var X=U.dehydrated;if(rr(o),N)if(o.flags&256)o.flags&=-257,o=Qm(r,o,d);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(s(558));else if(Hr||mA(r,o,d,!1),N=(d&r.childLanes)!==0,Hr||N){if(p=Nr,p!==null&&(X=$r(p,d),X!==0&&X!==U.retryLane))throw U.retryLane=X,pl(r,X),Tr(p,r,X),Lm;El(),o=Qm(r,o,d)}else r=U.treeContext,Cr=wA(X.nextSibling),Ya=o,js=!0,Ii=null,qr=!1,r!==null&&nf(o,r),o=wl(o,p),o.flags|=4096;return o}return r=jo(r.child,{mode:p.mode,children:p.children}),r.ref=o.ref,o.child=r,r.return=o,r}function hh(r,o){var d=o.ref;if(d===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(r===null||r.ref!==d)&&(o.flags|=4194816)}}function fh(r,o,d,p,N){return pA(o),d=eh(r,o,d,p,void 0,N),p=zu(),r!==null&&!Hr?(Gu(r,o,N),zA(r,o,N)):(js&&p&&qd(o),o.flags|=1,mi(r,o,d,N),o.child)}function nd(r,o,d,p,N,U){return pA(o),o.updateQueue=null,d=rl(o,p,d,N),tu(r),p=zu(),r!==null&&!Hr?(Gu(r,o,U),zA(r,o,U)):(js&&p&&qd(o),o.flags|=1,mi(r,o,d,U),o.child)}function Om(r,o,d,p,N){if(pA(o),o.stateNode===null){var U=Wa,X=d.contextType;typeof X=="object"&&X!==null&&(U=Ja(X)),U=new d(p,U),o.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=mf,o.stateNode=U,U._reactInternals=o,U=o.stateNode,U.props=p,U.state=o.memoizedState,U.refs={},$t(o),X=d.contextType,U.context=typeof X=="object"&&X!==null?Ja(X):Wa,U.state=o.memoizedState,X=d.getDerivedStateFromProps,typeof X=="function"&&(ff(o,d,X,p),U.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(X=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),X!==U.state&&mf.enqueueReplaceState(U,U.state,null),pa(o,p,U,N),sr(),U.state=o.memoizedState),typeof U.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(r===null){U=o.stateNode;var ge=o.memoizedProps,Ie=wc(d,ge);U.props=Ie;var Ze=U.context,mt=d.contextType;X=Wa,typeof mt=="object"&&mt!==null&&(X=Ja(mt));var wt=d.getDerivedStateFromProps;mt=typeof wt=="function"||typeof U.getSnapshotBeforeUpdate=="function",ge=o.pendingProps!==ge,mt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ge||Ze!==X)&&_m(o,U,p,X),st=!1;var nt=o.memoizedState;U.state=nt,pa(o,p,U,N),sr(),Ze=o.memoizedState,ge||nt!==Ze||st?(typeof wt=="function"&&(ff(o,d,wt,p),Ze=o.memoizedState),(Ie=st||pf(o,d,Ie,p,nt,Ze,X))?(mt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(o.flags|=4194308)):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Ze),U.props=p,U.state=Ze,U.context=X,p=Ie):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{U=o.stateNode,Pr(r,o),X=o.memoizedProps,mt=wc(d,X),U.props=mt,wt=o.pendingProps,nt=U.context,Ze=d.contextType,Ie=Wa,typeof Ze=="object"&&Ze!==null&&(Ie=Ja(Ze)),ge=d.getDerivedStateFromProps,(Ze=typeof ge=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(X!==wt||nt!==Ie)&&_m(o,U,p,Ie),st=!1,nt=o.memoizedState,U.state=nt,pa(o,p,U,N),sr();var rt=o.memoizedState;X!==wt||nt!==rt||st||r!==null&&r.dependencies!==null&&ku(r.dependencies)?(typeof ge=="function"&&(ff(o,d,ge,p),rt=o.memoizedState),(mt=st||pf(o,d,mt,p,nt,rt,Ie)||r!==null&&r.dependencies!==null&&ku(r.dependencies))?(Ze||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(p,rt,Ie),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(p,rt,Ie)),typeof U.componentDidUpdate=="function"&&(o.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof U.componentDidUpdate!="function"||X===r.memoizedProps&&nt===r.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===r.memoizedProps&&nt===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=rt),U.props=p,U.state=rt,U.context=Ie,p=mt):(typeof U.componentDidUpdate!="function"||X===r.memoizedProps&&nt===r.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===r.memoizedProps&&nt===r.memoizedState||(o.flags|=1024),p=!1)}return U=p,hh(r,o),p=(o.flags&128)!==0,U||p?(U=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:U.render(),o.flags|=1,r!==null&&p?(o.child=Er(o,r.child,null,N),o.child=Er(o,null,d,N)):mi(r,o,d,N),o.memoizedState=U.state,r=o.child):r=zA(r,o,N),r}function Pm(r,o,d,p){return kA(),o.flags|=256,mi(r,o,d,p),o.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(r){return{baseLanes:r,cachePool:Se()}}function km(r,o,d){return r=r!==null?r.childLanes&~d:0,o&&(r|=Ae),r}function zg(r,o,d){var p=o.pendingProps,N=!1,U=(o.flags&128)!==0,X;if((X=U)||(X=r!==null&&r.memoizedState===null?!1:(Ds.current&2)!==0),X&&(N=!0,o.flags&=-129),X=(o.flags&32)!==0,o.flags&=-33,r===null){if(js){if(N?oa(o):xa(),(r=Cr)?(r=oB(r,qr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:uA!==null?{id:No,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},d=Qu(r),d.return=o,o.child=d,Ya=o,Cr=null)):r=null,r===null)throw dA(o);return o1(r)?o.lanes=32:o.lanes=536870912,null}var ge=p.children;return p=p.fallback,N?(xa(),N=o.mode,ge=gf({mode:"hidden",children:ge},N),p=AA(p,N,d,null),ge.return=o,p.return=o,ge.sibling=p,o.child=ge,p=o.child,p.memoizedState=Mm(d),p.childLanes=km(r,X,d),o.memoizedState=iu,bl(null,p)):(oa(o),Hm(o,ge))}var Ie=r.memoizedState;if(Ie!==null&&(ge=Ie.dehydrated,ge!==null)){if(U)o.flags&256?(oa(o),o.flags&=-257,o=mh(r,o,d)):o.memoizedState!==null?(xa(),o.child=r.child,o.flags|=128,o=null):(xa(),ge=p.fallback,N=o.mode,p=gf({mode:"visible",children:p.children},N),ge=AA(ge,N,d,null),ge.flags|=2,p.return=o,ge.return=o,p.sibling=ge,o.child=p,Er(o,r.child,null,d),p=o.child,p.memoizedState=Mm(d),p.childLanes=km(r,X,d),o.memoizedState=iu,o=bl(null,p));else if(oa(o),o1(ge)){if(X=ge.nextSibling&&ge.nextSibling.dataset,X)var Ze=X.dgst;X=Ze,p=Error(s(419)),p.stack="",p.digest=X,Ml({value:p,source:null,stack:null}),o=mh(r,o,d)}else if(Hr||mA(r,o,d,!1),X=(d&r.childLanes)!==0,Hr||X){if(X=Nr,X!==null&&(p=$r(X,d),p!==0&&p!==Ie.retryLane))throw Ie.retryLane=p,pl(r,p),Tr(X,r,p),Lm;i1(ge)||El(),o=mh(r,o,d)}else i1(ge)?(o.flags|=192,o.child=r.child,o=null):(r=Ie.treeContext,Cr=wA(ge.nextSibling),Ya=o,js=!0,Ii=null,qr=!1,r!==null&&nf(o,r),o=Hm(o,p.children),o.flags|=4096);return o}return N?(xa(),ge=p.fallback,N=o.mode,Ie=r.child,Ze=Ie.sibling,p=jo(Ie,{mode:"hidden",children:p.children}),p.subtreeFlags=Ie.subtreeFlags&65011712,Ze!==null?ge=jo(Ze,ge):(ge=AA(ge,N,d,null),ge.flags|=2),ge.return=o,p.return=o,p.sibling=ge,o.child=p,bl(null,p),p=o.child,ge=r.child.memoizedState,ge===null?ge=Mm(d):(N=ge.cachePool,N!==null?(Ie=aa._currentValue,N=N.parent!==Ie?{parent:Ie,pool:Ie}:N):N=Se(),ge={baseLanes:ge.baseLanes|d,cachePool:N}),p.memoizedState=ge,p.childLanes=km(r,X,d),o.memoizedState=iu,bl(r.child,p)):(oa(o),d=r.child,r=d.sibling,d=jo(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,r!==null&&(X=o.deletions,X===null?(o.deletions=[r],o.flags|=16):X.push(r)),o.child=d,o.memoizedState=null,d)}function Hm(r,o){return o=gf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function gf(r,o){return r=di(22,r,null,o),r.lanes=0,r}function mh(r,o,d){return Er(o,r.child,null,d),r=Hm(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Gg(r,o,d){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),dc(r.return,o,d)}function Vm(r,o,d,p,N,U){var X=r.memoizedState;X===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:N,treeForkCount:U}:(X.isBackwards=o,X.rendering=null,X.renderingStartTime=0,X.last=p,X.tail=d,X.tailMode=N,X.treeForkCount=U)}function $g(r,o,d){var p=o.pendingProps,N=p.revealOrder,U=p.tail;p=p.children;var X=Ds.current,ge=(X&2)!==0;if(ge?(X=X&1|2,o.flags|=128):X&=1,te(Ds,X),mi(r,o,p,d),p=js?cA:0,!ge&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gg(r,d,o);else if(r.tag===19)Gg(r,d,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(N){case"forwards":for(d=o.child,N=null;d!==null;)r=d.alternate,r!==null&&fi(r)===null&&(N=d),d=d.sibling;d=N,d===null?(N=o.child,o.child=null):(N=d.sibling,d.sibling=null),Vm(o,!1,N,d,U,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,N=o.child,o.child=null;N!==null;){if(r=N.alternate,r!==null&&fi(r)===null){o.child=N;break}r=N.sibling,N.sibling=d,d=N,N=r}Vm(o,!0,d,null,U,p);break;case"together":Vm(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function zA(r,o,d){if(r!==null&&(o.dependencies=r.dependencies),j|=o.lanes,(d&o.childLanes)===0)if(r!==null){if(mA(r,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,d=jo(r,r.pendingProps),o.child=d,d.return=o;r.sibling!==null;)r=r.sibling,d=d.sibling=jo(r,r.pendingProps),d.return=o;d.sibling=null}return o.child}function Km(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&ku(r)))}function zm(r,o,d){switch(o.tag){case 3:Ne(o,o.stateNode.containerInfo),fA(o,aa,r.memoizedState.cache),kA();break;case 27:case 5:Fe(o);break;case 4:Ne(o,o.stateNode.containerInfo);break;case 10:fA(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,rr(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(oa(o),o.flags|=128,null):(d&o.child.childLanes)!==0?zg(r,o,d):(oa(o),r=zA(r,o,d),r!==null?r.sibling:null);oa(o);break;case 19:var N=(r.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(mA(r,o,d,!1),p=(d&o.childLanes)!==0),N){if(p)return $g(r,o,d);o.flags|=128}if(N=o.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),te(Ds,Ds.current),p)break;return null;case 22:return o.lanes=0,KA(r,o,d,o.pendingProps);case 24:fA(o,aa,r.memoizedState.cache)}return zA(r,o,d)}function vf(r,o,d){if(r!==null)if(r.memoizedProps!==o.pendingProps)Hr=!0;else{if(!Km(r,d)&&(o.flags&128)===0)return Hr=!1,zm(r,o,d);Hr=(r.flags&131072)!==0}else Hr=!1,js&&(o.flags&1048576)!==0&&tf(o,cA,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(r=Ye(o.elementType),o.type=r,typeof r=="function")Ol(r)?(p=wc(r,p),o.tag=1,o=Om(null,o,r,p,d)):(o.tag=0,o=fh(null,o,r,p,d));else{if(r!=null){var N=r.$$typeof;if(N===Q){o.tag=11,o=ba(null,o,r,p,d);break e}else if(N===R){o.tag=14,o=Bc(null,o,r,p,d);break e}}throw o=re(r)||r,Error(s(306,o,""))}}return o;case 0:return fh(r,o,o.type,o.pendingProps,d);case 1:return p=o.type,N=wc(p,o.pendingProps),Om(r,o,p,N,d);case 3:e:{if(Ne(o,o.stateNode.containerInfo),r===null)throw Error(s(387));p=o.pendingProps;var U=o.memoizedState;N=U.element,Pr(r,o),pa(o,p,null,d);var X=o.memoizedState;if(p=X.cache,fA(o,aa,p),p!==U.cache&&yl(o,[aa],d,!0),sr(),p=X.element,U.isDehydrated)if(U={element:p,isDehydrated:!1,cache:X.cache},o.updateQueue.baseState=U,o.memoizedState=U,o.flags&256){o=Pm(r,o,p,d);break e}else if(p!==N){N=Co(Error(s(424)),o),Ml(N),o=Pm(r,o,p,d);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Cr=wA(r.firstChild),Ya=o,js=!0,Ii=null,qr=!0,d=rs(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(kA(),p===N){o=zA(r,o,d);break e}mi(r,o,p,d)}o=o.child}return o;case 26:return hh(r,o),r===null?(d=hB(o.type,null,o.pendingProps,null))?o.memoizedState=d:js||(d=o.type,r=o.pendingProps,p=f0(ce.current).createElement(d),p[Vt]=o,p[Tt]=r,oo(p,d,r),zs(p),o.stateNode=p):o.memoizedState=hB(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Fe(o),r===null&&js&&(p=o.stateNode=cB(o.type,o.pendingProps,ce.current),Ya=o,qr=!0,N=Cr,od(o.type)?(l1=N,Cr=wA(p.firstChild)):Cr=N),mi(r,o,o.pendingProps.children,d),hh(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&js&&((N=p=Cr)&&(p=b_(p,o.type,o.pendingProps,qr),p!==null?(o.stateNode=p,Ya=o,Cr=wA(p.firstChild),qr=!1,N=!0):N=!1),N||dA(o)),Fe(o),N=o.type,U=o.pendingProps,X=r!==null?r.memoizedProps:null,p=U.children,s1(N,U)?p=null:X!==null&&s1(N,X)&&(o.flags|=32),o.memoizedState!==null&&(N=eh(r,o,th,null,null,d),sp._currentValue=N),hh(r,o),mi(r,o,p,d),o.child;case 6:return r===null&&js&&((r=d=Cr)&&(d=w_(d,o.pendingProps,qr),d!==null?(o.stateNode=d,Ya=o,Cr=null,r=!0):r=!1),r||dA(o)),null;case 13:return zg(r,o,d);case 4:return Ne(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=Er(o,null,p,d):mi(r,o,p,d),o.child;case 11:return ba(r,o,o.type,o.pendingProps,d);case 7:return mi(r,o,o.pendingProps,d),o.child;case 8:return mi(r,o,o.pendingProps.children,d),o.child;case 12:return mi(r,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,fA(o,o.type,p.value),mi(r,o,p.children,d),o.child;case 9:return N=o.type._context,p=o.pendingProps.children,pA(o),N=Ja(N),p=p(N),o.flags|=1,mi(r,o,p,d),o.child;case 14:return Bc(r,o,o.type,o.pendingProps,d);case 15:return au(r,o,o.type,o.pendingProps,d);case 19:return $g(r,o,d);case 31:return Kg(r,o,d);case 22:return KA(r,o,d,o.pendingProps);case 24:return pA(o),p=Ja(aa),r===null?(N=ve(),N===null&&(N=Nr,U=hc(),N.pooledCache=U,U.refCount++,U!==null&&(N.pooledCacheLanes|=d),N=U),o.memoizedState={parent:p,cache:N},$t(o),fA(o,aa,N)):((r.lanes&d)!==0&&(Pr(r,o),pa(o,null,null,d),sr()),N=r.memoizedState,U=o.memoizedState,N.parent!==p?(N={parent:p,cache:p},o.memoizedState=N,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=N),fA(o,aa,p)):(p=U.cache,fA(o,aa,p),p!==N.cache&&yl(o,[aa],d,!0))),mi(r,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function xA(r){r.flags|=4}function Gm(r,o,d,p,N){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(N&335544128)===N)if(r.stateNode.complete)r.flags|=8192;else if($A())r.flags|=8192;else throw ot=Qe,Xe}else r.flags&=-16777217}function Wg(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!vB(o))if($A())r.flags|=8192;else throw ot=Qe,Xe}function ph(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?cs():536870912,r.lanes|=o,we|=o)}function gh(r,o){if(!js)switch(r.tailMode){case"hidden":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Vr(r){var o=r.alternate!==null&&r.alternate.child===r.child,d=0,p=0;if(o)for(var N=r.child;N!==null;)d|=N.lanes|N.childLanes,p|=N.subtreeFlags&65011712,p|=N.flags&65011712,N.return=r,N=N.sibling;else for(N=r.child;N!==null;)d|=N.lanes|N.childLanes,p|=N.subtreeFlags,p|=N.flags,N.return=r,N=N.sibling;return r.subtreeFlags|=p,r.childLanes=d,o}function ky(r,o,d){var p=o.pendingProps;switch(Pu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(o),null;case 1:return Vr(o),null;case 3:return d=o.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),To(aa),Te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Xa(o)?xA(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zc())),Vr(o),null;case 26:var N=o.type,U=o.memoizedState;return r===null?(xA(o),U!==null?(Vr(o),Wg(o,U)):(Vr(o),Gm(o,N,null,p,d))):U?U!==r.memoizedState?(xA(o),Vr(o),Wg(o,U)):(Vr(o),o.flags&=-16777217):(r=r.memoizedProps,r!==p&&xA(o),Vr(o),Gm(o,N,r,p,d)),null;case 27:if(tt(o),d=ce.current,N=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&xA(o);else{if(!p){if(o.stateNode===null)throw Error(s(166));return Vr(o),null}r=le.current,Xa(o)?Zd(o):(r=cB(N,p,d),o.stateNode=r,xA(o))}return Vr(o),null;case 5:if(tt(o),N=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&xA(o);else{if(!p){if(o.stateNode===null)throw Error(s(166));return Vr(o),null}if(U=le.current,Xa(o))Zd(o);else{var X=f0(ce.current);switch(U){case 1:U=X.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:U=X.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":U=X.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":U=X.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":U=X.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof p.is=="string"?X.createElement("select",{is:p.is}):X.createElement("select"),p.multiple?U.multiple=!0:p.size&&(U.size=p.size);break;default:U=typeof p.is=="string"?X.createElement(N,{is:p.is}):X.createElement(N)}}U[Vt]=o,U[Tt]=p;e:for(X=o.child;X!==null;){if(X.tag===5||X.tag===6)U.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===o)break e;for(;X.sibling===null;){if(X.return===null||X.return===o)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}o.stateNode=U;e:switch(oo(U,N,p),N){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&xA(o)}}return Vr(o),Gm(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,d),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==p&&xA(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(s(166));if(r=ce.current,Xa(o)){if(r=o.stateNode,d=o.memoizedProps,p=null,N=Ya,N!==null)switch(N.tag){case 27:case 5:p=N.memoizedProps}r[Vt]=o,r=!!(r.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Z2(r.nodeValue,d)),r||dA(o,!0)}else r=f0(r).createTextNode(p),r[Vt]=o,o.stateNode=r}return Vr(o),null;case 31:if(d=o.memoizedState,r===null||r.memoizedState!==null){if(p=Xa(o),d!==null){if(r===null){if(!p)throw Error(s(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Vt]=o}else kA(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vr(o),r=!1}else d=Zc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),r=!0;if(!r)return o.flags&256?(hr(o),o):(hr(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Vr(o),null;case 13:if(p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(N=Xa(o),p!==null&&p.dehydrated!==null){if(r===null){if(!N)throw Error(s(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(s(317));N[Vt]=o}else kA(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vr(o),N=!1}else N=Zc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=N),N=!0;if(!N)return o.flags&256?(hr(o),o):(hr(o),null)}return hr(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,r=r!==null&&r.memoizedState!==null,d&&(p=o.child,N=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(N=p.alternate.memoizedState.cachePool.pool),U=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(U=p.memoizedState.cachePool.pool),U!==N&&(p.flags|=2048)),d!==r&&d&&(o.child.flags|=8192),ph(o,o.updateQueue),Vr(o),null);case 4:return Te(),r===null&&qy(o.stateNode.containerInfo),Vr(o),null;case 10:return To(o.type),Vr(o),null;case 19:if(G(Ds),p=o.memoizedState,p===null)return Vr(o),null;if(N=(o.flags&128)!==0,U=p.rendering,U===null)if(N)gh(p,!1);else{if(C!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(U=fi(r),U!==null){for(o.flags|=128,gh(p,!1),r=U.updateQueue,o.updateQueue=r,ph(o,r),o.subtreeFlags=0,r=d,d=o.child;d!==null;)Jc(d,r),d=d.sibling;return te(Ds,Ds.current&1|2),js&&no(o,p.treeForkCount),o.child}r=r.sibling}p.tail!==null&&Jt()>nn&&(o.flags|=128,N=!0,gh(p,!1),o.lanes=4194304)}else{if(!N)if(r=fi(U),r!==null){if(o.flags|=128,N=!0,r=r.updateQueue,o.updateQueue=r,ph(o,r),gh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!U.alternate&&!js)return Vr(o),null}else 2*Jt()-p.renderingStartTime>nn&&d!==536870912&&(o.flags|=128,N=!0,gh(p,!1),o.lanes=4194304);p.isBackwards?(U.sibling=o.child,o.child=U):(r=p.last,r!==null?r.sibling=U:o.child=U,p.last=U)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Jt(),r.sibling=null,d=Ds.current,te(Ds,N?d&1|2:d&1),js&&no(o,p.treeForkCount),r):(Vr(o),null);case 22:case 23:return hr(o),va(),p=o.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Vr(o),o.subtreeFlags&6&&(o.flags|=8192)):Vr(o),d=o.updateQueue,d!==null&&ph(o,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),r!==null&&G(me),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),To(aa),Vr(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function Hy(r,o){switch(Pu(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return To(aa),Te(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return tt(o),null;case 31:if(o.memoizedState!==null){if(hr(o),o.alternate===null)throw Error(s(340));kA()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(hr(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));kA()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return G(Ds),null;case 4:return Te(),null;case 10:return To(o.type),null;case 22:case 23:return hr(o),va(),r!==null&&G(me),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return To(aa),null;case 25:return null;default:return null}}function Yg(r,o){switch(Pu(o),o.tag){case 3:To(aa),Te();break;case 26:case 27:case 5:tt(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&hr(o);break;case 13:hr(o);break;case 19:G(Ds);break;case 10:To(o.type);break;case 22:case 23:hr(o),va(),r!==null&&G(me);break;case 24:To(aa)}}function ou(r,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var N=p.next;d=N;do{if((d.tag&r)===r){p=void 0;var U=d.create,X=d.inst;p=U(),X.destroy=p}d=d.next}while(d!==N)}}catch(ge){Ir(o,o.return,ge)}}function jc(r,o,d){try{var p=o.updateQueue,N=p!==null?p.lastEffect:null;if(N!==null){var U=N.next;p=U;do{if((p.tag&r)===r){var X=p.inst,ge=X.destroy;if(ge!==void 0){X.destroy=void 0,N=o;var Ie=d,Ze=ge;try{Ze()}catch(mt){Ir(N,Ie,mt)}}}p=p.next}while(p!==U)}}catch(mt){Ir(o,o.return,mt)}}function yf(r){var o=r.updateQueue;if(o!==null){var d=r.stateNode;try{ga(o,d)}catch(p){Ir(r,r.return,p)}}}function Xg(r,o,d){d.props=wc(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(p){Ir(r,o,p)}}function qt(r,o){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof d=="function"?r.refCleanup=d(p):d.current=p}}catch(N){Ir(r,o,N)}}function ro(r,o){var d=r.ref,p=r.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(N){Ir(r,o,N)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(N){Ir(r,o,N)}else d.current=null}function vh(r){var o=r.type,d=r.memoizedProps,p=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(N){Ir(r,r.return,N)}}function Fo(r,o,d){try{var p=r.stateNode;m_(p,r.type,d,o),p[Tt]=o}catch(N){Ir(r,r.return,N)}}function Jg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&od(r.type)||r.tag===4}function qs(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&od(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Dr(r,o,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(r),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Xi));else if(p!==4&&(p===27&&od(r.type)&&(d=r.stateNode,o=null),r=r.child,r!==null))for(Dr(r,o,d),r=r.sibling;r!==null;)Dr(r,o,d),r=r.sibling}function lu(r,o,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?d.insertBefore(r,o):d.appendChild(r);else if(p!==4&&(p===27&&od(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(lu(r,o,d),r=r.sibling;r!==null;)lu(r,o,d),r=r.sibling}function qg(r){var o=r.stateNode,d=r.memoizedProps;try{for(var p=r.type,N=o.attributes;N.length;)o.removeAttributeNode(N[0]);oo(o,p,d),o[Vt]=r,o[Tt]=d}catch(U){Ir(r,r.return,U)}}var Bl=!1,Ma=!1,sd=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,pi=null;function e0(r,o){if(r=r.containerInfo,t1=b0,r=hl(r),fl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var N=p.anchorOffset,U=p.focusNode;p=p.focusOffset;try{d.nodeType,U.nodeType}catch{d=null;break e}var X=0,ge=-1,Ie=-1,Ze=0,mt=0,wt=r,nt=null;t:for(;;){for(var rt;wt!==d||N!==0&&wt.nodeType!==3||(ge=X+N),wt!==U||p!==0&&wt.nodeType!==3||(Ie=X+p),wt.nodeType===3&&(X+=wt.nodeValue.length),(rt=wt.firstChild)!==null;)nt=wt,wt=rt;for(;;){if(wt===r)break t;if(nt===d&&++Ze===N&&(ge=X),nt===U&&++mt===p&&(Ie=X),(rt=wt.nextSibling)!==null)break;wt=nt,nt=wt.parentNode}wt=rt}d=ge===-1||Ie===-1?null:{start:ge,end:Ie}}else d=null}d=d||{start:0,end:0}}else d=null;for(n1={focusedElem:r,selectionRange:d},b0=!1,pi=o;pi!==null;)if(o=pi,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,pi=r;else for(;pi!==null;){switch(o=pi,U=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(d=0;d<r.length;d++)N=r[d],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&U!==null){r=void 0,d=o,N=U.memoizedProps,U=U.memoizedState,p=d.stateNode;try{var Bn=wc(d.type,N);r=p.getSnapshotBeforeUpdate(Bn,U),p.__reactInternalSnapshotBeforeUpdate=r}catch(Xn){Ir(d,d.return,Xn)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,d=r.nodeType,d===9)a1(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":a1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,pi=r;break}pi=o.return}}function t0(r,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:jl(r,d),p&4&&ou(5,d);break;case 1:if(jl(r,d),p&4)if(r=d.stateNode,o===null)try{r.componentDidMount()}catch(X){Ir(d,d.return,X)}else{var N=wc(d.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(N,o,r.__reactInternalSnapshotBeforeUpdate)}catch(X){Ir(d,d.return,X)}}p&64&&yf(d),p&512&&qt(d,d.return);break;case 3:if(jl(r,d),p&64&&(r=d.updateQueue,r!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{ga(r,o)}catch(X){Ir(d,d.return,X)}}break;case 27:o===null&&p&4&&qg(d);case 26:case 5:jl(r,d),o===null&&p&4&&vh(d),p&512&&qt(d,d.return);break;case 12:jl(r,d);break;case 31:jl(r,d),p&4&&Wm(r,d);break;case 13:jl(r,d),p&4&&n0(r,d),p&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=s_.bind(null,d),B_(r,d))));break;case 22:if(p=d.memoizedState!==null||Bl,!p){o=o!==null&&o.memoizedState!==null||Ma,N=Bl;var U=Ma;Bl=p,(Ma=o)&&!U?GA(r,d,(d.subtreeFlags&8772)!==0):jl(r,d),Bl=N,Ma=U}break;case 30:break;default:jl(r,d)}}function $m(r){var o=r.alternate;o!==null&&(r.alternate=null,$m(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Us(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ea=null,ao=!1;function bA(r,o,d){for(d=d.child;d!==null;)xf(r,o,d),d=d.sibling}function xf(r,o,d){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(ke,d)}catch{}switch(d.tag){case 26:Ma||ro(d,o),bA(r,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ma||ro(d,o);var p=ea,N=ao;od(d.type)&&(ea=d.stateNode,ao=!1),bA(r,o,d),ep(d.stateNode),ea=p,ao=N;break;case 5:Ma||ro(d,o);case 6:if(p=ea,N=ao,ea=null,bA(r,o,d),ea=p,ao=N,ea!==null)if(ao)try{(ea.nodeType===9?ea.body:ea.nodeName==="HTML"?ea.ownerDocument.body:ea).removeChild(d.stateNode)}catch(U){Ir(d,o,U)}else try{ea.removeChild(d.stateNode)}catch(U){Ir(d,o,U)}break;case 18:ea!==null&&(ao?(r=ea,aB(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),Nf(r)):aB(ea,d.stateNode));break;case 4:p=ea,N=ao,ea=d.stateNode.containerInfo,ao=!0,bA(r,o,d),ea=p,ao=N;break;case 0:case 11:case 14:case 15:jc(2,d,o),Ma||jc(4,d,o),bA(r,o,d);break;case 1:Ma||(ro(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&Xg(d,o,p)),bA(r,o,d);break;case 21:bA(r,o,d);break;case 22:Ma=(p=Ma)||d.memoizedState!==null,bA(r,o,d),Ma=p;break;default:bA(r,o,d)}}function Wm(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Nf(r)}catch(d){Ir(o,o.return,d)}}}function n0(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Nf(r)}catch(d){Ir(o,o.return,d)}}function s0(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Zg),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Zg),o;default:throw Error(s(435,r.tag))}}function bf(r,o){var d=s0(r);o.forEach(function(p){if(!d.has(p)){d.add(p);var N=r_.bind(null,r,p);p.then(N,N)}})}function Uo(r,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var N=d[p],U=r,X=o,ge=X;e:for(;ge!==null;){switch(ge.tag){case 27:if(od(ge.type)){ea=ge.stateNode,ao=!1;break e}break;case 5:ea=ge.stateNode,ao=!1;break e;case 3:case 4:ea=ge.stateNode.containerInfo,ao=!0;break e}ge=ge.return}if(ea===null)throw Error(s(160));xf(U,X,N),ea=null,ao=!1,U=N.alternate,U!==null&&(U.return=null),N.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)yh(o,r),o=o.sibling}var zl=null;function yh(r,o){var d=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Uo(o,r),Kr(r),p&4&&(jc(3,r,r.return),ou(3,r),jc(5,r,r.return));break;case 1:Uo(o,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),p&64&&Bl&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var N=zl;if(Uo(o,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),p&4){var U=d!==null?d.memoizedState:null;if(p=r.memoizedState,d===null)if(p===null)if(r.stateNode===null){e:{p=r.type,d=r.memoizedProps,N=N.ownerDocument||N;t:switch(p){case"title":U=N.getElementsByTagName("title")[0],(!U||U[Tn]||U[Vt]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=N.createElement(p),N.head.insertBefore(U,N.querySelector("head > title"))),oo(U,p,d),U[Vt]=r,zs(U),p=U;break e;case"link":var X=pB("link","href",N).get(p+(d.href||""));if(X){for(var ge=0;ge<X.length;ge++)if(U=X[ge],U.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&U.getAttribute("rel")===(d.rel==null?null:d.rel)&&U.getAttribute("title")===(d.title==null?null:d.title)&&U.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){X.splice(ge,1);break t}}U=N.createElement(p),oo(U,p,d),N.head.appendChild(U);break;case"meta":if(X=pB("meta","content",N).get(p+(d.content||""))){for(ge=0;ge<X.length;ge++)if(U=X[ge],U.getAttribute("content")===(d.content==null?null:""+d.content)&&U.getAttribute("name")===(d.name==null?null:d.name)&&U.getAttribute("property")===(d.property==null?null:d.property)&&U.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&U.getAttribute("charset")===(d.charSet==null?null:d.charSet)){X.splice(ge,1);break t}}U=N.createElement(p),oo(U,p,d),N.head.appendChild(U);break;default:throw Error(s(468,p))}U[Vt]=r,zs(U),p=U}r.stateNode=p}else gB(N,r.type,r.stateNode);else r.stateNode=mB(N,p,r.memoizedProps);else U!==p?(U===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):U.count--,p===null?gB(N,r.type,r.stateNode):mB(N,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Fo(r,r.memoizedProps,d.memoizedProps)}break;case 27:Uo(o,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),d!==null&&p&4&&Fo(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Uo(o,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),r.flags&32){N=r.stateNode;try{Qs(N,"")}catch(Bn){Ir(r,r.return,Bn)}}p&4&&r.stateNode!=null&&(N=r.memoizedProps,Fo(r,N,d!==null?d.memoizedProps:N)),p&1024&&(sd=!0);break;case 6:if(Uo(o,r),Kr(r),p&4){if(r.stateNode===null)throw Error(s(162));p=r.memoizedProps,d=r.stateNode;try{d.nodeValue=p}catch(Bn){Ir(r,r.return,Bn)}}break;case 3:if(g0=null,N=zl,zl=m0(o.containerInfo),Uo(o,r),zl=N,Kr(r),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Nf(o.containerInfo)}catch(Bn){Ir(r,r.return,Bn)}sd&&(sd=!1,Ym(r));break;case 4:p=zl,zl=m0(r.stateNode.containerInfo),Uo(o,r),Kr(r),zl=p;break;case 12:Uo(o,r),Kr(r);break;case 31:Uo(o,r),Kr(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,bf(r,p)));break;case 13:Uo(o,r),Kr(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(We=Jt()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,bf(r,p)));break;case 22:N=r.memoizedState!==null;var Ie=d!==null&&d.memoizedState!==null,Ze=Bl,mt=Ma;if(Bl=Ze||N,Ma=mt||Ie,Uo(o,r),Ma=mt,Bl=Ze,Kr(r),p&8192)e:for(o=r.stateNode,o._visibility=N?o._visibility&-2:o._visibility|1,N&&(d===null||Ie||Bl||Ma||Au(r)),d=null,o=r;;){if(o.tag===5||o.tag===26){if(d===null){Ie=d=o;try{if(U=Ie.stateNode,N)X=U.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ge=Ie.stateNode;var wt=Ie.memoizedProps.style,nt=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;ge.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(Bn){Ir(Ie,Ie.return,Bn)}}}else if(o.tag===6){if(d===null){Ie=o;try{Ie.stateNode.nodeValue=N?"":Ie.memoizedProps}catch(Bn){Ir(Ie,Ie.return,Bn)}}}else if(o.tag===18){if(d===null){Ie=o;try{var rt=Ie.stateNode;N?iB(rt,!0):iB(Ie.stateNode,!1)}catch(Bn){Ir(Ie,Ie.return,Bn)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=r.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,bf(r,d))));break;case 19:Uo(o,r),Kr(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,bf(r,p)));break;case 30:break;case 21:break;default:Uo(o,r),Kr(r)}}function Kr(r){var o=r.flags;if(o&2){try{for(var d,p=r.return;p!==null;){if(Jg(p)){d=p;break}p=p.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var N=d.stateNode,U=qs(r);lu(r,U,N);break;case 5:var X=d.stateNode;d.flags&32&&(Qs(X,""),d.flags&=-33);var ge=qs(r);lu(r,ge,X);break;case 3:case 4:var Ie=d.stateNode.containerInfo,Ze=qs(r);Dr(r,Ze,Ie);break;default:throw Error(s(161))}}catch(mt){Ir(r,r.return,mt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Ym(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Ym(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function jl(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)t0(r,o.alternate,o),o=o.sibling}function Au(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:jc(4,o,o.return),Au(o);break;case 1:ro(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&Xg(o,o.return,d),Au(o);break;case 27:ep(o.stateNode);case 26:case 5:ro(o,o.return),Au(o);break;case 22:o.memoizedState===null&&Au(o);break;case 30:Au(o);break;default:Au(o)}r=r.sibling}}function GA(r,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,N=r,U=o,X=U.flags;switch(U.tag){case 0:case 11:case 15:GA(N,U,d),ou(4,U);break;case 1:if(GA(N,U,d),p=U,N=p.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Ze){Ir(p,p.return,Ze)}if(p=U,N=p.updateQueue,N!==null){var ge=p.stateNode;try{var Ie=N.shared.hiddenCallbacks;if(Ie!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Ie.length;N++)hi(Ie[N],ge)}catch(Ze){Ir(p,p.return,Ze)}}d&&X&64&&yf(U),qt(U,U.return);break;case 27:qg(U);case 26:case 5:GA(N,U,d),d&&p===null&&X&4&&vh(U),qt(U,U.return);break;case 12:GA(N,U,d);break;case 31:GA(N,U,d),d&&X&4&&Wm(N,U);break;case 13:GA(N,U,d),d&&X&4&&n0(N,U);break;case 22:U.memoizedState===null&&GA(N,U,d),qt(U,U.return);break;case 30:break;default:GA(N,U,d)}o=o.sibling}}function xh(r,o){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&eu(d))}function Cc(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&eu(r))}function Ro(r,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)r0(r,o,d,p),o=o.sibling}function r0(r,o,d,p){var N=o.flags;switch(o.tag){case 0:case 11:case 15:Ro(r,o,d,p),N&2048&&ou(9,o);break;case 1:Ro(r,o,d,p);break;case 3:Ro(r,o,d,p),N&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&eu(r)));break;case 12:if(N&2048){Ro(r,o,d,p),r=o.stateNode;try{var U=o.memoizedProps,X=U.id,ge=U.onPostCommit;typeof ge=="function"&&ge(X,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Ie){Ir(o,o.return,Ie)}}else Ro(r,o,d,p);break;case 31:Ro(r,o,d,p);break;case 13:Ro(r,o,d,p);break;case 23:break;case 22:U=o.stateNode,X=o.alternate,o.memoizedState!==null?U._visibility&2?Ro(r,o,d,p):bh(r,o):U._visibility&2?Ro(r,o,d,p):(U._visibility|=2,Gl(r,o,d,p,(o.subtreeFlags&10256)!==0||!1)),N&2048&&xh(X,o);break;case 24:Ro(r,o,d,p),N&2048&&Cc(o.alternate,o);break;default:Ro(r,o,d,p)}}function Gl(r,o,d,p,N){for(N=N&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var U=r,X=o,ge=d,Ie=p,Ze=X.flags;switch(X.tag){case 0:case 11:case 15:Gl(U,X,ge,Ie,N),ou(8,X);break;case 23:break;case 22:var mt=X.stateNode;X.memoizedState!==null?mt._visibility&2?Gl(U,X,ge,Ie,N):bh(U,X):(mt._visibility|=2,Gl(U,X,ge,Ie,N)),N&&Ze&2048&&xh(X.alternate,X);break;case 24:Gl(U,X,ge,Ie,N),N&&Ze&2048&&Cc(X.alternate,X);break;default:Gl(U,X,ge,Ie,N)}o=o.sibling}}function bh(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=r,p=o,N=p.flags;switch(p.tag){case 22:bh(d,p),N&2048&&xh(p.alternate,p);break;case 24:bh(d,p),N&2048&&Cc(p.alternate,p);break;default:bh(d,p)}o=o.sibling}}var wh=8192;function cu(r,o,d){if(r.subtreeFlags&wh)for(r=r.child;r!==null;)a0(r,o,d),r=r.sibling}function a0(r,o,d){switch(r.tag){case 26:cu(r,o,d),r.flags&wh&&r.memoizedState!==null&&D_(d,zl,r.memoizedState,r.memoizedProps);break;case 5:cu(r,o,d);break;case 3:case 4:var p=zl;zl=m0(r.stateNode.containerInfo),cu(r,o,d),zl=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=wh,wh=16777216,cu(r,o,d),wh=p):cu(r,o,d));break;default:cu(r,o,d)}}function Xm(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Bh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];pi=p,o0(p,r)}Xm(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i0(r),r=r.sibling}function i0(r){switch(r.tag){case 0:case 11:case 15:Bh(r),r.flags&2048&&jc(9,r,r.return);break;case 3:Bh(r);break;case 12:Bh(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,wf(r)):Bh(r);break;default:Bh(r)}}function wf(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];pi=p,o0(p,r)}Xm(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:jc(8,o,o.return),wf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,wf(o));break;default:wf(o)}r=r.sibling}}function o0(r,o){for(;pi!==null;){var d=pi;switch(d.tag){case 0:case 11:case 15:jc(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:eu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,pi=p;else e:for(d=r;pi!==null;){p=pi;var N=p.sibling,U=p.return;if($m(p),p===d){pi=null;break e}if(N!==null){N.return=U,pi=N;break e}pi=U}}}var Vy={getCacheForType:function(r){var o=Ja(aa),d=o.data.get(r);return d===void 0&&(d=r(),o.data.set(r,d)),d},cacheSignal:function(){return Ja(aa).controller.signal}},Ky=typeof WeakMap=="function"?WeakMap:Map,ar=0,Nr=null,Cs=null,_s=0,mr=0,al=null,Ec=!1,rd=!1,w=!1,y=0,C=0,j=0,K=0,J=0,Ae=0,we=0,Be=null,Ue=null,Pe=!1,We=0,At=0,nn=1/0,Mt=null,Wt=null,Sn=0,dn=null,cn=null,gs=0,ds=0,Yn=null,on=null,ws=0,Fs=null;function _n(){return(ar&2)!==0&&_s!==0?_s&-_s:ae.T!==null?Wy():_t()}function Ta(){if(Ae===0)if((_s&536870912)===0||js){var r=xn;xn<<=1,(xn&3932160)===0&&(xn=262144),Ae=r}else Ae=536870912;return r=Mr.current,r!==null&&(r.flags|=32),Ae}function Tr(r,o,d){(r===Nr&&(mr===2||mr===9)||r.cancelPendingCommit!==null)&&(Cl(r,0),io(r,_s,Ae,!1)),ln(r,d),((ar&2)===0||r!==Nr)&&(r===Nr&&((ar&2)===0&&(K|=d),C===4&&io(r,_s,Ae,!1)),Tc(r))}function Do(r,o,d){if((ar&6)!==0)throw Error(s(327));var p=!d&&(o&127)===0&&(o&r.expiredLanes)===0||Xt(r,o),N=p?ad(r,o):WA(r,o,!0),U=p;do{if(N===0){rd&&!p&&io(r,o,0,!1);break}else{if(d=r.current.alternate,U&&!Fi(d)){N=WA(r,o,!1),U=!1;continue}if(N===2){if(U=o,r.errorRecoveryDisabledLanes&U)var X=0;else X=r.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){o=X;e:{var ge=r;N=Be;var Ie=ge.current.memoizedState.isDehydrated;if(Ie&&(Cl(ge,X).flags|=256),X=WA(ge,X,!1),X!==2){if(w&&!Ie){ge.errorRecoveryDisabledLanes|=U,K|=U,N=4;break e}U=Ue,Ue=N,U!==null&&(Ue===null?Ue=U:Ue.push.apply(Ue,U))}N=X}if(U=!1,N!==2)continue}}if(N===1){Cl(r,0),io(r,o,0,!0);break}e:{switch(p=r,U=N,U){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:io(p,o,Ae,!Ec);break e;case 2:Ue=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(N=We+300-Jt(),10<N)){if(io(p,o,Ae,!Ec),Dt(p,0,!0)!==0)break e;gs=o,p.timeoutHandle=sB(pr.bind(null,p,d,Ue,Mt,Pe,o,Ae,K,we,Ec,U,"Throttled",-0,0),N);break e}pr(p,d,Ue,Mt,Pe,o,Ae,K,we,Ec,U,null,-0,0)}}break}while(!0);Tc(r)}function pr(r,o,d,p,N,U,X,ge,Ie,Ze,mt,wt,nt,rt){if(r.timeoutHandle=-1,wt=o.subtreeFlags,wt&8192||(wt&16785408)===16785408){wt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},a0(o,U,wt);var Bn=(U&62914560)===U?We-Jt():(U&4194048)===U?At-Jt():0;if(Bn=L_(wt,Bn),Bn!==null){gs=U,r.cancelPendingCommit=Bn(D2.bind(null,r,o,U,d,p,N,X,ge,Ie,mt,wt,null,nt,rt)),io(r,U,X,!Ze);return}}D2(r,o,U,d,p,N,X,ge,Ie)}function Fi(r){for(var o=r;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var N=d[p],U=N.getSnapshot;N=N.value;try{if(!Ns(U(),N))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function io(r,o,d,p){o&=~J,o&=~K,r.suspendedLanes|=o,r.pingedLanes&=~o,p&&(r.warmLanes|=o),p=r.expirationTimes;for(var N=o;0<N;){var U=31-at(N),X=1<<U;p[U]=-1,N&=~X}d!==0&&Fa(r,d,o)}function Ui(){return(ar&6)===0?(Jm(0),!1):!0}function zi(){if(Cs!==null){if(mr===0)var r=Cs.return;else r=Cs,vl=hA=null,nu(r),bt=null,wn=0,r=Cs;for(;r!==null;)Yg(r.alternate,r),r=r.return;Cs=null}}function Cl(r,o){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,v_(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),gs=0,zi(),Nr=r,Cs=d=jo(r.current,null),_s=o,mr=0,al=null,Ec=!1,rd=Xt(r,o),w=!1,we=Ae=J=K=j=C=0,Ue=Be=null,Pe=!1,(o&8)!==0&&(o|=o&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=o;0<p;){var N=31-at(p),U=1<<N;o|=r[N],p&=~U}return y=o,Yc(),d}function $l(r,o){Un=null,ae.H=Ah,o===De||o===Ce?(o=pt(),mr=3):o===Xe?(o=pt(),mr=4):mr=o===Lm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,al=o,Cs===null&&(C=1,dh(r,Co(o,r.current)))}function $A(){var r=Mr.current;return r===null?!0:(_s&4194048)===_s?Is===null:(_s&62914560)===_s||(_s&536870912)!==0?r===Is:!1}function Sc(){var r=ae.H;return ae.H=Ah,r===null?Ah:r}function Nc(){var r=ae.A;return ae.A=Vy,r}function El(){C=4,Ec||(_s&4194048)!==_s&&Mr.current!==null||(rd=!0),(j&134217727)===0&&(K&134217727)===0||Nr===null||io(Nr,_s,Ae,!1)}function WA(r,o,d){var p=ar;ar|=2;var N=Sc(),U=Nc();(Nr!==r||_s!==o)&&(Mt=null,Cl(r,o)),o=!1;var X=C;e:do try{if(mr!==0&&Cs!==null){var ge=Cs,Ie=al;switch(mr){case 8:zi(),X=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(o=!0);var Ze=mr;if(mr=0,al=null,Bf(r,ge,Ie,Ze),d&&rd){X=0;break e}break;default:Ze=mr,mr=0,al=null,Bf(r,ge,Ie,Ze)}}YA(),X=C;break}catch(mt){$l(r,mt)}while(!0);return o&&r.shellSuspendCounter++,vl=hA=null,ar=p,ae.H=N,ae.A=U,Cs===null&&(Nr=null,_s=0,Yc()),X}function YA(){for(;Cs!==null;)F2(Cs)}function ad(r,o){var d=ar;ar|=2;var p=Sc(),N=Nc();Nr!==r||_s!==o?(Mt=null,nn=Jt()+500,Cl(r,o)):rd=Xt(r,o);e:do try{if(mr!==0&&Cs!==null){o=Cs;var U=al;t:switch(mr){case 1:mr=0,al=null,Bf(r,o,U,1);break;case 2:case 9:if(Oe(U)){mr=0,al=null,U2(o);break}o=function(){mr!==2&&mr!==9||Nr!==r||(mr=7),Tc(r)},U.then(o,o);break e;case 3:mr=7;break e;case 4:mr=5;break e;case 7:Oe(U)?(mr=0,al=null,U2(o)):(mr=0,al=null,Bf(r,o,U,7));break;case 5:var X=null;switch(Cs.tag){case 26:X=Cs.memoizedState;case 5:case 27:var ge=Cs;if(X?vB(X):ge.stateNode.complete){mr=0,al=null;var Ie=ge.sibling;if(Ie!==null)Cs=Ie;else{var Ze=ge.return;Ze!==null?(Cs=Ze,l0(Ze)):Cs=null}break t}}mr=0,al=null,Bf(r,o,U,5);break;case 6:mr=0,al=null,Bf(r,o,U,6);break;case 8:zi(),C=6;break e;default:throw Error(s(462))}}jh();break}catch(mt){$l(r,mt)}while(!0);return vl=hA=null,ae.H=p,ae.A=N,ar=d,Cs!==null?0:(Nr=null,_s=0,Yc(),C)}function jh(){for(;Cs!==null&&!Yt();)F2(Cs)}function F2(r){var o=vf(r.alternate,r,y);r.memoizedProps=r.pendingProps,o===null?l0(r):Cs=o}function U2(r){var o=r,d=o.alternate;switch(o.tag){case 15:case 0:o=nd(d,o,o.pendingProps,o.type,void 0,_s);break;case 11:o=nd(d,o,o.pendingProps,o.type.render,o.ref,_s);break;case 5:nu(o);default:Yg(d,o),o=Cs=Jc(o,y),o=vf(d,o,y)}r.memoizedProps=r.pendingProps,o===null?l0(r):Cs=o}function Bf(r,o,d,p){vl=hA=null,nu(o),bt=null,wn=0;var N=o.return;try{if(My(r,N,o,d,_s)){C=1,dh(r,Co(d,r.current)),Cs=null;return}}catch(U){if(N!==null)throw Cs=N,U;C=1,dh(r,Co(d,r.current)),Cs=null;return}o.flags&32768?(js||p===1?r=!0:rd||(_s&536870912)!==0?r=!1:(Ec=r=!0,(p===2||p===9||p===3||p===6)&&(p=Mr.current,p!==null&&p.tag===13&&(p.flags|=16384))),R2(o,r)):l0(o)}function l0(r){var o=r;do{if((o.flags&32768)!==0){R2(o,Ec);return}r=o.return;var d=ky(o.alternate,o,y);if(d!==null){Cs=d;return}if(o=o.sibling,o!==null){Cs=o;return}Cs=o=r}while(o!==null);C===0&&(C=5)}function R2(r,o){do{var d=Hy(r.alternate,r);if(d!==null){d.flags&=32767,Cs=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(r=r.sibling,r!==null)){Cs=r;return}Cs=r=d}while(r!==null);C=6,Cs=null}function D2(r,o,d,p,N,U,X,ge,Ie){r.cancelPendingCommit=null;do A0();while(Sn!==0);if((ar&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(U=o.lanes|o.childLanes,U|=Ru,si(r,d,U,X,ge,Ie),r===Nr&&(Cs=Nr=null,_s=0),cn=o,dn=r,gs=d,ds=U,Yn=N,on=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,a_(xt,function(){return M2(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=ae.T,ae.T=null,N=ne.p,ne.p=2,X=ar,ar|=4;try{e0(r,o,d)}finally{ar=X,ne.p=N,ae.T=p}}Sn=1,L2(),Q2(),O2()}}function L2(){if(Sn===1){Sn=0;var r=dn,o=cn,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=ae.T,ae.T=null;var p=ne.p;ne.p=2;var N=ar;ar|=4;try{yh(o,r);var U=n1,X=hl(r.containerInfo),ge=U.focusedElem,Ie=U.selectionRange;if(X!==ge&&ge&&ge.ownerDocument&&el(ge.ownerDocument.documentElement,ge)){if(Ie!==null&&fl(ge)){var Ze=Ie.start,mt=Ie.end;if(mt===void 0&&(mt=Ze),"selectionStart"in ge)ge.selectionStart=Ze,ge.selectionEnd=Math.min(mt,ge.value.length);else{var wt=ge.ownerDocument||document,nt=wt&&wt.defaultView||window;if(nt.getSelection){var rt=nt.getSelection(),Bn=ge.textContent.length,Xn=Math.min(Ie.start,Bn),Qr=Ie.end===void 0?Xn:Math.min(Ie.end,Bn);!rt.extend&&Xn>Qr&&(X=Qr,Qr=Xn,Xn=X);var Ke=LA(ge,Xn),Le=LA(ge,Qr);if(Ke&&Le&&(rt.rangeCount!==1||rt.anchorNode!==Ke.node||rt.anchorOffset!==Ke.offset||rt.focusNode!==Le.node||rt.focusOffset!==Le.offset)){var qe=wt.createRange();qe.setStart(Ke.node,Ke.offset),rt.removeAllRanges(),Xn>Qr?(rt.addRange(qe),rt.extend(Le.node,Le.offset)):(qe.setEnd(Le.node,Le.offset),rt.addRange(qe))}}}}for(wt=[],rt=ge;rt=rt.parentNode;)rt.nodeType===1&&wt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<wt.length;ge++){var yt=wt[ge];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}b0=!!t1,n1=t1=null}finally{ar=N,ne.p=p,ae.T=d}}r.current=o,Sn=2}}function Q2(){if(Sn===2){Sn=0;var r=dn,o=cn,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=ae.T,ae.T=null;var p=ne.p;ne.p=2;var N=ar;ar|=4;try{t0(r,o.alternate,o)}finally{ar=N,ne.p=p,ae.T=d}}Sn=3}}function O2(){if(Sn===4||Sn===3){Sn=0,zt();var r=dn,o=cn,d=gs,p=on;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Sn=5:(Sn=0,cn=dn=null,P2(r,r.pendingLanes));var N=r.pendingLanes;if(N===0&&(Wt=null),Re(d),o=o.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(ke,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=ae.T,N=ne.p,ne.p=2,ae.T=null;try{for(var U=r.onRecoverableError,X=0;X<p.length;X++){var ge=p[X];U(ge.value,{componentStack:ge.stack})}}finally{ae.T=o,ne.p=N}}(gs&3)!==0&&A0(),Tc(r),N=r.pendingLanes,(d&261930)!==0&&(N&42)!==0?r===Fs?ws++:(ws=0,Fs=r):ws=0,Jm(0)}}function P2(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,eu(o)))}function A0(){return L2(),Q2(),O2(),M2()}function M2(){if(Sn!==5)return!1;var r=dn,o=ds;ds=0;var d=Re(gs),p=ae.T,N=ne.p;try{ne.p=32>d?32:d,ae.T=null,d=Yn,Yn=null;var U=dn,X=gs;if(Sn=0,cn=dn=null,gs=0,(ar&6)!==0)throw Error(s(331));var ge=ar;if(ar|=4,i0(U.current),r0(U,U.current,X,d),ar=ge,Jm(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(ke,U)}catch{}return!0}finally{ne.p=N,ae.T=p,P2(r,o)}}function k2(r,o,d){o=Co(d,o),o=Um(r.stateNode,o,2),r=Gn(r,o,2),r!==null&&(ln(r,2),Tc(r))}function Ir(r,o,d){if(r.tag===3)k2(r,r,d);else for(;o!==null;){if(o.tag===3){k2(o,r,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Wt===null||!Wt.has(p))){r=Co(d,r),d=Rm(2),p=Gn(o,d,2),p!==null&&(Dm(d,p,o,r),ln(p,2),Tc(p));break}}o=o.return}}function zy(r,o,d){var p=r.pingCache;if(p===null){p=r.pingCache=new Ky;var N=new Set;p.set(o,N)}else N=p.get(o),N===void 0&&(N=new Set,p.set(o,N));N.has(d)||(w=!0,N.add(d),r=n_.bind(null,r,o,d),o.then(r,r))}function n_(r,o,d){var p=r.pingCache;p!==null&&p.delete(o),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,Nr===r&&(_s&d)===d&&(C===4||C===3&&(_s&62914560)===_s&&300>Jt()-We?(ar&2)===0&&Cl(r,0):J|=d,we===_s&&(we=0)),Tc(r)}function H2(r,o){o===0&&(o=cs()),r=pl(r,o),r!==null&&(ln(r,o),Tc(r))}function s_(r){var o=r.memoizedState,d=0;o!==null&&(d=o.retryLane),H2(r,d)}function r_(r,o){var d=0;switch(r.tag){case 31:case 13:var p=r.stateNode,N=r.memoizedState;N!==null&&(d=N.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(o),H2(r,d)}function a_(r,o){return Qt(r,o)}var c0=null,jf=null,Gy=!1,u0=!1,$y=!1,id=0;function Tc(r){r!==jf&&r.next===null&&(jf===null?c0=jf=r:jf=jf.next=r),u0=!0,Gy||(Gy=!0,o_())}function Jm(r,o){if(!$y&&u0){$y=!0;do for(var d=!1,p=c0;p!==null;){if(r!==0){var N=p.pendingLanes;if(N===0)var U=0;else{var X=p.suspendedLanes,ge=p.pingedLanes;U=(1<<31-at(42|r)+1)-1,U&=N&~(X&~ge),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(d=!0,G2(p,U))}else U=_s,U=Dt(p,p===Nr?U:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(U&3)===0||Xt(p,U)||(d=!0,G2(p,U));p=p.next}while(d);$y=!1}}function i_(){V2()}function V2(){u0=Gy=!1;var r=0;id!==0&&g_()&&(r=id);for(var o=Jt(),d=null,p=c0;p!==null;){var N=p.next,U=K2(p,o);U===0?(p.next=null,d===null?c0=N:d.next=N,N===null&&(jf=d)):(d=p,(r!==0||(U&3)!==0)&&(u0=!0)),p=N}Sn!==0&&Sn!==5||Jm(r),id!==0&&(id=0)}function K2(r,o){for(var d=r.suspendedLanes,p=r.pingedLanes,N=r.expirationTimes,U=r.pendingLanes&-62914561;0<U;){var X=31-at(U),ge=1<<X,Ie=N[X];Ie===-1?((ge&d)===0||(ge&p)!==0)&&(N[X]=rn(ge,o)):Ie<=o&&(r.expiredLanes|=ge),U&=~ge}if(o=Nr,d=_s,d=Dt(r,r===o?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,d===0||r===o&&(mr===2||mr===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&Ut(p),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||Xt(r,d)){if(o=d&-d,o===r.callbackPriority)return o;switch(p!==null&&Ut(p),Re(d)){case 2:case 8:d=Dn;break;case 32:d=xt;break;case 268435456:d=Gt;break;default:d=xt}return p=z2.bind(null,r),d=Qt(d,p),r.callbackPriority=o,r.callbackNode=d,o}return p!==null&&p!==null&&Ut(p),r.callbackPriority=2,r.callbackNode=null,2}function z2(r,o){if(Sn!==0&&Sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(A0()&&r.callbackNode!==d)return null;var p=_s;return p=Dt(r,r===Nr?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(Do(r,p,o),K2(r,Jt()),r.callbackNode!=null&&r.callbackNode===d?z2.bind(null,r):null)}function G2(r,o){if(A0())return null;Do(r,o,!0)}function o_(){y_(function(){(ar&6)!==0?Qt(tn,i_):V2()})}function Wy(){if(id===0){var r=x;r===0&&(r=Ht,Ht<<=1,(Ht&261888)===0&&(Ht=256)),id=r}return id}function $2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Yr(""+r)}function W2(r,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,r.id&&d.setAttribute("form",r.id),o.parentNode.insertBefore(d,o),r=new FormData(r),d.parentNode.removeChild(d),r}function l_(r,o,d,p,N){if(o==="submit"&&d&&d.stateNode===N){var U=$2((N[Tt]||null).action),X=p.submitter;X&&(o=(o=X[Tt]||null)?$2(o.formAction):X.getAttribute("formAction"),o!==null&&(U=o,X=null));var ge=new Da("action","action",null,p,N);r.push({event:ge,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(id!==0){var Ie=X?W2(N,X):new FormData(N);uf(d,{pending:!0,data:Ie,method:N.method,action:U},null,Ie)}}else typeof U=="function"&&(ge.preventDefault(),Ie=X?W2(N,X):new FormData(N),uf(d,{pending:!0,data:Ie,method:N.method,action:U},U,Ie))},currentTarget:N}]})}}for(var Yy=0;Yy<lA.length;Yy++){var Xy=lA[Yy],A_=Xy.toLowerCase(),c_=Xy[0].toUpperCase()+Xy.slice(1);eo(A_,"on"+c_)}eo(QA,"onAnimationEnd"),eo(oA,"onAnimationIteration"),eo(Wd,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Yd,"onTransitionRun"),eo(Xd,"onTransitionStart"),eo(Jd,"onTransitionCancel"),eo(Fu,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qm));function Y2(r,o){o=(o&4)!==0;for(var d=0;d<r.length;d++){var p=r[d],N=p.event;p=p.listeners;e:{var U=void 0;if(o)for(var X=p.length-1;0<=X;X--){var ge=p[X],Ie=ge.instance,Ze=ge.currentTarget;if(ge=ge.listener,Ie!==U&&N.isPropagationStopped())break e;U=ge,N.currentTarget=Ze;try{U(N)}catch(mt){Ac(mt)}N.currentTarget=null,U=Ie}else for(X=0;X<p.length;X++){if(ge=p[X],Ie=ge.instance,Ze=ge.currentTarget,ge=ge.listener,Ie!==U&&N.isPropagationStopped())break e;U=ge,N.currentTarget=Ze;try{U(N)}catch(mt){Ac(mt)}N.currentTarget=null,U=Ie}}}}function Ls(r,o){var d=o[En];d===void 0&&(d=o[En]=new Set);var p=r+"__bubble";d.has(p)||(X2(o,r,2,!1),d.add(p))}function Jy(r,o,d){var p=0;o&&(p|=4),X2(d,r,p,o)}var d0="_reactListening"+Math.random().toString(36).slice(2);function qy(r){if(!r[d0]){r[d0]=!0,Ka.forEach(function(d){d!=="selectionchange"&&(u_.has(d)||Jy(d,!1,r),Jy(d,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[d0]||(o[d0]=!0,Jy("selectionchange",!1,o))}}function X2(r,o,d,p){switch(CB(o)){case 2:var N=P_;break;case 8:N=M_;break;default:N=h1}d=N.bind(null,o,d,r),N=void 0,!Ra||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(N=!0),p?N!==void 0?r.addEventListener(o,d,{capture:!0,passive:N}):r.addEventListener(o,d,!0):N!==void 0?r.addEventListener(o,d,{passive:N}):r.addEventListener(o,d,!1)}function Zy(r,o,d,p,N){var U=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var X=p.tag;if(X===3||X===4){var ge=p.stateNode.containerInfo;if(ge===N)break;if(X===4)for(X=p.return;X!==null;){var Ie=X.tag;if((Ie===3||Ie===4)&&X.stateNode.containerInfo===N)return;X=X.return}for(;ge!==null;){if(X=Es(ge),X===null)return;if(Ie=X.tag,Ie===5||Ie===6||Ie===26||Ie===27){p=U=X;continue e}ge=ge.parentNode}}p=p.return}Al(function(){var Ze=U,mt=ai(d),wt=[];e:{var nt=Uu.get(r);if(nt!==void 0){var rt=Da,Bn=r;switch(r){case"keypress":if(ji(d)===0)break e;case"keydown":case"keyup":rt=xs;break;case"focusin":Bn="focus",rt=qi;break;case"focusout":Bn="blur",rt=qi;break;case"beforeblur":case"afterblur":rt=qi;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=aA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Ci;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=W;break;case QA:case oA:case Wd:rt=P;break;case Fu:rt=ye;break;case"scroll":case"scrollend":rt=ul;break;case"wheel":rt=et;break;case"copy":case"cut":case"paste":rt=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=or;break;case"toggle":case"beforetoggle":rt=Jn}var Xn=(o&4)!==0,Qr=!Xn&&(r==="scroll"||r==="scrollend"),Ke=Xn?nt!==null?nt+"Capture":null:nt;Xn=[];for(var Le=Ze,qe;Le!==null;){var yt=Le;if(qe=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||qe===null||Ke===null||(yt=Ca(Le,Ke),yt!=null&&Xn.push(Zm(Le,yt,qe))),Qr)break;Le=Le.return}0<Xn.length&&(nt=new rt(nt,Bn,null,d,mt),wt.push({event:nt,listeners:Xn}))}}if((o&7)===0){e:{if(nt=r==="mouseover"||r==="pointerover",rt=r==="mouseout"||r==="pointerout",nt&&d!==Xo&&(Bn=d.relatedTarget||d.fromElement)&&(Es(Bn)||Bn[gn]))break e;if((rt||nt)&&(nt=mt.window===mt?mt:(nt=mt.ownerDocument)?nt.defaultView||nt.parentWindow:window,rt?(Bn=d.relatedTarget||d.toElement,rt=Ze,Bn=Bn?Es(Bn):null,Bn!==null&&(Qr=i(Bn),Xn=Bn.tag,Bn!==Qr||Xn!==5&&Xn!==27&&Xn!==6)&&(Bn=null)):(rt=null,Bn=Ze),rt!==Bn)){if(Xn=aA,yt="onMouseLeave",Ke="onMouseEnter",Le="mouse",(r==="pointerout"||r==="pointerover")&&(Xn=or,yt="onPointerLeave",Ke="onPointerEnter",Le="pointer"),Qr=rt==null?nt:tr(rt),qe=Bn==null?nt:tr(Bn),nt=new Xn(yt,Le+"leave",rt,d,mt),nt.target=Qr,nt.relatedTarget=qe,yt=null,Es(mt)===Ze&&(Xn=new Xn(Ke,Le+"enter",Bn,d,mt),Xn.target=qe,Xn.relatedTarget=Qr,yt=Xn),Qr=yt,rt&&Bn)t:{for(Xn=d_,Ke=rt,Le=Bn,qe=0,yt=Ke;yt;yt=Xn(yt))qe++;yt=0;for(var Kn=Le;Kn;Kn=Xn(Kn))yt++;for(;0<qe-yt;)Ke=Xn(Ke),qe--;for(;0<yt-qe;)Le=Xn(Le),yt--;for(;qe--;){if(Ke===Le||Le!==null&&Ke===Le.alternate){Xn=Ke;break t}Ke=Xn(Ke),Le=Xn(Le)}Xn=null}else Xn=null;rt!==null&&J2(wt,nt,rt,Xn,!1),Bn!==null&&Qr!==null&&J2(wt,Qr,Bn,Xn,!0)}}e:{if(nt=Ze?tr(Ze):window,rt=nt.nodeName&&nt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&nt.type==="file")var lr=Bo;else if(bo(nt))if(ps)lr=Ga;else{lr=Jr;var Nn=RA}else rt=nt.nodeName,!rt||rt.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?Ze&&sA(Ze.elementType)&&(lr=Bo):lr=Si;if(lr&&(lr=lr(r,Ze))){Ps(wt,lr,d,mt);break e}Nn&&Nn(r,nt,Ze),r==="focusout"&&Ze&&nt.type==="number"&&Ze.memoizedProps.value!=null&&Wi(nt,"number",nt.value)}switch(Nn=Ze?tr(Ze):window,r){case"focusin":(bo(Nn)||Nn.contentEditable==="true")&&(ra=Nn,Ql=Ze,ci=null);break;case"focusout":ci=Ql=ra=null;break;case"mousedown":Ni=!0;break;case"contextmenu":case"mouseup":case"dragend":Ni=!1,Ms(wt,d,mt);break;case"selectionchange":if(tl)break;case"keydown":case"keyup":Ms(wt,d,mt)}var vs;if(us)e:{switch(r){case"compositionstart":var Hs="onCompositionStart";break e;case"compositionend":Hs="onCompositionEnd";break e;case"compositionupdate":Hs="onCompositionUpdate";break e}Hs=void 0}else Jo?Zi(r,d)&&(Hs="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Hs="onCompositionStart");Hs&&(sa&&d.locale!=="ko"&&(Jo||Hs!=="onCompositionStart"?Hs==="onCompositionEnd"&&Jo&&(vs=FA()):(ii=mt,cl="value"in ii?ii.value:ii.textContent,Jo=!0)),Nn=h0(Ze,Hs),0<Nn.length&&(Hs=new Me(Hs,r,null,d,mt),wt.push({event:Hs,listeners:Nn}),vs?Hs.data=vs:(vs=xo(d),vs!==null&&(Hs.data=vs)))),(vs=Ea?fa(r,d):Qa(r,d))&&(Hs=h0(Ze,"onBeforeInput"),0<Hs.length&&(Nn=new Me("onBeforeInput","beforeinput",null,d,mt),wt.push({event:Nn,listeners:Hs}),Nn.data=vs)),l_(wt,r,Ze,d,mt)}Y2(wt,o)})}function Zm(r,o,d){return{instance:r,listener:o,currentTarget:d}}function h0(r,o){for(var d=o+"Capture",p=[];r!==null;){var N=r,U=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||U===null||(N=Ca(r,d),N!=null&&p.unshift(Zm(r,N,U)),N=Ca(r,o),N!=null&&p.push(Zm(r,N,U))),r.tag===3)return p;r=r.return}return[]}function d_(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function J2(r,o,d,p,N){for(var U=o._reactName,X=[];d!==null&&d!==p;){var ge=d,Ie=ge.alternate,Ze=ge.stateNode;if(ge=ge.tag,Ie!==null&&Ie===p)break;ge!==5&&ge!==26&&ge!==27||Ze===null||(Ie=Ze,N?(Ze=Ca(d,U),Ze!=null&&X.unshift(Zm(d,Ze,Ie))):N||(Ze=Ca(d,U),Ze!=null&&X.push(Zm(d,Ze,Ie)))),d=d.return}X.length!==0&&r.push({event:o,listeners:X})}var h_=/\r\n?/g,f_=/\u0000|\uFFFD/g;function q2(r){return(typeof r=="string"?r:""+r).replace(h_,`
`).replace(f_,"")}function Z2(r,o){return o=q2(o),q2(r)===o}function Lr(r,o,d,p,N,U){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Qs(r,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Qs(r,""+p);break;case"className":na(r,"class",p);break;case"tabIndex":na(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":na(r,d,p);break;case"style":Yo(r,p,U);break;case"data":if(o!=="object"){na(r,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){r.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=Yr(""+p),r.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(d==="formAction"?(o!=="input"&&Lr(r,o,"name",N.name,N,null),Lr(r,o,"formEncType",N.formEncType,N,null),Lr(r,o,"formMethod",N.formMethod,N,null),Lr(r,o,"formTarget",N.formTarget,N,null)):(Lr(r,o,"encType",N.encType,N,null),Lr(r,o,"method",N.method,N,null),Lr(r,o,"target",N.target,N,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=Yr(""+p),r.setAttribute(d,p);break;case"onClick":p!=null&&(r.onclick=Xi);break;case"onScroll":p!=null&&Ls("scroll",r);break;case"onScrollEnd":p!=null&&Ls("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(N.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}d=Yr(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""+p):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":p===!0?r.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,p):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(d,p):r.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(d):r.setAttribute(d,p);break;case"popover":Ls("beforetoggle",r),Ls("toggle",r),Br(r,"popover",p);break;case"xlinkActuate":vr(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vr(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vr(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vr(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vr(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vr(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vr(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Br(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Ul.get(d)||d,Br(r,d,p))}}function e1(r,o,d,p,N,U){switch(d){case"style":Yo(r,p,U);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(N.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"children":typeof p=="string"?Qs(r,p):(typeof p=="number"||typeof p=="bigint")&&Qs(r,""+p);break;case"onScroll":p!=null&&Ls("scroll",r);break;case"onScrollEnd":p!=null&&Ls("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(N=d.endsWith("Capture"),o=d.slice(2,N?d.length-7:void 0),U=r[Tt]||null,U=U!=null?U[d]:null,typeof U=="function"&&r.removeEventListener(o,U,N),typeof p=="function")){typeof U!="function"&&U!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(o,p,N);break e}d in r?r[d]=p:p===!0?r.setAttribute(d,""):Br(r,d,p)}}}function oo(r,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ls("error",r),Ls("load",r);var p=!1,N=!1,U;for(U in d)if(d.hasOwnProperty(U)){var X=d[U];if(X!=null)switch(U){case"src":p=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Lr(r,o,U,X,d,null)}}N&&Lr(r,o,"srcSet",d.srcSet,d,null),p&&Lr(r,o,"src",d.src,d,null);return;case"input":Ls("invalid",r);var ge=U=X=N=null,Ie=null,Ze=null;for(p in d)if(d.hasOwnProperty(p)){var mt=d[p];if(mt!=null)switch(p){case"name":N=mt;break;case"type":X=mt;break;case"checked":Ie=mt;break;case"defaultChecked":Ze=mt;break;case"value":U=mt;break;case"defaultValue":ge=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,o));break;default:Lr(r,o,p,mt,d,null)}}Bi(r,U,ge,Ie,Ze,X,N,!1);return;case"select":Ls("invalid",r),p=X=U=null;for(N in d)if(d.hasOwnProperty(N)&&(ge=d[N],ge!=null))switch(N){case"value":U=ge;break;case"defaultValue":X=ge;break;case"multiple":p=ge;default:Lr(r,o,N,ge,d,null)}o=U,d=X,r.multiple=!!p,o!=null?Or(r,!!p,o,!1):d!=null&&Or(r,!!p,d,!0);return;case"textarea":Ls("invalid",r),U=N=p=null;for(X in d)if(d.hasOwnProperty(X)&&(ge=d[X],ge!=null))switch(X){case"value":p=ge;break;case"defaultValue":N=ge;break;case"children":U=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(91));break;default:Lr(r,o,X,ge,d,null)}Ur(r,p,N,U);return;case"option":for(Ie in d)if(d.hasOwnProperty(Ie)&&(p=d[Ie],p!=null))switch(Ie){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Lr(r,o,Ie,p,d,null)}return;case"dialog":Ls("beforetoggle",r),Ls("toggle",r),Ls("cancel",r),Ls("close",r);break;case"iframe":case"object":Ls("load",r);break;case"video":case"audio":for(p=0;p<qm.length;p++)Ls(qm[p],r);break;case"image":Ls("error",r),Ls("load",r);break;case"details":Ls("toggle",r);break;case"embed":case"source":case"link":Ls("error",r),Ls("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in d)if(d.hasOwnProperty(Ze)&&(p=d[Ze],p!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Lr(r,o,Ze,p,d,null)}return;default:if(sA(o)){for(mt in d)d.hasOwnProperty(mt)&&(p=d[mt],p!==void 0&&e1(r,o,mt,p,d,void 0));return}}for(ge in d)d.hasOwnProperty(ge)&&(p=d[ge],p!=null&&Lr(r,o,ge,p,d,null))}function m_(r,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,U=null,X=null,ge=null,Ie=null,Ze=null,mt=null;for(rt in d){var wt=d[rt];if(d.hasOwnProperty(rt)&&wt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Ie=wt;default:p.hasOwnProperty(rt)||Lr(r,o,rt,null,p,wt)}}for(var nt in p){var rt=p[nt];if(wt=d[nt],p.hasOwnProperty(nt)&&(rt!=null||wt!=null))switch(nt){case"type":U=rt;break;case"name":N=rt;break;case"checked":Ze=rt;break;case"defaultChecked":mt=rt;break;case"value":X=rt;break;case"defaultValue":ge=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,o));break;default:rt!==wt&&Lr(r,o,nt,rt,p,wt)}}Js(r,X,ge,Ie,Ze,mt,U,N);return;case"select":rt=X=ge=nt=null;for(U in d)if(Ie=d[U],d.hasOwnProperty(U)&&Ie!=null)switch(U){case"value":break;case"multiple":rt=Ie;default:p.hasOwnProperty(U)||Lr(r,o,U,null,p,Ie)}for(N in p)if(U=p[N],Ie=d[N],p.hasOwnProperty(N)&&(U!=null||Ie!=null))switch(N){case"value":nt=U;break;case"defaultValue":ge=U;break;case"multiple":X=U;default:U!==Ie&&Lr(r,o,N,U,p,Ie)}o=ge,d=X,p=rt,nt!=null?Or(r,!!d,nt,!1):!!p!=!!d&&(o!=null?Or(r,!!d,o,!0):Or(r,!!d,d?[]:"",!1));return;case"textarea":rt=nt=null;for(ge in d)if(N=d[ge],d.hasOwnProperty(ge)&&N!=null&&!p.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:Lr(r,o,ge,null,p,N)}for(X in p)if(N=p[X],U=d[X],p.hasOwnProperty(X)&&(N!=null||U!=null))switch(X){case"value":nt=N;break;case"defaultValue":rt=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:N!==U&&Lr(r,o,X,N,p,U)}Wo(r,nt,rt);return;case"option":for(var Bn in d)if(nt=d[Bn],d.hasOwnProperty(Bn)&&nt!=null&&!p.hasOwnProperty(Bn))switch(Bn){case"selected":r.selected=!1;break;default:Lr(r,o,Bn,null,p,nt)}for(Ie in p)if(nt=p[Ie],rt=d[Ie],p.hasOwnProperty(Ie)&&nt!==rt&&(nt!=null||rt!=null))switch(Ie){case"selected":r.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:Lr(r,o,Ie,nt,p,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xn in d)nt=d[Xn],d.hasOwnProperty(Xn)&&nt!=null&&!p.hasOwnProperty(Xn)&&Lr(r,o,Xn,null,p,nt);for(Ze in p)if(nt=p[Ze],rt=d[Ze],p.hasOwnProperty(Ze)&&nt!==rt&&(nt!=null||rt!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,o));break;default:Lr(r,o,Ze,nt,p,rt)}return;default:if(sA(o)){for(var Qr in d)nt=d[Qr],d.hasOwnProperty(Qr)&&nt!==void 0&&!p.hasOwnProperty(Qr)&&e1(r,o,Qr,void 0,p,nt);for(mt in p)nt=p[mt],rt=d[mt],!p.hasOwnProperty(mt)||nt===rt||nt===void 0&&rt===void 0||e1(r,o,mt,nt,p,rt);return}}for(var Ke in d)nt=d[Ke],d.hasOwnProperty(Ke)&&nt!=null&&!p.hasOwnProperty(Ke)&&Lr(r,o,Ke,null,p,nt);for(wt in p)nt=p[wt],rt=d[wt],!p.hasOwnProperty(wt)||nt===rt||nt==null&&rt==null||Lr(r,o,wt,nt,p,rt)}function eB(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p_(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var N=d[p],U=N.transferSize,X=N.initiatorType,ge=N.duration;if(U&&ge&&eB(X)){for(X=0,ge=N.responseEnd,p+=1;p<d.length;p++){var Ie=d[p],Ze=Ie.startTime;if(Ze>ge)break;var mt=Ie.transferSize,wt=Ie.initiatorType;mt&&eB(wt)&&(Ie=Ie.responseEnd,X+=mt*(Ie<ge?1:(ge-Ze)/(Ie-Ze)))}if(--p,o+=8*(U+X)/(N.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var t1=null,n1=null;function f0(r){return r.nodeType===9?r:r.ownerDocument}function tB(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nB(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function s1(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var r1=null;function g_(){var r=window.event;return r&&r.type==="popstate"?r===r1?!1:(r1=r,!0):(r1=null,!1)}var sB=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,rB=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof rB<"u"?function(r){return rB.resolve(null).then(r).catch(x_)}:sB;function x_(r){setTimeout(function(){throw r})}function od(r){return r==="head"}function aB(r,o){var d=o,p=0;do{var N=d.nextSibling;if(r.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"||d==="/&"){if(p===0){r.removeChild(N),Nf(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")ep(r.ownerDocument.documentElement);else if(d==="head"){d=r.ownerDocument.head,ep(d);for(var U=d.firstChild;U;){var X=U.nextSibling,ge=U.nodeName;U[Tn]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=X}}else d==="body"&&ep(r.ownerDocument.body);d=N}while(d);Nf(o)}function iB(r,o){var d=r;r=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(r===0)break;r--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||r++;d=p}while(d)}function a1(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":a1(d),Us(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function b_(r,o,d,p){for(;r.nodeType===1;){var N=d;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[Tn])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(U=r.getAttribute("rel"),U==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(U!==N.rel||r.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||r.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||r.getAttribute("title")!==(N.title==null?null:N.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(U=r.getAttribute("src"),(U!==(N.src==null?null:N.src)||r.getAttribute("type")!==(N.type==null?null:N.type)||r.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&U&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var U=N.name==null?null:""+N.name;if(N.type==="hidden"&&r.getAttribute("name")===U)return r}else return r;if(r=wA(r.nextSibling),r===null)break}return null}function w_(r,o,d){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=wA(r.nextSibling),r===null))return null;return r}function oB(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=wA(r.nextSibling),r===null))return null;return r}function i1(r){return r.data==="$?"||r.data==="$~"}function o1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function B_(r,o){var d=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function wA(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var l1=null;function lB(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"||d==="/&"){if(o===0)return wA(r.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}r=r.nextSibling}return null}function AB(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return r;o--}else d!=="/$"&&d!=="/&"||o++}r=r.previousSibling}return null}function cB(r,o,d){switch(o=f0(d),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ep(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Us(r)}var BA=new Map,uB=new Set;function m0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var uu=ne.d;ne.d={f:j_,r:C_,D:E_,C:S_,L:N_,m:T_,X:__,S:I_,M:F_};function j_(){var r=uu.f(),o=Ui();return r||o}function C_(r){var o=ir(r);o!==null&&o.tag===5&&o.type==="form"?Pg(o):uu.r(r)}var Cf=typeof document>"u"?null:document;function dB(r,o,d){var p=Cf;if(p&&typeof o=="string"&&o){var N=Kt(o);N='link[rel="'+r+'"][href="'+N+'"]',typeof d=="string"&&(N+='[crossorigin="'+d+'"]'),uB.has(N)||(uB.add(N),r={rel:r,crossOrigin:d,href:o},p.querySelector(N)===null&&(o=p.createElement("link"),oo(o,"link",r),zs(o),p.head.appendChild(o)))}}function E_(r){uu.D(r),dB("dns-prefetch",r,null)}function S_(r,o){uu.C(r,o),dB("preconnect",r,o)}function N_(r,o,d){uu.L(r,o,d);var p=Cf;if(p&&r&&o){var N='link[rel="preload"][as="'+Kt(o)+'"]';o==="image"&&d&&d.imageSrcSet?(N+='[imagesrcset="'+Kt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(N+='[imagesizes="'+Kt(d.imageSizes)+'"]')):N+='[href="'+Kt(r)+'"]';var U=N;switch(o){case"style":U=Ef(r);break;case"script":U=Sf(r)}BA.has(U)||(r=m({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:r,as:o},d),BA.set(U,r),p.querySelector(N)!==null||o==="style"&&p.querySelector(tp(U))||o==="script"&&p.querySelector(np(U))||(o=p.createElement("link"),oo(o,"link",r),zs(o),p.head.appendChild(o)))}}function T_(r,o){uu.m(r,o);var d=Cf;if(d&&r){var p=o&&typeof o.as=="string"?o.as:"script",N='link[rel="modulepreload"][as="'+Kt(p)+'"][href="'+Kt(r)+'"]',U=N;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Sf(r)}if(!BA.has(U)&&(r=m({rel:"modulepreload",href:r},o),BA.set(U,r),d.querySelector(N)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(np(U)))return}p=d.createElement("link"),oo(p,"link",r),zs(p),d.head.appendChild(p)}}}function I_(r,o,d){uu.S(r,o,d);var p=Cf;if(p&&r){var N=Xs(p).hoistableStyles,U=Ef(r);o=o||"default";var X=N.get(U);if(!X){var ge={loading:0,preload:null};if(X=p.querySelector(tp(U)))ge.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},d),(d=BA.get(U))&&A1(r,d);var Ie=X=p.createElement("link");zs(Ie),oo(Ie,"link",r),Ie._p=new Promise(function(Ze,mt){Ie.onload=Ze,Ie.onerror=mt}),Ie.addEventListener("load",function(){ge.loading|=1}),Ie.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,p0(X,o,p)}X={type:"stylesheet",instance:X,count:1,state:ge},N.set(U,X)}}}function __(r,o){uu.X(r,o);var d=Cf;if(d&&r){var p=Xs(d).hoistableScripts,N=Sf(r),U=p.get(N);U||(U=d.querySelector(np(N)),U||(r=m({src:r,async:!0},o),(o=BA.get(N))&&c1(r,o),U=d.createElement("script"),zs(U),oo(U,"link",r),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(N,U))}}function F_(r,o){uu.M(r,o);var d=Cf;if(d&&r){var p=Xs(d).hoistableScripts,N=Sf(r),U=p.get(N);U||(U=d.querySelector(np(N)),U||(r=m({src:r,async:!0,type:"module"},o),(o=BA.get(N))&&c1(r,o),U=d.createElement("script"),zs(U),oo(U,"link",r),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(N,U))}}function hB(r,o,d,p){var N=(N=ce.current)?m0(N):null;if(!N)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Ef(d.href),d=Xs(N).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Ef(d.href);var U=Xs(N).hoistableStyles,X=U.get(r);if(X||(N=N.ownerDocument||N,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(r,X),(U=N.querySelector(tp(r)))&&!U._p&&(X.instance=U,X.state.loading=5),BA.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},BA.set(r,d),U||U_(N,r,d,X.state))),o&&p===null)throw Error(s(528,""));return X}if(o&&p!==null)throw Error(s(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sf(d),d=Xs(N).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ef(r){return'href="'+Kt(r)+'"'}function tp(r){return'link[rel="stylesheet"]['+r+"]"}function fB(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function U_(r,o,d,p){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=r.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),oo(o,"link",d),zs(o),r.head.appendChild(o))}function Sf(r){return'[src="'+Kt(r)+'"]'}function np(r){return"script[async]"+r}function mB(r,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=r.querySelector('style[data-href~="'+Kt(d.href)+'"]');if(p)return o.instance=p,zs(p),p;var N=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),zs(p),oo(p,"style",N),p0(p,d.precedence,r),o.instance=p;case"stylesheet":N=Ef(d.href);var U=r.querySelector(tp(N));if(U)return o.state.loading|=4,o.instance=U,zs(U),U;p=fB(d),(N=BA.get(N))&&A1(p,N),U=(r.ownerDocument||r).createElement("link"),zs(U);var X=U;return X._p=new Promise(function(ge,Ie){X.onload=ge,X.onerror=Ie}),oo(U,"link",p),o.state.loading|=4,p0(U,d.precedence,r),o.instance=U;case"script":return U=Sf(d.src),(N=r.querySelector(np(U)))?(o.instance=N,zs(N),N):(p=d,(N=BA.get(U))&&(p=m({},d),c1(p,N)),r=r.ownerDocument||r,N=r.createElement("script"),zs(N),oo(N,"link",p),r.head.appendChild(N),o.instance=N);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,p0(p,d.precedence,r));return o.instance}function p0(r,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=p.length?p[p.length-1]:null,U=N,X=0;X<p.length;X++){var ge=p[X];if(ge.dataset.precedence===o)U=ge;else if(U!==N)break}U?U.parentNode.insertBefore(r,U.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(r,o.firstChild))}function A1(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function c1(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var g0=null;function pB(r,o,d){if(g0===null){var p=new Map,N=g0=new Map;N.set(d,p)}else N=g0,p=N.get(d),p||(p=new Map,N.set(d,p));if(p.has(r))return p;for(p.set(r,null),d=d.getElementsByTagName(r),N=0;N<d.length;N++){var U=d[N];if(!(U[Tn]||U[Vt]||r==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var X=U.getAttribute(o)||"";X=r+X;var ge=p.get(X);ge?ge.push(U):p.set(X,[U])}}return p}function gB(r,o,d){r=r.ownerDocument||r,r.head.insertBefore(d,o==="title"?r.querySelector("head > title"):null)}function R_(r,o,d){if(d===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function vB(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function D_(r,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var N=Ef(p.href),U=o.querySelector(tp(N));if(U){o=U._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=v0.bind(r),o.then(r,r)),d.state.loading|=4,d.instance=U,zs(U);return}U=o.ownerDocument||o,p=fB(p),(N=BA.get(N))&&A1(p,N),U=U.createElement("link"),zs(U);var X=U;X._p=new Promise(function(ge,Ie){X.onload=ge,X.onerror=Ie}),oo(U,"link",p),d.instance=U}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(r.count++,d=v0.bind(r),o.addEventListener("load",d),o.addEventListener("error",d))}}var u1=0;function L_(r,o){return r.stylesheets&&r.count===0&&x0(r,r.stylesheets),0<r.count||0<r.imgCount?function(d){var p=setTimeout(function(){if(r.stylesheets&&x0(r,r.stylesheets),r.unsuspend){var U=r.unsuspend;r.unsuspend=null,U()}},6e4+o);0<r.imgBytes&&u1===0&&(u1=62500*p_());var N=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&x0(r,r.stylesheets),r.unsuspend)){var U=r.unsuspend;r.unsuspend=null,U()}},(r.imgBytes>u1?50:800)+o);return r.unsuspend=d,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(N)}}:null}function v0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)x0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var y0=null;function x0(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,y0=new Map,o.forEach(Q_,r),y0=null,v0.call(r))}function Q_(r,o){if(!(o.state.loading&4)){var d=y0.get(r);if(d)var p=d.get(null);else{d=new Map,y0.set(r,d);for(var N=r.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<N.length;U++){var X=N[U];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(d.set(X.dataset.precedence,X),p=X)}p&&d.set(null,p)}N=o.instance,X=N.getAttribute("data-precedence"),U=d.get(X)||p,U===p&&d.set(null,N),d.set(X,N),this.count++,p=v0.bind(this),N.addEventListener("load",p),N.addEventListener("error",p),U?U.parentNode.insertBefore(N,U.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(N,r.firstChild)),o.state.loading|=4}}var sp={$$typeof:F,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function O_(r,o,d,p,N,U,X,ge,Ie){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.hiddenUpdates=Bs(null),this.identifierPrefix=p,this.onUncaughtError=N,this.onCaughtError=U,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ie,this.incompleteTransitions=new Map}function yB(r,o,d,p,N,U,X,ge,Ie,Ze,mt,wt){return r=new O_(r,o,d,X,Ie,Ze,mt,wt,ge),o=1,U===!0&&(o|=24),U=di(3,null,null,o),r.current=U,U.stateNode=r,o=hc(),o.refCount++,r.pooledCache=o,o.refCount++,U.memoizedState={element:p,isDehydrated:d,cache:o},$t(U),r}function xB(r){return r?(r=Wa,r):Wa}function bB(r,o,d,p,N,U){N=xB(N),p.context===null?p.context=N:p.pendingContext=N,p=Vn(o),p.payload={element:d},U=U===void 0?null:U,U!==null&&(p.callback=U),d=Gn(r,p,o),d!==null&&(Tr(d,r,o),nr(d,r,o))}function wB(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<o?d:o}}function d1(r,o){wB(r,o),(r=r.alternate)&&wB(r,o)}function BB(r){if(r.tag===13||r.tag===31){var o=pl(r,67108864);o!==null&&Tr(o,r,67108864),d1(r,67108864)}}function jB(r){if(r.tag===13||r.tag===31){var o=_n();o=an(o);var d=pl(r,o);d!==null&&Tr(d,r,o),d1(r,o)}}var b0=!0;function P_(r,o,d,p){var N=ae.T;ae.T=null;var U=ne.p;try{ne.p=2,h1(r,o,d,p)}finally{ne.p=U,ae.T=N}}function M_(r,o,d,p){var N=ae.T;ae.T=null;var U=ne.p;try{ne.p=8,h1(r,o,d,p)}finally{ne.p=U,ae.T=N}}function h1(r,o,d,p){if(b0){var N=f1(p);if(N===null)Zy(r,o,p,w0,d),EB(r,p);else if(H_(N,r,o,d,p))p.stopPropagation();else if(EB(r,p),o&4&&-1<k_.indexOf(r)){for(;N!==null;){var U=ir(N);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var X=dt(U.pendingLanes);if(X!==0){var ge=U;for(ge.pendingLanes|=2,ge.entangledLanes|=2;X;){var Ie=1<<31-at(X);ge.entanglements[1]|=Ie,X&=~Ie}Tc(U),(ar&6)===0&&(nn=Jt()+500,Jm(0))}}break;case 31:case 13:ge=pl(U,2),ge!==null&&Tr(ge,U,2),Ui(),d1(U,2)}if(U=f1(p),U===null&&Zy(r,o,p,w0,d),U===N)break;N=U}N!==null&&p.stopPropagation()}else Zy(r,o,p,null,d)}}function f1(r){return r=ai(r),m1(r)}var w0=null;function m1(r){if(w0=null,r=Es(r),r!==null){var o=i(r);if(o===null)r=null;else{var d=o.tag;if(d===13){if(r=c(o),r!==null)return r;r=null}else if(d===31){if(r=h(o),r!==null)return r;r=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return w0=r,null}function CB(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case tn:return 2;case Dn:return 8;case xt:case Et:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var p1=!1,ld=null,Ad=null,cd=null,rp=new Map,ap=new Map,ud=[],k_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EB(r,o){switch(r){case"focusin":case"focusout":ld=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":cd=null;break;case"pointerover":case"pointerout":rp.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(o.pointerId)}}function ip(r,o,d,p,N,U){return r===null||r.nativeEvent!==U?(r={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:U,targetContainers:[N]},o!==null&&(o=ir(o),o!==null&&BB(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,N!==null&&o.indexOf(N)===-1&&o.push(N),r)}function H_(r,o,d,p,N){switch(o){case"focusin":return ld=ip(ld,r,o,d,p,N),!0;case"dragenter":return Ad=ip(Ad,r,o,d,p,N),!0;case"mouseover":return cd=ip(cd,r,o,d,p,N),!0;case"pointerover":var U=N.pointerId;return rp.set(U,ip(rp.get(U)||null,r,o,d,p,N)),!0;case"gotpointercapture":return U=N.pointerId,ap.set(U,ip(ap.get(U)||null,r,o,d,p,N)),!0}return!1}function SB(r){var o=Es(r.target);if(o!==null){var d=i(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){r.blockedOn=o,Pt(r.priority,function(){jB(d)});return}}else if(o===31){if(o=h(d),o!==null){r.blockedOn=o,Pt(r.priority,function(){jB(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function B0(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var d=f1(r.nativeEvent);if(d===null){d=r.nativeEvent;var p=new d.constructor(d.type,d);Xo=p,d.target.dispatchEvent(p),Xo=null}else return o=ir(d),o!==null&&BB(o),r.blockedOn=d,!1;o.shift()}return!0}function NB(r,o,d){B0(r)&&d.delete(o)}function V_(){p1=!1,ld!==null&&B0(ld)&&(ld=null),Ad!==null&&B0(Ad)&&(Ad=null),cd!==null&&B0(cd)&&(cd=null),rp.forEach(NB),ap.forEach(NB)}function j0(r,o){r.blockedOn===o&&(r.blockedOn=null,p1||(p1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,V_)))}var C0=null;function TB(r){C0!==r&&(C0=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){C0===r&&(C0=null);for(var o=0;o<r.length;o+=3){var d=r[o],p=r[o+1],N=r[o+2];if(typeof p!="function"){if(m1(p||d)===null)continue;break}var U=ir(d);U!==null&&(r.splice(o,3),o-=3,uf(U,{pending:!0,data:N,method:d.method,action:p},p,N))}}))}function Nf(r){function o(Ie){return j0(Ie,r)}ld!==null&&j0(ld,r),Ad!==null&&j0(Ad,r),cd!==null&&j0(cd,r),rp.forEach(o),ap.forEach(o);for(var d=0;d<ud.length;d++){var p=ud[d];p.blockedOn===r&&(p.blockedOn=null)}for(;0<ud.length&&(d=ud[0],d.blockedOn===null);)SB(d),d.blockedOn===null&&ud.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var N=d[p],U=d[p+1],X=N[Tt]||null;if(typeof U=="function")X||TB(d);else if(X){var ge=null;if(U&&U.hasAttribute("formAction")){if(N=U,X=U[Tt]||null)ge=X.formAction;else if(m1(N)!==null)continue}else ge=X.action;typeof ge=="function"?d[p+1]=ge:(d.splice(p,3),p-=3),TB(d)}}}function IB(){function r(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function(X){return N=X})},focusReset:"manual",scroll:"manual"})}function o(){N!==null&&(N(),N=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,N=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),N!==null&&(N(),N=null)}}}function g1(r){this._internalRoot=r}E0.prototype.render=g1.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var d=o.current,p=_n();bB(d,p,r,o,null,null)},E0.prototype.unmount=g1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;bB(r.current,2,null,r,null,null),Ui(),o[gn]=null}};function E0(r){this._internalRoot=r}E0.prototype.unstable_scheduleHydration=function(r){if(r){var o=_t();r={blockedOn:null,target:r,priority:o};for(var d=0;d<ud.length&&o!==0&&o<ud[d].priority;d++);ud.splice(d,0,r),d===0&&SB(r)}};var _B=e.version;if(_B!=="19.2.3")throw Error(s(527,_B,"19.2.3"));ne.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(o),r=r!==null?A(r):null,r=r===null?null:r.stateNode,r};var K_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S0.isDisabled&&S0.supportsFiber)try{ke=S0.inject(K_),gt=S0}catch{}}return lp.createRoot=function(r,o){if(!a(r))throw Error(s(299));var d=!1,p="",N=Vg,U=ch,X=uh;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(N=o.onUncaughtError),o.onCaughtError!==void 0&&(U=o.onCaughtError),o.onRecoverableError!==void 0&&(X=o.onRecoverableError)),o=yB(r,1,!1,null,null,d,p,null,N,U,X,IB),r[gn]=o.current,qy(r),new g1(o)},lp.hydrateRoot=function(r,o,d){if(!a(r))throw Error(s(299));var p=!1,N="",U=Vg,X=ch,ge=uh,Ie=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(N=d.identifierPrefix),d.onUncaughtError!==void 0&&(U=d.onUncaughtError),d.onCaughtError!==void 0&&(X=d.onCaughtError),d.onRecoverableError!==void 0&&(ge=d.onRecoverableError),d.formState!==void 0&&(Ie=d.formState)),o=yB(r,1,!0,o,d??null,p,N,Ie,U,X,ge,IB),o.context=xB(null),d=o.current,p=_n(),p=an(p),N=Vn(p),N.callback=null,Gn(d,N,p),d=p,o.current.lanes=d,ln(o,d),Tc(o),r[gn]=o.current,qy(r),new E0(o)},lp.version="19.2.3",lp}var HB;function sF(){if(HB)return x1.exports;HB=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),x1.exports=nF(),x1.exports}var rF=sF();const aF=kb(rF);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VB="popstate";function iF(n={}){function e(a,i){let{pathname:c="/",search:h="",hash:u=""}=$h(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ix("",{pathname:c,search:h,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let u=a.location.href,f=u.indexOf("#");h=f===-1?u:u.slice(0,f)}return h+"#"+(typeof i=="string"?i:Vp(i))}function s(a,i){tA(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return lF(e,t,s,n)}function Ba(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oF(){return Math.random().toString(36).substring(2,10)}function KB(n,e){return{usr:n.state,key:n.key,idx:e}}function Ix(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$h(e):e,state:t,key:e&&e.key||s||oF()}}function Vp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $h(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function lF(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,c=a.history,h="POP",u=null,f=A();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function A(){return(c.state||{idx:null}).idx}function m(){h="POP";let T=A(),E=T==null?null:T-f;f=T,u&&u({action:h,location:S.location,delta:E})}function v(T,E){h="PUSH";let _=Ix(S.location,T,E);t&&t(_,T),f=A()+1;let F=KB(_,f),Q=S.createHref(_);try{c.pushState(F,"",Q)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(Q)}i&&u&&u({action:h,location:S.location,delta:1})}function g(T,E){h="REPLACE";let _=Ix(S.location,T,E);t&&t(_,T),f=A();let F=KB(_,f),Q=S.createHref(_);c.replaceState(F,"",Q),i&&u&&u({action:h,location:S.location,delta:0})}function B(T){return AF(T)}let S={get action(){return h},get location(){return n(a,c)},listen(T){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(VB,m),u=T,()=>{a.removeEventListener(VB,m),u=null}},createHref(T){return e(a,T)},createURL:B,encodeLocation(T){let E=B(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:g,go(T){return c.go(T)}};return S}function AF(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ba(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Vp(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function CS(n,e,t="/"){return cF(n,e,t,!1)}function cF(n,e,t,s){let a=typeof e=="string"?$h(e):e,i=wu(a.pathname||"/",t);if(i==null)return null;let c=ES(n);uF(c);let h=null;for(let u=0;h==null&&u<c.length;++u){let f=wF(i);h=xF(c[u],f,s)}return h}function ES(n,e=[],t=[],s="",a=!1){let i=(c,h,u=a,f)=>{let A={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&u)return;Ba(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let m=yu([s,A.relativePath]),v=t.concat(A);c.children&&c.children.length>0&&(Ba(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ES(c.children,e,v,m,u)),!(c.path==null&&!c.index)&&e.push({path:m,score:vF(m,c.index),routesMeta:v})};return n.forEach((c,h)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))i(c,h);else for(let f of SS(c.path))i(c,h,!0,f)}),e}function SS(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let c=SS(s.join("/")),h=[];return h.push(...c.map(u=>u===""?i:[i,u].join("/"))),a&&h.push(...c),h.map(u=>n.startsWith("/")&&u===""?"/":u)}function uF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yF(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var dF=/^:[\w-]+$/,hF=3,fF=2,mF=1,pF=10,gF=-2,zB=n=>n==="*";function vF(n,e){let t=n.split("/"),s=t.length;return t.some(zB)&&(s+=gF),e&&(s+=fF),t.filter(a=>!zB(a)).reduce((a,i)=>a+(dF.test(i)?hF:i===""?mF:pF),s)}function yF(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function xF(n,e,t=!1){let{routesMeta:s}=n,a={},i="/",c=[];for(let h=0;h<s.length;++h){let u=s[h],f=h===s.length-1,A=i==="/"?e:e.slice(i.length)||"/",m=vv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},A),v=u.route;if(!m&&f&&t&&!s[s.length-1].route.index&&(m=vv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},A)),!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:yu([i,m.pathname]),pathnameBase:EF(yu([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=yu([i,m.pathnameBase]))}return c}function vv(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=bF(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((f,{paramName:A,isOptional:m},v)=>{if(A==="*"){let B=h[v]||"";c=i.slice(0,i.length-B.length).replace(/(.)\/+$/,"$1")}const g=h[v];return m&&!g?f[A]=void 0:f[A]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:c,pattern:n}}function bF(n,e=!1,t=!0){tA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,u)=>(s.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function wF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tA(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function wu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BF=n=>NS.test(n);function jF(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?$h(n):n,i;if(t)if(BF(t))i=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),tA(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?i=GB(t.substring(1),"/"):i=GB(t,e)}else i=e;return{pathname:i,search:SF(s),hash:NF(a)}}function GB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function j1(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CF(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vb(n){let e=CF(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Kb(n,e,t,s=!1){let a;typeof n=="string"?a=$h(n):(a={...n},Ba(!a.pathname||!a.pathname.includes("?"),j1("?","pathname","search",a)),Ba(!a.pathname||!a.pathname.includes("#"),j1("#","pathname","hash",a)),Ba(!a.search||!a.search.includes("#"),j1("#","search","hash",a)));let i=n===""||a.pathname==="",c=i?"/":a.pathname,h;if(c==null)h=t;else{let m=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}h=m>=0?e[m]:"/"}let u=jF(a,h),f=c&&c!=="/"&&c.endsWith("/"),A=(i||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||A)&&(u.pathname+="/"),u}var yu=n=>n.join("/").replace(/\/\/+/g,"/"),EF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,TF=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function IF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function _F(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IS(n,e){let t=n;if(typeof t!="string"||!NS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,a=!1;if(TS)try{let i=new URL(window.location.href),c=t.startsWith("//")?new URL(i.protocol+t):new URL(t),h=wu(c.pathname,e);c.origin===i.origin&&h!=null?t=h+c.search+c.hash:a=!0}catch{tA(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _S=["POST","PUT","PATCH","DELETE"];new Set(_S);var FF=["GET",..._S];new Set(FF);var om=ee.createContext(null);om.displayName="DataRouter";var ry=ee.createContext(null);ry.displayName="DataRouterState";var UF=ee.createContext(!1),FS=ee.createContext({isTransitioning:!1});FS.displayName="ViewTransition";var RF=ee.createContext(new Map);RF.displayName="Fetchers";var DF=ee.createContext(null);DF.displayName="Await";var nA=ee.createContext(null);nA.displayName="Navigation";var Ag=ee.createContext(null);Ag.displayName="Location";var rc=ee.createContext({outlet:null,matches:[],isDataRoute:!1});rc.displayName="Route";var zb=ee.createContext(null);zb.displayName="RouteError";var US="REACT_ROUTER_ERROR",LF="REDIRECT",QF="ROUTE_ERROR_RESPONSE";function OF(n){if(n.startsWith(`${US}:${LF}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function PF(n){if(n.startsWith(`${US}:${QF}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new TF(e.status,e.statusText,e.data)}catch{}}function MF(n,{relative:e}={}){Ba(lm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=ee.useContext(nA),{hash:a,pathname:i,search:c}=ug(n,{relative:e}),h=i;return t!=="/"&&(h=i==="/"?t:yu([t,i])),s.createHref({pathname:h,search:c,hash:a})}function lm(){return ee.useContext(Ag)!=null}function Tu(){return Ba(lm(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(Ag).location}var RS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(n){ee.useContext(nA).static||ee.useLayoutEffect(n)}function cg(){let{isDataRoute:n}=ee.useContext(rc);return n?e6():kF()}function kF(){Ba(lm(),"useNavigate() may be used only in the context of a <Router> component.");let n=ee.useContext(om),{basename:e,navigator:t}=ee.useContext(nA),{matches:s}=ee.useContext(rc),{pathname:a}=Tu(),i=JSON.stringify(Vb(s)),c=ee.useRef(!1);return DS(()=>{c.current=!0}),ee.useCallback((u,f={})=>{if(tA(c.current,RS),!c.current)return;if(typeof u=="number"){t.go(u);return}let A=Kb(u,JSON.parse(i),a,f.relative==="path");n==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:yu([e,A.pathname])),(f.replace?t.replace:t.push)(A,f.state,f)},[e,t,i,a,n])}ee.createContext(null);function HF(){let{matches:n}=ee.useContext(rc),e=n[n.length-1];return e?e.params:{}}function ug(n,{relative:e}={}){let{matches:t}=ee.useContext(rc),{pathname:s}=Tu(),a=JSON.stringify(Vb(t));return ee.useMemo(()=>Kb(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function VF(n,e){return LS(n,e)}function LS(n,e,t,s,a){var _;Ba(lm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ee.useContext(nA),{matches:c}=ee.useContext(rc),h=c[c.length-1],u=h?h.params:{},f=h?h.pathname:"/",A=h?h.pathnameBase:"/",m=h&&h.route;{let F=m&&m.path||"";OS(f,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let v=Tu(),g;if(e){let F=typeof e=="string"?$h(e):e;Ba(A==="/"||((_=F.pathname)==null?void 0:_.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${F.pathname}" was given in the \`location\` prop.`),g=F}else g=v;let B=g.pathname||"/",S=B;if(A!=="/"){let F=A.replace(/^\//,"").split("/");S="/"+B.replace(/^\//,"").split("/").slice(F.length).join("/")}let T=CS(n,{pathname:S});tA(m||T!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),tA(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=WF(T&&T.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:yu([A,i.encodeLocation?i.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?A:yu([A,i.encodeLocation?i.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,t,s,a);return e&&E?ee.createElement(Ag.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function KF(){let n=ZF(),e=IF(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:i},"ErrorBoundary")," or"," ",ee.createElement("code",{style:i},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:a},t):null,c)}var zF=ee.createElement(KF,null),QS=class extends ee.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=PF(n.digest);t&&(n=t)}let e=n!==void 0?ee.createElement(rc.Provider,{value:this.props.routeContext},ee.createElement(zb.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ee.createElement(GF,{error:n},e):e}};QS.contextType=UF;var C1=new WeakMap;function GF({children:n,error:e}){let{basename:t}=ee.useContext(nA);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=OF(e.digest);if(s){let a=C1.get(e);if(a)throw a;let i=IS(s.location,t);if(TS&&!C1.get(e))if(i.isExternal||s.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:s.replace}));throw C1.set(e,c),c}return ee.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return n}function $F({routeContext:n,match:e,children:t}){let s=ee.useContext(om);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(rc.Provider,{value:n},t)}function WF(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,c=t==null?void 0:t.errors;if(c!=null){let A=i.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Ba(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,A+1))}let h=!1,u=-1;if(t)for(let A=0;A<i.length;A++){let m=i[A];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=A),m.route.id){let{loaderData:v,errors:g}=t,B=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||B){h=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let f=t&&s?(A,m)=>{var v,g;s(A,{location:t.location,params:((g=(v=t.matches)==null?void 0:v[0])==null?void 0:g.params)??{},unstable_pattern:_F(t.matches),errorInfo:m})}:void 0;return i.reduceRight((A,m,v)=>{let g,B=!1,S=null,T=null;t&&(g=c&&m.route.id?c[m.route.id]:void 0,S=m.route.errorElement||zF,h&&(u<0&&v===0?(OS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,T=null):u===v&&(B=!0,T=m.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,v+1)),_=()=>{let F;return g?F=S:B?F=T:m.route.Component?F=ee.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=A,ee.createElement($F,{match:m,routeContext:{outlet:A,matches:E,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?ee.createElement(QS,{location:t.location,revalidation:t.revalidation,component:S,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):_()},null)}function Gb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YF(n){let e=ee.useContext(om);return Ba(e,Gb(n)),e}function XF(n){let e=ee.useContext(ry);return Ba(e,Gb(n)),e}function JF(n){let e=ee.useContext(rc);return Ba(e,Gb(n)),e}function $b(n){let e=JF(n),t=e.matches[e.matches.length-1];return Ba(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qF(){return $b("useRouteId")}function ZF(){var s;let n=ee.useContext(zb),e=XF("useRouteError"),t=$b("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function e6(){let{router:n}=YF("useNavigate"),e=$b("useNavigate"),t=ee.useRef(!1);return DS(()=>{t.current=!0}),ee.useCallback(async(a,i={})=>{tA(t.current,RS),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...i}))},[n,e])}var $B={};function OS(n,e,t){!e&&!$B[n]&&($B[n]=!0,tA(!1,t))}ee.memo(t6);function t6({routes:n,future:e,state:t,onError:s}){return LS(n,void 0,t,s,e)}function _x({to:n,replace:e,state:t,relative:s}){Ba(lm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=ee.useContext(nA);tA(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=ee.useContext(rc),{pathname:c}=Tu(),h=cg(),u=Kb(n,Vb(i),c,s==="path"),f=JSON.stringify(u);return ee.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:s})},[h,f,s,e,t]),null}function qa(n){Ba(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n6({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:i=!1,unstable_useTransitions:c}){Ba(!lm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),u=ee.useMemo(()=>({basename:h,navigator:a,static:i,unstable_useTransitions:c,future:{}}),[h,a,i,c]);typeof t=="string"&&(t=$h(t));let{pathname:f="/",search:A="",hash:m="",state:v=null,key:g="default"}=t,B=ee.useMemo(()=>{let S=wu(f,h);return S==null?null:{location:{pathname:S,search:A,hash:m,state:v,key:g},navigationType:s}},[h,f,A,m,v,g,s]);return tA(B!=null,`<Router basename="${h}"> is not able to match the URL "${f}${A}${m}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:ee.createElement(nA.Provider,{value:u},ee.createElement(Ag.Provider,{children:e,value:B}))}function s6({children:n,location:e}){return VF(Fx(n),e)}function Fx(n,e=[]){let t=[];return ee.Children.forEach(n,(s,a)=>{if(!ee.isValidElement(s))return;let i=[...e,a];if(s.type===ee.Fragment){t.push.apply(t,Fx(s.props.children,i));return}Ba(s.type===qa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ba(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Fx(s.props.children,i)),t.push(c)}),t}var J0="get",q0="application/x-www-form-urlencoded";function ay(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function r6(n){return ay(n)&&n.tagName.toLowerCase()==="button"}function a6(n){return ay(n)&&n.tagName.toLowerCase()==="form"}function i6(n){return ay(n)&&n.tagName.toLowerCase()==="input"}function o6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l6(n,e){return n.button===0&&(!e||e==="_self")&&!o6(n)}var N0=null;function A6(){if(N0===null)try{new FormData(document.createElement("form"),0),N0=!1}catch{N0=!0}return N0}var c6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function E1(n){return n!=null&&!c6.has(n)?(tA(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${q0}"`),null):n}function u6(n,e){let t,s,a,i,c;if(a6(n)){let h=n.getAttribute("action");s=h?wu(h,e):null,t=n.getAttribute("method")||J0,a=E1(n.getAttribute("enctype"))||q0,i=new FormData(n)}else if(r6(n)||i6(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||h.getAttribute("action");if(s=u?wu(u,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||J0,a=E1(n.getAttribute("formenctype"))||E1(h.getAttribute("enctype"))||q0,i=new FormData(h,n),!A6()){let{name:f,type:A,value:m}=n;if(A==="image"){let v=f?`${f}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else f&&i.append(f,m)}}else{if(ay(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=J0,s=null,a=q0,c=n}return i&&a==="text/plain"&&(c=i,i=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function d6(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&wu(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function h6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function m6(n,e,t){let s=await Promise.all(n.map(async a=>{let i=e.routes[a.route.id];if(i){let c=await h6(i,t);return c.links?c.links():[]}return[]}));return y6(s.flat(1).filter(f6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function WB(n,e,t,s,a,i){let c=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,h=(u,f)=>{var A;return t[f].pathname!==u.pathname||((A=t[f].route.path)==null?void 0:A.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,f)=>c(u,f)||h(u,f)):i==="data"?e.filter((u,f)=>{var m;let A=s.routes[u.route.id];if(!A||!A.hasLoader)return!1;if(c(u,f)||h(u,f))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function p6(n,e,{includeHydrateFallback:t}={}){return g6(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function g6(n){return[...new Set(n)]}function v6(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function y6(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let i=JSON.stringify(v6(a));return t.has(i)||(t.add(i),s.push({key:i,link:a})),s},[])}function PS(){let n=ee.useContext(om);return Wb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function x6(){let n=ee.useContext(ry);return Wb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yb=ee.createContext(void 0);Yb.displayName="FrameworkContext";function MS(){let n=ee.useContext(Yb);return Wb(n,"You must render this element inside a <HydratedRouter> element"),n}function b6(n,e){let t=ee.useContext(Yb),[s,a]=ee.useState(!1),[i,c]=ee.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:f,onMouseLeave:A,onTouchStart:m}=e,v=ee.useRef(null);ee.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let S=E=>{E.forEach(_=>{c(_.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[n]),ee.useEffect(()=>{if(s){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[s]);let g=()=>{a(!0)},B=()=>{a(!1),c(!1)};return t?n!=="intent"?[i,v,{}]:[i,v,{onFocus:Ap(h,g),onBlur:Ap(u,B),onMouseEnter:Ap(f,g),onMouseLeave:Ap(A,B),onTouchStart:Ap(m,g)}]:[!1,v,{}]}function Ap(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function w6({page:n,...e}){let{router:t}=PS(),s=ee.useMemo(()=>CS(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?ee.createElement(j6,{page:n,matches:s,...e}):null}function B6(n){let{manifest:e,routeModules:t}=MS(),[s,a]=ee.useState([]);return ee.useEffect(()=>{let i=!1;return m6(n,e,t).then(c=>{i||a(c)}),()=>{i=!0}},[n,e,t]),s}function j6({page:n,matches:e,...t}){let s=Tu(),{manifest:a,routeModules:i}=MS(),{basename:c}=PS(),{loaderData:h,matches:u}=x6(),f=ee.useMemo(()=>WB(n,e,u,a,s,"data"),[n,e,u,a,s]),A=ee.useMemo(()=>WB(n,e,u,a,s,"assets"),[n,e,u,a,s]),m=ee.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let B=new Set,S=!1;if(e.forEach(E=>{var F;let _=a.routes[E.route.id];!_||!_.hasLoader||(!f.some(Q=>Q.route.id===E.route.id)&&E.route.id in h&&((F=i[E.route.id])!=null&&F.shouldRevalidate)||_.hasClientLoader?S=!0:B.add(E.route.id))}),B.size===0)return[];let T=d6(n,c,"data");return S&&B.size>0&&T.searchParams.set("_routes",e.filter(E=>B.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[c,h,s,a,f,e,n,i]),v=ee.useMemo(()=>p6(A,a),[A,a]),g=B6(A);return ee.createElement(ee.Fragment,null,m.map(B=>ee.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),v.map(B=>ee.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),g.map(({key:B,link:S})=>ee.createElement("link",{key:B,nonce:t.nonce,...S})))}function C6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var E6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E6&&(window.__reactRouterVersion="7.11.0")}catch{}function S6({basename:n,children:e,unstable_useTransitions:t,window:s}){let a=ee.useRef();a.current==null&&(a.current=iF({window:s,v5Compat:!0}));let i=a.current,[c,h]=ee.useState({action:i.action,location:i.location}),u=ee.useCallback(f=>{t===!1?h(f):ee.startTransition(()=>h(f))},[t]);return ee.useLayoutEffect(()=>i.listen(u),[i,u]),ee.createElement(n6,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:i,unstable_useTransitions:t})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$i=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:i,replace:c,state:h,target:u,to:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v,...g},B){let{basename:S,unstable_useTransitions:T}=ee.useContext(nA),E=typeof f=="string"&&kS.test(f),_=IS(f,S);f=_.to;let F=MF(f,{relative:a}),[Q,M,k]=b6(s,g),R=_6(f,{replace:c,state:h,target:u,preventScrollReset:A,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:T});function D($){e&&e($),$.defaultPrevented||R($)}let O=ee.createElement("a",{...g,...k,href:_.absoluteURL||F,onClick:_.isExternal||i?e:D,ref:C6(B,M),target:u,"data-discover":!E&&t==="render"?"true":void 0});return Q&&!E?ee.createElement(ee.Fragment,null,O,ee.createElement(w6,{page:F})):O});$i.displayName="Link";var N6=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:i,to:c,viewTransition:h,children:u,...f},A){let m=ug(c,{relative:f.relative}),v=Tu(),g=ee.useContext(ry),{navigator:B,basename:S}=ee.useContext(nA),T=g!=null&&L6(m)&&h===!0,E=B.encodeLocation?B.encodeLocation(m).pathname:m.pathname,_=v.pathname,F=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(_=_.toLowerCase(),F=F?F.toLowerCase():null,E=E.toLowerCase()),F&&S&&(F=wu(F,S)||F);const Q=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=_===E||!a&&_.startsWith(E)&&_.charAt(Q)==="/",k=F!=null&&(F===E||!a&&F.startsWith(E)&&F.charAt(E.length)==="/"),R={isActive:M,isPending:k,isTransitioning:T},D=M?e:void 0,O;typeof s=="function"?O=s(R):O=[s,M?"active":null,k?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(R):i;return ee.createElement($i,{...f,"aria-current":D,className:O,ref:A,style:$,to:c,viewTransition:h},typeof u=="function"?u(R):u)});N6.displayName="NavLink";var T6=ee.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:i,method:c=J0,action:h,onSubmit:u,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v,...g},B)=>{let{unstable_useTransitions:S}=ee.useContext(nA),T=R6(),E=D6(h,{relative:f}),_=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&kS.test(h),Q=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let k=M.nativeEvent.submitter,R=(k==null?void 0:k.getAttribute("formmethod"))||c,D=()=>T(k||M.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:i,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v});S&&t!==!1?ee.startTransition(()=>D()):D()};return ee.createElement("form",{ref:B,method:_,action:E,onSubmit:s?u:Q,...g,"data-discover":!F&&n==="render"?"true":void 0})});T6.displayName="Form";function I6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HS(n){let e=ee.useContext(om);return Ba(e,I6(n)),e}function _6(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:u}={}){let f=cg(),A=Tu(),m=ug(n,{relative:i});return ee.useCallback(v=>{if(l6(v,e)){v.preventDefault();let g=t!==void 0?t:Vp(A)===Vp(m),B=()=>f(n,{replace:g,state:s,preventScrollReset:a,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:h});u?ee.startTransition(()=>B()):B()}},[A,f,m,t,s,e,n,a,i,c,h,u])}var F6=0,U6=()=>`__${String(++F6)}__`;function R6(){let{router:n}=HS("useSubmit"),{basename:e}=ee.useContext(nA),t=qF(),s=n.fetch,a=n.navigate;return ee.useCallback(async(i,c={})=>{let{action:h,method:u,encType:f,formData:A,body:m}=u6(i,e);if(c.navigate===!1){let v=c.fetcherKey||U6();await s(v,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,t])}function D6(n,{relative:e}={}){let{basename:t}=ee.useContext(nA),s=ee.useContext(rc);Ba(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...ug(n||".",{relative:e})},c=Tu();if(n==null){i.search=c.search;let h=new URLSearchParams(i.search),u=h.getAll("index");if(u.some(A=>A==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let A=h.toString();i.search=A?`?${A}`:""}}return(!n||n===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:yu([t,i.pathname])),Vp(i)}function L6(n,{relative:e}={}){let t=ee.useContext(FS);Ba(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HS("useViewTransitionState"),a=ug(n,{relative:e});if(!t.isTransitioning)return!1;let i=wu(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=wu(t.nextLocation.pathname,s)||t.nextLocation.pathname;return vv(a.pathname,c)!=null||vv(a.pathname,i)!=null}const Q6=()=>{};var YB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},O6=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const i=n[t++];e[s++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=n[t++],c=n[t++],h=n[t++],u=((a&7)<<18|(i&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(i&63)<<6|c&63)}}return e.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const i=n[a],c=a+1<n.length,h=c?n[a+1]:0,u=a+2<n.length,f=u?n[a+2]:0,A=i>>2,m=(i&3)<<4|h>>4;let v=(h&15)<<2|f>>6,g=f&63;u||(g=64,c||(v=64)),s.push(t[A],t[m],t[v],t[g])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):O6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const i=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const m=a<n.length?t[n.charAt(a)]:64;if(++a,i==null||h==null||f==null||m==null)throw new P6;const v=i<<2|h>>4;if(s.push(v),f!==64){const g=h<<4&240|f>>2;if(s.push(g),m!==64){const B=f<<6&192|m;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class P6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M6=function(n){const e=VS(n);return KS.encodeByteArray(e,!0)},yv=function(n){return M6(n).replace(/\./g,"")},zS=function(n){try{return KS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=()=>k6().__FIREBASE_DEFAULTS__,V6=()=>{if(typeof process>"u"||typeof YB>"u")return;const n=YB.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},K6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zS(n[1]);return e&&JSON.parse(e)},iy=()=>{try{return Q6()||H6()||V6()||K6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GS=n=>{var e,t;return(t=(e=iy())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},$S=n=>{const e=GS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},WS=()=>{var n;return(n=iy())==null?void 0:n.config},YS=n=>{var e;return(e=iy())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yv(JSON.stringify(t)),yv(JSON.stringify(c)),""].join(".")}const Bp={};function $6(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bp))Bp[e]?n.emulator.push(e):n.prod.push(e);return n}function W6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let XB=!1;function Jb(n,e){if(typeof window>"u"||typeof document>"u"||!Vd(window.location.host)||Bp[n]===e||Bp[n]||XB)return;Bp[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",i=$6().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,g){v.setAttribute("width","24"),v.setAttribute("id",g),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{XB=!0,c()},v}function A(v,g){v.setAttribute("id",g),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=W6(s),g=t("text"),B=document.getElementById(g)||document.createElement("span"),S=t("learnmore"),T=document.getElementById(S)||document.createElement("a"),E=t("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;h(F),A(T,S);const Q=f();u(_,E),F.append(_,B,T,Q),document.body.appendChild(F)}i?(B.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zo())}function X6(){var e;const n=(e=iy())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Z6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eU(){const n=zo();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tU(){return!X6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nU(){try{return typeof indexedDB=="object"}catch{return!1}}function sU(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="FirebaseError";class ac extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=rU,Object.setPrototypeOf(this,ac.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dg.prototype.create)}}class dg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,i=this.errors[e],c=i?aU(i,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ac(a,h,s)}}function aU(n,e){return n.replace(iU,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const iU=/\{\$([^}]+)}/g;function oU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kh(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const i=n[a],c=e[a];if(JB(i)&&JB(c)){if(!kh(i,c))return!1}else if(i!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function JB(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,i]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function mp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lU(n,e){const t=new AU(n,e);return t.subscribe.bind(t)}class AU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");cU(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=S1),a.error===void 0&&(a.error=S1),a.complete===void 0&&(a.complete=S1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function S1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(n){return n&&n._delegate?n._delegate:n}let xv=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new z6;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hU(e))try{this.getOrInitializeService({instanceIdentifier:Eh})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:a});s.resolve(i)}catch{}}}}clearInstance(e=Eh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eh){return this.instances.has(e)}getOptions(e=Eh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[i,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(i);s===h&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const i=this.instances.get(s);return i&&e(i,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dU(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Eh){return this.component?this.component.multipleInstances?e:Eh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dU(n){return n===Eh?void 0:n}function hU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(la||(la={}));const mU={debug:la.DEBUG,verbose:la.VERBOSE,info:la.INFO,warn:la.WARN,error:la.ERROR,silent:la.SILENT},pU=la.INFO,gU={[la.DEBUG]:"log",[la.VERBOSE]:"log",[la.INFO]:"info",[la.WARN]:"warn",[la.ERROR]:"error"},vU=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=gU[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let yU=class{constructor(e){this.name=e,this._logLevel=pU,this._logHandler=vU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in la))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,la.DEBUG,...e),this._logHandler(this,la.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,la.VERBOSE,...e),this._logHandler(this,la.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,la.INFO,...e),this._logHandler(this,la.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,la.WARN,...e),this._logHandler(this,la.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,la.ERROR,...e),this._logHandler(this,la.ERROR,...e)}};const xU=(n,e)=>e.some(t=>n instanceof t);let qB,ZB;function bU(){return qB||(qB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wU(){return ZB||(ZB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,Ux=new WeakMap,JS=new WeakMap,N1=new WeakMap,qb=new WeakMap;function BU(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",i),n.removeEventListener("error",c)},i=()=>{t(Ed(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",i),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&XS.set(t,n)}).catch(()=>{}),qb.set(e,n),e}function jU(n){if(Ux.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",c),n.removeEventListener("abort",c)},i=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",i),n.addEventListener("error",c),n.addEventListener("abort",c)});Ux.set(n,e)}let Rx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ux.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ed(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CU(n){Rx=n(Rx)}function EU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(T1(this),e,...t);return JS.set(s,e.sort?e.sort():[e]),Ed(s)}:wU().includes(n)?function(...e){return n.apply(T1(this),e),Ed(XS.get(this))}:function(...e){return Ed(n.apply(T1(this),e))}}function SU(n){return typeof n=="function"?EU(n):(n instanceof IDBTransaction&&jU(n),xU(n,bU())?new Proxy(n,Rx):n)}function Ed(n){if(n instanceof IDBRequest)return BU(n);if(N1.has(n))return N1.get(n);const e=SU(n);return e!==n&&(N1.set(n,e),qb.set(e,n)),e}const T1=n=>qb.get(n);function NU(n,e,{blocked:t,upgrade:s,blocking:a,terminated:i}={}){const c=indexedDB.open(n,e),h=Ed(c);return s&&c.addEventListener("upgradeneeded",u=>{s(Ed(c.result),u.oldVersion,u.newVersion,Ed(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),h.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const TU=["get","getKey","getAll","getAllKeys","count"],IU=["put","add","delete","clear"],I1=new Map;function e5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(I1.get(e))return I1.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=IU.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||TU.includes(t)))return;const i=async function(c,...h){const u=this.transaction(c,a?"readwrite":"readonly");let f=u.store;return s&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),a&&u.done]))[0]};return I1.set(e,i),i}CU(n=>({...n,get:(e,t,s)=>e5(e,t)||n.get(e,t,s),has:(e,t)=>!!e5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FU(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function FU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dx="@firebase/app",t5="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new yU("@firebase/app"),UU="@firebase/app-compat",RU="@firebase/analytics-compat",DU="@firebase/analytics",LU="@firebase/app-check-compat",QU="@firebase/app-check",OU="@firebase/auth",PU="@firebase/auth-compat",MU="@firebase/database",kU="@firebase/data-connect",HU="@firebase/database-compat",VU="@firebase/functions",KU="@firebase/functions-compat",zU="@firebase/installations",GU="@firebase/installations-compat",$U="@firebase/messaging",WU="@firebase/messaging-compat",YU="@firebase/performance",XU="@firebase/performance-compat",JU="@firebase/remote-config",qU="@firebase/remote-config-compat",ZU="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",sR="@firebase/firestore-compat",rR="firebase",aR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="[DEFAULT]",iR={[Dx]:"fire-core",[UU]:"fire-core-compat",[DU]:"fire-analytics",[RU]:"fire-analytics-compat",[QU]:"fire-app-check",[LU]:"fire-app-check-compat",[OU]:"fire-auth",[PU]:"fire-auth-compat",[MU]:"fire-rtdb",[kU]:"fire-data-connect",[HU]:"fire-rtdb-compat",[VU]:"fire-fn",[KU]:"fire-fn-compat",[zU]:"fire-iid",[GU]:"fire-iid-compat",[$U]:"fire-fcm",[WU]:"fire-fcm-compat",[YU]:"fire-perf",[XU]:"fire-perf-compat",[JU]:"fire-rc",[qU]:"fire-rc-compat",[ZU]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[sR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map,oR=new Map,Qx=new Map;function n5(n,e){try{n.container.addComponent(e)}catch(t){Bu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ud(n){const e=n.name;if(Qx.has(e))return Bu.debug(`There were multiple attempts to register component ${e}.`),!1;Qx.set(e,n);for(const t of bv.values())n5(t,n);for(const t of oR.values())n5(t,n);return!0}function oy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xl(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sd=new dg("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=aR;function qS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Lx,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Sd.create("bad-app-name",{appName:String(a)});if(t||(t=WS()),!t)throw Sd.create("no-options");const i=bv.get(a);if(i){if(kh(t,i.options)&&kh(s,i.config))return i;throw Sd.create("duplicate-app",{appName:a})}const c=new fU(a);for(const u of Qx.values())c.addComponent(u);const h=new AR(t,s,c);return bv.set(a,h),h}function Zb(n=Lx){const e=bv.get(n);if(!e&&n===Lx&&WS())return qS();if(!e)throw Sd.create("no-app",{appName:n});return e}function TA(n,e,t){let s=iR[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&i&&c.push("and"),i&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bu.warn(c.join(" "));return}Ud(new xv(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebase-heartbeat-database",uR=1,Kp="firebase-heartbeat-store";let _1=null;function ZS(){return _1||(_1=NU(cR,uR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sd.create("idb-open",{originalErrorMessage:n.message})})),_1}async function dR(n){try{const t=(await ZS()).transaction(Kp),s=await t.objectStore(Kp).get(e4(n));return await t.done,s}catch(e){if(e instanceof ac)Bu.warn(e.message);else{const t=Sd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bu.warn(t.message)}}}async function s5(n,e){try{const s=(await ZS()).transaction(Kp,"readwrite");await s.objectStore(Kp).put(e,e4(n)),await s.done}catch(t){if(t instanceof ac)Bu.warn(t.message);else{const s=Sd.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bu.warn(s.message)}}}function e4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1024,fR=30;class mR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=r5();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(c=>c.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>fR){const c=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bu.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r5(),{heartbeatsToSend:s,unsentEntries:a}=pR(this._heartbeatsCache.heartbeats),i=yv(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Bu.warn(t),""}}}function r5(){return new Date().toISOString().substring(0,10)}function pR(n,e=hR){const t=[];let s=n.slice();for(const a of n){const i=t.find(c=>c.agent===a.agent);if(i){if(i.dates.push(a.date),a5(t)>e){i.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),a5(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nU()?sU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a5(n){return yv(JSON.stringify({version:2,heartbeats:n})).length}function vR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n){Ud(new xv("platform-logger",e=>new _U(e),"PRIVATE")),Ud(new xv("heartbeat",e=>new mR(e),"PRIVATE")),TA(Dx,t5,n),TA(Dx,t5,"esm2020"),TA("fire-js","")}yR("");var xR="firebase",bR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */TA(xR,bR,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gr||(Gr={}));const wR={debug:Gr.DEBUG,verbose:Gr.VERBOSE,info:Gr.INFO,warn:Gr.WARN,error:Gr.ERROR,silent:Gr.SILENT},BR=Gr.INFO,jR={[Gr.DEBUG]:"log",[Gr.VERBOSE]:"log",[Gr.INFO]:"info",[Gr.WARN]:"warn",[Gr.ERROR]:"error"},CR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=jR[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ER=class{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gr.DEBUG,...e),this._logHandler(this,Gr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gr.VERBOSE,...e),this._logHandler(this,Gr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gr.INFO,...e),this._logHandler(this,Gr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gr.WARN,...e),this._logHandler(this,Gr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gr.ERROR,...e),this._logHandler(this,Gr.ERROR,...e)}},i5=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function t4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SR=t4,n4=new dg("auth","Firebase",t4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new ER("@firebase/auth");function NR(n,...e){wv.logLevel<=Gr.WARN&&wv.warn(`Auth (${Wh}): ${n}`,...e)}function Z0(n,...e){wv.logLevel<=Gr.ERROR&&wv.error(`Auth (${Wh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n,...e){throw ew(n,...e)}function Rc(n,...e){return ew(n,...e)}function s4(n,e,t){const s={...SR(),[e]:t};return new dg("auth","Firebase",s).create(e,{appName:n.name})}function Nd(n){return s4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ew(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return n4.create(n,...e)}function es(n,e,...t){if(!n)throw ew(e,...t)}function pu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Z0(e),new Error(e)}function ju(n,e){n||pu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function TR(){return o5()==="http:"||o5()==="https:"}function o5(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TR()||q6()||"connection"in navigator)?navigator.onLine:!0}function _R(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){this.shortDelay=e,this.longDelay=t,ju(t>e,"Short delay should be less than long delay!"),this.isMobile=Y6()||Z6()}get(){return IR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e){ju(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RR=new fg(3e4,6e4);function Kd(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Iu(n,e,t,s,a={}){return a4(n,a,async()=>{let i={},c={};s&&(e==="GET"?c=s:i={body:JSON.stringify(s)});const h=hg({key:n.config.apiKey,...c}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:u,...i};return J6()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Vd(n.emulatorConfig.host)&&(f.credentials="include"),r4.fetch()(await i4(n,n.config.apiHost,t,h),f)})}async function a4(n,e,t){n._canInitEmulator=!1;const s={...FR,...e};try{const a=new LR(n),i=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await i.json();if("needConfirmation"in c)throw T0(n,"account-exists-with-different-credential",c);if(i.ok&&!("errorMessage"in c))return c;{const h=i.ok?c.errorMessage:c.error.message,[u,f]=h.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw T0(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw T0(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw T0(n,"user-disabled",c);const A=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw s4(n,A,f);tc(n,A)}}catch(a){if(a instanceof ac)throw a;tc(n,"network-request-failed",{message:String(a)})}}async function ly(n,e,t,s,a={}){const i=await Iu(n,e,t,s,a);return"mfaPendingCredential"in i&&tc(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function i4(n,e,t,s){const a=`${e}${t}?${s}`,i=n,c=i.config.emulator?tw(n.config,a):`${n.config.apiScheme}://${a}`;return UR.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(c).toString():c}function DR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Rc(this.auth,"network-request-failed")),RR.get())})}}function T0(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Rc(n,e,s);return a.customData._tokenResponse=t,a}function l5(n){return n!==void 0&&n.enterprise!==void 0}class QR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OR(n,e){return Iu(n,"GET","/v2/recaptchaConfig",Kd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e){return Iu(n,"POST","/v1/accounts:delete",e)}async function Bv(n,e){return Iu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MR(n,e=!1){const t=ja(n),s=await t.getIdToken(e),a=nw(s);es(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,c=i==null?void 0:i.sign_in_provider;return{claims:a,token:s,authTime:jp(F1(a.auth_time)),issuedAtTime:jp(F1(a.iat)),expirationTime:jp(F1(a.exp)),signInProvider:c||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function F1(n){return Number(n)*1e3}function nw(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Z0("JWT malformed, contained fewer than 3 sections"),null;try{const a=zS(t);return a?JSON.parse(a):(Z0("Failed to decode base64 JWT payload"),null)}catch(a){return Z0("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function A5(n){const e=nw(n);return es(e,"internal-error"),es(typeof e.exp<"u","internal-error"),es(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ac&&kR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function kR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jp(this.lastLoginAt),this.creationTime=jp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jv(n){var m;const e=n.auth,t=await n.getIdToken(),s=await zp(n,Bv(e,{idToken:t}));es(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const i=(m=a.providerUserInfo)!=null&&m.length?o4(a.providerUserInfo):[],c=KR(n.providerData,i),h=n.isAnonymous,u=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),f=h?u:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Px(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,A)}async function VR(n){const e=ja(n);await jv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KR(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function o4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e){const t=await a4(n,{},async()=>{const s=hg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=n.config,c=await i4(n,a,"/v1/token",`key=${i}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:h,body:s};return n.emulatorConfig&&Vd(n.emulatorConfig.host)&&(u.credentials="include"),r4.fetch()(c,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GR(n,e){return Iu(n,"POST","/v2/accounts:revokeToken",Kd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){es(e.idToken,"internal-error"),es(typeof e.idToken<"u","internal-error"),es(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){es(e.length!==0,"internal-error");const t=A5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(es(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:i}=await zR(e,t);this.updateTokensAndExpiration(s,a,Number(i))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:i}=t,c=new Kf;return s&&(es(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(es(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),i&&(es(typeof i=="number","internal-error",{appName:e}),c.expirationTime=i),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kf,this.toJSON())}_performRefresh(){return pu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n,e){es(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ZA{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new HR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Px(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await zp(this,this.stsTokenManager.getToken(this.auth,e));return es(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MR(this,e)}reload(){return VR(this)}_assign(e){this!==e&&(es(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ZA({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){es(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jv(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xl(this.auth.app))return Promise.reject(Nd(this.auth));const e=await this.getIdToken();return await zp(this,PR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,i=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,u=t._redirectEventId??void 0,f=t.createdAt??void 0,A=t.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:g,providerData:B,stsTokenManager:S}=t;es(m&&S,e,"internal-error");const T=Kf.fromJSON(this.name,S);es(typeof m=="string",e,"internal-error"),hd(s,e.name),hd(a,e.name),es(typeof v=="boolean",e,"internal-error"),es(typeof g=="boolean",e,"internal-error"),hd(i,e.name),hd(c,e.name),hd(h,e.name),hd(u,e.name),hd(f,e.name),hd(A,e.name);const E=new ZA({uid:m,auth:e,email:a,emailVerified:v,displayName:s,isAnonymous:g,photoURL:c,phoneNumber:i,tenantId:h,stsTokenManager:T,createdAt:f,lastLoginAt:A});return B&&Array.isArray(B)&&(E.providerData=B.map(_=>({..._}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,t,s=!1){const a=new Kf;a.updateFromServerResponse(t);const i=new ZA({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await jv(i),i}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];es(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?o4(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),h=new Kf;h.updateFromIdToken(s);const u=new ZA({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Px(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new Map;function gu(n){ju(n instanceof Function,"Expected a class definition");let e=c5.get(n);return e?(ju(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}l4.type="NONE";const u5=l4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n,e,t){return`firebase:${n}:${e}:${t}`}class zf{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:i}=this.auth;this.fullUserKey=ev(this.userKey,a.apiKey,i),this.fullPersistenceKey=ev("persistence",a.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bv(this.auth,{idToken:e}).catch(()=>{});return t?ZA._fromGetAccountInfoResponse(this.auth,t,e):null}return ZA._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new zf(gu(u5),e,s);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=a[0]||gu(u5);const c=ev(s,e.config.apiKey,e.name);let h=null;for(const f of t)try{const A=await f._get(c);if(A){let m;if(typeof A=="string"){const v=await Bv(e,{idToken:A}).catch(()=>{});if(!v)break;m=await ZA._fromGetAccountInfoResponse(e,v,A)}else m=ZA._fromJSON(e,A);f!==i&&(h=m),i=f;break}}catch{}const u=a.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new zf(i,e,s):(i=u[0],h&&await i._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==i)try{await f._remove(c)}catch{}})),new zf(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f4(e))return"Blackberry";if(m4(e))return"Webos";if(c4(e))return"Safari";if((e.includes("chrome/")||u4(e))&&!e.includes("edge/"))return"Chrome";if(h4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function A4(n=zo()){return/firefox\//i.test(n)}function c4(n=zo()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u4(n=zo()){return/crios\//i.test(n)}function d4(n=zo()){return/iemobile/i.test(n)}function h4(n=zo()){return/android/i.test(n)}function f4(n=zo()){return/blackberry/i.test(n)}function m4(n=zo()){return/webos/i.test(n)}function sw(n=zo()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $R(n=zo()){var e;return sw(n)&&!!((e=window.navigator)!=null&&e.standalone)}function WR(){return eU()&&document.documentMode===10}function p4(n=zo()){return sw(n)||h4(n)||m4(n)||f4(n)||/windows phone/i.test(n)||d4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n,e=[]){let t;switch(n){case"Browser":t=d5(zo());break;case"Worker":t=`${d5(zo())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wh}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=i=>new Promise((c,h)=>{try{const u=e(i);c(u)}catch(u){h(u)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,e={}){return Iu(n,"GET","/v2/passwordPolicy",Kd(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=6;class qR{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??JR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h5(this),this.idTokenSubscription=new h5(this),this.beforeStateQueue=new YR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gu(t)),this._initializationPromise=this.queue(async()=>{var s,a,i;if(!this._deleted&&(this.persistenceManager=await zf.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bv(this,{idToken:e}),s=await ZA._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xl(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(i=this.redirectUser)==null?void 0:i._redirectEventId,h=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===h)&&(u!=null&&u.user)&&(s=u.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return es(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xl(this.app))return Promise.reject(Nd(this));const t=e?ja(e):null;return t&&es(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&es(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xl(this.app)?Promise.reject(Nd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xl(this.app)?Promise.reject(Nd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),t=new qR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dg("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await GR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gu(e)||this._popupRedirectResolver;es(t,this,"argument-error"),this.redirectPersistenceManager=await zf.create(this,[gu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(es(h,this,"internal-error"),h.then(()=>{c||i(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,s,a);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return es(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Xl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&NR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yh(n){return ja(n)}class h5{constructor(e){this.auth=e,this.observer=null,this.addObserver=lU(t=>this.observer=t)}get next(){return es(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eD(n){Ay=n}function v4(n){return Ay.loadJS(n)}function tD(){return Ay.recaptchaEnterpriseScript}function nD(){return Ay.gapiScript}function sD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rD{constructor(){this.enterprise=new aD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iD="recaptcha-enterprise",y4="NO_RECAPTCHA";class oD{constructor(e){this.type=iD,this.auth=Yh(e)}async verify(e="verify",t=!1){async function s(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(c,h)=>{OR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new QR(u);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,c(f.siteKey)}}).catch(u=>{h(u)})})}function a(i,c,h){const u=window.grecaptcha;l5(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(f=>{c(f)}).catch(()=>{c(y4)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rD().execute("siteKey",{action:"verify"}):new Promise((i,c)=>{s(this.auth).then(h=>{if(!t&&l5(window.grecaptcha))a(h,i,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=tD();u.length!==0&&(u+=h),v4(u).then(()=>{a(h,i,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function f5(n,e,t,s=!1,a=!1){const i=new oD(n);let c;if(a)c=y4;else try{c=await i.verify(t)}catch{c=await i.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const u=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const u=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Mx(n,e,t,s,a){var i;if((i=n._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await f5(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await f5(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n,e){const t=oy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),i=t.getOptions();if(kh(i,e??{}))return a;tc(a,"already-initialized")}return t.initialize({options:e})}function AD(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(gu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function cD(n,e,t){const s=Yh(n);es(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,i=x4(e),{host:c,port:h}=uD(e),u=h===null?"":`:${h}`,f={url:`${i}//${c}${u}/`},A=Object.freeze({host:c,port:h,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){es(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),es(kh(f,s.config.emulator)&&kh(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Vd(c)?(Xb(`${i}//${c}${u}`),Jb("Auth",!0)):dD()}function x4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uD(n){const e=x4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const i=a[1];return{host:i,port:m5(s.substr(i.length+1))}}else{const[i,c]=s.split(":");return{host:i,port:m5(c)}}}function m5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pu("not implemented")}_getIdTokenResponse(e){return pu("not implemented")}_linkToIdToken(e,t){return pu("not implemented")}_getReauthenticationResolver(e){return pu("not implemented")}}async function hD(n,e){return Iu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){return ly(n,"POST","/v1/accounts:signInWithPassword",Kd(n,e))}async function mD(n,e){return Iu(n,"POST","/v1/accounts:sendOobCode",Kd(n,e))}async function pD(n,e){return mD(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e){return ly(n,"POST","/v1/accounts:signInWithEmailLink",Kd(n,e))}async function vD(n,e){return ly(n,"POST","/v1/accounts:signInWithEmailLink",Kd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends rw{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Gp(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Gp(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mx(e,t,"signInWithPassword",fD);case"emailLink":return gD(e,{email:this._email,oobCode:this._password});default:tc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mx(e,s,"signUpPassword",hD);case"emailLink":return vD(e,{idToken:t,email:this._email,oobCode:this._password});default:tc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(n,e){return ly(n,"POST","/v1/accounts:signInWithIdp",Kd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="http://localhost";class Hh extends rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...i}=t;if(!s||!a)return null;const c=new Hh(s,a);return c.idToken=i.idToken||void 0,c.accessToken=i.accessToken||void 0,c.secret=i.secret,c.nonce=i.nonce,c.pendingToken=i.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Gf(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Gf(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gf(e,t)}buildRequest(){const e={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bD(n){const e=fp(mp(n)).link,t=e?fp(mp(e)).deep_link_id:null,s=fp(mp(n)).deep_link_id;return(s?fp(mp(s)).link:null)||s||t||e||n}class aw{constructor(e){const t=fp(mp(e)),s=t.apiKey??null,a=t.oobCode??null,i=xD(t.mode??null);es(s&&a&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=bD(e);try{return new aw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.providerId=Am.PROVIDER_ID}static credential(e,t){return Gp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=aw.parseLink(t);return es(s,"argument-error"),Gp._fromEmailAndCode(e,s.code,s.tenantId)}}Am.PROVIDER_ID="password";Am.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Am.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends b4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends mg{constructor(){super("facebook.com")}static credential(e){return Hh._fromParams({providerId:vd.PROVIDER_ID,signInMethod:vd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vd.credentialFromTaggedObject(e)}static credentialFromError(e){return vd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vd.credential(e.oauthAccessToken)}catch{return null}}}vd.FACEBOOK_SIGN_IN_METHOD="facebook.com";vd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends mg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hh._fromParams({providerId:yd.PROVIDER_ID,signInMethod:yd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yd.credentialFromTaggedObject(e)}static credentialFromError(e){return yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return yd.credential(t,s)}catch{return null}}}yd.GOOGLE_SIGN_IN_METHOD="google.com";yd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends mg{constructor(){super("github.com")}static credential(e){return Hh._fromParams({providerId:xd.PROVIDER_ID,signInMethod:xd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xd.credentialFromTaggedObject(e)}static credentialFromError(e){return xd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xd.credential(e.oauthAccessToken)}catch{return null}}}xd.GITHUB_SIGN_IN_METHOD="github.com";xd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends mg{constructor(){super("twitter.com")}static credential(e,t){return Hh._fromParams({providerId:bd.PROVIDER_ID,signInMethod:bd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bd.credentialFromTaggedObject(e)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return bd.credential(t,s)}catch{return null}}}bd.TWITTER_SIGN_IN_METHOD="twitter.com";bd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const i=await ZA._fromIdTokenResponse(e,s,a),c=p5(s);return new Yf({user:i,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=p5(s);return new Yf({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function p5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends ac{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Cv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Cv(e,t,s,a)}}function w4(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cv._fromErrorAndOperation(n,i,e,s):i})}async function wD(n,e,t=!1){const s=await zp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yf._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e,t=!1){const{auth:s}=n;if(Xl(s.app))return Promise.reject(Nd(s));const a="reauthenticate";try{const i=await zp(n,w4(s,a,e,n),t);es(i.idToken,s,"internal-error");const c=nw(i.idToken);es(c,s,"internal-error");const{sub:h}=c;return es(n.uid===h,s,"user-mismatch"),Yf._forOperation(n,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&tc(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(n,e,t=!1){if(Xl(n.app))return Promise.reject(Nd(n));const s="signIn",a=await w4(n,s,e),i=await Yf._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(i.user),i}async function jD(n,e){return B4(Yh(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(n){const e=Yh(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ED(n,e,t){const s=Yh(n);await Mx(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pD)}function SD(n,e,t){return Xl(n.app)?Promise.reject(Nd(n)):jD(ja(n),Am.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&CD(n),s})}function ND(n,e,t,s){return ja(n).onIdTokenChanged(e,t,s)}function TD(n,e,t){return ja(n).beforeAuthStateChanged(e,t)}function ID(n,e,t,s){return ja(n).onAuthStateChanged(e,t,s)}function cp(n){return ja(n).signOut()}const Ev="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ev,"1"),this.storage.removeItem(Ev),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1e3,FD=10;class C4 extends j4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,u)=>{this.notifyListeners(c,u)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},i=this.storage.getItem(s);WR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,FD):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},_D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C4.type="LOCAL";const UD=C4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4 extends j4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}E4.type="SESSION";const S4=E4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new cy(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:i}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async f=>f(t.origin,i)),u=await RD(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,c;return new Promise((h,u)=>{const f=iw("",20);a.port1.start();const A=setTimeout(()=>{u(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(A),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),h(v.data.response);break;default:clearTimeout(A),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(){return window}function LD(n){Dc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return typeof Dc().WorkerGlobalScope<"u"&&typeof Dc().importScripts=="function"}async function QD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function PD(){return N4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="firebaseLocalStorageDb",MD=1,Sv="firebaseLocalStorage",I4="fbase_key";class pg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uy(n,e){return n.transaction([Sv],e?"readwrite":"readonly").objectStore(Sv)}function kD(){const n=indexedDB.deleteDatabase(T4);return new pg(n).toPromise()}function kx(){const n=indexedDB.open(T4,MD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Sv,{keyPath:I4})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Sv)?e(s):(s.close(),await kD(),e(await kx()))})})}async function g5(n,e,t){const s=uy(n,!0).put({[I4]:e,value:t});return new pg(s).toPromise()}async function HD(n,e){const t=uy(n,!1).get(e),s=await new pg(t).toPromise();return s===void 0?null:s.value}function v5(n,e){const t=uy(n,!0).delete(e);return new pg(t).toPromise()}const VD=800,KD=3;class _4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kx(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cy._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await QD(),!this.activeServiceWorker)return;this.sender=new DD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kx();return await g5(e,Ev,"1"),await v5(e,Ev),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>g5(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>HD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=uy(a,!1).getAll();return new pg(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_4.type="LOCAL";const zD=_4;new fg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n,e){return e?gu(e):(es(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $D(n){return B4(n.auth,new ow(n),n.bypassAuthState)}function WD(n){const{auth:e,user:t}=n;return es(t,e,"internal-error"),BD(t,new ow(n),n.bypassAuthState)}async function YD(n){const{auth:e,user:t}=n;return es(t,e,"internal-error"),wD(t,new ow(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,t,s,a,i=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:i,error:c,type:h}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:s,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $D;case"linkViaPopup":case"linkViaRedirect":return YD;case"reauthViaPopup":case"reauthViaRedirect":return WD;default:tc(this.auth,"internal-error")}}resolve(e){ju(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ju(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new fg(2e3,1e4);class Pf extends F4{constructor(e,t,s,a,i){super(e,t,a,i),this.provider=s,this.authWindow=null,this.pollId=null,Pf.currentPopupAction&&Pf.currentPopupAction.cancel(),Pf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return es(e,this.auth,"internal-error"),e}async onExecution(){ju(this.filter.length===1,"Popup operations only handle one event");const e=iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XD.get())};e()}}Pf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="pendingRedirect",tv=new Map;class qD extends F4{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=tv.get(this.auth._key());if(!e){try{const s=await ZD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}tv.set(this.auth._key(),e)}return this.bypassAuthState||tv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZD(n,e){const t=nL(e),s=tL(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function eL(n,e){tv.set(n._key(),e)}function tL(n){return gu(n._redirectPersistence)}function nL(n){return ev(JD,n.config.apiKey,n.name)}async function sL(n,e,t=!1){if(Xl(n.app))return Promise.reject(Nd(n));const s=Yh(n),a=GD(s,e),c=await new qD(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=600*1e3;class aL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!U4(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(Rc(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rL&&this.cachedEventUids.clear(),this.cachedEventUids.has(y5(e))}saveEventToCache(e){this.cachedEventUids.add(y5(e)),this.lastProcessedEventTime=Date.now()}}function y5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function U4({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(n,e={}){return Iu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AL=/^https?/;async function cL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oL(n);for(const t of e)try{if(uL(t))return}catch{}tc(n,"unauthorized-domain")}function uL(n){const e=Ox(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!AL.test(t))return!1;if(lL.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new fg(3e4,6e4);function x5(){const n=Dc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hL(n){return new Promise((e,t)=>{var a,i,c;function s(){x5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x5(),t(Rc(n,"network-request-failed"))},timeout:dL.get()})}if((i=(a=Dc().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((c=Dc().gapi)!=null&&c.load)s();else{const h=sD("iframefcb");return Dc()[h]=()=>{gapi.load?s():t(Rc(n,"network-request-failed"))},v4(`${nD()}?onload=${h}`).catch(u=>t(u))}}).catch(e=>{throw nv=null,e})}let nv=null;function fL(n){return nv=nv||hL(n),nv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new fg(5e3,15e3),pL="__/auth/iframe",gL="emulator/auth/iframe",vL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xL(n){const e=n.config;es(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tw(e,gL):`https://${n.config.authDomain}/${pL}`,s={apiKey:e.apiKey,appName:n.name,v:Wh},a=yL.get(n.config.apiHost);a&&(s.eid=a);const i=n._getFrameworks();return i.length&&(s.fw=i.join(",")),`${t}?${hg(s).slice(1)}`}async function bL(n){const e=await fL(n),t=Dc().gapi;return es(t,n,"internal-error"),e.open({where:document.body,url:xL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vL,dontclear:!0},s=>new Promise(async(a,i)=>{await s.restyle({setHideOnLeave:!1});const c=Rc(n,"network-request-failed"),h=Dc().setTimeout(()=>{i(c)},mL.get());function u(){Dc().clearTimeout(h),a(s)}s.ping(u).then(u,()=>{i(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BL=500,jL=600,CL="_blank",EL="http://localhost";class b5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SL(n,e,t,s=BL,a=jL){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const u={...wL,width:s.toString(),height:a.toString(),top:i,left:c},f=zo().toLowerCase();t&&(h=u4(f)?CL:t),A4(f)&&(e=e||EL,u.scrollbars="yes");const A=Object.entries(u).reduce((v,[g,B])=>`${v}${g}=${B},`,"");if($R(f)&&h!=="_self")return NL(e||"",h),new b5(null);const m=window.open(e||"",h,A);es(m,n,"popup-blocked");try{m.focus()}catch{}return new b5(m)}function NL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="__/auth/handler",IL="emulator/auth/handler",_L=encodeURIComponent("fac");async function w5(n,e,t,s,a,i){es(n.config.authDomain,n,"auth-domain-config-required"),es(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Wh,eventId:a};if(e instanceof b4){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",oU(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,m]of Object.entries({}))c[A]=m}if(e instanceof mg){const A=e.getScopes().filter(m=>m!=="");A.length>0&&(c.scopes=A.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const A of Object.keys(h))h[A]===void 0&&delete h[A];const u=await n._getAppCheckToken(),f=u?`#${_L}=${encodeURIComponent(u)}`:"";return`${FL(n)}?${hg(h).slice(1)}${f}`}function FL({config:n}){return n.emulator?tw(n,IL):`https://${n.authDomain}/${TL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="webStorageSupport";class UL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S4,this._completeRedirectFn=sL,this._overrideRedirectResult=eL}async _openPopup(e,t,s,a){var c;ju((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const i=await w5(e,t,s,Ox(),a);return SL(e,i,iw())}async _openRedirect(e,t,s,a){await this._originValidation(e);const i=await w5(e,t,s,Ox(),a);return LD(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:i}=this.eventManagers[t];return a?Promise.resolve(a):(ju(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await bL(e),s=new aL(e);return t.register("authEvent",a=>(es(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(U1,{type:U1},a=>{var c;const i=(c=a==null?void 0:a[0])==null?void 0:c[U1];i!==void 0&&t(!!i),tc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return p4()||c4()||sw()}}const RL=UL;var B5="@firebase/auth",j5="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){es(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QL(n){Ud(new i5("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;es(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g4(n)},f=new ZR(s,a,i,u);return AD(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ud(new i5("auth-internal",e=>{const t=Yh(e.getProvider("auth").getImmediate());return(s=>new DL(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),TA(B5,j5,LL(n)),TA(B5,j5,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=300,PL=YS("authIdTokenMaxAge")||OL;let C5=null;const ML=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>PL)return;const a=t==null?void 0:t.token;C5!==a&&(C5=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kL(n=Zb()){const e=oy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lD(n,{popupRedirectResolver:RL,persistence:[zD,UD,S4]}),s=YS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const c=ML(i.toString());TD(t,c,()=>c(t.currentUser)),ND(t,h=>c(h))}}const a=GS("auth");return a&&cD(t,`http://${a}`),t}function HL(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}eD({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const i=Rc("internal-error");i.customData=a,t(i)},s.type="text/javascript",s.charset="UTF-8",HL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QL("Browser");let VL=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(er||(er={}));const KL={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},zL=er.INFO,GL={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},$L=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=GL[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WL{constructor(e){this.name=e,this._logLevel=zL,this._logHandler=$L,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...e),this._logHandler(this,er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...e),this._logHandler(this,er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,er.INFO,...e),this._logHandler(this,er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,er.WARN,...e),this._logHandler(this,er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,er.ERROR,...e),this._logHandler(this,er.ERROR,...e)}}var E5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Td,R4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,D){function O(){}O.prototype=D.prototype,R.F=D.prototype,R.prototype=new O,R.prototype.constructor=R,R.D=function($,L,H){for(var z=Array(arguments.length-2),re=2;re<arguments.length;re++)z[re-2]=arguments[re];return D.prototype[L].apply($,z)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,D,O){O||(O=0);const $=Array(16);if(typeof D=="string")for(var L=0;L<16;++L)$[L]=D.charCodeAt(O++)|D.charCodeAt(O++)<<8|D.charCodeAt(O++)<<16|D.charCodeAt(O++)<<24;else for(L=0;L<16;++L)$[L]=D[O++]|D[O++]<<8|D[O++]<<16|D[O++]<<24;D=R.g[0],O=R.g[1],L=R.g[2];let H=R.g[3],z;z=D+(H^O&(L^H))+$[0]+3614090360&4294967295,D=O+(z<<7&4294967295|z>>>25),z=H+(L^D&(O^L))+$[1]+3905402710&4294967295,H=D+(z<<12&4294967295|z>>>20),z=L+(O^H&(D^O))+$[2]+606105819&4294967295,L=H+(z<<17&4294967295|z>>>15),z=O+(D^L&(H^D))+$[3]+3250441966&4294967295,O=L+(z<<22&4294967295|z>>>10),z=D+(H^O&(L^H))+$[4]+4118548399&4294967295,D=O+(z<<7&4294967295|z>>>25),z=H+(L^D&(O^L))+$[5]+1200080426&4294967295,H=D+(z<<12&4294967295|z>>>20),z=L+(O^H&(D^O))+$[6]+2821735955&4294967295,L=H+(z<<17&4294967295|z>>>15),z=O+(D^L&(H^D))+$[7]+4249261313&4294967295,O=L+(z<<22&4294967295|z>>>10),z=D+(H^O&(L^H))+$[8]+1770035416&4294967295,D=O+(z<<7&4294967295|z>>>25),z=H+(L^D&(O^L))+$[9]+2336552879&4294967295,H=D+(z<<12&4294967295|z>>>20),z=L+(O^H&(D^O))+$[10]+4294925233&4294967295,L=H+(z<<17&4294967295|z>>>15),z=O+(D^L&(H^D))+$[11]+2304563134&4294967295,O=L+(z<<22&4294967295|z>>>10),z=D+(H^O&(L^H))+$[12]+1804603682&4294967295,D=O+(z<<7&4294967295|z>>>25),z=H+(L^D&(O^L))+$[13]+4254626195&4294967295,H=D+(z<<12&4294967295|z>>>20),z=L+(O^H&(D^O))+$[14]+2792965006&4294967295,L=H+(z<<17&4294967295|z>>>15),z=O+(D^L&(H^D))+$[15]+1236535329&4294967295,O=L+(z<<22&4294967295|z>>>10),z=D+(L^H&(O^L))+$[1]+4129170786&4294967295,D=O+(z<<5&4294967295|z>>>27),z=H+(O^L&(D^O))+$[6]+3225465664&4294967295,H=D+(z<<9&4294967295|z>>>23),z=L+(D^O&(H^D))+$[11]+643717713&4294967295,L=H+(z<<14&4294967295|z>>>18),z=O+(H^D&(L^H))+$[0]+3921069994&4294967295,O=L+(z<<20&4294967295|z>>>12),z=D+(L^H&(O^L))+$[5]+3593408605&4294967295,D=O+(z<<5&4294967295|z>>>27),z=H+(O^L&(D^O))+$[10]+38016083&4294967295,H=D+(z<<9&4294967295|z>>>23),z=L+(D^O&(H^D))+$[15]+3634488961&4294967295,L=H+(z<<14&4294967295|z>>>18),z=O+(H^D&(L^H))+$[4]+3889429448&4294967295,O=L+(z<<20&4294967295|z>>>12),z=D+(L^H&(O^L))+$[9]+568446438&4294967295,D=O+(z<<5&4294967295|z>>>27),z=H+(O^L&(D^O))+$[14]+3275163606&4294967295,H=D+(z<<9&4294967295|z>>>23),z=L+(D^O&(H^D))+$[3]+4107603335&4294967295,L=H+(z<<14&4294967295|z>>>18),z=O+(H^D&(L^H))+$[8]+1163531501&4294967295,O=L+(z<<20&4294967295|z>>>12),z=D+(L^H&(O^L))+$[13]+2850285829&4294967295,D=O+(z<<5&4294967295|z>>>27),z=H+(O^L&(D^O))+$[2]+4243563512&4294967295,H=D+(z<<9&4294967295|z>>>23),z=L+(D^O&(H^D))+$[7]+1735328473&4294967295,L=H+(z<<14&4294967295|z>>>18),z=O+(H^D&(L^H))+$[12]+2368359562&4294967295,O=L+(z<<20&4294967295|z>>>12),z=D+(O^L^H)+$[5]+4294588738&4294967295,D=O+(z<<4&4294967295|z>>>28),z=H+(D^O^L)+$[8]+2272392833&4294967295,H=D+(z<<11&4294967295|z>>>21),z=L+(H^D^O)+$[11]+1839030562&4294967295,L=H+(z<<16&4294967295|z>>>16),z=O+(L^H^D)+$[14]+4259657740&4294967295,O=L+(z<<23&4294967295|z>>>9),z=D+(O^L^H)+$[1]+2763975236&4294967295,D=O+(z<<4&4294967295|z>>>28),z=H+(D^O^L)+$[4]+1272893353&4294967295,H=D+(z<<11&4294967295|z>>>21),z=L+(H^D^O)+$[7]+4139469664&4294967295,L=H+(z<<16&4294967295|z>>>16),z=O+(L^H^D)+$[10]+3200236656&4294967295,O=L+(z<<23&4294967295|z>>>9),z=D+(O^L^H)+$[13]+681279174&4294967295,D=O+(z<<4&4294967295|z>>>28),z=H+(D^O^L)+$[0]+3936430074&4294967295,H=D+(z<<11&4294967295|z>>>21),z=L+(H^D^O)+$[3]+3572445317&4294967295,L=H+(z<<16&4294967295|z>>>16),z=O+(L^H^D)+$[6]+76029189&4294967295,O=L+(z<<23&4294967295|z>>>9),z=D+(O^L^H)+$[9]+3654602809&4294967295,D=O+(z<<4&4294967295|z>>>28),z=H+(D^O^L)+$[12]+3873151461&4294967295,H=D+(z<<11&4294967295|z>>>21),z=L+(H^D^O)+$[15]+530742520&4294967295,L=H+(z<<16&4294967295|z>>>16),z=O+(L^H^D)+$[2]+3299628645&4294967295,O=L+(z<<23&4294967295|z>>>9),z=D+(L^(O|~H))+$[0]+4096336452&4294967295,D=O+(z<<6&4294967295|z>>>26),z=H+(O^(D|~L))+$[7]+1126891415&4294967295,H=D+(z<<10&4294967295|z>>>22),z=L+(D^(H|~O))+$[14]+2878612391&4294967295,L=H+(z<<15&4294967295|z>>>17),z=O+(H^(L|~D))+$[5]+4237533241&4294967295,O=L+(z<<21&4294967295|z>>>11),z=D+(L^(O|~H))+$[12]+1700485571&4294967295,D=O+(z<<6&4294967295|z>>>26),z=H+(O^(D|~L))+$[3]+2399980690&4294967295,H=D+(z<<10&4294967295|z>>>22),z=L+(D^(H|~O))+$[10]+4293915773&4294967295,L=H+(z<<15&4294967295|z>>>17),z=O+(H^(L|~D))+$[1]+2240044497&4294967295,O=L+(z<<21&4294967295|z>>>11),z=D+(L^(O|~H))+$[8]+1873313359&4294967295,D=O+(z<<6&4294967295|z>>>26),z=H+(O^(D|~L))+$[15]+4264355552&4294967295,H=D+(z<<10&4294967295|z>>>22),z=L+(D^(H|~O))+$[6]+2734768916&4294967295,L=H+(z<<15&4294967295|z>>>17),z=O+(H^(L|~D))+$[13]+1309151649&4294967295,O=L+(z<<21&4294967295|z>>>11),z=D+(L^(O|~H))+$[4]+4149444226&4294967295,D=O+(z<<6&4294967295|z>>>26),z=H+(O^(D|~L))+$[11]+3174756917&4294967295,H=D+(z<<10&4294967295|z>>>22),z=L+(D^(H|~O))+$[2]+718787259&4294967295,L=H+(z<<15&4294967295|z>>>17),z=O+(H^(L|~D))+$[9]+3951481745&4294967295,R.g[0]=R.g[0]+D&4294967295,R.g[1]=R.g[1]+(L+(z<<21&4294967295|z>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+H&4294967295}s.prototype.v=function(R,D){D===void 0&&(D=R.length);const O=D-this.blockSize,$=this.C;let L=this.h,H=0;for(;H<D;){if(L==0)for(;H<=O;)a(this,R,H),H+=this.blockSize;if(typeof R=="string"){for(;H<D;)if($[L++]=R.charCodeAt(H++),L==this.blockSize){a(this,$),L=0;break}}else for(;H<D;)if($[L++]=R[H++],L==this.blockSize){a(this,$),L=0;break}}this.h=L,this.o+=D},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var D=1;D<R.length-8;++D)R[D]=0;D=this.o*8;for(var O=R.length-8;O<R.length;++O)R[O]=D&255,D/=256;for(this.v(R),R=Array(16),D=0,O=0;O<4;++O)for(let $=0;$<32;$+=8)R[D++]=this.g[O]>>>$&255;return R};function i(R,D){var O=h;return Object.prototype.hasOwnProperty.call(O,R)?O[R]:O[R]=D(R)}function c(R,D){this.h=D;const O=[];let $=!0;for(let L=R.length-1;L>=0;L--){const H=R[L]|0;$&&H==D||(O[L]=H,$=!1)}this.g=O}var h={};function u(R){return-128<=R&&R<128?i(R,function(D){return new c([D|0],D<0?-1:0)}):new c([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return m;if(R<0)return T(f(-R));const D=[];let O=1;for(let $=0;R>=O;$++)D[$]=R/O|0,O*=4294967296;return new c(D,0)}function A(R,D){if(R.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(R.charAt(0)=="-")return T(A(R.substring(1),D));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=f(Math.pow(D,8));let $=m;for(let H=0;H<R.length;H+=8){var L=Math.min(8,R.length-H);const z=parseInt(R.substring(H,H+L),D);L<8?(L=f(Math.pow(D,L)),$=$.j(L).add(f(z))):($=$.j(O),$=$.add(f(z)))}return $}var m=u(0),v=u(1),g=u(16777216);n=c.prototype,n.m=function(){if(S(this))return-T(this).m();let R=0,D=1;for(let O=0;O<this.g.length;O++){const $=this.i(O);R+=($>=0?$:4294967296+$)*D,D*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(B(this))return"0";if(S(this))return"-"+T(this).toString(R);const D=f(Math.pow(R,6));var O=this;let $="";for(;;){const L=Q(O,D).g;O=E(O,L.j(D));let H=((O.g.length>0?O.g[0]:O.h)>>>0).toString(R);if(O=L,B(O))return H+$;for(;H.length<6;)H="0"+H;$=H+$}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function B(R){if(R.h!=0)return!1;for(let D=0;D<R.g.length;D++)if(R.g[D]!=0)return!1;return!0}function S(R){return R.h==-1}n.l=function(R){return R=E(this,R),S(R)?-1:B(R)?0:1};function T(R){const D=R.g.length,O=[];for(let $=0;$<D;$++)O[$]=~R.g[$];return new c(O,~R.h).add(v)}n.abs=function(){return S(this)?T(this):this},n.add=function(R){const D=Math.max(this.g.length,R.g.length),O=[];let $=0;for(let L=0;L<=D;L++){let H=$+(this.i(L)&65535)+(R.i(L)&65535),z=(H>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);$=z>>>16,H&=65535,z&=65535,O[L]=z<<16|H}return new c(O,O[O.length-1]&-2147483648?-1:0)};function E(R,D){return R.add(T(D))}n.j=function(R){if(B(this)||B(R))return m;if(S(this))return S(R)?T(this).j(T(R)):T(T(this).j(R));if(S(R))return T(this.j(T(R)));if(this.l(g)<0&&R.l(g)<0)return f(this.m()*R.m());const D=this.g.length+R.g.length,O=[];for(var $=0;$<2*D;$++)O[$]=0;for($=0;$<this.g.length;$++)for(let L=0;L<R.g.length;L++){const H=this.i($)>>>16,z=this.i($)&65535,re=R.i(L)>>>16,pe=R.i(L)&65535;O[2*$+2*L]+=z*pe,_(O,2*$+2*L),O[2*$+2*L+1]+=H*pe,_(O,2*$+2*L+1),O[2*$+2*L+1]+=z*re,_(O,2*$+2*L+1),O[2*$+2*L+2]+=H*re,_(O,2*$+2*L+2)}for(R=0;R<D;R++)O[R]=O[2*R+1]<<16|O[2*R];for(R=D;R<2*D;R++)O[R]=0;return new c(O,0)};function _(R,D){for(;(R[D]&65535)!=R[D];)R[D+1]+=R[D]>>>16,R[D]&=65535,D++}function F(R,D){this.g=R,this.h=D}function Q(R,D){if(B(D))throw Error("division by zero");if(B(R))return new F(m,m);if(S(R))return D=Q(T(R),D),new F(T(D.g),T(D.h));if(S(D))return D=Q(R,T(D)),new F(T(D.g),D.h);if(R.g.length>30){if(S(R)||S(D))throw Error("slowDivide_ only works with positive integers.");for(var O=v,$=D;$.l(R)<=0;)O=M(O),$=M($);var L=k(O,1),H=k($,1);for($=k($,2),O=k(O,2);!B($);){var z=H.add($);z.l(R)<=0&&(L=L.add(O),H=z),$=k($,1),O=k(O,1)}return D=E(R,L.j(D)),new F(L,D)}for(L=m;R.l(D)>=0;){for(O=Math.max(1,Math.floor(R.m()/D.m())),$=Math.ceil(Math.log(O)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),H=f(O),z=H.j(D);S(z)||z.l(R)>0;)O-=$,H=f(O),z=H.j(D);B(H)&&(H=v),L=L.add(H),R=E(R,z)}return new F(L,R)}n.B=function(R){return Q(this,R).h},n.and=function(R){const D=Math.max(this.g.length,R.g.length),O=[];for(let $=0;$<D;$++)O[$]=this.i($)&R.i($);return new c(O,this.h&R.h)},n.or=function(R){const D=Math.max(this.g.length,R.g.length),O=[];for(let $=0;$<D;$++)O[$]=this.i($)|R.i($);return new c(O,this.h|R.h)},n.xor=function(R){const D=Math.max(this.g.length,R.g.length),O=[];for(let $=0;$<D;$++)O[$]=this.i($)^R.i($);return new c(O,this.h^R.h)};function M(R){const D=R.g.length+1,O=[];for(let $=0;$<D;$++)O[$]=R.i($)<<1|R.i($-1)>>>31;return new c(O,R.h)}function k(R,D){const O=D>>5;D%=32;const $=R.g.length-O,L=[];for(let H=0;H<$;H++)L[H]=D>0?R.i(H+O)>>>D|R.i(H+O+1)<<32-D:R.i(H+O);return new c(L,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,R4=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=A,Td=c}).apply(typeof E5<"u"?E5:typeof self<"u"?self:typeof window<"u"?window:{});var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D4,pp,L4,sv,Hx,Q4,O4,P4;(function(){var n,e=Object.defineProperty;function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof I0=="object"&&I0];for(var W=0;W<b.length;++W){var q=b[W];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var s=t(this);function a(b,W){if(W)e:{var q=s;b=b.split(".");for(var ye=0;ye<b.length-1;ye++){var ze=b[ye];if(!(ze in q))break e;q=q[ze]}b=b[b.length-1],ye=q[b],W=W(ye),W!=ye&&W!=null&&e(q,b,{configurable:!0,writable:!0,value:W})}}a("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(b){return b||function(W){var q=[],ye;for(ye in W)Object.prototype.hasOwnProperty.call(W,ye)&&q.push([ye,W[ye]]);return q}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},c=this||self;function h(b){var W=typeof b;return W=="object"&&b!=null||W=="function"}function u(b,W,q){return b.call.apply(b.bind,arguments)}function f(b,W,q){return f=u,f.apply(null,arguments)}function A(b,W){var q=Array.prototype.slice.call(arguments,1);return function(){var ye=q.slice();return ye.push.apply(ye,arguments),b.apply(this,ye)}}function m(b,W){function q(){}q.prototype=W.prototype,b.Z=W.prototype,b.prototype=new q,b.prototype.constructor=b,b.Ob=function(ye,ze,et){for(var Ot=Array(arguments.length-2),Jn=2;Jn<arguments.length;Jn++)Ot[Jn-2]=arguments[Jn];return W.prototype[ze].apply(ye,Ot)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function g(b){const W=b.length;if(W>0){const q=Array(W);for(let ye=0;ye<W;ye++)q[ye]=b[ye];return q}return[]}function B(b,W){for(let ye=1;ye<arguments.length;ye++){const ze=arguments[ye];var q=typeof ze;if(q=q!="object"?q:ze?Array.isArray(ze)?"array":q:"null",q=="array"||q=="object"&&typeof ze.length=="number"){q=b.length||0;const et=ze.length||0;b.length=q+et;for(let Ot=0;Ot<et;Ot++)b[q+Ot]=ze[Ot]}else b.push(ze)}}class S{constructor(W,q){this.i=W,this.j=q,this.h=0,this.g=null}get(){let W;return this.h>0?(this.h--,W=this.g,this.g=W.next,W.next=null):W=this.i(),W}}function T(b){c.setTimeout(()=>{throw b},0)}function E(){var b=R;let W=null;return b.g&&(W=b.g,b.g=b.g.next,b.g||(b.h=null),W.next=null),W}class _{constructor(){this.h=this.g=null}add(W,q){const ye=F.get();ye.set(W,q),this.h?this.h.next=ye:this.g=ye,this.h=ye}}var F=new S(()=>new Q,b=>b.reset());class Q{constructor(){this.next=this.g=this.h=null}set(W,q){this.h=W,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let M,k=!1,R=new _,D=()=>{const b=Promise.resolve(void 0);M=()=>{b.then(O)}};function O(){for(var b;b=E();){try{b.h.call(b.g)}catch(q){T(q)}var W=F;W.j(b),W.h<100&&(W.h++,b.next=W.g,W.g=b)}k=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(b,W){this.type=b,this.g=this.target=W,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var b=!1,W=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const q=()=>{};c.addEventListener("test",q,W),c.removeEventListener("test",q,W)}catch{}return b})();function z(b){return/^[\s\xa0]*$/.test(b)}function re(b,W){L.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,W)}m(re,L),re.prototype.init=function(b,W){const q=this.type=b.type,ye=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=W,W=b.relatedTarget,W||(q=="mouseover"?W=b.fromElement:q=="mouseout"&&(W=b.toElement)),this.relatedTarget=W,ye?(this.clientX=ye.clientX!==void 0?ye.clientX:ye.pageX,this.clientY=ye.clientY!==void 0?ye.clientY:ye.pageY,this.screenX=ye.screenX||0,this.screenY=ye.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ne(b,W,q,ye,ze){this.listener=b,this.proxy=null,this.src=W,this.type=q,this.capture=!!ye,this.ha=ze,this.key=++ae,this.da=this.fa=!1}function Z(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function ue(b,W,q){for(const ye in b)W.call(q,b[ye],ye,b)}function je(b,W){for(const q in b)W.call(void 0,b[q],q,b)}function se(b){const W={};for(const q in b)W[q]=b[q];return W}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(b,W){let q,ye;for(let ze=1;ze<arguments.length;ze++){ye=arguments[ze];for(q in ye)b[q]=ye[q];for(let et=0;et<G.length;et++)q=G[et],Object.prototype.hasOwnProperty.call(ye,q)&&(b[q]=ye[q])}}function le(b){this.src=b,this.g={},this.h=0}le.prototype.add=function(b,W,q,ye,ze){const et=b.toString();b=this.g[et],b||(b=this.g[et]=[],this.h++);const Ot=ce(b,W,ye,ze);return Ot>-1?(W=b[Ot],q||(W.fa=!1)):(W=new ne(W,this.src,et,!!ye,ze),W.fa=q,b.push(W)),W};function he(b,W){const q=W.type;if(q in b.g){var ye=b.g[q],ze=Array.prototype.indexOf.call(ye,W,void 0),et;(et=ze>=0)&&Array.prototype.splice.call(ye,ze,1),et&&(Z(W),b.g[q].length==0&&(delete b.g[q],b.h--))}}function ce(b,W,q,ye){for(let ze=0;ze<b.length;++ze){const et=b[ze];if(!et.da&&et.listener==W&&et.capture==!!q&&et.ha==ye)return ze}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ne={};function Te(b,W,q,ye,ze){if(Array.isArray(W)){for(let et=0;et<W.length;et++)Te(b,W[et],q,ye,ze);return null}return q=Ge(q),b&&b[pe]?b.J(W,q,h(ye)?!!ye.capture:!1,ze):Fe(b,W,q,!1,ye,ze)}function Fe(b,W,q,ye,ze,et){if(!W)throw Error("Invalid event type");const Ot=h(ze)?!!ze.capture:!!ze;let Jn=ut(b);if(Jn||(b[xe]=Jn=new le(b)),q=Jn.add(W,q,ye,Ot,et),q.proxy)return q;if(ye=tt(),q.proxy=ye,ye.src=b,ye.listener=q,b.addEventListener)H||(ze=Ot),ze===void 0&&(ze=!1),b.addEventListener(W.toString(),ye,ze);else if(b.attachEvent)b.attachEvent(Ve(W.toString()),ye);else if(b.addListener&&b.removeListener)b.addListener(ye);else throw Error("addEventListener and attachEvent are unavailable.");return q}function tt(){function b(q){return W.call(b.src,b.listener,q)}const W=fe;return b}function $e(b,W,q,ye,ze){if(Array.isArray(W))for(var et=0;et<W.length;et++)$e(b,W[et],q,ye,ze);else ye=h(ye)?!!ye.capture:!!ye,q=Ge(q),b&&b[pe]?(b=b.i,et=String(W).toString(),et in b.g&&(W=b.g[et],q=ce(W,q,ye,ze),q>-1&&(Z(W[q]),Array.prototype.splice.call(W,q,1),W.length==0&&(delete b.g[et],b.h--)))):b&&(b=ut(b))&&(W=b.g[W.toString()],b=-1,W&&(b=ce(W,q,ye,ze)),(q=b>-1?W[b]:null)&&it(q))}function it(b){if(typeof b!="number"&&b&&!b.da){var W=b.src;if(W&&W[pe])he(W.i,b);else{var q=b.type,ye=b.proxy;W.removeEventListener?W.removeEventListener(q,ye,b.capture):W.detachEvent?W.detachEvent(Ve(q),ye):W.addListener&&W.removeListener&&W.removeListener(ye),(q=ut(W))?(he(q,b),q.h==0&&(q.src=null,W[xe]=null)):Z(b)}}}function Ve(b){return b in Ne?Ne[b]:Ne[b]="on"+b}function fe(b,W){if(b.da)b=!0;else{W=new re(W,this);const q=b.listener,ye=b.ha||b.src;b.fa&&it(b),b=q.call(ye,W)}return b}function ut(b){return b=b[xe],b instanceof le?b:null}var Lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ge(b){return typeof b=="function"?b:(b[Lt]||(b[Lt]=function(W){return b.handleEvent(W)}),b[Lt])}function Je(){$.call(this),this.i=new le(this),this.M=this,this.G=null}m(Je,$),Je.prototype[pe]=!0,Je.prototype.removeEventListener=function(b,W,q,ye){$e(this,b,W,q,ye)};function Qt(b,W){var q,ye=b.G;if(ye)for(q=[];ye;ye=ye.G)q.push(ye);if(b=b.M,ye=W.type||W,typeof W=="string")W=new L(W,b);else if(W instanceof L)W.target=W.target||b;else{var ze=W;W=new L(ye,b),te(W,ze)}ze=!0;let et,Ot;if(q)for(Ot=q.length-1;Ot>=0;Ot--)et=W.g=q[Ot],ze=Ut(et,ye,!0,W)&&ze;if(et=W.g=b,ze=Ut(et,ye,!0,W)&&ze,ze=Ut(et,ye,!1,W)&&ze,q)for(Ot=0;Ot<q.length;Ot++)et=W.g=q[Ot],ze=Ut(et,ye,!1,W)&&ze}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var b=this.i;for(const W in b.g){const q=b.g[W];for(let ye=0;ye<q.length;ye++)Z(q[ye]);delete b.g[W],b.h--}}this.G=null},Je.prototype.J=function(b,W,q,ye){return this.i.add(String(b),W,!1,q,ye)},Je.prototype.K=function(b,W,q,ye){return this.i.add(String(b),W,!0,q,ye)};function Ut(b,W,q,ye){if(W=b.i.g[String(W)],!W)return!0;W=W.concat();let ze=!0;for(let et=0;et<W.length;++et){const Ot=W[et];if(Ot&&!Ot.da&&Ot.capture==q){const Jn=Ot.listener,xr=Ot.ha||Ot.src;Ot.fa&&he(b.i,Ot),ze=Jn.call(xr,ye)!==!1&&ze}}return ze&&!ye.defaultPrevented}function Yt(b,W){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(W)>2147483647?-1:c.setTimeout(b,W||0)}function zt(b){b.g=Yt(()=>{b.g=null,b.i&&(b.i=!1,zt(b))},b.l);const W=b.h;b.h=null,b.m.apply(null,W)}class Jt extends ${constructor(W,q){super(),this.m=W,this.l=q,this.h=null,this.i=!1,this.g=null}j(W){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(b){$.call(this),this.h=b,this.g={}}m(yn,$);var tn=[];function Dn(b){ue(b.g,function(W,q){this.g.hasOwnProperty(q)&&it(W)},b),b.g={}}yn.prototype.N=function(){yn.Z.N.call(this),Dn(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xt=c.JSON.stringify,Et=c.JSON.parse,Gt=class{stringify(b){return c.JSON.stringify(b,void 0)}parse(b){return c.JSON.parse(b,void 0)}};function kt(){}function Pn(){}var ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){L.call(this,"d")}m(gt,L);function He(){L.call(this,"c")}m(He,L);var at={},ht=null;function Rt(){return ht=ht||new Je}at.Ia="serverreachability";function Bt(b){L.call(this,at.Ia,b)}m(Bt,L);function Ht(b){const W=Rt();Qt(W,new Bt(W))}at.STAT_EVENT="statevent";function xn(b,W){L.call(this,at.STAT_EVENT,b),this.stat=W}m(xn,L);function Ct(b){const W=Rt();Qt(W,new xn(W,b))}at.Ja="timingevent";function dt(b,W){L.call(this,at.Ja,b),this.size=W}m(dt,L);function Dt(b,W){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){b()},W)}function Xt(){this.g=!0}Xt.prototype.ua=function(){this.g=!1};function rn(b,W,q,ye,ze,et){b.info(function(){if(b.g)if(et){var Ot="",Jn=et.split("&");for(let us=0;us<Jn.length;us++){var xr=Jn[us].split("=");if(xr.length>1){const $s=xr[0];xr=xr[1];const Ea=$s.split("_");Ot=Ea.length>=2&&Ea[1]=="type"?Ot+($s+"="+xr+"&"):Ot+($s+"=redacted&")}}}else Ot=null;else Ot=et;return"XMLHTTP REQ ("+ye+") [attempt "+ze+"]: "+W+`
`+q+`
`+Ot})}function cs(b,W,q,ye,ze,et,Ot){b.info(function(){return"XMLHTTP RESP ("+ye+") [ attempt "+ze+"]: "+W+`
`+q+`
`+et+" "+Ot})}function Bs(b,W,q,ye){b.info(function(){return"XMLHTTP TEXT ("+W+"): "+si(b,q)+(ye?" "+ye:"")})}function ln(b,W){b.info(function(){return"TIMEOUT: "+W})}Xt.prototype.info=function(){};function si(b,W){if(!b.g)return W;if(!W)return null;try{const et=JSON.parse(W);if(et){for(b=0;b<et.length;b++)if(Array.isArray(et[b])){var q=et[b];if(!(q.length<2)){var ye=q[1];if(Array.isArray(ye)&&!(ye.length<1)){var ze=ye[0];if(ze!="noop"&&ze!="stop"&&ze!="close")for(let Ot=1;Ot<ye.length;Ot++)ye[Ot]=""}}}}return xt(et)}catch{return W}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ua={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$r;function an(){}m(an,kt),an.prototype.g=function(){return new XMLHttpRequest},$r=new an;function Re(b){return encodeURIComponent(String(b))}function _t(b){var W=1;b=b.split(":");const q=[];for(;W>0&&b.length;)q.push(b.shift()),W--;return b.length&&q.push(b.join(":")),q}function Pt(b,W,q,ye){this.j=b,this.i=W,this.l=q,this.S=ye||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}var Vt={},Tt={};function gn(b,W,q){b.M=1,b.A=Ss(vr(W)),b.u=q,b.R=!0,En(b,null)}function En(b,W){b.F=Date.now(),Tn(b),b.B=vr(b.A);var q=b.B,ye=b.S;Array.isArray(ye)||(ye=[String(ye)]),sA(q.i,"t",ye),b.C=0,q=b.j.L,b.h=new Nt,b.g=un(b.j,q?W:null,!b.u),b.P>0&&(b.O=new Jt(f(b.Y,b,b.g),b.P)),W=b.V,q=b.g,ye=b.ba;var ze="readystatechange";Array.isArray(ze)||(ze&&(tn[0]=ze.toString()),ze=tn);for(let et=0;et<ze.length;et++){const Ot=Te(q,ze[et],ye||W.handleEvent,!1,W.h||W);if(!Ot)break;W.g[Ot.key]=Ot}W=b.J?se(b.J):{},b.u?(b.v||(b.v="POST"),W["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,W)):(b.v="GET",b.g.ea(b.B,b.v,null,W)),Ht(),rn(b.i,b.v,b.B,b.l,b.S,b.u)}Pt.prototype.ba=function(b){b=b.target;const W=this.O;W&&oi(b)==3?W.j():this.Y(b)},Pt.prototype.Y=function(b){try{if(b==this.g)e:{const Jn=oi(this.g),xr=this.g.ya(),us=this.g.ca();if(!(Jn<3)&&(Jn!=3||this.g&&(this.h.h||this.g.la()||Xr(this.g)))){this.K||Jn!=4||xr==7||(xr==8||us<=0?Ht(3):Ht(2)),Es(this);var W=this.g.ca();this.X=W;var q=Ln(this);if(this.o=W==200,cs(this.i,this.v,this.B,this.l,this.S,Jn,W),this.o){if(this.U&&!this.L){t:{if(this.g){var ye,ze=this.g;if((ye=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ye)){var et=ye;break t}}et=null}if(b=et)Bs(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xs(this,b);else{this.o=!1,this.m=3,Ct(12),tr(this),ir(this);break e}}if(this.R){b=!0;let $s;for(;!this.K&&this.C<q.length;)if($s=Hn(this,q),$s==Tt){Jn==4&&(this.m=4,Ct(14),b=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if($s==Vt){this.m=4,Ct(15),Bs(this.i,this.l,q,"[Invalid Chunk]"),b=!1;break}else Bs(this.i,this.l,$s,null),Xs(this,$s);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jn!=4||q.length!=0||this.h.h||(this.m=1,Ct(16),b=!1),this.o=this.o&&b,!b)Bs(this.i,this.l,q,"[Invalid Chunked Response]"),tr(this),ir(this);else if(q.length>0&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.aa&&!Ot.P&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Ei(Ot),Ot.P=!0,Ct(11))}}else Bs(this.i,this.l,q,null),Xs(this,q);Jn==4&&tr(this),this.o&&!this.K&&(Jn==4?Ee(this.j,this):(this.o=!1,Tn(this)))}else vo(this.g),W==400&&q.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),tr(this),ir(this)}}}catch{}finally{}};function Ln(b){if(!ur(b))return b.g.la();const W=Xr(b.g);if(W==="")return"";let q="";const ye=W.length,ze=oi(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return tr(b),ir(b),"";b.h.i=new c.TextDecoder}for(let et=0;et<ye;et++)b.h.h=!0,q+=b.h.i.decode(W[et],{stream:!(ze&&et==ye-1)});return W.length=0,b.h.g+=q,b.C=0,b.h.g}function ur(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function Hn(b,W){var q=b.C,ye=W.indexOf(`
`,q);return ye==-1?Tt:(q=Number(W.substring(q,ye)),isNaN(q)?Vt:(ye+=1,ye+q>W.length?Tt:(W=W.slice(ye,ye+q),b.C=ye+q,W)))}Pt.prototype.cancel=function(){this.K=!0,tr(this)};function Tn(b){b.T=Date.now()+b.H,Us(b,b.H)}function Us(b,W){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Dt(f(b.aa,b),W)}function Es(b){b.D&&(c.clearTimeout(b.D),b.D=null)}Pt.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(ln(this.i,this.B),this.M!=2&&(Ht(),Ct(17)),tr(this),this.m=2,ir(this)):Us(this,this.T-b)};function ir(b){b.j.I==0||b.K||Ee(b.j,b)}function tr(b){Es(b);var W=b.O;W&&typeof W.dispose=="function"&&W.dispose(),b.O=null,Dn(b.V),b.g&&(W=b.g,b.g=null,W.abort(),W.dispose())}function Xs(b,W){try{var q=b.j;if(q.I!=0&&(q.g==b||ri(q.h,b))){if(!b.L&&ri(q.h,b)&&q.I==3){try{var ye=q.Ba.g.parse(W)}catch{ye=null}if(Array.isArray(ye)&&ye.length==3){var ze=ye;if(ze[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<b.F)ie(q),za(q);else break e;qi(q),Ct(18)}}else q.xa=ze[1],0<q.xa-q.K&&ze[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=Dt(f(q.Va,q),6e3));da(q.h)<=1&&q.ta&&(q.ta=void 0)}else Me(q,11)}else if((b.L||q.g==b)&&ie(q),!z(W))for(ze=q.Ba.g.parse(W),W=0;W<ze.length;W++){let us=ze[W];const $s=us[0];if(!($s<=q.K))if(q.K=$s,us=us[1],q.I==2)if(us[0]=="c"){q.M=us[1],q.ba=us[2];const Ea=us[3];Ea!=null&&(q.ka=Ea,q.j.info("VER="+q.ka));const sa=us[4];sa!=null&&(q.za=sa,q.j.info("SVER="+q.za));const Os=us[5];Os!=null&&typeof Os=="number"&&Os>0&&(ye=1.5*Os,q.O=ye,q.j.info("backChannelRequestTimeoutMs_="+ye)),ye=q;const ns=b.g;if(ns){const Zi=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var et=ye.h;et.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(wi(et,et.h),et.h=null))}if(ye.G){const xo=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(ye.wa=xo,hn(ye.J,ye.G,xo))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-b.F,q.j.info("Handshake RTT: "+q.T+"ms")),ye=q;var Ot=b;if(ye.na=jt(ye,ye.L?ye.ba:null,ye.W),Ot.L){ll(ye.h,Ot);var Jn=Ot,xr=ye.O;xr&&(Jn.H=xr),Jn.D&&(Es(Jn),Tn(Jn)),ye.g=Ot}else iA(ye);q.i.length>0&&Hi(q)}else us[0]!="stop"&&us[0]!="close"||Me(q,7);else q.I==3&&(us[0]=="stop"||us[0]=="close"?us[0]=="stop"?Me(q,7):ul(q):us[0]!="noop"&&q.l&&q.l.qa(us),q.A=0)}}Ht(4)}catch{}}var zs=class{constructor(b,W){this.g=b,this.map=W}};function Ka(b){this.l=b||10,c.PerformanceNavigationTiming?(b=c.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wr(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function da(b){return b.h?1:b.g?b.g.size:0}function ri(b,W){return b.h?b.h==W:b.g?b.g.has(W):!1}function wi(b,W){b.g?b.g.add(W):b.h=W}function ll(b,W){b.h&&b.h==W?b.h=null:b.g&&b.g.has(W)&&b.g.delete(W)}Ka.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function $o(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let W=b.i;for(const q of b.g.values())W=W.concat(q.G);return W}return g(b.i)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Br(b,W){if(b){b=b.split("&");for(let q=0;q<b.length;q++){const ye=b[q].indexOf("=");let ze,et=null;ye>=0?(ze=b[q].substring(0,ye),et=b[q].substring(ye+1)):ze=b[q],W(ze,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function na(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let W;b instanceof na?(this.l=b.l,os(this,b.j),this.o=b.o,this.g=b.g,Ua(this,b.u),this.h=b.h,Cn(this,Ul(b.i)),this.m=b.m):b&&(W=String(b).match(mo))?(this.l=!1,os(this,W[1]||"",!0),this.o=Fn(W[2]||""),this.g=Fn(W[3]||"",!0),Ua(this,W[4]),this.h=Fn(W[5]||"",!0),Cn(this,W[6]||"",!0),this.m=Fn(W[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}na.prototype.toString=function(){const b=[];var W=this.j;W&&b.push(Qn(W,Js,!0),":");var q=this.g;return(q||W=="file")&&(b.push("//"),(W=this.o)&&b.push(Qn(W,Js,!0),"@"),b.push(Re(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&b.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&b.push("/"),b.push(Qn(q,q.charAt(0)=="/"?Wi:Bi,!0))),(q=this.i.toString())&&b.push("?",q),(q=this.m)&&b.push("#",Qn(q,Wo)),b.join("")},na.prototype.resolve=function(b){const W=vr(this);let q=!!b.j;q?os(W,b.j):q=!!b.o,q?W.o=b.o:q=!!b.g,q?W.g=b.g:q=b.u!=null;var ye=b.h;if(q)Ua(W,b.u);else if(q=!!b.h){if(ye.charAt(0)!="/")if(this.g&&!this.h)ye="/"+ye;else{var ze=W.h.lastIndexOf("/");ze!=-1&&(ye=W.h.slice(0,ze+1)+ye)}if(ze=ye,ze==".."||ze==".")ye="";else if(ze.indexOf("./")!=-1||ze.indexOf("/.")!=-1){ye=ze.lastIndexOf("/",0)==0,ze=ze.split("/");const et=[];for(let Ot=0;Ot<ze.length;){const Jn=ze[Ot++];Jn=="."?ye&&Ot==ze.length&&et.push(""):Jn==".."?((et.length>1||et.length==1&&et[0]!="")&&et.pop(),ye&&Ot==ze.length&&et.push("")):(et.push(Jn),ye=!0)}ye=et.join("/")}else ye=ze}return q?W.h=ye:q=b.i.toString()!=="",q?Cn(W,Ul(b.i)):q=!!b.m,q&&(W.m=b.m),W};function vr(b){return new na(b)}function os(b,W,q){b.j=q?Fn(W,!0):W,b.j&&(b.j=b.j.replace(/:$/,""))}function Ua(b,W){if(W){if(W=Number(W),isNaN(W)||W<0)throw Error("Bad port number "+W);b.u=W}else b.u=null}function Cn(b,W,q){W instanceof Ur?(b.i=W,Yr(b.i,b.l)):(q||(W=Qn(W,Or)),b.i=new Ur(W,b.l))}function hn(b,W,q){b.i.set(W,q)}function Ss(b){return hn(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function Fn(b,W){return b?W?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Qn(b,W,q){return typeof b=="string"?(b=encodeURI(b).replace(W,Kt),q&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Kt(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Js=/[#\/\?@]/g,Bi=/[#\?:]/g,Wi=/[#\?]/g,Or=/[#\?@]/g,Wo=/#/g;function Ur(b,W){this.h=this.g=null,this.i=b||null,this.j=!!W}function Qs(b){b.g||(b.g=new Map,b.h=0,b.i&&Br(b.i,function(W,q){b.add(decodeURIComponent(W.replace(/\+/g," ")),q)}))}n=Ur.prototype,n.add=function(b,W){Qs(this),this.i=null,b=Yi(this,b);let q=this.g.get(b);return q||this.g.set(b,q=[]),q.push(W),this.h+=1,this};function Mi(b,W){Qs(b),W=Yi(b,W),b.g.has(W)&&(b.i=null,b.h-=b.g.get(W).length,b.g.delete(W))}function po(b,W){return Qs(b),W=Yi(b,W),b.g.has(W)}n.forEach=function(b,W){Qs(this),this.g.forEach(function(q,ye){q.forEach(function(ze){b.call(W,ze,ye,this)},this)},this)};function Yo(b,W){Qs(b);let q=[];if(typeof W=="string")po(b,W)&&(q=q.concat(b.g.get(Yi(b,W))));else for(b=Array.from(b.g.values()),W=0;W<b.length;W++)q=q.concat(b[W]);return q}n.set=function(b,W){return Qs(this),this.i=null,b=Yi(this,b),po(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[W]),this.h+=1,this},n.get=function(b,W){return b?(b=Yo(this,b),b.length>0?String(b[0]):W):W};function sA(b,W,q){Mi(b,W),q.length>0&&(b.i=null,b.g.set(Yi(b,W),g(q)),b.h+=q.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],W=Array.from(this.g.keys());for(let ye=0;ye<W.length;ye++){var q=W[ye];const ze=Re(q);q=Yo(this,q);for(let et=0;et<q.length;et++){let Ot=ze;q[et]!==""&&(Ot+="="+Re(q[et])),b.push(Ot)}}return this.i=b.join("&")};function Ul(b){const W=new Ur;return W.i=b.i,b.g&&(W.g=new Map(b.g),W.h=b.h),W}function Yi(b,W){return W=String(W),b.j&&(W=W.toLowerCase()),W}function Yr(b,W){W&&!b.j&&(Qs(b),b.i=null,b.g.forEach(function(q,ye){const ze=ye.toLowerCase();ye!=ze&&(Mi(this,ye),sA(this,ze,q))},b)),b.j=W}function Xi(b,W){const q=new Xt;if(c.Image){const ye=new Image;ye.onload=A(ai,q,"TestLoadImage: loaded",!0,W,ye),ye.onerror=A(ai,q,"TestLoadImage: error",!1,W,ye),ye.onabort=A(ai,q,"TestLoadImage: abort",!1,W,ye),ye.ontimeout=A(ai,q,"TestLoadImage: timeout",!1,W,ye),c.setTimeout(function(){ye.ontimeout&&ye.ontimeout()},1e4),ye.src=b}else W(!1)}function Xo(b,W){const q=new Xt,ye=new AbortController,ze=setTimeout(()=>{ye.abort(),ai(q,"TestPingServer: timeout",!1,W)},1e4);fetch(b,{signal:ye.signal}).then(et=>{clearTimeout(ze),et.ok?ai(q,"TestPingServer: ok",!0,W):ai(q,"TestPingServer: server error",!1,W)}).catch(()=>{clearTimeout(ze),ai(q,"TestPingServer: error",!1,W)})}function ai(b,W,q,ye,ze){try{ze&&(ze.onload=null,ze.onerror=null,ze.onabort=null,ze.ontimeout=null),ye(q)}catch{}}function ki(){this.g=new Gt}function On(b){this.i=b.Sb||null,this.h=b.ab||!1}m(On,kt),On.prototype.g=function(){return new Rl(this.i,this.h)};function Rl(b,W){Je.call(this),this.H=b,this.o=W,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Rl,Je),n=Rl.prototype,n.open=function(b,W){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=W,this.readyState=1,Ca(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const W={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(W.body=b),(this.H||c).fetch(new Request(this.D,W)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=0},n.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rA(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function rA(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}n.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var W=b.value?b.value:new Uint8Array(0);(W=this.B.decode(W,{stream:!b.done}))&&(this.response=this.responseText+=W)}b.done?Al(this):Ca(this),this.readyState==3&&rA(this)}},n.Oa=function(b){this.g&&(this.response=this.responseText=b,Al(this))},n.Na=function(b){this.g&&(this.response=b,Al(this))},n.ga=function(){this.g&&Al(this)};function Al(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Ca(b)}n.setRequestHeader=function(b,W){this.A.append(b,W)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],W=this.h.entries();for(var q=W.next();!q.done;)q=q.value,b.push(q[0]+": "+q[1]),q=W.next();return b.join(`\r
`)};function Ca(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function ha(b){let W="";return ue(b,function(q,ye){W+=ye,W+=":",W+=q,W+=`\r
`}),W}function Ra(b,W,q){e:{for(ye in q){var ye=!1;break e}ye=!0}ye||(q=ha(q),typeof b=="string"?q!=null&&Re(q):hn(b,W,q))}function Gs(b){Je.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Gs,Je);var ii=/^https?$/i,cl=["POST","PUT"];n=Gs.prototype,n.Fa=function(b){this.H=b},n.ea=function(b,W,q,ye){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);W=W?W.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$r.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(W,String(b),!0),this.B=!1}catch(et){Ji(this,et);return}if(b=q||"",q=new Map(this.headers),ye)if(Object.getPrototypeOf(ye)===Object.prototype)for(var ze in ye)q.set(ze,ye[ze]);else if(typeof ye.keys=="function"&&typeof ye.get=="function")for(const et of ye.keys())q.set(et,ye.get(et));else throw Error("Unknown input type for opt_headers: "+String(ye));ye=Array.from(q.keys()).find(et=>et.toLowerCase()=="content-type"),ze=c.FormData&&b instanceof c.FormData,!(Array.prototype.indexOf.call(cl,W,void 0)>=0)||ye||ze||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Ot]of q)this.g.setRequestHeader(et,Ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(et){Ji(this,et)}};function Ji(b,W){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=W,b.o=5,FA(b),go(b)}function FA(b){b.A||(b.A=!0,Qt(b,"complete"),Qt(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,Qt(this,"complete"),Qt(this,"abort"),go(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),Gs.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},n.Xa=function(){ji(this)};function ji(b){if(b.h&&typeof i<"u"){if(b.v&&oi(b)==4)setTimeout(b.Ca.bind(b),0);else if(Qt(b,"readystatechange"),oi(b)==4){b.h=!1;try{const et=b.ca();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var W=!0;break e;default:W=!1}var q;if(!(q=W)){var ye;if(ye=et===0){let Ot=String(b.D).match(mo)[1]||null;!Ot&&c.self&&c.self.location&&(Ot=c.self.location.protocol.slice(0,-1)),ye=!ii.test(Ot?Ot.toLowerCase():"")}q=ye}if(q)Qt(b,"complete"),Qt(b,"success");else{b.o=6;try{var ze=oi(b)>2?b.g.statusText:""}catch{ze=""}b.l=ze+" ["+b.ca()+"]",FA(b)}}finally{go(b)}}}}function go(b,W){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const q=b.g;b.g=null,W||Qt(b,"ready");try{q.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function oi(b){return b.g?b.g.readyState:0}n.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(b){if(this.g){var W=this.g.responseText;return b&&W.indexOf(b)==0&&(W=W.substring(b.length)),Et(W)}};function Xr(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(b){const W={};b=(b.g&&oi(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let ye=0;ye<b.length;ye++){if(z(b[ye]))continue;var q=_t(b[ye]);const ze=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const et=W[ze]||[];W[ze]=et,et.push(q)}je(W,function(ye){return ye.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(b,W,q){return q&&q.internalChannelParams&&q.internalChannelParams[b]||W}function dr(b){this.za=0,this.i=[],this.j=new Xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Da("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Da("baseRetryDelayMs",5e3,b),this.Za=Da("retryDelaySeedMs",1e4,b),this.Ta=Da("forwardChannelMaxRetries",2,b),this.va=Da("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Ka(b&&b.concurrentRequestLimit),this.Ba=new ki,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=dr.prototype,n.ka=8,n.I=1,n.connect=function(b,W,q,ye){Ct(0),this.W=b,this.H=W||{},q&&ye!==void 0&&(this.H.OSID=q,this.H.OAID=ye),this.F=this.X,this.J=jt(this,null,this.W),Hi(this)};function ul(b){if(yo(b),b.I==3){var W=b.V++,q=vr(b.J);if(hn(q,"SID",b.M),hn(q,"RID",W),hn(q,"TYPE","terminate"),La(b,q),W=new Pt(b,b.j,W),W.M=2,W.A=Ss(vr(q)),q=!1,c.navigator&&c.navigator.sendBeacon)try{q=c.navigator.sendBeacon(W.A.toString(),"")}catch{}!q&&c.Image&&(new Image().src=W.A,q=!0),q||(W.g=un(W.j,null),W.g.ea(W.A)),W.F=Date.now(),Tn(W)}ft(b)}function za(b){b.g&&(Ei(b),b.g.cancel(),b.g=null)}function yo(b){za(b),b.v&&(c.clearTimeout(b.v),b.v=null),ie(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&c.clearTimeout(b.m),b.m=null)}function Hi(b){if(!Wr(b.h)&&!b.m){b.m=!0;var W=b.Ea;M||D(),k||(M(),k=!0),R.add(W,b),b.D=0}}function Dl(b,W){return da(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=W.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Dt(f(b.Ea,b,W),_e(b,b.D)),b.D++,!0)}n.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const ze=new Pt(this,this.j,b);let et=this.o;if(this.U&&(et?(et=se(et),te(et,this.U)):et=this.U),this.u!==null||this.R||(ze.J=et,et=null),this.S)e:{for(var W=0,q=0;q<this.i.length;q++){t:{var ye=this.i[q];if("__data__"in ye.map&&(ye=ye.map.__data__,typeof ye=="string")){ye=ye.length;break t}ye=void 0}if(ye===void 0)break;if(W+=ye,W>4096){W=q;break e}if(W===4096||q===this.i.length-1){W=q+1;break e}}W=1e3}else W=1e3;W=Ci(this,ze,W),q=vr(this.J),hn(q,"RID",b),hn(q,"CVER",22),this.G&&hn(q,"X-HTTP-Session-Id",this.G),La(this,q),et&&(this.R?W="headers="+Re(ha(et))+"&"+W:this.u&&Ra(q,this.u,et)),wi(this.h,ze),this.Ra&&hn(q,"TYPE","init"),this.S?(hn(q,"$req",W),hn(q,"SID","null"),ze.U=!0,gn(ze,q,null)):gn(ze,q,W),this.I=2}}else this.I==3&&(b?aA(this,b):this.i.length==0||Wr(this.h)||aA(this))};function aA(b,W){var q;W?q=W.l:q=b.V++;const ye=vr(b.J);hn(ye,"SID",b.M),hn(ye,"RID",q),hn(ye,"AID",b.K),La(b,ye),b.u&&b.o&&Ra(ye,b.u,b.o),q=new Pt(b,b.j,q,b.D+1),b.u===null&&(q.J=b.o),W&&(b.i=W.G.concat(b.i)),W=Ci(b,q,1e3),q.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),wi(b.h,q),gn(q,ye,W)}function La(b,W){b.H&&ue(b.H,function(q,ye){hn(W,ye,q)}),b.l&&ue({},function(q,ye){hn(W,ye,q)})}function Ci(b,W,q){q=Math.min(b.i.length,q);const ye=b.l?f(b.l.Ka,b.l,b):null;e:{var ze=b.i;let Jn=-1;for(;;){const xr=["count="+q];Jn==-1?q>0?(Jn=ze[0].g,xr.push("ofs="+Jn)):Jn=0:xr.push("ofs="+Jn);let us=!0;for(let $s=0;$s<q;$s++){var et=ze[$s].g;const Ea=ze[$s].map;if(et-=Jn,et<0)Jn=Math.max(0,ze[$s].g-100),us=!1;else try{et="req"+et+"_"||"";try{var Ot=Ea instanceof Map?Ea:Object.entries(Ea);for(const[sa,Os]of Ot){let ns=Os;h(Os)&&(ns=xt(Os)),xr.push(et+sa+"="+encodeURIComponent(ns))}}catch(sa){throw xr.push(et+"type="+encodeURIComponent("_badmap")),sa}}catch{ye&&ye(Ea)}}if(us){Ot=xr.join("&");break e}}Ot=void 0}return b=b.i.splice(0,q),W.G=b,Ot}function iA(b){if(!b.g&&!b.v){b.Y=1;var W=b.Da;M||D(),k||(M(),k=!0),R.add(W,b),b.A=0}}function qi(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Dt(f(b.Da,b),_e(b,b.A)),b.A++,!0)}n.Da=function(){if(this.v=null,P(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Dt(f(this.Wa,this),b)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),za(this),P(this))};function Ei(b){b.B!=null&&(c.clearTimeout(b.B),b.B=null)}function P(b){b.g=new Pt(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var W=vr(b.na);hn(W,"RID","rpc"),hn(W,"SID",b.M),hn(W,"AID",b.K),hn(W,"CI",b.F?"0":"1"),!b.F&&b.ia&&hn(W,"TO",b.ia),hn(W,"TYPE","xmlhttp"),La(b,W),b.u&&b.o&&Ra(W,b.u,b.o),b.O&&(b.g.H=b.O);var q=b.g;b=b.ba,q.M=1,q.A=Ss(vr(W)),q.u=null,q.R=!0,En(q,b)}n.Va=function(){this.C!=null&&(this.C=null,za(this),qi(this),Ct(19))};function ie(b){b.C!=null&&(c.clearTimeout(b.C),b.C=null)}function Ee(b,W){var q=null;if(b.g==W){ie(b),Ei(b),b.g=null;var ye=2}else if(ri(b.h,W))q=W.G,ll(b.h,W),ye=1;else return;if(b.I!=0){if(W.o)if(ye==1){q=W.u?W.u.length:0,W=Date.now()-W.F;var ze=b.D;ye=Rt(),Qt(ye,new dt(ye,q)),Hi(b)}else iA(b);else if(ze=W.m,ze==3||ze==0&&W.X>0||!(ye==1&&Dl(b,W)||ye==2&&qi(b)))switch(q&&q.length>0&&(W=b.h,W.i=W.i.concat(q)),ze){case 1:Me(b,5);break;case 4:Me(b,10);break;case 3:Me(b,6);break;default:Me(b,2)}}}function _e(b,W){let q=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(q*=2),q*W}function Me(b,W){if(b.j.info("Error code "+W),W==2){var q=f(b.bb,b),ye=b.Ua;const ze=!ye;ye=new na(ye||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||os(ye,"https"),Ss(ye),ze?Xi(ye.toString(),q):Xo(ye.toString(),q)}else Ct(2);b.I=0,b.l&&b.l.pa(W),ft(b),yo(b)}n.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function ft(b){if(b.I=0,b.ja=[],b.l){const W=$o(b.h);(W.length!=0||b.i.length!=0)&&(B(b.ja,W),B(b.ja,b.i),b.h.i.length=0,g(b.i),b.i.length=0),b.l.oa()}}function jt(b,W,q){var ye=q instanceof na?vr(q):new na(q);if(ye.g!="")W&&(ye.g=W+"."+ye.g),Ua(ye,ye.u);else{var ze=c.location;ye=ze.protocol,W=W?W+"."+ze.hostname:ze.hostname,ze=+ze.port;const et=new na(null);ye&&os(et,ye),W&&(et.g=W),ze&&Ua(et,ze),q&&(et.h=q),ye=et}return q=b.G,W=b.wa,q&&W&&hn(ye,q,W),hn(ye,"VER",b.ka),La(b,ye),ye}function un(b,W,q){if(W&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return W=b.Aa&&!b.ma?new Gs(new On({ab:q})):new Gs(b.ma),W.Fa(b.L),W}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bn(){}n=bn.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Mn(){}Mn.prototype.g=function(b,W){return new In(b,W)};function In(b,W){Je.call(this),this.g=new dr(W),this.l=b,this.h=W&&W.messageUrlParams||null,b=W&&W.messageHeaders||null,W&&W.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=W&&W.initMessageHeaders||null,W&&W.messageContentType&&(b?b["X-WebChannel-Content-Type"]=W.messageContentType:b={"X-WebChannel-Content-Type":W.messageContentType}),W&&W.sa&&(b?b["X-WebChannel-Client-Profile"]=W.sa:b={"X-WebChannel-Client-Profile":W.sa}),this.g.U=b,(b=W&&W.Qb)&&!z(b)&&(this.g.u=b),this.A=W&&W.supportsCrossDomainXhr||!1,this.v=W&&W.sendRawJson||!1,(W=W&&W.httpSessionIdParam)&&!z(W)&&(this.g.G=W,b=this.h,b!==null&&W in b&&(b=this.h,W in b&&delete b[W])),this.j=new or(this)}m(In,Je),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){ul(this.g)},In.prototype.o=function(b){var W=this.g;if(typeof b=="string"){var q={};q.__data__=b,b=q}else this.v&&(q={},q.__data__=xt(b),b=q);W.i.push(new zs(W.Ya++,b)),W.I==3&&Hi(W)},In.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,In.Z.N.call(this)};function xs(b){gt.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var W=b.__sm__;if(W){e:{for(const q in W){b=q;break e}b=void 0}(this.i=b)&&(b=this.i,W=W!==null&&b in W?W[b]:void 0),this.data=W}else this.data=b}m(xs,gt);function yr(){He.call(this),this.status=1}m(yr,He);function or(b){this.g=b}m(or,bn),or.prototype.ra=function(){Qt(this.g,"a")},or.prototype.qa=function(b){Qt(this.g,new xs(b))},or.prototype.pa=function(b){Qt(this.g,new yr)},or.prototype.oa=function(){Qt(this.g,"b")},Mn.prototype.createWebChannel=Mn.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,P4=function(){return new Mn},O4=function(){return Rt()},Q4=at,Hx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,sv=Fa,ua.COMPLETE="complete",L4=ua,Pn.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",Je.prototype.listen=Je.prototype.J,pp=Pn,Gs.prototype.listenOnce=Gs.prototype.K,Gs.prototype.getLastError=Gs.prototype.Ha,Gs.prototype.getLastErrorCode=Gs.prototype.ya,Gs.prototype.getStatus=Gs.prototype.ca,Gs.prototype.getResponseJson=Gs.prototype.La,Gs.prototype.getResponseText=Gs.prototype.la,Gs.prototype.send=Gs.prototype.ea,Gs.prototype.setWithCredentials=Gs.prototype.Fa,D4=Gs}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});const S5="@firebase/firestore",N5="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ho.UNAUTHENTICATED=new Ho(null),Ho.GOOGLE_CREDENTIALS=new Ho("google-credentials-uid"),Ho.FIRST_PARTY=new Ho("first-party-uid"),Ho.MOCK_USER=new Ho("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new WL("@firebase/firestore");function Uf(){return Vh.logLevel}function mn(n,...e){if(Vh.logLevel<=er.DEBUG){const t=e.map(lw);Vh.debug(`Firestore (${cm}): ${n}`,...t)}}function Cu(n,...e){if(Vh.logLevel<=er.ERROR){const t=e.map(lw);Vh.error(`Firestore (${cm}): ${n}`,...t)}}function Xf(n,...e){if(Vh.logLevel<=er.WARN){const t=e.map(lw);Vh.warn(`Firestore (${cm}): ${n}`,...t)}}function lw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,M4(n,s,t)}function M4(n,e,t){let s=`FIRESTORE (${cm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Cu(s),new Error(s)}function wr(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||M4(e,a,s)}function ms(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class en extends ac{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ho.UNAUTHENTICATED)))}shutdown(){}}class XL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class JL{constructor(e){this.t=e,this.currentUser=Ho.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wr(this.o===void 0,42304);let s=this.i;const a=u=>this.i!==s?(s=this.i,t(u)):Promise.resolve();let i=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xu,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},h=u=>{mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>h(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?h(u):(mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xu)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wr(typeof s.accessToken=="string",31837,{l:s}),new k4(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wr(e===null||typeof e=="string",2055,{h:e}),new Ho(e)}}class qL{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ho.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZL{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new qL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ho.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eQ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wr(this.o===void 0,3512);const s=i=>{i.error!=null&&mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const c=i.token!==this.m;return this.m=i.token,mn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const a=i=>{mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>a(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new T5(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=tQ(40);for(let i=0;i<a.length;++i)s.length<20&&a[i]<t&&(s+=e.charAt(a[i]%62))}return s}}function Vs(n,e){return n<e?-1:n>e?1:0}function Vx(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),i=e.charAt(s);if(a!==i)return R1(a)===R1(i)?Vs(a,i):R1(a)?1:-1}return Vs(n.length,e.length)}const nQ=55296,sQ=57343;function R1(n){const e=n.charCodeAt(0);return e>=nQ&&e<=sQ}function Jf(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="__name__";class Fc{constructor(e,t,s){t===void 0?t=0:t>e.length&&ts(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ts(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Fc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fc?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const i=Fc.compareSegments(e.get(a),t.get(a));if(i!==0)return i}return Vs(e.length,t.length)}static compareSegments(e,t){const s=Fc.isNumericId(e),a=Fc.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Fc.extractNumericId(e).compare(Fc.extractNumericId(t)):Vx(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Td.fromString(e.substring(4,e.length-2))}}class ta extends Fc{construct(e,t,s){return new ta(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new en(vt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new ta(t)}static emptyPath(){return new ta([])}}const rQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class co extends Fc{construct(e,t,s){return new co(e,t,s)}static isValidIdentifier(e){return rQ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),co.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I5}static keyField(){return new co([I5])}static fromServerFormat(e){const t=[];let s="",a=0;const i=()=>{if(s.length===0)throw new en(vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new en(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new en(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(i(),a++)}if(i(),c)throw new en(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new co(t)}static emptyPath(){return new co([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.path=e}static fromPath(e){return new zn(ta.fromString(e))}static fromName(e){return new zn(ta.fromString(e).popFirst(5))}static empty(){return new zn(ta.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ta.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ta.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zn(new ta(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n,e,t){if(!t)throw new en(vt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aQ(n,e,t,s){if(e===!0&&s===!0)throw new en(vt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _5(n){if(!zn.isDocumentKey(n))throw new en(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F5(n){if(zn.isDocumentKey(n))throw new en(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function dy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ts(12329,{type:typeof n})}function Il(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new en(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dy(n);throw new en(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iQ(n,e){if(e<=0)throw new en(vt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,e){const t={typeString:n};return e&&(t.value=e),t}function gg(n,e){if(!V4(n))throw new en(vt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(i!==void 0&&c!==i.value){t=`Expected '${s}' field to equal '${i.value}'`;break}}if(t)throw new en(vt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=-62135596800,R5=1e6;class gr{static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*R5);return new gr(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new en(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new en(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U5)throw new en(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new en(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R5}_compareTo(e){return this.seconds===e.seconds?Vs(this.nanoseconds,e.nanoseconds):Vs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gg(e,gr._jsonSchema))return new gr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gr._jsonSchemaVersion="firestore/timestamp/1.0",gr._jsonSchema={type:bi("string",gr._jsonSchemaVersion),seconds:bi("number"),nanoseconds:bi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static fromTimestamp(e){return new As(e)}static min(){return new As(new gr(0,0))}static max(){return new As(new gr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function oQ(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=As.fromTimestamp(s===1e9?new gr(t+1,0):new gr(t,s));return new Rd(a,zn.empty(),e)}function lQ(n){return new Rd(n.readTime,n.key,$p)}class Rd{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Rd(As.min(),zn.empty(),$p)}static max(){return new Rd(As.max(),zn.empty(),$p)}}function AQ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=zn.comparator(n.documentKey,e.documentKey),t!==0?t:Vs(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(n){if(n.code!==vt.FAILED_PRECONDITION||n.message!==cQ)throw n;mn("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ts(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new St(((s,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,a)},this.catchCallback=i=>{this.wrapFailure(t,i).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof St?t:St.resolve(t)}catch(t){return St.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):St.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):St.reject(t)}static resolve(e){return new St(((t,s)=>{t(e)}))}static reject(e){return new St(((t,s)=>{s(e)}))}static waitFor(e){return new St(((t,s)=>{let a=0,i=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++i,c&&i===a&&t()}),(u=>s(u)))})),c=!0,i===a&&t()}))}static or(e){let t=St.resolve(!1);for(const s of e)t=t.next((a=>a?St.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,i)=>{s.push(t.call(this,a,i))})),this.waitFor(s)}static mapArray(e,t){return new St(((s,a)=>{const i=e.length,c=new Array(i);let h=0;for(let u=0;u<i;u++){const f=u;t(e[f]).next((A=>{c[f]=A,++h,h===i&&s(c)}),(A=>a(A)))}}))}static doWhile(e,t){return new St(((s,a)=>{const i=()=>{e()===!0?t().next((()=>{i()}),a):s()};i()}))}}function dQ(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dm(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=-1;function fy(n){return n==null}function Nv(n){return n===0&&1/n==-1/0}function hQ(n){return typeof n=="number"&&Number.isInteger(n)&&!Nv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="";function fQ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D5(e)),e=mQ(n.get(t),e);return D5(e)}function mQ(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const i=n.charAt(a);switch(i){case"\0":t+="";break;case K4:t+="";break;default:t+=i}}return t}function D5(n){return n+K4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function z4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.comparator=e,this.root=t||Ao.EMPTY}insert(e,t){return new _a(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ao.BLACK,null,null))}remove(e){return new _a(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ao.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _0(this.root,e,this.comparator,!1)}getReverseIterator(){return new _0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _0(this.root,e,this.comparator,!0)}}class _0{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?s(e.key,t):1,t&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ao{constructor(e,t,s,a,i){this.key=e,this.value=t,this.color=s??Ao.RED,this.left=a??Ao.EMPTY,this.right=i??Ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,i){return new Ao(e??this.key,t??this.value,s??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const i=s(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,t,s),null):i===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ao.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ao.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ts(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ts(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ts(27949);return e+(this.isRed()?0:1)}}Ao.EMPTY=null,Ao.RED=!0,Ao.BLACK=!1;Ao.EMPTY=new class{constructor(){this.size=0}get key(){throw ts(57766)}get value(){throw ts(16141)}get color(){throw ts(16727)}get left(){throw ts(29726)}get right(){throw ts(36894)}copy(e,t,s,a,i){return this}insert(e,t,s){return new Ao(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.comparator=e,this.data=new _a(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Q5(this.data.getIterator())}getIteratorFrom(e){return new Q5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,i=s.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pi(this.comparator);return t.data=e,t}}class Q5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.fields=e,e.sort(co.comparator)}static empty(){return new Jl([])}unionWith(e){let t=new Pi(co.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Jl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jf(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new G4("Invalid base64 string: "+i):i}})(e);return new fo(t)}static fromUint8Array(e){const t=(function(a){let i="";for(let c=0;c<a.length;++c)i+=String.fromCharCode(a[c]);return i})(e);return new fo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fo.EMPTY_BYTE_STRING=new fo("");const pQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dd(n){if(wr(!!n,39018),typeof n=="string"){let e=0;const t=pQ.exec(n);if(wr(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Za(n.seconds),nanos:Za(n.nanos)}}function Za(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ld(n){return typeof n=="string"?fo.fromBase64String(n):fo.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="server_timestamp",W4="__type__",Y4="__previous_value__",X4="__local_write_time__";function uw(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[W4])==null?void 0:s.stringValue)===$4}function my(n){const e=n.mapValue.fields[Y4];return uw(e)?my(e):e}function Wp(n){const e=Dd(n.mapValue.fields[X4].timestampValue);return new gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,t,s,a,i,c,h,u,f,A){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=i,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=A}}const Tv="(default)";class Yp{constructor(e,t){this.projectId=e,this.database=t||Tv}static empty(){return new Yp("","")}get isDefaultDatabase(){return this.database===Tv}isEqual(e){return e instanceof Yp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="__type__",vQ="__max__",F0={mapValue:{}},q4="__vector__",Iv="value";function Qd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uw(n)?4:xQ(n)?9007199254740991:yQ(n)?10:11:ts(28295,{value:n})}function Hc(n,e){if(n===e)return!0;const t=Qd(n);if(t!==Qd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wp(n).isEqual(Wp(e));case 3:return(function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const c=Dd(a.timestampValue),h=Dd(i.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,i){return Ld(a.bytesValue).isEqual(Ld(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,i){return Za(a.geoPointValue.latitude)===Za(i.geoPointValue.latitude)&&Za(a.geoPointValue.longitude)===Za(i.geoPointValue.longitude)})(n,e);case 2:return(function(a,i){if("integerValue"in a&&"integerValue"in i)return Za(a.integerValue)===Za(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const c=Za(a.doubleValue),h=Za(i.doubleValue);return c===h?Nv(c)===Nv(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Jf(n.arrayValue.values||[],e.arrayValue.values||[],Hc);case 10:case 11:return(function(a,i){const c=a.mapValue.fields||{},h=i.mapValue.fields||{};if(L5(c)!==L5(h))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(h[u]===void 0||!Hc(c[u],h[u])))return!1;return!0})(n,e);default:return ts(52216,{left:n})}}function Xp(n,e){return(n.values||[]).find((t=>Hc(t,e)))!==void 0}function qf(n,e){if(n===e)return 0;const t=Qd(n),s=Qd(e);if(t!==s)return Vs(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vs(n.booleanValue,e.booleanValue);case 2:return(function(i,c){const h=Za(i.integerValue||i.doubleValue),u=Za(c.integerValue||c.doubleValue);return h<u?-1:h>u?1:h===u?0:isNaN(h)?isNaN(u)?0:-1:1})(n,e);case 3:return O5(n.timestampValue,e.timestampValue);case 4:return O5(Wp(n),Wp(e));case 5:return Vx(n.stringValue,e.stringValue);case 6:return(function(i,c){const h=Ld(i),u=Ld(c);return h.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(i,c){const h=i.split("/"),u=c.split("/");for(let f=0;f<h.length&&f<u.length;f++){const A=Vs(h[f],u[f]);if(A!==0)return A}return Vs(h.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,c){const h=Vs(Za(i.latitude),Za(c.latitude));return h!==0?h:Vs(Za(i.longitude),Za(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return P5(n.arrayValue,e.arrayValue);case 10:return(function(i,c){var v,g,B,S;const h=i.fields||{},u=c.fields||{},f=(v=h[Iv])==null?void 0:v.arrayValue,A=(g=u[Iv])==null?void 0:g.arrayValue,m=Vs(((B=f==null?void 0:f.values)==null?void 0:B.length)||0,((S=A==null?void 0:A.values)==null?void 0:S.length)||0);return m!==0?m:P5(f,A)})(n.mapValue,e.mapValue);case 11:return(function(i,c){if(i===F0.mapValue&&c===F0.mapValue)return 0;if(i===F0.mapValue)return 1;if(c===F0.mapValue)return-1;const h=i.fields||{},u=Object.keys(h),f=c.fields||{},A=Object.keys(f);u.sort(),A.sort();for(let m=0;m<u.length&&m<A.length;++m){const v=Vx(u[m],A[m]);if(v!==0)return v;const g=qf(h[u[m]],f[A[m]]);if(g!==0)return g}return Vs(u.length,A.length)})(n.mapValue,e.mapValue);default:throw ts(23264,{he:t})}}function O5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Vs(n,e);const t=Dd(n),s=Dd(e),a=Vs(t.seconds,s.seconds);return a!==0?a:Vs(t.nanos,s.nanos)}function P5(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const i=qf(t[a],s[a]);if(i)return i}return Vs(t.length,s.length)}function Zf(n){return Kx(n)}function Kx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Dd(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ld(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return zn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const i of t.values||[])a?a=!1:s+=",",s+=Kx(i);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",i=!0;for(const c of s)i?i=!1:a+=",",a+=`${c}:${Kx(t.fields[c])}`;return a+"}"})(n.mapValue):ts(61005,{value:n})}function rv(n){switch(Qd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=my(n);return e?16+rv(e):16;case 5:return 2*n.stringValue.length;case 6:return Ld(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,i)=>a+rv(i)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return zd(s.fields,((i,c)=>{a+=i.length+rv(c)})),a})(n.mapValue);default:throw ts(13486,{value:n})}}function M5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zx(n){return!!n&&"integerValue"in n}function dw(n){return!!n&&"arrayValue"in n}function k5(n){return!!n&&"nullValue"in n}function H5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function av(n){return!!n&&"mapValue"in n}function yQ(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[J4])==null?void 0:s.stringValue)===q4}function Cp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return zd(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Cp(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cp(n.arrayValue.values[t]);return e}return{...n}}function xQ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.value=e}static empty(){return new Nl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!av(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cp(t)}setAll(e){let t=co.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const u=this.getFieldsMap(t);this.applyChanges(u,s,a),s={},a=[],t=h.popLast()}c?s[h.lastSegment()]=Cp(c):a.push(h.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,s,a)}delete(e){const t=this.field(e.popLast());av(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];av(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){zd(t,((a,i)=>e[a]=i));for(const a of s)delete e[a]}clone(){return new Nl(Cp(this.value))}}function Z4(n){const e=[];return zd(n.fields,((t,s)=>{const a=new co([t]);if(av(s)){const i=Z4(s.mapValue).fields;if(i.length===0)e.push(a);else for(const c of i)e.push(a.child(c))}else e.push(a)})),new Jl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,s,a,i,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=i,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Vo(e,0,As.min(),As.min(),As.min(),Nl.empty(),0)}static newFoundDocument(e,t,s,a){return new Vo(e,1,t,As.min(),s,a,0)}static newNoDocument(e,t){return new Vo(e,2,t,As.min(),As.min(),Nl.empty(),0)}static newUnknownDocument(e,t){return new Vo(e,3,t,As.min(),As.min(),Nl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(As.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=As.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t){this.position=e,this.inclusive=t}}function V5(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const i=e[a],c=n.position[a];if(i.field.isKeyField()?s=zn.comparator(zn.fromName(c.referenceValue),t.key):s=qf(c,t.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function K5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t="asc"){this.field=e,this.dir=t}}function bQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{}class xi extends eN{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new BQ(e,t,s):t==="array-contains"?new EQ(e,s):t==="in"?new SQ(e,s):t==="not-in"?new NQ(e,s):t==="array-contains-any"?new TQ(e,s):new xi(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new jQ(e,s):new CQ(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qf(t,this.value)):t!==null&&Qd(this.value)===Qd(t)&&this.matchesComparison(qf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ts(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nc extends eN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nc(e,t)}matches(e){return tN(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tN(n){return n.op==="and"}function nN(n){return wQ(n)&&tN(n)}function wQ(n){for(const e of n.filters)if(e instanceof nc)return!1;return!0}function Gx(n){if(n instanceof xi)return n.field.canonicalString()+n.op.toString()+Zf(n.value);if(nN(n))return n.filters.map((e=>Gx(e))).join(",");{const e=n.filters.map((t=>Gx(t))).join(",");return`${n.op}(${e})`}}function sN(n,e){return n instanceof xi?(function(s,a){return a instanceof xi&&s.op===a.op&&s.field.isEqual(a.field)&&Hc(s.value,a.value)})(n,e):n instanceof nc?(function(s,a){return a instanceof nc&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((i,c,h)=>i&&sN(c,a.filters[h])),!0):!1})(n,e):void ts(19439)}function rN(n){return n instanceof xi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zf(t.value)}`})(n):n instanceof nc?(function(t){return t.op.toString()+" {"+t.getFilters().map(rN).join(" ,")+"}"})(n):"Filter"}class BQ extends xi{constructor(e,t,s){super(e,t,s),this.key=zn.fromName(s.referenceValue)}matches(e){const t=zn.comparator(e.key,this.key);return this.matchesComparison(t)}}class jQ extends xi{constructor(e,t){super(e,"in",t),this.keys=aN("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class CQ extends xi{constructor(e,t){super(e,"not-in",t),this.keys=aN("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aN(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>zn.fromName(s.referenceValue)))}class EQ extends xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dw(t)&&Xp(t.arrayValue,this.value)}}class SQ extends xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xp(this.value.arrayValue,t)}}class NQ extends xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xp(this.value.arrayValue,t)}}class TQ extends xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Xp(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,t=null,s=[],a=[],i=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=i,this.startAt=c,this.endAt=h,this.Te=null}}function z5(n,e=null,t=[],s=[],a=null,i=null,c=null){return new IQ(n,e,t,s,a,i,c)}function hw(n){const e=ms(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Gx(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),fy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Zf(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Zf(s))).join(",")),e.Te=t}return e.Te}function fw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!K5(n.startAt,e.startAt)&&K5(n.endAt,e.endAt)}function $x(n){return zn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t=null,s=[],a=[],i=null,c="F",h=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=i,this.limitType=c,this.startAt=h,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _Q(n,e,t,s,a,i,c,h){return new hm(n,e,t,s,a,i,c,h)}function py(n){return new hm(n)}function G5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iN(n){return n.collectionGroup!==null}function Ep(n){const e=ms(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Pi(co.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Jp(i,s))})),t.has(co.keyField().canonicalString())||e.Ie.push(new Jp(co.keyField(),s))}return e.Ie}function Lc(n){const e=ms(n);return e.Ee||(e.Ee=FQ(e,Ep(n))),e.Ee}function FQ(n,e){if(n.limitType==="F")return z5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const i=a.dir==="desc"?"asc":"desc";return new Jp(a.field,i)}));const t=n.endAt?new _v(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new _v(n.startAt.position,n.startAt.inclusive):null;return z5(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Wx(n,e){const t=n.filters.concat([e]);return new hm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fv(n,e,t){return new hm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gy(n,e){return fw(Lc(n),Lc(e))&&n.limitType===e.limitType}function oN(n){return`${hw(Lc(n))}|lt:${n.limitType}`}function Rf(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>rN(a))).join(", ")}]`),fy(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Zf(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Zf(a))).join(",")),`Target(${s})`})(Lc(n))}; limitType=${n.limitType})`}function vy(n,e){return e.isFoundDocument()&&(function(s,a){const i=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):zn.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(n,e)&&(function(s,a){for(const i of Ep(s))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const i of s.filters)if(!i.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,u){const f=V5(c,h,u);return c.inclusive?f<=0:f<0})(s.startAt,Ep(s),a)||s.endAt&&!(function(c,h,u){const f=V5(c,h,u);return c.inclusive?f>=0:f>0})(s.endAt,Ep(s),a))})(n,e)}function UQ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lN(n){return(e,t)=>{let s=!1;for(const a of Ep(n)){const i=RQ(a,e,t);if(i!==0)return i;s=s||a.field.isKeyField()}return 0}}function RQ(n,e,t){const s=n.field.isKeyField()?zn.comparator(e.key,t.key):(function(i,c,h){const u=c.data.field(i),f=h.data.field(i);return u!==null&&f!==null?qf(u,f):ts(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ts(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,i]of s)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){zd(this.inner,((t,s)=>{for(const[a,i]of s)e(a,i)}))}isEmpty(){return z4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=new _a(zn.comparator);function Eu(){return DQ}const AN=new _a(zn.comparator);function gp(...n){let e=AN;for(const t of n)e=e.insert(t.key,t);return e}function cN(n){let e=AN;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Th(){return Sp()}function uN(){return Sp()}function Sp(){return new Xh((n=>n.toString()),((n,e)=>n.isEqual(e)))}const LQ=new _a(zn.comparator),QQ=new Pi(zn.comparator);function Ks(...n){let e=QQ;for(const t of n)e=e.add(t);return e}const OQ=new Pi(Vs);function PQ(){return OQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nv(e)?"-0":e}}function dN(n){return{integerValue:""+n}}function MQ(n,e){return hQ(e)?dN(e):mw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function kQ(n,e,t){return n instanceof Uv?(function(a,i){const c={fields:{[W4]:{stringValue:$4},[X4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&uw(i)&&(i=my(i)),i&&(c.fields[Y4]=i),{mapValue:c}})(t,e):n instanceof qp?fN(n,e):n instanceof Zp?mN(n,e):(function(a,i){const c=hN(a,i),h=$5(c)+$5(a.Ae);return zx(c)&&zx(a.Ae)?dN(h):mw(a.serializer,h)})(n,e)}function HQ(n,e,t){return n instanceof qp?fN(n,e):n instanceof Zp?mN(n,e):t}function hN(n,e){return n instanceof Rv?(function(s){return zx(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class Uv extends yy{}class qp extends yy{constructor(e){super(),this.elements=e}}function fN(n,e){const t=pN(e);for(const s of n.elements)t.some((a=>Hc(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Zp extends yy{constructor(e){super(),this.elements=e}}function mN(n,e){let t=pN(e);for(const s of n.elements)t=t.filter((a=>!Hc(a,s)));return{arrayValue:{values:t}}}class Rv extends yy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function $5(n){return Za(n.integerValue||n.doubleValue)}function pN(n){return dw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VQ(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof qp&&a instanceof qp||s instanceof Zp&&a instanceof Zp?Jf(s.elements,a.elements,Hc):s instanceof Rv&&a instanceof Rv?Hc(s.Ae,a.Ae):s instanceof Uv&&a instanceof Uv})(n.transform,e.transform)}class KQ{constructor(e,t){this.version=e,this.transformResults=t}}class _l{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _l}static exists(e){return new _l(void 0,e)}static updateTime(e){return new _l(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xy{}function gN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new by(n.key,_l.none()):new vg(n.key,n.data,_l.none());{const t=n.data,s=Nl.empty();let a=new Pi(co.comparator);for(let i of e.fields)if(!a.has(i)){let c=t.field(i);c===null&&i.length>1&&(i=i.popLast(),c=t.field(i)),c===null?s.delete(i):s.set(i,c),a=a.add(i)}return new Gd(n.key,s,new Jl(a.toArray()),_l.none())}}function zQ(n,e,t){n instanceof vg?(function(a,i,c){const h=a.value.clone(),u=Y5(a.fieldTransforms,i,c.transformResults);h.setAll(u),i.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Gd?(function(a,i,c){if(!iv(a.precondition,i))return void i.convertToUnknownDocument(c.version);const h=Y5(a.fieldTransforms,i,c.transformResults),u=i.data;u.setAll(vN(a)),u.setAll(h),i.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):(function(a,i,c){i.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Np(n,e,t,s){return n instanceof vg?(function(i,c,h,u){if(!iv(i.precondition,c))return h;const f=i.value.clone(),A=X5(i.fieldTransforms,u,c);return f.setAll(A),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,s):n instanceof Gd?(function(i,c,h,u){if(!iv(i.precondition,c))return h;const f=X5(i.fieldTransforms,u,c),A=c.data;return A.setAll(vN(i)),A.setAll(f),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),h===null?null:h.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,s):(function(i,c,h){return iv(i.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function GQ(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),i=hN(s.transform,a||null);i!=null&&(t===null&&(t=Nl.empty()),t.set(s.field,i))}return t||null}function W5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Jf(s,a,((i,c)=>VQ(i,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vg extends xy{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gd extends xy{constructor(e,t,s,a,i=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vN(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Y5(n,e,t){const s=new Map;wr(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const i=n[a],c=i.transform,h=e.data.field(i.field);s.set(i.field,HQ(c,h,t[a]))}return s}function X5(n,e,t){const s=new Map;for(const a of n){const i=a.transform,c=t.data.field(a.field);s.set(a.field,kQ(i,c,e))}return s}class by extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $Q extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&zQ(i,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Np(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Np(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=uN();return this.mutations.forEach((a=>{const i=e.get(a.key),c=i.overlayedDocument;let h=this.applyToLocalView(c,i.mutatedFields);h=t.has(a.key)?null:h;const u=gN(c,h);u!==null&&s.set(a.key,u),c.isValidDocument()||c.convertToNoDocument(As.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ks())}isEqual(e){return this.batchId===e.batchId&&Jf(this.mutations,e.mutations,((t,s)=>W5(t,s)))&&Jf(this.baseMutations,e.baseMutations,((t,s)=>W5(t,s)))}}class pw{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){wr(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return LQ})();const i=e.mutations;for(let c=0;c<i.length;c++)a=a.insert(i[c].key,s[c].version);return new pw(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi,Zs;function JQ(n){switch(n){case vt.OK:return ts(64938);case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0;default:return ts(15467,{code:n})}}function yN(n){if(n===void 0)return Cu("GRPC error has no .code"),vt.UNKNOWN;switch(n){case vi.OK:return vt.OK;case vi.CANCELLED:return vt.CANCELLED;case vi.UNKNOWN:return vt.UNKNOWN;case vi.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case vi.INTERNAL:return vt.INTERNAL;case vi.UNAVAILABLE:return vt.UNAVAILABLE;case vi.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case vi.NOT_FOUND:return vt.NOT_FOUND;case vi.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case vi.ABORTED:return vt.ABORTED;case vi.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case vi.DATA_LOSS:return vt.DATA_LOSS;default:return ts(39323,{code:n})}}(Zs=vi||(vi={}))[Zs.OK=0]="OK",Zs[Zs.CANCELLED=1]="CANCELLED",Zs[Zs.UNKNOWN=2]="UNKNOWN",Zs[Zs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zs[Zs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zs[Zs.NOT_FOUND=5]="NOT_FOUND",Zs[Zs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zs[Zs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zs[Zs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zs[Zs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zs[Zs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zs[Zs.ABORTED=10]="ABORTED",Zs[Zs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zs[Zs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zs[Zs.INTERNAL=13]="INTERNAL",Zs[Zs.UNAVAILABLE=14]="UNAVAILABLE",Zs[Zs.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=new Td([4294967295,4294967295],0);function J5(n){const e=qQ().encode(n),t=new R4;return t.update(e),new Uint8Array(t.digest())}function q5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Td([t,s],0),new Td([a,i],0)]}class gw{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new vp(`Invalid padding: ${t}`);if(s<0)throw new vp(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vp(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new vp(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Td.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Td.fromNumber(s)));return a.compare(ZQ)===1&&(a=new Td([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=J5(e),[s,a]=q5(t);for(let i=0;i<this.hashCount;i++){const c=this.ye(s,a,i);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),c=new gw(i,a,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=J5(e),[s,a]=q5(t);for(let i=0;i<this.hashCount;i++){const c=this.ye(s,a,i);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class vp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t,s,a,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,yg.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wy(As.min(),a,new _a(Vs),Eu(),Ks())}}class yg{constructor(e,t,s,a,i){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new yg(s,t,Ks(),Ks(),Ks())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class xN{constructor(e,t){this.targetId=e,this.Ce=t}}class bN{constructor(e,t,s=fo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Z5{constructor(){this.ve=0,this.Fe=ej(),this.Me=fo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ks(),t=Ks(),s=Ks();return this.Fe.forEach(((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ts(38017,{changeType:i})}})),new yg(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=ej()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Eu(),this.Je=U0(),this.He=U0(),this.Ye=new _a(Vs)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ts(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const i=a.target;if($x(i))if(s===0){const c=new zn(i.path);this.et(t,c,Vo.newNoDocument(c,As.min()))}else wr(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const h=this.ut(e),u=h?this.ct(h,e,c):1;if(u!==0){this.it(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:i=0}=t;let c,h;try{c=Ld(s).toUint8Array()}catch(u){if(u instanceof G4)return Xf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{h=new gw(c,a,i)}catch(u){return Xf(u instanceof vp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((i=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${i.path.canonicalString()}`;e.mightContain(h)||(this.et(t,i,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((i,c)=>{const h=this.ot(c);if(h){if(i.current&&$x(h.target)){const u=new zn(h.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,Vo.newNoDocument(u,e))}i.Be&&(t.set(c,i.ke()),i.qe())}}));let s=Ks();this.He.forEach(((i,c)=>{let h=!0;c.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(i))})),this.je.forEach(((i,c)=>c.setReadTime(e)));const a=new wy(e,t,this.Ye,this.je,s);return this.je=Eu(),this.Je=U0(),this.He=U0(),this.Ye=new _a(Vs),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Z5,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pi(Vs),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pi(Vs),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||mn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z5),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function U0(){return new _a(zn.comparator)}function ej(){return new _a(zn.comparator)}const tO={asc:"ASCENDING",desc:"DESCENDING"},nO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sO={and:"AND",or:"OR"};class rO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yx(n,e){return n.useProto3Json||fy(e)?e:{value:e}}function Dv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aO(n,e){return Dv(n,e.toTimestamp())}function Qc(n){return wr(!!n,49232),As.fromTimestamp((function(t){const s=Dd(t);return new gr(s.seconds,s.nanos)})(n))}function vw(n,e){return Xx(n,e).canonicalString()}function Xx(n,e){const t=(function(a){return new ta(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function BN(n){const e=ta.fromString(n);return wr(NN(e),10190,{key:e.toString()}),e}function Jx(n,e){return vw(n.databaseId,e.path)}function D1(n,e){const t=BN(e);if(t.get(1)!==n.databaseId.projectId)throw new en(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new en(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new zn(CN(t))}function jN(n,e){return vw(n.databaseId,e)}function iO(n){const e=BN(n);return e.length===4?ta.emptyPath():CN(e)}function qx(n){return new ta(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CN(n){return wr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tj(n,e,t){return{name:Jx(n,e),fields:t.value.mapValue.fields}}function oO(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ts(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=(function(f,A){return f.useProto3Json?(wr(A===void 0||typeof A=="string",58123),fo.fromBase64String(A||"")):(wr(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),fo.fromUint8Array(A||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const A=f.code===void 0?vt.UNKNOWN:yN(f.code);return new en(A,f.message||"")})(c);t=new bN(s,a,i,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=D1(n,s.document.name),i=Qc(s.document.updateTime),c=s.document.createTime?Qc(s.document.createTime):As.min(),h=new Nl({mapValue:{fields:s.document.fields}}),u=Vo.newFoundDocument(a,i,c,h),f=s.targetIds||[],A=s.removedTargetIds||[];t=new ov(f,A,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=D1(n,s.document),i=s.readTime?Qc(s.readTime):As.min(),c=Vo.newNoDocument(a,i),h=s.removedTargetIds||[];t=new ov([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=D1(n,s.document),i=s.removedTargetIds||[];t=new ov([],i,a,null)}else{if(!("filter"in e))return ts(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:i}=s,c=new XQ(a,i),h=s.targetId;t=new xN(h,c)}}return t}function lO(n,e){let t;if(e instanceof vg)t={update:tj(n,e.key,e.value)};else if(e instanceof by)t={delete:Jx(n,e.key)};else if(e instanceof Gd)t={update:tj(n,e.key,e.data),updateMask:gO(e.fieldMask)};else{if(!(e instanceof $Q))return ts(16599,{Vt:e.type});t={verify:Jx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(i,c){const h=c.transform;if(h instanceof Uv)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qp)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zp)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rv)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw ts(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,i){return i.updateTime!==void 0?{updateTime:aO(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ts(27497)})(n,e.precondition)),t}function AO(n,e){return n&&n.length>0?(wr(e!==void 0,14353),n.map((t=>(function(a,i){let c=a.updateTime?Qc(a.updateTime):Qc(i);return c.isEqual(As.min())&&(c=Qc(i)),new KQ(c,a.transformResults||[])})(t,e)))):[]}function cO(n,e){return{documents:[jN(n,e.path)]}}function uO(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jN(n,a);const i=(function(f){if(f.length!==0)return SN(nc.create(f,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const c=(function(f){if(f.length!==0)return f.map((A=>(function(v){return{field:Df(v.field),direction:fO(v.dir)}})(A)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Yx(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function dO(n){let e=iO(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){wr(s===1,65062);const A=t.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let i=[];t.where&&(i=(function(m){const v=EN(m);return v instanceof nc&&nN(v)?v.getFilters():[v]})(t.where));let c=[];t.orderBy&&(c=(function(m){return m.map((v=>(function(B){return new Jp(Lf(B.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(m){let v;return v=typeof m=="object"?m.value:m,fy(v)?null:v})(t.limit));let u=null;t.startAt&&(u=(function(m){const v=!!m.before,g=m.values||[];return new _v(g,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(m){const v=!m.before,g=m.values||[];return new _v(g,v)})(t.endAt)),_Q(e,a,c,i,h,"F",u,f)}function hO(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ts(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Lf(t.unaryFilter.field);return xi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lf(t.unaryFilter.field);return xi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lf(t.unaryFilter.field);return xi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lf(t.unaryFilter.field);return xi.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ts(61313);default:return ts(60726)}})(n):n.fieldFilter!==void 0?(function(t){return xi.create(Lf(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ts(58110);default:return ts(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return nc.create(t.compositeFilter.filters.map((s=>EN(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ts(1026)}})(t.compositeFilter.op))})(n):ts(30097,{filter:n})}function fO(n){return tO[n]}function mO(n){return nO[n]}function pO(n){return sO[n]}function Df(n){return{fieldPath:n.canonicalString()}}function Lf(n){return co.fromServerFormat(n.fieldPath)}function SN(n){return n instanceof xi?(function(t){if(t.op==="=="){if(H5(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NAN"}};if(k5(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(H5(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NOT_NAN"}};if(k5(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Df(t.field),op:mO(t.op),value:t.value}}})(n):n instanceof nc?(function(t){const s=t.getFilters().map((a=>SN(a)));return s.length===1?s[0]:{compositeFilter:{op:pO(t.op),filters:s}}})(n):ts(54877,{filter:n})}function gO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function NN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,s,a,i=As.min(),c=As.min(),h=fo.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=u}withSequenceNumber(e){return new Bd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.yt=e}}function yO(n){const e=dO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Cn=new bO}addToCollectionParentIndex(e,t){return this.Cn.add(t),St.resolve()}getCollectionParents(e,t){return St.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return St.resolve()}deleteFieldIndex(e,t){return St.resolve()}deleteAllFieldIndexes(e){return St.resolve()}createTargetIndexes(e,t){return St.resolve()}getDocumentsMatchingTarget(e,t){return St.resolve(null)}getIndexType(e,t){return St.resolve(0)}getFieldIndexes(e,t){return St.resolve([])}getNextCollectionGroupToUpdate(e){return St.resolve(null)}getMinOffset(e,t){return St.resolve(Rd.min())}getMinOffsetFromCollectionGroup(e,t){return St.resolve(Rd.min())}updateCollectionGroup(e,t,s){return St.resolve()}updateIndexEntries(e,t){return St.resolve()}}class bO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Pi(ta.comparator),i=!a.has(s);return this.index[t]=a.add(s),i}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Pi(ta.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TN=41943040;class Sl{static withCacheSize(e){return new Sl(e,Sl.DEFAULT_COLLECTION_PERCENTILE,Sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl.DEFAULT_COLLECTION_PERCENTILE=10,Sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sl.DEFAULT=new Sl(TN,Sl.DEFAULT_COLLECTION_PERCENTILE,Sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sl.DISABLED=new Sl(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new em(0)}static cr(){return new em(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="LruGarbageCollector",wO=1048576;function rj([n,e],[t,s]){const a=Vs(n,t);return a===0?Vs(e,s):a}class BO{constructor(e){this.Ir=e,this.buffer=new Pi(rj),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();rj(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){mn(sj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dm(t)?mn(sj,"Ignoring IndexedDB error during garbage collection: ",t):await um(t)}await this.Vr(3e5)}))}}class CO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return St.resolve(hy.ce);const s=new BO(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(mn("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(nj)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nj):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,i,c,h,u,f;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,c=Date.now(),this.nthSequenceNumber(e,a)))).next((m=>(s=m,h=Date.now(),this.removeTargets(e,s,t)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((m=>(f=Date.now(),Uf()<=er.DEBUG&&mn("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-A}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${i} targets in `+(u-h)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-A}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:m}))))}}function EO(n,e){return new CO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.changes=new Xh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?St.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Np(s.mutation,a,Jl.empty(),gr.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ks()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ks()){const a=Th();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((i=>{let c=gp();return i.forEach(((h,u)=>{c=c.insert(h,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Th();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ks())))}populateOverlays(e,t,s){const a=[];return s.forEach((i=>{t.has(i)||a.push(i)})),this.documentOverlayCache.getOverlays(e,a).next((i=>{i.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,a){let i=Eu();const c=Sp(),h=(function(){return Sp()})();return t.forEach(((u,f)=>{const A=s.get(f.key);a.has(f.key)&&(A===void 0||A.mutation instanceof Gd)?i=i.insert(f.key,f):A!==void 0?(c.set(f.key,A.mutation.getFieldMask()),Np(A.mutation,f,A.mutation.getFieldMask(),gr.now())):c.set(f.key,Jl.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((f,A)=>c.set(f,A))),t.forEach(((f,A)=>h.set(f,new NO(A,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=Sp();let a=new _a(((c,h)=>c-h)),i=Ks();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((u=>{const f=t.get(u);if(f===null)return;let A=s.get(u)||Jl.empty();A=h.applyToLocalView(f,A),s.set(u,A);const m=(a.get(h.batchId)||Ks()).add(u);a=a.insert(h.batchId,m)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const u=h.getNext(),f=u.key,A=u.value,m=uN();A.forEach((v=>{if(!i.has(v)){const g=gN(t.get(v),s.get(v));g!==null&&m.set(v,g),i=i.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,m))}return St.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return zn.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((i=>{const c=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-i.size):St.resolve(Th());let h=$p,u=i;return c.next((f=>St.forEach(f,((A,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),i.get(A)?St.resolve():this.remoteDocumentCache.getEntry(e,A).next((v=>{u=u.insert(A,v)}))))).next((()=>this.populateOverlays(e,f,i))).next((()=>this.computeViews(e,u,f,Ks()))).next((A=>({batchId:h,changes:cN(A)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zn(t)).next((s=>{let a=gp();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const i=t.collectionGroup;let c=gp();return this.indexManager.getCollectionParents(e,i).next((h=>St.forEach(h,(u=>{const f=(function(m,v){return new hm(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,s,a).next((A=>{A.forEach(((m,v)=>{c=c.insert(m,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(i=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,i,a)))).next((c=>{i.forEach(((u,f)=>{const A=f.getKey();c.get(A)===null&&(c=c.insert(A,Vo.newInvalidDocument(A)))}));let h=gp();return c.forEach(((u,f)=>{const A=i.get(u);A!==void 0&&Np(A.mutation,f,Jl.empty(),gr.now()),vy(t,f)&&(h=h.insert(u,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return St.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Qc(a.createTime)}})(t)),St.resolve()}getNamedQuery(e,t){return St.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:yO(a.bundledQuery),readTime:Qc(a.readTime)}})(t)),St.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.overlays=new _a(zn.comparator),this.qr=new Map}getOverlay(e,t){return St.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Th();return St.forEach(t,(a=>this.getOverlay(e,a).next((i=>{i!==null&&s.set(a,i)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,i)=>{this.St(e,t,i)})),St.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(s)),St.resolve()}getOverlaysForCollection(e,t,s){const a=Th(),i=t.length+1,c=new zn(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const u=h.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===i&&u.largestBatchId>s&&a.set(u.getKey(),u)}return St.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let i=new _a(((f,A)=>f-A));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>s){let A=i.get(f.largestBatchId);A===null&&(A=Th(),i=i.insert(f.largestBatchId,A)),A.set(f.getKey(),f)}}const h=Th(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,A)=>h.set(f,A))),!(h.size()>=a)););return St.resolve(h)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new YQ(t,s));let i=this.qr.get(t);i===void 0&&(i=Ks(),this.qr.set(t,i)),this.qr.set(t,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.sessionToken=fo.EMPTY_BYTE_STRING}getSessionToken(e){return St.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,St.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.Qr=new Pi(Gi.$r),this.Ur=new Pi(Gi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Gi(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Gi(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new zn(new ta([])),s=new Gi(t,e),a=new Gi(t,e+1),i=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),i.push(c.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new zn(new ta([])),s=new Gi(t,e),a=new Gi(t,e+1);let i=Ks();return this.Ur.forEachInRange([s,a],(c=>{i=i.add(c.key)})),i}containsKey(e){const t=new Gi(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return zn.comparator(e.key,t.key)||Vs(e.Yr,t.Yr)}static Kr(e,t){return Vs(e.Yr,t.Yr)||zn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pi(Gi.$r)}checkEmpty(e){return St.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WQ(i,t,s,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Gi(h.key,i)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return St.resolve(c)}lookupMutationBatch(e,t){return St.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),i=a<0?0:a;return St.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(this.mutationQueue.length===0?cw:this.tr-1)}getAllMutationBatches(e){return St.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gi(t,0),a=new Gi(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,a],(c=>{const h=this.Xr(c.Yr);i.push(h)})),St.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pi(Vs);return t.forEach((a=>{const i=new Gi(a,0),c=new Gi(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,c],(h=>{s=s.add(h.Yr)}))})),St.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let i=s;zn.isDocumentKey(i)||(i=i.child(""));const c=new Gi(new zn(i),0);let h=new Pi(Vs);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!s.isPrefixOf(f)&&(f.length===a&&(h=h.add(u.Yr)),!0)}),c),St.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){wr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return St.forEach(t.mutations,(a=>{const i=new Gi(a.key,t.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Gi(t,0),a=this.Zr.firstAfterOrEqual(s);return St.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,St.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.ri=e,this.docs=(function(){return new _a(zn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),i=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return St.resolve(s?s.document.mutableCopy():Vo.newInvalidDocument(t))}getEntries(e,t){let s=Eu();return t.forEach((a=>{const i=this.docs.get(a);s=s.insert(a,i?i.document.mutableCopy():Vo.newInvalidDocument(a))})),St.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let i=Eu();const c=t.path,h=new zn(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(h);for(;u.hasNext();){const{key:f,value:{document:A}}=u.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||AQ(lQ(A),s)<=0||(a.has(A.key)||vy(t,A))&&(i=i.insert(A.key,A.mutableCopy()))}return St.resolve(i)}getAllFromCollectionGroup(e,t,s,a){ts(9500)}ii(e,t){return St.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new DO(this)}getSize(e){return St.resolve(this.size)}}class DO extends SO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),St.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.persistence=e,this.si=new Xh((t=>hw(t)),fw),this.lastRemoteSnapshotVersion=As.min(),this.highestTargetId=0,this.oi=0,this._i=new yw,this.targetCount=0,this.ai=em.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),St.resolve()}getLastRemoteSnapshotVersion(e){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return St.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),St.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new em(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,St.resolve()}updateTargetData(e,t){return this.Pr(t),St.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,St.resolve()}removeTargets(e,t,s){let a=0;const i=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.si.delete(c),i.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),St.waitFor(i).next((()=>a))}getTargetCount(e){return St.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return St.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),St.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,i=[];return a&&t.forEach((c=>{i.push(a.markPotentiallyOrphaned(e,c))})),St.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),St.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return St.resolve(s)}containsKey(e,t){return St.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.ui={},this.overlays={},this.ci=new hy(0),this.li=!1,this.li=!0,this.hi=new FO,this.referenceDelegate=e(this),this.Pi=new LO(this),this.indexManager=new xO,this.remoteDocumentCache=(function(a){return new RO(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new vO(t),this.Ii=new IO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _O,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new UO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){mn("MemoryPersistence","Starting transaction:",e);const a=new QO(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((i=>this.referenceDelegate.di(a).next((()=>i)))).toPromise().then((i=>(a.raiseOnCommittedEvent(),i)))}Ai(e,t){return St.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class QO extends uQ{constructor(e){super(),this.currentSequenceNumber=e}}class xw{constructor(e){this.persistence=e,this.Ri=new yw,this.Vi=null}static mi(e){return new xw(e)}get fi(){if(this.Vi)return this.Vi;throw ts(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),St.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),St.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),St.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((i=>this.fi.add(i.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.fi,(s=>{const a=zn.fromPath(s);return this.gi(e,a).next((i=>{i||t.removeEntry(a,As.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return St.or([()=>St.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Lv{constructor(e,t){this.persistence=e,this.pi=new Xh((s=>fQ(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=EO(this,t)}static mi(e,t){return new Lv(e,t)}Ei(){}di(e){return St.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return St.forEach(this.pi,((s,a)=>this.br(e,s,a).next((i=>i?St.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((h=>{h||(s++,i.removeEntry(c,As.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),St.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),St.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),St.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),St.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rv(e.data.value)),t}br(e,t,s){return St.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return St.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Ks(),a=Ks();for(const i of t.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new bw(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tU()?8:dQ(zo())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const i={result:null};return this.ys(e,t).next((c=>{i.result=c})).next((()=>{if(!i.result)return this.ws(e,t,a,s).next((c=>{i.result=c}))})).next((()=>{if(i.result)return;const c=new OO;return this.Ss(e,t,c).next((h=>{if(i.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>i.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(Uf()<=er.DEBUG&&mn("QueryEngine","SDK will not create cache indexes for query:",Rf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),St.resolve()):(Uf()<=er.DEBUG&&mn("QueryEngine","Query:",Rf(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uf()<=er.DEBUG&&mn("QueryEngine","The SDK decides to create cache indexes for query:",Rf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lc(t))):St.resolve())}ys(e,t){if(G5(t))return St.resolve(null);let s=Lc(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Fv(t,null,"F"),s=Lc(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const c=Ks(...i);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((u=>{const f=this.Ds(t,h);return this.Cs(t,f,c,u.readTime)?this.ys(e,Fv(t,null,"F")):this.vs(e,f,t,u)}))))})))))}ws(e,t,s,a){return G5(t)||a.isEqual(As.min())?St.resolve(null):this.ps.getDocuments(e,s).next((i=>{const c=this.Ds(t,i);return this.Cs(t,c,s,a)?St.resolve(null):(Uf()<=er.DEBUG&&mn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rf(t)),this.vs(e,c,t,oQ(a,$p)).next((h=>h)))}))}Ds(e,t){let s=new Pi(lN(e));return t.forEach(((a,i)=>{vy(e,i)&&(s=s.add(i))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,t,s){return Uf()<=er.DEBUG&&mn("QueryEngine","Using full collection scan to execute query:",Rf(t)),this.ps.getDocumentsMatchingQuery(e,t,Rd.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((i=>(t.forEach((c=>{i=i.insert(c.key,c)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="LocalStore",MO=3e8;class kO{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new _a(Vs),this.xs=new Xh((i=>hw(i)),fw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function HO(n,e,t,s){return new kO(n,e,t,s)}async function _N(n,e){const t=ms(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((i=>(a=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((i=>{const c=[],h=[];let u=Ks();for(const f of a){c.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}for(const f of i){h.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}return t.localDocuments.getDocuments(s,u).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function VO(n,e){const t=ms(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,u,f,A){const m=f.batch,v=m.keys();let g=St.resolve();return v.forEach((B=>{g=g.next((()=>A.getEntry(u,B))).next((S=>{const T=f.docVersions.get(B);wr(T!==null,48541),S.version.compareTo(T)<0&&(m.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),A.addEntry(S)))}))})),g.next((()=>h.mutationQueue.removeMutationBatch(u,m)))})(t,s,e,i).next((()=>i.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let u=Ks();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(u=u.add(h.batch.mutations[f].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function FN(n){const e=ms(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function KO(n,e){const t=ms(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((A,m)=>{const v=a.get(m);if(!v)return;h.push(t.Pi.removeMatchingKeys(i,A.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,A.addedDocuments,m))));let g=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(fo.EMPTY_BYTE_STRING,As.min()).withLastLimboFreeSnapshotVersion(As.min()):A.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(A.resumeToken,s)),a=a.insert(m,g),(function(S,T,E){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=MO?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(v,g,A)&&h.push(t.Pi.updateTargetData(i,g))}));let u=Eu(),f=Ks();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(i,A))})),h.push(zO(i,c,e.documentUpdates).next((A=>{u=A.ks,f=A.qs}))),!s.isEqual(As.min())){const A=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s)));h.push(A)}return St.waitFor(h).next((()=>c.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,u,f))).next((()=>u))})).then((i=>(t.Ms=a,i)))}function zO(n,e,t){let s=Ks(),a=Ks();return t.forEach((i=>s=s.add(i))),e.getEntries(n,s).next((i=>{let c=Eu();return t.forEach(((h,u)=>{const f=i.get(h);u.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(h)),u.isNoDocument()&&u.version.isEqual(As.min())?(e.removeEntry(h,u.readTime),c=c.insert(h,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),c=c.insert(h,u)):mn(ww,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",u.version)})),{ks:c,qs:a}}))}function GO(n,e){const t=ms(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cw),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $O(n,e){const t=ms(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((i=>i?(a=i,St.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new Bd(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Zx(n,e,t){const s=ms(n),a=s.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",i,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!dm(c))throw c;mn(ww,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function aj(n,e,t){const s=ms(n);let a=As.min(),i=Ks();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,f,A){const m=ms(u),v=m.xs.get(A);return v!==void 0?St.resolve(m.Ms.get(v)):m.Pi.getTargetData(f,A)})(s,c,Lc(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((u=>{i=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:As.min(),t?i:Ks()))).next((h=>(WO(s,UQ(e),h),{documents:h,Qs:i})))))}function WO(n,e,t){let s=n.Os.get(e)||As.min();t.forEach(((a,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),n.Os.set(e,s)}class ij{constructor(){this.activeTargetIds=PQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YO{constructor(){this.Mo=new ij,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ij,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="ConnectivityMonitor";class lj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mn(oj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){mn(oj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R0=null;function eb(){return R0===null?R0=(function(){return 268435456+Math.round(2147483648*Math.random())})():R0++,"0x"+R0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="RestConnection",JO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Tv?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,i){const c=eb(),h=this.zo(e,t.toUriEncodedString());mn(L1,`Sending RPC '${e}' ${c}:`,h,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,i);const{host:f}=new URL(h),A=Vd(f);return this.Jo(e,h,u,s,A).then((m=>(mn(L1,`Received RPC '${e}' ${c}: `,m),m)),(m=>{throw Xf(L1,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",s),m}))}Ho(e,t,s,a,i,c){return this.Go(e,t,s,a,i)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,i)=>e[i]=a)),s&&s.headers.forEach(((a,i)=>e[i]=a))}zo(e,t){const s=JO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="WebChannelConnection";class e8 extends qO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,i){const c=eb();return new Promise(((h,u)=>{const f=new D4;f.setWithCredentials(!0),f.listenOnce(L4.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case sv.NO_ERROR:const m=f.getResponseJson();mn(Qo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(m)),h(m);break;case sv.TIMEOUT:mn(Qo,`RPC '${e}' ${c} timed out`),u(new en(vt.DEADLINE_EXCEEDED,"Request time out"));break;case sv.HTTP_ERROR:const v=f.getStatus();if(mn(Qo,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const B=g==null?void 0:g.error;if(B&&B.status&&B.message){const S=(function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(_)>=0?_:vt.UNKNOWN})(B.status);u(new en(S,B.message))}else u(new en(vt.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new en(vt.UNAVAILABLE,"Connection failed."));break;default:ts(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{mn(Qo,`RPC '${e}' ${c} completed.`)}}));const A=JSON.stringify(a);mn(Qo,`RPC '${e}' ${c} sending request:`,a),f.send(t,"POST",A,s,15)}))}T_(e,t,s){const a=eb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=P4(),h=O4(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,s),u.encodeInitMessageHeaders=!0;const A=i.join("");mn(Qo,`Creating RPC '${e}' stream ${a}: ${A}`,u);const m=c.createWebChannel(A,u);this.I_(m);let v=!1,g=!1;const B=new ZO({Yo:T=>{g?mn(Qo,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(v||(mn(Qo,`Opening RPC '${e}' stream ${a} transport.`),m.open(),v=!0),mn(Qo,`RPC '${e}' stream ${a} sending:`,T),m.send(T))},Zo:()=>m.close()}),S=(T,E,_)=>{T.listen(E,(F=>{try{_(F)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return S(m,pp.EventType.OPEN,(()=>{g||(mn(Qo,`RPC '${e}' stream ${a} transport opened.`),B.o_())})),S(m,pp.EventType.CLOSE,(()=>{g||(g=!0,mn(Qo,`RPC '${e}' stream ${a} transport closed`),B.a_(),this.E_(m))})),S(m,pp.EventType.ERROR,(T=>{g||(g=!0,Xf(Qo,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),B.a_(new en(vt.UNAVAILABLE,"The operation could not be completed")))})),S(m,pp.EventType.MESSAGE,(T=>{var E;if(!g){const _=T.data[0];wr(!!_,16349);const F=_,Q=(F==null?void 0:F.error)||((E=F[0])==null?void 0:E.error);if(Q){mn(Qo,`RPC '${e}' stream ${a} received error:`,Q);const M=Q.status;let k=(function(O){const $=vi[O];if($!==void 0)return yN($)})(M),R=Q.message;k===void 0&&(k=vt.INTERNAL,R="Unknown error status: "+M+" with message "+Q.message),g=!0,B.a_(new en(k,R)),m.close()}else mn(Qo,`RPC '${e}' stream ${a} received:`,_),B.u_(_)}})),S(h,Q4.STAT_EVENT,(T=>{T.stat===Hx.PROXY?mn(Qo,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===Hx.NOPROXY&&mn(Qo,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Q1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n){return new rO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,s=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&mn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="PersistentStream";class RN{constructor(e,t,s,a,i,c,h,u){this.Mi=e,this.S_=s,this.b_=a,this.connection=i,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UN(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===vt.RESOURCE_EXHAUSTED?(Cu(t.toString()),Cu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new en(vt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return mn(Aj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(mn(Aj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t8 extends RN{constructor(e,t,s,a,i,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=oO(this.serializer,e),s=(function(i){if(!("targetChange"in i))return As.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?As.min():c.readTime?Qc(c.readTime):As.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=qx(this.serializer),t.addTarget=(function(i,c){let h;const u=c.target;if(h=$x(u)?{documents:cO(i,u)}:{query:uO(i,u).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=wN(i,c.resumeToken);const f=Yx(i,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(As.min())>0){h.readTime=Dv(i,c.snapshotVersion.toTimestamp());const f=Yx(i,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const s=hO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=qx(this.serializer),t.removeTarget=e,this.q_(t)}}class n8 extends RN{constructor(e,t,s,a,i,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AO(e.writeResults,e.commitTime),s=Qc(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=qx(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>lO(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{}class r8 extends s8{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new en(vt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,c])=>this.connection.Go(e,Xx(t,s),a,i,c))).catch((i=>{throw i.name==="FirebaseError"?(i.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new en(vt.UNKNOWN,i.toString())}))}Ho(e,t,s,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Xx(t,s),a,c,h,i))).catch((c=>{throw c.name==="FirebaseError"?(c.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new en(vt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cu(t),this.aa=!1):mn("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="RemoteStore";class i8{constructor(e,t,s,a,i){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Jh(this)&&(mn(Kh,"Restarting streams for network reachability change."),await(async function(u){const f=ms(u);f.Ea.add(4),await xg(f),f.Ra.set("Unknown"),f.Ea.delete(4),await jy(f)})(this))}))})),this.Ra=new a8(s,a)}}async function jy(n){if(Jh(n))for(const e of n.da)await e(!0)}async function xg(n){for(const e of n.da)await e(!1)}function DN(n,e){const t=ms(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ew(t)?Cw(t):fm(t).O_()&&jw(t,e))}function Bw(n,e){const t=ms(n),s=fm(t);t.Ia.delete(e),s.O_()&&LN(t,e),t.Ia.size===0&&(s.O_()?s.L_():Jh(t)&&t.Ra.set("Unknown"))}function jw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(As.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fm(n).Y_(e)}function LN(n,e){n.Va.Ue(e),fm(n).Z_(e)}function Cw(n){n.Va=new eO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fm(n).start(),n.Ra.ua()}function Ew(n){return Jh(n)&&!fm(n).x_()&&n.Ia.size>0}function Jh(n){return ms(n).Ea.size===0}function QN(n){n.Va=void 0}async function o8(n){n.Ra.set("Online")}async function l8(n){n.Ia.forEach(((e,t)=>{jw(n,e)}))}async function A8(n,e){QN(n),Ew(n)?(n.Ra.ha(e),Cw(n)):n.Ra.set("Unknown")}async function c8(n,e,t){if(n.Ra.set("Online"),e instanceof bN&&e.state===2&&e.cause)try{await(async function(a,i){const c=i.cause;for(const h of i.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(s){mn(Kh,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qv(n,s)}else if(e instanceof ov?n.Va.Ze(e):e instanceof xN?n.Va.st(e):n.Va.tt(e),!t.isEqual(As.min()))try{const s=await FN(n.localStore);t.compareTo(s)>=0&&await(function(i,c){const h=i.Va.Tt(c);return h.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const A=i.Ia.get(f);A&&i.Ia.set(f,A.withResumeToken(u.resumeToken,c))}})),h.targetMismatches.forEach(((u,f)=>{const A=i.Ia.get(u);if(!A)return;i.Ia.set(u,A.withResumeToken(fo.EMPTY_BYTE_STRING,A.snapshotVersion)),LN(i,u);const m=new Bd(A.target,u,f,A.sequenceNumber);jw(i,m)})),i.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){mn(Kh,"Failed to raise snapshot:",s),await Qv(n,s)}}async function Qv(n,e,t){if(!dm(e))throw e;n.Ea.add(1),await xg(n),n.Ra.set("Offline"),t||(t=()=>FN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mn(Kh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await jy(n)}))}function ON(n,e){return e().catch((t=>Qv(n,t,e)))}async function Cy(n){const e=ms(n),t=Od(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cw;for(;u8(e);)try{const a=await GO(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,d8(e,a)}catch(a){await Qv(e,a)}PN(e)&&MN(e)}function u8(n){return Jh(n)&&n.Ta.length<10}function d8(n,e){n.Ta.push(e);const t=Od(n);t.O_()&&t.X_&&t.ea(e.mutations)}function PN(n){return Jh(n)&&!Od(n).x_()&&n.Ta.length>0}function MN(n){Od(n).start()}async function h8(n){Od(n).ra()}async function f8(n){const e=Od(n);for(const t of n.Ta)e.ea(t.mutations)}async function m8(n,e,t){const s=n.Ta.shift(),a=pw.from(s,e,t);await ON(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Cy(n)}async function p8(n,e){e&&Od(n).X_&&await(async function(s,a){if((function(c){return JQ(c)&&c!==vt.ABORTED})(a.code)){const i=s.Ta.shift();Od(s).B_(),await ON(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,a))),await Cy(s)}})(n,e),PN(n)&&MN(n)}async function cj(n,e){const t=ms(n);t.asyncQueue.verifyOperationInProgress(),mn(Kh,"RemoteStore received new credentials");const s=Jh(t);t.Ea.add(3),await xg(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jy(t)}async function g8(n,e){const t=ms(n);e?(t.Ea.delete(2),await jy(t)):e||(t.Ea.add(2),await xg(t),t.Ra.set("Unknown"))}function fm(n){return n.ma||(n.ma=(function(t,s,a){const i=ms(t);return i.sa(),new t8(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(n.datastore,n.asyncQueue,{Xo:o8.bind(null,n),t_:l8.bind(null,n),r_:A8.bind(null,n),H_:c8.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ew(n)?Cw(n):n.Ra.set("Unknown")):(await n.ma.stop(),QN(n))}))),n.ma}function Od(n){return n.fa||(n.fa=(function(t,s,a){const i=ms(t);return i.sa(),new n8(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:h8.bind(null,n),r_:p8.bind(null,n),ta:f8.bind(null,n),na:m8.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Cy(n)):(await n.fa.stop(),n.Ta.length>0&&(mn(Kh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,s,a,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=i,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,i){const c=Date.now()+s,h=new Sw(e,t,c,a,i);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new en(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nw(n,e){if(Cu("AsyncQueue",`${e}: ${n}`),dm(n))return new en(vt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{static emptySet(e){return new $f(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||zn.comparator(t.key,s.key):(t,s)=>zn.comparator(t.key,s.key),this.keyedMap=gp(),this.sortedSet=new _a(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $f)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,i=s.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new $f;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.ga=new _a(zn.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ts(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class tm{constructor(e,t,s,a,i,c,h,u,f){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=i,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,s,a,i){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new tm(e,t,$f.emptySet(t),c,s,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class y8{constructor(){this.queries=dj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=ms(t),i=a.queries;a.queries=dj(),i.forEach(((c,h)=>{for(const u of h.Sa)u.onError(s)}))})(this,new en(vt.ABORTED,"Firestore shutting down"))}}function dj(){return new Xh((n=>oN(n)),gy)}async function Tw(n,e){const t=ms(n);let s=3;const a=e.query;let i=t.queries.get(a);i?!i.ba()&&e.Da()&&(s=2):(i=new v8,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await t.onListen(a,!0);break;case 1:i.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=Nw(c,`Initialization of query '${Rf(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&_w(t)}async function Iw(n,e){const t=ms(n),s=e.query;let a=3;const i=t.queries.get(s);if(i){const c=i.Sa.indexOf(e);c>=0&&(i.Sa.splice(c,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function x8(n,e){const t=ms(n);let s=!1;for(const a of e){const i=a.query,c=t.queries.get(i);if(c){for(const h of c.Sa)h.Fa(a)&&(s=!0);c.wa=a}}s&&_w(t)}function b8(n,e,t){const s=ms(n),a=s.queries.get(e);if(a)for(const i of a.Sa)i.onError(t);s.queries.delete(e)}function _w(n){n.Ca.forEach((e=>{e.next()}))}var tb,hj;(hj=tb||(tb={})).Ma="default",hj.Cache="cache";class Fw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new tm(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=tm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.key=e}}class HN{constructor(e){this.key=e}}class w8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ks(),this.mutatedKeys=Ks(),this.eu=lN(e),this.tu=new $f(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new uj,a=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((A,m)=>{const v=a.get(A),g=vy(this.query,m)?m:null,B=!!v&&this.mutatedKeys.has(v.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;v&&g?v.data.isEqual(g.data)?B!==S&&(s.track({type:3,doc:g}),T=!0):this.su(v,g)||(s.track({type:2,doc:g}),T=!0,(u&&this.eu(g,u)>0||f&&this.eu(g,f)<0)&&(h=!0)):!v&&g?(s.track({type:0,doc:g}),T=!0):v&&!g&&(s.track({type:1,doc:v}),T=!0,(u||f)&&(h=!0)),T&&(g?(c=c.add(g),i=S?i.add(A):i.delete(A)):(c=c.delete(A),i=i.delete(A)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const A=this.query.limitType==="F"?c.last():c.first();c=c.delete(A.key),i=i.delete(A.key),s.track({type:1,doc:A})}return{tu:c,iu:s,Cs:h,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((A,m)=>(function(g,B){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ts(20277,{Rt:T})}};return S(g)-S(B)})(A.type,m.type)||this.eu(A.doc,m.doc))),this.ou(s),a=a??!1;const h=t&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,f=u!==this.Za;return this.Za=u,c.length!==0||f?{snapshot:new tm(this.query,e.tu,i,c,e.mutatedKeys,u===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ks(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new HN(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new kN(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ks();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return tm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Uw="SyncEngine";class B8{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class j8{constructor(e){this.key=e,this.hu=!1}}class C8{constructor(e,t,s,a,i,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xh((h=>oN(h)),gy),this.Iu=new Map,this.Eu=new Set,this.du=new _a(zn.comparator),this.Au=new Map,this.Ru=new yw,this.Vu={},this.mu=new Map,this.fu=em.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E8(n,e,t=!0){const s=WN(n);let a;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await VN(s,e,t,!0),a}async function S8(n,e){const t=WN(n);await VN(t,e,!0,!1)}async function VN(n,e,t,s){const a=await $O(n.localStore,Lc(e)),i=a.targetId,c=n.sharedClientState.addLocalQueryTarget(i,t);let h;return s&&(h=await N8(n,e,i,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&DN(n.remoteStore,a),h}async function N8(n,e,t,s,a){n.pu=(m,v,g)=>(async function(S,T,E,_){let F=T.view.ru(E);F.Cs&&(F=await aj(S.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,F))));const Q=_&&_.targetChanges.get(T.targetId),M=_&&_.targetMismatches.get(T.targetId)!=null,k=T.view.applyChanges(F,S.isPrimaryClient,Q,M);return mj(S,T.targetId,k.au),k.snapshot})(n,m,v,g);const i=await aj(n.localStore,e,!0),c=new w8(e,i.Qs),h=c.ru(i.documents),u=yg.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),f=c.applyChanges(h,n.isPrimaryClient,u);mj(n,t,f.au);const A=new B8(e,t,c);return n.Tu.set(e,A),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function T8(n,e,t){const s=ms(n),a=s.Tu.get(e),i=s.Iu.get(a.targetId);if(i.length>1)return s.Iu.set(a.targetId,i.filter((c=>!gy(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Zx(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Bw(s.remoteStore,a.targetId),nb(s,a.targetId)})).catch(um)):(nb(s,a.targetId),await Zx(s.localStore,a.targetId,!0))}async function I8(n,e){const t=ms(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Bw(t.remoteStore,s.targetId))}async function _8(n,e,t){const s=O8(n);try{const a=await(function(c,h){const u=ms(c),f=gr.now(),A=h.reduce(((g,B)=>g.add(B.key)),Ks());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let B=Eu(),S=Ks();return u.Ns.getEntries(g,A).next((T=>{B=T,B.forEach(((E,_)=>{_.isValidDocument()||(S=S.add(E))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,B))).next((T=>{m=T;const E=[];for(const _ of h){const F=GQ(_,m.get(_.key).overlayedDocument);F!=null&&E.push(new Gd(_.key,F,Z4(F.value.mapValue),_l.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,E,h)})).next((T=>{v=T;const E=T.applyToLocalDocumentSet(m,S);return u.documentOverlayCache.saveOverlays(g,T.batchId,E)}))})).then((()=>({batchId:v.batchId,changes:cN(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,u){let f=c.Vu[c.currentUser.toKey()];f||(f=new _a(Vs)),f=f.insert(h,u),c.Vu[c.currentUser.toKey()]=f})(s,a.batchId,t),await bg(s,a.changes),await Cy(s.remoteStore)}catch(a){const i=Nw(a,"Failed to persist write");t.reject(i)}}async function KN(n,e){const t=ms(n);try{const s=await KO(t.localStore,e);e.targetChanges.forEach(((a,i)=>{const c=t.Au.get(i);c&&(wr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?wr(c.hu,14607):a.removedDocuments.size>0&&(wr(c.hu,42227),c.hu=!1))})),await bg(t,s,e)}catch(s){await um(s)}}function fj(n,e,t){const s=ms(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((i,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const u=ms(c);u.onlineState=h;let f=!1;u.queries.forEach(((A,m)=>{for(const v of m.Sa)v.va(h)&&(f=!0)})),f&&_w(u)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function F8(n,e,t){const s=ms(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),i=a&&a.key;if(i){let c=new _a(zn.comparator);c=c.insert(i,Vo.newNoDocument(i,As.min()));const h=Ks().add(i),u=new wy(As.min(),new Map,new _a(Vs),c,h);await KN(s,u),s.du=s.du.remove(i),s.Au.delete(e),Rw(s)}else await Zx(s.localStore,e,!1).then((()=>nb(s,e,t))).catch(um)}async function U8(n,e){const t=ms(n),s=e.batch.batchId;try{const a=await VO(t.localStore,e);GN(t,s,null),zN(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await bg(t,a)}catch(a){await um(a)}}async function R8(n,e,t){const s=ms(n);try{const a=await(function(c,h){const u=ms(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let A;return u.mutationQueue.lookupMutationBatch(f,h).next((m=>(wr(m!==null,37113),A=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,A,h))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,A))).next((()=>u.localDocuments.getDocuments(f,A)))}))})(s.localStore,e);GN(s,e,t),zN(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await bg(s,a)}catch(a){await um(a)}}function zN(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function GN(n,e,t){const s=ms(n);let a=s.Vu[s.currentUser.toKey()];if(a){const i=a.get(e);i&&(t?i.reject(t):i.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function nb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||$N(n,s)}))}function $N(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Bw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Rw(n))}function mj(n,e,t){for(const s of t)s instanceof kN?(n.Ru.addReference(s.key,e),D8(n,s)):s instanceof HN?(mn(Uw,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||$N(n,s.key)):ts(19791,{wu:s})}function D8(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(mn(Uw,"New document in limbo: "+t),n.Eu.add(s),Rw(n))}function Rw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new zn(ta.fromString(e)),s=n.fu.next();n.Au.set(s,new j8(t)),n.du=n.du.insert(t,s),DN(n.remoteStore,new Bd(Lc(py(t.path)),s,"TargetPurposeLimboResolution",hy.ce))}}async function bg(n,e,t){const s=ms(n),a=[],i=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,u)=>{c.push(s.pu(u,e,t).then((f=>{var A;if((f||t)&&s.isPrimaryClient){const m=f?!f.fromCache:(A=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){a.push(f);const m=bw.As(u.targetId,f);i.push(m)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(u,f){const A=ms(u);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>St.forEach(f,(v=>St.forEach(v.Es,(g=>A.persistence.referenceDelegate.addReference(m,v.targetId,g))).next((()=>St.forEach(v.ds,(g=>A.persistence.referenceDelegate.removeReference(m,v.targetId,g)))))))))}catch(m){if(!dm(m))throw m;mn(ww,"Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const g=A.Ms.get(v),B=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(B);A.Ms=A.Ms.insert(v,S)}}})(s.localStore,i))}async function L8(n,e){const t=ms(n);if(!t.currentUser.isEqual(e)){mn(Uw,"User change. New user:",e.toKey());const s=await _N(t.localStore,e);t.currentUser=e,(function(i,c){i.mu.forEach((h=>{h.forEach((u=>{u.reject(new en(vt.CANCELLED,c))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bg(t,s.Ls)}}function Q8(n,e){const t=ms(n),s=t.Au.get(e);if(s&&s.hu)return Ks().add(s.key);{let a=Ks();const i=t.Iu.get(e);if(!i)return a;for(const c of i){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function WN(n){const e=ms(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F8.bind(null,e),e.Pu.H_=x8.bind(null,e.eventManager),e.Pu.yu=b8.bind(null,e.eventManager),e}function O8(n){const e=ms(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R8.bind(null,e),e}class Ov{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=By(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return HO(this.persistence,new PO,e.initialUser,this.serializer)}Cu(e){return new IN(xw.mi,this.serializer)}Du(e){return new YO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ov.provider={build:()=>new Ov};class P8 extends Ov{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wr(this.persistence.referenceDelegate instanceof Lv,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Sl.withCacheSize(this.cacheSizeBytes):Sl.DEFAULT;return new IN((s=>Lv.mi(s,t)),this.serializer)}}class sb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fj(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L8.bind(null,this.syncEngine),await g8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y8})()}createDatastore(e){const t=By(e.databaseInfo.databaseId),s=(function(i){return new e8(i)})(e.databaseInfo);return(function(i,c,h,u){return new r8(i,c,h,u)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,i,c,h){return new i8(s,a,i,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>fj(this.syncEngine,t,0)),(function(){return lj.v()?new lj:new XO})())}createSyncEngine(e,t){return(function(a,i,c,h,u,f,A){const m=new C8(a,i,c,h,u,f);return A&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const i=ms(a);mn(Kh,"RemoteStore shutting down."),i.Ea.add(5),await xg(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}sb.provider={build:()=>new sb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="FirestoreClient";class M8{constructor(e,t,s,a,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ho.UNAUTHENTICATED,this.clientId=Aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async c=>{mn(Pd,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mn(Pd,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Nw(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function O1(n,e){n.asyncQueue.verifyOperationInProgress(),mn(Pd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await _N(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function pj(n,e){n.asyncQueue.verifyOperationInProgress();const t=await k8(n);mn(Pd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>cj(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>cj(e.remoteStore,a))),n._onlineComponents=e}async function k8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mn(Pd,"Using user provided OfflineComponentProvider");try{await O1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===vt.FAILED_PRECONDITION||a.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Xf("Error using user provided cache. Falling back to memory cache: "+t),await O1(n,new Ov)}}else mn(Pd,"Using default OfflineComponentProvider"),await O1(n,new P8(void 0));return n._offlineComponents}async function YN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mn(Pd,"Using user provided OnlineComponentProvider"),await pj(n,n._uninitializedComponentsProvider._online)):(mn(Pd,"Using default OnlineComponentProvider"),await pj(n,new sb))),n._onlineComponents}function H8(n){return YN(n).then((e=>e.syncEngine))}async function Pv(n){const e=await YN(n),t=e.eventManager;return t.onListen=E8.bind(null,e.syncEngine),t.onUnlisten=T8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I8.bind(null,e.syncEngine),t}function V8(n,e,t={}){const s=new xu;return n.asyncQueue.enqueueAndForget((async()=>(function(i,c,h,u,f){const A=new Dw({next:v=>{A.Nu(),c.enqueueAndForget((()=>Iw(i,m)));const g=v.docs.has(h);!g&&v.fromCache?f.reject(new en(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&v.fromCache&&u&&u.source==="server"?f.reject(new en(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new Fw(py(h.path),A,{includeMetadataChanges:!0,qa:!0});return Tw(i,m)})(await Pv(n),n.asyncQueue,e,t,s))),s.promise}function K8(n,e,t={}){const s=new xu;return n.asyncQueue.enqueueAndForget((async()=>(function(i,c,h,u,f){const A=new Dw({next:v=>{A.Nu(),c.enqueueAndForget((()=>Iw(i,m))),v.fromCache&&u.source==="server"?f.reject(new en(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new Fw(h,A,{includeMetadataChanges:!0,qa:!0});return Tw(i,m)})(await Pv(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firestore.googleapis.com",vj=!0;class yj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new en(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JN,this.ssl=vj}else this.host=e.host,this.ssl=e.ssl??vj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wO)throw new en(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XN(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new en(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new en(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new en(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new en(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new en(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YL;switch(s.type){case"firstParty":return new ZL(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new en(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=gj.get(t);s&&(mn("ComponentProvider","Removing Datastore"),gj.delete(t),s.terminate())})(this),Promise.resolve()}}function z8(n,e,t,s={}){var f;n=Il(n,Ey);const a=Vd(e),i=n._getSettings(),c={...i,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(Xb(`https://${h}`),Jb("Firestore",!0)),i.host!==JN&&i.host!==h&&Xf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:h,ssl:a,emulatorOptions:s};if(!kh(u,c)&&(n._setSettings(u),s.mockUserToken)){let A,m;if(typeof s.mockUserToken=="string")A=s.mockUserToken,m=Ho.MOCK_USER;else{A=G6(s.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new en(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ho(v)}n._authCredentials=new XL(new k4(A,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class Va{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Id(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Va(this.firestore,e,this._key)}toJSON(){return{type:Va._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(gg(t,Va._jsonSchema))return new Va(e,s||null,new zn(ta.fromString(t.referencePath)))}}Va._jsonSchemaVersion="firestore/documentReference/1.0",Va._jsonSchema={type:bi("string",Va._jsonSchemaVersion),referencePath:bi("string")};class Id extends _u{constructor(e,t,s){super(e,t,py(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Va(this.firestore,null,new zn(e))}withConverter(e){return new Id(this.firestore,e,this._path)}}function Zn(n,e,...t){if(n=ja(n),H4("collection","path",e),n instanceof Ey){const s=ta.fromString(e,...t);return F5(s),new Id(n,null,s)}{if(!(n instanceof Va||n instanceof Id))throw new en(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ta.fromString(e,...t));return F5(s),new Id(n.firestore,null,s)}}function $n(n,e,...t){if(n=ja(n),arguments.length===1&&(e=Aw.newId()),H4("doc","path",e),n instanceof Ey){const s=ta.fromString(e,...t);return _5(s),new Va(n,null,new zn(s))}{if(!(n instanceof Va||n instanceof Id))throw new en(vt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ta.fromString(e,...t));return _5(s),new Va(n.firestore,n instanceof Id?n.converter:null,new zn(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="AsyncQueue";class bj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UN(this,"async_queue_retry"),this._c=()=>{const s=Q1();s&&mn(xj,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Q1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Q1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new xu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dm(e))throw e;mn(xj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Cu("INTERNAL UNHANDLED ERROR: ",wj(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Sw.createAndSchedule(this,e,t,s,(i=>this.hc(i)));return this.tc.push(a),a}uc(){this.nc&&ts(47125,{Pc:wj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wj(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const i of s)if(i in a&&typeof a[i]=="function")return!0;return!1})(n,["next","error","complete"])}class Su extends Ey{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new bj,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bj(e),this._firestoreClient=void 0,await e}}}function G8(n,e){const t=typeof n=="object"?n:Zb(),s=typeof n=="string"?n:Tv,a=oy(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const i=$S("firestore");i&&z8(a,...i)}return a}function wg(n){if(n._terminated)throw new en(vt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$8(n),n._firestoreClient}function $8(n){var s,a,i;const e=n._freezeSettings(),t=(function(h,u,f,A){return new gQ(h,u,f,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,XN(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new M8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const u=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new CA(fo.fromBase64String(e))}catch(t){throw new en(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new CA(fo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:CA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gg(e,CA._jsonSchema))return CA.fromBase64String(e.bytes)}}CA._jsonSchemaVersion="firestore/bytes/1.0",CA._jsonSchema={type:bi("string",CA._jsonSchemaVersion),bytes:bi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new en(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new co(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new en(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new en(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vs(this._lat,e._lat)||Vs(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oc._jsonSchemaVersion}}static fromJSON(e){if(gg(e,Oc._jsonSchema))return new Oc(e.latitude,e.longitude)}}Oc._jsonSchemaVersion="firestore/geoPoint/1.0",Oc._jsonSchema={type:bi("string",Oc._jsonSchemaVersion),latitude:bi("number"),longitude:bi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==a[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gg(e,Pc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Pc(e.vectorValues);throw new en(vt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pc._jsonSchemaVersion="firestore/vectorValue/1.0",Pc._jsonSchema={type:bi("string",Pc._jsonSchemaVersion),vectorValues:bi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=/^__.*__$/;class Y8{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Gd(e,this.data,this.fieldMask,t,this.fieldTransforms):new vg(e,this.data,t,this.fieldTransforms)}}class qN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Gd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ts(40011,{Ac:n})}}class Qw{constructor(e,t,s,a,i,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZN(this.Ac)&&W8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class X8{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||By(e)}Cc(e,t,s,a=!1){return new Qw({Ac:e,methodName:t,Dc:s,path:co.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sy(n){const e=n._freezeSettings(),t=By(n._databaseId);return new X8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eT(n,e,t,s,a,i={}){const c=n.Cc(i.merge||i.mergeFields?2:0,e,t,a);Ow("Data must be an object, but it was:",c,s);const h=sT(s,c);let u,f;if(i.merge)u=new Jl(c.fieldMask),f=c.fieldTransforms;else if(i.mergeFields){const A=[];for(const m of i.mergeFields){const v=rb(e,m,t);if(!c.contains(v))throw new en(vt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);aT(A,v)||A.push(v)}u=new Jl(A),f=c.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=c.fieldTransforms;return new Y8(new Nl(h),u,f)}class Ny extends Lw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ny}}function tT(n,e,t,s){const a=n.Cc(1,e,t);Ow("Data must be an object, but it was:",a,s);const i=[],c=Nl.empty();zd(s,((u,f)=>{const A=Pw(e,u,t);f=ja(f);const m=a.yc(A);if(f instanceof Ny)i.push(A);else{const v=jg(f,m);v!=null&&(i.push(A),c.set(A,v))}}));const h=new Jl(i);return new qN(c,h,a.fieldTransforms)}function nT(n,e,t,s,a,i){const c=n.Cc(1,e,t),h=[rb(e,s,t)],u=[a];if(i.length%2!=0)throw new en(vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)h.push(rb(e,i[v])),u.push(i[v+1]);const f=[],A=Nl.empty();for(let v=h.length-1;v>=0;--v)if(!aT(f,h[v])){const g=h[v];let B=u[v];B=ja(B);const S=c.yc(g);if(B instanceof Ny)f.push(g);else{const T=jg(B,S);T!=null&&(f.push(g),A.set(g,T))}}const m=new Jl(f);return new qN(A,m,c.fieldTransforms)}function J8(n,e,t,s=!1){return jg(t,n.Cc(s?4:3,e))}function jg(n,e){if(rT(n=ja(n)))return Ow("Unsupported field value:",e,n),sT(n,e);if(n instanceof Lw)return(function(s,a){if(!ZN(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(a);i&&a.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const i=[];let c=0;for(const h of s){let u=jg(h,a.wc(c));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),c++}return{arrayValue:{values:i}}})(n,e)}return(function(s,a){if((s=ja(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MQ(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=gr.fromDate(s);return{timestampValue:Dv(a.serializer,i)}}if(s instanceof gr){const i=new gr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dv(a.serializer,i)}}if(s instanceof Oc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof CA)return{bytesValue:wN(a.serializer,s._byteString)};if(s instanceof Va){const i=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(i))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vw(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Pc)return(function(c,h){return{mapValue:{fields:{[J4]:{stringValue:q4},[Iv]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return mw(h.serializer,f)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${dy(s)}`)})(n,e)}function sT(n,e){const t={};return z4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zd(n,((s,a)=>{const i=jg(a,e.mc(s));i!=null&&(t[s]=i)})),{mapValue:{fields:t}}}function rT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gr||n instanceof Oc||n instanceof CA||n instanceof Va||n instanceof Lw||n instanceof Pc)}function Ow(n,e,t){if(!rT(t)||!V4(t)){const s=dy(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function rb(n,e,t){if((e=ja(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return Pw(n,e);throw Mv("Field path arguments must be of type string or ",n,!1,void 0,t)}const q8=new RegExp("[~\\*/\\[\\]]");function Pw(n,e,t){if(e.search(q8)>=0)throw Mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bg(...e.split("."))._internalPath}catch{throw Mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mv(n,e,t,s,a){const i=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let u="";return(i||c)&&(u+=" (found",i&&(u+=` in field ${s}`),c&&(u+=` in document ${a}`),u+=")"),new en(vt.INVALID_ARGUMENT,h+n+u)}function aT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t,s,a,i){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Va(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ty("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Z8 extends iT{data(){return super.data()}}function Ty(n,e){return typeof e=="string"?Pw(n,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new en(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mw{}class kw extends Mw{}function is(n,e,...t){let s=[];e instanceof Mw&&s.push(e),s=s.concat(t),(function(i){const c=i.filter((u=>u instanceof Hw)).length,h=i.filter((u=>u instanceof Iy)).length;if(c>1||c>0&&h>0)throw new en(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Iy extends kw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Iy(e,t,s)}_apply(e){const t=this._parse(e);return AT(e._query,t),new _u(e.firestore,e.converter,Wx(e._query,t))}_parse(e){const t=Sy(e.firestore);return(function(i,c,h,u,f,A,m){let v;if(f.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new en(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Cj(m,A);const B=[];for(const S of m)B.push(jj(u,i,S));v={arrayValue:{values:B}}}else v=jj(u,i,m)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Cj(m,A),v=J8(h,c,m,A==="in"||A==="not-in");return xi.create(f,A,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sn(n,e,t){const s=e,a=Ty("where",n);return Iy._create(a,s,t)}class Hw extends Mw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hw(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:nc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,i){let c=a;const h=i.getFlattenedFilters();for(const u of h)AT(c,u),c=Wx(c,u)})(e._query,t),new _u(e.firestore,e.converter,Wx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vw extends kw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vw(e,t)}_apply(e){const t=(function(a,i,c){if(a.startAt!==null)throw new en(vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new en(vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jp(i,c)})(e._query,this._field,this._direction);return new _u(e.firestore,e.converter,(function(a,i){const c=a.explicitOrderBy.concat([i]);return new hm(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function lT(n,e="asc"){const t=e,s=Ty("orderBy",n);return Vw._create(s,t)}class Kw extends kw{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Kw(e,t,s)}_apply(e){return new _u(e.firestore,e.converter,Fv(e._query,this._limit,this._limitType))}}function gd(n){return iQ("limit",n),Kw._create("limit",n,"F")}function jj(n,e,t){if(typeof(t=ja(t))=="string"){if(t==="")throw new en(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iN(e)&&t.indexOf("/")!==-1)throw new en(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ta.fromString(t));if(!zn.isDocumentKey(s))throw new en(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return M5(n,new zn(s))}if(t instanceof Va)return M5(n,t._key);throw new en(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(t)}.`)}function Cj(n,e){if(!Array.isArray(n)||n.length===0)throw new en(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(n,e){const t=(function(a,i){for(const c of a)for(const h of c.getFlattenedFilters())if(i.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new en(vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new en(vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eP{convertValue(e,t="none"){switch(Qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Za(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ld(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ts(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return zd(e,((a,i)=>{s[a]=this.convertValue(i,t)})),s}convertVectorValue(e){var s,a,i;const t=(i=(a=(s=e.fields)==null?void 0:s[Iv].arrayValue)==null?void 0:a.values)==null?void 0:i.map((c=>Za(c.doubleValue)));return new Pc(t)}convertGeoPoint(e){return new Oc(Za(e.latitude),Za(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=my(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Wp(e));default:return null}}convertTimestamp(e){const t=Dd(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ta.fromString(e);wr(NN(s),9688,{name:e});const a=new Yp(s.get(1),s.get(3)),i=new zn(s.popFirst(5));return a.isEqual(t)||Cu(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class yp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rh extends iT{constructor(e,t,s,a,i,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ty("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new en(vt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Rh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Rh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rh._jsonSchema={type:bi("string",Rh._jsonSchemaVersion),bundleSource:bi("string","DocumentSnapshot"),bundleName:bi("string"),bundle:bi("string")};class lv extends Rh{data(e={}){return super.data(e)}}class Dh{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new yp(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new lv(this._firestore,this._userDataWriter,s.key,s,new yp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new en(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,i){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const u=new lv(a._firestore,a._userDataWriter,h.doc.key,h.doc,new yp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>i||h.type!==3)).map((h=>{const u=new lv(a._firestore,a._userDataWriter,h.doc.key,h.doc,new yp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,A=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),A=c.indexOf(h.doc.key)),{type:tP(h.type),doc:u,oldIndex:f,newIndex:A}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new en(vt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Aw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ts(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n){n=Il(n,Va);const e=Il(n.firestore,Su);return V8(wg(e),n._key).then((t=>uT(e,n,t)))}Dh._jsonSchemaVersion="firestore/querySnapshot/1.0",Dh._jsonSchema={type:bi("string",Dh._jsonSchemaVersion),bundleSource:bi("string","QuerySnapshot"),bundleName:bi("string"),bundle:bi("string")};class zw extends eP{constructor(e){super(),this.firestore=e}convertBytes(e){return new CA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Va(this.firestore,null,t)}}function ls(n){n=Il(n,_u);const e=Il(n.firestore,Su),t=wg(e),s=new zw(e);return oT(n._query),K8(t,n._query).then((a=>new Dh(e,s,n,a)))}function gi(n,e,t){n=Il(n,Va);const s=Il(n.firestore,Su),a=cT(n.converter,e,t);return _y(s,[eT(Sy(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,_l.none())])}function Tp(n,e,t,...s){n=Il(n,Va);const a=Il(n.firestore,Su),i=Sy(a);let c;return c=typeof(e=ja(e))=="string"||e instanceof Bg?nT(i,"updateDoc",n._key,e,t,s):tT(i,"updateDoc",n._key,e),_y(a,[c.toMutation(n._key,_l.exists(!0))])}function Di(n){return _y(Il(n.firestore,Su),[new by(n._key,_l.none())])}function xp(n,...e){var u,f,A;n=ja(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Bj(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Bj(e[s])){const m=e[s];e[s]=(u=m.next)==null?void 0:u.bind(m),e[s+1]=(f=m.error)==null?void 0:f.bind(m),e[s+2]=(A=m.complete)==null?void 0:A.bind(m)}let i,c,h;if(n instanceof Va)c=Il(n.firestore,Su),h=py(n._key.path),i={next:m=>{e[s]&&e[s](uT(c,n,m))},error:e[s+1],complete:e[s+2]};else{const m=Il(n,_u);c=Il(m.firestore,Su),h=m._query;const v=new zw(c);i={next:g=>{e[s]&&e[s](new Dh(c,v,m,g))},error:e[s+1],complete:e[s+2]},oT(n._query)}return(function(v,g,B,S){const T=new Dw(S),E=new Fw(g,T,B);return v.asyncQueue.enqueueAndForget((async()=>Tw(await Pv(v),E))),()=>{T.Nu(),v.asyncQueue.enqueueAndForget((async()=>Iw(await Pv(v),E)))}})(wg(c),h,a,i)}function _y(n,e){return(function(s,a){const i=new xu;return s.asyncQueue.enqueueAndForget((async()=>_8(await H8(s),a,i))),i.promise})(wg(n),e)}function uT(n,e,t){const s=t.docs.get(e._key),a=new zw(n);return new Rh(n,a,e._key,s,new yp(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sy(e)}set(e,t,s){this._verifyNotCommitted();const a=P1(e,this._firestore),i=cT(a.converter,t,s),c=eT(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,_l.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const i=P1(e,this._firestore);let c;return c=typeof(t=ja(t))=="string"||t instanceof Bg?nT(this._dataReader,"WriteBatch.update",i._key,t,s,a):tT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(c.toMutation(i._key,_l.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=P1(e,this._firestore);return this._mutations=this._mutations.concat(new by(t._key,_l.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new en(vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function P1(n,e){if((n=ja(n)).firestore!==e)throw new en(vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(n){return wg(n=Il(n,Su)),new nP(n,(e=>_y(n,e)))}(function(e,t=!0){(function(a){cm=a})(Wh),Ud(new VL("firestore",((s,{instanceIdentifier:a,options:i})=>{const c=s.getProvider("app").getImmediate(),h=new Su(new JL(s.getProvider("auth-internal")),new eQ(c,s.getProvider("app-check-internal")),(function(f,A){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new en(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yp(f.options.projectId,A)})(c,a),c);return i={useFetchStreams:t,...i},h._setSettings(i),h}),"PUBLIC").setMultipleInstances(!0)),TA(S5,N5,e),TA(S5,N5,"esm2020")})();let sP=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="type.googleapis.com/google.protobuf.Int64Value",aP="type.googleapis.com/google.protobuf.UInt64Value";function dT(n,e){const t={};for(const s in n)n.hasOwnProperty(s)&&(t[s]=e(n[s]));return t}function kv(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>kv(e));if(typeof n=="function"||typeof n=="object")return dT(n,e=>kv(e));throw new Error("Data cannot be encoded in JSON: "+n)}function nm(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case rP:case aP:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>nm(e)):typeof n=="function"||typeof n=="object"?dT(n,e=>nm(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tl extends ac{constructor(e,t,s){super(`${Gw}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,Tl.prototype)}}function iP(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Hv(n,e){let t=iP(n),s=t,a;try{const i=e&&e.error;if(i){const c=i.status;if(typeof c=="string"){if(!Sj[c])return new Tl("internal","internal");t=Sj[c],s=c}const h=i.message;typeof h=="string"&&(s=h),a=i.details,a!==void 0&&(a=nm(a))}}catch{}return t==="ok"?null:new Tl(t,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Xl(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||s.get().then(i=>this.messaging=i,()=>{}),this.appCheck||a==null||a.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="us-central1",lP=/^data: (.*?)(?:\n|$)/;function AP(n){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new Tl("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class cP{constructor(e,t,s,a,i=ab,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new oP(e,t,s,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(i);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=ab}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function uP(n,e,t){const s=Vd(e);n.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(Xb(n.emulatorOrigin+"/backends"),Jb("Functions",!0))}function dP(n,e,t){const s=a=>fP(n,e,a,{});return s.stream=(a,i)=>pP(n,e,a,i),s}function hT(n){return n.emulatorOrigin&&Vd(n.emulatorOrigin)?"include":void 0}async function hP(n,e,t,s,a){t["Content-Type"]="application/json";let i;try{i=await s(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:hT(a)})}catch{return{status:0,json:null}}let c=null;try{c=await i.json()}catch{}return{status:i.status,json:c}}async function fT(n,e){const t={},s=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function fP(n,e,t,s){const a=n._url(e);return mP(n,a,t,s)}async function mP(n,e,t,s){t=kv(t);const a={data:t},i=await fT(n,s),c=s.timeout||7e4,h=AP(c),u=await Promise.race([hP(e,a,i,n.fetchImpl,n),h.promise,n.cancelAllRequests]);if(h.cancel(),!u)throw new Tl("cancelled","Firebase Functions instance was deleted.");const f=Hv(u.status,u.json);if(f)throw f;if(!u.json)throw new Tl("internal","Response is not valid JSON object.");let A=u.json.data;if(typeof A>"u"&&(A=u.json.result),typeof A>"u")throw new Tl("internal","Response is missing data field.");return{data:nm(A)}}function pP(n,e,t,s){const a=n._url(e);return gP(n,a,t,s||{})}async function gP(n,e,t,s){var v;t=kv(t);const a={data:t},i=await fT(n,s);i["Content-Type"]="application/json",i.Accept="text/event-stream";let c;try{c=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:i,signal:s==null?void 0:s.signal,credentials:hT(n)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const S=new Tl("cancelled","Request was cancelled.");return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}const B=Hv(0,null);return{data:Promise.reject(B),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(B)}}}}}}let h,u;const f=new Promise((g,B)=>{h=g,u=B});(v=s==null?void 0:s.signal)==null||v.addEventListener("abort",()=>{const g=new Tl("cancelled","Request was cancelled.");u(g)});const A=c.body.getReader(),m=vP(A,h,u,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const g=m.getReader();return{async next(){const{value:B,done:S}=await g.read();return{value:B,done:S}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:f}}function vP(n,e,t,s){const a=(c,h)=>{const u=c.match(lP);if(!u)return;const f=u[1];try{const A=JSON.parse(f);if("result"in A){e(nm(A.result));return}if("message"in A){h.enqueue(nm(A.message));return}if("error"in A){const m=Hv(0,A);h.error(m),t(m);return}}catch(A){if(A instanceof Tl){h.error(A),t(A);return}}},i=new TextDecoder;return new ReadableStream({start(c){let h="";return u();async function u(){if(s!=null&&s.aborted){const f=new Tl("cancelled","Request was cancelled");return c.error(f),t(f),Promise.resolve()}try{const{value:f,done:A}=await n.read();if(A){h.trim()&&a(h.trim(),c),c.close();return}if(s!=null&&s.aborted){const v=new Tl("cancelled","Request was cancelled");c.error(v),t(v),await n.cancel();return}h+=i.decode(f,{stream:!0});const m=h.split(`
`);h=m.pop()||"";for(const v of m)v.trim()&&a(v.trim(),c);return u()}catch(f){const A=f instanceof Tl?f:Hv(0,null);c.error(A),t(A)}}},cancel(){return n.cancel()}})}const Nj="@firebase/functions",Tj="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="auth-internal",xP="app-check-internal",bP="messaging-internal";function wP(n){const e=(t,{instanceIdentifier:s})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider(yP),c=t.getProvider(bP),h=t.getProvider(xP);return new cP(a,i,c,h,s)};Ud(new sP(Gw,e,"PUBLIC").setMultipleInstances(!0)),TA(Nj,Tj,n),TA(Nj,Tj,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n=Zb(),e=ab){const s=oy(ja(n),Gw).getImmediate({identifier:e}),a=$S("functions");return a&&jP(s,...a),s}function jP(n,e,t){uP(ja(n),e,t)}function Cg(n,e,t){return dP(ja(n),e)}wP();const CP={apiKey:"AIzaSyCHlCLhumJn50nw2JBgJTGeIH_6GKzjFbA",authDomain:"noble-care-management-system.firebaseapp.com",projectId:"noble-care-management-system",storageBucket:"noble-care-management-system.firebasestorage.app",messagingSenderId:"573085015524",appId:"1:573085015524:web:29ae8a509813ec1199fbf1"},$w=qS(CP),fu=kL($w),It=G8($w),Eg=BP($w);var ys=(n=>(n.SUPER_ADMIN="super_admin",n.SCHOOL_ADMIN="school_admin",n.TEACHER="teacher",n))(ys||{});async function EP(n){var s;const e=$n(It,"users",n.uid),t=await _d(e);if(t.exists()){const a=t.data(),i=a.status||"active";if(i!=="active")throw new Error("ACCOUNT_INACTIVE");const c=a.role,h=a.schoolId||null,u=Array.isArray(a.assignedClassIds)?a.assignedClassIds:[];if((c==="school_admin"||c==="teacher")&&!h)throw console.warn(`[AUTH] ${c==="teacher"?"Teacher":"School Admin"} account incomplete - missing schoolId`,{uid:n.uid,email:n.email,role:c,hasSchoolId:!!h}),new Error(`${c==="teacher"?"Teacher":"School Admin"} account is incomplete: missing schoolId. Please contact your administrator.`);if(c==="school_admin"&&h){const f=$n(It,"schools",h),A=await _d(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}if(c==="teacher"&&h){const f=$n(It,"schools",h),A=await _d(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}return{id:n.uid,fullName:a.fullName||n.displayName||"User",email:n.email||"",role:c,schoolId:h,assignedClassIds:u,status:i,createdAt:((s=a.createdAt)==null?void 0:s.toDate())||new Date}}else throw new Error("ACCOUNT_NOT_PROVISIONED")}function mT(n){if(!n)throw new Error("Authentication required");if(n.role===ys.SUPER_ADMIN)throw new Error("Super admin does not belong to a school");if(!n.schoolId)throw new Error("School access required. Please contact your administrator.");return n.schoolId}const pT=ee.createContext(void 0),SP=({children:n})=>{const[e,t]=ee.useState(null),[s,a]=ee.useState(!0),[i,c]=ee.useState(!0),[h,u]=ee.useState(null);ee.useEffect(()=>{const A=ID(fu,async m=>{if(c(!0),m){u(null),a(!0);try{const v=await EP(m);t(v)}catch(v){console.error("Error fetching user profile:",v),t(null);const g=v.message||v.toString();g==="ACCOUNT_NOT_PROVISIONED"?(u("Your account is not set up yet. Please contact your administrator for access."),await cp(fu)):g==="ACCOUNT_INACTIVE"?(u("Your account has been deactivated. Please contact your administrator for access."),await cp(fu)):g==="SCHOOL_NOT_FOUND"?(u("Your school could not be found. Please contact your administrator."),await cp(fu)):g==="SCHOOL_INACTIVE"?(u("Your school has been deactivated. Please contact your administrator."),await cp(fu)):g.includes("Cloud Firestore API has not been used")?u("CRITICAL ERROR: The Firestore Database is not enabled. Go to Firebase Console > Build > Firestore Database > Create Database."):g.includes("permission-denied")||g.includes("Missing or insufficient permissions")?u("PERMISSION DENIED: Database access blocked. Go to Firebase Console > Firestore Database > Rules and change 'allow read, write: if false;' to 'allow read, write: if true;' (for testing)."):g.includes("client is offline")||g.includes("offline")?u("Network Error: Could not connect to the database. Check your internet connection."):u("Failed to load user profile. Please try refreshing the page. Error: "+g)}}else t(null),u(null);c(!1),a(!1)});return()=>A()},[]);const f=async()=>{try{await cp(fu),t(null),u(null)}catch(A){console.error("Logout failed",A)}};return l.jsx(pT.Provider,{value:{user:e,loading:s,authLoading:i,error:h,logout:f,isAuthenticated:!!e},children:n})},Go=()=>{const n=ee.useContext(pT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},gT=ee.createContext(void 0),NP=({children:n})=>{const{user:e,isAuthenticated:t}=Go(),[s,a]=ee.useState(null),[i,c]=ee.useState(!1),[h,u]=ee.useState(null);return ee.useEffect(()=>{let f=!1;return(async()=>{if(a(null),u(null),!t||!e||e.role==="super_admin"){c(!1);return}if(!e.schoolId){c(!1),u("No school assigned to your account");return}c(!0);const m=`school_${e.schoolId}`,v=localStorage.getItem(m);if(v)try{const g=JSON.parse(v);g.status==="active"&&(f||a(g))}catch{localStorage.removeItem(m)}try{const g=$n(It,"schools",e.schoolId),B=await _d(g);if(!B.exists()){f||u("School not found. Please contact your administrator."),f||a(null);return}const S={id:B.id,...B.data()};if(S.status!=="active"){f||u("Your school is currently inactive. Please contact your administrator."),f||a(null);return}localStorage.setItem(m,JSON.stringify(S)),f||a(S)}catch(g){console.error("Error loading school data:",g),f||u("Failed to load school information. Please try refreshing the page."),f||a(null)}finally{f||c(!1)}})(),()=>{f=!0}},[t,e==null?void 0:e.id,e==null?void 0:e.schoolId,e==null?void 0:e.role]),l.jsx(gT.Provider,{value:{school:s,schoolLoading:i,schoolError:h},children:n})},Gc=()=>{const n=ee.useContext(gT);if(!n)throw new Error("useSchool must be used within a SchoolProvider");return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Ij=n=>{const e=IP(n);return e.charAt(0).toUpperCase()+e.slice(1)},vT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),_P=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ee.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:c,...h},u)=>ee.createElement("svg",{ref:u,...FP,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:vT("lucide",a),...!i&&!_P(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,A])=>ee.createElement(f,A)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=(n,e)=>{const t=ee.forwardRef(({className:s,...a},i)=>ee.createElement(UP,{ref:i,iconNode:e,className:vT(`lucide-${TP(Ij(n))}`,`lucide-${n}`,s),...a}));return t.displayName=Ij(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],DP=pn("activity",RP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],QP=pn("arrow-down-right",LP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yT=pn("arrow-left",OP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],xT=pn("arrow-up-right",PP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ip=pn("bell",MP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mc=pn("book-open",kP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],VP=pn("book",HP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],zP=pn("building-2",KP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Av=pn("building",GP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],WP=pn("calendar-days",$P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],EA=pn("calendar",YP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],JP=pn("chart-no-axes-column-increasing",XP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],cv=pn("chart-no-axes-column",qP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],eM=pn("chart-pie",ZP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_p=pn("check",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sM=pn("chevron-right",nM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ib=pn("circle-alert",rM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vv=pn("circle-check-big",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Kv=pn("clipboard-check",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sg=pn("clock",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],AM=pn("coffee",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_j=pn("copy",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],dM=pn("door-open",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bT=pn("download",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],mM=pn("ellipsis",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wT=pn("eye-off",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qh=pn("eye",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zv=pn("file-text",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xM=pn("funnel",yM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],eg=pn("graduation-cap",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],BM=pn("history",wM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],M1=pn("layout-dashboard",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],k1=pn("loader-circle",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SM=pn("log-out",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TM=pn("mail",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_M=pn("map-pin",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],UM=pn("megaphone",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],DM=pn("menu",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],QM=pn("message-square",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M5 12h14",key:"1ays0h"}]],Fj=pn("minus",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],H1=pn("octagon-alert",PM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kM=pn("pen",MM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],VM=pn("pencil",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zM=pn("phone",KM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sm=pn("plus",GM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],WM=pn("refresh-ccw",$M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gv=pn("refresh-cw",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zl=pn("save",XM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Uj=pn("search",JM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BT=pn("settings",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Rj=pn("shield-alert",ZM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jT=pn("sparkles",ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dj=pn("square-check-big",tk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ww=pn("square-pen",nk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Lj=pn("square",sk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ak=pn("toggle-left",rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ok=pn("toggle-right",ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vc=pn("trash-2",lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Qj=pn("trending-down",Ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ih=pn("trending-up",ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eA=pn("triangle-alert",uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],hk=pn("trophy",dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Yw=pn("user-plus",fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],CT=pn("user",mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SA=pn("users",pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Oj=pn("wrench",gk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ho=pn("x",vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xk=pn("zap",yk);class bk extends ee.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 max-w-md w-full text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(eA,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[l.jsx(Gv,{size:16,className:"mr-2"}),"Try Again"]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Refresh Page"})]}),this.state.error&&l.jsxs("details",{className:"mt-4 text-left",children:[l.jsx("summary",{className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:"Error Details (Development)"}),l.jsxs("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs text-slate-800 overflow-auto max-h-40",children:[this.state.error?this.state.error.toString():"Error details not available",(e=this.state.errorInfo)==null?void 0:e.componentStack]})]})]})}):this.props.children}}const ob="/noble-care-academy-sms/assets/apple-icon-180x180-CeJtO7PD.png",wk=()=>{const{isAuthenticated:n,loading:e,error:t}=Go(),s=cg(),[a,i]=ee.useState(""),[c,h]=ee.useState(""),[u,f]=ee.useState(!1),[A,m]=ee.useState(""),[v,g]=ee.useState(!1),[B,S]=ee.useState("");ee.useEffect(()=>{n&&!e&&s("/",{replace:!0})},[n,e,s]);const T=async F=>{F.preventDefault(),f(!0),m("");try{await SD(fu,a,c)}catch(Q){console.error(Q);let M="Failed to sign in.";Q.code==="auth/invalid-credential"||Q.code==="auth/user-not-found"||Q.code==="auth/wrong-password"?M="Invalid email or password.":Q.code==="auth/too-many-requests"&&(M="Too many failed attempts. Please try again later."),m(M),f(!1)}},E=async F=>{if(F.preventDefault(),f(!0),m(""),S(""),!a){m("Please enter your email address to reset password."),f(!1);return}try{await ED(fu,a),S("Password reset link has been sent to your email."),m("")}catch(Q){console.error(Q);let M="Failed to send reset email.";Q.code==="auth/user-not-found"?M="No account found with this email address.":Q.code==="auth/invalid-email"&&(M="Please enter a valid email address."),m(M)}finally{f(!1)}},_=()=>{g(!v),m(""),S(""),h("")};return e?l.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:l.jsx("div",{className:"text-red-900 animate-pulse font-semibold",children:"Loading School Manager GH..."})}):l.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-[#E6F0FA] flex items-center justify-center p-4",children:[l.jsx("style",{children:`
        @keyframes loginGradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes floatBlob {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(20px, -30px, 0) scale(1.08); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
        @keyframes floatBlobReverse {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(-25px, 25px, 0) scale(1.05); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
      `}),l.jsx("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"linear-gradient(120deg, rgba(11,143,165,0.14), rgba(216,241,244,0.35), rgba(4,107,126,0.12))",backgroundSize:"200% 200%",animation:"loginGradientShift 18s ease-in-out infinite"},"aria-hidden":"true"}),l.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-[#E6F0FA]/35 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 16s ease-in-out infinite"},"aria-hidden":"true"}),l.jsx("div",{className:"absolute top-1/3 -right-28 w-96 h-96 bg-[#1160A8]/25 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlobReverse 20s ease-in-out infinite"},"aria-hidden":"true"}),l.jsx("div",{className:"absolute -bottom-28 left-1/4 w-72 h-72 bg-[#E6F0FA]/60 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 22s ease-in-out infinite"},"aria-hidden":"true"}),l.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 border-t-8 border-[#0B4A82]",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"mx-auto w-28 h-28 mb-4 relative p-2 bg-white rounded-full shadow-sm border border-[#E6F0FA]",children:l.jsx("img",{src:ob,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full",onError:F=>{F.currentTarget.style.display="none",F.currentTarget.parentElement.innerHTML='<div class="w-24 h-24 bg-[#0B4A82] rounded-full flex items-center justify-center text-[#E6F0FA] font-bold border-4 border-[#1160A8] text-xs text-center p-1">SCHOOL MANAGER GH</div>'}})}),l.jsx("h1",{className:"text-2xl font-bold text-[#0B4A82] font-serif",children:"School Manager GH"}),l.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:v?"Reset your password":"Sign in to manage the system"})]}),t&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-800 text-sm rounded-lg border border-red-200 flex items-start",children:[l.jsx(ib,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold block mb-1",children:"System Error"}),t]})]}),A&&l.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center",children:[l.jsx(ib,{size:16,className:"mr-2 flex-shrink-0"}),A]}),B&&l.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-lg border border-emerald-100 flex items-center",children:[l.jsx(Vv,{size:16,className:"mr-2 flex-shrink-0"}),B]}),v?l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",value:a,onChange:F=>i(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your registered email",required:!0}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"We'll send you a link to reset your password."})]}),l.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#1160A8] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Sending...":"Send Reset Link"}),l.jsxs("button",{type:"button",onClick:_,className:"w-full text-center text-sm text-slate-600 hover:text-[#0B4A82] font-medium flex items-center justify-center mt-4",children:[l.jsx(yT,{size:16,className:"mr-1"})," Back to Sign In"]})]}):l.jsxs("form",{onSubmit:T,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",value:a,onChange:F=>i(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"e.g., admin@school.com",required:!0})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Password"}),l.jsx("button",{type:"button",onClick:_,className:"text-xs text-[#1160A8] hover:text-[#0B4A82] font-medium",children:"Forgot Password?"})]}),l.jsx("input",{type:"password",value:c,onChange:F=>h(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your password",required:!0})]}),l.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#0B4A82] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:l.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," School Manager GH  Empowering Excellence"]})})]})]})},uo="2023-2024",Oi=1,Wn=[{id:"c_n1",name:"Nursery 1",level:"NURSERY"},{id:"c_n2",name:"Nursery 2",level:"NURSERY"},{id:"c_kg1",name:"KG 1",level:"KG"},{id:"c_kg2",name:"KG 2",level:"KG"},{id:"c_p1",name:"Class 1",level:"PRIMARY"},{id:"c_p2",name:"Class 2",level:"PRIMARY"},{id:"c_p3",name:"Class 3",level:"PRIMARY"},{id:"c_p4",name:"Class 4",level:"PRIMARY"},{id:"c_p5",name:"Class 5",level:"PRIMARY"},{id:"c_p6",name:"Class 6",level:"PRIMARY"},{id:"c_jhs1",name:"JHS 1",level:"JHS"},{id:"c_jhs2",name:"JHS 2",level:"JHS"},{id:"c_jhs3",name:"JHS 3",level:"JHS"}],Bk=["Language & Literacy","Numeracy","Environmental Studies","Creative Arts","Physical Development","Social & Emotional Development","Rhymes, Songs & Storytelling"],jk=["Literacy & Language","Numeracy","OWOP","Creative Art","Physical Education"],Ck=["English Language","Mathematics","Science","ICT","Religious & Moral Education (RME)","Ghanaian Language","Our World Our People (OWOP)","Creative Arts","Physical Education"],Ek=["English Language","Mathematics","Integrated Science","Social Studies","Religious & Moral Education (RME)","ICT","French","Ghanaian Language","Creative Arts & Design","Physical Education","Career Technology","Computing / Coding"],rm=n=>n>=80?{total:n,grade:"A",remark:"Excellent"}:n>=70?{total:n,grade:"B",remark:"Very Good"}:n>=60?{total:n,grade:"C",remark:"Good"}:n>=45?{total:n,grade:"D",remark:"Pass"}:{total:n,grade:"F",remark:"Fail"},vu=n=>{const e=(n.testScore||0)+(n.homeworkScore||0)+(n.projectScore||0),t=(n.examScore||0)*.5;return Math.round(e+t)},Ng=n=>{switch(n){case"A":return"text-green-600 bg-green-100";case"B":return"text-red-600 bg-red-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}};class Sk{async getCollection(e){return(await ls(Zn(It,e))).docs.map(s=>s.data())}requireSchoolId(e,t="operation"){if(!e)throw new Error(`schoolId is required for ${t}`);return e}async getCollectionBySchoolId(e,t){const s=this.requireSchoolId(t,`getCollectionBySchoolId(${e})`),a=is(Zn(It,e),sn("schoolId","==",s));return(await ls(a)).docs.map(c=>c.data())}async getSchoolConfig(e){const t=this.requireSchoolId(e,"getSchoolConfig"),s=$n(It,"settings",t),a=await _d(s);return a.exists()?{...a.data(),schoolId:t}:{schoolId:t,schoolName:"New School",academicYear:uo,currentTerm:`Term ${Oi}`,headTeacherRemark:"Keep it up.",termEndDate:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}}async updateSchoolConfig(e){const t=this.requireSchoolId(e.schoolId,"updateSchoolConfig");await gi($n(It,"settings",t),e)}async getUsers(e){const t=this.requireSchoolId(e,"getUsers"),s=is(Zn(It,"users"),sn("schoolId","==",t));return(await ls(s)).docs.map(i=>({id:i.id,...i.data()}))}async addUser(e){await gi($n(It,"users",e.id),e)}async deleteUser(e){await Di($n(It,"users",e))}async updateUserAssignedClasses(e,t){await Tp($n(It,"users",e),{assignedClassIds:t})}async getStudents(e,t){const s=this.requireSchoolId(e,"getStudents"),a=Zn(It,"students"),i=[sn("schoolId","==",s)];t&&i.push(sn("classId","==",t));const c=is(a,...i);return(await ls(c)).docs.map(u=>u.data())}async addStudent(e){this.requireSchoolId(e.schoolId,"addStudent"),await gi($n(It,"students",e.id),e)}async updateStudent(e){this.requireSchoolId(e.schoolId,"updateStudent"),await Tp($n(It,"students",e.id),{...e,...e.schoolId?{schoolId:e.schoolId}:{}})}async deleteStudent(e){await Di($n(It,"students",e))}async getSubjects(e,t){const s=this.requireSchoolId(e,"getSubjects");if(!t)return[];const a=is(Zn(It,"class_subjects"),sn("schoolId","==",s),sn("classId","==",t)),i=await ls(a);return i.empty?[]:i.docs[0].data().subjects}async addSubject(e,t,s){const a=this.requireSchoolId(s,"addSubject"),i=await this.getSubjects(a,e);i.includes(t)||await gi($n(It,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:[...i,t]})}async updateSubject(e,t,s,a){const i=this.requireSchoolId(a,"updateSubject"),c=await this.getSubjects(i,e),h=c.indexOf(t);h!==-1&&(c[h]=s,await gi($n(It,"class_subjects",`${i}_${e}`),{schoolId:i,classId:e,subjects:c}))}async deleteSubject(e,t,s){const a=this.requireSchoolId(s,"deleteSubject"),c=(await this.getSubjects(a,e)).filter(h=>h!==t);await gi($n(It,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:c})}async seedClassSubjects(e,t,s){const a=this.requireSchoolId(s,"seedClassSubjects");await gi($n(It,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:t})}async resetAllClassSubjects(e){const t=this.requireSchoolId(e,"resetAllClassSubjects"),s=is(Zn(It,"class_subjects"),sn("schoolId","==",t)),i=(await ls(s)).docs.map(c=>Di($n(It,"class_subjects",c.id)));await Promise.all(i)}async getAttendance(e,t,s){const a=this.requireSchoolId(e,"getAttendance");if(!t||!s)return;const i=is(Zn(It,"attendance"),sn("schoolId","==",a),sn("classId","==",t),sn("date","==",s)),c=await ls(i);return c.empty?void 0:c.docs[0].data()}async getClassAttendance(e,t){const s=this.requireSchoolId(e,"getClassAttendance");if(!t)return[];const a=is(Zn(It,"attendance"),sn("schoolId","==",s),sn("classId","==",t));return(await ls(a)).docs.map(c=>c.data())}async saveAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveAttendance")}_${e.classId}_${e.date}`;await gi($n(It,"attendance",s),{...e,id:s})}async getAssessments(e,t,s){const a=this.requireSchoolId(e,"getAssessments");if(!t||!s)return[];const i=is(Zn(It,"assessments"),sn("schoolId","==",a),sn("classId","==",t),sn("subject","==",s));return(await ls(i)).docs.map(h=>h.data())}async getAllAssessments(e){return this.getCollectionBySchoolId("assessments",e)}async saveAssessment(e){const t=this.requireSchoolId(e.schoolId,"saveAssessment"),s=e.id||`${t}_${e.studentId}_${e.subject}_${e.term}_${e.academicYear}`;await gi($n(It,"assessments",s),{...e,id:s})}async resetAssessmentsForClass(e,t,s=!1,a){const i=this.requireSchoolId(e,"resetAssessmentsForClass");if(!t)return;const c=is(Zn(It,"assessments"),sn("schoolId","==",i),sn("classId","==",t)),u=(await ls(c)).docs.map(f=>Di($n(It,"assessments",f.id)));if(await Promise.all(u),s){const f=await this.getStudents(i,t),A=await this.getSubjects(i,t),m=[],v=a||Oi;for(const g of f)for(const B of A){const S=`${g.id}_${B}_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,T={id:S,schoolId:i,studentId:g.id,classId:t,term:v,academicYear:uo,subject:B,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0};m.push(gi($n(It,"assessments",S),T))}await Promise.all(m)}}async getNotices(e){const t=this.requireSchoolId(e,"getNotices"),s=is(Zn(It,"notices"),sn("schoolId","==",t));return(await ls(s)).docs.map(i=>i.data())}async addNotice(e){this.requireSchoolId(e.schoolId,"addNotice"),await gi($n(It,"notices",e.id),e)}async deleteNotice(e){await Di($n(It,"notices",e))}async getStudentRemarks(e,t){const s=this.requireSchoolId(e,"getStudentRemarks");if(!t)return[];const a=is(Zn(It,"student_remarks"),sn("schoolId","==",s),sn("classId","==",t));return(await ls(a)).docs.map(c=>c.data())}async saveStudentRemark(e){this.requireSchoolId(e.schoolId,"saveStudentRemark"),await gi($n(It,"student_remarks",e.id),e)}async getStudentSkills(e,t){const s=this.requireSchoolId(e,"getStudentSkills");if(!t)return[];const a=is(Zn(It,"student_skills"),sn("schoolId","==",s),sn("classId","==",t));return(await ls(a)).docs.map(c=>c.data())}async saveStudentSkills(e){this.requireSchoolId(e.schoolId,"saveStudentSkills"),await gi($n(It,"student_skills",e.id),e)}async addSystemNotification(e,t,s){const a=this.requireSchoolId(s,"addSystemNotification"),i=`${a}_${Date.now()}`,c={id:i,schoolId:a,message:e,createdAt:Date.now(),isRead:!1,type:t};await gi($n(It,"admin_notifications",i),c)}async getSystemNotifications(e){const t=this.requireSchoolId(e,"getSystemNotifications"),s=is(Zn(It,"admin_notifications"),sn("schoolId","==",t),lT("createdAt","desc"),gd(20));return(await ls(s)).docs.map(i=>i.data())}async markNotificationAsRead(e){await Tp($n(It,"admin_notifications",e),{isRead:!0})}async deleteSystemNotification(e){await Di($n(It,"admin_notifications",e))}async getTimetable(e,t){const s=this.requireSchoolId(e,"getTimetable");if(!t)return;const a=is(Zn(It,"timetables"),sn("schoolId","==",s),sn("classId","==",t),gd(1)),i=await ls(a);return i.empty?void 0:i.docs[0].data()}async saveTimetable(e){const t=this.requireSchoolId(e.schoolId,"saveTimetable");await gi($n(It,"timetables",`${t}_${e.classId}`),{...e,schoolId:t})}async getStudentPerformance(e,t,s){const a=await this.getClassAttendance(e,s),i=a.length,c=a.filter(S=>S.presentStudentIds.includes(t)).length,h=i===0?0:Math.round(c/i*100),u=a.map(S=>S.date).sort(),f=a.filter(S=>S.presentStudentIds.includes(t)).map(S=>S.date).sort(),A=is(Zn(It,"assessments"),sn("schoolId","==",e),sn("studentId","==",t)),v=(await ls(A)).docs.map(S=>S.data()).filter(S=>!0),B=(await this.getSubjects(e,s)).map(S=>{const T=v.find(E=>E.subject===S);return T||{subject:S,total:0}});return{attendance:{total:i,present:c,percentage:h,schoolDates:u,presentDates:f},grades:B}}async getDashboardStats(e){const t=this.requireSchoolId(e,"getDashboardStats"),[s,a,i]=await Promise.all([ls(is(Zn(It,"students"),sn("schoolId","==",t))),ls(is(Zn(It,"users"),sn("schoolId","==",t))),ls(is(Zn(It,"attendance"),sn("schoolId","==",t)))]),c=s.docs.map(v=>v.data()),h=a.docs.map(v=>v.data()),u=i.docs.map(v=>v.data()),f=c.filter(v=>v.gender==="Male").length,A=c.filter(v=>v.gender==="Female").length,m=Wn.map(v=>{const g=u.filter(S=>S.classId===v.id),B=c.filter(S=>S.classId===v.id);if(g.length>0&&B.length>0){const S=g.length*B.length,T=g.reduce((_,F)=>_+F.presentStudentIds.length,0),E=Math.round(T/S*100);return{className:v.name,percentage:E,id:v.id}}return{className:v.name,percentage:0,id:v.id}});return{studentsCount:c.length,teachersCount:h.filter(v=>v.role===ys.TEACHER).length,gender:{male:f,female:A},classAttendance:m}}async getTeacherAttendance(e,t,s){const a=this.requireSchoolId(e,"getTeacherAttendance");if(!t||!s)return;const i=is(Zn(It,"teacher_attendance"),sn("schoolId","==",a),sn("teacherId","==",t),sn("date","==",s)),c=await ls(i);return c.empty?void 0:c.docs[0].data()}async getAllTeacherAttendance(e,t){const s=this.requireSchoolId(e,"getAllTeacherAttendance");if(!t)return[];const a=is(Zn(It,"teacher_attendance"),sn("schoolId","==",s),sn("date","==",t));return(await ls(a)).docs.map(c=>c.data())}async saveTeacherAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveTeacherAttendance")}_${e.teacherId}_${e.date}`;await gi($n(It,"teacher_attendance",s),{...e,id:s})}async getAllTeacherAttendanceRecords(e){return this.getCollectionBySchoolId("teacher_attendance",e)}async resetAllTeacherAttendance(e){const t=this.requireSchoolId(e,"resetAllTeacherAttendance"),s=is(Zn(It,"teacher_attendance"),sn("schoolId","==",t)),i=(await ls(s)).docs.map(c=>Di($n(It,"teacher_attendance",c.id)));await Promise.all(i)}async getAdminRemark(e,t){const s=this.requireSchoolId(e,"getAdminRemark");if(!t)return;const a=$n(It,"admin_remarks",t),i=await _d(a);if(!i.exists())return;const c=i.data();return c.schoolId===s?c:void 0}async saveAdminRemark(e){this.requireSchoolId(e.schoolId,"saveAdminRemark"),await gi($n(It,"admin_remarks",e.id),e)}async createTermBackup(e,t,s){console.log(`Creating backup for ${t}, ${s}...`);try{const a=this.requireSchoolId(e.schoolId,"createTermBackup"),[i,c,h,u,f,A,m,v,g]=await Promise.all([this.getCollectionBySchoolId("students",a),this.getCollectionBySchoolId("users",a),this.getCollectionBySchoolId("attendance",a),this.getCollectionBySchoolId("teacher_attendance",a),this.getCollectionBySchoolId("assessments",a),this.getCollectionBySchoolId("student_remarks",a),this.getCollectionBySchoolId("student_skills",a),this.getCollectionBySchoolId("timetables",a),this.getCollectionBySchoolId("notices",a)]),S=(await ls(is(Zn(It,"class_subjects"),sn("schoolId","==",a)))).docs.map(E=>E.data()),T={id:`backup_${Date.now()}`,schoolId:a,timestamp:Date.now(),term:t,academicYear:s,data:{students:i,attendanceRecords:h,teacherAttendanceRecords:u,assessments:f,studentRemarks:A,studentSkills:m,timetables:v,users:c,classSubjects:S}};await gi($n(It,"backups",T.id),T),console.log(`Backup created successfully: ${T.id}`)}catch(a){throw console.error("Error creating backup:",a),a}}async resetForNewTerm(e){console.log("Initiating term transition for:",e.currentTerm,e.academicYear),await this.createTermBackup(e,e.currentTerm,e.academicYear);const t=Wn.map(f=>f.id),s=this.requireSchoolId(e.schoolId,"resetForNewTerm"),a=[(async()=>{const f=is(Zn(It,"attendance"),sn("schoolId","==",s)),m=(await ls(f)).docs.map(v=>Di($n(It,"attendance",v.id)));await Promise.all(m),console.log("Cleared student attendance records.")})(),this.resetAllTeacherAttendance(s),(async()=>{const f=is(Zn(It,"student_remarks"),sn("schoolId","==",s)),m=(await ls(f)).docs.map(v=>Di($n(It,"student_remarks",v.id)));await Promise.all(m),console.log("Cleared student remarks.")})(),(async()=>{const f=is(Zn(It,"student_skills"),sn("schoolId","==",s)),m=(await ls(f)).docs.map(v=>Di($n(It,"student_skills",v.id)));await Promise.all(m),console.log("Cleared student skills.")})(),(async()=>{const f=is(Zn(It,"admin_remarks"),sn("schoolId","==",s)),m=(await ls(f)).docs.map(v=>Di($n(It,"admin_remarks",v.id)));await Promise.all(m),console.log("Cleared admin remarks.")})(),(async()=>{const f=is(Zn(It,"admin_notifications"),sn("schoolId","==",s)),m=(await ls(f)).docs.map(v=>Di($n(It,"admin_notifications",v.id)));await Promise.all(m),console.log("Cleared system notifications.")})(),(async()=>{const f=is(Zn(It,"notices"),sn("schoolId","==",s)),m=(await ls(f)).docs.map(v=>Di($n(It,"notices",v.id)));await Promise.all(m),console.log("Cleared notices.")})()];await Promise.all(a);let i=1,c=e.academicYear;const h=parseInt(e.currentTerm.split(" ")[1]);if(h===3){i=1;const f=e.academicYear.split("-").map(Number);c=`${f[0]+1}-${f[1]+1}`}else i=h+1;for(const f of t)await this.resetAssessmentsForClass(e.schoolId,f,!0,i),console.log(`Reset and re-seeded assessments for class: ${f} with term ${i}`);const u={...e,currentTerm:`Term ${i}`,academicYear:c,termTransitionProcessed:!0,schoolReopenDate:e.nextTermBegins||"",vacationDate:"",nextTermBegins:""};await this.updateSchoolConfig(u),console.log("SchoolConfig updated for new term:",`Term ${i}`,c)}async getTeacherAttendanceAnalytics(e,t,s){const a=this.requireSchoolId(e,"getTeacherAttendanceAnalytics"),i=await this.getSchoolConfig(a);if(!t&&!i.schoolReopenDate)return[];const h=(await this.getUsers(a)).filter(B=>B.role===ys.TEACHER),u=await this.getAllTeacherAttendanceRecords(a),A=`${(i.academicYear||uo).split("-")[0]}-09-01`,m=t||i.schoolReopenDate||A,v=s||new Date().toISOString().split("T")[0],g=[];for(const B of h){const T=u.filter(k=>k.teacherId===B.id).filter(k=>k.date>=m&&k.date<=v),E={};T.forEach(k=>{const R=new Date(k.date),D=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`;E[D]||(E[D]={total:0,present:0}),E[D].total+=1,k.status==="present"&&(E[D].present+=1)});const _=Object.entries(E).map(([k,R])=>{const[D,O]=k.split("-"),$=R.total>0?Math.round(R.present/R.total*100):0;return{teacherId:B.id,teacherName:B.fullName,month:k,year:parseInt(D),totalWorkingDays:R.total,presentDays:R.present,absentDays:R.total-R.present,attendanceRate:$,trend:"stable"}}).sort((k,R)=>k.month.localeCompare(R.month));for(let k=0;k<_.length;k++)if(k>0){const R=_[k].attendanceRate,D=_[k-1].attendanceRate;R>D+5?_[k].trend="improving":R<D-5?_[k].trend="declining":_[k].trend="stable"}const F=_.reduce((k,R)=>k+R.totalWorkingDays,0),Q=_.reduce((k,R)=>k+R.presentDays,0),M=F>0?Math.round(Q/F*100):0;g.push({teacherId:B.id,teacherName:B.fullName,overallAttendance:M,monthlyBreakdown:_,termStartDate:m,vacationDate:v!==new Date().toISOString().split("T")[0]?v:void 0})}return g}async getBackups(e){const t=this.requireSchoolId(e==null?void 0:e.schoolId,"getBackups");let s=is(Zn(It,"backups"),sn("schoolId","==",t));const a=[];if(e!=null&&e.term&&a.push(sn("term","==",e.term)),e!=null&&e.academicYear&&a.push(sn("academicYear","==",e.academicYear)),e!=null&&e.date){const c=new Date(e.date).getTime(),h=c+1440*60*1e3-1;a.push(sn("timestamp",">=",c),sn("timestamp","<=",h))}return a.length>0&&(s=is(s,...a)),(await ls(s)).docs.map(c=>c.data())}async getBackupDetails(e,t){const s=this.requireSchoolId(e,"getBackupDetails");if(!t)return;const a=await _d($n(It,"backups",t));if(!a.exists())return;const i=a.data();return i.schoolId===s?i:void 0}async deleteBackup(e,t){const s=this.requireSchoolId(e,"deleteBackup");!t||!await this.getBackupDetails(s,t)||await Di($n(It,"backups",t))}async deleteAllBackups(e){const t=this.requireSchoolId(e,"deleteAllBackups"),s=is(Zn(It,"backups"),sn("schoolId","==",t)),i=(await ls(s)).docs.map(c=>Di($n(It,"backups",c.id)));await Promise.all(i)}}const ct=new Sk,Nk=({toast:n,onClose:e})=>{ee.useEffect(()=>{const s=setTimeout(()=>e(n.id),n.duration);return()=>clearTimeout(s)},[n,e]);const t=n.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":n.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-[#E6F0FA] border-[#E6F0FA] text-[#0B4A82]";return l.jsx("div",{className:`max-w-sm w-full px-4 py-3 rounded-lg border shadow-md ${t} transform transition-all`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-1 text-sm leading-tight",children:n.message}),l.jsx("button",{onClick:()=>e(n.id),className:"text-slate-400 hover:text-slate-600 ml-2","aria-label":"Close notification",children:l.jsx(ho,{size:14})})]})})},Tk=()=>{const[n,e]=ee.useState([]);ee.useEffect(()=>{let s=1;const a=i=>{const{message:c,type:h,duration:u}=i.detail||{},f=s++;e(A=>[{id:f,message:c,type:h,duration:u},...A])};return window.addEventListener("app-toast",a),()=>window.removeEventListener("app-toast",a)},[]);const t=s=>e(a=>a.filter(i=>i.id!==s));return n.length===0?null:l.jsx("div",{className:"fixed right-4 top-20 z-60 flex flex-col gap-3",children:n.map(s=>l.jsx(Nk,{toast:s,onClose:t},s.id))})},cr=({children:n,title:e})=>{const{user:t,logout:s}=Go(),{school:a}=Gc(),i=(a==null?void 0:a.id)||null,[c,h]=ee.useState(!1),u=Tu(),[f,A]=ee.useState([]),[m,v]=ee.useState(!1),[g,B]=ee.useState(0),S=(t==null?void 0:t.role)===ys.SCHOOL_ADMIN,T=(t==null?void 0:t.role)===ys.SUPER_ADMIN;ee.useEffect(()=>{if(S||T){const Q=async()=>{try{if(!i)return;const k=await ct.getSystemNotifications(i);A(k),B(k.filter(R=>!R.isRead).length)}catch(k){console.error("Failed to fetch notifications",k)}};Q();const M=setInterval(Q,3e4);return()=>clearInterval(M)}},[S,T,i]);const E=async(Q,M)=>{M.stopPropagation(),await ct.markNotificationAsRead(Q),A(k=>k.map(R=>R.id===Q?{...R,isRead:!0}:R)),B(k=>Math.max(0,k-1))},_=async(Q,M)=>{M.stopPropagation();try{await ct.deleteSystemNotification(Q),A(k=>k.filter(R=>R.id!==Q)),B(k=>f.find(D=>D.id===Q&&!D.isRead)?Math.max(0,k-1):k)}catch(k){console.error("Failed to delete notification",k)}},F=({href:Q,icon:M,label:k})=>{const R=u.pathname===Q;return l.jsxs($i,{to:Q,className:`flex items-center px-4 py-3 transition-colors ${R?"bg-[#0B4A82] text-white border-r-4 border-[#1160A8]":"text-[#E6F0FA] hover:bg-[#1160A8] hover:text-white"}`,onClick:()=>h(!1),children:[l.jsx(M,{className:`w-5 h-5 mr-3 ${R?"text-white":"text-[#E6F0FA]"}`}),l.jsx("span",{className:"font-medium",children:k})]})};return l.jsxs("div",{className:"h-screen bg-[#fafafa] flex",children:[c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),l.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-30 w-64 bg-[#0B4A82] text-white transform transition-transform duration-200 ease-in-out overflow-y-auto
        ${c?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0 flex flex-col shadow-xl border-r border-[#0B4A82]
      `,children:[l.jsxs("div",{className:"p-6 border-b border-[#0B4A82] bg-[#0B4A82] flex flex-col items-center justify-center relative",children:[l.jsx("button",{onClick:()=>h(!1),className:"md:hidden absolute top-4 right-4 text-[#E6F0FA] hover:text-white",children:l.jsx(ho,{size:24})}),T?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-[#E6F0FA] overflow-hidden",children:l.jsx("img",{src:ob,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:"Super Admin Panel"}),l.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"System Administration"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-amber-500 overflow-hidden",children:l.jsx("img",{src:(a==null?void 0:a.logoUrl)||ob,alt:(a==null?void 0:a.name)||"School Management System",className:"w-full h-full object-contain rounded-full"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:(a==null?void 0:a.name)||"School Management System"}),l.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"Management System"})]})]})]}),l.jsx("nav",{className:"flex-1 py-6 space-y-1",children:T?l.jsxs(l.Fragment,{children:[l.jsx(F,{href:"/",icon:M1,label:"Dashboard"}),l.jsx(F,{href:"/super-admin/schools",icon:eg,label:"Schools"})]}):S?l.jsxs(l.Fragment,{children:[l.jsx(F,{href:"/",icon:M1,label:"Dashboard"}),l.jsx(F,{href:"/admin/students",icon:eg,label:"Students"}),l.jsx(F,{href:"/admin/teachers",icon:SA,label:"Teachers"}),l.jsx(F,{href:"/admin/attendance",icon:JP,label:"Student Attendance"}),l.jsx(F,{href:"/admin/teacher-attendance",icon:Kv,label:"Teacher Attendance"}),l.jsx(F,{href:"/admin/reports",icon:Mc,label:"Reports"}),l.jsx(F,{href:"/admin/report-card",icon:Mc,label:"Report Card"}),l.jsx(F,{href:"/admin/timetable",icon:WP,label:"Timetable"}),l.jsx(F,{href:"/admin/settings",icon:BT,label:"Settings"})]}):l.jsxs(l.Fragment,{children:[l.jsx(F,{href:"/",icon:M1,label:"Dashboard"}),l.jsx(F,{href:"/teacher/my-attendance",icon:Kv,label:"My Attendance"}),l.jsx(F,{href:"/teacher/attendance",icon:SA,label:"Student Attendance"}),l.jsx(F,{href:"/teacher/assessment",icon:Mc,label:"Assessment"})]})}),l.jsxs("div",{className:"p-4 border-t border-[#0B4A82] bg-[#0B4A82]",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1160A8] border-2 border-[#E6F0FA] flex items-center justify-center text-sm font-bold shadow-lg text-white",children:t==null?void 0:t.fullName.charAt(0)}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-white",children:t==null?void 0:t.fullName}),l.jsx("p",{className:"text-xs text-[#E6F0FA] capitalize",children:(t==null?void 0:t.role)===ys.SUPER_ADMIN?"Super Admin":(t==null?void 0:t.role)===ys.SCHOOL_ADMIN?"School Admin":"Teacher"})]})]}),l.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center px-4 py-2 text-sm text-[#E6F0FA] hover:text-white hover:bg-[#1160A8] rounded-md transition-colors",children:[l.jsx(SM,{size:16,className:"mr-2"}),"Sign Out"]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[l.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-4 md:px-8 z-10 border-b border-[#E6F0FA]",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 -ml-2 text-[#0B4A82] hover:text-[#1160A8]",children:l.jsx(DM,{size:24})}),l.jsx("h2",{className:"text-xl font-bold text-[#0B4A82] ml-2 md:ml-0",children:e})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[(S||T)&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>v(!m),className:`relative p-2 transition-colors ${m?"text-[#0B4A82] bg-[#E6F0FA] rounded-full":"text-slate-400 hover:text-[#0B4A82]"}`,children:[l.jsx(Ip,{size:20}),g>0&&l.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-[#1160A8] rounded-full border-2 border-white"})]}),m&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),l.jsxs("div",{className:"fixed right-4 top-16 w-80 sm:w-96 bg-white bg-opacity-100 rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[l.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[l.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Notifications"}),l.jsxs("span",{className:"text-xs text-slate-500",children:[g," unread"]})]}),l.jsx("div",{className:"max-h-80 overflow-y-auto bg-white",children:f.length===0?l.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No new activity."}):f.map(Q=>l.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 transition-colors ${Q.isRead?"bg-slate-50":"bg-white border-l-4 border-l-[#1160A8]"}`,children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:`text-sm leading-snug mb-1 ${Q.isRead?"text-slate-500":"text-slate-800 font-medium"}`,children:Q.message}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase tracking-wide ${Q.isRead?"bg-slate-200 text-slate-500":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:Q.isRead?"Read":"Unread"}),l.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(Q.createdAt).toLocaleString()})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!Q.isRead&&l.jsx("button",{onClick:M=>E(Q.id,M),className:"text-emerald-500 hover:text-emerald-700 p-1 hover:bg-emerald-50 rounded transition-colors shrink-0",title:"Mark as read",children:l.jsx(_p,{size:16})}),l.jsx("button",{onClick:M=>_(Q.id,M),className:"text-slate-400 hover:text-red-600 p-1 hover:bg-red-50 rounded transition-colors shrink-0",title:"Delete notification",children:l.jsx(ho,{size:16})})]})]})},Q.id))})]})]})]}),l.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2 hidden sm:block"}),l.jsx("div",{className:"text-sm text-slate-500 hidden sm:block font-medium",children:new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),l.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8",children:n}),l.jsx(Tk,{})]})]})},Zt=(n,e)=>{const t={message:n,type:(e==null?void 0:e.type)||"info",duration:(e==null?void 0:e.duration)??4e3};window.dispatchEvent(new CustomEvent("app-toast",{detail:t}))},Ik=({data:n,week:e,onPreviousWeek:t,onNextWeek:s,onCurrentWeek:a,schoolReopenDate:i})=>{if(e===null)return l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col items-center justify-center",children:[l.jsx("div",{className:"relative w-12 h-12 border-3 border-slate-100 border-t-red-900 rounded-full animate-spin"}),l.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"Loading attendance data..."})]});const{monday:c,friday:h}=ET(e),f=_k().toDateString()===c.toDateString(),A=B=>{const S=B.split("-");return S.length===3?new Date(parseInt(S[0]),parseInt(S[1])-1,parseInt(S[2])):new Date(B)};let m="",v=null;i&&(v=A(i),v>new Date?m="School Closed":m="School Open");const g=B=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(B);return l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Class Attendance"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Weekly participation overview"})]}),m&&l.jsx("div",{className:`text-xs font-bold px-3 py-1 rounded-full ${m==="School Closed"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:m})]}),l.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-amber-50 rounded-xl border border-red-100",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold",title:"Previous week",children:""}),l.jsx("div",{className:"flex-1 mx-4 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[g(c),"  ",g(h)]}),l.jsx("p",{className:"text-xs text-slate-500 font-medium",children:c.getFullYear()}),f&&l.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded-full mt-1 uppercase tracking-wide",children:"Current Week"})]})}),l.jsx("button",{onClick:s,disabled:f,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-200 disabled:hover:text-slate-600",title:f?"You are viewing the current week":"Next week",children:""})]}),!f&&l.jsx("div",{className:"mt-3 text-center",children:l.jsx("button",{onClick:a,className:"text-xs text-red-700 hover:text-red-800 font-semibold bg-white border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50 transition-colors",children:"Return to Current Week"})})]}),m==="School Closed"&&v&&l.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-red-800 font-semibold",children:["School is currently closed. Attendance records will begin from"," ",g(v)]})}),l.jsx("div",{className:"flex-1 flex items-end justify-between gap-1 sm:gap-2 px-1 pb-2 h-96 w-full overflow-x-auto",children:n.map(B=>{let S="bg-amber-500";return B.percentage<50?S="bg-red-600":B.percentage>=80&&(S="bg-emerald-500"),l.jsxs("div",{className:"flex flex-col items-center flex-1 group h-full justify-end min-w-[20px]",children:[l.jsxs("div",{className:"w-full max-w-[30px] bg-slate-50 rounded-t-sm relative flex items-end h-full hover:bg-slate-100 transition-colors",children:[l.jsxs("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[B.className,": ",B.percentage,"%"]}),l.jsx("div",{className:`w-full ${S} rounded-t-sm transition-all duration-1000 ease-out relative`,style:{height:`${B.percentage}%`}})]}),l.jsx("span",{className:"text-[10px] text-slate-400 mt-2 font-medium truncate w-full text-center",children:B.className.replace("Nursery ","N").replace("Class ","P").replace("Primary ","P").replace("KG ","K").replace("JHS ","J")})]},B.id)})})]})},ET=n=>{const e=new Date(n),t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-(t===0?6:t-1));const a=new Date(s);return a.setDate(s.getDate()+4),{monday:s,friday:a}},_k=()=>ET(new Date).monday,Fk=()=>{var an;cg();const{school:n,schoolLoading:e}=Gc(),t=(n==null?void 0:n.id)||null,[s,a]=ee.useState({students:0,teachers:0,classes:Wn.length,maleStudents:0,femaleStudents:0,classAttendance:[]}),[i,c]=ee.useState([]),[h,u]=ee.useState([]),[f,A]=ee.useState(!0),[m,v]=ee.useState(null),[g,B]=ee.useState(null),[S,T]=ee.useState([]),[E,_]=ee.useState([]),[F,Q]=ee.useState([]),[M,k]=ee.useState([]),[R,D]=ee.useState(!1),[O,$]=ee.useState(null),L=jS.useRef(null),[H,z]=ee.useState(Date.now()),[re,pe]=ee.useState(0),[ae,ne]=ee.useState(0),[Z,ue]=ee.useState(0),[je,se]=ee.useState(null),[G,te]=ee.useState(null),[le,he]=ee.useState({academicYear:"",currentTerm:"",schoolReopenDate:"",schoolName:"",headTeacherRemark:"",termEndDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}),[ce,xe]=ee.useState(null),[Ne,Te]=ee.useState({A:0,B:0,C:0,D:0,F:0}),[Fe,tt]=ee.useState([]),[$e,it]=ee.useState({A:[],B:[],C:[],D:[],F:[]}),[Ve,fe]=ee.useState(null),[ut,Lt]=ee.useState({}),[Ge,Je]=ee.useState([]),[Qt,Ut]=ee.useState({}),[Yt,zt]=ee.useState({}),[Jt,yn]=ee.useState(null),[tn,Dn]=ee.useState(null),[xt,Et]=ee.useState(null),[Gt,kt]=ee.useState({}),Pn=async()=>{var Re,_t;A(!0),v(null);try{if(!t){v("School context not loaded.");return}const Pt=await ct.getDashboardStats(t),Nt=await ct.getStudents(t),Vt=await ct.getNotices(t),Tt=await ct.getSchoolConfig(t),gn=new Date,En=`${gn.getFullYear()}-${String(gn.getMonth()+1).padStart(2,"0")}-${String(gn.getDate()).padStart(2,"0")}`,Ln=await ct.getUsers(t),ur=await ct.getAllTeacherAttendance(t,En),Hn=await ct.getAllTeacherAttendanceRecords(t),Tn=[],Us=new Date,Es=Tt.schoolReopenDate?new Date(Tt.schoolReopenDate+"T00:00:00"):null,ir=!Es||Us>=Es,tr=Tt.vacationDate?new Date(Tt.vacationDate+"T00:00:00"):null;tr&&tr.setHours(0,0,0,0);const Xs=Tt.nextTermBegins?new Date(Tt.nextTermBegins+"T00:00:00"):null;Us.setHours(0,0,0,0);const zs=tr&&Xs&&Us>=tr&&Us<Xs,Ka=5;if(ir&&!zs&&Hn.length>0){const Cn=Qn=>{if(!Qn)return null;let Kt=[];if(Qn.includes("-")){if(Kt=Qn.split("-"),Kt.length===3)return new Date(parseInt(Kt[0]),parseInt(Kt[1])-1,parseInt(Kt[2]))}else if(Qn.includes("/")&&(Kt=Qn.split("/"),Kt.length===3))return new Date(parseInt(Kt[2]),parseInt(Kt[0])-1,parseInt(Kt[1]));return null},hn=Cn(Tt.schoolReopenDate),Ss=Cn(Tt.vacationDate);let Fn=new Date;for(let Qn=0;Qn<Ka;Qn++){let Kt=new Date(Fn),Js=Kt.getDay();do{Kt.setDate(Kt.getDate()-1),Js=Kt.getDay();const Ur=Ss&&Kt.toDateString()===Ss.toDateString();if(!(Js===0||Js===6||Ur))break}while(!0);const Bi=`${Kt.getFullYear()}-${String(Kt.getMonth()+1).padStart(2,"0")}-${String(Kt.getDate()).padStart(2,"0")}`,Wi=Kt.getTime(),Or=hn?hn.getTime():0,Wo=Ss&&Xs&&Kt>=Ss&&Kt<Xs;if(Wi>=Or&&Or>0&&!Wo)for(const Ur of Ln.filter(Qs=>Qs.role===ys.TEACHER))await ct.getTeacherAttendance(t,Ur.id,Bi)||Tn.push({teacherId:Ur.id,teacherName:Ur.fullName,date:Bi,classes:((Re=Ur.assignedClassIds)==null?void 0:Re.map(Mi=>{var po;return(po=Wn.find(Yo=>Yo.id===Mi))==null?void 0:po.name}).join(", "))||"Not Assigned"});else break;Fn=Kt}}const Wr=[];if(ir&&!zs){const Cn=Qn=>{if(!Qn)return null;let Kt=[];if(Qn.includes("-")){if(Kt=Qn.split("-"),Kt.length===3)return new Date(parseInt(Kt[0]),parseInt(Kt[1])-1,parseInt(Kt[2]))}else if(Qn.includes("/")&&(Kt=Qn.split("/"),Kt.length===3))return new Date(parseInt(Kt[2]),parseInt(Kt[0])-1,parseInt(Kt[1]));return null},hn=Cn(Tt.schoolReopenDate),Ss=Cn(Tt.vacationDate);let Fn=new Date;for(let Qn=0;Qn<Ka;Qn++){let Kt=new Date(Fn),Js=Kt.getDay();do{Kt.setDate(Kt.getDate()-1),Js=Kt.getDay();const Ur=Ss&&Kt.toDateString()===Ss.toDateString();if(!(Js===0||Js===6||Ur))break}while(!0);const Bi=`${Kt.getFullYear()}-${String(Kt.getMonth()+1).padStart(2,"0")}-${String(Kt.getDate()).padStart(2,"0")}`,Wi=Kt.getTime(),Or=hn?hn.getTime():0,Wo=Ss&&Xs&&Kt>=Ss&&Kt<Xs;if(Wi>=Or&&Or>0&&!Wo)for(const Ur of Ln.filter(Qs=>Qs.role===ys.TEACHER&&Qs.assignedClassIds&&Qs.assignedClassIds.length>0)){const Qs=Ur.assignedClassIds[0],Mi=((_t=Wn.find(Yo=>Yo.id===Qs))==null?void 0:_t.name)||"Unknown Class";await ct.getAttendance(t,Qs,Bi)||Wr.push({teacherId:Ur.id,teacherName:Ur.fullName,date:Bi,className:Mi})}else break;Fn=Kt}}const ri=((Cn,hn)=>{if(!Cn||!hn)return 0;const Ss=new Date(Cn+"T00:00:00"),Fn=new Date(hn+"T00:00:00");let Qn=0;const Kt=new Date(Ss);for(;Kt<=Fn;){const Js=Kt.getDay();Js!==0&&Js!==6&&Qn++,Kt.setDate(Kt.getDate()+1)}return Qn})(Tt.schoolReopenDate,Tt.vacationDate),wi=Ln.filter(Cn=>Cn.role===ys.TEACHER).map(Cn=>{var Kt;const Ss=Hn.filter(Js=>Js.teacherId===Cn.id&&Js.date>=(Tt.schoolReopenDate||"")&&Js.date<=(Tt.vacationDate||"9999-99-99")).filter(Js=>Js.status==="present").length,Fn=ri,Qn=Fn>0?Math.round(Ss/Fn*100):0;return{id:Cn.id,name:Cn.fullName,classes:((Kt=Cn.assignedClassIds)==null?void 0:Kt.map(Js=>{var Bi;return(Bi=Wn.find(Wi=>Wi.id===Js))==null?void 0:Bi.name}).join(", "))||"Not Assigned",presentDays:Ss,totalDays:Fn,attendanceRate:Qn}}),ll=ur.map(Cn=>{var Ss;const hn=Ln.find(Fn=>Fn.id===Cn.teacherId);return{...Cn,teacherName:(hn==null?void 0:hn.fullName)||"Unknown",teacherClasses:((Ss=hn==null?void 0:hn.assignedClassIds)==null?void 0:Ss.map(Fn=>{var Qn;return(Qn=Wn.find(Kt=>Kt.id===Fn))==null?void 0:Qn.name}).join(", "))||"Not Assigned"}});if(he(Cn=>({...Cn,academicYear:Tt.academicYear,currentTerm:Tt.currentTerm,schoolReopenDate:Tt.schoolReopenDate||""})),Tt.nextTermBegins&&new Date>=new Date(Tt.nextTermBegins+"T00:00:00")&&!Tt.termTransitionProcessed)try{await ct.resetForNewTerm(Tt),Zt("Term transition completed automatically.",{type:"success"}),setTimeout(()=>Pn(),1e3)}catch(Cn){console.error("Auto term transition failed:",Cn),Zt("Auto term transition failed. Please check settings.",{type:"error"})}let $o=Oi;if(Tt.currentTerm){const Cn=Tt.currentTerm.match(/\d+/);Cn&&($o=parseInt(Cn[0]))}const mo=await ct.getAllAssessments(t),Br={},na=new Map(Nt.map(Cn=>[Cn.id,Cn]));mo.forEach(Cn=>{if(Cn.term===$o&&na.has(Cn.studentId)){if(!Br[Cn.studentId]){const Ss=na.get(Cn.studentId);Br[Cn.studentId]={total:0,count:0,name:Ss.name,classId:Ss.classId}}const hn=Cn.total??vu(Cn);Br[Cn.studentId].total+=hn,Br[Cn.studentId].count+=1}});const vr={A:0,B:0,C:0,D:0,F:0},os=[],Ua={A:[],B:[],C:[],D:[],F:[]};Object.entries(Br).forEach(([Cn,hn])=>{var Kt;const Ss=hn.count>0?hn.total/hn.count:0,{grade:Fn}=rm(Ss);vr[Fn]!==void 0&&vr[Fn]++;const Qn={id:Cn,name:hn.name,class:((Kt=Wn.find(Js=>Js.id===hn.classId))==null?void 0:Kt.name)||"N/A",avg:parseFloat(Ss.toFixed(1))};os.push(Qn),Ua[Fn]&&Ua[Fn].push(Qn)}),os.sort((Cn,hn)=>hn.avg-Cn.avg),a({students:Pt.studentsCount,teachers:Pt.teachersCount,classes:Wn.length,maleStudents:Pt.gender.male,femaleStudents:Pt.gender.female,classAttendance:Pt.classAttendance}),c(Vt),u(Nt.slice(-5).reverse()),T(ll),_(wi),Q(Tn),k(Wr),Te(vr),tt(os.slice(0,5)),it(Ua),$(new Date)}catch(Pt){console.error("Dashboard fetch error:",Pt),v("Failed to load dashboard data. Please check your internet connection or database permissions.")}finally{A(!1)}},ke=async()=>{try{if(!t)return;const Re=await ct.getDashboardStats(t),_t=(Re.classAttendance||[]).map(Nt=>Nt.percentage||0),Pt=_t.length>0?Math.round(_t.reduce((Nt,Vt)=>Nt+Vt,0)/_t.length):0;a(Nt=>({...Nt,students:Re.studentsCount,teachers:Re.teachersCount,classes:Wn.length,maleStudents:Re.gender.male,femaleStudents:Re.gender.female,classAttendance:Re.classAttendance})),$(new Date),He(pe,Re.studentsCount,600),He(ne,Pt,600);try{const Nt=await ct.getAllAssessments(t),Vt={};Nt.forEach(En=>{Vt[En.studentId]||(Vt[En.studentId]={total:0,count:0});const Ln=En.total??vu(En);Vt[En.studentId].total+=Ln,Vt[En.studentId].count+=1});const Tt=Object.values(Vt).map(En=>En.count>0?En.total/En.count:0),gn=Tt.length>0?Math.round(Tt.reduce((En,Ln)=>En+Ln,0)/Tt.length):0;He(ue,gn,600)}catch(Nt){console.error("Failed to compute grade avg",Nt)}ht().catch(Nt=>console.error(Nt)),gt().catch(Nt=>console.error("Failed to compute visuals",Nt))}catch(Re){console.error("Failed to fetch live stats",Re)}},gt=async()=>{try{if(!t)return;const Re=await ct.getAllAssessments(t),_t=await ct.getStudents(t),Pt={},Nt={},Vt={},Tt={},gn=new Map(_t.map(Hn=>[Hn.id,Hn.classId]));Re.forEach(Hn=>{const Tn=Hn.classId||gn.get(Hn.studentId)||"unknown",Us=Hn.subject||"General",Es=Hn.total??vu(Hn);Pt[Tn]||(Pt[Tn]={}),Pt[Tn][Us]||(Pt[Tn][Us]={total:0,count:0}),Pt[Tn][Us].total+=Es,Pt[Tn][Us].count+=1,Nt[Tn]||(Nt[Tn]={total:0,count:0}),Nt[Tn].total+=Es,Nt[Tn].count+=1;const ir=Es,tr=ir>=80?"A":ir>=65?"B":ir>=50?"C":ir>=35?"D":"F";Vt[Tn]||(Vt[Tn]={A:0,B:0,C:0,D:0,F:0}),Vt[Tn][tr]=(Vt[Tn][tr]||0)+1;const Xs=Hn.date?new Date(Hn.date).getTime():Hn.createdAt?new Date(Hn.createdAt).getTime():Date.now();Tt[Tn]||(Tt[Tn]=[]),Tt[Tn].push({date:Xs,avg:Es})});const En={};Object.entries(Pt).forEach(([Hn,Tn])=>{En[Hn]={},Object.entries(Tn).forEach(([Us,Es])=>{En[Hn][Us]=Math.round(Es.total/Math.max(1,Es.count))})});const Ln=Object.entries(Nt).map(([Hn,Tn])=>{var Us;return{className:((Us=Wn.find(Es=>Es.id===Hn))==null?void 0:Us.name)||Hn,avg:Math.round(Tn.total/Math.max(1,Tn.count))}}).sort((Hn,Tn)=>Tn.avg-Hn.avg),ur={};Object.entries(Tt).forEach(([Hn,Tn])=>{const Us=Tn.sort((Xs,zs)=>Xs.date-zs.date),Es=8,ir=Math.max(1,Math.ceil(Us.length/Es)),tr=[];for(let Xs=0;Xs<Us.length;Xs+=ir){const zs=Us.slice(Xs,Xs+ir),Ka=Math.round(zs.reduce((Wr,da)=>Wr+da.avg,0)/zs.length);tr.push(Ka)}for(;tr.length<Es;)tr.unshift(tr[0]??0);ur[Hn]=tr.slice(-Es)}),Lt(En),Je(Ln),Ut(Vt),zt(ur)}catch(Re){console.error("Error fetching visualizations",Re)}},He=(Re,_t,Pt=500)=>{const Nt=Date.now(),Vt=0,Tt=()=>{const gn=Math.min(1,(Date.now()-Nt)/Pt),En=Math.round(Vt+(_t-Vt)*gn);Re(En),gn<1&&requestAnimationFrame(Tt)};requestAnimationFrame(Tt)},at=async(Re,_t)=>{const Pt=[];for(const Nt of Wn)try{if(!t)return null;const Tt=(await ct.getClassAttendance(t,Nt.id)).filter(En=>{const Ln=En.date.split("-");if(Ln.length!==3)return!1;const ur=new Date(parseInt(Ln[0]),parseInt(Ln[1])-1,parseInt(Ln[2]));return ur>=Re&&ur<=_t}),gn=(await ct.getStudents(t,Nt.id)).length||0;if(Tt.length>0&&gn>0){const En=Tt.length*gn,Ln=Tt.reduce((ur,Hn)=>{var Tn;return ur+(((Tn=Hn.presentStudentIds)==null?void 0:Tn.length)||0)},0);Pt.push(Math.round(Ln/En*100))}}catch(Vt){console.error("Error computing class attendance for",Nt.id,Vt)}return Pt.length===0?null:Math.round(Pt.reduce((Nt,Vt)=>Nt+Vt,0)/Pt.length)},ht=async()=>{const Re=ce||new Date,{monday:_t}=dt(Re),Pt=_t,Nt=new Date(_t);Nt.setDate(_t.getDate()+4);const Vt=new Date(_t);Vt.setDate(_t.getDate()-7);const Tt=new Date(Vt);Tt.setDate(Vt.getDate()+4);const gn=await at(Pt,Nt),En=await at(Vt,Tt);se(gn),te(En)};ee.useEffect(()=>{e||Pn()},[e,t]),ee.useEffect(()=>{if(!t)return;const Re=is(Zn(It,"attendance"),sn("schoolId","==",t)),_t=is(Zn(It,"assessments"),sn("schoolId","==",t)),Pt=is(Zn(It,"teacher_attendance"),sn("schoolId","==",t)),Nt=$n(It,"settings",t),Vt=xp(Re,()=>{ke().catch(Ln=>console.error("Error refreshing stats on attendance change",Ln))}),Tt=xp(_t,()=>{Pn().catch(Ln=>console.error("Error refreshing data on assessments change",Ln))}),gn=xp(Pt,()=>{Pn().catch(Ln=>console.error("Error refreshing data on teacher attendance change",Ln))}),En=xp(Nt,Ln=>{if(Ln.exists()){const ur=Ln.data();he(Hn=>({...Hn,academicYear:ur.academicYear||uo,currentTerm:ur.currentTerm||`Term ${Oi}`,schoolReopenDate:ur.schoolReopenDate||""}))}});return()=>{Vt(),Tt(),En(),gn()}},[t]),ee.useEffect(()=>{if(!R){L.current&&(clearInterval(L.current),L.current=null);return}return ke(),L.current=window.setInterval(ke,15e3),()=>{L.current&&(clearInterval(L.current),L.current=null)}},[R]),ee.useEffect(()=>{if(!O)return;z(Date.now());const Re=window.setInterval(()=>z(Date.now()),1e3);return()=>clearInterval(Re)},[O]),ee.useEffect(()=>{if(le.schoolReopenDate){const Re=le.schoolReopenDate.split("-"),_t=Re.length===3?new Date(parseInt(Re[0]),parseInt(Re[1])-1,parseInt(Re[2])):new Date(le.schoolReopenDate);if(_t>new Date){xe(dt(_t).monday);return}}xe(dt(new Date).monday)},[le.schoolReopenDate]),ee.useEffect(()=>{const Re=()=>B(null);return g&&window.addEventListener("click",Re),()=>window.removeEventListener("click",Re)},[g]);const Rt=(Re,_t)=>{Re.stopPropagation(),B(g===_t?null:_t)},Bt=async Re=>{B(null),yn(Re),Dn(null);try{const _t=await ct.getStudentPerformance(t,Re.id,Re.classId);Dn(_t)}catch(_t){console.error(_t)}},Ht=Re=>{B(null),Et(Re),kt({...Re})},xn=async Re=>{if(Re.preventDefault(),!(!xt||!Gt.name))try{const _t={...xt,...Gt};await ct.updateStudent(_t),Pn(),Et(null)}catch{Zt("Failed to update student",{type:"error"})}},Ct=async Re=>{fe(null);try{if(!t)return;const Pt=(await ct.getStudents(t)).find(Nt=>Nt.id===Re);Pt?Bt(Pt):Zt("Student not found",{type:"error"})}catch(_t){console.error(_t),Zt("Failed to fetch student",{type:"error"})}},dt=Re=>{const _t=new Date(Re),Pt=_t.getDay(),Nt=new Date(_t);Nt.setDate(_t.getDate()-(Pt===0?6:Pt-1));const Vt=new Date(Nt);return Vt.setDate(Nt.getDate()+4),{monday:Nt,friday:Vt}},Dt=()=>{if(ce===null)return;const Re=new Date(ce);if(Re.setDate(Re.getDate()-7),le.schoolReopenDate){const _t=le.schoolReopenDate.split("-"),Pt=_t.length===3?new Date(parseInt(_t[0]),parseInt(_t[1])-1,parseInt(_t[2])):new Date(le.schoolReopenDate),Nt=dt(Pt).monday;if(Re<Nt){Zt("Cannot view weeks before school re-opens",{type:"info"});return}}xe(Re)},Xt=()=>{if(ce===null)return;const Re=new Date(ce);Re.setDate(Re.getDate()+7),xe(Re)},rn=()=>{if(le.schoolReopenDate){const Re=le.schoolReopenDate.split("-"),_t=Re.length===3?new Date(parseInt(Re[0]),parseInt(Re[1])-1,parseInt(Re[2])):new Date(le.schoolReopenDate);if(_t>new Date){xe(dt(_t).monday);return}}xe(dt(new Date).monday)},cs=({title:Re,value:_t,subtext:Pt,icon:Nt,colorClass:Vt,iconColorClass:Tt})=>l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between relative overflow-hidden group hover:shadow-md transition-shadow min-h-[140px]",children:[l.jsx("div",{className:"flex justify-between items-start z-10",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:Re}),l.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:_t}),Pt&&l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Pt})]})}),l.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-10 pointer-events-none transform group-hover:scale-110 transition-transform ${Tt}`,children:l.jsx(Nt,{size:100})})]}),Bs=({title:Re,value:_t,suffix:Pt,delta:Nt,deltaPositive:Vt})=>l.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:Re}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("span",{className:"text-2xl font-bold text-slate-800",children:_t}),Pt&&l.jsx("span",{className:"text-sm text-slate-500",children:Pt})]})]}),l.jsx("div",{className:`text-sm font-semibold px-2 py-1 rounded ${Vt?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:Nt??"--"})]})}),ln=()=>l.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Bs,{title:"Students Enrolled",value:re,suffix:"total",delta:null,deltaPositive:!0}),l.jsx(Bs,{title:"Attendance Now",value:`${ae}%`,suffix:null,delta:je!==null&&G!==null?`${je-G}% vs last week`:"No comparison",deltaPositive:je!==null&&G!==null?je-G>=0:!0}),l.jsx(Bs,{title:"Avg Grade",value:`${Z}%`,suffix:null,delta:null,deltaPositive:!0})]})}),si=()=>l.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-2xl shadow-md border border-amber-200 flex flex-col justify-between min-h-[140px]",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Students Enrolled"}),l.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-amber-900 mt-2",children:s.students}),l.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[s.classes," classes  ",s.teachers," teachers"]})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:l.jsx(eg,{className:"text-amber-600",size:28})})})]}),l.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-slate-500",children:"Female"}),l.jsx("div",{className:"text-lg font-bold text-[#0B4A82]",children:s.femaleStudents})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-slate-500",children:"Male"}),l.jsx("div",{className:"text-lg font-bold text-amber-600",children:s.maleStudents})]})]}),l.jsx("div",{className:"hidden sm:flex items-end gap-2 flex-1 max-w-[55%]",children:s.classAttendance.slice(0,8).map(Re=>l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full rounded-sm",title:`${Re.className}: ${Re.percentage}%`,style:{background:Re.percentage>=80?"#16a34a":Re.percentage<50?"#dc2626":"#f59e0b",height:`${Math.max(6,Math.round(Re.percentage/2))}px`}}),l.jsx("div",{className:"text-[10px] text-slate-500 mt-1 truncate text-center",children:Re.className.replace("Primary ","P").replace("Class ","P").replace("Nursery ","N")})]},Re.id))})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[l.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",O?`${Math.floor((H-O.getTime())/1e3)}s ago`:""]}),l.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Responsive  Clean  Insightful"})]})]}),Fa=()=>{const Re=s.teachers>0?Math.round(s.students/s.teachers):"";return l.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 p-6 rounded-2xl shadow-md border border-sky-200 flex flex-col justify-between min-h-[140px]",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase text-sky-700",children:"Teachers & Staff"}),l.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-sky-900 mt-2",children:s.teachers}),l.jsxs("p",{className:"text-sm text-sky-700 mt-1",children:["Teaching across ",s.classes," classes"]})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:l.jsx(SA,{className:"text-sky-600",size:28})})})]}),l.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-slate-500",children:"Avg Students / Teacher"}),l.jsx("div",{className:"text-lg font-bold text-sky-800",children:Re})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-slate-500",children:"Classes"}),l.jsx("div",{className:"text-lg font-bold text-sky-800",children:s.classes})]})]}),l.jsx("div",{className:"hidden sm:flex items-center gap-3",children:l.jsx($i,{to:"/admin/teachers",className:"text-xs bg-white px-3 py-1 rounded-md font-medium text-sky-700 shadow-sm hover:underline",children:"Manage Staff"})})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[l.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",O?`${Math.floor((H-O.getTime())/1e3)}s ago`:""]}),l.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Professional  Accessible  Responsive"})]})]})},ua=()=>{const Re=s.maleStudents+s.femaleStudents||1,_t=Math.round(s.maleStudents/Re*100),Pt=Math.round(s.femaleStudents/Re*100);return l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center items-center",children:[l.jsx("h3",{className:"font-bold text-slate-800 w-full mb-6",children:"Demographics"}),l.jsxs("div",{className:"relative w-48 h-48",children:[l.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-slate-50"}),l.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#1160A8 0% ${Pt}%, #f59e0b ${Pt}% 100%)`,mask:"radial-gradient(transparent 60%, black 61%)",WebkitMask:"radial-gradient(transparent 60%, black 61%)"}}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[l.jsx("span",{className:"text-3xl font-bold text-slate-800",children:s.students}),l.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Total"})]})]}),l.jsxs("div",{className:"flex w-full justify-between px-6 mt-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Female"}),l.jsxs("p",{className:"text-xl font-bold text-[#0B4A82]",children:[Pt,"%"]}),l.jsx("p",{className:"text-lg font-bold text-[#1160A8] mt-1",children:s.femaleStudents})]}),l.jsx("div",{className:"w-px bg-slate-100"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Male"}),l.jsxs("p",{className:"text-xl font-bold text-amber-500",children:[_t,"%"]}),l.jsx("p",{className:"text-lg font-bold text-amber-600 mt-1",children:s.maleStudents})]})]})]})},$r=()=>{const Re=Object.keys(Ne).reduce((Tt,gn)=>Tt+Ne[gn],0)||0,_t={A:4,B:3,C:2,D:1,F:0},Pt=Object.entries(Ne).reduce((Tt,[gn,En])=>{const Ln=_t[gn]??0;return Tt+Ln*En},0),Nt=Re>0?Pt/Re:0,Vt=Nt>=3.5?"A":Nt>=2.5?"B":Nt>=1.5?"C":Nt>=.5?"D":"F";return l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-2xl shadow-md border border-slate-100 overflow-x-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-xl",children:l.jsx(cv,{className:"w-6 h-6 text-[#0B4A82]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800",children:"Academic Performance Rate"}),l.jsx("p",{className:"text-xs text-slate-500",children:le.currentTerm})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:ml-6 gap-4 sm:gap-6 sm:hidden",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),l.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:Re})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),l.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:[Vt," ",l.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["(",Nt.toFixed(2),")"]})]})]})]}),l.jsxs("div",{className:"hidden sm:block ml-6",children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:Re})]}),l.jsxs("div",{className:"hidden sm:block ml-6",children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),l.jsxs("p",{className:"text-2xl font-bold text-amber-500",children:[Vt," ",l.jsxs("span",{className:"text-sm text-slate-500",children:["(",Nt.toFixed(2),")"]})]})]})]}),l.jsxs("button",{onClick:Pn,disabled:f,className:"flex items-center px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",title:"Refresh performance data",children:[l.jsx(Gv,{size:14,className:`mr-1 ${f?"animate-spin":""}`}),"Refresh"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"space-y-3",children:Object.entries(Ne).map(([Tt,gn])=>{const En=Re>0?Math.round(gn/Re*100):0;let Ln="from-emerald-400 to-emerald-600";return Tt==="B"&&(Ln="from-[#E6F0FA] to-[#1160A8]"),Tt==="C"&&(Ln="from-amber-300 to-amber-500"),Tt==="D"&&(Ln="from-orange-300 to-orange-500"),Tt==="F"&&(Ln="from-red-400 to-red-600"),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 font-bold text-slate-700",children:Tt}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"relative h-4 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full bg-gradient-to-r ${Ln} transition-all duration-1000`,style:{width:`${En}%`},title:`${gn} students  ${En}%`})}),l.jsxs("div",{className:"mt-2 flex justify-between text-xs text-slate-500",children:[l.jsxs("span",{children:[gn," ",gn===1?"student":"students"]}),l.jsxs("span",{className:"font-semibold text-slate-700",children:[En,"%"]})]})]}),l.jsx("div",{className:"ml-4",children:l.jsx("button",{onClick:()=>fe(Tt),className:"text-xs text-[#0B4A82] hover:underline font-medium",children:"View"})})]},Tt)})}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-emerald-400 to-emerald-600","aria-hidden":!0}),l.jsx("span",{className:"text-xs text-slate-600",children:"A  Excellent"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-[#E6F0FA] to-[#1160A8]","aria-hidden":!0}),l.jsx("span",{className:"text-xs text-slate-600",children:"B  Very Good"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-amber-300 to-amber-500","aria-hidden":!0}),l.jsx("span",{className:"text-xs text-slate-600",children:"C  Satisfactory"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-orange-300 to-orange-500","aria-hidden":!0}),l.jsx("span",{className:"text-xs text-slate-600",children:"D  Needs Support"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-red-400 to-red-600","aria-hidden":!0}),l.jsx("span",{className:"text-xs text-slate-600",children:"F  Intervention Required"})]})]}),Re===0&&l.jsxs("div",{className:"text-center text-slate-400 py-4 text-sm",children:["No academic data available for ",le.currentTerm,"."]}),l.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-[#E6F0FA] rounded-lg text-sm text-slate-700 border border-slate-100",children:[l.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"What this chart shows"}),l.jsx("div",{className:"text-sm",children:"Each bar represents the number of students who received that grade during the selected term. Percentages are calculated against the total number of graded students. Use the counts and percentages to identify strengths (high A/B) and areas for intervention (high D/F). Hover a bar to see the exact count."})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[l.jsx(hk,{className:"w-5 h-5 mr-2 text-amber-500"})," Top Performers"]}),l.jsx("div",{className:"space-y-4",children:Fe.length===0?l.jsx("p",{className:"text-sm text-slate-400 italic",children:"No data yet."}):Fe.map((Tt,gn)=>l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-2 last:border-0 last:pb-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${gn===0?"bg-amber-500":"bg-slate-300"}`,children:gn+1}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Tt.name}),l.jsx("p",{className:"text-xs text-slate-400",children:Tt.class})]})]}),l.jsx("span",{className:"text-sm font-bold text-[#0B4A82]",children:Tt.avg})]},gn))})]})]})};return f?l.jsx(cr,{title:"Dashboard",children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-amber-100 rounded-full blur-xl opacity-50 animate-pulse"}),l.jsx("div",{className:"relative w-16 h-16 border-4 border-slate-100 border-t-[#0B4A82] rounded-full animate-spin shadow-sm"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 bg-[#0B4A82] rounded-full"})})]}),l.jsxs("div",{className:"mt-8 text-center space-y-2",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"School Manager GH"}),l.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),l.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),l.jsx("div",{className:"w-2 h-2 bg-[#0B4A82] rounded-full animate-bounce"})]})]})]})}):m?l.jsx(cr,{title:"Dashboard",children:l.jsxs("div",{className:"flex items-center justify-center h-96 flex-col p-8",children:[l.jsx(H1,{size:48,className:"text-red-400 mb-4"}),l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Unable to load dashboard"}),l.jsx("p",{className:"text-slate-500 text-center max-w-md mb-6",children:m}),l.jsxs("button",{onClick:Pn,className:"flex items-center px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors",children:[l.jsx(Gv,{size:16,className:"mr-2"})," Retry"]})]})}):l.jsxs(cr,{title:"Dashboard",children:[l.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Welcome, Headmistress"}),l.jsx("p",{className:"text-slate-500 mt-1",children:"Here is what's happening in your school today."})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right mr-2 hidden sm:block",children:[l.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Academic Period"}),l.jsxs("p",{className:"text-sm font-bold text-[#0B4A82]",children:[le.currentTerm,"  ",le.academicYear]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs($i,{to:"/admin/students",className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Yw,{size:16,className:"mr-2"}),"Add Student"]}),l.jsxs($i,{to:"/admin/teachers",className:"flex items-center px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",children:[l.jsx(SA,{size:16,className:"mr-2"}),"Add Staff"]})]}),l.jsxs("div",{className:"ml-4 flex flex-col items-end text-right",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${R?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":!0}),l.jsx("button",{onClick:()=>D(Re=>!Re),className:"text-xs text-slate-600 hover:underline",title:"Toggle live metrics polling",children:R?"Live Metrics On":"Enable Live Metrics"})]}),l.jsx("div",{className:"text-xs text-slate-400 mt-1",children:O?`Updated ${Math.floor((H-O.getTime())/1e3)}s ago`:"Not updated"})]})]})]}),F.length>0&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:l.jsx(H1,{className:"text-red-600",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Attendance Alerts"}),l.jsxs("p",{className:"text-red-700 text-sm",children:[F.length," teacher",F.length!==1?"s":""," have missed attendance recently."]})]})]}),l.jsx("div",{className:"space-y-3",children:F.map(Re=>l.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-bold text-red-600",children:Re.teacherName.charAt(0)})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800",children:Re.teacherName}),l.jsx("p",{className:"text-sm text-slate-500",children:Re.classes})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed:"," ",(()=>{const _t=Re.date.split("-");return _t.length===3?`${_t[1]}/${_t[2]}/${_t[0]}`:Re.date})()]}),l.jsx("p",{className:"text-xs text-slate-400",children:"Please follow up"})]})]})},`${Re.teacherId}-${Re.date}`))})]})}),M.length>0&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-indigo-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:l.jsx(H1,{className:"text-red-600",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Missed Student Attendance"}),l.jsxs("p",{className:"text-red-700 text-sm",children:[M.length," teacher",M.length!==1?"s":""," have not marked student attendance recently."]})]})]}),l.jsx("div",{className:"space-y-3",children:M.map(Re=>l.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-bold text-red-600",children:Re.teacherName.charAt(0)})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800",children:Re.teacherName}),l.jsx("p",{className:"text-sm text-slate-500",children:Re.className})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed for:"," ",(()=>{const _t=Re.date.split("-");return _t.length===3?`${_t[1]}/${_t[2]}/${_t[0]}`:Re.date})()]}),l.jsx("p",{className:"text-xs text-slate-400",children:"Action may be required"})]})]})},`${Re.teacherId}-${Re.date}`))})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[l.jsx(si,{}),l.jsx(Fa,{}),l.jsx(cs,{title:"Notices",value:i.length,subtext:"Active Announcements",icon:Ip,colorClass:"bg-[#E6F0FA]",iconColorClass:"text-[#0B4A82]"})]}),l.jsx("div",{className:"mb-8",children:l.jsx(ln,{})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[l.jsx("div",{className:"lg:col-span-2 h-[550px]",children:l.jsx(Ik,{data:s.classAttendance,week:ce,onPreviousWeek:Dt,onNextWeek:Xt,onCurrentWeek:rn,schoolReopenDate:le.schoolReopenDate})}),l.jsx("div",{className:"h-96",children:l.jsx(ua,{})})]}),l.jsx($r,{}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-visible",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800",children:"New Admissions"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Recently added students"})]}),l.jsx($i,{to:"/admin/students",className:"text-sm text-[#0B4A82] hover:text-[#0B4A82] font-medium bg-[#E6F0FA] px-3 py-1 rounded-full transition-colors",children:"View All"})]}),l.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:l.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Student Name"}),l.jsx("th",{className:"px-6 py-3",children:"Assigned Class"}),l.jsx("th",{className:"px-6 py-3",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:h.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-6 text-center text-slate-400",children:"No students yet."})}):h.map((Re,_t)=>{var Pt;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${Re.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:Re.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{children:Re.name}),l.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:Re.gender})]})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:(Pt=Wn.find(Nt=>Nt.id===Re.classId))==null?void 0:Pt.name})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("span",{className:"inline-flex items-center text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5"}),"Active"]})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:Nt=>Rt(Nt,Re.id),className:`transition-colors p-1.5 rounded-full hover:bg-slate-200 ${g===Re.id?"text-[#1160A8] bg-slate-100":"text-slate-400"}`,children:l.jsx(mM,{size:18})}),g===Re.id&&l.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-xl border border-slate-100 z-50 py-1 text-left animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[l.jsxs("button",{onClick:()=>Bt(Re),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[l.jsx(qh,{size:14,className:"mr-2"})," View Details"]}),l.jsxs("button",{onClick:()=>Ht(Re),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[l.jsx(Ww,{size:14,className:"mr-2"})," Edit Student"]})]})]})})]},Re.id)})})]})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-[#0B4A82] to-[#0B4A82] rounded-2xl shadow-lg border border-[#0B4A82] overflow-hidden flex flex-col text-white self-start",children:[l.jsxs("div",{className:"p-6 border-b border-[#0B4A82] flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-[#E6F0FA]",children:"Notice Board"}),l.jsx("p",{className:"text-xs text-slate-300",children:"School announcements"})]}),l.jsx($i,{to:"/admin/settings",className:"p-2 rounded-lg hover:bg-white/10 text-slate-300 transition-colors",children:l.jsx(BT,{size:18})})]}),l.jsx("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto max-h-[400px]",children:i.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:[l.jsx(EA,{size:40,className:"mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:"No new notices"})]}):i.map((Re,_t)=>l.jsxs("div",{className:"group relative pl-4 pb-4 border-l border-slate-700 last:pb-0",children:[l.jsx("div",{className:`absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full border-2 border-slate-800 ${Re.type==="urgent"?"bg-red-500":"bg-amber-500"}`}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-900 px-1.5 py-0.5 rounded",children:Re.date}),Re.type==="urgent"&&l.jsx("span",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider",children:"Urgent"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-200 group-hover:text-white transition-colors",children:Re.message})]})]},Re.id))}),l.jsx("div",{className:"p-4 bg-slate-900/50 text-center",children:l.jsxs($i,{to:"/admin/timetable",className:"text-xs font-semibold text-amber-400 hover:text-amber-300 uppercase tracking-wide flex items-center justify-center w-full",children:["View Calendar ",l.jsx(xT,{size:12,className:"ml-1"})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 rounded-2xl shadow-lg border border-emerald-200 flex flex-col min-h-[260px] hover:shadow-xl transition-shadow duration-300",children:[l.jsxs("div",{className:"p-3 sm:p-4 border-b border-emerald-200 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-emerald-900 text-base sm:text-lg",children:"Teacher Attendance Today"}),l.jsx("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-0.5",children:"Current day's staff presence overview"})]}),l.jsx("div",{className:"bg-emerald-100 p-1.5 sm:p-2 rounded-full",children:l.jsx(SA,{className:"text-emerald-600",size:16})})]}),l.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:S.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-emerald-500",children:[l.jsx("div",{className:"bg-emerald-100 p-3 rounded-full mb-2",children:l.jsx(SA,{size:24,className:"text-emerald-400"})}),l.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance marked yet today"}),l.jsx("p",{className:"text-[10px] text-emerald-400 mt-0.5",children:"Teachers will appear here once they mark attendance"})]}):l.jsxs("div",{className:"space-y-2",children:[S.map(Re=>l.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-emerald-100 hover:shadow-md transition-all duration-200 hover:border-emerald-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex-shrink-0 ${Re.status==="present"?"bg-emerald-500":"bg-red-500"} shadow-sm`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[l.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Re.teacherName}),l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Re.status==="present"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:Re.status==="present"?"Present":"Absent"})]}),l.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Re.teacherClasses||"No classes assigned"}),l.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:Re.date})]})]}),l.jsx("div",{className:"ml-2 flex-shrink-0",children:l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${Re.status==="present"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:Re.status==="present"?l.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):l.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},Re.id)),l.jsx("div",{className:"text-center mt-3 pt-2 border-t border-emerald-100",children:l.jsxs("p",{className:"text-[10px] text-emerald-600 font-medium",children:[S.length," teacher",S.length!==1?"s":""," marked attendance today"]})})]})})]}),le.schoolReopenDate!==new Date().toISOString().split("T")[0]&&l.jsxs("div",{className:"bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-white rounded-2xl shadow-lg border border-[#E6F0FA] flex flex-col min-h-[280px] hover:shadow-xl transition-shadow duration-300",children:[l.jsxs("div",{className:"p-3 sm:p-4 border-b border-[#E6F0FA] flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-[#0B4A82] text-base sm:text-lg",children:"Teacher Attendance Summary"}),l.jsx("p",{className:"text-[10px] sm:text-xs text-[#1160A8] mt-0.5",children:"Term-wide staff attendance statistics"})]}),l.jsx("div",{className:"bg-[#E6F0FA] p-1.5 sm:p-2 rounded-full",children:l.jsx(cv,{className:"text-[#0B4A82]",size:16})})]}),l.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:E.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-[#0B4A82]",children:[l.jsx("div",{className:"bg-[#E6F0FA] p-3 rounded-full mb-2",children:l.jsx(cv,{size:24,className:"text-[#1160A8]"})}),l.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance data available"}),l.jsx("p",{className:"text-[10px] text-[#1160A8] mt-0.5",children:"Term statistics will appear as teachers mark attendance"})]}):l.jsxs("div",{className:"space-y-2",children:[E.map(Re=>l.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-[#E6F0FA] hover:shadow-md transition-all duration-200 hover:border-[#E6F0FA]",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-9 h-9 bg-[#E6F0FA] rounded-full flex items-center justify-center",children:l.jsxs("span",{className:"text-[10px] font-bold text-[#0B4A82]",children:[Re.attendanceRate,"%"]})}),l.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-white rounded-full flex items-center justify-center",children:l.jsx("div",{className:`w-2 h-2 rounded-full ${Re.attendanceRate>=80?"bg-emerald-500":Re.attendanceRate>=70?"bg-amber-500":"bg-red-500"}`})})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[l.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Re.name}),l.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Re.attendanceRate>=80?"bg-emerald-100 text-emerald-700":Re.attendanceRate>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:Re.attendanceRate>=80?"Excellent":Re.attendanceRate>=70?"Good":"Needs Attention"})]}),l.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Re.classes||"No classes assigned"}),l.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:[Re.presentDays," present / ",Re.totalDays," ","total days"]})]})]})})},Re.id)),l.jsx("div",{className:"text-center mt-3 pt-2 border-t border-[#E6F0FA]",children:l.jsxs("p",{className:"text-[10px] text-[#0B4A82] font-medium",children:["Average attendance:"," ",E.length>0?Math.round(E.reduce((Re,_t)=>Re+_t.attendanceRate,0)/E.length):0,"%"]})})]})})]})]})]}),Jt&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center text-2xl font-bold text-slate-500 shadow-inner",children:Jt.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900",children:Jt.name}),l.jsxs("div",{className:"flex gap-2 text-sm text-slate-500 mt-1",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(CT,{size:14,className:"mr-1"})," ",Jt.gender]}),l.jsx("span",{children:""}),l.jsx("span",{children:(an=Wn.find(Re=>Re.id===Jt.classId))==null?void 0:an.name})]})]})]}),l.jsx("button",{onClick:()=>yn(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:l.jsx(ho,{size:20})})]}),l.jsxs("div",{className:"p-6 space-y-8",children:[l.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-5 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-amber-100 rounded-full text-amber-600",children:l.jsx(EA,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-amber-900",children:"Attendance Overview"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Current Term Participation"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-3xl font-bold text-amber-600",children:tn?`${tn.attendance.percentage}%`:"..."}),l.jsx("p",{className:"text-xs text-amber-700 font-medium mt-1",children:tn?`${tn.attendance.present}/${tn.attendance.total} Days`:"Loading"})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[l.jsx(Mc,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance (",le.currentTerm,")"]}),l.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Subject"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:tn?tn.grades.map((Re,_t)=>{const Pt=Re.total??vu(Re),{grade:Nt,remark:Vt}=rm(Pt);return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:Re.subject}),l.jsx("td",{className:"px-4 py-3 text-center",children:Pt>0?Pt:"-"}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Ng(Nt)}`,children:Pt>0?Nt:"-"})}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Pt>0?Vt:"N/A"})]},_t)}):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center text-slate-400 italic",children:"Fetching academic records..."})})})]})})]})]})]})}),xt&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Student Details"}),l.jsx("button",{onClick:()=>Et(null),className:"text-slate-400 hover:text-slate-700",children:l.jsx(ho,{size:20})})]}),l.jsxs("form",{onSubmit:xn,className:"space-y-5",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Personal Information"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none transition-all placeholder-slate-400",value:Gt.name||"",onChange:Re=>kt({...Gt,name:Re.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),l.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Gt.gender,onChange:Re=>kt({...Gt,gender:Re.target.value}),children:[l.jsx("option",{value:"Male",children:"Male"}),l.jsx("option",{value:"Female",children:"Female"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),l.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none",value:Gt.dob||"",onChange:Re=>kt({...Gt,dob:Re.target.value})})]})]})]}),l.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[l.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Academic Info"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),l.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Gt.classId,onChange:Re=>kt({...Gt,classId:Re.target.value}),children:Wn.map(Re=>l.jsx("option",{value:Re.id,children:Re.name},Re.id))})]})]}),l.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[l.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Guardian Information"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),l.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Gt.guardianName||"",onChange:Re=>kt({...Gt,guardianName:Re.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),l.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Gt.guardianPhone||"",onChange:Re=>kt({...Gt,guardianPhone:Re.target.value})})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[l.jsx("button",{type:"button",onClick:()=>Et(null),className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"flex items-center px-5 py-2.5 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] font-medium shadow-sm transition-colors",children:[l.jsx(Zl,{size:18,className:"mr-2"})," Save Changes"]})]})]})]})}),Ve&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Students with grade ",Ve]}),l.jsxs("p",{className:"text-sm text-slate-500",children:[($e[Ve]||[]).length," students"]})]}),l.jsx("button",{onClick:()=>fe(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:l.jsx(ho,{size:20})})]}),l.jsx("div",{className:"p-6 space-y-4",children:!$e[Ve]||$e[Ve].length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No students in this grade for the selected term."}):l.jsx("div",{className:"space-y-3",children:$e[Ve].map((Re,_t)=>l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:pb-0",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800",children:Re.name}),l.jsxs("p",{className:"text-xs text-slate-400",children:[Re.class,"  Avg: ",Re.avg]})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{onClick:()=>Ct(Re.id),className:"text-xs text-[#0B4A82] hover:underline",children:"View"})})]},Re.id))})})]})})]})},Uk=()=>{var pe,ae;const{school:n}=Gc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,i]=ee.useState("all"),[c,h]=ee.useState(!1),[u,f]=ee.useState(null),[A,m]=ee.useState({gender:"Male",classId:"c_p1",dob:""}),[v,g]=ee.useState(null),[B,S]=ee.useState(null),[T,E]=ee.useState(null),[_,F]=ee.useState(!1),Q=async()=>{if(!e){s([]);return}const ne=await ct.getStudents(e,void 0);if(s(ne),e){const Z=ne.filter(ue=>!ue.schoolId);Z.length>0&&await Promise.all(Z.map(ue=>ct.updateStudent({...ue,schoolId:e})))}};ee.useEffect(()=>{Q()},[e]);const M=async ne=>{S(null),g(ne);const Z=await ct.getStudentPerformance(e||"",ne.id,ne.classId);S(Z)},k=()=>{g(null),S(null)},R=t.filter(ne=>a==="all"?!0:ne.classId===a).sort((ne,Z)=>ne.name.localeCompare(Z.name)),D=()=>{S(null),m({gender:"Male",classId:a!=="all"?a:"c_p1",dob:""}),f(null),h(!0)},O=async ne=>{m(ne),f(ne.id),h(!0),S(null);const Z=await ct.getStudentPerformance(e||"",ne.id,ne.classId);S(Z)},$=()=>{h(!1),m({gender:"Male",classId:"c_p1",dob:""}),f(null),S(null)},L=(ne,Z)=>{Z.stopPropagation(),E(ne)},H=async()=>{if(!T)return;const ne=T;E(null);const Z=[...t];s(ue=>ue.filter(je=>je.id!==ne));try{await ct.deleteStudent(ne)}catch(ue){console.error("Delete failed",ue),s(Z),Zt("Failed to delete student. Please try again.",{type:"error"})}},z=async ne=>{if(ne.preventDefault(),!(!A.name||!A.classId)){F(!0);try{if(u){const Z={...A,id:u,schoolId:e||A.schoolId};await ct.updateStudent(Z),Zt("Student updated successfully.",{type:"success"})}else{const Z={id:Math.random().toString(36).substr(2,9),name:A.name,gender:A.gender,dob:A.dob||"2015-01-01",classId:A.classId,schoolId:e||"",guardianName:A.guardianName||"",guardianPhone:A.guardianPhone||""};await ct.addStudent(Z),Zt("Student added successfully.",{type:"success"})}await Q(),$()}catch(Z){console.error("Save failed",Z),Zt("Failed to save student. Please try again.",{type:"error"})}finally{F(!1)}}},re=()=>{if(!B||!B.attendance||!B.attendance.schoolDates)return null;const{schoolDates:ne,presentDates:Z}=B.attendance;if(ne.length===0)return l.jsx("div",{className:"text-center text-slate-400 py-4 italic",children:"No attendance records found for this term."});const ue=le=>(typeof le=="string"?new Date(le):le).toISOString().split("T")[0],je=new Set(ne.map(le=>ue(le))),se=new Set(Z.map(le=>ue(le))),G={};ne.forEach(le=>{const he=new Date(le),ce=`${he.getFullYear()}-${he.getMonth()}`;G[ce]||(G[ce]={label:he.toLocaleString("default",{month:"long",year:"numeric"}),year:he.getFullYear(),month:he.getMonth()})});const te=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(G).map(([le,he])=>{const{year:ce,month:xe,label:Ne}=he,Te=new Date(ce,xe,1).getDay(),Fe=new Date(ce,xe+1,0).getDate(),tt=Math.ceil((Te+Fe)/7)*7;return l.jsxs("div",{className:"border border-slate-200 rounded-lg p-3 bg-white",children:[l.jsx("h5",{className:"font-bold text-slate-700 text-sm mb-2 text-center border-b border-slate-100 pb-2",children:Ne}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[te.map(($e,it)=>l.jsx("div",{className:"text-[11px] text-slate-400 font-bold",children:$e},it)),Array.from({length:tt}).map(($e,it)=>{const Ve=it-Te+1;if(Ve<1||Ve>Fe)return l.jsx("div",{className:"h-8"},it);const fe=new Date(ce,xe,Ve),ut=ue(fe),Lt=je.has(ut),Ge=se.has(ut),Je=fe.getDay()===0||fe.getDay()===6,Qt="h-8 w-8 mx-auto flex items-center justify-center rounded-full text-sm font-semibold",Ut=Je?"text-slate-300 bg-slate-50":"";return Lt?l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{title:`${ut}: ${Ge?"Present":"Absent"}`,className:`${Qt} ${Ut} ${Ge?"bg-emerald-100 text-emerald-800":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:Ve})},it):l.jsx("div",{className:"h-8 flex items-center justify-center text-[12px] text-slate-200"},it)})]}),l.jsxs("div",{className:"mt-3 flex justify-center gap-4 text-xs text-slate-500",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-emerald-100 rounded-full border border-emerald-200"})," ","Present"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-[#E6F0FA] rounded-full border border-[#E6F0FA]"})," ","Absent"]})]})]},le)})})};return l.jsxs(cr,{title:"Manage Students",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsx("div",{className:"flex gap-2",children:l.jsxs("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-slate-800 text-white",value:a,onChange:ne=>i(ne.target.value),children:[l.jsx("option",{value:"all",children:"All Classes"}),Wn.map(ne=>l.jsx("option",{value:ne.id,children:ne.name},ne.id))]})}),l.jsxs("button",{onClick:D,className:"flex items-center justify-center bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[l.jsx(sm,{size:16,className:"mr-2"}),"Add Student"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Name"}),l.jsx("th",{className:"px-6 py-3",children:"Class"}),l.jsx("th",{className:"px-6 py-3",children:"Gender"}),l.jsx("th",{className:"px-6 py-3",children:"Guardian"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:R.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No students found."})}):R.map(ne=>{var ue;const Z=((ue=Wn.find(je=>je.id===ne.classId))==null?void 0:ue.name)||ne.classId;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:ne.name}),l.jsx("td",{className:"px-6 py-3",children:Z}),l.jsx("td",{className:"px-6 py-3",children:ne.gender}),l.jsx("td",{className:"px-6 py-3",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:ne.guardianName}),l.jsx("span",{className:"text-xs text-slate-400",children:ne.guardianPhone})]})}),l.jsxs("td",{className:"px-6 py-3 text-right whitespace-nowrap",children:[l.jsx("button",{type:"button",onClick:()=>M(ne),className:"text-emerald-500 hover:text-emerald-700 p-2 hover:bg-emerald-50 rounded-full transition-colors mr-1",title:"View Performance",children:l.jsx(qh,{size:16})}),l.jsx("button",{type:"button",onClick:()=>O(ne),className:"text-[#1160A8] hover:text-[#0B4A82] p-2 hover:bg-[#E6F0FA] rounded-full transition-colors mr-1",title:"Edit Details",children:l.jsx(Ww,{size:16})}),l.jsx("button",{type:"button",onClick:je=>L(ne.id,je),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-full transition-colors cursor-pointer",title:"Delete Student",children:l.jsx(Vc,{size:16,className:"pointer-events-none"})})]})]},ne.id)})})]})})]}),T&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-full flex items-center justify-center mb-4",children:l.jsx(eA,{className:"text-[#0B4A82] w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Student?"}),l.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this student? This action cannot be undone."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),l.jsx("button",{onClick:H,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors shadow-sm",children:"Delete"})]})]})})}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-lg font-bold mb-6 text-slate-900 border-b pb-2",children:u?"Edit Student Details":"Add New Student"}),u&&l.jsxs("div",{className:"mb-6 bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Attendance Summary"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Current Term Performance"})]}),l.jsx("div",{className:"text-right",children:B?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[B.attendance.percentage,"%"]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[B.attendance.present,"/",B.attendance.total," Days"]})]}):l.jsx("span",{className:"text-xs text-slate-400",children:"Loading data..."})})]}),l.jsxs("form",{onSubmit:z,className:"space-y-5",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Personal Information"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all placeholder-slate-400",value:A.name||"",onChange:ne=>m({...A,name:ne.target.value}),placeholder:"e.g. Kwame Nkrumah Jnr"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),l.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.gender,onChange:ne=>m({...A,gender:ne.target.value}),children:[l.jsx("option",{value:"Male",children:"Male"}),l.jsx("option",{value:"Female",children:"Female"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),l.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:A.dob||"",onChange:ne=>m({...A,dob:ne.target.value})})]})]})]}),l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Academic Info"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),l.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.classId,onChange:ne=>m({...A,classId:ne.target.value}),children:Wn.map(ne=>l.jsx("option",{value:ne.id,children:ne.name},ne.id))})]})]}),l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Guardian Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),l.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianName||"",onChange:ne=>m({...A,guardianName:ne.target.value}),placeholder:"e.g. Mr. John Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),l.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianPhone||"",onChange:ne=>m({...A,guardianPhone:ne.target.value}),placeholder:"e.g. 024 123 4567"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[l.jsx("button",{type:"button",onClick:$,className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:_,className:`px-5 py-2.5 bg-emerald-600 text-white rounded-lg font-medium shadow-sm transition-colors ${_?"opacity-60 cursor-not-allowed hover:bg-emerald-600":"hover:bg-emerald-700"}`,children:_?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u?"Updating...":"Saving..."]}):u?"Update Student":"Save Student"})]})]})]})}),v&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[95vh] overflow-y-auto shadow-2xl flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center text-2xl font-bold text-slate-500",children:v.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900",children:v.name}),l.jsxs("div",{className:"flex gap-2 text-sm text-slate-500 mt-1",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(CT,{size:14,className:"mr-1"})," ",v.gender]}),l.jsx("span",{children:""}),l.jsx("span",{children:(pe=Wn.find(ne=>ne.id===v.classId))==null?void 0:pe.name})]})]})]}),l.jsx("button",{onClick:k,className:"text-slate-400 hover:text-slate-700 bg-white p-2 rounded-full shadow-sm",children:l.jsx(ho,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-8",children:[l.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-xl p-5",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:l.jsx(EA,{size:20})}),l.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Attendance Record"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm flex flex-col items-center",children:[l.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold mb-1",children:"Total School Days"}),l.jsx("span",{className:"text-2xl font-bold text-slate-800",children:B?B.attendance.total:"-"})]}),l.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm flex flex-col items-center",children:[l.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold mb-1",children:"Days Present"}),l.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:B?B.attendance.present:"-"})]}),l.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm flex flex-col items-center",children:[l.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold mb-1",children:"Attendance Rate"}),l.jsx("span",{className:`text-2xl font-bold ${((ae=B==null?void 0:B.attendance)==null?void 0:ae.percentage)<50?"text-red-500":"text-[#0B4A82]"}`,children:B?`${B.attendance.percentage}%`:"-"})]})]}),l.jsxs("div",{className:"flex justify-center gap-6 text-xs text-slate-500 mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-emerald-100 border border-emerald-200 rounded-full mr-2"})," ","Present"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-[#E6F0FA] border border-[#E6F0FA] rounded-full mr-2"})," ","Absent"]})]}),re()]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[l.jsx(Mc,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance"]}),l.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Subject"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:B?B.grades.map((ne,Z)=>{const ue=ne.total||(ne.testScore||0)+(ne.homeworkScore||0)+(ne.projectScore||0)+(ne.examScore||0),{grade:je,remark:se}=rm(ue);return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:ne.subject}),l.jsx("td",{className:"px-4 py-3 text-center",children:ue>0?ue:"-"}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Ng(je)}`,children:ue>0?je:"-"})}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:ue>0?se:"N/A"})]},Z)}):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Loading grades..."})})})]})})]})]}),l.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center",children:l.jsx("p",{className:"text-xs text-slate-400",children:"Generated automatically by School Manager GH System"})})]})})]})};async function Rk(){const n=fu.currentUser;if(!n)throw new Error("NO_SESSION");try{return await n.getIdToken(!0)}catch(e){throw console.error("Error refreshing ID token:",e),new Error("TOKEN_REFRESH_FAILED")}}const Pj="http://localhost:3001";class D0 extends Error{constructor(e,t,s){super(e),this.code=t,this.status=s,this.name="ApiError"}}async function Fy(n,e={}){let t=0;const s=1;for(;t<=s;)try{const a=await Rk(),i=await fetch(`${Pj}${n}`,{method:e.method||"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:e.body?JSON.stringify(e.body):void 0});if(!i.ok){const c=await i.json().catch(()=>({}));if(i.status===401&&c.code==="ID_TOKEN_EXPIRED"){if(t<s){console.log("ID token expired, retrying request..."),t++;continue}throw new D0("Your session has expired. Please log out and log in again.","SESSION_EXPIRED",i.status)}throw new D0(c.error||`HTTP ${i.status} ${i.statusText}`,c.code,i.status)}return await i.json()}catch(a){throw a.message==="NO_SESSION"?new D0("You are not logged in. Please log in to continue.","NO_SESSION"):a.name==="TypeError"&&a.message==="Failed to fetch"?new D0(`Cannot connect to the backend at ${Pj}. Please ensure the server is running.`,"CONNECTION_FAILED"):a}throw new Error("API request failed after all retries.")}async function Dk(n){return Fy("/api/superadmin/create-school",{body:n})}async function Lk(n){return Fy("/api/superadmin/create-school-admin",{body:n})}async function Qk(n){return Fy("/api/superadmin/reset-school-admin-password",{body:n})}async function Ok(n){return Fy("/api/createTeacher",{body:n})}Cg(Eg,"createSchool");Cg(Eg,"createSchoolAdmin");const Pk=Cg(Eg,"deleteSchool");Cg(Eg,"createTeacherAccount");const Mk=Cg(Eg,"repairUserSchoolId"),kk=()=>{const{school:n}=Gc(),e=(n==null?void 0:n.id)||"",[t,s]=ee.useState([]),[a,i]=ee.useState(!1),[c,h]=ee.useState(!1),[u,f]=ee.useState(!1),[A,m]=ee.useState(null),[v,g]=ee.useState(null),[B,S]=ee.useState(null),[T,E]=ee.useState(!1),[_,F]=ee.useState(!1),[Q,M]=ee.useState(!1),[k,R]=ee.useState(null),[D,O]=ee.useState([]),[$,L]=ee.useState(!1),[H,z]=ee.useState({role:ys.TEACHER,assignedClassIds:[]}),[re,pe]=ee.useState(null),ae=async()=>{if(!e){s([]);return}const xe=(await ct.getUsers(e)).filter(Ne=>Ne.role===ys.TEACHER);s(xe)};ee.useEffect(()=>{ae()},[e]);const ne=(ce,xe)=>{navigator.clipboard.writeText(ce),g(xe),setTimeout(()=>g(null),2e3)},Z=ce=>{z(xe=>{const Ne=xe.assignedClassIds||[];return Ne.includes(ce)?{...xe,assignedClassIds:Ne.filter(Te=>Te!==ce)}:{...xe,assignedClassIds:[...Ne,ce]}})},ue=async ce=>{if(ce.preventDefault(),!e){Zt("School ID is not available. Please refresh and try again.",{type:"error"});return}if(!H.fullName||!H.email){Zt("Please fill in all fields (full name and email).",{type:"error"});return}h(!0);try{await Ok({fullName:H.fullName,email:H.email,password:H.password||void 0,assignedClassIds:H.assignedClassIds||[],schoolId:e}),m({tempPassword:H.password||void 0,email:H.email,fullName:H.fullName,adminProvidedPassword:!!H.password}),f(!0),i(!1),z({role:ys.TEACHER,assignedClassIds:[],email:"",fullName:"",password:""}),F(!1),await ae()}catch(xe){console.error("Error creating teacher:",xe),Zt((xe==null?void 0:xe.message)||"Failed to create teacher.",{type:"error",duration:7e3})}finally{h(!1)}},je=ce=>{pe(ce)},se=async()=>{if(!re)return;const ce=t.find(Te=>Te.id===re);if(!ce){pe(null);return}if(ce.schoolId!==e){pe(null),Zt("You can only delete teachers from your school.",{type:"error"});return}const xe=re;pe(null);const Ne=[...t];s(Te=>Te.filter(Fe=>Fe.id!==xe));try{await ct.deleteUser(xe);const tt=(await ct.getAllTeacherAttendanceRecords(e)).filter($e=>$e.teacherId===xe&&$e.schoolId&&$e.schoolId===e).map($e=>Di($n(It,"teacher_attendance",$e.id)));await Promise.all(tt)}catch(Te){console.error("Failed to delete teacher",Te),s(Ne),Zt("Failed to delete teacher profile. Please try again.",{type:"error"})}},G=ce=>{R(ce),O(ce.assignedClassIds||[]),M(!0)},te=ce=>{O(xe=>(xe||[]).includes(ce)?(xe||[]).filter(Ne=>Ne!==ce):[...xe||[],ce])},le=async()=>{if(k){if(k.schoolId!==e){Zt("You can only edit teachers from your school.",{type:"error"});return}L(!0);try{await ct.updateUserAssignedClasses(k.id,D),Zt("Teacher classes updated successfully.",{type:"success"}),M(!1),R(null),O([]),await ae()}catch(ce){console.error("Error updating teacher classes:",ce),Zt((ce==null?void 0:ce.message)||"Failed to update teacher classes.",{type:"error"})}finally{L(!1)}}},he=async()=>{if(B){E(!0);try{const ce=await Mk({targetUid:B,schoolId:e}),{message:xe}=ce.data;Zt(xe||"Teacher account repaired successfully.",{type:"success"}),S(null),await ae()}catch(ce){console.error("Error repairing teacher:",ce),Zt((ce==null?void 0:ce.details)||(ce==null?void 0:ce.message)||"Failed to repair teacher account.",{type:"error",duration:6e3})}finally{E(!1)}}};return l.jsxs(cr,{title:"Manage Teachers",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[l.jsx("h2",{className:"font-semibold text-slate-800",children:"Staff List"}),l.jsxs("button",{onClick:()=>{if(!e){Zt("School ID is not available yet. Please refresh and try again.",{type:"error"});return}i(!0)},className:"flex items-center bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[l.jsx(sm,{size:16,className:"mr-2"}),"Add Teacher"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Name"}),l.jsx("th",{className:"px-6 py-3",children:"Email"}),l.jsx("th",{className:"px-6 py-3",children:"Account Status"}),l.jsx("th",{className:"px-6 py-3",children:"Assigned Classes"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No teachers found for this school."})}):t.map(ce=>{const Ne=(ce.assignedClassIds||[]).map(Fe=>{var tt;return(tt=Wn.find($e=>$e.id===Fe))==null?void 0:tt.name}).filter(Boolean),Te=!ce.schoolId;return l.jsxs("tr",{className:`hover:bg-slate-50 ${Te?"bg-red-50":""}`,children:[l.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:ce.fullName}),l.jsxs("td",{className:"px-6 py-3 flex items-center",children:[l.jsx(TM,{size:14,className:"mr-2 text-slate-400"}),ce.email]}),l.jsx("td",{className:"px-6 py-3",children:Te?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ib,{size:16,className:"text-red-600"}),l.jsx("span",{className:"text-red-700 font-semibold text-xs",children:"Missing schoolId"})]}):l.jsx("span",{className:"text-emerald-700 text-xs font-medium",children:" Complete"})}),l.jsx("td",{className:"px-6 py-3",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:Ne.length>0?Ne.map(Fe=>l.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:Fe},Fe)):l.jsx("span",{className:"text-slate-400 italic text-xs",children:"No classes"})})}),l.jsxs("td",{className:"px-6 py-3 text-right flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>G(ce),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit Assigned Classes",children:l.jsx(VM,{size:16,className:"pointer-events-none"})}),Te&&l.jsx("button",{onClick:()=>S(ce.id),className:"text-orange-600 hover:text-orange-800 p-2 hover:bg-orange-50 rounded-full transition-colors",title:"Repair Account",children:l.jsx(Oj,{size:16,className:"pointer-events-none"})}),l.jsx("button",{onClick:()=>je(ce.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Remove Teacher",children:l.jsx(Vc,{size:16,className:"pointer-events-none"})})]})]},ce.id)})})]})})]}),re&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(eA,{className:"text-red-600 w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Remove Teacher?"}),l.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This removes their profile and disables their login account from the system."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>pe(null),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),l.jsx("button",{onClick:se,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors shadow-sm",children:"Remove"})]})]})})}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center text-slate-900 border-b pb-2",children:[l.jsx(Yw,{className:"mr-2 text-emerald-600",size:20})," Add New Teacher"]}),l.jsxs("form",{onSubmit:ue,className:"space-y-4 pt-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.fullName||"",onChange:ce=>z({...H,fullName:ce.target.value}),placeholder:"e.g. Mr. John Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.email||"",onChange:ce=>z({...H,email:ce.target.value}),placeholder:"teacher@school.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Password (Optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:_?"text":"password",className:"w-full border border-slate-300 p-2.5 pr-10 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.password||"",onChange:ce=>z({...H,password:ce.target.value}),placeholder:"Leave empty to send password reset link"}),l.jsx("button",{type:"button",onClick:()=>F(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",title:_?"Hide password":"Show password",children:_?l.jsx(wT,{size:18}):l.jsx(qh,{size:18})})]})]}),l.jsxs("p",{className:"text-xs text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[" ",l.jsx("strong",{children:"Option 1:"})," Leave password empty - a reset link will be sent to email. ",l.jsx("strong",{children:"Option 2:"})," Set a password above - teacher can log in immediately with it."]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Assign Classes"}),l.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50",children:l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Wn.map(ce=>{var Ne;const xe=(Ne=H.assignedClassIds)==null?void 0:Ne.includes(ce.id);return l.jsxs("button",{type:"button",onClick:()=>Z(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${xe?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[l.jsx("span",{children:ce.name}),xe?l.jsx(Dj,{size:16,className:"text-white ml-2"}):l.jsx(Lj,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),l.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Click classes to select/deselect them."})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[l.jsx("button",{type:"button",onClick:()=>i(!1),disabled:c,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-70",children:c?l.jsxs(l.Fragment,{children:[l.jsx(k1,{size:16,className:"mr-2 animate-spin"})," ","Creating..."]}):"Create Teacher"})]})]})]})}),B&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Oj,{className:"text-orange-600 w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Repair Teacher Account?"}),l.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"This teacher's account is missing the required schoolId field."}),l.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action will add your school's ID to their profile so they can log in."}),l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-3 mb-6 w-full",children:l.jsx("p",{className:"text-xs text-orange-700",children:"After repair, the teacher will be able to log in and access the system."})}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>S(null),disabled:T,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),l.jsx("button",{onClick:he,disabled:T,className:"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-colors shadow-sm disabled:opacity-70",children:T?l.jsxs(l.Fragment,{children:[l.jsx(k1,{size:16,className:"mr-2 animate-spin"}),"Repairing..."]}):"Repair Account"})]})]})})}),u&&A&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(_p,{className:"text-emerald-600 w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Teacher Created Successfully!"}),l.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Share these credentials with the teacher."})]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 mb-4 border border-slate-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:"Email"}),l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[l.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.email}),l.jsx("button",{onClick:()=>ne(A.email,"email"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:v==="email"?l.jsx(_p,{size:16,className:"text-emerald-600"}):l.jsx(_j,{size:16})})]})]}),A.tempPassword&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:A.adminProvidedPassword?"Password":"Temporary Password"}),l.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[l.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.tempPassword}),l.jsx("button",{onClick:()=>ne(A.tempPassword,"password"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:v==="password"?l.jsx(_p,{size:16,className:"text-emerald-600"}):l.jsx(_j,{size:16})})]}),!A.adminProvidedPassword&&l.jsx("p",{className:"text-xs text-slate-500 mt-2",children:" Teacher must change password on first login."})]}),A.adminProvidedPassword?l.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:l.jsx("p",{className:"text-xs text-green-700",children:" Teacher can log in immediately with the password above."})}):l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:l.jsx("p",{className:"text-xs text-blue-700",children:" A password reset link has been sent to their email inbox."})})]}),l.jsx("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition-colors",children:"Done"})]})}),Q&&k&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[l.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-900 border-b pb-2",children:"Assign Classes"}),l.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Assign classes to ",k.fullName,"."]}),l.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50 mb-4",children:l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Wn.map(ce=>{const xe=(D||[]).includes(ce.id);return l.jsxs("button",{type:"button",onClick:()=>te(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${xe?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[l.jsx("span",{children:ce.name}),xe?l.jsx(Dj,{size:16,className:"text-white ml-2"}):l.jsx(Lj,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:()=>M(!1),disabled:$,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors disabled:opacity-60",children:"Cancel"}),l.jsx("button",{type:"button",onClick:le,disabled:$,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-60",children:$?l.jsxs(l.Fragment,{children:[l.jsx(k1,{size:16,className:"mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})},Hk=()=>{const{school:n}=Gc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Wn[0].id),[a,i]=ee.useState([]),[c,h]=ee.useState(!1),[u,f]=ee.useState(0);return ee.useEffect(()=>{(async()=>{h(!0);try{if(!e){i([]),f(0);return}const m=await ct.getStudents(e,t),v=await ct.getSchoolConfig(e);let g=0;if(v.schoolReopenDate&&v.vacationDate){const T=new Date(v.schoolReopenDate),E=new Date(v.vacationDate),_=new Date(T);for(;_<=E;)g++,_.setDate(_.getDate()+1)}else g=(await ct.getClassAttendance(e,t)).length;f(g);const B=await ct.getClassAttendance(e,t),S=m.map(T=>{const E=B.filter(F=>F.presentStudentIds.includes(T.id)).length,_=g===0?0:Math.round(E/g*100);return{id:T.id,name:T.name,gender:T.gender,presentDays:E,totalDays:g,percentage:_}});S.sort((T,E)=>T.name.localeCompare(E.name)),i(S)}catch(m){console.error("Error fetching attendance stats:",m)}finally{h(!1)}})()},[t,e]),l.jsx(cr,{title:"Attendance Statistics",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),l.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48 bg-white text-slate-900",value:t,onChange:A=>s(A.target.value),children:Wn.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))})]}),l.jsxs("div",{className:"bg-white border border-slate-200 rounded-md px-4 py-1.5 shadow-sm",children:[l.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Term Total Days"}),l.jsx("span",{className:"font-bold text-lg text-slate-800",children:u})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})," ","Excellent (90%+)"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400"})," ","Average (50-89%)"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[l.jsx(eA,{size:12,className:"text-[#0B4A82]"})," Critical (","<","50%)"]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto p-0",children:c?l.jsx("div",{className:"text-center py-20 text-slate-400",children:"Calculating Attendance Data..."}):l.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200 sticky top-0 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Student Name"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Days Present"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Total School Days"}),l.jsx("th",{className:"px-6 py-4 w-1/3",children:"Attendance Rate"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"No students found in this class."})}):a.map(A=>{let m="bg-emerald-500",v="text-emerald-700 bg-emerald-50 border-emerald-200",g="hover:bg-slate-50",B=null;return A.percentage<50?(m="bg-red-500",v="text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]",g="bg-[#E6F0FA]/60 hover:bg-[#E6F0FA]/80",B=l.jsx("span",{title:"Critical Attendance",children:l.jsx(eA,{size:14,className:"text-[#0B4A82] ml-2"})})):A.percentage<90&&(m="bg-amber-400",v="text-amber-700 bg-amber-50 border-amber-200"),l.jsxs("tr",{className:`${g} transition-colors border-b border-slate-100 last:border-0`,children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold text-white mr-3 shadow-sm ${A.gender==="Male"?"bg-[#0B4A82]":"bg-pink-500"}`,children:A.name.charAt(0)}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800 flex items-center",children:[A.name,B]}),l.jsx("p",{className:"text-xs text-slate-500",children:A.gender})]})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:"font-bold text-slate-800 text-lg",children:A.presentDays})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:"text-slate-500",children:A.totalDays})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 h-2.5 bg-slate-200 rounded-full overflow-hidden shadow-inner",children:l.jsx("div",{className:`h-full ${m} transition-all duration-500 rounded-full`,style:{width:`${A.percentage}%`}})}),l.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded border ${v} min-w-[3.5rem] text-center shadow-sm`,children:[A.percentage,"%"]})]})})]},A.id)})})]})})]})})},Vk=()=>{const{school:n}=Gc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,i]=ee.useState(!1),[c,h]=ee.useState(""),[u,f]=ee.useState("");ee.useEffect(()=>{(async()=>{i(!0);try{if(!e){s([]);return}const g=await ct.getSchoolConfig(e);g.schoolReopenDate&&!c&&h(g.schoolReopenDate),g.vacationDate&&!u&&f(g.vacationDate);const B=c||g.schoolReopenDate||void 0,S=u||g.vacationDate||void 0,T=await ct.getTeacherAttendanceAnalytics(e,B,S);s(T)}catch(g){console.error("Error fetching teacher attendance analytics:",g)}finally{i(!1)}})()},[c,u,e]);const A=v=>{switch(v){case"improving":return l.jsx(Ih,{className:"text-emerald-600",size:16});case"declining":return l.jsx(Qj,{className:"text-[#0B4A82]",size:16});default:return l.jsx(Fj,{className:"text-slate-400",size:16})}},m=v=>{switch(v){case"improving":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"declining":return"text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]";default:return"text-slate-600 bg-slate-50 border-slate-200"}};return l.jsx(cr,{title:"Teacher Attendance Analytics",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Teacher Attendance Overview"}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Term Start Date"}),l.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:c,onChange:v=>h(v.target.value)})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Vacation Date"}),l.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:u,onChange:v=>f(v.target.value)})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[l.jsx(Ih,{size:12,className:"text-emerald-600"})," Improving"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[l.jsx(Fj,{size:12,className:"text-slate-400"})," Stable"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[l.jsx(Qj,{size:12,className:"text-[#0B4A82]"})," Declining"]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto p-0",children:a?l.jsx("div",{className:"text-center py-20 text-slate-400",children:"Analyzing Teacher Attendance Data..."}):l.jsx("div",{className:"p-6 space-y-6",children:t.length===0?l.jsx("div",{className:"text-center py-20 text-slate-400",children:"No teacher attendance data found."}):t.map(v=>l.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0B4A82] border-2 border-[#E6F0FA] flex items-center justify-center text-white font-bold text-lg shadow-lg",children:v.teacherName.charAt(0)}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800",children:v.teacherName}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(EA,{size:14,className:"text-slate-500"}),l.jsxs("span",{className:"text-sm text-slate-600",children:[v.termStartDate," -"," ",v.vacationDate||"Present"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vv,{size:14,className:"text-emerald-600"}),l.jsxs("span",{className:"text-sm font-semibold text-emerald-700",children:[v.overallAttendance,"% Overall Attendance"]})]})]})]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Monthly Attendance Breakdown"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.monthlyBreakdown.map(g=>l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-semibold text-slate-800",children:g.month}),A(g.trend)]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Working Days:"}),l.jsx("span",{className:"font-medium",children:g.totalWorkingDays})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Present:"}),l.jsx("span",{className:"font-medium text-emerald-700",children:g.presentDays})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Absent:"}),l.jsx("span",{className:"font-medium text-[#0B4A82]",children:g.absentDays})]}),l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"Attendance Rate"}),l.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${m(g.trend)}`,children:[g.attendanceRate,"%"]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.attendanceRate>=90?"bg-emerald-500":g.attendanceRate>=70?"bg-amber-400":"bg-[#1160A8]"}`,style:{width:`${g.attendanceRate}%`}})})]})]})]},g.month))})]}),v.overallAttendance<70&&l.jsxs("div",{className:"mt-4 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg p-4 flex items-center gap-3",children:[l.jsx(eA,{className:"text-[#0B4A82]",size:20}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-[#0B4A82]",children:"Critical Attendance Alert"}),l.jsx("p",{className:"text-xs text-[#1160A8]",children:"This teacher has below 70% overall attendance and may need intervention."})]})]})]},v.teacherId))})})]})})},Kk=()=>{var S,T;const{school:n}=Gc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Wn[0].id),[a,i]=ee.useState([]),[c,h]=ee.useState({pass:[],fail:[]}),[u,f]=ee.useState([]),[A,m]=ee.useState(!1),[v,g]=ee.useState({currentTerm:`Term ${Oi}`,academicYear:uo,schoolReopenDate:""});ee.useEffect(()=>{t&&(async()=>{if(m(!0),!e){i([]),f([]),m(!1);return}const _=Wn.find(L=>L.id===t);let F=await ct.getSubjects(e,t);if(!F.length&&_)switch(_.level){case"NURSERY":F=Bk;break;case"KG":F=jk;break;case"PRIMARY":F=Ck;break;case"JHS":F=Ek;break;default:F=[]}if(f(F),F.length===0){i([]),m(!1);return}const Q=await ct.getSchoolConfig(e);g({currentTerm:Q.currentTerm||`Term ${Oi}`,academicYear:Q.academicYear||uo,schoolReopenDate:Q.schoolReopenDate||""});let M=Oi;if(Q.currentTerm){const L=Q.currentTerm.match(/\d+/);L&&(M=parseInt(L[0],10))}const k=await ct.getStudents(e,t),R=await ct.getStudentRemarks(e,t),D=await Promise.all(k.map(async L=>{let H=0,z=0;const re={};for(const ne of F){const ue=(await ct.getAssessments(e,t,ne)).find(je=>je.studentId===L.id&&je.term===M);if(ue){const je=ue.total??vu(ue);re[ne]=je,H+=je,z++}else re[ne]="-"}const pe=z>0?(H/z).toFixed(1):"0",ae=R.find(ne=>ne.studentId===L.id&&Number(ne.term)===M);return{student:L,scores:re,totalScore:H,average:pe,remark:ae?ae.remark:"N/A"}}));D.sort((L,H)=>H.totalScore-L.totalScore),i(D);const O=D.filter(L=>L.totalScore>=500),$=D.filter(L=>L.totalScore<500);h({pass:O,fail:$}),m(!1)})()},[t,e]);const B=()=>{var O,$,L;if(a.length===0)return;const E=["Position","Student Name",...u,"Total Score","Average Grade","Remark"],_=a.map((H,z)=>{const re=u.map(pe=>H.scores[pe]);return[z+1,`"${H.student.name}"`,...re,H.totalScore,H.average,`"${H.remark}"`]}),F=[E.join(","),..._.map(H=>H.join(","))].join(`
`),Q=new Blob([F],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(Q),k=document.createElement("a"),D=`${((O=Wn.find(H=>H.id===t))==null?void 0:O.name)||"Class"}_Report_${v.academicYear.replace("-","_")}_Term${((L=($=v.currentTerm)==null?void 0:$.match(/\d+/))==null?void 0:L[0])||Oi}.csv`;k.setAttribute("href",M),k.setAttribute("download",D),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)};return l.jsxs(cr,{title:"Academic Reports",children:[l.jsx("style",{children:`
                @media print {
                    @page { size: landscape; margin: 10mm; }
                    body * {
                        visibility: hidden;
                    }
                    #report-content, #report-content * {
                        visibility: visible;
                    }
                    #report-content {
                        position: fixed;
                        left: 0;
                        top: 0;
                        width: 100%;
                        height: 100%;
                        margin: 0;
                        padding: 0;
                        background: white;
                        z-index: 9999;
                    }
                    .no-print {
                        display: none !important;
                    }
                    /* Ensure table expands fully and isn't cut off by scroll areas */
                    #table-container {
                        overflow: visible !important;
                        height: auto !important;
                    }
                }
            `}),l.jsxs("div",{id:"report-content",className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)] print:h-auto print:border-none print:shadow-none",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 print:bg-white print:border-none",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black no-print",value:t,onChange:E=>s(E.target.value),children:Wn.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))}),l.jsxs("div",{className:"hidden print:block text-2xl font-bold text-slate-900",children:[(S=Wn.find(E=>E.id===t))==null?void 0:S.name," Report"]}),l.jsxs("div",{className:"text-sm text-slate-500 print:text-slate-900 print:font-semibold",children:[v.currentTerm," | ",v.academicYear]})]}),l.jsxs("button",{onClick:B,disabled:A||a.length===0,className:"flex items-center text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 px-4 py-2 rounded-lg transition-colors no-print font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(bT,{size:18,className:"mr-2"})," Export CSV"]})]}),l.jsxs("div",{id:"table-container",className:"flex-1 overflow-auto p-4 print:overflow-visible print:p-0",children:[((T=v.currentTerm)==null?void 0:T.includes("3"))&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6 no-print",children:[l.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-emerald-800 mb-2",children:"Passed (>= 500)"}),c.pass.length===0?l.jsx("p",{className:"text-sm text-emerald-700",children:"No passing students."}):l.jsx("ul",{className:"text-sm text-emerald-900 space-y-1 max-h-40 overflow-y-auto",children:c.pass.map(E=>l.jsxs("li",{className:"flex items-center justify-between",children:[l.jsx("span",{children:E.student.name}),l.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]}),l.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-lg p-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-red-800 mb-2",children:"Failed (< 500)"}),c.fail.length===0?l.jsx("p",{className:"text-sm text-red-700",children:"No failing students."}):l.jsx("ul",{className:"text-sm text-red-900 space-y-1 max-h-40 overflow-y-auto",children:c.fail.map(E=>l.jsxs("li",{className:"flex items-center justify-between",children:[l.jsx("span",{children:E.student.name}),l.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]})]}),A?l.jsx("div",{className:"text-center py-10 text-slate-400",children:"Loading Report Data..."}):l.jsx("div",{className:"overflow-x-auto print:overflow-visible",children:l.jsxs("table",{className:"w-full text-left text-sm border-collapse text-black",children:[l.jsx("thead",{className:"bg-slate-100 text-black font-bold print:bg-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 border border-slate-200 w-10",children:"Pos"}),l.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Student Name"}),u.map(E=>l.jsx("th",{className:"px-2 py-3 border border-slate-200 w-24 text-center text-xs",children:E.substring(0,3)},E)),l.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-emerald-50 text-emerald-900 print:bg-slate-100",children:"Total"}),l.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-[#E6F0FA] text-[#0B4A82] print:bg-slate-100",children:"Avg"}),l.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Remark"})]})}),l.jsxs("tbody",{children:[a.map((E,_)=>l.jsxs("tr",{className:"hover:bg-slate-50 print:hover:bg-transparent",children:[l.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-medium",children:_+1}),l.jsx("td",{className:"px-4 py-2 border border-slate-200 font-medium",children:E.student.name}),u.map(F=>{const Q=E.scores[F],M=typeof Q=="number"?rm(Q).grade:"-";return l.jsx("td",{className:"px-2 py-2 border border-slate-200 text-center",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:Q}),typeof Q=="number"&&l.jsx("span",{className:`text-[10px] font-bold ${Ng(M).split(" ")[0]}`,children:M})]})},F)}),l.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-emerald-50 text-emerald-900 print:bg-transparent",children:E.totalScore}),l.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-[#E6F0FA] text-[#0B4A82] print:bg-transparent",children:E.average}),l.jsx("td",{className:"px-4 py-2 border border-slate-200 text-sm",children:E.remark})]},E.student.id)),a.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:u.length+5,className:"p-8 text-center text-slate-400",children:"No students found."})})]})]})})]})]})]})};var V1={exports:{}};const zk="modulepreload",Gk=function(n){return"/noble-care-academy-sms/"+n},Mj={},K1=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let c=function(f){return Promise.all(f.map(A=>Promise.resolve(A).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),u=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(t.map(f=>{if(f=Gk(f),f in Mj)return;Mj[f]=!0;const A=f.endsWith(".css"),m=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=A?"stylesheet":zk,A||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),A)return new Promise((g,B)=>{v.addEventListener("load",g),v.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&i(h.reason);return e().catch(i)})};function Fr(n){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(n)}var sc=Uint8Array,ql=Uint16Array,Xw=Int32Array,Jw=new sc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qw=new sc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kj=new sc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ST=function(n,e){for(var t=new ql(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new Xw(t[30]),s=1;s<30;++s)for(var i=t[s];i<t[s+1];++i)a[i]=i-t[s]<<5|s;return{b:t,r:a}},NT=ST(Jw,2),$k=NT.b,lb=NT.r;$k[28]=258,lb[258]=28;var Wk=ST(qw,0),Hj=Wk.r,Ab=new ql(32768);for(var Aa=0;Aa<32768;++Aa){var fd=(Aa&43690)>>1|(Aa&21845)<<1;fd=(fd&52428)>>2|(fd&13107)<<2,fd=(fd&61680)>>4|(fd&3855)<<4,Ab[Aa]=((fd&65280)>>8|(fd&255)<<8)>>1}var Fp=(function(n,e,t){for(var s=n.length,a=0,i=new ql(e);a<s;++a)n[a]&&++i[n[a]-1];var c=new ql(e);for(a=1;a<e;++a)c[a]=c[a-1]+i[a-1]<<1;var h;if(t){h=new ql(1<<e);var u=15-e;for(a=0;a<s;++a)if(n[a])for(var f=a<<4|n[a],A=e-n[a],m=c[n[a]-1]++<<A,v=m|(1<<A)-1;m<=v;++m)h[Ab[m]>>u]=f}else for(h=new ql(s),a=0;a<s;++a)n[a]&&(h[a]=Ab[c[n[a]-1]++]>>15-n[a]);return h}),zh=new sc(288);for(var Aa=0;Aa<144;++Aa)zh[Aa]=8;for(var Aa=144;Aa<256;++Aa)zh[Aa]=9;for(var Aa=256;Aa<280;++Aa)zh[Aa]=7;for(var Aa=280;Aa<288;++Aa)zh[Aa]=8;var $v=new sc(32);for(var Aa=0;Aa<32;++Aa)$v[Aa]=5;var Yk=Fp(zh,9,0),Xk=Fp($v,5,0),TT=function(n){return(n+7)/8|0},Jk=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new sc(n.subarray(e,t))},du=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},up=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},z1=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,i=t.slice();if(!a)return{t:_T,l:0};if(a==1){var c=new sc(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(M,k){return M.f-k.f}),t.push({s:-1,f:25001});var h=t[0],u=t[1],f=0,A=1,m=2;for(t[0]={s:-1,f:h.f+u.f,l:h,r:u};A!=a-1;)h=t[t[f].f<t[m].f?f++:m++],u=t[f!=A&&t[f].f<t[m].f?f++:m++],t[A++]={s:-1,f:h.f+u.f,l:h,r:u};for(var v=i[0].s,s=1;s<a;++s)i[s].s>v&&(v=i[s].s);var g=new ql(v+1),B=cb(t[A-1],g,0);if(B>e){var s=0,S=0,T=B-e,E=1<<T;for(i.sort(function(k,R){return g[R.s]-g[k.s]||k.f-R.f});s<a;++s){var _=i[s].s;if(g[_]>e)S+=E-(1<<B-g[_]),g[_]=e;else break}for(S>>=T;S>0;){var F=i[s].s;g[F]<e?S-=1<<e-g[F]++-1:++s}for(;s>=0&&S;--s){var Q=i[s].s;g[Q]==e&&(--g[Q],++S)}B=e}return{t:new sc(g),l:B}},cb=function(n,e,t){return n.s==-1?Math.max(cb(n.l,e,t+1),cb(n.r,e,t+1)):e[n.s]=t},Vj=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ql(++e),s=0,a=n[0],i=1,c=function(u){t[s++]=u},h=1;h<=e;++h)if(n[h]==a&&h!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)c(32754);i>2&&(c(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(c(a),--i;i>6;i-=6)c(8304);i>2&&(c(i-3<<5|8208),i=0)}for(;i--;)c(a);i=1,a=n[h]}return{c:t.subarray(0,s),n:e}},dp=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},IT=function(n,e,t){var s=t.length,a=TT(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var i=0;i<s;++i)n[a+i+4]=t[i];return(a+4+s)*8},Kj=function(n,e,t,s,a,i,c,h,u,f,A){du(e,A++,t),++a[256];for(var m=z1(a,15),v=m.t,g=m.l,B=z1(i,15),S=B.t,T=B.l,E=Vj(v),_=E.c,F=E.n,Q=Vj(S),M=Q.c,k=Q.n,R=new ql(19),D=0;D<_.length;++D)++R[_[D]&31];for(var D=0;D<M.length;++D)++R[M[D]&31];for(var O=z1(R,7),$=O.t,L=O.l,H=19;H>4&&!$[kj[H-1]];--H);var z=f+5<<3,re=dp(a,zh)+dp(i,$v)+c,pe=dp(a,v)+dp(i,S)+c+14+3*H+dp(R,$)+2*R[16]+3*R[17]+7*R[18];if(u>=0&&z<=re&&z<=pe)return IT(e,A,n.subarray(u,u+f));var ae,ne,Z,ue;if(du(e,A,1+(pe<re)),A+=2,pe<re){ae=Fp(v,g,0),ne=v,Z=Fp(S,T,0),ue=S;var je=Fp($,L,0);du(e,A,F-257),du(e,A+5,k-1),du(e,A+10,H-4),A+=14;for(var D=0;D<H;++D)du(e,A+3*D,$[kj[D]]);A+=3*H;for(var se=[_,M],G=0;G<2;++G)for(var te=se[G],D=0;D<te.length;++D){var le=te[D]&31;du(e,A,je[le]),A+=$[le],le>15&&(du(e,A,te[D]>>5&127),A+=te[D]>>12)}}else ae=Yk,ne=zh,Z=Xk,ue=$v;for(var D=0;D<h;++D){var he=s[D];if(he>255){var le=he>>18&31;up(e,A,ae[le+257]),A+=ne[le+257],le>7&&(du(e,A,he>>23&31),A+=Jw[le]);var ce=he&31;up(e,A,Z[ce]),A+=ue[ce],ce>3&&(up(e,A,he>>5&8191),A+=qw[ce])}else up(e,A,ae[he]),A+=ne[he]}return up(e,A,ae[256]),A+ne[256]},qk=new Xw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_T=new sc(0),Zk=function(n,e,t,s,a,i){var c=i.z||n.length,h=new sc(s+c+5*(1+Math.ceil(c/7e3))+a),u=h.subarray(s,h.length-a),f=i.l,A=(i.r||0)&7;if(e){A&&(u[0]=i.r>>3);for(var m=qk[e-1],v=m>>13,g=m&8191,B=(1<<t)-1,S=i.p||new ql(32768),T=i.h||new ql(B+1),E=Math.ceil(t/3),_=2*E,F=function(Ve){return(n[Ve]^n[Ve+1]<<E^n[Ve+2]<<_)&B},Q=new Xw(25e3),M=new ql(288),k=new ql(32),R=0,D=0,O=i.i||0,$=0,L=i.w||0,H=0;O+2<c;++O){var z=F(O),re=O&32767,pe=T[z];if(S[re]=pe,T[z]=re,L<=O){var ae=c-O;if((R>7e3||$>24576)&&(ae>423||!f)){A=Kj(n,u,0,Q,M,k,D,$,H,O-H,A),$=R=D=0,H=O;for(var ne=0;ne<286;++ne)M[ne]=0;for(var ne=0;ne<30;++ne)k[ne]=0}var Z=2,ue=0,je=g,se=re-pe&32767;if(ae>2&&z==F(O-se))for(var G=Math.min(v,ae)-1,te=Math.min(32767,O),le=Math.min(258,ae);se<=te&&--je&&re!=pe;){if(n[O+Z]==n[O+Z-se]){for(var he=0;he<le&&n[O+he]==n[O+he-se];++he);if(he>Z){if(Z=he,ue=se,he>G)break;for(var ce=Math.min(se,he-2),xe=0,ne=0;ne<ce;++ne){var Ne=O-se+ne&32767,Te=S[Ne],Fe=Ne-Te&32767;Fe>xe&&(xe=Fe,pe=Ne)}}}re=pe,pe=S[re],se+=re-pe&32767}if(ue){Q[$++]=268435456|lb[Z]<<18|Hj[ue];var tt=lb[Z]&31,$e=Hj[ue]&31;D+=Jw[tt]+qw[$e],++M[257+tt],++k[$e],L=O+Z,++R}else Q[$++]=n[O],++M[n[O]]}}for(O=Math.max(O,L);O<c;++O)Q[$++]=n[O],++M[n[O]];A=Kj(n,u,f,Q,M,k,D,$,H,O-H,A),f||(i.r=A&7|u[A/8|0]<<3,A-=7,i.h=T,i.p=S,i.i=O,i.w=L)}else{for(var O=i.w||0;O<c+f;O+=65535){var it=O+65535;it>=c&&(u[A/8|0]=f,it=c),A=IT(u,A+1,n.subarray(O,it))}i.i=c}return Jk(h,0,s+TT(A)+a)},FT=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,i=t.length|0,c=0;c!=i;){for(var h=Math.min(c+2655,i);c<h;++c)a+=s+=t[c];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},e7=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),c=new sc(i.length+n.length);c.set(i),c.set(n,i.length),n=c,a.w=i.length}return Zk(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},UT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},t7=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=FT();a.p(e.dictionary),UT(n,2,a.d())}};function ub(n,e){e||(e={});var t=FT();t.p(n);var s=e7(n,e,e.dictionary?6:2,4);return t7(s,e),UT(s,s.length-4,t.d()),s}var n7=typeof TextDecoder<"u"&&new TextDecoder,s7=0;try{n7.decode(_T,{stream:!0}),s7=1}catch{}function r7(n){if(Array.isArray(n))return n}function a7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,i,c,h=[],u=!0,f=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(u=(s=i.call(t)).done)&&(h.push(s.value),h.length!==e);u=!0);}catch(A){f=!0,a=A}finally{try{if(!u&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return h}}function zj(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function i7(n,e){if(n){if(typeof n=="string")return zj(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zj(n,e):void 0}}function o7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gj(n,e){return r7(n)||a7(n,e)||i7(n,e)||o7()}function $j(n,e="utf8"){return new TextDecoder(e).decode(n)}const l7=new TextEncoder;function A7(n){return l7.encode(n)}const c7=1024*8,u7=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),G1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Zw{constructor(e=c7,t={}){_r(this,"buffer");_r(this,"byteLength");_r(this,"byteOffset");_r(this,"length");_r(this,"offset");_r(this,"lastWrittenByte");_r(this,"littleEndian");_r(this,"_data");_r(this,"_mark");_r(this,"_marks");let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,i=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof Zw)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=G1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===u7&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+s));h.reverse();const u=new G1[t](h.buffer);return this.offset+=s,u.reverse(),u}const c=new G1[t](i);return this.offset+=s,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return $j(this.readBytes(e))}decodeText(e=1,t="utf8"){return $j(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(A7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mm(n){let e=n.length;for(;--e>=0;)n[e]=0}const d7=3,h7=258,RT=29,f7=256,m7=f7+1+RT,DT=30,p7=512,g7=new Array((m7+2)*2);mm(g7);const v7=new Array(DT*2);mm(v7);const y7=new Array(p7);mm(y7);const x7=new Array(h7-d7+1);mm(x7);const b7=new Array(RT);mm(b7);const w7=new Array(DT);mm(w7);const B7=(n,e,t,s)=>{let a=n&65535|0,i=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[s++]|0,i=i+a|0;while(--c);a%=65521,i%=65521}return a|i<<16|0};var db=B7;const j7=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},C7=new Uint32Array(j7()),E7=(n,e,t,s)=>{const a=C7,i=s+t;n^=-1;for(let c=s;c<i;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Ic=E7,hb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},LT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const S7=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var N7=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)S7(t,s)&&(n[s]=t[s])}}return n},T7=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,i=n.length;s<i;s++){let c=n[s];t.set(c,a),a+=c.length}return t},QT={assign:N7,flattenChunks:T7};let OT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{OT=!1}const tg=new Uint8Array(256);for(let n=0;n<256;n++)tg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;tg[254]=tg[254]=1;var I7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,i,c=n.length,h=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),i=0,a=0;i<h;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const _7=(n,e)=>{if(e<65534&&n.subarray&&OT)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var F7=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const i=new Array(t*2);for(a=0,s=0;s<t;){let c=n[s++];if(c<128){i[a++]=c;continue}let h=tg[c];if(h>4){i[a++]=65533,s+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&s<t;)c=c<<6|n[s++]&63,h--;if(h>1){i[a++]=65533;continue}c<65536?i[a++]=c:(c-=65536,i[a++]=55296|c>>10&1023,i[a++]=56320|c&1023)}return _7(i,a)},U7=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+tg[n[t]]>e?t:e},fb={string2buf:I7,buf2string:F7,utf8border:U7};function R7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var D7=R7;const L0=16209,L7=16191;var Q7=function(e,t){let s,a,i,c,h,u,f,A,m,v,g,B,S,T,E,_,F,Q,M,k,R,D,O,$;const L=e.state;s=e.next_in,O=e.input,a=s+(e.avail_in-5),i=e.next_out,$=e.output,c=i-(t-e.avail_out),h=i+(e.avail_out-257),u=L.dmax,f=L.wsize,A=L.whave,m=L.wnext,v=L.window,g=L.hold,B=L.bits,S=L.lencode,T=L.distcode,E=(1<<L.lenbits)-1,_=(1<<L.distbits)-1;e:do{B<15&&(g+=O[s++]<<B,B+=8,g+=O[s++]<<B,B+=8),F=S[g&E];t:for(;;){if(Q=F>>>24,g>>>=Q,B-=Q,Q=F>>>16&255,Q===0)$[i++]=F&65535;else if(Q&16){M=F&65535,Q&=15,Q&&(B<Q&&(g+=O[s++]<<B,B+=8),M+=g&(1<<Q)-1,g>>>=Q,B-=Q),B<15&&(g+=O[s++]<<B,B+=8,g+=O[s++]<<B,B+=8),F=T[g&_];n:for(;;){if(Q=F>>>24,g>>>=Q,B-=Q,Q=F>>>16&255,Q&16){if(k=F&65535,Q&=15,B<Q&&(g+=O[s++]<<B,B+=8,B<Q&&(g+=O[s++]<<B,B+=8)),k+=g&(1<<Q)-1,k>u){e.msg="invalid distance too far back",L.mode=L0;break e}if(g>>>=Q,B-=Q,Q=i-c,k>Q){if(Q=k-Q,Q>A&&L.sane){e.msg="invalid distance too far back",L.mode=L0;break e}if(R=0,D=v,m===0){if(R+=f-Q,Q<M){M-=Q;do $[i++]=v[R++];while(--Q);R=i-k,D=$}}else if(m<Q){if(R+=f+m-Q,Q-=m,Q<M){M-=Q;do $[i++]=v[R++];while(--Q);if(R=0,m<M){Q=m,M-=Q;do $[i++]=v[R++];while(--Q);R=i-k,D=$}}}else if(R+=m-Q,Q<M){M-=Q;do $[i++]=v[R++];while(--Q);R=i-k,D=$}for(;M>2;)$[i++]=D[R++],$[i++]=D[R++],$[i++]=D[R++],M-=3;M&&($[i++]=D[R++],M>1&&($[i++]=D[R++]))}else{R=i-k;do $[i++]=$[R++],$[i++]=$[R++],$[i++]=$[R++],M-=3;while(M>2);M&&($[i++]=$[R++],M>1&&($[i++]=$[R++]))}}else if((Q&64)===0){F=T[(F&65535)+(g&(1<<Q)-1)];continue n}else{e.msg="invalid distance code",L.mode=L0;break e}break}}else if((Q&64)===0){F=S[(F&65535)+(g&(1<<Q)-1)];continue t}else if(Q&32){L.mode=L7;break e}else{e.msg="invalid literal/length code",L.mode=L0;break e}break}}while(s<a&&i<h);M=B>>3,s-=M,B-=M<<3,g&=(1<<B)-1,e.next_in=s,e.next_out=i,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=i<h?257+(h-i):257-(i-h),L.hold=g,L.bits=B};const Tf=15,Wj=852,Yj=592,Xj=0,$1=1,Jj=2,O7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),P7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),M7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),k7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),H7=(n,e,t,s,a,i,c,h)=>{const u=h.bits;let f=0,A=0,m=0,v=0,g=0,B=0,S=0,T=0,E=0,_=0,F,Q,M,k,R,D=null,O;const $=new Uint16Array(Tf+1),L=new Uint16Array(Tf+1);let H=null,z,re,pe;for(f=0;f<=Tf;f++)$[f]=0;for(A=0;A<s;A++)$[e[t+A]]++;for(g=u,v=Tf;v>=1&&$[v]===0;v--);if(g>v&&(g=v),v===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,h.bits=1,0;for(m=1;m<v&&$[m]===0;m++);for(g<m&&(g=m),T=1,f=1;f<=Tf;f++)if(T<<=1,T-=$[f],T<0)return-1;if(T>0&&(n===Xj||v!==1))return-1;for(L[1]=0,f=1;f<Tf;f++)L[f+1]=L[f]+$[f];for(A=0;A<s;A++)e[t+A]!==0&&(c[L[e[t+A]]++]=A);if(n===Xj?(D=H=c,O=20):n===$1?(D=O7,H=P7,O=257):(D=M7,H=k7,O=0),_=0,A=0,f=m,R=i,B=g,S=0,M=-1,E=1<<g,k=E-1,n===$1&&E>Wj||n===Jj&&E>Yj)return 1;for(;;){z=f-S,c[A]+1<O?(re=0,pe=c[A]):c[A]>=O?(re=H[c[A]-O],pe=D[c[A]-O]):(re=96,pe=0),F=1<<f-S,Q=1<<B,m=Q;do Q-=F,a[R+(_>>S)+Q]=z<<24|re<<16|pe|0;while(Q!==0);for(F=1<<f-1;_&F;)F>>=1;if(F!==0?(_&=F-1,_+=F):_=0,A++,--$[f]===0){if(f===v)break;f=e[t+c[A]]}if(f>g&&(_&k)!==M){for(S===0&&(S=g),R+=m,B=f-S,T=1<<B;B+S<v&&(T-=$[B+S],!(T<=0));)B++,T<<=1;if(E+=1<<B,n===$1&&E>Wj||n===Jj&&E>Yj)return 1;M=_&k,a[M]=g<<24|B<<16|R-i|0}}return _!==0&&(a[R+_]=f-S<<24|64<<16|0),h.bits=g,0};var Up=H7;const V7=0,PT=1,MT=2,{Z_FINISH:qj,Z_BLOCK:K7,Z_TREES:Q0,Z_OK:Gh,Z_STREAM_END:z7,Z_NEED_DICT:G7,Z_STREAM_ERROR:_A,Z_DATA_ERROR:kT,Z_MEM_ERROR:HT,Z_BUF_ERROR:$7,Z_DEFLATED:Zj}=LT,Uy=16180,eC=16181,tC=16182,nC=16183,sC=16184,rC=16185,aC=16186,iC=16187,oC=16188,lC=16189,Wv=16190,hu=16191,W1=16192,AC=16193,Y1=16194,cC=16195,uC=16196,dC=16197,hC=16198,O0=16199,P0=16200,fC=16201,mC=16202,pC=16203,gC=16204,vC=16205,X1=16206,yC=16207,xC=16208,wa=16209,VT=16210,KT=16211,W7=852,Y7=592,X7=15,J7=X7,bC=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function q7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Uy||e.mode>KT?1:0},zT=n=>{if(Zh(n))return _A;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Uy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(W7),e.distcode=e.distdyn=new Int32Array(Y7),e.sane=1,e.back=-1,Gh},GT=n=>{if(Zh(n))return _A;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,zT(n)},$T=(n,e)=>{let t;if(Zh(n))return _A;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?_A:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,GT(n))},WT=(n,e)=>{if(!n)return _A;const t=new q7;n.state=t,t.strm=n,t.window=null,t.mode=Uy;const s=$T(n,e);return s!==Gh&&(n.state=null),s},Z7=n=>WT(n,J7);let wC=!0,J1,q1;const eH=n=>{if(wC){J1=new Int32Array(512),q1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Up(PT,n.lens,0,288,J1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Up(MT,n.lens,0,32,q1,0,n.work,{bits:5}),wC=!1}n.lencode=J1,n.lenbits=9,n.distcode=q1,n.distbits=5},YT=(n,e,t,s)=>{let a;const i=n.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(e.subarray(t-s,t-s+a),i.wnext),s-=a,s?(i.window.set(e.subarray(t-s,t),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},tH=(n,e)=>{let t,s,a,i,c,h,u,f,A,m,v,g,B,S,T=0,E,_,F,Q,M,k,R,D;const O=new Uint8Array(4);let $,L;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zh(n)||!n.output||!n.input&&n.avail_in!==0)return _A;t=n.state,t.mode===hu&&(t.mode=W1),c=n.next_out,a=n.output,u=n.avail_out,i=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,m=h,v=u,D=Gh;e:for(;;)switch(t.mode){case Uy:if(t.wrap===0){t.mode=W1;break}for(;A<16;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=f&255,O[1]=f>>>8&255,t.check=Ic(t.check,O,2,0),f=0,A=0,t.mode=eC;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=wa;break}if((f&15)!==Zj){n.msg="unknown compression method",t.mode=wa;break}if(f>>>=4,A-=4,R=(f&15)+8,t.wbits===0&&(t.wbits=R),R>15||R>t.wbits){n.msg="invalid window size",t.mode=wa;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?lC:hu,f=0,A=0;break;case eC:for(;A<16;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(t.flags=f,(t.flags&255)!==Zj){n.msg="unknown compression method",t.mode=wa;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=wa;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Ic(t.check,O,2,0)),f=0,A=0,t.mode=tC;case tC:for(;A<32;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,O[2]=f>>>16&255,O[3]=f>>>24&255,t.check=Ic(t.check,O,4,0)),f=0,A=0,t.mode=nC;case nC:for(;A<16;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Ic(t.check,O,2,0)),f=0,A=0,t.mode=sC;case sC:if(t.flags&1024){for(;A<16;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Ic(t.check,O,2,0)),f=0,A=0}else t.head&&(t.head.extra=null);t.mode=rC;case rC:if(t.flags&1024&&(g=t.length,g>h&&(g=h),g&&(t.head&&(R=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(i,i+g),R)),t.flags&512&&t.wrap&4&&(t.check=Ic(t.check,s,g,i)),h-=g,i+=g,t.length-=g),t.length))break e;t.length=0,t.mode=aC;case aC:if(t.flags&2048){if(h===0)break e;g=0;do R=s[i+g++],t.head&&R&&t.length<65536&&(t.head.name+=String.fromCharCode(R));while(R&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Ic(t.check,s,g,i)),h-=g,i+=g,R)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=iC;case iC:if(t.flags&4096){if(h===0)break e;g=0;do R=s[i+g++],t.head&&R&&t.length<65536&&(t.head.comment+=String.fromCharCode(R));while(R&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Ic(t.check,s,g,i)),h-=g,i+=g,R)break e}else t.head&&(t.head.comment=null);t.mode=oC;case oC:if(t.flags&512){for(;A<16;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=wa;break}f=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=hu;break;case lC:for(;A<32;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}n.adler=t.check=bC(f),f=0,A=0,t.mode=Wv;case Wv:if(t.havedict===0)return n.next_out=c,n.avail_out=u,n.next_in=i,n.avail_in=h,t.hold=f,t.bits=A,G7;n.adler=t.check=1,t.mode=hu;case hu:if(e===K7||e===Q0)break e;case W1:if(t.last){f>>>=A&7,A-=A&7,t.mode=X1;break}for(;A<3;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}switch(t.last=f&1,f>>>=1,A-=1,f&3){case 0:t.mode=AC;break;case 1:if(eH(t),t.mode=O0,e===Q0){f>>>=2,A-=2;break e}break;case 2:t.mode=uC;break;case 3:n.msg="invalid block type",t.mode=wa}f>>>=2,A-=2;break;case AC:for(f>>>=A&7,A-=A&7;A<32;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=wa;break}if(t.length=f&65535,f=0,A=0,t.mode=Y1,e===Q0)break e;case Y1:t.mode=cC;case cC:if(g=t.length,g){if(g>h&&(g=h),g>u&&(g=u),g===0)break e;a.set(s.subarray(i,i+g),c),h-=g,i+=g,u-=g,c+=g,t.length-=g;break}t.mode=hu;break;case uC:for(;A<14;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(t.nlen=(f&31)+257,f>>>=5,A-=5,t.ndist=(f&31)+1,f>>>=5,A-=5,t.ncode=(f&15)+4,f>>>=4,A-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=wa;break}t.have=0,t.mode=dC;case dC:for(;t.have<t.ncode;){for(;A<3;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}t.lens[H[t.have++]]=f&7,f>>>=3,A-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,$={bits:t.lenbits},D=Up(V7,t.lens,0,19,t.lencode,0,t.work,$),t.lenbits=$.bits,D){n.msg="invalid code lengths set",t.mode=wa;break}t.have=0,t.mode=hC;case hC:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[f&(1<<t.lenbits)-1],E=T>>>24,_=T>>>16&255,F=T&65535,!(E<=A);){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(F<16)f>>>=E,A-=E,t.lens[t.have++]=F;else{if(F===16){for(L=E+2;A<L;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(f>>>=E,A-=E,t.have===0){n.msg="invalid bit length repeat",t.mode=wa;break}R=t.lens[t.have-1],g=3+(f&3),f>>>=2,A-=2}else if(F===17){for(L=E+3;A<L;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}f>>>=E,A-=E,R=0,g=3+(f&7),f>>>=3,A-=3}else{for(L=E+7;A<L;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}f>>>=E,A-=E,R=0,g=11+(f&127),f>>>=7,A-=7}if(t.have+g>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=wa;break}for(;g--;)t.lens[t.have++]=R}}if(t.mode===wa)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=wa;break}if(t.lenbits=9,$={bits:t.lenbits},D=Up(PT,t.lens,0,t.nlen,t.lencode,0,t.work,$),t.lenbits=$.bits,D){n.msg="invalid literal/lengths set",t.mode=wa;break}if(t.distbits=6,t.distcode=t.distdyn,$={bits:t.distbits},D=Up(MT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,$),t.distbits=$.bits,D){n.msg="invalid distances set",t.mode=wa;break}if(t.mode=O0,e===Q0)break e;case O0:t.mode=P0;case P0:if(h>=6&&u>=258){n.next_out=c,n.avail_out=u,n.next_in=i,n.avail_in=h,t.hold=f,t.bits=A,Q7(n,v),c=n.next_out,a=n.output,u=n.avail_out,i=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,t.mode===hu&&(t.back=-1);break}for(t.back=0;T=t.lencode[f&(1<<t.lenbits)-1],E=T>>>24,_=T>>>16&255,F=T&65535,!(E<=A);){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(_&&(_&240)===0){for(Q=E,M=_,k=F;T=t.lencode[k+((f&(1<<Q+M)-1)>>Q)],E=T>>>24,_=T>>>16&255,F=T&65535,!(Q+E<=A);){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}f>>>=Q,A-=Q,t.back+=Q}if(f>>>=E,A-=E,t.back+=E,t.length=F,_===0){t.mode=vC;break}if(_&32){t.back=-1,t.mode=hu;break}if(_&64){n.msg="invalid literal/length code",t.mode=wa;break}t.extra=_&15,t.mode=fC;case fC:if(t.extra){for(L=t.extra;A<L;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=mC;case mC:for(;T=t.distcode[f&(1<<t.distbits)-1],E=T>>>24,_=T>>>16&255,F=T&65535,!(E<=A);){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if((_&240)===0){for(Q=E,M=_,k=F;T=t.distcode[k+((f&(1<<Q+M)-1)>>Q)],E=T>>>24,_=T>>>16&255,F=T&65535,!(Q+E<=A);){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}f>>>=Q,A-=Q,t.back+=Q}if(f>>>=E,A-=E,t.back+=E,_&64){n.msg="invalid distance code",t.mode=wa;break}t.offset=F,t.extra=_&15,t.mode=pC;case pC:if(t.extra){for(L=t.extra;A<L;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=wa;break}t.mode=gC;case gC:if(u===0)break e;if(g=v-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=wa;break}g>t.wnext?(g-=t.wnext,B=t.wsize-g):B=t.wnext-g,g>t.length&&(g=t.length),S=t.window}else S=a,B=c-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do a[c++]=S[B++];while(--g);t.length===0&&(t.mode=P0);break;case vC:if(u===0)break e;a[c++]=t.length,u--,t.mode=P0;break;case X1:if(t.wrap){for(;A<32;){if(h===0)break e;h--,f|=s[i++]<<A,A+=8}if(v-=u,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Ic(t.check,a,v,c-v):db(t.check,a,v,c-v)),v=u,t.wrap&4&&(t.flags?f:bC(f))!==t.check){n.msg="incorrect data check",t.mode=wa;break}f=0,A=0}t.mode=yC;case yC:if(t.wrap&&t.flags){for(;A<32;){if(h===0)break e;h--,f+=s[i++]<<A,A+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=wa;break}f=0,A=0}t.mode=xC;case xC:D=z7;break e;case wa:D=kT;break e;case VT:return HT;case KT:default:return _A}return n.next_out=c,n.avail_out=u,n.next_in=i,n.avail_in=h,t.hold=f,t.bits=A,(t.wsize||v!==n.avail_out&&t.mode<wa&&(t.mode<X1||e!==qj))&&YT(n,n.output,n.next_out,v-n.avail_out),m-=n.avail_in,v-=n.avail_out,n.total_in+=m,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Ic(t.check,a,v,n.next_out-v):db(t.check,a,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===hu?128:0)+(t.mode===O0||t.mode===Y1?256:0),(m===0&&v===0||e===qj)&&D===Gh&&(D=$7),D},nH=n=>{if(Zh(n))return _A;let e=n.state;return e.window&&(e.window=null),n.state=null,Gh},sH=(n,e)=>{if(Zh(n))return _A;const t=n.state;return(t.wrap&2)===0?_A:(t.head=e,e.done=!1,Gh)},rH=(n,e)=>{const t=e.length;let s,a,i;return Zh(n)||(s=n.state,s.wrap!==0&&s.mode!==Wv)?_A:s.mode===Wv&&(a=1,a=db(a,e,t,0),a!==s.check)?kT:(i=YT(n,e,t,t),i?(s.mode=VT,HT):(s.havedict=1,Gh))};var aH=GT,iH=$T,oH=zT,lH=Z7,AH=WT,cH=tH,uH=nH,dH=sH,hH=rH,fH="pako inflate (from Nodeca project)",mu={inflateReset:aH,inflateReset2:iH,inflateResetKeep:oH,inflateInit:lH,inflateInit2:AH,inflate:cH,inflateEnd:uH,inflateGetHeader:dH,inflateSetDictionary:hH,inflateInfo:fH};function mH(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pH=mH;const XT=Object.prototype.toString,{Z_NO_FLUSH:gH,Z_FINISH:vH,Z_OK:ng,Z_STREAM_END:Z1,Z_NEED_DICT:ex,Z_STREAM_ERROR:yH,Z_DATA_ERROR:BC,Z_MEM_ERROR:xH}=LT;function Tg(n){this.options=QT.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D7,this.strm.avail_out=0;let t=mu.inflateInit2(this.strm,e.windowBits);if(t!==ng)throw new Error(hb[t]);if(this.header=new pH,mu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=fb.string2buf(e.dictionary):XT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=mu.inflateSetDictionary(this.strm,e.dictionary),t!==ng)))throw new Error(hb[t])}Tg.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?vH:gH,XT.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),i=mu.inflate(t,c),i===ex&&a&&(i=mu.inflateSetDictionary(t,a),i===ng?i=mu.inflate(t,c):i===BC&&(i=ex));t.avail_in>0&&i===Z1&&t.state.wrap>0&&n[t.next_in]!==0;)mu.inflateReset(t),i=mu.inflate(t,c);switch(i){case yH:case BC:case ex:case xH:return this.onEnd(i),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||i===Z1))if(this.options.to==="string"){let u=fb.utf8border(t.output,t.next_out),f=t.next_out-u,A=fb.buf2string(t.output,u);t.next_out=f,t.avail_out=s-f,f&&t.output.set(t.output.subarray(u,u+f),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===ng&&h===0)){if(i===Z1)return i=mu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Tg.prototype.onData=function(n){this.chunks.push(n)};Tg.prototype.onEnd=function(n){n===ng&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=QT.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function bH(n,e){const t=new Tg(e);if(t.push(n),t.err)throw t.msg||hb[t.err];return t.result}var wH=Tg,BH=bH,jH={Inflate:wH,inflate:BH};const{Inflate:CH,inflate:EH}=jH;var jC=CH,SH=EH;const JT=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;JT[n]=e}const CC=4294967295;function NH(n,e,t){let s=n;for(let a=0;a<t;a++)s=JT[(s^e[a])&255]^s>>>8;return s}function TH(n,e){return(NH(CC,n,e)^CC)>>>0}function EC(n,e,t){const s=n.readUint32(),a=TH(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function qT(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function ZT(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function eI(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function tI(n,e,t,s,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=n[i];for(;i<s;i++)e[i]=n[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=n[i]+(t[i]>>1)&255;for(;i<s;i++)e[i]=n[i]+(e[i-a]+t[i]>>1)&255}}function nI(n,e,t,s,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=n[i];for(;i<s;i++)e[i]=n[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=n[i]+t[i]&255;for(;i<s;i++)e[i]=n[i]+IH(e[i-a],t[i],t[i-a])&255}}function IH(n,e,t){const s=n+e-t,a=Math.abs(s-n),i=Math.abs(s-e),c=Math.abs(s-t);return a<=i&&a<=c?n:i<=c?e:t}function _H(n,e,t,s,a,i){switch(n){case 0:qT(e,t,a);break;case 1:ZT(e,t,a,i);break;case 2:eI(e,t,s,a);break;case 3:tI(e,t,s,a,i);break;case 4:nI(e,t,s,a,i);break;default:throw new Error(`Unsupported filter: ${n}`)}}const FH=new Uint16Array([255]),UH=new Uint8Array(FH.buffer),RH=UH[0]===255;function DH(n){const{data:e,width:t,height:s,channels:a,depth:i}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(i/8)*a,u=new Uint8Array(s*t*h);let f=0;for(let A=0;A<7;A++){const m=c[A],v=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((s-m.y)/m.yStep);if(v<=0||g<=0)continue;const B=v*h,S=new Uint8Array(B);for(let T=0;T<g;T++){const E=e[f++],_=e.subarray(f,f+B);f+=B;const F=new Uint8Array(B);_H(E,_,F,S,B,h),S.set(F);for(let Q=0;Q<v;Q++){const M=m.x+Q*m.xStep,k=m.y+T*m.yStep;if(!(M>=t||k>=s))for(let R=0;R<h;R++)u[(k*t+M)*h+R]=F[Q*h+R]}}}if(i===16){const A=new Uint16Array(u.buffer);if(RH)for(let m=0;m<A.length;m++)A[m]=LH(A[m]);return A}else return u}function LH(n){return(n&255)<<8|n>>8&255}const QH=new Uint16Array([255]),OH=new Uint8Array(QH.buffer),PH=OH[0]===255,MH=new Uint8Array(0);function SC(n){const{data:e,width:t,height:s,channels:a,depth:i}=n,c=Math.ceil(i/8)*a,h=Math.ceil(i/8*a*t),u=new Uint8Array(s*h);let f=MH,A=0,m,v;for(let g=0;g<s;g++){switch(m=e.subarray(A+1,A+1+h),v=u.subarray(g*h,(g+1)*h),e[A]){case 0:qT(m,v,h);break;case 1:ZT(m,v,h,c);break;case 2:eI(m,v,f,h);break;case 3:tI(m,v,f,h,c);break;case 4:nI(m,v,f,h,c);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}f=v,A+=h+1}if(i===16){const g=new Uint16Array(u.buffer);if(PH)for(let B=0;B<g.length;B++)g[B]=kH(g[B]);return g}else return u}function kH(n){return(n&255)<<8|n>>8&255}const uv=Uint8Array.of(137,80,78,71,13,10,26,10);function NC(n){if(!HH(n.readBytes(uv.length)))throw new Error("wrong PNG signature")}function HH(n){if(n.length<uv.length)return!1;for(let e=0;e<uv.length;e++)if(n[e]!==uv[e])return!1;return!0}const VH="tEXt",KH=0,sI=new TextDecoder("latin1");function zH(n){if($H(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const GH=/^[\u0000-\u00FF]*$/;function $H(n){if(!GH.test(n))throw new Error("invalid latin1 text")}function WH(n,e,t){const s=rI(e);n[s]=YH(e,t-s.length-1)}function rI(n){for(n.mark();n.readByte()!==KH;);const e=n.offset;n.reset();const t=sI.decode(n.readBytes(e-n.offset-1));return n.skip(1),zH(t),t}function YH(n,e){return sI.decode(n.readBytes(e))}const Wl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},tx={UNKNOWN:-1,DEFLATE:0},TC={UNKNOWN:-1,ADAPTIVE:0},nx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},M0={NONE:0,BACKGROUND:1,PREVIOUS:2},sx={SOURCE:0,OVER:1};class XH extends Zw{constructor(t,s={}){super(t);_r(this,"_checkCrc");_r(this,"_inflator");_r(this,"_png");_r(this,"_apng");_r(this,"_end");_r(this,"_hasPalette");_r(this,"_palette");_r(this,"_hasTransparency");_r(this,"_transparency");_r(this,"_compressionMethod");_r(this,"_filterMethod");_r(this,"_interlaceMethod");_r(this,"_colorType");_r(this,"_isAnimated");_r(this,"_numberOfFrames");_r(this,"_numberOfPlays");_r(this,"_frames");_r(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new jC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=tx.UNKNOWN,this._filterMethod=TC.UNKNOWN,this._interlaceMethod=nx.UNKNOWN,this._colorType=Wl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(NC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(NC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case VH:WH(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?EC(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?EC(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=JH(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case Wl.GREYSCALE:a=1;break;case Wl.TRUECOLOUR:a=3;break;case Wl.INDEXED_COLOUR:a=1;break;case Wl.GREYSCALE_ALPHA:a=2;break;case Wl.TRUECOLOUR_ALPHA:a=4;break;case Wl.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==tx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Wl.GREYSCALE:case Wl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case Wl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case Wl.UNKNOWN:case Wl.GREYSCALE_ALPHA:case Wl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=rI(this),a=this.readUint8();if(a!==tx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:SH(i)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=SC({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,a){switch(t.disposeOp){case M0.NONE:break;case M0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let c=0;c<this._png.width;c++){const h=(i*t.width+c)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[h+u]=0}break;case M0.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const a=1<<this._png.depth,i=(c,h)=>{const u=((c+s.yOffset)*this._png.width+s.xOffset+h)*this._png.channels,f=(c*s.width+h)*this._png.channels;return{index:u,frameIndex:f}};switch(s.blendOp){case sx.SOURCE:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=i(c,h);for(let A=0;A<this._png.channels;A++)t.data[u+A]=s.data[f+A]}break;case sx.OVER:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=i(c,h);for(let A=0;A<this._png.channels;A++){const m=s.data[f+this._png.channels-1]/a,v=A%(this._png.channels-1)===0?1:s.data[f+A],g=Math.floor(m*v+(1-m)*t.data[u+A]);t.data[u+A]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==TC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===nx.NO_INTERLACE)this._png.data=SC({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===nx.ADAM7)this._png.data=DH({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:M0.NONE,blendOp:sx.SOURCE,data:t}),this._inflator=new jC,this._writingDataChunks=!1}}function JH(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var IC;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(IC||(IC={}));function qH(n,e){return new XH(n,e).decode()}var as=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function rx(){as.console&&typeof as.console.log=="function"&&as.console.log.apply(as.console,arguments)}var zr={log:rx,warn:function(n){as.console&&(typeof as.console.warn=="function"?as.console.warn.apply(as.console,arguments):rx.call(null,arguments))},error:function(n){as.console&&(typeof as.console.error=="function"?as.console.error.apply(as.console,arguments):rx(n))}};function ax(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){Sh(s.response,e,t)},s.onerror=function(){zr.error("could not download file")},s.send()}function _C(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function k0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Sh=as.saveAs||((typeof window>"u"?"undefined":Fr(window))!=="object"||window!==as?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=as.URL||as.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?_C(a.href)?ax(n,e,t):k0(a,a.target="_blank"):k0(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){k0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(_C(n))ax(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){k0(s)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Fr(i)!=="object"&&(zr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return ax(n,e,t);var a=n.type==="application/octet-stream",i=/constructor/i.test(as.HTMLElement)||as.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&i)&&(typeof FileReader>"u"?"undefined":Fr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var A=h.result;A=c?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=A:location=A,s=null},h.readAsDataURL(n)}else{var u=as.URL||as.webkitURL,f=u.createObjectURL(n);s?s.location=f:location.href=f,s=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,i=t[s].process,c=a.exec(n);c&&(e=i(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+h+u+f}}var dv=as.atob.bind(as),FC=as.btoa.bind(as);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ix(n,e){var t=n[0],s=n[1],a=n[2],i=n[3];t=Oo(t,s,a,i,e[0],7,-680876936),i=Oo(i,t,s,a,e[1],12,-389564586),a=Oo(a,i,t,s,e[2],17,606105819),s=Oo(s,a,i,t,e[3],22,-1044525330),t=Oo(t,s,a,i,e[4],7,-176418897),i=Oo(i,t,s,a,e[5],12,1200080426),a=Oo(a,i,t,s,e[6],17,-1473231341),s=Oo(s,a,i,t,e[7],22,-45705983),t=Oo(t,s,a,i,e[8],7,1770035416),i=Oo(i,t,s,a,e[9],12,-1958414417),a=Oo(a,i,t,s,e[10],17,-42063),s=Oo(s,a,i,t,e[11],22,-1990404162),t=Oo(t,s,a,i,e[12],7,1804603682),i=Oo(i,t,s,a,e[13],12,-40341101),a=Oo(a,i,t,s,e[14],17,-1502002290),t=Po(t,s=Oo(s,a,i,t,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Po(i,t,s,a,e[6],9,-1069501632),a=Po(a,i,t,s,e[11],14,643717713),s=Po(s,a,i,t,e[0],20,-373897302),t=Po(t,s,a,i,e[5],5,-701558691),i=Po(i,t,s,a,e[10],9,38016083),a=Po(a,i,t,s,e[15],14,-660478335),s=Po(s,a,i,t,e[4],20,-405537848),t=Po(t,s,a,i,e[9],5,568446438),i=Po(i,t,s,a,e[14],9,-1019803690),a=Po(a,i,t,s,e[3],14,-187363961),s=Po(s,a,i,t,e[8],20,1163531501),t=Po(t,s,a,i,e[13],5,-1444681467),i=Po(i,t,s,a,e[2],9,-51403784),a=Po(a,i,t,s,e[7],14,1735328473),t=Mo(t,s=Po(s,a,i,t,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Mo(i,t,s,a,e[8],11,-2022574463),a=Mo(a,i,t,s,e[11],16,1839030562),s=Mo(s,a,i,t,e[14],23,-35309556),t=Mo(t,s,a,i,e[1],4,-1530992060),i=Mo(i,t,s,a,e[4],11,1272893353),a=Mo(a,i,t,s,e[7],16,-155497632),s=Mo(s,a,i,t,e[10],23,-1094730640),t=Mo(t,s,a,i,e[13],4,681279174),i=Mo(i,t,s,a,e[0],11,-358537222),a=Mo(a,i,t,s,e[3],16,-722521979),s=Mo(s,a,i,t,e[6],23,76029189),t=Mo(t,s,a,i,e[9],4,-640364487),i=Mo(i,t,s,a,e[12],11,-421815835),a=Mo(a,i,t,s,e[15],16,530742520),t=ko(t,s=Mo(s,a,i,t,e[2],23,-995338651),a,i,e[0],6,-198630844),i=ko(i,t,s,a,e[7],10,1126891415),a=ko(a,i,t,s,e[14],15,-1416354905),s=ko(s,a,i,t,e[5],21,-57434055),t=ko(t,s,a,i,e[12],6,1700485571),i=ko(i,t,s,a,e[3],10,-1894986606),a=ko(a,i,t,s,e[10],15,-1051523),s=ko(s,a,i,t,e[1],21,-2054922799),t=ko(t,s,a,i,e[8],6,1873313359),i=ko(i,t,s,a,e[15],10,-30611744),a=ko(a,i,t,s,e[6],15,-1560198380),s=ko(s,a,i,t,e[13],21,1309151649),t=ko(t,s,a,i,e[4],6,-145523070),i=ko(i,t,s,a,e[11],10,-1120210379),a=ko(a,i,t,s,e[2],15,718787259),s=ko(s,a,i,t,e[9],21,-343485551),n[0]=jd(t,n[0]),n[1]=jd(s,n[1]),n[2]=jd(a,n[2]),n[3]=jd(i,n[3])}function Ry(n,e,t,s,a,i){return e=jd(jd(e,n),jd(s,i)),jd(e<<a|e>>>32-a,t)}function Oo(n,e,t,s,a,i,c){return Ry(e&t|~e&s,n,e,a,i,c)}function Po(n,e,t,s,a,i,c){return Ry(e&s|t&~s,n,e,a,i,c)}function Mo(n,e,t,s,a,i,c){return Ry(e^t^s,n,e,a,i,c)}function ko(n,e,t,s,a,i,c){return Ry(t^(e|~s),n,e,a,i,c)}function iI(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)ix(s,ZH(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(ix(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,ix(s,a),s}function ZH(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var UC="0123456789abcdef".split("");function e9(n){for(var e="",t=0;t<4;t++)e+=UC[n>>8*t+4&15]+UC[n>>8*t&15];return e}function t9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function mb(n){return iI(n).map(t9).join("")}var n9=(function(n){for(var e=0;e<n.length;e++)n[e]=e9(n[e]);return n.join("")})(iI("hello"))!="5d41402abc4b2a76b9719d911017c592";function jd(n,e){if(n9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pb(n,e){var t,s,a,i;if(n!==t){for(var c=(a=n,i=1+(256/n.length|0),new Array(i+1).join(a)),h=[],u=0;u<256;u++)h[u]=u;var f=0;for(u=0;u<256;u++){var A=h[u];f=(f+A+c.charCodeAt(u))%256,h[u]=h[f],h[f]=A}t=n,s=h}else h=s;var m=e.length,v=0,g=0,B="";for(u=0;u<m;u++)g=(g+(A=h[v=(v+1)%256]))%256,h[v]=h[g],h[g]=A,c=h[(h[v]+h[g])%256],B+=String.fromCharCode(e.charCodeAt(u)^c);return B}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var RC={print:4,modify:8,copy:16,"annot-forms":32};function Qf(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(RC.perm!==void 0)throw new Error("Invalid permission: "+h);a+=RC[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,c),this.P=-(1+(255^a)),this.encryptionKey=mb(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=pb(this.encryptionKey,this.padding)}function Of(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function DC(n){if(Fr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[s,!!a],i},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[t]){var c=e[t][i];try{c[0].apply(n,s)}catch(h){as.console&&zr.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function sg(n){if(!(this instanceof sg))return new sg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function oI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function wd(n,e,t,s,a){if(!(this instanceof wd))return new wd(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,oI.call(this,s,a)}function _h(n,e,t,s,a){if(!(this instanceof _h))return new _h(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,oI.call(this,s,a)}function Rn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],c=[],h=1,u=16,f="S",A=null;Fr(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,i=n.compress||n.compressPdf||i,(A=n.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(i===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=DC;var B="1.3",S=g.__private__.getPdfVersion=function(){return B};g.__private__.setPdfVersion=function(P){B=P};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return T};var E=g.__private__.getPageFormat=function(P){return T[P]};a=a||"a4";var _="compat",F="advanced",Q=_;function M(){this.saveGraphicsState(),fe(new ln(Gt,0,0,-Gt,0,qi()*Gt).toString()+" cm"),this.setFontSize(this.getFontSize()/Gt),f="n",Q=F}function k(){this.restoreGraphicsState(),f="S",Q=_}var R=g.__private__.combineFontStyleAndFontWeight=function(P,ie){if(P=="bold"&&ie=="normal"||P=="bold"&&ie==400||P=="normal"&&ie=="italic"||P=="bold"&&ie=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ie&&(P=ie==400||ie==="normal"?P==="italic"?"italic":"normal":ie!=700&&ie!=="bold"||P!=="normal"?(ie==700?"bold":ie)+""+P:"bold"),P};g.advancedAPI=function(P){var ie=Q===_;return ie&&M.call(this),typeof P!="function"||(P(this),ie&&k.call(this)),this},g.compatAPI=function(P){var ie=Q===F;return ie&&k.call(this),typeof P!="function"||(P(this),ie&&M.call(this)),this},g.isAdvancedAPI=function(){return Q===F};var D,O=function(P){if(Q!==F)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=g.roundToPrecision=g.__private__.roundToPrecision=function(P,ie){var Ee=e||ie;if(isNaN(P)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(Ee).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof u=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return $(P,u)}:u==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return $(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return $(P,16)};var L=g.f2=g.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return $(P,2)},H=g.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return $(P,3)},z=g.scale=g.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return Q===_?P*Gt:Q===F?P:void 0},re=function(P){return z((function(ie){return Q===_?qi()-ie:Q===F?ie:void 0})(P))};g.__private__.setPrecision=g.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var pe,ae="00000000000000000000000000000000",ne=g.__private__.getFileId=function(){return ae},Z=g.__private__.setFileId=function(P){return ae=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(Qn=new Qf(A.userPermissions,A.userPassword,A.ownerPassword,ae)),ae};g.setFileId=function(P){return Z(P),this},g.getFileId=function(){return ne()};var ue=g.__private__.convertDateToPDFDate=function(P){var ie=P.getTimezoneOffset(),Ee=ie<0?"+":"-",_e=Math.floor(Math.abs(ie/60)),Me=Math.abs(ie%60),ft=[Ee,le(_e),"'",le(Me),"'"].join("");return["D:",P.getFullYear(),le(P.getMonth()+1),le(P.getDate()),le(P.getHours()),le(P.getMinutes()),le(P.getSeconds()),ft].join("")},je=g.__private__.convertPDFDateToDate=function(P){var ie=parseInt(P.substr(2,4),10),Ee=parseInt(P.substr(6,2),10)-1,_e=parseInt(P.substr(8,2),10),Me=parseInt(P.substr(10,2),10),ft=parseInt(P.substr(12,2),10),jt=parseInt(P.substr(14,2),10);return new Date(ie,Ee,_e,Me,ft,jt,0)},se=g.__private__.setCreationDate=function(P){var ie;if(P===void 0&&(P=new Date),P instanceof Date)ie=ue(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ie=P}return pe=ie},G=g.__private__.getCreationDate=function(P){var ie=pe;return P==="jsDate"&&(ie=je(pe)),ie};g.setCreationDate=function(P){return se(P),this},g.getCreationDate=function(P){return G(P)};var te,le=g.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},he=g.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ce=0,xe=[],Ne=[],Te=0,Fe=[],tt=[],$e=!1,it=Ne;g.__private__.setCustomOutputDestination=function(P){$e=!0,it=P};var Ve=function(P){$e||(it=P)};g.__private__.resetCustomOutputDestination=function(){$e=!1,it=Ne};var fe=g.__private__.out=function(P){return P=P.toString(),Te+=P.length+1,it.push(P),it},ut=g.__private__.write=function(P){return fe(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Lt=g.__private__.getArrayBuffer=function(P){for(var ie=P.length,Ee=new ArrayBuffer(ie),_e=new Uint8Array(Ee);ie--;)_e[ie]=P.charCodeAt(ie);return Ee},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ge};var Je=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(P){return Je=Q===F?P/Gt:P,this};var Qt,Ut=g.__private__.getFontSize=g.getFontSize=function(){return Q===_?Je:Je*Gt},Yt=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(P){return Yt=P,this},g.__private__.getR2L=g.getR2L=function(){return Yt};var zt,Jt=g.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Qt=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Qt=P}else Qt=parseInt(P,10)};g.__private__.getZoomMode=function(){return Qt};var yn,tn=g.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');zt=P};g.__private__.getPageMode=function(){return zt};var Dn=g.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');yn=P};g.__private__.getLayoutMode=function(){return yn},g.__private__.setDisplayMode=g.setDisplayMode=function(P,ie,Ee){return Jt(P),Dn(ie),tn(Ee),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(P){if(Object.keys(xt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[P]},g.__private__.getDocumentProperties=function(){return xt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(P){for(var ie in xt)xt.hasOwnProperty(ie)&&P[ie]&&(xt[ie]=P[ie]);return this},g.__private__.setDocumentProperty=function(P,ie){if(Object.keys(xt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[P]=ie};var Et,Gt,kt,Pn,ke,gt={},He={},at=[],ht={},Rt={},Bt={},Ht={},xn=null,Ct=0,dt=[],Dt=new DC(g),Xt=n.hotfixes||[],rn={},cs={},Bs=[],ln=function P(ie,Ee,_e,Me,ft,jt){if(!(this instanceof P))return new P(ie,Ee,_e,Me,ft,jt);isNaN(ie)&&(ie=1),isNaN(Ee)&&(Ee=0),isNaN(_e)&&(_e=0),isNaN(Me)&&(Me=1),isNaN(ft)&&(ft=0),isNaN(jt)&&(jt=0),this._matrix=[ie,Ee,_e,Me,ft,jt]};Object.defineProperty(ln.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(ln.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(ln.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(ln.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(ln.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(ln.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(ln.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(ln.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(ln.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(ln.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(ln.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(ln.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(ln.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ln.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ln.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ln.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ln.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(P)},ln.prototype.multiply=function(P){var ie=P.sx*this.sx+P.shy*this.shx,Ee=P.sx*this.shy+P.shy*this.sy,_e=P.shx*this.sx+P.sy*this.shx,Me=P.shx*this.shy+P.sy*this.sy,ft=P.tx*this.sx+P.ty*this.shx+this.tx,jt=P.tx*this.shy+P.ty*this.sy+this.ty;return new ln(ie,Ee,_e,Me,ft,jt)},ln.prototype.decompose=function(){var P=this.sx,ie=this.shy,Ee=this.shx,_e=this.sy,Me=this.tx,ft=this.ty,jt=Math.sqrt(P*P+ie*ie),un=(P/=jt)*Ee+(ie/=jt)*_e;Ee-=P*un,_e-=ie*un;var bn=Math.sqrt(Ee*Ee+_e*_e);return un/=bn,P*(_e/=bn)<ie*(Ee/=bn)&&(P=-P,ie=-ie,un=-un,jt=-jt),{scale:new ln(jt,0,0,bn,0,0),translate:new ln(1,0,0,1,Me,ft),rotate:new ln(P,ie,-ie,P,0,0),skew:new ln(1,0,un,1,0,0)}},ln.prototype.toString=function(P){return this.join(" ")},ln.prototype.inversed=function(){var P=this.sx,ie=this.shy,Ee=this.shx,_e=this.sy,Me=this.tx,ft=this.ty,jt=1/(P*_e-ie*Ee),un=_e*jt,bn=-ie*jt,Mn=-Ee*jt,In=P*jt;return new ln(un,bn,Mn,In,-un*Me-Mn*ft,-bn*Me-In*ft)},ln.prototype.applyToPoint=function(P){var ie=P.x*this.sx+P.y*this.shx+this.tx,Ee=P.x*this.shy+P.y*this.sy+this.ty;return new Da(ie,Ee)},ln.prototype.applyToRectangle=function(P){var ie=this.applyToPoint(P),Ee=this.applyToPoint(new Da(P.x+P.w,P.y+P.h));return new dr(ie.x,ie.y,Ee.x-ie.x,Ee.y-ie.y)},ln.prototype.clone=function(){var P=this.sx,ie=this.shy,Ee=this.shx,_e=this.sy,Me=this.tx,ft=this.ty;return new ln(P,ie,Ee,_e,Me,ft)},g.Matrix=ln;var si=g.matrixMult=function(P,ie){return ie.multiply(P)},Fa=new ln(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Fa;var ua=function(P,ie){if(!Rt[P]){var Ee=(ie instanceof wd?"Sh":"P")+(Object.keys(ht).length+1).toString(10);ie.id=Ee,Rt[P]=Ee,ht[Ee]=ie,Dt.publish("addPattern",ie)}};g.ShadingPattern=wd,g.TilingPattern=_h,g.addShadingPattern=function(P,ie){return O("addShadingPattern()"),ua(P,ie),this},g.beginTilingPattern=function(P){O("beginTilingPattern()"),za(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},g.endTilingPattern=function(P,ie){O("endTilingPattern()"),ie.stream=tt[te].join(`
`),ua(P,ie),Dt.publish("endTilingPattern",ie),Bs.pop().restore()};var $r,an=g.__private__.newObject=function(){var P=Re();return _t(P,!0),P},Re=g.__private__.newObjectDeferred=function(){return ce++,xe[ce]=function(){return Te},ce},_t=function(P,ie){return ie=typeof ie=="boolean"&&ie,xe[P]=Te,ie&&fe(P+" 0 obj"),P},Pt=g.__private__.newAdditionalObject=function(){var P={objId:Re(),content:""};return Fe.push(P),P},Nt=Re(),Vt=Re(),Tt=g.__private__.decodeColorString=function(P){var ie=P.split(" ");if(ie.length!==2||ie[1]!=="g"&&ie[1]!=="G")ie.length!==5||ie[4]!=="k"&&ie[4]!=="K"||(ie=[(1-ie[0])*(1-ie[3]),(1-ie[1])*(1-ie[3]),(1-ie[2])*(1-ie[3]),"r"]);else{var Ee=parseFloat(ie[0]);ie=[Ee,Ee,Ee,"r"]}for(var _e="#",Me=0;Me<3;Me++)_e+=("0"+Math.floor(255*parseFloat(ie[Me])).toString(16)).slice(-2);return _e},gn=g.__private__.encodeColorString=function(P){var ie;typeof P=="string"&&(P={ch1:P});var Ee=P.ch1,_e=P.ch2,Me=P.ch3,ft=P.ch4,jt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var un=new aI(Ee);if(un.ok)Ee=un.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var bn=parseInt(Ee.substr(1),16);Ee=bn>>16&255,_e=bn>>8&255,Me=255&bn}if(_e===void 0||ft===void 0&&Ee===_e&&_e===Me)ie=typeof Ee=="string"?Ee+" "+jt[0]:P.precision===2?L(Ee/255)+" "+jt[0]:H(Ee/255)+" "+jt[0];else if(ft===void 0||Fr(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",jt[1]].join(" ");ie=typeof Ee=="string"?[Ee,_e,Me,jt[1]].join(" "):P.precision===2?[L(Ee/255),L(_e/255),L(Me/255),jt[1]].join(" "):[H(Ee/255),H(_e/255),H(Me/255),jt[1]].join(" ")}else ie=typeof Ee=="string"?[Ee,_e,Me,ft,jt[2]].join(" "):P.precision===2?[L(Ee),L(_e),L(Me),L(ft),jt[2]].join(" "):[H(Ee),H(_e),H(Me),H(ft),jt[2]].join(" ");return ie},En=g.__private__.getFilters=function(){return c},Ln=g.__private__.putStream=function(P){var ie=(P=P||{}).data||"",Ee=P.filters||En(),_e=P.alreadyAppliedFilters||[],Me=P.addLength1||!1,ft=ie.length,jt=P.objectId,un=function(W){return W};if(A!==null&&jt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(un=Qn.encryptor(jt,0));var bn={};Ee===!0&&(Ee=["FlateEncode"]);var Mn=P.additionalKeyValues||[],In=(bn=Rn.API.processDataByFilters!==void 0?Rn.API.processDataByFilters(ie,Ee):{data:ie,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(bn.data.length!==0&&(Mn.push({key:"Length",value:bn.data.length}),Me===!0&&Mn.push({key:"Length1",value:ft})),In.length!=0)if(In.split("/").length-1==1)Mn.push({key:"Filter",value:In});else{Mn.push({key:"Filter",value:"["+In+"]"});for(var xs=0;xs<Mn.length;xs+=1)if(Mn[xs].key==="DecodeParms"){for(var yr=[],or=0;or<bn.reverseChain.split("/").length-1;or+=1)yr.push("null");yr.push(Mn[xs].value),Mn[xs].value="["+yr.join(" ")+"]"}}fe("<<");for(var b=0;b<Mn.length;b++)fe("/"+Mn[b].key+" "+Mn[b].value);fe(">>"),bn.data.length!==0&&(fe("stream"),fe(un(bn.data)),fe("endstream"))},ur=g.__private__.putPage=function(P){var ie=P.number,Ee=P.data,_e=P.objId,Me=P.contentsObjId;_t(_e,!0),fe("<</Type /Page"),fe("/Parent "+P.rootDictionaryObjId+" 0 R"),fe("/Resources "+P.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(D(P.mediaBox.bottomLeftX))+" "+parseFloat(D(P.mediaBox.bottomLeftY))+" "+D(P.mediaBox.topRightX)+" "+D(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&fe("/CropBox ["+D(P.cropBox.bottomLeftX)+" "+D(P.cropBox.bottomLeftY)+" "+D(P.cropBox.topRightX)+" "+D(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&fe("/BleedBox ["+D(P.bleedBox.bottomLeftX)+" "+D(P.bleedBox.bottomLeftY)+" "+D(P.bleedBox.topRightX)+" "+D(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&fe("/TrimBox ["+D(P.trimBox.bottomLeftX)+" "+D(P.trimBox.bottomLeftY)+" "+D(P.trimBox.topRightX)+" "+D(P.trimBox.topRightY)+"]"),P.artBox!==null&&fe("/ArtBox ["+D(P.artBox.bottomLeftX)+" "+D(P.artBox.bottomLeftY)+" "+D(P.artBox.topRightX)+" "+D(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&fe("/UserUnit "+P.userUnit),Dt.publish("putPage",{objId:_e,pageContext:dt[ie],pageNumber:ie,page:Ee}),fe("/Contents "+Me+" 0 R"),fe(">>"),fe("endobj");var ft=Ee.join(`
`);return Q===F&&(ft+=`
Q`),_t(Me,!0),Ln({data:ft,filters:En(),objectId:Me}),fe("endobj"),_e},Hn=g.__private__.putPages=function(){var P,ie,Ee=[];for(P=1;P<=Ct;P++)dt[P].objId=Re(),dt[P].contentsObjId=Re();for(P=1;P<=Ct;P++)Ee.push(ur({number:P,data:tt[P],objId:dt[P].objId,contentsObjId:dt[P].contentsObjId,mediaBox:dt[P].mediaBox,cropBox:dt[P].cropBox,bleedBox:dt[P].bleedBox,trimBox:dt[P].trimBox,artBox:dt[P].artBox,userUnit:dt[P].userUnit,rootDictionaryObjId:Nt,resourceDictionaryObjId:Vt}));_t(Nt,!0),fe("<</Type /Pages");var _e="/Kids [";for(ie=0;ie<Ct;ie++)_e+=Ee[ie]+" 0 R ";fe(_e+"]"),fe("/Count "+Ct),fe(">>"),fe("endobj"),Dt.publish("postPutPages")},Tn=function(P){Dt.publish("putFont",{font:P,out:fe,newObject:an,putStream:Ln}),P.isAlreadyPutted!==!0&&(P.objectNumber=an(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Of(P.postScriptName)),fe("/Subtype /Type1"),typeof P.encoding=="string"&&fe("/Encoding /"+P.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Us=function(P){P.objectNumber=an();var ie=[];ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Form"}),ie.push({key:"BBox",value:"["+[D(P.x),D(P.y),D(P.x+P.width),D(P.y+P.height)].join(" ")+"]"}),ie.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var Ee=P.pages[1].join(`
`);Ln({data:Ee,additionalKeyValues:ie,objectId:P.objectNumber}),fe("endobj")},Es=function(P,ie){ie||(ie=21);var Ee=an(),_e=(function(jt,un){var bn,Mn=[],In=1/(un-1);for(bn=0;bn<1;bn+=In)Mn.push(bn);if(Mn.push(1),jt[0].offset!=0){var xs={offset:0,color:jt[0].color};jt.unshift(xs)}if(jt[jt.length-1].offset!=1){var yr={offset:1,color:jt[jt.length-1].color};jt.push(yr)}for(var or="",b=0,W=0;W<Mn.length;W++){for(bn=Mn[W];bn>jt[b+1].offset;)b++;var q=jt[b].offset,ye=(bn-q)/(jt[b+1].offset-q),ze=jt[b].color,et=jt[b+1].color;or+=he(Math.round((1-ye)*ze[0]+ye*et[0]).toString(16))+he(Math.round((1-ye)*ze[1]+ye*et[1]).toString(16))+he(Math.round((1-ye)*ze[2]+ye*et[2]).toString(16))}return or.trim()})(P.colors,ie),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+ie+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ln({data:_e,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),fe("endobj"),P.objectNumber=an(),fe("<< /ShadingType "+P.type),fe("/ColorSpace /DeviceRGB");var ft="/Coords ["+D(parseFloat(P.coords[0]))+" "+D(parseFloat(P.coords[1]))+" ";P.type===2?ft+=D(parseFloat(P.coords[2]))+" "+D(parseFloat(P.coords[3])):ft+=D(parseFloat(P.coords[2]))+" "+D(parseFloat(P.coords[3]))+" "+D(parseFloat(P.coords[4]))+" "+D(parseFloat(P.coords[5])),fe(ft+="]"),P.matrix&&fe("/Matrix ["+P.matrix.toString()+"]"),fe("/Function "+Ee+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},ir=function(P,ie){var Ee=Re(),_e=an();ie.push({resourcesOid:Ee,objectOid:_e}),P.objectNumber=_e;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+P.boundingBox.map(D).join(" ")+"]"}),Me.push({key:"XStep",value:D(P.xStep)}),Me.push({key:"YStep",value:D(P.yStep)}),Me.push({key:"Resources",value:Ee+" 0 R"}),P.matrix&&Me.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Ln({data:P.stream,additionalKeyValues:Me,objectId:P.objectNumber}),fe("endobj")},tr=function(P){for(var ie in P.objectNumber=an(),fe("<<"),P)switch(ie){case"opacity":fe("/ca "+L(P[ie]));break;case"stroke-opacity":fe("/CA "+L(P[ie]))}fe(">>"),fe("endobj")},Xs=function(P){_t(P.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ie in fe("/Font <<"),gt)gt.hasOwnProperty(ie)&&(m===!1||m===!0&&v.hasOwnProperty(ie))&&fe("/"+ie+" "+gt[ie].objectNumber+" 0 R");fe(">>")})(),(function(){if(Object.keys(ht).length>0){for(var ie in fe("/Shading <<"),ht)ht.hasOwnProperty(ie)&&ht[ie]instanceof wd&&ht[ie].objectNumber>=0&&fe("/"+ie+" "+ht[ie].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),fe(">>")}})(),(function(ie){if(Object.keys(ht).length>0){for(var Ee in fe("/Pattern <<"),ht)ht.hasOwnProperty(Ee)&&ht[Ee]instanceof g.TilingPattern&&ht[Ee].objectNumber>=0&&ht[Ee].objectNumber<ie&&fe("/"+Ee+" "+ht[Ee].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),fe(">>")}})(P.objectOid),(function(){if(Object.keys(Bt).length>0){var ie;for(ie in fe("/ExtGState <<"),Bt)Bt.hasOwnProperty(ie)&&Bt[ie].objectNumber>=0&&fe("/"+ie+" "+Bt[ie].objectNumber+" 0 R");Dt.publish("putGStateDict"),fe(">>")}})(),(function(){for(var ie in fe("/XObject <<"),rn)rn.hasOwnProperty(ie)&&rn[ie].objectNumber>=0&&fe("/"+ie+" "+rn[ie].objectNumber+" 0 R");Dt.publish("putXobjectDict"),fe(">>")})(),fe(">>"),fe("endobj")},zs=function(P){He[P.fontName]=He[P.fontName]||{},He[P.fontName][P.fontStyle]=P.id},Ka=function(P,ie,Ee,_e,Me){var ft={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:P,fontName:ie,fontStyle:Ee,encoding:_e,isStandardFont:Me||!1,metadata:{}};return Dt.publish("addFont",{font:ft,instance:this}),gt[ft.id]=ft,zs(ft),ft.id},Wr=g.__private__.pdfEscape=g.pdfEscape=function(P,ie){return(function(Ee,_e){var Me,ft,jt,un,bn,Mn,In,xs,yr;if(jt=(_e=_e||{}).sourceEncoding||"Unicode",bn=_e.outputEncoding,(_e.autoencode||bn)&&gt[Et].metadata&&gt[Et].metadata[jt]&&gt[Et].metadata[jt].encoding&&(un=gt[Et].metadata[jt].encoding,!bn&&gt[Et].encoding&&(bn=gt[Et].encoding),!bn&&un.codePages&&(bn=un.codePages[0]),typeof bn=="string"&&(bn=un[bn]),bn)){for(In=!1,Mn=[],Me=0,ft=Ee.length;Me<ft;Me++)(xs=bn[Ee.charCodeAt(Me)])?Mn.push(String.fromCharCode(xs)):Mn.push(Ee[Me]),Mn[Me].charCodeAt(0)>>8&&(In=!0);Ee=Mn.join("")}for(Me=Ee.length;In===void 0&&Me!==0;)Ee.charCodeAt(Me-1)>>8&&(In=!0),Me--;if(!In)return Ee;for(Mn=_e.noBOM?[]:[254,255],Me=0,ft=Ee.length;Me<ft;Me++){if((yr=(xs=Ee.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mn.push(yr),Mn.push(xs-(yr<<8))}return String.fromCharCode.apply(void 0,Mn)})(P,ie).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},da=g.__private__.beginPage=function(P){tt[++Ct]=[],dt[Ct]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ll(Ct),Ve(tt[te])},ri=function(P,ie){var Ee,_e,Me;switch(t=ie||t,typeof P=="string"&&(Ee=E(P.toLowerCase()),Array.isArray(Ee)&&(_e=Ee[0],Me=Ee[1])),Array.isArray(P)&&(_e=P[0]*Gt,Me=P[1]*Gt),isNaN(_e)&&(_e=a[0],Me=a[1]),(_e>14400||Me>14400)&&(zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Me=Math.min(14400,Me)),a=[_e,Me],t.substr(0,1)){case"l":Me>_e&&(a=[Me,_e]);break;case"p":_e>Me&&(a=[Me,_e])}da(a),On(ai),fe(ii),oi!==0&&fe(oi+" J"),Xr!==0&&fe(Xr+" j"),Dt.publish("addPage",{pageNumber:Ct})},wi=function(P){P>0&&P<=Ct&&(tt.splice(P,1),dt.splice(P,1),Ct--,te>Ct&&(te=Ct),this.setPage(te))},ll=function(P){P>0&&P<=Ct&&(te=P)},$o=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return tt.length-1},mo=function(P,ie,Ee){var _e,Me=void 0;return Ee=Ee||{},P=P!==void 0?P:gt[Et].fontName,ie=ie!==void 0?ie:gt[Et].fontStyle,_e=P.toLowerCase(),He[_e]!==void 0&&He[_e][ie]!==void 0?Me=He[_e][ie]:He[P]!==void 0&&He[P][ie]!==void 0?Me=He[P][ie]:Ee.disableWarning===!1&&zr.warn("Unable to look up font label for font '"+P+"', '"+ie+"'. Refer to getFontList() for available fonts."),Me||Ee.noFallback||(Me=He.times[ie])==null&&(Me=He.times.normal),Me},Br=g.__private__.putInfo=function(){var P=an(),ie=function(_e){return _e};for(var Ee in A!==null&&(ie=Qn.encryptor(P,0)),fe("<<"),fe("/Producer ("+Wr(ie("jsPDF "+Rn.version))+")"),xt)xt.hasOwnProperty(Ee)&&xt[Ee]&&fe("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Wr(ie(xt[Ee]))+")");fe("/CreationDate ("+Wr(ie(pe))+")"),fe(">>"),fe("endobj")},na=g.__private__.putCatalog=function(P){var ie=(P=P||{}).rootDictionaryObjId||Nt;switch(an(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+ie+" 0 R"),Qt||(Qt="fullwidth"),Qt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+Qt;Ee.substr(Ee.length-1)==="%"&&(Qt=parseInt(Qt)/100),typeof Qt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+L(Qt)+"]")}switch(yn||(yn="continuous"),yn){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}zt&&fe("/PageMode /"+zt),Dt.publish("putCatalog"),fe(">>"),fe("endobj")},vr=g.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ce+1)),fe("/Root "+ce+" 0 R"),fe("/Info "+(ce-1)+" 0 R"),A!==null&&fe("/Encrypt "+Qn.oid+" 0 R"),fe("/ID [ <"+ae+"> <"+ae+"> ]"),fe(">>")},os=g.__private__.putHeader=function(){fe("%PDF-"+B),fe("%")},Ua=g.__private__.putXRef=function(){var P="0000000000";fe("xref"),fe("0 "+(ce+1)),fe("0000000000 65535 f ");for(var ie=1;ie<=ce;ie++)typeof xe[ie]=="function"?fe((P+xe[ie]()).slice(-10)+" 00000 n "):xe[ie]!==void 0?fe((P+xe[ie]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Cn=g.__private__.buildDocument=function(){var P;ce=0,Te=0,Ne=[],xe=[],Fe=[],Nt=Re(),Vt=Re(),Ve(Ne),Dt.publish("buildDocument"),os(),Hn(),(function(){Dt.publish("putAdditionalObjects");for(var Ee=0;Ee<Fe.length;Ee++){var _e=Fe[Ee];_t(_e.objId,!0),fe(_e.content),fe("endobj")}Dt.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var Ee in gt)gt.hasOwnProperty(Ee)&&(m===!1||m===!0&&v.hasOwnProperty(Ee))&&Tn(gt[Ee])})(),(function(){var Ee;for(Ee in Bt)Bt.hasOwnProperty(Ee)&&tr(Bt[Ee])})(),(function(){for(var Ee in rn)rn.hasOwnProperty(Ee)&&Us(rn[Ee])})(),(function(Ee){var _e;for(_e in ht)ht.hasOwnProperty(_e)&&(ht[_e]instanceof wd?Es(ht[_e]):ht[_e]instanceof _h&&ir(ht[_e],Ee))})(P),Dt.publish("putResources"),P.forEach(Xs),Xs({resourcesOid:Vt,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources"),A!==null&&(Qn.oid=an(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Qn.v),fe("/R "+Qn.r),fe("/U <"+Qn.toHexString(Qn.U)+">"),fe("/O <"+Qn.toHexString(Qn.O)+">"),fe("/P "+Qn.P),fe(">>"),fe("endobj")),Br(),na();var ie=Te;return Ua(),vr(),fe("startxref"),fe(""+ie),fe("%%EOF"),Ve(tt[te]),Ne.join(`
`)},hn=g.__private__.getBlob=function(P){return new Blob([Lt(P)],{type:"application/pdf"})},Ss=g.output=g.__private__.output=($r=function(P,ie){switch(typeof(ie=ie||{})=="string"?ie={filename:ie}:ie.filename=ie.filename||"generated.pdf",P){case void 0:return Cn();case"save":g.save(ie.filename);break;case"arraybuffer":return Lt(Cn());case"blob":return hn(Cn());case"bloburi":case"bloburl":if(as.URL!==void 0&&typeof as.URL.createObjectURL=="function")return as.URL&&as.URL.createObjectURL(hn(Cn()))||void 0;zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",_e=Cn();try{Ee=FC(_e)}catch{Ee=FC(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+ie.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(as)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ie.pdfObjectUrl&&(Me=ie.pdfObjectUrl,ft="");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ie)+");<\/script></body></html>",un=as.open();return un!==null&&un.document.write(jt),un}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(as)==="[object Window]"){var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ie.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ie.filename+'" width="500px" height="400px" /></body></html>',Mn=as.open();if(Mn!==null){Mn.document.write(bn);var In=this;Mn.document.documentElement.querySelector("#pdfViewer").onload=function(){Mn.document.title=ie.filename,Mn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(In.output("bloburl"))}}return Mn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(as)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ie)+'"></iframe></body></html>',yr=as.open();if(yr!==null&&(yr.document.write(xs),yr.document.title=ie.filename),yr||typeof safari>"u")return yr;break;case"datauri":case"dataurl":return as.document.location.href=this.output("datauristring",ie);default:return null}},$r.foo=function(){try{return $r.apply(this,arguments)}catch(Ee){var P=Ee.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var ie="Error in function "+P.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!as.console)throw new Error(ie);as.console.error(ie,Ee),as.alert&&alert(ie)}},$r.foo.bar=$r,$r.foo),Fn=function(P){return Array.isArray(Xt)===!0&&Xt.indexOf(P)>-1};switch(s){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=Fn("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Gt=s}var Qn=null;se(),Z();var Kt=g.__private__.getPageInfo=g.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[P].objId,pageNumber:P,pageContext:dt[P]}},Js=g.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ie in dt)if(dt[ie].objId===P)break;return Kt(ie)},Bi=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:dt[te].objId,pageNumber:te,pageContext:dt[te]}};g.addPage=function(){return ri.apply(this,arguments),this},g.setPage=function(){return ll.apply(this,arguments),Ve.call(this,tt[te]),this},g.insertPage=function(P){return this.addPage(),this.movePage(te,P),this},g.movePage=function(P,ie){var Ee,_e;if(P>ie){Ee=tt[P],_e=dt[P];for(var Me=P;Me>ie;Me--)tt[Me]=tt[Me-1],dt[Me]=dt[Me-1];tt[ie]=Ee,dt[ie]=_e,this.setPage(ie)}else if(P<ie){Ee=tt[P],_e=dt[P];for(var ft=P;ft<ie;ft++)tt[ft]=tt[ft+1],dt[ft]=dt[ft+1];tt[ie]=Ee,dt[ie]=_e,this.setPage(ie)}return this},g.deletePage=function(){return wi.apply(this,arguments),this},g.__private__.text=g.text=function(P,ie,Ee,_e,Me){var ft,jt,un,bn,Mn,In,xs,yr,or,b=(_e=_e||{}).scope||this;if(typeof P=="number"&&typeof ie=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var W=Ee;Ee=ie,ie=P,P=W}if(arguments[3]instanceof ln==0?(un=arguments[4],bn=arguments[5],Fr(xs=arguments[3])==="object"&&xs!==null||(typeof un=="string"&&(bn=un,un=null),typeof xs=="string"&&(bn=xs,xs=null),typeof xs=="number"&&(un=xs,xs=null),_e={flags:xs,angle:un,align:bn})):(O("The transform parameter of text() with a Matrix value"),or=Me),isNaN(ie)||isNaN(Ee)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return b;var q,ye="",ze=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:Xo,et=b.internal.scaleFactor;function Ot(Ms){return Ms=Ms.split("	").join(Array(_e.TabLen||9).join(" ")),Wr(Ms,xs)}function Jn(Ms){for(var Rs,br=Ms.concat(),Ws=[],nl=br.length;nl--;)typeof(Rs=br.shift())=="string"?Ws.push(Rs):Array.isArray(Ms)&&(Rs.length===1||Rs[1]===void 0&&Rs[2]===void 0)?Ws.push(Rs[0]):Ws.push([Rs[0],Rs[1],Rs[2]]);return Ws}function xr(Ms,Rs){var br;if(typeof Ms=="string")br=Rs(Ms)[0];else if(Array.isArray(Ms)){for(var Ws,nl,sl=Ms.concat(),QA=[],oA=sl.length;oA--;)typeof(Ws=sl.shift())=="string"?QA.push(Rs(Ws)[0]):Array.isArray(Ws)&&typeof Ws[0]=="string"&&(nl=Rs(Ws[0],Ws[1],Ws[2]),QA.push([nl[0],nl[1],nl[2]]));br=QA}return br}var us=!1,$s=!0;if(typeof P=="string")us=!0;else if(Array.isArray(P)){var Ea=P.concat();jt=[];for(var sa,Os=Ea.length;Os--;)(typeof(sa=Ea.shift())!="string"||Array.isArray(sa)&&typeof sa[0]!="string")&&($s=!1);us=$s}if(us===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var ns=Je/b.internal.scaleFactor,Zi=ns*(ze-1);switch(_e.baseline){case"bottom":Ee-=Zi;break;case"top":Ee+=ns-Zi;break;case"hanging":Ee+=ns-2*Zi;break;case"middle":Ee+=ns/2-Zi}if((In=_e.maxWidth||0)>0&&(typeof P=="string"?P=b.splitTextToSize(P,In):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Ms,Rs){return Ms.concat(b.splitTextToSize(Rs,In))},[]))),ft={text:P,x:ie,y:Ee,options:_e,mutex:{pdfEscape:Wr,activeFontKey:Et,fonts:gt,activeFontSize:Je}},Dt.publish("preProcessText",ft),P=ft.text,un=(_e=ft.options).angle,or instanceof ln==0&&un&&typeof un=="number"){un*=Math.PI/180,_e.rotationDirection===0&&(un=-un),Q===F&&(un=-un);var xo=Math.cos(un),Jo=Math.sin(un);or=new ln(xo,Jo,-Jo,xo,0,0)}else un&&un instanceof ln&&(or=un);Q!==F||or||(or=Fa),(Mn=_e.charSpace||ji)!==void 0&&(ye+=D(z(Mn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yr=_e.horizontalScale)!==void 0&&(ye+=D(100*yr)+` Tz
`),_e.lang;var fa=-1,Qa=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,lc=b.internal.getCurrentPageInfo().pageContext;switch(Qa){case 0:case!1:case"fill":fa=0;break;case 1:case!0:case"stroke":fa=1;break;case 2:case"fillThenStroke":fa=2;break;case 3:case"invisible":fa=3;break;case 4:case"fillAndAddForClipping":fa=4;break;case 5:case"strokeAndAddPathForClipping":fa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fa=6;break;case 7:case"addToPathForClipping":fa=7}var bo=lc.usedRenderingMode!==void 0?lc.usedRenderingMode:-1;fa!==-1?ye+=fa+` Tr
`:bo!==-1&&(ye+=`0 Tr
`),fa!==-1&&(lc.usedRenderingMode=fa),bn=_e.align||"left";var Ps,wo=Je*ze,jr=b.internal.pageSize.getWidth(),UA=gt[Et];Mn=_e.charSpace||ji,In=_e.maxWidth||0,xs=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var Oa=[],Bo=function(Ms){return b.getStringUnitWidth(Ms,{font:UA,charSpace:Mn,fontSize:Je,doKerning:!1})*Je/et};if(Object.prototype.toString.call(P)==="[object Array]"){var ps;jt=Jn(P),bn!=="left"&&(Ps=jt.map(Bo));var li,qo=0;if(bn==="right"){ie-=Ps[0],P=[],Os=jt.length;for(var Zo=0;Zo<Os;Zo++)Zo===0?(li=Ca(ie),ps=ha(Ee)):(li=z(qo-Ps[Zo]),ps=-wo),P.push([jt[Zo],li,ps]),qo=Ps[Zo]}else if(bn==="center"){ie-=Ps[0]/2,P=[],Os=jt.length;for(var dl=0;dl<Os;dl++)dl===0?(li=Ca(ie),ps=ha(Ee)):(li=z((qo-Ps[dl])/2),ps=-wo),P.push([jt[dl],li,ps]),qo=Ps[dl]}else if(bn==="left"){P=[],Os=jt.length;for(var Ll=0;Ll<Os;Ll++)P.push(jt[Ll])}else if(bn==="justify"&&UA.encoding==="Identity-H"){P=[],Os=jt.length,In=In!==0?In:jr;for(var RA=0,Jr=0;Jr<Os;Jr++)if(ps=Jr===0?ha(Ee):-wo,li=Jr===0?Ca(ie):RA,Jr<Os-1){var Si=z((In-Ps[Jr])/(jt[Jr].split(" ").length-1)),Ga=jt[Jr].split(" ");P.push([Ga[0]+" ",li,ps]),RA=0;for(var $a=1;$a<Ga.length;$a++){var Ns=(Bo(Ga[$a-1]+" "+Ga[$a])-Bo(Ga[$a]))*et+Si;$a==Ga.length-1?P.push([Ga[$a],Ns,0]):P.push([Ga[$a]+" ",Ns,0]),RA-=Ns}}else P.push([jt[Jr],li,ps]);P.push(["",RA,0])}else{if(bn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Os=jt.length,In=In!==0?In:jr,Jr=0;Jr<Os;Jr++){ps=Jr===0?ha(Ee):-wo,li=Jr===0?Ca(ie):0;var Ai=jt[Jr].split(" ").length-1,DA=Ai>0?(In-Ps[Jr])/Ai:0;Jr<Os-1?Oa.push(D(z(DA))):Oa.push(0),P.push([jt[Jr],li,ps])}}}(typeof _e.R2L=="boolean"?_e.R2L:Yt)===!0&&(P=xr(P,function(Ms,Rs,br){return[Ms.split("").reverse().join(""),Rs,br]})),ft={text:P,x:ie,y:Ee,options:_e,mutex:{pdfEscape:Wr,activeFontKey:Et,fonts:gt,activeFontSize:Je}},Dt.publish("postProcessText",ft),P=ft.text,q=ft.mutex.isHex||!1;var LA=gt[Et].encoding;LA!=="WinAnsiEncoding"&&LA!=="StandardEncoding"||(P=xr(P,function(Ms,Rs,br){return[Ot(Ms),Rs,br]})),jt=Jn(P),P=[];for(var el,hl,fl,tl=Array.isArray(jt[0])?1:0,ra="",Ql=function(Ms,Rs,br){var Ws="";return br instanceof ln?(br=typeof _e.angle=="number"?si(br,new ln(1,0,0,1,Ms,Rs)):si(new ln(1,0,0,1,Ms,Rs),br),Q===F&&(br=si(new ln(1,0,0,-1,0,0),br)),Ws=br.join(" ")+` Tm
`):Ws=D(Ms)+" "+D(Rs)+` Td
`,Ws},ci=0;ci<jt.length;ci++){switch(ra="",tl){case 1:fl=(q?"<":"(")+jt[ci][0]+(q?">":")"),el=parseFloat(jt[ci][1]),hl=parseFloat(jt[ci][2]);break;case 0:fl=(q?"<":"(")+jt[ci]+(q?">":")"),el=Ca(ie),hl=ha(Ee)}Oa!==void 0&&Oa[ci]!==void 0&&(ra=Oa[ci]+` Tw
`),ci===0?P.push(ra+Ql(el,hl,or)+fl):tl===0?P.push(ra+fl):tl===1&&P.push(ra+Ql(el,hl,or)+fl)}P=tl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Ni=`BT
/`;return Ni+=Et+" "+Je+` Tf
`,Ni+=D(Je*ze)+` TL
`,Ni+=Ji+`
`,Ni+=ye,Ni+=P,fe(Ni+="ET"),v[Et]=!0,b};var Wi=g.__private__.clip=g.clip=function(P){return fe(P==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Wi("evenodd")},g.__private__.discardPath=g.discardPath=function(){return fe("n"),this};var Or=g.__private__.isValidStyle=function(P){var ie=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ie=!0),ie};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(P){return Or(P)&&(f=P),this};var Wo=g.__private__.getStyle=g.getStyle=function(P){var ie=f;switch(P){case"D":case"S":ie="S";break;case"F":ie="f";break;case"FD":case"DF":ie="B";break;case"f":case"f*":case"B":case"B*":ie=P}return ie},Ur=g.close=function(){return fe("h"),this};g.stroke=function(){return fe("S"),this},g.fill=function(P){return Qs("f",P),this},g.fillEvenOdd=function(P){return Qs("f*",P),this},g.fillStroke=function(P){return Qs("B",P),this},g.fillStrokeEvenOdd=function(P){return Qs("B*",P),this};var Qs=function(P,ie){Fr(ie)==="object"?Yo(ie,P):fe(P)},Mi=function(P){P===null||Q===F&&P===void 0||(P=Wo(P),fe(P))};function po(P,ie,Ee,_e,Me){var ft=new _h(ie||this.boundingBox,Ee||this.xStep,_e||this.yStep,this.gState,Me||this.matrix);ft.stream=this.stream;var jt=P+"$$"+this.cloneIndex+++"$$";return ua(jt,ft),ft}var Yo=function(P,ie){var Ee=Rt[P.key],_e=ht[Ee];if(_e instanceof wd)fe("q"),fe(sA(ie)),_e.gState&&g.setGState(_e.gState),fe(P.matrix.toString()+" cm"),fe("/"+Ee+" sh"),fe("Q");else if(_e instanceof _h){var Me=new ln(1,0,0,-1,0,qi());P.matrix&&(Me=Me.multiply(P.matrix||Fa),Ee=po.call(_e,P.key,P.boundingBox,P.xStep,P.yStep,Me).id),fe("q"),fe("/Pattern cs"),fe("/"+Ee+" scn"),_e.gState&&g.setGState(_e.gState),fe(ie),fe("Q")}},sA=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ul=g.moveTo=function(P,ie){return fe(D(z(P))+" "+D(re(ie))+" m"),this},Yi=g.lineTo=function(P,ie){return fe(D(z(P))+" "+D(re(ie))+" l"),this},Yr=g.curveTo=function(P,ie,Ee,_e,Me,ft){return fe([D(z(P)),D(re(ie)),D(z(Ee)),D(re(_e)),D(z(Me)),D(re(ft)),"c"].join(" ")),this};g.__private__.line=g.line=function(P,ie,Ee,_e,Me){if(isNaN(P)||isNaN(ie)||isNaN(Ee)||isNaN(_e)||!Or(Me))throw new Error("Invalid arguments passed to jsPDF.line");return Q===_?this.lines([[Ee-P,_e-ie]],P,ie,[1,1],Me||"S"):this.lines([[Ee-P,_e-ie]],P,ie,[1,1]).stroke()},g.__private__.lines=g.lines=function(P,ie,Ee,_e,Me,ft){var jt,un,bn,Mn,In,xs,yr,or,b,W,q,ye;if(typeof P=="number"&&(ye=Ee,Ee=ie,ie=P,P=ye),_e=_e||[1,1],ft=ft||!1,isNaN(ie)||isNaN(Ee)||!Array.isArray(P)||!Array.isArray(_e)||!Or(Me)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ul(ie,Ee),jt=_e[0],un=_e[1],Mn=P.length,W=ie,q=Ee,bn=0;bn<Mn;bn++)(In=P[bn]).length===2?(W=In[0]*jt+W,q=In[1]*un+q,Yi(W,q)):(xs=In[0]*jt+W,yr=In[1]*un+q,or=In[2]*jt+W,b=In[3]*un+q,W=In[4]*jt+W,q=In[5]*un+q,Yr(xs,yr,or,b,W,q));return ft&&Ur(),Mi(Me),this},g.path=function(P){for(var ie=0;ie<P.length;ie++){var Ee=P[ie],_e=Ee.c;switch(Ee.op){case"m":Ul(_e[0],_e[1]);break;case"l":Yi(_e[0],_e[1]);break;case"c":Yr.apply(this,_e);break;case"h":Ur()}}return this},g.__private__.rect=g.rect=function(P,ie,Ee,_e,Me){if(isNaN(P)||isNaN(ie)||isNaN(Ee)||isNaN(_e)||!Or(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return Q===_&&(_e=-_e),fe([D(z(P)),D(re(ie)),D(z(Ee)),D(z(_e)),"re"].join(" ")),Mi(Me),this},g.__private__.triangle=g.triangle=function(P,ie,Ee,_e,Me,ft,jt){if(isNaN(P)||isNaN(ie)||isNaN(Ee)||isNaN(_e)||isNaN(Me)||isNaN(ft)||!Or(jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-P,_e-ie],[Me-Ee,ft-_e],[P-Me,ie-ft]],P,ie,[1,1],jt,!0),this},g.__private__.roundedRect=g.roundedRect=function(P,ie,Ee,_e,Me,ft,jt){if(isNaN(P)||isNaN(ie)||isNaN(Ee)||isNaN(_e)||isNaN(Me)||isNaN(ft)||!Or(jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var un=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*Ee),ft=Math.min(ft,.5*_e),this.lines([[Ee-2*Me,0],[Me*un,0,Me,ft-ft*un,Me,ft],[0,_e-2*ft],[0,ft*un,-Me*un,ft,-Me,ft],[2*Me-Ee,0],[-Me*un,0,-Me,-ft*un,-Me,-ft],[0,2*ft-_e],[0,-ft*un,Me*un,-ft,Me,-ft]],P+Me,ie,[1,1],jt,!0),this},g.__private__.ellipse=g.ellipse=function(P,ie,Ee,_e,Me){if(isNaN(P)||isNaN(ie)||isNaN(Ee)||isNaN(_e)||!Or(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*Ee,jt=4/3*(Math.SQRT2-1)*_e;return Ul(P+Ee,ie),Yr(P+Ee,ie-jt,P+ft,ie-_e,P,ie-_e),Yr(P-ft,ie-_e,P-Ee,ie-jt,P-Ee,ie),Yr(P-Ee,ie+jt,P-ft,ie+_e,P,ie+_e),Yr(P+ft,ie+_e,P+Ee,ie+jt,P+Ee,ie),Mi(Me),this},g.__private__.circle=g.circle=function(P,ie,Ee,_e){if(isNaN(P)||isNaN(ie)||isNaN(Ee)||!Or(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ie,Ee,Ee,_e)},g.setFont=function(P,ie,Ee){return Ee&&(ie=R(ie,Ee)),Et=mo(P,ie,{disableWarning:!1}),this};var Xi=g.__private__.getFont=g.getFont=function(){return gt[mo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var P,ie,Ee={};for(P in He)if(He.hasOwnProperty(P))for(ie in Ee[P]=[],He[P])He[P].hasOwnProperty(ie)&&Ee[P].push(ie);return Ee},g.addFont=function(P,ie,Ee,_e,Me){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(Ee=R(Ee,_e)),Ka.call(this,P,ie,Ee,Me=Me||"Identity-H")};var Xo,ai=n.lineWidth||.200025,ki=g.__private__.getLineWidth=g.getLineWidth=function(){return ai},On=g.__private__.setLineWidth=g.setLineWidth=function(P){return ai=P,fe(D(z(P))+" w"),this};g.__private__.setLineDash=Rn.API.setLineDash=Rn.API.setLineDashPattern=function(P,ie){if(P=P||[],ie=ie||0,isNaN(ie)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(Ee){return D(z(Ee))}).join(" "),ie=D(z(ie)),fe("["+P+"] "+ie+" d"),this};var Rl=g.__private__.getLineHeight=g.getLineHeight=function(){return Je*Xo};g.__private__.getLineHeight=g.getLineHeight=function(){return Je*Xo};var rA=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Xo=P),this},Al=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Xo};rA(n.lineHeight);var Ca=g.__private__.getHorizontalCoordinate=function(P){return z(P)},ha=g.__private__.getVerticalCoordinate=function(P){return Q===F?P:dt[te].mediaBox.topRightY-dt[te].mediaBox.bottomLeftY-z(P)},Ra=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(P){return D(Ca(P))},Gs=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(P){return D(ha(P))},ii=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Tt(ii)},g.__private__.setStrokeColor=g.setDrawColor=function(P,ie,Ee,_e){return ii=gn({ch1:P,ch2:ie,ch3:Ee,ch4:_e,pdfColorType:"draw",precision:2}),fe(ii),this};var cl=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Tt(cl)},g.__private__.setFillColor=g.setFillColor=function(P,ie,Ee,_e){return cl=gn({ch1:P,ch2:ie,ch3:Ee,ch4:_e,pdfColorType:"fill",precision:2}),fe(cl),this};var Ji=n.textColor||"0 g",FA=g.__private__.getTextColor=g.getTextColor=function(){return Tt(Ji)};g.__private__.setTextColor=g.setTextColor=function(P,ie,Ee,_e){return Ji=gn({ch1:P,ch2:ie,ch3:Ee,ch4:_e,pdfColorType:"text",precision:3}),this};var ji=n.charSpace,go=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ji||0)};g.__private__.setCharSpace=g.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ji=P,this};var oi=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(P){var ie=g.CapJoinStyles[P];if(ie===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oi=ie,fe(ie+" J"),this};var Xr=0;g.__private__.setLineJoin=g.setLineJoin=function(P){var ie=g.CapJoinStyles[P];if(ie===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xr=ie,fe(ie+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(D(z(P))+" M"),this},g.GState=sg,g.setGState=function(P){(P=typeof P=="string"?Bt[Ht[P]]:vo(null,P)).equals(xn)||(fe("/"+P.id+" gs"),xn=P)};var vo=function(P,ie){if(!P||!Ht[P]){var Ee=!1;for(var _e in Bt)if(Bt.hasOwnProperty(_e)&&Bt[_e].equals(ie)){Ee=!0;break}if(Ee)ie=Bt[_e];else{var Me="GS"+(Object.keys(Bt).length+1).toString(10);Bt[Me]=ie,ie.id=Me}return P&&(Ht[P]=ie.id),Dt.publish("addGState",ie),ie}};g.addGState=function(P,ie){return vo(P,ie),this},g.saveGraphicsState=function(){return fe("q"),at.push({key:Et,size:Je,color:Ji}),this},g.restoreGraphicsState=function(){fe("Q");var P=at.pop();return Et=P.key,Je=P.size,Ji=P.color,xn=null,this},g.setCurrentTransformationMatrix=function(P){return fe(P.toString()+" cm"),this},g.comment=function(P){return fe("#"+P),this};var Da=function(P,ie){var Ee=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(ft){isNaN(ft)||(Ee=parseFloat(ft))}});var _e=ie||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(ft){isNaN(ft)||(_e=parseFloat(ft))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(ft){Me=ft.toString()}}),this},dr=function(P,ie,Ee,_e){Da.call(this,P,ie),this.type="rect";var Me=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(jt){isNaN(jt)||(Me=parseFloat(jt))}});var ft=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(jt){isNaN(jt)||(ft=parseFloat(jt))}}),this},ul=function(){this.page=Ct,this.currentPage=te,this.pages=tt.slice(0),this.pagesContext=dt.slice(0),this.x=kt,this.y=Pn,this.matrix=ke,this.width=Hi(te),this.height=aA(te),this.outputDestination=it,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){Ct=this.page,te=this.currentPage,dt=this.pagesContext,tt=this.pages,kt=this.x,Pn=this.y,ke=this.matrix,Dl(te,this.width),La(te,this.height),it=this.outputDestination};var za=function(P,ie,Ee,_e,Me){Bs.push(new ul),Ct=te=0,tt=[],kt=P,Pn=ie,ke=Me,da([Ee,_e])};for(var yo in g.beginFormObject=function(P,ie,Ee,_e,Me){return za(P,ie,Ee,_e,Me),this},g.endFormObject=function(P){return(function(ie){if(cs[ie])Bs.pop().restore();else{var Ee=new ul,_e="Xo"+(Object.keys(rn).length+1).toString(10);Ee.id=_e,cs[ie]=_e,rn[_e]=Ee,Dt.publish("addFormObject",Ee),Bs.pop().restore()}})(P),this},g.doFormObject=function(P,ie){var Ee=rn[cs[P]];return fe("q"),fe(ie.toString()+" cm"),fe("/"+Ee.id+" Do"),fe("Q"),this},g.getFormObject=function(P){var ie=rn[cs[P]];return{x:ie.x,y:ie.y,width:ie.width,height:ie.height,matrix:ie.matrix}},g.save=function(P,ie){return P=P||"generated.pdf",(ie=ie||{}).returnPromise=ie.returnPromise||!1,ie.returnPromise===!1?(Sh(hn(Cn()),P),typeof Sh.unload=="function"&&as.setTimeout&&setTimeout(Sh.unload,911),this):new Promise(function(Ee,_e){try{var Me=Sh(hn(Cn()),P);typeof Sh.unload=="function"&&as.setTimeout&&setTimeout(Sh.unload,911),Ee(Me)}catch(ft){_e(ft.message)}})},Rn.API)Rn.API.hasOwnProperty(yo)&&(yo==="events"&&Rn.API.events.length?(function(P,ie){var Ee,_e,Me;for(Me=ie.length-1;Me!==-1;Me--)Ee=ie[Me][0],_e=ie[Me][1],P.subscribe.apply(P,[Ee].concat(typeof _e=="function"?[_e]:_e))})(Dt,Rn.API.events):g[yo]=Rn.API[yo]);function Hi(P){return dt[P].mediaBox.topRightX-dt[P].mediaBox.bottomLeftX}function Dl(P,ie){dt[P].mediaBox.topRightX=ie+dt[P].mediaBox.bottomLeftX}function aA(P){return dt[P].mediaBox.topRightY-dt[P].mediaBox.bottomLeftY}function La(P,ie){dt[P].mediaBox.topRightY=ie+dt[P].mediaBox.bottomLeftY}var Ci=g.getPageWidth=function(P){return Hi(P=P||te)/Gt},iA=g.setPageWidth=function(P,ie){Dl(P,ie*Gt)},qi=g.getPageHeight=function(P){return aA(P=P||te)/Gt},Ei=g.setPageHeight=function(P,ie){La(P,ie*Gt)};return g.internal={pdfEscape:Wr,getStyle:Wo,getFont:Xi,getFontSize:Ut,getCharSpace:go,getTextColor:FA,getLineHeight:Rl,getLineHeightFactor:Al,getLineWidth:ki,write:ut,getHorizontalCoordinate:Ca,getVerticalCoordinate:ha,getCoordinateString:Ra,getVerticalCoordinateString:Gs,collections:{},newObject:an,newAdditionalObject:Pt,newObjectDeferred:Re,newObjectDeferredBegin:_t,getFilters:En,putStream:Ln,events:Dt,scaleFactor:Gt,pageSize:{getWidth:function(){return Ci(te)},setWidth:function(P){iA(te,P)},getHeight:function(){return qi(te)},setHeight:function(P){Ei(te,P)}},encryptionOptions:A,encryption:Qn,getEncryptor:function(P){return A!==null?Qn.encryptor(P,0):function(ie){return ie}},output:Ss,getNumberOfPages:$o,get pages(){return tt},out:fe,f2:L,f3:H,getPageInfo:Kt,getPageInfoByObjId:Js,getCurrentPageInfo:Bi,getPDFVersion:S,Point:Da,Rectangle:dr,Matrix:ln,hasHotfix:Fn},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ci(te)},set:function(P){iA(te,P)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return qi(te)},set:function(P){Ei(te,P)},enumerable:!0,configurable:!0}),(function(P){for(var ie=0,Ee=Ge.length;ie<Ee;ie++){var _e=Ka.call(this,P[ie][0],P[ie][1],P[ie][2],Ge[ie][3],!0);m===!1&&(v[_e]=!0);var Me=P[ie][0].split("-");zs({id:_e,fontName:Me[0],fontStyle:Me[1]||""})}Dt.publish("addFonts",{fonts:gt,dictionary:He})}).call(g,Ge),Et="F1",ri(a,t),Dt.publish("initialized"),g}Qf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Qf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Qf.prototype.processOwnerPassword=function(n,e){return pb(mb(e).substr(0,5),n)},Qf.prototype.encryptor=function(n,e){var t=mb(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return pb(t,s)}},sg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Fr(n)!==Fr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Rn.API={events:[]},Rn.version="3.0.4";var ka=Rn.API,e2=1,ef=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},If=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fs=function(n){return n.toFixed(2)},md=function(n){return n.toFixed(5)};ka.__acroform__={};var Fl=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},LC=function(n){return n*e2},_c=function(n){var e=new AI,t=jn.internal.getHeight(n)||0,s=jn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(fs(s)),Number(fs(t))],e},s9=ka.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},r9=ka.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},a9=ka.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ei=ka.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return a9(n,e-1)},ti=ka.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return s9(n,e-1)},ni=ka.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return r9(n,e-1)},i9=ka.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],i=n[1],c=n[2],h=n[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=s(i+h)||0,u.upperRight_X=t(a+c)||0,u.upperRight_Y=s(i)||0,[Number(fs(u.lowerLeft_X)),Number(fs(u.lowerLeft_Y)),Number(fs(u.upperRight_X)),Number(fs(u.upperRight_Y))]},o9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=gb(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+fs(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=_c(n);return i.scope=n.scope,i.stream=e.join(`
`),i}},gb=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var i=t,c=jn.internal.getHeight(n)||0;c=c<0?-c:c;var h=jn.internal.getWidth(n)||0;h=h<0?-h:h;var u=function(L,H,z){if(L+1<a.length){var re=H+" "+a[L+1][0];return H0(re,n,z).width<=h-4}return!1};i++;e:for(;i>0;){e="",i--;var f,A,m=H0("3",n,i).height,v=n.multiline?c-i:(c-m)/2,g=v+=2,B=0,S=0,T=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+H0(e,n,i=12).width+", FieldWidth:"+h+`
`;break}for(var E="",_=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var Q=!1;if(a[F].length!==1&&T!==a[F].length-1){if((m+2)*(_+2)+2>c)continue e;E+=a[F][T],Q=!0,S=F,F--}else{E=(E+=a[F][T]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var M=parseInt(F),k=u(M,E,i),R=F>=a.length-1;if(k&&!R){E+=" ",T=0;continue}if(k||R){if(R)S=M;else if(n.multiline&&(m+2)*(_+2)+2>c)continue e}else{if(!n.multiline||(m+2)*(_+2)+2>c)continue e;S=M}}for(var D="",O=B;O<=S;O++){var $=a[O];if(n.multiline){if(O===S){D+=$[T]+" ",T=(T+1)%$.length;continue}if(O===B){D+=$[$.length-1]+" ";continue}}D+=$[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,A=H0(D,n,i).width,n.textAlign){case"right":f=h-A-2;break;case"center":f=(h-A)/2;break;default:f=2}e+=fs(f)+" "+fs(g)+` Td
`,e+="("+ef(D)+`) Tj
`,e+=-fs(f)+` 0 Td
`,g=-(i+2),A=0,B=Q?S:S+1,_++,E=""}break}return s.text=e,s.fontSize=i,s},H0=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},l9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},A9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},c9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ic.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(l9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");e2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new cI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&A9(i,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var i=!s;for(var c in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var h=s[c],u=[],f=h.Rect;if(h.Rect&&(h.Rect=i9(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=jn.createDefaultAppearanceStream(h),Fr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(u=h.getKeyValueListForStream()),h.Rect=f,h.hasAppearanceStream&&!h.appearanceStreamContent){var A=o9(h);u.push({key:"AP",value:"<</N "+A+">>"}),a.internal.acroformPlugin.xForms.push(A)}if(h.appearanceStreamContent){var m="";for(var v in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(v)){var g=h.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var B=g[c];typeof B=="function"&&(B=B.call(a,h)),m+="/"+c+" "+B+" ",a.internal.acroformPlugin.xForms.indexOf(B)>=0||a.internal.acroformPlugin.xForms.push(B)}}else typeof(B=g)=="function"&&(B=B.call(a,h)),m+="/"+c+" "+B,a.internal.acroformPlugin.xForms.indexOf(B)>=0||a.internal.acroformPlugin.xForms.push(B);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:h.objId}),a.internal.out("endobj")}i&&(function(S,T){for(var E in S)if(S.hasOwnProperty(E)){var _=E,F=S[E];T.internal.newObjectDeferredBegin(F.objId,!0),Fr(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete S[_]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},lI=ka.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var a="[",i=0;i<n.length;i++)switch(i!==0&&(a+=" "),Fr(n[i])){case"boolean":case"number":case"object":a+=n[i].toString();break;case"string":n[i].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+ef(s(n[i].toString()))+")"):a+=n[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ox=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+ef(s(n))+")"},Uc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Uc.prototype.toString=function(){return this.objId+" 0 R"},Uc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Uc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:lI(a,this.objId,this.scope)}):a instanceof Uc?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var AI=function(){Uc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Fl(AI,Uc);var cI=function(){Uc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ef(t(n))+")"}},set:function(t){n=t}})};Fl(cI,Uc);var ic=function n(){Uc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ei(e,3)},set:function(E){E?this.F=ti(e,3):this.F=ni(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(E){s=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(E){s[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(E){s[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(E){s[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(E){s[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Yv)return;i="FieldObject"+n.FieldNum++}var E=function(_){return _};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+ef(E(i))+")"},set:function(E){i=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(E){i=E}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/e2:f},set:function(E){f=E}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(E){A=E}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Yv||this instanceof Fd))return ox(m,this.objId,this.scope)},set:function(E){E=E.toString(),m=E}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Qi==0?ox(v,this.objId,this.scope):v},set:function(E){E=E.toString(),v=this instanceof Qi==0?E.substr(0,1)==="("?If(E.substr(1,E.length-2)):If(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?If(v.substr(1,v.length-1)):v},set:function(E){E=E.toString(),v=this instanceof Qi==1?"/"+E:E}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Qi==0?ox(g,this.objId,this.scope):g},set:function(E){E=E.toString(),g=this instanceof Qi==0?E.substr(0,1)==="("?If(E.substr(1,E.length-2)):If(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?If(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof Qi==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(E){E=!!E,S=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(E){B=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,1)},set:function(E){E?this.Ff=ti(this.Ff,1):this.Ff=ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,2)},set:function(E){E?this.Ff=ti(this.Ff,2):this.Ff=ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,3)},set:function(E){E?this.Ff=ti(this.Ff,3):this.Ff=ni(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');T=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(T){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Fl(ic,Uc);var Lh=function(){ic.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lI(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(i,c,h){h||(h=1);for(var u,f=[];u=c.exec(i);)f.push(u[h]);return f})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,18)},set:function(t){t?this.Ff=ti(this.Ff,18):this.Ff=ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ti(this.Ff,19):this.Ff=ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,20)},set:function(t){t?(this.Ff=ti(this.Ff,20),e.sort()):this.Ff=ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,22)},set:function(t){t?this.Ff=ti(this.Ff,22):this.Ff=ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,23)},set:function(t){t?this.Ff=ti(this.Ff,23):this.Ff=ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,27)},set:function(t){t?this.Ff=ti(this.Ff,27):this.Ff=ni(this.Ff,27)}}),this.hasAppearanceStream=!1};Fl(Lh,ic);var Qh=function(){Lh.call(this),this.fontName="helvetica",this.combo=!1};Fl(Qh,Lh);var Oh=function(){Qh.call(this),this.combo=!0};Fl(Oh,Qh);var Rp=function(){Oh.call(this),this.edit=!0};Fl(Rp,Oh);var Qi=function(){ic.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,15)},set:function(t){t?this.Ff=ti(this.Ff,15):this.Ff=ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,16)},set:function(t){t?this.Ff=ti(this.Ff,16):this.Ff=ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,17)},set:function(t){t?this.Ff=ti(this.Ff,17):this.Ff=ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,26)},set:function(t){t?this.Ff=ti(this.Ff,26):this.Ff=ni(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+ef(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Fr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Fl(Qi,ic);var Dp=function(){Qi.call(this),this.pushButton=!0};Fl(Dp,Qi);var Ph=function(){Qi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Fl(Ph,Qi);var Yv=function(){var n,e;ic.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,c=[];for(i in c.push("<<"),s)c.push("/"+i+" ("+ef(a(s[i]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Fr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fl(Yv,ic),Ph.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ph.prototype.createOption=function(n){var e=new Yv;return e.Parent=this,e.optionName=n,this.Kids.push(e),u9.call(this.scope,e),e};var Lp=function(){Qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jn.CheckBox.createAppearanceStream()};Fl(Lp,Qi);var Fd=function(){ic.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,13)},set:function(e){e?this.Ff=ti(this.Ff,13):this.Ff=ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,21)},set:function(e){e?this.Ff=ti(this.Ff,21):this.Ff=ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,23)},set:function(e){e?this.Ff=ti(this.Ff,23):this.Ff=ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,24)},set:function(e){e?this.Ff=ti(this.Ff,24):this.Ff=ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,25)},set:function(e){e?this.Ff=ti(this.Ff,25):this.Ff=ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,26)},set:function(e){e?this.Ff=ti(this.Ff,26):this.Ff=ni(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fl(Fd,ic);var Qp=function(){Fd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,14)},set:function(n){n?this.Ff=ti(this.Ff,14):this.Ff=ni(this.Ff,14)}}),this.password=!0};Fl(Qp,Fd);var jn={CheckBox:{createAppearanceStream:function(){return{N:{On:jn.CheckBox.YesNormal},D:{On:jn.CheckBox.YesPushDown,Off:jn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=_c(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),i=gb(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+fs(jn.internal.getWidth(n))+" "+fs(jn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+fs(i.fontSize)+" Tf "+a),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=_c(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],i=jn.internal.getHeight(n),c=jn.internal.getWidth(n),h=gb(n,n.caption);return a.push("1 g"),a.push("0 0 "+fs(c)+" "+fs(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+fs(c-1)+" "+fs(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+fs(h.fontSize)+" Tf "+s),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=_c(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fs(jn.internal.getWidth(n))+" "+fs(jn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:jn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=jn.RadioButton.Circle.YesNormal,e.D[n]=jn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=_c(n);e.scope=n.scope;var t=[],s=jn.internal.getWidth(n)<=jn.internal.getHeight(n)?jn.internal.getWidth(n)/4:jn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=jn.internal.Bezier_C,i=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+md(jn.internal.getWidth(n)/2)+" "+md(jn.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=_c(n);e.scope=n.scope;var t=[],s=jn.internal.getWidth(n)<=jn.internal.getHeight(n)?jn.internal.getWidth(n)/4:jn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*jn.internal.Bezier_C).toFixed(5)),c=Number((s*jn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+md(jn.internal.getWidth(n)/2)+" "+md(jn.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+md(jn.internal.getWidth(n)/2)+" "+md(jn.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=_c(n);e.scope=n.scope;var t=[],s=jn.internal.getWidth(n)<=jn.internal.getHeight(n)?jn.internal.getWidth(n)/4:jn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*jn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+md(jn.internal.getWidth(n)/2)+" "+md(jn.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:jn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=jn.RadioButton.Cross.YesNormal,e.D[n]=jn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=_c(n);e.scope=n.scope;var t=[],s=jn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+fs(jn.internal.getWidth(n)-2)+" "+fs(jn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(fs(s.x1.x)+" "+fs(s.x1.y)+" m"),t.push(fs(s.x2.x)+" "+fs(s.x2.y)+" l"),t.push(fs(s.x4.x)+" "+fs(s.x4.y)+" m"),t.push(fs(s.x3.x)+" "+fs(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=_c(n);e.scope=n.scope;var t=jn.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+fs(jn.internal.getWidth(n))+" "+fs(jn.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+fs(jn.internal.getWidth(n)-2)+" "+fs(jn.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(fs(t.x1.x)+" "+fs(t.x1.y)+" m"),s.push(fs(t.x2.x)+" "+fs(t.x2.y)+" l"),s.push(fs(t.x4.x)+" "+fs(t.x4.y)+" m"),s.push(fs(t.x3.x)+" "+fs(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=_c(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fs(jn.internal.getWidth(n))+" "+fs(jn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};jn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=jn.internal.getWidth(n),t=jn.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},jn.internal.getWidth=function(n){var e=0;return Fr(n)==="object"&&(e=LC(n.Rect[2])),e},jn.internal.getHeight=function(n){var e=0;return Fr(n)==="object"&&(e=LC(n.Rect[3])),e};var u9=ka.addField=function(n){if(c9(this,n),!(n instanceof ic))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ka.AcroFormChoiceField=Lh,ka.AcroFormListBox=Qh,ka.AcroFormComboBox=Oh,ka.AcroFormEditBox=Rp,ka.AcroFormButton=Qi,ka.AcroFormPushButton=Dp,ka.AcroFormRadioButton=Ph,ka.AcroFormCheckBox=Lp,ka.AcroFormTextField=Fd,ka.AcroFormPasswordField=Qp,ka.AcroFormAppearance=jn,ka.AcroForm={ChoiceField:Lh,ListBox:Qh,ComboBox:Oh,EditBox:Rp,Button:Qi,PushButton:Dp,RadioButton:Ph,CheckBox:Lp,TextField:Fd,PasswordField:Qp,Appearance:jn},Rn.AcroForm={ChoiceField:Lh,ListBox:Qh,ComboBox:Oh,EditBox:Rp,Button:Qi,PushButton:Dp,RadioButton:Ph,CheckBox:Lp,TextField:Fd,PasswordField:Qp,Appearance:jn};var d9=Rn.AcroForm;function uI(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(L,H){var z,re,pe,ae,ne,Z=t;if((H=H||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(k(L))for(ne in s)for(pe=s[ne],z=0;z<pe.length;z+=1){for(ae=!0,re=0;re<pe[z].length;re+=1)if(pe[z][re]!==void 0&&pe[z][re]!==L[re]){ae=!1;break}if(ae===!0){Z=ne;break}}else for(ne in s)for(pe=s[ne],z=0;z<pe.length;z+=1){for(ae=!0,re=0;re<pe[z].length;re+=1)if(pe[z][re]!==void 0&&pe[z][re]!==L.charCodeAt(re)){ae=!1;break}if(ae===!0){Z=ne;break}}return Z===t&&H!==t&&(Z=H),Z},i=function L(H){for(var z=this.internal.write,re=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:H.width}),ae.push({key:"Height",value:H.height}),H.colorSpace===E.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===E.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var ne="",Z=0,ue=H.transparency.length;Z<ue;Z++)ne+=H.transparency[Z]+" "+H.transparency[Z]+" ";ae.push({key:"Mask",value:"["+ne+"]"})}H.sMask!==void 0&&ae.push({key:"SMask",value:H.objectId+1+" 0 R"});var je=H.filter!==void 0?["/"+H.filter]:void 0;if(re({data:H.data,additionalKeyValues:ae,alreadyAppliedFilters:je,objectId:H.objectId}),z("endobj"),"sMask"in H&&H.sMask!==void 0){var se,G=(se=H.sMaskBitsPerComponent)!==null&&se!==void 0?se:H.bitsPerComponent,te={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:G,data:H.sMask};"filter"in H&&(te.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(G," /Columns ").concat(H.width),te.filter=H.filter),L.call(this,te)}if(H.colorSpace===E.INDEXED){var le=this.internal.newObject();re({data:D(new Uint8Array(H.palette)),objectId:le}),z("endobj")}},c=function(){var L=this.internal.collections[e+"images"];for(var H in L)i.call(this,L[H])},h=function(){var L,H=this.internal.collections[e+"images"],z=this.internal.write;for(var re in H)z("/I"+(L=H[re]).index,L.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},f=function(){var L=this.internal.collections[e+"images"];return u.call(this),L},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(L){return typeof n["process"+L.toUpperCase()]=="function"},v=function(L){return Fr(L)==="object"&&L.nodeType===1},g=function(L,H){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var z=""+L.getAttribute("src");if(z.indexOf("data:image/")===0)return dv(unescape(z).split("base64,").pop());var re=n.loadFile(z,!0);if(re!==void 0)return re}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var pe;switch(H){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return dv(L.toDataURL(pe,1).split("base64,").pop())}},B=function(L){var H=this.internal.collections[e+"images"];if(H){for(var z in H)if(L===H[z].alias)return H[z]}},S=function(L,H,z){return L||H||(L=-96,H=-96),L<0&&(L=-1*z.width*72/L/this.internal.scaleFactor),H<0&&(H=-1*z.height*72/H/this.internal.scaleFactor),L===0&&(L=H*z.width/z.height),H===0&&(H=L*z.height/z.width),[L,H]},T=function(L,H,z,re,pe,ae){var ne=S.call(this,z,re,pe),Z=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,je=f.call(this);if(z=ne[0],re=ne[1],je[pe.index]=pe,ae){ae*=Math.PI/180;var se=Math.cos(ae),G=Math.sin(ae),te=function(he){return he.toFixed(4)},le=[te(se),te(G),te(-1*G),te(se),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,Z(L),ue(H+re),"cm"].join(" ")),this.internal.write(le.join(" ")),this.internal.write([Z(z),"0","0",Z(re),"0","0","cm"].join(" "))):this.internal.write([Z(z),"0","0",Z(re),Z(L),ue(H+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},E=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=n.__addimage__.sHashCode=function(L){var H,z,re=0;if(typeof L=="string")for(z=L.length,H=0;H<z;H++)re=(re<<5)-re+L.charCodeAt(H),re|=0;else if(k(L))for(z=L.byteLength/2,H=0;H<z;H++)re=(re<<5)-re+L[H],re|=0;return re},Q=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var H=!0;return L.length===0&&(H=!1),L.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(H=!1),H},M=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var H=L.indexOf(",");return H<0?null:L.substring(0,H).trim().endsWith("base64")?L.substring(H+1):null};n.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var k=n.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},R=n.__addimage__.binaryStringToUint8Array=function(L){for(var H=L.length,z=new Uint8Array(H),re=0;re<H;re++)z[re]=L.charCodeAt(re);return z},D=n.__addimage__.arrayBufferToBinaryString=function(L){for(var H="",z=k(L)?L:new Uint8Array(L),re=0;re<z.length;re+=8192)H+=String.fromCharCode.apply(null,z.subarray(re,re+8192));return H};n.addImage=function(){var L,H,z,re,pe,ae,ne,Z,ue;if(typeof arguments[1]=="number"?(H=t,z=arguments[1],re=arguments[2],pe=arguments[3],ae=arguments[4],ne=arguments[5],Z=arguments[6],ue=arguments[7]):(H=arguments[1],z=arguments[2],re=arguments[3],pe=arguments[4],ae=arguments[5],ne=arguments[6],Z=arguments[7],ue=arguments[8]),Fr(L=arguments[0])==="object"&&!v(L)&&"imageData"in L){var je=L;L=je.imageData,H=je.format||H||t,z=je.x||z||0,re=je.y||re||0,pe=je.w||je.width||pe,ae=je.h||je.height||ae,ne=je.alias||ne,Z=je.compression||Z,ue=je.rotation||je.angle||ue}var se=this.internal.getFilters();if(Z===void 0&&se.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(z)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var G=O.call(this,L,H,ne,Z);return T.call(this,z,re,pe,ae,G,ue),this};var O=function(L,H,z,re){var pe,ae,ne;if(typeof L=="string"&&a(L)===t){L=unescape(L);var Z=$(L,!1);(Z!==""||(Z=n.loadFile(L,!0))!==void 0)&&(L=Z)}if(v(L)&&(L=g(L,H)),H=a(L,H),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((ne=z)==null||ne.length===0)&&(z=(function(ue){return typeof ue=="string"||k(ue)?F(ue):k(ue.data)?F(ue.data):null})(L)),(pe=B.call(this,z))||(L instanceof Uint8Array||H==="RGBA"||(ae=L,L=R(L)),pe=this["process"+H.toUpperCase()](L,A.call(this),z,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in n.image_compression?ue:_.NONE})(re),ae)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},$=n.__addimage__.convertBase64ToBinaryString=function(L,H){H=typeof H!="boolean"||H;var z,re="";if(typeof L=="string"){var pe;z=(pe=M(L))!==null&&pe!==void 0?pe:L;try{re=dv(z)}catch(ae){if(H)throw Q(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};n.getImageProperties=function(L){var H,z,re="";if(v(L)&&(L=g(L)),typeof L=="string"&&a(L)===t&&((re=$(L,!1))===""&&(re=n.loadFile(L)||""),L=re),z=a(L),!m(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(L instanceof Uint8Array||(L=R(L)),!(H=this["process"+z.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=z,H}})(Rn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Rn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,i,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,A=!1,m=0;m<f.length&&!A;m++)switch((s=f[m]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){s=f[v];var g=this.internal.pdfEscape,B=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(S.objId),_=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y)+"] ")+"/Contents ("+g(E(s.contents))+")",i+=" /Popup "+T.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+g(E(_))+") >>",S.content=i;var F=S.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(s.bounds.x+30)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+h(s.bounds.y)+"] ")+" /Parent "+F,s.open&&(i+=" /Open true"),i+=" >>",T.content=i,this.internal.write(S.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y+s.bounds.h)+"] ";var Q=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(B(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Q+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var M=this.annotations._nameMap[s.options.name];s.options.pageNumber=M.page,s.options.top=M.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(B(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var k=h(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+k+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,i,c){var h=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:u(t),y:f(s),w:u(t+a),h:f(s+i)},options:c,type:"link"})},n.textWithLink=function(t,s,a,i){var c,h,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){h=i.maxWidth;var A=this.splitTextToSize(t,h).length;c=Math.ceil(f*A)}else h=u,c=f;return this.text(t,s,a,i),a+=.2*f,i.align==="center"&&(s-=u/2),i.align==="right"&&(s-=u),this.link(s,a-f,h,c,i),u},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Rn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},h=n.__arabicParser__.isArabicEndLetter=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(S){return c(S)&&a.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length>=3};var A=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(S){var T=0,E=t,_="",F=0;for(T=0;T<S.length;T+=1)E[S.charCodeAt(T)]!==void 0?(F++,typeof(E=E[S.charCodeAt(T)])=="number"&&(_+=String.fromCharCode(E),E=t,F=0),T===S.length-1&&(E=t,_+=S.charAt(T-(F-1)),T-=F-1,F=0)):(E=t,_+=S.charAt(T-F),T-=F,F=0);return _};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&s[S.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(S,T,E){return c(S)?i(S)===!1?-1:!f(S)||!c(T)&&!c(E)||!c(E)&&h(T)||h(S)&&!c(T)||h(S)&&u(T)||h(S)&&h(T)?0:A(S)&&c(T)&&!h(T)&&c(E)&&f(E)?3:h(S)||!c(E)?1:2:-1},g=function(S){var T=0,E=0,_=0,F="",Q="",M="",k=(S=S||"").split("\\s+"),R=[];for(T=0;T<k.length;T+=1){for(R.push(""),E=0;E<k[T].length;E+=1)F=k[T][E],Q=k[T][E-1],M=k[T][E+1],c(F)?(_=v(F,Q,M),R[T]+=_!==-1?String.fromCharCode(e[F.charCodeAt(0)][_]):F):R[T]+=F;R[T]=m(R[T])}return R.join(" ")},B=n.__arabicParser__.processArabic=n.processArabic=function(){var S,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(T)){var _=0;for(E=[],_=0;_<T.length;_+=1)Array.isArray(T[_])?E.push([g(T[_][0]),T[_][1],T[_][2]]):E.push([g(T[_])]);S=E}else S=g(T);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",B])})(Rn.API),Rn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(h){i=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Rn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(S){A=S}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(S){B=S}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return s.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){s.call(this);var A=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,g=0,B=0,S=0,T=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var E=f.maxWidth;E>0?typeof u=="string"?u=this.splitTextToSize(u,E):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(F,Q){return F.concat(T.splitTextToSize(Q,E))},[])):u=Array.isArray(u)?u:[u];for(var _=0;_<u.length;_++)g<(S=this.getStringUnitWidth(u[_],{font:m})*A)&&(g=S);return g!==0&&(B=u.length),{w:g/=v,h:Math.max((B*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var f=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&v&&(this.printHeaderRow(u.lineNumber,!0),u.y+=v[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-A,u.y+A,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+A,{align:"center",baseline:"top",maxWidth:u.width-A-A}):this.text(u.text,u.x+A,u.y+A,{align:"left",baseline:"top",maxWidth:u.width-A-A})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,A,m,v){if(s.call(this),!A)throw new Error("No data for PDF table.");var g,B,S,T,E=[],_=[],F=[],Q={},M={},k=[],R=[],D=(v=v||{}).autoSize||!1,O=v.printHeaders!==!1,$=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,L=v.margins||Object.assign({width:this.getPageWidth()},e),H=typeof v.padding=="number"?v.padding:3,z=v.headerBackgroundColor||"#c8c8c8",re=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=re,this.setFontSize($),m==null)_=E=Object.keys(A[0]),F=E.map(function(){return"left"});else if(Array.isArray(m)&&Fr(m[0])==="object")for(E=m.map(function(je){return je.name}),_=m.map(function(je){return je.prompt||je.name||""}),F=m.map(function(je){return je.align||"left"}),g=0;g<m.length;g+=1)M[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(_=E=m,F=E.map(function(){return"left"}));if(D||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<E.length;g+=1){for(Q[T=E[g]]=A.map(function(je){return je[T]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(_[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=Q[T],this.setFont(void 0,"normal"),S=0;S<B.length;S+=1)k.push(this.getTextDimensions(B[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[T]=Math.max.apply(null,k)+H+H,k=[]}if(O){var pe={};for(g=0;g<E.length;g+=1)pe[E[g]]={},pe[E[g]].text=_[g],pe[E[g]].align=F[g];var ae=h.call(this,pe,M);R=E.map(function(je){return new i(u,f,M[je],ae,pe[je].text,void 0,pe[je].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ne=m.reduce(function(je,se){return je[se.name]=se.align,je},{});for(g=0;g<A.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:A[g]},this);var Z=h.call(this,A[g],M);for(S=0;S<E.length;S+=1){var ue=A[g][E[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:S,data:ue},this),c.call(this,new i(u,f,M[E[S]],Z,ue,g+2,ne[E[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var h=function(u,f){var A=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(u).map(function(g){var B=u[g];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,f[g]-A-A)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/v+A+A},this).reduce(function(g,B){return Math.max(g,B)},0)};n.setTableHeaderRow=function(u){s.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){A=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(A.y=this.internal.__cell__.margins.top||0,v.push(A)),A.lineNumber=u;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,A),this.setTextColor(B)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(Rn.API);var dI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vb=uI(hI),fI=[100,200,300,400,500,600,700,800,900],h9=uI(fI);function lx(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return dI[i=i||"normal"]?i:"normal"})(n.style),s=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(n.weight),a=(function(i){return typeof vb[i=i||"normal"]=="number"?i:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function QC(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var f9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},OC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PC(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function MC(n){return n.trimLeft()}function m9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function p9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var V0,kC,HC,_f,K0,VC,KC,zC,Ax=["times"];function GC(n,e,t,s,a){var i=4,c=WC;switch(a){case Rn.API.image_compression.FAST:i=1,c=$C;break;case Rn.API.image_compression.MEDIUM:i=6,c=YC;break;case Rn.API.image_compression.SLOW:i=9,c=XC}n=(function(u,f,A,m){for(var v,g=u.length/f,B=new Uint8Array(u.length+g),S=[g9,$C,WC,YC,XC],T=0;T<g;T+=1){var E=T*f,_=u.subarray(E,E+f);if(m)B.set(m(_,A,v),E+T);else{for(var F=S.length,Q=[],M=0;M<F;M+=1)Q[M]=S[M](_,A,v);var k=y9(Q.concat());B.set(Q[k],E+T)}v=_}return B})(n,e,Math.ceil(t*s/8),c);var h=ub(n,{level:i});return Rn.API.__addimage__.arrayBufferToBinaryString(h)}function g9(n){var e=Array.apply([],n);return e.unshift(0),e}function $C(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var i=n[a-e]||0;s[a+1]=n[a]-i+256&255}return s}function WC(n,e,t){var s=n.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var c=t&&t[i]||0;a[i+1]=n[i]-c+256&255}return a}function YC(n,e,t){var s=n.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var c=n[i-e]||0,h=t&&t[i]||0;a[i+1]=n[i]+256-(c+h>>>1)&255}return a}function XC(n,e,t){var s=n.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var c=v9(n[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);a[i+1]=n[i]-c+256&255}return a}function v9(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),i=Math.abs(n+e-t-t);return s<=a&&s<=i?n:a<=i?e:t}function y9(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function cx(n,e,t){var s=e*t,a=Math.floor(s/8),i=16-(s-8*a+t),c=(1<<t)-1;return mI(n,a)>>i&c}function JC(n,e,t,s){var a=t*s,i=Math.floor(a/8),c=16-(a-8*i+s),h=(1<<s)-1,u=(e&h)<<c;(function(f,A,m){if(A+1<f.byteLength)f.setUint16(A,m,!1);else{var v=m>>8&255;f.setUint8(A,v)}})(n,i,mI(n,i)&~(h<<c)&65535|u)}function mI(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function x9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],i=a>>7,c=1<<1+(7&a);n[e++],n[e++];var h=null,u=null;i&&(h=e,u=c,e+=3*c);var f=!0,A=[],m=0,v=null,g=0,B=null;for(this.width=t,this.height=s;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,B=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];m=n[e++]|n[e++]<<8,v=n[e++],1&S||(v=null),g=S>>2&7,e++;break;case 254:for(;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var T=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,Q=n[e++],M=Q>>6&1,k=1<<1+(7&Q),R=h,D=u,O=!1;Q>>7&&(O=!0,R=e,D=k,e+=3*k);var $=e;for(e++;;){var L;if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}A.push({x:T,y:E,width:_,height:F,has_local_palette:O,palette_offset:R,palette_size:D,data_offset:$,data_length:e-$,transparent_index:v,interlaced:!!M,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return B},this.frameInfo=function(H){if(H<0||H>=A.length)throw new Error("Frame index out of range.");return A[H]},this.decodeAndBlitFrameBGRA=function(H,z){var re=this.frameInfo(H),pe=re.width*re.height,ae=new Uint8Array(pe);qC(n,re.data_offset,ae,pe);var ne=re.palette_offset,Z=re.transparent_index;Z===null&&(Z=256);var ue=re.width,je=t-ue,se=ue,G=4*(re.y*t+re.x),te=4*((re.y+re.height)*t+re.x),le=G,he=4*je;re.interlaced===!0&&(he+=4*t*7);for(var ce=8,xe=0,Ne=ae.length;xe<Ne;++xe){var Te=ae[xe];if(se===0&&(se=ue,(le+=he)>=te&&(he=4*je+4*t*(ce-1),le=G+(ue+je)*(ce<<1),ce>>=1)),Te===Z)le+=4;else{var Fe=n[ne+3*Te],tt=n[ne+3*Te+1],$e=n[ne+3*Te+2];z[le++]=$e,z[le++]=tt,z[le++]=Fe,z[le++]=255}--se}},this.decodeAndBlitFrameRGBA=function(H,z){var re=this.frameInfo(H),pe=re.width*re.height,ae=new Uint8Array(pe);qC(n,re.data_offset,ae,pe);var ne=re.palette_offset,Z=re.transparent_index;Z===null&&(Z=256);var ue=re.width,je=t-ue,se=ue,G=4*(re.y*t+re.x),te=4*((re.y+re.height)*t+re.x),le=G,he=4*je;re.interlaced===!0&&(he+=4*t*7);for(var ce=8,xe=0,Ne=ae.length;xe<Ne;++xe){var Te=ae[xe];if(se===0&&(se=ue,(le+=he)>=te&&(he=4*je+4*t*(ce-1),le=G+(ue+je)*(ce<<1),ce>>=1)),Te===Z)le+=4;else{var Fe=n[ne+3*Te],tt=n[ne+3*Te+1],$e=n[ne+3*Te+2];z[le++]=Fe,z[le++]=tt,z[le++]=$e,z[le++]=255}--se}}}function qC(n,e,t,s){for(var a=n[e++],i=1<<a,c=i+1,h=c+1,u=a+1,f=(1<<u)-1,A=0,m=0,v=0,g=n[e++],B=new Int32Array(4096),S=null;;){for(;A<16&&g!==0;)m|=n[e++]<<A,A+=8,g===1?g=n[e++]:--g;if(A<u)break;var T=m&f;if(m>>=u,A-=u,T!==i){if(T===c)break;for(var E=T<h?T:S,_=0,F=E;F>i;)F=B[F]>>8,++_;var Q=F;if(v+_+(E!==T?1:0)>s)return void zr.log("Warning, gif stream longer than expected.");t[v++]=Q;var M=v+=_;for(E!==T&&(t[v++]=Q),F=E;_--;)F=B[F],t[--M]=255&F,F>>=8;S!==null&&h<4096&&(B[h++]=S<<8|Q,h>=f+1&&u<12&&(++u,f=f<<1|1)),S=T}else h=c+1,f=(1<<(u=a+1))-1,S=null}return v!==s&&zr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ux(n){var e,t,s,a,i,c=Math.floor,h=new Array(64),u=new Array(64),f=new Array(64),A=new Array(64),m=new Array(65535),v=new Array(65535),g=new Array(64),B=new Array(64),S=[],T=0,E=7,_=new Array(64),F=new Array(64),Q=new Array(64),M=new Array(256),k=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(G,te){for(var le=0,he=0,ce=new Array,xe=1;xe<=16;xe++){for(var Ne=1;Ne<=G[xe];Ne++)ce[te[he]]=[],ce[te[he]][0]=le,ce[te[he]][1]=xe,he++,le++;le*=2}return ce}function ne(G){for(var te=G[0],le=G[1]-1;le>=0;)te&1<<le&&(T|=1<<E),le--,--E<0&&(T==255?(Z(255),Z(0)):Z(T),E=7,T=0)}function Z(G){S.push(G)}function ue(G){Z(G>>8&255),Z(255&G)}function je(G,te,le,he,ce){for(var xe,Ne=ce[0],Te=ce[240],Fe=(function(Je,Qt){var Ut,Yt,zt,Jt,yn,tn,Dn,xt,Et,Gt,kt=0;for(Et=0;Et<8;++Et){Ut=Je[kt],Yt=Je[kt+1],zt=Je[kt+2],Jt=Je[kt+3],yn=Je[kt+4],tn=Je[kt+5],Dn=Je[kt+6];var Pn=Ut+(xt=Je[kt+7]),ke=Ut-xt,gt=Yt+Dn,He=Yt-Dn,at=zt+tn,ht=zt-tn,Rt=Jt+yn,Bt=Jt-yn,Ht=Pn+Rt,xn=Pn-Rt,Ct=gt+at,dt=gt-at;Je[kt]=Ht+Ct,Je[kt+4]=Ht-Ct;var Dt=.707106781*(dt+xn);Je[kt+2]=xn+Dt,Je[kt+6]=xn-Dt;var Xt=.382683433*((Ht=Bt+ht)-(dt=He+ke)),rn=.5411961*Ht+Xt,cs=1.306562965*dt+Xt,Bs=.707106781*(Ct=ht+He),ln=ke+Bs,si=ke-Bs;Je[kt+5]=si+rn,Je[kt+3]=si-rn,Je[kt+1]=ln+cs,Je[kt+7]=ln-cs,kt+=8}for(kt=0,Et=0;Et<8;++Et){Ut=Je[kt],Yt=Je[kt+8],zt=Je[kt+16],Jt=Je[kt+24],yn=Je[kt+32],tn=Je[kt+40],Dn=Je[kt+48];var Fa=Ut+(xt=Je[kt+56]),ua=Ut-xt,$r=Yt+Dn,an=Yt-Dn,Re=zt+tn,_t=zt-tn,Pt=Jt+yn,Nt=Jt-yn,Vt=Fa+Pt,Tt=Fa-Pt,gn=$r+Re,En=$r-Re;Je[kt]=Vt+gn,Je[kt+32]=Vt-gn;var Ln=.707106781*(En+Tt);Je[kt+16]=Tt+Ln,Je[kt+48]=Tt-Ln;var ur=.382683433*((Vt=Nt+_t)-(En=an+ua)),Hn=.5411961*Vt+ur,Tn=1.306562965*En+ur,Us=.707106781*(gn=_t+an),Es=ua+Us,ir=ua-Us;Je[kt+40]=ir+Hn,Je[kt+24]=ir-Hn,Je[kt+8]=Es+Tn,Je[kt+56]=Es-Tn,kt++}for(Et=0;Et<64;++Et)Gt=Je[Et]*Qt[Et],g[Et]=Gt>0?Gt+.5|0:Gt-.5|0;return g})(G,te),tt=0;tt<64;++tt)B[R[tt]]=Fe[tt];var $e=B[0]-le;le=B[0],$e==0?ne(he[0]):(ne(he[v[xe=32767+$e]]),ne(m[xe]));for(var it=63;it>0&&B[it]==0;)it--;if(it==0)return ne(Ne),le;for(var Ve,fe=1;fe<=it;){for(var ut=fe;B[fe]==0&&fe<=it;)++fe;var Lt=fe-ut;if(Lt>=16){Ve=Lt>>4;for(var Ge=1;Ge<=Ve;++Ge)ne(Te);Lt&=15}xe=32767+B[fe],ne(ce[(Lt<<4)+v[xe]]),ne(m[xe]),fe++}return it!=63&&ne(Ne),le}function se(G){G=Math.min(Math.max(G,1),100),i!=G&&((function(te){for(var le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var ce=c((le[he]*te+50)/100);ce=Math.min(Math.max(ce,1),255),h[R[he]]=ce}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Te=c((xe[Ne]*te+50)/100);Te=Math.min(Math.max(Te,1),255),u[R[Ne]]=Te}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,$e=0;$e<8;$e++)for(var it=0;it<8;it++)f[tt]=1/(h[R[tt]]*Fe[$e]*Fe[it]*8),A[tt]=1/(u[R[tt]]*Fe[$e]*Fe[it]*8),tt++})(G<50?Math.floor(5e3/G):Math.floor(200-2*G)),i=G)}this.encode=function(G,te){te&&se(te),S=new Array,T=0,E=7,ue(65496),ue(65504),ue(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ue(1),ue(1),Z(0),Z(0),(function(){ue(65499),ue(132),Z(0);for(var Yt=0;Yt<64;Yt++)Z(h[Yt]);Z(1);for(var zt=0;zt<64;zt++)Z(u[zt])})(),(function(Yt,zt){ue(65472),ue(17),Z(8),ue(zt),ue(Yt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(G.width,G.height),(function(){ue(65476),ue(418),Z(0);for(var Yt=0;Yt<16;Yt++)Z(D[Yt+1]);for(var zt=0;zt<=11;zt++)Z(O[zt]);Z(16);for(var Jt=0;Jt<16;Jt++)Z($[Jt+1]);for(var yn=0;yn<=161;yn++)Z(L[yn]);Z(1);for(var tn=0;tn<16;tn++)Z(H[tn+1]);for(var Dn=0;Dn<=11;Dn++)Z(z[Dn]);Z(17);for(var xt=0;xt<16;xt++)Z(re[xt+1]);for(var Et=0;Et<=161;Et++)Z(pe[Et])})(),ue(65498),ue(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var le=0,he=0,ce=0;T=0,E=7,this.encode.displayName="_encode_";for(var xe,Ne,Te,Fe,tt,$e,it,Ve,fe,ut=G.data,Lt=G.width,Ge=G.height,Je=4*Lt,Qt=0;Qt<Ge;){for(xe=0;xe<Je;){for(tt=Je*Qt+xe,it=-1,Ve=0,fe=0;fe<64;fe++)$e=tt+(Ve=fe>>3)*Je+(it=4*(7&fe)),Qt+Ve>=Ge&&($e-=Je*(Qt+1+Ve-Ge)),xe+it>=Je&&($e-=xe+it-Je+4),Ne=ut[$e++],Te=ut[$e++],Fe=ut[$e++],_[fe]=(k[Ne]+k[Te+256|0]+k[Fe+512|0]>>16)-128,F[fe]=(k[Ne+768|0]+k[Te+1024|0]+k[Fe+1280|0]>>16)-128,Q[fe]=(k[Ne+1280|0]+k[Te+1536|0]+k[Fe+1792|0]>>16)-128;le=je(_,f,le,e,s),he=je(F,A,he,t,a),ce=je(Q,A,ce,t,a),xe+=32}Qt+=8}if(E>=0){var Ut=[];Ut[1]=E+1,Ut[0]=(1<<E+1)-1,ne(Ut)}return ue(65497),new Uint8Array(S)},n=n||50,(function(){for(var G=String.fromCharCode,te=0;te<256;te++)M[te]=G(te)})(),e=ae(D,O),t=ae(H,z),s=ae($,L),a=ae(re,pe),(function(){for(var G=1,te=2,le=1;le<=15;le++){for(var he=G;he<te;he++)v[32767+he]=le,m[32767+he]=[],m[32767+he][1]=le,m[32767+he][0]=he;for(var ce=-(te-1);ce<=-G;ce++)v[32767+ce]=le,m[32767+ce]=[],m[32767+ce][1]=le,m[32767+ce][0]=te-1+ce;G<<=1,te<<=1}})(),(function(){for(var G=0;G<256;G++)k[G]=19595*G,k[G+256|0]=38470*G,k[G+512|0]=7471*G+32768,k[G+768|0]=-11059*G,k[G+1024|0]=-21709*G,k[G+1280|0]=32768*G+8421375,k[G+1536|0]=-27439*G,k[G+1792|0]=-5329*G})(),se(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function XA(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZC(n){function e(O){if(!O)throw Error("assert :P")}function t(O,$,L){for(var H=0;4>H;H++)if(O[$+H]!=L.charCodeAt(H))return!0;return!1}function s(O,$,L,H,z){for(var re=0;re<z;re++)O[$+re]=L[H+re]}function a(O,$,L,H){for(var z=0;z<H;z++)O[$+z]=L}function i(O){return new Int32Array(O)}function c(O,$){for(var L=[],H=0;H<O;H++)L.push(new $);return L}function h(O,$){var L=[];return(function H(z,re,pe){for(var ae=pe[re],ne=0;ne<ae&&(z.push(pe.length>re+1?[]:new $),!(pe.length<re+1));ne++)H(z[ne],re+1,pe)})(L,0,O),L}var u=function(){var O=this;function $(x,I){for(var V=1<<I-1>>>0;x&V;)V>>>=1;return V?(x&V-1)+V:x}function L(x,I,V,Y,oe){e(!(Y%V));do x[I+(Y-=V)]=oe;while(0<Y)}function H(x,I,V,Y,oe){if(e(2328>=oe),512>=oe)var de=i(512);else if((de=i(oe))==null)return 0;return(function(me,ve,be,Se,De,Xe){var Ce,Qe,Oe=ve,lt=1<<be,Ye=i(16),ot=i(16);for(e(De!=0),e(Se!=null),e(me!=null),e(0<be),Qe=0;Qe<De;++Qe){if(15<Se[Qe])return 0;++Ye[Se[Qe]]}if(Ye[0]==De)return 0;for(ot[1]=0,Ce=1;15>Ce;++Ce){if(Ye[Ce]>1<<Ce)return 0;ot[Ce+1]=ot[Ce]+Ye[Ce]}for(Qe=0;Qe<De;++Qe)Ce=Se[Qe],0<Se[Qe]&&(Xe[ot[Ce]++]=Qe);if(ot[15]==1)return(Se=new z).g=0,Se.value=Xe[0],L(me,Oe,1,lt,Se),lt;var pt,Ft=-1,bt=lt-1,wn=0,An=1,qn=1,fn=1<<be;for(Qe=0,Ce=1,De=2;Ce<=be;++Ce,De<<=1){if(An+=qn<<=1,0>(qn-=Ye[Ce]))return 0;for(;0<Ye[Ce];--Ye[Ce])(Se=new z).g=Ce,Se.value=Xe[Qe++],L(me,Oe+wn,De,fn,Se),wn=$(wn,Ce)}for(Ce=be+1,De=2;15>=Ce;++Ce,De<<=1){if(An+=qn<<=1,0>(qn-=Ye[Ce]))return 0;for(;0<Ye[Ce];--Ye[Ce]){if(Se=new z,(wn&bt)!=Ft){for(Oe+=fn,pt=1<<(Ft=Ce)-be;15>Ft&&!(0>=(pt-=Ye[Ft]));)++Ft,pt<<=1;lt+=fn=1<<(pt=Ft-be),me[ve+(Ft=wn&bt)].g=pt+be,me[ve+Ft].value=Oe-ve-Ft}Se.g=Ce-be,Se.value=Xe[Qe++],L(me,Oe+(wn>>be),De,fn,Se),wn=$(wn,Ce)}}return An!=2*ot[15]-1?0:lt})(x,I,V,Y,oe,de)}function z(){this.value=this.g=0}function re(){this.value=this.g=0}function pe(){this.G=c(5,z),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Bo,re)}function ae(x,I,V,Y){e(x!=null),e(I!=null),e(2147483648>Y),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=I,x.pa=V,x.Jd=I,x.Yc=V+Y,x.Zc=4<=Y?V+Y-4+1:V,Ne(x)}function ne(x,I){for(var V=0;0<I--;)V|=Fe(x,128)<<I;return V}function Z(x,I){var V=ne(x,I);return Te(x)?-V:V}function ue(x,I,V,Y){var oe,de=0;for(e(x!=null),e(I!=null),e(4294967288>Y),x.Sb=Y,x.Ra=0,x.u=0,x.h=0,4<Y&&(Y=4),oe=0;oe<Y;++oe)de+=I[V+oe]<<8*oe;x.Ra=de,x.bb=Y,x.oa=I,x.pa=V}function je(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<qo-8>>>0,++x.bb,x.u-=8;he(x)&&(x.h=1,x.u=0)}function se(x,I){if(e(0<=I),!x.h&&I<=li){var V=le(x)&ps[I];return x.u+=I,je(x),V}return x.h=1,x.u=0}function G(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function te(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function le(x){return x.Ra>>>(x.u&qo-1)>>>0}function he(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>qo}function ce(x,I){x.u=I,x.h=he(x)}function xe(x){x.u>=Zo&&(e(x.u>=Zo),je(x))}function Ne(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Te(x){return ne(x,1)}function Fe(x,I){var V=x.Ca;0>x.b&&Ne(x);var Y=x.b,oe=V*I>>>8,de=(x.I>>>Y>oe)+0;for(de?(V-=oe,x.I-=oe+1<<Y>>>0):V=oe+1,Y=V,oe=0;256<=Y;)oe+=8,Y>>=8;return Y=7^oe+dl[Y],x.b-=Y,x.Ca=(V<<Y)-1,de}function tt(x,I,V){x[I+0]=V>>24&255,x[I+1]=V>>16&255,x[I+2]=V>>8&255,x[I+3]=255&V}function $e(x,I){return x[I+0]|x[I+1]<<8}function it(x,I){return $e(x,I)|x[I+2]<<16}function Ve(x,I){return $e(x,I)|$e(x,I+2)<<16}function fe(x,I){var V=1<<I;return e(x!=null),e(0<I),x.X=i(V),x.X==null?0:(x.Mb=32-I,x.Xa=I,1)}function ut(x,I){e(x!=null),e(I!=null),e(x.Xa==I.Xa),s(I.X,0,x.X,0,1<<I.Xa)}function Lt(){this.X=[],this.Xa=this.Mb=0}function Ge(x,I,V,Y){e(V!=null),e(Y!=null);var oe=V[0],de=Y[0];return oe==0&&(oe=(x*de+I/2)/I),de==0&&(de=(I*oe+x/2)/x),0>=oe||0>=de?0:(V[0]=oe,Y[0]=de,1)}function Je(x,I){return x+(1<<I)-1>>>I}function Qt(x,I){return((4278255360&x)+(4278255360&I)>>>0&4278255360)+((16711935&x)+(16711935&I)>>>0&16711935)>>>0}function Ut(x,I){O[I]=function(V,Y,oe,de,me,ve,be){var Se;for(Se=0;Se<me;++Se){var De=O[x](ve[be+Se-1],oe,de+Se);ve[be+Se]=Qt(V[Y+Se],De)}}}function Yt(){this.ud=this.hd=this.jd=0}function zt(x,I){return((4278124286&(x^I))>>>1)+(x&I)>>>0}function Jt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function yn(x,I){return Jt(x+(x-I+.5>>1))}function tn(x,I,V){return Math.abs(I-V)-Math.abs(x-V)}function Dn(x,I,V,Y,oe,de,me){for(Y=de[me-1],V=0;V<oe;++V)de[me+V]=Y=Qt(x[I+V],Y)}function xt(x,I,V,Y,oe){var de;for(de=0;de<V;++de){var me=x[I+de],ve=me>>8&255,be=16711935&(be=(be=16711935&me)+((ve<<16)+ve));Y[oe+de]=(4278255360&me)+be>>>0}}function Et(x,I){I.jd=255&x,I.hd=x>>8&255,I.ud=x>>16&255}function Gt(x,I,V,Y,oe,de){var me;for(me=0;me<Y;++me){var ve=I[V+me],be=ve>>>8,Se=ve,De=255&(De=(De=ve>>>16)+((x.jd<<24>>24)*(be<<24>>24)>>>5));Se=255&(Se=(Se+=(x.hd<<24>>24)*(be<<24>>24)>>>5)+((x.ud<<24>>24)*(De<<24>>24)>>>5)),oe[de+me]=(4278255360&ve)+(De<<16)+Se}}function kt(x,I,V,Y,oe){O[I]=function(de,me,ve,be,Se,De,Xe,Ce,Qe){for(be=Xe;be<Ce;++be)for(Xe=0;Xe<Qe;++Xe)Se[De++]=oe(ve[Y(de[me++])])},O[x]=function(de,me,ve,be,Se,De,Xe){var Ce=8>>de.b,Qe=de.Ea,Oe=de.K[0],lt=de.w;if(8>Ce)for(de=(1<<de.b)-1,lt=(1<<Ce)-1;me<ve;++me){var Ye,ot=0;for(Ye=0;Ye<Qe;++Ye)Ye&de||(ot=Y(be[Se++])),De[Xe++]=oe(Oe[ot&lt]),ot>>=Ce}else O["VP8LMapColor"+V](be,Se,Oe,lt,De,Xe,me,ve,Qe)}}function Pn(x,I,V,Y,oe){for(V=I+V;I<V;){var de=x[I++];Y[oe++]=de>>16&255,Y[oe++]=de>>8&255,Y[oe++]=255&de}}function ke(x,I,V,Y,oe){for(V=I+V;I<V;){var de=x[I++];Y[oe++]=de>>16&255,Y[oe++]=de>>8&255,Y[oe++]=255&de,Y[oe++]=de>>24&255}}function gt(x,I,V,Y,oe){for(V=I+V;I<V;){var de=(me=x[I++])>>16&240|me>>12&15,me=240&me|me>>28&15;Y[oe++]=de,Y[oe++]=me}}function He(x,I,V,Y,oe){for(V=I+V;I<V;){var de=(me=x[I++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;Y[oe++]=de,Y[oe++]=me}}function at(x,I,V,Y,oe){for(V=I+V;I<V;){var de=x[I++];Y[oe++]=255&de,Y[oe++]=de>>8&255,Y[oe++]=de>>16&255}}function ht(x,I,V,Y,oe,de){if(de==0)for(V=I+V;I<V;)tt(Y,((de=x[I++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),oe+=32;else s(Y,oe,x,I,V)}function Rt(x,I){O[I][0]=O[x+"0"],O[I][1]=O[x+"1"],O[I][2]=O[x+"2"],O[I][3]=O[x+"3"],O[I][4]=O[x+"4"],O[I][5]=O[x+"5"],O[I][6]=O[x+"6"],O[I][7]=O[x+"7"],O[I][8]=O[x+"8"],O[I][9]=O[x+"9"],O[I][10]=O[x+"10"],O[I][11]=O[x+"11"],O[I][12]=O[x+"12"],O[I][13]=O[x+"13"],O[I][14]=O[x+"0"],O[I][15]=O[x+"0"]}function Bt(x){return x==qc||x==Qu||x==cc||x==PA}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new xn,this.sd=null}function dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function rn(x,I){var V=x.T,Y=I.ba.f.RGBA,oe=Y.eb,de=Y.fb+x.ka*Y.A,me=Xa[I.ba.S],ve=x.y,be=x.O,Se=x.f,De=x.N,Xe=x.ea,Ce=x.W,Qe=I.cc,Oe=I.dc,lt=I.Mc,Ye=I.Nc,ot=x.ka,pt=x.ka+x.T,Ft=x.U,bt=Ft+1>>1;for(ot==0?me(ve,be,null,null,Se,De,Xe,Ce,Se,De,Xe,Ce,oe,de,null,null,Ft):(me(I.ec,I.fc,ve,be,Qe,Oe,lt,Ye,Se,De,Xe,Ce,oe,de-Y.A,oe,de,Ft),++V);ot+2<pt;ot+=2)Qe=Se,Oe=De,lt=Xe,Ye=Ce,De+=x.Rc,Ce+=x.Rc,de+=2*Y.A,me(ve,(be+=2*x.fa)-x.fa,ve,be,Qe,Oe,lt,Ye,Se,De,Xe,Ce,oe,de-Y.A,oe,de,Ft);return be+=x.fa,x.j+pt<x.o?(s(I.ec,I.fc,ve,be,Ft),s(I.cc,I.dc,Se,De,bt),s(I.Mc,I.Nc,Xe,Ce,bt),V--):1&pt||me(ve,be,null,null,Se,De,Xe,Ce,Se,De,Xe,Ce,oe,de+Y.A,null,null,Ft),V}function cs(x,I,V){var Y=x.F,oe=[x.J];if(Y!=null){var de=x.U,me=I.ba.S,ve=me==Jc||me==cc;I=I.ba.f.RGBA;var be=[0],Se=x.ka;be[0]=x.T,x.Kb&&(Se==0?--be[0]:(--Se,oe[0]-=x.width),x.j+x.ka+x.T==x.o&&(be[0]=x.o-x.j-Se));var De=I.eb;Se=I.fb+Se*I.A,x=Ac(Y,oe[0],x.width,de,be,De,Se+(ve?0:3),I.A),e(V==be),x&&Bt(me)&&lA(De,Se,ve,de,be,I.A)}return 0}function Bs(x){var I=x.ma,V=I.ba.S,Y=11>V,oe=V==di||V==jo||V==Jc||V==Pl||V==12||Bt(V);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!jr(I.Oa,x,oe?11:12))return 0;if(oe&&Bt(V)&&Jn(),x.da)alert("todo:use_scaling");else{if(Y){if(I.Ib=Xt,x.Kb){if(V=x.U+1>>1,I.memory=i(x.U+2*V),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+x.U,I.Mc=I.cc,I.Nc=I.dc+V,I.Ib=rn,Jn()}}else alert("todo:EmitYUV");oe&&(I.Jb=cs,Y&&et())}if(Y&&!pA){for(x=0;256>x;++x)Ja[x]=89858*(x-128)+dc>>To,ym[x]=-22014*(x-128)+dc,sf[x]=-45773*(x-128),Hu[x]=113618*(x-128)+dc>>To;for(x=yl;x<mA;++x)I=76283*(x-16)+dc>>To,xm[x-yl]=Br(I,255),bm[x-yl]=Br(I+8>>4,15);pA=1}return 1}function ln(x){var I=x.ma,V=x.U,Y=x.T;return e(!(1&x.ka)),0>=V||0>=Y?0:(V=I.Ib(x,I),I.Jb!=null&&I.Jb(x,I,V),I.Dc+=V,1)}function si(x){x.ma.memory=null}function Fa(x,I,V,Y){return se(x,8)!=47?0:(I[0]=se(x,14)+1,V[0]=se(x,14)+1,Y[0]=se(x,1),se(x,3)!=0?0:!x.h)}function ua(x,I){if(4>x)return x+1;var V=x-2>>1;return(2+(1&x)<<V)+se(I,V)+1}function $r(x,I){return 120<I?I-120:1<=(V=((V=Eo[I-1])>>4)*x+(8-(15&V)))?V:1;var V}function an(x,I,V){var Y=le(V),oe=x[I+=255&Y].g-8;return 0<oe&&(ce(V,V.u+8),Y=le(V),I+=x[I].value,I+=Y&(1<<oe)-1),ce(V,V.u+x[I].g),x[I].value}function Re(x,I,V){return V.g+=x.g,V.value+=x.value<<I>>>0,e(8>=V.g),x.g}function _t(x,I,V){var Y=x.xc;return e((I=Y==0?0:x.vc[x.md*(V>>Y)+(I>>Y)])<x.Wb),x.Ya[I]}function Pt(x,I,V,Y){var oe=x.ab,de=x.c*I,me=x.C;I=me+I;var ve=V,be=Y;for(Y=x.Ta,V=x.Ua;0<oe--;){var Se=x.gc[oe],De=me,Xe=I,Ce=ve,Qe=be,Oe=(be=Y,ve=V,Se.Ea);switch(e(De<Xe),e(Xe<=Se.nc),Se.hc){case 2:Jr(Ce,Qe,(Xe-De)*Oe,be,ve);break;case 0:var lt=De,Ye=Xe,ot=be,pt=ve,Ft=(fn=Se).Ea;lt==0&&(Ll(Ce,Qe,null,null,1,ot,pt),Dn(Ce,Qe+1,0,0,Ft-1,ot,pt+1),Qe+=Ft,pt+=Ft,++lt);for(var bt=1<<fn.b,wn=bt-1,An=Je(Ft,fn.b),qn=fn.K,fn=fn.w+(lt>>fn.b)*An;lt<Ye;){var bs=qn,Er=fn,rs=1;for(RA(Ce,Qe,ot,pt-Ft,1,ot,pt);rs<Ft;){var st=(rs&~wn)+bt;st>Ft&&(st=Ft),(0,Ai[bs[Er++]>>8&15])(Ce,Qe+ +rs,ot,pt+rs-Ft,st-rs,ot,pt+rs),rs=st}Qe+=Ft,pt+=Ft,++lt&wn||(fn+=An)}Xe!=Se.nc&&s(be,ve-Oe,be,ve+(Xe-De-1)*Oe,Oe);break;case 1:for(Oe=Ce,Ye=Qe,Ft=(Ce=Se.Ea)-(pt=Ce&~(ot=(Qe=1<<Se.b)-1)),lt=Je(Ce,Se.b),bt=Se.K,Se=Se.w+(De>>Se.b)*lt;De<Xe;){for(wn=bt,An=Se,qn=new Yt,fn=Ye+pt,bs=Ye+Ce;Ye<fn;)Et(wn[An++],qn),DA(qn,Oe,Ye,Qe,be,ve),Ye+=Qe,ve+=Qe;Ye<bs&&(Et(wn[An++],qn),DA(qn,Oe,Ye,Ft,be,ve),Ye+=Ft,ve+=Ft),++De&ot||(Se+=lt)}break;case 3:if(Ce==be&&Qe==ve&&0<Se.b){for(Ye=be,Ce=Oe=ve+(Xe-De)*Oe-(pt=(Xe-De)*Je(Se.Ea,Se.b)),Qe=be,ot=ve,lt=[],pt=(Ft=pt)-1;0<=pt;--pt)lt[pt]=Qe[ot+pt];for(pt=Ft-1;0<=pt;--pt)Ye[Ce+pt]=lt[pt];Si(Se,De,Xe,be,Oe,be,ve)}else Si(Se,De,Xe,Ce,Qe,be,ve)}ve=Y,be=V}be!=V&&s(Y,V,ve,be,de)}function Nt(x,I){var V=x.V,Y=x.Ba+x.c*x.C,oe=I-x.C;if(e(I<=x.l.o),e(16>=oe),0<oe){var de=x.l,me=x.Ta,ve=x.Ua,be=de.width;if(Pt(x,oe,V,Y),oe=ve=[ve],e((V=x.C)<(Y=I)),e(de.v<de.va),Y>de.o&&(Y=de.o),V<de.j){var Se=de.j-V;V=de.j,oe[0]+=Se*be}if(V>=Y?V=0:(oe[0]+=4*de.v,de.ka=V-de.j,de.U=de.va-de.v,de.T=Y-V,V=1),V){if(ve=ve[0],11>(V=x.ca).S){var De=V.f.RGBA,Xe=(Y=V.S,oe=de.U,de=de.T,Se=De.eb,De.A),Ce=de;for(De=De.fb+x.Ma*De.A;0<Ce--;){var Qe=me,Oe=ve,lt=oe,Ye=Se,ot=De;switch(Y){case Lu:LA(Qe,Oe,lt,Ye,ot);break;case di:el(Qe,Oe,lt,Ye,ot);break;case qc:el(Qe,Oe,lt,Ye,ot),lA(Ye,ot,0,lt,1,0);break;case Ol:tl(Qe,Oe,lt,Ye,ot);break;case jo:ht(Qe,Oe,lt,Ye,ot,1);break;case Qu:ht(Qe,Oe,lt,Ye,ot,1),lA(Ye,ot,0,lt,1,0);break;case Jc:ht(Qe,Oe,lt,Ye,ot,0);break;case cc:ht(Qe,Oe,lt,Ye,ot,0),lA(Ye,ot,1,lt,1,0);break;case Pl:hl(Qe,Oe,lt,Ye,ot);break;case PA:hl(Qe,Oe,lt,Ye,ot),eo(Ye,ot,lt,1,0);break;case AA:fl(Qe,Oe,lt,Ye,ot);break;default:e(0)}ve+=be,De+=Xe}x.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=V.height)}}x.C=I,e(x.C<=x.i)}function Vt(x){var I;if(0<x.ua)return 0;for(I=0;I<x.Wb;++I){var V=x.Ya[I].G,Y=x.Ya[I].H;if(0<V[1][Y[1]+0].g||0<V[2][Y[2]+0].g||0<V[3][Y[3]+0].g)return 0}return 1}function Tt(x,I,V,Y,oe,de){if(x.Z!=0){var me=x.qd,ve=x.rd;for(e(gl[x.Z]!=null);I<V;++I)gl[x.Z](me,ve,Y,oe,Y,oe,de),me=Y,ve=oe,oe+=de;x.qd=me,x.rd=ve}}function gn(x,I){var V=x.l.ma,Y=V.Z==0||V.Z==1?x.l.j:x.C;if(Y=x.C<Y?Y:x.C,e(I<=x.l.o),I>Y){var oe=x.l.width,de=V.ca,me=V.tb+oe*Y,ve=x.V,be=x.Ba+x.c*Y,Se=x.gc;e(x.ab==1),e(Se[0].hc==3),$a(Se[0],Y,I,ve,be,de,me),Tt(V,Y,I,de,me,oe)}x.C=x.Ma=I}function En(x,I,V,Y,oe,de,me){var ve=x.$/Y,be=x.$%Y,Se=x.m,De=x.s,Xe=V+x.$,Ce=Xe;oe=V+Y*oe;var Qe=V+Y*de,Oe=280+De.ua,lt=x.Pb?ve:16777216,Ye=0<De.ua?De.Wa:null,ot=De.wc,pt=Xe<Qe?_t(De,be,ve):null;e(x.C<de),e(Qe<=oe);var Ft=!1;e:for(;;){for(;Ft||Xe<Qe;){var bt=0;if(ve>=lt){var wn=Xe-V;e((lt=x).Pb),lt.wd=lt.m,lt.xd=wn,0<lt.s.ua&&ut(lt.s.Wa,lt.s.vb),lt=ve+uA}if(be&ot||(pt=_t(De,be,ve)),e(pt!=null),pt.Qb&&(I[Xe]=pt.qb,Ft=!0),!Ft)if(xe(Se),pt.jc){bt=Se,wn=I;var An=Xe,qn=pt.pd[le(bt)&Bo-1];e(pt.jc),256>qn.g?(ce(bt,bt.u+qn.g),wn[An]=qn.value,bt=0):(ce(bt,bt.u+qn.g-256),e(256<=qn.value),bt=qn.value),bt==0&&(Ft=!0)}else bt=an(pt.G[0],pt.H[0],Se);if(Se.h)break;if(Ft||256>bt){if(!Ft)if(pt.nd)I[Xe]=(pt.qb|bt<<8)>>>0;else{if(xe(Se),Ft=an(pt.G[1],pt.H[1],Se),xe(Se),wn=an(pt.G[2],pt.H[2],Se),An=an(pt.G[3],pt.H[3],Se),Se.h)break;I[Xe]=(An<<24|Ft<<16|bt<<8|wn)>>>0}if(Ft=!1,++Xe,++be>=Y&&(be=0,++ve,me!=null&&ve<=de&&!(ve%16)&&me(x,ve),Ye!=null))for(;Ce<Xe;)bt=I[Ce++],Ye.X[(506832829*bt&4294967295)>>>Ye.Mb]=bt}else if(280>bt){if(bt=ua(bt-256,Se),wn=an(pt.G[4],pt.H[4],Se),xe(Se),wn=$r(Y,wn=ua(wn,Se)),Se.h)break;if(Xe-V<wn||oe-Xe<bt)break e;for(An=0;An<bt;++An)I[Xe+An]=I[Xe+An-wn];for(Xe+=bt,be+=bt;be>=Y;)be-=Y,++ve,me!=null&&ve<=de&&!(ve%16)&&me(x,ve);if(e(Xe<=oe),be&ot&&(pt=_t(De,be,ve)),Ye!=null)for(;Ce<Xe;)bt=I[Ce++],Ye.X[(506832829*bt&4294967295)>>>Ye.Mb]=bt}else{if(!(bt<Oe))break e;for(Ft=bt-280,e(Ye!=null);Ce<Xe;)bt=I[Ce++],Ye.X[(506832829*bt&4294967295)>>>Ye.Mb]=bt;bt=Xe,e(!(Ft>>>(wn=Ye).Xa)),I[bt]=wn.X[Ft],Ft=!0}Ft||e(Se.h==he(Se))}if(x.Pb&&Se.h&&Xe<oe)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ut(x.s.vb,x.s.Wa);else{if(Se.h)break e;me!=null&&me(x,ve>de?de:ve),x.a=0,x.$=Xe-V}return 1}return x.a=3,0}function Ln(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var I=x.Wa;I!=null&&(I.X=null),x.vb=null,e(x!=null)}function ur(){var x=new Mn;return x==null?null:(x.a=0,x.xb=Zd,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),Jr=xt,DA=Gt,LA=Pn,el=ke,hl=gt,fl=He,tl=at,O.VP8LMapColor32b=Ga,O.VP8LMapColor8b=Ns,x)}function Hn(x,I,V,Y,oe){var de=1,me=[x],ve=[I],be=Y.m,Se=Y.s,De=null,Xe=0;e:for(;;){if(V)for(;de&&se(be,1);){var Ce=me,Qe=ve,Oe=Y,lt=1,Ye=Oe.m,ot=Oe.gc[Oe.ab],pt=se(Ye,2);if(Oe.Oc&1<<pt)de=0;else{switch(Oe.Oc|=1<<pt,ot.hc=pt,ot.Ea=Ce[0],ot.nc=Qe[0],ot.K=[null],++Oe.ab,e(4>=Oe.ab),pt){case 0:case 1:ot.b=se(Ye,3)+2,lt=Hn(Je(ot.Ea,ot.b),Je(ot.nc,ot.b),0,Oe,ot.K),ot.K=ot.K[0];break;case 3:var Ft,bt=se(Ye,8)+1,wn=16<bt?0:4<bt?1:2<bt?2:3;if(Ce[0]=Je(ot.Ea,wn),ot.b=wn,Ft=lt=Hn(bt,1,0,Oe,ot.K)){var An,qn=bt,fn=ot,bs=1<<(8>>fn.b),Er=i(bs);if(Er==null)Ft=0;else{var rs=fn.K[0],st=fn.w;for(Er[0]=fn.K[0][0],An=1;An<1*qn;++An)Er[An]=Qt(rs[st+An],Er[An-1]);for(;An<4*bs;++An)Er[An]=0;fn.K[0]=null,fn.K[0]=Er,Ft=1}}lt=Ft;break;case 2:break;default:e(0)}de=lt}}if(me=me[0],ve=ve[0],de&&se(be,1)&&!(de=1<=(Xe=se(be,4))&&11>=Xe)){Y.a=3;break e}var $t;if($t=de)t:{var Pr,Vn,Gn,nr=Y,ma=me,ia=ve,sr=Xe,pa=V,hi=nr.m,ga=nr.s,ss=[null],Ts=1,Sr=0,Ys=So[sr];n:for(;;){if(pa&&se(hi,1)){var va=se(hi,3)+2,Mr=Je(ma,va),Is=Je(ia,va),oa=Mr*Is;if(!Hn(Mr,Is,0,nr,ss))break n;for(ss=ss[0],ga.xc=va,Pr=0;Pr<oa;++Pr){var rr=ss[Pr]>>8&65535;ss[Pr]=rr,rr>=Ts&&(Ts=rr+1)}}if(hi.h)break n;for(Vn=0;5>Vn;++Vn){var ya=MA[Vn];!Vn&&0<sr&&(ya+=1<<sr),Sr<ya&&(Sr=ya)}var xa=c(Ts*Ys,z),hr=Ts,Ds=c(hr,pe);if(Ds==null)var fi=null;else e(65536>=hr),fi=Ds;var Zr=i(Sr);if(fi==null||Zr==null||xa==null){nr.a=1;break n}var Un=xa;for(Pr=Gn=0;Pr<Ts;++Pr){var kn=fi[Pr],ks=kn.G,Ki=kn.H,so=0,_i=1,kr=0;for(Vn=0;5>Vn;++Vn){ya=MA[Vn],ks[Vn]=Un,Ki[Vn]=Gn,!Vn&&0<sr&&(ya+=1<<sr);r:{var gA,xl=ya,mc=nr,fr=Zr,Ku=Un,eh=Gn,tu=0,rl=mc.m,th=se(rl,1);if(a(fr,0,0,xl),th){var zu=se(rl,1)+1,Gu=se(rl,1),nu=se(rl,Gu==0?1:8);fr[nu]=1,zu==2&&(fr[nu=se(rl,8)]=1);var Sa=1}else{var Rr=i(19),su=se(rl,4)+4;if(19<su){mc.a=3;var vA=0;break r}for(gA=0;gA<su;++gA)Rr[cA[gA]]=se(rl,3);var pc=void 0,Pa=void 0,Io=mc,$u=Rr,gc=xl,Wu=fr,Yu=0,kl=Io.m,nh=8,sh=c(128,z);s:for(;H(sh,0,7,$u,19);){if(se(kl,1)){var rf=2+2*se(kl,3);if((pc=2+se(kl,rf))>gc)break s}else pc=gc;for(Pa=0;Pa<gc&&pc--;){xe(kl);var rh=sh[0+(127&le(kl))];ce(kl,kl.u+rh.g);var Hl=rh.value;if(16>Hl)Wu[Pa++]=Hl,Hl!=0&&(nh=Hl);else{var af=Hl==16,Xu=Hl-16,ah=uc[Xu],Na=se(kl,Co[Xu])+ah;if(Pa+Na>gc)break s;for(var vc=af?nh:0;0<Na--;)Wu[Pa++]=vc}}Yu=1;break s}Yu||(Io.a=3),Sa=Yu}(Sa=Sa&&!rl.h)&&(tu=H(Ku,eh,8,fr,xl)),Sa&&tu!=0?vA=tu:(mc.a=3,vA=0)}if(vA==0)break n;if(_i&&Ou[Vn]==1&&(_i=Un[Gn].g==0),so+=Un[Gn].g,Gn+=vA,3>=Vn){var HA,Ju=Zr[0];for(HA=1;HA<ya;++HA)Zr[HA]>Ju&&(Ju=Zr[HA]);kr+=Ju}}if(kn.nd=_i,kn.Qb=0,_i&&(kn.qb=(ks[3][Ki[3]+0].value<<24|ks[1][Ki[1]+0].value<<16|ks[2][Ki[2]+0].value)>>>0,so==0&&256>ks[0][Ki[0]+0].value&&(kn.Qb=1,kn.qb+=ks[0][Ki[0]+0].value<<8)),kn.jc=!kn.Qb&&6>kr,kn.jc){var yc,_o=kn;for(yc=0;yc<Bo;++yc){var Vl=yc,Kl=_o.pd[Vl],qu=_o.G[0][_o.H[0]+Vl];256<=qu.value?(Kl.g=qu.g+256,Kl.value=qu.value):(Kl.g=0,Kl.value=0,Vl>>=Re(qu,8,Kl),Vl>>=Re(_o.G[1][_o.H[1]+Vl],16,Kl),Vl>>=Re(_o.G[2][_o.H[2]+Vl],0,Kl),Re(_o.G[3][_o.H[3]+Vl],24,Kl))}}}ga.vc=ss,ga.Wb=Ts,ga.Ya=fi,ga.yc=xa,$t=1;break t}$t=0}if(!(de=$t)){Y.a=3;break e}if(0<Xe){if(Se.ua=1<<Xe,!fe(Se.Wa,Xe)){Y.a=1,de=0;break e}}else Se.ua=0;var Zu=Y,VA=me,of=ve,xc=Zu.s,bc=xc.xc;if(Zu.c=VA,Zu.i=of,xc.md=Je(VA,bc),xc.wc=bc==0?-1:(1<<bc)-1,V){Y.xb=dA;break e}if((De=i(me*ve))==null){Y.a=1,de=0;break e}de=(de=En(Y,De,0,me,ve,ve,null))&&!be.h;break e}return de?(oe!=null?oe[0]=De:(e(De==null),e(V)),Y.$=0,V||Ln(Se)):Ln(Se),de}function Tn(x,I){var V=x.c*x.i,Y=V+I+16*I;return e(x.c<=I),x.V=i(Y),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+V+I,1)}function Us(x,I){var V=x.C,Y=I-V,oe=x.V,de=x.Ba+x.c*V;for(e(I<=x.l.o);0<Y;){var me=16<Y?16:Y,ve=x.l.ma,be=x.l.width,Se=be*me,De=ve.ca,Xe=ve.tb+be*V,Ce=x.Ta,Qe=x.Ua;Pt(x,me,oe,de),to(Ce,Qe,De,Xe,Se),Tt(ve,V,V+me,De,Xe,be),Y-=me,oe+=me*x.c,V+=me}e(V==I),x.C=x.Ma=I}function Es(){this.ub=this.yd=this.td=this.Rb=0}function ir(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Xs(){this.Yb=(function(){var x=[];return(function I(V,Y,oe){for(var de=oe[Y],me=0;me<de&&(V.push(oe.length>Y+1?[]:0),!(oe.length<Y+1));me++)I(V[me],Y+1,oe)})(x,0,[3,11]),x})()}function zs(){this.jb=i(3),this.Wc=h([4,8],Xs),this.Xc=h([4,17],Xs)}function Ka(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Wr(){this.ld=this.La=this.dd=this.tc=0}function da(){this.Na=this.la=0}function ri(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ll(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wr),this.Y=0,this.ya=Array(new wi),this.aa=0,this.l=new na}function $o(){this.y=i(16),this.f=i(8),this.ea=i(8)}function mo(){this.cb=this.a=0,this.sc="",this.m=new G,this.Od=new Es,this.Kc=new ir,this.ed=new Ka,this.Qa=new tr,this.Ic=this.$c=this.Aa=0,this.D=new ll,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,G),this.ia=0,this.pb=c(4,ri),this.Pa=new zs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $o),this.Hd=0,this.rb=Array(new da),this.sb=0,this.wa=Array(new Wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wi),this.L=this.aa=0,this.gd=h([4,2],Wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Br(x,I){return 0>x?0:x>I?I:x}function na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vr(){var x=new mo;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,no||(no=hn)),x}function os(x,I,V){return x.a==0&&(x.a=I,x.sc=V,x.cb=0),0}function Ua(x,I,V){return 3<=V&&x[I+0]==157&&x[I+1]==1&&x[I+2]==42}function Cn(x,I){if(x==null)return 0;if(x.a=0,x.sc="OK",I==null)return os(x,2,"null VP8Io passed to VP8GetHeaders()");var V=I.data,Y=I.w,oe=I.ha;if(4>oe)return os(x,7,"Truncated header.");var de=V[Y+0]|V[Y+1]<<8|V[Y+2]<<16,me=x.Od;if(me.Rb=!(1&de),me.td=de>>1&7,me.yd=de>>4&1,me.ub=de>>5,3<me.td)return os(x,3,"Incorrect keyframe parameters.");if(!me.yd)return os(x,4,"Frame not displayable.");Y+=3,oe-=3;var ve=x.Kc;if(me.Rb){if(7>oe)return os(x,7,"cannot parse picture header");if(!Ua(V,Y,oe))return os(x,3,"Bad code word");ve.c=16383&(V[Y+4]<<8|V[Y+3]),ve.Td=V[Y+4]>>6,ve.i=16383&(V[Y+6]<<8|V[Y+5]),ve.Ud=V[Y+6]>>6,Y+=7,oe-=7,x.za=ve.c+15>>4,x.Ub=ve.i+15>>4,I.width=ve.c,I.height=ve.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,a((de=x.Pa).jb,0,255,de.jb.length),e((de=x.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,a(de.Zb,0,0,de.Zb.length),a(de.Lb,0,0,de.Lb)}if(me.ub>oe)return os(x,7,"bad partition length");ae(de=x.m,V,Y,me.ub),Y+=me.ub,oe-=me.ub,me.Rb&&(ve.Ld=Te(de),ve.Kd=Te(de)),ve=x.Qa;var be,Se=x.Pa;if(e(de!=null),e(ve!=null),ve.Cb=Te(de),ve.Cb){if(ve.Bb=Te(de),Te(de)){for(ve.Fb=Te(de),be=0;4>be;++be)ve.Zb[be]=Te(de)?Z(de,7):0;for(be=0;4>be;++be)ve.Lb[be]=Te(de)?Z(de,6):0}if(ve.Bb)for(be=0;3>be;++be)Se.jb[be]=Te(de)?ne(de,8):255}else ve.Bb=0;if(de.Ka)return os(x,3,"cannot parse segment header");if((ve=x.ed).zd=Te(de),ve.Tb=ne(de,6),ve.wb=ne(de,3),ve.Pc=Te(de),ve.Pc&&Te(de)){for(Se=0;4>Se;++Se)Te(de)&&(ve.vd[Se]=Z(de,6));for(Se=0;4>Se;++Se)Te(de)&&(ve.od[Se]=Z(de,6))}if(x.L=ve.Tb==0?0:ve.zd?1:2,de.Ka)return os(x,3,"cannot parse filter header");var De=oe;if(oe=be=Y,Y=be+De,ve=De,x.Xb=(1<<ne(x.m,2))-1,De<3*(Se=x.Xb))V=7;else{for(be+=3*Se,ve-=3*Se,De=0;De<Se;++De){var Xe=V[oe+0]|V[oe+1]<<8|V[oe+2]<<16;Xe>ve&&(Xe=ve),ae(x.Jc[+De],V,be,Xe),be+=Xe,ve-=Xe,oe+=3}ae(x.Jc[+Se],V,be,ve),V=be<Y?0:5}if(V!=0)return os(x,V,"cannot parse partitions");for(V=ne(be=x.m,7),oe=Te(be)?Z(be,4):0,Y=Te(be)?Z(be,4):0,ve=Te(be)?Z(be,4):0,Se=Te(be)?Z(be,4):0,be=Te(be)?Z(be,4):0,De=x.Qa,Xe=0;4>Xe;++Xe){if(De.Cb){var Ce=De.Zb[Xe];De.Fb||(Ce+=V)}else{if(0<Xe){x.pb[Xe]=x.pb[0];continue}Ce=V}var Qe=x.pb[Xe];Qe.Sc[0]=No[Br(Ce+oe,127)],Qe.Sc[1]=Ti[Br(Ce+0,127)],Qe.Eb[0]=2*No[Br(Ce+Y,127)],Qe.Eb[1]=101581*Ti[Br(Ce+ve,127)]>>16,8>Qe.Eb[1]&&(Qe.Eb[1]=8),Qe.Qc[0]=No[Br(Ce+Se,117)],Qe.Qc[1]=Ti[Br(Ce+be,127)],Qe.lc=Ce+be}if(!me.Rb)return os(x,4,"Not a key frame.");for(Te(de),me=x.Pa,V=0;4>V;++V){for(oe=0;8>oe;++oe)for(Y=0;3>Y;++Y)for(ve=0;11>ve;++ve)Se=Fe(de,Cr[V][oe][Y][ve])?ne(de,8):nf[V][oe][Y][ve],me.Wc[V][oe].Yb[Y][ve]=Se;for(oe=0;17>oe;++oe)me.Xc[V][oe]=me.Wc[V][js[oe]]}return x.kc=Te(de),x.kc&&(x.Bd=ne(de,8)),x.cb=1}function hn(x,I,V,Y,oe,de,me){var ve=I[oe].Yb[V];for(V=0;16>oe;++oe){if(!Fe(x,ve[V+0]))return oe;for(;!Fe(x,ve[V+1]);)if(ve=I[++oe].Yb[0],V=0,oe==16)return 16;var be=I[oe+1].Yb;if(Fe(x,ve[V+2])){var Se=x,De=0;if(Fe(Se,(Ce=ve)[(Xe=V)+3]))if(Fe(Se,Ce[Xe+6])){for(ve=0,Xe=2*(De=Fe(Se,Ce[Xe+8]))+(Ce=Fe(Se,Ce[Xe+9+De])),De=0,Ce=tf[Xe];Ce[ve];++ve)De+=De+Fe(Se,Ce[ve]);De+=3+(8<<Xe)}else Fe(Se,Ce[Xe+7])?(De=7+2*Fe(Se,165),De+=Fe(Se,145)):De=5+Fe(Se,159);else De=Fe(Se,Ce[Xe+4])?3+Fe(Se,Ce[Xe+5]):2;ve=be[2]}else De=1,ve=be[1];be=me+qd[oe],0>(Se=x).b&&Ne(Se);var Xe,Ce=Se.b,Qe=(Xe=Se.Ca>>1)-(Se.I>>Ce)>>31;--Se.b,Se.Ca+=Qe,Se.Ca|=1,Se.I-=(Xe+1&Qe)<<Ce,de[be]=((De^Qe)-Qe)*Y[(0<oe)+0]}return 16}function Ss(x){var I=x.rb[x.sb-1];I.la=0,I.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Fn(x,I,V,Y,oe){oe=x[I+V+32*Y]+(oe>>3),x[I+V+32*Y]=-256&oe?0>oe?0:255:oe}function Qn(x,I,V,Y,oe,de){Fn(x,I,0,V,Y+oe),Fn(x,I,1,V,Y+de),Fn(x,I,2,V,Y-de),Fn(x,I,3,V,Y-oe)}function Kt(x){return(20091*x>>16)+x}function Js(x,I,V,Y){var oe,de=0,me=i(16);for(oe=0;4>oe;++oe){var ve=x[I+0]+x[I+8],be=x[I+0]-x[I+8],Se=(35468*x[I+4]>>16)-Kt(x[I+12]),De=Kt(x[I+4])+(35468*x[I+12]>>16);me[de+0]=ve+De,me[de+1]=be+Se,me[de+2]=be-Se,me[de+3]=ve-De,de+=4,I++}for(oe=de=0;4>oe;++oe)ve=(x=me[de+0]+4)+me[de+8],be=x-me[de+8],Se=(35468*me[de+4]>>16)-Kt(me[de+12]),Fn(V,Y,0,0,ve+(De=Kt(me[de+4])+(35468*me[de+12]>>16))),Fn(V,Y,1,0,be+Se),Fn(V,Y,2,0,be-Se),Fn(V,Y,3,0,ve-De),de++,Y+=32}function Bi(x,I,V,Y){var oe=x[I+0]+4,de=35468*x[I+4]>>16,me=Kt(x[I+4]),ve=35468*x[I+1]>>16;Qn(V,Y,0,oe+me,x=Kt(x[I+1]),ve),Qn(V,Y,1,oe+de,x,ve),Qn(V,Y,2,oe-de,x,ve),Qn(V,Y,3,oe-me,x,ve)}function Wi(x,I,V,Y,oe){Js(x,I,V,Y),oe&&Js(x,I+16,V,Y+4)}function Or(x,I,V,Y){Ql(x,I+0,V,Y,1),Ql(x,I+32,V,Y+128,1)}function Wo(x,I,V,Y){var oe;for(x=x[I+0]+4,oe=0;4>oe;++oe)for(I=0;4>I;++I)Fn(V,Y,I,oe,x)}function Ur(x,I,V,Y){x[I+0]&&Ms(x,I+0,V,Y),x[I+16]&&Ms(x,I+16,V,Y+4),x[I+32]&&Ms(x,I+32,V,Y+128),x[I+48]&&Ms(x,I+48,V,Y+128+4)}function Qs(x,I,V,Y){var oe,de=i(16);for(oe=0;4>oe;++oe){var me=x[I+0+oe]+x[I+12+oe],ve=x[I+4+oe]+x[I+8+oe],be=x[I+4+oe]-x[I+8+oe],Se=x[I+0+oe]-x[I+12+oe];de[0+oe]=me+ve,de[8+oe]=me-ve,de[4+oe]=Se+be,de[12+oe]=Se-be}for(oe=0;4>oe;++oe)me=(x=de[0+4*oe]+3)+de[3+4*oe],ve=de[1+4*oe]+de[2+4*oe],be=de[1+4*oe]-de[2+4*oe],Se=x-de[3+4*oe],V[Y+0]=me+ve>>3,V[Y+16]=Se+be>>3,V[Y+32]=me-ve>>3,V[Y+48]=Se-be>>3,Y+=64}function Mi(x,I,V){var Y,oe=I-32,de=ui,me=255-x[oe-1];for(Y=0;Y<V;++Y){var ve,be=de,Se=me+x[I-1];for(ve=0;ve<V;++ve)x[I+ve]=be[Se+x[oe+ve]];I+=32}}function po(x,I){Mi(x,I,4)}function Yo(x,I){Mi(x,I,8)}function sA(x,I){Mi(x,I,16)}function Ul(x,I){var V;for(V=0;16>V;++V)s(x,I+32*V,x,I-32,16)}function Yi(x,I){var V;for(V=16;0<V;--V)a(x,I,x[I-1],16),I+=32}function Yr(x,I,V){var Y;for(Y=0;16>Y;++Y)a(I,V+32*Y,x,16)}function Xi(x,I){var V,Y=16;for(V=0;16>V;++V)Y+=x[I-1+32*V]+x[I+V-32];Yr(Y>>5,x,I)}function Xo(x,I){var V,Y=8;for(V=0;16>V;++V)Y+=x[I-1+32*V];Yr(Y>>4,x,I)}function ai(x,I){var V,Y=8;for(V=0;16>V;++V)Y+=x[I+V-32];Yr(Y>>4,x,I)}function ki(x,I){Yr(128,x,I)}function On(x,I,V){return x+2*I+V+2>>2}function Rl(x,I){var V,Y=I-32;for(Y=new Uint8Array([On(x[Y-1],x[Y+0],x[Y+1]),On(x[Y+0],x[Y+1],x[Y+2]),On(x[Y+1],x[Y+2],x[Y+3]),On(x[Y+2],x[Y+3],x[Y+4])]),V=0;4>V;++V)s(x,I+32*V,Y,0,Y.length)}function rA(x,I){var V=x[I-1],Y=x[I-1+32],oe=x[I-1+64],de=x[I-1+96];tt(x,I+0,16843009*On(x[I-1-32],V,Y)),tt(x,I+32,16843009*On(V,Y,oe)),tt(x,I+64,16843009*On(Y,oe,de)),tt(x,I+96,16843009*On(oe,de,de))}function Al(x,I){var V,Y=4;for(V=0;4>V;++V)Y+=x[I+V-32]+x[I-1+32*V];for(Y>>=3,V=0;4>V;++V)a(x,I+32*V,Y,4)}function Ca(x,I){var V=x[I-1+0],Y=x[I-1+32],oe=x[I-1+64],de=x[I-1-32],me=x[I+0-32],ve=x[I+1-32],be=x[I+2-32],Se=x[I+3-32];x[I+0+96]=On(Y,oe,x[I-1+96]),x[I+1+96]=x[I+0+64]=On(V,Y,oe),x[I+2+96]=x[I+1+64]=x[I+0+32]=On(de,V,Y),x[I+3+96]=x[I+2+64]=x[I+1+32]=x[I+0+0]=On(me,de,V),x[I+3+64]=x[I+2+32]=x[I+1+0]=On(ve,me,de),x[I+3+32]=x[I+2+0]=On(be,ve,me),x[I+3+0]=On(Se,be,ve)}function ha(x,I){var V=x[I+1-32],Y=x[I+2-32],oe=x[I+3-32],de=x[I+4-32],me=x[I+5-32],ve=x[I+6-32],be=x[I+7-32];x[I+0+0]=On(x[I+0-32],V,Y),x[I+1+0]=x[I+0+32]=On(V,Y,oe),x[I+2+0]=x[I+1+32]=x[I+0+64]=On(Y,oe,de),x[I+3+0]=x[I+2+32]=x[I+1+64]=x[I+0+96]=On(oe,de,me),x[I+3+32]=x[I+2+64]=x[I+1+96]=On(de,me,ve),x[I+3+64]=x[I+2+96]=On(me,ve,be),x[I+3+96]=On(ve,be,be)}function Ra(x,I){var V=x[I-1+0],Y=x[I-1+32],oe=x[I-1+64],de=x[I-1-32],me=x[I+0-32],ve=x[I+1-32],be=x[I+2-32],Se=x[I+3-32];x[I+0+0]=x[I+1+64]=de+me+1>>1,x[I+1+0]=x[I+2+64]=me+ve+1>>1,x[I+2+0]=x[I+3+64]=ve+be+1>>1,x[I+3+0]=be+Se+1>>1,x[I+0+96]=On(oe,Y,V),x[I+0+64]=On(Y,V,de),x[I+0+32]=x[I+1+96]=On(V,de,me),x[I+1+32]=x[I+2+96]=On(de,me,ve),x[I+2+32]=x[I+3+96]=On(me,ve,be),x[I+3+32]=On(ve,be,Se)}function Gs(x,I){var V=x[I+0-32],Y=x[I+1-32],oe=x[I+2-32],de=x[I+3-32],me=x[I+4-32],ve=x[I+5-32],be=x[I+6-32],Se=x[I+7-32];x[I+0+0]=V+Y+1>>1,x[I+1+0]=x[I+0+64]=Y+oe+1>>1,x[I+2+0]=x[I+1+64]=oe+de+1>>1,x[I+3+0]=x[I+2+64]=de+me+1>>1,x[I+0+32]=On(V,Y,oe),x[I+1+32]=x[I+0+96]=On(Y,oe,de),x[I+2+32]=x[I+1+96]=On(oe,de,me),x[I+3+32]=x[I+2+96]=On(de,me,ve),x[I+3+64]=On(me,ve,be),x[I+3+96]=On(ve,be,Se)}function ii(x,I){var V=x[I-1+0],Y=x[I-1+32],oe=x[I-1+64],de=x[I-1+96];x[I+0+0]=V+Y+1>>1,x[I+2+0]=x[I+0+32]=Y+oe+1>>1,x[I+2+32]=x[I+0+64]=oe+de+1>>1,x[I+1+0]=On(V,Y,oe),x[I+3+0]=x[I+1+32]=On(Y,oe,de),x[I+3+32]=x[I+1+64]=On(oe,de,de),x[I+3+64]=x[I+2+64]=x[I+0+96]=x[I+1+96]=x[I+2+96]=x[I+3+96]=de}function cl(x,I){var V=x[I-1+0],Y=x[I-1+32],oe=x[I-1+64],de=x[I-1+96],me=x[I-1-32],ve=x[I+0-32],be=x[I+1-32],Se=x[I+2-32];x[I+0+0]=x[I+2+32]=V+me+1>>1,x[I+0+32]=x[I+2+64]=Y+V+1>>1,x[I+0+64]=x[I+2+96]=oe+Y+1>>1,x[I+0+96]=de+oe+1>>1,x[I+3+0]=On(ve,be,Se),x[I+2+0]=On(me,ve,be),x[I+1+0]=x[I+3+32]=On(V,me,ve),x[I+1+32]=x[I+3+64]=On(Y,V,me),x[I+1+64]=x[I+3+96]=On(oe,Y,V),x[I+1+96]=On(de,oe,Y)}function Ji(x,I){var V;for(V=0;8>V;++V)s(x,I+32*V,x,I-32,8)}function FA(x,I){var V;for(V=0;8>V;++V)a(x,I,x[I-1],8),I+=32}function ji(x,I,V){var Y;for(Y=0;8>Y;++Y)a(I,V+32*Y,x,8)}function go(x,I){var V,Y=8;for(V=0;8>V;++V)Y+=x[I+V-32]+x[I-1+32*V];ji(Y>>4,x,I)}function oi(x,I){var V,Y=4;for(V=0;8>V;++V)Y+=x[I+V-32];ji(Y>>3,x,I)}function Xr(x,I){var V,Y=4;for(V=0;8>V;++V)Y+=x[I-1+32*V];ji(Y>>3,x,I)}function vo(x,I){ji(128,x,I)}function Da(x,I,V){var Y=x[I-V],oe=x[I+0],de=3*(oe-Y)+pl[1020+x[I-2*V]-x[I+V]],me=Xc[112+(de+4>>3)];x[I-V]=ui[255+Y+Xc[112+(de+3>>3)]],x[I+0]=ui[255+oe-me]}function dr(x,I,V,Y){var oe=x[I+0],de=x[I+V];return Wa[255+x[I-2*V]-x[I-V]]>Y||Wa[255+de-oe]>Y}function ul(x,I,V,Y){return 4*Wa[255+x[I-V]-x[I+0]]+Wa[255+x[I-2*V]-x[I+V]]<=Y}function za(x,I,V,Y,oe){var de=x[I-3*V],me=x[I-2*V],ve=x[I-V],be=x[I+0],Se=x[I+V],De=x[I+2*V],Xe=x[I+3*V];return 4*Wa[255+ve-be]+Wa[255+me-Se]>Y?0:Wa[255+x[I-4*V]-de]<=oe&&Wa[255+de-me]<=oe&&Wa[255+me-ve]<=oe&&Wa[255+Xe-De]<=oe&&Wa[255+De-Se]<=oe&&Wa[255+Se-be]<=oe}function yo(x,I,V,Y){var oe=2*Y+1;for(Y=0;16>Y;++Y)ul(x,I+Y,V,oe)&&Da(x,I+Y,V)}function Hi(x,I,V,Y){var oe=2*Y+1;for(Y=0;16>Y;++Y)ul(x,I+Y*V,1,oe)&&Da(x,I+Y*V,1)}function Dl(x,I,V,Y){var oe;for(oe=3;0<oe;--oe)yo(x,I+=4*V,V,Y)}function aA(x,I,V,Y){var oe;for(oe=3;0<oe;--oe)Hi(x,I+=4,V,Y)}function La(x,I,V,Y,oe,de,me,ve){for(de=2*de+1;0<oe--;){if(za(x,I,V,de,me))if(dr(x,I,V,ve))Da(x,I,V);else{var be=x,Se=I,De=V,Xe=be[Se-2*De],Ce=be[Se-De],Qe=be[Se+0],Oe=be[Se+De],lt=be[Se+2*De],Ye=27*(pt=pl[1020+3*(Qe-Ce)+pl[1020+Xe-Oe]])+63>>7,ot=18*pt+63>>7,pt=9*pt+63>>7;be[Se-3*De]=ui[255+be[Se-3*De]+pt],be[Se-2*De]=ui[255+Xe+ot],be[Se-De]=ui[255+Ce+Ye],be[Se+0]=ui[255+Qe-Ye],be[Se+De]=ui[255+Oe-ot],be[Se+2*De]=ui[255+lt-pt]}I+=Y}}function Ci(x,I,V,Y,oe,de,me,ve){for(de=2*de+1;0<oe--;){if(za(x,I,V,de,me))if(dr(x,I,V,ve))Da(x,I,V);else{var be=x,Se=I,De=V,Xe=be[Se-De],Ce=be[Se+0],Qe=be[Se+De],Oe=Xc[112+(4+(lt=3*(Ce-Xe))>>3)],lt=Xc[112+(lt+3>>3)],Ye=Oe+1>>1;be[Se-2*De]=ui[255+be[Se-2*De]+Ye],be[Se-De]=ui[255+Xe+lt],be[Se+0]=ui[255+Ce-Oe],be[Se+De]=ui[255+Qe-Ye]}I+=Y}}function iA(x,I,V,Y,oe,de){La(x,I,V,1,16,Y,oe,de)}function qi(x,I,V,Y,oe,de){La(x,I,1,V,16,Y,oe,de)}function Ei(x,I,V,Y,oe,de){var me;for(me=3;0<me;--me)Ci(x,I+=4*V,V,1,16,Y,oe,de)}function P(x,I,V,Y,oe,de){var me;for(me=3;0<me;--me)Ci(x,I+=4,1,V,16,Y,oe,de)}function ie(x,I,V,Y,oe,de,me,ve){La(x,I,oe,1,8,de,me,ve),La(V,Y,oe,1,8,de,me,ve)}function Ee(x,I,V,Y,oe,de,me,ve){La(x,I,1,oe,8,de,me,ve),La(V,Y,1,oe,8,de,me,ve)}function _e(x,I,V,Y,oe,de,me,ve){Ci(x,I+4*oe,oe,1,8,de,me,ve),Ci(V,Y+4*oe,oe,1,8,de,me,ve)}function Me(x,I,V,Y,oe,de,me,ve){Ci(x,I+4,1,oe,8,de,me,ve),Ci(V,Y+4,1,oe,8,de,me,ve)}function ft(){this.ba=new Ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function un(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bn(){this.ua=0,this.Wa=new Lt,this.vb=new Lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new z}function Mn(){this.xb=this.a=0,this.l=new na,this.ca=new Ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new te,this.Pb=0,this.wd=new te,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bn,this.ab=0,this.gc=c(4,un),this.Oc=0}function In(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xs(x,I,V,Y,oe,de,me){for(x=x==null?0:x[I+0],I=0;I<me;++I)oe[de+I]=x+V[Y+I]&255,x=oe[de+I]}function yr(x,I,V,Y,oe,de,me){var ve;if(x==null)xs(null,null,V,Y,oe,de,me);else for(ve=0;ve<me;++ve)oe[de+ve]=x[I+ve]+V[Y+ve]&255}function or(x,I,V,Y,oe,de,me){if(x==null)xs(null,null,V,Y,oe,de,me);else{var ve,be=x[I+0],Se=be,De=be;for(ve=0;ve<me;++ve)Se=De+(be=x[I+ve])-Se,De=V[Y+ve]+(-256&Se?0>Se?0:255:Se)&255,Se=be,oe[de+ve]=De}}function b(x,I,V,Y){var oe=I.width,de=I.o;if(e(x!=null&&I!=null),0>V||0>=Y||V+Y>de)return null;if(!x.Cc){if(x.ga==null){var me;if(x.ga=new In,(me=x.ga==null)||(me=I.width*I.o,e(x.Gb.length==0),x.Gb=i(me),x.Uc=0,x.Gb==null?me=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,me=1),me=!me),!me){me=x.ga;var ve=x.Fa,be=x.P,Se=x.qc,De=x.mb,Xe=x.nb,Ce=be+1,Qe=Se-1,Oe=me.l;if(e(ve!=null&&De!=null&&I!=null),gl[0]=null,gl[1]=xs,gl[2]=yr,gl[3]=or,me.ca=De,me.tb=Xe,me.c=I.width,me.i=I.height,e(0<me.c&&0<me.i),1>=Se)I=0;else if(me.$a=3&ve[be+0],me.Z=ve[be+0]>>2&3,me.Lc=ve[be+0]>>4&3,be=ve[be+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||be)I=0;else if(Oe.put=ln,Oe.ac=Bs,Oe.bc=si,Oe.ma=me,Oe.width=I.width,Oe.height=I.height,Oe.Da=I.Da,Oe.v=I.v,Oe.va=I.va,Oe.j=I.j,Oe.o=I.o,me.$a)e:{e(me.$a==1),I=ur();t:for(;;){if(I==null){I=0;break e}if(e(me!=null),me.mc=I,I.c=me.c,I.i=me.i,I.l=me.l,I.l.ma=me,I.l.width=me.c,I.l.height=me.i,I.a=0,ue(I.m,ve,Ce,Qe),!Hn(me.c,me.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&Vt(I.s)?(me.ic=1,ve=I.c*I.i,I.Ta=null,I.Ua=0,I.V=i(ve),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(me.ic=0,I=Tn(I,me.c)),!I))break t;I=1;break e}me.mc=null,I=0}else I=Qe>=me.c*me.i;me=!I}if(me)return null;x.ga.Lc!=1?x.Ga=0:Y=de-V}e(x.ga!=null),e(V+Y<=de);e:{if(I=(ve=x.ga).c,de=ve.l.o,ve.$a==0){if(Ce=x.rc,Qe=x.Vc,Oe=x.Fa,be=x.P+1+V*I,Se=x.mb,De=x.nb+V*I,e(be<=x.P+x.qc),ve.Z!=0)for(e(gl[ve.Z]!=null),me=0;me<Y;++me)gl[ve.Z](Ce,Qe,Oe,be,Se,De,I),Ce=Se,Qe=De,De+=I,be+=I;else for(me=0;me<Y;++me)s(Se,De,Oe,be,I),Ce=Se,Qe=De,De+=I,be+=I;x.rc=Ce,x.Vc=Qe}else{if(e(ve.mc!=null),I=V+Y,e((me=ve.mc)!=null),e(I<=me.i),me.C>=I)I=1;else if(ve.ic||et(),ve.ic){ve=me.V,Ce=me.Ba,Qe=me.c;var lt=me.i,Ye=(Oe=1,be=me.$/Qe,Se=me.$%Qe,De=me.m,Xe=me.s,me.$),ot=Qe*lt,pt=Qe*I,Ft=Xe.wc,bt=Ye<pt?_t(Xe,Se,be):null;e(Ye<=ot),e(I<=lt),e(Vt(Xe));t:for(;;){for(;!De.h&&Ye<pt;){if(Se&Ft||(bt=_t(Xe,Se,be)),e(bt!=null),xe(De),256>(lt=an(bt.G[0],bt.H[0],De)))ve[Ce+Ye]=lt,++Ye,++Se>=Qe&&(Se=0,++be<=I&&!(be%16)&&gn(me,be));else{if(!(280>lt)){Oe=0;break t}lt=ua(lt-256,De);var wn,An=an(bt.G[4],bt.H[4],De);if(xe(De),!(Ye>=(An=$r(Qe,An=ua(An,De)))&&ot-Ye>=lt)){Oe=0;break t}for(wn=0;wn<lt;++wn)ve[Ce+Ye+wn]=ve[Ce+Ye+wn-An];for(Ye+=lt,Se+=lt;Se>=Qe;)Se-=Qe,++be<=I&&!(be%16)&&gn(me,be);Ye<pt&&Se&Ft&&(bt=_t(Xe,Se,be))}e(De.h==he(De))}gn(me,be>I?I:be);break t}!Oe||De.h&&Ye<ot?(Oe=0,me.a=De.h?5:3):me.$=Ye,I=Oe}else I=En(me,me.V,me.Ba,me.c,me.i,I,Us);if(!I){Y=0;break e}}V+Y>=de&&(x.Cc=1),Y=1}if(!Y)return null;if(x.Cc&&((Y=x.ga)!=null&&(Y.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+V*oe}function W(x,I,V,Y,oe,de){for(;0<oe--;){var me,ve=x,be=I+(V?1:0),Se=x,De=I+(V?0:3);for(me=0;me<Y;++me){var Xe=Se[De+4*me];Xe!=255&&(Xe*=32897,ve[be+4*me+0]=ve[be+4*me+0]*Xe>>23,ve[be+4*me+1]=ve[be+4*me+1]*Xe>>23,ve[be+4*me+2]=ve[be+4*me+2]*Xe>>23)}I+=de}}function q(x,I,V,Y,oe){for(;0<Y--;){var de;for(de=0;de<V;++de){var me=x[I+2*de+0],ve=15&(Se=x[I+2*de+1]),be=4369*ve,Se=(240&Se|Se>>4)*be>>16;x[I+2*de+0]=(240&me|me>>4)*be>>16&240|(15&me|me<<4)*be>>16>>4&15,x[I+2*de+1]=240&Se|ve}I+=oe}}function ye(x,I,V,Y,oe,de,me,ve){var be,Se,De=255;for(Se=0;Se<oe;++Se){for(be=0;be<Y;++be){var Xe=x[I+be];de[me+4*be]=Xe,De&=Xe}I+=V,me+=ve}return De!=255}function ze(x,I,V,Y,oe){var de;for(de=0;de<oe;++de)V[Y+de]=x[I+de]>>8}function et(){lA=W,eo=q,Ac=ye,to=ze}function Ot(x,I,V){O[x]=function(Y,oe,de,me,ve,be,Se,De,Xe,Ce,Qe,Oe,lt,Ye,ot,pt,Ft){var bt,wn=Ft-1>>1,An=ve[be+0]|Se[De+0]<<16,qn=Xe[Ce+0]|Qe[Oe+0]<<16;e(Y!=null);var fn=3*An+qn+131074>>2;for(I(Y[oe+0],255&fn,fn>>16,lt,Ye),de!=null&&(fn=3*qn+An+131074>>2,I(de[me+0],255&fn,fn>>16,ot,pt)),bt=1;bt<=wn;++bt){var bs=ve[be+bt]|Se[De+bt]<<16,Er=Xe[Ce+bt]|Qe[Oe+bt]<<16,rs=An+bs+qn+Er+524296,st=rs+2*(bs+qn)>>3;fn=st+An>>1,An=(rs=rs+2*(An+Er)>>3)+bs>>1,I(Y[oe+2*bt-1],255&fn,fn>>16,lt,Ye+(2*bt-1)*V),I(Y[oe+2*bt-0],255&An,An>>16,lt,Ye+(2*bt-0)*V),de!=null&&(fn=rs+qn>>1,An=st+Er>>1,I(de[me+2*bt-1],255&fn,fn>>16,ot,pt+(2*bt-1)*V),I(de[me+2*bt+0],255&An,An>>16,ot,pt+(2*bt+0)*V)),An=bs,qn=Er}1&Ft||(fn=3*An+qn+131074>>2,I(Y[oe+Ft-1],255&fn,fn>>16,lt,Ye+(Ft-1)*V),de!=null&&(fn=3*qn+An+131074>>2,I(de[me+Ft-1],255&fn,fn>>16,ot,pt+(Ft-1)*V)))}}function Jn(){Xa[Lu]=kA,Xa[di]=Ml,Xa[Ol]=Zc,Xa[jo]=Mu,Xa[Jc]=hA,Xa[Pl]=vl,Xa[AA]=fA,Xa[qc]=Ml,Xa[Qu]=Mu,Xa[cc]=hA,Xa[PA]=vl}function xr(x){return x&-16384?0>x?0:255:x>>ku}function us(x,I){return xr((19077*x>>8)+(26149*I>>8)-14234)}function $s(x,I,V){return xr((19077*x>>8)-(6419*I>>8)-(13320*V>>8)+8708)}function Ea(x,I){return xr((19077*x>>8)+(33050*I>>8)-17685)}function sa(x,I,V,Y,oe){Y[oe+0]=us(x,V),Y[oe+1]=$s(x,I,V),Y[oe+2]=Ea(x,I)}function Os(x,I,V,Y,oe){Y[oe+0]=Ea(x,I),Y[oe+1]=$s(x,I,V),Y[oe+2]=us(x,V)}function ns(x,I,V,Y,oe){var de=$s(x,I,V);I=de<<3&224|Ea(x,I)>>3,Y[oe+0]=248&us(x,V)|de>>5,Y[oe+1]=I}function Zi(x,I,V,Y,oe){var de=240&Ea(x,I)|15;Y[oe+0]=240&us(x,V)|$s(x,I,V)>>4,Y[oe+1]=de}function xo(x,I,V,Y,oe){Y[oe+0]=255,sa(x,I,V,Y,oe+1)}function Jo(x,I,V,Y,oe){Os(x,I,V,Y,oe),Y[oe+3]=255}function fa(x,I,V,Y,oe){sa(x,I,V,Y,oe),Y[oe+3]=255}function Qa(x,I,V){O[x]=function(Y,oe,de,me,ve,be,Se,De,Xe){for(var Ce=De+(-2&Xe)*V;De!=Ce;)I(Y[oe+0],de[me+0],ve[be+0],Se,De),I(Y[oe+1],de[me+0],ve[be+0],Se,De+V),oe+=2,++me,++be,De+=2*V;1&Xe&&I(Y[oe+0],de[me+0],ve[be+0],Se,De)}}function lc(x,I,V){return V==0?x==0?I==0?6:5:I==0?4:0:V}function bo(x,I,V,Y,oe){switch(x>>>30){case 3:Ql(I,V,Y,oe,0);break;case 2:ci(I,V,Y,oe);break;case 1:Ms(I,V,Y,oe)}}function Ps(x,I){var V,Y,oe=I.M,de=I.Nb,me=x.oc,ve=x.pc+40,be=x.oc,Se=x.pc+584,De=x.oc,Xe=x.pc+600;for(V=0;16>V;++V)me[ve+32*V-1]=129;for(V=0;8>V;++V)be[Se+32*V-1]=129,De[Xe+32*V-1]=129;for(0<oe?me[ve-1-32]=be[Se-1-32]=De[Xe-1-32]=129:(a(me,ve-32-1,127,21),a(be,Se-32-1,127,9),a(De,Xe-32-1,127,9)),Y=0;Y<x.za;++Y){var Ce=I.ya[I.aa+Y];if(0<Y){for(V=-1;16>V;++V)s(me,ve+32*V-4,me,ve+32*V+12,4);for(V=-1;8>V;++V)s(be,Se+32*V-4,be,Se+32*V+4,4),s(De,Xe+32*V-4,De,Xe+32*V+4,4)}var Qe=x.Gd,Oe=x.Hd+Y,lt=Ce.ad,Ye=Ce.Hc;if(0<oe&&(s(me,ve-32,Qe[Oe].y,0,16),s(be,Se-32,Qe[Oe].f,0,8),s(De,Xe-32,Qe[Oe].ea,0,8)),Ce.Za){var ot=me,pt=ve-32+16;for(0<oe&&(Y>=x.za-1?a(ot,pt,Qe[Oe].y[15],4):s(ot,pt,Qe[Oe+1].y,0,4)),V=0;4>V;V++)ot[pt+128+V]=ot[pt+256+V]=ot[pt+384+V]=ot[pt+0+V];for(V=0;16>V;++V,Ye<<=2)ot=me,pt=ve+aa[V],qr[Ce.Ob[V]](ot,pt),bo(Ye,lt,16*+V,ot,pt)}else if(ot=lc(Y,oe,Ce.Ob[0]),Ii[ot](me,ve),Ye!=0)for(V=0;16>V;++V,Ye<<=2)bo(Ye,lt,16*+V,me,ve+aa[V]);for(V=Ce.Gc,ot=lc(Y,oe,Ce.Dd),Vi[ot](be,Se),Vi[ot](De,Xe),Ye=lt,ot=be,pt=Se,255&(Ce=0|V)&&(170&Ce?Ni(Ye,256,ot,pt):Rs(Ye,256,ot,pt)),Ce=De,Ye=Xe,255&(V>>=8)&&(170&V?Ni(lt,320,Ce,Ye):Rs(lt,320,Ce,Ye)),oe<x.Ub-1&&(s(Qe[Oe].y,0,me,ve+480,16),s(Qe[Oe].f,0,be,Se+224,8),s(Qe[Oe].ea,0,De,Xe+224,8)),V=8*de*x.B,Qe=x.sa,Oe=x.ta+16*Y+16*de*x.R,lt=x.qa,Ce=x.ra+8*Y+V,Ye=x.Ha,ot=x.Ia+8*Y+V,V=0;16>V;++V)s(Qe,Oe+V*x.R,me,ve+32*V,16);for(V=0;8>V;++V)s(lt,Ce+V*x.B,be,Se+32*V,8),s(Ye,ot+V*x.B,De,Xe+32*V,8)}}function wo(x,I,V,Y,oe,de,me,ve,be){var Se=[0],De=[0],Xe=0,Ce=be!=null?be.kd:0,Qe=be??new jt;if(x==null||12>V)return 7;Qe.data=x,Qe.w=I,Qe.ha=V,I=[I],V=[V],Qe.gb=[Qe.gb];e:{var Oe=I,lt=V,Ye=Qe.gb;if(e(x!=null),e(lt!=null),e(Ye!=null),Ye[0]=0,12<=lt[0]&&!t(x,Oe[0],"RIFF")){if(t(x,Oe[0]+8,"WEBP")){Ye=3;break e}var ot=Ve(x,Oe[0]+4);if(12>ot||4294967286<ot){Ye=3;break e}if(Ce&&ot>lt[0]-8){Ye=7;break e}Ye[0]=ot,Oe[0]+=12,lt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(ot=0<Qe.gb[0],V=V[0];;){e:{var pt=x;lt=I,Ye=V;var Ft=Se,bt=De,wn=Oe=[0];if((fn=Xe=[Xe])[0]=0,8>Ye[0])Ye=7;else{if(!t(pt,lt[0],"VP8X")){if(Ve(pt,lt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var An=Ve(pt,lt[0]+8),qn=1+it(pt,lt[0]+12);if(2147483648<=qn*(pt=1+it(pt,lt[0]+15))){Ye=3;break e}wn!=null&&(wn[0]=An),Ft!=null&&(Ft[0]=qn),bt!=null&&(bt[0]=pt),lt[0]+=18,Ye[0]-=18,fn[0]=1}Ye=0}}if(Xe=Xe[0],Oe=Oe[0],Ye!=0)return Ye;if(lt=!!(2&Oe),!ot&&Xe)return 3;if(de!=null&&(de[0]=!!(16&Oe)),me!=null&&(me[0]=lt),ve!=null&&(ve[0]=0),me=Se[0],Oe=De[0],Xe&&lt&&be==null){Ye=0;break}if(4>V){Ye=7;break}if(ot&&Xe||!ot&&!Xe&&!t(x,I[0],"ALPH")){V=[V],Qe.na=[Qe.na],Qe.P=[Qe.P],Qe.Sa=[Qe.Sa];e:{An=x,Ye=I,ot=V;var fn=Qe.gb;Ft=Qe.na,bt=Qe.P,wn=Qe.Sa,qn=22,e(An!=null),e(ot!=null),pt=Ye[0];var bs=ot[0];for(e(Ft!=null),e(wn!=null),Ft[0]=null,bt[0]=null,wn[0]=0;;){if(Ye[0]=pt,ot[0]=bs,8>bs){Ye=7;break e}var Er=Ve(An,pt+4);if(4294967286<Er){Ye=3;break e}var rs=8+Er+1&-2;if(qn+=rs,0<fn&&qn>fn){Ye=3;break e}if(!t(An,pt,"VP8 ")||!t(An,pt,"VP8L")){Ye=0;break e}if(bs[0]<rs){Ye=7;break e}t(An,pt,"ALPH")||(Ft[0]=An,bt[0]=pt+8,wn[0]=Er),pt+=rs,bs-=rs}}if(V=V[0],Qe.na=Qe.na[0],Qe.P=Qe.P[0],Qe.Sa=Qe.Sa[0],Ye!=0)break}V=[V],Qe.Ja=[Qe.Ja],Qe.xa=[Qe.xa];e:if(fn=x,Ye=I,ot=V,Ft=Qe.gb[0],bt=Qe.Ja,wn=Qe.xa,An=Ye[0],pt=!t(fn,An,"VP8 "),qn=!t(fn,An,"VP8L"),e(fn!=null),e(ot!=null),e(bt!=null),e(wn!=null),8>ot[0])Ye=7;else{if(pt||qn){if(fn=Ve(fn,An+4),12<=Ft&&fn>Ft-12){Ye=3;break e}if(Ce&&fn>ot[0]-8){Ye=7;break e}bt[0]=fn,Ye[0]+=8,ot[0]-=8,wn[0]=qn}else wn[0]=5<=ot[0]&&fn[An+0]==47&&!(fn[An+4]>>5),bt[0]=ot[0];Ye=0}if(V=V[0],Qe.Ja=Qe.Ja[0],Qe.xa=Qe.xa[0],I=I[0],Ye!=0)break;if(4294967286<Qe.Ja)return 3;if(ve==null||lt||(ve[0]=Qe.xa?2:1),me=[me],Oe=[Oe],Qe.xa){if(5>V){Ye=7;break}ve=me,Ce=Oe,lt=de,x==null||5>V?x=0:5<=V&&x[I+0]==47&&!(x[I+4]>>5)?(ot=[0],fn=[0],Ft=[0],ue(bt=new te,x,I,V),Fa(bt,ot,fn,Ft)?(ve!=null&&(ve[0]=ot[0]),Ce!=null&&(Ce[0]=fn[0]),lt!=null&&(lt[0]=Ft[0]),x=1):x=0):x=0}else{if(10>V){Ye=7;break}ve=Oe,x==null||10>V||!Ua(x,I+3,V-3)?x=0:(Ce=x[I+0]|x[I+1]<<8|x[I+2]<<16,lt=16383&(x[I+7]<<8|x[I+6]),x=16383&(x[I+9]<<8|x[I+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=Qe.Ja||!lt||!x?x=0:(me&&(me[0]=lt),ve&&(ve[0]=x),x=1))}if(!x||(me=me[0],Oe=Oe[0],Xe&&(Se[0]!=me||De[0]!=Oe)))return 3;be!=null&&(be[0]=Qe,be.offset=I-be.w,e(4294967286>I-be.w),e(be.offset==be.ha-V));break}return Ye==0||Ye==7&&Xe&&be==null?(de!=null&&(de[0]|=Qe.na!=null&&0<Qe.na.length),Y!=null&&(Y[0]=me),oe!=null&&(oe[0]=Oe),0):Ye}function jr(x,I,V){var Y=I.width,oe=I.height,de=0,me=0,ve=Y,be=oe;if(I.Da=x!=null&&0<x.Da,I.Da&&(ve=x.cd,be=x.bd,de=x.v,me=x.j,11>V||(de&=-2,me&=-2),0>de||0>me||0>=ve||0>=be||de+ve>Y||me+be>oe))return 0;if(I.v=de,I.j=me,I.va=de+ve,I.o=me+be,I.U=ve,I.T=be,I.da=x!=null&&0<x.da,I.da){if(!Ge(ve,be,V=[x.ib],de=[x.hb]))return 0;I.ib=V[0],I.hb=de[0]}return I.ob=x!=null&&x.ob,I.Kb=x==null||!x.Sd,I.da&&(I.ob=I.ib<3*Y/4&&I.hb<3*oe/4,I.Kb=0),1}function UA(x){if(x==null)return 2;if(11>x.S){var I=x.f.RGBA;I.fb+=(x.height-1)*I.A,I.A=-I.A}else I=x.f.kb,x=x.height,I.O+=(x-1)*I.fa,I.fa=-I.fa,I.N+=(x-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(x-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(x-1)*I.lb,I.lb=-I.lb);return 0}function Oa(x,I,V,Y){if(Y==null||0>=x||0>=I)return 2;if(V!=null){if(V.Da){var oe=V.cd,de=V.bd,me=-2&V.v,ve=-2&V.j;if(0>me||0>ve||0>=oe||0>=de||me+oe>x||ve+de>I)return 2;x=oe,I=de}if(V.da){if(!Ge(x,I,oe=[V.ib],de=[V.hb]))return 2;x=oe[0],I=de[0]}}Y.width=x,Y.height=I;e:{var be=Y.width,Se=Y.height;if(x=Y.S,0>=be||0>=Se||!(x>=Lu&&13>x))x=2;else{if(0>=Y.Rd&&Y.sd==null){me=de=oe=I=0;var De=(ve=be*Vu[x])*Se;if(11>x||(de=(Se+1)/2*(I=(be+1)/2),x==12&&(me=(oe=be)*Se)),(Se=i(De+2*de+me))==null){x=1;break e}Y.sd=Se,11>x?((be=Y.f.RGBA).eb=Se,be.fb=0,be.A=ve,be.size=De):((be=Y.f.kb).y=Se,be.O=0,be.fa=ve,be.Fd=De,be.f=Se,be.N=0+De,be.Ab=I,be.Cd=de,be.ea=Se,be.W=0+De+de,be.Db=I,be.Ed=de,x==12&&(be.F=Se,be.J=0+De+2*de),be.Tc=me,be.lb=oe)}if(I=1,oe=Y.S,de=Y.width,me=Y.height,oe>=Lu&&13>oe)if(11>oe)x=Y.f.RGBA,I&=(ve=Math.abs(x.A))*(me-1)+de<=x.size,I&=ve>=de*Vu[oe],I&=x.eb!=null;else{x=Y.f.kb,ve=(de+1)/2,De=(me+1)/2,be=Math.abs(x.fa),Se=Math.abs(x.Ab);var Xe=Math.abs(x.Db),Ce=Math.abs(x.lb),Qe=Ce*(me-1)+de;I&=be*(me-1)+de<=x.Fd,I&=Se*(De-1)+ve<=x.Cd,I=(I&=Xe*(De-1)+ve<=x.Ed)&be>=de&Se>=ve&Xe>=ve,I&=x.y!=null,I&=x.f!=null,I&=x.ea!=null,oe==12&&(I&=Ce>=de,I&=Qe<=x.Tc,I&=x.F!=null)}else I=0;x=I?0:2}}return x!=0||V!=null&&V.fd&&(x=UA(Y)),x}var Bo=64,ps=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],li=24,qo=32,Zo=8,dl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ut("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(x){return x},O.Predictor2=function(x,I,V){return I[V+0]},O.Predictor3=function(x,I,V){return I[V+1]},O.Predictor4=function(x,I,V){return I[V-1]},O.Predictor5=function(x,I,V){return zt(zt(x,I[V+1]),I[V+0])},O.Predictor6=function(x,I,V){return zt(x,I[V-1])},O.Predictor7=function(x,I,V){return zt(x,I[V+0])},O.Predictor8=function(x,I,V){return zt(I[V-1],I[V+0])},O.Predictor9=function(x,I,V){return zt(I[V+0],I[V+1])},O.Predictor10=function(x,I,V){return zt(zt(x,I[V-1]),zt(I[V+0],I[V+1]))},O.Predictor11=function(x,I,V){var Y=I[V+0];return 0>=tn(Y>>24&255,x>>24&255,(I=I[V-1])>>24&255)+tn(Y>>16&255,x>>16&255,I>>16&255)+tn(Y>>8&255,x>>8&255,I>>8&255)+tn(255&Y,255&x,255&I)?Y:x},O.Predictor12=function(x,I,V){var Y=I[V+0];return(Jt((x>>24&255)+(Y>>24&255)-((I=I[V-1])>>24&255))<<24|Jt((x>>16&255)+(Y>>16&255)-(I>>16&255))<<16|Jt((x>>8&255)+(Y>>8&255)-(I>>8&255))<<8|Jt((255&x)+(255&Y)-(255&I)))>>>0},O.Predictor13=function(x,I,V){var Y=I[V-1];return(yn((x=zt(x,I[V+0]))>>24&255,Y>>24&255)<<24|yn(x>>16&255,Y>>16&255)<<16|yn(x>>8&255,Y>>8&255)<<8|yn(255&x,255&Y))>>>0};var Ll=O.PredictorAdd0;O.PredictorAdd1=Dn,Ut("Predictor2","PredictorAdd2"),Ut("Predictor3","PredictorAdd3"),Ut("Predictor4","PredictorAdd4"),Ut("Predictor5","PredictorAdd5"),Ut("Predictor6","PredictorAdd6"),Ut("Predictor7","PredictorAdd7"),Ut("Predictor8","PredictorAdd8"),Ut("Predictor9","PredictorAdd9"),Ut("Predictor10","PredictorAdd10"),Ut("Predictor11","PredictorAdd11"),Ut("Predictor12","PredictorAdd12"),Ut("Predictor13","PredictorAdd13");var RA=O.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Jr,Si=O.ColorIndexInverseTransform,Ga=O.MapARGB,$a=O.VP8LColorIndexInverseTransformAlpha,Ns=O.MapAlpha,Ai=O.VP8LPredictorsAdd=[];Ai.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var DA,LA,el,hl,fl,tl,ra,Ql,ci,Ni,Ms,Rs,br,Ws,nl,sl,QA,oA,Wd,Yd,Xd,Jd,Fu,Uu,lA,eo,Ac,to,ml=i(511),Ru=i(2041),Yc=i(225),OA=i(767),Du=0,pl=Ru,Xc=Yc,ui=OA,Wa=ml,Lu=0,di=1,Ol=2,jo=3,Jc=4,Pl=5,AA=6,qc=7,Qu=8,cc=9,PA=10,Co=[2,3,7],uc=[3,3,11],MA=[280,256,256,256,40],Ou=[0,1,1,1,0],cA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Eo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],So=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uA=8,No=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ti=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],no=null,tf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Pu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ya=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],js=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],qr=[],Vi=[],dA=1,Zd=2,gl=[],Xa=[];Ot("UpsampleRgbLinePair",sa,3),Ot("UpsampleBgrLinePair",Os,3),Ot("UpsampleRgbaLinePair",fa,4),Ot("UpsampleBgraLinePair",Jo,4),Ot("UpsampleArgbLinePair",xo,4),Ot("UpsampleRgba4444LinePair",Zi,2),Ot("UpsampleRgb565LinePair",ns,2);var kA=O.UpsampleRgbLinePair,Zc=O.UpsampleBgrLinePair,Ml=O.UpsampleRgbaLinePair,Mu=O.UpsampleBgraLinePair,hA=O.UpsampleArgbLinePair,vl=O.UpsampleRgba4444LinePair,fA=O.UpsampleRgb565LinePair,To=16,dc=1<<To-1,yl=-227,mA=482,ku=6,pA=0,Ja=i(256),Hu=i(256),sf=i(256),ym=i(256),xm=i(mA-yl),bm=i(mA-yl);Qa("YuvToRgbRow",sa,3),Qa("YuvToBgrRow",Os,3),Qa("YuvToRgbaRow",fa,4),Qa("YuvToBgraRow",Jo,4),Qa("YuvToArgbRow",xo,4),Qa("YuvToRgba4444Row",Zi,2),Qa("YuvToRgb565Row",ns,2);var aa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hc=[0,2,8],eu=[8,7,6,4,4,2,2,2,1,1,1,1],fc=1;this.WebPDecodeRGBA=function(x,I,V,Y,oe){var de=di,me=new ft,ve=new Ct;me.ba=ve,ve.S=de,ve.width=[ve.width],ve.height=[ve.height];var be=ve.width,Se=ve.height,De=new dt;if(De==null||x==null)var Xe=2;else e(De!=null),Xe=wo(x,I,V,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Xe!=0?be=0:(be!=null&&(be[0]=De.width[0]),Se!=null&&(Se[0]=De.height[0]),be=1),be){ve.width=ve.width[0],ve.height=ve.height[0],Y!=null&&(Y[0]=ve.width),oe!=null&&(oe[0]=ve.height);e:{if(Y=new na,(oe=new jt).data=x,oe.w=I,oe.ha=V,oe.kd=1,I=[0],e(oe!=null),((x=wo(oe.data,oe.w,oe.ha,null,null,null,I,null,oe))==0||x==7)&&I[0]&&(x=4),(I=x)==0){if(e(me!=null),Y.data=oe.data,Y.w=oe.w+oe.offset,Y.ha=oe.ha-oe.offset,Y.put=ln,Y.ac=Bs,Y.bc=si,Y.ma=me,oe.xa){if((x=ur())==null){me=1;break e}if((function(Ce,Qe){var Oe=[0],lt=[0],Ye=[0];t:for(;;){if(Ce==null)return 0;if(Qe==null)return Ce.a=2,0;if(Ce.l=Qe,Ce.a=0,ue(Ce.m,Qe.data,Qe.w,Qe.ha),!Fa(Ce.m,Oe,lt,Ye)){Ce.a=3;break t}if(Ce.xb=Zd,Qe.width=Oe[0],Qe.height=lt[0],!Hn(Oe[0],lt[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0})(x,Y)){if(Y=(I=Oa(Y.width,Y.height,me.Oa,me.ba))==0){t:{Y=x;n:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((V=Y.l)!=null),e((oe=V.ma)!=null),Y.xb!=0){if(Y.ca=oe.ba,Y.tb=oe.tb,e(Y.ca!=null),!jr(oe.Oa,V,jo)){Y.a=2;break n}if(!Tn(Y,V.width)||V.da)break n;if((V.da||Bt(Y.ca.S))&&et(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&et()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!fe(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!En(Y,Y.V,Y.Ba,Y.c,Y.i,V.o,Nt))break n;oe.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(I=x.a)}else I=x.a}else{if((x=new vr)==null){me=1;break e}if(x.Fa=oe.na,x.P=oe.P,x.qc=oe.Sa,Cn(x,Y)){if((I=Oa(Y.width,Y.height,me.Oa,me.ba))==0){if(x.Aa=0,V=me.Oa,e((oe=x)!=null),V!=null){if(0<(be=0>(be=V.Md)?0:100<be?255:255*be/100)){for(Se=De=0;4>Se;++Se)12>(Xe=oe.pb[Se]).lc&&(Xe.ia=be*eu[0>Xe.lc?0:Xe.lc]>>3),De|=Xe.ia;De&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=V.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}(function(Ce,Qe){if(Ce==null)return 0;if(Qe==null)return os(Ce,2,"NULL VP8Io parameter in VP8Decode().");if(!Ce.cb&&!Cn(Ce,Qe))return 0;if(e(Ce.cb),Qe.ac==null||Qe.ac(Qe)){Qe.ob&&(Ce.L=0);var Oe=hc[Ce.L];if(Ce.L==2?(Ce.yb=0,Ce.zb=0):(Ce.yb=Qe.v-Oe>>4,Ce.zb=Qe.j-Oe>>4,0>Ce.yb&&(Ce.yb=0),0>Ce.zb&&(Ce.zb=0)),Ce.Va=Qe.o+15+Oe>>4,Ce.Hb=Qe.va+15+Oe>>4,Ce.Hb>Ce.za&&(Ce.Hb=Ce.za),Ce.Va>Ce.Ub&&(Ce.Va=Ce.Ub),0<Ce.L){var lt=Ce.ed;for(Oe=0;4>Oe;++Oe){var Ye;if(Ce.Qa.Cb){var ot=Ce.Qa.Lb[Oe];Ce.Qa.Fb||(ot+=lt.Tb)}else ot=lt.Tb;for(Ye=0;1>=Ye;++Ye){var pt=Ce.gd[Oe][Ye],Ft=ot;if(lt.Pc&&(Ft+=lt.vd[0],Ye&&(Ft+=lt.od[0])),0<(Ft=0>Ft?0:63<Ft?63:Ft)){var bt=Ft;0<lt.wb&&(bt=4<lt.wb?bt>>2:bt>>1)>9-lt.wb&&(bt=9-lt.wb),1>bt&&(bt=1),pt.dd=bt,pt.tc=2*Ft+bt,pt.ld=40<=Ft?2:15<=Ft?1:0}else pt.tc=0;pt.La=Ye}}}Oe=0}else os(Ce,6,"Frame setup failed"),Oe=Ce.a;if(Oe=Oe==0){if(Oe){Ce.$c=0,0<Ce.Aa||(Ce.Ic=fc);t:{Oe=Ce.Ic,lt=4*(bt=Ce.za);var wn=32*bt,An=bt+1,qn=0<Ce.L?bt*(0<Ce.Aa?2:1):0,fn=(Ce.Aa==2?2:1)*bt;if((pt=lt+832+(Ye=3*(16*Oe+hc[Ce.L])/2*wn)+(ot=Ce.Fa!=null&&0<Ce.Fa.length?Ce.Kc.c*Ce.Kc.i:0))!=pt)Oe=0;else{if(pt>Ce.Vb){if(Ce.Vb=0,Ce.Ec=i(pt),Ce.Fc=0,Ce.Ec==null){Oe=os(Ce,1,"no memory during frame initialization.");break t}Ce.Vb=pt}pt=Ce.Ec,Ft=Ce.Fc,Ce.Ac=pt,Ce.Bc=Ft,Ft+=lt,Ce.Gd=c(wn,$o),Ce.Hd=0,Ce.rb=c(An+1,da),Ce.sb=1,Ce.wa=qn?c(qn,Wr):null,Ce.Y=0,Ce.D.Nb=0,Ce.D.wa=Ce.wa,Ce.D.Y=Ce.Y,0<Ce.Aa&&(Ce.D.Y+=bt),e(!0),Ce.oc=pt,Ce.pc=Ft,Ft+=832,Ce.ya=c(fn,wi),Ce.aa=0,Ce.D.ya=Ce.ya,Ce.D.aa=Ce.aa,Ce.Aa==2&&(Ce.D.aa+=bt),Ce.R=16*bt,Ce.B=8*bt,bt=(wn=hc[Ce.L])*Ce.R,wn=wn/2*Ce.B,Ce.sa=pt,Ce.ta=Ft+bt,Ce.qa=Ce.sa,Ce.ra=Ce.ta+16*Oe*Ce.R+wn,Ce.Ha=Ce.qa,Ce.Ia=Ce.ra+8*Oe*Ce.B+wn,Ce.$c=0,Ft+=Ye,Ce.mb=ot?pt:null,Ce.nb=ot?Ft:null,e(Ft+ot<=Ce.Fc+Ce.Vb),Ss(Ce),a(Ce.Ac,Ce.Bc,0,lt),Oe=1}}if(Oe){if(Qe.ka=0,Qe.y=Ce.sa,Qe.O=Ce.ta,Qe.f=Ce.qa,Qe.N=Ce.ra,Qe.ea=Ce.Ha,Qe.Vd=Ce.Ia,Qe.fa=Ce.R,Qe.Rc=Ce.B,Qe.F=null,Qe.J=0,!Du){for(Oe=-255;255>=Oe;++Oe)ml[255+Oe]=0>Oe?-Oe:Oe;for(Oe=-1020;1020>=Oe;++Oe)Ru[1020+Oe]=-128>Oe?-128:127<Oe?127:Oe;for(Oe=-112;112>=Oe;++Oe)Yc[112+Oe]=-16>Oe?-16:15<Oe?15:Oe;for(Oe=-255;510>=Oe;++Oe)OA[255+Oe]=0>Oe?0:255<Oe?255:Oe;Du=1}ra=Qs,Ql=Wi,Ni=Or,Ms=Wo,Rs=Ur,ci=Bi,br=iA,Ws=qi,nl=ie,sl=Ee,QA=Ei,oA=P,Wd=_e,Yd=Me,Xd=yo,Jd=Hi,Fu=Dl,Uu=aA,qr[0]=Al,qr[1]=po,qr[2]=Rl,qr[3]=rA,qr[4]=Ca,qr[5]=Ra,qr[6]=ha,qr[7]=Gs,qr[8]=cl,qr[9]=ii,Ii[0]=Xi,Ii[1]=sA,Ii[2]=Ul,Ii[3]=Yi,Ii[4]=Xo,Ii[5]=ai,Ii[6]=ki,Vi[0]=go,Vi[1]=Yo,Vi[2]=Ji,Vi[3]=FA,Vi[4]=Xr,Vi[5]=oi,Vi[6]=vo,Oe=1}else Oe=0}Oe&&(Oe=(function(bs,Er){for(bs.M=0;bs.M<bs.Va;++bs.M){var rs,st=bs.Jc[bs.M&bs.Xb],$t=bs.m,Pr=bs;for(rs=0;rs<Pr.za;++rs){var Vn=$t,Gn=Pr,nr=Gn.Ac,ma=Gn.Bc+4*rs,ia=Gn.zc,sr=Gn.ya[Gn.aa+rs];if(Gn.Qa.Bb?sr.$b=Fe(Vn,Gn.Pa.jb[0])?2+Fe(Vn,Gn.Pa.jb[2]):Fe(Vn,Gn.Pa.jb[1]):sr.$b=0,Gn.kc&&(sr.Ad=Fe(Vn,Gn.Bd)),sr.Za=!Fe(Vn,145)+0,sr.Za){var pa=sr.Ob,hi=0;for(Gn=0;4>Gn;++Gn){var ga,ss=ia[0+Gn];for(ga=0;4>ga;++ga){ss=Ya[nr[ma+ga]][ss];for(var Ts=Pu[Fe(Vn,ss[0])];0<Ts;)Ts=Pu[2*Ts+Fe(Vn,ss[Ts])];ss=-Ts,nr[ma+ga]=ss}s(pa,hi,nr,ma,4),hi+=4,ia[0+Gn]=ss}}else ss=Fe(Vn,156)?Fe(Vn,128)?1:3:Fe(Vn,163)?2:0,sr.Ob[0]=ss,a(nr,ma,ss,4),a(ia,0,ss,4);sr.Dd=Fe(Vn,142)?Fe(Vn,114)?Fe(Vn,183)?1:3:2:0}if(Pr.m.Ka)return os(bs,7,"Premature end-of-partition0 encountered.");for(;bs.ja<bs.za;++bs.ja){if(Pr=st,Vn=($t=bs).rb[$t.sb-1],nr=$t.rb[$t.sb+$t.ja],rs=$t.ya[$t.aa+$t.ja],ma=$t.kc?rs.Ad:0)Vn.la=nr.la=0,rs.Za||(Vn.Na=nr.Na=0),rs.Hc=0,rs.Gc=0,rs.ia=0;else{var Sr,Ys;if(Vn=nr,nr=Pr,ma=$t.Pa.Xc,ia=$t.ya[$t.aa+$t.ja],sr=$t.pb[ia.$b],Gn=ia.ad,pa=0,hi=$t.rb[$t.sb-1],ss=ga=0,a(Gn,pa,0,384),ia.Za)var va=0,Mr=ma[3];else{Ts=i(16);var Is=Vn.Na+hi.Na;if(Is=no(nr,ma[1],Is,sr.Eb,0,Ts,0),Vn.Na=hi.Na=(0<Is)+0,1<Is)ra(Ts,0,Gn,pa);else{var oa=Ts[0]+3>>3;for(Ts=0;256>Ts;Ts+=16)Gn[pa+Ts]=oa}va=1,Mr=ma[0]}var rr=15&Vn.la,ya=15&hi.la;for(Ts=0;4>Ts;++Ts){var xa=1&ya;for(oa=Ys=0;4>oa;++oa)rr=rr>>1|(xa=(Is=no(nr,Mr,Is=xa+(1&rr),sr.Sc,va,Gn,pa))>va)<<7,Ys=Ys<<2|(3<Is?3:1<Is?2:Gn[pa+0]!=0),pa+=16;rr>>=4,ya=ya>>1|xa<<7,ga=(ga<<8|Ys)>>>0}for(Mr=rr,va=ya>>4,Sr=0;4>Sr;Sr+=2){for(Ys=0,rr=Vn.la>>4+Sr,ya=hi.la>>4+Sr,Ts=0;2>Ts;++Ts){for(xa=1&ya,oa=0;2>oa;++oa)Is=xa+(1&rr),rr=rr>>1|(xa=0<(Is=no(nr,ma[2],Is,sr.Qc,0,Gn,pa)))<<3,Ys=Ys<<2|(3<Is?3:1<Is?2:Gn[pa+0]!=0),pa+=16;rr>>=2,ya=ya>>1|xa<<5}ss|=Ys<<4*Sr,Mr|=rr<<4<<Sr,va|=(240&ya)<<Sr}Vn.la=Mr,hi.la=va,ia.Hc=ga,ia.Gc=ss,ia.ia=43690&ss?0:sr.ia,ma=!(ga|ss)}if(0<$t.L&&($t.wa[$t.Y+$t.ja]=$t.gd[rs.$b][rs.Za],$t.wa[$t.Y+$t.ja].La|=!ma),Pr.Ka)return os(bs,7,"Premature end-of-file encountered.")}if(Ss(bs),$t=Er,Pr=1,rs=(st=bs).D,Vn=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(rs.M=st.M,rs.uc=Vn,Ps(st,rs),Pr=1,rs=(Ys=st.D).Nb,Vn=(ss=hc[st.L])*st.R,nr=ss/2*st.B,Ts=16*rs*st.R,oa=8*rs*st.B,ma=st.sa,ia=st.ta-Vn+Ts,sr=st.qa,Gn=st.ra-nr+oa,pa=st.Ha,hi=st.Ia-nr+oa,ya=(rr=Ys.M)==0,ga=rr>=st.Va-1,st.Aa==2&&Ps(st,Ys),Ys.uc)for(xa=(Is=st).D.M,e(Is.D.uc),Ys=Is.yb;Ys<Is.Hb;++Ys){va=Ys,Mr=xa;var hr=(Ds=(kr=Is).D).Nb;Sr=kr.R;var Ds=Ds.wa[Ds.Y+va],fi=kr.sa,Zr=kr.ta+16*hr*Sr+16*va,Un=Ds.dd,kn=Ds.tc;if(kn!=0)if(e(3<=kn),kr.L==1)0<va&&Jd(fi,Zr,Sr,kn+4),Ds.La&&Uu(fi,Zr,Sr,kn),0<Mr&&Xd(fi,Zr,Sr,kn+4),Ds.La&&Fu(fi,Zr,Sr,kn);else{var ks=kr.B,Ki=kr.qa,so=kr.ra+8*hr*ks+8*va,_i=kr.Ha,kr=kr.Ia+8*hr*ks+8*va;hr=Ds.ld,0<va&&(Ws(fi,Zr,Sr,kn+4,Un,hr),sl(Ki,so,_i,kr,ks,kn+4,Un,hr)),Ds.La&&(oA(fi,Zr,Sr,kn,Un,hr),Yd(Ki,so,_i,kr,ks,kn,Un,hr)),0<Mr&&(br(fi,Zr,Sr,kn+4,Un,hr),nl(Ki,so,_i,kr,ks,kn+4,Un,hr)),Ds.La&&(QA(fi,Zr,Sr,kn,Un,hr),Wd(Ki,so,_i,kr,ks,kn,Un,hr))}}if(st.ia&&alert("todo:DitherRow"),$t.put!=null){if(Ys=16*rr,rr=16*(rr+1),ya?($t.y=st.sa,$t.O=st.ta+Ts,$t.f=st.qa,$t.N=st.ra+oa,$t.ea=st.Ha,$t.W=st.Ia+oa):(Ys-=ss,$t.y=ma,$t.O=ia,$t.f=sr,$t.N=Gn,$t.ea=pa,$t.W=hi),ga||(rr-=ss),rr>$t.o&&(rr=$t.o),$t.F=null,$t.J=null,st.Fa!=null&&0<st.Fa.length&&Ys<rr&&($t.J=b(st,$t,Ys,rr-Ys),$t.F=st.mb,$t.F==null&&$t.F.length==0)){Pr=os(st,3,"Could not decode alpha data.");break t}Ys<$t.j&&(ss=$t.j-Ys,Ys=$t.j,e(!(1&ss)),$t.O+=st.R*ss,$t.N+=st.B*(ss>>1),$t.W+=st.B*(ss>>1),$t.F!=null&&($t.J+=$t.width*ss)),Ys<rr&&($t.O+=$t.v,$t.N+=$t.v>>1,$t.W+=$t.v>>1,$t.F!=null&&($t.J+=$t.v),$t.ka=Ys-$t.j,$t.U=$t.va-$t.v,$t.T=rr-Ys,Pr=$t.put($t))}rs+1!=st.Ic||ga||(s(st.sa,st.ta-Vn,ma,ia+16*st.R,Vn),s(st.qa,st.ra-nr,sr,Gn+8*st.B,nr),s(st.Ha,st.Ia-nr,pa,hi+8*st.B,nr))}if(!Pr)return os(bs,6,"Output aborted.")}return 1})(Ce,Qe)),Qe.bc!=null&&Qe.bc(Qe),Oe&=1}return Oe?(Ce.cb=0,Oe):0})(x,Y)||(I=x.a)}}else I=x.a}I==0&&me.Oa!=null&&me.Oa.fd&&(I=UA(me.ba))}me=I}de=me!=0?null:11>de?ve.f.RGBA.eb:ve.f.kb.y}else de=null;return de};var Vu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(O,$){for(var L="",H=0;H<4;H++)L+=String.fromCharCode(O[$++]);return L}function A(O,$){return O[$+0]|O[$+1]<<8}function m(O,$){return(O[$+0]|O[$+1]<<8|O[$+2]<<16)>>>0}function v(O,$){return(O[$+0]|O[$+1]<<8|O[$+2]<<16|O[$+3]<<24)>>>0}new u;var g=[0],B=[0],S=[],T=new u,E=n,_=(function(O,$){var L={},H=0,z=!1,re=0,pe=0;if(L.frames=[],!(function(G,te){for(var le=0;le<4;le++)if(G[te+le]!="RIFF".charCodeAt(le))return!0;return!1})(O,$)){for(v(O,$+=4),$+=8;$<O.length;){var ae=f(O,$),ne=v(O,$+=4);$+=4;var Z=ne+(1&ne);switch(ae){case"VP8 ":case"VP8L":L.frames[H]===void 0&&(L.frames[H]={}),(se=L.frames[H]).src_off=z?pe:$-8,se.src_size=re+ne+8,H++,z&&(z=!1,re=0,pe=0);break;case"VP8X":(se=L.header={}).feature_flags=O[$];var ue=$+4;se.canvas_width=1+m(O,ue),ue+=3,se.canvas_height=1+m(O,ue),ue+=3;break;case"ALPH":z=!0,re=Z+8,pe=$-8;break;case"ANIM":(se=L.header).bgcolor=v(O,$),ue=$+4,se.loop_count=A(O,ue),ue+=2;break;case"ANMF":var je,se;(se=L.frames[H]={}).offset_x=2*m(O,$),$+=3,se.offset_y=2*m(O,$),$+=3,se.width=1+m(O,$),$+=3,se.height=1+m(O,$),$+=3,se.duration=m(O,$),$+=3,je=O[$++],se.dispose=1&je,se.blend=je>>1&1}ae!="ANMF"&&($+=Z)}return L}})(E,0);_.response=E,_.rgbaoutput=!0,_.dataurl=!1;var F=_.header?_.header:null,Q=_.frames?_.frames:null;if(F){F.loop_counter=F.loop_count,g=[F.canvas_height],B=[F.canvas_width];for(var M=0;M<Q.length&&Q[M].blend!=0;M++);}var k=Q[0],R=T.WebPDecodeRGBA(E,k.src_off,k.src_size,B,g);k.rgba=R,k.imgwidth=B[0],k.imgheight=g[0];for(var D=0;D<B[0]*g[0]*4;D++)S[D]=R[D];return this.width=B,this.height=g,this.data=S,this}(function(n){var e,t,s,a,i,c,h,u,f,A=function(G){return G=G||{},this.isStrokeTransparent=G.isStrokeTransparent||!1,this.strokeOpacity=G.strokeOpacity||1,this.strokeStyle=G.strokeStyle||"#000000",this.fillStyle=G.fillStyle||"#000000",this.isFillTransparent=G.isFillTransparent||!1,this.fillOpacity=G.fillOpacity||1,this.font=G.font||"10px sans-serif",this.textBaseline=G.textBaseline||"alphabetic",this.textAlign=G.textAlign||"left",this.lineWidth=G.lineWidth||1,this.lineJoin=G.lineJoin||"miter",this.lineCap=G.lineCap||"butt",this.path=G.path||[],this.transform=G.transform!==void 0?G.transform.clone():new u,this.globalCompositeOperation=G.globalCompositeOperation||"normal",this.globalAlpha=G.globalAlpha||1,this.clip_path=G.clip_path||[],this.currentPoint=G.currentPoint||new c,this.miterLimit=G.miterLimit||10,this.lastPoint=G.lastPoint||new c,this.lineDashOffset=G.lineDashOffset||0,this.lineDash=G.lineDash||[],this.margin=G.margin||[0,0,0,0],this.prevPageLastElemOffset=G.prevPageLastElemOffset||0,this.ignoreClearRect=typeof G.ignoreClearRect!="boolean"||G.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,u=this.internal.Matrix,f=new A}]);var m=function(G){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=G;Object.defineProperty(this,"pdf",{get:function(){return te}});var le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return le},set:function(fe){le=!!fe}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(fe){he=!!fe}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(fe){isNaN(fe)||(ce=fe)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(fe){isNaN(fe)||(xe=fe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(fe){var ut;typeof fe=="number"?ut=[fe,fe,fe,fe]:((ut=new Array(4))[0]=fe[0],ut[1]=fe.length>=2?fe[1]:ut[0],ut[2]=fe.length>=3?fe[2]:ut[0],ut[3]=fe.length>=4?fe[3]:ut[1]),f.margin=ut}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(fe){Ne=fe}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(fe){Te=fe}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(fe){Fe=fe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(fe){fe instanceof A&&(f=fe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(fe){f.path=fe}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function(fe){tt=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var ut;ut=v(fe),this.ctx.fillStyle=ut.style,this.ctx.isFillTransparent=ut.a===0,this.ctx.fillOpacity=ut.a,this.pdf.setFillColor(ut.r,ut.g,ut.b,{a:ut.a}),this.pdf.setTextColor(ut.r,ut.g,ut.b,{a:ut.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var ut=v(fe);this.ctx.strokeStyle=ut.style,this.ctx.isStrokeTransparent=ut.a===0,this.ctx.strokeOpacity=ut.a,ut.a===0?this.pdf.setDrawColor(255,255,255):(ut.a,this.pdf.setDrawColor(ut.r,ut.g,ut.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var $e=null,it=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(fe){$e=null,it=null,Ve=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var ut;if(this.ctx.font=fe,(ut=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(fe))!==null){var Lt=ut[1];ut[2];var Ge=ut[3],Je=ut[4];ut[5];var Qt=ut[6],Ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(Ut==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:Ut==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Yt=(function(kt){var Pn,ke,gt=[],He=kt.trim();if(He==="")return Ax;if(He in OC)return[OC[He]];for(;He!=="";){switch(ke=null,Pn=(He=MC(He)).charAt(0)){case'"':case"'":ke=m9(He.substring(1),Pn);break;default:ke=p9(He)}if(ke===null||(gt.push(ke[0]),(He=MC(ke[1]))!==""&&He.charAt(0)!==","))return Ax;He=He.replace(/^,/,"")}return gt})(Qt);if(this.fontFaces){var zt=(function(kt,Pn){var ke=kt.getFontList(),gt=JSON.stringify(ke);if($e===null||it!==gt){var He=(function(at){var ht=[];return Object.keys(at).forEach(function(Rt){at[Rt].forEach(function(Bt){var Ht=null;switch(Bt){case"bold":Ht={family:Rt,weight:"bold"};break;case"italic":Ht={family:Rt,style:"italic"};break;case"bolditalic":Ht={family:Rt,weight:"bold",style:"italic"};break;case"":case"normal":Ht={family:Rt}}Ht!==null&&(Ht.ref={name:Rt,style:Bt},ht.push(Ht))})}),ht})(ke);$e=(function(at){for(var ht={},Rt=0;Rt<at.length;++Rt){var Bt=lx(at[Rt]),Ht=Bt.family,xn=Bt.stretch,Ct=Bt.style,dt=Bt.weight;ht[Ht]=ht[Ht]||{},ht[Ht][xn]=ht[Ht][xn]||{},ht[Ht][xn][Ct]=ht[Ht][xn][Ct]||{},ht[Ht][xn][Ct][dt]=Bt}return ht})(He.concat(Pn)),it=gt}return $e})(this.pdf,this.fontFaces),Jt=Yt.map(function(kt){return{family:kt,stretch:"normal",weight:Ge,style:Lt}}),yn=(function(kt,Pn,ke){for(var gt=(ke=ke||{}).defaultFontFamily||"times",He=Object.assign({},f9,ke.genericFontFamilies||{}),at=null,ht=null,Rt=0;Rt<Pn.length;++Rt)if(He[(at=lx(Pn[Rt])).family]&&(at.family=He[at.family]),kt.hasOwnProperty(at.family)){ht=kt[at.family];break}if(!(ht=ht||kt[gt]))throw new Error("Could not find a font-family for the rule '"+PC(at)+"' and default family '"+gt+"'.");if(ht=(function(Bt,Ht){if(Ht[Bt])return Ht[Bt];var xn=vb[Bt],Ct=xn<=vb.normal?-1:1,dt=QC(Ht,hI,xn,Ct);if(!dt)throw new Error("Could not find a matching font-stretch value for "+Bt);return dt})(at.stretch,ht),ht=(function(Bt,Ht){if(Ht[Bt])return Ht[Bt];for(var xn=dI[Bt],Ct=0;Ct<xn.length;++Ct)if(Ht[xn[Ct]])return Ht[xn[Ct]];throw new Error("Could not find a matching font-style for "+Bt)})(at.style,ht),!(ht=(function(Bt,Ht){if(Ht[Bt])return Ht[Bt];if(Bt===400&&Ht[500])return Ht[500];if(Bt===500&&Ht[400])return Ht[400];var xn=h9[Bt],Ct=QC(Ht,fI,xn,Bt<400?-1:1);if(!Ct)throw new Error("Could not find a matching font-weight for value "+Bt);return Ct})(at.weight,ht)))throw new Error("Failed to resolve a font for the rule '"+PC(at)+"'.");return ht})(zt,Jt);this.pdf.setFont(yn.ref.name,yn.ref.style)}else{var tn="";(Ge==="bold"||parseInt(Ge,10)>=700||Lt==="bold")&&(tn="bold"),Lt==="italic"&&(tn+="italic"),tn.length===0&&(tn="normal");for(var Dn="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<Yt.length;Et++){if(this.pdf.internal.getFont(Yt[Et],tn,{noFallback:!0,disableWarning:!0})!==void 0){Dn=Yt[Et];break}if(tn==="bolditalic"&&this.pdf.internal.getFont(Yt[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Dn=Yt[Et],tn="bold";else if(this.pdf.internal.getFont(Yt[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Dn=Yt[Et],tn="normal";break}}if(Dn===""){for(var Gt=0;Gt<Yt.length;Gt++)if(xt[Yt[Gt]]){Dn=xt[Yt[Gt]];break}}Dn=Dn===""?"Times":Dn,this.pdf.setFont(Dn,tn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};m.prototype.setLineDash=function(G){this.lineDash=G},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){Q.call(this,"fill",!1)},m.prototype.stroke=function(){Q.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(G,te){if(isNaN(G)||isNaN(te))throw zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var le=this.ctx.transform.applyToPoint(new c(G,te));this.path.push({type:"mt",x:le.x,y:le.y}),this.ctx.lastPoint=new c(G,te)},m.prototype.closePath=function(){var G=new c(0,0),te=0;for(te=this.path.length-1;te!==-1;te--)if(this.path[te].type==="begin"&&Fr(this.path[te+1])==="object"&&typeof this.path[te+1].x=="number"){G=new c(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(G.x,G.y)},m.prototype.lineTo=function(G,te){if(isNaN(G)||isNaN(te))throw zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var le=this.ctx.transform.applyToPoint(new c(G,te));this.path.push({type:"lt",x:le.x,y:le.y}),this.ctx.lastPoint=new c(le.x,le.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Q.call(this,null,!0)},m.prototype.quadraticCurveTo=function(G,te,le,he){if(isNaN(le)||isNaN(he)||isNaN(G)||isNaN(te))throw zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new c(le,he)),xe=this.ctx.transform.applyToPoint(new c(G,te));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},m.prototype.bezierCurveTo=function(G,te,le,he,ce,xe){if(isNaN(ce)||isNaN(xe)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(he))throw zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new c(ce,xe)),Te=this.ctx.transform.applyToPoint(new c(G,te)),Fe=this.ctx.transform.applyToPoint(new c(le,he));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Fe.x,y2:Fe.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new c(Ne.x,Ne.y)},m.prototype.arc=function(G,te,le,he,ce,xe){if(isNaN(G)||isNaN(te)||isNaN(le)||isNaN(he)||isNaN(ce))throw zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new c(G,te));G=Ne.x,te=Ne.y;var Te=this.ctx.transform.applyToPoint(new c(0,le)),Fe=this.ctx.transform.applyToPoint(new c(0,0));le=Math.sqrt(Math.pow(Te.x-Fe.x,2)+Math.pow(Te.y-Fe.y,2))}Math.abs(ce-he)>=2*Math.PI&&(he=0,ce=2*Math.PI),this.path.push({type:"arc",x:G,y:te,radius:le,startAngle:he,endAngle:ce,counterclockwise:xe})},m.prototype.arcTo=function(G,te,le,he,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(G,te,le,he){if(isNaN(G)||isNaN(te)||isNaN(le)||isNaN(he))throw zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(G,te),this.lineTo(G+le,te),this.lineTo(G+le,te+he),this.lineTo(G,te+he),this.lineTo(G,te),this.lineTo(G+le,te),this.lineTo(G,te)},m.prototype.fillRect=function(G,te,le,he){if(isNaN(G)||isNaN(te)||isNaN(le)||isNaN(he))throw zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(G,te,le,he),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(G,te,le,he){if(isNaN(G)||isNaN(te)||isNaN(le)||isNaN(he))throw zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(G,te,le,he),this.stroke())},m.prototype.clearRect=function(G,te,le,he){if(isNaN(G)||isNaN(te)||isNaN(le)||isNaN(he))throw zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(G,te,le,he))},m.prototype.save=function(G){G=typeof G!="boolean"||G;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),G){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},m.prototype.restore=function(G){G=typeof G!="boolean"||G;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("Q");this.pdf.setPage(te),G&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(G){var te,le,he,ce;if(G.isCanvasGradient===!0&&(G=G.getColor()),!G)return{r:0,g:0,b:0,a:0,style:G};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(G))te=0,le=0,he=0,ce=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(G);if(xe!==null)te=parseInt(xe[1]),le=parseInt(xe[2]),he=parseInt(xe[3]),ce=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(G))!==null)te=parseInt(xe[1]),le=parseInt(xe[2]),he=parseInt(xe[3]),ce=parseFloat(xe[4]);else{if(ce=1,typeof G=="string"&&G.charAt(0)!=="#"){var Ne=new aI(G);G=Ne.ok?Ne.toHex():"#000000"}G.length===4?(te=G.substring(1,2),te+=te,le=G.substring(2,3),le+=le,he=G.substring(3,4),he+=he):(te=G.substring(1,3),le=G.substring(3,5),he=G.substring(5,7)),te=parseInt(te,16),le=parseInt(le,16),he=parseInt(he,16)}}return{r:te,g:le,b:he,a:ce,style:G}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},B=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(G,te,le,he){if(isNaN(te)||isNaN(le)||typeof G!="string")throw zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!g.call(this)){var ce=Z(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;H.call(this,{text:G,x:te,y:le,scale:xe,angle:ce,align:this.textAlign,maxWidth:he})}},m.prototype.strokeText=function(G,te,le,he){if(isNaN(te)||isNaN(le)||typeof G!="string")throw zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){he=isNaN(he)?void 0:he;var ce=Z(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;H.call(this,{text:G,x:te,y:le,scale:xe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:he})}},m.prototype.measureText=function(G){if(typeof G!="string")throw zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,le=this.pdf.internal.scaleFactor,he=te.internal.getFontSize(),ce=te.getStringUnitWidth(G)*he/te.internal.scaleFactor;return new function(xe){var Ne=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:ce*=Math.round(96*le/72*1e4)/1e4})},m.prototype.scale=function(G,te){if(isNaN(G)||isNaN(te))throw zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var le=new u(G,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(le)},m.prototype.rotate=function(G){if(isNaN(G))throw zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new u(Math.cos(G),Math.sin(G),-Math.sin(G),Math.cos(G),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},m.prototype.translate=function(G,te){if(isNaN(G)||isNaN(te))throw zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var le=new u(1,0,0,1,G,te);this.ctx.transform=this.ctx.transform.multiply(le)},m.prototype.transform=function(G,te,le,he,ce,xe){if(isNaN(G)||isNaN(te)||isNaN(le)||isNaN(he)||isNaN(ce)||isNaN(xe))throw zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new u(G,te,le,he,ce,xe);this.ctx.transform=this.ctx.transform.multiply(Ne)},m.prototype.setTransform=function(G,te,le,he,ce,xe){G=isNaN(G)?1:G,te=isNaN(te)?0:te,le=isNaN(le)?0:le,he=isNaN(he)?1:he,ce=isNaN(ce)?0:ce,xe=isNaN(xe)?0:xe,this.ctx.transform=new u(G,te,le,he,ce,xe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(G,te,le,he,ce,xe,Ne,Te,Fe){var tt=this.pdf.getImageProperties(G),$e=1,it=1,Ve=1,fe=1;he!==void 0&&Te!==void 0&&(Ve=Te/he,fe=Fe/ce,$e=tt.width/he*Te/he,it=tt.height/ce*Fe/ce),xe===void 0&&(xe=te,Ne=le,te=0,le=0),he!==void 0&&Te===void 0&&(Te=he,Fe=ce),he===void 0&&Te===void 0&&(Te=tt.width,Fe=tt.height);var ut=this.ctx.transform.decompose(),Lt=Z(ut.rotate.shx),Ge=new u,Je=(Ge=(Ge=(Ge=Ge.multiply(ut.translate)).multiply(ut.skew)).multiply(ut.scale)).applyToRectangle(new h(xe-te*Ve,Ne-le*fe,he*$e,ce*it));if(this.autoPaging){for(var Qt,Ut=T.call(this,Je),Yt=[],zt=0;zt<Ut.length;zt+=1)Yt.indexOf(Ut[zt])===-1&&Yt.push(Ut[zt]);F(Yt);for(var Jt=Yt[0],yn=Yt[Yt.length-1],tn=Jt;tn<yn+1;tn++){this.pdf.setPage(tn);var Dn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=tn===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=tn===1?0:Et+(tn-2)*Gt;if(this.ctx.clip_path.length!==0){var Pn=this.path;Qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Qt,this.posX+this.margin[3],-kt+xt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Pn}var ke=JSON.parse(JSON.stringify(Je));ke=_([ke],this.posX+this.margin[3],-kt+xt+this.ctx.prevPageLastElemOffset)[0];var gt=(tn>Jt||tn<yn)&&S.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dn,Gt,null).clip().discardPath()),this.pdf.addImage(G,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Lt),gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(G,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,Lt)};var T=function(G,te,le){var he=[];te=te||this.pdf.internal.pageSize.width,le=le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(G.type){default:case"mt":case"lt":he.push(Math.floor((G.y+ce)/le)+1);break;case"arc":he.push(Math.floor((G.y+ce-G.radius)/le)+1),he.push(Math.floor((G.y+ce+G.radius)/le)+1);break;case"qct":var xe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,G.x1,G.y1,G.x,G.y);he.push(Math.floor((xe.y+ce)/le)+1),he.push(Math.floor((xe.y+xe.h+ce)/le)+1);break;case"bct":var Ne=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,G.x1,G.y1,G.x2,G.y2,G.x,G.y);he.push(Math.floor((Ne.y+ce)/le)+1),he.push(Math.floor((Ne.y+Ne.h+ce)/le)+1);break;case"rect":he.push(Math.floor((G.y+ce)/le)+1),he.push(Math.floor((G.y+G.h+ce)/le)+1)}for(var Te=0;Te<he.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<he[Te];)E.call(this);return he},E=function(){var G=this.fillStyle,te=this.strokeStyle,le=this.font,he=this.lineCap,ce=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=G,this.strokeStyle=te,this.font=le,this.lineCap=he,this.lineWidth=ce,this.lineJoin=xe},_=function(G,te,le){for(var he=0;he<G.length;he++)switch(G[he].type){case"bct":G[he].x2+=te,G[he].y2+=le;case"qct":G[he].x1+=te,G[he].y1+=le;default:G[he].x+=te,G[he].y+=le}return G},F=function(G){return G.sort(function(te,le){return te-le})},Q=function(G,te){var le=this.fillStyle,he=this.strokeStyle,ce=this.lineCap,xe=this.lineWidth,Ne=Math.abs(xe*this.ctx.transform.scaleX),Te=this.lineJoin;if(this.autoPaging){for(var Fe,tt,$e=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),Ve=[],fe=0;fe<it.length;fe++)if(it[fe].x!==void 0)for(var ut=T.call(this,it[fe]),Lt=0;Lt<ut.length;Lt+=1)Ve.indexOf(ut[Lt])===-1&&Ve.push(ut[Lt]);for(var Ge=0;Ge<Ve.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Ve[Ge];)E.call(this);F(Ve);for(var Je=Ve[0],Qt=Ve[Ve.length-1],Ut=Je;Ut<Qt+1;Ut++){this.pdf.setPage(Ut),this.fillStyle=le,this.strokeStyle=he,this.lineCap=ce,this.lineWidth=Ne,this.lineJoin=Te;var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=Ut===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tn=Ut===1?0:Jt+(Ut-2)*yn;if(this.ctx.clip_path.length!==0){var Dn=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Fe,this.posX+this.margin[3],-tn+zt+this.ctx.prevPageLastElemOffset),M.call(this,G,!0),this.path=Dn}if(tt=JSON.parse(JSON.stringify($e)),this.path=_(tt,this.posX+this.margin[3],-tn+zt+this.ctx.prevPageLastElemOffset),te===!1||Ut===0){var xt=(Ut>Je||Ut<Qt)&&S.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,yn,null).clip().discardPath()),M.call(this,G,te),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}this.path=$e}else this.lineWidth=Ne,M.call(this,G,te),this.lineWidth=xe},M=function(G,te){if((G!=="stroke"||te||!B.call(this))&&(G==="stroke"||te||!g.call(this))){for(var le,he,ce=[],xe=this.path,Ne=0;Ne<xe.length;Ne++){var Te=xe[Ne];switch(Te.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Te,deltas:[],abs:[]});break;case"lt":var Fe=ce.length;if(xe[Ne-1]&&!isNaN(xe[Ne-1].x)&&(le=[Te.x-xe[Ne-1].x,Te.y-xe[Ne-1].y],Fe>0)){for(;Fe>=0;Fe--)if(ce[Fe-1].close!==!0&&ce[Fe-1].begin!==!0){ce[Fe-1].deltas.push(le),ce[Fe-1].abs.push(Te);break}}break;case"bct":le=[Te.x1-xe[Ne-1].x,Te.y1-xe[Ne-1].y,Te.x2-xe[Ne-1].x,Te.y2-xe[Ne-1].y,Te.x-xe[Ne-1].x,Te.y-xe[Ne-1].y],ce[ce.length-1].deltas.push(le);break;case"qct":var tt=xe[Ne-1].x+2/3*(Te.x1-xe[Ne-1].x),$e=xe[Ne-1].y+2/3*(Te.y1-xe[Ne-1].y),it=Te.x+2/3*(Te.x1-Te.x),Ve=Te.y+2/3*(Te.y1-Te.y),fe=Te.x,ut=Te.y;le=[tt-xe[Ne-1].x,$e-xe[Ne-1].y,it-xe[Ne-1].x,Ve-xe[Ne-1].y,fe-xe[Ne-1].x,ut-xe[Ne-1].y],ce[ce.length-1].deltas.push(le);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Te)}}he=te?null:G==="stroke"?"stroke":"fill";for(var Lt=!1,Ge=0;Ge<ce.length;Ge++)if(ce[Ge].arc)for(var Je=ce[Ge].abs,Qt=0;Qt<Je.length;Qt++){var Ut=Je[Qt];Ut.type==="arc"?D.call(this,Ut.x,Ut.y,Ut.radius,Ut.startAngle,Ut.endAngle,Ut.counterclockwise,void 0,te,!Lt):z.call(this,Ut.x,Ut.y),Lt=!0}else if(ce[Ge].close===!0)this.pdf.internal.out("h"),Lt=!1;else if(ce[Ge].begin!==!0){var Yt=ce[Ge].start.x,zt=ce[Ge].start.y;re.call(this,ce[Ge].deltas,Yt,zt),Lt=!0}he&&O.call(this,he),te&&$.call(this)}},k=function(G){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,le=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return G-le;case"top":return G+te-le;case"hanging":return G+te-2*le;case"middle":return G+te/2-le;default:return G}},R=function(G){return G+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var G=function(){};return G.colorStops=[],G.addColorStop=function(te,le){this.colorStops.push([te,le])},G.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},G.isCanvasGradient=!0,G},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(G,te,le,he,ce,xe,Ne,Te,Fe){for(var tt=ae.call(this,le,he,ce,xe),$e=0;$e<tt.length;$e++){var it=tt[$e];$e===0&&(Fe?L.call(this,it.x1+G,it.y1+te):z.call(this,it.x1+G,it.y1+te)),pe.call(this,G,te,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}Te?$.call(this):O.call(this,Ne)},O=function(G){switch(G){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(G,te){this.pdf.internal.out(t(G)+" "+s(te)+" m")},H=function(G){var te;switch(G.align){case"right":case"end":te="right";break;case"center":te="center";break;default:te="left"}var le,he,ce,xe=this.pdf.getTextDimensions(G.text),Ne=k.call(this,G.y),Te=R.call(this,Ne)-xe.h,Fe=this.ctx.transform.applyToPoint(new c(G.x,Ne));if(this.autoPaging){var tt=this.ctx.transform.decompose(),$e=new u;$e=($e=($e=$e.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale);for(var it=this.ctx.transform.applyToRectangle(new h(G.x,Ne,xe.w,xe.h)),Ve=$e.applyToRectangle(new h(G.x,Te,xe.w,xe.h)),fe=T.call(this,Ve),ut=[],Lt=0;Lt<fe.length;Lt+=1)ut.indexOf(fe[Lt])===-1&&ut.push(fe[Lt]);F(ut);for(var Ge=ut[0],Je=ut[ut.length-1],Qt=Ge;Qt<Je+1;Qt++){this.pdf.setPage(Qt);var Ut=Qt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[2],Jt=zt-this.margin[0],yn=this.pdf.internal.pageSize.width-this.margin[1],tn=yn-this.margin[3],Dn=Qt===1?0:Yt+(Qt-2)*Jt;if(this.ctx.clip_path.length!==0){var xt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(le,this.posX+this.margin[3],-1*Dn+Ut),M.call(this,"fill",!0),this.path=xt}var Et=_([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Dn+Ut+this.ctx.prevPageLastElemOffset)[0];G.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*G.scale),ce=this.lineWidth,this.lineWidth=ce*G.scale);var Gt=this.autoPaging!=="text";if(Gt||Et.y+Et.h<=zt){if(Gt||Et.y>=Ut&&Et.x<=yn){var kt=Gt?G.text:this.pdf.splitTextToSize(G.text,G.maxWidth||yn-Et.x)[0],Pn=_([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Dn+Ut+this.ctx.prevPageLastElemOffset)[0],ke=Gt&&(Qt>Ge||Qt<Je)&&S.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tn,Jt,null).clip().discardPath()),this.pdf.text(kt,Pn.x,Pn.y,{angle:G.angle,align:te,renderingMode:G.renderingMode}),ke&&this.pdf.restoreGraphicsState()}}else Et.y<zt&&(this.ctx.prevPageLastElemOffset+=zt-Et.y);G.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=ce)}}else G.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*G.scale),ce=this.lineWidth,this.lineWidth=ce*G.scale),this.pdf.text(G.text,Fe.x+this.posX,Fe.y+this.posY,{angle:G.angle,align:te,renderingMode:G.renderingMode,maxWidth:G.maxWidth}),G.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=ce)},z=function(G,te,le,he){le=le||0,he=he||0,this.pdf.internal.out(t(G+le)+" "+s(te+he)+" l")},re=function(G,te,le){return this.pdf.lines(G,te,le,null,null)},pe=function(G,te,le,he,ce,xe,Ne,Te){this.pdf.internal.out([e(a(le+G)),e(i(he+te)),e(a(ce+G)),e(i(xe+te)),e(a(Ne+G)),e(i(Te+te)),"c"].join(" "))},ae=function(G,te,le,he){for(var ce=2*Math.PI,xe=Math.PI/2;te>le;)te-=ce;var Ne=Math.abs(le-te);Ne<ce&&he&&(Ne=ce-Ne);for(var Te=[],Fe=he?-1:1,tt=te;Ne>1e-5;){var $e=tt+Fe*Math.min(Ne,xe);Te.push(ne.call(this,G,tt,$e)),Ne-=Math.abs($e-tt),tt=$e}return Te},ne=function(G,te,le){var he=(le-te)/2,ce=G*Math.cos(he),xe=G*Math.sin(he),Ne=ce,Te=-xe,Fe=Ne*Ne+Te*Te,tt=Fe+Ne*ce+Te*xe,$e=4/3*(Math.sqrt(2*Fe*tt)-tt)/(Ne*xe-Te*ce),it=Ne-$e*Te,Ve=Te+$e*Ne,fe=it,ut=-Ve,Lt=he+te,Ge=Math.cos(Lt),Je=Math.sin(Lt);return{x1:G*Math.cos(te),y1:G*Math.sin(te),x2:it*Ge-Ve*Je,y2:it*Je+Ve*Ge,x3:fe*Ge-ut*Je,y3:fe*Je+ut*Ge,x4:G*Math.cos(le),y4:G*Math.sin(le)}},Z=function(G){return 180*G/Math.PI},ue=function(G,te,le,he,ce,xe){var Ne=G+.5*(le-G),Te=te+.5*(he-te),Fe=ce+.5*(le-ce),tt=xe+.5*(he-xe),$e=Math.min(G,ce,Ne,Fe),it=Math.max(G,ce,Ne,Fe),Ve=Math.min(te,xe,Te,tt),fe=Math.max(te,xe,Te,tt);return new h($e,Ve,it-$e,fe-Ve)},je=function(G,te,le,he,ce,xe,Ne,Te){var Fe,tt,$e,it,Ve,fe,ut,Lt,Ge,Je,Qt,Ut,Yt,zt,Jt=le-G,yn=he-te,tn=ce-le,Dn=xe-he,xt=Ne-ce,Et=Te-xe;for(tt=0;tt<41;tt++)Ge=(ut=($e=G+(Fe=tt/40)*Jt)+Fe*((Ve=le+Fe*tn)-$e))+Fe*(Ve+Fe*(ce+Fe*xt-Ve)-ut),Je=(Lt=(it=te+Fe*yn)+Fe*((fe=he+Fe*Dn)-it))+Fe*(fe+Fe*(xe+Fe*Et-fe)-Lt),tt==0?(Qt=Ge,Ut=Je,Yt=Ge,zt=Je):(Qt=Math.min(Qt,Ge),Ut=Math.min(Ut,Je),Yt=Math.max(Yt,Ge),zt=Math.max(zt,Je));return new h(Math.round(Qt),Math.round(Ut),Math.round(Yt-Qt),Math.round(zt-Ut))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var G,te,le=(G=this.ctx.lineDash,te=this.ctx.lineDashOffset,JSON.stringify({lineDash:G,lineDashOffset:te}));this.prevLineDash!==le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=le)}}})(Rn.API),(function(n){var e=function(c){var h,u,f,A,m,v,g,B,S,T;for(u=[],f=0,A=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;A>f;f+=4)(m=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(v=(m=((m=((m=((m=(m-(T=m%85))/85)-(S=m%85))/85)-(B=m%85))/85)-(g=m%85))/85)%85,u.push(v+33,g+33,B+33,S+33,T+33)):u.push(122);return(function(E,_){for(var F=_;F>0;F--)E.pop()})(u,h.length),String.fromCharCode.apply(String,u)+"~>"},t=function(c){var h,u,f,A,m,v=String,g="length",B=255,S="charCodeAt",T="slice",E="replace";for(c[T](-2),c=c[T](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),f=[],A=0,m=(c+=h="uuuuu"[T](c[g]%5||5))[g];m>A;A+=5)u=52200625*(c[S](A)-33)+614125*(c[S](A+1)-33)+7225*(c[S](A+2)-33)+85*(c[S](A+3)-33)+(c[S](A+4)-33),f.push(B&u>>24,B&u>>16,B&u>>8,B&u);return(function(_,F){for(var Q=F;Q>0;Q--)_.pop()})(f,h[g]),v.fromCharCode.apply(v,f)},s=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var u="",f=0;f<c.length;f+=2)u+=String.fromCharCode("0x"+(c[f]+c[f+1]));return u},i=function(c){for(var h=new Uint8Array(c.length),u=c.length;u--;)h[u]=c.charCodeAt(u);return(h=ub(h)).reduce(function(f,A){return f+String.fromCharCode(A)},"")};n.processDataByFilters=function(c,h){var u=0,f=c||"",A=[];for(typeof(h=h||[])=="string"&&(h=[h]),u=0;u<h.length;u+=1)switch(h[u]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=s(f),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[u]+'" is not implemented')}return{data:f,reverseChain:A.reverse().join(" ")}}})(Rn.API),(function(n){n.loadFile=function(e,t,s){return(function(a,i,c){i=i!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(u,f,A){var m=new XMLHttpRequest,v=0,g=function(B){var S=B.length,T=[],E=String.fromCharCode;for(v=0;v<S;v+=1)T.push(E(255&B.charCodeAt(v)));return T.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?A(g(this.responseText)):A(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)})(a,i,c)}catch{}return h})(e,t,s)},n.loadImageFile=n.loadFile})(Rn.API),(function(n){function e(){return(as.html2canvas?Promise.resolve(as.html2canvas):K1(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(as.DOMPurify?Promise.resolve(as.DOMPurify):K1(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var s=function(h){var u=Fr(h);return u==="undefined"?"undefined":u==="string"||h instanceof String?"string":u==="number"||h instanceof Number?"number":u==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(h,u){var f=document.createElement(h);for(var A in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[A]=u.style[A];return f},i=function h(u,f){for(var A=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||A.appendChild(h(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(A.width=u.width,A.height=u.height,A.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(A.value=u.value),A.addEventListener("load",function(){A.scrollTop=u.scrollTop,A.scrollLeft=u.scrollLeft},!0)),A},c=function h(u){var f=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),A=h.convert(Promise.resolve(),f);return(A=A.setProgress(1,h,1,[h])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,u){return h.__proto__=u||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,u){return this.then(function(){switch(u=u||(function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),u){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:h,dompurify:f})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=this.opt.jsPDF,A=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=A,A)for(var g=0;g<A.length;++g){var B=A[g],S=B.src.find(function(T){return T.format==="truetype"});S&&f.addFont(S.url,B.ref.name,B.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(h,u):this.outputPdf(h,u)},c.prototype.outputPdf=function(h,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,u)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(s(h)!=="object")return this;var u=Object.keys(h||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=h[f]};switch(f){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[f]=h[f]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(h,u){return this.then(function(){var f=h in c.template.prop?this.prop[h]:this.opt[h];return u?u(f):f})},c.prototype.setMargin=function(h){return this.then(function(){switch(s(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function u(f,A){return Math.floor(f*A/72*96)}return this.then(function(){(h=h||Rn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:u(h.inner.width,h.k),height:u(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,u,f,A){return h!=null&&(this.progress.val=h),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,u,f,A){return this.setProgress(h?this.progress.val+h:null,u||null,f?this.progress.n+f:null,A?this.progress.stack.concat(A):null)},c.prototype.then=function(h,u){var f=this;return this.thenCore(h,u,function(A,m){return f.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,A),v}).then(A,m).then(function(v){return f.updateProgress(1),v})})},c.prototype.thenCore=function(h,u,f){f=f||Promise.prototype.then;var A=this;h&&(h=h.bind(A)),u&&(u=u.bind(A));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:c.convert(Object.assign({},A),Promise.prototype),v=f.call(m,h,u);return c.convert(v,A.__proto__)},c.prototype.thenExternal=function(h,u){return Promise.prototype.then.call(this,h,u)},c.prototype.thenList=function(h){var u=this;return h.forEach(function(f){u=u.thenCore(f)}),u},c.prototype.catch=function(h){h&&(h=h.bind(this));var u=Promise.prototype.catch.call(this,h);return c.convert(u,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Rn.getPageSize=function(h,u,f){if(Fr(h)==="object"){var A=h;h=A.orientation,u=A.unit||u,f=A.format||f}u=u||"mm",f=f||"a4",h=(""+(h||"P")).toLowerCase();var m,v=(""+f).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var B,S=0,T=0;if(g.hasOwnProperty(v))S=g[v][1]/m,T=g[v][0]/m;else try{S=f[1],T=f[0]}catch{throw new Error("Invalid format: "+f)}if(h==="p"||h==="portrait")h="p",T>S&&(B=T,T=S,S=B);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",S>T&&(B=T,T=S,S=B)}return{width:T,height:S,unit:u,k:m,orientation:h}},n.html=function(h,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(lx):null;var f=new c(u);return u.worker?f:f.from(h).doCallback()}})(Rn.API),Rn.API.addJS=function(n){return HC=n,this.internal.events.subscribe("postPutResources",function(){V0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(V0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+HC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){V0!==void 0&&kC!==void 0&&this.internal.out("/Names <</JavaScript "+V0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),i=0;i<a.length;i++){var c=a[i],h=s.exec(c);if(h!=null){var u=h[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,A=[];for(i=0;i<f;i++){var m=t.internal.newObject();A.push(m);var v=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<A.length;i++)t.internal.write("(page_"+(i+1)+")"+A[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,i){var c={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var c=s.children[i];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])})(Rn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,i,c,h){var u,f=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var v,g=256*m.charCodeAt(4)+m.charCodeAt(5),B=m.length,S={width:0,height:0,numcomponents:1},T=4;T<B;T+=2){if(T+=g,e.indexOf(m.charCodeAt(T+1))!==-1){v=256*m.charCodeAt(T+5)+m.charCodeAt(T+6),S={width:256*m.charCodeAt(T+7)+m.charCodeAt(T+8),height:v,numcomponents:m.charCodeAt(T+9)};break}g=256*m.charCodeAt(T+2)+m.charCodeAt(T+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}A={data:t,width:u.width,height:u.height,colorSpace:h,bitsPerComponent:8,filter:f,index:s,alias:a}}return A}})(Rn.API),Rn.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,i=qH(n,{checkCrc:!0}),c=i.width,h=i.height,u=i.channels,f=i.palette,A=i.depth;a=f&&u===1?(function(D){for(var O=D.width,$=D.height,L=D.data,H=D.palette,z=D.depth,re=!1,pe=[],ae=[],ne=void 0,Z=!1,ue=0,je=0;je<H.length;je++){var se=Gj(H[je],4),G=se[0],te=se[1],le=se[2],he=se[3];pe.push(G,te,le),he!=null&&(he===0?(ue++,ae.length<1&&ae.push(je)):he<255&&(Z=!0))}if(Z||ue>1){re=!0,ae=void 0;var ce=O*$;ne=new Uint8Array(ce);for(var xe=new DataView(L.buffer),Ne=0;Ne<ce;Ne++){var Te=cx(xe,Ne,z),Fe=Gj(H[Te],4)[3];ne[Ne]=Fe}}else ue===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:re?8:void 0,colorBytes:L,alphaBytes:ne,needSMask:re,palette:pe,mask:ae}})(i):u===2||u===4?(function(D){for(var O=D.data,$=D.width,L=D.height,H=D.channels,z=D.depth,re=H===2?"DeviceGray":"DeviceRGB",pe=H-1,ae=$*L,ne=pe,Z=ae*ne,ue=1*ae,je=Math.ceil(Z*z/8),se=Math.ceil(ue*z/8),G=new Uint8Array(je),te=new Uint8Array(se),le=new DataView(O.buffer),he=new DataView(G.buffer),ce=new DataView(te.buffer),xe=!1,Ne=0;Ne<ae;Ne++){for(var Te=Ne*H,Fe=0;Fe<ne;Fe++)JC(he,cx(le,Te+Fe,z),Ne*ne+Fe,z);var tt=cx(le,Te+ne,z);tt<(1<<z)-1&&(xe=!0),JC(ce,tt,1*Ne,z)}return{colorSpace:re,colorsPerPixel:pe,sMaskBitsPerComponent:xe?z:void 0,colorBytes:G,alphaBytes:te,needSMask:xe}})(i):(function(D){var O=D.data,$=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(L){for(var H=L.length,z=new Uint8Array(2*H),re=new DataView(z.buffer,z.byteOffset,z.byteLength),pe=0;pe<H;pe++)re.setUint16(2*pe,L[pe],!1);return z})(O):O,needSMask:!1}})(i);var m,v,g,B=a,S=B.colorSpace,T=B.colorsPerPixel,E=B.sMaskBitsPerComponent,_=B.colorBytes,F=B.alphaBytes,Q=B.needSMask,M=B.palette,k=B.mask,R=null;return s!==Rn.API.image_compression.NONE&&typeof ub=="function"?(R=(function(D){var O;switch(D){case Rn.API.image_compression.FAST:O=11;break;case Rn.API.image_compression.MEDIUM:O=13;break;case Rn.API.image_compression.SLOW:O=14;break;default:O=12}return O})(s),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(R," /Colors ").concat(T," /BitsPerComponent ").concat(A," /Columns ").concat(c),n=GC(_,Math.ceil(c*T*A/8),T,A,s),Q&&(g=GC(F,Math.ceil(c*E/8),1,E,s))):(m=void 0,v=void 0,n=_,Q&&(g=F)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:n,index:e,filter:m,decodeParameters:v,transparency:k,palette:M,sMask:g,predictor:R,width:c,height:h,bitsPerComponent:A,sMaskBitsPerComponent:E,colorSpace:S}}},(function(n){n.processGIF89A=function(e,t,s,a){var i=new x9(e),c=i.width,h=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:c,height:h},A=new ux(100).encode(f,100);return n.processJPEG.call(this,A,t,s,a)},n.processGIF87A=n.processGIF89A})(Rn.API),XA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},XA.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){zr.log("bit decode error:"+t)}},XA.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var u=this.palette[i>>7-h&1];this.data[c+4*h]=u.blue,this.data[c+4*h+1]=u.green,this.data[c+4*h+2]=u.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},XA.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var i=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*a*4,h=i>>4,u=15&i,f=this.palette[h];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},XA.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*s;if(a<this.palette.length){var c=this.palette[a];this.data[i]=c.red,this.data[i+1]=c.green,this.data[i+2]=c.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},XA.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&e)/e*255|0,h=(i>>5&e)/e*255|0,u=(i>>10&e)/e*255|0,f=i>>15?255:0,A=s*this.width*4+4*a;this.data[A]=u,this.data[A+1]=h,this.data[A+2]=c,this.data[A+3]=f}this.pos+=n}},XA.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,u=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,A=a*this.width*4+4*i;this.data[A]=f,this.data[A+1]=u,this.data[A+2]=h,this.data[A+3]=255}this.pos+=n}},XA.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},XA.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=i,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=c}},XA.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var i=new XA(e,!1),c=i.width,h=i.height,u={data:i.getData(),width:c,height:h},f=new ux(100).encode(u,100);return n.processJPEG.call(this,f,t,s,a)}})(Rn.API),ZC.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var i=new ZC(e),c=i.width,h=i.height,u={data:i.getData(),width:c,height:h},f=new ux(100).encode(u,100);return n.processJPEG.call(this,f,t,s,a)}})(Rn.API),Rn.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,i=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,u=0,f=0;f<a;f+=4){var A=s[f],m=s[f+1],v=s[f+2],g=s[f+3];i[h++]=A,i[h++]=m,i[h++]=v,c[u++]=g}var B=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:B,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Rn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_f=Rn.API,K0=_f.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,u=h.fof?h.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,A=f.fof?f.fof:1,m=e.doKerning!==!1,v=0,g=n.length,B=0,S=h[0]||u,T=[];for(t=0;t<g;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+c*(1e3/i)||0)/1e3):(v=m&&Fr(f[s])==="object"&&!isNaN(parseInt(f[s][B],10))?f[s][B]/A:0,T.push((h[s]||S)/u+v)),B=s;return T},VC=_f.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return _f.processArabic&&(n=_f.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:K0.apply(this,arguments).reduce(function(i,c){return i+c},0)},KC=function(n,e,t,s){for(var a=[],i=0,c=n.length,h=0;i!==c&&h+e[i]<t;)h+=e[i],i++;a.push(n.slice(0,i));var u=i;for(h=0;i!==c;)h+e[i]>s&&(a.push(n.slice(u,i)),h=0,u=i),h+=e[i],i++;return u!==i&&a.push(n.slice(u,i)),a},zC=function(n,e,t){t||(t={});var s,a,i,c,h,u,f,A=[],m=[A],v=t.textIndent||0,g=0,B=0,S=n.split(" "),T=K0.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var E=Array(u).join(" "),_=[];S.map(function(Q){(Q=Q.split(/\s*\n/)).length>1?_=_.concat(Q.map(function(M,k){return(k&&M.length?`
`:"")+M})):_.push(Q[0])}),S=_,u=VC.apply(this,[E,t])}for(i=0,c=S.length;i<c;i++){var F=0;if(s=S[i],u&&s[0]==`
`&&(s=s.substr(1),F=1),v+g+(B=(a=K0.apply(this,[s,t])).reduce(function(Q,M){return Q+M},0))>e||F){if(B>e){for(h=KC.apply(this,[s,a,e-(v+g),e]),A.push(h.shift()),A=[h.pop()];h.length;)m.push([h.shift()]);B=a.slice(s.length-(A[0]?A[0].length:0)).reduce(function(Q,M){return Q+M},0)}else A=[s];m.push(A),v=B+u,g=T}else A.push(s),v+=g+B,g=T}return f=u?function(Q,M){return(M?E:"")+Q.join(" ")}:function(Q){return Q.join(" ")},m.map(f)},_f.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var m=this.internal.getFont(A.fontName,A.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=t.lineIndent;var h,u,f=[];for(h=0,u=s.length;h<u;h++)f=f.concat(zC.apply(this,[s[h],c,i]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[t[i]]=e[i],a[e[i]]=t[i];var c=function(v){return"0x"+parseInt(v,10).toString(16)},h=n.__fontmetrics__.compress=function(v){var g,B,S,T,E=["{"];for(var _ in v){if(g=v[_],isNaN(parseInt(_,10))?B="'"+_+"'":(_=parseInt(_,10),B=(B=c(_).slice(2)).slice(0,-1)+a[B.slice(-1)]),typeof g=="number")g<0?(S=c(g).slice(3),T="-"):(S=c(g).slice(2),T=""),S=T+S.slice(0,-1)+a[S.slice(-1)];else{if(Fr(g)!=="object")throw new Error("Don't know what to do with value type "+Fr(g)+".");S=h(g)}E.push(B+S)}return E.push("}"),E.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,B,S,T,E={},_=1,F=E,Q=[],M="",k="",R=v.length-1,D=1;D<R;D+=1)(T=v[D])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(T):T=="{"?(Q.push([F,S]),F={},S=void 0):T=="}"?((B=Q.pop())[0][B[1]]=F,S=void 0,F=B[0]):T=="-"?_=-1:S===void 0?s.hasOwnProperty(T)?(M+=s[T],S=parseInt(M,16)*_,_=1,M=""):M+=T:s.hasOwnProperty(T)?(k+=s[T],F[S]=parseInt(k,16)*_,_=1,S=void 0,k=""):k+=T;return E},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var g=v.font,B=m.Unicode[g.postScriptName];B&&(g.metadata.Unicode={},g.metadata.Unicode.widths=B.widths,g.metadata.Unicode.kerning=B.kerning);var S=A.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])})(Rn.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=t.charCodeAt(i);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,i=t.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(dv(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,s)}}])})(Rn),Rn.API.addSvgAsImage=function(n,e,t,s,a,i,c,h){if(isNaN(e)||isNaN(t))throw zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(as.canvg?Promise.resolve(as.canvg):K1(()=>import("./index.es-CfsUEhDD.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(f,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(A)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,s,a,c,h)})},Rn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Rn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,i,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),u=[],f=0,A=0,m=0;function v(B,S){var T,E=!1;for(T=0;T<B.length;T+=1)B[T]===S&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=h.length;for(m=0;m<g;m+=1)t[h[m]].value=t[h[m]].defaultValue,t[h[m]].explicitSet=!1}if(Fr(n)==="object"){for(a in n)if(i=n[a],v(h,a)&&i!==void 0){if(t[a].type==="boolean"&&typeof i=="boolean")t[a].value=i;else if(t[a].type==="name"&&v(t[a].valueSet,i))t[a].value=i;else if(t[a].type==="integer"&&Number.isInteger(i))t[a].value=i;else if(t[a].type==="array"){for(f=0;f<i.length;f+=1)if(s=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(A=0;A<i[f].length;A+=1)typeof i[f][A]!="number"&&(s=!1);s===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var B,S=[];for(B in t)t[B].explicitSet===!0&&(t[B].type==="name"?S.push("/"+B+" /"+t[B].value):S.push("/"+B+" "+t[B].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+c.length+h.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+c+h+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Rn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(i,c){for(var h,u=c.metadata.Unicode.widths,f=["","0","00","000","0000"],A=[""],m=0,v=i.length;m<v;++m){if(h=c.metadata.characterToGlyph(i.charCodeAt(m)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=i.charCodeAt(m),u.indexOf(h)==-1&&(u.push(h),u.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return A.join("");h=h.toString(16),A.push(f[4-h.length],h)}return A.join("")},s=function(i){var c,h,u,f,A,m,v;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,v=(h=Object.keys(i).sort(function(g,B){return g-B})).length;m<v;m++)c=h[m],u.length>=100&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[c]!==void 0&&i[c]!==null&&typeof i[c].toString=="function"&&(f=("0000"+i[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+f+">"));return u.length&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var m=h.metadata.Unicode.widths,v=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),g="",B=0;B<v.length;B++)g+=String.fromCharCode(v[B]);var S=f();A({data:g,addLength1:!0,objectId:S}),u("endobj");var T=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:T}),u("endobj");var E=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Of(h.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/Flags "+h.metadata.flags),u("/StemV "+h.metadata.stemV),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u(">>"),u("endobj");var _=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Of(h.fontName)),u("/FontDescriptor "+E+" 0 R"),u("/W "+n.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+h.encoding+")"),u(">>"),u(">>"),u("endobj"),h.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+T+" 0 R"),u("/BaseFont /"+Of(h.fontName)),u("/Encoding /"+h.encoding),u("/DescendantFonts ["+_+" 0 R]"),u(">>"),u("endobj"),h.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var m=h.metadata.rawData,v="",g=0;g<m.length;g++)v+=String.fromCharCode(m[g]);var B=f();A({data:v,addLength1:!0,objectId:B}),u("endobj");var S=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var T=f();u("<<"),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u("/StemV "+h.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+B+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/FontName /"+Of(h.fontName)),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u(">>"),u("endobj"),h.objectNumber=f();for(var E=0;E<h.metadata.hmtx.widths.length;E++)h.metadata.hmtx.widths[E]=parseInt(h.metadata.hmtx.widths[E]*(1e3/h.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Of(h.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),u("endobj"),h.isAlreadyPutted=!0}})(i)}]);var a=function(i){var c,h=i.text||"",u=i.x,f=i.y,A=i.options||{},m=i.mutex||{},v=m.pdfEscape,g=m.activeFontKey,B=m.fonts,S=g,T="",E=0,_="",F=B[S].encoding;if(B[S].encoding!=="Identity-H")return{text:h,x:u,y:f,options:A,mutex:m};for(_=h,S=g,Array.isArray(h)&&(_=h[0]),E=0;E<_.length;E+=1)B[S].metadata.hasOwnProperty("cmap")&&(c=B[S].metadata.cmap.unicode.codeMap[_[E].charCodeAt(0)]),c||_[E].charCodeAt(0)<256&&B[S].metadata.hasOwnProperty("Unicode")?T+=_[E]:T+="";var Q="";return parseInt(S.slice(1))<14||F==="WinAnsiEncoding"?Q=v(T,S).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(Q=t(T,B[S])),m.isHex=!0,{text:Q,x:u,y:f,options:A,mutex:m}};e.events.push(["postProcessText",function(i){var c=i.text||"",h=[],u={text:c,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?h.push([a(Object.assign({},u,{text:c[f][0]})).text,c[f][1],c[f][2]]):h.push(a(Object.assign({},u,{text:c[f]})).text);i.text=h}else i.text=a(Object.assign({},u,{text:c})).text}])})(Rn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Rn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,i,c,h,u,f,A,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,F=0;this.__bidiEngine__={};var Q=function(L){var H=L.charCodeAt(),z=H>>8,re=S[z];return re!==void 0?m[256*re+(255&H)]:z===252||z===253?"AL":E.test(z)?"L":z===8?"R":"N"},M=function(L){for(var H,z=0;z<L.length;z++){if((H=Q(L.charAt(z)))==="L")return!1;if(H==="R")return!0}return!1},k=function(L,H,z,re){var pe,ae,ne,Z,ue=H[re];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(ue="AN");break;case"AL":_=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":re<1||re+1>=H.length||(pe=z[re-1])!=="EN"&&pe!=="AN"||(ae=H[re+1])!=="EN"&&ae!=="AN"?ue="N":_&&(ae="AN"),ue=ae===pe?ae:"N";break;case"ES":ue=(pe=re>0?z[re-1]:"B")==="EN"&&re+1<H.length&&H[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&z[re-1]==="EN"){ue="EN";break}if(_){ue="N";break}for(ne=re+1,Z=H.length;ne<Z&&H[ne]==="ET";)ne++;ue=ne<Z&&H[ne]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(Z=H.length,ne=re+1;ne<Z&&H[ne]==="NSM";)ne++;if(ne<Z){var je=L[re],se=je>=1425&&je<=2303||je===64286;if(pe=H[ne],se&&(pe==="R"||pe==="AL")){ue="R";break}}}ue=re<1||(pe=H[re-1])==="B"?"N":z[re-1];break;case"B":_=!1,a=!0,ue=F;break;case"S":i=!0,ue="N"}return ue},R=function(L,H,z){var re=L.split("");return z&&D(re,z,{hiLevel:F}),re.reverse(),H&&H.reverse(),re.join("")},D=function(L,H,z){var re,pe,ae,ne,Z,ue=-1,je=L.length,se=0,G=[],te=F?g:v,le=[];for(_=!1,a=!1,i=!1,pe=0;pe<je;pe++)le[pe]=Q(L[pe]);for(ae=0;ae<je;ae++){if(Z=se,G[ae]=k(L,le,G,ae),re=240&(se=te[Z][B[G[ae]]]),se&=15,H[ae]=ne=te[se][5],re>0)if(re===16){for(pe=ue;pe<ae;pe++)H[pe]=1;ue=-1}else ue=-1;if(te[se][6])ue===-1&&(ue=ae);else if(ue>-1){for(pe=ue;pe<ae;pe++)H[pe]=ne;ue=-1}le[ae]==="B"&&(H[ae]=0),z.hiLevel|=ne}i&&(function(he,ce,xe){for(var Ne=0;Ne<xe;Ne++)if(he[Ne]==="S"){ce[Ne]=F;for(var Te=Ne-1;Te>=0&&he[Te]==="WS";Te--)ce[Te]=F}})(le,H,je)},O=function(L,H,z,re,pe){if(!(pe.hiLevel<L)){if(L===1&&F===1&&!a)return H.reverse(),void(z&&z.reverse());for(var ae,ne,Z,ue,je=H.length,se=0;se<je;){if(re[se]>=L){for(Z=se+1;Z<je&&re[Z]>=L;)Z++;for(ue=se,ne=Z-1;ue<ne;ue++,ne--)ae=H[ue],H[ue]=H[ne],H[ne]=ae,z&&(ae=z[ue],z[ue]=z[ne],z[ne]=ae);se=Z}se++}}},$=function(L,H,z){var re=L.split(""),pe={hiLevel:F};return z||(z=[]),D(re,z,pe),(function(ae,ne,Z){if(Z.hiLevel!==0&&A)for(var ue,je=0;je<ae.length;je++)ne[je]===1&&(ue=T.indexOf(ae[je]))>=0&&(ae[je]=T[ue+1])})(re,z,pe),O(2,re,H,z,pe),O(1,re,H,z,pe),re.join("")};return this.__bidiEngine__.doBidiReorder=function(L,H,z){if((function(pe,ae){if(ae)for(var ne=0;ne<pe.length;ne++)ae[ne]=ne;h===void 0&&(h=M(pe)),f===void 0&&(f=M(pe))})(L,H),c||!u||f)if(c&&u&&h^f)F=h?1:0,L=R(L,H,z);else if(!c&&u&&f)F=h?1:0,L=$(L,H,z),L=R(L,H);else if(!c||h||u||f){if(c&&!u&&h^f)L=R(L,H),h?(F=0,L=$(L,H,z)):(F=1,L=$(L,H,z),L=R(L,H));else if(c&&h&&!u&&f)F=1,L=$(L,H,z),L=R(L,H);else if(!c&&!u&&h^f){var re=A;h?(F=1,L=$(L,H,z),F=0,A=!1,L=$(L,H,z),A=re):(F=0,L=$(L,H,z),L=R(L,H),F=1,A=!1,L=$(L,H,z),A=re,L=R(L,H))}}else F=0,L=$(L,H,z);else F=h?1:0,L=$(L,H,z);return L},this.__bidiEngine__.setOptions=function(L){L&&(c=L.isInputVisual,u=L.isOutputVisual,h=L.isInputRtl,f=L.isOutputRtl,A=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var c=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([t.doBidiReorder(a[h])]);s.text=c}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Rn),Rn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Md(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new D9(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new b9(this.contents),this.head=new B9(this),this.name=new N9(this),this.cmap=new pI(this),this.toUnicode={},this.hhea=new j9(this),this.maxp=new T9(this),this.hmtx=new I9(this),this.post=new E9(this),this.os2=new C9(this),this.loca=new R9(this),this.glyf=new _9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,u,f;for(f=[],c=0,h=(u=this.bbox).length;c<h;c++)e=u[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,i,c,h;for(c=0,i=0,h=(e=""+e).length;0<=h?i<h:i>h;i=0<=h?++i:--i)a=e.charCodeAt(i),c+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var oc,Md=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,i,c,h,u;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),c=this.readByte(),h=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^c)+256*(255^h)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*i+65536*c+256*h+u},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,i;for(i=[],s=0,a=e.length;s<a;s++)t=e[s],i.push(this.writeByte(t));return i},n})(),b9=(function(){var n;function e(t){var s,a,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,i,c,h,u,f,A,m,v,g,B,S;for(S in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),c=Math.floor(m/u),A=16*g-m,(a=new Md).writeInt(this.scalarType),a.writeShort(g),a.writeShort(m),a.writeShort(c),a.writeShort(A),i=16*g,f=a.pos+i,h=null,B=[],t)for(v=t[S],a.writeString(S),a.writeInt(n(v)),a.writeInt(f),a.writeInt(v.length),B=B.concat(v),S==="head"&&(h=f),f+=v.length;f%4;)B.push(0),f++;return a.write(B),s=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(s),a.data},n=function(t){var s,a,i,c;for(t=gI.call(t);t.length%4;)t.push(0);for(i=new Md(t),a=0,s=0,c=t.length;s<c;s=s+=4)a+=i.readUInt32();return 4294967295&a},e})(),w9={}.hasOwnProperty,$c=function(n,e){for(var t in e)w9.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};oc=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var B9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Md).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),eE=(function(){function n(e,t){var s,a,i,c,h,u,f,A,m,v,g,B,S,T,E,_,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),v=g/2,e.pos+=6,i=(function(){var Q,M;for(M=[],u=Q=0;0<=v?Q<v:Q>v;u=0<=v?++Q:--Q)M.push(e.readUInt16());return M})(),e.pos+=2,S=(function(){var Q,M;for(M=[],u=Q=0;0<=v?Q<v:Q>v;u=0<=v?++Q:--Q)M.push(e.readUInt16());return M})(),f=(function(){var Q,M;for(M=[],u=Q=0;0<=v?Q<v:Q>v;u=0<=v?++Q:--Q)M.push(e.readUInt16());return M})(),A=(function(){var Q,M;for(M=[],u=Q=0;0<=v?Q<v:Q>v;u=0<=v?++Q:--Q)M.push(e.readUInt16());return M})(),a=(this.length-e.pos+this.offset)/2,h=(function(){var Q,M;for(M=[],u=Q=0;0<=a?Q<a:Q>a;u=0<=a?++Q:--Q)M.push(e.readUInt16());return M})(),u=E=0,F=i.length;E<F;u=++E)for(T=i[u],s=_=B=S[u];B<=T?_<=T:_>=T;s=B<=T?++_:--_)A[u]===0?c=s+f[u]:(c=h[A[u]/2+(s-B)-(v-u)]||0)!==0&&(c+=f[u]),this.codeMap[s]=65535&c}e.pos=m}return n.encode=function(e,t){var s,a,i,c,h,u,f,A,m,v,g,B,S,T,E,_,F,Q,M,k,R,D,O,$,L,H,z,re,pe,ae,ne,Z,ue,je,se,G,te,le,he,ce,xe,Ne,Te,Fe,tt,$e;switch(re=new Md,c=Object.keys(e).sort(function(it,Ve){return it-Ve}),t){case"macroman":for(S=0,T=(function(){var it=[];for(B=0;B<256;++B)it.push(0);return it})(),_={0:0},i={},pe=0,ue=c.length;pe<ue;pe++)_[Te=e[a=c[pe]]]==null&&(_[Te]=++S),i[a]={old:e[a],new:_[e[a]]},T[a]=_[e[a]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(T),{charMap:i,subtable:re.data,maxGlyphID:S+1};case"unicode":for(H=[],m=[],F=0,_={},s={},E=f=null,ae=0,je=c.length;ae<je;ae++)_[M=e[a=c[ae]]]==null&&(_[M]=++F),s[a]={old:M,new:_[M]},h=_[M]-a,E!=null&&h===f||(E&&m.push(E),H.push(a),f=h),E=a;for(E&&m.push(E),m.push(65535),H.push(65535),$=2*(O=H.length),D=2*Math.pow(Math.log(O)/Math.LN2,2),v=Math.log(D/2)/Math.LN2,R=2*O-D,u=[],k=[],g=[],B=ne=0,se=H.length;ne<se;B=++ne){if(L=H[B],A=m[B],L===65535){u.push(0),k.push(0);break}if(L-(z=s[L].new)>=32768)for(u.push(0),k.push(2*(g.length+O-B)),a=Z=L;L<=A?Z<=A:Z>=A;a=L<=A?++Z:--Z)g.push(s[a].new);else u.push(z-L),k.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*O+2*g.length),re.writeUInt16(0),re.writeUInt16($),re.writeUInt16(D),re.writeUInt16(v),re.writeUInt16(R),xe=0,G=m.length;xe<G;xe++)a=m[xe],re.writeUInt16(a);for(re.writeUInt16(0),Ne=0,te=H.length;Ne<te;Ne++)a=H[Ne],re.writeUInt16(a);for(Fe=0,le=u.length;Fe<le;Fe++)h=u[Fe],re.writeUInt16(h);for(tt=0,he=k.length;tt<he;tt++)Q=k[tt],re.writeUInt16(Q);for($e=0,ce=g.length;$e<ce;$e++)S=g[$e],re.writeUInt16(S);return{charMap:s,subtable:re.data,maxGlyphID:F+1}}},n})(),pI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new eE(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=eE.encode(e,t),(a=new Md).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),j9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),C9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),E9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var c,h,u;for(u=[],i=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;i=0<=h?++c:--c)u.push(e.readUInt32());return u}).call(this)}},n})(),S9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},N9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,i,c,h,u,f,A,m,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),s=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(u={},i=A=0,m=s.length;A<m;i=++A)a=s[i],e.pos=a.offset,f=e.readString(a.length),c=new S9(f,a),u[v=a.nameID]==null&&(u[v]=[]),u[a.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n})(),T9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),I9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,i,c,h,u;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,A;for(A=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)A.push(e.readInt16());return A})(),this.widths=(function(){var f,A,m,v;for(v=[],f=0,A=(m=this.metrics).length;f<A;f++)i=m[f],v.push(i.advance);return v}).call(this),s=this.widths[this.widths.length-1],u=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)u.push(this.widths.push(s));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),gI=[].slice,_9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,i,c,h,u,f,A,m;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,s=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,c=(h=new Md(t.read(a))).readShort(),f=h.readShort(),m=h.readShort(),u=h.readShort(),A=h.readShort(),this.cache[e]=c===-1?new U9(h,f,m,u,A):new F9(h,c,f,m,u,A),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,i,c,h,u;for(c=[],i=[],h=0,u=t.length;h<u;h++)a=e[t[h]],i.push(c.length),a&&(c=c.concat(a.encode(s)));return i.push(c.length),{table:c,offsets:i}},n})(),F9=(function(){function n(e,t,s,a,i,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),U9=(function(){function n(e,t,s,a,i){var c,h;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new Md(gI.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),R9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $c(n,oc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(e.readUInt32());return i}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,c=0;c<s.length;++c)if(s[c]=a,i<t.length&&t[i]==c){++i,s[c]=a;var h=this.offsets[c],u=this.offsets[c+1]-h;u>0&&(a+=u)}for(var f=new Array(4*s.length),A=0;A<s.length;++A)f[4*A+3]=255&s[A],f[4*A+2]=(65280&s[A])>>8,f[4*A+1]=(16711680&s[A])>>16,f[4*A]=(4278190080&s[A])>>24;return f},n})(),D9=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,i;for(t in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)s=i[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,i,c,h,u;for(a={},c=0,h=e.length;c<h;c++)a[i=e[c]]=this.font.glyf.glyphFor(i);for(i in t=[],a)(s=a[i])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(i in u=this.glyphsFor(t))s=u[i],a[i]=s;return a},n.prototype.encode=function(e,t){var s,a,i,c,h,u,f,A,m,v,g,B,S,T,E;for(a in s=pI.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),g={0:0},E=s.charMap)g[(u=E[a]).old]=u.new;for(B in v=s.maxGlyphID,c)B in g||(g[B]=v++);return A=(function(_){var F,Q;for(F in Q={},_)Q[_[F]]=F;return Q})(g),m=Object.keys(A).sort(function(_,F){return _-F}),S=(function(){var _,F,Q;for(Q=[],_=0,F=m.length;_<F;_++)h=m[_],Q.push(A[h]);return Q})(),i=this.font.glyf.encode(c,S,g),f=this.font.loca.encode(i.offsets,S),T={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},n})();Rn.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,i,c;if(Array.isArray(t))return"["+(function(){var h,u,f;for(f=[],h=0,u=t.length;h<u;h++)s=t[h],f.push(e.convert(s));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in i=["<<"],t)c=t[a],i.push("/"+a+" "+e.convert(c));return i.push(">>"),i.join(`
`)}return""+t},e})();const L9=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:d9,AcroFormAppearance:jn,AcroFormButton:Qi,AcroFormCheckBox:Lp,AcroFormChoiceField:Lh,AcroFormComboBox:Oh,AcroFormEditBox:Rp,AcroFormListBox:Qh,AcroFormPasswordField:Qp,AcroFormPushButton:Dp,AcroFormRadioButton:Ph,AcroFormTextField:Fd,GState:sg,ShadingPattern:wd,TilingPattern:_h,default:Rn,jsPDF:Rn},Symbol.toStringTag,{value:"Module"})),Q9=W_(L9);var hv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var O9=hv.exports,tE;function P9(){return tE||(tE=1,(function(n,e){(function(t,s){n.exports=s()})(O9,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var t=function(w,y){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,j){C.__proto__=j}||function(C,j){for(var K in j)Object.prototype.hasOwnProperty.call(j,K)&&(C[K]=j[K])},t(w,y)};function s(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");t(w,y);function C(){this.constructor=w}w.prototype=y===null?Object.create(y):(C.prototype=y.prototype,new C)}var a=function(){return a=Object.assign||function(y){for(var C,j=1,K=arguments.length;j<K;j++){C=arguments[j];for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&(y[J]=C[J])}return y},a.apply(this,arguments)};function i(w,y,C,j){function K(J){return J instanceof C?J:new C(function(Ae){Ae(J)})}return new(C||(C=Promise))(function(J,Ae){function we(Pe){try{Ue(j.next(Pe))}catch(We){Ae(We)}}function Be(Pe){try{Ue(j.throw(Pe))}catch(We){Ae(We)}}function Ue(Pe){Pe.done?J(Pe.value):K(Pe.value).then(we,Be)}Ue((j=j.apply(w,[])).next())})}function c(w,y){var C={label:0,sent:function(){if(J[0]&1)throw J[1];return J[1]},trys:[],ops:[]},j,K,J,Ae;return Ae={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(Ae[Symbol.iterator]=function(){return this}),Ae;function we(Ue){return function(Pe){return Be([Ue,Pe])}}function Be(Ue){if(j)throw new TypeError("Generator is already executing.");for(;C;)try{if(j=1,K&&(J=Ue[0]&2?K.return:Ue[0]?K.throw||((J=K.return)&&J.call(K),0):K.next)&&!(J=J.call(K,Ue[1])).done)return J;switch(K=0,J&&(Ue=[Ue[0]&2,J.value]),Ue[0]){case 0:case 1:J=Ue;break;case 4:return C.label++,{value:Ue[1],done:!1};case 5:C.label++,K=Ue[1],Ue=[0];continue;case 7:Ue=C.ops.pop(),C.trys.pop();continue;default:if(J=C.trys,!(J=J.length>0&&J[J.length-1])&&(Ue[0]===6||Ue[0]===2)){C=0;continue}if(Ue[0]===3&&(!J||Ue[1]>J[0]&&Ue[1]<J[3])){C.label=Ue[1];break}if(Ue[0]===6&&C.label<J[1]){C.label=J[1],J=Ue;break}if(J&&C.label<J[2]){C.label=J[2],C.ops.push(Ue);break}J[2]&&C.ops.pop(),C.trys.pop();continue}Ue=y.call(w,C)}catch(Pe){Ue=[6,Pe],K=0}finally{j=J=0}if(Ue[0]&5)throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}}function h(w,y,C){if(arguments.length===2)for(var j=0,K=y.length,J;j<K;j++)(J||!(j in y))&&(J||(J=Array.prototype.slice.call(y,0,j)),J[j]=y[j]);return w.concat(J||y)}for(var u=(function(){function w(y,C,j,K){this.left=y,this.top=C,this.width=j,this.height=K}return w.prototype.add=function(y,C,j,K){return new w(this.left+y,this.top+C,this.width+j,this.height+K)},w.fromClientRect=function(y,C){return new w(C.left+y.windowBounds.left,C.top+y.windowBounds.top,C.width,C.height)},w.fromDOMRectList=function(y,C){var j=Array.from(C).find(function(K){return K.width!==0});return j?new w(j.left+y.windowBounds.left,j.top+y.windowBounds.top,j.width,j.height):w.EMPTY},w.EMPTY=new w(0,0,0,0),w})(),f=function(w,y){return u.fromClientRect(w,y.getBoundingClientRect())},A=function(w){var y=w.body,C=w.documentElement;if(!y||!C)throw new Error("Unable to get document size");var j=Math.max(Math.max(y.scrollWidth,C.scrollWidth),Math.max(y.offsetWidth,C.offsetWidth),Math.max(y.clientWidth,C.clientWidth)),K=Math.max(Math.max(y.scrollHeight,C.scrollHeight),Math.max(y.offsetHeight,C.offsetHeight),Math.max(y.clientHeight,C.clientHeight));return new u(0,0,j,K)},m=function(w){for(var y=[],C=0,j=w.length;C<j;){var K=w.charCodeAt(C++);if(K>=55296&&K<=56319&&C<j){var J=w.charCodeAt(C++);(J&64512)===56320?y.push(((K&1023)<<10)+(J&1023)+65536):(y.push(K),C--)}else y.push(K)}return y},v=function(){for(var w=[],y=0;y<arguments.length;y++)w[y]=arguments[y];if(String.fromCodePoint)return String.fromCodePoint.apply(String,w);var C=w.length;if(!C)return"";for(var j=[],K=-1,J="";++K<C;){var Ae=w[K];Ae<=65535?j.push(Ae):(Ae-=65536,j.push((Ae>>10)+55296,Ae%1024+56320)),(K+1===C||j.length>16384)&&(J+=String.fromCharCode.apply(String,j),j.length=0)}return J},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=typeof Uint8Array>"u"?[]:new Uint8Array(256),S=0;S<g.length;S++)B[g.charCodeAt(S)]=S;for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=typeof Uint8Array>"u"?[]:new Uint8Array(256),_=0;_<T.length;_++)E[T.charCodeAt(_)]=_;for(var F=function(w){var y=w.length*.75,C=w.length,j,K=0,J,Ae,we,Be;w[w.length-1]==="="&&(y--,w[w.length-2]==="="&&y--);var Ue=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(y):new Array(y),Pe=Array.isArray(Ue)?Ue:new Uint8Array(Ue);for(j=0;j<C;j+=4)J=E[w.charCodeAt(j)],Ae=E[w.charCodeAt(j+1)],we=E[w.charCodeAt(j+2)],Be=E[w.charCodeAt(j+3)],Pe[K++]=J<<2|Ae>>4,Pe[K++]=(Ae&15)<<4|we>>2,Pe[K++]=(we&3)<<6|Be&63;return Ue},Q=function(w){for(var y=w.length,C=[],j=0;j<y;j+=2)C.push(w[j+1]<<8|w[j]);return C},M=function(w){for(var y=w.length,C=[],j=0;j<y;j+=4)C.push(w[j+3]<<24|w[j+2]<<16|w[j+1]<<8|w[j]);return C},k=5,R=11,D=2,O=R-k,$=65536>>k,L=1<<k,H=L-1,z=1024>>k,re=$+z,pe=re,ae=32,ne=pe+ae,Z=65536>>R,ue=1<<O,je=ue-1,se=function(w,y,C){return w.slice?w.slice(y,C):new Uint16Array(Array.prototype.slice.call(w,y,C))},G=function(w,y,C){return w.slice?w.slice(y,C):new Uint32Array(Array.prototype.slice.call(w,y,C))},te=function(w,y){var C=F(w),j=Array.isArray(C)?M(C):new Uint32Array(C),K=Array.isArray(C)?Q(C):new Uint16Array(C),J=24,Ae=se(K,J/2,j[4]/2),we=j[5]===2?se(K,(J+j[4])/2):G(j,Math.ceil((J+j[4])/4));return new le(j[0],j[1],j[2],j[3],Ae,we)},le=(function(){function w(y,C,j,K,J,Ae){this.initialValue=y,this.errorValue=C,this.highStart=j,this.highValueIndex=K,this.index=J,this.data=Ae}return w.prototype.get=function(y){var C;if(y>=0){if(y<55296||y>56319&&y<=65535)return C=this.index[y>>k],C=(C<<D)+(y&H),this.data[C];if(y<=65535)return C=this.index[$+(y-55296>>k)],C=(C<<D)+(y&H),this.data[C];if(y<this.highStart)return C=ne-Z+(y>>R),C=this.index[C],C+=y>>k&je,C=this.index[C],C=(C<<D)+(y&H),this.data[C];if(y<=1114111)return this.data[this.highValueIndex]}return this.errorValue},w})(),he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce=typeof Uint8Array>"u"?[]:new Uint8Array(256),xe=0;xe<he.length;xe++)ce[he.charCodeAt(xe)]=xe;var Ne="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Te=50,Fe=1,tt=2,$e=3,it=4,Ve=5,fe=7,ut=8,Lt=9,Ge=10,Je=11,Qt=12,Ut=13,Yt=14,zt=15,Jt=16,yn=17,tn=18,Dn=19,xt=20,Et=21,Gt=22,kt=23,Pn=24,ke=25,gt=26,He=27,at=28,ht=29,Rt=30,Bt=31,Ht=32,xn=33,Ct=34,dt=35,Dt=36,Xt=37,rn=38,cs=39,Bs=40,ln=41,si=42,Fa=43,ua=[9001,65288],$r="!",an="",Re="",_t=te(Ne),Pt=[Rt,Dt],Nt=[Fe,tt,$e,Ve],Vt=[Ge,ut],Tt=[He,gt],gn=Nt.concat(Vt),En=[rn,cs,Bs,Ct,dt],Ln=[zt,Ut],ur=function(w,y){y===void 0&&(y="strict");var C=[],j=[],K=[];return w.forEach(function(J,Ae){var we=_t.get(J);if(we>Te?(K.push(!0),we-=Te):K.push(!1),["normal","auto","loose"].indexOf(y)!==-1&&[8208,8211,12316,12448].indexOf(J)!==-1)return j.push(Ae),C.push(Jt);if(we===it||we===Je){if(Ae===0)return j.push(Ae),C.push(Rt);var Be=C[Ae-1];return gn.indexOf(Be)===-1?(j.push(j[Ae-1]),C.push(Be)):(j.push(Ae),C.push(Rt))}if(j.push(Ae),we===Bt)return C.push(y==="strict"?Et:Xt);if(we===si||we===ht)return C.push(Rt);if(we===Fa)return J>=131072&&J<=196605||J>=196608&&J<=262141?C.push(Xt):C.push(Rt);C.push(we)}),[j,C,K]},Hn=function(w,y,C,j){var K=j[C];if(Array.isArray(w)?w.indexOf(K)!==-1:w===K)for(var J=C;J<=j.length;){J++;var Ae=j[J];if(Ae===y)return!0;if(Ae!==Ge)break}if(K===Ge)for(var J=C;J>0;){J--;var we=j[J];if(Array.isArray(w)?w.indexOf(we)!==-1:w===we)for(var Be=C;Be<=j.length;){Be++;var Ae=j[Be];if(Ae===y)return!0;if(Ae!==Ge)break}if(we!==Ge)break}return!1},Tn=function(w,y){for(var C=w;C>=0;){var j=y[C];if(j===Ge)C--;else return j}return 0},Us=function(w,y,C,j,K){if(C[j]===0)return an;var J=j-1;if(Array.isArray(K)&&K[J]===!0)return an;var Ae=J-1,we=J+1,Be=y[J],Ue=Ae>=0?y[Ae]:0,Pe=y[we];if(Be===tt&&Pe===$e)return an;if(Nt.indexOf(Be)!==-1)return $r;if(Nt.indexOf(Pe)!==-1||Vt.indexOf(Pe)!==-1)return an;if(Tn(J,y)===ut)return Re;if(_t.get(w[J])===Je||(Be===Ht||Be===xn)&&_t.get(w[we])===Je||Be===fe||Pe===fe||Be===Lt||[Ge,Ut,zt].indexOf(Be)===-1&&Pe===Lt||[yn,tn,Dn,Pn,at].indexOf(Pe)!==-1||Tn(J,y)===Gt||Hn(kt,Gt,J,y)||Hn([yn,tn],Et,J,y)||Hn(Qt,Qt,J,y))return an;if(Be===Ge)return Re;if(Be===kt||Pe===kt)return an;if(Pe===Jt||Be===Jt)return Re;if([Ut,zt,Et].indexOf(Pe)!==-1||Be===Yt||Ue===Dt&&Ln.indexOf(Be)!==-1||Be===at&&Pe===Dt||Pe===xt||Pt.indexOf(Pe)!==-1&&Be===ke||Pt.indexOf(Be)!==-1&&Pe===ke||Be===He&&[Xt,Ht,xn].indexOf(Pe)!==-1||[Xt,Ht,xn].indexOf(Be)!==-1&&Pe===gt||Pt.indexOf(Be)!==-1&&Tt.indexOf(Pe)!==-1||Tt.indexOf(Be)!==-1&&Pt.indexOf(Pe)!==-1||[He,gt].indexOf(Be)!==-1&&(Pe===ke||[Gt,zt].indexOf(Pe)!==-1&&y[we+1]===ke)||[Gt,zt].indexOf(Be)!==-1&&Pe===ke||Be===ke&&[ke,at,Pn].indexOf(Pe)!==-1)return an;if([ke,at,Pn,yn,tn].indexOf(Pe)!==-1)for(var We=J;We>=0;){var At=y[We];if(At===ke)return an;if([at,Pn].indexOf(At)!==-1)We--;else break}if([He,gt].indexOf(Pe)!==-1)for(var We=[yn,tn].indexOf(Be)!==-1?Ae:J;We>=0;){var At=y[We];if(At===ke)return an;if([at,Pn].indexOf(At)!==-1)We--;else break}if(rn===Be&&[rn,cs,Ct,dt].indexOf(Pe)!==-1||[cs,Ct].indexOf(Be)!==-1&&[cs,Bs].indexOf(Pe)!==-1||[Bs,dt].indexOf(Be)!==-1&&Pe===Bs||En.indexOf(Be)!==-1&&[xt,gt].indexOf(Pe)!==-1||En.indexOf(Pe)!==-1&&Be===He||Pt.indexOf(Be)!==-1&&Pt.indexOf(Pe)!==-1||Be===Pn&&Pt.indexOf(Pe)!==-1||Pt.concat(ke).indexOf(Be)!==-1&&Pe===Gt&&ua.indexOf(w[we])===-1||Pt.concat(ke).indexOf(Pe)!==-1&&Be===tn)return an;if(Be===ln&&Pe===ln){for(var nn=C[J],Mt=1;nn>0&&(nn--,y[nn]===ln);)Mt++;if(Mt%2!==0)return an}return Be===Ht&&Pe===xn?an:Re},Es=function(w,y){y||(y={lineBreak:"normal",wordBreak:"normal"});var C=ur(w,y.lineBreak),j=C[0],K=C[1],J=C[2];(y.wordBreak==="break-all"||y.wordBreak==="break-word")&&(K=K.map(function(we){return[ke,Rt,si].indexOf(we)!==-1?Xt:we}));var Ae=y.wordBreak==="keep-all"?J.map(function(we,Be){return we&&w[Be]>=19968&&w[Be]<=40959}):void 0;return[j,K,Ae]},ir=(function(){function w(y,C,j,K){this.codePoints=y,this.required=C===$r,this.start=j,this.end=K}return w.prototype.slice=function(){return v.apply(void 0,this.codePoints.slice(this.start,this.end))},w})(),tr=function(w,y){var C=m(w),j=Es(C,y),K=j[0],J=j[1],Ae=j[2],we=C.length,Be=0,Ue=0;return{next:function(){if(Ue>=we)return{done:!0,value:null};for(var Pe=an;Ue<we&&(Pe=Us(C,J,K,++Ue,Ae))===an;);if(Pe!==an||Ue===we){var We=new ir(C,Pe,Be,Ue);return Be=Ue,{value:We,done:!1}}return{done:!0,value:null}}}},Xs=1,zs=2,Ka=4,Wr=8,da=10,ri=47,wi=92,ll=9,$o=32,mo=34,Br=61,na=35,vr=36,os=37,Ua=39,Cn=40,hn=41,Ss=95,Fn=45,Qn=33,Kt=60,Js=62,Bi=64,Wi=91,Or=93,Wo=61,Ur=123,Qs=63,Mi=125,po=124,Yo=126,sA=128,Ul=65533,Yi=42,Yr=43,Xi=44,Xo=58,ai=59,ki=46,On=0,Rl=8,rA=11,Al=14,Ca=31,ha=127,Ra=-1,Gs=48,ii=97,cl=101,Ji=102,FA=117,ji=122,go=65,oi=69,Xr=70,vo=85,Da=90,dr=function(w){return w>=Gs&&w<=57},ul=function(w){return w>=55296&&w<=57343},za=function(w){return dr(w)||w>=go&&w<=Xr||w>=ii&&w<=Ji},yo=function(w){return w>=ii&&w<=ji},Hi=function(w){return w>=go&&w<=Da},Dl=function(w){return yo(w)||Hi(w)},aA=function(w){return w>=sA},La=function(w){return w===da||w===ll||w===$o},Ci=function(w){return Dl(w)||aA(w)||w===Ss},iA=function(w){return Ci(w)||dr(w)||w===Fn},qi=function(w){return w>=On&&w<=Rl||w===rA||w>=Al&&w<=Ca||w===ha},Ei=function(w,y){return w!==wi?!1:y!==da},P=function(w,y,C){return w===Fn?Ci(y)||Ei(y,C):Ci(w)?!0:!!(w===wi&&Ei(w,y))},ie=function(w,y,C){return w===Yr||w===Fn?dr(y)?!0:y===ki&&dr(C):dr(w===ki?y:w)},Ee=function(w){var y=0,C=1;(w[y]===Yr||w[y]===Fn)&&(w[y]===Fn&&(C=-1),y++);for(var j=[];dr(w[y]);)j.push(w[y++]);var K=j.length?parseInt(v.apply(void 0,j),10):0;w[y]===ki&&y++;for(var J=[];dr(w[y]);)J.push(w[y++]);var Ae=J.length,we=Ae?parseInt(v.apply(void 0,J),10):0;(w[y]===oi||w[y]===cl)&&y++;var Be=1;(w[y]===Yr||w[y]===Fn)&&(w[y]===Fn&&(Be=-1),y++);for(var Ue=[];dr(w[y]);)Ue.push(w[y++]);var Pe=Ue.length?parseInt(v.apply(void 0,Ue),10):0;return C*(K+we*Math.pow(10,-Ae))*Math.pow(10,Be*Pe)},_e={type:2},Me={type:3},ft={type:4},jt={type:13},un={type:8},bn={type:21},Mn={type:9},In={type:10},xs={type:11},yr={type:12},or={type:14},b={type:23},W={type:1},q={type:25},ye={type:24},ze={type:26},et={type:27},Ot={type:28},Jn={type:29},xr={type:31},us={type:32},$s=(function(){function w(){this._value=[]}return w.prototype.write=function(y){this._value=this._value.concat(m(y))},w.prototype.read=function(){for(var y=[],C=this.consumeToken();C!==us;)y.push(C),C=this.consumeToken();return y},w.prototype.consumeToken=function(){var y=this.consumeCodePoint();switch(y){case mo:return this.consumeStringToken(mo);case na:var C=this.peekCodePoint(0),j=this.peekCodePoint(1),K=this.peekCodePoint(2);if(iA(C)||Ei(j,K)){var J=P(C,j,K)?zs:Xs,Ae=this.consumeName();return{type:5,value:Ae,flags:J}}break;case vr:if(this.peekCodePoint(0)===Br)return this.consumeCodePoint(),jt;break;case Ua:return this.consumeStringToken(Ua);case Cn:return _e;case hn:return Me;case Yi:if(this.peekCodePoint(0)===Br)return this.consumeCodePoint(),or;break;case Yr:if(ie(y,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(y),this.consumeNumericToken();break;case Xi:return ft;case Fn:var we=y,Be=this.peekCodePoint(0),Ue=this.peekCodePoint(1);if(ie(we,Be,Ue))return this.reconsumeCodePoint(y),this.consumeNumericToken();if(P(we,Be,Ue))return this.reconsumeCodePoint(y),this.consumeIdentLikeToken();if(Be===Fn&&Ue===Js)return this.consumeCodePoint(),this.consumeCodePoint(),ye;break;case ki:if(ie(y,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(y),this.consumeNumericToken();break;case ri:if(this.peekCodePoint(0)===Yi)for(this.consumeCodePoint();;){var Pe=this.consumeCodePoint();if(Pe===Yi&&(Pe=this.consumeCodePoint(),Pe===ri))return this.consumeToken();if(Pe===Ra)return this.consumeToken()}break;case Xo:return ze;case ai:return et;case Kt:if(this.peekCodePoint(0)===Qn&&this.peekCodePoint(1)===Fn&&this.peekCodePoint(2)===Fn)return this.consumeCodePoint(),this.consumeCodePoint(),q;break;case Bi:var We=this.peekCodePoint(0),At=this.peekCodePoint(1),nn=this.peekCodePoint(2);if(P(We,At,nn)){var Ae=this.consumeName();return{type:7,value:Ae}}break;case Wi:return Ot;case wi:if(Ei(y,this.peekCodePoint(0)))return this.reconsumeCodePoint(y),this.consumeIdentLikeToken();break;case Or:return Jn;case Wo:if(this.peekCodePoint(0)===Br)return this.consumeCodePoint(),un;break;case Ur:return xs;case Mi:return yr;case FA:case vo:var Mt=this.peekCodePoint(0),Wt=this.peekCodePoint(1);return Mt===Yr&&(za(Wt)||Wt===Qs)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(y),this.consumeIdentLikeToken();case po:if(this.peekCodePoint(0)===Br)return this.consumeCodePoint(),Mn;if(this.peekCodePoint(0)===po)return this.consumeCodePoint(),bn;break;case Yo:if(this.peekCodePoint(0)===Br)return this.consumeCodePoint(),In;break;case Ra:return us}return La(y)?(this.consumeWhiteSpace(),xr):dr(y)?(this.reconsumeCodePoint(y),this.consumeNumericToken()):Ci(y)?(this.reconsumeCodePoint(y),this.consumeIdentLikeToken()):{type:6,value:v(y)}},w.prototype.consumeCodePoint=function(){var y=this._value.shift();return typeof y>"u"?-1:y},w.prototype.reconsumeCodePoint=function(y){this._value.unshift(y)},w.prototype.peekCodePoint=function(y){return y>=this._value.length?-1:this._value[y]},w.prototype.consumeUnicodeRangeToken=function(){for(var y=[],C=this.consumeCodePoint();za(C)&&y.length<6;)y.push(C),C=this.consumeCodePoint();for(var j=!1;C===Qs&&y.length<6;)y.push(C),C=this.consumeCodePoint(),j=!0;if(j){var K=parseInt(v.apply(void 0,y.map(function(Be){return Be===Qs?Gs:Be})),16),J=parseInt(v.apply(void 0,y.map(function(Be){return Be===Qs?Xr:Be})),16);return{type:30,start:K,end:J}}var Ae=parseInt(v.apply(void 0,y),16);if(this.peekCodePoint(0)===Fn&&za(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var we=[];za(C)&&we.length<6;)we.push(C),C=this.consumeCodePoint();var J=parseInt(v.apply(void 0,we),16);return{type:30,start:Ae,end:J}}else return{type:30,start:Ae,end:Ae}},w.prototype.consumeIdentLikeToken=function(){var y=this.consumeName();return y.toLowerCase()==="url"&&this.peekCodePoint(0)===Cn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Cn?(this.consumeCodePoint(),{type:19,value:y}):{type:20,value:y}},w.prototype.consumeUrlToken=function(){var y=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ra)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===Ua||C===mo){var j=this.consumeStringToken(this.consumeCodePoint());return j.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ra||this.peekCodePoint(0)===hn)?(this.consumeCodePoint(),{type:22,value:j.value}):(this.consumeBadUrlRemnants(),b)}for(;;){var K=this.consumeCodePoint();if(K===Ra||K===hn)return{type:22,value:v.apply(void 0,y)};if(La(K))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ra||this.peekCodePoint(0)===hn?(this.consumeCodePoint(),{type:22,value:v.apply(void 0,y)}):(this.consumeBadUrlRemnants(),b);if(K===mo||K===Ua||K===Cn||qi(K))return this.consumeBadUrlRemnants(),b;if(K===wi)if(Ei(K,this.peekCodePoint(0)))y.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),b;else y.push(K)}},w.prototype.consumeWhiteSpace=function(){for(;La(this.peekCodePoint(0));)this.consumeCodePoint()},w.prototype.consumeBadUrlRemnants=function(){for(;;){var y=this.consumeCodePoint();if(y===hn||y===Ra)return;Ei(y,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},w.prototype.consumeStringSlice=function(y){for(var C=5e4,j="";y>0;){var K=Math.min(C,y);j+=v.apply(void 0,this._value.splice(0,K)),y-=K}return this._value.shift(),j},w.prototype.consumeStringToken=function(y){var C="",j=0;do{var K=this._value[j];if(K===Ra||K===void 0||K===y)return C+=this.consumeStringSlice(j),{type:0,value:C};if(K===da)return this._value.splice(0,j),W;if(K===wi){var J=this._value[j+1];J!==Ra&&J!==void 0&&(J===da?(C+=this.consumeStringSlice(j),j=-1,this._value.shift()):Ei(K,J)&&(C+=this.consumeStringSlice(j),C+=v(this.consumeEscapedCodePoint()),j=-1))}j++}while(!0)},w.prototype.consumeNumber=function(){var y=[],C=Ka,j=this.peekCodePoint(0);for((j===Yr||j===Fn)&&y.push(this.consumeCodePoint());dr(this.peekCodePoint(0));)y.push(this.consumeCodePoint());j=this.peekCodePoint(0);var K=this.peekCodePoint(1);if(j===ki&&dr(K))for(y.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Wr;dr(this.peekCodePoint(0));)y.push(this.consumeCodePoint());j=this.peekCodePoint(0),K=this.peekCodePoint(1);var J=this.peekCodePoint(2);if((j===oi||j===cl)&&((K===Yr||K===Fn)&&dr(J)||dr(K)))for(y.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Wr;dr(this.peekCodePoint(0));)y.push(this.consumeCodePoint());return[Ee(y),C]},w.prototype.consumeNumericToken=function(){var y=this.consumeNumber(),C=y[0],j=y[1],K=this.peekCodePoint(0),J=this.peekCodePoint(1),Ae=this.peekCodePoint(2);if(P(K,J,Ae)){var we=this.consumeName();return{type:15,number:C,flags:j,unit:we}}return K===os?(this.consumeCodePoint(),{type:16,number:C,flags:j}):{type:17,number:C,flags:j}},w.prototype.consumeEscapedCodePoint=function(){var y=this.consumeCodePoint();if(za(y)){for(var C=v(y);za(this.peekCodePoint(0))&&C.length<6;)C+=v(this.consumeCodePoint());La(this.peekCodePoint(0))&&this.consumeCodePoint();var j=parseInt(C,16);return j===0||ul(j)||j>1114111?Ul:j}return y===Ra?Ul:y},w.prototype.consumeName=function(){for(var y="";;){var C=this.consumeCodePoint();if(iA(C))y+=v(C);else if(Ei(C,this.peekCodePoint(0)))y+=v(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),y}},w})(),Ea=(function(){function w(y){this._tokens=y}return w.create=function(y){var C=new $s;return C.write(y),new w(C.read())},w.parseValue=function(y){return w.create(y).parseComponentValue()},w.parseValues=function(y){return w.create(y).parseComponentValues()},w.prototype.parseComponentValue=function(){for(var y=this.consumeToken();y.type===31;)y=this.consumeToken();if(y.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(y);var C=this.consumeComponentValue();do y=this.consumeToken();while(y.type===31);if(y.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},w.prototype.parseComponentValues=function(){for(var y=[];;){var C=this.consumeComponentValue();if(C.type===32)return y;y.push(C),y.push()}},w.prototype.consumeComponentValue=function(){var y=this.consumeToken();switch(y.type){case 11:case 28:case 2:return this.consumeSimpleBlock(y.type);case 19:return this.consumeFunction(y)}return y},w.prototype.consumeSimpleBlock=function(y){for(var C={type:y,values:[]},j=this.consumeToken();;){if(j.type===32||lc(j,y))return C;this.reconsumeToken(j),C.values.push(this.consumeComponentValue()),j=this.consumeToken()}},w.prototype.consumeFunction=function(y){for(var C={name:y.value,values:[],type:18};;){var j=this.consumeToken();if(j.type===32||j.type===3)return C;this.reconsumeToken(j),C.values.push(this.consumeComponentValue())}},w.prototype.consumeToken=function(){var y=this._tokens.shift();return typeof y>"u"?us:y},w.prototype.reconsumeToken=function(y){this._tokens.unshift(y)},w})(),sa=function(w){return w.type===15},Os=function(w){return w.type===17},ns=function(w){return w.type===20},Zi=function(w){return w.type===0},xo=function(w,y){return ns(w)&&w.value===y},Jo=function(w){return w.type!==31},fa=function(w){return w.type!==31&&w.type!==4},Qa=function(w){var y=[],C=[];return w.forEach(function(j){if(j.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");y.push(C),C=[];return}j.type!==31&&C.push(j)}),C.length&&y.push(C),y},lc=function(w,y){return y===11&&w.type===12||y===28&&w.type===29?!0:y===2&&w.type===3},bo=function(w){return w.type===17||w.type===15},Ps=function(w){return w.type===16||bo(w)},wo=function(w){return w.length>1?[w[0],w[1]]:[w[0]]},jr={type:17,number:0,flags:Ka},UA={type:16,number:50,flags:Ka},Oa={type:16,number:100,flags:Ka},Bo=function(w,y,C){var j=w[0],K=w[1];return[ps(j,y),ps(typeof K<"u"?K:j,C)]},ps=function(w,y){if(w.type===16)return w.number/100*y;if(sa(w))switch(w.unit){case"rem":case"em":return 16*w.number;case"px":default:return w.number}return w.number},li="deg",qo="grad",Zo="rad",dl="turn",Ll={name:"angle",parse:function(w,y){if(y.type===15)switch(y.unit){case li:return Math.PI*y.number/180;case qo:return Math.PI/200*y.number;case Zo:return y.number;case dl:return Math.PI*2*y.number}throw new Error("Unsupported angle type")}},RA=function(w){return w.type===15&&(w.unit===li||w.unit===qo||w.unit===Zo||w.unit===dl)},Jr=function(w){var y=w.filter(ns).map(function(C){return C.value}).join(" ");switch(y){case"to bottom right":case"to right bottom":case"left top":case"top left":return[jr,jr];case"to top":case"bottom":return Si(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[jr,Oa];case"to right":case"left":return Si(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Oa,Oa];case"to bottom":case"top":return Si(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Oa,jr];case"to left":case"right":return Si(270)}return 0},Si=function(w){return Math.PI*w/180},Ga={name:"color",parse:function(w,y){if(y.type===18){var C=fl[y.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+y.name+'"');return C(w,y.values)}if(y.type===5){if(y.value.length===3){var j=y.value.substring(0,1),K=y.value.substring(1,2),J=y.value.substring(2,3);return Ai(parseInt(j+j,16),parseInt(K+K,16),parseInt(J+J,16),1)}if(y.value.length===4){var j=y.value.substring(0,1),K=y.value.substring(1,2),J=y.value.substring(2,3),Ae=y.value.substring(3,4);return Ai(parseInt(j+j,16),parseInt(K+K,16),parseInt(J+J,16),parseInt(Ae+Ae,16)/255)}if(y.value.length===6){var j=y.value.substring(0,2),K=y.value.substring(2,4),J=y.value.substring(4,6);return Ai(parseInt(j,16),parseInt(K,16),parseInt(J,16),1)}if(y.value.length===8){var j=y.value.substring(0,2),K=y.value.substring(2,4),J=y.value.substring(4,6),Ae=y.value.substring(6,8);return Ai(parseInt(j,16),parseInt(K,16),parseInt(J,16),parseInt(Ae,16)/255)}}if(y.type===20){var we=ra[y.value.toUpperCase()];if(typeof we<"u")return we}return ra.TRANSPARENT}},$a=function(w){return(255&w)===0},Ns=function(w){var y=255&w,C=255&w>>8,j=255&w>>16,K=255&w>>24;return y<255?"rgba("+K+","+j+","+C+","+y/255+")":"rgb("+K+","+j+","+C+")"},Ai=function(w,y,C,j){return(w<<24|y<<16|C<<8|Math.round(j*255)<<0)>>>0},DA=function(w,y){if(w.type===17)return w.number;if(w.type===16){var C=y===3?1:255;return y===3?w.number/100*C:Math.round(w.number/100*C)}return 0},LA=function(w,y){var C=y.filter(fa);if(C.length===3){var j=C.map(DA),K=j[0],J=j[1],Ae=j[2];return Ai(K,J,Ae,1)}if(C.length===4){var we=C.map(DA),K=we[0],J=we[1],Ae=we[2],Be=we[3];return Ai(K,J,Ae,Be)}return 0};function el(w,y,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(y-w)*C*6+w:C<1/2?y:C<2/3?(y-w)*6*(2/3-C)+w:w}var hl=function(w,y){var C=y.filter(fa),j=C[0],K=C[1],J=C[2],Ae=C[3],we=(j.type===17?Si(j.number):Ll.parse(w,j))/(Math.PI*2),Be=Ps(K)?K.number/100:0,Ue=Ps(J)?J.number/100:0,Pe=typeof Ae<"u"&&Ps(Ae)?ps(Ae,1):1;if(Be===0)return Ai(Ue*255,Ue*255,Ue*255,1);var We=Ue<=.5?Ue*(Be+1):Ue+Be-Ue*Be,At=Ue*2-We,nn=el(At,We,we+1/3),Mt=el(At,We,we),Wt=el(At,We,we-1/3);return Ai(nn*255,Mt*255,Wt*255,Pe)},fl={hsl:hl,hsla:hl,rgb:LA,rgba:LA},tl=function(w,y){return Ga.parse(w,Ea.create(y).parseComponentValue())},ra={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ql={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(w,y){return y.map(function(C){if(ns(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ci={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ni=function(w,y){var C=Ga.parse(w,y[0]),j=y[1];return j&&Ps(j)?{color:C,stop:j}:{color:C,stop:null}},Ms=function(w,y){var C=w[0],j=w[w.length-1];C.stop===null&&(C.stop=jr),j.stop===null&&(j.stop=Oa);for(var K=[],J=0,Ae=0;Ae<w.length;Ae++){var we=w[Ae].stop;if(we!==null){var Be=ps(we,y);Be>J?K.push(Be):K.push(J),J=Be}else K.push(null)}for(var Ue=null,Ae=0;Ae<K.length;Ae++){var Pe=K[Ae];if(Pe===null)Ue===null&&(Ue=Ae);else if(Ue!==null){for(var We=Ae-Ue,At=K[Ue-1],nn=(Pe-At)/(We+1),Mt=1;Mt<=We;Mt++)K[Ue+Mt-1]=nn*Mt;Ue=null}}return w.map(function(Wt,Sn){var dn=Wt.color;return{color:dn,stop:Math.max(Math.min(1,K[Sn]/y),0)}})},Rs=function(w,y,C){var j=y/2,K=C/2,J=ps(w[0],y)-j,Ae=K-ps(w[1],C);return(Math.atan2(Ae,J)+Math.PI*2)%(Math.PI*2)},br=function(w,y,C){var j=typeof w=="number"?w:Rs(w,y,C),K=Math.abs(y*Math.sin(j))+Math.abs(C*Math.cos(j)),J=y/2,Ae=C/2,we=K/2,Be=Math.sin(j-Math.PI/2)*we,Ue=Math.cos(j-Math.PI/2)*we;return[K,J-Ue,J+Ue,Ae-Be,Ae+Be]},Ws=function(w,y){return Math.sqrt(w*w+y*y)},nl=function(w,y,C,j,K){var J=[[0,0],[0,y],[w,0],[w,y]];return J.reduce(function(Ae,we){var Be=we[0],Ue=we[1],Pe=Ws(C-Be,j-Ue);return(K?Pe<Ae.optimumDistance:Pe>Ae.optimumDistance)?{optimumCorner:we,optimumDistance:Pe}:Ae},{optimumDistance:K?1/0:-1/0,optimumCorner:null}).optimumCorner},sl=function(w,y,C,j,K){var J=0,Ae=0;switch(w.size){case 0:w.shape===0?J=Ae=Math.min(Math.abs(y),Math.abs(y-j),Math.abs(C),Math.abs(C-K)):w.shape===1&&(J=Math.min(Math.abs(y),Math.abs(y-j)),Ae=Math.min(Math.abs(C),Math.abs(C-K)));break;case 2:if(w.shape===0)J=Ae=Math.min(Ws(y,C),Ws(y,C-K),Ws(y-j,C),Ws(y-j,C-K));else if(w.shape===1){var we=Math.min(Math.abs(C),Math.abs(C-K))/Math.min(Math.abs(y),Math.abs(y-j)),Be=nl(j,K,y,C,!0),Ue=Be[0],Pe=Be[1];J=Ws(Ue-y,(Pe-C)/we),Ae=we*J}break;case 1:w.shape===0?J=Ae=Math.max(Math.abs(y),Math.abs(y-j),Math.abs(C),Math.abs(C-K)):w.shape===1&&(J=Math.max(Math.abs(y),Math.abs(y-j)),Ae=Math.max(Math.abs(C),Math.abs(C-K)));break;case 3:if(w.shape===0)J=Ae=Math.max(Ws(y,C),Ws(y,C-K),Ws(y-j,C),Ws(y-j,C-K));else if(w.shape===1){var we=Math.max(Math.abs(C),Math.abs(C-K))/Math.max(Math.abs(y),Math.abs(y-j)),We=nl(j,K,y,C,!1),Ue=We[0],Pe=We[1];J=Ws(Ue-y,(Pe-C)/we),Ae=we*J}break}return Array.isArray(w.size)&&(J=ps(w.size[0],j),Ae=w.size.length===2?ps(w.size[1],K):J),[J,Ae]},QA=function(w,y){var C=Si(180),j=[];return Qa(y).forEach(function(K,J){if(J===0){var Ae=K[0];if(Ae.type===20&&Ae.value==="to"){C=Jr(K);return}else if(RA(Ae)){C=Ll.parse(w,Ae);return}}var we=Ni(w,K);j.push(we)}),{angle:C,stops:j,type:1}},oA=function(w,y){var C=Si(180),j=[];return Qa(y).forEach(function(K,J){if(J===0){var Ae=K[0];if(Ae.type===20&&["top","left","right","bottom"].indexOf(Ae.value)!==-1){C=Jr(K);return}else if(RA(Ae)){C=(Ll.parse(w,Ae)+Si(270))%Si(360);return}}var we=Ni(w,K);j.push(we)}),{angle:C,stops:j,type:1}},Wd=function(w,y){var C=Si(180),j=[],K=1,J=0,Ae=3,we=[];return Qa(y).forEach(function(Be,Ue){var Pe=Be[0];if(Ue===0){if(ns(Pe)&&Pe.value==="linear"){K=1;return}else if(ns(Pe)&&Pe.value==="radial"){K=2;return}}if(Pe.type===18){if(Pe.name==="from"){var We=Ga.parse(w,Pe.values[0]);j.push({stop:jr,color:We})}else if(Pe.name==="to"){var We=Ga.parse(w,Pe.values[0]);j.push({stop:Oa,color:We})}else if(Pe.name==="color-stop"){var At=Pe.values.filter(fa);if(At.length===2){var We=Ga.parse(w,At[1]),nn=At[0];Os(nn)&&j.push({stop:{type:16,number:nn.number*100,flags:nn.flags},color:We})}}}}),K===1?{angle:(C+Si(180))%Si(360),stops:j,type:K}:{size:Ae,shape:J,stops:j,position:we,type:K}},Yd="closest-side",Xd="farthest-side",Jd="closest-corner",Fu="farthest-corner",Uu="circle",lA="ellipse",eo="cover",Ac="contain",to=function(w,y){var C=0,j=3,K=[],J=[];return Qa(y).forEach(function(Ae,we){var Be=!0;if(we===0){var Ue=!1;Be=Ae.reduce(function(We,At){if(Ue)if(ns(At))switch(At.value){case"center":return J.push(UA),We;case"top":case"left":return J.push(jr),We;case"right":case"bottom":return J.push(Oa),We}else(Ps(At)||bo(At))&&J.push(At);else if(ns(At))switch(At.value){case Uu:return C=0,!1;case lA:return C=1,!1;case"at":return Ue=!0,!1;case Yd:return j=0,!1;case eo:case Xd:return j=1,!1;case Ac:case Jd:return j=2,!1;case Fu:return j=3,!1}else if(bo(At)||Ps(At))return Array.isArray(j)||(j=[]),j.push(At),!1;return We},Be)}if(Be){var Pe=Ni(w,Ae);K.push(Pe)}}),{size:j,shape:C,stops:K,position:J,type:2}},ml=function(w,y){var C=0,j=3,K=[],J=[];return Qa(y).forEach(function(Ae,we){var Be=!0;if(we===0?Be=Ae.reduce(function(Pe,We){if(ns(We))switch(We.value){case"center":return J.push(UA),!1;case"top":case"left":return J.push(jr),!1;case"right":case"bottom":return J.push(Oa),!1}else if(Ps(We)||bo(We))return J.push(We),!1;return Pe},Be):we===1&&(Be=Ae.reduce(function(Pe,We){if(ns(We))switch(We.value){case Uu:return C=0,!1;case lA:return C=1,!1;case Ac:case Yd:return j=0,!1;case Xd:return j=1,!1;case Jd:return j=2,!1;case eo:case Fu:return j=3,!1}else if(bo(We)||Ps(We))return Array.isArray(j)||(j=[]),j.push(We),!1;return Pe},Be)),Be){var Ue=Ni(w,Ae);K.push(Ue)}}),{size:j,shape:C,stops:K,position:J,type:2}},Ru=function(w){return w.type===1},Yc=function(w){return w.type===2},OA={name:"image",parse:function(w,y){if(y.type===22){var C={url:y.value,type:0};return w.cache.addImage(y.value),C}if(y.type===18){var j=pl[y.name];if(typeof j>"u")throw new Error('Attempting to parse an unsupported image function "'+y.name+'"');return j(w,y.values)}throw new Error("Unsupported image type "+y.type)}};function Du(w){return!(w.type===20&&w.value==="none")&&(w.type!==18||!!pl[w.name])}var pl={"linear-gradient":QA,"-moz-linear-gradient":oA,"-ms-linear-gradient":oA,"-o-linear-gradient":oA,"-webkit-linear-gradient":oA,"radial-gradient":to,"-moz-radial-gradient":ml,"-ms-radial-gradient":ml,"-o-radial-gradient":ml,"-webkit-radial-gradient":ml,"-webkit-gradient":Wd},Xc={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(w,y){if(y.length===0)return[];var C=y[0];return C.type===20&&C.value==="none"?[]:y.filter(function(j){return fa(j)&&Du(j)}).map(function(j){return OA.parse(w,j)})}},ui={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(w,y){return y.map(function(C){if(ns(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Wa={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(w,y){return Qa(y).map(function(C){return C.filter(Ps)}).map(wo)}},Lu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(w,y){return Qa(y).map(function(C){return C.filter(ns).map(function(j){return j.value}).join(" ")}).map(di)}},di=function(w){switch(w){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ol;(function(w){w.AUTO="auto",w.CONTAIN="contain",w.COVER="cover"})(Ol||(Ol={}));var jo={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(w,y){return Qa(y).map(function(C){return C.filter(Jc)})}},Jc=function(w){return ns(w)||Ps(w)},Pl=function(w){return{name:"border-"+w+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},AA=Pl("top"),qc=Pl("right"),Qu=Pl("bottom"),cc=Pl("left"),PA=function(w){return{name:"border-radius-"+w,initialValue:"0 0",prefix:!1,type:1,parse:function(y,C){return wo(C.filter(Ps))}}},Co=PA("top-left"),uc=PA("top-right"),MA=PA("bottom-right"),Ou=PA("bottom-left"),cA=function(w){return{name:"border-"+w+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(y,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Eo=cA("top"),So=cA("right"),uA=cA("bottom"),No=cA("left"),Ti=function(w){return{name:"border-"+w+"-width",initialValue:"0",type:0,prefix:!1,parse:function(y,C){return sa(C)?C.number:0}}},no=Ti("top"),tf=Ti("right"),qd=Ti("bottom"),Pu=Ti("left"),nf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ya={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(w,y){switch(y){case"rtl":return 1;case"ltr":default:return 0}}},Cr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(w,y){return y.filter(ns).reduce(function(C,j){return C|js(j.value)},0)}},js=function(w){switch(w){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ii={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(w,y){switch(y){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(w,y){return y.type===20&&y.value==="normal"?0:y.type===17||y.type===15?y.number:0}},Vi;(function(w){w.NORMAL="normal",w.STRICT="strict"})(Vi||(Vi={}));var dA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(w,y){switch(y){case"strict":return Vi.STRICT;case"normal":default:return Vi.NORMAL}}},Zd={name:"line-height",initialValue:"normal",prefix:!1,type:4},gl=function(w,y){return ns(w)&&w.value==="normal"?1.2*y:w.type===17?y*w.number:Ps(w)?ps(w,y):y},Xa={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(w,y){return y.type===20&&y.value==="none"?null:OA.parse(w,y)}},kA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(w,y){switch(y){case"inside":return 0;case"outside":default:return 1}}},Zc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(w,y){switch(y){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ml=function(w){return{name:"margin-"+w,initialValue:"0",prefix:!1,type:4}},Mu=Ml("top"),hA=Ml("right"),vl=Ml("bottom"),fA=Ml("left"),To={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(w,y){return y.filter(ns).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},dc={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(w,y){switch(y){case"break-word":return"break-word";case"normal":default:return"normal"}}},yl=function(w){return{name:"padding-"+w,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},mA=yl("top"),ku=yl("right"),pA=yl("bottom"),Ja=yl("left"),Hu={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(w,y){switch(y){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},sf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(w,y){switch(y){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ym={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(w,y){return y.length===1&&xo(y[0],"none")?[]:Qa(y).map(function(C){for(var j={color:ra.TRANSPARENT,offsetX:jr,offsetY:jr,blur:jr},K=0,J=0;J<C.length;J++){var Ae=C[J];bo(Ae)?(K===0?j.offsetX=Ae:K===1?j.offsetY=Ae:j.blur=Ae,K++):j.color=Ga.parse(w,Ae)}return j})}},xm={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(w,y){switch(y){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bm={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(w,y){if(y.type===20&&y.value==="none")return null;if(y.type===18){var C=eu[y.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+y.name+'"');return C(y.values)}return null}},aa=function(w){var y=w.filter(function(C){return C.type===17}).map(function(C){return C.number});return y.length===6?y:null},hc=function(w){var y=w.filter(function(Be){return Be.type===17}).map(function(Be){return Be.number}),C=y[0],j=y[1];y[2],y[3];var K=y[4],J=y[5];y[6],y[7],y[8],y[9],y[10],y[11];var Ae=y[12],we=y[13];return y[14],y[15],y.length===16?[C,j,K,J,Ae,we]:null},eu={matrix:aa,matrix3d:hc},fc={type:16,number:50,flags:Ka},Vu=[fc,fc],x={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(w,y){var C=y.filter(Ps);return C.length!==2?Vu:[C[0],C[1]]}},I={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(w,y){switch(y){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},V;(function(w){w.NORMAL="normal",w.BREAK_ALL="break-all",w.KEEP_ALL="keep-all"})(V||(V={}));for(var Y={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(w,y){switch(y){case"break-all":return V.BREAK_ALL;case"keep-all":return V.KEEP_ALL;case"normal":default:return V.NORMAL}}},oe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(w,y){if(y.type===20)return{auto:!0,order:0};if(Os(y))return{auto:!1,order:y.number};throw new Error("Invalid z-index number parsed")}},de={name:"time",parse:function(w,y){if(y.type===15)switch(y.unit.toLowerCase()){case"s":return 1e3*y.number;case"ms":return y.number}throw new Error("Unsupported time type")}},me={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(w,y){return Os(y)?y.number:1}},ve={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},be={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(w,y){return y.filter(ns).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},Se={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(w,y){var C=[],j=[];return y.forEach(function(K){switch(K.type){case 20:case 0:C.push(K.value);break;case 17:C.push(K.number.toString());break;case 4:j.push(C.join(" ")),C.length=0;break}}),C.length&&j.push(C.join(" ")),j.map(function(K){return K.indexOf(" ")===-1?K:"'"+K+"'"})}},De={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Xe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(w,y){if(Os(y))return y.number;if(ns(y))switch(y.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ce={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(w,y){return y.filter(ns).map(function(C){return C.value})}},Qe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(w,y){switch(y){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Oe=function(w,y){return(w&y)!==0},lt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(w,y){if(y.length===0)return[];var C=y[0];return C.type===20&&C.value==="none"?[]:y}},Ye={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(w,y){if(y.length===0)return null;var C=y[0];if(C.type===20&&C.value==="none")return null;for(var j=[],K=y.filter(Jo),J=0;J<K.length;J++){var Ae=K[J],we=K[J+1];if(Ae.type===20){var Be=we&&Os(we)?we.number:1;j.push({counter:Ae.value,increment:Be})}}return j}},ot={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(w,y){if(y.length===0)return[];for(var C=[],j=y.filter(Jo),K=0;K<j.length;K++){var J=j[K],Ae=j[K+1];if(ns(J)&&J.value!=="none"){var we=Ae&&Os(Ae)?Ae.number:0;C.push({counter:J.value,reset:we})}}return C}},pt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(w,y){return y.filter(sa).map(function(C){return de.parse(w,C)})}},Ft={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(w,y){if(y.length===0)return null;var C=y[0];if(C.type===20&&C.value==="none")return null;var j=[],K=y.filter(Zi);if(K.length%2!==0)return null;for(var J=0;J<K.length;J+=2){var Ae=K[J].value,we=K[J+1].value;j.push({open:Ae,close:we})}return j}},bt=function(w,y,C){if(!w)return"";var j=w[Math.min(y,w.length-1)];return j?C?j.open:j.close:""},wn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(w,y){return y.length===1&&xo(y[0],"none")?[]:Qa(y).map(function(C){for(var j={color:255,offsetX:jr,offsetY:jr,blur:jr,spread:jr,inset:!1},K=0,J=0;J<C.length;J++){var Ae=C[J];xo(Ae,"inset")?j.inset=!0:bo(Ae)?(K===0?j.offsetX=Ae:K===1?j.offsetY=Ae:K===2?j.blur=Ae:j.spread=Ae,K++):j.color=Ga.parse(w,Ae)}return j})}},An={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(w,y){var C=[0,1,2],j=[];return y.filter(ns).forEach(function(K){switch(K.value){case"stroke":j.push(1);break;case"fill":j.push(0);break;case"markers":j.push(2);break}}),C.forEach(function(K){j.indexOf(K)===-1&&j.push(K)}),j}},qn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(w,y){return sa(y)?y.number:0}},bs=(function(){function w(y,C){var j,K;this.animationDuration=st(y,pt,C.animationDuration),this.backgroundClip=st(y,Ql,C.backgroundClip),this.backgroundColor=st(y,ci,C.backgroundColor),this.backgroundImage=st(y,Xc,C.backgroundImage),this.backgroundOrigin=st(y,ui,C.backgroundOrigin),this.backgroundPosition=st(y,Wa,C.backgroundPosition),this.backgroundRepeat=st(y,Lu,C.backgroundRepeat),this.backgroundSize=st(y,jo,C.backgroundSize),this.borderTopColor=st(y,AA,C.borderTopColor),this.borderRightColor=st(y,qc,C.borderRightColor),this.borderBottomColor=st(y,Qu,C.borderBottomColor),this.borderLeftColor=st(y,cc,C.borderLeftColor),this.borderTopLeftRadius=st(y,Co,C.borderTopLeftRadius),this.borderTopRightRadius=st(y,uc,C.borderTopRightRadius),this.borderBottomRightRadius=st(y,MA,C.borderBottomRightRadius),this.borderBottomLeftRadius=st(y,Ou,C.borderBottomLeftRadius),this.borderTopStyle=st(y,Eo,C.borderTopStyle),this.borderRightStyle=st(y,So,C.borderRightStyle),this.borderBottomStyle=st(y,uA,C.borderBottomStyle),this.borderLeftStyle=st(y,No,C.borderLeftStyle),this.borderTopWidth=st(y,no,C.borderTopWidth),this.borderRightWidth=st(y,tf,C.borderRightWidth),this.borderBottomWidth=st(y,qd,C.borderBottomWidth),this.borderLeftWidth=st(y,Pu,C.borderLeftWidth),this.boxShadow=st(y,wn,C.boxShadow),this.color=st(y,nf,C.color),this.direction=st(y,Ya,C.direction),this.display=st(y,Cr,C.display),this.float=st(y,Ii,C.cssFloat),this.fontFamily=st(y,Se,C.fontFamily),this.fontSize=st(y,De,C.fontSize),this.fontStyle=st(y,Qe,C.fontStyle),this.fontVariant=st(y,Ce,C.fontVariant),this.fontWeight=st(y,Xe,C.fontWeight),this.letterSpacing=st(y,qr,C.letterSpacing),this.lineBreak=st(y,dA,C.lineBreak),this.lineHeight=st(y,Zd,C.lineHeight),this.listStyleImage=st(y,Xa,C.listStyleImage),this.listStylePosition=st(y,kA,C.listStylePosition),this.listStyleType=st(y,Zc,C.listStyleType),this.marginTop=st(y,Mu,C.marginTop),this.marginRight=st(y,hA,C.marginRight),this.marginBottom=st(y,vl,C.marginBottom),this.marginLeft=st(y,fA,C.marginLeft),this.opacity=st(y,me,C.opacity);var J=st(y,To,C.overflow);this.overflowX=J[0],this.overflowY=J[J.length>1?1:0],this.overflowWrap=st(y,dc,C.overflowWrap),this.paddingTop=st(y,mA,C.paddingTop),this.paddingRight=st(y,ku,C.paddingRight),this.paddingBottom=st(y,pA,C.paddingBottom),this.paddingLeft=st(y,Ja,C.paddingLeft),this.paintOrder=st(y,An,C.paintOrder),this.position=st(y,sf,C.position),this.textAlign=st(y,Hu,C.textAlign),this.textDecorationColor=st(y,ve,(j=C.textDecorationColor)!==null&&j!==void 0?j:C.color),this.textDecorationLine=st(y,be,(K=C.textDecorationLine)!==null&&K!==void 0?K:C.textDecoration),this.textShadow=st(y,ym,C.textShadow),this.textTransform=st(y,xm,C.textTransform),this.transform=st(y,bm,C.transform),this.transformOrigin=st(y,x,C.transformOrigin),this.visibility=st(y,I,C.visibility),this.webkitTextStrokeColor=st(y,qn,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=st(y,fn,C.webkitTextStrokeWidth),this.wordBreak=st(y,Y,C.wordBreak),this.zIndex=st(y,oe,C.zIndex)}return w.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},w.prototype.isTransparent=function(){return $a(this.backgroundColor)},w.prototype.isTransformed=function(){return this.transform!==null},w.prototype.isPositioned=function(){return this.position!==0},w.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},w.prototype.isFloating=function(){return this.float!==0},w.prototype.isInlineLevel=function(){return Oe(this.display,4)||Oe(this.display,33554432)||Oe(this.display,268435456)||Oe(this.display,536870912)||Oe(this.display,67108864)||Oe(this.display,134217728)},w})(),Er=(function(){function w(y,C){this.content=st(y,lt,C.content),this.quotes=st(y,Ft,C.quotes)}return w})(),rs=(function(){function w(y,C){this.counterIncrement=st(y,Ye,C.counterIncrement),this.counterReset=st(y,ot,C.counterReset)}return w})(),st=function(w,y,C){var j=new $s,K=C!==null&&typeof C<"u"?C.toString():y.initialValue;j.write(K);var J=new Ea(j.read());switch(y.type){case 2:var Ae=J.parseComponentValue();return y.parse(w,ns(Ae)?Ae.value:y.initialValue);case 0:return y.parse(w,J.parseComponentValue());case 1:return y.parse(w,J.parseComponentValues());case 4:return J.parseComponentValue();case 3:switch(y.format){case"angle":return Ll.parse(w,J.parseComponentValue());case"color":return Ga.parse(w,J.parseComponentValue());case"image":return OA.parse(w,J.parseComponentValue());case"length":var we=J.parseComponentValue();return bo(we)?we:jr;case"length-percentage":var Be=J.parseComponentValue();return Ps(Be)?Be:jr;case"time":return de.parse(w,J.parseComponentValue())}break}},$t="data-html2canvas-debug",Pr=function(w){var y=w.getAttribute($t);switch(y){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Vn=function(w,y){var C=Pr(w);return C===1||y===C},Gn=(function(){function w(y,C){if(this.context=y,this.textNodes=[],this.elements=[],this.flags=0,Vn(C,3))debugger;this.styles=new bs(y,window.getComputedStyle(C,null)),lh(C)&&(this.styles.animationDuration.some(function(j){return j>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=f(this.context,C),Vn(C,4)&&(this.flags|=16)}return w})(),nr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ia=typeof Uint8Array>"u"?[]:new Uint8Array(256),sr=0;sr<ma.length;sr++)ia[ma.charCodeAt(sr)]=sr;for(var pa=function(w){var y=w.length*.75,C=w.length,j,K=0,J,Ae,we,Be;w[w.length-1]==="="&&(y--,w[w.length-2]==="="&&y--);var Ue=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(y):new Array(y),Pe=Array.isArray(Ue)?Ue:new Uint8Array(Ue);for(j=0;j<C;j+=4)J=ia[w.charCodeAt(j)],Ae=ia[w.charCodeAt(j+1)],we=ia[w.charCodeAt(j+2)],Be=ia[w.charCodeAt(j+3)],Pe[K++]=J<<2|Ae>>4,Pe[K++]=(Ae&15)<<4|we>>2,Pe[K++]=(we&3)<<6|Be&63;return Ue},hi=function(w){for(var y=w.length,C=[],j=0;j<y;j+=2)C.push(w[j+1]<<8|w[j]);return C},ga=function(w){for(var y=w.length,C=[],j=0;j<y;j+=4)C.push(w[j+3]<<24|w[j+2]<<16|w[j+1]<<8|w[j]);return C},ss=5,Ts=11,Sr=2,Ys=Ts-ss,va=65536>>ss,Mr=1<<ss,Is=Mr-1,oa=1024>>ss,rr=va+oa,ya=rr,xa=32,hr=ya+xa,Ds=65536>>Ts,fi=1<<Ys,Zr=fi-1,Un=function(w,y,C){return w.slice?w.slice(y,C):new Uint16Array(Array.prototype.slice.call(w,y,C))},kn=function(w,y,C){return w.slice?w.slice(y,C):new Uint32Array(Array.prototype.slice.call(w,y,C))},ks=function(w,y){var C=pa(w),j=Array.isArray(C)?ga(C):new Uint32Array(C),K=Array.isArray(C)?hi(C):new Uint16Array(C),J=24,Ae=Un(K,J/2,j[4]/2),we=j[5]===2?Un(K,(J+j[4])/2):kn(j,Math.ceil((J+j[4])/4));return new Ki(j[0],j[1],j[2],j[3],Ae,we)},Ki=(function(){function w(y,C,j,K,J,Ae){this.initialValue=y,this.errorValue=C,this.highStart=j,this.highValueIndex=K,this.index=J,this.data=Ae}return w.prototype.get=function(y){var C;if(y>=0){if(y<55296||y>56319&&y<=65535)return C=this.index[y>>ss],C=(C<<Sr)+(y&Is),this.data[C];if(y<=65535)return C=this.index[va+(y-55296>>ss)],C=(C<<Sr)+(y&Is),this.data[C];if(y<this.highStart)return C=hr-Ds+(y>>Ts),C=this.index[C],C+=y>>ss&Zr,C=this.index[C],C=(C<<Sr)+(y&Is),this.data[C];if(y<=1114111)return this.data[this.highValueIndex]}return this.errorValue},w})(),so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_i=typeof Uint8Array>"u"?[]:new Uint8Array(256),kr=0;kr<so.length;kr++)_i[so.charCodeAt(kr)]=kr;var gA=1,xl=2,mc=3,fr=4,Ku=5,eh=7,tu=8,rl=9,th=10,zu=11,Gu=12,nu=13,Sa=14,Rr=15,su=function(w){for(var y=[],C=0,j=w.length;C<j;){var K=w.charCodeAt(C++);if(K>=55296&&K<=56319&&C<j){var J=w.charCodeAt(C++);(J&64512)===56320?y.push(((K&1023)<<10)+(J&1023)+65536):(y.push(K),C--)}else y.push(K)}return y},vA=function(){for(var w=[],y=0;y<arguments.length;y++)w[y]=arguments[y];if(String.fromCodePoint)return String.fromCodePoint.apply(String,w);var C=w.length;if(!C)return"";for(var j=[],K=-1,J="";++K<C;){var Ae=w[K];Ae<=65535?j.push(Ae):(Ae-=65536,j.push((Ae>>10)+55296,Ae%1024+56320)),(K+1===C||j.length>16384)&&(J+=String.fromCharCode.apply(String,j),j.length=0)}return J},pc=ks(nr),Pa="",Io="",$u=function(w){return pc.get(w)},gc=function(w,y,C){var j=C-2,K=y[j],J=y[C-1],Ae=y[C];if(J===xl&&Ae===mc)return Pa;if(J===xl||J===mc||J===fr||Ae===xl||Ae===mc||Ae===fr)return Io;if(J===tu&&[tu,rl,zu,Gu].indexOf(Ae)!==-1||(J===zu||J===rl)&&(Ae===rl||Ae===th)||(J===Gu||J===th)&&Ae===th||Ae===nu||Ae===Ku||Ae===eh||J===gA)return Pa;if(J===nu&&Ae===Sa){for(;K===Ku;)K=y[--j];if(K===Sa)return Pa}if(J===Rr&&Ae===Rr){for(var we=0;K===Rr;)we++,K=y[--j];if(we%2===0)return Pa}return Io},Wu=function(w){var y=su(w),C=y.length,j=0,K=0,J=y.map($u);return{next:function(){if(j>=C)return{done:!0,value:null};for(var Ae=Pa;j<C&&(Ae=gc(y,J,++j))===Pa;);if(Ae!==Pa||j===C){var we=vA.apply(null,y.slice(K,j));return K=j,{value:we,done:!1}}return{done:!0,value:null}}}},Yu=function(w){for(var y=Wu(w),C=[],j;!(j=y.next()).done;)j.value&&C.push(j.value.slice());return C},kl=function(w){var y=123;if(w.createRange){var C=w.createRange();if(C.getBoundingClientRect){var j=w.createElement("boundtest");j.style.height=y+"px",j.style.display="block",w.body.appendChild(j),C.selectNode(j);var K=C.getBoundingClientRect(),J=Math.round(K.height);if(w.body.removeChild(j),J===y)return!0}}return!1},nh=function(w){var y=w.createElement("boundtest");y.style.width="50px",y.style.display="block",y.style.fontSize="12px",y.style.letterSpacing="0px",y.style.wordSpacing="0px",w.body.appendChild(y);var C=w.createRange();y.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var j=y.firstChild,K=m(j.data).map(function(Be){return v(Be)}),J=0,Ae={},we=K.every(function(Be,Ue){C.setStart(j,J),C.setEnd(j,J+Be.length);var Pe=C.getBoundingClientRect();J+=Be.length;var We=Pe.x>Ae.x||Pe.y>Ae.y;return Ae=Pe,Ue===0?!0:We});return w.body.removeChild(y),we},sh=function(){return typeof new Image().crossOrigin<"u"},rf=function(){return typeof new XMLHttpRequest().responseType=="string"},rh=function(w){var y=new Image,C=w.createElement("canvas"),j=C.getContext("2d");if(!j)return!1;y.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{j.drawImage(y,0,0),C.toDataURL()}catch{return!1}return!0},Hl=function(w){return w[0]===0&&w[1]===255&&w[2]===0&&w[3]===255},af=function(w){var y=w.createElement("canvas"),C=100;y.width=C,y.height=C;var j=y.getContext("2d");if(!j)return Promise.reject(!1);j.fillStyle="rgb(0, 255, 0)",j.fillRect(0,0,C,C);var K=new Image,J=y.toDataURL();K.src=J;var Ae=Xu(C,C,0,0,K);return j.fillStyle="red",j.fillRect(0,0,C,C),ah(Ae).then(function(we){j.drawImage(we,0,0);var Be=j.getImageData(0,0,C,C).data;j.fillStyle="red",j.fillRect(0,0,C,C);var Ue=w.createElement("div");return Ue.style.backgroundImage="url("+J+")",Ue.style.height=C+"px",Hl(Be)?ah(Xu(C,C,0,0,Ue)):Promise.reject(!1)}).then(function(we){return j.drawImage(we,0,0),Hl(j.getImageData(0,0,C,C).data)}).catch(function(){return!1})},Xu=function(w,y,C,j,K){var J="http://www.w3.org/2000/svg",Ae=document.createElementNS(J,"svg"),we=document.createElementNS(J,"foreignObject");return Ae.setAttributeNS(null,"width",w.toString()),Ae.setAttributeNS(null,"height",y.toString()),we.setAttributeNS(null,"width","100%"),we.setAttributeNS(null,"height","100%"),we.setAttributeNS(null,"x",C.toString()),we.setAttributeNS(null,"y",j.toString()),we.setAttributeNS(null,"externalResourcesRequired","true"),Ae.appendChild(we),we.appendChild(K),Ae},ah=function(w){return new Promise(function(y,C){var j=new Image;j.onload=function(){return y(j)},j.onerror=C,j.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(w))})},Na={get SUPPORT_RANGE_BOUNDS(){var w=kl(document);return Object.defineProperty(Na,"SUPPORT_RANGE_BOUNDS",{value:w}),w},get SUPPORT_WORD_BREAKING(){var w=Na.SUPPORT_RANGE_BOUNDS&&nh(document);return Object.defineProperty(Na,"SUPPORT_WORD_BREAKING",{value:w}),w},get SUPPORT_SVG_DRAWING(){var w=rh(document);return Object.defineProperty(Na,"SUPPORT_SVG_DRAWING",{value:w}),w},get SUPPORT_FOREIGNOBJECT_DRAWING(){var w=typeof Array.from=="function"&&typeof window.fetch=="function"?af(document):Promise.resolve(!1);return Object.defineProperty(Na,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:w}),w},get SUPPORT_CORS_IMAGES(){var w=sh();return Object.defineProperty(Na,"SUPPORT_CORS_IMAGES",{value:w}),w},get SUPPORT_RESPONSE_TYPE(){var w=rf();return Object.defineProperty(Na,"SUPPORT_RESPONSE_TYPE",{value:w}),w},get SUPPORT_CORS_XHR(){var w="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Na,"SUPPORT_CORS_XHR",{value:w}),w},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var w=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Na,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:w}),w}},vc=(function(){function w(y,C){this.text=y,this.bounds=C}return w})(),HA=function(w,y,C,j){var K=Kl(y,C),J=[],Ae=0;return K.forEach(function(we){if(C.textDecorationLine.length||we.trim().length>0)if(Na.SUPPORT_RANGE_BOUNDS){var Be=yc(j,Ae,we.length).getClientRects();if(Be.length>1){var Ue=_o(we),Pe=0;Ue.forEach(function(At){J.push(new vc(At,u.fromDOMRectList(w,yc(j,Pe+Ae,At.length).getClientRects()))),Pe+=At.length})}else J.push(new vc(we,u.fromDOMRectList(w,Be)))}else{var We=j.splitText(we.length);J.push(new vc(we,Ju(w,j))),j=We}else Na.SUPPORT_RANGE_BOUNDS||(j=j.splitText(we.length));Ae+=we.length}),J},Ju=function(w,y){var C=y.ownerDocument;if(C){var j=C.createElement("html2canvaswrapper");j.appendChild(y.cloneNode(!0));var K=y.parentNode;if(K){K.replaceChild(j,y);var J=f(w,j);return j.firstChild&&K.replaceChild(j.firstChild,j),J}}return u.EMPTY},yc=function(w,y,C){var j=w.ownerDocument;if(!j)throw new Error("Node has no owner document");var K=j.createRange();return K.setStart(w,y),K.setEnd(w,y+C),K},_o=function(w){if(Na.SUPPORT_NATIVE_TEXT_SEGMENTATION){var y=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(y.segment(w)).map(function(C){return C.segment})}return Yu(w)},Vl=function(w,y){if(Na.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(w)).map(function(j){return j.segment})}return Zu(w,y)},Kl=function(w,y){return y.letterSpacing!==0?_o(w):Vl(w,y)},qu=[32,160,4961,65792,65793,4153,4241],Zu=function(w,y){for(var C=tr(w,{lineBreak:y.lineBreak,wordBreak:y.overflowWrap==="break-word"?"break-word":y.wordBreak}),j=[],K,J=function(){if(K.value){var Ae=K.value.slice(),we=m(Ae),Be="";we.forEach(function(Ue){qu.indexOf(Ue)===-1?Be+=v(Ue):(Be.length&&j.push(Be),j.push(v(Ue)),Be="")}),Be.length&&j.push(Be)}};!(K=C.next()).done;)J();return j},VA=(function(){function w(y,C,j){this.text=of(C.data,j.textTransform),this.textBounds=HA(y,this.text,j,C)}return w})(),of=function(w,y){switch(y){case 1:return w.toLowerCase();case 3:return w.replace(xc,bc);case 2:return w.toUpperCase();default:return w}},xc=/(^|\s|:|-|\(|\))([a-z])/g,bc=function(w,y,C){return w.length>0?y+C.toUpperCase():w},wm=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;return K.src=j.currentSrc||j.src,K.intrinsicWidth=j.naturalWidth,K.intrinsicHeight=j.naturalHeight,K.context.cache.addImage(K.src),K}return y})(Gn),lf=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;return K.canvas=j,K.intrinsicWidth=j.width,K.intrinsicHeight=j.height,K}return y})(Gn),Rg=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this,J=new XMLSerializer,Ae=f(C,j);return j.setAttribute("width",Ae.width+"px"),j.setAttribute("height",Ae.height+"px"),K.svg="data:image/svg+xml,"+encodeURIComponent(J.serializeToString(j)),K.intrinsicWidth=j.width.baseVal.value,K.intrinsicHeight=j.height.baseVal.value,K.context.cache.addImage(K.svg),K}return y})(Gn),Bm=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;return K.value=j.value,K}return y})(Gn),Af=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;return K.start=j.start,K.reversed=typeof j.reversed=="boolean"&&j.reversed===!0,K}return y})(Gn),Dg=[{type:15,flags:0,unit:"px",number:3}],Lg=[{type:16,flags:0,number:50}],Qg=function(w){return w.width>w.height?new u(w.left+(w.width-w.height)/2,w.top,w.height,w.height):w.width<w.height?new u(w.left,w.top+(w.height-w.width)/2,w.width,w.width):w},jm=function(w){var y=w.type===Cm?new Array(w.value.length+1).join(""):w.value;return y.length===0?w.placeholder||"":y},ih="checkbox",oh="radio",Cm="password",Em=707406591,cf=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;switch(K.type=j.type.toLowerCase(),K.checked=j.checked,K.value=jm(j),(K.type===ih||K.type===oh)&&(K.styles.backgroundColor=3739148031,K.styles.borderTopColor=K.styles.borderRightColor=K.styles.borderBottomColor=K.styles.borderLeftColor=2779096575,K.styles.borderTopWidth=K.styles.borderRightWidth=K.styles.borderBottomWidth=K.styles.borderLeftWidth=1,K.styles.borderTopStyle=K.styles.borderRightStyle=K.styles.borderBottomStyle=K.styles.borderLeftStyle=1,K.styles.backgroundClip=[0],K.styles.backgroundOrigin=[0],K.bounds=Qg(K.bounds)),K.type){case ih:K.styles.borderTopRightRadius=K.styles.borderTopLeftRadius=K.styles.borderBottomRightRadius=K.styles.borderBottomLeftRadius=Dg;break;case oh:K.styles.borderTopRightRadius=K.styles.borderTopLeftRadius=K.styles.borderBottomRightRadius=K.styles.borderBottomLeftRadius=Lg;break}return K}return y})(Gn),Og=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this,J=j.options[j.selectedIndex||0];return K.value=J&&J.text||"",K}return y})(Gn),uf=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;return K.value=j.value,K}return y})(Gn),Sm=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;K.src=j.src,K.width=parseInt(j.width,10)||0,K.height=parseInt(j.height,10)||0,K.backgroundColor=K.styles.backgroundColor;try{if(j.contentWindow&&j.contentWindow.document&&j.contentWindow.document.documentElement){K.tree=Tm(C,j.contentWindow.document.documentElement);var J=j.contentWindow.document.documentElement?tl(C,getComputedStyle(j.contentWindow.document.documentElement).backgroundColor):ra.TRANSPARENT,Ae=j.contentWindow.document.body?tl(C,getComputedStyle(j.contentWindow.document.body).backgroundColor):ra.TRANSPARENT;K.backgroundColor=$a(J)?$a(Ae)?K.styles.backgroundColor:Ae:J}}catch{}return K}return y})(Gn),Pg=["OL","UL","MENU"],ed=function(w,y,C,j){for(var K=y.firstChild,J=void 0;K;K=J)if(J=K.nextSibling,Im(K)&&K.data.trim().length>0)C.textNodes.push(new VA(w,K,C.styles));else if(yA(K))if(dh(K)&&K.assignedNodes)K.assignedNodes().forEach(function(we){return ed(w,we,C,j)});else{var Ae=Nm(w,K);Ae.styles.isVisible()&&(Oy(K,Ae,j)?Ae.flags|=4:Py(Ae.styles)&&(Ae.flags|=2),Pg.indexOf(K.tagName)!==-1&&(Ae.flags|=8),C.elements.push(Ae),K.slot,K.shadowRoot?ed(w,K.shadowRoot,Ae,j):!ch(K)&&!df(K)&&!uh(K)&&ed(w,K,Ae,j))}},Nm=function(w,y){return pf(y)?new wm(w,y):ff(y)?new lf(w,y):df(y)?new Rg(w,y):Mg(y)?new Bm(w,y):kg(y)?new Af(w,y):Ah(y)?new cf(w,y):uh(y)?new Og(w,y):ch(y)?new uf(w,y):_m(y)?new Sm(w,y):new Gn(w,y)},Tm=function(w,y){var C=Nm(w,y);return C.flags|=4,ed(w,y,C,C),C},Oy=function(w,y,C){return y.styles.isPositionedWithZIndex()||y.styles.opacity<1||y.styles.isTransformed()||hf(w)&&C.styles.isTransparent()},Py=function(w){return w.isPositioned()||w.isFloating()},Im=function(w){return w.nodeType===Node.TEXT_NODE},yA=function(w){return w.nodeType===Node.ELEMENT_NODE},lh=function(w){return yA(w)&&typeof w.style<"u"&&!ru(w)},ru=function(w){return typeof w.className=="object"},Mg=function(w){return w.tagName==="LI"},kg=function(w){return w.tagName==="OL"},Ah=function(w){return w.tagName==="INPUT"},Hg=function(w){return w.tagName==="HTML"},df=function(w){return w.tagName==="svg"},hf=function(w){return w.tagName==="BODY"},ff=function(w){return w.tagName==="CANVAS"},mf=function(w){return w.tagName==="VIDEO"},pf=function(w){return w.tagName==="IMG"},_m=function(w){return w.tagName==="IFRAME"},wc=function(w){return w.tagName==="STYLE"},Vg=function(w){return w.tagName==="SCRIPT"},ch=function(w){return w.tagName==="TEXTAREA"},uh=function(w){return w.tagName==="SELECT"},dh=function(w){return w.tagName==="SLOT"},Fm=function(w){return w.tagName.indexOf("-")>0},Um=(function(){function w(){this.counters={}}return w.prototype.getCounterValue=function(y){var C=this.counters[y];return C&&C.length?C[C.length-1]:1},w.prototype.getCounterValues=function(y){var C=this.counters[y];return C||[]},w.prototype.pop=function(y){var C=this;y.forEach(function(j){return C.counters[j].pop()})},w.prototype.parse=function(y){var C=this,j=y.counterIncrement,K=y.counterReset,J=!0;j!==null&&j.forEach(function(we){var Be=C.counters[we.counter];Be&&we.increment!==0&&(J=!1,Be.length||Be.push(1),Be[Math.max(0,Be.length-1)]+=we.increment)});var Ae=[];return J&&K.forEach(function(we){var Be=C.counters[we.counter];Ae.push(we.counter),Be||(Be=C.counters[we.counter]=[]),Be.push(we.reset)}),Ae},w})(),Rm={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Dm={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},My={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Lm={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hr=function(w,y,C,j,K,J){return w<y||w>C?nd(w,K,J.length>0):j.integers.reduce(function(Ae,we,Be){for(;w>=we;)w-=we,Ae+=j.values[Be];return Ae},"")+J},mi=function(w,y,C,j){var K="";do C||w--,K=j(w)+K,w/=y;while(w*y>=y);return K},ba=function(w,y,C,j,K){var J=C-y+1;return(w<0?"-":"")+(mi(Math.abs(w),J,j,function(Ae){return v(Math.floor(Ae%J)+y)})+K)},Bc=function(w,y,C){C===void 0&&(C=". ");var j=y.length;return mi(Math.abs(w),j,!1,function(K){return y[Math.floor(K%j)]})+C},au=1,KA=2,bl=4,td=8,wl=function(w,y,C,j,K,J){if(w<-9999||w>9999)return nd(w,4,K.length>0);var Ae=Math.abs(w),we=K;if(Ae===0)return y[0]+we;for(var Be=0;Ae>0&&Be<=4;Be++){var Ue=Ae%10;Ue===0&&Oe(J,au)&&we!==""?we=y[Ue]+we:Ue>1||Ue===1&&Be===0||Ue===1&&Be===1&&Oe(J,KA)||Ue===1&&Be===1&&Oe(J,bl)&&w>100||Ue===1&&Be>1&&Oe(J,td)?we=y[Ue]+(Be>0?C[Be-1]:"")+we:Ue===1&&Be>0&&(we=C[Be-1]+we),Ae=Math.floor(Ae/10)}return(w<0?j:"")+we},Qm="",Kg="",hh="",fh="",nd=function(w,y,C){var j=C?". ":"",K=C?"":"",J=C?", ":"",Ae=C?" ":"";switch(y){case 0:return""+Ae;case 1:return""+Ae;case 2:return""+Ae;case 5:var we=ba(w,48,57,!0,j);return we.length<4?"0"+we:we;case 4:return Bc(w,"",K);case 6:return Hr(w,1,3999,Rm,3,j).toLowerCase();case 7:return Hr(w,1,3999,Rm,3,j);case 8:return ba(w,945,969,!1,j);case 9:return ba(w,97,122,!1,j);case 10:return ba(w,65,90,!1,j);case 11:return ba(w,1632,1641,!0,j);case 12:case 49:return Hr(w,1,9999,Dm,3,j);case 35:return Hr(w,1,9999,Dm,3,j).toLowerCase();case 13:return ba(w,2534,2543,!0,j);case 14:case 30:return ba(w,6112,6121,!0,j);case 15:return Bc(w,"",K);case 16:return Bc(w,"",K);case 17:case 48:return wl(w,"",Qm,"",K,KA|bl|td);case 47:return wl(w,"",Kg,"",K,au|KA|bl|td);case 42:return wl(w,"",Qm,"",K,KA|bl|td);case 41:return wl(w,"",Kg,"",K,au|KA|bl|td);case 26:return wl(w,"","",hh,K,0);case 25:return wl(w,"","",hh,K,au|KA|bl);case 31:return wl(w,"","",fh,J,au|KA|bl);case 33:return wl(w,"","",fh,J,0);case 32:return wl(w,"","",fh,J,au|KA|bl);case 18:return ba(w,2406,2415,!0,j);case 20:return Hr(w,1,19999,Lm,3,j);case 21:return ba(w,2790,2799,!0,j);case 22:return ba(w,2662,2671,!0,j);case 22:return Hr(w,1,10999,My,3,j);case 23:return Bc(w,"");case 24:return Bc(w,"");case 27:return ba(w,3302,3311,!0,j);case 28:return Bc(w,"",K);case 29:return Bc(w,"",K);case 34:return ba(w,3792,3801,!0,j);case 37:return ba(w,6160,6169,!0,j);case 38:return ba(w,4160,4169,!0,j);case 39:return ba(w,2918,2927,!0,j);case 40:return ba(w,1776,1785,!0,j);case 43:return ba(w,3046,3055,!0,j);case 44:return ba(w,3174,3183,!0,j);case 45:return ba(w,3664,3673,!0,j);case 46:return ba(w,3872,3881,!0,j);case 3:default:return ba(w,48,57,!0,j)}},Om="data-html2canvas-ignore",Pm=(function(){function w(y,C,j){if(this.context=y,this.options=j,this.scrolledElements=[],this.referenceElement=C,this.counters=new Um,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return w.prototype.toIFrame=function(y,C){var j=this,K=Mm(y,C);if(!K.contentWindow)return Promise.reject("Unable to find iframe window");var J=y.defaultView.pageXOffset,Ae=y.defaultView.pageYOffset,we=K.contentWindow,Be=we.document,Ue=Hm(K).then(function(){return i(j,void 0,void 0,function(){var Pe,We;return c(this,function(At){switch(At.label){case 0:return this.scrolledElements.forEach($g),we&&(we.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(we.scrollY!==C.top||we.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(we.scrollX-C.left,we.scrollY-C.top,0,0))),Pe=this.options.onclone,We=this.clonedReferenceElement,typeof We>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Be.fonts&&Be.fonts.ready?[4,Be.fonts.ready]:[3,2];case 1:At.sent(),At.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,zg(Be)]:[3,4];case 3:At.sent(),At.label=4;case 4:return typeof Pe=="function"?[2,Promise.resolve().then(function(){return Pe(Be,We)}).then(function(){return K})]:[2,K]}})})});return Be.open(),Be.write(Gg(document.doctype)+"<html></html>"),Vm(this.referenceElement.ownerDocument,J,Ae),Be.replaceChild(Be.adoptNode(this.documentElement),Be.documentElement),Be.close(),Ue},w.prototype.createElementClone=function(y){if(Vn(y,2))debugger;if(ff(y))return this.createCanvasClone(y);if(mf(y))return this.createVideoClone(y);if(wc(y))return this.createStyleClone(y);var C=y.cloneNode(!1);return pf(C)&&(pf(y)&&y.currentSrc&&y.currentSrc!==y.src&&(C.src=y.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),Fm(C)?this.createCustomElementClone(C):C},w.prototype.createCustomElementClone=function(y){var C=document.createElement("html2canvascustomelement");return mh(y.style,C),C},w.prototype.createStyleClone=function(y){try{var C=y.sheet;if(C&&C.cssRules){var j=[].slice.call(C.cssRules,0).reduce(function(J,Ae){return Ae&&typeof Ae.cssText=="string"?J+Ae.cssText:J},""),K=y.cloneNode(!1);return K.textContent=j,K}}catch(J){if(this.context.logger.error("Unable to access cssRules property",J),J.name!=="SecurityError")throw J}return y.cloneNode(!1)},w.prototype.createCanvasClone=function(y){var C;if(this.options.inlineImages&&y.ownerDocument){var j=y.ownerDocument.createElement("img");try{return j.src=y.toDataURL(),j}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",y)}}var K=y.cloneNode(!1);try{K.width=y.width,K.height=y.height;var J=y.getContext("2d"),Ae=K.getContext("2d");if(Ae)if(!this.options.allowTaint&&J)Ae.putImageData(J.getImageData(0,0,y.width,y.height),0,0);else{var we=(C=y.getContext("webgl2"))!==null&&C!==void 0?C:y.getContext("webgl");if(we){var Be=we.getContextAttributes();(Be==null?void 0:Be.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",y)}Ae.drawImage(y,0,0)}return K}catch{this.context.logger.info("Unable to clone canvas as it is tainted",y)}return K},w.prototype.createVideoClone=function(y){var C=y.ownerDocument.createElement("canvas");C.width=y.offsetWidth,C.height=y.offsetHeight;var j=C.getContext("2d");try{return j&&(j.drawImage(y,0,0,C.width,C.height),this.options.allowTaint||j.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",y)}var K=y.ownerDocument.createElement("canvas");return K.width=y.offsetWidth,K.height=y.offsetHeight,K},w.prototype.appendChildNode=function(y,C,j){(!yA(C)||!Vg(C)&&!C.hasAttribute(Om)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!yA(C)||!wc(C))&&y.appendChild(this.cloneNode(C,j))},w.prototype.cloneChildNodes=function(y,C,j){for(var K=this,J=y.shadowRoot?y.shadowRoot.firstChild:y.firstChild;J;J=J.nextSibling)if(yA(J)&&dh(J)&&typeof J.assignedNodes=="function"){var Ae=J.assignedNodes();Ae.length&&Ae.forEach(function(we){return K.appendChildNode(C,we,j)})}else this.appendChildNode(C,J,j)},w.prototype.cloneNode=function(y,C){if(Im(y))return document.createTextNode(y.data);if(!y.ownerDocument)return y.cloneNode(!1);var j=y.ownerDocument.defaultView;if(j&&yA(y)&&(lh(y)||ru(y))){var K=this.createElementClone(y);K.style.transitionProperty="none";var J=j.getComputedStyle(y),Ae=j.getComputedStyle(y,":before"),we=j.getComputedStyle(y,":after");this.referenceElement===y&&lh(K)&&(this.clonedReferenceElement=K),hf(K)&&Gm(K);var Be=this.counters.parse(new rs(this.context,J)),Ue=this.resolvePseudoContent(y,K,Ae,iu.BEFORE);Fm(y)&&(C=!0),mf(y)||this.cloneChildNodes(y,K,C),Ue&&K.insertBefore(Ue,K.firstChild);var Pe=this.resolvePseudoContent(y,K,we,iu.AFTER);return Pe&&K.appendChild(Pe),this.counters.pop(Be),(J&&(this.options.copyStyles||ru(y))&&!_m(y)||C)&&mh(J,K),(y.scrollTop!==0||y.scrollLeft!==0)&&this.scrolledElements.push([K,y.scrollLeft,y.scrollTop]),(ch(y)||uh(y))&&(ch(K)||uh(K))&&(K.value=y.value),K}return y.cloneNode(!1)},w.prototype.resolvePseudoContent=function(y,C,j,K){var J=this;if(j){var Ae=j.content,we=C.ownerDocument;if(!(!we||!Ae||Ae==="none"||Ae==="-moz-alt-content"||j.display==="none")){this.counters.parse(new rs(this.context,j));var Be=new Er(this.context,j),Ue=we.createElement("html2canvaspseudoelement");mh(j,Ue),Be.content.forEach(function(We){if(We.type===0)Ue.appendChild(we.createTextNode(We.value));else if(We.type===22){var At=we.createElement("img");At.src=We.value,At.style.opacity="1",Ue.appendChild(At)}else if(We.type===18){if(We.name==="attr"){var nn=We.values.filter(ns);nn.length&&Ue.appendChild(we.createTextNode(y.getAttribute(nn[0].value)||""))}else if(We.name==="counter"){var Mt=We.values.filter(fa),Wt=Mt[0],Sn=Mt[1];if(Wt&&ns(Wt)){var dn=J.counters.getCounterValue(Wt.value),cn=Sn&&ns(Sn)?Zc.parse(J.context,Sn.value):3;Ue.appendChild(we.createTextNode(nd(dn,cn,!1)))}}else if(We.name==="counters"){var gs=We.values.filter(fa),Wt=gs[0],ds=gs[1],Sn=gs[2];if(Wt&&ns(Wt)){var Yn=J.counters.getCounterValues(Wt.value),on=Sn&&ns(Sn)?Zc.parse(J.context,Sn.value):3,ws=ds&&ds.type===0?ds.value:"",Fs=Yn.map(function(Tr){return nd(Tr,on,!1)}).join(ws);Ue.appendChild(we.createTextNode(Fs))}}}else if(We.type===20)switch(We.value){case"open-quote":Ue.appendChild(we.createTextNode(bt(Be.quotes,J.quoteDepth++,!0)));break;case"close-quote":Ue.appendChild(we.createTextNode(bt(Be.quotes,--J.quoteDepth,!1)));break;default:Ue.appendChild(we.createTextNode(We.value))}}),Ue.className=zm+" "+vf;var Pe=K===iu.BEFORE?" "+zm:" "+vf;return ru(C)?C.className.baseValue+=Pe:C.className+=Pe,Ue}}},w.destroy=function(y){return y.parentNode?(y.parentNode.removeChild(y),!0):!1},w})(),iu;(function(w){w[w.BEFORE=0]="BEFORE",w[w.AFTER=1]="AFTER"})(iu||(iu={}));var Mm=function(w,y){var C=w.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=y.width.toString(),C.height=y.height.toString(),C.scrolling="no",C.setAttribute(Om,"true"),w.body.appendChild(C),C},km=function(w){return new Promise(function(y){if(w.complete){y();return}if(!w.src){y();return}w.onload=y,w.onerror=y})},zg=function(w){return Promise.all([].slice.call(w.images,0).map(km))},Hm=function(w){return new Promise(function(y,C){var j=w.contentWindow;if(!j)return C("No window assigned for iframe");var K=j.document;j.onload=w.onload=function(){j.onload=w.onload=null;var J=setInterval(function(){K.body.childNodes.length>0&&K.readyState==="complete"&&(clearInterval(J),y(w))},50)}})},gf=["all","d","content"],mh=function(w,y){for(var C=w.length-1;C>=0;C--){var j=w.item(C);gf.indexOf(j)===-1&&y.style.setProperty(j,w.getPropertyValue(j))}return y},Gg=function(w){var y="";return w&&(y+="<!DOCTYPE ",w.name&&(y+=w.name),w.internalSubset&&(y+=w.internalSubset),w.publicId&&(y+='"'+w.publicId+'"'),w.systemId&&(y+='"'+w.systemId+'"'),y+=">"),y},Vm=function(w,y,C){w&&w.defaultView&&(y!==w.defaultView.pageXOffset||C!==w.defaultView.pageYOffset)&&w.defaultView.scrollTo(y,C)},$g=function(w){var y=w[0],C=w[1],j=w[2];y.scrollLeft=C,y.scrollTop=j},zA=":before",Km=":after",zm="___html2canvas___pseudoelement_before",vf="___html2canvas___pseudoelement_after",xA=`{
    content: "" !important;
    display: none !important;
}`,Gm=function(w){Wg(w,"."+zm+zA+xA+`
         .`+vf+Km+xA)},Wg=function(w,y){var C=w.ownerDocument;if(C){var j=C.createElement("style");j.textContent=y,w.appendChild(j)}},ph=(function(){function w(){}return w.getOrigin=function(y){var C=w._link;return C?(C.href=y,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},w.isSameOrigin=function(y){return w.getOrigin(y)===w._origin},w.setContext=function(y){w._link=y.document.createElement("a"),w._origin=w.getOrigin(y.location.href)},w._origin="about:blank",w})(),gh=(function(){function w(y,C){this.context=y,this._options=C,this._cache={}}return w.prototype.addImage=function(y){var C=Promise.resolve();return this.has(y)||(yf(y)||Yg(y))&&(this._cache[y]=this.loadImage(y)).catch(function(){}),C},w.prototype.match=function(y){return this._cache[y]},w.prototype.loadImage=function(y){return i(this,void 0,void 0,function(){var C,j,K,J,Ae=this;return c(this,function(we){switch(we.label){case 0:return C=ph.isSameOrigin(y),j=!ou(y)&&this._options.useCORS===!0&&Na.SUPPORT_CORS_IMAGES&&!C,K=!ou(y)&&!C&&!yf(y)&&typeof this._options.proxy=="string"&&Na.SUPPORT_CORS_XHR&&!j,!C&&this._options.allowTaint===!1&&!ou(y)&&!yf(y)&&!K&&!j?[2]:(J=y,K?[4,this.proxy(J)]:[3,2]);case 1:J=we.sent(),we.label=2;case 2:return this.context.logger.debug("Added image "+y.substring(0,256)),[4,new Promise(function(Be,Ue){var Pe=new Image;Pe.onload=function(){return Be(Pe)},Pe.onerror=Ue,(jc(J)||j)&&(Pe.crossOrigin="anonymous"),Pe.src=J,Pe.complete===!0&&setTimeout(function(){return Be(Pe)},500),Ae._options.imageTimeout>0&&setTimeout(function(){return Ue("Timed out ("+Ae._options.imageTimeout+"ms) loading image")},Ae._options.imageTimeout)})];case 3:return[2,we.sent()]}})})},w.prototype.has=function(y){return typeof this._cache[y]<"u"},w.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},w.prototype.proxy=function(y){var C=this,j=this._options.proxy;if(!j)throw new Error("No proxy defined");var K=y.substring(0,256);return new Promise(function(J,Ae){var we=Na.SUPPORT_RESPONSE_TYPE?"blob":"text",Be=new XMLHttpRequest;Be.onload=function(){if(Be.status===200)if(we==="text")J(Be.response);else{var We=new FileReader;We.addEventListener("load",function(){return J(We.result)},!1),We.addEventListener("error",function(At){return Ae(At)},!1),We.readAsDataURL(Be.response)}else Ae("Failed to proxy resource "+K+" with status code "+Be.status)},Be.onerror=Ae;var Ue=j.indexOf("?")>-1?"&":"?";if(Be.open("GET",""+j+Ue+"url="+encodeURIComponent(y)+"&responseType="+we),we!=="text"&&Be instanceof XMLHttpRequest&&(Be.responseType=we),C._options.imageTimeout){var Pe=C._options.imageTimeout;Be.timeout=Pe,Be.ontimeout=function(){return Ae("Timed out ("+Pe+"ms) proxying "+K)}}Be.send()})},w})(),Vr=/^data:image\/svg\+xml/i,ky=/^data:image\/.*;base64,/i,Hy=/^data:image\/.*/i,Yg=function(w){return Na.SUPPORT_SVG_DRAWING||!Xg(w)},ou=function(w){return Hy.test(w)},jc=function(w){return ky.test(w)},yf=function(w){return w.substr(0,4)==="blob"},Xg=function(w){return w.substr(-3).toLowerCase()==="svg"||Vr.test(w)},qt=(function(){function w(y,C){this.type=0,this.x=y,this.y=C}return w.prototype.add=function(y,C){return new w(this.x+y,this.y+C)},w})(),ro=function(w,y,C){return new qt(w.x+(y.x-w.x)*C,w.y+(y.y-w.y)*C)},vh=(function(){function w(y,C,j,K){this.type=1,this.start=y,this.startControl=C,this.endControl=j,this.end=K}return w.prototype.subdivide=function(y,C){var j=ro(this.start,this.startControl,y),K=ro(this.startControl,this.endControl,y),J=ro(this.endControl,this.end,y),Ae=ro(j,K,y),we=ro(K,J,y),Be=ro(Ae,we,y);return C?new w(this.start,j,Ae,Be):new w(Be,we,J,this.end)},w.prototype.add=function(y,C){return new w(this.start.add(y,C),this.startControl.add(y,C),this.endControl.add(y,C),this.end.add(y,C))},w.prototype.reverse=function(){return new w(this.end,this.endControl,this.startControl,this.start)},w})(),Fo=function(w){return w.type===1},Jg=(function(){function w(y){var C=y.styles,j=y.bounds,K=Bo(C.borderTopLeftRadius,j.width,j.height),J=K[0],Ae=K[1],we=Bo(C.borderTopRightRadius,j.width,j.height),Be=we[0],Ue=we[1],Pe=Bo(C.borderBottomRightRadius,j.width,j.height),We=Pe[0],At=Pe[1],nn=Bo(C.borderBottomLeftRadius,j.width,j.height),Mt=nn[0],Wt=nn[1],Sn=[];Sn.push((J+Be)/j.width),Sn.push((Mt+We)/j.width),Sn.push((Ae+Wt)/j.height),Sn.push((Ue+At)/j.height);var dn=Math.max.apply(Math,Sn);dn>1&&(J/=dn,Ae/=dn,Be/=dn,Ue/=dn,We/=dn,At/=dn,Mt/=dn,Wt/=dn);var cn=j.width-Be,gs=j.height-At,ds=j.width-We,Yn=j.height-Wt,on=C.borderTopWidth,ws=C.borderRightWidth,Fs=C.borderBottomWidth,_n=C.borderLeftWidth,Ta=ps(C.paddingTop,y.bounds.width),Tr=ps(C.paddingRight,y.bounds.width),Do=ps(C.paddingBottom,y.bounds.width),pr=ps(C.paddingLeft,y.bounds.width);this.topLeftBorderDoubleOuterBox=J>0||Ae>0?Dr(j.left+_n/3,j.top+on/3,J-_n/3,Ae-on/3,qs.TOP_LEFT):new qt(j.left+_n/3,j.top+on/3),this.topRightBorderDoubleOuterBox=J>0||Ae>0?Dr(j.left+cn,j.top+on/3,Be-ws/3,Ue-on/3,qs.TOP_RIGHT):new qt(j.left+j.width-ws/3,j.top+on/3),this.bottomRightBorderDoubleOuterBox=We>0||At>0?Dr(j.left+ds,j.top+gs,We-ws/3,At-Fs/3,qs.BOTTOM_RIGHT):new qt(j.left+j.width-ws/3,j.top+j.height-Fs/3),this.bottomLeftBorderDoubleOuterBox=Mt>0||Wt>0?Dr(j.left+_n/3,j.top+Yn,Mt-_n/3,Wt-Fs/3,qs.BOTTOM_LEFT):new qt(j.left+_n/3,j.top+j.height-Fs/3),this.topLeftBorderDoubleInnerBox=J>0||Ae>0?Dr(j.left+_n*2/3,j.top+on*2/3,J-_n*2/3,Ae-on*2/3,qs.TOP_LEFT):new qt(j.left+_n*2/3,j.top+on*2/3),this.topRightBorderDoubleInnerBox=J>0||Ae>0?Dr(j.left+cn,j.top+on*2/3,Be-ws*2/3,Ue-on*2/3,qs.TOP_RIGHT):new qt(j.left+j.width-ws*2/3,j.top+on*2/3),this.bottomRightBorderDoubleInnerBox=We>0||At>0?Dr(j.left+ds,j.top+gs,We-ws*2/3,At-Fs*2/3,qs.BOTTOM_RIGHT):new qt(j.left+j.width-ws*2/3,j.top+j.height-Fs*2/3),this.bottomLeftBorderDoubleInnerBox=Mt>0||Wt>0?Dr(j.left+_n*2/3,j.top+Yn,Mt-_n*2/3,Wt-Fs*2/3,qs.BOTTOM_LEFT):new qt(j.left+_n*2/3,j.top+j.height-Fs*2/3),this.topLeftBorderStroke=J>0||Ae>0?Dr(j.left+_n/2,j.top+on/2,J-_n/2,Ae-on/2,qs.TOP_LEFT):new qt(j.left+_n/2,j.top+on/2),this.topRightBorderStroke=J>0||Ae>0?Dr(j.left+cn,j.top+on/2,Be-ws/2,Ue-on/2,qs.TOP_RIGHT):new qt(j.left+j.width-ws/2,j.top+on/2),this.bottomRightBorderStroke=We>0||At>0?Dr(j.left+ds,j.top+gs,We-ws/2,At-Fs/2,qs.BOTTOM_RIGHT):new qt(j.left+j.width-ws/2,j.top+j.height-Fs/2),this.bottomLeftBorderStroke=Mt>0||Wt>0?Dr(j.left+_n/2,j.top+Yn,Mt-_n/2,Wt-Fs/2,qs.BOTTOM_LEFT):new qt(j.left+_n/2,j.top+j.height-Fs/2),this.topLeftBorderBox=J>0||Ae>0?Dr(j.left,j.top,J,Ae,qs.TOP_LEFT):new qt(j.left,j.top),this.topRightBorderBox=Be>0||Ue>0?Dr(j.left+cn,j.top,Be,Ue,qs.TOP_RIGHT):new qt(j.left+j.width,j.top),this.bottomRightBorderBox=We>0||At>0?Dr(j.left+ds,j.top+gs,We,At,qs.BOTTOM_RIGHT):new qt(j.left+j.width,j.top+j.height),this.bottomLeftBorderBox=Mt>0||Wt>0?Dr(j.left,j.top+Yn,Mt,Wt,qs.BOTTOM_LEFT):new qt(j.left,j.top+j.height),this.topLeftPaddingBox=J>0||Ae>0?Dr(j.left+_n,j.top+on,Math.max(0,J-_n),Math.max(0,Ae-on),qs.TOP_LEFT):new qt(j.left+_n,j.top+on),this.topRightPaddingBox=Be>0||Ue>0?Dr(j.left+Math.min(cn,j.width-ws),j.top+on,cn>j.width+ws?0:Math.max(0,Be-ws),Math.max(0,Ue-on),qs.TOP_RIGHT):new qt(j.left+j.width-ws,j.top+on),this.bottomRightPaddingBox=We>0||At>0?Dr(j.left+Math.min(ds,j.width-_n),j.top+Math.min(gs,j.height-Fs),Math.max(0,We-ws),Math.max(0,At-Fs),qs.BOTTOM_RIGHT):new qt(j.left+j.width-ws,j.top+j.height-Fs),this.bottomLeftPaddingBox=Mt>0||Wt>0?Dr(j.left+_n,j.top+Math.min(Yn,j.height-Fs),Math.max(0,Mt-_n),Math.max(0,Wt-Fs),qs.BOTTOM_LEFT):new qt(j.left+_n,j.top+j.height-Fs),this.topLeftContentBox=J>0||Ae>0?Dr(j.left+_n+pr,j.top+on+Ta,Math.max(0,J-(_n+pr)),Math.max(0,Ae-(on+Ta)),qs.TOP_LEFT):new qt(j.left+_n+pr,j.top+on+Ta),this.topRightContentBox=Be>0||Ue>0?Dr(j.left+Math.min(cn,j.width+_n+pr),j.top+on+Ta,cn>j.width+_n+pr?0:Be-_n+pr,Ue-(on+Ta),qs.TOP_RIGHT):new qt(j.left+j.width-(ws+Tr),j.top+on+Ta),this.bottomRightContentBox=We>0||At>0?Dr(j.left+Math.min(ds,j.width-(_n+pr)),j.top+Math.min(gs,j.height+on+Ta),Math.max(0,We-(ws+Tr)),At-(Fs+Do),qs.BOTTOM_RIGHT):new qt(j.left+j.width-(ws+Tr),j.top+j.height-(Fs+Do)),this.bottomLeftContentBox=Mt>0||Wt>0?Dr(j.left+_n+pr,j.top+Yn,Math.max(0,Mt-(_n+pr)),Wt-(Fs+Do),qs.BOTTOM_LEFT):new qt(j.left+_n+pr,j.top+j.height-(Fs+Do))}return w})(),qs;(function(w){w[w.TOP_LEFT=0]="TOP_LEFT",w[w.TOP_RIGHT=1]="TOP_RIGHT",w[w.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",w[w.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(qs||(qs={}));var Dr=function(w,y,C,j,K){var J=4*((Math.sqrt(2)-1)/3),Ae=C*J,we=j*J,Be=w+C,Ue=y+j;switch(K){case qs.TOP_LEFT:return new vh(new qt(w,Ue),new qt(w,Ue-we),new qt(Be-Ae,y),new qt(Be,y));case qs.TOP_RIGHT:return new vh(new qt(w,y),new qt(w+Ae,y),new qt(Be,Ue-we),new qt(Be,Ue));case qs.BOTTOM_RIGHT:return new vh(new qt(Be,y),new qt(Be,y+we),new qt(w+Ae,Ue),new qt(w,Ue));case qs.BOTTOM_LEFT:default:return new vh(new qt(Be,Ue),new qt(Be-Ae,Ue),new qt(w,y+we),new qt(w,y))}},lu=function(w){return[w.topLeftBorderBox,w.topRightBorderBox,w.bottomRightBorderBox,w.bottomLeftBorderBox]},qg=function(w){return[w.topLeftContentBox,w.topRightContentBox,w.bottomRightContentBox,w.bottomLeftContentBox]},Bl=function(w){return[w.topLeftPaddingBox,w.topRightPaddingBox,w.bottomRightPaddingBox,w.bottomLeftPaddingBox]},Ma=(function(){function w(y,C,j){this.offsetX=y,this.offsetY=C,this.matrix=j,this.type=0,this.target=6}return w})(),sd=(function(){function w(y,C){this.path=y,this.target=C,this.type=1}return w})(),Zg=(function(){function w(y){this.opacity=y,this.type=2,this.target=6}return w})(),pi=function(w){return w.type===0},e0=function(w){return w.type===1},t0=function(w){return w.type===2},$m=function(w,y){return w.length===y.length?w.some(function(C,j){return C===y[j]}):!1},ea=function(w,y,C,j,K){return w.map(function(J,Ae){switch(Ae){case 0:return J.add(y,C);case 1:return J.add(y+j,C);case 2:return J.add(y+j,C+K);case 3:return J.add(y,C+K)}return J})},ao=(function(){function w(y){this.element=y,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return w})(),bA=(function(){function w(y,C){if(this.container=y,this.parent=C,this.effects=[],this.curves=new Jg(this.container),this.container.styles.opacity<1&&this.effects.push(new Zg(this.container.styles.opacity)),this.container.styles.transform!==null){var j=this.container.bounds.left+this.container.styles.transformOrigin[0].number,K=this.container.bounds.top+this.container.styles.transformOrigin[1].number,J=this.container.styles.transform;this.effects.push(new Ma(j,K,J))}if(this.container.styles.overflowX!==0){var Ae=lu(this.curves),we=Bl(this.curves);$m(Ae,we)?this.effects.push(new sd(Ae,6)):(this.effects.push(new sd(Ae,2)),this.effects.push(new sd(we,4)))}}return w.prototype.getEffects=function(y){for(var C=[2,3].indexOf(this.container.styles.position)===-1,j=this.parent,K=this.effects.slice(0);j;){var J=j.effects.filter(function(Be){return!e0(Be)});if(C||j.container.styles.position!==0||!j.parent){if(K.unshift.apply(K,J),C=[2,3].indexOf(j.container.styles.position)===-1,j.container.styles.overflowX!==0){var Ae=lu(j.curves),we=Bl(j.curves);$m(Ae,we)||K.unshift(new sd(we,6))}}else K.unshift.apply(K,J);j=j.parent}return K.filter(function(Be){return Oe(Be.target,y)})},w})(),xf=function(w,y,C,j){w.container.elements.forEach(function(K){var J=Oe(K.flags,4),Ae=Oe(K.flags,2),we=new bA(K,w);Oe(K.styles.display,2048)&&j.push(we);var Be=Oe(K.flags,8)?[]:j;if(J||Ae){var Ue=J||K.styles.isPositioned()?C:y,Pe=new ao(we);if(K.styles.isPositioned()||K.styles.opacity<1||K.styles.isTransformed()){var We=K.styles.zIndex.order;if(We<0){var At=0;Ue.negativeZIndex.some(function(Mt,Wt){return We>Mt.element.container.styles.zIndex.order?(At=Wt,!1):At>0}),Ue.negativeZIndex.splice(At,0,Pe)}else if(We>0){var nn=0;Ue.positiveZIndex.some(function(Mt,Wt){return We>=Mt.element.container.styles.zIndex.order?(nn=Wt+1,!1):nn>0}),Ue.positiveZIndex.splice(nn,0,Pe)}else Ue.zeroOrAutoZIndexOrTransformedOrOpacity.push(Pe)}else K.styles.isFloating()?Ue.nonPositionedFloats.push(Pe):Ue.nonPositionedInlineLevel.push(Pe);xf(we,Pe,J?Pe:C,Be)}else K.styles.isInlineLevel()?y.inlineLevel.push(we):y.nonInlineLevel.push(we),xf(we,y,C,Be);Oe(K.flags,8)&&Wm(K,Be)})},Wm=function(w,y){for(var C=w instanceof Af?w.start:1,j=w instanceof Af?w.reversed:!1,K=0;K<y.length;K++){var J=y[K];J.container instanceof Bm&&typeof J.container.value=="number"&&J.container.value!==0&&(C=J.container.value),J.listValue=nd(C,J.container.styles.listStyleType,!0),C+=j?-1:1}},n0=function(w){var y=new bA(w,null),C=new ao(y),j=[];return xf(y,C,C,j),Wm(y.container,j),C},s0=function(w,y){switch(y){case 0:return Kr(w.topLeftBorderBox,w.topLeftPaddingBox,w.topRightBorderBox,w.topRightPaddingBox);case 1:return Kr(w.topRightBorderBox,w.topRightPaddingBox,w.bottomRightBorderBox,w.bottomRightPaddingBox);case 2:return Kr(w.bottomRightBorderBox,w.bottomRightPaddingBox,w.bottomLeftBorderBox,w.bottomLeftPaddingBox);case 3:default:return Kr(w.bottomLeftBorderBox,w.bottomLeftPaddingBox,w.topLeftBorderBox,w.topLeftPaddingBox)}},bf=function(w,y){switch(y){case 0:return Kr(w.topLeftBorderBox,w.topLeftBorderDoubleOuterBox,w.topRightBorderBox,w.topRightBorderDoubleOuterBox);case 1:return Kr(w.topRightBorderBox,w.topRightBorderDoubleOuterBox,w.bottomRightBorderBox,w.bottomRightBorderDoubleOuterBox);case 2:return Kr(w.bottomRightBorderBox,w.bottomRightBorderDoubleOuterBox,w.bottomLeftBorderBox,w.bottomLeftBorderDoubleOuterBox);case 3:default:return Kr(w.bottomLeftBorderBox,w.bottomLeftBorderDoubleOuterBox,w.topLeftBorderBox,w.topLeftBorderDoubleOuterBox)}},Uo=function(w,y){switch(y){case 0:return Kr(w.topLeftBorderDoubleInnerBox,w.topLeftPaddingBox,w.topRightBorderDoubleInnerBox,w.topRightPaddingBox);case 1:return Kr(w.topRightBorderDoubleInnerBox,w.topRightPaddingBox,w.bottomRightBorderDoubleInnerBox,w.bottomRightPaddingBox);case 2:return Kr(w.bottomRightBorderDoubleInnerBox,w.bottomRightPaddingBox,w.bottomLeftBorderDoubleInnerBox,w.bottomLeftPaddingBox);case 3:default:return Kr(w.bottomLeftBorderDoubleInnerBox,w.bottomLeftPaddingBox,w.topLeftBorderDoubleInnerBox,w.topLeftPaddingBox)}},zl=function(w,y){switch(y){case 0:return yh(w.topLeftBorderStroke,w.topRightBorderStroke);case 1:return yh(w.topRightBorderStroke,w.bottomRightBorderStroke);case 2:return yh(w.bottomRightBorderStroke,w.bottomLeftBorderStroke);case 3:default:return yh(w.bottomLeftBorderStroke,w.topLeftBorderStroke)}},yh=function(w,y){var C=[];return Fo(w)?C.push(w.subdivide(.5,!1)):C.push(w),Fo(y)?C.push(y.subdivide(.5,!0)):C.push(y),C},Kr=function(w,y,C,j){var K=[];return Fo(w)?K.push(w.subdivide(.5,!1)):K.push(w),Fo(C)?K.push(C.subdivide(.5,!0)):K.push(C),Fo(j)?K.push(j.subdivide(.5,!0).reverse()):K.push(j),Fo(y)?K.push(y.subdivide(.5,!1).reverse()):K.push(y),K},Ym=function(w){var y=w.bounds,C=w.styles;return y.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},jl=function(w){var y=w.styles,C=w.bounds,j=ps(y.paddingLeft,C.width),K=ps(y.paddingRight,C.width),J=ps(y.paddingTop,C.width),Ae=ps(y.paddingBottom,C.width);return C.add(j+y.borderLeftWidth,J+y.borderTopWidth,-(y.borderRightWidth+y.borderLeftWidth+j+K),-(y.borderTopWidth+y.borderBottomWidth+J+Ae))},Au=function(w,y){return w===0?y.bounds:w===2?jl(y):Ym(y)},GA=function(w,y){return w===0?y.bounds:w===2?jl(y):Ym(y)},xh=function(w,y,C){var j=Au(Gl(w.styles.backgroundOrigin,y),w),K=GA(Gl(w.styles.backgroundClip,y),w),J=r0(Gl(w.styles.backgroundSize,y),C,j),Ae=J[0],we=J[1],Be=Bo(Gl(w.styles.backgroundPosition,y),j.width-Ae,j.height-we),Ue=bh(Gl(w.styles.backgroundRepeat,y),Be,J,j,K),Pe=Math.round(j.left+Be[0]),We=Math.round(j.top+Be[1]);return[Ue,Pe,We,Ae,we]},Cc=function(w){return ns(w)&&w.value===Ol.AUTO},Ro=function(w){return typeof w=="number"},r0=function(w,y,C){var j=y[0],K=y[1],J=y[2],Ae=w[0],we=w[1];if(!Ae)return[0,0];if(Ps(Ae)&&we&&Ps(we))return[ps(Ae,C.width),ps(we,C.height)];var Be=Ro(J);if(ns(Ae)&&(Ae.value===Ol.CONTAIN||Ae.value===Ol.COVER)){if(Ro(J)){var Ue=C.width/C.height;return Ue<J!=(Ae.value===Ol.COVER)?[C.width,C.width/J]:[C.height*J,C.height]}return[C.width,C.height]}var Pe=Ro(j),We=Ro(K),At=Pe||We;if(Cc(Ae)&&(!we||Cc(we))){if(Pe&&We)return[j,K];if(!Be&&!At)return[C.width,C.height];if(At&&Be){var nn=Pe?j:K*J,Mt=We?K:j/J;return[nn,Mt]}var Wt=Pe?j:C.width,Sn=We?K:C.height;return[Wt,Sn]}if(Be){var dn=0,cn=0;return Ps(Ae)?dn=ps(Ae,C.width):Ps(we)&&(cn=ps(we,C.height)),Cc(Ae)?dn=cn*J:(!we||Cc(we))&&(cn=dn/J),[dn,cn]}var gs=null,ds=null;if(Ps(Ae)?gs=ps(Ae,C.width):we&&Ps(we)&&(ds=ps(we,C.height)),gs!==null&&(!we||Cc(we))&&(ds=Pe&&We?gs/j*K:C.height),ds!==null&&Cc(Ae)&&(gs=Pe&&We?ds/K*j:C.width),gs!==null&&ds!==null)return[gs,ds];throw new Error("Unable to calculate background-size for element")},Gl=function(w,y){var C=w[y];return typeof C>"u"?w[0]:C},bh=function(w,y,C,j,K){var J=y[0],Ae=y[1],we=C[0],Be=C[1];switch(w){case 2:return[new qt(Math.round(j.left),Math.round(j.top+Ae)),new qt(Math.round(j.left+j.width),Math.round(j.top+Ae)),new qt(Math.round(j.left+j.width),Math.round(Be+j.top+Ae)),new qt(Math.round(j.left),Math.round(Be+j.top+Ae))];case 3:return[new qt(Math.round(j.left+J),Math.round(j.top)),new qt(Math.round(j.left+J+we),Math.round(j.top)),new qt(Math.round(j.left+J+we),Math.round(j.height+j.top)),new qt(Math.round(j.left+J),Math.round(j.height+j.top))];case 1:return[new qt(Math.round(j.left+J),Math.round(j.top+Ae)),new qt(Math.round(j.left+J+we),Math.round(j.top+Ae)),new qt(Math.round(j.left+J+we),Math.round(j.top+Ae+Be)),new qt(Math.round(j.left+J),Math.round(j.top+Ae+Be))];default:return[new qt(Math.round(K.left),Math.round(K.top)),new qt(Math.round(K.left+K.width),Math.round(K.top)),new qt(Math.round(K.left+K.width),Math.round(K.height+K.top)),new qt(Math.round(K.left),Math.round(K.height+K.top))]}},wh="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",cu="Hidden Text",a0=(function(){function w(y){this._data={},this._document=y}return w.prototype.parseMetrics=function(y,C){var j=this._document.createElement("div"),K=this._document.createElement("img"),J=this._document.createElement("span"),Ae=this._document.body;j.style.visibility="hidden",j.style.fontFamily=y,j.style.fontSize=C,j.style.margin="0",j.style.padding="0",j.style.whiteSpace="nowrap",Ae.appendChild(j),K.src=wh,K.width=1,K.height=1,K.style.margin="0",K.style.padding="0",K.style.verticalAlign="baseline",J.style.fontFamily=y,J.style.fontSize=C,J.style.margin="0",J.style.padding="0",J.appendChild(this._document.createTextNode(cu)),j.appendChild(J),j.appendChild(K);var we=K.offsetTop-J.offsetTop+2;j.removeChild(J),j.appendChild(this._document.createTextNode(cu)),j.style.lineHeight="normal",K.style.verticalAlign="super";var Be=K.offsetTop-j.offsetTop+2;return Ae.removeChild(j),{baseline:we,middle:Be}},w.prototype.getMetrics=function(y,C){var j=y+" "+C;return typeof this._data[j]>"u"&&(this._data[j]=this.parseMetrics(y,C)),this._data[j]},w})(),Xm=(function(){function w(y,C){this.context=y,this.options=C}return w})(),Bh=1e4,i0=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;return K._activeEffects=[],K.canvas=j.canvas?j.canvas:document.createElement("canvas"),K.ctx=K.canvas.getContext("2d"),j.canvas||(K.canvas.width=Math.floor(j.width*j.scale),K.canvas.height=Math.floor(j.height*j.scale),K.canvas.style.width=j.width+"px",K.canvas.style.height=j.height+"px"),K.fontMetrics=new a0(document),K.ctx.scale(K.options.scale,K.options.scale),K.ctx.translate(-j.x,-j.y),K.ctx.textBaseline="bottom",K._activeEffects=[],K.context.logger.debug("Canvas renderer initialized ("+j.width+"x"+j.height+") with scale "+j.scale),K}return y.prototype.applyEffects=function(C){for(var j=this;this._activeEffects.length;)this.popEffect();C.forEach(function(K){return j.applyEffect(K)})},y.prototype.applyEffect=function(C){this.ctx.save(),t0(C)&&(this.ctx.globalAlpha=C.opacity),pi(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),e0(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},y.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},y.prototype.renderStack=function(C){return i(this,void 0,void 0,function(){var j;return c(this,function(K){switch(K.label){case 0:return j=C.element.container.styles,j.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:K.sent(),K.label=2;case 2:return[2]}})})},y.prototype.renderNode=function(C){return i(this,void 0,void 0,function(){return c(this,function(j){switch(j.label){case 0:if(Oe(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return j.sent(),[4,this.renderNodeContent(C)];case 2:j.sent(),j.label=3;case 3:return[2]}})})},y.prototype.renderTextWithLetterSpacing=function(C,j,K){var J=this;if(j===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+K);else{var Ae=_o(C.text);Ae.reduce(function(we,Be){return J.ctx.fillText(Be,we,C.bounds.top+K),we+J.ctx.measureText(Be).width},C.bounds.left)}},y.prototype.createFontStyle=function(C){var j=C.fontVariant.filter(function(Ae){return Ae==="normal"||Ae==="small-caps"}).join(""),K=ar(C.fontFamily).join(", "),J=sa(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,j,C.fontWeight,J,K].join(" "),K,J]},y.prototype.renderTextNode=function(C,j){return i(this,void 0,void 0,function(){var K,J,Ae,we,Be,Ue,Pe,We,At=this;return c(this,function(nn){return K=this.createFontStyle(j),J=K[0],Ae=K[1],we=K[2],this.ctx.font=J,this.ctx.direction=j.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Be=this.fontMetrics.getMetrics(Ae,we),Ue=Be.baseline,Pe=Be.middle,We=j.paintOrder,C.textBounds.forEach(function(Mt){We.forEach(function(Wt){switch(Wt){case 0:At.ctx.fillStyle=Ns(j.color),At.renderTextWithLetterSpacing(Mt,j.letterSpacing,Ue);var Sn=j.textShadow;Sn.length&&Mt.text.trim().length&&(Sn.slice(0).reverse().forEach(function(dn){At.ctx.shadowColor=Ns(dn.color),At.ctx.shadowOffsetX=dn.offsetX.number*At.options.scale,At.ctx.shadowOffsetY=dn.offsetY.number*At.options.scale,At.ctx.shadowBlur=dn.blur.number,At.renderTextWithLetterSpacing(Mt,j.letterSpacing,Ue)}),At.ctx.shadowColor="",At.ctx.shadowOffsetX=0,At.ctx.shadowOffsetY=0,At.ctx.shadowBlur=0),j.textDecorationLine.length&&(At.ctx.fillStyle=Ns(j.textDecorationColor||j.color),j.textDecorationLine.forEach(function(dn){switch(dn){case 1:At.ctx.fillRect(Mt.bounds.left,Math.round(Mt.bounds.top+Ue),Mt.bounds.width,1);break;case 2:At.ctx.fillRect(Mt.bounds.left,Math.round(Mt.bounds.top),Mt.bounds.width,1);break;case 3:At.ctx.fillRect(Mt.bounds.left,Math.ceil(Mt.bounds.top+Pe),Mt.bounds.width,1);break}}));break;case 1:j.webkitTextStrokeWidth&&Mt.text.trim().length&&(At.ctx.strokeStyle=Ns(j.webkitTextStrokeColor),At.ctx.lineWidth=j.webkitTextStrokeWidth,At.ctx.lineJoin=window.chrome?"miter":"round",At.ctx.strokeText(Mt.text,Mt.bounds.left,Mt.bounds.top+Ue)),At.ctx.strokeStyle="",At.ctx.lineWidth=0,At.ctx.lineJoin="miter";break}})}),[2]})})},y.prototype.renderReplacedElement=function(C,j,K){if(K&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var J=jl(C),Ae=Bl(j);this.path(Ae),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(K,0,0,C.intrinsicWidth,C.intrinsicHeight,J.left,J.top,J.width,J.height),this.ctx.restore()}},y.prototype.renderNodeContent=function(C){return i(this,void 0,void 0,function(){var j,K,J,Ae,we,Be,cn,cn,Ue,Pe,We,At,ds,nn,Mt,Yn,Wt,Sn,dn,cn,gs,ds,Yn;return c(this,function(on){switch(on.label){case 0:this.applyEffects(C.getEffects(4)),j=C.container,K=C.curves,J=j.styles,Ae=0,we=j.textNodes,on.label=1;case 1:return Ae<we.length?(Be=we[Ae],[4,this.renderTextNode(Be,J)]):[3,4];case 2:on.sent(),on.label=3;case 3:return Ae++,[3,1];case 4:if(!(j instanceof wm))return[3,8];on.label=5;case 5:return on.trys.push([5,7,,8]),[4,this.context.cache.match(j.src)];case 6:return cn=on.sent(),this.renderReplacedElement(j,K,cn),[3,8];case 7:return on.sent(),this.context.logger.error("Error loading image "+j.src),[3,8];case 8:if(j instanceof lf&&this.renderReplacedElement(j,K,j.canvas),!(j instanceof Rg))return[3,12];on.label=9;case 9:return on.trys.push([9,11,,12]),[4,this.context.cache.match(j.svg)];case 10:return cn=on.sent(),this.renderReplacedElement(j,K,cn),[3,12];case 11:return on.sent(),this.context.logger.error("Error loading svg "+j.svg.substring(0,255)),[3,12];case 12:return j instanceof Sm&&j.tree?(Ue=new y(this.context,{scale:this.options.scale,backgroundColor:j.backgroundColor,x:0,y:0,width:j.width,height:j.height}),[4,Ue.render(j.tree)]):[3,14];case 13:Pe=on.sent(),j.width&&j.height&&this.ctx.drawImage(Pe,0,0,j.width,j.height,j.bounds.left,j.bounds.top,j.bounds.width,j.bounds.height),on.label=14;case 14:if(j instanceof cf&&(We=Math.min(j.bounds.width,j.bounds.height),j.type===ih?j.checked&&(this.ctx.save(),this.path([new qt(j.bounds.left+We*.39363,j.bounds.top+We*.79),new qt(j.bounds.left+We*.16,j.bounds.top+We*.5549),new qt(j.bounds.left+We*.27347,j.bounds.top+We*.44071),new qt(j.bounds.left+We*.39694,j.bounds.top+We*.5649),new qt(j.bounds.left+We*.72983,j.bounds.top+We*.23),new qt(j.bounds.left+We*.84,j.bounds.top+We*.34085),new qt(j.bounds.left+We*.39363,j.bounds.top+We*.79)]),this.ctx.fillStyle=Ns(Em),this.ctx.fill(),this.ctx.restore()):j.type===oh&&j.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(j.bounds.left+We/2,j.bounds.top+We/2,We/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ns(Em),this.ctx.fill(),this.ctx.restore())),wf(j)&&j.value.length){switch(At=this.createFontStyle(J),ds=At[0],nn=At[1],Mt=this.fontMetrics.getMetrics(ds,nn).baseline,this.ctx.font=ds,this.ctx.fillStyle=Ns(J.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Vy(j.styles.textAlign),Yn=jl(j),Wt=0,j.styles.textAlign){case 1:Wt+=Yn.width/2;break;case 2:Wt+=Yn.width;break}Sn=Yn.add(Wt,0,0,-Yn.height/2+1),this.ctx.save(),this.path([new qt(Yn.left,Yn.top),new qt(Yn.left+Yn.width,Yn.top),new qt(Yn.left+Yn.width,Yn.top+Yn.height),new qt(Yn.left,Yn.top+Yn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new vc(j.value,Sn),J.letterSpacing,Mt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Oe(j.styles.display,2048))return[3,20];if(j.styles.listStyleImage===null)return[3,19];if(dn=j.styles.listStyleImage,dn.type!==0)return[3,18];cn=void 0,gs=dn.url,on.label=15;case 15:return on.trys.push([15,17,,18]),[4,this.context.cache.match(gs)];case 16:return cn=on.sent(),this.ctx.drawImage(cn,j.bounds.left-(cn.width+10),j.bounds.top),[3,18];case 17:return on.sent(),this.context.logger.error("Error loading list-style-image "+gs),[3,18];case 18:return[3,20];case 19:C.listValue&&j.styles.listStyleType!==-1&&(ds=this.createFontStyle(J)[0],this.ctx.font=ds,this.ctx.fillStyle=Ns(J.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Yn=new u(j.bounds.left,j.bounds.top+ps(j.styles.paddingTop,j.bounds.width),j.bounds.width,gl(J.lineHeight,J.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new vc(C.listValue,Yn),J.letterSpacing,gl(J.lineHeight,J.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),on.label=20;case 20:return[2]}})})},y.prototype.renderStackContent=function(C){return i(this,void 0,void 0,function(){var j,K,dn,J,Ae,dn,we,Be,dn,Ue,Pe,dn,We,At,dn,nn,Mt,dn,Wt,Sn,dn;return c(this,function(cn){switch(cn.label){case 0:if(Oe(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:cn.sent(),j=0,K=C.negativeZIndex,cn.label=2;case 2:return j<K.length?(dn=K[j],[4,this.renderStack(dn)]):[3,5];case 3:cn.sent(),cn.label=4;case 4:return j++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:cn.sent(),J=0,Ae=C.nonInlineLevel,cn.label=7;case 7:return J<Ae.length?(dn=Ae[J],[4,this.renderNode(dn)]):[3,10];case 8:cn.sent(),cn.label=9;case 9:return J++,[3,7];case 10:we=0,Be=C.nonPositionedFloats,cn.label=11;case 11:return we<Be.length?(dn=Be[we],[4,this.renderStack(dn)]):[3,14];case 12:cn.sent(),cn.label=13;case 13:return we++,[3,11];case 14:Ue=0,Pe=C.nonPositionedInlineLevel,cn.label=15;case 15:return Ue<Pe.length?(dn=Pe[Ue],[4,this.renderStack(dn)]):[3,18];case 16:cn.sent(),cn.label=17;case 17:return Ue++,[3,15];case 18:We=0,At=C.inlineLevel,cn.label=19;case 19:return We<At.length?(dn=At[We],[4,this.renderNode(dn)]):[3,22];case 20:cn.sent(),cn.label=21;case 21:return We++,[3,19];case 22:nn=0,Mt=C.zeroOrAutoZIndexOrTransformedOrOpacity,cn.label=23;case 23:return nn<Mt.length?(dn=Mt[nn],[4,this.renderStack(dn)]):[3,26];case 24:cn.sent(),cn.label=25;case 25:return nn++,[3,23];case 26:Wt=0,Sn=C.positiveZIndex,cn.label=27;case 27:return Wt<Sn.length?(dn=Sn[Wt],[4,this.renderStack(dn)]):[3,30];case 28:cn.sent(),cn.label=29;case 29:return Wt++,[3,27];case 30:return[2]}})})},y.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},y.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},y.prototype.formatPath=function(C){var j=this;C.forEach(function(K,J){var Ae=Fo(K)?K.start:K;J===0?j.ctx.moveTo(Ae.x,Ae.y):j.ctx.lineTo(Ae.x,Ae.y),Fo(K)&&j.ctx.bezierCurveTo(K.startControl.x,K.startControl.y,K.endControl.x,K.endControl.y,K.end.x,K.end.y)})},y.prototype.renderRepeat=function(C,j,K,J){this.path(C),this.ctx.fillStyle=j,this.ctx.translate(K,J),this.ctx.fill(),this.ctx.translate(-K,-J)},y.prototype.resizeImage=function(C,j,K){var J;if(C.width===j&&C.height===K)return C;var Ae=(J=this.canvas.ownerDocument)!==null&&J!==void 0?J:document,we=Ae.createElement("canvas");we.width=Math.max(1,j),we.height=Math.max(1,K);var Be=we.getContext("2d");return Be.drawImage(C,0,0,C.width,C.height,0,0,j,K),we},y.prototype.renderBackgroundImage=function(C){return i(this,void 0,void 0,function(){var j,K,J,Ae,we,Be;return c(this,function(Ue){switch(Ue.label){case 0:j=C.styles.backgroundImage.length-1,K=function(Pe){var We,At,nn,Ta,Ui,zi,pr,Fi,Fs,Mt,Ta,Ui,zi,pr,Fi,Wt,Sn,dn,cn,gs,ds,Yn,on,ws,Fs,_n,Ta,Tr,Do,pr,Fi,io,Ui,zi,Cl,$l,$A,Sc,Nc,El,WA,YA;return c(this,function(ad){switch(ad.label){case 0:if(Pe.type!==0)return[3,5];We=void 0,At=Pe.url,ad.label=1;case 1:return ad.trys.push([1,3,,4]),[4,J.context.cache.match(At)];case 2:return We=ad.sent(),[3,4];case 3:return ad.sent(),J.context.logger.error("Error loading background-image "+At),[3,4];case 4:return We&&(nn=xh(C,j,[We.width,We.height,We.width/We.height]),Ta=nn[0],Ui=nn[1],zi=nn[2],pr=nn[3],Fi=nn[4],Fs=J.ctx.createPattern(J.resizeImage(We,pr,Fi),"repeat"),J.renderRepeat(Ta,Fs,Ui,zi)),[3,6];case 5:Ru(Pe)?(Mt=xh(C,j,[null,null,null]),Ta=Mt[0],Ui=Mt[1],zi=Mt[2],pr=Mt[3],Fi=Mt[4],Wt=br(Pe.angle,pr,Fi),Sn=Wt[0],dn=Wt[1],cn=Wt[2],gs=Wt[3],ds=Wt[4],Yn=document.createElement("canvas"),Yn.width=pr,Yn.height=Fi,on=Yn.getContext("2d"),ws=on.createLinearGradient(dn,gs,cn,ds),Ms(Pe.stops,Sn).forEach(function(jh){return ws.addColorStop(jh.stop,Ns(jh.color))}),on.fillStyle=ws,on.fillRect(0,0,pr,Fi),pr>0&&Fi>0&&(Fs=J.ctx.createPattern(Yn,"repeat"),J.renderRepeat(Ta,Fs,Ui,zi))):Yc(Pe)&&(_n=xh(C,j,[null,null,null]),Ta=_n[0],Tr=_n[1],Do=_n[2],pr=_n[3],Fi=_n[4],io=Pe.position.length===0?[UA]:Pe.position,Ui=ps(io[0],pr),zi=ps(io[io.length-1],Fi),Cl=sl(Pe,Ui,zi,pr,Fi),$l=Cl[0],$A=Cl[1],$l>0&&$A>0&&(Sc=J.ctx.createRadialGradient(Tr+Ui,Do+zi,0,Tr+Ui,Do+zi,$l),Ms(Pe.stops,$l*2).forEach(function(jh){return Sc.addColorStop(jh.stop,Ns(jh.color))}),J.path(Ta),J.ctx.fillStyle=Sc,$l!==$A?(Nc=C.bounds.left+.5*C.bounds.width,El=C.bounds.top+.5*C.bounds.height,WA=$A/$l,YA=1/WA,J.ctx.save(),J.ctx.translate(Nc,El),J.ctx.transform(1,0,0,WA,0,0),J.ctx.translate(-Nc,-El),J.ctx.fillRect(Tr,YA*(Do-El)+El,pr,Fi*YA),J.ctx.restore()):J.ctx.fill())),ad.label=6;case 6:return j--,[2]}})},J=this,Ae=0,we=C.styles.backgroundImage.slice(0).reverse(),Ue.label=1;case 1:return Ae<we.length?(Be=we[Ae],[5,K(Be)]):[3,4];case 2:Ue.sent(),Ue.label=3;case 3:return Ae++,[3,1];case 4:return[2]}})})},y.prototype.renderSolidBorder=function(C,j,K){return i(this,void 0,void 0,function(){return c(this,function(J){return this.path(s0(K,j)),this.ctx.fillStyle=Ns(C),this.ctx.fill(),[2]})})},y.prototype.renderDoubleBorder=function(C,j,K,J){return i(this,void 0,void 0,function(){var Ae,we;return c(this,function(Be){switch(Be.label){case 0:return j<3?[4,this.renderSolidBorder(C,K,J)]:[3,2];case 1:return Be.sent(),[2];case 2:return Ae=bf(J,K),this.path(Ae),this.ctx.fillStyle=Ns(C),this.ctx.fill(),we=Uo(J,K),this.path(we),this.ctx.fill(),[2]}})})},y.prototype.renderNodeBackgroundAndBorders=function(C){return i(this,void 0,void 0,function(){var j,K,J,Ae,we,Be,Ue,Pe,We=this;return c(this,function(At){switch(At.label){case 0:return this.applyEffects(C.getEffects(2)),j=C.container.styles,K=!$a(j.backgroundColor)||j.backgroundImage.length,J=[{style:j.borderTopStyle,color:j.borderTopColor,width:j.borderTopWidth},{style:j.borderRightStyle,color:j.borderRightColor,width:j.borderRightWidth},{style:j.borderBottomStyle,color:j.borderBottomColor,width:j.borderBottomWidth},{style:j.borderLeftStyle,color:j.borderLeftColor,width:j.borderLeftWidth}],Ae=o0(Gl(j.backgroundClip,0),C.curves),K||j.boxShadow.length?(this.ctx.save(),this.path(Ae),this.ctx.clip(),$a(j.backgroundColor)||(this.ctx.fillStyle=Ns(j.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:At.sent(),this.ctx.restore(),j.boxShadow.slice(0).reverse().forEach(function(nn){We.ctx.save();var Mt=lu(C.curves),Wt=nn.inset?0:Bh,Sn=ea(Mt,-Wt+(nn.inset?1:-1)*nn.spread.number,(nn.inset?1:-1)*nn.spread.number,nn.spread.number*(nn.inset?-2:2),nn.spread.number*(nn.inset?-2:2));nn.inset?(We.path(Mt),We.ctx.clip(),We.mask(Sn)):(We.mask(Mt),We.ctx.clip(),We.path(Sn)),We.ctx.shadowOffsetX=nn.offsetX.number+Wt,We.ctx.shadowOffsetY=nn.offsetY.number,We.ctx.shadowColor=Ns(nn.color),We.ctx.shadowBlur=nn.blur.number,We.ctx.fillStyle=nn.inset?Ns(nn.color):"rgba(0,0,0,1)",We.ctx.fill(),We.ctx.restore()}),At.label=2;case 2:we=0,Be=0,Ue=J,At.label=3;case 3:return Be<Ue.length?(Pe=Ue[Be],Pe.style!==0&&!$a(Pe.color)&&Pe.width>0?Pe.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Pe.color,Pe.width,we,C.curves,2)]:[3,11]):[3,13];case 4:return At.sent(),[3,11];case 5:return Pe.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Pe.color,Pe.width,we,C.curves,3)];case 6:return At.sent(),[3,11];case 7:return Pe.style!==4?[3,9]:[4,this.renderDoubleBorder(Pe.color,Pe.width,we,C.curves)];case 8:return At.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Pe.color,we,C.curves)];case 10:At.sent(),At.label=11;case 11:we++,At.label=12;case 12:return Be++,[3,3];case 13:return[2]}})})},y.prototype.renderDashedDottedBorder=function(C,j,K,J,Ae){return i(this,void 0,void 0,function(){var we,Be,Ue,Pe,We,At,nn,Mt,Wt,Sn,dn,cn,gs,ds,Yn,on,Yn,on;return c(this,function(ws){return this.ctx.save(),we=zl(J,K),Be=s0(J,K),Ae===2&&(this.path(Be),this.ctx.clip()),Fo(Be[0])?(Ue=Be[0].start.x,Pe=Be[0].start.y):(Ue=Be[0].x,Pe=Be[0].y),Fo(Be[1])?(We=Be[1].end.x,At=Be[1].end.y):(We=Be[1].x,At=Be[1].y),K===0||K===2?nn=Math.abs(Ue-We):nn=Math.abs(Pe-At),this.ctx.beginPath(),Ae===3?this.formatPath(we):this.formatPath(Be.slice(0,2)),Mt=j<3?j*3:j*2,Wt=j<3?j*2:j,Ae===3&&(Mt=j,Wt=j),Sn=!0,nn<=Mt*2?Sn=!1:nn<=Mt*2+Wt?(dn=nn/(2*Mt+Wt),Mt*=dn,Wt*=dn):(cn=Math.floor((nn+Wt)/(Mt+Wt)),gs=(nn-cn*Mt)/(cn-1),ds=(nn-(cn+1)*Mt)/cn,Wt=ds<=0||Math.abs(Wt-gs)<Math.abs(Wt-ds)?gs:ds),Sn&&(Ae===3?this.ctx.setLineDash([0,Mt+Wt]):this.ctx.setLineDash([Mt,Wt])),Ae===3?(this.ctx.lineCap="round",this.ctx.lineWidth=j):this.ctx.lineWidth=j*2+1.1,this.ctx.strokeStyle=Ns(C),this.ctx.stroke(),this.ctx.setLineDash([]),Ae===2&&(Fo(Be[0])&&(Yn=Be[3],on=Be[0],this.ctx.beginPath(),this.formatPath([new qt(Yn.end.x,Yn.end.y),new qt(on.start.x,on.start.y)]),this.ctx.stroke()),Fo(Be[1])&&(Yn=Be[1],on=Be[2],this.ctx.beginPath(),this.formatPath([new qt(Yn.end.x,Yn.end.y),new qt(on.start.x,on.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},y.prototype.render=function(C){return i(this,void 0,void 0,function(){var j;return c(this,function(K){switch(K.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ns(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),j=n0(C),[4,this.renderStack(j)];case 1:return K.sent(),this.applyEffects([]),[2,this.canvas]}})})},y})(Xm),wf=function(w){return w instanceof uf||w instanceof Og?!0:w instanceof cf&&w.type!==oh&&w.type!==ih},o0=function(w,y){switch(w){case 0:return lu(y);case 2:return qg(y);case 1:default:return Bl(y)}},Vy=function(w){switch(w){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Ky=["-apple-system","system-ui"],ar=function(w){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?w.filter(function(y){return Ky.indexOf(y)===-1}):w},Nr=(function(w){s(y,w);function y(C,j){var K=w.call(this,C,j)||this;return K.canvas=j.canvas?j.canvas:document.createElement("canvas"),K.ctx=K.canvas.getContext("2d"),K.options=j,K.canvas.width=Math.floor(j.width*j.scale),K.canvas.height=Math.floor(j.height*j.scale),K.canvas.style.width=j.width+"px",K.canvas.style.height=j.height+"px",K.ctx.scale(K.options.scale,K.options.scale),K.ctx.translate(-j.x,-j.y),K.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+j.width+"x"+j.height+" at "+j.x+","+j.y+") with scale "+j.scale),K}return y.prototype.render=function(C){return i(this,void 0,void 0,function(){var j,K;return c(this,function(J){switch(J.label){case 0:return j=Xu(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,Cs(j)];case 1:return K=J.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ns(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(K,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},y})(Xm),Cs=function(w){return new Promise(function(y,C){var j=new Image;j.onload=function(){y(j)},j.onerror=C,j.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(w))})},_s=(function(){function w(y){var C=y.id,j=y.enabled;this.id=C,this.enabled=j,this.start=Date.now()}return w.prototype.debug=function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,h([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},w.prototype.getTime=function(){return Date.now()-this.start},w.prototype.info=function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,h([this.id,this.getTime()+"ms"],y))},w.prototype.warn=function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,h([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},w.prototype.error=function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,h([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},w.instances={},w})(),mr=(function(){function w(y,C){var j;this.windowBounds=C,this.instanceName="#"+w.instanceCount++,this.logger=new _s({id:this.instanceName,enabled:y.logging}),this.cache=(j=y.cache)!==null&&j!==void 0?j:new gh(this,y)}return w.instanceCount=1,w})(),al=function(w,y){return y===void 0&&(y={}),Ec(w,y)};typeof window<"u"&&ph.setContext(window);var Ec=function(w,y){return i(void 0,void 0,void 0,function(){var C,j,K,J,Ae,we,Be,Ue,Pe,We,At,nn,Mt,Wt,Sn,dn,cn,gs,ds,Yn,ws,on,ws,Fs,_n,Ta,Tr,Do,pr,Fi,io,Ui,zi,Cl,$l,$A,Sc,Nc,El,WA;return c(this,function(YA){switch(YA.label){case 0:if(!w||typeof w!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=w.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(j=C.defaultView,!j)throw new Error("Document is not attached to a Window");return K={allowTaint:(Fs=y.allowTaint)!==null&&Fs!==void 0?Fs:!1,imageTimeout:(_n=y.imageTimeout)!==null&&_n!==void 0?_n:15e3,proxy:y.proxy,useCORS:(Ta=y.useCORS)!==null&&Ta!==void 0?Ta:!1},J=a({logging:(Tr=y.logging)!==null&&Tr!==void 0?Tr:!0,cache:y.cache},K),Ae={windowWidth:(Do=y.windowWidth)!==null&&Do!==void 0?Do:j.innerWidth,windowHeight:(pr=y.windowHeight)!==null&&pr!==void 0?pr:j.innerHeight,scrollX:(Fi=y.scrollX)!==null&&Fi!==void 0?Fi:j.pageXOffset,scrollY:(io=y.scrollY)!==null&&io!==void 0?io:j.pageYOffset},we=new u(Ae.scrollX,Ae.scrollY,Ae.windowWidth,Ae.windowHeight),Be=new mr(J,we),Ue=(Ui=y.foreignObjectRendering)!==null&&Ui!==void 0?Ui:!1,Pe={allowTaint:(zi=y.allowTaint)!==null&&zi!==void 0?zi:!1,onclone:y.onclone,ignoreElements:y.ignoreElements,inlineImages:Ue,copyStyles:Ue},Be.logger.debug("Starting document clone with size "+we.width+"x"+we.height+" scrolled to "+-we.left+","+-we.top),We=new Pm(Be,w,Pe),At=We.clonedReferenceElement,At?[4,We.toIFrame(C,we)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return nn=YA.sent(),Mt=hf(At)||Hg(At)?A(At.ownerDocument):f(Be,At),Wt=Mt.width,Sn=Mt.height,dn=Mt.left,cn=Mt.top,gs=rd(Be,At,y.backgroundColor),ds={canvas:y.canvas,backgroundColor:gs,scale:($l=(Cl=y.scale)!==null&&Cl!==void 0?Cl:j.devicePixelRatio)!==null&&$l!==void 0?$l:1,x:(($A=y.x)!==null&&$A!==void 0?$A:0)+dn,y:((Sc=y.y)!==null&&Sc!==void 0?Sc:0)+cn,width:(Nc=y.width)!==null&&Nc!==void 0?Nc:Math.ceil(Wt),height:(El=y.height)!==null&&El!==void 0?El:Math.ceil(Sn)},Ue?(Be.logger.debug("Document cloned, using foreign object rendering"),ws=new Nr(Be,ds),[4,ws.render(At)]):[3,3];case 2:return Yn=YA.sent(),[3,5];case 3:return Be.logger.debug("Document cloned, element located at "+dn+","+cn+" with size "+Wt+"x"+Sn+" using computed rendering"),Be.logger.debug("Starting DOM parsing"),on=Tm(Be,At),gs===on.styles.backgroundColor&&(on.styles.backgroundColor=ra.TRANSPARENT),Be.logger.debug("Starting renderer for element at "+ds.x+","+ds.y+" with size "+ds.width+"x"+ds.height),ws=new i0(Be,ds),[4,ws.render(on)];case 4:Yn=YA.sent(),YA.label=5;case 5:return(!((WA=y.removeContainer)!==null&&WA!==void 0)||WA)&&(Pm.destroy(nn)||Be.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Be.logger.debug("Finished rendering"),[2,Yn]}})})},rd=function(w,y,C){var j=y.ownerDocument,K=j.documentElement?tl(w,getComputedStyle(j.documentElement).backgroundColor):ra.TRANSPARENT,J=j.body?tl(w,getComputedStyle(j.body).backgroundColor):ra.TRANSPARENT,Ae=typeof C=="string"?tl(w,C):C===null?ra.TRANSPARENT:4294967295;return y===j.documentElement?$a(K)?$a(J)?Ae:J:K:Ae};return al}))})(hv)),hv.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var nE;function M9(){return nE||(nE=1,(function(n,e){(function(s,a){n.exports=a(Q9,P9())})(self,function(t,s){return(function(){var a={"./node_modules/core-js/internals/a-callable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(B){if(m(B))return B;throw new g(v(B)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-constructor.js"),v=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(B){if(m(B))return B;throw new g(v(B)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-possible-prototype.js"),v=String,g=TypeError;u.exports=function(B){if(m(B))return B;throw new g("Can't set "+v(B)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js").has;u.exports=function(v){return m(v),v}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/object-define-property.js").f,B=m("unscopables"),S=Array.prototype;S[B]===void 0&&g(S,B,{configurable:!0,value:v(null)}),u.exports=function(T){S[B][T]=!0}}),"./node_modules/core-js/internals/an-instance.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-is-prototype-of.js"),v=TypeError;u.exports=function(g,B){if(m(B,g))return g;throw new v("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),v=String,g=TypeError;u.exports=function(B){if(m(B))return B;throw new g(v(B)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=m(function(){if(typeof ArrayBuffer=="function"){var v=new ArrayBuffer(8);Object.isExtensible(v)&&Object.defineProperty(v,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-iteration.js").forEach,v=A("./node_modules/core-js/internals/array-method-is-strict.js"),g=v("forEach");u.exports=g?[].forEach:function(S){return m(this,S,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-object.js"),B=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),S=A("./node_modules/core-js/internals/is-array-iterator-method.js"),T=A("./node_modules/core-js/internals/is-constructor.js"),E=A("./node_modules/core-js/internals/length-of-array-like.js"),_=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/get-iterator.js"),Q=A("./node_modules/core-js/internals/get-iterator-method.js"),M=Array;u.exports=function(R){var D=g(R),O=T(this),$=arguments.length,L=$>1?arguments[1]:void 0,H=L!==void 0;H&&(L=m(L,$>2?arguments[2]:void 0));var z=Q(D),re=0,pe,ae,ne,Z,ue,je;if(z&&!(this===M&&S(z)))for(ae=O?new this:[],Z=F(D,z),ue=Z.next;!(ne=v(ue,Z)).done;re++)je=H?B(Z,L,[ne.value,re],!0):ne.value,_(ae,re,je);else for(pe=E(D),ae=O?new this(pe):M(pe);pe>re;re++)je=H?L(D[re],re):D[re],_(ae,re,je);return ae.length=re,ae}}),"./node_modules/core-js/internals/array-includes.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),v=A("./node_modules/core-js/internals/to-absolute-index.js"),g=A("./node_modules/core-js/internals/length-of-array-like.js"),B=function(S){return function(T,E,_){var F=m(T),Q=g(F);if(Q===0)return!S&&-1;var M=v(_,Q),k;if(S&&E!==E){for(;Q>M;)if(k=F[M++],k!==k)return!0}else for(;Q>M;M++)if((S||M in F)&&F[M]===E)return S||M||0;return!S&&-1}};u.exports={includes:B(!0),indexOf:B(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),B=A("./node_modules/core-js/internals/to-object.js"),S=A("./node_modules/core-js/internals/length-of-array-like.js"),T=A("./node_modules/core-js/internals/array-species-create.js"),E=v([].push),_=function(F){var Q=F===1,M=F===2,k=F===3,R=F===4,D=F===6,O=F===7,$=F===5||D;return function(L,H,z,re){for(var pe=B(L),ae=g(pe),ne=S(ae),Z=m(H,z),ue=0,je=re||T,se=Q?je(L,ne):M||O?je(L,0):void 0,G,te;ne>ue;ue++)if(($||ue in ae)&&(G=ae[ue],te=Z(G,ue,pe),F))if(Q)se[ue]=te;else if(te)switch(F){case 3:return!0;case 5:return G;case 6:return ue;case 2:E(se,G)}else switch(F){case 4:return!1;case 7:E(se,G)}return D?-1:k||R?R:se}};u.exports={forEach:_(0),map:_(1),filter:_(2),some:_(3),every:_(4),find:_(5),findIndex:_(6),filterReject:_(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/well-known-symbol.js"),g=A("./node_modules/core-js/internals/environment-v8-version.js"),B=v("species");u.exports=function(S){return g>=51||!m(function(){var T=[],E=T.constructor={};return E[B]=function(){return{foo:1}},T[S](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(v,g){var B=[][v];return!!B&&m(function(){B.call(null,g||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-array.js"),v=A("./node_modules/core-js/internals/is-constructor.js"),g=A("./node_modules/core-js/internals/is-object.js"),B=A("./node_modules/core-js/internals/well-known-symbol.js"),S=B("species"),T=Array;u.exports=function(E){var _;return m(E)&&(_=E.constructor,v(_)&&(_===T||m(_.prototype))?_=void 0:g(_)&&(_=_[S],_===null&&(_=void 0))),_===void 0?T:_}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(v,g){return new(m(v))(g===0?0:g)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(g,B,S,T){try{return T?B(m(S)[0],S[1]):B(S)}catch(E){v(g,"throw",E)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=m("iterator"),g=!1;try{var B=0,S={next:function(){return{done:!!B++}},return:function(){g=!0}};S[v]=function(){return this},Array.from(S,function(){throw 2})}catch{}u.exports=function(T,E){try{if(!E&&!g)return!1}catch{return!1}var _=!1;try{var F={};F[v]=function(){return{next:function(){return{done:_=!0}}}},T(F)}catch{}return _}}),"./node_modules/core-js/internals/classof-raw.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=m({}.toString),g=m("".slice);u.exports=function(B){return g(v(B),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),B=A("./node_modules/core-js/internals/well-known-symbol.js"),S=B("toStringTag"),T=Object,E=g((function(){return arguments})())==="Arguments",_=function(F,Q){try{return F[Q]}catch{}};u.exports=m?g:function(F){var Q,M,k;return F===void 0?"Undefined":F===null?"Null":typeof(M=_(Q=T(F),S))=="string"?M:E?g(Q):(k=g(Q))==="Object"&&v(Q.callee)?"Arguments":k}}),"./node_modules/core-js/internals/collection-strong.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-create.js"),v=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/define-built-ins.js"),B=A("./node_modules/core-js/internals/function-bind-context.js"),S=A("./node_modules/core-js/internals/an-instance.js"),T=A("./node_modules/core-js/internals/is-null-or-undefined.js"),E=A("./node_modules/core-js/internals/iterate.js"),_=A("./node_modules/core-js/internals/iterator-define.js"),F=A("./node_modules/core-js/internals/create-iter-result-object.js"),Q=A("./node_modules/core-js/internals/set-species.js"),M=A("./node_modules/core-js/internals/descriptors.js"),k=A("./node_modules/core-js/internals/internal-metadata.js").fastKey,R=A("./node_modules/core-js/internals/internal-state.js"),D=R.set,O=R.getterFor;u.exports={getConstructor:function($,L,H,z){var re=$(function(ue,je){S(ue,pe),D(ue,{type:L,index:m(null),first:null,last:null,size:0}),M||(ue.size=0),T(je)||E(je,ue[z],{that:ue,AS_ENTRIES:H})}),pe=re.prototype,ae=O(L),ne=function(ue,je,se){var G=ae(ue),te=Z(ue,je),le,he;return te?te.value=se:(G.last=te={index:he=k(je,!0),key:je,value:se,previous:le=G.last,next:null,removed:!1},G.first||(G.first=te),le&&(le.next=te),M?G.size++:ue.size++,he!=="F"&&(G.index[he]=te)),ue},Z=function(ue,je){var se=ae(ue),G=k(je),te;if(G!=="F")return se.index[G];for(te=se.first;te;te=te.next)if(te.key===je)return te};return g(pe,{clear:function(){for(var je=this,se=ae(je),G=se.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=null),G=G.next;se.first=se.last=null,se.index=m(null),M?se.size=0:je.size=0},delete:function(ue){var je=this,se=ae(je),G=Z(je,ue);if(G){var te=G.next,le=G.previous;delete se.index[G.index],G.removed=!0,le&&(le.next=te),te&&(te.previous=le),se.first===G&&(se.first=te),se.last===G&&(se.last=le),M?se.size--:je.size--}return!!G},forEach:function(je){for(var se=ae(this),G=B(je,arguments.length>1?arguments[1]:void 0),te;te=te?te.next:se.first;)for(G(te.value,te.key,this);te&&te.removed;)te=te.previous},has:function(je){return!!Z(this,je)}}),g(pe,H?{get:function(je){var se=Z(this,je);return se&&se.value},set:function(je,se){return ne(this,je===0?0:je,se)}}:{add:function(je){return ne(this,je=je===0?0:je,je)}}),M&&v(pe,"size",{configurable:!0,get:function(){return ae(this).size}}),re},setStrong:function($,L,H){var z=L+" Iterator",re=O(L),pe=O(z);_($,L,function(ae,ne){D(this,{type:z,target:ae,state:re(ae),kind:ne,last:null})},function(){for(var ae=pe(this),ne=ae.kind,Z=ae.last;Z&&Z.removed;)Z=Z.previous;return!ae.target||!(ae.last=Z=Z?Z.next:ae.state.first)?(ae.target=null,F(void 0,!0)):F(ne==="keys"?Z.key:ne==="values"?Z.value:[Z.key,Z.value],!1)},H?"entries":"values",!H,!0),Q(L)}}}),"./node_modules/core-js/internals/collection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-uncurry-this.js"),B=A("./node_modules/core-js/internals/is-forced.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),T=A("./node_modules/core-js/internals/internal-metadata.js"),E=A("./node_modules/core-js/internals/iterate.js"),_=A("./node_modules/core-js/internals/an-instance.js"),F=A("./node_modules/core-js/internals/is-callable.js"),Q=A("./node_modules/core-js/internals/is-null-or-undefined.js"),M=A("./node_modules/core-js/internals/is-object.js"),k=A("./node_modules/core-js/internals/fails.js"),R=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),D=A("./node_modules/core-js/internals/set-to-string-tag.js"),O=A("./node_modules/core-js/internals/inherit-if-required.js");u.exports=function($,L,H){var z=$.indexOf("Map")!==-1,re=$.indexOf("Weak")!==-1,pe=z?"set":"add",ae=v[$],ne=ae&&ae.prototype,Z=ae,ue={},je=function(xe){var Ne=g(ne[xe]);S(ne,xe,xe==="add"?function(Fe){return Ne(this,Fe===0?0:Fe),this}:xe==="delete"?function(Te){return re&&!M(Te)?!1:Ne(this,Te===0?0:Te)}:xe==="get"?function(Fe){return re&&!M(Fe)?void 0:Ne(this,Fe===0?0:Fe)}:xe==="has"?function(Fe){return re&&!M(Fe)?!1:Ne(this,Fe===0?0:Fe)}:function(Fe,tt){return Ne(this,Fe===0?0:Fe,tt),this})},se=B($,!F(ae)||!(re||ne.forEach&&!k(function(){new ae().entries().next()})));if(se)Z=H.getConstructor(L,$,z,pe),T.enable();else if(B($,!0)){var G=new Z,te=G[pe](re?{}:-0,1)!==G,le=k(function(){G.has(1)}),he=R(function(xe){new ae(xe)}),ce=!re&&k(function(){for(var xe=new ae,Ne=5;Ne--;)xe[pe](Ne,Ne);return!xe.has(-0)});he||(Z=L(function(xe,Ne){_(xe,ne);var Te=O(new ae,xe,Z);return Q(Ne)||E(Ne,Te[pe],{that:Te,AS_ENTRIES:z}),Te}),Z.prototype=ne,ne.constructor=Z),(le||ce)&&(je("delete"),je("has"),z&&je("get")),(ce||te)&&je(pe),re&&ne.clear&&delete ne.clear}return ue[$]=Z,m({global:!0,constructor:!0,forced:Z!==ae},ue),D(Z,$),re||H.setStrong(Z,$,z),Z}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),v=A("./node_modules/core-js/internals/own-keys.js"),g=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),B=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(S,T,E){for(var _=v(T),F=B.f,Q=g.f,M=0;M<_.length;M++){var k=_[M];!m(S,k)&&!(E&&m(E,k))&&F(S,k,Q(T,k))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),B=/"/g,S=m("".replace);u.exports=function(T,E,_,F){var Q=g(v(T)),M="<"+E;return _!==""&&(M+=" "+_+'="'+S(g(F),B,"&quot;")+'"'),M+">"+Q+"</"+E+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(u){u.exports=function(f,A){return{value:f,done:A}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(B,S,T){return v.f(B,S,g(1,T))}:function(B,S,T){return B[S]=T,B}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(f,A){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:A}}}),"./node_modules/core-js/internals/create-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(B,S,T){m?v.f(B,S,g(0,T)):B[S]=T}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/make-built-in.js"),v=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(g,B,S){return S.get&&m(S.get,B,{getter:!0}),S.set&&m(S.set,B,{setter:!0}),v.f(g,B,S)}}),"./node_modules/core-js/internals/define-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/make-built-in.js"),B=A("./node_modules/core-js/internals/define-global-property.js");u.exports=function(S,T,E,_){_||(_={});var F=_.enumerable,Q=_.name!==void 0?_.name:T;if(m(E)&&g(E,Q,_),_.global)F?S[T]=E:B(T,E);else{try{_.unsafe?S[T]&&(F=!0):delete S[T]}catch{}F?S[T]=E:v.f(S,T,{value:E,enumerable:!1,configurable:!_.nonConfigurable,writable:!_.nonWritable})}return S}}),"./node_modules/core-js/internals/define-built-ins.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(v,g,B){for(var S in g)m(v,S,g[S],B);return v}}),"./node_modules/core-js/internals/define-global-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=Object.defineProperty;u.exports=function(g,B){try{v(m,g,{value:B,configurable:!0,writable:!0})}catch{m[g]=B}return B}}),"./node_modules/core-js/internals/descriptors.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=m.document,B=v(g)&&v(g.createElement);u.exports=function(S){return B?g.createElement(S):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(u){var f=TypeError,A=9007199254740991;u.exports=function(m){if(m>A)throw f("Maximum allowed index exceeded");return m}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/document-create-element.js"),v=m("span").classList,g=v&&v.constructor&&v.constructor.prototype;u.exports=g===Object.prototype?void 0:g}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)}),"./node_modules/core-js/internals/environment-is-node.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment.js");u.exports=m==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/web0s(?!.*chrome)/i.test(m)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=m.navigator,g=v&&v.userAgent;u.exports=g?String(g):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/environment-user-agent.js"),g=m.process,B=m.Deno,S=g&&g.versions||B&&B.version,T=S&&S.v8,E,_;T&&(E=T.split("."),_=E[0]>0&&E[0]<4?1:+(E[0]+E[1])),!_&&v&&(E=v.match(/Edge\/(\d+)/),(!E||E[1]>=74)&&(E=v.match(/Chrome\/(\d+)/),E&&(_=+E[1]))),u.exports=_}),"./node_modules/core-js/internals/environment.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/environment-user-agent.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),B=function(S){return v.slice(0,S.length)===S};u.exports=(function(){return B("Bun/")?"BUN":B("Cloudflare-Workers")?"CLOUDFLARE":B("Deno/")?"DENO":B("Node.js/")?"NODE":m.Bun&&typeof Bun.version=="string"?"BUN":m.Deno&&typeof Deno.version=="object"?"DENO":g(m.process)==="process"?"NODE":m.window&&m.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),B=A("./node_modules/core-js/internals/define-built-in.js"),S=A("./node_modules/core-js/internals/define-global-property.js"),T=A("./node_modules/core-js/internals/copy-constructor-properties.js"),E=A("./node_modules/core-js/internals/is-forced.js");u.exports=function(_,F){var Q=_.target,M=_.global,k=_.stat,R,D,O,$,L,H;if(M?D=m:k?D=m[Q]||S(Q,{}):D=m[Q]&&m[Q].prototype,D)for(O in F){if(L=F[O],_.dontCallGetSet?(H=v(D,O),$=H&&H.value):$=D[O],R=E(M?O:Q+(k?".":"#")+O,_.forced),!R&&$!==void 0){if(typeof L==typeof $)continue;T(L,$)}(_.sham||$&&$.sham)&&g(L,"sham",!0),B(D,O,L,_)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(f){try{return!!f()}catch{return!0}}}),"./node_modules/core-js/internals/freezing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.apply,B=v.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?B.bind(g):function(){return B.apply(g,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-clause.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/function-bind-native.js"),B=m(m.bind);u.exports=function(S,T){return v(S),T===void 0?S:g?B(S,T):function(){return S.apply(T,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){var v=(function(){}).bind();return typeof v!="function"||v.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype.call;u.exports=m?v.bind(v):function(){return v.apply(v,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=Function.prototype,B=m&&Object.getOwnPropertyDescriptor,S=v(g,"name"),T=S&&(function(){}).name==="something",E=S&&(!m||m&&B(g,"name").configurable);u.exports={EXISTS:S,PROPER:T,CONFIGURABLE:E}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/a-callable.js");u.exports=function(g,B,S){try{return m(v(Object.getOwnPropertyDescriptor(g,B)[S]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=function(g){if(m(g)==="Function")return v(g)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.call,B=m&&v.bind.bind(g,g);u.exports=m?B:function(S){return function(){return g.apply(S,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=function(B){return v(B)?B:void 0};u.exports=function(B,S){return arguments.length<2?g(m[B]):m[B]&&m[B][S]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(u){u.exports=function(f){return{iterator:f,next:f.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=A("./node_modules/core-js/internals/get-method.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),B=A("./node_modules/core-js/internals/iterators.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),T=S("iterator");u.exports=function(E){if(!g(E))return v(E,T)||v(E,"@@iterator")||B[m(E)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/an-object.js"),B=A("./node_modules/core-js/internals/try-to-string.js"),S=A("./node_modules/core-js/internals/get-iterator-method.js"),T=TypeError;u.exports=function(E,_){var F=arguments.length<2?S(E):_;if(v(F))return g(m(F,E));throw new T(B(E)+" is not iterable")}}),"./node_modules/core-js/internals/get-json-replacer-function.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-callable.js"),B=A("./node_modules/core-js/internals/classof-raw.js"),S=A("./node_modules/core-js/internals/to-string.js"),T=m([].push);u.exports=function(E){if(g(E))return E;if(v(E)){for(var _=E.length,F=[],Q=0;Q<_;Q++){var M=E[Q];typeof M=="string"?T(F,M):(typeof M=="number"||B(M)==="Number"||B(M)==="String")&&T(F,S(M))}var k=F.length,R=!0;return function(D,O){if(R)return R=!1,O;if(v(this))return O;for(var $=0;$<k;$++)if(F[$]===D)return O}}}}),"./node_modules/core-js/internals/get-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=A("./node_modules/core-js/internals/is-null-or-undefined.js");u.exports=function(g,B){var S=g[B];return v(S)?void 0:m(S)}}),"./node_modules/core-js/internals/get-set-record.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/function-call.js"),B=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),S=A("./node_modules/core-js/internals/get-iterator-direct.js"),T="Invalid size",E=RangeError,_=TypeError,F=Math.max,Q=function(M,k){this.set=M,this.size=F(k,0),this.has=m(M.has),this.keys=m(M.keys)};Q.prototype={getIterator:function(){return S(v(g(this.keys,this.set)))},includes:function(M){return g(this.has,this.set,M)}},u.exports=function(M){v(M);var k=+M.size;if(k!==k)throw new _(T);var R=B(k);if(R<0)throw new E(T);return new Q(M,R)}}),"./node_modules/core-js/internals/global-this.js":(function(u){var f=function(A){return A&&A.Math===Math&&A};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof FB=="object"&&FB)||f(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/to-object.js"),g=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(S,T){return g(v(S),T)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(u){u.exports=function(f,A){try{arguments.length===1?console.error(f):console.error(f,A)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!v(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),B=Object,S=m("".split);u.exports=v(function(){return!B("z").propertyIsEnumerable(0)})?function(T){return g(T)==="String"?S(T,""):B(T)}:B}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(B,S,T){var E,_;return g&&m(E=S.constructor)&&E!==T&&v(_=E.prototype)&&_!==T.prototype&&g(B,_),B}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/shared-store.js"),B=m(Function.toString);v(g.inspectSource)||(g.inspectSource=function(S){return B(S)}),u.exports=g.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/hidden-keys.js"),B=A("./node_modules/core-js/internals/is-object.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),T=A("./node_modules/core-js/internals/object-define-property.js").f,E=A("./node_modules/core-js/internals/object-get-own-property-names.js"),_=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),F=A("./node_modules/core-js/internals/object-is-extensible.js"),Q=A("./node_modules/core-js/internals/uid.js"),M=A("./node_modules/core-js/internals/freezing.js"),k=!1,R=Q("meta"),D=0,O=function(pe){T(pe,R,{value:{objectID:"O"+D++,weakData:{}}})},$=function(pe,ae){if(!B(pe))return typeof pe=="symbol"?pe:(typeof pe=="string"?"S":"P")+pe;if(!S(pe,R)){if(!F(pe))return"F";if(!ae)return"E";O(pe)}return pe[R].objectID},L=function(pe,ae){if(!S(pe,R)){if(!F(pe))return!0;if(!ae)return!1;O(pe)}return pe[R].weakData},H=function(pe){return M&&k&&F(pe)&&!S(pe,R)&&O(pe),pe},z=function(){re.enable=function(){},k=!0;var pe=E.f,ae=v([].splice),ne={};ne[R]=1,pe(ne).length&&(E.f=function(Z){for(var ue=pe(Z),je=0,se=ue.length;je<se;je++)if(ue[je]===R){ae(ue,je,1);break}return ue},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:_.f}))},re=u.exports={enable:z,fastKey:$,getWeakData:L,onFreeze:H};g[R]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/weak-map-basic-detection.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/is-object.js"),B=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),T=A("./node_modules/core-js/internals/shared-store.js"),E=A("./node_modules/core-js/internals/shared-key.js"),_=A("./node_modules/core-js/internals/hidden-keys.js"),F="Object already initialized",Q=v.TypeError,M=v.WeakMap,k,R,D,O=function(z){return D(z)?R(z):k(z,{})},$=function(z){return function(re){var pe;if(!g(re)||(pe=R(re)).type!==z)throw new Q("Incompatible receiver, "+z+" required");return pe}};if(m||T.state){var L=T.state||(T.state=new M);L.get=L.get,L.has=L.has,L.set=L.set,k=function(z,re){if(L.has(z))throw new Q(F);return re.facade=z,L.set(z,re),re},R=function(z){return L.get(z)||{}},D=function(z){return L.has(z)}}else{var H=E("state");_[H]=!0,k=function(z,re){if(S(z,H))throw new Q(F);return re.facade=z,B(z,H,re),re},R=function(z){return S(z,H)?z[H]:{}},D=function(z){return S(z,H)}}u.exports={set:k,get:R,has:D,enforce:O,getterFor:$}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=A("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),B=Array.prototype;u.exports=function(S){return S!==void 0&&(v.Array===S||B[g]===S)}}),"./node_modules/core-js/internals/is-array.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(u){var f=typeof document=="object"&&document.all;u.exports=typeof f>"u"&&f!==void 0?function(A){return typeof A=="function"||A===f}:function(A){return typeof A=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),B=A("./node_modules/core-js/internals/classof.js"),S=A("./node_modules/core-js/internals/get-built-in.js"),T=A("./node_modules/core-js/internals/inspect-source.js"),E=function(){},_=S("Reflect","construct"),F=/^\s*(?:class|function)\b/,Q=m(F.exec),M=!F.test(E),k=function(O){if(!g(O))return!1;try{return _(E,[],O),!0}catch{return!1}},R=function(O){if(!g(O))return!1;switch(B(O)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return M||!!Q(F,T(O))}catch{return!0}};R.sham=!0,u.exports=!_||v(function(){var D;return k(k.call)||!k(Object)||!k(function(){D=!0})||D})?R:k}),"./node_modules/core-js/internals/is-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=/#|\.prototype\./,B=function(F,Q){var M=T[S(F)];return M===_?!0:M===E?!1:v(Q)?m(Q):!!Q},S=B.normalize=function(F){return String(F).replace(g,".").toLowerCase()},T=B.data={},E=B.NATIVE="N",_=B.POLYFILL="P";u.exports=B}),"./node_modules/core-js/internals/is-iterable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),B=A("./node_modules/core-js/internals/well-known-symbol.js"),S=A("./node_modules/core-js/internals/iterators.js"),T=B("iterator"),E=Object;u.exports=function(_){if(g(_))return!1;var F=E(_);return F[T]!==void 0||"@@iterator"in F||v(S,m(F))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(u){u.exports=function(f){return f==null}}),"./node_modules/core-js/internals/is-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js");u.exports=function(v){return typeof v=="object"?v!==null:m(v)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(v){return m(v)||v===null}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),B=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),S=Object;u.exports=B?function(T){return typeof T=="symbol"}:function(T){var E=m("Symbol");return v(E)&&g(E.prototype,S(T))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js");u.exports=function(v,g,B){for(var S=B?v:v.iterator,T=v.next,E,_;!(E=m(T,S)).done;)if(_=g(E.value),_!==void 0)return _}}),"./node_modules/core-js/internals/iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/an-object.js"),B=A("./node_modules/core-js/internals/try-to-string.js"),S=A("./node_modules/core-js/internals/is-array-iterator-method.js"),T=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/object-is-prototype-of.js"),_=A("./node_modules/core-js/internals/get-iterator.js"),F=A("./node_modules/core-js/internals/get-iterator-method.js"),Q=A("./node_modules/core-js/internals/iterator-close.js"),M=TypeError,k=function(D,O){this.stopped=D,this.result=O},R=k.prototype;u.exports=function(D,O,$){var L=$&&$.that,H=!!($&&$.AS_ENTRIES),z=!!($&&$.IS_RECORD),re=!!($&&$.IS_ITERATOR),pe=!!($&&$.INTERRUPTED),ae=m(O,L),ne,Z,ue,je,se,G,te,le=function(ce){return ne&&Q(ne,"normal"),new k(!0,ce)},he=function(ce){return H?(g(ce),pe?ae(ce[0],ce[1],le):ae(ce[0],ce[1])):pe?ae(ce,le):ae(ce)};if(z)ne=D.iterator;else if(re)ne=D;else{if(Z=F(D),!Z)throw new M(B(D)+" is not iterable");if(S(Z)){for(ue=0,je=T(D);je>ue;ue++)if(se=he(D[ue]),se&&E(R,se))return se;return new k(!1)}ne=_(D,Z)}for(G=z?D.next:ne.next;!(te=v(G,ne)).done;){try{se=he(te.value)}catch(ce){Q(ne,"throw",ce)}if(typeof se=="object"&&se&&E(R,se))return se}return new k(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(v,g,B){for(var S=v.length-1;S>=0;S--)if(v[S]!==void 0)try{B=m(v[S].iterator,g,B)}catch(T){g="throw",B=T}if(g==="throw")throw B;return B}}),"./node_modules/core-js/internals/iterator-close.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/get-method.js");u.exports=function(B,S,T){var E,_;v(B);try{if(E=g(B,"return"),!E){if(S==="throw")throw T;return T}E=m(E,B)}catch(F){_=!0,E=F}if(S==="throw")throw T;if(_)throw E;return v(E),T}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js"),B=A("./node_modules/core-js/internals/set-to-string-tag.js"),S=A("./node_modules/core-js/internals/iterators.js"),T=function(){return this};u.exports=function(E,_,F,Q){var M=_+" Iterator";return E.prototype=v(m,{next:g(+!Q,F)}),B(E,M,!1,!0),S[M]=T,E}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),B=A("./node_modules/core-js/internals/define-built-ins.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),T=A("./node_modules/core-js/internals/internal-state.js"),E=A("./node_modules/core-js/internals/get-method.js"),_=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,F=A("./node_modules/core-js/internals/create-iter-result-object.js"),Q=A("./node_modules/core-js/internals/iterator-close.js"),M=A("./node_modules/core-js/internals/iterator-close-all.js"),k=S("toStringTag"),R="IteratorHelper",D="WrapForValidIterator",O="normal",$="throw",L=T.set,H=function(pe){var ae=T.getterFor(pe?D:R);return B(v(_),{next:function(){var Z=ae(this);if(pe)return Z.nextHandler();if(Z.done)return F(void 0,!0);try{var ue=Z.nextHandler();return Z.returnHandlerResult?ue:F(ue,Z.done)}catch(je){throw Z.done=!0,je}},return:function(){var ne=ae(this),Z=ne.iterator;if(ne.done=!0,pe){var ue=E(Z,"return");return ue?m(ue,Z):F(void 0,!0)}if(ne.inner)try{Q(ne.inner.iterator,O)}catch(je){return Q(Z,$,je)}if(ne.openIters)try{M(ne.openIters,O)}catch(je){return Q(Z,$,je)}return Z&&Q(Z,O),F(void 0,!0)}})},z=H(!0),re=H(!1);g(re,k,"Iterator Helper"),u.exports=function(pe,ae,ne){var Z=function(je,se){se?(se.iterator=je.iterator,se.next=je.next):se=je,se.type=ae?D:R,se.returnHandlerResult=!!ne,se.nextHandler=pe,se.counter=0,se.done=!1,L(this,se)};return Z.prototype=ae?z:re,Z}}),"./node_modules/core-js/internals/iterator-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-pure.js"),B=A("./node_modules/core-js/internals/function-name.js"),S=A("./node_modules/core-js/internals/is-callable.js"),T=A("./node_modules/core-js/internals/iterator-create-constructor.js"),E=A("./node_modules/core-js/internals/object-get-prototype-of.js"),_=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),Q=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),M=A("./node_modules/core-js/internals/define-built-in.js"),k=A("./node_modules/core-js/internals/well-known-symbol.js"),R=A("./node_modules/core-js/internals/iterators.js"),D=A("./node_modules/core-js/internals/iterators-core.js"),O=B.PROPER,$=B.CONFIGURABLE,L=D.IteratorPrototype,H=D.BUGGY_SAFARI_ITERATORS,z=k("iterator"),re="keys",pe="values",ae="entries",ne=function(){return this};u.exports=function(Z,ue,je,se,G,te,le){T(je,ue,se);var he=function(fe){if(fe===G&&Fe)return Fe;if(!H&&fe&&fe in Ne)return Ne[fe];switch(fe){case re:return function(){return new je(this,fe)};case pe:return function(){return new je(this,fe)};case ae:return function(){return new je(this,fe)}}return function(){return new je(this)}},ce=ue+" Iterator",xe=!1,Ne=Z.prototype,Te=Ne[z]||Ne["@@iterator"]||G&&Ne[G],Fe=!H&&Te||he(G),tt=ue==="Array"&&Ne.entries||Te,$e,it,Ve;if(tt&&($e=E(tt.call(new Z)),$e!==Object.prototype&&$e.next&&(!g&&E($e)!==L&&(_?_($e,L):S($e[z])||M($e,z,ne)),F($e,ce,!0,!0),g&&(R[ce]=ne))),O&&G===pe&&Te&&Te.name!==pe&&(!g&&$?Q(Ne,"name",pe):(xe=!0,Fe=function(){return v(Te,this)})),G)if(it={values:he(pe),keys:te?Fe:he(re),entries:he(ae)},le)for(Ve in it)(H||xe||!(Ve in Ne))&&M(Ne,Ve,it[Ve]);else m({target:ue,proto:!0,forced:H||xe},it);return(!g||le)&&Ne[z]!==Fe&&M(Ne,z,Fe,{name:G}),R[ue]=Fe,it}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(u){u.exports=function(f,A){var m=typeof Iterator=="function"&&Iterator.prototype[f];if(m)try{m.call({next:null},A).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=function(v,g){var B=m.Iterator,S=B&&B.prototype,T=S&&S[v],E=!1;if(T)try{T.call({next:function(){return{done:!0}},return:function(){E=!0}},-1)}catch(_){_ instanceof g||(E=!1)}if(!E)return T}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),B=A("./node_modules/core-js/internals/object-create.js"),S=A("./node_modules/core-js/internals/object-get-prototype-of.js"),T=A("./node_modules/core-js/internals/define-built-in.js"),E=A("./node_modules/core-js/internals/well-known-symbol.js"),_=A("./node_modules/core-js/internals/is-pure.js"),F=E("iterator"),Q=!1,M,k,R;[].keys&&(R=[].keys(),"next"in R?(k=S(S(R)),k!==Object.prototype&&(M=k)):Q=!0);var D=!g(M)||m(function(){var O={};return M[F].call(O)!==O});D?M={}:_&&(M=B(M)),v(M[F])||T(M,F,function(){return this}),u.exports={IteratorPrototype:M,BUGGY_SAFARI_ITERATORS:Q}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-length.js");u.exports=function(v){return m(v.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),B=A("./node_modules/core-js/internals/has-own-property.js"),S=A("./node_modules/core-js/internals/descriptors.js"),T=A("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,E=A("./node_modules/core-js/internals/inspect-source.js"),_=A("./node_modules/core-js/internals/internal-state.js"),F=_.enforce,Q=_.get,M=String,k=Object.defineProperty,R=m("".slice),D=m("".replace),O=m([].join),$=S&&!v(function(){return k(function(){},"length",{value:8}).length!==8}),L=String(String).split("String"),H=u.exports=function(z,re,pe){R(M(re),0,7)==="Symbol("&&(re="["+D(M(re),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),pe&&pe.getter&&(re="get "+re),pe&&pe.setter&&(re="set "+re),(!B(z,"name")||T&&z.name!==re)&&(S?k(z,"name",{value:re,configurable:!0}):z.name=re),$&&pe&&B(pe,"arity")&&z.length!==pe.arity&&k(z,"length",{value:pe.arity});try{pe&&B(pe,"constructor")&&pe.constructor?S&&k(z,"prototype",{writable:!1}):z.prototype&&(z.prototype=void 0)}catch{}var ae=F(z);return B(ae,"source")||(ae.source=O(L,typeof re=="string"?re:"")),z};Function.prototype.toString=H(function(){return g(this)&&Q(this).source||E(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(u){var f=Math.ceil,A=Math.floor;u.exports=Math.trunc||function(v){var g=+v;return(g>0?A:f)(g)}}),"./node_modules/core-js/internals/microtask.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/safe-get-built-in.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),B=A("./node_modules/core-js/internals/task.js").set,S=A("./node_modules/core-js/internals/queue.js"),T=A("./node_modules/core-js/internals/environment-is-ios.js"),E=A("./node_modules/core-js/internals/environment-is-ios-pebble.js"),_=A("./node_modules/core-js/internals/environment-is-webos-webkit.js"),F=A("./node_modules/core-js/internals/environment-is-node.js"),Q=m.MutationObserver||m.WebKitMutationObserver,M=m.document,k=m.process,R=m.Promise,D=v("queueMicrotask"),O,$,L,H,z;if(!D){var re=new S,pe=function(){var ae,ne;for(F&&(ae=k.domain)&&ae.exit();ne=re.get();)try{ne()}catch(Z){throw re.head&&O(),Z}ae&&ae.enter()};!T&&!F&&!_&&Q&&M?($=!0,L=M.createTextNode(""),new Q(pe).observe(L,{characterData:!0}),O=function(){L.data=$=!$}):!E&&R&&R.resolve?(H=R.resolve(void 0),H.constructor=R,z=g(H.then,H),O=function(){z(pe)}):F?O=function(){k.nextTick(pe)}:(B=g(B,m),O=function(){B(pe)}),D=function(ae){re.head||O(),re.add(ae)}}u.exports=D}),"./node_modules/core-js/internals/new-promise-capability.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=TypeError,g=function(B){var S,T;this.promise=new B(function(E,_){if(S!==void 0||T!==void 0)throw new v("Bad Promise constructor");S=E,T=_}),this.resolve=m(S),this.reject=m(T)};u.exports.f=function(B){return new g(B)}}),"./node_modules/core-js/internals/object-assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),B=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/object-keys.js"),T=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),E=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),_=A("./node_modules/core-js/internals/to-object.js"),F=A("./node_modules/core-js/internals/indexed-object.js"),Q=Object.assign,M=Object.defineProperty,k=v([].concat);u.exports=!Q||B(function(){if(m&&Q({b:1},Q(M({},"a",{enumerable:!0,get:function(){M(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var R={},D={},O=Symbol("assign detection"),$="abcdefghijklmnopqrst";return R[O]=7,$.split("").forEach(function(L){D[L]=L}),Q({},R)[O]!==7||S(Q({},D)).join("")!==$})?function(D,O){for(var $=_(D),L=arguments.length,H=1,z=T.f,re=E.f;L>H;)for(var pe=F(arguments[H++]),ae=z?k(S(pe),z(pe)):S(pe),ne=ae.length,Z=0,ue;ne>Z;)ue=ae[Z++],(!m||g(re,pe,ue))&&($[ue]=pe[ue]);return $}:Q}),"./node_modules/core-js/internals/object-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/object-define-properties.js"),g=A("./node_modules/core-js/internals/enum-bug-keys.js"),B=A("./node_modules/core-js/internals/hidden-keys.js"),S=A("./node_modules/core-js/internals/html.js"),T=A("./node_modules/core-js/internals/document-create-element.js"),E=A("./node_modules/core-js/internals/shared-key.js"),_=">",F="<",Q="prototype",M="script",k=E("IE_PROTO"),R=function(){},D=function(z){return F+M+_+z+F+"/"+M+_},O=function(z){z.write(D("")),z.close();var re=z.parentWindow.Object;return z=null,re},$=function(){var z=T("iframe"),re="java"+M+":",pe;return z.style.display="none",S.appendChild(z),z.src=String(re),pe=z.contentWindow.document,pe.open(),pe.write(D("document.F=Object")),pe.close(),pe.F},L,H=function(){try{L=new ActiveXObject("htmlfile")}catch{}H=typeof document<"u"?document.domain&&L?O(L):$():O(L);for(var z=g.length;z--;)delete H[Q][g[z]];return H()};B[k]=!0,u.exports=Object.create||function(re,pe){var ae;return re!==null?(R[Q]=m(re),ae=new R,R[Q]=null,ae[k]=re):ae=H(),pe===void 0?ae:v.f(ae,pe)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=A("./node_modules/core-js/internals/object-define-property.js"),B=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/to-indexed-object.js"),T=A("./node_modules/core-js/internals/object-keys.js");f.f=m&&!v?Object.defineProperties:function(_,F){B(_);for(var Q=S(F),M=T(F),k=M.length,R=0,D;k>R;)g.f(_,D=M[R++],Q[D]);return _}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/ie8-dom-define.js"),g=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),B=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/to-property-key.js"),T=TypeError,E=Object.defineProperty,_=Object.getOwnPropertyDescriptor,F="enumerable",Q="configurable",M="writable";f.f=m?g?function(R,D,O){if(B(R),D=S(D),B(O),typeof R=="function"&&D==="prototype"&&"value"in O&&M in O&&!O[M]){var $=_(R,D);$&&$[M]&&(R[D]=O.value,O={configurable:Q in O?O[Q]:$[Q],enumerable:F in O?O[F]:$[F],writable:!1})}return E(R,D,O)}:E:function(R,D,O){if(B(R),D=S(D),B(O),v)try{return E(R,D,O)}catch{}if("get"in O||"set"in O)throw new T("Accessors not supported");return"value"in O&&(R[D]=O.value),R}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),B=A("./node_modules/core-js/internals/create-property-descriptor.js"),S=A("./node_modules/core-js/internals/to-indexed-object.js"),T=A("./node_modules/core-js/internals/to-property-key.js"),E=A("./node_modules/core-js/internals/has-own-property.js"),_=A("./node_modules/core-js/internals/ie8-dom-define.js"),F=Object.getOwnPropertyDescriptor;f.f=m?F:function(M,k){if(M=S(M),k=T(k),_)try{return F(M,k)}catch{}if(E(M,k))return B(!v(g.f,M,k),M[k])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),v=A("./node_modules/core-js/internals/to-indexed-object.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,B=A("./node_modules/core-js/internals/array-slice.js"),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],T=function(E){try{return g(E)}catch{return B(S)}};u.exports.f=function(_){return S&&m(_)==="Window"?T(_):g(v(_))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),v=A("./node_modules/core-js/internals/enum-bug-keys.js"),g=v.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(S){return m(S,g)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,f){f.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/to-object.js"),B=A("./node_modules/core-js/internals/shared-key.js"),S=A("./node_modules/core-js/internals/correct-prototype-getter.js"),T=B("IE_PROTO"),E=Object,_=E.prototype;u.exports=S?E.getPrototypeOf:function(F){var Q=g(F);if(m(Q,T))return Q[T];var M=Q.constructor;return v(M)&&Q instanceof M?M.prototype:Q instanceof E?_:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),B=A("./node_modules/core-js/internals/array-buffer-non-extensible.js"),S=Object.isExtensible,T=m(function(){});u.exports=T||B?function(_){return!v(_)||B&&g(_)==="ArrayBuffer"?!1:S?S(_):!0}:S}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/to-indexed-object.js"),B=A("./node_modules/core-js/internals/array-includes.js").indexOf,S=A("./node_modules/core-js/internals/hidden-keys.js"),T=m([].push);u.exports=function(E,_){var F=g(E),Q=0,M=[],k;for(k in F)!v(S,k)&&v(F,k)&&T(M,k);for(;_.length>Q;)v(F,k=_[Q++])&&(~B(M,k)||T(M,k));return M}}),"./node_modules/core-js/internals/object-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),v=A("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(B){return m(B,v)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,f){var A={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,v=m&&!A.call({1:2},1);f.f=v?function(B){var S=m(this,B);return!!S&&S.enumerable}:A}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/require-object-coercible.js"),B=A("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var S=!1,T={},E;try{E=m(Object.prototype,"__proto__","set"),E(T,[]),S=T instanceof Array}catch{}return function(F,Q){return g(F),B(Q),v(F)&&(S?E(F,Q):F.__proto__=Q),F}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+v(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),B=TypeError;u.exports=function(S,T){var E,_;if(T==="string"&&v(E=S.toString)&&!g(_=m(E,S))||v(E=S.valueOf)&&!g(_=m(E,S))||T!=="string"&&v(E=S.toString)&&!g(_=m(E,S)))return _;throw new B("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js"),B=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=A("./node_modules/core-js/internals/an-object.js"),T=v([].concat);u.exports=m("Reflect","ownKeys")||function(_){var F=g.f(S(_)),Q=B.f;return Q?T(F,Q(_)):F}}),"./node_modules/core-js/internals/path.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m}),"./node_modules/core-js/internals/perform.js":(function(u){u.exports=function(f){try{return{error:!1,value:f()}}catch(A){return{error:!0,value:A}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/promise-native-constructor.js"),g=A("./node_modules/core-js/internals/is-callable.js"),B=A("./node_modules/core-js/internals/is-forced.js"),S=A("./node_modules/core-js/internals/inspect-source.js"),T=A("./node_modules/core-js/internals/well-known-symbol.js"),E=A("./node_modules/core-js/internals/environment.js"),_=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/environment-v8-version.js"),Q=v&&v.prototype,M=T("species"),k=!1,R=g(m.PromiseRejectionEvent),D=B("Promise",function(){var O=S(v),$=O!==String(v);if(!$&&F===66||_&&!(Q.catch&&Q.finally))return!0;if(!F||F<51||!/native code/.test(O)){var L=new v(function(re){re(1)}),H=function(re){re(function(){},function(){})},z=L.constructor={};if(z[M]=H,k=L.then(function(){})instanceof H,!k)return!0}return!$&&(E==="BROWSER"||E==="DENO")&&!R});u.exports={CONSTRUCTOR:D,REJECTION_EVENT:R,SUBCLASSING:k}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/new-promise-capability.js");u.exports=function(B,S){if(m(B),v(S)&&S.constructor===B)return S;var T=g.f(B),E=T.resolve;return E(S),T.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/promise-native-constructor.js"),v=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u.exports=g||!v(function(B){m.all(B).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(u){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(A){var m={item:A,next:null},v=this.tail;v?v.next=m:this.head=m,this.tail=m},get:function(){var A=this.head;if(A){var m=this.head=A.next;return m===null&&(this.tail=null),A.item}}},u.exports=f}),"./node_modules/core-js/internals/regexp-exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/to-string.js"),B=A("./node_modules/core-js/internals/regexp-flags.js"),S=A("./node_modules/core-js/internals/regexp-sticky-helpers.js"),T=A("./node_modules/core-js/internals/shared.js"),E=A("./node_modules/core-js/internals/object-create.js"),_=A("./node_modules/core-js/internals/internal-state.js").get,F=A("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),Q=A("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),M=T("native-string-replace",String.prototype.replace),k=RegExp.prototype.exec,R=k,D=v("".charAt),O=v("".indexOf),$=v("".replace),L=v("".slice),H=(function(){var ae=/a/,ne=/b*/g;return m(k,ae,"a"),m(k,ne,"a"),ae.lastIndex!==0||ne.lastIndex!==0})(),z=S.BROKEN_CARET,re=/()??/.exec("")[1]!==void 0,pe=H||re||z||F||Q;pe&&(R=function(ne){var Z=this,ue=_(Z),je=g(ne),se=ue.raw,G,te,le,he,ce,xe,Ne;if(se)return se.lastIndex=Z.lastIndex,G=m(R,se,je),Z.lastIndex=se.lastIndex,G;var Te=ue.groups,Fe=z&&Z.sticky,tt=m(B,Z),$e=Z.source,it=0,Ve=je;if(Fe&&(tt=$(tt,"y",""),O(tt,"g")===-1&&(tt+="g"),Ve=L(je,Z.lastIndex),Z.lastIndex>0&&(!Z.multiline||Z.multiline&&D(je,Z.lastIndex-1)!==`
`)&&($e="(?: "+$e+")",Ve=" "+Ve,it++),te=new RegExp("^(?:"+$e+")",tt)),re&&(te=new RegExp("^"+$e+"$(?!\\s)",tt)),H&&(le=Z.lastIndex),he=m(k,Fe?te:Z,Ve),Fe?he?(he.input=L(he.input,it),he[0]=L(he[0],it),he.index=Z.lastIndex,Z.lastIndex+=he[0].length):Z.lastIndex=0:H&&he&&(Z.lastIndex=Z.global?he.index+he[0].length:le),re&&he&&he.length>1&&m(M,he[0],te,function(){for(ce=1;ce<arguments.length-2;ce++)arguments[ce]===void 0&&(he[ce]=void 0)}),he&&Te)for(he.groups=xe=E(null),ce=0;ce<Te.length;ce++)Ne=Te[ce],xe[Ne[0]]=he[Ne[1]];return he}),u.exports=R}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=m.RegExp,B=!v(function(){var S=!0;try{g(".","d")}catch{S=!1}var T={},E="",_=S?"dgimsy":"gimsy",F=function(R,D){Object.defineProperty(T,R,{get:function(){return E+=D,!0}})},Q={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};S&&(Q.hasIndices="d");for(var M in Q)F(M,Q[M]);var k=Object.getOwnPropertyDescriptor(g.prototype,"flags").get.call(T);return k!==_||E!==_});u.exports={correct:B}}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js");u.exports=function(){var v=m(this),g="";return v.hasIndices&&(g+="d"),v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),v.dotAll&&(g+="s"),v.unicode&&(g+="u"),v.unicodeSets&&(g+="v"),v.sticky&&(g+="y"),g}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),B=A("./node_modules/core-js/internals/regexp-flags-detection.js"),S=A("./node_modules/core-js/internals/regexp-flags.js"),T=RegExp.prototype;u.exports=B.correct?function(E){return E.flags}:function(E){return!B.correct&&g(T,E)&&!v(E,"flags")?m(S,E):E.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp,B=m(function(){var E=g("a","y");return E.lastIndex=2,E.exec("abcd")!==null}),S=B||m(function(){return!g("a","y").sticky}),T=B||m(function(){var E=g("^r","gy");return E.lastIndex=2,E.exec("str")!==null});u.exports={BROKEN_CARET:T,MISSED_STICKY:S,UNSUPPORTED_Y:B}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var B=g(".","s");return!(B.dotAll&&B.test(`
`)&&B.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var B=g("(?<a>b)","g");return B.exec("b").groups.a!=="b"||"b".replace(B,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-null-or-undefined.js"),v=TypeError;u.exports=function(g){if(m(g))throw new v("Can't call method on "+g);return g}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/descriptors.js"),g=Object.getOwnPropertyDescriptor;u.exports=function(B){if(!v)return m[B];var S=g(m,B);return S&&S.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/is-callable.js"),B=A("./node_modules/core-js/internals/environment.js"),S=A("./node_modules/core-js/internals/environment-user-agent.js"),T=A("./node_modules/core-js/internals/array-slice.js"),E=A("./node_modules/core-js/internals/validate-arguments-length.js"),_=m.Function,F=/MSIE .\./.test(S)||B==="BUN"&&(function(){var Q=m.Bun.version.split(".");return Q.length<3||Q[0]==="0"&&(Q[1]<3||Q[1]==="3"&&Q[2]==="0")})();u.exports=function(Q,M){var k=M?2:1;return F?function(R,D){var O=E(arguments.length,1)>k,$=g(R)?R:_(R),L=O?T(arguments,k):[],H=O?function(){v($,this,L)}:$;return M?Q(H,D):Q(H)}:Q}}),"./node_modules/core-js/internals/set-clone.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js"),v=A("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,B=m.add;u.exports=function(S){var T=new g;return v(S,function(E){B(T,E)}),T}}),"./node_modules/core-js/internals/set-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),B=A("./node_modules/core-js/internals/set-size.js"),S=A("./node_modules/core-js/internals/get-set-record.js"),T=A("./node_modules/core-js/internals/set-iterate.js"),E=A("./node_modules/core-js/internals/iterate-simple.js"),_=v.has,F=v.remove;u.exports=function(M){var k=m(this),R=S(M),D=g(k);return B(k)<=R.size?T(k,function(O){R.includes(O)&&F(D,O)}):E(R.getIterator(),function(O){_(D,O)&&F(D,O)}),D}}),"./node_modules/core-js/internals/set-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=Set.prototype;u.exports={Set,add:m(v.add),has:m(v.has),remove:m(v.delete),proto:v}}),"./node_modules/core-js/internals/set-intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-size.js"),B=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),T=A("./node_modules/core-js/internals/iterate-simple.js"),E=v.Set,_=v.add,F=v.has;u.exports=function(M){var k=m(this),R=B(M),D=new E;return g(k)>R.size?T(R.getIterator(),function(O){F(k,O)&&_(D,O)}):S(k,function(O){R.includes(O)&&_(D,O)}),D}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),B=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),T=A("./node_modules/core-js/internals/iterate-simple.js"),E=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(F){var Q=m(this),M=B(F);if(g(Q)<=M.size)return S(Q,function(R){if(M.includes(R))return!1},!0)!==!1;var k=M.getIterator();return T(k,function(R){if(v(Q,R))return E(k,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-size.js"),g=A("./node_modules/core-js/internals/set-iterate.js"),B=A("./node_modules/core-js/internals/get-set-record.js");u.exports=function(T){var E=m(this),_=B(T);return v(E)>_.size?!1:g(E,function(F){if(!_.includes(F))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),B=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/iterate-simple.js"),T=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(_){var F=m(this),Q=B(_);if(g(F)<Q.size)return!1;var M=Q.getIterator();return S(M,function(k){if(!v(F,k))return T(M,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/iterate-simple.js"),g=A("./node_modules/core-js/internals/set-helpers.js"),B=g.Set,S=g.proto,T=m(S.forEach),E=m(S.keys),_=E(new B).next;u.exports=function(F,Q,M){return M?v({iterator:E(F),next:_},Q):T(F,Q)}}),"./node_modules/core-js/internals/set-size.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=A("./node_modules/core-js/internals/set-helpers.js");u.exports=m(v.proto,"size","get")||function(g){return g.size}}),"./node_modules/core-js/internals/set-species.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),B=A("./node_modules/core-js/internals/descriptors.js"),S=g("species");u.exports=function(T){var E=m(T);B&&E&&!E[S]&&v(E,S,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),B=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/iterate-simple.js"),T=v.add,E=v.has,_=v.remove;u.exports=function(Q){var M=m(this),k=B(Q).getIterator(),R=g(M);return S(k,function(D){E(M,D)?_(R,D):T(R,D)}),R}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-define-property.js").f,v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),B=g("toStringTag");u.exports=function(S,T,E){S&&!E&&(S=S.prototype),S&&!v(S,B)&&m(S,B,{configurable:!0,value:T})}}),"./node_modules/core-js/internals/set-union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").add,g=A("./node_modules/core-js/internals/set-clone.js"),B=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/iterate-simple.js");u.exports=function(E){var _=m(this),F=B(E).getIterator(),Q=g(_);return S(F,function(M){v(Q,M)}),Q}}),"./node_modules/core-js/internals/shared-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared.js"),v=A("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(B){return g[B]||(g[B]=v(B))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-pure.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/define-global-property.js"),B="__core-js_shared__",S=u.exports=v[B]||g(B,{});(S.versions||(S.versions=[])).push({version:"3.45.1",mode:m?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared-store.js");u.exports=function(v,g){return m[v]||(m[v]=g||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/a-constructor.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),B=A("./node_modules/core-js/internals/well-known-symbol.js"),S=B("species");u.exports=function(T,E){var _=m(T).constructor,F;return _===void 0||g(F=m(_)[S])?E:v(F)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(v){return m(function(){var g=""[v]('"');return g!==g.toLowerCase()||g.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=A("./node_modules/core-js/internals/to-string.js"),B=A("./node_modules/core-js/internals/require-object-coercible.js"),S=m("".charAt),T=m("".charCodeAt),E=m("".slice),_=function(F){return function(Q,M){var k=g(B(Q)),R=v(M),D=k.length,O,$;return R<0||R>=D?F?"":void 0:(O=T(k,R),O<55296||O>56319||R+1===D||($=T(k,R+1))<56320||$>57343?F?S(k,R):O:F?E(k,R,R+2):(O-55296<<10)+($-56320)+65536)}};u.exports={codeAt:_(!1),charAt:_(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),B=A("./node_modules/core-js/internals/whitespaces.js"),S=m("".replace),T=RegExp("^["+B+"]+"),E=RegExp("(^|[^"+B+"])["+B+"]+$"),_=function(F){return function(Q){var M=g(v(Q));return F&1&&(M=S(M,T,"")),F&2&&(M=S(M,E,"$1")),M}};u.exports={start:_(1),end:_(2),trim:_(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-v8-version.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/global-this.js"),B=g.String;u.exports=!!Object.getOwnPropertySymbols&&!v(function(){var S=Symbol("symbol detection");return!B(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&m&&m<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),B=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(){var S=v("Symbol"),T=S&&S.prototype,E=T&&T.valueOf,_=g("toPrimitive");T&&!T[_]&&B(T,_,function(F){return m(E,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),B=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),T=A("./node_modules/core-js/internals/fails.js"),E=A("./node_modules/core-js/internals/html.js"),_=A("./node_modules/core-js/internals/array-slice.js"),F=A("./node_modules/core-js/internals/document-create-element.js"),Q=A("./node_modules/core-js/internals/validate-arguments-length.js"),M=A("./node_modules/core-js/internals/environment-is-ios.js"),k=A("./node_modules/core-js/internals/environment-is-node.js"),R=m.setImmediate,D=m.clearImmediate,O=m.process,$=m.Dispatch,L=m.Function,H=m.MessageChannel,z=m.String,re=0,pe={},ae="onreadystatechange",ne,Z,ue,je;T(function(){ne=m.location});var se=function(he){if(S(pe,he)){var ce=pe[he];delete pe[he],ce()}},G=function(he){return function(){se(he)}},te=function(he){se(he.data)},le=function(he){m.postMessage(z(he),ne.protocol+"//"+ne.host)};(!R||!D)&&(R=function(ce){Q(arguments.length,1);var xe=B(ce)?ce:L(ce),Ne=_(arguments,1);return pe[++re]=function(){v(xe,void 0,Ne)},Z(re),re},D=function(ce){delete pe[ce]},k?Z=function(he){O.nextTick(G(he))}:$&&$.now?Z=function(he){$.now(G(he))}:H&&!M?(ue=new H,je=ue.port2,ue.port1.onmessage=te,Z=g(je.postMessage,je)):m.addEventListener&&B(m.postMessage)&&!m.importScripts&&ne&&ne.protocol!=="file:"&&!T(le)?(Z=le,m.addEventListener("message",te,!1)):ae in F("script")?Z=function(he){E.appendChild(F("script"))[ae]=function(){E.removeChild(this),se(he)}}:Z=function(he){setTimeout(G(he),0)}),u.exports={set:R,clear:D}}),"./node_modules/core-js/internals/this-number-value.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.max,g=Math.min;u.exports=function(B,S){var T=m(B);return T<0?v(T+S,0):g(T,S)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/indexed-object.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(v(g))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/math-trunc.js");u.exports=function(v){var g=+v;return g!==g||g===0?0:m(g)}}),"./node_modules/core-js/internals/to-length.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.min;u.exports=function(g){var B=m(g);return B>0?v(B,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js"),v=Object;u.exports=function(g){return v(m(g))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),B=A("./node_modules/core-js/internals/get-method.js"),S=A("./node_modules/core-js/internals/ordinary-to-primitive.js"),T=A("./node_modules/core-js/internals/well-known-symbol.js"),E=TypeError,_=T("toPrimitive");u.exports=function(F,Q){if(!v(F)||g(F))return F;var M=B(F,_),k;if(M){if(Q===void 0&&(Q="default"),k=m(M,F,Q),!v(k)||g(k))return k;throw new E("Can't convert object to primitive value")}return Q===void 0&&(Q="number"),S(F,Q)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-primitive.js"),v=A("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var B=m(g,"string");return v(B)?B:B+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-iterable.js"),B=A("./node_modules/core-js/internals/is-object.js"),S=m("Set"),T=function(E){return B(E)&&typeof E.size=="number"&&v(E.has)&&v(E.keys)};u.exports=function(E){return T(E)?E:g(E)?new S(E):E}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=m("toStringTag"),g={};g[v]="z",u.exports=String(g)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=String;u.exports=function(g){if(m(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v(g)}}),"./node_modules/core-js/internals/try-to-string.js":(function(u){var f=String;u.exports=function(A){try{return f(A)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=0,g=Math.random(),B=m(1.1.toString);u.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+B(++v+g,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/fails.js");u.exports=m&&v(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(u){var f=TypeError;u.exports=function(A,m){if(A<m)throw new f("Not enough arguments");return A}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=m.WeakMap;u.exports=v(g)&&/native code/.test(String(g))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/path.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),B=A("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(S){var T=m.Symbol||(m.Symbol={});v(T,S)||B(T,S,{value:g.f(S)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js");f.f=m}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/shared.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),B=A("./node_modules/core-js/internals/uid.js"),S=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),T=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),E=m.Symbol,_=v("wks"),F=T?E.for||E:E&&E.withoutSetter||B;u.exports=function(Q){return g(_,Q)||(_[Q]=S&&g(E,Q)?E[Q]:F("Symbol."+Q)),_[Q]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-array.js"),B=A("./node_modules/core-js/internals/is-object.js"),S=A("./node_modules/core-js/internals/to-object.js"),T=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),_=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/array-species-create.js"),Q=A("./node_modules/core-js/internals/array-method-has-species-support.js"),M=A("./node_modules/core-js/internals/well-known-symbol.js"),k=A("./node_modules/core-js/internals/environment-v8-version.js"),R=M("isConcatSpreadable"),D=k>=51||!v(function(){var L=[];return L[R]=!1,L.concat()[0]!==L}),O=function(L){if(!B(L))return!1;var H=L[R];return H!==void 0?!!H:g(L)},$=!D||!Q("concat");m({target:"Array",proto:!0,arity:1,forced:$},{concat:function(H){var z=S(this),re=F(z,0),pe=0,ae,ne,Z,ue,je;for(ae=-1,Z=arguments.length;ae<Z;ae++)if(je=ae===-1?z:arguments[ae],O(je))for(ue=T(je),E(pe+ue),ne=0;ne<ue;ne++,pe++)ne in je&&_(re,pe,je[ne]);else E(pe+1),_(re,pe++,je);return re.length=pe,re}})}),"./node_modules/core-js/modules/es.array.from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/array-from.js"),g=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),B=!g(function(S){Array.from(S)});m({target:"Array",stat:!0,forced:B},{from:v})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),v=A("./node_modules/core-js/internals/add-to-unscopables.js"),g=A("./node_modules/core-js/internals/iterators.js"),B=A("./node_modules/core-js/internals/internal-state.js"),S=A("./node_modules/core-js/internals/object-define-property.js").f,T=A("./node_modules/core-js/internals/iterator-define.js"),E=A("./node_modules/core-js/internals/create-iter-result-object.js"),_=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/descriptors.js"),Q="Array Iterator",M=B.set,k=B.getterFor(Q);u.exports=T(Array,"Array",function(D,O){M(this,{type:Q,target:m(D),index:0,kind:O})},function(){var D=k(this),O=D.target,$=D.index++;if(!O||$>=O.length)return D.target=null,E(void 0,!0);switch(D.kind){case"keys":return E($,!1);case"values":return E(O[$],!1)}return E([$,O[$]],!1)},"values");var R=g.Arguments=g.Array;if(v("keys"),v("values"),v("entries"),!_&&F&&R.name!=="values")try{S(R,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),B=A("./node_modules/core-js/internals/to-indexed-object.js"),S=A("./node_modules/core-js/internals/array-method-is-strict.js"),T=v([].join),E=g!==Object,_=E||!S("join",",");m({target:"Array",proto:!0,forced:_},{join:function(Q){return T(B(this),Q===void 0?",":Q)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/array-iteration.js").map,g=A("./node_modules/core-js/internals/array-method-has-species-support.js"),B=g("map");m({target:"Array",proto:!0,forced:!B},{map:function(T){return v(this,T,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-constructor.js"),B=A("./node_modules/core-js/internals/is-object.js"),S=A("./node_modules/core-js/internals/to-absolute-index.js"),T=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/to-indexed-object.js"),_=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/well-known-symbol.js"),Q=A("./node_modules/core-js/internals/array-method-has-species-support.js"),M=A("./node_modules/core-js/internals/array-slice.js"),k=Q("slice"),R=F("species"),D=Array,O=Math.max;m({target:"Array",proto:!0,forced:!k},{slice:function(L,H){var z=E(this),re=T(z),pe=S(L,re),ae=S(H===void 0?re:H,re),ne,Z,ue;if(v(z)&&(ne=z.constructor,g(ne)&&(ne===D||v(ne.prototype))?ne=void 0:B(ne)&&(ne=ne[R],ne===null&&(ne=void 0)),ne===D||ne===void 0))return M(z,pe,ae);for(Z=new(ne===void 0?D:ne)(O(ae-pe,0)),ue=0;pe<ae;pe++,ue++)pe in z&&_(Z,ue,z[pe]);return Z.length=ue,Z}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-name.js").EXISTS,g=A("./node_modules/core-js/internals/function-uncurry-this.js"),B=A("./node_modules/core-js/internals/define-built-in-accessor.js"),S=Function.prototype,T=g(S.toString),E=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,_=g(E.exec),F="name";m&&!v&&B(S,F,{configurable:!0,get:function(){try{return _(E,T(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/an-instance.js"),B=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/is-callable.js"),T=A("./node_modules/core-js/internals/object-get-prototype-of.js"),E=A("./node_modules/core-js/internals/define-built-in-accessor.js"),_=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/fails.js"),Q=A("./node_modules/core-js/internals/has-own-property.js"),M=A("./node_modules/core-js/internals/well-known-symbol.js"),k=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,R=A("./node_modules/core-js/internals/descriptors.js"),D=A("./node_modules/core-js/internals/is-pure.js"),O="constructor",$="Iterator",L=M("toStringTag"),H=TypeError,z=v[$],re=D||!S(z)||z.prototype!==k||!F(function(){z({})}),pe=function(){if(g(this,k),T(this)===k)throw new H("Abstract class Iterator not directly constructable")},ae=function(ne,Z){R?E(k,ne,{configurable:!0,get:function(){return Z},set:function(ue){if(B(this),this===k)throw new H("You can't redefine this property");Q(this,ne)?this[ne]=ue:_(this,ne,ue)}}):k[ne]=Z};Q(k,L)||ae(L,$),(re||!Q(k,O)||k[O]===Object)&&ae(O,pe),pe.prototype=k,m({global:!0,constructor:!0,forced:re},{Iterator:pe})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/iterate.js"),B=A("./node_modules/core-js/internals/a-callable.js"),S=A("./node_modules/core-js/internals/an-object.js"),T=A("./node_modules/core-js/internals/get-iterator-direct.js"),E=A("./node_modules/core-js/internals/iterator-close.js"),_=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),F=_("forEach",TypeError);m({target:"Iterator",proto:!0,real:!0,forced:F},{forEach:function(M){S(this);try{B(M)}catch(D){E(this,"throw",D)}if(F)return v(F,this,M);var k=T(this),R=0;g(k,function(D){M(D,R++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),B=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/get-iterator-direct.js"),T=A("./node_modules/core-js/internals/iterator-create-proxy.js"),E=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),_=A("./node_modules/core-js/internals/iterator-close.js"),F=A("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),Q=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),M=A("./node_modules/core-js/internals/is-pure.js"),k=!M&&!F("map",function(){}),R=!M&&!k&&Q("map",TypeError),D=M||k||R,O=T(function(){var $=this.iterator,L=B(v(this.next,$)),H=this.done=!!L.done;if(!H)return E($,this.mapper,[L.value,this.counter++],!0)});m({target:"Iterator",proto:!0,real:!0,forced:D},{map:function(L){B(this);try{g(L)}catch(H){_(this,"throw",H)}return R?v(R,this,L):new O(S(this),{mapper:L})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/function-apply.js"),B=A("./node_modules/core-js/internals/function-call.js"),S=A("./node_modules/core-js/internals/function-uncurry-this.js"),T=A("./node_modules/core-js/internals/fails.js"),E=A("./node_modules/core-js/internals/is-callable.js"),_=A("./node_modules/core-js/internals/is-symbol.js"),F=A("./node_modules/core-js/internals/array-slice.js"),Q=A("./node_modules/core-js/internals/get-json-replacer-function.js"),M=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),k=String,R=v("JSON","stringify"),D=S(/./.exec),O=S("".charAt),$=S("".charCodeAt),L=S("".replace),H=S(1.1.toString),z=/[\uD800-\uDFFF]/g,re=/^[\uD800-\uDBFF]$/,pe=/^[\uDC00-\uDFFF]$/,ae=!M||T(function(){var je=v("Symbol")("stringify detection");return R([je])!=="[null]"||R({a:je})!=="{}"||R(Object(je))!=="{}"}),ne=T(function(){return R("\uDF06\uD834")!=='"\\udf06\\ud834"'||R("\uDEAD")!=='"\\udead"'}),Z=function(je,se){var G=F(arguments),te=Q(se);if(!(!E(te)&&(je===void 0||_(je))))return G[1]=function(le,he){if(E(te)&&(he=B(te,this,k(le),he)),!_(he))return he},g(R,null,G)},ue=function(je,se,G){var te=O(G,se-1),le=O(G,se+1);return D(re,je)&&!D(pe,le)||D(pe,je)&&!D(re,te)?"\\u"+H($(je,0),16):je};R&&m({target:"JSON",stat:!0,arity:3,forced:ae||ne},{stringify:function(se,G,te){var le=F(arguments),he=g(ae?Z:R,null,le);return ne&&typeof he=="string"?L(he,z,ue):he}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/descriptors.js"),B=A("./node_modules/core-js/internals/global-this.js"),S=A("./node_modules/core-js/internals/path.js"),T=A("./node_modules/core-js/internals/function-uncurry-this.js"),E=A("./node_modules/core-js/internals/is-forced.js"),_=A("./node_modules/core-js/internals/has-own-property.js"),F=A("./node_modules/core-js/internals/inherit-if-required.js"),Q=A("./node_modules/core-js/internals/object-is-prototype-of.js"),M=A("./node_modules/core-js/internals/is-symbol.js"),k=A("./node_modules/core-js/internals/to-primitive.js"),R=A("./node_modules/core-js/internals/fails.js"),D=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,O=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,$=A("./node_modules/core-js/internals/object-define-property.js").f,L=A("./node_modules/core-js/internals/this-number-value.js"),H=A("./node_modules/core-js/internals/string-trim.js").trim,z="Number",re=B[z],pe=S[z],ae=re.prototype,ne=B.TypeError,Z=T("".slice),ue=T("".charCodeAt),je=function(ce){var xe=k(ce,"number");return typeof xe=="bigint"?xe:se(xe)},se=function(ce){var xe=k(ce,"number"),Ne,Te,Fe,tt,$e,it,Ve,fe;if(M(xe))throw new ne("Cannot convert a Symbol value to a number");if(typeof xe=="string"&&xe.length>2){if(xe=H(xe),Ne=ue(xe,0),Ne===43||Ne===45){if(Te=ue(xe,2),Te===88||Te===120)return NaN}else if(Ne===48){switch(ue(xe,1)){case 66:case 98:Fe=2,tt=49;break;case 79:case 111:Fe=8,tt=55;break;default:return+xe}for($e=Z(xe,2),it=$e.length,Ve=0;Ve<it;Ve++)if(fe=ue($e,Ve),fe<48||fe>tt)return NaN;return parseInt($e,Fe)}}return+xe},G=E(z,!re(" 0o1")||!re("0b1")||re("+0x1")),te=function(ce){return Q(ae,ce)&&R(function(){L(ce)})},le=function(xe){var Ne=arguments.length<1?0:re(je(xe));return te(this)?F(Object(Ne),this,le):Ne};le.prototype=ae,G&&!v&&(ae.constructor=le),m({global:!0,constructor:!0,wrap:!0,forced:G},{Number:le});var he=function(ce,xe){for(var Ne=g?D(xe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Te=0,Fe;Ne.length>Te;Te++)_(xe,Fe=Ne[Te])&&!_(ce,Fe)&&$(ce,Fe,O(xe,Fe))};v&&pe&&he(S[z],pe),(G||v)&&he(S[z],re)}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==v},{assign:v})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=A("./node_modules/core-js/internals/fails.js"),B=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=A("./node_modules/core-js/internals/to-object.js"),T=!v||g(function(){B.f(1)});m({target:"Object",stat:!0,forced:T},{getOwnPropertySymbols:function(_){var F=B.f;return F?F(S(_)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/to-object.js"),g=A("./node_modules/core-js/internals/object-keys.js"),B=A("./node_modules/core-js/internals/fails.js"),S=B(function(){g(1)});m({target:"Object",stat:!0,forced:S},{keys:function(E){return g(v(E))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/object-to-string.js");m||v(Object.prototype,"toString",g,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),B=A("./node_modules/core-js/internals/new-promise-capability.js"),S=A("./node_modules/core-js/internals/perform.js"),T=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:E},{all:function(F){var Q=this,M=B.f(Q),k=M.resolve,R=M.reject,D=S(function(){var O=g(Q.resolve),$=[],L=0,H=1;T(F,function(z){var re=L++,pe=!1;H++,v(O,Q,z).then(function(ae){pe||(pe=!0,$[re]=ae,--H||k($))},R)}),--H||k($)});return D.error&&R(D.value),M.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,B=A("./node_modules/core-js/internals/promise-native-constructor.js"),S=A("./node_modules/core-js/internals/get-built-in.js"),T=A("./node_modules/core-js/internals/is-callable.js"),E=A("./node_modules/core-js/internals/define-built-in.js"),_=B&&B.prototype;if(m({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(Q){return this.then(void 0,Q)}}),!v&&T(B)){var F=S("Promise").prototype.catch;_.catch!==F&&E(_,"catch",F,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/environment-is-node.js"),B=A("./node_modules/core-js/internals/global-this.js"),S=A("./node_modules/core-js/internals/path.js"),T=A("./node_modules/core-js/internals/function-call.js"),E=A("./node_modules/core-js/internals/define-built-in.js"),_=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),Q=A("./node_modules/core-js/internals/set-species.js"),M=A("./node_modules/core-js/internals/a-callable.js"),k=A("./node_modules/core-js/internals/is-callable.js"),R=A("./node_modules/core-js/internals/is-object.js"),D=A("./node_modules/core-js/internals/an-instance.js"),O=A("./node_modules/core-js/internals/species-constructor.js"),$=A("./node_modules/core-js/internals/task.js").set,L=A("./node_modules/core-js/internals/microtask.js"),H=A("./node_modules/core-js/internals/host-report-errors.js"),z=A("./node_modules/core-js/internals/perform.js"),re=A("./node_modules/core-js/internals/queue.js"),pe=A("./node_modules/core-js/internals/internal-state.js"),ae=A("./node_modules/core-js/internals/promise-native-constructor.js"),ne=A("./node_modules/core-js/internals/promise-constructor-detection.js"),Z=A("./node_modules/core-js/internals/new-promise-capability.js"),ue="Promise",je=ne.CONSTRUCTOR,se=ne.REJECTION_EVENT,G=ne.SUBCLASSING,te=pe.getterFor(ue),le=pe.set,he=ae&&ae.prototype,ce=ae,xe=he,Ne=B.TypeError,Te=B.document,Fe=B.process,tt=Z.f,$e=tt,it=!!(Te&&Te.createEvent&&B.dispatchEvent),Ve="unhandledrejection",fe="rejectionhandled",ut=0,Lt=1,Ge=2,Je=1,Qt=2,Ut,Yt,zt,Jt,yn=function(He){var at;return R(He)&&k(at=He.then)?at:!1},tn=function(He,at){var ht=at.value,Rt=at.state===Lt,Bt=Rt?He.ok:He.fail,Ht=He.resolve,xn=He.reject,Ct=He.domain,dt,Dt,Xt;try{Bt?(Rt||(at.rejection===Qt&&kt(at),at.rejection=Je),Bt===!0?dt=ht:(Ct&&Ct.enter(),dt=Bt(ht),Ct&&(Ct.exit(),Xt=!0)),dt===He.promise?xn(new Ne("Promise-chain cycle")):(Dt=yn(dt))?T(Dt,dt,Ht,xn):Ht(dt)):xn(ht)}catch(rn){Ct&&!Xt&&Ct.exit(),xn(rn)}},Dn=function(He,at){He.notified||(He.notified=!0,L(function(){for(var ht=He.reactions,Rt;Rt=ht.get();)tn(Rt,He);He.notified=!1,at&&!He.rejection&&Et(He)}))},xt=function(He,at,ht){var Rt,Bt;it?(Rt=Te.createEvent("Event"),Rt.promise=at,Rt.reason=ht,Rt.initEvent(He,!1,!0),B.dispatchEvent(Rt)):Rt={promise:at,reason:ht},!se&&(Bt=B["on"+He])?Bt(Rt):He===Ve&&H("Unhandled promise rejection",ht)},Et=function(He){T($,B,function(){var at=He.facade,ht=He.value,Rt=Gt(He),Bt;if(Rt&&(Bt=z(function(){g?Fe.emit("unhandledRejection",ht,at):xt(Ve,at,ht)}),He.rejection=g||Gt(He)?Qt:Je,Bt.error))throw Bt.value})},Gt=function(He){return He.rejection!==Je&&!He.parent},kt=function(He){T($,B,function(){var at=He.facade;g?Fe.emit("rejectionHandled",at):xt(fe,at,He.value)})},Pn=function(He,at,ht){return function(Rt){He(at,Rt,ht)}},ke=function(He,at,ht){He.done||(He.done=!0,ht&&(He=ht),He.value=at,He.state=Ge,Dn(He,!0))},gt=function(He,at,ht){if(!He.done){He.done=!0,ht&&(He=ht);try{if(He.facade===at)throw new Ne("Promise can't be resolved itself");var Rt=yn(at);Rt?L(function(){var Bt={done:!1};try{T(Rt,at,Pn(gt,Bt,He),Pn(ke,Bt,He))}catch(Ht){ke(Bt,Ht,He)}}):(He.value=at,He.state=Lt,Dn(He,!1))}catch(Bt){ke({done:!1},Bt,He)}}};if(je&&(ce=function(at){D(this,xe),M(at),T(Ut,this);var ht=te(this);try{at(Pn(gt,ht),Pn(ke,ht))}catch(Rt){ke(ht,Rt)}},xe=ce.prototype,Ut=function(at){le(this,{type:ue,done:!1,notified:!1,parent:!1,reactions:new re,rejection:!1,state:ut,value:null})},Ut.prototype=E(xe,"then",function(at,ht){var Rt=te(this),Bt=tt(O(this,ce));return Rt.parent=!0,Bt.ok=k(at)?at:!0,Bt.fail=k(ht)&&ht,Bt.domain=g?Fe.domain:void 0,Rt.state===ut?Rt.reactions.add(Bt):L(function(){tn(Bt,Rt)}),Bt.promise}),Yt=function(){var He=new Ut,at=te(He);this.promise=He,this.resolve=Pn(gt,at),this.reject=Pn(ke,at)},Z.f=tt=function(He){return He===ce||He===zt?new Yt(He):$e(He)},!v&&k(ae)&&he!==Object.prototype)){Jt=he.then,G||E(he,"then",function(at,ht){var Rt=this;return new ce(function(Bt,Ht){T(Jt,Rt,Bt,Ht)}).then(at,ht)},{unsafe:!0});try{delete he.constructor}catch{}_&&_(he,xe)}m({global:!0,constructor:!0,wrap:!0,forced:je},{Promise:ce}),zt=S.Promise,F(ce,ue,!1,!0),Q(ue)}),"./node_modules/core-js/modules/es.promise.js":(function(u,f,A){A("./node_modules/core-js/modules/es.promise.constructor.js"),A("./node_modules/core-js/modules/es.promise.all.js"),A("./node_modules/core-js/modules/es.promise.catch.js"),A("./node_modules/core-js/modules/es.promise.race.js"),A("./node_modules/core-js/modules/es.promise.reject.js"),A("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),B=A("./node_modules/core-js/internals/new-promise-capability.js"),S=A("./node_modules/core-js/internals/perform.js"),T=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:E},{race:function(F){var Q=this,M=B.f(Q),k=M.reject,R=S(function(){var D=g(Q.resolve);T(F,function(O){v(D,Q,O).then(M.resolve,k)})});return R.error&&k(R.value),M.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/new-promise-capability.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;m({target:"Promise",stat:!0,forced:g},{reject:function(S){var T=v.f(this),E=T.reject;return E(S),T.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/is-pure.js"),B=A("./node_modules/core-js/internals/promise-native-constructor.js"),S=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,T=A("./node_modules/core-js/internals/promise-resolve.js"),E=v("Promise"),_=g&&!S;m({target:"Promise",stat:!0,forced:g||S},{resolve:function(Q){return T(_&&this===E?B:this,Q)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/regexp-exec.js");m({target:"RegExp",proto:!0,forced:/./.exec!==v},{exec:v})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(u,f,A){A("./node_modules/core-js/modules/es.regexp.exec.js");var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-callable.js"),B=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/to-string.js"),T=(function(){var _=!1,F=/[ac]/;return F.exec=function(){return _=!0,/./.exec.apply(this,arguments)},F.test("abc")===!0&&_})(),E=/./.test;m({target:"RegExp",proto:!0,forced:!T},{test:function(_){var F=B(this),Q=S(_),M=F.exec;if(!g(M))return v(E,F,Q);var k=v(M,F,Q);return k===null?!1:(B(k),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-name.js").PROPER,v=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/an-object.js"),B=A("./node_modules/core-js/internals/to-string.js"),S=A("./node_modules/core-js/internals/fails.js"),T=A("./node_modules/core-js/internals/regexp-get-flags.js"),E="toString",_=RegExp.prototype,F=_[E],Q=S(function(){return F.call({source:"a",flags:"b"})!=="/a/b"}),M=m&&F.name!==E;(Q||M)&&v(_,E,function(){var R=g(this),D=B(R.source),O=B(T(R));return"/"+D+"/"+O},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/collection.js"),v=A("./node_modules/core-js/internals/collection-strong.js");m("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},v)}),"./node_modules/core-js/modules/es.set.js":(function(u,f,A){A("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/string-multibyte.js").charAt,v=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/internal-state.js"),B=A("./node_modules/core-js/internals/iterator-define.js"),S=A("./node_modules/core-js/internals/create-iter-result-object.js"),T="String Iterator",E=g.set,_=g.getterFor(T);B(String,"String",function(F){E(this,{type:T,string:v(F),index:0})},function(){var Q=_(this),M=Q.string,k=Q.index,R;return k>=M.length?S(void 0,!0):(R=m(M,k),Q.index+=R.length,S(R,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/create-html.js"),g=A("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(S){return v(this,"a","href",S)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),B=A("./node_modules/core-js/internals/function-uncurry-this.js"),S=A("./node_modules/core-js/internals/is-pure.js"),T=A("./node_modules/core-js/internals/descriptors.js"),E=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),_=A("./node_modules/core-js/internals/fails.js"),F=A("./node_modules/core-js/internals/has-own-property.js"),Q=A("./node_modules/core-js/internals/object-is-prototype-of.js"),M=A("./node_modules/core-js/internals/an-object.js"),k=A("./node_modules/core-js/internals/to-indexed-object.js"),R=A("./node_modules/core-js/internals/to-property-key.js"),D=A("./node_modules/core-js/internals/to-string.js"),O=A("./node_modules/core-js/internals/create-property-descriptor.js"),$=A("./node_modules/core-js/internals/object-create.js"),L=A("./node_modules/core-js/internals/object-keys.js"),H=A("./node_modules/core-js/internals/object-get-own-property-names.js"),z=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),re=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),pe=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),ae=A("./node_modules/core-js/internals/object-define-property.js"),ne=A("./node_modules/core-js/internals/object-define-properties.js"),Z=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),ue=A("./node_modules/core-js/internals/define-built-in.js"),je=A("./node_modules/core-js/internals/define-built-in-accessor.js"),se=A("./node_modules/core-js/internals/shared.js"),G=A("./node_modules/core-js/internals/shared-key.js"),te=A("./node_modules/core-js/internals/hidden-keys.js"),le=A("./node_modules/core-js/internals/uid.js"),he=A("./node_modules/core-js/internals/well-known-symbol.js"),ce=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),xe=A("./node_modules/core-js/internals/well-known-symbol-define.js"),Ne=A("./node_modules/core-js/internals/symbol-define-to-primitive.js"),Te=A("./node_modules/core-js/internals/set-to-string-tag.js"),Fe=A("./node_modules/core-js/internals/internal-state.js"),tt=A("./node_modules/core-js/internals/array-iteration.js").forEach,$e=G("hidden"),it="Symbol",Ve="prototype",fe=Fe.set,ut=Fe.getterFor(it),Lt=Object[Ve],Ge=v.Symbol,Je=Ge&&Ge[Ve],Qt=v.RangeError,Ut=v.TypeError,Yt=v.QObject,zt=pe.f,Jt=ae.f,yn=z.f,tn=Z.f,Dn=B([].push),xt=se("symbols"),Et=se("op-symbols"),Gt=se("wks"),kt=!Yt||!Yt[Ve]||!Yt[Ve].findChild,Pn=function(Ct,dt,Dt){var Xt=zt(Lt,dt);Xt&&delete Lt[dt],Jt(Ct,dt,Dt),Xt&&Ct!==Lt&&Jt(Lt,dt,Xt)},ke=T&&_(function(){return $(Jt({},"a",{get:function(){return Jt(this,"a",{value:7}).a}})).a!==7})?Pn:Jt,gt=function(Ct,dt){var Dt=xt[Ct]=$(Je);return fe(Dt,{type:it,tag:Ct,description:dt}),T||(Dt.description=dt),Dt},He=function(dt,Dt,Xt){dt===Lt&&He(Et,Dt,Xt),M(dt);var rn=R(Dt);return M(Xt),F(xt,rn)?(Xt.enumerable?(F(dt,$e)&&dt[$e][rn]&&(dt[$e][rn]=!1),Xt=$(Xt,{enumerable:O(0,!1)})):(F(dt,$e)||Jt(dt,$e,O(1,$(null))),dt[$e][rn]=!0),ke(dt,rn,Xt)):Jt(dt,rn,Xt)},at=function(dt,Dt){M(dt);var Xt=k(Dt),rn=L(Xt).concat(xn(Xt));return tt(rn,function(cs){(!T||g(Rt,Xt,cs))&&He(dt,cs,Xt[cs])}),dt},ht=function(dt,Dt){return Dt===void 0?$(dt):at($(dt),Dt)},Rt=function(dt){var Dt=R(dt),Xt=g(tn,this,Dt);return this===Lt&&F(xt,Dt)&&!F(Et,Dt)?!1:Xt||!F(this,Dt)||!F(xt,Dt)||F(this,$e)&&this[$e][Dt]?Xt:!0},Bt=function(dt,Dt){var Xt=k(dt),rn=R(Dt);if(!(Xt===Lt&&F(xt,rn)&&!F(Et,rn))){var cs=zt(Xt,rn);return cs&&F(xt,rn)&&!(F(Xt,$e)&&Xt[$e][rn])&&(cs.enumerable=!0),cs}},Ht=function(dt){var Dt=yn(k(dt)),Xt=[];return tt(Dt,function(rn){!F(xt,rn)&&!F(te,rn)&&Dn(Xt,rn)}),Xt},xn=function(Ct){var dt=Ct===Lt,Dt=yn(dt?Et:k(Ct)),Xt=[];return tt(Dt,function(rn){F(xt,rn)&&(!dt||F(Lt,rn))&&Dn(Xt,xt[rn])}),Xt};E||(Ge=function(){if(Q(Je,this))throw new Ut("Symbol is not a constructor");var dt=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),Dt=le(dt),Xt=function(rn){var cs=this===void 0?v:this;cs===Lt&&g(Xt,Et,rn),F(cs,$e)&&F(cs[$e],Dt)&&(cs[$e][Dt]=!1);var Bs=O(1,rn);try{ke(cs,Dt,Bs)}catch(ln){if(!(ln instanceof Qt))throw ln;Pn(cs,Dt,Bs)}};return T&&kt&&ke(Lt,Dt,{configurable:!0,set:Xt}),gt(Dt,dt)},Je=Ge[Ve],ue(Je,"toString",function(){return ut(this).tag}),ue(Ge,"withoutSetter",function(Ct){return gt(le(Ct),Ct)}),Z.f=Rt,ae.f=He,ne.f=at,pe.f=Bt,H.f=z.f=Ht,re.f=xn,ce.f=function(Ct){return gt(he(Ct),Ct)},T&&(je(Je,"description",{configurable:!0,get:function(){return ut(this).description}}),S||ue(Lt,"propertyIsEnumerable",Rt,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!E,sham:!E},{Symbol:Ge}),tt(L(Gt),function(Ct){xe(Ct)}),m({target:it,stat:!0,forced:!E},{useSetter:function(){kt=!0},useSimple:function(){kt=!1}}),m({target:"Object",stat:!0,forced:!E,sham:!T},{create:ht,defineProperty:He,defineProperties:at,getOwnPropertyDescriptor:Bt}),m({target:"Object",stat:!0,forced:!E},{getOwnPropertyNames:Ht}),Ne(),Te(Ge,it),te[$e]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/descriptors.js"),g=A("./node_modules/core-js/internals/global-this.js"),B=A("./node_modules/core-js/internals/function-uncurry-this.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),T=A("./node_modules/core-js/internals/is-callable.js"),E=A("./node_modules/core-js/internals/object-is-prototype-of.js"),_=A("./node_modules/core-js/internals/to-string.js"),F=A("./node_modules/core-js/internals/define-built-in-accessor.js"),Q=A("./node_modules/core-js/internals/copy-constructor-properties.js"),M=g.Symbol,k=M&&M.prototype;if(v&&T(M)&&(!("description"in k)||M().description!==void 0)){var R={},D=function(){var ae=arguments.length<1||arguments[0]===void 0?void 0:_(arguments[0]),ne=E(k,this)?new M(ae):ae===void 0?M():M(ae);return ae===""&&(R[ne]=!0),ne};Q(D,M),D.prototype=k,k.constructor=D;var O=String(M("description detection"))==="Symbol(description detection)",$=B(k.valueOf),L=B(k.toString),H=/^Symbol\((.*)\)[^)]+$/,z=B("".replace),re=B("".slice);F(k,"description",{configurable:!0,get:function(){var ae=$(this);if(S(R,ae))return"";var ne=L(ae),Z=O?re(ne,7,-1):z(ne,H,"$1");return Z===""?void 0:Z}}),m({global:!0,constructor:!0,forced:!0},{Symbol:D})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),B=A("./node_modules/core-js/internals/to-string.js"),S=A("./node_modules/core-js/internals/shared.js"),T=A("./node_modules/core-js/internals/symbol-registry-detection.js"),E=S("string-to-symbol-registry"),_=S("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!T},{for:function(F){var Q=B(F);if(g(E,Q))return E[Q];var M=v("Symbol")(Q);return E[Q]=M,_[M]=Q,M}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol-define.js");m("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,f,A){A("./node_modules/core-js/modules/es.symbol.constructor.js"),A("./node_modules/core-js/modules/es.symbol.for.js"),A("./node_modules/core-js/modules/es.symbol.key-for.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),B=A("./node_modules/core-js/internals/try-to-string.js"),S=A("./node_modules/core-js/internals/shared.js"),T=A("./node_modules/core-js/internals/symbol-registry-detection.js"),E=S("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!T},{keyFor:function(F){if(!g(F))throw new TypeError(B(F)+" is not a symbol");if(v(E,F))return E[F]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").add;m({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var S=v(this),T=0,E=arguments.length;T<E;T++)g(S,arguments[T]);return S}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").remove;m({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var S=v(this),T=!0,E,_=0,F=arguments.length;_<F;_++)E=g(S,arguments[_]),T=T&&E;return!!T}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),B=A("./node_modules/core-js/internals/set-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(T){return v(B,this,g(T))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),B=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{every:function(T){var E=g(this),_=v(T,arguments.length>1?arguments[1]:void 0);return B(E,function(F){if(!_(F,F,E))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),B=A("./node_modules/core-js/internals/set-helpers.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),T=B.Set,E=B.add;m({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(F){var Q=g(this),M=v(F,arguments.length>1?arguments[1]:void 0),k=new T;return S(Q,function(R){M(R,R,Q)&&E(k,R)}),k}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),B=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{find:function(T){var E=g(this),_=v(T,arguments.length>1?arguments[1]:void 0),F=B(E,function(Q){if(_(Q,Q,E))return{value:Q}},!0);return F&&F.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),B=A("./node_modules/core-js/internals/set-intersection.js");m({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(T){return v(B,this,g(T))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),B=A("./node_modules/core-js/internals/set-is-disjoint-from.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(T){return v(B,this,g(T))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),B=A("./node_modules/core-js/internals/set-is-subset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(T){return v(B,this,g(T))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),B=A("./node_modules/core-js/internals/set-is-superset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(T){return v(B,this,g(T))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/a-set.js"),B=A("./node_modules/core-js/internals/set-iterate.js"),S=A("./node_modules/core-js/internals/to-string.js"),T=v([].join),E=v([].push);m({target:"Set",proto:!0,real:!0,forced:!0},{join:function(F){var Q=g(this),M=F===void 0?",":S(F),k=[];return B(Q,function(R){E(k,R)}),T(k,M)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),B=A("./node_modules/core-js/internals/set-helpers.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),T=B.Set,E=B.add;m({target:"Set",proto:!0,real:!0,forced:!0},{map:function(F){var Q=g(this),M=v(F,arguments.length>1?arguments[1]:void 0),k=new T;return S(Q,function(R){E(k,M(R,R,Q))}),k}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/a-set.js"),B=A("./node_modules/core-js/internals/set-iterate.js"),S=TypeError;m({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(E){var _=g(this),F=arguments.length<2,Q=F?void 0:arguments[1];if(v(E),B(_,function(M){F?(F=!1,Q=M):Q=E(Q,M,M,_)}),F)throw new S("Reduce of empty set with no initial value");return Q}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),B=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{some:function(T){var E=g(this),_=v(T,arguments.length>1?arguments[1]:void 0);return B(E,function(F){if(_(F,F,E))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),B=A("./node_modules/core-js/internals/set-symmetric-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(T){return v(B,this,g(T))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),B=A("./node_modules/core-js/internals/set-union.js");m({target:"Set",proto:!0,real:!0,forced:!0},{union:function(T){return v(B,this,g(T))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),B=A("./node_modules/core-js/internals/array-for-each.js"),S=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),T=function(_){if(_&&_.forEach!==B)try{S(_,"forEach",B)}catch{_.forEach=B}};for(var E in v)v[E]&&T(m[E]&&m[E].prototype);T(g)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),B=A("./node_modules/core-js/modules/es.array.iterator.js"),S=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),T=A("./node_modules/core-js/internals/set-to-string-tag.js"),E=A("./node_modules/core-js/internals/well-known-symbol.js"),_=E("iterator"),F=B.values,Q=function(k,R){if(k){if(k[_]!==F)try{S(k,_,F)}catch{k[_]=F}if(T(k,R,!0),v[R]){for(var D in B)if(k[D]!==B[D])try{S(k,D,B[D])}catch{k[D]=B[D]}}}};for(var M in v)Q(m[M]&&m[M].prototype,M);Q(g,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),B=g(v.setInterval,!0);m({global:!0,bind:!0,forced:v.setInterval!==B},{setInterval:B})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),B=g(v.setTimeout,!0);m({global:!0,bind:!0,forced:v.setTimeout!==B},{setTimeout:B})}),"./node_modules/core-js/modules/web.timers.js":(function(u,f,A){A("./node_modules/core-js/modules/web.set-interval.js"),A("./node_modules/core-js/modules/web.set-timeout.js")}),"./src/plugin/hyperlinks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.link.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),v=A("./src/utils.js"),g=[],B={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return B.toContainer.call(this).then(function(){if(this.opt.enableLinks){var E=this.prop.container,_=E.querySelectorAll("a"),F=(0,v.unitConvert)(E.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(_,function(Q){for(var M=Q.getClientRects(),k=0;k<M.length;k++){var R=(0,v.unitConvert)(M[k],this.prop.pageSize.k);R.left-=F.left,R.top-=F.top;var D=Math.floor(R.top/this.prop.pageSize.inner.height)+1,O=this.opt.margin[0]+R.top%this.prop.pageSize.inner.height,$=this.opt.margin[1]+R.left;g.push({page:D,top:O,left:$,clientRect:R,link:Q})}},this)}})},m.default.prototype.toPdf=function(){return B.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(_){this.prop.pdf.setPage(_.page),this.prop.pdf.link(_.left,_.top,_.clientRect.width,_.clientRect.height,{url:_.link.href})},this);var E=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(E)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=A("jspdf");function v(g){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},v(g)}m.jsPDF.getPageSize=function(g,B,S){if(v(g)==="object"){var T=g;g=T.orientation,B=T.unit||B,S=T.format||S}B=B||"mm",S=S||"a4",g=(""+(g||"P")).toLowerCase();var E=(""+S).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(B){case"pt":var F=1;break;case"mm":var F=72/25.4;break;case"cm":var F=72/2.54;break;case"in":var F=72;break;case"px":var F=72/96;break;case"pc":var F=12;break;case"em":var F=12;break;case"ex":var F=6;break;default:throw"Invalid unit: "+B}if(_.hasOwnProperty(E))var Q=_[E][1]/F,M=_[E][0]/F;else try{var Q=S[1],M=S[0]}catch{throw new Error("Invalid format: "+S)}if(g==="p"||g==="portrait"){if(g="p",M>Q){var k=M;M=Q,Q=k}}else if(g==="l"||g==="landscape"){if(g="l",Q>M){var k=M;M=Q,Q=k}}else throw"Invalid orientation: "+g;var R={width:M,height:Q,unit:B,k:F};return R},f.default=m.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.join.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),v=A("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var T=this.prop.container,E=this.prop.pageSize.inner.px.height,_=[].concat(this.opt.pagebreak.mode),F={avoidAll:_.indexOf("avoid-all")!==-1,css:_.indexOf("css")!==-1,legacy:_.indexOf("legacy")!==-1},Q={},M=this;["before","after","avoid"].forEach(function(D){var O=F.avoidAll&&D==="avoid";Q[D]=O?[]:[].concat(M.opt.pagebreak[D]||[]),Q[D].length>0&&(Q[D]=Array.prototype.slice.call(T.querySelectorAll(Q[D].join(", "))))});var k=T.querySelectorAll(".html2pdf__page-break");k=Array.prototype.slice.call(k);var R=T.querySelectorAll("*");Array.prototype.forEach.call(R,function(O){var $={before:!1,after:F.legacy&&k.indexOf(O)!==-1,avoid:F.avoidAll};if(F.css){var L=window.getComputedStyle(O),H=["always","page","left","right"],z=["avoid","avoid-page"];$={before:$.before||H.indexOf(L.breakBefore||L.pageBreakBefore)!==-1,after:$.after||H.indexOf(L.breakAfter||L.pageBreakAfter)!==-1,avoid:$.avoid||z.indexOf(L.breakInside||L.pageBreakInside)!==-1}}Object.keys($).forEach(function(ue){$[ue]=$[ue]||Q[ue].indexOf(O)!==-1});var re=O.getBoundingClientRect();if($.avoid&&!$.before){var pe=Math.floor(re.top/E),ae=Math.floor(re.bottom/E),ne=Math.abs(re.bottom-re.top)/E;ae!==pe&&ne<=1&&($.before=!0)}if($.before){var Z=(0,v.createElement)("div",{style:{display:"block",height:E-re.top%E+"px"}});O.parentNode.insertBefore(Z,O)}if($.after){var Z=(0,v.createElement)("div",{style:{display:"block",height:E-re.bottom%E+"px"}});O.parentNode.insertBefore(Z,O.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(u,f,A){A.r(f),A.d(f,{deepCloneBasic:function(){return S}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.from.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.regexp.exec.js"),A("./node_modules/core-js/modules/es.regexp.test.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/es.set.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/esnext.set.add-all.js"),A("./node_modules/core-js/modules/esnext.set.delete-all.js"),A("./node_modules/core-js/modules/esnext.set.difference.js"),A("./node_modules/core-js/modules/esnext.set.every.js"),A("./node_modules/core-js/modules/esnext.set.filter.js"),A("./node_modules/core-js/modules/esnext.set.find.js"),A("./node_modules/core-js/modules/esnext.set.intersection.js"),A("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),A("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),A("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),A("./node_modules/core-js/modules/esnext.set.join.js"),A("./node_modules/core-js/modules/esnext.set.map.js"),A("./node_modules/core-js/modules/esnext.set.reduce.js"),A("./node_modules/core-js/modules/esnext.set.some.js"),A("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),A("./node_modules/core-js/modules/esnext.set.union.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(T,E){var _=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!_){if(Array.isArray(T)||(_=v(T))||E){_&&(T=_);var F=0,Q=function(){};return{s:Q,n:function(){return F>=T.length?{done:!0}:{done:!1,value:T[F++]}},e:function(O){throw O},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,k=!0,R=!1;return{s:function(){_=_.call(T)},n:function(){var O=_.next();return k=O.done,O},e:function(O){R=!0,M=O},f:function(){try{k||_.return==null||_.return()}finally{if(R)throw M}}}}function v(T,E){if(T){if(typeof T=="string")return g(T,E);var _={}.toString.call(T).slice(8,-1);return _==="Object"&&T.constructor&&(_=T.constructor.name),_==="Map"||_==="Set"?Array.from(T):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?g(T,E):void 0}}function g(T,E){(E==null||E>T.length)&&(E=T.length);for(var _=0,F=Array(E);_<E;_++)F[_]=T[_];return F}function B(T,E){try{var _=T.currentSrc||T.src||"";if(!_)return;E.setAttribute("src",_),E.removeAttribute("srcset"),E.removeAttribute("sizes"),E.loading="eager",E.decoding="sync"}catch{}}function S(T){if(!T)throw new Error("Invalid node");var E=new Set,_=null;if(T.nodeType===Node.TEXT_NODE||T.nodeType!==Node.ELEMENT_NODE)return T.cloneNode(!0);if(T.tagName==="IFRAME"){var F=document.createElement("div");return F.style.cssText="width:".concat(T.offsetWidth,"px;height:").concat(T.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),F}if(T.tagName==="CANVAS"){var Q=T.toDataURL(),M=document.createElement("img");return M.src=Q,M.width=T.width,M.height=T.height,M}var k;try{k=T.cloneNode(!1),T.tagName==="IMG"&&B(T,k)}catch(it){throw console.error("[Snapdom] Failed to clone node:",T,it),it}if(T instanceof HTMLTextAreaElement){k.textContent=T.value,k.value=T.value;var R=T.getBoundingClientRect();return k.style.boxSizing="border-box",k.style.width="".concat(R.width,"px"),k.style.height="".concat(R.height,"px"),k}if(T instanceof HTMLInputElement&&(T.hasAttribute("value")&&(k.value=T.value,k.setAttribute("value",T.value)),T.checked!==void 0&&(k.checked=T.checked,T.checked&&k.setAttribute("checked",""),T.indeterminate&&(k.indeterminate=T.indeterminate))),T instanceof HTMLSelectElement&&(_=T.value),T.shadowRoot){var D=Array.from(T.shadowRoot.querySelectorAll("slot")).length>0;if(!D){var O=document.createDocumentFragment(),$=m(T.shadowRoot.childNodes),L;try{for($.s();!(L=$.n()).done;){var H=L.value;if(!(H.nodeType===Node.ELEMENT_NODE&&H.tagName==="STYLE")){var z=S(H);z&&O.appendChild(z)}}}catch(it){$.e(it)}finally{$.f()}k.appendChild(O)}}if(T.tagName==="SLOT"){var re,pe=((re=T.assignedNodes)===null||re===void 0?void 0:re.call(T,{flatten:!0}))||[],ae=pe.length>0?pe:Array.from(T.childNodes),ne=document.createDocumentFragment(),Z=m(ae),ue;try{for(Z.s();!(ue=Z.n()).done;){var je=ue.value,se=S(je);se&&ne.appendChild(se)}}catch(it){Z.e(it)}finally{Z.f()}return ne}var G=m(T.childNodes),te;try{for(G.s();!(te=G.n()).done;){var le=te.value;if(!E.has(le)){var he=S(le);he&&k.appendChild(he)}}}catch(it){G.e(it)}finally{G.f()}if(_!==null&&k instanceof HTMLSelectElement){k.value=_;var ce=m(k.options),xe;try{for(ce.s();!(xe=ce.n()).done;){var Ne=xe.value;Ne.value===_?Ne.setAttribute("selected",""):Ne.removeAttribute("selected")}}catch(it){ce.e(it)}finally{ce.f()}}var Te=T.scrollLeft,Fe=T.scrollTop,tt=Te||Fe;if(tt&&k instanceof HTMLElement){k.style.overflow="hidden",k.style.scrollbarWidth="none",k.style.msOverflowStyle="none";var $e=document.createElement("div");for($e.style.transform="translate(".concat(-Te,"px, ").concat(-Fe,"px)"),$e.style.willChange="transform",$e.style.display="inline-block",$e.style.width="100%";k.firstChild;)$e.appendChild(k.firstChild);k.appendChild($e)}return k}}),"./src/utils.js":(function(u,f,A){A.r(f),A.d(f,{createElement:function(){return g},objType:function(){return v},toPx:function(){return S},unitConvert:function(){return B}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.number.constructor.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(T){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},m(T)}var v=function(E){var _=m(E);return _==="undefined"?"undefined":_==="string"||E instanceof String?"string":_==="number"||E instanceof Number?"number":_==="function"||E instanceof Function?"function":E&&E.constructor===Array?"array":E&&E.nodeType===1?"element":_==="object"?"object":"unknown"},g=function(E,_){var F=document.createElement(E);if(_.className&&(F.className=_.className),_.innerHTML){F.innerHTML=_.innerHTML;for(var Q=F.getElementsByTagName("script"),M=Q.length;M-- >0;null)Q[M].parentNode.removeChild(Q[M])}for(var k in _.style)F.style[k]=_.style[k];return F},B=function(E,_){if(v(E)==="number")return E*72/96/_;var F={};for(var Q in E)F[Q]=E[Q]*72/96/_;return F},S=function(E,_){return Math.floor(E*_/72*96)}}),"./src/worker.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.map.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.assign.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.promise.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/esnext.iterator.map.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js"),A("./node_modules/core-js/modules/web.timers.js");var m=A("jspdf"),v=A("html2canvas"),g=A.n(v),B=A("./src/snapdom/clone.js"),S=A("./src/utils.js"),T=function E(_){var F=Object.assign(E.convert(Promise.resolve()),JSON.parse(JSON.stringify(E.template))),Q=E.convert(Promise.resolve(),F);return Q=Q.setProgress(1,E,1,[E]),Q=Q.set(_),Q};T.prototype=Object.create(Promise.prototype),T.prototype.constructor=T,T.convert=function(_,F){return _.__proto__=F||T.prototype,_},T.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},T.prototype.from=function(_,F){function Q(M){switch((0,S.objType)(M)){case"string":return"string";case"element":return M.nodeName.toLowerCase&&M.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(F=F||Q(_),F){case"string":return this.set({src:(0,S.createElement)("div",{innerHTML:_})});case"element":return this.set({src:_});case"canvas":return this.set({canvas:_});case"img":return this.set({img:_});default:return this.error("Unknown source type.")}})},T.prototype.to=function(_){switch(_){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},T.prototype.toContainer=function(){var _=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(_).then(function(){var Q={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},M={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};Q.opacity=0;var k=(0,B.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,S.createElement)("div",{className:"html2pdf__overlay",style:Q}),this.prop.container=(0,S.createElement)("div",{className:"html2pdf__container",style:M}),this.prop.container.appendChild(k),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(R){return setTimeout(R,10)})})},T.prototype.toCanvas=function(){var _=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(_).then(function(){var Q=Object.assign({},this.opt.html2canvas);return delete Q.onrendered,g()(this.prop.container,Q)}).then(function(Q){var M=this.opt.html2canvas.onrendered||function(){};M(Q),this.prop.canvas=Q,document.body.removeChild(this.prop.overlay)})},T.prototype.toImg=function(){var _=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(_).then(function(){var Q=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Q})},T.prototype.toPdf=function(){var _=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(_).then(function(){var Q=this.prop.canvas,M=this.opt,k=Q.height,R=Math.floor(Q.width*this.prop.pageSize.inner.ratio),D=Math.ceil(k/R),O=this.prop.pageSize.inner.height,$=document.createElement("canvas"),L=$.getContext("2d");$.width=Q.width,$.height=R,this.prop.pdf=this.prop.pdf||new m.jsPDF(M.jsPDF);for(var H=0;H<D;H++){H===D-1&&k%R!==0&&($.height=k%R,O=$.height*this.prop.pageSize.inner.width/$.width);var z=$.width,re=$.height;L.fillStyle="white",L.fillRect(0,0,z,re),L.drawImage(Q,0,H*R,z,re,0,0,z,re),H&&this.prop.pdf.addPage();var pe=$.toDataURL("image/"+M.image.type,M.image.quality);this.prop.pdf.addImage(pe,M.image.type,M.margin[1],M.margin[0],this.prop.pageSize.inner.width,O)}})},T.prototype.output=function(_,F,Q){return Q=Q||"pdf",Q.toLowerCase()==="img"||Q.toLowerCase()==="image"?this.outputImg(_,F):this.outputPdf(_,F)},T.prototype.outputPdf=function(_,F){var Q=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(Q).then(function(){return this.prop.pdf.output(_,F)})},T.prototype.outputImg=function(_,F){var Q=[function(){return this.prop.img||this.toImg()}];return this.thenList(Q).then(function(){switch(_){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+_+'" is not supported.'}})},T.prototype.save=function(_){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).set(_?{filename:_}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},T.prototype.set=function(_){if((0,S.objType)(_)!=="object")return this;var F=Object.keys(_||{}).map(function(Q){switch(Q){case"margin":return this.setMargin.bind(this,_.margin);case"jsPDF":return function(){return this.opt.jsPDF=_.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,_.pageSize);default:return Q in T.template.prop?function(){this.prop[Q]=_[Q]}:function(){this.opt[Q]=_[Q]}}},this);return this.then(function(){return this.thenList(F)})},T.prototype.get=function(_,F){return this.then(function(){var M=_ in T.template.prop?this.prop[_]:this.opt[_];return F?F(M):M})},T.prototype.setMargin=function(_){return this.then(function(){switch((0,S.objType)(_)){case"number":_=[_,_,_,_];case"array":if(_.length===2&&(_=[_[0],_[1],_[0],_[1]]),_.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=_}).then(this.setPageSize)},T.prototype.setPageSize=function(_){return this.then(function(){_=_||m.jsPDF.getPageSize(this.opt.jsPDF),_.hasOwnProperty("inner")||(_.inner={width:_.width-this.opt.margin[1]-this.opt.margin[3],height:_.height-this.opt.margin[0]-this.opt.margin[2]},_.inner.px={width:(0,S.toPx)(_.inner.width,_.k),height:(0,S.toPx)(_.inner.height,_.k)},_.inner.ratio=_.inner.height/_.inner.width),this.prop.pageSize=_})},T.prototype.setProgress=function(_,F,Q,M){return _!=null&&(this.progress.val=_),F!=null&&(this.progress.state=F),Q!=null&&(this.progress.n=Q),M!=null&&(this.progress.stack=M),this.progress.ratio=this.progress.val/this.progress.state,this},T.prototype.updateProgress=function(_,F,Q,M){return this.setProgress(_?this.progress.val+_:null,F||null,Q?this.progress.n+Q:null,M?this.progress.stack.concat(M):null)},T.prototype.then=function(_,F){var Q=this;return this.thenCore(_,F,function(k,R){return Q.updateProgress(null,null,1,[k]),Promise.prototype.then.call(this,function(O){return Q.updateProgress(null,k),O}).then(k,R).then(function(O){return Q.updateProgress(1),O})})},T.prototype.thenCore=function(_,F,Q){Q=Q||Promise.prototype.then;var M=this;_&&(_=_.bind(M)),F&&(F=F.bind(M));var k=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",R=k?M:T.convert(Object.assign({},M),Promise.prototype),D=Q.call(R,_,F);return T.convert(D,M.__proto__)},T.prototype.thenExternal=function(_,F){return Promise.prototype.then.call(this,_,F)},T.prototype.thenList=function(_){var F=this;return _.forEach(function(M){F=F.thenCore(M)}),F},T.prototype.catch=function(E){E&&(E=E.bind(this));var _=Promise.prototype.catch.call(this,E);return T.convert(_,this)},T.prototype.catchExternal=function(_){return Promise.prototype.catch.call(this,_)},T.prototype.error=function(_){return this.then(function(){throw new Error(_)})},T.prototype.using=T.prototype.set,T.prototype.saveAs=T.prototype.save,T.prototype.export=T.prototype.output,T.prototype.run=T.prototype.then,f.default=T}),html2canvas:(function(u){u.exports=s}),jspdf:(function(u){u.exports=t})},i={};function c(u){var f=i[u];if(f!==void 0)return f.exports;var A=i[u]={exports:{}};return a[u].call(A.exports,A,A.exports,c),A.exports}(function(){c.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(f,{a:f}),f}})(),(function(){c.d=function(u,f){for(var A in f)c.o(f,A)&&!c.o(u,A)&&Object.defineProperty(u,A,{enumerable:!0,get:f[A]})}})(),(function(){c.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)}})(),(function(){c.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var h={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/c.r(h);var u=c("./src/worker.js");c("./src/plugin/jspdf-plugin.js"),c("./src/plugin/pagebreaks.js"),c("./src/plugin/hyperlinks.js");var f=function A(m,v){var g=new A.Worker(v);return m?g.from(m).save():g};f.Worker=u.default,h.default=f})(),h=h.default,h})()})})(V1)),V1.exports}var k9=M9();const H9=kb(k9),V9=({data:n})=>{var E;const[e,t]=ee.useState(!1),[s,a]=ee.useState(null);if(ee.useEffect(()=>{var F;const _=async()=>{var M;const Q=(M=n==null?void 0:n.schoolInfo)==null?void 0:M.logoUrl;if(!Q){a(null);return}if(Q.startsWith("data:")){a(Q);return}try{const R=await(await fetch(Q)).blob(),D=new FileReader;D.onloadend=()=>{a(D.result)},D.readAsDataURL(R)}catch(k){console.error("Failed to fetch or convert logo:",k),a(Q)}};(F=n==null?void 0:n.schoolInfo)!=null&&F.logoUrl&&_()},[(E=n==null?void 0:n.schoolInfo)==null?void 0:E.logoUrl]),!n)return null;const{schoolInfo:i,studentInfo:c,attendance:h,performance:u,summary:f,skills:A,remarks:m,promotion:v,termDates:g}=n,B=async _=>{const F=Array.from(_.querySelectorAll("img"));await Promise.all(F.map(Q=>(Q.setAttribute("crossorigin","anonymous"),Q.setAttribute("referrerpolicy","no-referrer"),Q.complete&&Q.naturalWidth>0?Promise.resolve():new Promise(M=>{const k=()=>M();Q.addEventListener("load",k,{once:!0}),Q.addEventListener("error",k,{once:!0})}))))},S=async _=>{const F=_.includes("?")?`${_}&cb=${Date.now()}`:`${_}?cb=${Date.now()}`,M=await(await fetch(F)).blob();return await new Promise((k,R)=>{const D=new FileReader;D.onloadend=()=>k(D.result),D.onerror=R,D.readAsDataURL(M)})},T=async()=>{const _=document.getElementById("report-card");if(!_)return;t(!0);const F=_.querySelector("img[data-report-logo='true']"),Q=F==null?void 0:F.src;try{if(F!=null&&F.src&&!F.src.startsWith("data:image"))try{const k=await S(F.src);F.src=k}catch(k){console.warn("Logo base64 conversion failed. Using normal URL.",k)}await B(_);const M={margin:8,filename:`${n.studentInfo.name}_Report_Card.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2.2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"]}};await H9().set(M).from(_).save()}catch(M){console.error("PDF generation failed:",M)}finally{F&&Q&&(F.src=Q),t(!1)}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{id:"report-card",className:"bg-white p-4 rounded-lg shadow-lg border border-slate-200 text-[12.5px] leading-relaxed",style:{minHeight:"10.7in",boxSizing:"border-box",pageBreakInside:"avoid"},children:[l.jsxs("div",{className:"flex justify-between items-center pb-2 mb-2",style:{borderBottom:"2px solid #0B4A82"},children:[l.jsxs("div",{className:"flex items-center",children:[i.logoUrl?l.jsx("img",{"data-report-logo":"true",src:i.logoUrl,alt:"School Logo",className:"h-12 w-12 object-contain",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:_=>{_.currentTarget.style.display="none",console.warn("Logo failed to load:",i.logoUrl)}}):null,l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-primary-900",children:i.name}),l.jsxs("p",{className:"text-xs text-slate-600",children:[i.address," | ",i.phone]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("h2",{className:"text-lg font-bold text-primary-800",children:"Terminal Report Card"}),l.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:[i.academicYear," | ",i.term]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 p-2 rounded mb-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Name:"})," ",c.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Class:"})," ",c.class]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Gender:"})," ",c.gender]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",c.classTeacher]})]}),l.jsx("div",{className:"mb-2",children:l.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[l.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[l.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.totalDays}),l.jsx("span",{className:"text-xs text-red-700",children:"School Days"})]}),l.jsxs("div",{className:"bg-green-50 p-1.5 rounded",children:[l.jsx("span",{className:"block font-bold text-green-800 text-lg",children:h.presentDays}),l.jsx("span",{className:"text-xs text-green-700",children:"Present"})]}),l.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[l.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.absentDays}),l.jsx("span",{className:"text-xs text-red-700",children:"Absent"})]}),l.jsxs("div",{className:"bg-purple-50 p-1.5 rounded",children:[l.jsxs("span",{className:"block font-bold text-purple-800 text-lg",children:[h.attendancePercentage,"%"]}),l.jsx("span",{className:"text-xs text-purple-700",children:"Attendance"})]})]})}),l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-2 px-3 pb-2 bg-slate-50",style:{borderLeft:"2px solid #1160A8",borderRight:"2px solid #1160A8",borderBottom:"1px solid #1160A8"},children:"Academic Performance"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse text-xs",children:[l.jsx("thead",{className:"text-white",style:{backgroundColor:"#1160A8"},children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle leading-relaxed",children:"Subject"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"C.Test"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"HW"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Proj"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Exam"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Total"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Pos"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Grade"}),l.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle",children:"Remark"})]})}),l.jsx("tbody",{children:n.allStudentsAssessments&&u.map((_,F)=>{const Q=rm(_.total),M=n.allStudentsAssessments.filter(D=>D.subject===_.subject).map(D=>D.total);M.sort((D,O)=>O-D);const k=M.indexOf(_.total)+1,R=["st","nd","rd"][k-1]||"th";return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"p-1.5 border font-medium",children:_.subject}),l.jsx("td",{className:"px-2 py-2 border text-center leading-relaxed",children:_.testScore}),l.jsx("td",{className:"p-1.5 border text-center",children:_.homeworkScore}),l.jsx("td",{className:"p-1.5 border text-center",children:_.projectScore}),l.jsx("td",{className:"p-1.5 border text-center",children:_.examScore}),l.jsx("td",{className:"p-1.5 border text-center font-bold",children:_.total}),l.jsx("td",{className:"p-1.5 border text-center",children:`${k}${R}`}),l.jsx("td",{className:`p-1.5 border text-center font-bold ${Ng(Q.grade).split(" ")[0]}`,children:Q.grade}),l.jsx("td",{className:"p-1.5 border",children:Q.remark})]},F)})})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Performance Summary"}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:[l.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[l.jsx("span",{className:"font-semibold",children:"Total Score:"}),l.jsx("span",{children:f.totalScore})]}),l.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[l.jsx("span",{className:"font-semibold",children:"Average:"}),l.jsx("span",{children:f.averageScore})]}),l.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[l.jsx("span",{className:"font-semibold",children:"Grade:"}),l.jsx("span",{className:"font-bold",children:f.overallGrade})]}),l.jsxs("div",{className:"flex justify-between py-0.5",children:[l.jsx("span",{className:"font-semibold",children:"Position:"}),l.jsxs("span",{children:[f.classPosition," of ",f.totalStudents]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Skills & Behaviour"}),l.jsx("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:A&&Object.entries(A).map(([_,F])=>l.jsxs("div",{className:"flex justify-between py-0.5 last:border-0",style:{borderBottom:"1px solid #C7D7EA"},children:[l.jsxs("span",{className:"font-semibold capitalize",children:[_.replace(/([A-Z])/g," $1"),":"]}),l.jsx("span",{children:F})]},_))})]})," "]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Remarks"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs min-h-[70px]",children:[l.jsx("h4",{className:"font-bold mb-0.5",children:"Class Teacher:"}),l.jsxs("p",{className:"italic",children:['"',m.teacher,'"']})]}),l.jsxs("div",{className:"bg-slate-50 p-2 rounded text-xs",children:[l.jsx("h4",{className:"font-bold mb-0.5",children:"Head Teacher:"}),l.jsxs("p",{className:"italic",children:['"',m.headTeacher,'"']})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2 text-xs",children:[l.jsxs("div",{className:"bg-red-50 text-red-800 p-2 rounded text-center",children:[l.jsx("span",{className:"font-bold",children:"Promotion:"})," ",v.status]}),l.jsxs("div",{className:"bg-green-50 text-green-800 p-2 rounded text-center",children:[l.jsx("span",{className:"font-bold",children:"Next Term:"})," ",g.reopeningDate]}),l.jsxs("div",{className:"bg-slate-100 text-slate-700 p-2 rounded text-center",children:[l.jsx("span",{className:"font-bold",children:"Term Ends in:"})," ",g.vacationDate]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Class Teacher"})}),l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"w-16 h-16 border border-dashed border-slate-300 flex items-center justify-center",children:l.jsx("p",{className:"text-slate-400 text-[10px]",children:"Stamp"})})}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Head Teacher"})})]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsx("button",{onClick:T,disabled:e,className:`px-6 py-2 text-white rounded-lg flex items-center gap-2 transition-colors ${e?"bg-[#5C93C4] cursor-not-allowed":"bg-[#1160A8] hover:bg-[#0B4A82]"}`,children:e?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating PDF..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Zl,{className:"h-4 w-4"}),"Download PDF"]})})})]})},K9=n=>new Promise((e,t)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{try{const a=document.createElement("canvas");a.width=s.width,a.height=s.height;const i=a.getContext("2d");if(!i)return t(new Error("Canvas context not available"));i.drawImage(s,0,0);const c=a.toDataURL("image/png");e(c)}catch(a){t(a)}},s.onerror=()=>t(new Error("Failed to load image for base64")),s.src=n}),sE=n=>{let e=parseInt(n);if(!isNaN(e)&&e>=1&&e<=3)return e;const t=n.split(" ");return t.length>1&&(e=parseInt(t[1]),!isNaN(e)&&e>=1&&e<=3)?e:1},z9=500,G9=()=>{const{school:n}=Gc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Wn[0].id),[a,i]=ee.useState([]),[c,h]=ee.useState(""),[u,f]=ee.useState(null),[A,m]=ee.useState(!1),[v,g]=ee.useState(""),[B,S]=ee.useState(!1),[T,E]=ee.useState(!1),_=async M=>{if(!e){i([]),h(""),f(null);return}s(M);const k=await ct.getStudents(e,M);i(k),h(""),f(null)},F=async()=>{var M,k,R,D,O,$,L,H,z,re,pe;if(!(!c||!e)){m(!0);try{const ne=(await ct.getStudents(e,t)).find(xt=>xt.id===c),Z=await ct.getSchoolConfig(e),ue=((k=(M=Z==null?void 0:Z.logoUrl)==null?void 0:M.trim)==null?void 0:k.call(M))||((D=(R=Z==null?void 0:Z.logo)==null?void 0:R.trim)==null?void 0:D.call(R))||(($=(O=Z==null?void 0:Z.schoolLogo)==null?void 0:O.trim)==null?void 0:$.call(O))||"",je=((H=(L=n==null?void 0:n.logoUrl)==null?void 0:L.trim)==null?void 0:H.call(L))||((re=(z=n==null?void 0:n.logo)==null?void 0:z.trim)==null?void 0:re.call(z))||"",se=ue||je||"";let G=se;if(se&&se.startsWith("http"))try{G=await K9(se)}catch(xt){console.warn("Base64 conversion failed, using original URL:",xt),G=se}const te=sE(Z.currentTerm),le=Z.academicYear,he=`${c}_term${te}_${le}`,xe=(await ct.getAllAssessments(e).then(xt=>xt.filter(Et=>Et.studentId===c))).filter(xt=>xt.term===te),Ne=Object.values(xe.reduce((xt,Et)=>{const Gt=Et.subject;if(!Gt)return xt;const kt=xt[Gt],Pn=(kt==null?void 0:kt.total)??0,ke=Et.total??0;return(!kt||ke>=Pn)&&(xt[Gt]=Et),xt},{})),Te=await ct.getStudentRemarks(e,t).then(xt=>xt.find(Et=>Et.studentId===c)),Fe=await ct.getAdminRemark(e,he),tt=await ct.getClassAttendance(e,t),$e=await ct.getStudentSkills(e,t).then(xt=>xt.find(Et=>Et.studentId===c)),it=await ct.getUsers(e);let Ve=0;if(Z.schoolReopenDate&&Z.vacationDate){const xt=new Date(Z.schoolReopenDate),Et=new Date(Z.vacationDate);if(isNaN(xt.getTime())||isNaN(Et.getTime())||xt>Et)Ve=tt.length;else{const Gt=new Date(xt);for(;Gt<=Et;)Ve++,Gt.setDate(Gt.getDate()+1)}}else Ve=tt.length;const fe=tt.filter(xt=>xt.presentStudentIds.includes(c)).length,ut=Ve-fe,Lt=Ve>0?Math.round(fe/Ve*100):0,Ge=it.find(xt=>{var Et;return(Et=xt.assignedClassIds)==null?void 0:Et.includes(t)}),Je=xt=>xt>=80?"A":xt>=70?"B":xt>=60?"C":xt>=45?"D":"F",Qt=await ct.getAllAssessments(e).then(xt=>xt.filter(Et=>Et.classId===t&&Et.term===te)),Ut=a.map(xt=>{const Gt=Qt.filter(kt=>kt.studentId===xt.id).reduce((kt,Pn)=>kt+(Pn.total||0),0);return{studentId:xt.id,totalScore:Gt}});Ut.sort((xt,Et)=>Et.totalScore-xt.totalScore);const Yt=Ut.findIndex(xt=>xt.studentId===c)+1;g((Fe==null?void 0:Fe.remark)||"");const zt=Ne.reduce((xt,Et)=>xt+(Et.total||0),0),Jt=Wn.findIndex(xt=>xt.id===(ne==null?void 0:ne.classId)),yn=Jt>=0&&Jt<Wn.length-1?Wn[Jt+1].name:"",tn=te===3?zt>=z9?yn?`Promoted to ${yn}`:"Promoted":"Fail":"N/A",Dn={schoolInfo:{name:(n==null?void 0:n.name)||Z.schoolName||"School Manager GH",logoUrl:se,address:(n==null?void 0:n.address)||Z.address||"",phone:(n==null?void 0:n.phone)||Z.phone||"",email:Z.email||"",academicYear:Z.academicYear||"",term:Z.currentTerm||""},studentInfo:{name:(ne==null?void 0:ne.name)||"",gender:(ne==null?void 0:ne.gender)||"",dob:(ne==null?void 0:ne.dob)||"",class:((pe=Wn.find(xt=>xt.id===(ne==null?void 0:ne.classId)))==null?void 0:pe.name)||"",classTeacher:(Ge==null?void 0:Ge.fullName)||"N/A"},attendance:{totalDays:Ve||0,presentDays:fe||0,absentDays:ut||0,attendancePercentage:Lt||0},performance:Ne||[],summary:{totalScore:zt||0,averageScore:Ne.length>0?(Ne.reduce((xt,Et)=>xt+(Et.total||0),0)/Ne.length).toFixed(1):"0.0",overallGrade:Je(Ne.length>0?Ne.reduce((xt,Et)=>xt+(Et.total||0),0)/Ne.length:0)||"N/A",classPosition:`${Yt}${["st","nd","rd"][Yt-1]||"th"}`,totalStudents:a.length||0},skills:{punctuality:($e==null?void 0:$e.punctuality)||"N/A",neatness:($e==null?void 0:$e.neatness)||"N/A",conduct:($e==null?void 0:$e.conduct)||"N/A",attitudeToWork:($e==null?void 0:$e.attitudeToWork)||"N/A",classParticipation:($e==null?void 0:$e.classParticipation)||"N/A",homeworkCompletion:($e==null?void 0:$e.homeworkCompletion)||"N/A"},remarks:{teacher:(Te==null?void 0:Te.remark)||"N/A",headTeacher:(Fe==null?void 0:Fe.remark)||Z.headTeacherRemark||"An outstanding performance. The school is proud of you.",adminRemark:(Fe==null?void 0:Fe.remark)||"",adminRemarkDate:(Fe==null?void 0:Fe.dateCreated)||""},promotion:{status:tn},termDates:{endDate:Z.termEndDate||"",reopeningDate:Z.nextTermBegins||"",vacationDate:Z.vacationDate||""},allStudentsAssessments:Qt};f(Dn),Zt("Report card generated successfully!",{type:"success"})}catch(ae){console.error("Error generating report card:",ae),Zt(`Failed to generate report card: ${ae.message||"An unknown error occurred."}`,{type:"error"})}finally{m(!1)}}},Q=async()=>{if(!(!c||!v.trim()||!e)){E(!0);try{const M=await ct.getSchoolConfig(e),k=sE(M.currentTerm),R={id:`${c}_term${k}_${M.academicYear}`,studentId:c,classId:t,term:k,academicYear:M.academicYear,schoolId:e,remark:v,adminId:"admin",dateCreated:new Date().toISOString().split("T")[0]};await ct.saveAdminRemark(R),S(!1),F()}catch(M){console.error("Error saving admin remark:",M)}finally{E(!1)}}};return ee.useEffect(()=>{(async()=>{try{await _(t)}catch(k){console.error("Error in useEffect:",k)}})()},[e]),l.jsxs(cr,{title:"Generate Report Card",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Select Student"}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black",value:t,onChange:M=>_(M.target.value),children:Wn.map(M=>l.jsx("option",{value:M.id,children:M.name},M.id))}),l.jsxs("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black flex-grow",value:c,onChange:M=>h(M.target.value),disabled:!a.length,children:[l.jsx("option",{value:"",children:"-- Select a student --"}),a.map(M=>l.jsx("option",{value:M.id,children:M.name},M.id))]})]}),l.jsx("button",{onClick:F,disabled:!c||A,className:"px-6 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] disabled:opacity-50",children:A?"Generating...":"Generate Report"})]}),u&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"bg-[#E6F0FA] border border-[#E6F0FA] rounded-xl p-4 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-[#0B4A82] flex items-center gap-2",children:[l.jsx(QM,{className:"w-5 h-5"}),"Admin/Head Teacher Remark"]}),B?l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>S(!1),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:[l.jsx(ho,{className:"w-4 h-4"}),"Cancel"]}),l.jsxs("button",{onClick:Q,disabled:T,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[l.jsx(Zl,{className:"w-4 h-4"}),T?"Saving...":"Save"]})]}):l.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-1 px-3 py-1 text-sm bg-[#1160A8] text-white rounded hover:bg-[#0B4A82]",children:[l.jsx(kM,{className:"w-4 h-4"}),"Edit Remark"]})]}),B?l.jsx("textarea",{value:v,onChange:M=>g(M.target.value),className:"w-full border border-[#E6F0FA] rounded-lg p-3 text-black bg-white",rows:3,placeholder:"Enter admin/head teacher remark..."}):l.jsx("p",{className:"text-[#0B4A82] italic",children:v||"No remark added yet"})]}),l.jsx(V9,{data:u})]})]})};class $9{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firebasestorage.googleapis.com",W9="storageBucket",Y9=120*1e3,X9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends ac{constructor(e,t,s=0){super(dx(e),`Firebase Storage: ${t} (${dx(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kc;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kc||(Kc={}));function dx(n){return"storage/"+n}function J9(){const n="An unknown error occurred, please check the error payload for server response.";return new Wc(Kc.UNKNOWN,n)}function q9(){return new Wc(Kc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z9(){return new Wc(Kc.CANCELED,"User canceled the upload/download.")}function eV(n){return new Wc(Kc.INVALID_URL,"Invalid URL '"+n+"'.")}function tV(n){return new Wc(Kc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function rE(n){return new Wc(Kc.INVALID_ARGUMENT,n)}function yI(){return new Wc(Kc.APP_DELETED,"The Firebase app was deleted.")}function nV(n){return new Wc(Kc.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ec.makeFromUrl(e,t)}catch{return new ec(e,"")}if(s.path==="")return s;throw tV(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function i(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),u={bucket:1,path:3};function f(Q){Q.path_=decodeURIComponent(Q.path)}const A="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${A}/b/${a}/o${v}`,"i"),B={bucket:1,path:3},S=t===vI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",E=new RegExp(`^https?://${S}/${a}/${T}`,"i"),F=[{regex:h,indices:u,postModify:i},{regex:g,indices:B,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let Q=0;Q<F.length;Q++){const M=F[Q],k=M.regex.exec(e);if(k){const R=k[M.indices.bucket];let D=k[M.indices.path];D||(D=""),s=new ec(R,D),M.postModify(s);break}}if(s==null)throw eV(e);return s}}class sV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n,e,t){let s=1,a=null,i=null,c=!1,h=0;function u(){return h===2}let f=!1;function A(...T){f||(f=!0,e.apply(null,T))}function m(T){a=setTimeout(()=>{a=null,n(g,u())},T)}function v(){i&&clearTimeout(i)}function g(T,...E){if(f){v();return}if(T){v(),A.call(null,T,...E);return}if(u()||c){v(),A.call(null,T,...E);return}s<64&&(s*=2);let F;h===1?(h=2,F=0):F=(s+Math.random())*1e3,m(F)}let B=!1;function S(T){B||(B=!0,v(),!f&&(a!==null?(T||(h=2),clearTimeout(a),m(0)):T||(h=1)))}return m(0),i=setTimeout(()=>{c=!0,S(!0)},t),S}function aV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(n){return n!==void 0}function aE(n,e,t,s){if(s<e)throw rE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw rE(`Invalid value for '${n}'. Expected ${t} or less.`)}function oV(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Xv;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Xv||(Xv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,i=e.indexOf(n)!==-1;return t||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t,s,a,i,c,h,u,f,A,m,v=!0,g=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=A,this.connectionFactory_=m,this.retry=v,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,S)=>{this.resolve_=B,this.reject_=S,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new z0(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const c=h=>{const u=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&i.addUploadProgressListener(c),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(c),this.pendingConnection_=null;const h=i.getErrorCode()===Xv.NO_ERROR,u=i.getStatus();if(!h||lV(u,this.additionalRetryCodes_)&&this.retry){const A=i.getErrorCode()===Xv.ABORT;s(!1,new z0(!1,null,A));return}const f=this.successCodes_.indexOf(u)!==-1;s(!0,new z0(f,i))})},t=(s,a)=>{const i=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(h,h.getResponse());iV(u)?i(u):i()}catch(u){c(u)}else if(h!==null){const u=J9();u.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,u)):c(u)}else if(a.canceled){const u=this.appDelete_?yI():Z9();c(u)}else{const u=q9();c(u)}};this.canceled_?t(!1,new z0(!1,null,!0)):this.backoffId_=rV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class z0{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function cV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function uV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dV(n,e){e&&(n["X-Firebase-GMPID"]=e)}function hV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function fV(n,e,t,s,a,i,c=!0,h=!1){const u=oV(n.urlParams),f=n.url+u,A=Object.assign({},n.headers);return dV(A,e),cV(A,t),uV(A,i),hV(A,s),new AV(f,n.method,A,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function pV(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t){this._service=e,t instanceof ec?this._location=t:this._location=ec.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jv(e,t)}get root(){const e=new ec(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pV(this._location.path)}get storage(){return this._service}get parent(){const e=mV(this._location.path);if(e===null)return null;const t=new ec(this._location.bucket,e);return new Jv(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw nV(e)}}function iE(n,e){const t=e==null?void 0:e[W9];return t==null?null:ec.makeFromBucketSpec(t,n)}class gV{constructor(e,t,s,a,i,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=c,this._bucket=null,this._host=vI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y9,this._maxUploadRetryTime=X9,this._requests=new Set,a!=null?this._bucket=ec.makeFromBucketSpec(a,this._host):this._bucket=iE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ec.makeFromBucketSpec(this._url,e):this._bucket=iE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Xl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jv(this,e)}_makeRequest(e,t,s,a,i=!0){if(this._deleted)return new sV(yI());{const c=fV(e,this._appId,s,a,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const oE="@firebase/storage",lE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="storage";function yV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new gV(t,s,a,e,Wh)}function xV(){Ud(new $9(vV,yV,"PUBLIC").setMultipleInstances(!0)),TA(oE,lE,""),TA(oE,lE,"esm2020")}xV();const bV=()=>{var Lt;const{user:n}=Go(),e=mT(n),[t,s]=ee.useState([]),[a,i]=ee.useState(""),[c,h]=ee.useState(new Date().toISOString().split("T")[0]),[u,f]=ee.useState("info"),[A,m]=ee.useState(!1),[v,g]=ee.useState(((Lt=Wn[0])==null?void 0:Lt.id)||""),[B,S]=ee.useState([]),[T,E]=ee.useState(""),[_,F]=ee.useState(null),[Q,M]=ee.useState({schoolId:e,schoolName:"",academicYear:"",currentTerm:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,headTeacherRemark:"",termEndDate:""}),[k,R]=ee.useState(!1),[D,O]=ee.useState(!1),[$,L]=ee.useState(!1),[H,z]=ee.useState(!1),[re,pe]=ee.useState(!1),[ae,ne]=ee.useState(!1),[Z,ue]=ee.useState(null),[je,se]=ee.useState(!1),G=async()=>{const Ge=await ct.getNotices(e);s(Ge)},te=async()=>{if(v){const Ge=await ct.getSubjects(e,v);S(Ge)}},le=async()=>{const Ge=await ct.getSchoolConfig(e);M(Je=>({...Je,schoolId:e,...Ge}))};ee.useEffect(()=>{G(),le()},[e]),ee.useEffect(()=>{te()},[v,e]);const he=async()=>{R(!0),await ct.updateSchoolConfig(Q),R(!1),Zt("Configuration saved successfully!",{type:"success"})},ce=async()=>{O(!0);try{await ct.createTermBackup(Q,Q.currentTerm,Q.academicYear),Zt("Term backup created successfully!",{type:"success"})}catch(Ge){console.error("Error creating term backup:",Ge),Zt("Failed to create term backup. Please try again.",{type:"error"})}finally{O(!1)}},xe=async Ge=>{if(Ge.preventDefault(),!(!a.trim()||!c)){m(!0);try{const[Je,Qt,Ut]=c.split("-").map(Number),zt=new Date(Je,Qt-1,Ut).toLocaleDateString("en-GB",{day:"numeric",month:"short"});await ct.addNotice({id:Math.random().toString(36).substr(2,9),schoolId:e,message:a,date:zt,type:u,createdAt:Date.now()}),i(""),G(),Zt("Notice added successfully!",{type:"success"})}catch(Je){console.error("Error adding notice:",Je),Zt("Failed to add notice. Please try again.",{type:"error"})}finally{m(!1)}}},Ne=async Ge=>{await ct.deleteNotice(Ge),G()},Te=async Ge=>{Ge.preventDefault(),!(!T.trim()||!v)&&(await ct.addSubject(v,T.trim(),e),E(""),te(),Zt("Subject added successfully!",{type:"success"}))},Fe=Ge=>{ue(Ge),ne(!0)},tt=async()=>{if(!(!Z||!v)){ne(!1);try{await ct.deleteSubject(v,Z,e),te(),Zt(`Subject "${Z}" deleted successfully!`,{type:"success"})}catch(Ge){console.error("Error deleting subject:",Ge),Zt("Failed to delete subject. Please try again.",{type:"error"})}finally{ue(null)}}},$e=Ge=>{F({original:Ge,current:Ge})},it=async()=>{!_||!_.current.trim()||!v||(await ct.updateSubject(v,_.original,_.current.trim(),e),F(null),te(),Zt("Subject updated successfully!",{type:"success"}))},Ve=()=>{pe(!0)},fe=async Ge=>{const Je=Zn(It,Ge),Ut=(await ls(Je)).docs.map(Yt=>Di(Yt.ref));await Promise.all(Ut)},ut=async()=>{pe(!1),z(!0);try{const Ge=["attendance","assessments","teacher_attendance","notices","student_remarks","admin_remarks","student_skills","admin_notifications"];for(const Qt of Ge)console.log(`Deleting collection: ${Qt}`),await fe(Qt);const Je=$n(It,"settings",e);await gi(Je,{schoolReopenDate:"",vacationDate:"",nextTermBegins:""},{merge:!0}),Zt("Term data reset successfully!",{type:"success"}),window.location.reload()}catch(Ge){console.error("Term Reset error:",Ge),Zt(`Term Reset Failed: ${Ge.message}`,{type:"error"})}finally{z(!1)}};return l.jsxs(cr,{title:"System Settings",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"General Configuration"}),l.jsxs("button",{onClick:he,disabled:k,className:"flex items-center text-xs font-bold text-white bg-emerald-600 hover:bg-emerald-700 px-3 py-1.5 rounded-lg transition-colors",children:[l.jsx(Zl,{size:14,className:"mr-1"})," ",k?"Saving...":"Save Changes"]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),l.jsx("input",{type:"text",value:Q.academicYear,onChange:Ge=>M({...Q,academicYear:Ge.target.value}),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Term"}),l.jsxs("select",{value:Q.currentTerm,onChange:Ge=>M({...Q,currentTerm:Ge.target.value}),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-emerald-500 outline-none",children:[l.jsx("option",{value:"Term 1",children:"Term 1"}),l.jsx("option",{value:"Term 2",children:"Term 2"}),l.jsx("option",{value:"Term 3",children:"Term 3"})]})]})]}),l.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[l.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"School Information"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School Re-open Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(EA,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),l.jsx("input",{type:"date",value:Q.schoolReopenDate,onChange:Ge=>M({...Q,schoolReopenDate:Ge.target.value}),className:"w-full border border-slate-300 pl-10 pr-3 py-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term Vacation Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(EA,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),l.jsx("input",{type:"date",value:Q.vacationDate,onChange:Ge=>M({...Q,vacationDate:Ge.target.value}),className:"w-full border border-slate-300 pl-10 pr-3 py-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Term Begins"}),l.jsxs("div",{className:"relative",children:[l.jsx(EA,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),l.jsx("input",{type:"date",value:Q.nextTermBegins||"",onChange:Ge=>M({...Q,nextTermBegins:Ge.target.value}),className:"w-full border border-slate-300 pl-10 pr-3 py-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-emerald-500 outline-none"})]})]})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[l.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[l.jsx(VP,{className:"mr-2 text-[#0B4A82]",size:24}),"Manage Class Subjects"]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),l.jsx("select",{value:v,onChange:Ge=>g(Ge.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:Wn.map(Ge=>l.jsx("option",{value:Ge.id,children:Ge.name},Ge.id))})]}),l.jsxs("form",{onSubmit:Te,className:"flex gap-2 mb-6",children:[l.jsx("input",{type:"text",required:!0,className:"flex-1 border border-slate-300 p-2 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none text-sm",placeholder:"New subject name...",value:T,onChange:Ge=>E(Ge.target.value)}),l.jsx("button",{type:"submit",className:"bg-[#1160A8] text-white px-4 py-2 rounded-lg hover:bg-[#0B4A82] transition-colors",children:l.jsx(sm,{size:20})})]}),l.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:B.length===0?l.jsx("p",{className:"text-sm text-slate-500 text-center italic",children:"No subjects configured for this class. Add some above!"}):B.map(Ge=>l.jsx("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg border border-slate-100 group",children:(_==null?void 0:_.original)===Ge?l.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 border border-slate-300 p-1 rounded text-sm focus:ring-2 focus:ring-[#1160A8] outline-none",value:_.current,onChange:Je=>F({..._,current:Je.target.value}),autoFocus:!0}),l.jsx("button",{onClick:it,className:"text-emerald-600 hover:bg-emerald-50 p-1 rounded",children:l.jsx(_p,{size:16})}),l.jsx("button",{onClick:()=>F(null),className:"text-[#1160A8] hover:bg-[#E6F0FA] p-1 rounded",children:l.jsx(ho,{size:16})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:Ge}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>$e(Ge),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:l.jsx(Ww,{size:14})}),l.jsx("button",{onClick:()=>Fe(Ge),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:l.jsx(Vc,{size:14})})]})]})},Ge))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[l.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[l.jsx(Zl,{className:"mr-2 text-purple-600",size:24}),"Term Data Backup"]}),l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:`Create a full backup of the current term's academic records, attendance, and student data. Backups can be viewed and restored from the "Manage Backups" section.`}),l.jsx("button",{onClick:ce,disabled:D,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:D?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Zl,{size:16,className:"mr-2"})," Create Current Term Backup"]})}),l.jsxs($i,{to:"/admin/backups",className:"mt-4 inline-flex items-center text-sm font-medium text-[#1160A8] hover:text-[#0B4A82]",children:[l.jsx(BM,{size:16,className:"mr-1"})," View and Manage Previous Backups"]})]}),$&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(eA,{className:"text-red-600 mr-2",size:24}),l.jsx("h2",{className:"text-xl font-bold text-red-800",children:"Danger Zone: Database Reset"})]}),l.jsx("p",{className:"text-red-700 mb-4",children:"This action will permanently delete all data and reset the system to its default state. Use with extreme caution."}),l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsx("button",{onClick:Ve,disabled:H,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:bg-red-400 transition-colors",children:H?"Resetting Term...":"Term Reset"})})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsxs("button",{onClick:()=>L(!$),className:"text-slate-500 text-sm underline hover:text-slate-700",children:[$?"Hide":"Show"," Advanced Settings"]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 flex flex-col h-full",children:[l.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[l.jsx(UM,{className:"mr-2 text-emerald-600",size:24}),"School Notices"]}),l.jsxs("form",{onSubmit:xe,className:"mb-6 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(EA,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),l.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-300 pl-10 pr-3 py-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none text-sm",value:c,onChange:Ge=>h(Ge.target.value)})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notice Message"}),l.jsx("textarea",{required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:"Type notice here...",rows:2,value:a,onChange:Ge=>i(Ge.target.value)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[l.jsx("input",{type:"radio",name:"type",className:"mr-2 text-emerald-600 focus:ring-emerald-500",checked:u==="info",onChange:()=>f("info")}),"Info"]}),l.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[l.jsx("input",{type:"radio",name:"type",className:"mr-2 text-red-600 focus:ring-red-500",checked:u==="urgent",onChange:()=>f("urgent")}),"Urgent"]})]}),l.jsx("button",{type:"submit",disabled:A,className:"bg-emerald-600 text-white px-3 py-1.5 rounded-md text-sm font-medium hover:bg-emerald-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:A?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(sm,{size:16,className:"mr-1"})," Add Notice"]})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-3",children:"Active Notices"}),l.jsx("div",{className:"space-y-3",children:t.length===0?l.jsx("p",{className:"text-slate-400 text-sm text-center italic",children:"No notices posted."}):t.map(Ge=>l.jsxs("div",{className:"flex justify-between items-start group p-3 border border-slate-100 rounded-lg hover:bg-slate-50 transition-colors",children:[l.jsxs("div",{className:`border-l-2 pl-3 ${Ge.type==="urgent"?"border-red-500":"border-emerald-500"}`,children:[l.jsx("p",{className:"text-sm text-slate-800 font-medium",children:Ge.message}),l.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[Ge.date," "," ",Ge.type==="urgent"?"Urgent":"General Info"]})]}),l.jsx("button",{onClick:()=>Ne(Ge.id),className:"text-slate-300 hover:text-[#1160A8] transition-colors p-1",title:"Delete Notice",children:l.jsx(Vc,{size:16})})]},Ge.id))})]})]})]}),re&&l.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4 transform transition-all duration-300 scale-100",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(eA,{className:"text-red-600 mr-3",size:32}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirm Term Reset"})]}),l.jsxs("div",{className:"text-slate-600 mb-6 space-y-2",children:[l.jsxs("p",{children:["This will reset all data for the current term, but"," ",l.jsx("strong",{children:"keep core school setup"}),". Are you sure you want to proceed?"]}),l.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"RESET:"})," Attendance, Assessments, Teacher Attendance, Notices, and all student Remarks."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"KEEP:"})," Student Enrollment, Teacher Accounts, Class Subjects, and Timetables."]})]}),l.jsx("p",{className:"font-semibold text-red-700",children:"This action cannot be undone."})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>pe(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:ut,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Term Reset"})]})]})}),ae&&Z&&l.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(eA,{className:"text-red-600 mr-3",size:32}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Delete Subject"})]}),l.jsxs("p",{className:"text-slate-600 mb-6",children:['Are you sure you want to delete the subject "',l.jsx("strong",{children:Z}),'"? This might hide scores associated with this subject and cannot be undone.']}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>{ne(!1),ue(null)},className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:tt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Subject"})]})]})})]})},wV=n=>{if(!n)return"CLASS";const e=Wn.find(t=>t.id===n);return e&&e.level?e.level:n.startsWith("c_n")?"NURSERY":n.startsWith("c_kg")?"KG":n.startsWith("c_p")?"PRIMARY":n.startsWith("c_jhs")?"JHS":"CLASS"},BV=()=>{var re,pe,ae,ne,Z,ue,je,se;const{school:n}=Gc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,i]=ee.useState(!0),[c,h]=ee.useState(null),[u,f]=ee.useState(""),[A,m]=ee.useState(""),[v,g]=ee.useState(""),[B,S]=ee.useState(null),[T,E]=ee.useState(!1),[_,F]=ee.useState(null),[Q,M]=ee.useState(!1),[k,R]=ee.useState(!1),D=async G=>{i(!0),h(null);try{if(!e){s([]);return}const te={schoolId:e,term:(G==null?void 0:G.term)||void 0,academicYear:(G==null?void 0:G.academicYear)||void 0,date:(G==null?void 0:G.date)||void 0},le=await ct.getBackups(te);s(le)}catch(te){console.error("Error fetching backups:",te),h("Failed to fetch backups."),Zt("Failed to fetch backups.",{type:"error"})}finally{i(!1)}},O=async G=>{try{if(!e)return;const te=await ct.getBackupDetails(e,G);te?(S(te),E(!0)):Zt("Backup details not found.",{type:"error"})}catch(te){console.error("Error fetching backup details:",te),Zt("Failed to fetch backup details.",{type:"error"})}},$=G=>{F(G),M(!0)},L=async G=>{try{if(!e)return;const te=await ct.getBackupDetails(e,G);if(te&&te.data){const le=`backup_${te.academicYear.replace("-","")}_${te.term.replace(" ","")}_${te.timestamp}.json`,he=JSON.stringify(te.data,null,2),ce=new Blob([he],{type:"application/json"}),xe=URL.createObjectURL(ce),Ne=document.createElement("a");Ne.href=xe,Ne.download=le,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(xe),Zt("Backup downloaded successfully!",{type:"success"})}else Zt("No data available to download for this backup.",{type:"error"})}catch(te){console.error("Error downloading backup:",te),Zt("Failed to download backup.",{type:"error"})}},H=async()=>{if(_){console.log("Attempting to delete backup:",_);try{if(!e)return;await ct.deleteBackup(e,_),console.log("Backup deleted successfully in DB."),Zt("Backup deleted successfully!",{type:"success"}),M(!1),F(null),f(""),m(""),g(""),await D(),console.log("Backup list refreshed after deletion.")}catch(G){console.error("Error during backup deletion or refresh:",G),Zt("Failed to delete backup or refresh list.",{type:"error"})}}},z=async()=>{R(!1);try{if(!e)return;await ct.deleteAllBackups(e),Zt("All backups cleared successfully!",{type:"success"}),f(""),m(""),g(""),await D()}catch(G){console.error("Error clearing all backups:",G),Zt("Failed to clear all backups.",{type:"error"})}};return ee.useEffect(()=>{D()},[e]),a?l.jsx(cr,{title:"Manage Backups",children:l.jsxs("div",{className:"flex justify-center items-center h-48",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-[#0B4A82]"}),l.jsx("p",{className:"ml-4 text-slate-500",children:"Loading backups..."})]})}):c?l.jsx(cr,{title:"Manage Backups",children:l.jsxs("div",{className:"text-center p-8 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg",children:[l.jsx("p",{className:"text-[#0B4A82]",children:c}),l.jsxs("button",{onClick:()=>D(),className:"mt-4 px-4 py-2 bg-[#0B4A82] text-white rounded hover:bg-[#0B4A82]",children:[l.jsx(WM,{className:"inline-block mr-2",size:16})," Retry"]})]})}):l.jsxs(cr,{title:"Manage Backups",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Manage Term Backups"}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backup Filters"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"filterTerm",className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),l.jsxs("select",{id:"filterTerm",value:u,onChange:G=>f(G.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[l.jsx("option",{value:"",children:"All Terms"}),l.jsx("option",{value:"Term 1",children:"Term 1"}),l.jsx("option",{value:"Term 2",children:"Term 2"}),l.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"filterAcademicYear",className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),l.jsx("input",{id:"filterAcademicYear",type:"text",value:A,onChange:G=>m(G.target.value),placeholder:"e.g., 2023-2024",className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Created (YYYY-MM-DD)"}),l.jsx("input",{id:"filterDate",type:"date",value:v,onChange:G=>g(G.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]})]}),l.jsxs("button",{onClick:()=>D({term:u,academicYear:A,date:v}),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors flex items-center",children:[l.jsx(xM,{size:16,className:"mr-2"})," Apply Filters"]}),l.jsx("button",{onClick:()=>{f(""),m(""),g(""),D()},className:"ml-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Clear Filters"}),l.jsx("button",{onClick:()=>R(!0),className:"ml-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Backups"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Available Backups"}),t.length===0?l.jsx("div",{className:"text-center p-8 text-slate-500",children:l.jsx("p",{children:"No backups found. Create one from System Settings."})}):l.jsx("div",{className:"space-y-4",children:t.map((G,te)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-800",children:[G.term," - ",G.academicYear]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",new Date(G.timestamp).toLocaleString()]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>O(G.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"View Backup Details",children:[l.jsx(qh,{size:16,className:"mr-1"})," View"]}),l.jsxs("button",{onClick:()=>L(G.id||""),className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-sm hover:bg-emerald-200 flex items-center",title:"Download Backup",children:[l.jsx(bT,{size:16,className:"mr-1"})," Download"]}),l.jsxs("button",{onClick:()=>$(G.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"Delete Backup",children:[l.jsx(Vc,{size:16,className:"mr-1"})," Delete"]})]})]},G.id||`backup-${te}`))})]}),T&&B&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Backup Details: ",B.term," -"," ",B.academicYear]}),l.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-slate-700",children:l.jsx(ho,{size:20})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-[#E6F0FA] to-amber-50 rounded-xl p-4 mb-6 border border-[#E6F0FA]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-full",children:l.jsx(Sg,{className:"text-[#0B4A82]",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup Created"}),l.jsx("p",{className:"text-lg font-bold text-slate-800",children:new Date(B.timestamp).toLocaleString()})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup ID"}),l.jsxs("p",{className:"text-sm font-mono text-slate-700",children:[(re=B.id)==null?void 0:re.slice(0,8),"..."]})]})]})}),B.data?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:l.jsx(eg,{className:"text-amber-600",size:20})}),l.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Students"})]}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((pe=B.data.students)==null?void 0:pe.length)||0})]}),l.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-lg",children:l.jsx(SA,{className:"text-[#0B4A82]",size:20})}),l.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teachers"})]}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ae=B.data.users)==null?void 0:ae.length)||0})]}),l.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:l.jsx(Mc,{className:"text-emerald-600",size:20})}),l.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Assessments"})]}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ne=B.data.assessments)==null?void 0:ne.length)||0})]}),l.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:l.jsx(EA,{className:"text-purple-600",size:20})}),l.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Attendance"})]}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((Z=B.data.attendanceRecords)==null?void 0:Z.length)||0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(zv,{size:16,className:"text-slate-400"}),l.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teacher Attendance"})]}),l.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((ue=B.data.teacherAttendanceRecords)==null?void 0:ue.length)||0," ","records"]})]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(cv,{size:16,className:"text-slate-400"}),l.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Remarks"})]}),l.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((je=B.data.studentRemarks)==null?void 0:je.length)||0," ","records"]})]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Mc,{size:16,className:"text-slate-400"}),l.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Timetables"})]}),l.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((se=B.data.timetables)==null?void 0:se.length)||0," classes"]})]})]}),l.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[l.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[l.jsx(SA,{size:18,className:"mr-2 text-[#0B4A82]"}),"Students List"]}),B.data.students&&B.data.students.length>0?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Student Name"}),l.jsx("th",{className:"px-4 py-3",children:"Gender"}),l.jsx("th",{className:"px-4 py-3",children:"Class"}),l.jsx("th",{className:"px-4 py-3",children:"Date of Birth"}),l.jsx("th",{className:"px-4 py-3",children:"Guardian"}),l.jsx("th",{className:"px-4 py-3",children:"Phone"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:B.data.students.map(G=>{var te;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${G.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:G.name.charAt(0)}),G.name]})}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:G.gender}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((te=Wn.find(le=>le.id===G.classId))==null?void 0:te.name)||G.classId})}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:G.dob}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:G.guardianName}),l.jsx("td",{className:"px-4 py-3 text-slate-600",children:G.guardianPhone})]},G.id)})})]})}),l.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",B.data.students.length," student",B.data.students.length!==1?"s":""]})]}):l.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[l.jsx(SA,{size:32,className:"mx-auto mb-2 text-slate-300"}),l.jsx("p",{children:"No students in this backup."})]}),B.data.classSubjects&&B.data.classSubjects.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsxs("h5",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[l.jsx(eg,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.data.classSubjects.map((G,te)=>{var ce,xe;const le=Wn.find(Ne=>Ne.id===G.classId),he=wV(G.classId);return l.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[l.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:he}),l.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(le==null?void 0:le.name)||G.classId})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:G.subjects&&G.subjects.length>0?G.subjects.map((Ne,Te)=>l.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:Ne},Te)):l.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),l.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((ce=G.subjects)==null?void 0:ce.length)||0," subject",((xe=G.subjects)==null?void 0:xe.length)!==1?"s":""]})]})]},te)})})]})]})]}):l.jsxs("div",{className:"text-center py-12 text-slate-500",children:[l.jsx(zv,{size:48,className:"mx-auto mb-4 text-slate-300"}),l.jsx("p",{children:"No data available for this backup."})]})]}),l.jsx("div",{className:"p-6 border-t border-slate-100 text-right",children:l.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Close"})})]})}),Q&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Deletion"}),l.jsx("button",{onClick:()=>M(!1),className:"text-slate-400 hover:text-slate-700",children:l.jsx(ho,{size:20})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Backup ID: ",_]})]}),l.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[l.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),l.jsx("button",{onClick:H,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Delete"})]})]})}),k&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Clear All Backups"}),l.jsx("button",{onClick:()=>R(!1),className:"text-slate-400 hover:text-slate-700",children:l.jsx(ho,{size:20})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete ALL backups? This action cannot be undone and will permanently remove all backup data."}),l.jsxs("p",{className:"text-sm text-[#0B4A82] font-semibold",children:["Warning: This will affect ",t.length," backup",t.length!==1?"s":"","."]})]}),l.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[l.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),l.jsx("button",{onClick:z,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Clear All"})]})]})})]})},G0=["Monday","Tuesday","Wednesday","Thursday","Friday"],jV=()=>{var F,Q;const{user:n}=Go(),e=mT(n),[t,s]=ee.useState(Wn[0].id),[a,i]=ee.useState({}),[c,h]=ee.useState(!1),[u,f]=ee.useState(G0[0]),[A,m]=ee.useState([]),[v,g]=ee.useState({startTime:"08:00",endTime:"09:00",subject:"",type:"lesson"});ee.useEffect(()=>{(async()=>{h(!0);const k=await ct.getSubjects(e,t);m(k),k.length>0?g($=>({...$,subject:k[0],type:"lesson"})):g($=>({...$,subject:"",type:"lesson"}));const R=await ct.getTimetable(e,t),D=(R==null?void 0:R.schedule)||{};G0.forEach($=>{D[$]||(D[$]=[])});let O=!1;if(k.length>0&&Object.keys(D).forEach($=>{D[$].forEach(L=>{L.type==="lesson"&&!k.includes(L.subject)&&(L.subject=k[0],O=!0)})}),O){const $={schoolId:e,classId:t,schedule:D};await ct.saveTimetable($),Zt("Timetable subjects updated to match system settings!",{type:"success"})}i(D),h(!1)})()},[t,e]);const B=()=>{if(!v.startTime||!v.endTime||!v.subject)return;if(v.startTime>=v.endTime){Zt("End time must be after start time",{type:"error"});return}const M={id:Math.random().toString(36).substr(2,9),startTime:v.startTime,endTime:v.endTime,subject:v.subject,type:v.type},k={...a};k[u]=[...k[u],M].sort((R,D)=>R.startTime.localeCompare(D.startTime)),i(k)},S=M=>{const k={...a};k[u]=k[u].filter(R=>R.id!==M),i(k)},T=async()=>{h(!0);const M={schoolId:e,classId:t,schedule:a,updatedAt:Date.now()};await ct.saveTimetable(M),h(!1),Zt("Timetable saved successfully!",{type:"success"})},E=M=>{const k=a[M];return!k||k.length===0?"N/A":k[k.length-1].endTime},_=M=>{switch(M){case"break":return{bg:"bg-amber-50",border:"border-amber-100",icon:AM,iconColor:"text-amber-600",badge:"text-amber-600 border-amber-200"};case"worship":return{bg:"bg-purple-50",border:"border-purple-100",icon:jT,iconColor:"text-purple-600",badge:"text-purple-600 border-purple-200"};case"assembly":return{bg:"bg-[#E6F0FA]",border:"border-[#E6F0FA]",icon:SA,iconColor:"text-[#0B4A82]",badge:"text-[#0B4A82] border-[#E6F0FA]"};case"arrival":return{bg:"bg-green-50",border:"border-green-100",icon:SA,iconColor:"text-green-600",badge:"text-green-600 border-green-200"};case"closing":return{bg:"bg-slate-100",border:"border-slate-200",icon:dM,iconColor:"text-slate-600",badge:"text-slate-600 border-slate-300"};default:return{bg:"bg-white",border:"border-slate-100",icon:Sg,iconColor:"text-emerald-600",badge:"text-slate-600 border-slate-200"}}};return l.jsx(cr,{title:"Manage Timetable",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row justify-between md:items-center gap-4 bg-slate-50",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),l.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48",value:t,onChange:M=>s(M.target.value),children:Wn.map(M=>l.jsx("option",{value:M.id,children:M.name},M.id))})]})}),l.jsxs("button",{onClick:T,disabled:c,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50",children:[l.jsx(Zl,{size:18,className:"mr-2"}),c?"Saving...":"Save Schedule"]})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsx("div",{className:"hidden md:flex w-40 border-r border-slate-100 bg-white flex flex-col overflow-y-auto",children:G0.map(M=>{var R;const k=((R=a[M])==null?void 0:R.length)||0;return l.jsxs("button",{onClick:()=>f(M),className:`p-4 text-left border-l-4 transition-colors hover:bg-slate-50 ${u===M?"border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[l.jsx("span",{className:"block",children:M}),l.jsxs("span",{className:"text-xs text-slate-400",children:[k," Slots"]})]},M)})}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-50/50",children:[l.jsx("div",{className:"md:hidden flex overflow-x-auto bg-white border-b border-slate-100",children:G0.map(M=>{var R;const k=((R=a[M])==null?void 0:R.length)||0;return l.jsxs("button",{onClick:()=>f(M),className:`px-4 py-3 text-sm whitespace-nowrap transition-colors hover:bg-slate-50 ${u===M?"border-b-2 border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[l.jsx("span",{children:M}),l.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",k,")"]})]},M)})}),l.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 flex justify-between items-center bg-white",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[u," Schedule"]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Closing Time:"," ",l.jsx("span",{className:"font-semibold text-slate-800",children:E(u)})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-6 space-y-3 md:space-y-4",children:((F=a[u])==null?void 0:F.length)===0?l.jsxs("div",{className:"text-center py-20 md:py-16 px-6 text-slate-400 border-2 border-dashed border-slate-200 rounded-xl",children:[l.jsx("div",{className:"text-lg md:text-lg font-medium mb-3",children:"No classes or breaks scheduled"}),l.jsxs("div",{className:"text-base md:text-base",children:["Add time slots for ",u," using the form below."]})]}):(Q=a[u])==null?void 0:Q.map(M=>{const k=_(M.type),R=k.icon;return l.jsxs("div",{className:`flex items-center p-4 md:p-5 rounded-lg border shadow-sm ${k.bg} ${k.border}`,children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-full mr-3 md:mr-4 bg-white shadow-sm text-slate-500 flex-shrink-0",children:l.jsx(R,{size:20,className:k.iconColor})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[l.jsxs("span",{className:"font-mono text-sm md:text-base font-semibold text-slate-600 bg-slate-100 px-2 py-1 rounded whitespace-nowrap",children:[M.startTime," - ",M.endTime]}),M.type!=="lesson"&&l.jsx("span",{className:`text-xs uppercase font-bold border px-2 py-0.5 rounded ${k.badge}`,children:M.type})]}),l.jsx("p",{className:"text-base md:text-lg font-bold text-slate-800 break-words",children:M.subject})]}),l.jsx("button",{onClick:()=>S(M.id),className:"text-slate-300 hover:text-[#1160A8] p-2 transition-colors flex-shrink-0",children:l.jsx(Vc,{size:18})})]},M.id)})}),l.jsxs("div",{className:"p-4 md:p-6 bg-white border-t border-slate-200",children:[l.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-4",children:"Add Time Slot"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 items-end",children:[l.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Start Time"}),l.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:v.startTime,onChange:M=>g({...v,startTime:M.target.value})})]}),l.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"End Time"}),l.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:v.endTime,onChange:M=>g({...v,endTime:M.target.value})})]}),l.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Type"}),l.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:v.type,onChange:M=>{const k=M.target.value;let R="";k==="break"?R="Break":k==="worship"?R="Worship":k==="closing"?R="Closing":k==="assembly"?R="Assembly":k==="arrival"?R="Arrival & Free Play":k==="lunch"?R="Lunch":k==="snack"?R="Snack":k==="cleaning"?R="Clean Up":k==="games"?R="Games":k==="nap"?R="Nap Time":k==="clubs"?R="Clubs/Activities":R=A[0]||"",g({...v,type:k,subject:R})},children:[l.jsx("option",{value:"arrival",children:"Arrival & Free Play"}),l.jsx("option",{value:"assembly",children:"Morning Assembly"}),l.jsx("option",{value:"lesson",children:"Lesson"}),l.jsx("option",{value:"break",children:"Break"}),l.jsx("option",{value:"snack",children:"Snack"}),l.jsx("option",{value:"lunch",children:"Lunch"}),l.jsx("option",{value:"worship",children:"Worship/Devotion"}),l.jsx("option",{value:"games",children:"Games/Sports"}),l.jsx("option",{value:"clubs",children:"Clubs/Activities"}),l.jsx("option",{value:"cleaning",children:"Clean Up"}),l.jsx("option",{value:"nap",children:"Nap Time"}),l.jsx("option",{value:"closing",children:"Closing"})]})]}),l.jsxs("div",{className:"sm:col-span-2 lg:col-span-4",children:[l.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Activity/Subject"}),v.type==="lesson"?l.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:v.subject,onChange:M=>g({...v,subject:M.target.value}),children:[A.map(M=>l.jsx("option",{value:M,children:M},M)),A.length===0&&l.jsx("option",{value:"",children:"No Subjects Found"})]}):l.jsx("input",{type:"text",className:"w-full border p-3 rounded text-sm md:text-base",value:v.subject,onChange:M=>g({...v,subject:M.target.value})})]}),l.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:l.jsxs("button",{onClick:B,className:"w-full bg-[#1160A8] text-white p-3 rounded text-sm md:text-base font-medium hover:bg-[#0B4A82] transition-colors",children:[l.jsx(sm,{size:16,className:"inline mr-1"})," Add Slot"]})})]})]})]})]})]})})},xI=ee.createContext({});function CV(n){const e=ee.useRef(null);return e.current===null&&(e.current=n()),e.current}const t2=typeof window<"u",EV=t2?ee.useLayoutEffect:ee.useEffect,n2=ee.createContext(null);function s2(n,e){n.indexOf(e)===-1&&n.push(e)}function r2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const zc=(n,e,t)=>t>e?e:t<n?n:t;let a2=()=>{};const Nu={},bI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function wI(n){return typeof n=="object"&&n!==null}const BI=n=>/^0[^.\s]+$/u.test(n);function i2(n){let e;return()=>(e===void 0&&(e=n()),e)}const IA=n=>n,SV=(n,e)=>t=>e(n(t)),Ig=(...n)=>n.reduce(SV),rg=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class o2{constructor(){this.subscriptions=[]}add(e){return s2(this.subscriptions,e),()=>r2(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let i=0;i<a;i++){const c=this.subscriptions[i];c&&c(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bu=n=>n*1e3,NA=n=>n/1e3;function jI(n,e){return e?n*(1e3/e):0}const CI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,NV=1e-7,TV=12;function IV(n,e,t,s,a){let i,c,h=0;do c=e+(t-e)/2,i=CI(c,s,a)-n,i>0?t=c:e=c;while(Math.abs(i)>NV&&++h<TV);return c}function _g(n,e,t,s){if(n===e&&t===s)return IA;const a=i=>IV(i,0,1,n,t);return i=>i===0||i===1?i:CI(a(i),e,s)}const EI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,SI=n=>e=>1-n(1-e),NI=_g(.33,1.53,.69,.99),l2=SI(NI),TI=EI(l2),II=n=>(n*=2)<1?.5*l2(n):.5*(2-Math.pow(2,-10*(n-1))),A2=n=>1-Math.sin(Math.acos(n)),_I=SI(A2),FI=EI(A2),_V=_g(.42,0,1,1),FV=_g(0,0,.58,1),UI=_g(.42,0,.58,1),UV=n=>Array.isArray(n)&&typeof n[0]!="number",RI=n=>Array.isArray(n)&&typeof n[0]=="number",RV={linear:IA,easeIn:_V,easeInOut:UI,easeOut:FV,circIn:A2,circInOut:FI,circOut:_I,backIn:l2,backInOut:TI,backOut:NI,anticipate:II},DV=n=>typeof n=="string",AE=n=>{if(RI(n)){a2(n.length===4);const[e,t,s,a]=n;return _g(e,t,s,a)}else if(DV(n))return RV[n];return n},$0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LV(n,e){let t=new Set,s=new Set,a=!1,i=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function u(A){c.has(A)&&(f.schedule(A),n()),A(h)}const f={schedule:(A,m=!1,v=!1)=>{const B=v&&a?t:s;return m&&c.add(A),B.has(A)||B.add(A),A},cancel:A=>{s.delete(A),c.delete(A)},process:A=>{if(h=A,a){i=!0;return}a=!0,[t,s]=[s,t],t.forEach(u),t.clear(),a=!1,i&&(i=!1,f.process(A))}};return f}const QV=40;function DI(n,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,c=$0.reduce((F,Q)=>(F[Q]=LV(i),F),{}),{setup:h,read:u,resolveKeyframes:f,preUpdate:A,update:m,preRender:v,render:g,postRender:B}=c,S=()=>{const F=Nu.useManualTiming?a.timestamp:performance.now();t=!1,Nu.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,QV),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),u.process(a),f.process(a),A.process(a),m.process(a),v.process(a),g.process(a),B.process(a),a.isProcessing=!1,t&&e&&(s=!1,n(S))},T=()=>{t=!0,s=!0,a.isProcessing||n(S)};return{schedule:$0.reduce((F,Q)=>{const M=c[Q];return F[Q]=(k,R=!1,D=!1)=>(t||T(),M.schedule(k,R,D)),F},{}),cancel:F=>{for(let Q=0;Q<$0.length;Q++)c[$0[Q]].cancel(F)},state:a,steps:c}}const{schedule:ca,cancel:kd,state:lo,steps:hx}=DI(typeof requestAnimationFrame<"u"?requestAnimationFrame:IA,!0);let fv;function OV(){fv=void 0}const il={now:()=>(fv===void 0&&il.set(lo.isProcessing||Nu.useManualTiming?lo.timestamp:performance.now()),fv),set:n=>{fv=n,queueMicrotask(OV)}},LI=n=>e=>typeof e=="string"&&e.startsWith(n),QI=LI("--"),PV=LI("var(--"),c2=n=>PV(n)?MV.test(n.split("/*")[0].trim()):!1,MV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cE(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const pm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ag={...pm,transform:n=>zc(0,1,n)},W0={...pm,default:1},Op=n=>Math.round(n*1e5)/1e5,u2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kV(n){return n==null}const HV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,d2=(n,e)=>t=>!!(typeof t=="string"&&HV.test(t)&&t.startsWith(n)||e&&!kV(t)&&Object.prototype.hasOwnProperty.call(t,e)),OI=(n,e,t)=>s=>{if(typeof s!="string")return s;const[a,i,c,h]=s.match(u2);return{[n]:parseFloat(a),[e]:parseFloat(i),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},VV=n=>zc(0,255,n),fx={...pm,transform:n=>Math.round(VV(n))},Fh={test:d2("rgb","red"),parse:OI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+fx.transform(n)+", "+fx.transform(e)+", "+fx.transform(t)+", "+Op(ag.transform(s))+")"};function KV(n){let e="",t="",s="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const yb={test:d2("#"),parse:KV,transform:Fh.transform},Fg=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),pd=Fg("deg"),kc=Fg("%"),vn=Fg("px"),zV=Fg("vh"),GV=Fg("vw"),uE={...kc,parse:n=>kc.parse(n)/100,transform:n=>kc.transform(n*100)},Mf={test:d2("hsl","hue"),parse:OI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+kc.transform(Op(e))+", "+kc.transform(Op(t))+", "+Op(ag.transform(s))+")"},yi={test:n=>Fh.test(n)||yb.test(n)||Mf.test(n),parse:n=>Fh.test(n)?Fh.parse(n):Mf.test(n)?Mf.parse(n):yb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fh.transform(n):Mf.transform(n),getAnimatableNone:n=>{const e=yi.parse(n);return e.alpha=0,yi.transform(e)}},$V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WV(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(u2))==null?void 0:e.length)||0)+(((t=n.match($V))==null?void 0:t.length)||0)>0}const PI="number",MI="color",YV="var",XV="var(",dE="${}",JV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ig(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},a=[];let i=0;const h=e.replace(JV,u=>(yi.test(u)?(s.color.push(i),a.push(MI),t.push(yi.parse(u))):u.startsWith(XV)?(s.var.push(i),a.push(YV),t.push(u)):(s.number.push(i),a.push(PI),t.push(parseFloat(u))),++i,dE)).split(dE);return{values:t,split:h,indexes:s,types:a}}function kI(n){return ig(n).values}function HI(n){const{split:e,types:t}=ig(n),s=e.length;return a=>{let i="";for(let c=0;c<s;c++)if(i+=e[c],a[c]!==void 0){const h=t[c];h===PI?i+=Op(a[c]):h===MI?i+=yi.transform(a[c]):i+=a[c]}return i}}const qV=n=>typeof n=="number"?0:yi.test(n)?yi.getAnimatableNone(n):n;function ZV(n){const e=kI(n);return HI(n)(e.map(qV))}const Hd={test:WV,parse:kI,createTransformer:HI,getAnimatableNone:ZV};function mx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function eK({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let a=0,i=0,c=0;if(!e)a=i=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,u=2*t-h;a=mx(u,h,n+1/3),i=mx(u,h,n),c=mx(u,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(c*255),alpha:s}}function qv(n,e){return t=>t>0?e:n}const Ia=(n,e,t)=>n+(e-n)*t,px=(n,e,t)=>{const s=n*n,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},tK=[yb,Fh,Mf],nK=n=>tK.find(e=>e.test(n));function hE(n){const e=nK(n);if(!e)return!1;let t=e.parse(n);return e===Mf&&(t=eK(t)),t}const fE=(n,e)=>{const t=hE(n),s=hE(e);if(!t||!s)return qv(n,e);const a={...t};return i=>(a.red=px(t.red,s.red,i),a.green=px(t.green,s.green,i),a.blue=px(t.blue,s.blue,i),a.alpha=Ia(t.alpha,s.alpha,i),Fh.transform(a))},xb=new Set(["none","hidden"]);function sK(n,e){return xb.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function rK(n,e){return t=>Ia(n,e,t)}function h2(n){return typeof n=="number"?rK:typeof n=="string"?c2(n)?qv:yi.test(n)?fE:oK:Array.isArray(n)?VI:typeof n=="object"?yi.test(n)?fE:aK:qv}function VI(n,e){const t=[...n],s=t.length,a=n.map((i,c)=>h2(i)(i,e[c]));return i=>{for(let c=0;c<s;c++)t[c]=a[c](i);return t}}function aK(n,e){const t={...n,...e},s={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(s[a]=h2(n[a])(n[a],e[a]));return a=>{for(const i in s)t[i]=s[i](a);return t}}function iK(n,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],c=n.indexes[i][s[i]],h=n.values[c]??0;t[a]=h,s[i]++}return t}const oK=(n,e)=>{const t=Hd.createTransformer(e),s=ig(n),a=ig(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?xb.has(n)&&!a.values.length||xb.has(e)&&!s.values.length?sK(n,e):Ig(VI(iK(s,a),a.values),t):qv(n,e)};function KI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ia(n,e,t):h2(n)(n,e)}const lK=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ca.update(e,t),stop:()=>kd(e),now:()=>lo.isProcessing?lo.timestamp:il.now()}},zI=(n,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let i=0;i<a;i++)s+=Math.round(n(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Zv=2e4;function f2(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Zv;)e+=t,s=n.next(e);return e>=Zv?1/0:e}function AK(n,e=100,t){const s=t({...n,keyframes:[0,e]}),a=Math.min(f2(s),Zv);return{type:"keyframes",ease:i=>s.next(a*i).value/e,duration:NA(a)}}const cK=5;function GI(n,e,t){const s=Math.max(e-cK,0);return jI(t-n(s),e-s)}const Ha={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gx=.001;function uK({duration:n=Ha.duration,bounce:e=Ha.bounce,velocity:t=Ha.velocity,mass:s=Ha.mass}){let a,i,c=1-e;c=zc(Ha.minDamping,Ha.maxDamping,c),n=zc(Ha.minDuration,Ha.maxDuration,NA(n)),c<1?(a=f=>{const A=f*c,m=A*n,v=A-t,g=bb(f,c),B=Math.exp(-m);return gx-v/g*B},i=f=>{const m=f*c*n,v=m*t+t,g=Math.pow(c,2)*Math.pow(f,2)*n,B=Math.exp(-m),S=bb(Math.pow(f,2),c);return(-a(f)+gx>0?-1:1)*((v-g)*B)/S}):(a=f=>{const A=Math.exp(-f*n),m=(f-t)*n+1;return-gx+A*m},i=f=>{const A=Math.exp(-f*n),m=(t-f)*(n*n);return A*m});const h=5/n,u=hK(a,i,h);if(n=bu(n),isNaN(u))return{stiffness:Ha.stiffness,damping:Ha.damping,duration:n};{const f=Math.pow(u,2)*s;return{stiffness:f,damping:c*2*Math.sqrt(s*f),duration:n}}}const dK=12;function hK(n,e,t){let s=t;for(let a=1;a<dK;a++)s=s-n(s)/e(s);return s}function bb(n,e){return n*Math.sqrt(1-e*e)}const fK=["duration","bounce"],mK=["stiffness","damping","mass"];function mE(n,e){return e.some(t=>n[t]!==void 0)}function pK(n){let e={velocity:Ha.velocity,stiffness:Ha.stiffness,damping:Ha.damping,mass:Ha.mass,isResolvedFromDuration:!1,...n};if(!mE(n,mK)&&mE(n,fK))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,i=2*zc(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ha.mass,stiffness:a,damping:i}}else{const t=uK(n);e={...e,...t,mass:Ha.mass},e.isResolvedFromDuration=!0}return e}function ey(n=Ha.visualDuration,e=Ha.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:a}=t;const i=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:i},{stiffness:u,damping:f,mass:A,duration:m,velocity:v,isResolvedFromDuration:g}=pK({...t,velocity:-NA(t.velocity||0)}),B=v||0,S=f/(2*Math.sqrt(u*A)),T=c-i,E=NA(Math.sqrt(u/A)),_=Math.abs(T)<5;s||(s=_?Ha.restSpeed.granular:Ha.restSpeed.default),a||(a=_?Ha.restDelta.granular:Ha.restDelta.default);let F;if(S<1){const M=bb(E,S);F=k=>{const R=Math.exp(-S*E*k);return c-R*((B+S*E*T)/M*Math.sin(M*k)+T*Math.cos(M*k))}}else if(S===1)F=M=>c-Math.exp(-E*M)*(T+(B+E*T)*M);else{const M=E*Math.sqrt(S*S-1);F=k=>{const R=Math.exp(-S*E*k),D=Math.min(M*k,300);return c-R*((B+S*E*T)*Math.sinh(D)+M*T*Math.cosh(D))/M}}const Q={calculatedDuration:g&&m||null,next:M=>{const k=F(M);if(g)h.done=M>=m;else{let R=M===0?B:0;S<1&&(R=M===0?bu(B):GI(F,M,k));const D=Math.abs(R)<=s,O=Math.abs(c-k)<=a;h.done=D&&O}return h.value=h.done?c:k,h},toString:()=>{const M=Math.min(f2(Q),Zv),k=zI(R=>Q.next(M*R).value,M,30);return M+"ms "+k},toTransition:()=>{}};return Q}ey.applyToOptions=n=>{const e=AK(n,100,ey);return n.ease=e.ease,n.duration=bu(e.duration),n.type="keyframes",n};function wb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:c,min:h,max:u,restDelta:f=.5,restSpeed:A}){const m=n[0],v={done:!1,value:m},g=D=>h!==void 0&&D<h||u!==void 0&&D>u,B=D=>h===void 0?u:u===void 0||Math.abs(h-D)<Math.abs(u-D)?h:u;let S=t*e;const T=m+S,E=c===void 0?T:c(T);E!==T&&(S=E-m);const _=D=>-S*Math.exp(-D/s),F=D=>E+_(D),Q=D=>{const O=_(D),$=F(D);v.done=Math.abs(O)<=f,v.value=v.done?E:$};let M,k;const R=D=>{g(v.value)&&(M=D,k=ey({keyframes:[v.value,B(v.value)],velocity:GI(F,D,v.value),damping:a,stiffness:i,restDelta:f,restSpeed:A}))};return R(0),{calculatedDuration:null,next:D=>{let O=!1;return!k&&M===void 0&&(O=!0,Q(D),R(D)),M!==void 0&&D>=M?k.next(D-M):(!O&&Q(D),v)}}}function gK(n,e,t){const s=[],a=t||Nu.mix||KI,i=n.length-1;for(let c=0;c<i;c++){let h=a(n[c],n[c+1]);if(e){const u=Array.isArray(e)?e[c]||IA:e;h=Ig(u,h)}s.push(h)}return s}function vK(n,e,{clamp:t=!0,ease:s,mixer:a}={}){const i=n.length;if(a2(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=gK(e,s,a),u=h.length,f=A=>{if(c&&A<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(A<n[m+1]);m++);const v=rg(n[m],n[m+1],A);return h[m](v)};return t?A=>f(zc(n[0],n[i-1],A)):f}function yK(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const a=rg(0,e,s);n.push(Ia(t,1,a))}}function xK(n){const e=[0];return yK(e,n.length-1),e}function bK(n,e){return n.map(t=>t*e)}function wK(n,e){return n.map(()=>e||UI).splice(0,n.length-1)}function Pp({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=UV(s)?s.map(AE):AE(s),i={done:!1,value:e[0]},c=bK(t&&t.length===e.length?t:xK(e),n),h=vK(c,e,{ease:Array.isArray(a)?a:wK(e,a)});return{calculatedDuration:n,next:u=>(i.value=h(u),i.done=u>=n,i)}}const BK=n=>n!==null;function m2(n,{repeat:e,repeatType:t="loop"},s,a=1){const i=n.filter(BK),h=a<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!h||s===void 0?i[h]:s}const jK={decay:wb,inertia:wb,tween:Pp,keyframes:Pp,spring:ey};function $I(n){typeof n.type=="string"&&(n.type=jK[n.type])}class p2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const CK=n=>n/100;class g2 extends p2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:t}=this.options;t&&t.updatedAt!==il.now()&&this.tick(il.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$I(e);const{type:t=Pp,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:c=0}=e;let{keyframes:h}=e;const u=t||Pp;u!==Pp&&typeof h[0]!="number"&&(this.mixKeyframes=Ig(CK,KI(h[0],h[1])),h=[0,100]);const f=u({...e,keyframes:h});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=f2(f));const{calculatedDuration:A}=f;this.calculatedDuration=A,this.resolvedDuration=A+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:A,repeat:m,repeatType:v,repeatDelay:g,type:B,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?E<0:E>a;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,Q=s;if(m){const D=Math.min(this.currentTime,a)/h;let O=Math.floor(D),$=D%1;!$&&D>=1&&($=1),$===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(v==="reverse"?($=1-$,g&&($-=g/h)):v==="mirror"&&(Q=c)),F=zc(0,1,$)*h}const M=_?{done:!1,value:A[0]}:Q.next(F);i&&(M.value=i(M.value));let{done:k}=M;!_&&u!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return R&&B!==wb&&(M.value=m2(A,this.options,T,this.speed)),S&&S(M.value),R&&this.finish(),M}then(e,t){return this.finished.then(e,t)}get duration(){return NA(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+NA(e)}get time(){return NA(this.currentTime)}set time(e){var t;e=bu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(il.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=NA(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=lK,startTime:t}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(i=(a=this.options).onPlay)==null||i.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(il.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function EK(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Uh=n=>n*180/Math.PI,Bb=n=>{const e=Uh(Math.atan2(n[1],n[0]));return jb(e)},SK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Bb,rotateZ:Bb,skewX:n=>Uh(Math.atan(n[1])),skewY:n=>Uh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},jb=n=>(n=n%360,n<0&&(n+=360),n),pE=Bb,gE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),vE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),NK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gE,scaleY:vE,scale:n=>(gE(n)+vE(n))/2,rotateX:n=>jb(Uh(Math.atan2(n[6],n[5]))),rotateY:n=>jb(Uh(Math.atan2(-n[2],n[0]))),rotateZ:pE,rotate:pE,skewX:n=>Uh(Math.atan(n[4])),skewY:n=>Uh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Cb(n){return n.includes("scale")?1:0}function Eb(n,e){if(!n||n==="none")return Cb(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=NK,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=SK,a=h}if(!a)return Cb(e);const i=s[e],c=a[1].split(",").map(IK);return typeof i=="function"?i(c):c[i]}const TK=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Eb(t,e)};function IK(n){return parseFloat(n.trim())}const gm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vm=new Set(gm),yE=n=>n===pm||n===vn,_K=new Set(["x","y","z"]),FK=gm.filter(n=>!_K.has(n));function UK(n){const e=[];return FK.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Cd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Eb(e,"x"),y:(n,{transform:e})=>Eb(e,"y")};Cd.translateX=Cd.x;Cd.translateY=Cd.y;const Mh=new Set;let Sb=!1,Nb=!1,Tb=!1;function WI(){if(Nb){const n=Array.from(Mh).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=UK(s);a.length&&(t.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([i,c])=>{var h;(h=s.getValue(i))==null||h.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Nb=!1,Sb=!1,Mh.forEach(n=>n.complete(Tb)),Mh.clear()}function YI(){Mh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Nb=!0)})}function RK(){Tb=!0,YI(),WI(),Tb=!1}class v2{constructor(e,t,s,a,i,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=i,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Mh.add(this),Sb||(Sb=!0,ca.read(YI),ca.resolveKeyframes(WI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),c=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&t){const h=s.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&i===void 0&&a.set(e[0])}EK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mh.delete(this)}cancel(){this.state==="scheduled"&&(Mh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DK=n=>n.startsWith("--");function LK(n,e,t){DK(e)?n.style.setProperty(e,t):n.style[e]=t}const QK=i2(()=>window.ScrollTimeline!==void 0),OK={};function PK(n,e){const t=i2(n);return()=>OK[e]??t()}const XI=PK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bp=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,xE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bp([0,.65,.55,1]),circOut:bp([.55,0,1,.45]),backIn:bp([.31,.01,.66,-.59]),backOut:bp([.33,1.53,.69,.99])};function JI(n,e){if(n)return typeof n=="function"?XI()?zI(n,e):"ease-out":RI(n)?bp(n):Array.isArray(n)?n.map(t=>JI(t,e)||xE.easeOut):xE[n]}function MK(n,e,t,{delay:s=0,duration:a=300,repeat:i=0,repeatType:c="loop",ease:h="easeOut",times:u}={},f=void 0){const A={[e]:t};u&&(A.offset=u);const m=JI(h,a);Array.isArray(m)&&(A.easing=m);const v={delay:s,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),n.animate(A,v)}function qI(n){return typeof n=="function"&&"applyToOptions"in n}function kK({type:n,...e}){return qI(n)&&XI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HK extends p2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:i,allowFlatten:c=!1,finalKeyframe:h,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=c,this.options=e,a2(typeof e.type!="string");const f=kK(e);this.animation=MK(t,s,a,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const A=m2(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(A):LK(t,s,A),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,s;const e=((s=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:s.call(t).duration)||0;return NA(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+NA(e)}get time(){return NA(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=bu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&QK()?(this.animation.timeline=e,IA):t(this)}}const ZI={anticipate:II,backInOut:TI,circInOut:FI};function VK(n){return n in ZI}function KK(n){typeof n.ease=="string"&&VK(n.ease)&&(n.ease=ZI[n.ease])}const vx=10;class zK extends HK{constructor(e){KK(e),$I(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:i,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new g2({...c,autoplay:!1}),u=Math.max(vx,il.now()-this.startTime),f=zc(0,vx,u-vx);t.setWithVelocity(h.sample(Math.max(0,u-f)).value,h.sample(u).value,f),h.stop()}}const bE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Hd.test(n)||n==="0")&&!n.startsWith("url("));function GK(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function $K(n,e,t,s){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=n[n.length-1],c=bE(a,e),h=bE(i,e);return!c||!h?!1:GK(n)||(t==="spring"||qI(t))&&s}function Ib(n){n.duration=0,n.type="keyframes"}const WK=new Set(["opacity","clipPath","filter","transform"]),YK=i2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XK(n){var A;const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:i,type:c}=n;if(!(((A=e==null?void 0:e.owner)==null?void 0:A.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return YK()&&t&&WK.has(t)&&(t!=="transform"||!f)&&!u&&!s&&a!=="mirror"&&i!==0&&c!=="inertia"}const JK=40;class qK extends p2{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:c="loop",keyframes:h,name:u,motionValue:f,element:A,...m}){var B;super(),this.stop=()=>{var S,T;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=il.now();const v={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:i,repeatType:c,name:u,motionValue:f,element:A,...m},g=(A==null?void 0:A.KeyframeResolver)||v2;this.keyframeResolver=new g(h,(S,T,E)=>this.onKeyframesResolved(S,T,v,!E),u,f,A),(B=this.keyframeResolver)==null||B.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:i,type:c,velocity:h,delay:u,isHandoff:f,onUpdate:A}=s;this.resolvedAt=il.now(),$K(e,i,c,h)||((Nu.instantAnimations||!u)&&(A==null||A(m2(e,s,t))),e[0]=e[e.length-1],Ib(s),s.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>JK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},g=!f&&XK(v)?new zK({...v,element:v.motionValue.owner.current}):new g2(v);g.finished.then(()=>this.notifyFinished()).catch(IA),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),RK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ZK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ez(n){const e=ZK.exec(n);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function e3(n,e,t=1){const[s,a]=ez(n);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const c=i.trim();return bI(c)?parseFloat(c):c}return c2(a)?e3(a,e,t+1):a}function y2(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const t3=new Set(["width","height","top","left","right","bottom",...gm]),tz={test:n=>n==="auto",parse:n=>n},n3=n=>e=>e.test(n),s3=[pm,vn,kc,pd,GV,zV,tz],wE=n=>s3.find(n3(n));function nz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||BI(n):!0}const sz=new Set(["brightness","contrast","saturate","opacity"]);function rz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(u2)||[];if(!s)return n;const a=t.replace(s,"");let i=sz.has(e)?1:0;return s!==t&&(i*=100),e+"("+i+a+")"}const az=/\b([a-z-]*)\(.*?\)/gu,_b={...Hd,getAnimatableNone:n=>{const e=n.match(az);return e?e.map(rz).join(" "):n}},BE={...pm,transform:Math.round},iz={rotate:pd,rotateX:pd,rotateY:pd,rotateZ:pd,scale:W0,scaleX:W0,scaleY:W0,scaleZ:W0,skew:pd,skewX:pd,skewY:pd,distance:vn,translateX:vn,translateY:vn,translateZ:vn,x:vn,y:vn,z:vn,perspective:vn,transformPerspective:vn,opacity:ag,originX:uE,originY:uE,originZ:vn},x2={borderWidth:vn,borderTopWidth:vn,borderRightWidth:vn,borderBottomWidth:vn,borderLeftWidth:vn,borderRadius:vn,radius:vn,borderTopLeftRadius:vn,borderTopRightRadius:vn,borderBottomRightRadius:vn,borderBottomLeftRadius:vn,width:vn,maxWidth:vn,height:vn,maxHeight:vn,top:vn,right:vn,bottom:vn,left:vn,inset:vn,insetBlock:vn,insetBlockStart:vn,insetBlockEnd:vn,insetInline:vn,insetInlineStart:vn,insetInlineEnd:vn,padding:vn,paddingTop:vn,paddingRight:vn,paddingBottom:vn,paddingLeft:vn,paddingBlock:vn,paddingBlockStart:vn,paddingBlockEnd:vn,paddingInline:vn,paddingInlineStart:vn,paddingInlineEnd:vn,margin:vn,marginTop:vn,marginRight:vn,marginBottom:vn,marginLeft:vn,marginBlock:vn,marginBlockStart:vn,marginBlockEnd:vn,marginInline:vn,marginInlineStart:vn,marginInlineEnd:vn,backgroundPositionX:vn,backgroundPositionY:vn,...iz,zIndex:BE,fillOpacity:ag,strokeOpacity:ag,numOctaves:BE},oz={...x2,color:yi,backgroundColor:yi,outlineColor:yi,fill:yi,stroke:yi,borderColor:yi,borderTopColor:yi,borderRightColor:yi,borderBottomColor:yi,borderLeftColor:yi,filter:_b,WebkitFilter:_b},r3=n=>oz[n];function a3(n,e){let t=r3(n);return t!==_b&&(t=Hd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const lz=new Set(["auto","none","0"]);function Az(n,e,t){let s=0,a;for(;s<n.length&&!a;){const i=n[s];typeof i=="string"&&!lz.has(i)&&ig(i).values.length&&(a=n[s]),s++}if(a&&t)for(const i of e)n[i]=a3(t,a)}class cz extends v2{constructor(e,t,s,a,i){super(e,t,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let A=0;A<e.length;A++){let m=e[A];if(typeof m=="string"&&(m=m.trim(),c2(m))){const v=e3(m,t.current);v!==void 0&&(e[A]=v),A===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!t3.has(s)||e.length!==2)return;const[a,i]=e,c=wE(a),h=wE(i),u=cE(a),f=cE(i);if(u!==f&&Cd[s]){this.needsMeasurement=!0;return}if(c!==h)if(yE(c)&&yE(h))for(let A=0;A<e.length;A++){const m=e[A];typeof m=="string"&&(e[A]=parseFloat(m))}else Cd[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||nz(e[a]))&&s.push(a);s.length&&Az(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,c=s[i];s[i]=Cd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function uz(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(t==null?void 0:t[n])??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const i3=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function dz(n){return wI(n)&&"offsetHeight"in n}const jE=30,hz=n=>!isNaN(parseFloat(n));class fz{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var i;const a=il.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=il.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new o2);const s=this.events[e].add(t);return e==="change"?()=>{s(),ca.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=il.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,jE);return jI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function am(n,e){return new fz(n,e)}const{schedule:b2}=DI(queueMicrotask,!1),qA={x:!1,y:!1};function o3(){return qA.x||qA.y}function mz(n){return n==="x"||n==="y"?qA[n]?null:(qA[n]=!0,()=>{qA[n]=!1}):qA.x||qA.y?null:(qA.x=qA.y=!0,()=>{qA.x=qA.y=!1})}function l3(n,e){const t=uz(n),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function CE(n){return!(n.pointerType==="touch"||o3())}function pz(n,e,t={}){const[s,a,i]=l3(n,t),c=h=>{if(!CE(h))return;const{target:u}=h,f=e(u,h);if(typeof f!="function"||!u)return;const A=m=>{CE(m)&&(f(m),u.removeEventListener("pointerleave",A))};u.addEventListener("pointerleave",A,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),i}const A3=(n,e)=>e?n===e?!0:A3(n,e.parentElement):!1,w2=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,gz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function c3(n){return gz.has(n.tagName)||n.isContentEditable===!0}const mv=new WeakSet;function EE(n){return e=>{e.key==="Enter"&&n(e)}}function yx(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vz=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=EE(()=>{if(mv.has(t))return;yx(t,"down");const a=EE(()=>{yx(t,"up")}),i=()=>yx(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function SE(n){return w2(n)&&!o3()}function yz(n,e,t={}){const[s,a,i]=l3(n,t),c=h=>{const u=h.currentTarget;if(!SE(h))return;mv.add(u);const f=e(u,h),A=(g,B)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),mv.has(u)&&mv.delete(u),SE(g)&&typeof f=="function"&&f(g,{success:B})},m=g=>{A(g,u===window||u===document||t.useGlobalTarget||A3(u,g.target))},v=g=>{A(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return s.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),dz(h)&&(h.addEventListener("focus",f=>vz(f,a)),!c3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),i}function u3(n){return wI(n)&&"ownerSVGElement"in n}function xz(n){return u3(n)&&n.tagName==="svg"}const Ko=n=>!!(n&&n.getVelocity),bz=[...s3,yi,Hd],wz=n=>bz.find(n3(n)),d3=ee.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Bz(n=!0){const e=ee.useContext(n2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,i=ee.useId();ee.useEffect(()=>{if(n)return a(i)},[n]);const c=ee.useCallback(()=>n&&s&&s(i),[i,s,n]);return!t&&s?[!1,c]:[!0]}const h3=ee.createContext({strict:!1}),NE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},im={};for(const n in NE)im[n]={isEnabled:e=>NE[n].some(t=>!!e[t])};function jz(n){for(const e in n)im[e]={...im[e],...n[e]}}const Cz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ty(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Cz.has(n)}let f3=n=>!ty(n);function Ez(n){typeof n=="function"&&(f3=e=>e.startsWith("on")?!ty(e):n(e))}try{Ez(require("@emotion/is-prop-valid").default)}catch{}function Sz(n,e,t){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(f3(a)||t===!0&&ty(a)||!e&&!ty(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Dy=ee.createContext({});function Ly(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function og(n){return typeof n=="string"||Array.isArray(n)}const B2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j2=["initial",...B2];function Qy(n){return Ly(n.animate)||j2.some(e=>og(n[e]))}function m3(n){return!!(Qy(n)||n.variants)}function Nz(n,e){if(Qy(n)){const{initial:t,animate:s}=n;return{initial:t===!1||og(t)?t:void 0,animate:og(s)?s:void 0}}return n.inherit!==!1?e:{}}function Tz(n){const{initial:e,animate:t}=Nz(n,ee.useContext(Dy));return ee.useMemo(()=>({initial:e,animate:t}),[TE(e),TE(t)])}function TE(n){return Array.isArray(n)?n.join(" "):n}function IE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const hp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(vn.test(n))n=parseFloat(n);else return n;const t=IE(n,e.target.x),s=IE(n,e.target.y);return`${t}% ${s}%`}},Iz={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,a=Hd.parse(n);if(a.length>5)return s;const i=Hd.createTransformer(n),c=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,u=t.y.scale*e.y;a[0+c]/=h,a[1+c]/=u;const f=Ia(h,u,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),i(a)}},Fb={borderRadius:{...hp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hp,borderTopRightRadius:hp,borderBottomLeftRadius:hp,borderBottomRightRadius:hp,boxShadow:Iz};function p3(n,{layout:e,layoutId:t}){return vm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Fb[n]||n==="opacity")}const _z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fz=gm.length;function Uz(n,e,t){let s="",a=!0;for(let i=0;i<Fz;i++){const c=gm[i],h=n[c];if(h===void 0)continue;let u=!0;if(typeof h=="number"?u=h===(c.startsWith("scale")?1:0):u=parseFloat(h)===0,!u||t){const f=i3(h,x2[c]);if(!u){a=!1;const A=_z[c]||c;s+=`${A}(${f}) `}t&&(e[c]=f)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function C2(n,e,t){const{style:s,vars:a,transformOrigin:i}=n;let c=!1,h=!1;for(const u in e){const f=e[u];if(vm.has(u)){c=!0;continue}else if(QI(u)){a[u]=f;continue}else{const A=i3(f,x2[u]);u.startsWith("origin")?(h=!0,i[u]=A):s[u]=A}}if(e.transform||(c||t?s.transform=Uz(e,n.transform,t):s.transform&&(s.transform="none")),h){const{originX:u="50%",originY:f="50%",originZ:A=0}=i;s.transformOrigin=`${u} ${f} ${A}`}}const E2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g3(n,e,t){for(const s in e)!Ko(e[s])&&!p3(s,t)&&(n[s]=e[s])}function Rz({transformTemplate:n},e){return ee.useMemo(()=>{const t=E2();return C2(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Dz(n,e){const t=n.style||{},s={};return g3(s,t,n),Object.assign(s,Rz(n,e)),s}function Lz(n,e){const t={},s=Dz(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const Qz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oz={offset:"strokeDashoffset",array:"strokeDasharray"};function Pz(n,e,t=1,s=0,a=!0){n.pathLength=1;const i=a?Qz:Oz;n[i.offset]=vn.transform(-s);const c=vn.transform(e),h=vn.transform(t);n[i.array]=`${c} ${h}`}const Mz=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function v3(n,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:c=0,...h},u,f,A){if(C2(n,h,f),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v}=n;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=(A==null?void 0:A.transformBox)??"fill-box",delete m.transformBox);for(const g of Mz)m[g]!==void 0&&(v[g]=m[g],delete m[g]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),s!==void 0&&(m.scale=s),a!==void 0&&Pz(m,a,i,c,!1)}const y3=()=>({...E2(),attrs:{}}),x3=n=>typeof n=="string"&&n.toLowerCase()==="svg";function kz(n,e,t,s){const a=ee.useMemo(()=>{const i=y3();return v3(i,e,x3(s),n.transformTemplate,n.style),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};g3(i,n.style,n),a.style={...i,...a.style}}return a}const Hz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S2(n){return typeof n!="string"||n.includes("-")?!1:!!(Hz.indexOf(n)>-1||/[A-Z]/u.test(n))}function Vz(n,e,t,{latestValues:s},a,i=!1,c){const u=(c??S2(n)?kz:Lz)(e,s,a,n),f=Sz(e,typeof n=="string",i),A=n!==ee.Fragment?{...f,...u,ref:t}:{},{children:m}=e,v=ee.useMemo(()=>Ko(m)?m.get():m,[m]);return ee.createElement(n,{...A,children:v})}function _E(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function N2(n,e,t,s){if(typeof e=="function"){const[a,i]=_E(s);e=e(t!==void 0?t:n.custom,a,i)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,i]=_E(s);e=e(t!==void 0?t:n.custom,a,i)}return e}function pv(n){return Ko(n)?n.get():n}function Kz({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,a){return{latestValues:zz(t,s,a,n),renderState:e()}}function zz(n,e,t,s){const a={},i=s(n,{});for(const v in i)a[v]=pv(i[v]);let{initial:c,animate:h}=n;const u=Qy(n),f=m3(n);e&&f&&!u&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let A=t?t.initial===!1:!1;A=A||c===!1;const m=A?h:c;if(m&&typeof m!="boolean"&&!Ly(m)){const v=Array.isArray(m)?m:[m];for(let g=0;g<v.length;g++){const B=N2(n,v[g]);if(B){const{transitionEnd:S,transition:T,...E}=B;for(const _ in E){let F=E[_];if(Array.isArray(F)){const Q=A?F.length-1:0;F=F[Q]}F!==null&&(a[_]=F)}for(const _ in S)a[_]=S[_]}}}return a}const b3=n=>(e,t)=>{const s=ee.useContext(Dy),a=ee.useContext(n2),i=()=>Kz(n,e,s,a);return t?i():CV(i)};function T2(n,e,t){var i;const{style:s}=n,a={};for(const c in s)(Ko(s[c])||e.style&&Ko(e.style[c])||p3(c,n)||((i=t==null?void 0:t.getValue(c))==null?void 0:i.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const Gz=b3({scrapeMotionValuesFromProps:T2,createRenderState:E2});function w3(n,e,t){const s=T2(n,e,t);for(const a in n)if(Ko(n[a])||Ko(e[a])){const i=gm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=n[a]}return s}const $z=b3({scrapeMotionValuesFromProps:w3,createRenderState:y3}),Wz=Symbol.for("motionComponentSymbol");function Yz(n,e,t){const s=ee.useRef(t);ee.useInsertionEffect(()=>{s.current=t});const a=ee.useRef(null);return ee.useCallback(i=>{var h;i&&((h=n.onMount)==null||h.call(n,i)),e&&(i?e.mount(i):e.unmount());const c=s.current;if(typeof c=="function")if(i){const u=c(i);typeof u=="function"&&(a.current=u)}else a.current?(a.current(),a.current=null):c(i);else c&&(c.current=i)},[e])}const I2=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xz="framerAppearId",B3="data-"+I2(Xz),j3=ee.createContext({});function wp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Jz(n,e,t,s,a,i){var T,E;const{visualElement:c}=ee.useContext(Dy),h=ee.useContext(h3),u=ee.useContext(n2),f=ee.useContext(d3).reducedMotion,A=ee.useRef(null);s=s||h.renderer,!A.current&&s&&(A.current=s(n,{visualState:e,parent:c,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:i}));const m=A.current,v=ee.useContext(j3);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&qz(A.current,t,a,v);const g=ee.useRef(!1);ee.useInsertionEffect(()=>{m&&g.current&&m.update(t,u)});const B=t[B3],S=ee.useRef(!!B&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,B))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,B)));return EV(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),ee.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,B)}),S.current=!1),m.enteringChildren=void 0)}),m}function qz(n,e,t,s){const{layoutId:a,layout:i,drag:c,dragConstraints:h,layoutScroll:u,layoutRoot:f,layoutCrossfade:A}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:C3(n.parent)),n.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!c||h&&wp(h),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:A,layoutScroll:u,layoutRoot:f})}function C3(n){if(n)return n.options.allowProjection!==!1?n.projection:C3(n.parent)}function xx(n,{forwardMotionProps:e=!1,type:t}={},s,a){s&&jz(s);const i=t?t==="svg":S2(n),c=i?$z:Gz;function h(f,A){let m;const v={...ee.useContext(d3),...f,layoutId:Zz(f)},{isStatic:g}=v,B=Tz(f),S=c(f,g);if(!g&&t2){eG();const T=tG(v);m=T.MeasureLayout,B.visualElement=Jz(n,S,v,a,T.ProjectionNode,i)}return l.jsxs(Dy.Provider,{value:B,children:[m&&B.visualElement?l.jsx(m,{visualElement:B.visualElement,...v}):null,Vz(n,f,Yz(S,B.visualElement,A),S,g,e,i)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=ee.forwardRef(h);return u[Wz]=n,u}function Zz({layoutId:n}){const e=ee.useContext(xI).id;return e&&n!==void 0?e+"-"+n:n}function eG(n,e){ee.useContext(h3).strict}function tG(n){const{drag:e,layout:t}=im;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function nG(n,e){if(typeof Proxy>"u")return xx;const t=new Map,s=(i,c)=>xx(i,c,n,e),a=(i,c)=>s(i,c);return new Proxy(a,{get:(i,c)=>c==="create"?s:(t.has(c)||t.set(c,xx(c,void 0,n,e)),t.get(c))})}function E3({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function sG({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function rG(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function bx(n){return n===void 0||n===1}function Ub({scale:n,scaleX:e,scaleY:t}){return!bx(n)||!bx(e)||!bx(t)}function Nh(n){return Ub(n)||S3(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function S3(n){return FE(n.x)||FE(n.y)}function FE(n){return n&&n!=="0%"}function ny(n,e,t){const s=n-t,a=e*s;return t+a}function UE(n,e,t,s,a){return a!==void 0&&(n=ny(n,a,s)),ny(n,t,s)+e}function Rb(n,e=0,t=1,s,a){n.min=UE(n.min,e,t,s,a),n.max=UE(n.max,e,t,s,a)}function N3(n,{x:e,y:t}){Rb(n.x,e.translate,e.scale,e.originPoint),Rb(n.y,t.translate,t.scale,t.originPoint)}const RE=.999999999999,DE=1.0000000000001;function aG(n,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let i,c;for(let h=0;h<a;h++){i=t[h],c=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hf(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,N3(n,c)),s&&Nh(i.latestValues)&&Hf(n,i.latestValues))}e.x<DE&&e.x>RE&&(e.x=1),e.y<DE&&e.y>RE&&(e.y=1)}function kf(n,e){n.min=n.min+e,n.max=n.max+e}function LE(n,e,t,s,a=.5){const i=Ia(n.min,n.max,a);Rb(n,e,t,i,s)}function Hf(n,e){LE(n.x,e.x,e.scaleX,e.scale,e.originX),LE(n.y,e.y,e.scaleY,e.scale,e.originY)}function T3(n,e){return E3(rG(n.getBoundingClientRect(),e))}function iG(n,e,t){const s=T3(n,t),{scroll:a}=e;return a&&(kf(s.x,a.offset.x),kf(s.y,a.offset.y)),s}const QE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vf=()=>({x:QE(),y:QE()}),OE=()=>({min:0,max:0}),Li=()=>({x:OE(),y:OE()}),Db={current:null},I3={current:!1};function oG(){if(I3.current=!0,!!t2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Db.current=n.matches;n.addEventListener("change",e),e()}else Db.current=!1}const lG=new WeakMap;function AG(n,e,t){for(const s in e){const a=e[s],i=t[s];if(Ko(a))n.addValue(s,a);else if(Ko(i))n.addValue(s,am(a,{owner:n}));else if(i!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,am(c!==void 0?c:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const PE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cG{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=il.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ca.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!i,this.isControllingVariants=Qy(t),this.isVariantNode=m3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:A,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in m){const g=m[v];u[v]!==void 0&&Ko(g)&&g.set(u[v])}}mount(e){var t;this.current=e,lG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(I3.current||oG(),this.shouldReduceMotion=Db.current),(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),kd(this.notifyUpdate),kd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=vm.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ca.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in im){const t=im[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Li()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<PE.length;s++){const a=PE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,c=e[i];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=AG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=am(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(bI(s)||BI(s))?s=parseFloat(s):!wz(s)&&Hd.test(t)&&(s=a3(e,t)),this.setBaseTarget(e,Ko(s)?s.get():s)),Ko(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var i;const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const c=N2(this.props,t,(i=this.presenceContext)==null?void 0:i.custom);c&&(s=c[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ko(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new o2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){b2.render(this.render)}}class _3 extends cG{constructor(){super(...arguments),this.KeyframeResolver=cz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ko(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function F3(n,{style:e,vars:t},s,a){const i=n.style;let c;for(c in e)i[c]=e[c];a==null||a.applyProjectionStyles(i,s);for(c in t)i.setProperty(c,t[c])}function uG(n){return window.getComputedStyle(n)}class dG extends _3{constructor(){super(...arguments),this.type="html",this.renderInstance=F3}readValueFromInstance(e,t){var s;if(vm.has(t))return(s=this.projection)!=null&&s.isProjecting?Cb(t):TK(e,t);{const a=uG(e),i=(QI(t)?a.getPropertyValue(t):a[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return T3(e,t)}build(e,t,s){C2(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return T2(e,t,s)}}const U3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hG(n,e,t,s){F3(n,e,void 0,s);for(const a in e.attrs)n.setAttribute(U3.has(a)?a:I2(a),e.attrs[a])}class fG extends _3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Li}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vm.has(t)){const s=r3(t);return s&&s.default||0}return t=U3.has(t)?t:I2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return w3(e,t,s)}build(e,t,s){v3(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){hG(e,t,s,a)}mount(e){this.isSVGTag=x3(e.tagName),super.mount(e)}}const mG=(n,e)=>e.isSVG??S2(n)?new fG(e):new dG(e,{allowProjection:n!==ee.Fragment});function Wf(n,e,t){const s=n.getProps();return N2(s,e,t!==void 0?t:s.custom,n)}const Lb=n=>Array.isArray(n);function pG(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,am(t))}function gG(n){return Lb(n)?n[n.length-1]||0:n}function vG(n,e){const t=Wf(n,e);let{transitionEnd:s={},transition:a={},...i}=t||{};i={...i,...s};for(const c in i){const h=gG(i[c]);pG(n,c,h)}}function yG(n){return!!(Ko(n)&&n.add)}function Qb(n,e){const t=n.getValue("willChange");if(yG(t))return t.add(e);if(!t&&Nu.WillChange){const s=new Nu.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function R3(n){return n.props[B3]}const xG=n=>n!==null;function bG(n,{repeat:e,repeatType:t="loop"},s){const a=n.filter(xG),i=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[i]}const wG={type:"spring",stiffness:500,damping:25,restSpeed:10},BG=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),jG={type:"keyframes",duration:.8},CG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EG=(n,{keyframes:e})=>e.length>2?jG:vm.has(n)?n.startsWith("scale")?BG(e[1]):wG:CG;function SG({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:c,repeatDelay:h,from:u,elapsed:f,...A}){return!!Object.keys(A).length}const _2=(n,e,t,s={},a,i)=>c=>{const h=y2(s,n)||{},u=h.delay||s.delay||0;let{elapsed:f=0}=s;f=f-bu(u);const A={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:i?void 0:a};SG(h)||Object.assign(A,EG(n,A)),A.duration&&(A.duration=bu(A.duration)),A.repeatDelay&&(A.repeatDelay=bu(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let m=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(Ib(A),A.delay===0&&(m=!0)),(Nu.instantAnimations||Nu.skipAnimations)&&(m=!0,Ib(A),A.delay=0),A.allowFlatten=!h.type&&!h.ease,m&&!i&&e.get()!==void 0){const v=bG(A.keyframes,h);if(v!==void 0){ca.update(()=>{A.onUpdate(v),A.onComplete()});return}}return h.isSync?new g2(A):new qK(A)};function NG({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function D3(n,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(i=s);const u=[],f=a&&n.animationState&&n.animationState.getState()[a];for(const A in h){const m=n.getValue(A,n.latestValues[A]??null),v=h[A];if(v===void 0||f&&NG(f,A))continue;const g={delay:t,...y2(i||{},A)},B=m.get();if(B!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===B&&!g.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=R3(n);if(E){const _=window.MotionHandoffAnimation(E,A,ca);_!==null&&(g.startTime=_,S=!0)}}Qb(n,A),m.start(_2(A,m,v,n.shouldReduceMotion&&t3.has(A)?{type:!1}:g,n,S));const T=m.animation;T&&u.push(T)}return c&&Promise.all(u).then(()=>{ca.update(()=>{c&&vG(n,c)})}),u}function L3(n,e,t,s=0,a=1){const i=Array.from(n).sort((f,A)=>f.sortNodePosition(A)).indexOf(e),c=n.size,h=(c-1)*s;return typeof t=="function"?t(i,c):a===1?i*s:h-i*s}function Ob(n,e,t={}){var u;const s=Wf(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const i=s?()=>Promise.all(D3(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:A=0,staggerChildren:m,staggerDirection:v}=a;return TG(n,e,f,A,m,v,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,A]=h==="beforeChildren"?[i,c]:[c,i];return f().then(()=>A())}else return Promise.all([i(),c(t.delay)])}function TG(n,e,t=0,s=0,a=0,i=1,c){const h=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),h.push(Ob(u,e,{...c,delay:t+(typeof s=="function"?0:s)+L3(n.variantChildren,u,s,a,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(h)}function IG(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>Ob(n,i,t));s=Promise.all(a)}else if(typeof e=="string")s=Ob(n,e,t);else{const a=typeof e=="function"?Wf(n,e,t.custom):e;s=Promise.all(D3(n,a,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}function Q3(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const _G=j2.length;function O3(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?O3(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<_G;t++){const s=j2[t],a=n.props[s];(og(a)||a===!1)&&(e[s]=a)}return e}const FG=[...B2].reverse(),UG=B2.length;function RG(n){return e=>Promise.all(e.map(({animation:t,options:s})=>IG(n,t,s)))}function DG(n){let e=RG(n),t=ME(),s=!0;const a=u=>(f,A)=>{var v;const m=Wf(n,A,u==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(m){const{transition:g,transitionEnd:B,...S}=m;f={...f,...S,...B}}return f};function i(u){e=u(n)}function c(u){const{props:f}=n,A=O3(n.parent)||{},m=[],v=new Set;let g={},B=1/0;for(let T=0;T<UG;T++){const E=FG[T],_=t[E],F=f[E]!==void 0?f[E]:A[E],Q=og(F),M=E===u?_.isActive:null;M===!1&&(B=T);let k=F===A[E]&&F!==f[E]&&Q;if(k&&s&&n.manuallyAnimateOnMount&&(k=!1),_.protectedKeys={...g},!_.isActive&&M===null||!F&&!_.prevProp||Ly(F)||typeof F=="boolean")continue;const R=LG(_.prevProp,F);let D=R||E===u&&_.isActive&&!k&&Q||T>B&&Q,O=!1;const $=Array.isArray(F)?F:[F];let L=$.reduce(a(E),{});M===!1&&(L={});const{prevResolvedValues:H={}}=_,z={...H,...L},re=ne=>{D=!0,v.has(ne)&&(O=!0,v.delete(ne)),_.needsAnimating[ne]=!0;const Z=n.getValue(ne);Z&&(Z.liveStyle=!1)};for(const ne in z){const Z=L[ne],ue=H[ne];if(g.hasOwnProperty(ne))continue;let je=!1;Lb(Z)&&Lb(ue)?je=!Q3(Z,ue):je=Z!==ue,je?Z!=null?re(ne):v.add(ne):Z!==void 0&&v.has(ne)?re(ne):_.protectedKeys[ne]=!0}_.prevProp=F,_.prevResolvedValues=L,_.isActive&&(g={...g,...L}),s&&n.blockInitialAnimation&&(D=!1);const pe=k&&R;D&&(!pe||O)&&m.push(...$.map(ne=>{const Z={type:E};if(typeof ne=="string"&&s&&!pe&&n.manuallyAnimateOnMount&&n.parent){const{parent:ue}=n,je=Wf(ue,ne);if(ue.enteringChildren&&je){const{delayChildren:se}=je.transition||{};Z.delay=L3(ue.enteringChildren,n,se)}}return{animation:ne,options:Z}}))}if(v.size){const T={};if(typeof f.initial!="boolean"){const E=Wf(n,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(T.transition=E.transition)}v.forEach(E=>{const _=n.getBaseTarget(E),F=n.getValue(E);F&&(F.liveStyle=!0),T[E]=_??null}),m.push({animation:T})}let S=!!m.length;return s&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(m):Promise.resolve()}function h(u,f){var m;if(t[u].isActive===f)return Promise.resolve();(m=n.variantChildren)==null||m.forEach(v=>{var g;return(g=v.animationState)==null?void 0:g.setActive(u,f)}),t[u].isActive=f;const A=c(u);for(const v in t)t[v].protectedKeys={};return A}return{animateChanges:c,setActive:h,setAnimateFunction:i,getState:()=>t,reset:()=>{t=ME()}}}function LG(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Q3(e,n):!1}function Ch(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ME(){return{animate:Ch(!0),whileInView:Ch(),whileHover:Ch(),whileTap:Ch(),whileDrag:Ch(),whileFocus:Ch(),exit:Ch()}}class $d{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QG extends $d{constructor(e){super(e),e.animationState||(e.animationState=DG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ly(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let OG=0;class PG extends $d{constructor(){super(...arguments),this.id=OG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MG={animation:{Feature:QG},exit:{Feature:PG}};function lg(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Ug(n){return{point:{x:n.pageX,y:n.pageY}}}const kG=n=>e=>w2(e)&&n(e,Ug(e));function Mp(n,e,t,s){return lg(n,e,kG(t),s)}const P3=1e-4,HG=1-P3,VG=1+P3,M3=.01,KG=0-M3,zG=0+M3;function ol(n){return n.max-n.min}function GG(n,e,t){return Math.abs(n-e)<=t}function kE(n,e,t,s=.5){n.origin=s,n.originPoint=Ia(e.min,e.max,n.origin),n.scale=ol(t)/ol(e),n.translate=Ia(t.min,t.max,n.origin)-n.originPoint,(n.scale>=HG&&n.scale<=VG||isNaN(n.scale))&&(n.scale=1),(n.translate>=KG&&n.translate<=zG||isNaN(n.translate))&&(n.translate=0)}function kp(n,e,t,s){kE(n.x,e.x,t.x,s?s.originX:void 0),kE(n.y,e.y,t.y,s?s.originY:void 0)}function HE(n,e,t){n.min=t.min+e.min,n.max=n.min+ol(e)}function $G(n,e,t){HE(n.x,e.x,t.x),HE(n.y,e.y,t.y)}function VE(n,e,t){n.min=e.min-t.min,n.max=n.min+ol(e)}function sy(n,e,t){VE(n.x,e.x,t.x),VE(n.y,e.y,t.y)}function jA(n){return[n("x"),n("y")]}const k3=({current:n})=>n?n.ownerDocument.defaultView:null,KE=(n,e)=>Math.abs(n-e);function WG(n,e){const t=KE(n.x,e.x),s=KE(n.y,e.y);return Math.sqrt(t**2+s**2)}const zE=new Set(["auto","scroll"]);class H3{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Bx(this.lastMoveEventInfo,this.history),B=this.startEvent!==null,S=WG(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!B&&!S)return;const{point:T}=g,{timestamp:E}=lo;this.history.push({...T,timestamp:E});const{onStart:_,onMove:F}=this.handlers;B||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,B)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=wx(B,this.transformPagePoint),ca.update(this.updatePoint,!0)},this.handlePointerUp=(g,B)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:E}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Bx(g.type==="pointercancel"?this.lastMoveEventInfo:wx(B,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,_),T&&T(g,_)},!w2(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const u=Ug(e),f=wx(u,this.transformPagePoint),{point:A}=f,{timestamp:m}=lo;this.history=[{...A,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Bx(f,this.history)),this.removeListeners=Ig(Mp(this.contextWindow,"pointermove",this.handlePointerMove),Mp(this.contextWindow,"pointerup",this.handlePointerUp),Mp(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(zE.has(s.overflowX)||zE.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:a.x-t.x,y:a.y-t.y};i.x===0&&i.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,a),ca.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),kd(this.updatePoint)}}function wx(n,e){return e?{point:e(n.point)}:n}function GE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bx({point:n},e){return{point:n,delta:GE(n,V3(e)),offset:GE(n,YG(e)),velocity:XG(e,.1)}}function YG(n){return n[0]}function V3(n){return n[n.length-1]}function XG(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const a=V3(n);for(;t>=0&&(s=n[t],!(a.timestamp-s.timestamp>bu(e)));)t--;if(!s)return{x:0,y:0};const i=NA(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const c={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JG(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?Ia(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?Ia(t,n,s.max):Math.min(n,t)),n}function $E(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function qG(n,{top:e,left:t,bottom:s,right:a}){return{x:$E(n.x,t,a),y:$E(n.y,e,s)}}function WE(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function ZG(n,e){return{x:WE(n.x,e.x),y:WE(n.y,e.y)}}function e$(n,e){let t=.5;const s=ol(n),a=ol(e);return a>s?t=rg(e.min,e.max-s,n.min):s>a&&(t=rg(n.min,n.max-a,e.min)),zc(0,1,t)}function t$(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Pb=.35;function n$(n=Pb){return n===!1?n=0:n===!0&&(n=Pb),{x:YE(n,"left","right"),y:YE(n,"top","bottom")}}function YE(n,e,t){return{min:XE(n,e),max:XE(n,t)}}function XE(n,e){return typeof n=="number"?n:n[e]||0}const s$=new WeakMap;class r${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Li(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{t?(this.stopAnimation(),this.snapToCursor(Ug(m).point)):this.pauseAnimation()},c=(m,v)=>{this.stopAnimation();const{drag:g,dragPropagation:B,onDragStart:S}=this.getProps();if(g&&!B&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mz(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jA(E=>{let _=this.getAxisMotionValue(E).get()||0;if(kc.test(_)){const{projection:F}=this.visualElement;if(F&&F.layout){const Q=F.layout.layoutBox[E];Q&&(_=ol(Q)*(parseFloat(_)/100))}}this.originPoint[E]=_}),S&&ca.postRender(()=>S(m,v)),Qb(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},h=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:g,dragDirectionLock:B,onDirectionLock:S,onDrag:T}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=v;if(B&&this.currentDirection===null){this.currentDirection=a$(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),T&&T(m,v)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>jA(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)==null?void 0:v.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new H3(e,{onSessionStart:i,onStart:c,onMove:h,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:s,contextWindow:k3(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ca.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!Y0(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=JG(c,this.constraints[e],this.elastic[e])),i.set(c)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&wp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=qG(s.layoutBox,e):this.constraints=!1,this.elastic=n$(t),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jA(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=t$(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!wp(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=iG(s,a.root,this.visualElement.getTransformPagePoint());let c=ZG(a.layout.layoutBox,i);if(t){const h=t(sG(c));this.hasMutatedConstraints=!!h,h&&(c=E3(h))}return c}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),u=this.constraints||{},f=jA(A=>{if(!Y0(A,t,this.currentDirection))return;let m=u&&u[A]||{};c&&(m={min:0,max:0});const v=a?200:1e6,g=a?40:1e7,B={type:"inertia",velocity:s?e[A]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(A,B)});return Promise.all(f).then(h)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Qb(this.visualElement,e),s.start(_2(e,s,0,t,this.visualElement,!1))}stopAnimation(){jA(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jA(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){jA(t=>{const{drag:s}=this.getProps();if(!Y0(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[t],u=i.get()||0;i.set(e[t]-Ia(c,h,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!wp(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jA(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const u=h.get();a[c]=e$({min:u,max:u},this.constraints[c])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),jA(c=>{if(!Y0(c,e,null))return;const h=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];h.set(Ia(u,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;s$.set(this.visualElement,this);const e=this.visualElement.current,t=Mp(e,"pointerdown",u=>{const{drag:f,dragListener:A=!0}=this.getProps();f&&A&&!c3(u.target)&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();wp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ca.read(s);const c=lg(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(jA(A=>{const m=this.getAxisMotionValue(A);m&&(this.originPoint[A]+=u[A].translate,m.set(m.get()+u[A].translate))}),this.visualElement.render())}));return()=>{c(),t(),i(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:c=Pb,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:c,dragMomentum:h}}}function Y0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function a$(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class i$ extends $d{constructor(e){super(e),this.removeGroupControls=IA,this.removeListeners=IA,this.controls=new r$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||IA}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const JE=n=>(e,t)=>{n&&ca.postRender(()=>n(e,t))};class o$ extends $d{constructor(){super(...arguments),this.removePointerDownListener=IA}onPointerDown(e){this.session=new H3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:JE(e),onStart:JE(t),onMove:s,onEnd:(i,c)=>{delete this.session,a&&ca.postRender(()=>a(i,c))}}}mount(){this.removePointerDownListener=Mp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let jx=!1;class l$ extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),s&&s.register&&a&&s.register(i),jx&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:i}=this.props,{projection:c}=s;return c&&(c.isPresent=i,jx=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==i?c.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?c.promote():c.relegate()||ca.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),b2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;jx=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K3(n){const[e,t]=Bz(),s=ee.useContext(xI);return l.jsx(l$,{...n,layoutGroup:s,switchLayoutGroup:ee.useContext(j3),isPresent:e,safeToRemove:t})}function A$(n,e,t){const s=Ko(n)?n:am(n);return s.start(_2("",s,e,t)),s.animation}const c$=(n,e)=>n.depth-e.depth;class u${constructor(){this.children=[],this.isDirty=!1}add(e){s2(this.children,e),this.isDirty=!0}remove(e){r2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c$),this.isDirty=!1,this.children.forEach(e)}}function d$(n,e){const t=il.now(),s=({timestamp:a})=>{const i=a-t;i>=e&&(kd(s),n(i-e))};return ca.setup(s,!0),()=>kd(s)}const z3=["TopLeft","TopRight","BottomLeft","BottomRight"],h$=z3.length,qE=n=>typeof n=="string"?parseFloat(n):n,ZE=n=>typeof n=="number"||vn.test(n);function f$(n,e,t,s,a,i){a?(n.opacity=Ia(0,t.opacity??1,m$(s)),n.opacityExit=Ia(e.opacity??1,0,p$(s))):i&&(n.opacity=Ia(e.opacity??1,t.opacity??1,s));for(let c=0;c<h$;c++){const h=`border${z3[c]}Radius`;let u=eS(e,h),f=eS(t,h);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||ZE(u)===ZE(f)?(n[h]=Math.max(Ia(qE(u),qE(f),s),0),(kc.test(f)||kc.test(u))&&(n[h]+="%")):n[h]=f}(e.rotate||t.rotate)&&(n.rotate=Ia(e.rotate||0,t.rotate||0,s))}function eS(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const m$=G3(0,.5,_I),p$=G3(.5,.95,IA);function G3(n,e,t){return s=>s<n?0:s>e?1:t(rg(n,e,s))}function tS(n,e){n.min=e.min,n.max=e.max}function JA(n,e){tS(n.x,e.x),tS(n.y,e.y)}function nS(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function sS(n,e,t,s,a){return n-=e,n=ny(n,1/t,s),a!==void 0&&(n=ny(n,1/a,s)),n}function g$(n,e=0,t=1,s=.5,a,i=n,c=n){if(kc.test(e)&&(e=parseFloat(e),e=Ia(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ia(i.min,i.max,s);n===i&&(h-=e),n.min=sS(n.min,e,t,h,a),n.max=sS(n.max,e,t,h,a)}function rS(n,e,[t,s,a],i,c){g$(n,e[t],e[s],e[a],e.scale,i,c)}const v$=["x","scaleX","originX"],y$=["y","scaleY","originY"];function aS(n,e,t,s){rS(n.x,e,v$,t?t.x:void 0,s?s.x:void 0),rS(n.y,e,y$,t?t.y:void 0,s?s.y:void 0)}function iS(n){return n.translate===0&&n.scale===1}function $3(n){return iS(n.x)&&iS(n.y)}function oS(n,e){return n.min===e.min&&n.max===e.max}function x$(n,e){return oS(n.x,e.x)&&oS(n.y,e.y)}function lS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function W3(n,e){return lS(n.x,e.x)&&lS(n.y,e.y)}function AS(n){return ol(n.x)/ol(n.y)}function cS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class b${constructor(){this.members=[]}add(e){s2(this.members,e),e.scheduleRender()}remove(e){if(r2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w$(n,e,t){let s="";const a=n.x.translate/e.x,i=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((a||i||c)&&(s=`translate3d(${a}px, ${i}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:A,rotateX:m,rotateY:v,skewX:g,skewY:B}=t;f&&(s=`perspective(${f}px) ${s}`),A&&(s+=`rotate(${A}deg) `),m&&(s+=`rotateX(${m}deg) `),v&&(s+=`rotateY(${v}deg) `),g&&(s+=`skewX(${g}deg) `),B&&(s+=`skewY(${B}deg) `)}const h=n.x.scale*e.x,u=n.y.scale*e.y;return(h!==1||u!==1)&&(s+=`scale(${h}, ${u})`),s||"none"}const Cx=["","X","Y","Z"],B$=1e3;let j$=0;function Ex(n,e,t,s){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),s&&(s[n]=0))}function Y3(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=R3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ca,!(a||i))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&Y3(s)}function X3({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=j$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S$),this.nodes.forEach(_$),this.nodes.forEach(F$),this.nodes.forEach(N$)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new u$)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new o2),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const u=this.eventHandlers.get(c);u&&u.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=u3(c)&&!xz(c),this.instance=c;const{layoutId:h,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||h)&&(this.isLayoutDirty=!0),n){let A,m=0;const v=()=>this.root.updateBlockedByResize=!1;ca.read(()=>{m=window.innerWidth}),n(c,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,A&&A(),A=d$(v,250),gv.hasAnimatedSinceResize&&(gv.hasAnimatedSinceResize=!1,this.nodes.forEach(hS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||u)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||f.getDefaultTransition()||Q$,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=f.getProps(),E=!this.targetLayout||!W3(this.targetLayout,g),_=!m&&v;if(this.options.layoutRoot||this.resumeFrom||_||m&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...y2(B,"layout"),onPlay:S,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(A,_)}else m||hS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U$),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const m=this.path[A];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:h,layout:u}=this.options;if(h===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(I$),this.nodes.forEach(C$),this.nodes.forEach(E$)):this.nodes.forEach(dS),this.clearAllSnapshots();const h=il.now();lo.delta=zc(0,1e3/60,h-lo.timestamp),lo.timestamp=h,lo.isProcessing=!0,hx.update.process(lo),hx.preRender.process(lo),hx.render.process(lo),lo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T$),this.sharedNodes.forEach(R$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ca.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ca.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ol(this.snapshot.measuredBox.x)&&!ol(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Li(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!$3(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,A=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||Nh(this.latestValues)||A)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let u=this.removeElementScroll(h);return c&&(u=this.removeTransform(u)),O$(u),{animationId:this.root.animationId,measuredBox:h,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Li();const h=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(P$))){const{scroll:A}=this.root;A&&(kf(h.x,A.offset.x),kf(h.y,A.offset.y))}return h}removeElementScroll(c){var u;const h=Li();if(JA(h,c),(u=this.scroll)!=null&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const A=this.path[f],{scroll:m,options:v}=A;A!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&JA(h,c),kf(h.x,m.offset.x),kf(h.y,m.offset.y))}return h}applyTransform(c,h=!1){const u=Li();JA(u,c);for(let f=0;f<this.path.length;f++){const A=this.path[f];!h&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Hf(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Nh(A.latestValues)&&Hf(u,A.latestValues)}return Nh(this.latestValues)&&Hf(u,this.latestValues),u}removeTransform(c){const h=Li();JA(h,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Nh(f.latestValues))continue;Ub(f.latestValues)&&f.updateSnapshot();const A=Li(),m=f.measurePageBox();JA(A,m),aS(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,A)}return Nh(this.latestValues)&&aS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==h;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:m}=this.options;if(!this.layout||!(A||m))return;this.resolvedRelativeTargetAt=lo.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Li(),this.targetWithTransforms=Li()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$G(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):JA(this.target,this.layout.layoutBox),N3(this.target,this.targetDelta)):JA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ub(this.parent.latestValues)||S3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,u){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Li(),this.relativeTargetOrigin=Li(),sy(this.relativeTargetOrigin,h,u),JA(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var B;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||(B=this.parent)!=null&&B.isProjectionDirty)&&(u=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===lo.timestamp&&(u=!1),u)return;const{layout:f,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||A))return;JA(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;aG(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Li());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nS(this.prevProjectionDelta.x,this.projectionDelta.x),nS(this.prevProjectionDelta.y,this.projectionDelta.y)),kp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!cS(this.projectionDelta.x,this.prevProjectionDelta.x)||!cS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vf(),this.projectionDelta=Vf(),this.projectionDeltaWithTransform=Vf()}setAnimationOrigin(c,h=!1){const u=this.snapshot,f=u?u.latestValues:{},A={...this.latestValues},m=Vf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Li(),g=u?u.source:void 0,B=this.layout?this.layout.source:void 0,S=g!==B,T=this.getStack(),E=!T||T.members.length<=1,_=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(L$));this.animationProgress=0;let F;this.mixTargetDelta=Q=>{const M=Q/1e3;fS(m.x,c.x,M),fS(m.y,c.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sy(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D$(this.relativeTarget,this.relativeTargetOrigin,v,M),F&&x$(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Li()),JA(F,this.relativeTarget)),S&&(this.animationValues=A,f$(A,f,this.latestValues,M,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,u,f;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&(kd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ca.update(()=>{gv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=am(0)),this.currentAnimation=A$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:A=>{this.mixTargetDelta(A),c.onUpdate&&c.onUpdate(A)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(B$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:u,layout:f,latestValues:A}=c;if(!(!h||!u||!f)){if(this!==c&&this.layout&&f&&J3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Li();const m=ol(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+m;const v=ol(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}JA(h,u),Hf(h,A),kp(this.projectionDeltaWithTransform,this.layoutCorrected,h,A)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new b$),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(h=!0),!h)return;const f={};u.z&&Ex("z",c,f,this.animationValues);for(let A=0;A<Cx.length;A++)Ex(`rotate${Cx[A]}`,c,f,this.animationValues),Ex(`skew${Cx[A]}`,c,f,this.animationValues);c.render();for(const A in f)c.setStaticValue(A,f[A]),this.animationValues&&(this.animationValues[A]=f[A]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=pv(h==null?void 0:h.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=pv(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Nh(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const A=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=w$(this.projectionDeltaWithTransform,this.treeScale,A);u&&(m=u(A,m)),c.transform=m;const{x:v,y:g}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:c.opacity=f===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const B in Fb){if(A[B]===void 0)continue;const{correct:S,applyTo:T,isCSSVariable:E}=Fb[B],_=m==="none"?A[B]:S(A[B],f);if(T){const F=T.length;for(let Q=0;Q<F;Q++)c[T[Q]]=_}else E?this.options.visualElement.renderState.vars[B]=_:c[B]=_}this.options.layoutId&&(c.pointerEvents=f===this?pv(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(uS),this.root.sharedNodes.clear()}}}function C$(n){n.updateLayout()}function E$(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:i}=n.options,c=e.source!==n.layout.source;i==="size"?jA(m=>{const v=c?e.measuredBox[m]:e.layoutBox[m],g=ol(v);v.min=s[m].min,v.max=v.min+g}):J3(i,e.layoutBox,s)&&jA(m=>{const v=c?e.measuredBox[m]:e.layoutBox[m],g=ol(s[m]);v.max=v.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+g)});const h=Vf();kp(h,s,e.layoutBox);const u=Vf();c?kp(u,n.applyTransform(a,!0),e.measuredBox):kp(u,s,e.layoutBox);const f=!$3(h);let A=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:g}=m;if(v&&g){const B=Li();sy(B,e.layoutBox,v.layoutBox);const S=Li();sy(S,s,g.layoutBox),W3(B,S)||(A=!0),m.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=B,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:u,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:A})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function S$(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function N$(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function T$(n){n.clearSnapshot()}function uS(n){n.clearMeasurements()}function dS(n){n.isLayoutDirty=!1}function I$(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function hS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function _$(n){n.resolveTargetDelta()}function F$(n){n.calcProjection()}function U$(n){n.resetSkewAndRotation()}function R$(n){n.removeLeadSnapshot()}function fS(n,e,t){n.translate=Ia(e.translate,0,t),n.scale=Ia(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function mS(n,e,t,s){n.min=Ia(e.min,t.min,s),n.max=Ia(e.max,t.max,s)}function D$(n,e,t,s){mS(n.x,e.x,t.x,s),mS(n.y,e.y,t.y,s)}function L$(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Q$={duration:.45,ease:[.4,0,.1,1]},pS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gS=pS("applewebkit/")&&!pS("chrome/")?Math.round:IA;function vS(n){n.min=gS(n.min),n.max=gS(n.max)}function O$(n){vS(n.x),vS(n.y)}function J3(n,e,t){return n==="position"||n==="preserve-aspect"&&!GG(AS(e),AS(t),.2)}function P$(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const M$=X3({attachResizeListener:(n,e)=>lg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sx={current:void 0},q3=X3({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Sx.current){const n=new M$({});n.mount(window),n.setOptions({layoutScroll:!0}),Sx.current=n}return Sx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),k$={pan:{Feature:o$},drag:{Feature:i$,ProjectionNode:q3,MeasureLayout:K3}};function yS(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,i=s[a];i&&ca.postRender(()=>i(e,Ug(e)))}class H$ extends $d{mount(){const{current:e}=this.node;e&&(this.unmount=pz(e,(t,s)=>(yS(this.node,s,"Start"),a=>yS(this.node,a,"End"))))}unmount(){}}class V$ extends $d{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ig(lg(this.node.current,"focus",()=>this.onFocus()),lg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xS(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),i=s[a];i&&ca.postRender(()=>i(e,Ug(e)))}class K$ extends $d{mount(){const{current:e}=this.node;e&&(this.unmount=yz(e,(t,s)=>(xS(this.node,s,"Start"),(a,{success:i})=>xS(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mb=new WeakMap,Nx=new WeakMap,z$=n=>{const e=Mb.get(n.target);e&&e(n)},G$=n=>{n.forEach(z$)};function $$({root:n,...e}){const t=n||document;Nx.has(t)||Nx.set(t,{});const s=Nx.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(G$,{root:n,...e})),s[a]}function W$(n,e,t){const s=$$(e);return Mb.set(n,t),s.observe(n),()=>{Mb.delete(n),s.unobserve(n)}}const Y$={some:0,all:1};class X$ extends $d{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:i}=e,c={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Y$[a]},h=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:A,onViewportLeave:m}=this.node.getProps(),v=f?A:m;v&&v(u)};return W$(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(J$(e,t))&&this.startObserver()}unmount(){}}function J$({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const q$={inView:{Feature:X$},tap:{Feature:K$},focus:{Feature:V$},hover:{Feature:H$}},Z$={layout:{ProjectionNode:q3,MeasureLayout:K3}},eW={...MG,...q$,...k$,...Z$},bS=nG(eW,mG),tW=({reopenDate:n})=>{const e=n?(()=>{const[t,s,a]=n.split("-").map(c=>parseInt(c,10));return new Date(t,s-1,a).toLocaleDateString()})():"Not set";return l.jsx(bS.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:l.jsxs(bS.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg p-8 m-4 text-center shadow-2xl",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"School is on Vacation!"}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"The school is currently on break. We hope you are having a wonderful time."}),l.jsxs("p",{className:"text-lg text-gray-600",children:["School will reopen on"," ",l.jsx("span",{className:"font-semibold text-red-600",children:e}),"."]})]})})},wS=["Monday","Tuesday","Wednesday","Thursday","Friday"],nW=["punctuality","neatness","conduct","attitudeToWork","classParticipation","homeworkCompletion"],sW=["An outstanding performer with excellent academic progress.","Shows great potential and maintains good conduct in class.","Consistent effort and improvement throughout the term.","Active participant in class activities and assignments.","Demonstrates good leadership qualities among peers.","Maintains excellent attendance and punctuality.","Shows remarkable improvement in academic performance.","A disciplined student who follows school rules diligently.","Excellent interpersonal skills and teamwork abilities.","Creative and innovative in approaching class tasks."],Z3=()=>{const{user:n}=Go(),e=(n==null?void 0:n.schoolId)||null,[t,s]=ee.useState([]),a=(n==null?void 0:n.assignedClassIds)||[],[i,c]=ee.useState(""),[h,u]=ee.useState("Term 1"),[f,A]=ee.useState(null),[m,v]=ee.useState(!1);ee.useEffect(()=>{a.length>0&&c(a[0])},[n]);const g=Wn.find(ke=>ke.id===i),B=a.map(ke=>{var gt;return(gt=Wn.find(He=>He.id===ke))==null?void 0:gt.name}).join(", "),[S,T]=ee.useState([]),[E,_]=ee.useState(null),[F,Q]=ee.useState(!1),[M,k]=ee.useState({show:!1,dates:[]}),[R,D]=ee.useState({show:!1,date:""}),[O,$]=ee.useState(!1),[L,H]=ee.useState([]),[z,re]=ee.useState({}),[pe,ae]=ee.useState(!1),[ne,Z]=ee.useState(!1),[ue,je]=ee.useState([]),[se,G]=ee.useState({}),[te,le]=ee.useState(!1),[he,ce]=ee.useState([]),xe=()=>{const ke=new Date().toLocaleDateString("en-US",{weekday:"long"});return wS.includes(ke)?ke:"Monday"},[Ne,Te]=ee.useState(null),[Fe,tt]=ee.useState(xe()),[$e,it]=ee.useState([]),[Ve,fe]=ee.useState([]),[ut,Lt]=ee.useState(0),[Ge,Je]=ee.useState(0),[Qt,Ut]=ee.useState(0),[Yt,zt]=ee.useState(0),[Jt,yn]=ee.useState(0),[tn,Dn]=ee.useState("0.0"),[xt,Et]=ee.useState([]);if(!n)return l.jsx(cr,{title:"Teacher Dashboard",children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1160A8] mx-auto mb-4"}),l.jsx("p",{className:"text-slate-500",children:"Loading dashboard..."})]})});const Gt=(ke=0)=>{const gt=new Date;gt.setDate(gt.getDate()+ke*7);const He=gt.getDay(),at=He===0?-6:1-He,ht=new Date(gt);ht.setDate(gt.getDate()+at);const Rt=[];for(let Bt=0;Bt<5;Bt++){const Ht=new Date(ht);Ht.setDate(ht.getDate()+Bt);const xn=Ht.getFullYear(),Ct=String(Ht.getMonth()+1).padStart(2,"0"),dt=String(Ht.getDate()).padStart(2,"0");Rt.push(`${xn}-${Ct}-${dt}`)}return Rt},kt=ke=>{if(ke===0)return"This Week";const gt=Gt(ke),He=new Date(gt[0]+"T00:00:00"),at=new Date(gt[4]+"T00:00:00"),ht={month:"short",day:"numeric"},Rt=He.toLocaleDateString("en-US",ht),Bt=at.toLocaleDateString("en-US",ht);return ke===-1?`Last Week (${Rt} - ${Bt})`:`${Rt} - ${Bt}`};ee.useEffect(()=>{let ke=!0;return n&&(async()=>{const He=new Date().toISOString().split("T")[0];await ct.getTeacherAttendance(e||void 0,(n==null?void 0:n.id)||"",He);try{if(!e)return;const at=await ct.getSchoolConfig(e);if(!ke)return;const ht=new Date,Rt=at.schoolReopenDate?new Date(at.schoolReopenDate+"T00:00:00"):null;Rt&&Rt.setHours(0,0,0,0);const Bt=new Date;Bt.setHours(0,0,0,0);const Ht=at.nextTermBegins?new Date(at.nextTermBegins+"T00:00:00"):null;if(Ht&&Ht.setHours(0,0,0,0),Ht&&Bt.getTime()===Ht.getTime()){k({show:!1,dates:[]}),D({show:!1,date:""});return}const xn=at.vacationDate?new Date(at.vacationDate+"T00:00:00"):null;xn&&xn.setHours(0,0,0,0);const Ct=!Rt||ht>=Rt,dt=xn&&Ht&&Bt>=xn&&Bt<Ht;if(Ct&&!dt){const Dt=[];let Xt=new Date;for(Xt.setDate(Xt.getDate()-1);Xt>=Rt;){const rn=Xt.getDay(),cs=xn&&Xt.toDateString()===xn.toDateString();if(rn===0||rn===6||cs){Xt.setDate(Xt.getDate()-1);continue}const Bs=`${Xt.getFullYear()}-${String(Xt.getMonth()+1).padStart(2,"0")}-${String(Xt.getDate()).padStart(2,"0")}`,ln=await ct.getTeacherAttendance(e,(n==null?void 0:n.id)||"",Bs);if(!ke)return;ln||Dt.push(Bs),Xt.setDate(Xt.getDate()-1)}if(Dt.length>0?k({show:!0,dates:Dt}):k({show:!1,dates:[]}),i&&Dt.length>0){const rn=Dt[0],cs=await ct.getAttendance(e,i,rn);if(!ke)return;D(cs?{show:!1,date:""}:{show:!0,date:rn})}}}catch(at){console.error("Error re-checking missed attendance:",at)}})(),()=>{ke=!1}},[n,i]),ee.useEffect(()=>{let ke=!0;return(async()=>{if(!i||!e)return;let He;try{if(He=await ct.getSchoolConfig(e),ke){A(He),u(He.currentTerm||`Term ${Oi}`);const Ht=new Date;Ht.setHours(0,0,0,0);const xn=Ht.getTime();let Ct=null;if(He.vacationDate){const rn=new Date(He.vacationDate+"T00:00:00");rn.setHours(0,0,0,0),Ct=rn.getTime()}let dt=null;if(He.nextTermBegins){const rn=new Date(He.nextTermBegins+"T00:00:00");rn.setHours(0,0,0,0),dt=rn.getTime()}let Dt=null;if(Ct!==null){const rn=new Date(Ct);rn.setDate(rn.getDate()+1),Dt=rn.getTime()}let Xt=!1;if(Dt!==null&&xn>=Dt&&dt!==null&&xn<dt&&(Xt=!0),v(Xt),console.log("--- Vacation Overlay Debug ---"),console.log("Current Date (Local Midnight):",Ht.toLocaleDateString()),console.log("Vacation Date (Last School Day):",He.vacationDate),console.log("Vacation Starts (Local Midnight):",Dt?new Date(Dt).toLocaleDateString():"N/A"),console.log("Next Term Begins (Local Midnight):",He.nextTermBegins),console.log("Is Vacation:",Xt),console.log("--- End Debug ---"),He.nextTermBegins&&xn>=dt){if(He.termTransitionProcessed===!1){console.log("New term begins today or has passed. Initiating dashboard reset...");try{await ct.resetForNewTerm(He),await ct.updateSchoolConfig({...He,termTransitionProcessed:!0}),Zt("New term started! Dashboard has been reset.",{type:"success"}),window.location.reload()}catch(rn){console.error("Error during new term reset:",rn),Zt("Failed to reset dashboard for new term.",{type:"error"})}}}else He.nextTermBegins&&xn<dt&&He.termTransitionProcessed===!0&&await ct.updateSchoolConfig({...He,termTransitionProcessed:!1})}}catch(Ht){console.error(Ht),He={currentTerm:`Term ${Oi}`,academicYear:uo,schoolReopenDate:"",schoolName:"School Manager GH",headTeacherRemark:"An outstanding performance. The school is proud of you.",termEndDate:"2024-12-20",vacationDate:"2024-12-20",nextTermBegins:"",termTransitionProcessed:!1,schoolId:""}}const at=await ct.getSubjects(e,i);if(!ke)return;s(at);const ht=await ct.getNotices(e);if(!ke)return;T(ht);const Rt=new Date().toISOString().split("T")[0],Bt=await ct.getTeacherAttendance(e,(n==null?void 0:n.id)||"",Rt);if(ke&&(_(Bt),i)){const Ht=await ct.getTimetable(e,i);if(!ke)return;Te(Ht||null),tt(xe());try{const[xn,Ct]=await Promise.all([ct.getClassAttendance(e,i),ct.getStudents(e,i)]);if(!ke)return;const dt=Ct.length||1,Dt=Gt(ut),Xt=xn.filter(Nt=>Dt.includes(Nt.date)),rn=Dt.map(Nt=>{const Vt=Xt.find(Tn=>Tn.date===Nt),Tt=Vt?Math.round(Vt.presentStudentIds.length/dt*100):0,[gn,En,Ln]=Nt.split("-").map(Number);return{day:new Date(gn,En-1,Ln).toLocaleDateString("en-US",{weekday:"short"}),percentage:Tt}});if(fe(rn),ce(Ct),ut===0){Je(Ct.length);const Nt=new Date().toISOString().split("T")[0],Vt=xn.find(gn=>gn.date===Nt),Tt=Vt?Vt.presentStudentIds.length:0;Ut(Tt),zt(Ct.length-Tt)}else Ut(0),zt(0);const cs=parseInt((He.currentTerm||`Term ${Oi}`).split(" ")[1]);let Bs=0,ln=0;for(const Nt of at){const Tt=(await ct.getAssessments(e,i,Nt)).filter(gn=>gn.term===cs);for(const gn of Tt){const En=gn.total??vu(gn);Bs+=En,ln++}}const si=ln>0?Bs/ln:0;yn(si);const ua=(await ct.getStudentSkills(e,i)).filter(Nt=>Nt.term===cs);let $r=0,an=0;const Re={Excellent:5,"Very Good":4,Good:3,Fair:2,Poor:1};for(const Nt of ua)Nt.conduct&&($r+=Re[Nt.conduct]||0,an++);const _t=an>0?$r/an:0;Dn(_t.toFixed(1));const Pt=[];for(const Nt of at){const Tt=(await ct.getAssessments(e,i,Nt)).filter(Hn=>Hn.term===cs);if(Tt.length===0)continue;let gn=0,En=0,Ln="";for(const Hn of Tt){const Tn=Hn.total??vu(Hn),Us=Ct.find(Es=>Es.id===Hn.studentId);Us&&Tn>En&&(En=Tn,Ln=Us.name),gn+=Tn}const ur=gn/Tt.length;Pt.push({subject:Nt,topStudent:Ln,average:ur})}Pt.sort((Nt,Vt)=>Vt.average-Nt.average),Et(Pt)}catch(xn){console.error("Error calculating dashboard stats:",xn)}}})(),()=>{ke=!1}},[i,ut,e]),ee.useEffect(()=>{if(Ne&&Ne.schedule&&Fe){const ke=Ne.schedule[Fe]||[];it(ke)}else it([])},[Ne,Fe]);const Pn=ke=>{switch(ke){case"break":return{border:"border-amber-400",bgHover:"group-hover:bg-amber-50",text:"text-amber-700 italic",badge:"text-amber-600"};case"worship":return{border:"border-purple-400",bgHover:"group-hover:bg-purple-50",text:"text-purple-700 font-semibold",badge:"text-purple-600"};case"closing":return{border:"border-slate-400",bgHover:"group-hover:bg-slate-50",text:"text-slate-700 font-bold",badge:"text-slate-600"};default:return{border:"border-[#1160A8]",bgHover:"group-hover:bg-[#E6F0FA]",text:"text-slate-800",badge:"text-[#1160A8]"}}};return l.jsxs(cr,{title:"Teacher Dashboard",children:[m&&l.jsx(tW,{reopenDate:(f==null?void 0:f.nextTermBegins)||"TBD"}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome back, ",n==null?void 0:n.fullName]}),l.jsxs("p",{className:"text-slate-500 mt-1",children:[l.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#1160A8] mr-2"}),"Class Teacher for:"," ",l.jsx("span",{className:"font-semibold text-slate-800",children:B||"Not Assigned"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end sm:items-center",children:[a.length>1&&l.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-lg px-3 py-1.5 shadow-sm",children:[l.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:"Viewing:"}),l.jsx("select",{value:i,onChange:ke=>c(ke.target.value),className:"text-sm font-semibold text-slate-800 bg-transparent outline-none cursor-pointer",children:a.map(ke=>{const gt=Wn.find(He=>He.id===ke);return l.jsx("option",{value:ke,children:gt==null?void 0:gt.name},ke)})})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 text-xs font-bold rounded-full border border-emerald-100 uppercase tracking-wide",children:[h," Active"]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs($i,{to:"/teacher/attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden",children:[l.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#0B4A82] transition-colors",children:l.jsx(Kv,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),l.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Take Attendance"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Record daily register for"," ",(g==null?void 0:g.name)||"your class","."]})]})]}),l.jsxs($i,{to:"/teacher/assessment",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-amber-500 transition-all relative overflow-hidden",children:[l.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-amber-500 transition-colors",children:l.jsx(Mc,{className:"w-6 h-6 text-amber-600 group-hover:text-white"})}),l.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Gradebook"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Record marks for tests, homework & exams."})]})]}),l.jsxs($i,{to:"/teacher/my-attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-green-500 transition-all relative overflow-hidden w-full text-left",children:[l.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-green-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-500 transition-colors",children:l.jsx(Kv,{className:"w-6 h-6 text-green-600 group-hover:text-white"})}),l.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"My Attendance"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Mark weekly attendance & view records"}),E&&l.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Last marked: ",E.date]})]})]}),l.jsxs("button",{onClick:async()=>{let ke=he;(!ke||ke.length===0)&&(ke=await ct.getStudents(e,i));const He=(await ct.getStudentRemarks(e,i)).reduce((Rt,Bt)=>(Rt[Bt.studentId]={remark:Bt.remark,behaviorTag:Bt.behaviorTag},Rt),{});re(He);const ht=(await ct.getStudentSkills(e,i)).reduce((Rt,Bt)=>(Rt[Bt.studentId]={punctuality:Bt.punctuality,neatness:Bt.neatness,conduct:Bt.conduct,attitudeToWork:Bt.attitudeToWork,classParticipation:Bt.classParticipation,homeworkCompletion:Bt.homeworkCompletion},Rt),{});G(ht),H(ke||[]),$(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-purple-500 transition-all relative overflow-hidden w-full text-left",children:[l.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-500 transition-colors",children:l.jsx(Mc,{className:"w-6 h-6 text-purple-600 group-hover:text-white"})}),l.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Write Remarks"}),l.jsx("p",{className:"text-sm text-slate-500",children:"End of term comments & behavior tags."})]})]}),l.jsxs("button",{onClick:async()=>{let ke=he;(!ke||ke.length===0)&&(ke=await ct.getStudents(e,i));const He=(await ct.getStudentSkills(e,i)).reduce((at,ht)=>(at[ht.studentId]={punctuality:ht.punctuality,neatness:ht.neatness,conduct:ht.conduct,attitudeToWork:ht.attitudeToWork,classParticipation:ht.classParticipation,homeworkCompletion:ht.homeworkCompletion},at),{});G(He),je(ke||[]),Z(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden w-full text-left",children:[l.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#1160A8] transition-colors",children:l.jsx(Ih,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),l.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Edit Skills"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Rate student skills and behavior."})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Class Health"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Total Students:"}),l.jsx("span",{className:"font-semibold",children:Ge})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Present Today:"}),l.jsx("span",{className:"font-semibold text-green-600",children:Qt})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Absent Today:"}),l.jsx("span",{className:"font-semibold text-red-600",children:Yt})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Average Performance"}),l.jsx("div",{className:"text-center",children:Jt>0?l.jsxs("span",{className:"text-2xl font-bold text-[#1160A8]",children:[Jt.toFixed(1),"%"]}):l.jsx("span",{className:"text-sm text-slate-400 italic",children:"No assessment data."})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Behavior Average"}),l.jsx("div",{className:"text-center",children:parseFloat(tn)>0?l.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[tn,"/5"]}):l.jsx("span",{className:"text-sm text-slate-400 italic",children:"No behavior data."})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Subject Standings"}),l.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:xt.slice(0,3).map(ke=>l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsxs("span",{children:[ke.subject,":"]}),l.jsx("span",{className:"font-semibold",children:ke.topStudent||"N/A"})]},ke.subject))})]})]}),l.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[l.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[l.jsx(Ih,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-[#1160A8]"})," ","Weekly Attendance Trend"]}),l.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[l.jsx("button",{onClick:()=>Lt(ut-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),l.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-[#1160A8] text-white text-center min-w-[120px] sm:w-36 truncate",children:kt(ut)}),l.jsx("button",{onClick:()=>Lt(ut+1),disabled:ut===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),l.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2",children:Ve.length===0?l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[l.jsx(Ih,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),l.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):Ve.map((ke,gt)=>l.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[l.jsxs("div",{className:"relative w-full flex justify-center",children:[l.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-[#E6F0FA] relative overflow-hidden",style:{height:"120px"},children:l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1160A8] rounded-t-lg transition-all duration-1000",style:{height:`${ke.percentage}%`}})}),l.jsxs("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[ke.percentage,"%"]}),l.jsxs("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:[ke.percentage,"%"]})]}),l.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:ke.day})]},gt))})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[l.jsx(Ip,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Notice Board"]}),l.jsx("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-1",children:S.length===0?l.jsx("div",{className:"text-center py-6 text-slate-400 italic text-sm",children:"No announcements at this time."}):S.map(ke=>l.jsxs("div",{className:"group relative pl-4 pb-2 border-l-2 border-slate-200 hover:border-[#1160A8] transition-colors",children:[l.jsx("div",{className:`absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full border-2 border-white ${ke.type==="urgent"?"bg-red-500":"bg-amber-400"} shadow-sm`}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:ke.date}),ke.type==="urgent"&&l.jsx("span",{className:"text-[10px] text-red-500 font-bold px-1.5 py-0.5 bg-red-50 rounded",children:"URGENT"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800 leading-snug",children:ke.message})]})]},ke.id))})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[l.jsx(Sg,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Class Schedule"]}),l.jsx("select",{value:Fe,onChange:ke=>tt(ke.target.value),className:"text-xs font-bold text-[#1160A8] bg-[#E6F0FA] px-2 py-1 rounded uppercase border-none outline-none cursor-pointer hover:bg-[#E6F0FA] transition-colors",children:wS.map(ke=>l.jsx("option",{value:ke,children:ke},ke))})]}),i?l.jsx("div",{className:"space-y-4 relative min-h-[150px]",children:$e.length===0?l.jsxs("div",{className:"text-center py-10 text-slate-400 text-sm italic border-2 border-dashed border-slate-100 rounded-lg",children:["No schedule set for ",Fe,"."]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-0.5 bg-slate-200"}),$e.map(ke=>{const gt=Pn(ke.type);return l.jsxs("div",{className:"relative pl-8 group",children:[l.jsx("div",{className:`absolute left-0 top-1.5 w-5 h-5 bg-white border-2 rounded-full z-10 transition-colors ${gt.border} ${gt.bgHover}`}),l.jsxs("div",{className:"flex items-baseline justify-between",children:[l.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[ke.startTime," - ",ke.endTime]}),ke.type!=="lesson"&&l.jsx("span",{className:`text-[10px] font-bold uppercase ${gt.badge}`,children:ke.type})]}),l.jsx("p",{className:`text-sm ${gt.text}`,children:ke.subject})]},ke.id)})]})}):l.jsx("div",{className:"text-center py-10 text-slate-400",children:"Select a class to view schedule."})]})]})]}),M.show&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[l.jsx("div",{className:"p-6 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:l.jsx(Ip,{className:"text-amber-600",size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:"Attendance Reminder"}),l.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking attendance for a previous school day"})]})]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-amber-800",children:"Please mark your attendance for the following dates to keep your records accurate:"}),l.jsx("ul",{className:"mt-2 space-y-1",children:M.dates.map(ke=>l.jsx("li",{className:"text-sm font-medium",children:l.jsx("strong",{children:(()=>{const gt=ke.split("-");return gt.length===3?`${gt[1]}/${gt[2]}/${gt[0]}`:ke})()})},ke))})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>k({show:!1,dates:[]}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),l.jsx($i,{to:"/teacher/my-attendance",onClick:()=>k({show:!1,dates:[]}),className:"flex-1 px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-center",children:"Mark Attendance Now"})]})]})]})}),R.show&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[l.jsx("div",{className:"p-6 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:l.jsx(Ip,{className:"text-red-600",size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:"Student Attendance Reminder"}),l.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking student attendance for your class."})]})]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-red-800",children:["Please mark student attendance for"," ",l.jsx("strong",{children:g==null?void 0:g.name})," on"," ",l.jsx("strong",{children:(()=>{const ke=R.date.split("-");return ke.length===3?`${ke[1]}/${ke[2]}/${ke[0]}`:R.date})()})," ","to keep records accurate."]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>D({show:!1,date:""}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),l.jsx($i,{to:"/teacher/attendance",onClick:()=>D({show:!1,date:""}),className:"flex-1 px-4 py-2 text-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Take Attendance"})]})]})]})}),O&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[l.jsx("div",{className:"p-6 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:l.jsx(Mc,{className:"text-purple-600",size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:"End of Term Remarks"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Write comments and select behavior tags for each student"})]})]}),l.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:l.jsx(ho,{size:20})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:L.map(ke=>{var gt,He;return l.jsxs("div",{className:"border rounded p-4",children:[l.jsx("h4",{className:"font-semibold mb-2",children:ke.name}),l.jsxs("div",{className:"mb-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Behavior Tag"}),l.jsxs("select",{value:((gt=z[ke.id])==null?void 0:gt.behaviorTag)||"",onChange:at=>re(ht=>({...ht,[ke.id]:{...ht[ke.id],behaviorTag:at.target.value}})),className:"w-full p-2 border rounded",children:[l.jsx("option",{value:"",children:"Select Behavior"}),l.jsx("option",{value:"Excellent",children:"Excellent"}),l.jsx("option",{value:"Good",children:"Good"}),l.jsx("option",{value:"Needs Improvement",children:"Needs Improvement"})]})]}),l.jsxs("div",{className:"mb-2",children:[l.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[l.jsx(jT,{size:14,className:"text-purple-600"}),"Remark"]}),l.jsx("textarea",{value:((He=z[ke.id])==null?void 0:He.remark)||"",onChange:at=>re(ht=>({...ht,[ke.id]:{...ht[ke.id],remark:at.target.value}})),placeholder:"Write remark or select from suggestions below...",className:"w-full p-2 border rounded",rows:3}),l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tap to insert suggestion:"}),l.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto p-1 bg-slate-50 rounded-lg",children:sW.map((at,ht)=>l.jsx("button",{type:"button",onClick:()=>re(Rt=>({...Rt,[ke.id]:{...Rt[ke.id],remark:at}})),className:"text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 hover:bg-purple-100 transition-colors text-left truncate max-w-full",title:at,children:at.length>50?at.substring(0,50)+"...":at},ht))})]})]})]},ke.id)})}),l.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),l.jsx("button",{onClick:async()=>{var ke,gt;ae(!0);try{for(const He of L){const at=parseInt(h.split(" ")[1]),ht={id:`${He.id}_${h}_${uo}`,studentId:He.id,classId:i,term:at,academicYear:uo,schoolId:e||(f==null?void 0:f.schoolId)||"",remark:((ke=z[He.id])==null?void 0:ke.remark)||"",behaviorTag:((gt=z[He.id])==null?void 0:gt.behaviorTag)||"",teacherId:n.id,dateCreated:new Date().toISOString().split("T")[0]};await ct.saveStudentRemark(ht)}Zt("Remarks saved successfully!",{type:"success"}),$(!1)}catch(He){console.error(He),Zt("Failed to save remarks",{type:"error"})}finally{ae(!1)}},disabled:pe,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:pe?"Saving...":"Save Remarks"})]})]})]})}),ne&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[l.jsx("div",{className:"p-6 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-full",children:l.jsx(Ih,{className:"text-[#1160A8]",size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:"Edit Student Skills"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Rate skills and behavior for each student"})]})]}),l.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:l.jsx(ho,{size:20})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:ue.map(ke=>l.jsxs("div",{className:"border rounded p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:ke.name}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:nW.map(gt=>{var He;return l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1 capitalize",children:gt.replace(/([A-Z])/g," $1").trim()}),l.jsxs("select",{value:((He=se[ke.id])==null?void 0:He[gt])||"",onChange:at=>G(ht=>({...ht,[ke.id]:{...ht[ke.id],[gt]:at.target.value}})),className:"w-full p-2 border rounded text-sm",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"Excellent",children:"Excellent"}),l.jsx("option",{value:"Very Good",children:"Very Good"}),l.jsx("option",{value:"Good",children:"Good"}),l.jsx("option",{value:"Fair",children:"Fair"}),l.jsx("option",{value:"Poor",children:"Poor"})]})]},gt)})})]},ke.id))}),l.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>Z(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),l.jsx("button",{onClick:async()=>{le(!0);try{const ke=parseInt(h.split(" ")[1]);for(const gt of ue){const He={id:`${gt.id}_${h}_${uo}`,studentId:gt.id,classId:i,term:ke,academicYear:uo,schoolId:e||(f==null?void 0:f.schoolId)||"",...se[gt.id]};await ct.saveStudentSkills(He)}Zt("Skills saved successfully!",{type:"success"}),Z(!1)}catch(ke){console.error(ke),Zt("Failed to save skills",{type:"error"})}finally{le(!1)}},disabled:te,className:"px-4 py-2 bg-[#1160A8] text-white rounded hover:bg-[#0B4A82] disabled:opacity-50",children:te?"Saving...":"Save Skills"})]})]})]})})]})},rW=()=>{const{user:n}=Go(),e=(n==null?void 0:n.assignedClassIds)||[],[t,s]=ee.useState(""),a=(n==null?void 0:n.schoolId)||null,[i,c]=ee.useState([]),[h,u]=ee.useState(new Date().toISOString().split("T")[0]),[f,A]=ee.useState(new Set),[m,v]=ee.useState(!1),[g,B]=ee.useState(""),[S,T]=ee.useState(null);ee.useEffect(()=>{e.length>0&&!t&&s(e[0])},[e]),ee.useEffect(()=>{(async()=>{if(!a){T(null);return}const R=await ct.getSchoolConfig(a);T(R);const D=_(R);D&&h<D&&u(D)})()},[a]);const E=()=>_(S),_=k=>k&&k.schoolReopenDate?k.schoolReopenDate:"",F=()=>{const k=S==null?void 0:S.vacationDate,R=S==null?void 0:S.nextTermBegins,D=S==null?void 0:S.schoolReopenDate;return R&&h>=R?!1:!!(k&&h>k||!k&&D&&h<D)};ee.useEffect(()=>{if(!t||!a)return;(async()=>{v(!0);try{const R=await ct.getStudents(a,t);c(R);const D=await ct.getAttendance(a,t,h);A(D?new Set(D.presentStudentIds):new Set)}catch(R){console.error(R)}finally{v(!1)}})()},[t,h,a]);const Q=k=>{const R=new Set(f);R.has(k)?R.delete(k):R.add(k),A(R)},M=async()=>{var O;if(!t||!a)return;const k=S==null?void 0:S.vacationDate,R=S==null?void 0:S.nextTermBegins,D=S==null?void 0:S.schoolReopenDate;if(!(R&&h>=R)){if(k&&h>k){B("Cannot mark attendance after school vacation date"),setTimeout(()=>B(""),3e3);return}else if(!k&&D&&h<D){B(`Cannot mark attendance before school re-open date (${D})`),setTimeout(()=>B(""),3e3);return}}v(!0);try{await ct.saveAttendance({id:`${a}_${t}_${h}`,schoolId:a,classId:t,date:h,presentStudentIds:Array.from(f)});const $=((O=Wn.find(L=>L.id===t))==null?void 0:O.name)||t;await ct.addSystemNotification(`${n==null?void 0:n.fullName} marked attendance for ${$} on ${h}. (${f.size} Present)`,"attendance",a),B("Attendance saved successfully!"),setTimeout(()=>B(""),3e3)}catch($){console.error($)}finally{v(!1)}};return e.length===0?l.jsx(cr,{title:"Attendance",children:l.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})}):l.jsx(cr,{title:"Mark Attendance",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),l.jsx("select",{value:t,onChange:k=>s(k.target.value),className:"w-full sm:w-48 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(k=>{const R=Wn.find(D=>D.id===k);return l.jsx("option",{value:k,children:R==null?void 0:R.name},k)})})]}),l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(EA,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),l.jsx("input",{type:"date",value:h,onChange:k=>u(k.target.value),min:E(),className:"w-full sm:w-auto pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-4 border-t border-slate-50",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-bold text-emerald-600 text-lg mr-1",children:f.size})," ","Present",l.jsx("span",{className:"mx-2 text-slate-300",children:"|"}),l.jsx("span",{className:"font-bold text-red-500 text-lg mr-1",children:i.length-f.size})," ","Absent"]}),l.jsxs("button",{onClick:M,disabled:m||!t||F(),className:"w-full sm:w-auto flex justify-center items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[l.jsx(Zl,{size:18,className:"mr-2"}),m?"Saving...":"Save Register"]})]})]}),g&&l.jsx("div",{className:`mb-4 p-3 rounded text-center text-sm ${g.includes("Cannot")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g}),F()&&l.jsx("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[l.jsx(eA,{size:18}),l.jsx("span",{className:"font-medium",children:S!=null&&S.nextTermBegins&&h>=S.nextTermBegins?"Attendance not available for selected date":S!=null&&S.vacationDate&&h>S.vacationDate?`Cannot mark attendance after vacation date (${S.vacationDate})`:!(S!=null&&S.vacationDate)&&(S!=null&&S.schoolReopenDate)&&h<S.schoolReopenDate?`Cannot mark attendance before school re-open date (${S.schoolReopenDate})`:"Attendance not available for selected date"})]})}),l.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[i.map(k=>{const R=f.has(k.id),D=F();return l.jsxs("div",{className:`flex items-center justify-between p-4 border-b last:border-b-0 cursor-pointer transition-colors ${R?"bg-white":"bg-red-50"} ${D?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!D&&Q(k.id),children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mr-4 ${R?"bg-slate-100 text-slate-600":"bg-red-100 text-red-600"}`,children:k.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${R?"text-slate-800":"text-red-700"}`,children:k.name}),l.jsx("p",{className:"text-xs text-slate-400",children:k.gender})]})]}),l.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold border ${R?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200"}`,children:R?"PRESENT":"ABSENT"})]},k.id)}),i.length===0&&l.jsx("div",{className:"p-8 text-center text-slate-500",children:t?"No students found in this class.":"Select a class to view students."})]})]})})},Yl=n=>{const e=n.split("-");if(e.length===3){const s=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]));if(!isNaN(s.getTime()))return s}const t=new Date(n);return isNaN(t.getTime())?(console.error("Invalid date string:",n),new Date):t},aW=()=>{const{user:n}=Go(),e=(n==null?void 0:n.schoolId)||null,[t,s]=ee.useState({}),[a,i]=ee.useState(!0),[c,h]=ee.useState({}),[u,f]=ee.useState(null),[A,m]=ee.useState(null),v=R=>{const D=R.getFullYear(),O=String(R.getMonth()+1).padStart(2,"0"),$=String(R.getDate()).padStart(2,"0");return`${D}-${O}-${$}`},g=()=>{const R=new Date;return R.setHours(0,0,0,0),R},B=ee.useMemo(()=>g(),[]),S=ee.useMemo(()=>v(B),[B]),T=(R,D,O=!1)=>{const $=[];let L=new Date(R);for(L.setHours(0,0,0,0);$.length<D;)L.getDay()!==0&&L.getDay()!==6&&$.push(v(L)),L.setDate(L.getDate()+(O?-1:1));return $},E=ee.useMemo(()=>{const R=u!=null&&u.schoolReopenDate?Yl(u.schoolReopenDate):null,D=u!=null&&u.vacationDate?Yl(u.vacationDate):null,O=new Date(B);return T(O,20,!0).filter(L=>{const H=Yl(L),z=u!=null&&u.nextTermBegins?Yl(u.nextTermBegins):null;if(z&&H>=z)return!0;const re=!R||H>=R,pe=!D||H<=D;return re&&pe}).sort()},[B,u]),_=R=>{const D=new Date(R);for(D.setDate(D.getDate()-1);D.getDay()===0||D.getDay()===6;)D.setDate(D.getDate()-1);return v(D)},F=ee.useMemo(()=>_(B),[B]),Q=(R,D,O,$)=>{const L=Yl(R),H=D?Yl(D):null,z=O?Yl(O):null,re=$?Yl($):null;return re&&L>=re?!0:!(H&&L<H||z&&L>z)};ee.useEffect(()=>{(async()=>{if(!e){f(null);return}const D=await ct.getSchoolConfig(e);f(D)})()},[e]),ee.useEffect(()=>{if(!(n!=null&&n.id)||!e||E.length===0){i(!1);return}(async()=>{i(!0);const D={};for(const O of E)if(Q(O,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins)){const $=await ct.getTeacherAttendance(e,n.id,O);$&&(D[O]=$)}s(D),i(!1)})()},[n==null?void 0:n.id,E,u==null?void 0:u.schoolReopenDate,e]),ee.useEffect(()=>{if(!(n!=null&&n.id)||!e||!u)return;(async()=>{const D=u.schoolReopenDate,O=u.vacationDate;if(!Q(F,D,O,u.nextTermBegins))return;await ct.getTeacherAttendance(e,n.id,F)||m(F)})()},[n==null?void 0:n.id,u,F,Q]);const M=async(R,D)=>{if(!(n!=null&&n.id)||!e)return;h($=>({...$,[R]:!0}));const O={id:`${e}_${n.id}_${R}`,date:R,teacherId:n.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:D};await ct.saveTeacherAttendance(O),s($=>({...$,[R]:O})),m(null),await ct.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} marked ${D} for ${R}`,"attendance",e),h($=>({...$,[R]:!1}))},k=()=>u!=null&&u.schoolReopenDate?B>=Yl(u.schoolReopenDate):!0;return l.jsx(cr,{title:"Daily Attendance",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Daily Attendance"}),A&&l.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border rounded",children:[l.jsx(eA,{className:"inline mr-2 text-amber-600"}),"You missed attendance for ",A,l.jsxs("div",{className:"mt-3 space-x-2",children:[l.jsx("button",{onClick:()=>M(A,"present"),disabled:c[A],className:"px-3 py-1 bg-green-600 text-white rounded disabled:opacity-50",children:"Mark Present"}),l.jsx("button",{onClick:()=>M(A,"absent"),disabled:c[A],className:"px-3 py-1 bg-red-600 text-white rounded disabled:opacity-50",children:"Mark Absent"})]})]}),!k()&&l.jsxs("div",{className:"mb-4 p-4 bg-red-50 border rounded",children:[l.jsx(Sg,{className:"inline mr-2 text-red-600"}),"School not yet open"]}),(u==null?void 0:u.vacationDate)&&B<Yl(u.vacationDate)&&l.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border rounded",children:[l.jsx(EA,{className:"inline mr-2 text-amber-600"}),"School will vacate on: ",u.vacationDate]}),l.jsx("div",{className:"bg-white border rounded",children:a?l.jsx("div",{className:"p-6 text-center",children:"Loading..."}):E.map(R=>{const D=t[R],O=R>S;return u!=null&&u.vacationDate&&R>u.vacationDate&&(!(u!=null&&u.nextTermBegins)||B<Yl(u.nextTermBegins)),l.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("span",{children:R}),D?l.jsx("span",{className:D.status==="present"?"text-green-600":"text-red-600",children:D.status.toUpperCase()}):Q(R,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins)?O?l.jsx("span",{className:"text-gray-400",children:"Future"}):l.jsxs("div",{className:"space-x-2",children:[l.jsx("button",{onClick:()=>M(R,"present"),className:"px-3 py-1 bg-green-600 text-white rounded",children:"Present"}),l.jsx("button",{onClick:()=>M(R,"absent"),className:"px-3 py-1 bg-red-600 text-white rounded",children:"Absent"})]}):l.jsx("span",{className:"text-amber-600",children:Yl(R)<Yl((u==null?void 0:u.schoolReopenDate)||"")?"Before Reopen":"After Vacation"})]},R)})})]})})},iW=()=>{const{user:n}=Go(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[i,c]=ee.useState([]),[h,u]=ee.useState([]),[f,A]=ee.useState(""),[m,v]=ee.useState({}),[g,B]=ee.useState(!1),[S,T]=ee.useState(!1),[E,_]=ee.useState({currentTerm:`Term ${Oi}`,academicYear:uo}),F={testScore:15,homeworkScore:15,projectScore:20,examScore:100};ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{(async()=>{try{if(!t)return;const R=await ct.getSchoolConfig(t);if(_({currentTerm:R.currentTerm||`Term ${Oi}`,academicYear:R.academicYear||uo}),R.termTransitionProcessed){console.log("Term transition detected, reloading for fresh data..."),await ct.updateSchoolConfig({...R,termTransitionProcessed:!1}),window.location.reload();return}const D=new Date;D.setHours(0,0,0,0);const O=R.nextTermBegins?new Date(R.nextTermBegins+"T00:00:00"):null;if(O&&D>=O){console.log("New term begins, initiating reset..."),await ct.resetForNewTerm(R),await ct.updateSchoolConfig({...R,termTransitionProcessed:!0}),Zt("New term started! Assessments have been reset.",{type:"success"}),window.location.reload();return}}catch(R){console.error("Failed to load school config",R)}})()},[t]),ee.useEffect(()=>{(async()=>{if(!s||!t){u([]),A("");return}const R=await ct.getSubjects(t,s);u(R),R.length>0?A(R[0]):A("")})()},[s,t]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{const R=await ct.getStudents(t,s);c(R)})()},[s,t]),ee.useEffect(()=>{if(!s||!f||!t){v({});return}(async()=>{B(!0);const R=await ct.getAssessments(t,s,f);let D=Oi;if(E.currentTerm){const $=E.currentTerm.match(/\d+/);$&&(D=parseInt($[0],10))}const O={};i.forEach($=>{const L=R.find(H=>H.studentId===$.id&&H.term===D);O[$.id]=L||{id:`${$.id}_${f}_${D}_${E.academicYear}`,schoolId:t||"",studentId:$.id,classId:s,term:D,academicYear:E.academicYear,subject:f,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0}}),v(O),B(!1)})()},[s,f,i,E.currentTerm,E.academicYear,t]);const Q=(k,R,D)=>{let O=D===""?0:parseFloat(D);const $=F[R];O>$&&(O=$),O<0&&(O=0),v(L=>{const H=L[k]||{};return{...L,[k]:{...H,[R]:O}}})},M=async()=>{var k;if(!(!s||!t)){T(!0);try{let R=Oi;if(E.currentTerm){const $=E.currentTerm.match(/\d+/);$&&(R=parseInt($[0],10))}const D=Object.values(m).map(async $=>{if(!$.studentId)return;const L=vu($),H={...$,id:$.id||Math.random().toString(36),schoolId:t,total:L,studentId:$.studentId,classId:s,subject:f,term:R,academicYear:E.academicYear,testScore:$.testScore||0,homeworkScore:$.homeworkScore||0,projectScore:$.projectScore||0,examScore:$.examScore||0};return ct.saveAssessment(H)});await Promise.all(D);const O=((k=Wn.find($=>$.id===s))==null?void 0:k.name)||s;await ct.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated assessments for ${O} in ${f}.`,"assessment",t),Zt("Saved Successfully",{type:"success"})}catch(R){console.error(R),Zt("Error saving data",{type:"error"})}finally{T(!1)}}};return e.length===0?l.jsx(cr,{title:"Assessment",children:l.jsx("div",{className:"p-8 text-center text-slate-500",children:"No class assigned."})}):l.jsx(cr,{title:"Assessment Sheet",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Class"}),l.jsx("select",{value:s,onChange:k=>a(k.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64 bg-white text-black",children:e.map(k=>{const R=Wn.find(D=>D.id===k);return l.jsx("option",{value:k,children:R==null?void 0:R.name},k)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Subject"}),l.jsxs("select",{value:f,onChange:k=>A(k.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64",disabled:h.length===0,children:[h.length===0&&l.jsx("option",{children:"Loading subjects..."}),h.map(k=>l.jsx("option",{value:k,children:k},k))]})]})]}),l.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[l.jsx("div",{className:"hidden sm:block",children:l.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[E.currentTerm,"  ",E.academicYear]})}),l.jsxs("button",{onClick:M,disabled:S||!f||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[l.jsx(Zl,{size:18,className:"mr-2"}),S?"Saving...":"Save Scores"]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold uppercase text-xs tracking-wider",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 sticky left-0 bg-slate-100 z-10 w-48",children:"Student Name"}),l.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Class Test",l.jsx("br",{}),l.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),l.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Homework",l.jsx("br",{}),l.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),l.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Project",l.jsx("br",{}),l.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(20)"})]}),l.jsxs("th",{className:"px-2 py-3 w-28 text-center border-l border-slate-200 bg-red-50/50",children:["Exam",l.jsx("br",{}),l.jsx("span",{className:"text-[10px] normal-case font-bold text-red-600",children:"(100)"})]}),l.jsxs("th",{className:"px-4 py-3 w-24 text-center bg-slate-200",children:["Total",l.jsx("br",{}),l.jsx("span",{className:"text-[10px] normal-case",children:"(100%)"})]}),l.jsx("th",{className:"px-4 py-3 w-20 text-center bg-slate-200",children:"Grade"})]})}),l.jsxs("tbody",{className:"divide-y divide-slate-100",children:[i.map(k=>{const R=m[k.id]||{},D=vu(R),{grade:O,remark:$}=rm(D),L=Ng(O);return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 sticky left-0 bg-white border-r border-slate-100",children:k.name}),l.jsx("td",{className:"px-2 py-2",children:l.jsx("input",{type:"number",min:"0",max:F.testScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:R.testScore||0,onChange:H=>Q(k.id,"testScore",H.target.value),onFocus:H=>H.target.select()})}),l.jsx("td",{className:"px-2 py-2",children:l.jsx("input",{type:"number",min:"0",max:F.homeworkScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:R.homeworkScore||0,onChange:H=>Q(k.id,"homeworkScore",H.target.value),onFocus:H=>H.target.select()})}),l.jsx("td",{className:"px-2 py-2",children:l.jsx("input",{type:"number",min:"0",max:F.projectScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:R.projectScore||0,onChange:H=>Q(k.id,"projectScore",H.target.value),onFocus:H=>H.target.select()})}),l.jsx("td",{className:"px-2 py-2 border-l border-slate-200 bg-red-50/20",children:l.jsx("input",{type:"number",min:"0",max:F.examScore,className:"w-full text-center border border-red-500 rounded p-1 focus:ring-2 focus:ring-red-300 outline-none font-bold text-slate-800 bg-white shadow-sm",value:R.examScore||0,onChange:H=>Q(k.id,"examScore",H.target.value),onFocus:H=>H.target.select()})}),l.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-800 bg-slate-50",children:D}),l.jsx("td",{className:"px-4 py-3 text-center bg-slate-50",children:l.jsx("span",{className:`inline-block w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${L}`,children:O})})]},k.id)}),i.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:s?"No students found in this class.":"Select a class above."})})]})]})})]})})},oW=()=>{const{user:n}=Go(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[i,c]=ee.useState([]),[h,u]=ee.useState({}),[f,A]=ee.useState(!1),[m,v]=ee.useState(!1),[g,B]=ee.useState("");ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const _=await ct.getStudents(t,s);c(_);const F=await ct.getStudentRemarks(t,s),Q={};let M=Oi;const k=await ct.getSchoolConfig(t);if(k.currentTerm){const R=k.currentTerm.match(/\d+/);R&&(M=parseInt(R[0],10))}_.forEach(R=>{const D=F.find(O=>O.studentId===R.id&&O.term===M);Q[R.id]=(D==null?void 0:D.remark)||""}),u(Q)}catch(_){console.error(_)}finally{A(!1)}})()},[s,t]);const S=(E,_)=>{u(F=>({...F,[E]:_}))},T=async()=>{var E;if(!(!s||!t)){v(!0);try{const _=await ct.getSchoolConfig(t);let F=Oi;if(_.currentTerm){const k=_.currentTerm.match(/\d+/);k&&(F=parseInt(k[0],10))}const Q=Object.entries(h).map(async([k,R])=>{const D=R;if(!D.trim())return;const O={id:`${k}_${s}_${F}_${uo}`,studentId:k,classId:s,term:F,academicYear:uo,schoolId:t,remark:D,behaviorTag:"Good",teacherId:(n==null?void 0:n.id)||"",dateCreated:new Date().toISOString().split("T")[0]};await ct.saveStudentRemark(O)});await Promise.all(Q);const M=((E=Wn.find(k=>k.id===s))==null?void 0:E.name)||s;await ct.addSystemNotification(`${n==null?void 0:n.fullName} updated remarks for ${M}.`,"assessment",t),B("Remarks saved successfully!"),setTimeout(()=>B(""),3e3)}catch(_){console.error(_),B("Error saving remarks"),setTimeout(()=>B(""),3e3)}finally{v(!1)}}};return e.length===0?l.jsx(cr,{title:"Write Remarks",children:l.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})}):l.jsx(cr,{title:"Write Remarks",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),l.jsx("select",{value:s,onChange:E=>a(E.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(E=>{const _=Wn.find(F=>F.id===E);return l.jsx("option",{value:E,children:_==null?void 0:_.name},E)})})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{onClick:T,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[l.jsx(Zl,{size:18,className:"mr-2"}),m?"Saving...":"Save Remarks"]})})]}),g&&l.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),l.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f?l.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):i.map(E=>{var _;return l.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:E.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-800",children:E.name}),l.jsx("p",{className:"text-xs text-slate-400",children:(_=Wn.find(F=>F.id===E.classId))==null?void 0:_.name})]})]}),l.jsx("textarea",{value:h[E.id]||"",onChange:F=>S(E.id,F.target.value),placeholder:"Write remarks for this student...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none resize-none",rows:3})]},E.id)}),i.length===0&&l.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},lW=["Excellent","Very Good","Good","Fair","Poor"],AW=()=>{const{user:n}=Go(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[i,c]=ee.useState([]),[h,u]=ee.useState({}),[f,A]=ee.useState(!1),[m,v]=ee.useState(!1),[g,B]=ee.useState("");ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const F=await ct.getStudents(t,s);c(F);const Q=await ct.getStudentSkills(t,s),M={};let k=Oi;const R=await ct.getSchoolConfig(t);if(R.currentTerm){const D=R.currentTerm.match(/\d+/);D&&(k=parseInt(D[0],10))}F.forEach(D=>{const O=Q.find($=>$.studentId===D.id&&$.term===k);O?M[D.id]=O:M[D.id]={id:`${D.id}_${s}_${k}_${uo}`,studentId:D.id,classId:s,term:k,academicYear:uo,schoolId:t||(R==null?void 0:R.schoolId)||"",punctuality:"Good",neatness:"Good",conduct:"Good",attitudeToWork:"Good",classParticipation:"Good",homeworkCompletion:"Good"}}),u(M)}catch(F){console.error(F)}finally{A(!1)}})()},[s,t]);const S=(_,F,Q)=>{u(M=>({...M,[_]:{...M[_],[F]:Q}}))},T=async()=>{var _;if(!(!s||!t)){v(!0);try{const F=await ct.getSchoolConfig(t);let Q=Oi;if(F.currentTerm){const R=F.currentTerm.match(/\d+/);R&&(Q=parseInt(R[0],10))}const M=Object.values(h).map(async R=>{await ct.saveStudentSkills(R)});await Promise.all(M);const k=((_=Wn.find(R=>R.id===s))==null?void 0:_.name)||s;await ct.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated skills for ${k}.`,"assessment",t),B("Skills saved successfully!"),setTimeout(()=>B(""),3e3)}catch(F){console.error(F),B("Error saving skills"),setTimeout(()=>B(""),3e3)}finally{v(!1)}}};if(e.length===0)return l.jsx(cr,{title:"Edit Skills",children:l.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const E=[{key:"punctuality",label:"Punctuality"},{key:"neatness",label:"Neatness"},{key:"conduct",label:"Conduct"},{key:"attitudeToWork",label:"Attitude to Work"},{key:"classParticipation",label:"Class Participation"},{key:"homeworkCompletion",label:"Homework Completion"}];return l.jsx(cr,{title:"Edit Skills",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[l.jsxs("div",{className:"w-full sm:w-auto",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),l.jsx("select",{value:s,onChange:_=>a(_.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(_=>{const F=Wn.find(Q=>Q.id===_);return l.jsx("option",{value:_,children:F==null?void 0:F.name},_)})})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{onClick:T,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[l.jsx(Zl,{size:18,className:"mr-2"}),m?"Saving...":"Save Skills"]})})]}),g&&l.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),l.jsxs("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:[f?l.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left w-48",children:"Student Name"}),E.map(_=>l.jsx("th",{className:"px-2 py-3 text-center",children:_.label},_.key))]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(_=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:_.name.charAt(0)}),_.name]})}),E.map(F=>{var Q;return l.jsx("td",{className:"px-2 py-3",children:l.jsx("select",{value:((Q=h[_.id])==null?void 0:Q[F.key])||"Good",onChange:M=>S(_.id,F.key,M.target.value),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-center",children:lW.map(M=>l.jsx("option",{value:M,children:M},M))})},F.key)})]},_.id))})]}),i.length===0&&l.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},cW=()=>{const{user:n}=Go(),[e,t]=ee.useState([]),[s,a]=ee.useState(!0),[i,c]=ee.useState(!1),[h,u]=ee.useState({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),[f,A]=ee.useState(!1),[m,v]=ee.useState(null),[g,B]=ee.useState(!1),[S,T]=ee.useState(!1),[E,_]=ee.useState(""),[F,Q]=ee.useState(1),[M,k]=ee.useState({x:0,y:0}),[R,D]=ee.useState({width:0,height:0}),O=ee.useRef(null),$=180,L=512,H=$/2,z=ue=>{if(!ue)return"N/A";const je=ue,se=je instanceof Date?je:typeof(je==null?void 0:je.toDate)=="function"?je.toDate():typeof je=="string"||typeof je=="number"?new Date(je):null;return!se||Number.isNaN(se.getTime())?"N/A":se.toLocaleDateString()};ee.useEffect(()=>{const ue=Zn(It,"schools");return xp(ue,se=>{const G=se.docs.map(te=>({id:te.id,...te.data()}));t(G),a(!1)})},[]);const re=async ue=>{if(ue.preventDefault(),!h.name.trim())return;const je=()=>{if(!E||!O.current)return"";const se=O.current,G=R.width||se.naturalWidth||1,te=R.height||se.naturalHeight||1,he=Math.max($/G,$/te)*F*(L/$),ce=M.x*(L/$),xe=M.y*(L/$),Ne=document.createElement("canvas");Ne.width=L,Ne.height=L;const Te=Ne.getContext("2d");if(!Te)return"";const Fe=G*he,tt=te*he,$e=L/2-Fe/2+ce,it=L/2-tt/2+xe;return Te.drawImage(se,$e,it,Fe,tt),Ne.toDataURL("image/png")};B(!0);try{const se=je();await Dk({name:h.name.trim(),phone:h.phone.trim(),address:h.address.trim(),logoUrl:se||"",plan:h.plan}),u({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),_(""),Q(1),k({x:0,y:0}),D({width:0,height:0}),c(!1),Zt("School created successfully!",{type:"success"})}catch(se){console.error("Error creating school:",se),Zt(se.message||"Failed to create school",{type:"error"})}finally{B(!1)}},pe=ue=>{var G;const je=(G=ue.target.files)==null?void 0:G[0];if(!je){_(""),D({width:0,height:0});return}const se=new FileReader;se.onload=()=>{_(se.result),Q(1),k({x:0,y:0})},se.readAsDataURL(je)},ae=async(ue,je)=>{try{const se=je==="active"?"inactive":"active";await Tp($n(It,"schools",ue),{status:se}),Zt(`School ${se==="active"?"activated":"deactivated"}`,{type:"success"})}catch(se){console.error("Error updating school status:",se),Zt("Failed to update school status",{type:"error"})}},ne=async()=>{if(m)try{T(!0);const ue=m.id,je=400,se=await ls(is(Zn(It,"users"),sn("schoolId","==",ue)));let G=0;const te=[];for(let ce=0;ce<se.docs.length;ce+=je){const xe=Ej(It),Ne=se.docs.slice(ce,ce+je);for(const Te of Ne)xe.delete($n(It,"users",Te.id));te.push(xe.commit()),G+=Ne.length}te.length>0&&(await Promise.all(te),console.log(`Deleted ${G} user documents`));const le=["students","classes","attendance","assessments","teacher_attendance","notices","student_remarks","student_skills","admin_remarks","admin_notifications","timetables","class_subjects","settings"];let he=0;for(const ce of le)if(ce==="settings")try{await Di($n(It,"settings",ue)),he+=1}catch{console.log(`Settings document ${ue} not found or already deleted`)}else{const xe=is(Zn(It,ce),sn("schoolId","==",ue)),Te=(await ls(xe)).docs.map(Fe=>Fe.id);if(Te.length>0)for(let Fe=0;Fe<Te.length;Fe+=je){const tt=Ej(It),$e=Te.slice(Fe,Fe+je);for(const it of $e)tt.delete($n(It,ce,it));await tt.commit(),he+=$e.length}}await Di($n(It,"schools",ue)),Zt(`School deleted successfully! Removed ${G} users and ${he} data records.`,{type:"success"}),A(!1),v(null)}catch(ue){console.error("Error deleting school:",ue),Zt(ue.message||"Failed to delete school",{type:"error"})}finally{T(!1)}},Z=ue=>{v(ue),A(!0)};return s?l.jsx(cr,{title:"Schools",children:l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):l.jsxs(cr,{title:"Schools",children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Schools Management"}),l.jsx("p",{className:"text-slate-500 mt-1",children:"Manage all schools in the system"})]}),l.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors",children:[l.jsx(sm,{size:18,className:"mr-2"}),"Create School"]})]}),l.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Name"}),l.jsx("th",{className:"px-6 py-4",children:"Code"}),l.jsx("th",{className:"px-6 py-4",children:"Status"}),l.jsx("th",{className:"px-6 py-4",children:"Plan"}),l.jsx("th",{className:"px-6 py-4",children:"Created"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400",children:"No schools created yet."})}):e.map(ue=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center overflow-hidden",children:ue.logoUrl?l.jsx("img",{src:ue.logoUrl,alt:ue.name,className:"w-full h-full object-cover"}):l.jsx(Av,{size:16,className:"text-slate-600"})}),ue.name]}),l.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:ue.code}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ue.status==="active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:ue.status==="active"?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 capitalize",children:ue.plan}),l.jsx("td",{className:"px-6 py-4",children:z(ue.createdAt)}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>ae(ue.id,ue.status),className:`p-1 rounded transition-colors ${ue.status==="active"?"text-[#1160A8] hover:bg-[#E6F0FA]":"text-emerald-600 hover:bg-emerald-50"}`,title:ue.status==="active"?"Deactivate":"Activate",children:ue.status==="active"?l.jsx(ok,{size:18}):l.jsx(ak,{size:18})}),l.jsx($i,{to:`/super-admin/schools/${ue.id}`,className:"p-1 text-slate-600 hover:bg-slate-50 rounded transition-colors",title:"View Details",children:l.jsx(qh,{size:18})}),l.jsx("button",{onClick:()=>Z(ue),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete School",children:l.jsx(Vc,{size:18})})]})})]},ue.id))})]})})})]}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Create New School"}),l.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-700",children:l.jsx(ho,{size:20})})]}),l.jsxs("form",{onSubmit:re,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"School Name"}),l.jsx("input",{type:"text",required:!0,disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.name,onChange:ue=>u({...h,name:ue.target.value}),placeholder:"Enter school name"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone"}),l.jsx("input",{type:"tel",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.phone,onChange:ue=>u({...h,phone:ue.target.value}),placeholder:"School phone number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),l.jsx("input",{type:"text",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.address,onChange:ue=>u({...h,address:ue.target.value}),placeholder:"School address"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Logo Upload (Optional)"}),l.jsx("input",{type:"file",accept:"image/*",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg bg-white focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",onChange:pe}),E&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[l.jsx("span",{children:"Crop to square"}),l.jsxs("span",{children:[Math.round(F*100),"%"]})]}),l.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:$,height:$},children:l.jsx("img",{ref:O,src:E,alt:"Logo preview",onLoad:ue=>{const je=ue.currentTarget;D({width:je.naturalWidth,height:je.naturalHeight})},style:{width:R.width?`${Math.max($,$/R.height*R.width)*F}px`:"auto",height:R.height?`${Math.max($,$/R.width*R.height)*F}px`:"auto",transform:`translate(${M.x}px, ${M.y}px)`}})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),l.jsx("input",{type:"range",min:1,max:3,step:.05,value:F,onChange:ue=>Q(parseFloat(ue.target.value)),className:"w-full"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),l.jsx("input",{type:"range",min:-H,max:H,value:M.x,onChange:ue=>k(je=>({...je,x:parseFloat(ue.target.value)})),className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),l.jsx("input",{type:"range",min:-H,max:H,value:M.y,onChange:ue=>k(je=>({...je,y:parseFloat(ue.target.value)})),className:"w-full"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan"}),l.jsxs("select",{disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.plan,onChange:ue=>u({...h,plan:ue.target.value}),children:[l.jsx("option",{value:"trial",children:"Trial"}),l.jsx("option",{value:"monthly",children:"Monthly"}),l.jsx("option",{value:"termly",children:"Termly"}),l.jsx("option",{value:"yearly",children:"Yearly"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[l.jsx("button",{type:"button",disabled:g,onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:g,className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Zl,{size:18,className:"mr-2"}),"Create School"]})})]})]}),g&&l.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto",children:l.jsx(Av,{size:64,className:"text-[#0B4A82] animate-pulse"})}),l.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),l.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-[#E6F0FA] rounded-full animate-ping"}),l.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-[#0B4A82] rounded-full animate-pulse"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Creating Your School"}),l.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Setting up everything perfectly..."})]}),l.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[l.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-75"}),l.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-150"})]})]})})]})}),f&&m&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete School"}),l.jsx("button",{onClick:()=>A(!1),disabled:S,className:"text-slate-400 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(ho,{size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Are you sure you want to delete this school?"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. All associated data including students, teachers, admin accounts, and all school records will be permanently removed from the system."})]})]})}),l.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:l.jsx(Av,{size:20,className:"text-slate-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-900",children:m.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Code: ",m.code]})]})]})})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[l.jsx("button",{onClick:()=>A(!1),disabled:S,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),l.jsx("button",{onClick:ne,disabled:S,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete School"})]}),S&&l.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto",children:l.jsx(Vc,{size:64,className:"text-red-600 animate-pulse"})}),l.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-red-400 rounded-full animate-bounce"}),l.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-red-300 rounded-full animate-ping"}),l.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-red-500 rounded-full animate-pulse"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Deleting School"}),l.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Removing associated data safely..."})]}),l.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-75"}),l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-150"})]})]})})]})})]})},uW=()=>{const{schoolId:n}=HF(),e=cg(),[t,s]=ee.useState(null),[a,i]=ee.useState(null),[c,h]=ee.useState(!0),[u,f]=ee.useState(!1),[A,m]=ee.useState(!1),[v,g]=ee.useState(!1),[B,S]=ee.useState({fullName:"",email:"",password:""}),[T,E]=ee.useState(!1),[_,F]=ee.useState(null),[Q,M]=ee.useState({students:"0",teachers:"0",lastActivity:"Coming soon"}),[k,R]=ee.useState(!1),[D,O]=ee.useState(""),[$,L]=ee.useState(!1),[H,z]=ee.useState(""),[re,pe]=ee.useState(1),[ae,ne]=ee.useState({x:0,y:0}),[Z,ue]=ee.useState({width:0,height:0}),je=ee.useRef(null),se=180,G=512,te=se/2;ee.useEffect(()=>{if(!n)return;(async()=>{var fe,ut;try{const Lt=await _d($n(It,"schools",n));if(!Lt.exists()){Zt("School not found",{type:"error"}),e("/super-admin/schools");return}const Ge={id:Lt.id,...Lt.data()};s(Ge);const Je=Ge.createdAt&&((ut=(fe=Ge.createdAt)==null?void 0:fe.toDate)!=null&&ut.call(fe))?Ge.createdAt.toDate():null;i({name:Ge.name||"",code:Ge.code||"",phone:Ge.phone||"",address:Ge.address||"",logoUrl:Ge.logoUrl||"",status:Ge.status||"active",plan:Ge.plan||"trial",planEndsAt:Ge.planEndsAt?new Date(Ge.planEndsAt).toISOString().split("T")[0]:"",notes:Ge.notes||""});const Qt=is(Zn(It,"users"),sn("role","==",ys.SCHOOL_ADMIN),sn("schoolId","==",Ge.id)),Yt=(await ls(Qt)).docs[0];F(Yt?{id:Yt.id,...Yt.data()}:null);const[zt,Jt]=await Promise.all([ls(is(Zn(It,"students"),sn("schoolId","==",Ge.id))),ls(is(Zn(It,"users"),sn("schoolId","==",Ge.id),sn("role","==",ys.TEACHER)))]);M({students:zt.size.toString(),teachers:Jt.size.toString(),lastActivity:Je?Je.toLocaleDateString():""})}catch(Lt){console.error("Error fetching school:",Lt),Zt("Failed to load school details",{type:"error"})}finally{h(!1)}})()},[n,e]);const le=ee.useMemo(()=>{var fe,ut;if(!(t!=null&&t.createdAt))return"";const Ve=(ut=(fe=t.createdAt)==null?void 0:fe.toDate)!=null&&ut.call(fe)?t.createdAt.toDate():new Date(t.createdAt);return!Ve||Number.isNaN(Ve.getTime())?"":Ve.toLocaleDateString()},[t==null?void 0:t.createdAt]),he=(Ve,fe)=>{a&&i({...a,[Ve]:fe})},ce=Ve=>{var Lt;const fe=(Lt=Ve.target.files)==null?void 0:Lt[0];if(!fe){z(""),ue({width:0,height:0});return}const ut=new FileReader;ut.onload=()=>{z(ut.result),pe(1),ne({x:0,y:0})},ut.readAsDataURL(fe)},xe=()=>{if(!a)return!1;if(!a.name.trim())return Zt("School name is required.",{type:"error"}),!1;if(a.phone&&a.phone.trim().length<7)return Zt("Phone number is too short.",{type:"error"}),!1;if(a.planEndsAt){const Ve=new Date(a.planEndsAt),fe=new Date;if(fe.setHours(0,0,0,0),Ve<fe)return Zt("Plan end date cannot be in the past.",{type:"error"}),!1}return!0},Ne=async()=>{if(!n||!a||!xe())return;const Ve=()=>{if(!H||!je.current)return"";const fe=je.current,ut=Z.width||fe.naturalWidth||1,Lt=Z.height||fe.naturalHeight||1,Je=Math.max(se/ut,se/Lt)*re*(G/se),Qt=ae.x*(G/se),Ut=ae.y*(G/se),Yt=document.createElement("canvas");Yt.width=G,Yt.height=G;const zt=Yt.getContext("2d");if(!zt)return"";const Jt=ut*Je,yn=Lt*Je,tn=G/2-Jt/2+Qt,Dn=G/2-yn/2+Ut;return zt.drawImage(fe,tn,Dn,Jt,yn),Yt.toDataURL("image/png")};f(!0);try{const ut=Ve()||a.logoUrl.trim();await gi($n(It,"schools",n),{name:a.name.trim(),code:a.code.trim(),phone:a.phone.trim(),address:a.address.trim(),logoUrl:ut,status:a.status,plan:a.plan,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null,notes:a.notes.trim()},{merge:!0}),Zt("School updated successfully.",{type:"success"}),s(Lt=>Lt&&{...Lt,...a,logoUrl:ut,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null}),i(Lt=>Lt&&{...Lt,logoUrl:ut}),z(""),pe(1),ne({x:0,y:0}),ue({width:0,height:0})}catch(fe){console.error("Failed to update school",fe),Zt(fe.message||"Failed to update school.",{type:"error"})}finally{f(!1)}},Te=()=>{t&&i({name:t.name||"",code:t.code||"",phone:t.phone||"",address:t.address||"",logoUrl:t.logoUrl||"",status:t.status||"active",plan:t.plan||"trial",planEndsAt:t.planEndsAt?new Date(t.planEndsAt).toISOString().split("T")[0]:"",notes:t.notes||""})},Fe=async Ve=>{if(Ve.preventDefault(),!!n&&!(!B.fullName.trim()||!B.email.trim())){E(!0);try{const fe=await Lk({schoolId:n,fullName:B.fullName.trim(),email:B.email.trim(),password:B.password.trim()||void 0});Zt(B.password.trim()?`Admin created: ${fe.email}`:`Admin created: ${fe.email}. Reset link sent.`,{type:"success"}),S({fullName:"",email:"",password:""}),m(!1);const ut=is(Zn(It,"users"),sn("role","==",ys.SCHOOL_ADMIN),sn("schoolId","==",n)),Ge=(await ls(ut)).docs[0];F(Ge?{id:Ge.id,...Ge.data()}:null)}catch(fe){console.error("Error creating admin:",fe),Zt(fe.message||"Failed to create admin.",{type:"error"})}finally{E(!1)}}},tt=async()=>{if(_)try{const Ve=await Qk({adminUid:_.id});await navigator.clipboard.writeText(Ve.resetLink),Zt("Reset link copied to clipboard.",{type:"success"})}catch(Ve){console.error("Failed to reset admin password",Ve),Zt(Ve.message||"Failed to reset admin password.",{type:"error"})}},$e=async()=>{if(_)try{await Tp($n(It,"users",_.id),{status:"inactive"}),F({..._,status:"inactive"}),Zt("Admin disabled successfully.",{type:"success"})}catch(Ve){console.error("Failed to disable admin",Ve),Zt(Ve.message||"Failed to disable admin.",{type:"error"})}},it=async()=>{if(!(!t||D.trim()!==t.name)){L(!0);try{await Pk({schoolId:t.id}),Zt("School deleted successfully.",{type:"success"}),R(!1),e("/super-admin/schools")}catch(Ve){console.error("Failed to delete school",Ve),Zt(Ve.message||"Failed to delete school.",{type:"error"})}finally{L(!1),O("")}}};return c?l.jsx(cr,{title:"School Details",children:l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):!t||!a?l.jsx(cr,{title:"School Details",children:l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-slate-500",children:"School not found"})})}):l.jsxs(cr,{title:"School Details",children:[l.jsxs("div",{className:"p-6 space-y-8",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("button",{onClick:()=>e("/super-admin/schools"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 text-sm",children:[l.jsx(yT,{size:16}),"Schools / ",t.name]}),l.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center overflow-hidden",children:t.logoUrl?l.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-full h-full object-cover"}):l.jsx(zP,{className:"text-slate-500"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.name}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(zv,{size:14})," Code: ",t.code||""]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(EA,{size:14})," Created: ",le]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:t.status==="active"?"Active":"Inactive"}),l.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-600",children:t.plan})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_1.4fr] gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Overview"}),l.jsxs("div",{className:"grid gap-3 text-sm text-slate-600",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zM,{size:16}),l.jsx("span",{children:t.phone||"No phone"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_M,{size:16}),l.jsx("span",{children:t.address||"No address"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zv,{size:16}),l.jsx("span",{children:t.notes||"No internal notes"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Administration"}),!_&&l.jsx("button",{onClick:()=>m(!0),className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Create Admin"})]}),_?l.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:_.fullName}),l.jsx("p",{className:"text-sm text-slate-500",children:_.email})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:_.status})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:tt,className:"px-3 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",children:"Reset Admin Password"}),l.jsx("button",{onClick:$e,className:"px-3 py-2 rounded-lg border border-red-200 text-sm text-red-600 hover:bg-red-50",children:"Disable Admin"})]})]}):l.jsx("div",{className:"text-sm text-slate-500",children:"No admin assigned yet."})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Total students",value:Q.students},{label:"Total teachers",value:Q.teachers},{label:"Last activity",value:Q.lastActivity}].map(Ve=>l.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-4",children:[l.jsx("p",{className:"text-xs uppercase text-slate-400",children:Ve.label}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Ve.value})]},Ve.label))})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Edit School Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Name"}),l.jsx("input",{value:a.name,onChange:Ve=>he("name",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Code"}),l.jsx("input",{value:a.code,onChange:Ve=>he("code",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),l.jsx("input",{value:a.phone,onChange:Ve=>he("phone",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Status"}),l.jsxs("select",{value:a.status,onChange:Ve=>he("status",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Address"}),l.jsx("input",{value:a.address,onChange:Ve=>he("address",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Logo Upload"}),l.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white"}),a.logoUrl&&!H&&l.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Current logo is saved. Upload a new file to replace it."}),H&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[l.jsx("span",{children:"Crop to square"}),l.jsxs("span",{children:[Math.round(re*100),"%"]})]}),l.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:se,height:se},children:l.jsx("img",{ref:je,src:H,alt:"Logo preview",onLoad:Ve=>{const fe=Ve.currentTarget;ue({width:fe.naturalWidth,height:fe.naturalHeight})},style:{width:Z.width?`${Math.max(se,se/Z.height*Z.width)*re}px`:"auto",height:Z.height?`${Math.max(se,se/Z.width*Z.height)*re}px`:"auto",transform:`translate(${ae.x}px, ${ae.y}px)`}})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),l.jsx("input",{type:"range",min:1,max:3,step:.05,value:re,onChange:Ve=>pe(parseFloat(Ve.target.value)),className:"w-full"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),l.jsx("input",{type:"range",min:-te,max:te,value:ae.x,onChange:Ve=>ne(fe=>({...fe,x:parseFloat(Ve.target.value)})),className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),l.jsx("input",{type:"range",min:-te,max:te,value:ae.y,onChange:Ve=>ne(fe=>({...fe,y:parseFloat(Ve.target.value)})),className:"w-full"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan"}),l.jsxs("select",{value:a.plan,onChange:Ve=>he("plan",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[l.jsx("option",{value:"trial",children:"Trial"}),l.jsx("option",{value:"monthly",children:"Monthly"}),l.jsx("option",{value:"termly",children:"Termly"}),l.jsx("option",{value:"yearly",children:"Yearly"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan Ends At"}),l.jsx("input",{type:"date",value:a.planEndsAt,onChange:Ve=>he("planEndsAt",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Internal Notes"}),l.jsx("textarea",{value:a.notes,onChange:Ve=>he("notes",Ve.target.value),rows:4,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[l.jsx("button",{onClick:Te,className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),l.jsxs("button",{onClick:Ne,disabled:u,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white flex items-center gap-2 disabled:opacity-60",children:[l.jsx(Zl,{size:16})," ",u?"Saving...":"Save Changes"]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl border border-red-100 shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[l.jsx(Rj,{size:18}),l.jsx("h2",{className:"text-lg font-semibold",children:"Danger Zone"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>he("status",a.status==="active"?"inactive":"active"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[l.jsx("span",{children:a.status==="active"?"Deactivate School":"Activate School"}),l.jsx(Vc,{size:16})]}),l.jsxs("button",{onClick:()=>R(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[l.jsx("span",{children:"Delete School"}),l.jsx(Vc,{size:16})]})]})]})]})]})]}),A&&l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl relative",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create School Admin"}),l.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-700",children:l.jsx(ho,{size:18})})]}),l.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Full Name"}),l.jsx("input",{value:B.fullName,onChange:Ve=>S({...B,fullName:Ve.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email"}),l.jsx("input",{type:"email",value:B.email,onChange:Ve=>S({...B,email:Ve.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Password (optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:v?"text":"password",value:B.password,onChange:Ve=>S({...B,password:Ve.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 pr-10"}),l.jsx("button",{type:"button",onClick:()=>g(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:v?l.jsx(wT,{size:16}):l.jsx(qh,{size:16})})]}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Leave blank to send a reset link."})]}),l.jsxs("button",{type:"submit",disabled:T,className:"w-full py-2 rounded-xl bg-emerald-600 text-white flex items-center justify-center gap-2 disabled:opacity-60",children:[l.jsx(Yw,{size:16}),T?"Creating...":"Create Admin"]})]})]})}),k&&l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[l.jsx(Rj,{size:18}),l.jsx("h3",{className:"text-lg font-semibold",children:"Delete School"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Type ",l.jsx("span",{className:"font-semibold",children:t.name})," to confirm deletion."]}),l.jsx("input",{value:D,onChange:Ve=>O(Ve.target.value),className:"w-full border border-slate-200 rounded-xl px-3 py-2"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),l.jsx("button",{onClick:it,disabled:D.trim()!==t.name||$,className:"flex-1 py-2 rounded-xl bg-red-600 text-white disabled:opacity-60",children:$?"Deleting...":"Delete"})]})]})})]})},Hp=({children:n,className:e=""})=>l.jsx("div",{className:`bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow p-6 ${e}`,children:n}),X0=({label:n,value:e,hint:t,icon:s,trend:a=0})=>l.jsxs(Hp,{className:"group hover:-translate-y-0.5 hover:shadow-lg transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:n}),l.jsx("div",{className:"text-3xl md:text-4xl font-bold text-slate-900 mt-2",children:e})]}),l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white ${a>=0?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-amber-400 to-amber-600"}`,children:s})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[t&&l.jsx("div",{className:"text-xs text-slate-500",children:t}),a!==void 0&&l.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${a>=0?"text-emerald-600":"text-[#0B4A82]"}`,children:[a>=0?l.jsx(xT,{size:14}):l.jsx(QP,{size:14}),Math.abs(a),"%"]})]}),l.jsx("div",{className:"mt-3 h-1 bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100 rounded-full opacity-50"})]}),Tx=({icon:n,title:e,count:t,description:s,accentColor:a})=>l.jsx(Hp,{className:`border-l-4 ${a} group hover:shadow-lg transition-all`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white ${a.replace("border","bg")}`,children:n}),l.jsx("h3",{className:"font-semibold text-slate-800",children:e})]}),l.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:t}),l.jsx("p",{className:"text-sm text-slate-600",children:s})]}),l.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-50 transition",children:l.jsx(sM,{size:18,className:"text-slate-400"})})]})}),Ff=({className:n="h-6 bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 rounded animate-pulse"})=>l.jsx("div",{className:n}),BS=({icon:n,title:e,description:t,action:s})=>l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"flex justify-center mb-4",children:n}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:e}),l.jsx("p",{className:"text-sm text-slate-600 mb-6",children:t}),s&&l.jsx("button",{onClick:s.onClick,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-sm font-medium",children:s.label})]}),e_=()=>{const{user:n}=Go(),[e,t]=ee.useState([]),[s,a]=ee.useState([]),[i,c]=ee.useState(!1),[h,u]=ee.useState(""),[f,A]=ee.useState(""),[m,v]=ee.useState(""),[g,B]=ee.useState("inactive"),[S,T]=ee.useState(null),[E,_]=ee.useState({}),F=ee.useCallback(async()=>{c(!0);try{const L=Zn(It,"schools"),z=(await ls(L)).docs.map(Z=>({id:Z.id,...Z.data()}));t(z);const re=Zn(It,"activity_logs"),pe=is(re,lT("createdAt","desc"),gd(20)),ne=(await ls(pe)).docs.map(Z=>({id:Z.id,...Z.data()}));a(ne),T(new Date)}catch(L){console.error(L)}finally{c(!1)}},[]);ee.useEffect(()=>{if(!e.length)return;(async()=>{try{const H=new Date,z=H.toISOString().split("T")[0],re=new Date(H);re.setHours(0,0,0,0);const pe=new Date(H);pe.setHours(23,59,59,999);const ae=re.getTime(),ne=pe.getTime(),Z=e.length,ue={attendance:{completed:0,total:Z},teacherAttendance:{completed:0,total:Z},assessments:{completed:0,total:Z},timetable:{completed:0,total:Z},notices:{completed:0,total:Z}},je=e.map(async se=>{const G=se.id;if(!G)return;const[te,le,he,ce,xe]=await Promise.all([ls(is(Zn(It,"attendance"),sn("schoolId","==",G),sn("date","==",z),gd(1))),ls(is(Zn(It,"teacher_attendance"),sn("schoolId","==",G),sn("date","==",z),gd(1))),ls(is(Zn(It,"admin_notifications"),sn("schoolId","==",G),sn("type","==","assessment"),sn("createdAt",">=",ae),sn("createdAt","<=",ne),gd(1))),ls(is(Zn(It,"timetables"),sn("schoolId","==",G),sn("updatedAt",">=",ae),sn("updatedAt","<=",ne),gd(1))),ls(is(Zn(It,"notices"),sn("schoolId","==",G),sn("createdAt",">=",ae),sn("createdAt","<=",ne),gd(1)))]);te.empty||(ue.attendance.completed+=1),le.empty||(ue.teacherAttendance.completed+=1),he.empty||(ue.assessments.completed+=1),ce.empty||(ue.timetable.completed+=1),xe.empty||(ue.notices.completed+=1)});await Promise.all(je),_(ue)}catch(H){console.error("Failed to load daily checklist",H)}})()},[e]),ee.useEffect(()=>{F()},[F]);const Q=ee.useMemo(()=>{const L=e.length,H=e.filter(Z=>Z.status==="active").length,z=e.filter(Z=>Z.status==="inactive").length,re=e.filter(Z=>Z.plan==="trial").length,pe=e.filter(Z=>Z.plan&&Z.plan!=="trial").length,ae=e.filter(Z=>Z.createdAt?(Z.createdAt instanceof gr?Z.createdAt.toDate():new Date(Z.createdAt))>=new Date(Date.now()-720*60*60*1e3):!1).length,ne=new Set(s.filter(Z=>Z.createdAt?(Z.createdAt instanceof gr?Z.createdAt.toDate():new Date(Z.createdAt))>=new Date(Date.now()-10080*60*1e3):!1).map(Z=>Z.schoolId)).size;return{total:L,active:H,inactive:z,trial:re,paid:pe,newSchools:ae,activeLast7:ne}},[e,s]),M=ee.useMemo(()=>{const L={trial:0,monthly:0,termly:0,yearly:0};return e.forEach(H=>{const z=H.plan||"trial";L[z]=(L[z]||0)+1}),L},[e]),k=e.filter(L=>!(h&&!L.name.toLowerCase().includes(h.toLowerCase())||f&&L.status!==f||m&&L.plan!==m)),R=e.filter(L=>L.status!=="active"),D=e.filter(L=>L.plan==="trial"&&L.planEndsAt).sort((L,H)=>{const z=L.planEndsAt instanceof gr?L.planEndsAt.toDate().getTime():new Date(L.planEndsAt).getTime(),re=H.planEndsAt instanceof gr?H.planEndsAt.toDate().getTime():new Date(H.planEndsAt).getTime();return z-re}),O=(()=>{const L=new Date(Date.now()-12096e5),H={};return s.forEach(z=>{if(!z.schoolId)return;const re=z.createdAt instanceof gr?z.createdAt.toDate():new Date(z.createdAt);(!H[z.schoolId]||H[z.schoolId]<re)&&(H[z.schoolId]=re)}),e.filter(z=>{const re=H[z.id];return!re||re<L})})(),$=[{label:"Active",count:Q.active,color:"bg-emerald-100 text-emerald-700"},{label:"Trial",count:Q.trial,color:"bg-amber-100 text-amber-700"},{label:"Paid",count:Q.paid,color:"bg-[#E6F0FA] text-[#0B4A82]"}];return l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 rounded-3xl border border-slate-100 shadow-sm p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),l.jsx("span",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-widest",children:"System Status"})]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Super Admin Dashboard"}),l.jsxs("p",{className:"text-slate-600",children:["Manage ",Q.total," schools across ",Q.active," active organizations"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>F(),"aria-label":"Refresh dashboard",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[l.jsx(Gv,{size:16,className:"group-hover:rotate-180 transition-transform"}),"Refresh"]}),l.jsxs($i,{to:"/super-admin/schools",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[l.jsx(Av,{size:16}),"View Schools"]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-slate-100",children:[$.map(L=>l.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${L.color}`,children:[L.label,": ",l.jsx("span",{className:"font-bold",children:L.count})]},L.label)),l.jsx("div",{className:"text-xs text-slate-500 flex items-center ml-auto",children:S?`Last updated ${S.toLocaleTimeString()}`:"Not updated yet"})]})]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:i?Array.from({length:4}).map((L,H)=>l.jsx("div",{children:l.jsx(Ff,{className:"h-32"})},H)):l.jsxs(l.Fragment,{children:[l.jsx(X0,{label:"Total Schools",value:Q.total,hint:"All time",icon:l.jsx(SA,{size:20}),trend:5}),l.jsx(X0,{label:"Active Schools",value:Q.active,hint:"Currently active",icon:l.jsx(Vv,{size:20}),trend:3}),l.jsx(X0,{label:"Inactive Schools",value:Q.inactive,hint:"Needs attention",icon:l.jsx(eA,{size:20}),trend:-1}),l.jsx(X0,{label:"New Schools",value:Q.newSchools,hint:"Last 30 days",icon:l.jsx(Ih,{size:20}),trend:8})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[l.jsx(Tx,{icon:l.jsx(eA,{size:18}),title:"Inactive Schools",count:R.length,description:"Schools requiring attention",accentColor:"border-[#1160A8] bg-[#E6F0FA]"}),l.jsx(Tx,{icon:l.jsx(xk,{size:18}),title:"Trials Ending",count:D.length,description:"Trial periods expiring soon",accentColor:"border-amber-400 bg-amber-80"}),l.jsx(Tx,{icon:l.jsx(Sg,{size:18}),title:"No Recent Activity",count:O.length,description:"Last 14 days with no activity",accentColor:"border-slate-400 bg-slate-50"})]}),l.jsxs(Hp,{className:"mb-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Plan Distribution"}),l.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Plan split across ",Q.total," schools"]})]}),e.length===0?l.jsx(BS,{icon:l.jsx(eM,{className:"mx-auto text-slate-300",size:48}),title:"No Plan Data",description:"Create your first school to see plan distribution",action:{label:"Create School",onClick:()=>{}}}):l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[l.jsx("div",{className:"w-full lg:w-1/3 flex justify-center",children:l.jsx("div",{className:"w-40 h-40",children:l.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",style:{transform:"rotate(-90deg)"},children:[l.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f1f5f9",strokeWidth:"8"}),l.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f97316",strokeWidth:"8",strokeDasharray:`${M.trial/Math.max(1,e.length)*100} 100`}),l.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeDasharray:`${M.monthly/Math.max(1,e.length)*100} 100`,style:{strokeDashoffset:`${-(M.trial/Math.max(1,e.length)*100)}`}})]})})}),l.jsx("div",{className:"w-full lg:w-2/3",children:l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Trial",value:M.trial,color:"bg-orange-100 border-l-4 border-orange-500"},{label:"Monthly",value:M.monthly,color:"bg-[#E6F0FA] border-l-4 border-[#1160A8]"},{label:"Termly",value:M.termly,color:"bg-green-100 border-l-4 border-green-500"},{label:"Yearly",value:M.yearly,color:"bg-purple-100 border-l-4 border-purple-500"}].map(L=>l.jsxs("div",{className:`${L.color} rounded-lg p-4`,children:[l.jsx("div",{className:"text-2xl font-bold text-slate-900",children:L.value}),l.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[L.label," Plan"]})]},L.label))})})]})]}),l.jsxs(Hp,{className:"mb-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Schools Directory"}),l.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[k.length," of ",e.length," schools"]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[l.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[l.jsx(Uj,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),l.jsx("input",{value:h,onChange:L=>u(L.target.value),placeholder:"Search schools...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-[#1160A8] transition-all","aria-label":"Search schools"})]}),l.jsxs("select",{value:f,onChange:L=>A(L.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[l.jsx("option",{value:"",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]}),l.jsxs("select",{value:m,onChange:L=>v(L.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[l.jsx("option",{value:"",children:"All Plans"}),l.jsx("option",{value:"trial",children:"Trial"}),l.jsx("option",{value:"monthly",children:"Monthly"}),l.jsx("option",{value:"termly",children:"Termly"}),l.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-100",children:[l.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"School"}),l.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),l.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Plan"}),l.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created"}),l.jsx("th",{className:"text-right py-3 px-4 font-semibold text-slate-700",children:"Action"})]})}),l.jsx("tbody",{children:i?Array.from({length:5}).map((L,H)=>l.jsxs("tr",{className:"border-b border-slate-100",children:[l.jsx("td",{className:"py-4 px-4",children:l.jsx(Ff,{className:"h-4 w-32"})}),l.jsx("td",{className:"py-4 px-4",children:l.jsx(Ff,{className:"h-4 w-16"})}),l.jsx("td",{className:"py-4 px-4",children:l.jsx(Ff,{className:"h-4 w-20"})}),l.jsx("td",{className:"py-4 px-4",children:l.jsx(Ff,{className:"h-4 w-24"})}),l.jsx("td",{className:"py-4 px-4 text-right",children:l.jsx(Ff,{className:"h-8 w-16 ml-auto"})})]},H)):k.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"py-12 px-4",children:l.jsx(BS,{icon:l.jsx(Uj,{className:"text-slate-300 mx-auto",size:40}),title:"No schools found",description:"Try adjusting your filters or search criteria"})})}):k.map((L,H)=>l.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${H%2===0?"bg-white":"bg-slate-50/30"}`,children:[l.jsx("td",{className:"py-4 px-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 overflow-hidden font-semibold flex-shrink-0",children:L.logoUrl?l.jsx("img",{src:L.logoUrl,alt:L.name,className:"w-full h-full object-cover"}):L.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-slate-900",children:L.name}),l.jsx("div",{className:"text-xs text-slate-500",children:L.code||""})]})]})}),l.jsx("td",{className:"py-4 px-4",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${L.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:L.status==="active"?"Active":"Inactive"})}),l.jsx("td",{className:"py-4 px-4",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700 capitalize",children:L.plan})}),l.jsx("td",{className:"py-4 px-4 text-slate-600",children:L.createdAt?L.createdAt instanceof gr?L.createdAt.toDate().toLocaleDateString():new Date(L.createdAt).toLocaleDateString():""}),l.jsx("td",{className:"py-4 px-4 text-right",children:l.jsxs($i,{to:`/super-admin/schools/${L.id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-[#0B4A82] text-white hover:bg-[#0B4A82] transition-colors",children:[l.jsx(qh,{size:14})," View"]})})]},L.id))})]})}),k.length>0&&l.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-100",children:[l.jsxs("div",{className:"text-xs text-slate-600",children:["Showing 1 to ",Math.min(10,k.length)," of"," ",k.length]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:" Previous"}),l.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Next "})]})]})]}),l.jsxs(Hp,{className:"bg-gradient-to-br from-white via-slate-50 to-white border border-slate-100",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:l.jsx(DP,{size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Daily Operations Checklist"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Track routine school actions completed each day"})]})]})}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[l.jsx("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:"Live today"}),l.jsxs("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:[e.length," schools"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"attendance",title:"Attendance submitted",description:"Daily student attendance recorded by classes.",gradient:"from-emerald-500/15 to-emerald-500/5",accent:"text-emerald-600",bar:"bg-emerald-500"},{key:"teacherAttendance",title:"Teacher attendance completed",description:"Staff attendance confirmed for the day.",gradient:"from-blue-500/15 to-blue-500/5",accent:"text-blue-600",bar:"bg-blue-500"},{key:"timetable",title:"Lesson plans logged",description:"Timetable updated today to reflect lessons.",gradient:"from-violet-500/15 to-violet-500/5",accent:"text-violet-600",bar:"bg-violet-500"},{key:"assessments",title:"Assessments graded",description:"Class assessments scored and saved.",gradient:"from-amber-500/15 to-amber-500/5",accent:"text-amber-600",bar:"bg-amber-500"},{key:"notices",title:"Notices posted",description:"Daily notices shared to staff and students.",gradient:"from-slate-500/15 to-slate-500/5",accent:"text-slate-600",bar:"bg-slate-500"}].map(L=>{const H=E[L.key],z=H?Math.round(H.completed/Math.max(1,H.total)*100):0,re=(H==null?void 0:H.completed)??0,pe=(H==null?void 0:H.total)??0;return l.jsxs("div",{className:`rounded-2xl border border-slate-100 bg-gradient-to-br ${L.gradient} p-4 shadow-sm hover:shadow-md transition-shadow`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`mt-1 ${L.accent}`,children:l.jsx(Vv,{size:18})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:L.title}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:L.description})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`text-lg font-bold ${L.accent}`,children:[z,"%"]}),l.jsxs("div",{className:"text-[10px] text-slate-500",children:[re,"/",pe," schools"]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx("div",{className:"h-2 w-full rounded-full bg-white/70 border border-white/60 overflow-hidden",children:l.jsx("div",{className:`h-full ${L.bar} transition-all`,style:{width:`${z}%`}})})})]},L.title)})})]})]})})},dW=()=>{const{user:n,loading:e,authLoading:t,error:s,logout:a}=Go(),{school:i,schoolLoading:c,schoolError:h}=Gc();return t?l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})}):s==="Your account is not set up yet. Please contact your administrator for access."?l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Account Not Set Up"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"Your account is not set up yet. Please contact your administrator for access to the system."}),l.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):h&&(n==null?void 0:n.role)!==ys.SUPER_ADMIN?l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"School Access Issue"}),l.jsx("p",{className:"text-slate-600 mb-6",children:h}),l.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):l.jsx(bk,{children:l.jsx(mW,{})})},hW=()=>l.jsx(SP,{children:l.jsx(NP,{children:l.jsx(S6,{children:l.jsx(dW,{})})})}),Ri=({children:n,allowedRoles:e})=>{const{user:t,isAuthenticated:s,authLoading:a}=Go();if(a)return l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})});if(!s)return l.jsx(_x,{to:"/login",replace:!0});if(e&&t&&!e.includes(t.role)){const i=t.role===ys.SUPER_ADMIN?"/super-admin/schools":t.role===ys.SCHOOL_ADMIN?"/admin/students":"/teacher";return l.jsx(_x,{to:i,replace:!0})}return n},fW=()=>{const{user:n}=Go();return(n==null?void 0:n.role)===ys.SUPER_ADMIN?l.jsx(cr,{title:"Super Admin Dashboard",children:l.jsx(e_,{})}):(n==null?void 0:n.role)===ys.SCHOOL_ADMIN?l.jsx(Fk,{}):(n==null?void 0:n.role)===ys.TEACHER?l.jsx(Z3,{}):l.jsx(_x,{to:"/login"})},mW=()=>l.jsxs(s6,{children:[l.jsx(qa,{path:"/login",element:l.jsx(wk,{})}),l.jsx(qa,{path:"/",element:l.jsx(Ri,{children:l.jsx(fW,{})})}),l.jsx(qa,{path:"/admin/students",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(Uk,{})})}),l.jsx(qa,{path:"/admin/teachers",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(kk,{})})}),l.jsx(qa,{path:"/admin/attendance",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(Hk,{})})}),l.jsx(qa,{path:"/admin/teacher-attendance",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(Vk,{})})}),l.jsx(qa,{path:"/admin/reports",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(Kk,{})})}),l.jsx(qa,{path:"/admin/report-card",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(G9,{})})}),l.jsx(qa,{path:"/admin/timetable",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(jV,{})})}),l.jsx(qa,{path:"/admin/settings",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(bV,{})})}),l.jsx(qa,{path:"/admin/backups",element:l.jsx(Ri,{allowedRoles:[ys.SCHOOL_ADMIN],children:l.jsx(BV,{})})}),l.jsx(qa,{path:"/super-admin/schools",element:l.jsx(Ri,{allowedRoles:[ys.SUPER_ADMIN],children:l.jsx(cW,{})})}),l.jsx(qa,{path:"/super-admin/dashboard",element:l.jsx(Ri,{allowedRoles:[ys.SUPER_ADMIN],children:l.jsx(cr,{title:"Super Admin Dashboard",children:l.jsx(e_,{})})})}),l.jsx(qa,{path:"/super-admin/schools/:schoolId",element:l.jsx(Ri,{allowedRoles:[ys.SUPER_ADMIN],children:l.jsx(uW,{})})}),l.jsx(qa,{path:"/teacher",element:l.jsx(Ri,{allowedRoles:[ys.TEACHER],children:l.jsx(Z3,{})})}),l.jsx(qa,{path:"/teacher/attendance",element:l.jsx(Ri,{allowedRoles:[ys.TEACHER],children:l.jsx(rW,{})})}),l.jsx(qa,{path:"/teacher/assessment",element:l.jsx(Ri,{allowedRoles:[ys.TEACHER],children:l.jsx(iW,{})})}),l.jsx(qa,{path:"/teacher/my-attendance",element:l.jsx(Ri,{allowedRoles:[ys.TEACHER],children:l.jsx(aW,{})})}),l.jsx(qa,{path:"/teacher/write-remarks",element:l.jsx(Ri,{allowedRoles:[ys.TEACHER],children:l.jsx(oW,{})})}),l.jsx(qa,{path:"/teacher/edit-skills",element:l.jsx(Ri,{allowedRoles:[ys.TEACHER],children:l.jsx(AW,{})})})]}),t_=document.getElementById("root");if(!t_)throw new Error("Could not find root element to mount to");const pW=aF.createRoot(t_);pW.render(l.jsx(jS.StrictMode,{children:l.jsx(hW,{})}));export{Fr as _,FB as c,kb as g};
