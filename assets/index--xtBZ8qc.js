var A6=Object.defineProperty;var c6=(s,e,t)=>e in s?A6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Mr=(s,e,t)=>c6(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var zj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function u6(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var r=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return s[n]}})}),t}var Ny={exports:{}},xp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function d6(){if(Gj)return xp;Gj=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:s,type:n,key:c,ref:r!==void 0?r:null,props:o}}return xp.Fragment=e,xp.jsx=t,xp.jsxs=t,xp}var $j;function h6(){return $j||($j=1,Ny.exports=d6()),Ny.exports}var i=h6(),Ey={exports:{}},yn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj;function f6(){if(Yj)return yn;Yj=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function g(ee){return ee===null||typeof ee!="object"?null:(ee=x&&ee[x]||ee["@@iterator"],typeof ee=="function"?ee:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function S(ee,M,X){this.props=ee,this.context=M,this.refs=N,this.updater=X||b}S.prototype.isReactComponent={},S.prototype.setState=function(ee,M){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,M,"setState")},S.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function E(){}E.prototype=S.prototype;function F(ee,M,X){this.props=ee,this.context=M,this.refs=N,this.updater=X||b}var L=F.prototype=new E;L.constructor=F,I(L,S.prototype),L.isPureReactComponent=!0;var O=Array.isArray;function H(){}var Q={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(ee,M,X){var ie=X.ref;return{$$typeof:s,type:ee,key:M,ref:ie!==void 0?ie:null,props:X}}function K(ee,M){return R(ee.type,M,ee.props)}function P(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===s}function V(ee){var M={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(X){return M[X]})}var $=/\/+/g;function ae(ee,M){return typeof ee=="object"&&ee!==null&&ee.key!=null?V(""+ee.key):M.toString(36)}function de(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(H,H):(ee.status="pending",ee.then(function(M){ee.status==="pending"&&(ee.status="fulfilled",ee.value=M)},function(M){ee.status==="pending"&&(ee.status="rejected",ee.reason=M)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function re(ee,M,X,ie,le){var ce=typeof ee;(ce==="undefined"||ce==="boolean")&&(ee=null);var ye=!1;if(ee===null)ye=!0;else switch(ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(ee.$$typeof){case s:case e:ye=!0;break;case A:return ye=ee._init,re(ye(ee._payload),M,X,ie,le)}}if(ye)return le=le(ee),ye=ie===""?"."+ae(ee,0):ie,O(le)?(X="",ye!=null&&(X=ye.replace($,"$&/")+"/"),re(le,M,X,"",function(Se){return Se})):le!=null&&(P(le)&&(le=K(le,X+(le.key==null||ee&&ee.key===le.key?"":(""+le.key).replace($,"$&/")+"/")+ye)),M.push(le)),1;ye=0;var Ne=ie===""?".":ie+":";if(O(ee))for(var ge=0;ge<ee.length;ge++)ie=ee[ge],ce=Ne+ae(ie,ge),ye+=re(ie,M,X,ce,le);else if(ge=g(ee),typeof ge=="function")for(ee=ge.call(ee),ge=0;!(ie=ee.next()).done;)ie=ie.value,ce=Ne+ae(ie,ge++),ye+=re(ie,M,X,ce,le);else if(ce==="object"){if(typeof ee.then=="function")return re(de(ee),M,X,ie,le);throw M=String(ee),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ye}function W(ee,M,X){if(ee==null)return ee;var ie=[],le=0;return re(ee,ie,"","",function(ce){return M.call(X,ce,le++)}),ie}function J(ee){if(ee._status===-1){var M=ee._result;M=M(),M.then(function(X){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=X)},function(X){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=X)}),ee._status===-1&&(ee._status=0,ee._result=M)}if(ee._status===1)return ee._result.default;throw ee._result}var oe=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},xe={map:W,forEach:function(ee,M,X){W(ee,function(){M.apply(this,arguments)},X)},count:function(ee){var M=0;return W(ee,function(){M++}),M},toArray:function(ee){return W(ee,function(M){return M})||[]},only:function(ee){if(!P(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return yn.Activity=m,yn.Children=xe,yn.Component=S,yn.Fragment=t,yn.Profiler=r,yn.PureComponent=F,yn.StrictMode=n,yn.Suspense=u,yn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,yn.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return Q.H.useMemoCache(ee)}},yn.cache=function(ee){return function(){return ee.apply(null,arguments)}},yn.cacheSignal=function(){return null},yn.cloneElement=function(ee,M,X){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var ie=I({},ee.props),le=ee.key;if(M!=null)for(ce in M.key!==void 0&&(le=""+M.key),M)!D.call(M,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&M.ref===void 0||(ie[ce]=M[ce]);var ce=arguments.length-2;if(ce===1)ie.children=X;else if(1<ce){for(var ye=Array(ce),Ne=0;Ne<ce;Ne++)ye[Ne]=arguments[Ne+2];ie.children=ye}return R(ee.type,le,ie)},yn.createContext=function(ee){return ee={$$typeof:c,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},yn.createElement=function(ee,M,X){var ie,le={},ce=null;if(M!=null)for(ie in M.key!==void 0&&(ce=""+M.key),M)D.call(M,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(le[ie]=M[ie]);var ye=arguments.length-2;if(ye===1)le.children=X;else if(1<ye){for(var Ne=Array(ye),ge=0;ge<ye;ge++)Ne[ge]=arguments[ge+2];le.children=Ne}if(ee&&ee.defaultProps)for(ie in ye=ee.defaultProps,ye)le[ie]===void 0&&(le[ie]=ye[ie]);return R(ee,ce,le)},yn.createRef=function(){return{current:null}},yn.forwardRef=function(ee){return{$$typeof:h,render:ee}},yn.isValidElement=P,yn.lazy=function(ee){return{$$typeof:A,_payload:{_status:-1,_result:ee},_init:J}},yn.memo=function(ee,M){return{$$typeof:f,type:ee,compare:M===void 0?null:M}},yn.startTransition=function(ee){var M=Q.T,X={};Q.T=X;try{var ie=ee(),le=Q.S;le!==null&&le(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(H,oe)}catch(ce){oe(ce)}finally{M!==null&&X.types!==null&&(M.types=X.types),Q.T=M}},yn.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},yn.use=function(ee){return Q.H.use(ee)},yn.useActionState=function(ee,M,X){return Q.H.useActionState(ee,M,X)},yn.useCallback=function(ee,M){return Q.H.useCallback(ee,M)},yn.useContext=function(ee){return Q.H.useContext(ee)},yn.useDebugValue=function(){},yn.useDeferredValue=function(ee,M){return Q.H.useDeferredValue(ee,M)},yn.useEffect=function(ee,M){return Q.H.useEffect(ee,M)},yn.useEffectEvent=function(ee){return Q.H.useEffectEvent(ee)},yn.useId=function(){return Q.H.useId()},yn.useImperativeHandle=function(ee,M,X){return Q.H.useImperativeHandle(ee,M,X)},yn.useInsertionEffect=function(ee,M){return Q.H.useInsertionEffect(ee,M)},yn.useLayoutEffect=function(ee,M){return Q.H.useLayoutEffect(ee,M)},yn.useMemo=function(ee,M){return Q.H.useMemo(ee,M)},yn.useOptimistic=function(ee,M){return Q.H.useOptimistic(ee,M)},yn.useReducer=function(ee,M,X){return Q.H.useReducer(ee,M,X)},yn.useRef=function(ee){return Q.H.useRef(ee)},yn.useState=function(ee){return Q.H.useState(ee)},yn.useSyncExternalStore=function(ee,M,X){return Q.H.useSyncExternalStore(ee,M,X)},yn.useTransition=function(){return Q.H.useTransition()},yn.version="19.2.3",yn}var Wj;function Zb(){return Wj||(Wj=1,Ey.exports=f6()),Ey.exports}var Z=Zb();const dv=qb(Z);var Ty={exports:{}},vp={},Iy={exports:{}},_y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function m6(){return Xj||(Xj=1,(function(s){function e(re,W){var J=re.length;re.push(W);e:for(;0<J;){var oe=J-1>>>1,xe=re[oe];if(0<r(xe,W))re[oe]=W,re[J]=xe,J=oe;else break e}}function t(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var W=re[0],J=re.pop();if(J!==W){re[0]=J;e:for(var oe=0,xe=re.length,ee=xe>>>1;oe<ee;){var M=2*(oe+1)-1,X=re[M],ie=M+1,le=re[ie];if(0>r(X,J))ie<xe&&0>r(le,X)?(re[oe]=le,re[ie]=J,oe=ie):(re[oe]=X,re[M]=J,oe=M);else if(ie<xe&&0>r(le,J))re[oe]=le,re[ie]=J,oe=ie;else break e}}return W}function r(re,W){var J=re.sortIndex-W.sortIndex;return J!==0?J:re.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();s.unstable_now=function(){return c.now()-h}}var u=[],f=[],A=1,m=null,x=3,g=!1,b=!1,I=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function L(re){for(var W=t(f);W!==null;){if(W.callback===null)n(f);else if(W.startTime<=re)n(f),W.sortIndex=W.expirationTime,e(u,W);else break;W=t(f)}}function O(re){if(I=!1,L(re),!b)if(t(u)!==null)b=!0,H||(H=!0,V());else{var W=t(f);W!==null&&de(O,W.startTime-re)}}var H=!1,Q=-1,D=5,R=-1;function K(){return N?!0:!(s.unstable_now()-R<D)}function P(){if(N=!1,H){var re=s.unstable_now();R=re;var W=!0;try{e:{b=!1,I&&(I=!1,E(Q),Q=-1),g=!0;var J=x;try{t:{for(L(re),m=t(u);m!==null&&!(m.expirationTime>re&&K());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,x=m.priorityLevel;var xe=oe(m.expirationTime<=re);if(re=s.unstable_now(),typeof xe=="function"){m.callback=xe,L(re),W=!0;break t}m===t(u)&&n(u),L(re)}else n(u);m=t(u)}if(m!==null)W=!0;else{var ee=t(f);ee!==null&&de(O,ee.startTime-re),W=!1}}break e}finally{m=null,x=J,g=!1}W=void 0}}finally{W?V():H=!1}}}var V;if(typeof F=="function")V=function(){F(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ae=$.port2;$.port1.onmessage=P,V=function(){ae.postMessage(null)}}else V=function(){S(P,0)};function de(re,W){Q=S(function(){re(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(re){re.callback=null},s.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(re){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var J=x;x=W;try{return re()}finally{x=J}},s.unstable_requestPaint=function(){N=!0},s.unstable_runWithPriority=function(re,W){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var J=x;x=re;try{return W()}finally{x=J}},s.unstable_scheduleCallback=function(re,W,J){var oe=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,re){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=J+xe,re={id:A++,callback:W,priorityLevel:re,startTime:J,expirationTime:xe,sortIndex:-1},J>oe?(re.sortIndex=J,e(f,re),t(u)===null&&re===t(f)&&(I?(E(Q),Q=-1):I=!0,de(O,J-oe))):(re.sortIndex=xe,e(u,re),b||g||(b=!0,H||(H=!0,V()))),re},s.unstable_shouldYield=K,s.unstable_wrapCallback=function(re){var W=x;return function(){var J=x;x=W;try{return re.apply(this,arguments)}finally{x=J}}}})(_y)),_y}var Jj;function p6(){return Jj||(Jj=1,Iy.exports=m6()),Iy.exports}var Fy={exports:{}},Xo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function g6(){if(qj)return Xo;qj=1;var s=Zb();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)f+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(u,f,A){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:u,containerInfo:f,implementation:A}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Xo.createPortal=function(u,f){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,A)},Xo.flushSync=function(u){var f=c.T,A=n.p;try{if(c.T=null,n.p=2,u)return u()}finally{c.T=f,n.p=A,n.d.f()}},Xo.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Xo.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Xo.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;A==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:g}):A==="script"&&n.d.X(u,{crossOrigin:m,integrity:x,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xo.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var A=h(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Xo.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin);n.d.L(u,A,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xo.preloadModule=function(u,f){if(typeof u=="string")if(f){var A=h(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Xo.requestFormReset=function(u){n.d.r(u)},Xo.unstable_batchedUpdates=function(u,f){return u(f)},Xo.useFormState=function(u,f,A){return c.H.useFormState(u,f,A)},Xo.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xo.version="19.2.3",Xo}var Zj;function x6(){if(Zj)return Fy.exports;Zj=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fy.exports=g6(),Fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB;function v6(){if(eB)return vp;eB=1;var s=p6(),e=Zb(),t=x6();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(n(188))}function f(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,p=l;;){var T=d.return;if(T===null)break;var U=T.alternate;if(U===null){if(p=T.return,p!==null){d=p;continue}break}if(T.child===U.child){for(U=T.child;U;){if(U===d)return u(T),a;if(U===p)return u(T),l;U=U.sibling}throw Error(n(188))}if(d.return!==p.return)d=T,p=U;else{for(var te=!1,ve=T.child;ve;){if(ve===d){te=!0,d=T,p=U;break}if(ve===p){te=!0,p=T,d=U;break}ve=ve.sibling}if(!te){for(ve=U.child;ve;){if(ve===d){te=!0,d=U,p=T;break}if(ve===p){te=!0,p=U,d=T;break}ve=ve.sibling}if(!te)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function A(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=A(a),l!==null)return l;a=a.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),F=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var $=Symbol.for("react.client.reference");function ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case H:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case F:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case L:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Q:return l=a.displayName||null,l!==null?l:ae(a.type)||"Memo";case D:l=a._payload,a=a._init;try{return ae(a(l))}catch{}}return null}var de=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},oe=[],xe=-1;function ee(a){return{current:a}}function M(a){0>xe||(a.current=oe[xe],oe[xe]=null,xe--)}function X(a,l){xe++,oe[xe]=a.current,a.current=l}var ie=ee(null),le=ee(null),ce=ee(null),ye=ee(null);function Ne(a,l){switch(X(ce,l),X(le,a),X(ie,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?fj(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=fj(l),a=mj(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}M(ie),X(ie,a)}function ge(){M(ie),M(le),M(ce)}function Se(a){a.memoizedState!==null&&X(ye,a);var l=ie.current,d=mj(l,a.type);l!==d&&(X(le,a),X(ie,d))}function Fe(a){le.current===a&&(M(ie),M(le)),ye.current===a&&(M(ye),fp._currentValue=J)}var Le,qe;function Oe(a){if(Le===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Le=l&&l[1]||"",qe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+a+qe}var he=!1;function et(a,l){if(!a||he)return"";he=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(ot){var rt=ot}Reflect.construct(a,[],St)}else{try{St.call()}catch(ot){rt=ot}a.call(St.prototype)}}else{try{throw Error()}catch(ot){rt=ot}(St=a())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(ot){if(ot&&rt&&typeof ot.stack=="string")return[ot.stack,rt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=p.DetermineComponentFrameRoot(),te=U[0],ve=U[1];if(te&&ve){var Ue=te.split(`
`),st=ve.split(`
`);for(T=p=0;p<Ue.length&&!Ue[p].includes("DetermineComponentFrameRoot");)p++;for(;T<st.length&&!st[T].includes("DetermineComponentFrameRoot");)T++;if(p===Ue.length||T===st.length)for(p=Ue.length-1,T=st.length-1;1<=p&&0<=T&&Ue[p]!==st[T];)T--;for(;1<=p&&0<=T;p--,T--)if(Ue[p]!==st[T]){if(p!==1||T!==1)do if(p--,T--,0>T||Ue[p]!==st[T]){var xt=`
`+Ue[p].replace(" at new "," at ");return a.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",a.displayName)),xt}while(1<=p&&0<=T);break}}}finally{he=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Oe(d):""}function wt(a,l){switch(a.tag){case 26:case 27:case 5:return Oe(a.type);case 16:return Oe("Lazy");case 13:return a.child!==l&&l!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return et(a.type,!1);case 11:return et(a.type.render,!1);case 1:return et(a.type,!0);case 31:return Oe("Activity");default:return""}}function at(a){try{var l="",d=null;do l+=wt(a,d),d=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ye=Object.prototype.hasOwnProperty,Ut=s.unstable_scheduleCallback,Lt=s.unstable_cancelCallback,Wt=s.unstable_shouldYield,$t=s.unstable_requestPaint,ss=s.unstable_now,ns=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,Ht=s.unstable_UserBlockingPriority,Vt=s.unstable_NormalPriority,Mt=s.unstable_LowPriority,dt=s.unstable_IdlePriority,Nt=s.log,Es=s.unstable_setDisableYieldValue,Me=null,ut=null;function ze(a){if(typeof Nt=="function"&&Es(a),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Me,a)}catch{}}var At=Math.clz32?Math.clz32:Et,mt=Math.log,Ot=Math.LN2;function Et(a){return a>>>=0,a===0?32:31-(mt(a)/Ot|0)|0}var Gt=256,xs=262144,Tt=4194304;function pt(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Pt(a,l,d){var p=a.pendingLanes;if(p===0)return 0;var T=0,U=a.suspendedLanes,te=a.pingedLanes;a=a.warmLanes;var ve=p&134217727;return ve!==0?(p=ve&~U,p!==0?T=pt(p):(te&=ve,te!==0?T=pt(te):d||(d=ve&~a,d!==0&&(T=pt(d))))):(ve=p&~U,ve!==0?T=pt(ve):te!==0?T=pt(te):d||(d=p&~a,d!==0&&(T=pt(d)))),T===0?0:l!==0&&l!==T&&(l&U)===0&&(U=T&-T,d=l&-l,U>=d||U===32&&(d&4194048)!==0)?l:T}function qt(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function os(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var a=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),a}function wn(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function es(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ca(a,l,d,p,T,U){var te=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var ve=a.entanglements,Ue=a.expirationTimes,st=a.hiddenUpdates;for(d=te&~d;0<d;){var xt=31-At(d),St=1<<xt;ve[xt]=0,Ue[xt]=-1;var rt=st[xt];if(rt!==null)for(st[xt]=null,xt=0;xt<rt.length;xt++){var ot=rt[xt];ot!==null&&(ot.lane&=-536870913)}d&=~St}p!==0&&en(a,p,0),U!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=U&~(te&~l))}function en(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-At(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|d&261930}function Yr(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-At(d),T=1<<p;T&l|a[p]&l&&(a[p]|=l),d&=~T}}function pr(a,l){var d=l&-l;return d=(d&42)!==0?1:us(d),(d&(a.suspendedLanes|l))!==0?0:d}function us(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Nn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function jr(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:Oj(a.type))}function Mn(a,l){var d=W.p;try{return W.p=a,l()}finally{W.p=d}}var un=Math.random().toString(36).slice(2),on="__reactFiber$"+un,fn="__reactProps$"+un,Un="__reactContainer$"+un,Br="__reactEvents$"+un,ua="__reactListeners$"+un,Vi="__reactHandles$"+un,ir="__reactResources$"+un,Ir="__reactMarker$"+un;function vi(a){delete a[on],delete a[fn],delete a[Br],delete a[ua],delete a[Vi]}function Pa(a){var l=a[on];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Un]||d[on]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=wj(a);a!==null;){if(d=a[on])return d;a=wj(a)}return l}a=d,d=a.parentNode}return null}function ka(a){if(a=a[on]||a[Un]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ma(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function yi(a){var l=a[ir];return l||(l=a[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _r(a){a[Ir]=!0}var ro=new Set,Ha={};function Va(a,l){da(a,l),da(a+"Capture",l)}function da(a,l){for(Ha[a]=l,a=0;a<l.length;a++)ro.add(l[a])}var bi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_e={},yt={};function Dt(a){return Ye.call(yt,a)?!0:Ye.call(_e,a)?!1:bi.test(a)?yt[a]=!0:(_e[a]=!0,!1)}function It(a,l,d){if(Dt(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function As(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Yt(a,l,d,p){if(p===null)a.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+p)}}function Jt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ws(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Rt(a,l,d){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,U=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return T.call(this)},set:function(te){d=""+te,U.call(this,te)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(te){d=""+te},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function hs(a){if(!a._valueTracker){var l=Ws(a)?"checked":"value";a._valueTracker=Rt(a,l,""+a[l])}}function dn(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return a&&(p=Ws(a)?a.checked?"true":"false":a.value),a=p,a!==d?(l.setValue(a),!0):!1}function ms(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ln=/[\n"\\]/g;function mn(a){return a.replace(ln,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ba(a,l,d,p,T,U,te,ve){a.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?a.type=te:a.removeAttribute("type"),l!=null?te==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Jt(l)):a.value!==""+Jt(l)&&(a.value=""+Jt(l)):te!=="submit"&&te!=="reset"||a.removeAttribute("value"),l!=null?ha(a,te,Jt(l)):d!=null?ha(a,te,Jt(d)):p!=null&&a.removeAttribute("value"),T==null&&U!=null&&(a.defaultChecked=!!U),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?a.name=""+Jt(ve):a.removeAttribute("name")}function Xa(a,l,d,p,T,U,te,ve){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(a.type=U),l!=null||d!=null){if(!(U!=="submit"&&U!=="reset"||l!=null)){hs(a);return}d=d!=null?""+Jt(d):"",l=l!=null?""+Jt(l):d,ve||l===a.value||(a.value=l),a.defaultValue=l}p=p??T,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=ve?a.checked:!!p,a.defaultChecked=!!p,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(a.name=te),hs(a)}function ha(a,l,d){l==="number"&&ms(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function or(a,l,d,p){if(a=a.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<a.length;d++)T=l.hasOwnProperty("$"+a[d].value),a[d].selected!==T&&(a[d].selected=T),T&&p&&(a[d].defaultSelected=!0)}else{for(d=""+Jt(d),l=null,T=0;T<a.length;T++){if(a[T].value===d){a[T].selected=!0,p&&(a[T].defaultSelected=!0);return}l!==null||a[T].disabled||(l=a[T])}l!==null&&(l.selected=!0)}}function Uo(a,l,d){if(l!=null&&(l=""+Jt(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Jt(d):""}function wi(a,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(n(92));if(de(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Jt(l),a.defaultValue=d,p=a.textContent,p===d&&p!==""&&p!==null&&(a.value=p),hs(a)}function Cr(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(a,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,d):typeof d!="number"||d===0||ao.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Vl(a,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var T in l)p=l[T],l.hasOwnProperty(T)&&d[T]!==p&&yl(a,T,p)}else for(var U in l)l.hasOwnProperty(U)&&yl(a,U,l[U])}function bl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fr(a){return ji.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function oi(){}var io=null;function na(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var li=null,Rs=null;function oo(a){var l=ka(a);if(l&&(a=l.stateNode)){var d=a[fn]||null;e:switch(a=l.stateNode,l.type){case"input":if(Ba(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+mn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==a&&p.form===a.form){var T=p[fn]||null;if(!T)throw Error(n(90));Ba(p,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===a.form&&dn(p)}break e;case"textarea":Uo(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&or(a,!!d.multiple,l,!1)}}}var fo=!1;function Ki(a,l,d){if(fo)return a(l,d);fo=!0;try{var p=a(l);return p}finally{if(fo=!1,(li!==null||Rs!==null)&&(eo(),li&&(l=li,a=Rs,Rs=li=null,oo(l),a)))for(l=0;l<a.length;l++)oo(a[l])}}function Vr(a,l){var d=a.stateNode;if(d===null)return null;var p=d[fn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Xt)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Gs=!1}var En=null,jn=null,rs=null;function lr(){if(rs)return rs;var a,l=jn,d=l.length,p,T="value"in En?En.value:En.textContent,U=T.length;for(a=0;a<d&&l[a]===T[a];a++);var te=d-a;for(p=1;p<=te&&l[d-p]===T[U-p];p++);return rs=T.slice(a,1<p?1-p:void 0)}function gr(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ja(){return!0}function ra(){return!1}function Sr(a){function l(d,p,T,U,te){this._reactName=d,this._targetInst=T,this.type=p,this.nativeEvent=U,this.target=te,this.currentTarget=null;for(var ve in a)a.hasOwnProperty(ve)&&(d=a[ve],this[ve]=d?d(U):U[ve]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Ja:ra,this.isPropagationStopped=ra,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),l}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=Sr(Ca),Bn=m({},Ca,{view:0,detail:0}),Sa=Sr(Bn),fa,zi,Bi,Kl=m({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bi&&(Bi&&a.type==="mousemove"?(fa=a.screenX-Bi.screenX,zi=a.screenY-Bi.screenY):zi=fa=0,Bi=a),fa)},movementY:function(a){return"movementY"in a?a.movementY:zi}}),cA=Sr(Kl),qa=m({},Kl,{dataTransfer:0}),Gi=Sr(qa),uA=m({},Bn,{relatedTarget:0}),mo=Sr(uA),$i=m({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),k=Sr($i),Ae=m({},Ca,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Te=Sr(Ae),De=m({},Ca,{data:0}),Ke=Sr(De),gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bs(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=vs[a])?!!l[a]:!1}function Ps(){return Bs}var Us=m({},Bn,{key:function(a){if(a.key){var l=gt[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=gr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_t[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(a){return a.type==="keypress"?gr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),In=Sr(Us),Nr=m({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Sr(Nr),w=m({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Y=Sr(w),ne=m({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),we=Sr(ne),$e=m({},Kl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=Sr($e),Kt=m({},Ca,{newState:0,oldState:0}),Zs=Sr(Kt),Er=[9,13,27,32],xn=Xt&&"CompositionEvent"in window,qn=null;Xt&&"documentMode"in document&&(qn=document.documentMode);var Ka=Xt&&"TextEvent"in window&&!qn,ma=Xt&&(!xn||qn&&8<qn&&11>=qn),zn=" ",rn=!1;function po(a,l){switch(a){case"keyup":return Er.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ol=!1;function Na(a,l){switch(a){case"compositionend":return Do(l);case"keypress":return l.which!==32?null:(rn=!0,zn);case"textInput":return a=l.data,a===zn&&rn?null:a;default:return null}}function Za(a,l){if(ol)return a==="compositionend"||!xn&&po(a,l)?(a=lr(),rs=jn=En=null,ol=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ma&&l.locale!=="ko"?null:l.data;default:return null}}var fc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ro(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!fc[a.type]:l==="textarea"}function Gn(a,l,d,p){li?Rs?Rs.push(p):Rs=[p]:li=p,l=j0(l,"onChange"),0<l.length&&(d=new Ur("onChange","change",null,d,p),a.push({event:d,listeners:l}))}var Lo=null,Dr=null;function OA(a){lj(a,0)}function ei(a){var l=Ma(a);if(dn(l))return a}function Qo(a,l){if(a==="change")return l}var Cn=!1;if(Xt){var Ci;if(Xt){var ll="oninput"in document;if(!ll){var Al=document.createElement("div");Al.setAttribute("oninput","return;"),ll=typeof Al.oninput=="function"}Ci=ll}else Ci=!1;Cn=Ci&&(!document.documentMode||9<document.documentMode)}function wl(){Lo&&(Lo.detachEvent("onpropertychange",zl),Dr=Lo=null)}function zl(a){if(a.propertyName==="value"&&ei(Dr)){var l=[];Gn(l,Dr,a,na(a)),Ki(OA,l)}}function PA(a,l,d){a==="focusin"?(wl(),Lo=l,Dr=d,Lo.attachEvent("onpropertychange",zl)):a==="focusout"&&wl()}function aa(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ei(Dr)}function Yi(a,l){if(a==="click")return ei(l)}function Ai(a,l){if(a==="input"||a==="change")return ei(l)}function ci(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ln=typeof Object.is=="function"?Object.is:ci;function Si(a,l){if(Ln(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var T=d[p];if(!Ye.call(l,T)||!Ln(a[T],l[T]))return!1}return!0}function kA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function MA(a,l){var d=kA(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=l&&p>=l)return{node:d,offset:l-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=kA(d)}}function cl(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?cl(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function jl(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ms(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=ms(a.document)}return l}function Bl(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var ul=Xt&&"documentMode"in document&&11>=document.documentMode,pa=null,Gl=null,Ni=null,Wi=!1;function $n(a,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Wi||pa==null||pa!==ms(p)||(p=pa,"selectionStart"in p&&Bl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ni&&Si(Ni,p)||(Ni=p,p=j0(Gl,"onSelect"),0<p.length&&(l=new Ur("onSelect","select",null,l,d),a.push({event:l,listeners:p}),l.target=pa)))}function Hn(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Tr={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionrun:Hn("Transition","TransitionRun"),transitionstart:Hn("Transition","TransitionStart"),transitioncancel:Hn("Transition","TransitionCancel"),transitionend:Hn("Transition","TransitionEnd")},Zn={},dl={};Xt&&(dl=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function hl(a){if(Zn[a])return Zn[a];if(!Tr[a])return a;var l=Tr[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in dl)return Zn[a]=l[d];return a}var HA=hl("animationend"),dA=hl("animationiteration"),th=hl("animationstart"),sh=hl("transitionrun"),nh=hl("transitionstart"),rh=hl("transitioncancel"),Lu=hl("transitionend"),Qu=new Map,hA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hA.push("scrollEnd");function go(a,l){Qu.set(a,l),Va(l,[a])}var mc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},xo=[],Cl=0,Ou=0;function tu(){for(var a=Cl,l=Ou=Cl=0;l<a;){var d=xo[l];xo[l++]=null;var p=xo[l];xo[l++]=null;var T=xo[l];xo[l++]=null;var U=xo[l];if(xo[l++]=null,p!==null&&T!==null){var te=p.pending;te===null?T.next=T:(T.next=te.next,te.next=T),p.pending=T}U!==0&&su(d,T,U)}}function VA(a,l,d,p){xo[Cl++]=a,xo[Cl++]=l,xo[Cl++]=d,xo[Cl++]=p,Ou|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Pu(a,l,d,p){return VA(a,l,d,p),Ei(a)}function Sl(a,l){return VA(a,null,null,l),Ei(a)}function su(a,l,d){a.lanes|=d;var p=a.alternate;p!==null&&(p.lanes|=d);for(var T=!1,U=a.return;U!==null;)U.childLanes|=d,p=U.alternate,p!==null&&(p.childLanes|=d),U.tag===22&&(a=U.stateNode,a===null||a._visibility&1||(T=!0)),a=U,U=U.return;return a.tag===3?(U=a.stateNode,T&&l!==null&&(T=31-At(d),a=U.hiddenUpdates,p=a[T],p===null?a[T]=[l]:p.push(l),l.lane=d|536870912),U):null}function Ei(a){if(50<Fn)throw Fn=0,kn=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var ui={};function ku(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(a,l,d,p){return new ku(a,l,d,p)}function $l(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Oo(a,l){var d=a.alternate;return d===null?(d=Ti(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function nu(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Yl(a,l,d,p,T,U){var te=0;if(p=a,typeof a=="function")$l(a)&&(te=1);else if(typeof a=="string")te=J_(a,d,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=Ti(31,d,l,T),a.elementType=R,a.lanes=U,a;case I:return fA(d.children,T,U,l);case N:te=8,T|=24;break;case S:return a=Ti(12,d,l,T|2),a.elementType=S,a.lanes=U,a;case O:return a=Ti(13,d,l,T),a.elementType=O,a.lanes=U,a;case H:return a=Ti(19,d,l,T),a.elementType=H,a.lanes=U,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:te=10;break e;case E:te=9;break e;case L:te=11;break e;case Q:te=14;break e;case D:te=16,p=null;break e}te=29,d=Error(n(130,a===null?"null":typeof a,"")),p=null}return l=Ti(te,d,l,T),l.elementType=a,l.type=p,l.lanes=U,l}function fA(a,l,d,p){return a=Ti(7,a,p,l),a.lanes=d,a}function ru(a,l,d){return a=Ti(6,a,null,l),a.lanes=d,a}function Mu(a){var l=Ti(18,null,null,0);return l.stateNode=a,l}function pc(a,l,d){return l=Ti(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var KA=new WeakMap;function Po(a,l){if(typeof a=="object"&&a!==null){var d=KA.get(a);return d!==void 0?d:(l={value:a,source:l,stack:at(l)},KA.set(a,l),l)}return{value:a,source:l,stack:at(l)}}var gc=[],zA=0,Hu=null,mA=0,ko=[],Mo=0,pA=null,Ho=1,Xi="";function vo(a,l){gc[zA++]=mA,gc[zA++]=Hu,Hu=a,mA=l}function cf(a,l,d){ko[Mo++]=Ho,ko[Mo++]=Xi,ko[Mo++]=pA,pA=a;var p=Ho;a=Xi;var T=32-At(p)-1;p&=~(1<<T),d+=1;var U=32-At(l)+T;if(30<U){var te=T-T%5;U=(p&(1<<te)-1).toString(32),p>>=te,T-=te,Ho=1<<32-At(l)+T|d<<T|p,Xi=U+a}else Ho=1<<U|d<<T|p,Xi=a}function ah(a){a.return!==null&&(vo(a,1),cf(a,1,0))}function Vu(a){for(;a===Hu;)Hu=gc[--zA],gc[zA]=null,mA=gc[--zA],gc[zA]=null;for(;a===pA;)pA=ko[--Mo],ko[Mo]=null,Xi=ko[--Mo],ko[Mo]=null,Ho=ko[--Mo],ko[Mo]=null}function uf(a,l){ko[Mo++]=Ho,ko[Mo++]=Xi,ko[Mo++]=pA,Ho=l.id,Xi=l.overflow,pA=a}var di=null,Rr=null,Dn=!1,Ji=null,ia=!1,lo=Error(n(519));function gA(a){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Po(l,a)),lo}function ih(a){var l=a.stateNode,d=a.type,p=a.memoizedProps;switch(l[on]=a,l[fn]=p,d){case"dialog":Kn("cancel",l),Kn("close",l);break;case"iframe":case"object":case"embed":Kn("load",l);break;case"video":case"audio":for(d=0;d<Ap.length;d++)Kn(Ap[d],l);break;case"source":Kn("error",l);break;case"img":case"image":case"link":Kn("error",l),Kn("load",l);break;case"details":Kn("toggle",l);break;case"input":Kn("invalid",l),Xa(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Kn("invalid",l);break;case"textarea":Kn("invalid",l),wi(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||dj(l.textContent,d)?(p.popover!=null&&(Kn("beforetoggle",l),Kn("toggle",l)),p.onScroll!=null&&Kn("scroll",l),p.onScrollEnd!=null&&Kn("scrollend",l),p.onClick!=null&&(l.onclick=oi),l=!0):l=!1,l||gA(a,!0)}function Nl(a){for(di=a.return;di;)switch(di.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:di=di.return}}function hi(a){if(a!==di)return!1;if(!Dn)return Nl(a),Dn=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||dy(a.type,a.memoizedProps)),d=!d),d&&Rr&&gA(a),Nl(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Rr=bj(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Rr=bj(a)}else l===27?(l=Rr,ud(a.type)?(a=gy,gy=null,Rr=a):Rr=l):Rr=di?NA(a.stateNode.nextSibling):null;return!0}function GA(){Rr=di=null,Dn=!1}function au(){var a=Ji;return a!==null&&(Re===null?Re=a:Re.push.apply(Re,a),Ji=null),a}function Wl(a){Ji===null?Ji=[a]:Ji.push(a)}var Ku=ee(null),xA=null,El=null;function vA(a,l,d){X(Ku,l._currentValue),l._currentValue=d}function Vo(a){a._currentValue=Ku.current,M(Ku)}function xc(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function Tl(a,l,d,p){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var U=T.dependencies;if(U!==null){var te=T.child;U=U.firstContext;e:for(;U!==null;){var ve=U;U=T;for(var Ue=0;Ue<l.length;Ue++)if(ve.context===l[Ue]){U.lanes|=d,ve=U.alternate,ve!==null&&(ve.lanes|=d),xc(U.return,d,a),p||(te=null);break e}U=ve.next}}else if(T.tag===18){if(te=T.return,te===null)throw Error(n(341));te.lanes|=d,U=te.alternate,U!==null&&(U.lanes|=d),xc(te,d,a),te=null}else te=T.child;if(te!==null)te.return=T;else for(te=T;te!==null;){if(te===a){te=null;break}if(T=te.sibling,T!==null){T.return=te.return,te=T;break}te=te.return}T=te}}function yA(a,l,d,p){a=null;for(var T=l,U=!1;T!==null;){if(!U){if((T.flags&524288)!==0)U=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var te=T.alternate;if(te===null)throw Error(n(387));if(te=te.memoizedProps,te!==null){var ve=T.type;Ln(T.pendingProps.value,te.value)||(a!==null?a.push(ve):a=[ve])}}else if(T===ye.current){if(te=T.alternate,te===null)throw Error(n(387));te.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(fp):a=[fp])}T=T.return}a!==null&&Tl(l,a,d,p),l.flags|=262144}function zu(a){for(a=a.firstContext;a!==null;){if(!Ln(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function bA(a){xA=a,El=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function fi(a){return df(xA,a)}function Gu(a,l){return xA===null&&bA(a),df(a,l)}function df(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},El===null){if(a===null)throw Error(n(308));El=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else El=El.next=l;return d}var Im=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},_m=s.unstable_scheduleCallback,Fm=s.unstable_NormalPriority,ga={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new Im,data:new Map,refCount:0}}function iu(a){a.refCount--,a.refCount===0&&_m(Fm,function(){a.controller.abort()})}var yc=null,$u=0,y=0,_=null;function z(a,l){if(yc===null){var d=yc=[];$u=0,y=ny(),_={status:"pending",value:void 0,then:function(p){d.push(p)}}}return $u++,l.then(q,q),l}function q(){if(--$u===0&&yc!==null){_!==null&&(_.status="fulfilled");var a=yc;yc=null,y=0,_=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function ue(a,l){var d=[],p={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(p.status="rejected",p.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),p}var me=re.S;re.S=function(a,l){ft=ss(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&z(a,l),me!==null&&me(a,l)};var pe=ee(null);function be(){var a=pe.current;return a!==null?a:Or.pooledCache}function je(a,l){l===null?X(pe,pe.current):X(pe,l.pool)}function Ie(){var a=be();return a===null?null:{parent:ga._currentValue,pool:a}}var Qe=Error(n(460)),Ze=Error(n(474)),Ee=Error(n(542)),ke={then:function(){}};function He(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ht(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(oi,oi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Qt(a),a;default:if(typeof l.status=="string")l.then(oi,oi);else{if(a=Or,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=p}},function(p){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Qt(a),a}throw ct=l,Qe}}function Xe(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ct=d,Qe):d}}var ct=null;function vt(){if(ct===null)throw Error(n(459));var a=ct;return ct=null,a}function Qt(a){if(a===Qe||a===Ee)throw Error(n(483))}var Bt=null,Cs=0;function ps(a){var l=Cs;return Cs+=1,Bt===null&&(Bt=[]),ht(Bt,a,l)}function tn(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function bs(a,l){throw l.$$typeof===x?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function _n(a){function l(Ge,Pe){if(a){var tt=Ge.deletions;tt===null?(Ge.deletions=[Pe],Ge.flags|=16):tt.push(Pe)}}function d(Ge,Pe){if(!a)return null;for(;Pe!==null;)l(Ge,Pe),Pe=Pe.sibling;return null}function p(Ge){for(var Pe=new Map;Ge!==null;)Ge.key!==null?Pe.set(Ge.key,Ge):Pe.set(Ge.index,Ge),Ge=Ge.sibling;return Pe}function T(Ge,Pe){return Ge=Oo(Ge,Pe),Ge.index=0,Ge.sibling=null,Ge}function U(Ge,Pe,tt){return Ge.index=tt,a?(tt=Ge.alternate,tt!==null?(tt=tt.index,tt<Pe?(Ge.flags|=67108866,Pe):tt):(Ge.flags|=67108866,Pe)):(Ge.flags|=1048576,Pe)}function te(Ge){return a&&Ge.alternate===null&&(Ge.flags|=67108866),Ge}function ve(Ge,Pe,tt,jt){return Pe===null||Pe.tag!==6?(Pe=ru(tt,Ge.mode,jt),Pe.return=Ge,Pe):(Pe=T(Pe,tt),Pe.return=Ge,Pe)}function Ue(Ge,Pe,tt,jt){var Ks=tt.type;return Ks===I?xt(Ge,Pe,tt.props.children,jt,tt.key):Pe!==null&&(Pe.elementType===Ks||typeof Ks=="object"&&Ks!==null&&Ks.$$typeof===D&&Xe(Ks)===Pe.type)?(Pe=T(Pe,tt.props),tn(Pe,tt),Pe.return=Ge,Pe):(Pe=Yl(tt.type,tt.key,tt.props,null,Ge.mode,jt),tn(Pe,tt),Pe.return=Ge,Pe)}function st(Ge,Pe,tt,jt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==tt.containerInfo||Pe.stateNode.implementation!==tt.implementation?(Pe=pc(tt,Ge.mode,jt),Pe.return=Ge,Pe):(Pe=T(Pe,tt.children||[]),Pe.return=Ge,Pe)}function xt(Ge,Pe,tt,jt,Ks){return Pe===null||Pe.tag!==7?(Pe=fA(tt,Ge.mode,jt,Ks),Pe.return=Ge,Pe):(Pe=T(Pe,tt),Pe.return=Ge,Pe)}function St(Ge,Pe,tt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=ru(""+Pe,Ge.mode,tt),Pe.return=Ge,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:return tt=Yl(Pe.type,Pe.key,Pe.props,null,Ge.mode,tt),tn(tt,Pe),tt.return=Ge,tt;case b:return Pe=pc(Pe,Ge.mode,tt),Pe.return=Ge,Pe;case D:return Pe=Xe(Pe),St(Ge,Pe,tt)}if(de(Pe)||V(Pe))return Pe=fA(Pe,Ge.mode,tt,null),Pe.return=Ge,Pe;if(typeof Pe.then=="function")return St(Ge,ps(Pe),tt);if(Pe.$$typeof===F)return St(Ge,Gu(Ge,Pe),tt);bs(Ge,Pe)}return null}function rt(Ge,Pe,tt,jt){var Ks=Pe!==null?Pe.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Ks!==null?null:ve(Ge,Pe,""+tt,jt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case g:return tt.key===Ks?Ue(Ge,Pe,tt,jt):null;case b:return tt.key===Ks?st(Ge,Pe,tt,jt):null;case D:return tt=Xe(tt),rt(Ge,Pe,tt,jt)}if(de(tt)||V(tt))return Ks!==null?null:xt(Ge,Pe,tt,jt,null);if(typeof tt.then=="function")return rt(Ge,Pe,ps(tt),jt);if(tt.$$typeof===F)return rt(Ge,Pe,Gu(Ge,tt),jt);bs(Ge,tt)}return null}function ot(Ge,Pe,tt,jt,Ks){if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return Ge=Ge.get(tt)||null,ve(Pe,Ge,""+jt,Ks);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case g:return Ge=Ge.get(jt.key===null?tt:jt.key)||null,Ue(Pe,Ge,jt,Ks);case b:return Ge=Ge.get(jt.key===null?tt:jt.key)||null,st(Pe,Ge,jt,Ks);case D:return jt=Xe(jt),ot(Ge,Pe,tt,jt,Ks)}if(de(jt)||V(jt))return Ge=Ge.get(tt)||null,xt(Pe,Ge,jt,Ks,null);if(typeof jt.then=="function")return ot(Ge,Pe,tt,ps(jt),Ks);if(jt.$$typeof===F)return ot(Ge,Pe,tt,Gu(Pe,jt),Ks);bs(Pe,jt)}return null}function Ss(Ge,Pe,tt,jt){for(var Ks=null,fr=null,Fs=Pe,Tn=Pe=0,Wn=null;Fs!==null&&Tn<tt.length;Tn++){Fs.index>Tn?(Wn=Fs,Fs=null):Wn=Fs.sibling;var mr=rt(Ge,Fs,tt[Tn],jt);if(mr===null){Fs===null&&(Fs=Wn);break}a&&Fs&&mr.alternate===null&&l(Ge,Fs),Pe=U(mr,Pe,Tn),fr===null?Ks=mr:fr.sibling=mr,fr=mr,Fs=Wn}if(Tn===tt.length)return d(Ge,Fs),Dn&&vo(Ge,Tn),Ks;if(Fs===null){for(;Tn<tt.length;Tn++)Fs=St(Ge,tt[Tn],jt),Fs!==null&&(Pe=U(Fs,Pe,Tn),fr===null?Ks=Fs:fr.sibling=Fs,fr=Fs);return Dn&&vo(Ge,Tn),Ks}for(Fs=p(Fs);Tn<tt.length;Tn++)Wn=ot(Fs,Ge,Tn,tt[Tn],jt),Wn!==null&&(a&&Wn.alternate!==null&&Fs.delete(Wn.key===null?Tn:Wn.key),Pe=U(Wn,Pe,Tn),fr===null?Ks=Wn:fr.sibling=Wn,fr=Wn);return a&&Fs.forEach(function(pd){return l(Ge,pd)}),Dn&&vo(Ge,Tn),Ks}function Js(Ge,Pe,tt,jt){if(tt==null)throw Error(n(151));for(var Ks=null,fr=null,Fs=Pe,Tn=Pe=0,Wn=null,mr=tt.next();Fs!==null&&!mr.done;Tn++,mr=tt.next()){Fs.index>Tn?(Wn=Fs,Fs=null):Wn=Fs.sibling;var pd=rt(Ge,Fs,mr.value,jt);if(pd===null){Fs===null&&(Fs=Wn);break}a&&Fs&&pd.alternate===null&&l(Ge,Fs),Pe=U(pd,Pe,Tn),fr===null?Ks=pd:fr.sibling=pd,fr=pd,Fs=Wn}if(mr.done)return d(Ge,Fs),Dn&&vo(Ge,Tn),Ks;if(Fs===null){for(;!mr.done;Tn++,mr=tt.next())mr=St(Ge,mr.value,jt),mr!==null&&(Pe=U(mr,Pe,Tn),fr===null?Ks=mr:fr.sibling=mr,fr=mr);return Dn&&vo(Ge,Tn),Ks}for(Fs=p(Fs);!mr.done;Tn++,mr=tt.next())mr=ot(Fs,Ge,Tn,mr.value,jt),mr!==null&&(a&&mr.alternate!==null&&Fs.delete(mr.key===null?Tn:mr.key),Pe=U(mr,Pe,Tn),fr===null?Ks=mr:fr.sibling=mr,fr=mr);return a&&Fs.forEach(function(l6){return l(Ge,l6)}),Dn&&vo(Ge,Tn),Ks}function $r(Ge,Pe,tt,jt){if(typeof tt=="object"&&tt!==null&&tt.type===I&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case g:e:{for(var Ks=tt.key;Pe!==null;){if(Pe.key===Ks){if(Ks=tt.type,Ks===I){if(Pe.tag===7){d(Ge,Pe.sibling),jt=T(Pe,tt.props.children),jt.return=Ge,Ge=jt;break e}}else if(Pe.elementType===Ks||typeof Ks=="object"&&Ks!==null&&Ks.$$typeof===D&&Xe(Ks)===Pe.type){d(Ge,Pe.sibling),jt=T(Pe,tt.props),tn(jt,tt),jt.return=Ge,Ge=jt;break e}d(Ge,Pe);break}else l(Ge,Pe);Pe=Pe.sibling}tt.type===I?(jt=fA(tt.props.children,Ge.mode,jt,tt.key),jt.return=Ge,Ge=jt):(jt=Yl(tt.type,tt.key,tt.props,null,Ge.mode,jt),tn(jt,tt),jt.return=Ge,Ge=jt)}return te(Ge);case b:e:{for(Ks=tt.key;Pe!==null;){if(Pe.key===Ks)if(Pe.tag===4&&Pe.stateNode.containerInfo===tt.containerInfo&&Pe.stateNode.implementation===tt.implementation){d(Ge,Pe.sibling),jt=T(Pe,tt.children||[]),jt.return=Ge,Ge=jt;break e}else{d(Ge,Pe);break}else l(Ge,Pe);Pe=Pe.sibling}jt=pc(tt,Ge.mode,jt),jt.return=Ge,Ge=jt}return te(Ge);case D:return tt=Xe(tt),$r(Ge,Pe,tt,jt)}if(de(tt))return Ss(Ge,Pe,tt,jt);if(V(tt)){if(Ks=V(tt),typeof Ks!="function")throw Error(n(150));return tt=Ks.call(tt),Js(Ge,Pe,tt,jt)}if(typeof tt.then=="function")return $r(Ge,Pe,ps(tt),jt);if(tt.$$typeof===F)return $r(Ge,Pe,Gu(Ge,tt),jt);bs(Ge,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Pe!==null&&Pe.tag===6?(d(Ge,Pe.sibling),jt=T(Pe,tt),jt.return=Ge,Ge=jt):(d(Ge,Pe),jt=ru(tt,Ge.mode,jt),jt.return=Ge,Ge=jt),te(Ge)):d(Ge,Pe)}return function(Ge,Pe,tt,jt){try{Cs=0;var Ks=$r(Ge,Pe,tt,jt);return Bt=null,Ks}catch(Fs){if(Fs===Qe||Fs===Ee)throw Fs;var fr=Ti(29,Fs,null,Ge.mode);return fr.lanes=jt,fr.return=Ge,fr}finally{}}}var Lr=_n(!0),An=_n(!1),it=!1;function Zt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wr(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Vs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function $s(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(dr&2)!==0){var T=p.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),p.pending=l,l=Ei(a),su(a,null,d),l}return VA(a,p,l,d),Ei(a)}function Ar(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,Yr(a,d)}}function Ea(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var T=null,U=null;if(d=d.firstBaseUpdate,d!==null){do{var te={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};U===null?T=U=te:U=U.next=te,d=d.next}while(d!==null);U===null?T=U=l:U=U.next=l}else T=U=l;d={baseState:p.baseState,firstBaseUpdate:T,lastBaseUpdate:U,shared:p.shared,callbacks:p.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var xa=!1;function cr(){if(xa){var a=_;if(a!==null)throw a}}function Ta(a,l,d,p){xa=!1;var T=a.updateQueue;it=!1;var U=T.firstBaseUpdate,te=T.lastBaseUpdate,ve=T.shared.pending;if(ve!==null){T.shared.pending=null;var Ue=ve,st=Ue.next;Ue.next=null,te===null?U=st:te.next=st,te=Ue;var xt=a.alternate;xt!==null&&(xt=xt.updateQueue,ve=xt.lastBaseUpdate,ve!==te&&(ve===null?xt.firstBaseUpdate=st:ve.next=st,xt.lastBaseUpdate=Ue))}if(U!==null){var St=T.baseState;te=0,xt=st=Ue=null,ve=U;do{var rt=ve.lane&-536870913,ot=rt!==ve.lane;if(ot?(Pn&rt)===rt:(p&rt)===rt){rt!==0&&rt===y&&(xa=!0),xt!==null&&(xt=xt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var Ss=a,Js=ve;rt=l;var $r=d;switch(Js.tag){case 1:if(Ss=Js.payload,typeof Ss=="function"){St=Ss.call($r,St,rt);break e}St=Ss;break e;case 3:Ss.flags=Ss.flags&-65537|128;case 0:if(Ss=Js.payload,rt=typeof Ss=="function"?Ss.call($r,St,rt):Ss,rt==null)break e;St=m({},St,rt);break e;case 2:it=!0}}rt=ve.callback,rt!==null&&(a.flags|=64,ot&&(a.flags|=8192),ot=T.callbacks,ot===null?T.callbacks=[rt]:ot.push(rt))}else ot={lane:rt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},xt===null?(st=xt=ot,Ue=St):xt=xt.next=ot,te|=rt;if(ve=ve.next,ve===null){if(ve=T.shared.pending,ve===null)break;ot=ve,ve=ot.next,ot.next=null,T.lastBaseUpdate=ot,T.shared.pending=null}}while(!0);xt===null&&(Ue=St),T.baseState=Ue,T.firstBaseUpdate=st,T.lastBaseUpdate=xt,U===null&&(T.shared.lanes=0),B|=te,a.lanes=te,a.memoizedState=St}}function Ii(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function Ia(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Ii(d[a],l)}var an=ee(null),Qn=ee(0);function Qr(a,l){a=v,X(Qn,a),X(an,l),v=a|l.baseLanes}function er(){X(Qn,v),X(an,an.current)}function _a(){v=Qn.current,M(an),M(Qn)}var Xr=ee(null),On=null;function va(a){var l=a.alternate;X(Vn,Vn.current&1),X(Xr,a),On===null&&(l===null||an.current!==null||l.memoizedState!==null)&&(On=a)}function ur(a){X(Vn,Vn.current),X(Xr,a),On===null&&(On=a)}function Fa(a){a.tag===22?(X(Vn,Vn.current),X(Xr,a),On===null&&(On=a)):Ua()}function Ua(){X(Vn,Vn.current),X(Xr,Xr.current)}function xr(a){M(Xr),On===a&&(On=null),M(Vn)}var Vn=ee(0);function _i(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||my(d)||py(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var oa=0,Ls=null,ks=null,Yn=null,Ao=!1,yo=!1,qi=!1,Jr=0,wA=0,Il=null,bc=0;function vr(){throw Error(n(321))}function Yu(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Ln(a[d],l[d]))return!1;return!0}function oh(a,l,d,p,T,U){return oa=U,Ls=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,re.H=a===null||a.memoizedState===null?qg:yf,qi=!1,U=d(p,T),qi=!1,yo&&(U=fl(l,d,p,T)),ou(a),U}function ou(a){re.H=ph;var l=ks!==null&&ks.next!==null;if(oa=0,Yn=ks=Ls=null,Ao=!1,wA=0,Il=null,l)throw Error(n(300));a===null||qr||(a=a.dependencies,a!==null&&zu(a)&&(qr=!0))}function fl(a,l,d,p){Ls=a;var T=0;do{if(yo&&(Il=null),wA=0,yo=!1,25<=T)throw Error(n(301));if(T+=1,Yn=ks=null,a.updateQueue!=null){var U=a.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}re.H=bf,U=l(d,p)}while(yo);return U}function lh(){var a=re.H,l=a.useState()[0];return l=typeof l.then=="function"?jA(l):l,a=a.useState()[0],(ks!==null?ks.memoizedState:null)!==a&&(Ls.flags|=1024),l}function Wu(){var a=Jr!==0;return Jr=0,a}function Xu(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function lu(a){if(Ao){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Ao=!1}oa=0,Yn=ks=Ls=null,yo=!1,wA=Jr=0,Il=null}function za(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?Ls.memoizedState=Yn=a:Yn=Yn.next=a,Yn}function Kr(){if(ks===null){var a=Ls.alternate;a=a!==null?a.memoizedState:null}else a=ks.next;var l=Yn===null?Ls.memoizedState:Yn.next;if(l!==null)Yn=l,ks=a;else{if(a===null)throw Ls.alternate===null?Error(n(467)):Error(n(310));ks=a,a={memoizedState:ks.memoizedState,baseState:ks.baseState,baseQueue:ks.baseQueue,queue:ks.queue,next:null},Yn===null?Ls.memoizedState=Yn=a:Yn=Yn.next=a}return Yn}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jA(a){var l=wA;return wA+=1,Il===null&&(Il=[]),a=ht(Il,a,l),l=Ls,(Yn===null?l.memoizedState:Yn.next)===null&&(l=l.alternate,re.H=l===null||l.memoizedState===null?qg:yf),a}function wc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return jA(a);if(a.$$typeof===F)return fi(a)}throw Error(n(438,String(a)))}function ti(a){var l=null,d=Ls.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Ls.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Au(),Ls.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),p=0;p<a;p++)d[p]=K;return l.index++,d}function Ko(a,l){return typeof l=="function"?l(a):l}function Ju(a){var l=Kr();return jc(l,ks,a)}function jc(a,l,d){var p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var T=a.baseQueue,U=p.pending;if(U!==null){if(T!==null){var te=T.next;T.next=U.next,U.next=te}l.baseQueue=T=U,p.pending=null}if(U=a.baseState,T===null)a.memoizedState=U;else{l=T.next;var ve=te=null,Ue=null,st=l,xt=!1;do{var St=st.lane&-536870913;if(St!==st.lane?(Pn&St)===St:(oa&St)===St){var rt=st.revertLane;if(rt===0)Ue!==null&&(Ue=Ue.next={lane:0,revertLane:0,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),St===y&&(xt=!0);else if((oa&rt)===rt){st=st.next,rt===y&&(xt=!0);continue}else St={lane:0,revertLane:st.revertLane,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},Ue===null?(ve=Ue=St,te=U):Ue=Ue.next=St,Ls.lanes|=rt,B|=rt;St=st.action,qi&&d(U,St),U=st.hasEagerState?st.eagerState:d(U,St)}else rt={lane:St,revertLane:st.revertLane,gesture:st.gesture,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},Ue===null?(ve=Ue=rt,te=U):Ue=Ue.next=rt,Ls.lanes|=St,B|=St;st=st.next}while(st!==null&&st!==l);if(Ue===null?te=U:Ue.next=ve,!Ln(U,a.memoizedState)&&(qr=!0,xt&&(d=_,d!==null)))throw d;a.memoizedState=U,a.baseState=te,a.baseQueue=Ue,p.lastRenderedState=U}return T===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function qu(a){var l=Kr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var p=d.dispatch,T=d.pending,U=l.memoizedState;if(T!==null){d.pending=null;var te=T=T.next;do U=a(U,te.action),te=te.next;while(te!==T);Ln(U,l.memoizedState)||(qr=!0),l.memoizedState=U,l.baseQueue===null&&(l.baseState=U),d.lastRenderedState=U}return[U,p]}function Zu(a,l,d){var p=Ls,T=Kr(),U=Dn;if(U){if(d===void 0)throw Error(n(407));d=d()}else d=l();var te=!Ln((ks||T).memoizedState,d);if(te&&(T.memoizedState=d,qr=!0),T=T.queue,pf(ch.bind(null,p,T,a),[a]),T.getSnapshot!==l||te||Yn!==null&&Yn.memoizedState.tag&1){if(p.flags|=2048,YA(9,{destroy:void 0},Ah.bind(null,p,T,d,l),null),Or===null)throw Error(n(349));U||(oa&127)!==0||Xl(p,l,d)}return d}function Xl(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Ls.updateQueue,l===null?(l=Au(),Ls.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function Ah(a,l,d,p){l.value=d,l.getSnapshot=p,hf(l)&&uh(a)}function ch(a,l,d){return d(function(){hf(l)&&uh(a)})}function hf(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Ln(a,d)}catch{return!0}}function uh(a){var l=Sl(a,2);l!==null&&Pr(l,a,2)}function Jl(a){var l=za();if(typeof a=="function"){var d=a;if(a=d(),qi){ze(!0);try{d()}finally{ze(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:a},l}function ff(a,l,d,p){return a.baseState=d,jc(a,ks,typeof p=="function"?p:Ko)}function ed(a,l,d,p,T){if(cu(a))throw Error(n(485));if(a=l.action,a!==null){var U={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){U.listeners.push(te)}};re.T!==null?d(!0):U.isTransition=!1,p(U),d=l.pending,d===null?(U.next=l.pending=U,dh(l,U)):(U.next=d.next,l.pending=d.next=U)}}function dh(a,l){var d=l.action,p=l.payload,T=a.state;if(l.isTransition){var U=re.T,te={};re.T=te;try{var ve=d(T,p),Ue=re.S;Ue!==null&&Ue(te,ve),Ga(a,l,ve)}catch(st){$A(a,l,st)}finally{U!==null&&te.types!==null&&(U.types=te.types),re.T=U}}else try{U=d(T,p),Ga(a,l,U)}catch(st){$A(a,l,st)}}function Ga(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Bc(a,l,p)},function(p){return $A(a,l,p)}):Bc(a,l,d)}function Bc(a,l,d){l.status="fulfilled",l.value=d,td(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,dh(a,d)))}function $A(a,l,d){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,td(l),l=l.next;while(l!==p)}a.action=null}function td(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Cc(a,l){return l}function zo(a,l){if(Dn){var d=Or.formState;if(d!==null){e:{var p=Ls;if(Dn){if(Rr){t:{for(var T=Rr,U=ia;T.nodeType!==8;){if(!U){T=null;break t}if(T=NA(T.nextSibling),T===null){T=null;break t}}U=T.data,T=U==="F!"||U==="F"?T:null}if(T){Rr=NA(T.nextSibling),p=T.data==="F!";break e}}gA(p)}p=!1}p&&(l=d[0])}}return d=za(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:l},d.queue=p,d=Mm.bind(null,Ls,p),p.dispatch=d,p=Jl(!1),U=mh.bind(null,Ls,!1,p.queue),p=za(),T={state:l,dispatch:null,action:a,pending:null},p.queue=T,d=ed.bind(null,Ls,T,U,d),T.dispatch=d,p.memoizedState=a,[l,d,!1]}function ql(a){var l=Kr();return Zl(l,ks,a)}function Zl(a,l,d){if(l=jc(a,l,Cc)[0],a=Ju(Ko)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=jA(l)}catch(te){throw te===Qe?Ee:te}else p=l;l=Kr();var T=l.queue,U=T.dispatch;return d!==l.memoizedState&&(Ls.flags|=2048,YA(9,{destroy:void 0},sd.bind(null,T,d),null)),[p,U,a]}function sd(a,l){a.action=l}function nd(a){var l=Kr(),d=ks;if(d!==null)return Zl(l,d,a);Kr(),l=l.memoizedState,d=Kr();var p=d.queue.dispatch;return d.memoizedState=a,[l,p,!1]}function YA(a,l,d,p){return a={tag:a,create:d,deps:p,inst:l,next:null},l=Ls.updateQueue,l===null&&(l=Au(),Ls.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function mf(){return Kr().memoizedState}function Sc(a,l,d,p){var T=za();Ls.flags|=a,T.memoizedState=YA(1|l,{destroy:void 0},d,p===void 0?null:p)}function Nc(a,l,d,p){var T=Kr();p=p===void 0?null:p;var U=T.memoizedState.inst;ks!==null&&p!==null&&Yu(p,ks.memoizedState.deps)?T.memoizedState=YA(l,U,d,p):(Ls.flags|=a,T.memoizedState=YA(1|l,U,d,p))}function Um(a,l){Sc(8390656,8,a,l)}function pf(a,l){Nc(2048,8,a,l)}function Kg(a){Ls.flags|=4;var l=Ls.updateQueue;if(l===null)l=Au(),Ls.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function Dm(a){var l=Kr().memoizedState;return Kg({ref:l,nextImpl:a}),function(){if((dr&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function gf(a,l){return Nc(4,2,a,l)}function zg(a,l){return Nc(4,4,a,l)}function Gg(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function $g(a,l,d){d=d!=null?d.concat([a]):null,Nc(4,4,Gg.bind(null,l,a),d)}function Rm(){}function hh(a,l){var d=Kr();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Yu(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function fh(a,l){var d=Kr();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Yu(l,p[1]))return p[0];if(p=a(),qi){ze(!0);try{a()}finally{ze(!1)}}return d.memoizedState=[p,l],p}function Lm(a,l,d){return d===void 0||(oa&1073741824)!==0&&(Pn&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=$a(),Ls.lanes|=a,B|=a,d)}function Qm(a,l,d,p){return Ln(d,l)?d:an.current!==null?(a=Lm(a,d,p),Ln(a,l)||(qr=!0),a):(oa&42)===0||(oa&1073741824)!==0&&(Pn&261930)===0?(qr=!0,a.memoizedState=d):(a=$a(),Ls.lanes|=a,B|=a,l)}function xf(a,l,d,p,T){var U=W.p;W.p=U!==0&&8>U?U:8;var te=re.T,ve={};re.T=ve,mh(a,!1,l,d);try{var Ue=T(),st=re.S;if(st!==null&&st(ve,Ue),Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var xt=ue(Ue,p);BA(a,l,xt,Ds(a))}else BA(a,l,p,Ds(a))}catch(St){BA(a,l,{then:function(){},status:"rejected",reason:St},Ds())}finally{W.p=U,te!==null&&ve.types!==null&&(te.types=ve.types),re.T=te}}function Yg(){}function vf(a,l,d,p){if(a.tag!==5)throw Error(n(476));var T=Om(a).queue;xf(a,T,l,J,d===null?Yg:function(){return Wg(a),d(p)})}function Om(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:J},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Wg(a){var l=Om(a);l.next===null&&(l=a.alternate.memoizedState),BA(a,l.next.queue,{},Ds())}function rd(){return fi(fp)}function Pm(){return Kr().memoizedState}function km(){return Kr().memoizedState}function $v(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Ds();a=Vs(d);var p=$s(l,a,d);p!==null&&(Pr(p,l,d),Ar(p,l,d)),l={cache:vc()},a.payload=l;return}l=l.return}}function Yv(a,l,d){var p=Ds();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},cu(a)?Xg(l,d):(d=Pu(a,l,d,p),d!==null&&(Pr(d,a,p),Jg(d,l,p)))}function Mm(a,l,d){var p=Ds();BA(a,l,d,p)}function BA(a,l,d,p){var T={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(cu(a))Xg(l,T);else{var U=a.alternate;if(a.lanes===0&&(U===null||U.lanes===0)&&(U=l.lastRenderedReducer,U!==null))try{var te=l.lastRenderedState,ve=U(te,d);if(T.hasEagerState=!0,T.eagerState=ve,Ln(ve,te))return VA(a,l,T,0),Or===null&&tu(),!1}catch{}finally{}if(d=Pu(a,l,T,p),d!==null)return Pr(d,a,p),Jg(d,l,p),!0}return!1}function mh(a,l,d,p){if(p={lane:2,revertLane:ny(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},cu(a)){if(l)throw Error(n(479))}else l=Pu(a,d,p,2),l!==null&&Pr(l,a,2)}function cu(a){var l=a.alternate;return a===Ls||l!==null&&l===Ls}function Xg(a,l){yo=Ao=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Jg(a,l,d){if((d&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,d|=p,l.lanes=d,Yr(a,d)}}var ph={readContext:fi,use:wc,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr};ph.useEffectEvent=vr;var qg={readContext:fi,use:wc,useCallback:function(a,l){return za().memoizedState=[a,l===void 0?null:l],a},useContext:fi,useEffect:Um,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Sc(4194308,4,Gg.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Sc(4194308,4,a,l)},useInsertionEffect:function(a,l){Sc(4,2,a,l)},useMemo:function(a,l){var d=za();l=l===void 0?null:l;var p=a();if(qi){ze(!0);try{a()}finally{ze(!1)}}return d.memoizedState=[p,l],p},useReducer:function(a,l,d){var p=za();if(d!==void 0){var T=d(l);if(qi){ze(!0);try{d(l)}finally{ze(!1)}}}else T=l;return p.memoizedState=p.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},p.queue=a,a=a.dispatch=Yv.bind(null,Ls,a),[p.memoizedState,a]},useRef:function(a){var l=za();return a={current:a},l.memoizedState=a},useState:function(a){a=Jl(a);var l=a.queue,d=Mm.bind(null,Ls,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Rm,useDeferredValue:function(a,l){var d=za();return Lm(d,a,l)},useTransition:function(){var a=Jl(!1);return a=xf.bind(null,Ls,a.queue,!0,!1),za().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var p=Ls,T=za();if(Dn){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Or===null)throw Error(n(349));(Pn&127)!==0||Xl(p,l,d)}T.memoizedState=d;var U={value:d,getSnapshot:l};return T.queue=U,Um(ch.bind(null,p,U,a),[a]),p.flags|=2048,YA(9,{destroy:void 0},Ah.bind(null,p,U,d,l),null),d},useId:function(){var a=za(),l=Or.identifierPrefix;if(Dn){var d=Xi,p=Ho;d=(p&~(1<<32-At(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Jr++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=bc++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:rd,useFormState:zo,useActionState:zo,useOptimistic:function(a){var l=za();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=mh.bind(null,Ls,!0,d),d.dispatch=l,[a,l]},useMemoCache:ti,useCacheRefresh:function(){return za().memoizedState=$v.bind(null,Ls)},useEffectEvent:function(a){var l=za(),d={impl:a};return l.memoizedState=d,function(){if((dr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},yf={readContext:fi,use:wc,useCallback:hh,useContext:fi,useEffect:pf,useImperativeHandle:$g,useInsertionEffect:gf,useLayoutEffect:zg,useMemo:fh,useReducer:Ju,useRef:mf,useState:function(){return Ju(Ko)},useDebugValue:Rm,useDeferredValue:function(a,l){var d=Kr();return Qm(d,ks.memoizedState,a,l)},useTransition:function(){var a=Ju(Ko)[0],l=Kr().memoizedState;return[typeof a=="boolean"?a:jA(a),l]},useSyncExternalStore:Zu,useId:Pm,useHostTransitionStatus:rd,useFormState:ql,useActionState:ql,useOptimistic:function(a,l){var d=Kr();return ff(d,ks,a,l)},useMemoCache:ti,useCacheRefresh:km};yf.useEffectEvent=Dm;var bf={readContext:fi,use:wc,useCallback:hh,useContext:fi,useEffect:pf,useImperativeHandle:$g,useInsertionEffect:gf,useLayoutEffect:zg,useMemo:fh,useReducer:qu,useRef:mf,useState:function(){return qu(Ko)},useDebugValue:Rm,useDeferredValue:function(a,l){var d=Kr();return ks===null?Lm(d,a,l):Qm(d,ks.memoizedState,a,l)},useTransition:function(){var a=qu(Ko)[0],l=Kr().memoizedState;return[typeof a=="boolean"?a:jA(a),l]},useSyncExternalStore:Zu,useId:Pm,useHostTransitionStatus:rd,useFormState:nd,useActionState:nd,useOptimistic:function(a,l){var d=Kr();return ks!==null?ff(d,ks,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:ti,useCacheRefresh:km};bf.useEffectEvent=Dm;function wf(a,l,d,p){l=a.memoizedState,d=d(p,l),d=d==null?l:m({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var jf={enqueueSetState:function(a,l,d){a=a._reactInternals;var p=Ds(),T=Vs(p);T.payload=l,d!=null&&(T.callback=d),l=$s(a,T,p),l!==null&&(Pr(l,a,p),Ar(l,a,p))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=Ds(),T=Vs(p);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=$s(a,T,p),l!==null&&(Pr(l,a,p),Ar(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Ds(),p=Vs(d);p.tag=2,l!=null&&(p.callback=l),l=$s(a,p,d),l!==null&&(Pr(l,a,d),Ar(l,a,d))}};function Bf(a,l,d,p,T,U,te){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,U,te):l.prototype&&l.prototype.isPureReactComponent?!Si(d,p)||!Si(T,U):!0}function Hm(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&jf.enqueueReplaceState(l,l.state,null)}function Ec(a,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(a=a.defaultProps){d===l&&(d=m({},d));for(var T in a)d[T]===void 0&&(d[T]=a[T])}return d}function Zg(a){mc(a)}function gh(a){console.error(a)}function xh(a){mc(a)}function vh(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Vm(a,l,d){try{var p=a.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Km(a,l,d){return d=Vs(d),d.tag=3,d.payload={element:null},d.callback=function(){vh(a,l)},d}function zm(a){return a=Vs(a),a.tag=3,a}function Gm(a,l,d,p){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var U=p.value;a.payload=function(){return T(U)},a.callback=function(){Vm(l,d,p)}}var te=d.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(a.callback=function(){Vm(l,d,p),typeof T!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var ve=p.stack;this.componentDidCatch(p.value,{componentStack:ve!==null?ve:""})})}function Wv(a,l,d,p,T){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&yA(l,d,T,!0),d=Xr.current,d!==null){switch(d.tag){case 31:case 13:return On===null?Ll():d.alternate===null&&C===0&&(C=3),d.flags&=-257,d.flags|=65536,d.lanes=T,p===ke?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),ey(a,p,T)),!1;case 22:return d.flags|=65536,p===ke?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),ey(a,p,T)),!1}throw Error(n(435,d.tag))}return ey(a,p,T),Ll(),!1}if(Dn)return l=Xr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,p!==lo&&(a=Error(n(422),{cause:p}),Wl(Po(a,d)))):(p!==lo&&(l=Error(n(423),{cause:p}),Wl(Po(l,d))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,p=Po(p,d),T=Km(a.stateNode,p,T),Ea(a,T),C!==4&&(C=2)),!1;var U=Error(n(520),{cause:p});if(U=Po(U,d),Ce===null?Ce=[U]:Ce.push(U),C!==4&&(C=2),l===null)return!0;p=Po(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=T&-T,d.lanes|=a,a=Km(d.stateNode,p,a),Ea(d,a),!1;case 1:if(l=d.type,U=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ts===null||!ts.has(U))))return d.flags|=65536,T&=-T,d.lanes|=T,T=zm(T),Gm(T,a,d,p),Ea(d,T),!1}d=d.return}while(d!==null);return!1}var $m=Error(n(461)),qr=!1;function Fi(a,l,d,p){l.child=a===null?An(l,null,d,p):Lr(l,a.child,d,p)}function Da(a,l,d,p,T){d=d.render;var U=l.ref;if("ref"in p){var te={};for(var ve in p)ve!=="ref"&&(te[ve]=p[ve])}else te=p;return bA(l),p=oh(a,l,d,te,U,T),ve=Wu(),a!==null&&!qr?(Xu(a,l,T),XA(a,l,T)):(Dn&&ve&&ah(l),l.flags|=1,Fi(a,l,p,T),l.child)}function Tc(a,l,d,p,T){if(a===null){var U=d.type;return typeof U=="function"&&!$l(U)&&U.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=U,uu(a,l,U,p,T)):(a=Yl(d.type,null,p,l,l.mode,T),a.ref=l.ref,a.return=l,l.child=a)}if(U=a.child,!tp(a,T)){var te=U.memoizedProps;if(d=d.compare,d=d!==null?d:Si,d(te,p)&&a.ref===l.ref)return XA(a,l,T)}return l.flags|=1,a=Oo(U,p),a.ref=l.ref,a.return=l,l.child=a}function uu(a,l,d,p,T){if(a!==null){var U=a.memoizedProps;if(Si(U,p)&&a.ref===l.ref)if(qr=!1,l.pendingProps=p=U,tp(a,T))(a.flags&131072)!==0&&(qr=!0);else return l.lanes=a.lanes,XA(a,l,T)}return bh(a,l,d,p,T)}function WA(a,l,d,p){var T=p.children,U=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(U=U!==null?U.baseLanes|d:d,a!==null){for(p=l.child=a.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;p=T&~U}else p=0,l.child=null;return ad(a,l,U,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&je(l,U!==null?U.cachePool:null),U!==null?Qr(l,U):er(),Fa(l);else return p=l.lanes=536870912,ad(a,l,U!==null?U.baseLanes|d:d,d,p)}else U!==null?(je(l,U.cachePool),Qr(l,U),Ua(),l.memoizedState=null):(a!==null&&je(l,null),er(),Ua());return Fi(a,l,T,d),l.child}function _l(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function ad(a,l,d,p,T){var U=be();return U=U===null?null:{parent:ga._currentValue,pool:U},l.memoizedState={baseLanes:d,cachePool:U},a!==null&&je(l,null),er(),Fa(l),a!==null&&yA(a,l,p,!0),l.childLanes=T,null}function Fl(a,l){return l=Cf({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function Ym(a,l,d){return Lr(l,a.child,null,d),a=Fl(l,l.pendingProps),a.flags|=2,xr(l),l.memoizedState=null,a}function e0(a,l,d){var p=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Dn){if(p.mode==="hidden")return a=Fl(l,p),l.lanes=536870912,_l(null,a);if(ur(l),(a=Rr)?(a=yj(a,ia),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:pA!==null?{id:Ho,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},d=Mu(a),d.return=l,l.child=d,di=l,Rr=null)):a=null,a===null)throw gA(l);return l.lanes=536870912,null}return Fl(l,p)}var U=a.memoizedState;if(U!==null){var te=U.dehydrated;if(ur(l),T)if(l.flags&256)l.flags&=-257,l=Ym(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(n(558));else if(qr||yA(a,l,d,!1),T=(d&a.childLanes)!==0,qr||T){if(p=Or,p!==null&&(te=pr(p,d),te!==0&&te!==U.retryLane))throw U.retryLane=te,Sl(a,te),Pr(p,a,te),$m;Ll(),l=Ym(a,l,d)}else a=U.treeContext,Rr=NA(te.nextSibling),di=l,Dn=!0,Ji=null,ia=!1,a!==null&&uf(l,a),l=Fl(l,p),l.flags|=4096;return l}return a=Oo(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function yh(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function bh(a,l,d,p,T){return bA(l),d=oh(a,l,d,p,void 0,T),p=Wu(),a!==null&&!qr?(Xu(a,l,T),XA(a,l,T)):(Dn&&p&&ah(l),l.flags|=1,Fi(a,l,d,T),l.child)}function id(a,l,d,p,T,U){return bA(l),l.updateQueue=null,d=fl(l,p,d,T),ou(a),p=Wu(),a!==null&&!qr?(Xu(a,l,U),XA(a,l,U)):(Dn&&p&&ah(l),l.flags|=1,Fi(a,l,d,U),l.child)}function Wm(a,l,d,p,T){if(bA(l),l.stateNode===null){var U=ui,te=d.contextType;typeof te=="object"&&te!==null&&(U=fi(te)),U=new d(p,U),l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=jf,l.stateNode=U,U._reactInternals=l,U=l.stateNode,U.props=p,U.state=l.memoizedState,U.refs={},Zt(l),te=d.contextType,U.context=typeof te=="object"&&te!==null?fi(te):ui,U.state=l.memoizedState,te=d.getDerivedStateFromProps,typeof te=="function"&&(wf(l,d,te,p),U.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(te=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),te!==U.state&&jf.enqueueReplaceState(U,U.state,null),Ta(l,p,U,T),cr(),U.state=l.memoizedState),typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){U=l.stateNode;var ve=l.memoizedProps,Ue=Ec(d,ve);U.props=Ue;var st=U.context,xt=d.contextType;te=ui,typeof xt=="object"&&xt!==null&&(te=fi(xt));var St=d.getDerivedStateFromProps;xt=typeof St=="function"||typeof U.getSnapshotBeforeUpdate=="function",ve=l.pendingProps!==ve,xt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ve||st!==te)&&Hm(l,U,p,te),it=!1;var rt=l.memoizedState;U.state=rt,Ta(l,p,U,T),cr(),st=l.memoizedState,ve||rt!==st||it?(typeof St=="function"&&(wf(l,d,St,p),st=l.memoizedState),(Ue=it||Bf(l,d,Ue,p,rt,st,te))?(xt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(l.flags|=4194308)):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=st),U.props=p,U.state=st,U.context=te,p=Ue):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{U=l.stateNode,Wr(a,l),te=l.memoizedProps,xt=Ec(d,te),U.props=xt,St=l.pendingProps,rt=U.context,st=d.contextType,Ue=ui,typeof st=="object"&&st!==null&&(Ue=fi(st)),ve=d.getDerivedStateFromProps,(st=typeof ve=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(te!==St||rt!==Ue)&&Hm(l,U,p,Ue),it=!1,rt=l.memoizedState,U.state=rt,Ta(l,p,U,T),cr();var ot=l.memoizedState;te!==St||rt!==ot||it||a!==null&&a.dependencies!==null&&zu(a.dependencies)?(typeof ve=="function"&&(wf(l,d,ve,p),ot=l.memoizedState),(xt=it||Bf(l,d,xt,p,rt,ot,Ue)||a!==null&&a.dependencies!==null&&zu(a.dependencies))?(st||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(p,ot,Ue),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(p,ot,Ue)),typeof U.componentDidUpdate=="function"&&(l.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof U.componentDidUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ot),U.props=p,U.state=ot,U.context=Ue,p=xt):(typeof U.componentDidUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||te===a.memoizedProps&&rt===a.memoizedState||(l.flags|=1024),p=!1)}return U=p,yh(a,l),p=(l.flags&128)!==0,U||p?(U=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:U.render(),l.flags|=1,a!==null&&p?(l.child=Lr(l,a.child,null,T),l.child=Lr(l,null,d,T)):Fi(a,l,d,T),l.memoizedState=U.state,a=l.child):a=XA(a,l,T),a}function Xm(a,l,d,p){return GA(),l.flags|=256,Fi(a,l,d,p),l.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jm(a){return{baseLanes:a,cachePool:Ie()}}function qm(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=fe),a}function t0(a,l,d){var p=l.pendingProps,T=!1,U=(l.flags&128)!==0,te;if((te=U)||(te=a!==null&&a.memoizedState===null?!1:(Vn.current&2)!==0),te&&(T=!0,l.flags&=-129),te=(l.flags&32)!==0,l.flags&=-33,a===null){if(Dn){if(T?va(l):Ua(),(a=Rr)?(a=yj(a,ia),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:pA!==null?{id:Ho,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},d=Mu(a),d.return=l,l.child=d,di=l,Rr=null)):a=null,a===null)throw gA(l);return py(a)?l.lanes=32:l.lanes=536870912,null}var ve=p.children;return p=p.fallback,T?(Ua(),T=l.mode,ve=Cf({mode:"hidden",children:ve},T),p=fA(p,T,d,null),ve.return=l,p.return=l,ve.sibling=p,l.child=ve,p=l.child,p.memoizedState=Jm(d),p.childLanes=qm(a,te,d),l.memoizedState=du,_l(null,p)):(va(l),Zm(l,ve))}var Ue=a.memoizedState;if(Ue!==null&&(ve=Ue.dehydrated,ve!==null)){if(U)l.flags&256?(va(l),l.flags&=-257,l=wh(a,l,d)):l.memoizedState!==null?(Ua(),l.child=a.child,l.flags|=128,l=null):(Ua(),ve=p.fallback,T=l.mode,p=Cf({mode:"visible",children:p.children},T),ve=fA(ve,T,d,null),ve.flags|=2,p.return=l,ve.return=l,p.sibling=ve,l.child=p,Lr(l,a.child,null,d),p=l.child,p.memoizedState=Jm(d),p.childLanes=qm(a,te,d),l.memoizedState=du,l=_l(null,p));else if(va(l),py(ve)){if(te=ve.nextSibling&&ve.nextSibling.dataset,te)var st=te.dgst;te=st,p=Error(n(419)),p.stack="",p.digest=te,Wl({value:p,source:null,stack:null}),l=wh(a,l,d)}else if(qr||yA(a,l,d,!1),te=(d&a.childLanes)!==0,qr||te){if(te=Or,te!==null&&(p=pr(te,d),p!==0&&p!==Ue.retryLane))throw Ue.retryLane=p,Sl(a,p),Pr(te,a,p),$m;my(ve)||Ll(),l=wh(a,l,d)}else my(ve)?(l.flags|=192,l.child=a.child,l=null):(a=Ue.treeContext,Rr=NA(ve.nextSibling),di=l,Dn=!0,Ji=null,ia=!1,a!==null&&uf(l,a),l=Zm(l,p.children),l.flags|=4096);return l}return T?(Ua(),ve=p.fallback,T=l.mode,Ue=a.child,st=Ue.sibling,p=Oo(Ue,{mode:"hidden",children:p.children}),p.subtreeFlags=Ue.subtreeFlags&65011712,st!==null?ve=Oo(st,ve):(ve=fA(ve,T,d,null),ve.flags|=2),ve.return=l,p.return=l,p.sibling=ve,l.child=p,_l(null,p),p=l.child,ve=a.child.memoizedState,ve===null?ve=Jm(d):(T=ve.cachePool,T!==null?(Ue=ga._currentValue,T=T.parent!==Ue?{parent:Ue,pool:Ue}:T):T=Ie(),ve={baseLanes:ve.baseLanes|d,cachePool:T}),p.memoizedState=ve,p.childLanes=qm(a,te,d),l.memoizedState=du,_l(a.child,p)):(va(l),d=a.child,a=d.sibling,d=Oo(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,a!==null&&(te=l.deletions,te===null?(l.deletions=[a],l.flags|=16):te.push(a)),l.child=d,l.memoizedState=null,d)}function Zm(a,l){return l=Cf({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Cf(a,l){return a=Ti(22,a,null,l),a.lanes=0,a}function wh(a,l,d){return Lr(l,a.child,null,d),a=Zm(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function s0(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),xc(a.return,l,d)}function ep(a,l,d,p,T,U){var te=a.memoizedState;te===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:T,treeForkCount:U}:(te.isBackwards=l,te.rendering=null,te.renderingStartTime=0,te.last=p,te.tail=d,te.tailMode=T,te.treeForkCount=U)}function n0(a,l,d){var p=l.pendingProps,T=p.revealOrder,U=p.tail;p=p.children;var te=Vn.current,ve=(te&2)!==0;if(ve?(te=te&1|2,l.flags|=128):te&=1,X(Vn,te),Fi(a,l,p,d),p=Dn?mA:0,!ve&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&s0(a,d,l);else if(a.tag===19)s0(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(T){case"forwards":for(d=l.child,T=null;d!==null;)a=d.alternate,a!==null&&_i(a)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),ep(l,!1,T,d,U,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(a=T.alternate,a!==null&&_i(a)===null){l.child=T;break}a=T.sibling,T.sibling=d,d=T,T=a}ep(l,!0,d,null,U,p);break;case"together":ep(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function XA(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),B|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(yA(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=Oo(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Oo(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function tp(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&zu(a)))}function sp(a,l,d){switch(l.tag){case 3:Ne(l,l.stateNode.containerInfo),vA(l,ga,a.memoizedState.cache),GA();break;case 27:case 5:Se(l);break;case 4:Ne(l,l.stateNode.containerInfo);break;case 10:vA(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,ur(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(va(l),l.flags|=128,null):(d&l.child.childLanes)!==0?t0(a,l,d):(va(l),a=XA(a,l,d),a!==null?a.sibling:null);va(l);break;case 19:var T=(a.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(yA(a,l,d,!1),p=(d&l.childLanes)!==0),T){if(p)return n0(a,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),X(Vn,Vn.current),p)break;return null;case 22:return l.lanes=0,WA(a,l,d,l.pendingProps);case 24:vA(l,ga,a.memoizedState.cache)}return XA(a,l,d)}function Sf(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)qr=!0;else{if(!tp(a,d)&&(l.flags&128)===0)return qr=!1,sp(a,l,d);qr=(a.flags&131072)!==0}else qr=!1,Dn&&(l.flags&1048576)!==0&&cf(l,mA,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=Xe(l.elementType),l.type=a,typeof a=="function")$l(a)?(p=Ec(a,p),l.tag=1,l=Wm(null,l,a,p,d)):(l.tag=0,l=bh(null,l,a,p,d));else{if(a!=null){var T=a.$$typeof;if(T===L){l.tag=11,l=Da(null,l,a,p,d);break e}else if(T===Q){l.tag=14,l=Tc(null,l,a,p,d);break e}}throw l=ae(a)||a,Error(n(306,l,""))}}return l;case 0:return bh(a,l,l.type,l.pendingProps,d);case 1:return p=l.type,T=Ec(p,l.pendingProps),Wm(a,l,p,T,d);case 3:e:{if(Ne(l,l.stateNode.containerInfo),a===null)throw Error(n(387));p=l.pendingProps;var U=l.memoizedState;T=U.element,Wr(a,l),Ta(l,p,null,d);var te=l.memoizedState;if(p=te.cache,vA(l,ga,p),p!==U.cache&&Tl(l,[ga],d,!0),cr(),p=te.element,U.isDehydrated)if(U={element:p,isDehydrated:!1,cache:te.cache},l.updateQueue.baseState=U,l.memoizedState=U,l.flags&256){l=Xm(a,l,p,d);break e}else if(p!==T){T=Po(Error(n(424)),l),Wl(T),l=Xm(a,l,p,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Rr=NA(a.firstChild),di=l,Dn=!0,Ji=null,ia=!0,d=An(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(GA(),p===T){l=XA(a,l,d);break e}Fi(a,l,p,d)}l=l.child}return l;case 26:return yh(a,l),a===null?(d=Sj(l.type,null,l.pendingProps,null))?l.memoizedState=d:Dn||(d=l.type,a=l.pendingProps,p=B0(ce.current).createElement(d),p[on]=l,p[fn]=a,Bo(p,d,a),_r(p),l.stateNode=p):l.memoizedState=Sj(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Se(l),a===null&&Dn&&(p=l.stateNode=jj(l.type,l.pendingProps,ce.current),di=l,ia=!0,T=Rr,ud(l.type)?(gy=T,Rr=NA(p.firstChild)):Rr=T),Fi(a,l,l.pendingProps.children,d),yh(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Dn&&((T=p=Rr)&&(p=O_(p,l.type,l.pendingProps,ia),p!==null?(l.stateNode=p,di=l,Rr=NA(p.firstChild),ia=!1,T=!0):T=!1),T||gA(l)),Se(l),T=l.type,U=l.pendingProps,te=a!==null?a.memoizedProps:null,p=U.children,dy(T,U)?p=null:te!==null&&dy(T,te)&&(l.flags|=32),l.memoizedState!==null&&(T=oh(a,l,lh,null,null,d),fp._currentValue=T),yh(a,l),Fi(a,l,p,d),l.child;case 6:return a===null&&Dn&&((a=d=Rr)&&(d=P_(d,l.pendingProps,ia),d!==null?(l.stateNode=d,di=l,Rr=null,a=!0):a=!1),a||gA(l)),null;case 13:return t0(a,l,d);case 4:return Ne(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Lr(l,null,p,d):Fi(a,l,p,d),l.child;case 11:return Da(a,l,l.type,l.pendingProps,d);case 7:return Fi(a,l,l.pendingProps,d),l.child;case 8:return Fi(a,l,l.pendingProps.children,d),l.child;case 12:return Fi(a,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,vA(l,l.type,p.value),Fi(a,l,p.children,d),l.child;case 9:return T=l.type._context,p=l.pendingProps.children,bA(l),T=fi(T),p=p(T),l.flags|=1,Fi(a,l,p,d),l.child;case 14:return Tc(a,l,l.type,l.pendingProps,d);case 15:return uu(a,l,l.type,l.pendingProps,d);case 19:return n0(a,l,d);case 31:return e0(a,l,d);case 22:return WA(a,l,d,l.pendingProps);case 24:return bA(l),p=fi(ga),a===null?(T=be(),T===null&&(T=Or,U=vc(),T.pooledCache=U,U.refCount++,U!==null&&(T.pooledCacheLanes|=d),T=U),l.memoizedState={parent:p,cache:T},Zt(l),vA(l,ga,T)):((a.lanes&d)!==0&&(Wr(a,l),Ta(l,null,null,d),cr()),T=a.memoizedState,U=l.memoizedState,T.parent!==p?(T={parent:p,cache:p},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),vA(l,ga,p)):(p=U.cache,vA(l,ga,p),p!==T.cache&&Tl(l,[ga],d,!0))),Fi(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function CA(a){a.flags|=4}function np(a,l,d,p,T){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(T&335544128)===T)if(a.stateNode.complete)a.flags|=8192;else if(qA())a.flags|=8192;else throw ct=ke,Ze}else a.flags&=-16777217}function r0(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_j(l))if(qA())a.flags|=8192;else throw ct=ke,Ze}function jh(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Os():536870912,a.lanes|=l,Be|=l)}function Bh(a,l){if(!Dn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Zr(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var T=a.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags&65011712,p|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags,p|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function Xv(a,l,d){var p=l.pendingProps;switch(Vu(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(l),null;case 1:return Zr(l),null;case 3:return d=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Vo(ga),ge(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(hi(l)?CA(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,au())),Zr(l),null;case 26:var T=l.type,U=l.memoizedState;return a===null?(CA(l),U!==null?(Zr(l),r0(l,U)):(Zr(l),np(l,T,null,p,d))):U?U!==a.memoizedState?(CA(l),Zr(l),r0(l,U)):(Zr(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&CA(l),Zr(l),np(l,T,a,p,d)),null;case 27:if(Fe(l),d=ce.current,T=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&CA(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Zr(l),null}a=ie.current,hi(l)?ih(l):(a=jj(T,p,d),l.stateNode=a,CA(l))}return Zr(l),null;case 5:if(Fe(l),T=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&CA(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Zr(l),null}if(U=ie.current,hi(l))ih(l);else{var te=B0(ce.current);switch(U){case 1:U=te.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:U=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":U=te.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":U=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":U=te.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof p.is=="string"?te.createElement("select",{is:p.is}):te.createElement("select"),p.multiple?U.multiple=!0:p.size&&(U.size=p.size);break;default:U=typeof p.is=="string"?te.createElement(T,{is:p.is}):te.createElement(T)}}U[on]=l,U[fn]=p;e:for(te=l.child;te!==null;){if(te.tag===5||te.tag===6)U.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===l)break e;for(;te.sibling===null;){if(te.return===null||te.return===l)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}l.stateNode=U;e:switch(Bo(U,T,p),T){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&CA(l)}}return Zr(l),np(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&CA(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(a=ce.current,hi(l)){if(a=l.stateNode,d=l.memoizedProps,p=null,T=di,T!==null)switch(T.tag){case 27:case 5:p=T.memoizedProps}a[on]=l,a=!!(a.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||dj(a.nodeValue,d)),a||gA(l,!0)}else a=B0(a).createTextNode(p),a[on]=l,l.stateNode=a}return Zr(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(p=hi(l),d!==null){if(a===null){if(!p)throw Error(n(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[on]=l}else GA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zr(l),a=!1}else d=au(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(xr(l),l):(xr(l),null);if((l.flags&128)!==0)throw Error(n(558))}return Zr(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=hi(l),p!==null&&p.dehydrated!==null){if(a===null){if(!T)throw Error(n(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[on]=l}else GA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zr(l),T=!1}else T=au(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(xr(l),l):(xr(l),null)}return xr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,a=a!==null&&a.memoizedState!==null,d&&(p=l.child,T=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(T=p.alternate.memoizedState.cachePool.pool),U=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(U=p.memoizedState.cachePool.pool),U!==T&&(p.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),jh(l,l.updateQueue),Zr(l),null);case 4:return ge(),a===null&&oy(l.stateNode.containerInfo),Zr(l),null;case 10:return Vo(l.type),Zr(l),null;case 19:if(M(Vn),p=l.memoizedState,p===null)return Zr(l),null;if(T=(l.flags&128)!==0,U=p.rendering,U===null)if(T)Bh(p,!1);else{if(C!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(U=_i(a),U!==null){for(l.flags|=128,Bh(p,!1),a=U.updateQueue,l.updateQueue=a,jh(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)nu(d,a),d=d.sibling;return X(Vn,Vn.current&1|2),Dn&&vo(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&ss()>ds&&(l.flags|=128,T=!0,Bh(p,!1),l.lanes=4194304)}else{if(!T)if(a=_i(U),a!==null){if(l.flags|=128,T=!0,a=a.updateQueue,l.updateQueue=a,jh(l,a),Bh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!U.alternate&&!Dn)return Zr(l),null}else 2*ss()-p.renderingStartTime>ds&&d!==536870912&&(l.flags|=128,T=!0,Bh(p,!1),l.lanes=4194304);p.isBackwards?(U.sibling=l.child,l.child=U):(a=p.last,a!==null?a.sibling=U:l.child=U,p.last=U)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=ss(),a.sibling=null,d=Vn.current,X(Vn,T?d&1|2:d&1),Dn&&vo(l,p.treeForkCount),a):(Zr(l),null);case 22:case 23:return xr(l),_a(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(Zr(l),l.subtreeFlags&6&&(l.flags|=8192)):Zr(l),d=l.updateQueue,d!==null&&jh(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),a!==null&&M(pe),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Vo(ga),Zr(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function Jv(a,l){switch(Vu(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Vo(ga),ge(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Fe(l),null;case 31:if(l.memoizedState!==null){if(xr(l),l.alternate===null)throw Error(n(340));GA()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(xr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));GA()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return M(Vn),null;case 4:return ge(),null;case 10:return Vo(l.type),null;case 22:case 23:return xr(l),_a(),a!==null&&M(pe),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Vo(ga),null;case 25:return null;default:return null}}function a0(a,l){switch(Vu(l),l.tag){case 3:Vo(ga),ge();break;case 26:case 27:case 5:Fe(l);break;case 4:ge();break;case 31:l.memoizedState!==null&&xr(l);break;case 13:xr(l);break;case 19:M(Vn);break;case 10:Vo(l.type);break;case 22:case 23:xr(l),_a(),a!==null&&M(pe);break;case 24:Vo(ga)}}function hu(a,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var T=p.next;d=T;do{if((d.tag&a)===a){p=void 0;var U=d.create,te=d.inst;p=U(),te.destroy=p}d=d.next}while(d!==T)}}catch(ve){kr(l,l.return,ve)}}function Ic(a,l,d){try{var p=l.updateQueue,T=p!==null?p.lastEffect:null;if(T!==null){var U=T.next;p=U;do{if((p.tag&a)===a){var te=p.inst,ve=te.destroy;if(ve!==void 0){te.destroy=void 0,T=l;var Ue=d,st=ve;try{st()}catch(xt){kr(T,Ue,xt)}}}p=p.next}while(p!==U)}}catch(xt){kr(l,l.return,xt)}}function Nf(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Ia(l,d)}catch(p){kr(a,a.return,p)}}}function i0(a,l,d){d.props=Ec(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(p){kr(a,l,p)}}function as(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof d=="function"?a.refCleanup=d(p):d.current=p}}catch(T){kr(a,l,T)}}function bo(a,l){var d=a.ref,p=a.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(T){kr(a,l,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){kr(a,l,T)}else d.current=null}function Ch(a){var l=a.type,d=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(T){kr(a,a.return,T)}}function Go(a,l,d){try{var p=a.stateNode;F_(p,a.type,d,l),p[fn]=l}catch(T){kr(a,a.return,T)}}function o0(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ud(a.type)||a.tag===4}function nr(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||o0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ud(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function zr(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=oi));else if(p!==4&&(p===27&&ud(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(zr(a,l,d),a=a.sibling;a!==null;)zr(a,l,d),a=a.sibling}function fu(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(p!==4&&(p===27&&ud(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(fu(a,l,d),a=a.sibling;a!==null;)fu(a,l,d),a=a.sibling}function l0(a){var l=a.stateNode,d=a.memoizedProps;try{for(var p=a.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);Bo(l,p,d),l[on]=a,l[fn]=d}catch(U){kr(a,a.return,U)}}var Ul=!1,si=!1,od=!1,A0=typeof WeakSet=="function"?WeakSet:Set,Ui=null;function c0(a,l){if(a=a.containerInfo,cy=_0,a=jl(a),Bl(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var T=p.anchorOffset,U=p.focusNode;p=p.focusOffset;try{d.nodeType,U.nodeType}catch{d=null;break e}var te=0,ve=-1,Ue=-1,st=0,xt=0,St=a,rt=null;t:for(;;){for(var ot;St!==d||T!==0&&St.nodeType!==3||(ve=te+T),St!==U||p!==0&&St.nodeType!==3||(Ue=te+p),St.nodeType===3&&(te+=St.nodeValue.length),(ot=St.firstChild)!==null;)rt=St,St=ot;for(;;){if(St===a)break t;if(rt===d&&++st===T&&(ve=te),rt===U&&++xt===p&&(Ue=te),(ot=St.nextSibling)!==null)break;St=rt,rt=St.parentNode}St=ot}d=ve===-1||Ue===-1?null:{start:ve,end:Ue}}else d=null}d=d||{start:0,end:0}}else d=null;for(uy={focusedElem:a,selectionRange:d},_0=!1,Ui=l;Ui!==null;)if(l=Ui,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ui=a;else for(;Ui!==null;){switch(l=Ui,U=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)T=a[d],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&U!==null){a=void 0,d=l,T=U.memoizedProps,U=U.memoizedState,p=d.stateNode;try{var Ss=Ec(d.type,T);a=p.getSnapshotBeforeUpdate(Ss,U),p.__reactInternalSnapshotBeforeUpdate=a}catch(Js){kr(d,d.return,Js)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)fy(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":fy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,Ui=a;break}Ui=l.return}}function u0(a,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Dl(a,d),p&4&&hu(5,d);break;case 1:if(Dl(a,d),p&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(te){kr(d,d.return,te)}else{var T=Ec(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(T,l,a.__reactInternalSnapshotBeforeUpdate)}catch(te){kr(d,d.return,te)}}p&64&&Nf(d),p&512&&as(d,d.return);break;case 3:if(Dl(a,d),p&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Ia(a,l)}catch(te){kr(d,d.return,te)}}break;case 27:l===null&&p&4&&l0(d);case 26:case 5:Dl(a,d),l===null&&p&4&&Ch(d),p&512&&as(d,d.return);break;case 12:Dl(a,d);break;case 31:Dl(a,d),p&4&&ap(a,d);break;case 13:Dl(a,d),p&4&&d0(a,d),p&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=y_.bind(null,d),k_(a,d))));break;case 22:if(p=d.memoizedState!==null||Ul,!p){l=l!==null&&l.memoizedState!==null||si,T=Ul;var U=si;Ul=p,(si=l)&&!U?JA(a,d,(d.subtreeFlags&8772)!==0):Dl(a,d),Ul=T,si=U}break;case 30:break;default:Dl(a,d)}}function rp(a){var l=a.alternate;l!==null&&(a.alternate=null,rp(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&vi(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var la=null,wo=!1;function SA(a,l,d){for(d=d.child;d!==null;)Ef(a,l,d),d=d.sibling}function Ef(a,l,d){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Me,d)}catch{}switch(d.tag){case 26:si||bo(d,l),SA(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:si||bo(d,l);var p=la,T=wo;ud(d.type)&&(la=d.stateNode,wo=!1),SA(a,l,d),up(d.stateNode),la=p,wo=T;break;case 5:si||bo(d,l);case 6:if(p=la,T=wo,la=null,SA(a,l,d),la=p,wo=T,la!==null)if(wo)try{(la.nodeType===9?la.body:la.nodeName==="HTML"?la.ownerDocument.body:la).removeChild(d.stateNode)}catch(U){kr(d,l,U)}else try{la.removeChild(d.stateNode)}catch(U){kr(d,l,U)}break;case 18:la!==null&&(wo?(a=la,xj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Lf(a)):xj(la,d.stateNode));break;case 4:p=la,T=wo,la=d.stateNode.containerInfo,wo=!0,SA(a,l,d),la=p,wo=T;break;case 0:case 11:case 14:case 15:Ic(2,d,l),si||Ic(4,d,l),SA(a,l,d);break;case 1:si||(bo(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&i0(d,l,p)),SA(a,l,d);break;case 21:SA(a,l,d);break;case 22:si=(p=si)||d.memoizedState!==null,SA(a,l,d),si=p;break;default:SA(a,l,d)}}function ap(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Lf(a)}catch(d){kr(l,l.return,d)}}}function d0(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Lf(a)}catch(d){kr(l,l.return,d)}}function h0(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new A0),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new A0),l;default:throw Error(n(435,a.tag))}}function Tf(a,l){var d=h0(a);l.forEach(function(p){if(!d.has(p)){d.add(p);var T=b_.bind(null,a,p);p.then(T,T)}})}function $o(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var T=d[p],U=a,te=l,ve=te;e:for(;ve!==null;){switch(ve.tag){case 27:if(ud(ve.type)){la=ve.stateNode,wo=!1;break e}break;case 5:la=ve.stateNode,wo=!1;break e;case 3:case 4:la=ve.stateNode.containerInfo,wo=!0;break e}ve=ve.return}if(la===null)throw Error(n(160));Ef(U,te,T),la=null,wo=!1,U=T.alternate,U!==null&&(U.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Sh(l,a),l=l.sibling}var eA=null;function Sh(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$o(l,a),ea(a),p&4&&(Ic(3,a,a.return),hu(3,a),Ic(5,a,a.return));break;case 1:$o(l,a),ea(a),p&512&&(si||d===null||bo(d,d.return)),p&64&&Ul&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var T=eA;if($o(l,a),ea(a),p&512&&(si||d===null||bo(d,d.return)),p&4){var U=d!==null?d.memoizedState:null;if(p=a.memoizedState,d===null)if(p===null)if(a.stateNode===null){e:{p=a.type,d=a.memoizedProps,T=T.ownerDocument||T;t:switch(p){case"title":U=T.getElementsByTagName("title")[0],(!U||U[Ir]||U[on]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=T.createElement(p),T.head.insertBefore(U,T.querySelector("head > title"))),Bo(U,p,d),U[on]=a,_r(U),p=U;break e;case"link":var te=Tj("link","href",T).get(p+(d.href||""));if(te){for(var ve=0;ve<te.length;ve++)if(U=te[ve],U.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&U.getAttribute("rel")===(d.rel==null?null:d.rel)&&U.getAttribute("title")===(d.title==null?null:d.title)&&U.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){te.splice(ve,1);break t}}U=T.createElement(p),Bo(U,p,d),T.head.appendChild(U);break;case"meta":if(te=Tj("meta","content",T).get(p+(d.content||""))){for(ve=0;ve<te.length;ve++)if(U=te[ve],U.getAttribute("content")===(d.content==null?null:""+d.content)&&U.getAttribute("name")===(d.name==null?null:d.name)&&U.getAttribute("property")===(d.property==null?null:d.property)&&U.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&U.getAttribute("charset")===(d.charSet==null?null:d.charSet)){te.splice(ve,1);break t}}U=T.createElement(p),Bo(U,p,d),T.head.appendChild(U);break;default:throw Error(n(468,p))}U[on]=a,_r(U),p=U}a.stateNode=p}else Ij(T,a.type,a.stateNode);else a.stateNode=Ej(T,p,a.memoizedProps);else U!==p?(U===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):U.count--,p===null?Ij(T,a.type,a.stateNode):Ej(T,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Go(a,a.memoizedProps,d.memoizedProps)}break;case 27:$o(l,a),ea(a),p&512&&(si||d===null||bo(d,d.return)),d!==null&&p&4&&Go(a,a.memoizedProps,d.memoizedProps);break;case 5:if($o(l,a),ea(a),p&512&&(si||d===null||bo(d,d.return)),a.flags&32){T=a.stateNode;try{Cr(T,"")}catch(Ss){kr(a,a.return,Ss)}}p&4&&a.stateNode!=null&&(T=a.memoizedProps,Go(a,T,d!==null?d.memoizedProps:T)),p&1024&&(od=!0);break;case 6:if($o(l,a),ea(a),p&4){if(a.stateNode===null)throw Error(n(162));p=a.memoizedProps,d=a.stateNode;try{d.nodeValue=p}catch(Ss){kr(a,a.return,Ss)}}break;case 3:if(N0=null,T=eA,eA=C0(l.containerInfo),$o(l,a),eA=T,ea(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Lf(l.containerInfo)}catch(Ss){kr(a,a.return,Ss)}od&&(od=!1,ip(a));break;case 4:p=eA,eA=C0(a.stateNode.containerInfo),$o(l,a),ea(a),eA=p;break;case 12:$o(l,a),ea(a);break;case 31:$o(l,a),ea(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Tf(a,p)));break;case 13:$o(l,a),ea(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(We=ss()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Tf(a,p)));break;case 22:T=a.memoizedState!==null;var Ue=d!==null&&d.memoizedState!==null,st=Ul,xt=si;if(Ul=st||T,si=xt||Ue,$o(l,a),si=xt,Ul=st,ea(a),p&8192)e:for(l=a.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||Ue||Ul||si||mu(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){Ue=d=l;try{if(U=Ue.stateNode,T)te=U.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{ve=Ue.stateNode;var St=Ue.memoizedProps.style,rt=St!=null&&St.hasOwnProperty("display")?St.display:null;ve.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(Ss){kr(Ue,Ue.return,Ss)}}}else if(l.tag===6){if(d===null){Ue=l;try{Ue.stateNode.nodeValue=T?"":Ue.memoizedProps}catch(Ss){kr(Ue,Ue.return,Ss)}}}else if(l.tag===18){if(d===null){Ue=l;try{var ot=Ue.stateNode;T?vj(ot,!0):vj(Ue.stateNode,!1)}catch(Ss){kr(Ue,Ue.return,Ss)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Tf(a,d))));break;case 19:$o(l,a),ea(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Tf(a,p)));break;case 30:break;case 21:break;default:$o(l,a),ea(a)}}function ea(a){var l=a.flags;if(l&2){try{for(var d,p=a.return;p!==null;){if(o0(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var T=d.stateNode,U=nr(a);fu(a,U,T);break;case 5:var te=d.stateNode;d.flags&32&&(Cr(te,""),d.flags&=-33);var ve=nr(a);fu(a,ve,te);break;case 3:case 4:var Ue=d.stateNode.containerInfo,st=nr(a);zr(a,st,Ue);break;default:throw Error(n(161))}}catch(xt){kr(a,a.return,xt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function ip(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;ip(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Dl(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)u0(a,l.alternate,l),l=l.sibling}function mu(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ic(4,l,l.return),mu(l);break;case 1:bo(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&i0(l,l.return,d),mu(l);break;case 27:up(l.stateNode);case 26:case 5:bo(l,l.return),mu(l);break;case 22:l.memoizedState===null&&mu(l);break;case 30:mu(l);break;default:mu(l)}a=a.sibling}}function JA(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,T=a,U=l,te=U.flags;switch(U.tag){case 0:case 11:case 15:JA(T,U,d),hu(4,U);break;case 1:if(JA(T,U,d),p=U,T=p.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(st){kr(p,p.return,st)}if(p=U,T=p.updateQueue,T!==null){var ve=p.stateNode;try{var Ue=T.shared.hiddenCallbacks;if(Ue!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Ue.length;T++)Ii(Ue[T],ve)}catch(st){kr(p,p.return,st)}}d&&te&64&&Nf(U),as(U,U.return);break;case 27:l0(U);case 26:case 5:JA(T,U,d),d&&p===null&&te&4&&Ch(U),as(U,U.return);break;case 12:JA(T,U,d);break;case 31:JA(T,U,d),d&&te&4&&ap(T,U);break;case 13:JA(T,U,d),d&&te&4&&d0(T,U);break;case 22:U.memoizedState===null&&JA(T,U,d),as(U,U.return);break;case 30:break;default:JA(T,U,d)}l=l.sibling}}function Nh(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&iu(d))}function _c(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&iu(a))}function Yo(a,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)f0(a,l,d,p),l=l.sibling}function f0(a,l,d,p){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Yo(a,l,d,p),T&2048&&hu(9,l);break;case 1:Yo(a,l,d,p);break;case 3:Yo(a,l,d,p),T&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&iu(a)));break;case 12:if(T&2048){Yo(a,l,d,p),a=l.stateNode;try{var U=l.memoizedProps,te=U.id,ve=U.onPostCommit;typeof ve=="function"&&ve(te,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Ue){kr(l,l.return,Ue)}}else Yo(a,l,d,p);break;case 31:Yo(a,l,d,p);break;case 13:Yo(a,l,d,p);break;case 23:break;case 22:U=l.stateNode,te=l.alternate,l.memoizedState!==null?U._visibility&2?Yo(a,l,d,p):Eh(a,l):U._visibility&2?Yo(a,l,d,p):(U._visibility|=2,tA(a,l,d,p,(l.subtreeFlags&10256)!==0||!1)),T&2048&&Nh(te,l);break;case 24:Yo(a,l,d,p),T&2048&&_c(l.alternate,l);break;default:Yo(a,l,d,p)}}function tA(a,l,d,p,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var U=a,te=l,ve=d,Ue=p,st=te.flags;switch(te.tag){case 0:case 11:case 15:tA(U,te,ve,Ue,T),hu(8,te);break;case 23:break;case 22:var xt=te.stateNode;te.memoizedState!==null?xt._visibility&2?tA(U,te,ve,Ue,T):Eh(U,te):(xt._visibility|=2,tA(U,te,ve,Ue,T)),T&&st&2048&&Nh(te.alternate,te);break;case 24:tA(U,te,ve,Ue,T),T&&st&2048&&_c(te.alternate,te);break;default:tA(U,te,ve,Ue,T)}l=l.sibling}}function Eh(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,p=l,T=p.flags;switch(p.tag){case 22:Eh(d,p),T&2048&&Nh(p.alternate,p);break;case 24:Eh(d,p),T&2048&&_c(p.alternate,p);break;default:Eh(d,p)}l=l.sibling}}var Th=8192;function pu(a,l,d){if(a.subtreeFlags&Th)for(a=a.child;a!==null;)m0(a,l,d),a=a.sibling}function m0(a,l,d){switch(a.tag){case 26:pu(a,l,d),a.flags&Th&&a.memoizedState!==null&&q_(d,eA,a.memoizedState,a.memoizedProps);break;case 5:pu(a,l,d);break;case 3:case 4:var p=eA;eA=C0(a.stateNode.containerInfo),pu(a,l,d),eA=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Th,Th=16777216,pu(a,l,d),Th=p):pu(a,l,d));break;default:pu(a,l,d)}}function op(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ih(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Ui=p,g0(p,a)}op(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)p0(a),a=a.sibling}function p0(a){switch(a.tag){case 0:case 11:case 15:Ih(a),a.flags&2048&&Ic(9,a,a.return);break;case 3:Ih(a);break;case 12:Ih(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,If(a)):Ih(a);break;default:Ih(a)}}function If(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Ui=p,g0(p,a)}op(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ic(8,l,l.return),If(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,If(l));break;default:If(l)}a=a.sibling}}function g0(a,l){for(;Ui!==null;){var d=Ui;switch(d.tag){case 0:case 11:case 15:Ic(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:iu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Ui=p;else e:for(d=a;Ui!==null;){p=Ui;var T=p.sibling,U=p.return;if(rp(p),p===d){Ui=null;break e}if(T!==null){T.return=U,Ui=T;break e}Ui=U}}}var qv={getCacheForType:function(a){var l=fi(ga),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return fi(ga).controller.signal}},Zv=typeof WeakMap=="function"?WeakMap:Map,dr=0,Or=null,Rn=null,Pn=0,yr=0,ml=null,Fc=!1,ld=!1,j=!1,v=0,C=0,B=0,G=0,se=0,fe=0,Be=0,Ce=null,Re=null,Ve=!1,We=0,ft=0,ds=1/0,zt=null,ts=null,_s=0,ys=null,gs=null,Sn=0,vn=0,Xs=null,fs=null,Fn=0,kn=null;function Ds(){return(dr&2)!==0&&Pn!==0?Pn&-Pn:re.T!==null?ny():jr()}function $a(){if(fe===0)if((Pn&536870912)===0||Dn){var a=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),fe=a}else fe=536870912;return a=Xr.current,a!==null&&(a.flags|=32),fe}function Pr(a,l,d){(a===Or&&(yr===2||yr===9)||a.cancelPendingCommit!==null)&&(Rl(a,0),jo(a,Pn,fe,!1)),es(a,d),((dr&2)===0||a!==Or)&&(a===Or&&((dr&2)===0&&(G|=d),C===4&&jo(a,Pn,fe,!1)),Rc(a))}function Wo(a,l,d){if((dr&6)!==0)throw Error(n(327));var p=!d&&(l&127)===0&&(l&a.expiredLanes)===0||qt(a,l),T=p?Ad(a,l):ZA(a,l,!0),U=p;do{if(T===0){ld&&!p&&jo(a,l,0,!1);break}else{if(d=a.current.alternate,U&&!Zi(d)){T=ZA(a,l,!1),U=!1;continue}if(T===2){if(U=l,a.errorRecoveryDisabledLanes&U)var te=0;else te=a.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){l=te;e:{var ve=a;T=Ce;var Ue=ve.current.memoizedState.isDehydrated;if(Ue&&(Rl(ve,te).flags|=256),te=ZA(ve,te,!1),te!==2){if(j&&!Ue){ve.errorRecoveryDisabledLanes|=U,G|=U,T=4;break e}U=Re,Re=T,U!==null&&(Re===null?Re=U:Re.push.apply(Re,U))}T=te}if(U=!1,T!==2)continue}}if(T===1){Rl(a,0),jo(a,l,0,!0);break}e:{switch(p=a,U=T,U){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:jo(p,l,fe,!Fc);break e;case 2:Re=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(T=We+300-ss(),10<T)){if(jo(p,l,fe,!Fc),Pt(p,0,!0)!==0)break e;Sn=l,p.timeoutHandle=pj(br.bind(null,p,d,Re,zt,Ve,l,fe,G,Be,Fc,U,"Throttled",-0,0),T);break e}br(p,d,Re,zt,Ve,l,fe,G,Be,Fc,U,null,-0,0)}}break}while(!0);Rc(a)}function br(a,l,d,p,T,U,te,ve,Ue,st,xt,St,rt,ot){if(a.timeoutHandle=-1,St=l.subtreeFlags,St&8192||(St&16785408)===16785408){St={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},m0(l,U,St);var Ss=(U&62914560)===U?We-ss():(U&4194048)===U?ft-ss():0;if(Ss=Z_(St,Ss),Ss!==null){Sn=U,a.cancelPendingCommit=Ss(Y2.bind(null,a,l,U,d,p,T,te,ve,Ue,xt,St,null,rt,ot)),jo(a,U,te,!st);return}}Y2(a,l,U,d,p,T,te,ve,Ue)}function Zi(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var T=d[p],U=T.getSnapshot;T=T.value;try{if(!Ln(U(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function jo(a,l,d,p){l&=~se,l&=~G,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var T=l;0<T;){var U=31-At(T),te=1<<U;p[U]=-1,T&=~te}d!==0&&en(a,d,l)}function eo(){return(dr&6)===0?(lp(0),!1):!0}function co(){if(Rn!==null){if(yr===0)var a=Rn.return;else a=Rn,El=xA=null,lu(a),Bt=null,Cs=0,a=Rn;for(;a!==null;)a0(a.alternate,a),a=a.return;Rn=null}}function Rl(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,R_(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Sn=0,co(),Or=a,Rn=d=Oo(a.current,null),Pn=l,yr=0,ml=null,Fc=!1,ld=qt(a,l),j=!1,Be=fe=se=G=B=C=0,Re=Ce=null,Ve=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var T=31-At(p),U=1<<T;l|=a[T],p&=~U}return v=l,tu(),d}function sA(a,l){Ls=null,re.H=ph,l===Qe||l===Ee?(l=vt(),yr=3):l===Ze?(l=vt(),yr=4):yr=l===$m?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ml=l,Rn===null&&(C=1,vh(a,Po(l,a.current)))}function qA(){var a=Xr.current;return a===null?!0:(Pn&4194048)===Pn?On===null:(Pn&62914560)===Pn||(Pn&536870912)!==0?a===On:!1}function Uc(){var a=re.H;return re.H=ph,a===null?ph:a}function Dc(){var a=re.A;return re.A=qv,a}function Ll(){C=4,Fc||(Pn&4194048)!==Pn&&Xr.current!==null||(ld=!0),(B&134217727)===0&&(G&134217727)===0||Or===null||jo(Or,Pn,fe,!1)}function ZA(a,l,d){var p=dr;dr|=2;var T=Uc(),U=Dc();(Or!==a||Pn!==l)&&(zt=null,Rl(a,l)),l=!1;var te=C;e:do try{if(yr!==0&&Rn!==null){var ve=Rn,Ue=ml;switch(yr){case 8:co(),te=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(l=!0);var st=yr;if(yr=0,ml=null,_f(a,ve,Ue,st),d&&ld){te=0;break e}break;default:st=yr,yr=0,ml=null,_f(a,ve,Ue,st)}}ec(),te=C;break}catch(xt){sA(a,xt)}while(!0);return l&&a.shellSuspendCounter++,El=xA=null,dr=p,re.H=T,re.A=U,Rn===null&&(Or=null,Pn=0,tu()),te}function ec(){for(;Rn!==null;)z2(Rn)}function Ad(a,l){var d=dr;dr|=2;var p=Uc(),T=Dc();Or!==a||Pn!==l?(zt=null,ds=ss()+500,Rl(a,l)):ld=qt(a,l);e:do try{if(yr!==0&&Rn!==null){l=Rn;var U=ml;t:switch(yr){case 1:yr=0,ml=null,_f(a,l,U,1);break;case 2:case 9:if(He(U)){yr=0,ml=null,G2(l);break}l=function(){yr!==2&&yr!==9||Or!==a||(yr=7),Rc(a)},U.then(l,l);break e;case 3:yr=7;break e;case 4:yr=5;break e;case 7:He(U)?(yr=0,ml=null,G2(l)):(yr=0,ml=null,_f(a,l,U,7));break;case 5:var te=null;switch(Rn.tag){case 26:te=Rn.memoizedState;case 5:case 27:var ve=Rn;if(te?_j(te):ve.stateNode.complete){yr=0,ml=null;var Ue=ve.sibling;if(Ue!==null)Rn=Ue;else{var st=ve.return;st!==null?(Rn=st,x0(st)):Rn=null}break t}}yr=0,ml=null,_f(a,l,U,5);break;case 6:yr=0,ml=null,_f(a,l,U,6);break;case 8:co(),C=6;break e;default:throw Error(n(462))}}_h();break}catch(xt){sA(a,xt)}while(!0);return El=xA=null,re.H=p,re.A=T,dr=d,Rn!==null?0:(Or=null,Pn=0,tu(),C)}function _h(){for(;Rn!==null&&!Wt();)z2(Rn)}function z2(a){var l=Sf(a.alternate,a,v);a.memoizedProps=a.pendingProps,l===null?x0(a):Rn=l}function G2(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=id(d,l,l.pendingProps,l.type,void 0,Pn);break;case 11:l=id(d,l,l.pendingProps,l.type.render,l.ref,Pn);break;case 5:lu(l);default:a0(d,l),l=Rn=nu(l,v),l=Sf(d,l,v)}a.memoizedProps=a.pendingProps,l===null?x0(a):Rn=l}function _f(a,l,d,p){El=xA=null,lu(l),Bt=null,Cs=0;var T=l.return;try{if(Wv(a,T,l,d,Pn)){C=1,vh(a,Po(d,a.current)),Rn=null;return}}catch(U){if(T!==null)throw Rn=T,U;C=1,vh(a,Po(d,a.current)),Rn=null;return}l.flags&32768?(Dn||p===1?a=!0:ld||(Pn&536870912)!==0?a=!1:(Fc=a=!0,(p===2||p===9||p===3||p===6)&&(p=Xr.current,p!==null&&p.tag===13&&(p.flags|=16384))),$2(l,a)):x0(l)}function x0(a){var l=a;do{if((l.flags&32768)!==0){$2(l,Fc);return}a=l.return;var d=Xv(l.alternate,l,v);if(d!==null){Rn=d;return}if(l=l.sibling,l!==null){Rn=l;return}Rn=l=a}while(l!==null);C===0&&(C=5)}function $2(a,l){do{var d=Jv(a.alternate,a);if(d!==null){d.flags&=32767,Rn=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Rn=a;return}Rn=a=d}while(a!==null);C=6,Rn=null}function Y2(a,l,d,p,T,U,te,ve,Ue){a.cancelPendingCommit=null;do v0();while(_s!==0);if((dr&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(U=l.lanes|l.childLanes,U|=Ou,ca(a,d,U,te,ve,Ue),a===Or&&(Rn=Or=null,Pn=0),gs=l,ys=a,Sn=d,vn=U,Xs=T,fs=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,w_(Vt,function(){return Z2(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=re.T,re.T=null,T=W.p,W.p=2,te=dr,dr|=4;try{c0(a,l,d)}finally{dr=te,W.p=T,re.T=p}}_s=1,W2(),X2(),J2()}}function W2(){if(_s===1){_s=0;var a=ys,l=gs,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=re.T,re.T=null;var p=W.p;W.p=2;var T=dr;dr|=4;try{Sh(l,a);var U=uy,te=jl(a.containerInfo),ve=U.focusedElem,Ue=U.selectionRange;if(te!==ve&&ve&&ve.ownerDocument&&cl(ve.ownerDocument.documentElement,ve)){if(Ue!==null&&Bl(ve)){var st=Ue.start,xt=Ue.end;if(xt===void 0&&(xt=st),"selectionStart"in ve)ve.selectionStart=st,ve.selectionEnd=Math.min(xt,ve.value.length);else{var St=ve.ownerDocument||document,rt=St&&St.defaultView||window;if(rt.getSelection){var ot=rt.getSelection(),Ss=ve.textContent.length,Js=Math.min(Ue.start,Ss),$r=Ue.end===void 0?Js:Math.min(Ue.end,Ss);!ot.extend&&Js>$r&&(te=$r,$r=Js,Js=te);var Ge=MA(ve,Js),Pe=MA(ve,$r);if(Ge&&Pe&&(ot.rangeCount!==1||ot.anchorNode!==Ge.node||ot.anchorOffset!==Ge.offset||ot.focusNode!==Pe.node||ot.focusOffset!==Pe.offset)){var tt=St.createRange();tt.setStart(Ge.node,Ge.offset),ot.removeAllRanges(),Js>$r?(ot.addRange(tt),ot.extend(Pe.node,Pe.offset)):(tt.setEnd(Pe.node,Pe.offset),ot.addRange(tt))}}}}for(St=[],ot=ve;ot=ot.parentNode;)ot.nodeType===1&&St.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<St.length;ve++){var jt=St[ve];jt.element.scrollLeft=jt.left,jt.element.scrollTop=jt.top}}_0=!!cy,uy=cy=null}finally{dr=T,W.p=p,re.T=d}}a.current=l,_s=2}}function X2(){if(_s===2){_s=0;var a=ys,l=gs,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=re.T,re.T=null;var p=W.p;W.p=2;var T=dr;dr|=4;try{u0(a,l.alternate,l)}finally{dr=T,W.p=p,re.T=d}}_s=3}}function J2(){if(_s===4||_s===3){_s=0,$t();var a=ys,l=gs,d=Sn,p=fs;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?_s=5:(_s=0,gs=ys=null,q2(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(ts=null),Nn(d),l=l.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Me,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=re.T,T=W.p,W.p=2,re.T=null;try{for(var U=a.onRecoverableError,te=0;te<p.length;te++){var ve=p[te];U(ve.value,{componentStack:ve.stack})}}finally{re.T=l,W.p=T}}(Sn&3)!==0&&v0(),Rc(a),T=a.pendingLanes,(d&261930)!==0&&(T&42)!==0?a===kn?Fn++:(Fn=0,kn=a):Fn=0,lp(0)}}function q2(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,iu(l)))}function v0(){return W2(),X2(),J2(),Z2()}function Z2(){if(_s!==5)return!1;var a=ys,l=vn;vn=0;var d=Nn(Sn),p=re.T,T=W.p;try{W.p=32>d?32:d,re.T=null,d=Xs,Xs=null;var U=ys,te=Sn;if(_s=0,gs=ys=null,Sn=0,(dr&6)!==0)throw Error(n(331));var ve=dr;if(dr|=4,p0(U.current),f0(U,U.current,te,d),dr=ve,lp(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Me,U)}catch{}return!0}finally{W.p=T,re.T=p,q2(a,l)}}function ej(a,l,d){l=Po(d,l),l=Km(a.stateNode,l,2),a=$s(a,l,2),a!==null&&(es(a,2),Rc(a))}function kr(a,l,d){if(a.tag===3)ej(a,a,d);else for(;l!==null;){if(l.tag===3){ej(l,a,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ts===null||!ts.has(p))){a=Po(d,a),d=zm(2),p=$s(l,d,2),p!==null&&(Gm(d,p,l,a),es(p,2),Rc(p));break}}l=l.return}}function ey(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new Zv;var T=new Set;p.set(l,T)}else T=p.get(l),T===void 0&&(T=new Set,p.set(l,T));T.has(d)||(j=!0,T.add(d),a=v_.bind(null,a,l,d),l.then(a,a))}function v_(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Or===a&&(Pn&d)===d&&(C===4||C===3&&(Pn&62914560)===Pn&&300>ss()-We?(dr&2)===0&&Rl(a,0):se|=d,Be===Pn&&(Be=0)),Rc(a)}function tj(a,l){l===0&&(l=Os()),a=Sl(a,l),a!==null&&(es(a,l),Rc(a))}function y_(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),tj(a,d)}function b_(a,l){var d=0;switch(a.tag){case 31:case 13:var p=a.stateNode,T=a.memoizedState;T!==null&&(d=T.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(l),tj(a,d)}function w_(a,l){return Ut(a,l)}var y0=null,Ff=null,ty=!1,b0=!1,sy=!1,cd=0;function Rc(a){a!==Ff&&a.next===null&&(Ff===null?y0=Ff=a:Ff=Ff.next=a),b0=!0,ty||(ty=!0,B_())}function lp(a,l){if(!sy&&b0){sy=!0;do for(var d=!1,p=y0;p!==null;){if(a!==0){var T=p.pendingLanes;if(T===0)var U=0;else{var te=p.suspendedLanes,ve=p.pingedLanes;U=(1<<31-At(42|a)+1)-1,U&=T&~(te&~ve),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(d=!0,aj(p,U))}else U=Pn,U=Pt(p,p===Or?U:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(U&3)===0||qt(p,U)||(d=!0,aj(p,U));p=p.next}while(d);sy=!1}}function j_(){sj()}function sj(){b0=ty=!1;var a=0;cd!==0&&D_()&&(a=cd);for(var l=ss(),d=null,p=y0;p!==null;){var T=p.next,U=nj(p,l);U===0?(p.next=null,d===null?y0=T:d.next=T,T===null&&(Ff=d)):(d=p,(a!==0||(U&3)!==0)&&(b0=!0)),p=T}_s!==0&&_s!==5||lp(a),cd!==0&&(cd=0)}function nj(a,l){for(var d=a.suspendedLanes,p=a.pingedLanes,T=a.expirationTimes,U=a.pendingLanes&-62914561;0<U;){var te=31-At(U),ve=1<<te,Ue=T[te];Ue===-1?((ve&d)===0||(ve&p)!==0)&&(T[te]=os(ve,l)):Ue<=l&&(a.expiredLanes|=ve),U&=~ve}if(l=Or,d=Pn,d=Pt(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,d===0||a===l&&(yr===2||yr===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Lt(p),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||qt(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(p!==null&&Lt(p),Nn(d)){case 2:case 8:d=Ht;break;case 32:d=Vt;break;case 268435456:d=dt;break;default:d=Vt}return p=rj.bind(null,a),d=Ut(d,p),a.callbackPriority=l,a.callbackNode=d,l}return p!==null&&p!==null&&Lt(p),a.callbackPriority=2,a.callbackNode=null,2}function rj(a,l){if(_s!==0&&_s!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(v0()&&a.callbackNode!==d)return null;var p=Pn;return p=Pt(a,a===Or?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Wo(a,p,l),nj(a,ss()),a.callbackNode!=null&&a.callbackNode===d?rj.bind(null,a):null)}function aj(a,l){if(v0())return null;Wo(a,l,!0)}function B_(){L_(function(){(dr&6)!==0?Ut(Je,j_):sj()})}function ny(){if(cd===0){var a=y;a===0&&(a=Gt,Gt<<=1,(Gt&261888)===0&&(Gt=256)),cd=a}return cd}function ij(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Fr(""+a)}function oj(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function C_(a,l,d,p,T){if(l==="submit"&&d&&d.stateNode===T){var U=ij((T[fn]||null).action),te=p.submitter;te&&(l=(l=te[fn]||null)?ij(l.formAction):te.getAttribute("formAction"),l!==null&&(U=l,te=null));var ve=new Ur("action","action",null,p,T);a.push({event:ve,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(cd!==0){var Ue=te?oj(T,te):new FormData(T);vf(d,{pending:!0,data:Ue,method:T.method,action:U},null,Ue)}}else typeof U=="function"&&(ve.preventDefault(),Ue=te?oj(T,te):new FormData(T),vf(d,{pending:!0,data:Ue,method:T.method,action:U},U,Ue))},currentTarget:T}]})}}for(var ry=0;ry<hA.length;ry++){var ay=hA[ry],S_=ay.toLowerCase(),N_=ay[0].toUpperCase()+ay.slice(1);go(S_,"on"+N_)}go(HA,"onAnimationEnd"),go(dA,"onAnimationIteration"),go(th,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(sh,"onTransitionRun"),go(nh,"onTransitionStart"),go(rh,"onTransitionCancel"),go(Lu,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Va("onBeforeInput",["compositionend","keypress","textInput","paste"]),Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ap));function lj(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],T=p.event;p=p.listeners;e:{var U=void 0;if(l)for(var te=p.length-1;0<=te;te--){var ve=p[te],Ue=ve.instance,st=ve.currentTarget;if(ve=ve.listener,Ue!==U&&T.isPropagationStopped())break e;U=ve,T.currentTarget=st;try{U(T)}catch(xt){mc(xt)}T.currentTarget=null,U=Ue}else for(te=0;te<p.length;te++){if(ve=p[te],Ue=ve.instance,st=ve.currentTarget,ve=ve.listener,Ue!==U&&T.isPropagationStopped())break e;U=ve,T.currentTarget=st;try{U(T)}catch(xt){mc(xt)}T.currentTarget=null,U=Ue}}}}function Kn(a,l){var d=l[Br];d===void 0&&(d=l[Br]=new Set);var p=a+"__bubble";d.has(p)||(Aj(l,a,2,!1),d.add(p))}function iy(a,l,d){var p=0;l&&(p|=4),Aj(d,a,p,l)}var w0="_reactListening"+Math.random().toString(36).slice(2);function oy(a){if(!a[w0]){a[w0]=!0,ro.forEach(function(d){d!=="selectionchange"&&(E_.has(d)||iy(d,!1,a),iy(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[w0]||(l[w0]=!0,iy("selectionchange",!1,l))}}function Aj(a,l,d,p){switch(Oj(l)){case 2:var T=s6;break;case 8:T=n6;break;default:T=wy}d=T.bind(null,l,d,a),T=void 0,!Gs||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),p?T!==void 0?a.addEventListener(l,d,{capture:!0,passive:T}):a.addEventListener(l,d,!0):T!==void 0?a.addEventListener(l,d,{passive:T}):a.addEventListener(l,d,!1)}function ly(a,l,d,p,T){var U=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var te=p.tag;if(te===3||te===4){var ve=p.stateNode.containerInfo;if(ve===T)break;if(te===4)for(te=p.return;te!==null;){var Ue=te.tag;if((Ue===3||Ue===4)&&te.stateNode.containerInfo===T)return;te=te.return}for(;ve!==null;){if(te=Pa(ve),te===null)return;if(Ue=te.tag,Ue===5||Ue===6||Ue===26||Ue===27){p=U=te;continue e}ve=ve.parentNode}}p=p.return}Ki(function(){var st=U,xt=na(d),St=[];e:{var rt=Qu.get(a);if(rt!==void 0){var ot=Ur,Ss=a;switch(a){case"keypress":if(gr(d)===0)break e;case"keydown":case"keyup":ot=In;break;case"focusin":Ss="focus",ot=mo;break;case"focusout":Ss="blur",ot=mo;break;case"beforeblur":case"afterblur":ot=mo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=cA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Y;break;case HA:case dA:case th:ot=k;break;case Lu:ot=we;break;case"scroll":case"scrollend":ot=Sa;break;case"wheel":ot=nt;break;case"copy":case"cut":case"paste":ot=Te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=hr;break;case"toggle":case"beforetoggle":ot=Zs}var Js=(l&4)!==0,$r=!Js&&(a==="scroll"||a==="scrollend"),Ge=Js?rt!==null?rt+"Capture":null:rt;Js=[];for(var Pe=st,tt;Pe!==null;){var jt=Pe;if(tt=jt.stateNode,jt=jt.tag,jt!==5&&jt!==26&&jt!==27||tt===null||Ge===null||(jt=Vr(Pe,Ge),jt!=null&&Js.push(cp(Pe,jt,tt))),$r)break;Pe=Pe.return}0<Js.length&&(rt=new ot(rt,Ss,null,d,xt),St.push({event:rt,listeners:Js}))}}if((l&7)===0){e:{if(rt=a==="mouseover"||a==="pointerover",ot=a==="mouseout"||a==="pointerout",rt&&d!==io&&(Ss=d.relatedTarget||d.fromElement)&&(Pa(Ss)||Ss[Un]))break e;if((ot||rt)&&(rt=xt.window===xt?xt:(rt=xt.ownerDocument)?rt.defaultView||rt.parentWindow:window,ot?(Ss=d.relatedTarget||d.toElement,ot=st,Ss=Ss?Pa(Ss):null,Ss!==null&&($r=o(Ss),Js=Ss.tag,Ss!==$r||Js!==5&&Js!==27&&Js!==6)&&(Ss=null)):(ot=null,Ss=st),ot!==Ss)){if(Js=cA,jt="onMouseLeave",Ge="onMouseEnter",Pe="mouse",(a==="pointerout"||a==="pointerover")&&(Js=hr,jt="onPointerLeave",Ge="onPointerEnter",Pe="pointer"),$r=ot==null?rt:Ma(ot),tt=Ss==null?rt:Ma(Ss),rt=new Js(jt,Pe+"leave",ot,d,xt),rt.target=$r,rt.relatedTarget=tt,jt=null,Pa(xt)===st&&(Js=new Js(Ge,Pe+"enter",Ss,d,xt),Js.target=tt,Js.relatedTarget=$r,jt=Js),$r=jt,ot&&Ss)t:{for(Js=T_,Ge=ot,Pe=Ss,tt=0,jt=Ge;jt;jt=Js(jt))tt++;jt=0;for(var Ks=Pe;Ks;Ks=Js(Ks))jt++;for(;0<tt-jt;)Ge=Js(Ge),tt--;for(;0<jt-tt;)Pe=Js(Pe),jt--;for(;tt--;){if(Ge===Pe||Pe!==null&&Ge===Pe.alternate){Js=Ge;break t}Ge=Js(Ge),Pe=Js(Pe)}Js=null}else Js=null;ot!==null&&cj(St,rt,ot,Js,!1),Ss!==null&&$r!==null&&cj(St,$r,Ss,Js,!0)}}e:{if(rt=st?Ma(st):window,ot=rt.nodeName&&rt.nodeName.toLowerCase(),ot==="select"||ot==="input"&&rt.type==="file")var fr=Qo;else if(Ro(rt))if(Cn)fr=Ai;else{fr=aa;var Fs=PA}else ot=rt.nodeName,!ot||ot.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?st&&bl(st.elementType)&&(fr=Qo):fr=Yi;if(fr&&(fr=fr(a,st))){Gn(St,fr,d,xt);break e}Fs&&Fs(a,rt,st),a==="focusout"&&st&&rt.type==="number"&&st.memoizedProps.value!=null&&ha(rt,"number",rt.value)}switch(Fs=st?Ma(st):window,a){case"focusin":(Ro(Fs)||Fs.contentEditable==="true")&&(pa=Fs,Gl=st,Ni=null);break;case"focusout":Ni=Gl=pa=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,$n(St,d,xt);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":$n(St,d,xt)}var Tn;if(xn)e:{switch(a){case"compositionstart":var Wn="onCompositionStart";break e;case"compositionend":Wn="onCompositionEnd";break e;case"compositionupdate":Wn="onCompositionUpdate";break e}Wn=void 0}else ol?po(a,d)&&(Wn="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Wn="onCompositionStart");Wn&&(ma&&d.locale!=="ko"&&(ol||Wn!=="onCompositionStart"?Wn==="onCompositionEnd"&&ol&&(Tn=lr()):(En=xt,jn="value"in En?En.value:En.textContent,ol=!0)),Fs=j0(st,Wn),0<Fs.length&&(Wn=new Ke(Wn,a,null,d,xt),St.push({event:Wn,listeners:Fs}),Tn?Wn.data=Tn:(Tn=Do(d),Tn!==null&&(Wn.data=Tn)))),(Tn=Ka?Na(a,d):Za(a,d))&&(Wn=j0(st,"onBeforeInput"),0<Wn.length&&(Fs=new Ke("onBeforeInput","beforeinput",null,d,xt),St.push({event:Fs,listeners:Wn}),Fs.data=Tn)),C_(St,a,st,d,xt)}lj(St,l)})}function cp(a,l,d){return{instance:a,listener:l,currentTarget:d}}function j0(a,l){for(var d=l+"Capture",p=[];a!==null;){var T=a,U=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||U===null||(T=Vr(a,d),T!=null&&p.unshift(cp(a,T,U)),T=Vr(a,l),T!=null&&p.push(cp(a,T,U))),a.tag===3)return p;a=a.return}return[]}function T_(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function cj(a,l,d,p,T){for(var U=l._reactName,te=[];d!==null&&d!==p;){var ve=d,Ue=ve.alternate,st=ve.stateNode;if(ve=ve.tag,Ue!==null&&Ue===p)break;ve!==5&&ve!==26&&ve!==27||st===null||(Ue=st,T?(st=Vr(d,U),st!=null&&te.unshift(cp(d,st,Ue))):T||(st=Vr(d,U),st!=null&&te.push(cp(d,st,Ue)))),d=d.return}te.length!==0&&a.push({event:l,listeners:te})}var I_=/\r\n?/g,__=/\u0000|\uFFFD/g;function uj(a){return(typeof a=="string"?a:""+a).replace(I_,`
`).replace(__,"")}function dj(a,l){return l=uj(l),uj(a)===l}function Gr(a,l,d,p,T,U){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Cr(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Cr(a,""+p);break;case"className":As(a,"class",p);break;case"tabIndex":As(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":As(a,d,p);break;case"style":Vl(a,p,U);break;case"data":if(l!=="object"){As(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Fr(""+p),a.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(d==="formAction"?(l!=="input"&&Gr(a,l,"name",T.name,T,null),Gr(a,l,"formEncType",T.formEncType,T,null),Gr(a,l,"formMethod",T.formMethod,T,null),Gr(a,l,"formTarget",T.formTarget,T,null)):(Gr(a,l,"encType",T.encType,T,null),Gr(a,l,"method",T.method,T,null),Gr(a,l,"target",T.target,T,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Fr(""+p),a.setAttribute(d,p);break;case"onClick":p!=null&&(a.onclick=oi);break;case"onScroll":p!=null&&Kn("scroll",a);break;case"onScrollEnd":p!=null&&Kn("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}d=Fr(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""+p):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":p===!0?a.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,p):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(d,p):a.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(d):a.setAttribute(d,p);break;case"popover":Kn("beforetoggle",a),Kn("toggle",a),It(a,"popover",p);break;case"xlinkActuate":Yt(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Yt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Yt(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Yt(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Yt(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Yt(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Yt(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Yt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Yt(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":It(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=il.get(d)||d,It(a,d,p))}}function Ay(a,l,d,p,T,U){switch(d){case"style":Vl(a,p,U);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof p=="string"?Cr(a,p):(typeof p=="number"||typeof p=="bigint")&&Cr(a,""+p);break;case"onScroll":p!=null&&Kn("scroll",a);break;case"onScrollEnd":p!=null&&Kn("scrollend",a);break;case"onClick":p!=null&&(a.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),U=a[fn]||null,U=U!=null?U[d]:null,typeof U=="function"&&a.removeEventListener(l,U,T),typeof p=="function")){typeof U!="function"&&U!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,p,T);break e}d in a?a[d]=p:p===!0?a.setAttribute(d,""):It(a,d,p)}}}function Bo(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kn("error",a),Kn("load",a);var p=!1,T=!1,U;for(U in d)if(d.hasOwnProperty(U)){var te=d[U];if(te!=null)switch(U){case"src":p=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Gr(a,l,U,te,d,null)}}T&&Gr(a,l,"srcSet",d.srcSet,d,null),p&&Gr(a,l,"src",d.src,d,null);return;case"input":Kn("invalid",a);var ve=U=te=T=null,Ue=null,st=null;for(p in d)if(d.hasOwnProperty(p)){var xt=d[p];if(xt!=null)switch(p){case"name":T=xt;break;case"type":te=xt;break;case"checked":Ue=xt;break;case"defaultChecked":st=xt;break;case"value":U=xt;break;case"defaultValue":ve=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,l));break;default:Gr(a,l,p,xt,d,null)}}Xa(a,U,ve,Ue,st,te,T,!1);return;case"select":Kn("invalid",a),p=te=U=null;for(T in d)if(d.hasOwnProperty(T)&&(ve=d[T],ve!=null))switch(T){case"value":U=ve;break;case"defaultValue":te=ve;break;case"multiple":p=ve;default:Gr(a,l,T,ve,d,null)}l=U,d=te,a.multiple=!!p,l!=null?or(a,!!p,l,!1):d!=null&&or(a,!!p,d,!0);return;case"textarea":Kn("invalid",a),U=T=p=null;for(te in d)if(d.hasOwnProperty(te)&&(ve=d[te],ve!=null))switch(te){case"value":p=ve;break;case"defaultValue":T=ve;break;case"children":U=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(91));break;default:Gr(a,l,te,ve,d,null)}wi(a,p,T,U);return;case"option":for(Ue in d)if(d.hasOwnProperty(Ue)&&(p=d[Ue],p!=null))switch(Ue){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Gr(a,l,Ue,p,d,null)}return;case"dialog":Kn("beforetoggle",a),Kn("toggle",a),Kn("cancel",a),Kn("close",a);break;case"iframe":case"object":Kn("load",a);break;case"video":case"audio":for(p=0;p<Ap.length;p++)Kn(Ap[p],a);break;case"image":Kn("error",a),Kn("load",a);break;case"details":Kn("toggle",a);break;case"embed":case"source":case"link":Kn("error",a),Kn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in d)if(d.hasOwnProperty(st)&&(p=d[st],p!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Gr(a,l,st,p,d,null)}return;default:if(bl(l)){for(xt in d)d.hasOwnProperty(xt)&&(p=d[xt],p!==void 0&&Ay(a,l,xt,p,d,void 0));return}}for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!=null&&Gr(a,l,ve,p,d,null))}function F_(a,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,U=null,te=null,ve=null,Ue=null,st=null,xt=null;for(ot in d){var St=d[ot];if(d.hasOwnProperty(ot)&&St!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":Ue=St;default:p.hasOwnProperty(ot)||Gr(a,l,ot,null,p,St)}}for(var rt in p){var ot=p[rt];if(St=d[rt],p.hasOwnProperty(rt)&&(ot!=null||St!=null))switch(rt){case"type":U=ot;break;case"name":T=ot;break;case"checked":st=ot;break;case"defaultChecked":xt=ot;break;case"value":te=ot;break;case"defaultValue":ve=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,l));break;default:ot!==St&&Gr(a,l,rt,ot,p,St)}}Ba(a,te,ve,Ue,st,xt,U,T);return;case"select":ot=te=ve=rt=null;for(U in d)if(Ue=d[U],d.hasOwnProperty(U)&&Ue!=null)switch(U){case"value":break;case"multiple":ot=Ue;default:p.hasOwnProperty(U)||Gr(a,l,U,null,p,Ue)}for(T in p)if(U=p[T],Ue=d[T],p.hasOwnProperty(T)&&(U!=null||Ue!=null))switch(T){case"value":rt=U;break;case"defaultValue":ve=U;break;case"multiple":te=U;default:U!==Ue&&Gr(a,l,T,U,p,Ue)}l=ve,d=te,p=ot,rt!=null?or(a,!!d,rt,!1):!!p!=!!d&&(l!=null?or(a,!!d,l,!0):or(a,!!d,d?[]:"",!1));return;case"textarea":ot=rt=null;for(ve in d)if(T=d[ve],d.hasOwnProperty(ve)&&T!=null&&!p.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:Gr(a,l,ve,null,p,T)}for(te in p)if(T=p[te],U=d[te],p.hasOwnProperty(te)&&(T!=null||U!=null))switch(te){case"value":rt=T;break;case"defaultValue":ot=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==U&&Gr(a,l,te,T,p,U)}Uo(a,rt,ot);return;case"option":for(var Ss in d)if(rt=d[Ss],d.hasOwnProperty(Ss)&&rt!=null&&!p.hasOwnProperty(Ss))switch(Ss){case"selected":a.selected=!1;break;default:Gr(a,l,Ss,null,p,rt)}for(Ue in p)if(rt=p[Ue],ot=d[Ue],p.hasOwnProperty(Ue)&&rt!==ot&&(rt!=null||ot!=null))switch(Ue){case"selected":a.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:Gr(a,l,Ue,rt,p,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Js in d)rt=d[Js],d.hasOwnProperty(Js)&&rt!=null&&!p.hasOwnProperty(Js)&&Gr(a,l,Js,null,p,rt);for(st in p)if(rt=p[st],ot=d[st],p.hasOwnProperty(st)&&rt!==ot&&(rt!=null||ot!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,l));break;default:Gr(a,l,st,rt,p,ot)}return;default:if(bl(l)){for(var $r in d)rt=d[$r],d.hasOwnProperty($r)&&rt!==void 0&&!p.hasOwnProperty($r)&&Ay(a,l,$r,void 0,p,rt);for(xt in p)rt=p[xt],ot=d[xt],!p.hasOwnProperty(xt)||rt===ot||rt===void 0&&ot===void 0||Ay(a,l,xt,rt,p,ot);return}}for(var Ge in d)rt=d[Ge],d.hasOwnProperty(Ge)&&rt!=null&&!p.hasOwnProperty(Ge)&&Gr(a,l,Ge,null,p,rt);for(St in p)rt=p[St],ot=d[St],!p.hasOwnProperty(St)||rt===ot||rt==null&&ot==null||Gr(a,l,St,rt,p,ot)}function hj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U_(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var T=d[p],U=T.transferSize,te=T.initiatorType,ve=T.duration;if(U&&ve&&hj(te)){for(te=0,ve=T.responseEnd,p+=1;p<d.length;p++){var Ue=d[p],st=Ue.startTime;if(st>ve)break;var xt=Ue.transferSize,St=Ue.initiatorType;xt&&hj(St)&&(Ue=Ue.responseEnd,te+=xt*(Ue<ve?1:(ve-st)/(Ue-st)))}if(--p,l+=8*(U+te)/(T.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var cy=null,uy=null;function B0(a){return a.nodeType===9?a:a.ownerDocument}function fj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mj(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function dy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hy=null;function D_(){var a=window.event;return a&&a.type==="popstate"?a===hy?!1:(hy=a,!0):(hy=null,!1)}var pj=typeof setTimeout=="function"?setTimeout:void 0,R_=typeof clearTimeout=="function"?clearTimeout:void 0,gj=typeof Promise=="function"?Promise:void 0,L_=typeof queueMicrotask=="function"?queueMicrotask:typeof gj<"u"?function(a){return gj.resolve(null).then(a).catch(Q_)}:pj;function Q_(a){setTimeout(function(){throw a})}function ud(a){return a==="head"}function xj(a,l){var d=l,p=0;do{var T=d.nextSibling;if(a.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"||d==="/&"){if(p===0){a.removeChild(T),Lf(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")up(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,up(d);for(var U=d.firstChild;U;){var te=U.nextSibling,ve=U.nodeName;U[Ir]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=te}}else d==="body"&&up(a.ownerDocument.body);d=T}while(d);Lf(l)}function vj(a,l){var d=a;a=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=p}while(d)}function fy(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":fy(d),vi(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function O_(a,l,d,p){for(;a.nodeType===1;){var T=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Ir])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(U=a.getAttribute("rel"),U==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(U!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(U=a.getAttribute("src"),(U!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&U&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var U=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===U)return a}else return a;if(a=NA(a.nextSibling),a===null)break}return null}function P_(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=NA(a.nextSibling),a===null))return null;return a}function yj(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=NA(a.nextSibling),a===null))return null;return a}function my(a){return a.data==="$?"||a.data==="$~"}function py(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function k_(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function NA(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var gy=null;function bj(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return NA(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function wj(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function jj(a,l,d){switch(l=B0(d),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function up(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);vi(a)}var EA=new Map,Bj=new Set;function C0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var gu=W.d;W.d={f:M_,r:H_,D:V_,C:K_,L:z_,m:G_,X:Y_,S:$_,M:W_};function M_(){var a=gu.f(),l=eo();return a||l}function H_(a){var l=ka(a);l!==null&&l.tag===5&&l.type==="form"?Wg(l):gu.r(a)}var Uf=typeof document>"u"?null:document;function Cj(a,l,d){var p=Uf;if(p&&typeof l=="string"&&l){var T=mn(l);T='link[rel="'+a+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),Bj.has(T)||(Bj.add(T),a={rel:a,crossOrigin:d,href:l},p.querySelector(T)===null&&(l=p.createElement("link"),Bo(l,"link",a),_r(l),p.head.appendChild(l)))}}function V_(a){gu.D(a),Cj("dns-prefetch",a,null)}function K_(a,l){gu.C(a,l),Cj("preconnect",a,l)}function z_(a,l,d){gu.L(a,l,d);var p=Uf;if(p&&a&&l){var T='link[rel="preload"][as="'+mn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+mn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+mn(d.imageSizes)+'"]')):T+='[href="'+mn(a)+'"]';var U=T;switch(l){case"style":U=Df(a);break;case"script":U=Rf(a)}EA.has(U)||(a=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),EA.set(U,a),p.querySelector(T)!==null||l==="style"&&p.querySelector(dp(U))||l==="script"&&p.querySelector(hp(U))||(l=p.createElement("link"),Bo(l,"link",a),_r(l),p.head.appendChild(l)))}}function G_(a,l){gu.m(a,l);var d=Uf;if(d&&a){var p=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+mn(p)+'"][href="'+mn(a)+'"]',U=T;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Rf(a)}if(!EA.has(U)&&(a=m({rel:"modulepreload",href:a},l),EA.set(U,a),d.querySelector(T)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(hp(U)))return}p=d.createElement("link"),Bo(p,"link",a),_r(p),d.head.appendChild(p)}}}function $_(a,l,d){gu.S(a,l,d);var p=Uf;if(p&&a){var T=yi(p).hoistableStyles,U=Df(a);l=l||"default";var te=T.get(U);if(!te){var ve={loading:0,preload:null};if(te=p.querySelector(dp(U)))ve.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":l},d),(d=EA.get(U))&&xy(a,d);var Ue=te=p.createElement("link");_r(Ue),Bo(Ue,"link",a),Ue._p=new Promise(function(st,xt){Ue.onload=st,Ue.onerror=xt}),Ue.addEventListener("load",function(){ve.loading|=1}),Ue.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,S0(te,l,p)}te={type:"stylesheet",instance:te,count:1,state:ve},T.set(U,te)}}}function Y_(a,l){gu.X(a,l);var d=Uf;if(d&&a){var p=yi(d).hoistableScripts,T=Rf(a),U=p.get(T);U||(U=d.querySelector(hp(T)),U||(a=m({src:a,async:!0},l),(l=EA.get(T))&&vy(a,l),U=d.createElement("script"),_r(U),Bo(U,"link",a),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(T,U))}}function W_(a,l){gu.M(a,l);var d=Uf;if(d&&a){var p=yi(d).hoistableScripts,T=Rf(a),U=p.get(T);U||(U=d.querySelector(hp(T)),U||(a=m({src:a,async:!0,type:"module"},l),(l=EA.get(T))&&vy(a,l),U=d.createElement("script"),_r(U),Bo(U,"link",a),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(T,U))}}function Sj(a,l,d,p){var T=(T=ce.current)?C0(T):null;if(!T)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Df(d.href),d=yi(T).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Df(d.href);var U=yi(T).hoistableStyles,te=U.get(a);if(te||(T=T.ownerDocument||T,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(a,te),(U=T.querySelector(dp(a)))&&!U._p&&(te.instance=U,te.state.loading=5),EA.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},EA.set(a,d),U||X_(T,a,d,te.state))),l&&p===null)throw Error(n(528,""));return te}if(l&&p!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Rf(d),d=yi(T).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Df(a){return'href="'+mn(a)+'"'}function dp(a){return'link[rel="stylesheet"]['+a+"]"}function Nj(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function X_(a,l,d,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Bo(l,"link",d),_r(l),a.head.appendChild(l))}function Rf(a){return'[src="'+mn(a)+'"]'}function hp(a){return"script[async]"+a}function Ej(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+mn(d.href)+'"]');if(p)return l.instance=p,_r(p),p;var T=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),_r(p),Bo(p,"style",T),S0(p,d.precedence,a),l.instance=p;case"stylesheet":T=Df(d.href);var U=a.querySelector(dp(T));if(U)return l.state.loading|=4,l.instance=U,_r(U),U;p=Nj(d),(T=EA.get(T))&&xy(p,T),U=(a.ownerDocument||a).createElement("link"),_r(U);var te=U;return te._p=new Promise(function(ve,Ue){te.onload=ve,te.onerror=Ue}),Bo(U,"link",p),l.state.loading|=4,S0(U,d.precedence,a),l.instance=U;case"script":return U=Rf(d.src),(T=a.querySelector(hp(U)))?(l.instance=T,_r(T),T):(p=d,(T=EA.get(U))&&(p=m({},d),vy(p,T)),a=a.ownerDocument||a,T=a.createElement("script"),_r(T),Bo(T,"link",p),a.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,S0(p,d.precedence,a));return l.instance}function S0(a,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=p.length?p[p.length-1]:null,U=T,te=0;te<p.length;te++){var ve=p[te];if(ve.dataset.precedence===l)U=ve;else if(U!==T)break}U?U.parentNode.insertBefore(a,U.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function xy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function vy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var N0=null;function Tj(a,l,d){if(N0===null){var p=new Map,T=N0=new Map;T.set(d,p)}else T=N0,p=T.get(d),p||(p=new Map,T.set(d,p));if(p.has(a))return p;for(p.set(a,null),d=d.getElementsByTagName(a),T=0;T<d.length;T++){var U=d[T];if(!(U[Ir]||U[on]||a==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var te=U.getAttribute(l)||"";te=a+te;var ve=p.get(te);ve?ve.push(U):p.set(te,[U])}}return p}function Ij(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function J_(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function _j(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function q_(a,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=Df(p.href),U=l.querySelector(dp(T));if(U){l=U._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=E0.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=U,_r(U);return}U=l.ownerDocument||l,p=Nj(p),(T=EA.get(T))&&xy(p,T),U=U.createElement("link"),_r(U);var te=U;te._p=new Promise(function(ve,Ue){te.onload=ve,te.onerror=Ue}),Bo(U,"link",p),d.instance=U}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=E0.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var yy=0;function Z_(a,l){return a.stylesheets&&a.count===0&&I0(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var p=setTimeout(function(){if(a.stylesheets&&I0(a,a.stylesheets),a.unsuspend){var U=a.unsuspend;a.unsuspend=null,U()}},6e4+l);0<a.imgBytes&&yy===0&&(yy=62500*U_());var T=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&I0(a,a.stylesheets),a.unsuspend)){var U=a.unsuspend;a.unsuspend=null,U()}},(a.imgBytes>yy?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(T)}}:null}function E0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)I0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var T0=null;function I0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,T0=new Map,l.forEach(e6,a),T0=null,E0.call(a))}function e6(a,l){if(!(l.state.loading&4)){var d=T0.get(a);if(d)var p=d.get(null);else{d=new Map,T0.set(a,d);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<T.length;U++){var te=T[U];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(d.set(te.dataset.precedence,te),p=te)}p&&d.set(null,p)}T=l.instance,te=T.getAttribute("data-precedence"),U=d.get(te)||p,U===p&&d.set(null,T),d.set(te,T),this.count++,p=E0.bind(this),T.addEventListener("load",p),T.addEventListener("error",p),U?U.parentNode.insertBefore(T,U.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),l.state.loading|=4}}var fp={$$typeof:F,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function t6(a,l,d,p,T,U,te,ve,Ue){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wn(0),this.hiddenUpdates=wn(null),this.identifierPrefix=p,this.onUncaughtError=T,this.onCaughtError=U,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ue,this.incompleteTransitions=new Map}function Fj(a,l,d,p,T,U,te,ve,Ue,st,xt,St){return a=new t6(a,l,d,te,Ue,st,xt,St,ve),l=1,U===!0&&(l|=24),U=Ti(3,null,null,l),a.current=U,U.stateNode=a,l=vc(),l.refCount++,a.pooledCache=l,l.refCount++,U.memoizedState={element:p,isDehydrated:d,cache:l},Zt(U),a}function Uj(a){return a?(a=ui,a):ui}function Dj(a,l,d,p,T,U){T=Uj(T),p.context===null?p.context=T:p.pendingContext=T,p=Vs(l),p.payload={element:d},U=U===void 0?null:U,U!==null&&(p.callback=U),d=$s(a,p,l),d!==null&&(Pr(d,a,l),Ar(d,a,l))}function Rj(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function by(a,l){Rj(a,l),(a=a.alternate)&&Rj(a,l)}function Lj(a){if(a.tag===13||a.tag===31){var l=Sl(a,67108864);l!==null&&Pr(l,a,67108864),by(a,67108864)}}function Qj(a){if(a.tag===13||a.tag===31){var l=Ds();l=us(l);var d=Sl(a,l);d!==null&&Pr(d,a,l),by(a,l)}}var _0=!0;function s6(a,l,d,p){var T=re.T;re.T=null;var U=W.p;try{W.p=2,wy(a,l,d,p)}finally{W.p=U,re.T=T}}function n6(a,l,d,p){var T=re.T;re.T=null;var U=W.p;try{W.p=8,wy(a,l,d,p)}finally{W.p=U,re.T=T}}function wy(a,l,d,p){if(_0){var T=jy(p);if(T===null)ly(a,l,p,F0,d),Pj(a,p);else if(a6(T,a,l,d,p))p.stopPropagation();else if(Pj(a,p),l&4&&-1<r6.indexOf(a)){for(;T!==null;){var U=ka(T);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var te=pt(U.pendingLanes);if(te!==0){var ve=U;for(ve.pendingLanes|=2,ve.entangledLanes|=2;te;){var Ue=1<<31-At(te);ve.entanglements[1]|=Ue,te&=~Ue}Rc(U),(dr&6)===0&&(ds=ss()+500,lp(0))}}break;case 31:case 13:ve=Sl(U,2),ve!==null&&Pr(ve,U,2),eo(),by(U,2)}if(U=jy(p),U===null&&ly(a,l,p,F0,d),U===T)break;T=U}T!==null&&p.stopPropagation()}else ly(a,l,p,null,d)}}function jy(a){return a=na(a),By(a)}var F0=null;function By(a){if(F0=null,a=Pa(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=c(l),a!==null)return a;a=null}else if(d===31){if(a=h(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return F0=a,null}function Oj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case Je:return 2;case Ht:return 8;case Vt:case Mt:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Cy=!1,dd=null,hd=null,fd=null,mp=new Map,pp=new Map,md=[],r6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pj(a,l){switch(a){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":hd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":mp.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pp.delete(l.pointerId)}}function gp(a,l,d,p,T,U){return a===null||a.nativeEvent!==U?(a={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:U,targetContainers:[T]},l!==null&&(l=ka(l),l!==null&&Lj(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),a)}function a6(a,l,d,p,T){switch(l){case"focusin":return dd=gp(dd,a,l,d,p,T),!0;case"dragenter":return hd=gp(hd,a,l,d,p,T),!0;case"mouseover":return fd=gp(fd,a,l,d,p,T),!0;case"pointerover":var U=T.pointerId;return mp.set(U,gp(mp.get(U)||null,a,l,d,p,T)),!0;case"gotpointercapture":return U=T.pointerId,pp.set(U,gp(pp.get(U)||null,a,l,d,p,T)),!0}return!1}function kj(a){var l=Pa(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){a.blockedOn=l,Mn(a.priority,function(){Qj(d)});return}}else if(l===31){if(l=h(d),l!==null){a.blockedOn=l,Mn(a.priority,function(){Qj(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function U0(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=jy(a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);io=p,d.target.dispatchEvent(p),io=null}else return l=ka(d),l!==null&&Lj(l),a.blockedOn=d,!1;l.shift()}return!0}function Mj(a,l,d){U0(a)&&d.delete(l)}function i6(){Cy=!1,dd!==null&&U0(dd)&&(dd=null),hd!==null&&U0(hd)&&(hd=null),fd!==null&&U0(fd)&&(fd=null),mp.forEach(Mj),pp.forEach(Mj)}function D0(a,l){a.blockedOn===l&&(a.blockedOn=null,Cy||(Cy=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,i6)))}var R0=null;function Hj(a){R0!==a&&(R0=a,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){R0===a&&(R0=null);for(var l=0;l<a.length;l+=3){var d=a[l],p=a[l+1],T=a[l+2];if(typeof p!="function"){if(By(p||d)===null)continue;break}var U=ka(d);U!==null&&(a.splice(l,3),l-=3,vf(U,{pending:!0,data:T,method:d.method,action:p},p,T))}}))}function Lf(a){function l(Ue){return D0(Ue,a)}dd!==null&&D0(dd,a),hd!==null&&D0(hd,a),fd!==null&&D0(fd,a),mp.forEach(l),pp.forEach(l);for(var d=0;d<md.length;d++){var p=md[d];p.blockedOn===a&&(p.blockedOn=null)}for(;0<md.length&&(d=md[0],d.blockedOn===null);)kj(d),d.blockedOn===null&&md.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var T=d[p],U=d[p+1],te=T[fn]||null;if(typeof U=="function")te||Hj(d);else if(te){var ve=null;if(U&&U.hasAttribute("formAction")){if(T=U,te=U[fn]||null)ve=te.formAction;else if(By(T)!==null)continue}else ve=te.action;typeof ve=="function"?d[p+1]=ve:(d.splice(p,3),p-=3),Hj(d)}}}function Vj(){function a(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function(te){return T=te})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,T=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function Sy(a){this._internalRoot=a}L0.prototype.render=Sy.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,p=Ds();Dj(d,p,a,l,null,null)},L0.prototype.unmount=Sy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Dj(a.current,2,null,a,null,null),eo(),l[Un]=null}};function L0(a){this._internalRoot=a}L0.prototype.unstable_scheduleHydration=function(a){if(a){var l=jr();a={blockedOn:null,target:a,priority:l};for(var d=0;d<md.length&&l!==0&&l<md[d].priority;d++);md.splice(d,0,a),d===0&&kj(a)}};var Kj=e.version;if(Kj!=="19.2.3")throw Error(n(527,Kj,"19.2.3"));W.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=f(l),a=a!==null?A(a):null,a=a===null?null:a.stateNode,a};var o6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q0.isDisabled&&Q0.supportsFiber)try{Me=Q0.inject(o6),ut=Q0}catch{}}return vp.createRoot=function(a,l){if(!r(a))throw Error(n(299));var d=!1,p="",T=Zg,U=gh,te=xh;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(te=l.onRecoverableError)),l=Fj(a,1,!1,null,null,d,p,null,T,U,te,Vj),a[Un]=l.current,oy(a),new Sy(l)},vp.hydrateRoot=function(a,l,d){if(!r(a))throw Error(n(299));var p=!1,T="",U=Zg,te=gh,ve=xh,Ue=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(U=d.onUncaughtError),d.onCaughtError!==void 0&&(te=d.onCaughtError),d.onRecoverableError!==void 0&&(ve=d.onRecoverableError),d.formState!==void 0&&(Ue=d.formState)),l=Fj(a,1,!0,l,d??null,p,T,Ue,U,te,ve,Vj),l.context=Uj(null),d=l.current,p=Ds(),p=us(p),T=Vs(p),T.callback=null,$s(d,T,p),d=p,l.current.lanes=d,es(l,d),Rc(l),a[Un]=l.current,oy(a),new L0(l)},vp.version="19.2.3",vp}var tB;function y6(){if(tB)return Ty.exports;tB=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ty.exports=v6(),Ty.exports}var b6=y6();const w6=qb(b6);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sB="popstate";function j6(s={}){function e(r,o){let{pathname:c="/",search:h="",hash:u=""}=sf(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),P1("",{pathname:c,search:h,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let u=r.location.href,f=u.indexOf("#");h=f===-1?u:u.slice(0,f)}return h+"#"+(typeof o=="string"?o:tg(o))}function n(r,o){lA(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return C6(e,t,n,s)}function Qa(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function lA(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B6(){return Math.random().toString(36).substring(2,10)}function nB(s,e){return{usr:s.state,key:s.key,idx:e}}function P1(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?sf(e):e,state:t,key:e&&e.key||n||B6()}}function tg({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function sf(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function C6(s,e,t,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,c=r.history,h="POP",u=null,f=A();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function A(){return(c.state||{idx:null}).idx}function m(){h="POP";let N=A(),S=N==null?null:N-f;f=N,u&&u({action:h,location:I.location,delta:S})}function x(N,S){h="PUSH";let E=P1(I.location,N,S);t&&t(E,N),f=A()+1;let F=nB(E,f),L=I.createHref(E);try{c.pushState(F,"",L)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(L)}o&&u&&u({action:h,location:I.location,delta:1})}function g(N,S){h="REPLACE";let E=P1(I.location,N,S);t&&t(E,N),f=A();let F=nB(E,f),L=I.createHref(E);c.replaceState(F,"",L),o&&u&&u({action:h,location:I.location,delta:0})}function b(N){return S6(N)}let I={get action(){return h},get location(){return s(r,c)},listen(N){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(sB,m),u=N,()=>{r.removeEventListener(sB,m),u=null}},createHref(N){return e(r,N)},createURL:b,encodeLocation(N){let S=b(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:g,go(N){return c.go(N)}};return I}function S6(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qa(t,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:tg(s);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function MN(s,e,t="/"){return N6(s,e,t,!1)}function N6(s,e,t,n){let r=typeof e=="string"?sf(e):e,o=Nu(r.pathname||"/",t);if(o==null)return null;let c=HN(s);E6(c);let h=null;for(let u=0;h==null&&u<c.length;++u){let f=P6(o);h=Q6(c[u],f,n)}return h}function HN(s,e=[],t=[],n="",r=!1){let o=(c,h,u=r,f)=>{let A={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(n)&&u)return;Qa(A.relativePath.startsWith(n),`Absolute route path "${A.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(n.length)}let m=Bu([n,A.relativePath]),x=t.concat(A);c.children&&c.children.length>0&&(Qa(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HN(c.children,e,x,m,u)),!(c.path==null&&!c.index)&&e.push({path:m,score:R6(m,c.index),routesMeta:x})};return s.forEach((c,h)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,h);else for(let f of VN(c.path))o(c,h,!0,f)}),e}function VN(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let c=VN(n.join("/")),h=[];return h.push(...c.map(u=>u===""?o:[o,u].join("/"))),r&&h.push(...c),h.map(u=>s.startsWith("/")&&u===""?"/":u)}function E6(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:L6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var T6=/^:[\w-]+$/,I6=3,_6=2,F6=1,U6=10,D6=-2,rB=s=>s==="*";function R6(s,e){let t=s.split("/"),n=t.length;return t.some(rB)&&(n+=D6),e&&(n+=_6),t.filter(r=>!rB(r)).reduce((r,o)=>r+(T6.test(o)?I6:o===""?F6:U6),n)}function L6(s,e){return s.length===e.length&&s.slice(0,-1).every((n,r)=>n===e[r])?s[s.length-1]-e[e.length-1]:0}function Q6(s,e,t=!1){let{routesMeta:n}=s,r={},o="/",c=[];for(let h=0;h<n.length;++h){let u=n[h],f=h===n.length-1,A=o==="/"?e:e.slice(o.length)||"/",m=Nx({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},A),x=u.route;if(!m&&f&&t&&!n[n.length-1].route.index&&(m=Nx({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},A)),!m)return null;Object.assign(r,m.params),c.push({params:r,pathname:Bu([o,m.pathname]),pathnameBase:V6(Bu([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=Bu([o,m.pathnameBase]))}return c}function Nx(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=O6(s.path,s.caseSensitive,s.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:n.reduce((f,{paramName:A,isOptional:m},x)=>{if(A==="*"){let b=h[x]||"";c=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=h[x];return m&&!g?f[A]=void 0:f[A]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:s}}function O6(s,e=!1,t=!0){lA(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,u)=>(n.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function P6(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lA(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Nu(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}var KN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k6=s=>KN.test(s);function M6(s,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof s=="string"?sf(s):s,o;if(t)if(k6(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),lA(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=aB(t.substring(1),"/"):o=aB(t,e)}else o=e;return{pathname:o,search:K6(n),hash:z6(r)}}function aB(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Uy(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H6(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ew(s){let e=H6(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function tw(s,e,t,n=!1){let r;typeof s=="string"?r=sf(s):(r={...s},Qa(!r.pathname||!r.pathname.includes("?"),Uy("?","pathname","search",r)),Qa(!r.pathname||!r.pathname.includes("#"),Uy("#","pathname","hash",r)),Qa(!r.search||!r.search.includes("#"),Uy("#","search","hash",r)));let o=s===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let m=e.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;r.pathname=x.join("/")}h=m>=0?e[m]:"/"}let u=M6(r,h),f=c&&c!=="/"&&c.endsWith("/"),A=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||A)&&(u.pathname+="/"),u}var Bu=s=>s.join("/").replace(/\/\/+/g,"/"),V6=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),K6=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,z6=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,G6=class{constructor(s,e,t,n=!1){this.status=s,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function $6(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Y6(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GN(s,e){let t=s;if(typeof t!="string"||!KN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,r=!1;if(zN)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Nu(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:r=!0}catch{lA(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $N=["POST","PUT","PATCH","DELETE"];new Set($N);var W6=["GET",...$N];new Set(W6);var mm=Z.createContext(null);mm.displayName="DataRouter";var hv=Z.createContext(null);hv.displayName="DataRouterState";var X6=Z.createContext(!1),YN=Z.createContext({isTransitioning:!1});YN.displayName="ViewTransition";var J6=Z.createContext(new Map);J6.displayName="Fetchers";var q6=Z.createContext(null);q6.displayName="Await";var AA=Z.createContext(null);AA.displayName="Navigation";var wg=Z.createContext(null);wg.displayName="Location";var Ac=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ac.displayName="Route";var sw=Z.createContext(null);sw.displayName="RouteError";var WN="REACT_ROUTER_ERROR",Z6="REDIRECT",eF="ROUTE_ERROR_RESPONSE";function tF(s){if(s.startsWith(`${WN}:${Z6}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sF(s){if(s.startsWith(`${WN}:${eF}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new G6(e.status,e.statusText,e.data)}catch{}}function nF(s,{relative:e}={}){Qa(pm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Z.useContext(AA),{hash:r,pathname:o,search:c}=jg(s,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Bu([t,o])),n.createHref({pathname:h,search:c,hash:r})}function pm(){return Z.useContext(wg)!=null}function Uu(){return Qa(pm(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(wg).location}var XN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JN(s){Z.useContext(AA).static||Z.useLayoutEffect(s)}function gm(){let{isDataRoute:s}=Z.useContext(Ac);return s?gF():rF()}function rF(){Qa(pm(),"useNavigate() may be used only in the context of a <Router> component.");let s=Z.useContext(mm),{basename:e,navigator:t}=Z.useContext(AA),{matches:n}=Z.useContext(Ac),{pathname:r}=Uu(),o=JSON.stringify(ew(n)),c=Z.useRef(!1);return JN(()=>{c.current=!0}),Z.useCallback((u,f={})=>{if(lA(c.current,XN),!c.current)return;if(typeof u=="number"){t.go(u);return}let A=tw(u,JSON.parse(o),r,f.relative==="path");s==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Bu([e,A.pathname])),(f.replace?t.replace:t.push)(A,f.state,f)},[e,t,o,r,s])}Z.createContext(null);function aF(){let{matches:s}=Z.useContext(Ac),e=s[s.length-1];return e?e.params:{}}function jg(s,{relative:e}={}){let{matches:t}=Z.useContext(Ac),{pathname:n}=Uu(),r=JSON.stringify(ew(t));return Z.useMemo(()=>tw(s,JSON.parse(r),n,e==="path"),[s,r,n,e])}function iF(s,e){return qN(s,e)}function qN(s,e,t,n,r){var E;Qa(pm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Z.useContext(AA),{matches:c}=Z.useContext(Ac),h=c[c.length-1],u=h?h.params:{},f=h?h.pathname:"/",A=h?h.pathnameBase:"/",m=h&&h.route;{let F=m&&m.path||"";eE(f,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let x=Uu(),g;if(e){let F=typeof e=="string"?sf(e):e;Qa(A==="/"||((E=F.pathname)==null?void 0:E.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${F.pathname}" was given in the \`location\` prop.`),g=F}else g=x;let b=g.pathname||"/",I=b;if(A!=="/"){let F=A.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=MN(s,{pathname:I});lA(m||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),lA(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=uF(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:Bu([A,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?A:Bu([A,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,t,n,r);return e&&S?Z.createElement(wg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function oF(){let s=pF(),e=$6(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:r},t):null,c)}var lF=Z.createElement(oF,null),ZN=class extends Z.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const t=sF(s.digest);t&&(s=t)}let e=s!==void 0?Z.createElement(Ac.Provider,{value:this.props.routeContext},Z.createElement(sw.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?Z.createElement(AF,{error:s},e):e}};ZN.contextType=X6;var Dy=new WeakMap;function AF({children:s,error:e}){let{basename:t}=Z.useContext(AA);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=tF(e.digest);if(n){let r=Dy.get(e);if(r)throw r;let o=GN(n.location,t);if(zN&&!Dy.get(e))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw Dy.set(e,c),c}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return s}function cF({routeContext:s,match:e,children:t}){let n=Z.useContext(mm);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Ac.Provider,{value:s},t)}function uF(s,e=[],t=null,n=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let o=s,c=t==null?void 0:t.errors;if(c!=null){let A=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Qa(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,A+1))}let h=!1,u=-1;if(t)for(let A=0;A<o.length;A++){let m=o[A];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=A),m.route.id){let{loaderData:x,errors:g}=t,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let f=t&&n?(A,m)=>{var x,g;n(A,{location:t.location,params:((g=(x=t.matches)==null?void 0:x[0])==null?void 0:g.params)??{},unstable_pattern:Y6(t.matches),errorInfo:m})}:void 0;return o.reduceRight((A,m,x)=>{let g,b=!1,I=null,N=null;t&&(g=c&&m.route.id?c[m.route.id]:void 0,I=m.route.errorElement||lF,h&&(u<0&&x===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===x&&(b=!0,N=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,x+1)),E=()=>{let F;return g?F=I:b?F=N:m.route.Component?F=Z.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=A,Z.createElement(cF,{match:m,routeContext:{outlet:A,matches:S,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?Z.createElement(ZN,{location:t.location,revalidation:t.revalidation,component:I,error:g,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):E()},null)}function nw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dF(s){let e=Z.useContext(mm);return Qa(e,nw(s)),e}function hF(s){let e=Z.useContext(hv);return Qa(e,nw(s)),e}function fF(s){let e=Z.useContext(Ac);return Qa(e,nw(s)),e}function rw(s){let e=fF(s),t=e.matches[e.matches.length-1];return Qa(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function mF(){return rw("useRouteId")}function pF(){var n;let s=Z.useContext(sw),e=hF("useRouteError"),t=rw("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[t]}function gF(){let{router:s}=dF("useNavigate"),e=rw("useNavigate"),t=Z.useRef(!1);return JN(()=>{t.current=!0}),Z.useCallback(async(r,o={})=>{lA(t.current,XN),t.current&&(typeof r=="number"?await s.navigate(r):await s.navigate(r,{fromRouteId:e,...o}))},[s,e])}var iB={};function eE(s,e,t){!e&&!iB[s]&&(iB[s]=!0,lA(!1,t))}Z.memo(xF);function xF({routes:s,future:e,state:t,onError:n}){return qN(s,void 0,t,n,e)}function k1({to:s,replace:e,state:t,relative:n}){Qa(pm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=Z.useContext(AA);lA(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Z.useContext(Ac),{pathname:c}=Uu(),h=gm(),u=tw(s,ew(o),c,n==="path"),f=JSON.stringify(u);return Z.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:n})},[h,f,n,e,t]),null}function La(s){Qa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vF({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){Qa(!pm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),u=Z.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof t=="string"&&(t=sf(t));let{pathname:f="/",search:A="",hash:m="",state:x=null,key:g="default"}=t,b=Z.useMemo(()=>{let I=Nu(f,h);return I==null?null:{location:{pathname:I,search:A,hash:m,state:x,key:g},navigationType:n}},[h,f,A,m,x,g,n]);return lA(b!=null,`<Router basename="${h}"> is not able to match the URL "${f}${A}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Z.createElement(AA.Provider,{value:u},Z.createElement(wg.Provider,{children:e,value:b}))}function yF({children:s,location:e}){return iF(M1(s),e)}function M1(s,e=[]){let t=[];return Z.Children.forEach(s,(n,r)=>{if(!Z.isValidElement(n))return;let o=[...e,r];if(n.type===Z.Fragment){t.push.apply(t,M1(n.props.children,o));return}Qa(n.type===La,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=M1(n.props.children,o)),t.push(c)}),t}var ox="get",lx="application/x-www-form-urlencoded";function fv(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function bF(s){return fv(s)&&s.tagName.toLowerCase()==="button"}function wF(s){return fv(s)&&s.tagName.toLowerCase()==="form"}function jF(s){return fv(s)&&s.tagName.toLowerCase()==="input"}function BF(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function CF(s,e){return s.button===0&&(!e||e==="_self")&&!BF(s)}var O0=null;function SF(){if(O0===null)try{new FormData(document.createElement("form"),0),O0=!1}catch{O0=!0}return O0}var NF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ry(s){return s!=null&&!NF.has(s)?(lA(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lx}"`),null):s}function EF(s,e){let t,n,r,o,c;if(wF(s)){let h=s.getAttribute("action");n=h?Nu(h,e):null,t=s.getAttribute("method")||ox,r=Ry(s.getAttribute("enctype"))||lx,o=new FormData(s)}else if(bF(s)||jF(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=s.getAttribute("formaction")||h.getAttribute("action");if(n=u?Nu(u,e):null,t=s.getAttribute("formmethod")||h.getAttribute("method")||ox,r=Ry(s.getAttribute("formenctype"))||Ry(h.getAttribute("enctype"))||lx,o=new FormData(h,s),!SF()){let{name:f,type:A,value:m}=s;if(A==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,m)}}else{if(fv(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ox,n=null,r=lx,c=s}return o&&r==="text/plain"&&(c=o,o=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aw(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function TF(s,e,t){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Nu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function IF(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _F(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function FF(s,e,t){let n=await Promise.all(s.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await IF(o,t);return c.links?c.links():[]}return[]}));return LF(n.flat(1).filter(_F).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function oB(s,e,t,n,r,o){let c=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,h=(u,f)=>{var A;return t[f].pathname!==u.pathname||((A=t[f].route.path)==null?void 0:A.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>c(u,f)||h(u,f)):o==="data"?e.filter((u,f)=>{var m;let A=n.routes[u.route.id];if(!A||!A.hasLoader)return!1;if(c(u,f)||h(u,f))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(s,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function UF(s,e,{includeHydrateFallback:t}={}){return DF(s.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function DF(s){return[...new Set(s)]}function RF(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function LF(s,e){let t=new Set;return new Set(e),s.reduce((n,r)=>{let o=JSON.stringify(RF(r));return t.has(o)||(t.add(o),n.push({key:o,link:r})),n},[])}function tE(){let s=Z.useContext(mm);return aw(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function QF(){let s=Z.useContext(hv);return aw(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var iw=Z.createContext(void 0);iw.displayName="FrameworkContext";function sE(){let s=Z.useContext(iw);return aw(s,"You must render this element inside a <HydratedRouter> element"),s}function OF(s,e){let t=Z.useContext(iw),[n,r]=Z.useState(!1),[o,c]=Z.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:f,onMouseLeave:A,onTouchStart:m}=e,x=Z.useRef(null);Z.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let I=S=>{S.forEach(E=>{c(E.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[s]),Z.useEffect(()=>{if(n){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[n]);let g=()=>{r(!0)},b=()=>{r(!1),c(!1)};return t?s!=="intent"?[o,x,{}]:[o,x,{onFocus:yp(h,g),onBlur:yp(u,b),onMouseEnter:yp(f,g),onMouseLeave:yp(A,b),onTouchStart:yp(m,g)}]:[!1,x,{}]}function yp(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function PF({page:s,...e}){let{router:t}=tE(),n=Z.useMemo(()=>MN(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?Z.createElement(MF,{page:s,matches:n,...e}):null}function kF(s){let{manifest:e,routeModules:t}=sE(),[n,r]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return FF(s,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[s,e,t]),n}function MF({page:s,matches:e,...t}){let n=Uu(),{manifest:r,routeModules:o}=sE(),{basename:c}=tE(),{loaderData:h,matches:u}=QF(),f=Z.useMemo(()=>oB(s,e,u,r,n,"data"),[s,e,u,r,n]),A=Z.useMemo(()=>oB(s,e,u,r,n,"assets"),[s,e,u,r,n]),m=Z.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let b=new Set,I=!1;if(e.forEach(S=>{var F;let E=r.routes[S.route.id];!E||!E.hasLoader||(!f.some(L=>L.route.id===S.route.id)&&S.route.id in h&&((F=o[S.route.id])!=null&&F.shouldRevalidate)||E.hasClientLoader?I=!0:b.add(S.route.id))}),b.size===0)return[];let N=TF(s,c,"data");return I&&b.size>0&&N.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[c,h,n,r,f,e,s,o]),x=Z.useMemo(()=>UF(A,r),[A,r]),g=kF(A);return Z.createElement(Z.Fragment,null,m.map(b=>Z.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),x.map(b=>Z.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),g.map(({key:b,link:I})=>Z.createElement("link",{key:b,nonce:t.nonce,...I})))}function HF(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var VF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VF&&(window.__reactRouterVersion="7.11.0")}catch{}function KF({basename:s,children:e,unstable_useTransitions:t,window:n}){let r=Z.useRef();r.current==null&&(r.current=j6({window:n,v5Compat:!0}));let o=r.current,[c,h]=Z.useState({action:o.action,location:o.location}),u=Z.useCallback(f=>{t===!1?h(f):Z.startTransition(()=>h(f))},[t]);return Z.useLayoutEffect(()=>o.listen(u),[o,u]),Z.createElement(vF,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ba=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:o,replace:c,state:h,target:u,to:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},b){let{basename:I,unstable_useTransitions:N}=Z.useContext(AA),S=typeof f=="string"&&nE.test(f),E=GN(f,I);f=E.to;let F=nF(f,{relative:r}),[L,O,H]=OF(n,g),Q=YF(f,{replace:c,state:h,target:u,preventScrollReset:A,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function D(K){e&&e(K),K.defaultPrevented||Q(K)}let R=Z.createElement("a",{...g,...H,href:E.absoluteURL||F,onClick:E.isExternal||o?e:D,ref:HF(b,O),target:u,"data-discover":!S&&t==="render"?"true":void 0});return L&&!S?Z.createElement(Z.Fragment,null,R,Z.createElement(PF,{page:F})):R});ba.displayName="Link";var zF=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:o,to:c,viewTransition:h,children:u,...f},A){let m=jg(c,{relative:f.relative}),x=Uu(),g=Z.useContext(hv),{navigator:b,basename:I}=Z.useContext(AA),N=g!=null&&ZF(m)&&h===!0,S=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=x.pathname,F=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(E=E.toLowerCase(),F=F?F.toLowerCase():null,S=S.toLowerCase()),F&&I&&(F=Nu(F,I)||F);const L=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=E===S||!r&&E.startsWith(S)&&E.charAt(L)==="/",H=F!=null&&(F===S||!r&&F.startsWith(S)&&F.charAt(S.length)==="/"),Q={isActive:O,isPending:H,isTransitioning:N},D=O?e:void 0,R;typeof n=="function"?R=n(Q):R=[n,O?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(Q):o;return Z.createElement(ba,{...f,"aria-current":D,className:R,ref:A,style:K,to:c,viewTransition:h},typeof u=="function"?u(Q):u)});zF.displayName="NavLink";var GF=Z.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:o,method:c=ox,action:h,onSubmit:u,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},b)=>{let{unstable_useTransitions:I}=Z.useContext(AA),N=JF(),S=qF(h,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&nE.test(h),L=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let H=O.nativeEvent.submitter,Q=(H==null?void 0:H.getAttribute("formmethod"))||c,D=()=>N(H||O.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:r,state:o,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:x});I&&t!==!1?Z.startTransition(()=>D()):D()};return Z.createElement("form",{ref:b,method:E,action:S,onSubmit:n?u:L,...g,"data-discover":!F&&s==="render"?"true":void 0})});GF.displayName="Form";function $F(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(s){let e=Z.useContext(mm);return Qa(e,$F(s)),e}function YF(s,{target:e,replace:t,state:n,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:u}={}){let f=gm(),A=Uu(),m=jg(s,{relative:o});return Z.useCallback(x=>{if(CF(x,e)){x.preventDefault();let g=t!==void 0?t:tg(A)===tg(m),b=()=>f(s,{replace:g,state:n,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});u?Z.startTransition(()=>b()):b()}},[A,f,m,t,n,e,s,r,o,c,h,u])}var WF=0,XF=()=>`__${String(++WF)}__`;function JF(){let{router:s}=rE("useSubmit"),{basename:e}=Z.useContext(AA),t=mF(),n=s.fetch,r=s.navigate;return Z.useCallback(async(o,c={})=>{let{action:h,method:u,encType:f,formData:A,body:m}=EF(o,e);if(c.navigate===!1){let x=c.fetcherKey||XF();await n(x,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,r,e,t])}function qF(s,{relative:e}={}){let{basename:t}=Z.useContext(AA),n=Z.useContext(Ac);Qa(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...jg(s||".",{relative:e})},c=Uu();if(s==null){o.search=c.search;let h=new URLSearchParams(o.search),u=h.getAll("index");if(u.some(A=>A==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let A=h.toString();o.search=A?`?${A}`:""}}return(!s||s===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Bu([t,o.pathname])),tg(o)}function ZF(s,{relative:e}={}){let t=Z.useContext(YN);Qa(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rE("useViewTransitionState"),r=jg(s,{relative:e});if(!t.isTransitioning)return!1;let o=Nu(t.currentLocation.pathname,n)||t.currentLocation.pathname,c=Nu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Nx(r.pathname,c)!=null||Nx(r.pathname,o)!=null}const eU=()=>{};var lB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(s){const e=[];let t=0;for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<s.length&&(s.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(s.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},tU=function(s){const e=[];let t=0,n=0;for(;t<s.length;){const r=s[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const o=s[t++];e[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=s[t++],c=s[t++],h=s[t++],u=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const o=s[t++],c=s[t++];e[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<s.length;r+=3){const o=s[r],c=r+1<s.length,h=c?s[r+1]:0,u=r+2<s.length,f=u?s[r+2]:0,A=o>>2,m=(o&3)<<4|h>>4;let x=(h&15)<<2|f>>6,g=f&63;u||(g=64,c||(x=64)),n.push(t[A],t[m],t[x],t[g])}return n.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(aE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):tU(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<s.length;){const o=t[s.charAt(r++)],h=r<s.length?t[s.charAt(r)]:0;++r;const f=r<s.length?t[s.charAt(r)]:64;++r;const m=r<s.length?t[s.charAt(r)]:64;if(++r,o==null||h==null||f==null||m==null)throw new sU;const x=o<<2|h>>4;if(n.push(x),f!==64){const g=h<<4&240|f>>2;if(n.push(g),m!==64){const b=f<<6&192|m;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class sU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nU=function(s){const e=aE(s);return iE.encodeByteArray(e,!0)},Ex=function(s){return nU(s).replace(/\./g,"")},oE=function(s){try{return iE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=()=>rU().__FIREBASE_DEFAULTS__,iU=()=>{if(typeof process>"u"||typeof lB>"u")return;const s=lB.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oU=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&oE(s[1]);return e&&JSON.parse(e)},mv=()=>{try{return eU()||aU()||iU()||oU()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lE=s=>{var e,t;return(t=(e=mv())==null?void 0:e.emulatorHosts)==null?void 0:t[s]},AE=s=>{const e=lE(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},cE=()=>{var s;return(s=mv())==null?void 0:s.config},uE=s=>{var e;return(e=mv())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ow(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=s.iat||0,o=s.sub||s.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ex(JSON.stringify(t)),Ex(JSON.stringify(c)),""].join(".")}const Rp={};function cU(){const s={prod:[],emulator:[]};for(const e of Object.keys(Rp))Rp[e]?s.emulator.push(e):s.prod.push(e);return s}function uU(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let AB=!1;function lw(s,e){if(typeof window>"u"||typeof document>"u"||!Wd(window.location.host)||Rp[s]===e||Rp[s]||AB)return;Rp[s]=e;function t(x){return`__firebase__banner__${x}`}const n="__firebase__banner",o=cU().prod.length>0;function c(){const x=document.getElementById(n);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function u(x,g){x.setAttribute("width","24"),x.setAttribute("id",g),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{AB=!0,c()},x}function A(x,g){x.setAttribute("id",g),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function m(){const x=uU(n),g=t("text"),b=document.getElementById(g)||document.createElement("span"),I=t("learnmore"),N=document.getElementById(I)||document.createElement("a"),S=t("preprendIcon"),E=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;h(F),A(N,I);const L=f();u(E,S),F.append(E,b,N,L),document.body.appendChild(F)}o?(b.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(al())}function hU(){var e;const s=(e=mv())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mU(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gU(){const s=al();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xU(){return!hU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vU(){try{return typeof indexedDB=="object"}catch{return!1}}function yU(){return new Promise((s,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),s(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="FirebaseError";class cc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=bU,Object.setPrototypeOf(this,cc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bg.prototype.create)}}class Bg{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?wU(o,n):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new cc(r,h,n)}}function wU(s,e){return s.replace(jU,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const jU=/\{\$([^}]+)}/g;function BU(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xh(s,e){if(s===e)return!0;const t=Object.keys(s),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const o=s[r],c=e[r];if(cB(o)&&cB(c)){if(!Xh(o,c))return!1}else if(o!==c)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function cB(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(s){const e=[];for(const[t,n]of Object.entries(s))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Sp(s){const e={};return s.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,o]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Np(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function CU(s,e){const t=new SU(s,e);return t.subscribe.bind(t)}class SU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");NU(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=Ly),r.error===void 0&&(r.error=Ly),r.complete===void 0&&(r.complete=Ly);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NU(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(s){return s&&s._delegate?s._delegate:s}let Tx=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new lU;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IU(e))try{this.getOrInitializeService({instanceIdentifier:Uh})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(e=Uh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uh){return this.instances.has(e)}getOptions(e=Uh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);n===h&&c.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const o=this.instances.get(n);return o&&e(o,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:TU(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Uh){return this.component?this.component.multipleInstances?e:Uh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TU(s){return s===Uh?void 0:s}function IU(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ya;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ya||(ya={}));const FU={debug:ya.DEBUG,verbose:ya.VERBOSE,info:ya.INFO,warn:ya.WARN,error:ya.ERROR,silent:ya.SILENT},UU=ya.INFO,DU={[ya.DEBUG]:"log",[ya.VERBOSE]:"log",[ya.INFO]:"info",[ya.WARN]:"warn",[ya.ERROR]:"error"},RU=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),r=DU[e];if(r)console[r](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let LU=class{constructor(e){this.name=e,this._logLevel=UU,this._logHandler=RU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ya))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ya.DEBUG,...e),this._logHandler(this,ya.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ya.VERBOSE,...e),this._logHandler(this,ya.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ya.INFO,...e),this._logHandler(this,ya.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ya.WARN,...e),this._logHandler(this,ya.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ya.ERROR,...e),this._logHandler(this,ya.ERROR,...e)}};const QU=(s,e)=>e.some(t=>s instanceof t);let uB,dB;function OU(){return uB||(uB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PU(){return dB||(dB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,H1=new WeakMap,hE=new WeakMap,Qy=new WeakMap,Aw=new WeakMap;function kU(s){const e=new Promise((t,n)=>{const r=()=>{s.removeEventListener("success",o),s.removeEventListener("error",c)},o=()=>{t(Ud(s.result)),r()},c=()=>{n(s.error),r()};s.addEventListener("success",o),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&dE.set(t,s)}).catch(()=>{}),Aw.set(e,s),e}function MU(s){if(H1.has(s))return;const e=new Promise((t,n)=>{const r=()=>{s.removeEventListener("complete",o),s.removeEventListener("error",c),s.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{n(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",o),s.addEventListener("error",c),s.addEventListener("abort",c)});H1.set(s,e)}let V1={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return H1.get(s);if(e==="objectStoreNames")return s.objectStoreNames||hE.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ud(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function HU(s){V1=s(V1)}function VU(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=s.call(Oy(this),e,...t);return hE.set(n,e.sort?e.sort():[e]),Ud(n)}:PU().includes(s)?function(...e){return s.apply(Oy(this),e),Ud(dE.get(this))}:function(...e){return Ud(s.apply(Oy(this),e))}}function KU(s){return typeof s=="function"?VU(s):(s instanceof IDBTransaction&&MU(s),QU(s,OU())?new Proxy(s,V1):s)}function Ud(s){if(s instanceof IDBRequest)return kU(s);if(Qy.has(s))return Qy.get(s);const e=KU(s);return e!==s&&(Qy.set(s,e),Aw.set(e,s)),e}const Oy=s=>Aw.get(s);function zU(s,e,{blocked:t,upgrade:n,blocking:r,terminated:o}={}){const c=indexedDB.open(s,e),h=Ud(c);return n&&c.addEventListener("upgradeneeded",u=>{n(Ud(c.result),u.oldVersion,u.newVersion,Ud(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),h.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const GU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],Py=new Map;function hB(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=$U.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||GU.includes(t)))return;const o=async function(c,...h){const u=this.transaction(c,r?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),r&&u.done]))[0]};return Py.set(e,o),o}HU(s=>({...s,get:(e,t,n)=>hB(e,t)||s.get(e,t,n),has:(e,t)=>!!hB(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WU(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function WU(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const K1="@firebase/app",fB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new LU("@firebase/app"),XU="@firebase/app-compat",JU="@firebase/analytics-compat",qU="@firebase/analytics",ZU="@firebase/app-check-compat",eD="@firebase/app-check",tD="@firebase/auth",sD="@firebase/auth-compat",nD="@firebase/database",rD="@firebase/data-connect",aD="@firebase/database-compat",iD="@firebase/functions",oD="@firebase/functions-compat",lD="@firebase/installations",AD="@firebase/installations-compat",cD="@firebase/messaging",uD="@firebase/messaging-compat",dD="@firebase/performance",hD="@firebase/performance-compat",fD="@firebase/remote-config",mD="@firebase/remote-config-compat",pD="@firebase/storage",gD="@firebase/storage-compat",xD="@firebase/firestore",vD="@firebase/ai",yD="@firebase/firestore-compat",bD="firebase",wD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="[DEFAULT]",jD={[K1]:"fire-core",[XU]:"fire-core-compat",[qU]:"fire-analytics",[JU]:"fire-analytics-compat",[eD]:"fire-app-check",[ZU]:"fire-app-check-compat",[tD]:"fire-auth",[sD]:"fire-auth-compat",[nD]:"fire-rtdb",[rD]:"fire-data-connect",[aD]:"fire-rtdb-compat",[iD]:"fire-fn",[oD]:"fire-fn-compat",[lD]:"fire-iid",[AD]:"fire-iid-compat",[cD]:"fire-fcm",[uD]:"fire-fcm-compat",[dD]:"fire-perf",[hD]:"fire-perf-compat",[fD]:"fire-rc",[mD]:"fire-rc-compat",[pD]:"fire-gcs",[gD]:"fire-gcs-compat",[xD]:"fire-fst",[yD]:"fire-fst-compat",[vD]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Map,BD=new Map,G1=new Map;function mB(s,e){try{s.container.addComponent(e)}catch(t){Eu.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Pd(s){const e=s.name;if(G1.has(e))return Eu.debug(`There were multiple attempts to register component ${e}.`),!1;G1.set(e,s);for(const t of Ix.values())mB(t,s);for(const t of BD.values())mB(t,s);return!0}function pv(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function rA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dd=new Bg("app","Firebase",CD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Tx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=wD;function fE(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const n={name:z1,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw Dd.create("bad-app-name",{appName:String(r)});if(t||(t=cE()),!t)throw Dd.create("no-options");const o=Ix.get(r);if(o){if(Xh(t,o.options)&&Xh(n,o.config))return o;throw Dd.create("duplicate-app",{appName:r})}const c=new _U(r);for(const u of G1.values())c.addComponent(u);const h=new SD(t,n,c);return Ix.set(r,h),h}function cw(s=z1){const e=Ix.get(s);if(!e&&s===z1&&cE())return fE();if(!e)throw Dd.create("no-app",{appName:s});return e}function UA(s,e,t){let n=jD[s]??s;t&&(n+=`-${t}`);const r=n.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${n}" with version "${e}":`];r&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eu.warn(c.join(" "));return}Pd(new Tx(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebase-heartbeat-database",ED=1,sg="firebase-heartbeat-store";let ky=null;function mE(){return ky||(ky=zU(ND,ED,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(sg)}catch(t){console.warn(t)}}}}).catch(s=>{throw Dd.create("idb-open",{originalErrorMessage:s.message})})),ky}async function TD(s){try{const t=(await mE()).transaction(sg),n=await t.objectStore(sg).get(pE(s));return await t.done,n}catch(e){if(e instanceof cc)Eu.warn(e.message);else{const t=Dd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Eu.warn(t.message)}}}async function pB(s,e){try{const n=(await mE()).transaction(sg,"readwrite");await n.objectStore(sg).put(e,pE(s)),await n.done}catch(t){if(t instanceof cc)Eu.warn(t.message);else{const n=Dd.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Eu.warn(n.message)}}}function pE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1024,_D=30;class FD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DD(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>_D){const c=RD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Eu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gB(),{heartbeatsToSend:n,unsentEntries:r}=UD(this._heartbeatsCache.heartbeats),o=Ex(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Eu.warn(t),""}}}function gB(){return new Date().toISOString().substring(0,10)}function UD(s,e=ID){const t=[];let n=s.slice();for(const r of s){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),xB(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),xB(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class DD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vU()?yU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return pB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return pB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function xB(s){return Ex(JSON.stringify({version:2,heartbeats:s})).length}function RD(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let n=1;n<s.length;n++)s[n].date<t&&(t=s[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(s){Pd(new Tx("platform-logger",e=>new YU(e),"PRIVATE")),Pd(new Tx("heartbeat",e=>new FD(e),"PRIVATE")),UA(K1,fB,s),UA(K1,fB,"esm2020"),UA("fire-js","")}LD("");var QD="firebase",OD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */UA(QD,OD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(sa||(sa={}));const PD={debug:sa.DEBUG,verbose:sa.VERBOSE,info:sa.INFO,warn:sa.WARN,error:sa.ERROR,silent:sa.SILENT},kD=sa.INFO,MD={[sa.DEBUG]:"log",[sa.VERBOSE]:"log",[sa.INFO]:"info",[sa.WARN]:"warn",[sa.ERROR]:"error"},HD=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),r=MD[e];if(r)console[r](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let VD=class{constructor(e){this.name=e,this._logLevel=kD,this._logHandler=HD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,sa.DEBUG,...e),this._logHandler(this,sa.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,sa.VERBOSE,...e),this._logHandler(this,sa.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,sa.INFO,...e),this._logHandler(this,sa.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,sa.WARN,...e),this._logHandler(this,sa.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,sa.ERROR,...e),this._logHandler(this,sa.ERROR,...e)}},vB=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KD=gE,xE=new Bg("auth","Firebase",gE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new VD("@firebase/auth");function zD(s,...e){_x.logLevel<=sa.WARN&&_x.warn(`Auth (${nf}): ${s}`,...e)}function Ax(s,...e){_x.logLevel<=sa.ERROR&&_x.error(`Auth (${nf}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(s,...e){throw uw(s,...e)}function Mc(s,...e){return uw(s,...e)}function vE(s,e,t){const n={...KD(),[e]:t};return new Bg("auth","Firebase",n).create(e,{appName:s.name})}function Rd(s){return vE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uw(s,...e){if(typeof s!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=s.name),s._errorFactory.create(t,...n)}return xE.create(s,...e)}function sn(s,e,...t){if(!s)throw uw(e,...t)}function wu(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ax(e),new Error(e)}function Tu(s,e){s||wu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function GD(){return yB()==="http:"||yB()==="https:"}function yB(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GD()||mU()||"connection"in navigator)?navigator.onLine:!0}function YD(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tu(t>e,"Short delay should be less than long delay!"),this.isMobile=dU()||pU()}get(){return $D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(s,e){Tu(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JD=new Sg(3e4,6e4);function Xd(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Du(s,e,t,n,r={}){return bE(s,r,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const h=Cg({key:s.config.apiKey,...c}).slice(1),u=await s._getAdditionalHeaders();u["Content-Type"]="application/json",s.languageCode&&(u["X-Firebase-Locale"]=s.languageCode);const f={method:e,headers:u,...o};return fU()||(f.referrerPolicy="no-referrer"),s.emulatorConfig&&Wd(s.emulatorConfig.host)&&(f.credentials="include"),yE.fetch()(await wE(s,s.config.apiHost,t,h),f)})}async function bE(s,e,t){s._canInitEmulator=!1;const n={...WD,...e};try{const r=new ZD(s),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw P0(s,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[u,f]=h.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw P0(s,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw P0(s,"email-already-in-use",c);if(u==="USER_DISABLED")throw P0(s,"user-disabled",c);const A=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vE(s,A,f);ic(s,A)}}catch(r){if(r instanceof cc)throw r;ic(s,"network-request-failed",{message:String(r)})}}async function gv(s,e,t,n,r={}){const o=await Du(s,e,t,n,r);return"mfaPendingCredential"in o&&ic(s,"multi-factor-auth-required",{_serverResponse:o}),o}async function wE(s,e,t,n){const r=`${e}${t}?${n}`,o=s,c=o.config.emulator?dw(s.config,r):`${s.config.apiScheme}://${r}`;return XD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function qD(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Mc(this.auth,"network-request-failed")),JD.get())})}}function P0(s,e,t){const n={appName:s.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=Mc(s,e,n);return r.customData._tokenResponse=t,r}function bB(s){return s!==void 0&&s.enterprise!==void 0}class eR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tR(s,e){return Du(s,"GET","/v2/recaptchaConfig",Xd(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(s,e){return Du(s,"POST","/v1/accounts:delete",e)}async function Fx(s,e){return Du(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nR(s,e=!1){const t=Oa(s),n=await t.getIdToken(e),r=hw(n);sn(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:n,authTime:Lp(My(r.auth_time)),issuedAtTime:Lp(My(r.iat)),expirationTime:Lp(My(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function My(s){return Number(s)*1e3}function hw(s){const[e,t,n]=s.split(".");if(e===void 0||t===void 0||n===void 0)return Ax("JWT malformed, contained fewer than 3 sections"),null;try{const r=oE(t);return r?JSON.parse(r):(Ax("Failed to decode base64 JWT payload"),null)}catch(r){return Ax("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function wB(s){const e=hw(s);return sn(e,"internal-error"),sn(typeof e.exp<"u","internal-error"),sn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(s,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof cc&&rR(n)&&s.auth.currentUser===s&&await s.auth.signOut(),n}}function rR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lp(this.lastLoginAt),this.creationTime=Lp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(s){var m;const e=s.auth,t=await s.getIdToken(),n=await ng(s,Fx(e,{idToken:t}));sn(n==null?void 0:n.users.length,e,"internal-error");const r=n.users[0];s._notifyReloadListener(r);const o=(m=r.providerUserInfo)!=null&&m.length?jE(r.providerUserInfo):[],c=oR(s.providerData,o),h=s.isAnonymous,u=!(s.email&&r.passwordHash)&&!(c!=null&&c.length),f=h?u:!1,A={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Y1(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(s,A)}async function iR(s){const e=Oa(s);await Ux(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oR(s,e){return[...s.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function jE(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(s,e){const t=await bE(s,{},async()=>{const n=Cg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=s.config,c=await wE(s,r,"/v1/token",`key=${o}`),h=await s._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:h,body:n};return s.emulatorConfig&&Wd(s.emulatorConfig.host)&&(u.credentials="include"),yE.fetch()(c,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AR(s,e){return Du(s,"POST","/v2/accounts:revokeToken",Xd(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sn(e.idToken,"internal-error"),sn(typeof e.idToken<"u","internal-error"),sn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){sn(e.length!==0,"internal-error");const t=wB(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(sn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await lR(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,c=new qf;return n&&(sn(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),r&&(sn(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(sn(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qf,this.toJSON())}_performRefresh(){return wu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(s,e){sn(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class rc{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Y1(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await ng(this,this.stsTokenManager.getToken(this.auth,e));return sn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nR(this,e)}reload(){return iR(this)}_assign(e){this!==e&&(sn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){sn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ux(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rA(this.auth.app))return Promise.reject(Rd(this.auth));const e=await this.getIdToken();return await ng(this,sR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,u=t._redirectEventId??void 0,f=t.createdAt??void 0,A=t.lastLoginAt??void 0,{uid:m,emailVerified:x,isAnonymous:g,providerData:b,stsTokenManager:I}=t;sn(m&&I,e,"internal-error");const N=qf.fromJSON(this.name,I);sn(typeof m=="string",e,"internal-error"),gd(n,e.name),gd(r,e.name),sn(typeof x=="boolean",e,"internal-error"),sn(typeof g=="boolean",e,"internal-error"),gd(o,e.name),gd(c,e.name),gd(h,e.name),gd(u,e.name),gd(f,e.name),gd(A,e.name);const S=new rc({uid:m,auth:e,email:r,emailVerified:x,displayName:n,isAnonymous:g,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:f,lastLoginAt:A});return b&&Array.isArray(b)&&(S.providerData=b.map(E=>({...E}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new qf;r.updateFromServerResponse(t);const o=new rc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ux(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];sn(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?jE(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new qf;h.updateFromIdToken(n);const u=new rc({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Y1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new Map;function ju(s){Tu(s instanceof Function,"Expected a class definition");let e=jB.get(s);return e?(Tu(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,jB.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BE.type="NONE";const BB=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(s,e,t){return`firebase:${s}:${e}:${t}`}class Zf{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=cx(this.userKey,r.apiKey,o),this.fullPersistenceKey=cx("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fx(this.auth,{idToken:e}).catch(()=>{});return t?rc._fromGetAccountInfoResponse(this.auth,t,e):null}return rc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Zf(ju(BB),e,n);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||ju(BB);const c=cx(n,e.config.apiKey,e.name);let h=null;for(const f of t)try{const A=await f._get(c);if(A){let m;if(typeof A=="string"){const x=await Fx(e,{idToken:A}).catch(()=>{});if(!x)break;m=await rc._fromGetAccountInfoResponse(e,x,A)}else m=rc._fromJSON(e,A);f!==o&&(h=m),o=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Zf(o,e,n):(o=u[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Zf(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IE(e))return"Blackberry";if(_E(e))return"Webos";if(SE(e))return"Safari";if((e.includes("chrome/")||NE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=s.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function CE(s=al()){return/firefox\//i.test(s)}function SE(s=al()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NE(s=al()){return/crios\//i.test(s)}function EE(s=al()){return/iemobile/i.test(s)}function TE(s=al()){return/android/i.test(s)}function IE(s=al()){return/blackberry/i.test(s)}function _E(s=al()){return/webos/i.test(s)}function fw(s=al()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cR(s=al()){var e;return fw(s)&&!!((e=window.navigator)!=null&&e.standalone)}function uR(){return gU()&&document.documentMode===10}function FE(s=al()){return fw(s)||TE(s)||_E(s)||IE(s)||/windows phone/i.test(s)||EE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(s,e=[]){let t;switch(s){case"Browser":t=CB(al());break;case"Worker":t=`${CB(al())}-${s}`;break;default:t=s}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,h)=>{try{const u=e(o);c(u)}catch(u){h(u)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(s,e={}){return Du(s,"GET","/v2/passwordPolicy",Xd(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=6;class mR{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SB(this),this.idTokenSubscription=new SB(this),this.beforeStateQueue=new dR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ju(t)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await Zf.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fx(this,{idToken:e}),n=await rc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(rA(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=n==null?void 0:n._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===h)&&(u!=null&&u.user)&&(n=u.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(c){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return sn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ux(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rA(this.app))return Promise.reject(Rd(this));const t=e?Oa(e):null;return t&&sn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&sn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rA(this.app)?Promise.reject(Rd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rA(this.app)?Promise.reject(Rd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ju(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hR(this),t=new mR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bg("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await AR(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ju(e)||this._popupRedirectResolver;sn(t,this,"argument-error"),this.redirectPersistenceManager=await Zf.create(this,[ju(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(sn(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,r);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if(rA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&zD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function rf(s){return Oa(s)}class SB{constructor(e){this.auth=e,this.observer=null,this.addObserver=CU(t=>this.observer=t)}get next(){return sn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(s){xv=s}function DE(s){return xv.loadJS(s)}function xR(){return xv.recaptchaEnterpriseScript}function vR(){return xv.gapiScript}function yR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class bR{constructor(){this.enterprise=new wR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jR="recaptcha-enterprise",RE="NO_RECAPTCHA";class BR{constructor(e){this.type=jR,this.auth=rf(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{tR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new eR(u);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(u=>{h(u)})})}function r(o,c,h){const u=window.grecaptcha;bB(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(RE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bR().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(h=>{if(!t&&bB(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xR();u.length!==0&&(u+=h),DE(u).then(()=>{r(h,o,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function NB(s,e,t,n=!1,r=!1){const o=new BR(s);let c;if(r)c=RE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const u=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const u=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function W1(s,e,t,n,r){var o;if((o=s._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await NB(s,e,t,t==="getOobCode");return n(s,c)}else return n(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await NB(s,e,t,t==="getOobCode");return n(s,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s,e){const t=pv(s,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(Xh(o,e??{}))return r;ic(r,"already-initialized")}return t.initialize({options:e})}function SR(s,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(ju);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function NR(s,e,t){const n=rf(s);sn(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,o=LE(e),{host:c,port:h}=ER(e),u=h===null?"":`:${h}`,f={url:`${o}//${c}${u}/`},A=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){sn(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),sn(Xh(f,n.config.emulator)&&Xh(A,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=A,n.settings.appVerificationDisabledForTesting=!0,Wd(c)?(ow(`${o}//${c}${u}`),lw("Auth",!0)):TR()}function LE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function ER(s){const e=LE(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const o=r[1];return{host:o,port:EB(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:EB(c)}}}function EB(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function TR(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wu("not implemented")}_getIdTokenResponse(e){return wu("not implemented")}_linkToIdToken(e,t){return wu("not implemented")}_getReauthenticationResolver(e){return wu("not implemented")}}async function IR(s,e){return Du(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(s,e){return gv(s,"POST","/v1/accounts:signInWithPassword",Xd(s,e))}async function FR(s,e){return Du(s,"POST","/v1/accounts:sendOobCode",Xd(s,e))}async function UR(s,e){return FR(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(s,e){return gv(s,"POST","/v1/accounts:signInWithEmailLink",Xd(s,e))}async function RR(s,e){return gv(s,"POST","/v1/accounts:signInWithEmailLink",Xd(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends mw{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new rg(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new rg(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,t,"signInWithPassword",_R);case"emailLink":return DR(e,{email:this._email,oobCode:this._password});default:ic(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,n,"signUpPassword",IR);case"emailLink":return RR(e,{idToken:t,email:this._email,oobCode:this._password});default:ic(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(s,e){return gv(s,"POST","/v1/accounts:signInWithIdp",Xd(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="http://localhost";class Jh extends mw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ic("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r,...o}=t;if(!n||!r)return null;const c=new Jh(n,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return em(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,em(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,em(e,t)}buildRequest(){const e={requestUri:LR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OR(s){const e=Sp(Np(s)).link,t=e?Sp(Np(e)).deep_link_id:null,n=Sp(Np(s)).deep_link_id;return(n?Sp(Np(n)).link:null)||n||t||e||s}class pw{constructor(e){const t=Sp(Np(e)),n=t.apiKey??null,r=t.oobCode??null,o=QR(t.mode??null);sn(n&&r&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=OR(e);try{return new pw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.providerId=xm.PROVIDER_ID}static credential(e,t){return rg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pw.parseLink(t);return sn(n,"argument-error"),rg._fromEmailAndCode(e,n.code,n.tenantId)}}xm.PROVIDER_ID="password";xm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Ng{constructor(){super("facebook.com")}static credential(e){return Jh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jd.credential(e.oauthAccessToken)}catch{return null}}}jd.FACEBOOK_SIGN_IN_METHOD="facebook.com";jd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends Ng{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jh._fromParams({providerId:Bd.PROVIDER_ID,signInMethod:Bd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bd.credentialFromTaggedObject(e)}static credentialFromError(e){return Bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Bd.credential(t,n)}catch{return null}}}Bd.GOOGLE_SIGN_IN_METHOD="google.com";Bd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Ng{constructor(){super("github.com")}static credential(e){return Jh._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cd.credential(e.oauthAccessToken)}catch{return null}}}Cd.GITHUB_SIGN_IN_METHOD="github.com";Cd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends Ng{constructor(){super("twitter.com")}static credential(e,t){return Jh._fromParams({providerId:Sd.PROVIDER_ID,signInMethod:Sd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sd.credentialFromTaggedObject(e)}static credentialFromError(e){return Sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Sd.credential(t,n)}catch{return null}}}Sd.TWITTER_SIGN_IN_METHOD="twitter.com";Sd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const o=await rc._fromIdTokenResponse(e,n,r),c=TB(n);return new nm({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=TB(n);return new nm({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function TB(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends cc{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Dx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Dx(e,t,n,r)}}function OE(s,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dx._fromErrorAndOperation(s,o,e,n):o})}async function PR(s,e,t=!1){const n=await ng(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return nm._forOperation(s,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(s,e,t=!1){const{auth:n}=s;if(rA(n.app))return Promise.reject(Rd(n));const r="reauthenticate";try{const o=await ng(s,OE(n,r,e,s),t);sn(o.idToken,n,"internal-error");const c=hw(o.idToken);sn(c,n,"internal-error");const{sub:h}=c;return sn(s.uid===h,n,"user-mismatch"),nm._forOperation(s,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ic(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(s,e,t=!1){if(rA(s.app))return Promise.reject(Rd(s));const n="signIn",r=await OE(s,n,e),o=await nm._fromIdTokenResponse(s,n,r);return t||await s._updateCurrentUser(o.user),o}async function MR(s,e){return PE(rf(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(s){const e=rf(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VR(s,e,t){const n=rf(s);await W1(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UR)}function KR(s,e,t){return rA(s.app)?Promise.reject(Rd(s)):MR(Oa(s),xm.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&HR(s),n})}function zR(s,e,t,n){return Oa(s).onIdTokenChanged(e,t,n)}function GR(s,e,t){return Oa(s).beforeAuthStateChanged(e,t)}function $R(s,e,t,n){return Oa(s).onAuthStateChanged(e,t,n)}function bp(s){return Oa(s).signOut()}const Rx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rx,"1"),this.storage.removeItem(Rx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1e3,WR=10;class ME extends kE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,u)=>{this.notifyListeners(c,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);uR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,WR):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const XR=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends kE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HE.type="SESSION";const VE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const n=new vv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const h=Array.from(c).map(async f=>f(t.origin,o)),u=await JR(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(s="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,u)=>{const f=gw("",20);r.port1.start();const A=setTimeout(()=>{u(new Error("unsupported_event"))},n);c={messageChannel:r,onMessage(m){const x=m;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(A),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(){return window}function ZR(s){Hc().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof Hc().WorkerGlobalScope<"u"&&typeof Hc().importScripts=="function"}async function eL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tL(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function sL(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",nL=1,Lx="firebaseLocalStorage",GE="fbase_key";class Eg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yv(s,e){return s.transaction([Lx],e?"readwrite":"readonly").objectStore(Lx)}function rL(){const s=indexedDB.deleteDatabase(zE);return new Eg(s).toPromise()}function X1(){const s=indexedDB.open(zE,nL);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const n=s.result;try{n.createObjectStore(Lx,{keyPath:GE})}catch(r){t(r)}}),s.addEventListener("success",async()=>{const n=s.result;n.objectStoreNames.contains(Lx)?e(n):(n.close(),await rL(),e(await X1()))})})}async function IB(s,e,t){const n=yv(s,!0).put({[GE]:e,value:t});return new Eg(n).toPromise()}async function aL(s,e){const t=yv(s,!1).get(e),n=await new Eg(t).toPromise();return n===void 0?null:n.value}function _B(s,e){const t=yv(s,!0).delete(e);return new Eg(t).toPromise()}const iL=800,oL=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await X1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>oL)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vv._getInstance(sL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await eL(),!this.activeServiceWorker)return;this.sender=new qR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await X1();return await IB(e,Rx,"1"),await _B(e,Rx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>IB(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>aL(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_B(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=yv(r,!1).getAll();return new Eg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const lL=$E;new Sg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(s,e){return e?ju(e):(sn(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends mw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return em(e,this._buildIdpRequest())}_linkToIdToken(e,t){return em(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return em(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cL(s){return PE(s.auth,new xw(s),s.bypassAuthState)}function uL(s){const{auth:e,user:t}=s;return sn(t,e,"internal-error"),kR(t,new xw(s),s.bypassAuthState)}async function dL(s){const{auth:e,user:t}=s;return sn(t,e,"internal-error"),PR(t,new xw(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,n,r,o=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cL;case"linkViaPopup":case"linkViaRedirect":return dL;case"reauthViaPopup":case"reauthViaRedirect":return uL;default:ic(this.auth,"internal-error")}}resolve(e){Tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Sg(2e3,1e4);class Gf extends YE{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Gf.currentPopupAction&&Gf.currentPopupAction.cancel(),Gf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sn(e,this.auth,"internal-error"),e}async onExecution(){Tu(this.filter.length===1,"Popup operations only handle one event");const e=gw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hL.get())};e()}}Gf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="pendingRedirect",ux=new Map;class mL extends YE{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ux.get(this.auth._key());if(!e){try{const n=await pL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ux.set(this.auth._key(),e)}return this.bypassAuthState||ux.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pL(s,e){const t=vL(e),n=xL(s);if(!await n._isAvailable())return!1;const r=await n._get(t)==="true";return await n._remove(t),r}function gL(s,e){ux.set(s._key(),e)}function xL(s){return ju(s._redirectPersistence)}function vL(s){return cx(fL,s.config.apiKey,s.name)}async function yL(s,e,t=!1){if(rA(s.app))return Promise.reject(Rd(s));const n=rf(s),r=AL(n,e),c=await new mL(n,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=600*1e3;class wL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!WE(e)){const r=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bL&&this.cachedEventUids.clear(),this.cachedEventUids.has(FB(e))}saveEventToCache(e){this.cachedEventUids.add(FB(e)),this.lastProcessedEventTime=Date.now()}}function FB(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function WE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jL(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(s,e={}){return Du(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SL=/^https?/;async function NL(s){if(s.config.emulator)return;const{authorizedDomains:e}=await BL(s);for(const t of e)try{if(EL(t))return}catch{}ic(s,"unauthorized-domain")}function EL(s){const e=$1(),{protocol:t,hostname:n}=new URL(e);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&n===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!SL.test(t))return!1;if(CL.test(s))return n===s;const r=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new Sg(3e4,6e4);function UB(){const s=Hc().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function IL(s){return new Promise((e,t)=>{var r,o,c;function n(){UB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UB(),t(Mc(s,"network-request-failed"))},timeout:TL.get()})}if((o=(r=Hc().gapi)==null?void 0:r.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=Hc().gapi)!=null&&c.load)n();else{const h=yR("iframefcb");return Hc()[h]=()=>{gapi.load?n():t(Mc(s,"network-request-failed"))},DE(`${vR()}?onload=${h}`).catch(u=>t(u))}}).catch(e=>{throw dx=null,e})}let dx=null;function _L(s){return dx=dx||IL(s),dx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=new Sg(5e3,15e3),UL="__/auth/iframe",DL="emulator/auth/iframe",RL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QL(s){const e=s.config;sn(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?dw(e,DL):`https://${s.config.authDomain}/${UL}`,n={apiKey:e.apiKey,appName:s.name,v:nf},r=LL.get(s.config.apiHost);r&&(n.eid=r);const o=s._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Cg(n).slice(1)}`}async function OL(s){const e=await _L(s),t=Hc().gapi;return sn(t,s,"internal-error"),e.open({where:document.body,url:QL(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RL,dontclear:!0},n=>new Promise(async(r,o)=>{await n.restyle({setHideOnLeave:!1});const c=Mc(s,"network-request-failed"),h=Hc().setTimeout(()=>{o(c)},FL.get());function u(){Hc().clearTimeout(h),r(n)}n.ping(u).then(u,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kL=500,ML=600,HL="_blank",VL="http://localhost";class DB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KL(s,e,t,n=kL,r=ML){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const u={...PL,width:n.toString(),height:r.toString(),top:o,left:c},f=al().toLowerCase();t&&(h=NE(f)?HL:t),CE(f)&&(e=e||VL,u.scrollbars="yes");const A=Object.entries(u).reduce((x,[g,b])=>`${x}${g}=${b},`,"");if(cR(f)&&h!=="_self")return zL(e||"",h),new DB(null);const m=window.open(e||"",h,A);sn(m,s,"popup-blocked");try{m.focus()}catch{}return new DB(m)}function zL(s,e){const t=document.createElement("a");t.href=s,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="__/auth/handler",$L="emulator/auth/handler",YL=encodeURIComponent("fac");async function RB(s,e,t,n,r,o){sn(s.config.authDomain,s,"auth-domain-config-required"),sn(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:n,v:nf,eventId:r};if(e instanceof QE){e.setDefaultLanguage(s.languageCode),c.providerId=e.providerId||"",BU(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,m]of Object.entries({}))c[A]=m}if(e instanceof Ng){const A=e.getScopes().filter(m=>m!=="");A.length>0&&(c.scopes=A.join(","))}s.tenantId&&(c.tid=s.tenantId);const h=c;for(const A of Object.keys(h))h[A]===void 0&&delete h[A];const u=await s._getAppCheckToken(),f=u?`#${YL}=${encodeURIComponent(u)}`:"";return`${WL(s)}?${Cg(h).slice(1)}${f}`}function WL({config:s}){return s.emulator?dw(s,$L):`https://${s.authDomain}/${GL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="webStorageSupport";class XL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=yL,this._overrideRedirectResult=gL}async _openPopup(e,t,n,r){var c;Tu((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await RB(e,t,n,$1(),r);return KL(e,o,gw())}async _openRedirect(e,t,n,r){await this._originValidation(e);const o=await RB(e,t,n,$1(),r);return ZR(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Tu(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await OL(e),n=new wL(e);return t.register("authEvent",r=>(sn(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hy,{type:Hy},r=>{var c;const o=(c=r==null?void 0:r[0])==null?void 0:c[Hy];o!==void 0&&t(!!o),ic(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FE()||SE()||fw()}}const JL=XL;var LB="@firebase/auth",QB="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){sn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e8(s){Pd(new vB("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=n.options;sn(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:c,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(s)},f=new pR(n,r,o,u);return SR(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Pd(new vB("auth-internal",e=>{const t=rf(e.getProvider("auth").getImmediate());return(n=>new qL(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),UA(LB,QB,ZL(s)),UA(LB,QB,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=300,s8=uE("authIdTokenMaxAge")||t8;let OB=null;const n8=s=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>s8)return;const r=t==null?void 0:t.token;OB!==r&&(OB=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function r8(s=cw()){const e=pv(s,"auth");if(e.isInitialized())return e.getImmediate();const t=CR(s,{popupRedirectResolver:JL,persistence:[lL,XR,VE]}),n=uE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=n8(o.toString());GR(t,c,()=>c(t.currentUser)),zR(t,h=>c(h))}}const r=lE("auth");return r&&NR(t,`http://${r}`),t}function a8(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}gR({loadJS(s){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",s),n.onload=e,n.onerror=r=>{const o=Mc("internal-error");o.customData=r,t(o)},n.type="text/javascript",n.charset="UTF-8",a8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e8("Browser");let i8=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ar||(ar={}));const o8={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},l8=ar.INFO,A8={[ar.DEBUG]:"log",[ar.VERBOSE]:"log",[ar.INFO]:"info",[ar.WARN]:"warn",[ar.ERROR]:"error"},c8=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),r=A8[e];if(r)console[r](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u8{constructor(e){this.name=e,this._logLevel=l8,this._logHandler=c8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ar))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ar.DEBUG,...e),this._logHandler(this,ar.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ar.VERBOSE,...e),this._logHandler(this,ar.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ar.INFO,...e),this._logHandler(this,ar.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ar.WARN,...e),this._logHandler(this,ar.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ar.ERROR,...e),this._logHandler(this,ar.ERROR,...e)}}var PB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ld,XE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Q,D){function R(){}R.prototype=D.prototype,Q.F=D.prototype,Q.prototype=new R,Q.prototype.constructor=Q,Q.D=function(K,P,V){for(var $=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)$[ae-2]=arguments[ae];return D.prototype[P].apply(K,$)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(Q,D,R){R||(R=0);const K=Array(16);if(typeof D=="string")for(var P=0;P<16;++P)K[P]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(P=0;P<16;++P)K[P]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=Q.g[0],R=Q.g[1],P=Q.g[2];let V=Q.g[3],$;$=D+(V^R&(P^V))+K[0]+3614090360&4294967295,D=R+($<<7&4294967295|$>>>25),$=V+(P^D&(R^P))+K[1]+3905402710&4294967295,V=D+($<<12&4294967295|$>>>20),$=P+(R^V&(D^R))+K[2]+606105819&4294967295,P=V+($<<17&4294967295|$>>>15),$=R+(D^P&(V^D))+K[3]+3250441966&4294967295,R=P+($<<22&4294967295|$>>>10),$=D+(V^R&(P^V))+K[4]+4118548399&4294967295,D=R+($<<7&4294967295|$>>>25),$=V+(P^D&(R^P))+K[5]+1200080426&4294967295,V=D+($<<12&4294967295|$>>>20),$=P+(R^V&(D^R))+K[6]+2821735955&4294967295,P=V+($<<17&4294967295|$>>>15),$=R+(D^P&(V^D))+K[7]+4249261313&4294967295,R=P+($<<22&4294967295|$>>>10),$=D+(V^R&(P^V))+K[8]+1770035416&4294967295,D=R+($<<7&4294967295|$>>>25),$=V+(P^D&(R^P))+K[9]+2336552879&4294967295,V=D+($<<12&4294967295|$>>>20),$=P+(R^V&(D^R))+K[10]+4294925233&4294967295,P=V+($<<17&4294967295|$>>>15),$=R+(D^P&(V^D))+K[11]+2304563134&4294967295,R=P+($<<22&4294967295|$>>>10),$=D+(V^R&(P^V))+K[12]+1804603682&4294967295,D=R+($<<7&4294967295|$>>>25),$=V+(P^D&(R^P))+K[13]+4254626195&4294967295,V=D+($<<12&4294967295|$>>>20),$=P+(R^V&(D^R))+K[14]+2792965006&4294967295,P=V+($<<17&4294967295|$>>>15),$=R+(D^P&(V^D))+K[15]+1236535329&4294967295,R=P+($<<22&4294967295|$>>>10),$=D+(P^V&(R^P))+K[1]+4129170786&4294967295,D=R+($<<5&4294967295|$>>>27),$=V+(R^P&(D^R))+K[6]+3225465664&4294967295,V=D+($<<9&4294967295|$>>>23),$=P+(D^R&(V^D))+K[11]+643717713&4294967295,P=V+($<<14&4294967295|$>>>18),$=R+(V^D&(P^V))+K[0]+3921069994&4294967295,R=P+($<<20&4294967295|$>>>12),$=D+(P^V&(R^P))+K[5]+3593408605&4294967295,D=R+($<<5&4294967295|$>>>27),$=V+(R^P&(D^R))+K[10]+38016083&4294967295,V=D+($<<9&4294967295|$>>>23),$=P+(D^R&(V^D))+K[15]+3634488961&4294967295,P=V+($<<14&4294967295|$>>>18),$=R+(V^D&(P^V))+K[4]+3889429448&4294967295,R=P+($<<20&4294967295|$>>>12),$=D+(P^V&(R^P))+K[9]+568446438&4294967295,D=R+($<<5&4294967295|$>>>27),$=V+(R^P&(D^R))+K[14]+3275163606&4294967295,V=D+($<<9&4294967295|$>>>23),$=P+(D^R&(V^D))+K[3]+4107603335&4294967295,P=V+($<<14&4294967295|$>>>18),$=R+(V^D&(P^V))+K[8]+1163531501&4294967295,R=P+($<<20&4294967295|$>>>12),$=D+(P^V&(R^P))+K[13]+2850285829&4294967295,D=R+($<<5&4294967295|$>>>27),$=V+(R^P&(D^R))+K[2]+4243563512&4294967295,V=D+($<<9&4294967295|$>>>23),$=P+(D^R&(V^D))+K[7]+1735328473&4294967295,P=V+($<<14&4294967295|$>>>18),$=R+(V^D&(P^V))+K[12]+2368359562&4294967295,R=P+($<<20&4294967295|$>>>12),$=D+(R^P^V)+K[5]+4294588738&4294967295,D=R+($<<4&4294967295|$>>>28),$=V+(D^R^P)+K[8]+2272392833&4294967295,V=D+($<<11&4294967295|$>>>21),$=P+(V^D^R)+K[11]+1839030562&4294967295,P=V+($<<16&4294967295|$>>>16),$=R+(P^V^D)+K[14]+4259657740&4294967295,R=P+($<<23&4294967295|$>>>9),$=D+(R^P^V)+K[1]+2763975236&4294967295,D=R+($<<4&4294967295|$>>>28),$=V+(D^R^P)+K[4]+1272893353&4294967295,V=D+($<<11&4294967295|$>>>21),$=P+(V^D^R)+K[7]+4139469664&4294967295,P=V+($<<16&4294967295|$>>>16),$=R+(P^V^D)+K[10]+3200236656&4294967295,R=P+($<<23&4294967295|$>>>9),$=D+(R^P^V)+K[13]+681279174&4294967295,D=R+($<<4&4294967295|$>>>28),$=V+(D^R^P)+K[0]+3936430074&4294967295,V=D+($<<11&4294967295|$>>>21),$=P+(V^D^R)+K[3]+3572445317&4294967295,P=V+($<<16&4294967295|$>>>16),$=R+(P^V^D)+K[6]+76029189&4294967295,R=P+($<<23&4294967295|$>>>9),$=D+(R^P^V)+K[9]+3654602809&4294967295,D=R+($<<4&4294967295|$>>>28),$=V+(D^R^P)+K[12]+3873151461&4294967295,V=D+($<<11&4294967295|$>>>21),$=P+(V^D^R)+K[15]+530742520&4294967295,P=V+($<<16&4294967295|$>>>16),$=R+(P^V^D)+K[2]+3299628645&4294967295,R=P+($<<23&4294967295|$>>>9),$=D+(P^(R|~V))+K[0]+4096336452&4294967295,D=R+($<<6&4294967295|$>>>26),$=V+(R^(D|~P))+K[7]+1126891415&4294967295,V=D+($<<10&4294967295|$>>>22),$=P+(D^(V|~R))+K[14]+2878612391&4294967295,P=V+($<<15&4294967295|$>>>17),$=R+(V^(P|~D))+K[5]+4237533241&4294967295,R=P+($<<21&4294967295|$>>>11),$=D+(P^(R|~V))+K[12]+1700485571&4294967295,D=R+($<<6&4294967295|$>>>26),$=V+(R^(D|~P))+K[3]+2399980690&4294967295,V=D+($<<10&4294967295|$>>>22),$=P+(D^(V|~R))+K[10]+4293915773&4294967295,P=V+($<<15&4294967295|$>>>17),$=R+(V^(P|~D))+K[1]+2240044497&4294967295,R=P+($<<21&4294967295|$>>>11),$=D+(P^(R|~V))+K[8]+1873313359&4294967295,D=R+($<<6&4294967295|$>>>26),$=V+(R^(D|~P))+K[15]+4264355552&4294967295,V=D+($<<10&4294967295|$>>>22),$=P+(D^(V|~R))+K[6]+2734768916&4294967295,P=V+($<<15&4294967295|$>>>17),$=R+(V^(P|~D))+K[13]+1309151649&4294967295,R=P+($<<21&4294967295|$>>>11),$=D+(P^(R|~V))+K[4]+4149444226&4294967295,D=R+($<<6&4294967295|$>>>26),$=V+(R^(D|~P))+K[11]+3174756917&4294967295,V=D+($<<10&4294967295|$>>>22),$=P+(D^(V|~R))+K[2]+718787259&4294967295,P=V+($<<15&4294967295|$>>>17),$=R+(V^(P|~D))+K[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+D&4294967295,Q.g[1]=Q.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,Q.g[2]=Q.g[2]+P&4294967295,Q.g[3]=Q.g[3]+V&4294967295}n.prototype.v=function(Q,D){D===void 0&&(D=Q.length);const R=D-this.blockSize,K=this.C;let P=this.h,V=0;for(;V<D;){if(P==0)for(;V<=R;)r(this,Q,V),V+=this.blockSize;if(typeof Q=="string"){for(;V<D;)if(K[P++]=Q.charCodeAt(V++),P==this.blockSize){r(this,K),P=0;break}}else for(;V<D;)if(K[P++]=Q[V++],P==this.blockSize){r(this,K),P=0;break}}this.h=P,this.o+=D},n.prototype.A=function(){var Q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Q[0]=128;for(var D=1;D<Q.length-8;++D)Q[D]=0;D=this.o*8;for(var R=Q.length-8;R<Q.length;++R)Q[R]=D&255,D/=256;for(this.v(Q),Q=Array(16),D=0,R=0;R<4;++R)for(let K=0;K<32;K+=8)Q[D++]=this.g[R]>>>K&255;return Q};function o(Q,D){var R=h;return Object.prototype.hasOwnProperty.call(R,Q)?R[Q]:R[Q]=D(Q)}function c(Q,D){this.h=D;const R=[];let K=!0;for(let P=Q.length-1;P>=0;P--){const V=Q[P]|0;K&&V==D||(R[P]=V,K=!1)}this.g=R}var h={};function u(Q){return-128<=Q&&Q<128?o(Q,function(D){return new c([D|0],D<0?-1:0)}):new c([Q|0],Q<0?-1:0)}function f(Q){if(isNaN(Q)||!isFinite(Q))return m;if(Q<0)return N(f(-Q));const D=[];let R=1;for(let K=0;Q>=R;K++)D[K]=Q/R|0,R*=4294967296;return new c(D,0)}function A(Q,D){if(Q.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Q.charAt(0)=="-")return N(A(Q.substring(1),D));if(Q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(D,8));let K=m;for(let V=0;V<Q.length;V+=8){var P=Math.min(8,Q.length-V);const $=parseInt(Q.substring(V,V+P),D);P<8?(P=f(Math.pow(D,P)),K=K.j(P).add(f($))):(K=K.j(R),K=K.add(f($)))}return K}var m=u(0),x=u(1),g=u(16777216);s=c.prototype,s.m=function(){if(I(this))return-N(this).m();let Q=0,D=1;for(let R=0;R<this.g.length;R++){const K=this.i(R);Q+=(K>=0?K:4294967296+K)*D,D*=4294967296}return Q},s.toString=function(Q){if(Q=Q||10,Q<2||36<Q)throw Error("radix out of range: "+Q);if(b(this))return"0";if(I(this))return"-"+N(this).toString(Q);const D=f(Math.pow(Q,6));var R=this;let K="";for(;;){const P=L(R,D).g;R=S(R,P.j(D));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(Q);if(R=P,b(R))return V+K;for(;V.length<6;)V="0"+V;K=V+K}},s.i=function(Q){return Q<0?0:Q<this.g.length?this.g[Q]:this.h};function b(Q){if(Q.h!=0)return!1;for(let D=0;D<Q.g.length;D++)if(Q.g[D]!=0)return!1;return!0}function I(Q){return Q.h==-1}s.l=function(Q){return Q=S(this,Q),I(Q)?-1:b(Q)?0:1};function N(Q){const D=Q.g.length,R=[];for(let K=0;K<D;K++)R[K]=~Q.g[K];return new c(R,~Q.h).add(x)}s.abs=function(){return I(this)?N(this):this},s.add=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];let K=0;for(let P=0;P<=D;P++){let V=K+(this.i(P)&65535)+(Q.i(P)&65535),$=(V>>>16)+(this.i(P)>>>16)+(Q.i(P)>>>16);K=$>>>16,V&=65535,$&=65535,R[P]=$<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function S(Q,D){return Q.add(N(D))}s.j=function(Q){if(b(this)||b(Q))return m;if(I(this))return I(Q)?N(this).j(N(Q)):N(N(this).j(Q));if(I(Q))return N(this.j(N(Q)));if(this.l(g)<0&&Q.l(g)<0)return f(this.m()*Q.m());const D=this.g.length+Q.g.length,R=[];for(var K=0;K<2*D;K++)R[K]=0;for(K=0;K<this.g.length;K++)for(let P=0;P<Q.g.length;P++){const V=this.i(K)>>>16,$=this.i(K)&65535,ae=Q.i(P)>>>16,de=Q.i(P)&65535;R[2*K+2*P]+=$*de,E(R,2*K+2*P),R[2*K+2*P+1]+=V*de,E(R,2*K+2*P+1),R[2*K+2*P+1]+=$*ae,E(R,2*K+2*P+1),R[2*K+2*P+2]+=V*ae,E(R,2*K+2*P+2)}for(Q=0;Q<D;Q++)R[Q]=R[2*Q+1]<<16|R[2*Q];for(Q=D;Q<2*D;Q++)R[Q]=0;return new c(R,0)};function E(Q,D){for(;(Q[D]&65535)!=Q[D];)Q[D+1]+=Q[D]>>>16,Q[D]&=65535,D++}function F(Q,D){this.g=Q,this.h=D}function L(Q,D){if(b(D))throw Error("division by zero");if(b(Q))return new F(m,m);if(I(Q))return D=L(N(Q),D),new F(N(D.g),N(D.h));if(I(D))return D=L(Q,N(D)),new F(N(D.g),D.h);if(Q.g.length>30){if(I(Q)||I(D))throw Error("slowDivide_ only works with positive integers.");for(var R=x,K=D;K.l(Q)<=0;)R=O(R),K=O(K);var P=H(R,1),V=H(K,1);for(K=H(K,2),R=H(R,2);!b(K);){var $=V.add(K);$.l(Q)<=0&&(P=P.add(R),V=$),K=H(K,1),R=H(R,1)}return D=S(Q,P.j(D)),new F(P,D)}for(P=m;Q.l(D)>=0;){for(R=Math.max(1,Math.floor(Q.m()/D.m())),K=Math.ceil(Math.log(R)/Math.LN2),K=K<=48?1:Math.pow(2,K-48),V=f(R),$=V.j(D);I($)||$.l(Q)>0;)R-=K,V=f(R),$=V.j(D);b(V)&&(V=x),P=P.add(V),Q=S(Q,$)}return new F(P,Q)}s.B=function(Q){return L(this,Q).h},s.and=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];for(let K=0;K<D;K++)R[K]=this.i(K)&Q.i(K);return new c(R,this.h&Q.h)},s.or=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];for(let K=0;K<D;K++)R[K]=this.i(K)|Q.i(K);return new c(R,this.h|Q.h)},s.xor=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];for(let K=0;K<D;K++)R[K]=this.i(K)^Q.i(K);return new c(R,this.h^Q.h)};function O(Q){const D=Q.g.length+1,R=[];for(let K=0;K<D;K++)R[K]=Q.i(K)<<1|Q.i(K-1)>>>31;return new c(R,Q.h)}function H(Q,D){const R=D>>5;D%=32;const K=Q.g.length-R,P=[];for(let V=0;V<K;V++)P[V]=D>0?Q.i(V+R)>>>D|Q.i(V+R+1)<<32-D:Q.i(V+R);return new c(P,Q.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,XE=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=A,Ld=c}).apply(typeof PB<"u"?PB:typeof self<"u"?self:typeof window<"u"?window:{});var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,Ep,qE,hx,J1,ZE,e4,t4;(function(){var s,e=Object.defineProperty;function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof k0=="object"&&k0];for(var Y=0;Y<w.length;++Y){var ne=w[Y];if(ne&&ne.Math==Math)return ne}throw Error("Cannot find global object")}var n=t(this);function r(w,Y){if(Y)e:{var ne=n;w=w.split(".");for(var we=0;we<w.length-1;we++){var $e=w[we];if(!($e in ne))break e;ne=ne[$e]}w=w[w.length-1],we=ne[w],Y=Y(we),Y!=we&&Y!=null&&e(ne,w,{configurable:!0,writable:!0,value:Y})}}r("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(w){return w||function(Y){var ne=[],we;for(we in Y)Object.prototype.hasOwnProperty.call(Y,we)&&ne.push([we,Y[we]]);return ne}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(w){var Y=typeof w;return Y=="object"&&w!=null||Y=="function"}function u(w,Y,ne){return w.call.apply(w.bind,arguments)}function f(w,Y,ne){return f=u,f.apply(null,arguments)}function A(w,Y){var ne=Array.prototype.slice.call(arguments,1);return function(){var we=ne.slice();return we.push.apply(we,arguments),w.apply(this,we)}}function m(w,Y){function ne(){}ne.prototype=Y.prototype,w.Z=Y.prototype,w.prototype=new ne,w.prototype.constructor=w,w.Ob=function(we,$e,nt){for(var Kt=Array(arguments.length-2),Zs=2;Zs<arguments.length;Zs++)Kt[Zs-2]=arguments[Zs];return Y.prototype[$e].apply(we,Kt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function g(w){const Y=w.length;if(Y>0){const ne=Array(Y);for(let we=0;we<Y;we++)ne[we]=w[we];return ne}return[]}function b(w,Y){for(let we=1;we<arguments.length;we++){const $e=arguments[we];var ne=typeof $e;if(ne=ne!="object"?ne:$e?Array.isArray($e)?"array":ne:"null",ne=="array"||ne=="object"&&typeof $e.length=="number"){ne=w.length||0;const nt=$e.length||0;w.length=ne+nt;for(let Kt=0;Kt<nt;Kt++)w[ne+Kt]=$e[Kt]}else w.push($e)}}class I{constructor(Y,ne){this.i=Y,this.j=ne,this.h=0,this.g=null}get(){let Y;return this.h>0?(this.h--,Y=this.g,this.g=Y.next,Y.next=null):Y=this.i(),Y}}function N(w){c.setTimeout(()=>{throw w},0)}function S(){var w=Q;let Y=null;return w.g&&(Y=w.g,w.g=w.g.next,w.g||(w.h=null),Y.next=null),Y}class E{constructor(){this.h=this.g=null}add(Y,ne){const we=F.get();we.set(Y,ne),this.h?this.h.next=we:this.g=we,this.h=we}}var F=new I(()=>new L,w=>w.reset());class L{constructor(){this.next=this.g=this.h=null}set(Y,ne){this.h=Y,this.g=ne,this.next=null}reset(){this.next=this.g=this.h=null}}let O,H=!1,Q=new E,D=()=>{const w=Promise.resolve(void 0);O=()=>{w.then(R)}};function R(){for(var w;w=S();){try{w.h.call(w.g)}catch(ne){N(ne)}var Y=F;Y.j(w),Y.h<100&&(Y.h++,w.next=Y.g,Y.g=w)}H=!1}function K(){this.u=this.u,this.C=this.C}K.prototype.u=!1,K.prototype.dispose=function(){this.u||(this.u=!0,this.N())},K.prototype[Symbol.dispose]=function(){this.dispose()},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(w,Y){this.type=w,this.g=this.target=Y,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var w=!1,Y=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const ne=()=>{};c.addEventListener("test",ne,Y),c.removeEventListener("test",ne,Y)}catch{}return w})();function $(w){return/^[\s\xa0]*$/.test(w)}function ae(w,Y){P.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,Y)}m(ae,P),ae.prototype.init=function(w,Y){const ne=this.type=w.type,we=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=Y,Y=w.relatedTarget,Y||(ne=="mouseover"?Y=w.fromElement:ne=="mouseout"&&(Y=w.toElement)),this.relatedTarget=Y,we?(this.clientX=we.clientX!==void 0?we.clientX:we.pageX,this.clientY=we.clientY!==void 0?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),re=0;function W(w,Y,ne,we,$e){this.listener=w,this.proxy=null,this.src=Y,this.type=ne,this.capture=!!we,this.ha=$e,this.key=++re,this.da=this.fa=!1}function J(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function oe(w,Y,ne){for(const we in w)Y.call(ne,w[we],we,w)}function xe(w,Y){for(const ne in w)Y.call(void 0,w[ne],ne,w)}function ee(w){const Y={};for(const ne in w)Y[ne]=w[ne];return Y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(w,Y){let ne,we;for(let $e=1;$e<arguments.length;$e++){we=arguments[$e];for(ne in we)w[ne]=we[ne];for(let nt=0;nt<M.length;nt++)ne=M[nt],Object.prototype.hasOwnProperty.call(we,ne)&&(w[ne]=we[ne])}}function ie(w){this.src=w,this.g={},this.h=0}ie.prototype.add=function(w,Y,ne,we,$e){const nt=w.toString();w=this.g[nt],w||(w=this.g[nt]=[],this.h++);const Kt=ce(w,Y,we,$e);return Kt>-1?(Y=w[Kt],ne||(Y.fa=!1)):(Y=new W(Y,this.src,nt,!!we,$e),Y.fa=ne,w.push(Y)),Y};function le(w,Y){const ne=Y.type;if(ne in w.g){var we=w.g[ne],$e=Array.prototype.indexOf.call(we,Y,void 0),nt;(nt=$e>=0)&&Array.prototype.splice.call(we,$e,1),nt&&(J(Y),w.g[ne].length==0&&(delete w.g[ne],w.h--))}}function ce(w,Y,ne,we){for(let $e=0;$e<w.length;++$e){const nt=w[$e];if(!nt.da&&nt.listener==Y&&nt.capture==!!ne&&nt.ha==we)return $e}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Ne={};function ge(w,Y,ne,we,$e){if(Array.isArray(Y)){for(let nt=0;nt<Y.length;nt++)ge(w,Y[nt],ne,we,$e);return null}return ne=at(ne),w&&w[de]?w.J(Y,ne,h(we)?!!we.capture:!1,$e):Se(w,Y,ne,!1,we,$e)}function Se(w,Y,ne,we,$e,nt){if(!Y)throw Error("Invalid event type");const Kt=h($e)?!!$e.capture:!!$e;let Zs=et(w);if(Zs||(w[ye]=Zs=new ie(w)),ne=Zs.add(Y,ne,we,Kt,nt),ne.proxy)return ne;if(we=Fe(),ne.proxy=we,we.src=w,we.listener=ne,w.addEventListener)V||($e=Kt),$e===void 0&&($e=!1),w.addEventListener(Y.toString(),we,$e);else if(w.attachEvent)w.attachEvent(Oe(Y.toString()),we);else if(w.addListener&&w.removeListener)w.addListener(we);else throw Error("addEventListener and attachEvent are unavailable.");return ne}function Fe(){function w(ne){return Y.call(w.src,w.listener,ne)}const Y=he;return w}function Le(w,Y,ne,we,$e){if(Array.isArray(Y))for(var nt=0;nt<Y.length;nt++)Le(w,Y[nt],ne,we,$e);else we=h(we)?!!we.capture:!!we,ne=at(ne),w&&w[de]?(w=w.i,nt=String(Y).toString(),nt in w.g&&(Y=w.g[nt],ne=ce(Y,ne,we,$e),ne>-1&&(J(Y[ne]),Array.prototype.splice.call(Y,ne,1),Y.length==0&&(delete w.g[nt],w.h--)))):w&&(w=et(w))&&(Y=w.g[Y.toString()],w=-1,Y&&(w=ce(Y,ne,we,$e)),(ne=w>-1?Y[w]:null)&&qe(ne))}function qe(w){if(typeof w!="number"&&w&&!w.da){var Y=w.src;if(Y&&Y[de])le(Y.i,w);else{var ne=w.type,we=w.proxy;Y.removeEventListener?Y.removeEventListener(ne,we,w.capture):Y.detachEvent?Y.detachEvent(Oe(ne),we):Y.addListener&&Y.removeListener&&Y.removeListener(we),(ne=et(Y))?(le(ne,w),ne.h==0&&(ne.src=null,Y[ye]=null)):J(w)}}}function Oe(w){return w in Ne?Ne[w]:Ne[w]="on"+w}function he(w,Y){if(w.da)w=!0;else{Y=new ae(Y,this);const ne=w.listener,we=w.ha||w.src;w.fa&&qe(w),w=ne.call(we,Y)}return w}function et(w){return w=w[ye],w instanceof ie?w:null}var wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function at(w){return typeof w=="function"?w:(w[wt]||(w[wt]=function(Y){return w.handleEvent(Y)}),w[wt])}function Ye(){K.call(this),this.i=new ie(this),this.M=this,this.G=null}m(Ye,K),Ye.prototype[de]=!0,Ye.prototype.removeEventListener=function(w,Y,ne,we){Le(this,w,Y,ne,we)};function Ut(w,Y){var ne,we=w.G;if(we)for(ne=[];we;we=we.G)ne.push(we);if(w=w.M,we=Y.type||Y,typeof Y=="string")Y=new P(Y,w);else if(Y instanceof P)Y.target=Y.target||w;else{var $e=Y;Y=new P(we,w),X(Y,$e)}$e=!0;let nt,Kt;if(ne)for(Kt=ne.length-1;Kt>=0;Kt--)nt=Y.g=ne[Kt],$e=Lt(nt,we,!0,Y)&&$e;if(nt=Y.g=w,$e=Lt(nt,we,!0,Y)&&$e,$e=Lt(nt,we,!1,Y)&&$e,ne)for(Kt=0;Kt<ne.length;Kt++)nt=Y.g=ne[Kt],$e=Lt(nt,we,!1,Y)&&$e}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var w=this.i;for(const Y in w.g){const ne=w.g[Y];for(let we=0;we<ne.length;we++)J(ne[we]);delete w.g[Y],w.h--}}this.G=null},Ye.prototype.J=function(w,Y,ne,we){return this.i.add(String(w),Y,!1,ne,we)},Ye.prototype.K=function(w,Y,ne,we){return this.i.add(String(w),Y,!0,ne,we)};function Lt(w,Y,ne,we){if(Y=w.i.g[String(Y)],!Y)return!0;Y=Y.concat();let $e=!0;for(let nt=0;nt<Y.length;++nt){const Kt=Y[nt];if(Kt&&!Kt.da&&Kt.capture==ne){const Zs=Kt.listener,Er=Kt.ha||Kt.src;Kt.fa&&le(w.i,Kt),$e=Zs.call(Er,we)!==!1&&$e}}return $e&&!we.defaultPrevented}function Wt(w,Y){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(Y)>2147483647?-1:c.setTimeout(w,Y||0)}function $t(w){w.g=Wt(()=>{w.g=null,w.i&&(w.i=!1,$t(w))},w.l);const Y=w.h;w.h=null,w.m.apply(null,Y)}class ss extends K{constructor(Y,ne){super(),this.m=Y,this.l=ne,this.h=null,this.i=!1,this.g=null}j(Y){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(w){K.call(this),this.h=w,this.g={}}m(ns,K);var Je=[];function Ht(w){oe(w.g,function(Y,ne){this.g.hasOwnProperty(ne)&&qe(Y)},w),w.g={}}ns.prototype.N=function(){ns.Z.N.call(this),Ht(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=c.JSON.stringify,Mt=c.JSON.parse,dt=class{stringify(w){return c.JSON.stringify(w,void 0)}parse(w){return c.JSON.parse(w,void 0)}};function Nt(){}function Es(){}var Me={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ut(){P.call(this,"d")}m(ut,P);function ze(){P.call(this,"c")}m(ze,P);var At={},mt=null;function Ot(){return mt=mt||new Ye}At.Ia="serverreachability";function Et(w){P.call(this,At.Ia,w)}m(Et,P);function Gt(w){const Y=Ot();Ut(Y,new Et(Y))}At.STAT_EVENT="statevent";function xs(w,Y){P.call(this,At.STAT_EVENT,w),this.stat=Y}m(xs,P);function Tt(w){const Y=Ot();Ut(Y,new xs(Y,w))}At.Ja="timingevent";function pt(w,Y){P.call(this,At.Ja,w),this.size=Y}m(pt,P);function Pt(w,Y){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){w()},Y)}function qt(){this.g=!0}qt.prototype.ua=function(){this.g=!1};function os(w,Y,ne,we,$e,nt){w.info(function(){if(w.g)if(nt){var Kt="",Zs=nt.split("&");for(let xn=0;xn<Zs.length;xn++){var Er=Zs[xn].split("=");if(Er.length>1){const qn=Er[0];Er=Er[1];const Ka=qn.split("_");Kt=Ka.length>=2&&Ka[1]=="type"?Kt+(qn+"="+Er+"&"):Kt+(qn+"=redacted&")}}}else Kt=null;else Kt=nt;return"XMLHTTP REQ ("+we+") [attempt "+$e+"]: "+Y+`
`+ne+`
`+Kt})}function Os(w,Y,ne,we,$e,nt,Kt){w.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+$e+"]: "+Y+`
`+ne+`
`+nt+" "+Kt})}function wn(w,Y,ne,we){w.info(function(){return"XMLHTTP TEXT ("+Y+"): "+ca(w,ne)+(we?" "+we:"")})}function es(w,Y){w.info(function(){return"TIMEOUT: "+Y})}qt.prototype.info=function(){};function ca(w,Y){if(!w.g)return Y;if(!Y)return null;try{const nt=JSON.parse(Y);if(nt){for(w=0;w<nt.length;w++)if(Array.isArray(nt[w])){var ne=nt[w];if(!(ne.length<2)){var we=ne[1];if(Array.isArray(we)&&!(we.length<1)){var $e=we[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(let Kt=1;Kt<we.length;Kt++)we[Kt]=""}}}}return Vt(nt)}catch{return Y}}var en={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pr;function us(){}m(us,Nt),us.prototype.g=function(){return new XMLHttpRequest},pr=new us;function Nn(w){return encodeURIComponent(String(w))}function jr(w){var Y=1;w=w.split(":");const ne=[];for(;Y>0&&w.length;)ne.push(w.shift()),Y--;return w.length&&ne.push(w.join(":")),ne}function Mn(w,Y,ne,we){this.j=w,this.i=Y,this.l=ne,this.S=we||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new un}function un(){this.i=null,this.g="",this.h=!1}var on={},fn={};function Un(w,Y,ne){w.M=1,w.A=dn(Yt(Y)),w.u=ne,w.R=!0,Br(w,null)}function Br(w,Y){w.F=Date.now(),Ir(w),w.B=Yt(w.A);var ne=w.B,we=w.S;Array.isArray(we)||(we=[String(we)]),bl(ne.i,"t",we),w.C=0,ne=w.j.L,w.h=new un,w.g=vs(w.j,ne?Y:null,!w.u),w.P>0&&(w.O=new ss(f(w.Y,w,w.g),w.P)),Y=w.V,ne=w.g,we=w.ba;var $e="readystatechange";Array.isArray($e)||($e&&(Je[0]=$e.toString()),$e=Je);for(let nt=0;nt<$e.length;nt++){const Kt=ge(ne,$e[nt],we||Y.handleEvent,!1,Y.h||Y);if(!Kt)break;Y.g[Kt.key]=Kt}Y=w.J?ee(w.J):{},w.u?(w.v||(w.v="POST"),Y["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,Y)):(w.v="GET",w.g.ea(w.B,w.v,null,Y)),Gt(),os(w.i,w.v,w.B,w.l,w.S,w.u)}Mn.prototype.ba=function(w){w=w.target;const Y=this.O;Y&&ra(w)==3?Y.j():this.Y(w)},Mn.prototype.Y=function(w){try{if(w==this.g)e:{const Zs=ra(this.g),Er=this.g.ya(),xn=this.g.ca();if(!(Zs<3)&&(Zs!=3||this.g&&(this.h.h||this.g.la()||Sr(this.g)))){this.K||Zs!=4||Er==7||(Er==8||xn<=0?Gt(3):Gt(2)),Pa(this);var Y=this.g.ca();this.X=Y;var ne=ua(this);if(this.o=Y==200,Os(this.i,this.v,this.B,this.l,this.S,Zs,Y),this.o){if(this.U&&!this.L){t:{if(this.g){var we,$e=this.g;if((we=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(we)){var nt=we;break t}}nt=null}if(w=nt)wn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,w);else{this.o=!1,this.m=3,Tt(12),Ma(this),ka(this);break e}}if(this.R){w=!0;let qn;for(;!this.K&&this.C<ne.length;)if(qn=ir(this,ne),qn==fn){Zs==4&&(this.m=4,Tt(14),w=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==on){this.m=4,Tt(15),wn(this.i,this.l,ne,"[Invalid Chunk]"),w=!1;break}else wn(this.i,this.l,qn,null),yi(this,qn);if(Vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zs!=4||ne.length!=0||this.h.h||(this.m=1,Tt(16),w=!1),this.o=this.o&&w,!w)wn(this.i,this.l,ne,"[Invalid Chunked Response]"),Ma(this),ka(this);else if(ne.length>0&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.aa&&!Kt.P&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),$i(Kt),Kt.P=!0,Tt(11))}}else wn(this.i,this.l,ne,null),yi(this,ne);Zs==4&&Ma(this),this.o&&!this.K&&(Zs==4?Te(this.j,this):(this.o=!1,Ir(this)))}else Ca(this.g),Y==400&&ne.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Ma(this),ka(this)}}}catch{}finally{}};function ua(w){if(!Vi(w))return w.g.la();const Y=Sr(w.g);if(Y==="")return"";let ne="";const we=Y.length,$e=ra(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return Ma(w),ka(w),"";w.h.i=new c.TextDecoder}for(let nt=0;nt<we;nt++)w.h.h=!0,ne+=w.h.i.decode(Y[nt],{stream:!($e&&nt==we-1)});return Y.length=0,w.h.g+=ne,w.C=0,w.h.g}function Vi(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function ir(w,Y){var ne=w.C,we=Y.indexOf(`
`,ne);return we==-1?fn:(ne=Number(Y.substring(ne,we)),isNaN(ne)?on:(we+=1,we+ne>Y.length?fn:(Y=Y.slice(we,we+ne),w.C=we+ne,Y)))}Mn.prototype.cancel=function(){this.K=!0,Ma(this)};function Ir(w){w.T=Date.now()+w.H,vi(w,w.H)}function vi(w,Y){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Pt(f(w.aa,w),Y)}function Pa(w){w.D&&(c.clearTimeout(w.D),w.D=null)}Mn.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(es(this.i,this.B),this.M!=2&&(Gt(),Tt(17)),Ma(this),this.m=2,ka(this)):vi(this,this.T-w)};function ka(w){w.j.I==0||w.K||Te(w.j,w)}function Ma(w){Pa(w);var Y=w.O;Y&&typeof Y.dispose=="function"&&Y.dispose(),w.O=null,Ht(w.V),w.g&&(Y=w.g,w.g=null,Y.abort(),Y.dispose())}function yi(w,Y){try{var ne=w.j;if(ne.I!=0&&(ne.g==w||da(ne.h,w))){if(!w.L&&da(ne.h,w)&&ne.I==3){try{var we=ne.Ba.g.parse(Y)}catch{we=null}if(Array.isArray(we)&&we.length==3){var $e=we;if($e[0]==0){e:if(!ne.v){if(ne.g)if(ne.g.F+3e3<w.F)Ae(ne),fa(ne);else break e;mo(ne),Tt(18)}}else ne.xa=$e[1],0<ne.xa-ne.K&&$e[2]<37500&&ne.F&&ne.A==0&&!ne.C&&(ne.C=Pt(f(ne.Va,ne),6e3));Va(ne.h)<=1&&ne.ta&&(ne.ta=void 0)}else Ke(ne,11)}else if((w.L||ne.g==w)&&Ae(ne),!$(Y))for($e=ne.Ba.g.parse(Y),Y=0;Y<$e.length;Y++){let xn=$e[Y];const qn=xn[0];if(!(qn<=ne.K))if(ne.K=qn,xn=xn[1],ne.I==2)if(xn[0]=="c"){ne.M=xn[1],ne.ba=xn[2];const Ka=xn[3];Ka!=null&&(ne.ka=Ka,ne.j.info("VER="+ne.ka));const ma=xn[4];ma!=null&&(ne.za=ma,ne.j.info("SVER="+ne.za));const zn=xn[5];zn!=null&&typeof zn=="number"&&zn>0&&(we=1.5*zn,ne.O=we,ne.j.info("backChannelRequestTimeoutMs_="+we)),we=ne;const rn=w.g;if(rn){const po=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var nt=we.h;nt.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(bi(nt,nt.h),nt.h=null))}if(we.G){const Do=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(we.wa=Do,hs(we.J,we.G,Do))}}ne.I=3,ne.l&&ne.l.ra(),ne.aa&&(ne.T=Date.now()-w.F,ne.j.info("Handshake RTT: "+ne.T+"ms")),we=ne;var Kt=w;if(we.na=_t(we,we.L?we.ba:null,we.W),Kt.L){_e(we.h,Kt);var Zs=Kt,Er=we.O;Er&&(Zs.H=Er),Zs.D&&(Pa(Zs),Ir(Zs)),we.g=Kt}else uA(we);ne.i.length>0&&Bi(ne)}else xn[0]!="stop"&&xn[0]!="close"||Ke(ne,7);else ne.I==3&&(xn[0]=="stop"||xn[0]=="close"?xn[0]=="stop"?Ke(ne,7):Sa(ne):xn[0]!="noop"&&ne.l&&ne.l.qa(xn),ne.A=0)}}Gt(4)}catch{}}var _r=class{constructor(w,Y){this.g=w,this.map=Y}};function ro(w){this.l=w||10,c.PerformanceNavigationTiming?(w=c.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ha(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Va(w){return w.h?1:w.g?w.g.size:0}function da(w,Y){return w.h?w.h==Y:w.g?w.g.has(Y):!1}function bi(w,Y){w.g?w.g.add(Y):w.h=Y}function _e(w,Y){w.h&&w.h==Y?w.h=null:w.g&&w.g.has(Y)&&w.g.delete(Y)}ro.prototype.cancel=function(){if(this.i=yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function yt(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let Y=w.i;for(const ne of w.g.values())Y=Y.concat(ne.G);return Y}return g(w.i)}var Dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function It(w,Y){if(w){w=w.split("&");for(let ne=0;ne<w.length;ne++){const we=w[ne].indexOf("=");let $e,nt=null;we>=0?($e=w[ne].substring(0,we),nt=w[ne].substring(we+1)):$e=w[ne],Y($e,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function As(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let Y;w instanceof As?(this.l=w.l,Jt(this,w.j),this.o=w.o,this.g=w.g,Ws(this,w.u),this.h=w.h,Rt(this,il(w.i)),this.m=w.m):w&&(Y=String(w).match(Dt))?(this.l=!1,Jt(this,Y[1]||"",!0),this.o=ms(Y[2]||""),this.g=ms(Y[3]||"",!0),Ws(this,Y[4]),this.h=ms(Y[5]||"",!0),Rt(this,Y[6]||"",!0),this.m=ms(Y[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}As.prototype.toString=function(){const w=[];var Y=this.j;Y&&w.push(ln(Y,Ba,!0),":");var ne=this.g;return(ne||Y=="file")&&(w.push("//"),(Y=this.o)&&w.push(ln(Y,Ba,!0),"@"),w.push(Nn(ne).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ne=this.u,ne!=null&&w.push(":",String(ne))),(ne=this.h)&&(this.g&&ne.charAt(0)!="/"&&w.push("/"),w.push(ln(ne,ne.charAt(0)=="/"?ha:Xa,!0))),(ne=this.i.toString())&&w.push("?",ne),(ne=this.m)&&w.push("#",ln(ne,Uo)),w.join("")},As.prototype.resolve=function(w){const Y=Yt(this);let ne=!!w.j;ne?Jt(Y,w.j):ne=!!w.o,ne?Y.o=w.o:ne=!!w.g,ne?Y.g=w.g:ne=w.u!=null;var we=w.h;if(ne)Ws(Y,w.u);else if(ne=!!w.h){if(we.charAt(0)!="/")if(this.g&&!this.h)we="/"+we;else{var $e=Y.h.lastIndexOf("/");$e!=-1&&(we=Y.h.slice(0,$e+1)+we)}if($e=we,$e==".."||$e==".")we="";else if($e.indexOf("./")!=-1||$e.indexOf("/.")!=-1){we=$e.lastIndexOf("/",0)==0,$e=$e.split("/");const nt=[];for(let Kt=0;Kt<$e.length;){const Zs=$e[Kt++];Zs=="."?we&&Kt==$e.length&&nt.push(""):Zs==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),we&&Kt==$e.length&&nt.push("")):(nt.push(Zs),we=!0)}we=nt.join("/")}else we=$e}return ne?Y.h=we:ne=w.i.toString()!=="",ne?Rt(Y,il(w.i)):ne=!!w.m,ne&&(Y.m=w.m),Y};function Yt(w){return new As(w)}function Jt(w,Y,ne){w.j=ne?ms(Y,!0):Y,w.j&&(w.j=w.j.replace(/:$/,""))}function Ws(w,Y){if(Y){if(Y=Number(Y),isNaN(Y)||Y<0)throw Error("Bad port number "+Y);w.u=Y}else w.u=null}function Rt(w,Y,ne){Y instanceof wi?(w.i=Y,Fr(w.i,w.l)):(ne||(Y=ln(Y,or)),w.i=new wi(Y,w.l))}function hs(w,Y,ne){w.i.set(Y,ne)}function dn(w){return hs(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function ms(w,Y){return w?Y?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function ln(w,Y,ne){return typeof w=="string"?(w=encodeURI(w).replace(Y,mn),ne&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function mn(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Ba=/[#\/\?@]/g,Xa=/[#\?:]/g,ha=/[#\?]/g,or=/[#\?@]/g,Uo=/#/g;function wi(w,Y){this.h=this.g=null,this.i=w||null,this.j=!!Y}function Cr(w){w.g||(w.g=new Map,w.h=0,w.i&&It(w.i,function(Y,ne){w.add(decodeURIComponent(Y.replace(/\+/g," ")),ne)}))}s=wi.prototype,s.add=function(w,Y){Cr(this),this.i=null,w=ji(this,w);let ne=this.g.get(w);return ne||this.g.set(w,ne=[]),ne.push(Y),this.h+=1,this};function ao(w,Y){Cr(w),Y=ji(w,Y),w.g.has(Y)&&(w.i=null,w.h-=w.g.get(Y).length,w.g.delete(Y))}function yl(w,Y){return Cr(w),Y=ji(w,Y),w.g.has(Y)}s.forEach=function(w,Y){Cr(this),this.g.forEach(function(ne,we){ne.forEach(function($e){w.call(Y,$e,we,this)},this)},this)};function Vl(w,Y){Cr(w);let ne=[];if(typeof Y=="string")yl(w,Y)&&(ne=ne.concat(w.g.get(ji(w,Y))));else for(w=Array.from(w.g.values()),Y=0;Y<w.length;Y++)ne=ne.concat(w[Y]);return ne}s.set=function(w,Y){return Cr(this),this.i=null,w=ji(this,w),yl(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[Y]),this.h+=1,this},s.get=function(w,Y){return w?(w=Vl(this,w),w.length>0?String(w[0]):Y):Y};function bl(w,Y,ne){ao(w,Y),ne.length>0&&(w.i=null,w.g.set(ji(w,Y),g(ne)),w.h+=ne.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],Y=Array.from(this.g.keys());for(let we=0;we<Y.length;we++){var ne=Y[we];const $e=Nn(ne);ne=Vl(this,ne);for(let nt=0;nt<ne.length;nt++){let Kt=$e;ne[nt]!==""&&(Kt+="="+Nn(ne[nt])),w.push(Kt)}}return this.i=w.join("&")};function il(w){const Y=new wi;return Y.i=w.i,w.g&&(Y.g=new Map(w.g),Y.h=w.h),Y}function ji(w,Y){return Y=String(Y),w.j&&(Y=Y.toLowerCase()),Y}function Fr(w,Y){Y&&!w.j&&(Cr(w),w.i=null,w.g.forEach(function(ne,we){const $e=we.toLowerCase();we!=$e&&(ao(this,we),bl(this,$e,ne))},w)),w.j=Y}function oi(w,Y){const ne=new qt;if(c.Image){const we=new Image;we.onload=A(na,ne,"TestLoadImage: loaded",!0,Y,we),we.onerror=A(na,ne,"TestLoadImage: error",!1,Y,we),we.onabort=A(na,ne,"TestLoadImage: abort",!1,Y,we),we.ontimeout=A(na,ne,"TestLoadImage: timeout",!1,Y,we),c.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=w}else Y(!1)}function io(w,Y){const ne=new qt,we=new AbortController,$e=setTimeout(()=>{we.abort(),na(ne,"TestPingServer: timeout",!1,Y)},1e4);fetch(w,{signal:we.signal}).then(nt=>{clearTimeout($e),nt.ok?na(ne,"TestPingServer: ok",!0,Y):na(ne,"TestPingServer: server error",!1,Y)}).catch(()=>{clearTimeout($e),na(ne,"TestPingServer: error",!1,Y)})}function na(w,Y,ne,we,$e){try{$e&&($e.onload=null,$e.onerror=null,$e.onabort=null,$e.ontimeout=null),we(ne)}catch{}}function li(){this.g=new dt}function Rs(w){this.i=w.Sb||null,this.h=w.ab||!1}m(Rs,Nt),Rs.prototype.g=function(){return new oo(this.i,this.h)};function oo(w,Y){Ye.call(this),this.H=w,this.o=Y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(oo,Ye),s=oo.prototype,s.open=function(w,Y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=Y,this.readyState=1,Vr(this)},s.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const Y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(Y.body=w),(this.H||c).fetch(new Request(this.D,Y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},s.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fo(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function fo(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}s.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var Y=w.value?w.value:new Uint8Array(0);(Y=this.B.decode(Y,{stream:!w.done}))&&(this.response=this.responseText+=Y)}w.done?Ki(this):Vr(this),this.readyState==3&&fo(this)}},s.Oa=function(w){this.g&&(this.response=this.responseText=w,Ki(this))},s.Na=function(w){this.g&&(this.response=w,Ki(this))},s.ga=function(){this.g&&Ki(this)};function Ki(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Vr(w)}s.setRequestHeader=function(w,Y){this.A.append(w,Y)},s.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],Y=this.h.entries();for(var ne=Y.next();!ne.done;)ne=ne.value,w.push(ne[0]+": "+ne[1]),ne=Y.next();return w.join(`\r
`)};function Vr(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Xt(w){let Y="";return oe(w,function(ne,we){Y+=we,Y+=":",Y+=ne,Y+=`\r
`}),Y}function Gs(w,Y,ne){e:{for(we in ne){var we=!1;break e}we=!0}we||(ne=Xt(ne),typeof w=="string"?ne!=null&&Nn(ne):hs(w,Y,ne))}function Is(w){Ye.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Is,Ye);var En=/^https?$/i,jn=["POST","PUT"];s=Is.prototype,s.Fa=function(w){this.H=w},s.ea=function(w,Y,ne,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);Y=Y?Y.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pr.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(Y,String(w),!0),this.B=!1}catch(nt){rs(this,nt);return}if(w=ne||"",ne=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var $e in we)ne.set($e,we[$e]);else if(typeof we.keys=="function"&&typeof we.get=="function")for(const nt of we.keys())ne.set(nt,we.get(nt));else throw Error("Unknown input type for opt_headers: "+String(we));we=Array.from(ne.keys()).find(nt=>nt.toLowerCase()=="content-type"),$e=c.FormData&&w instanceof c.FormData,!(Array.prototype.indexOf.call(jn,Y,void 0)>=0)||we||$e||ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,Kt]of ne)this.g.setRequestHeader(nt,Kt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(nt){rs(this,nt)}};function rs(w,Y){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=Y,w.o=5,lr(w),Ja(w)}function lr(w){w.A||(w.A=!0,Ut(w,"complete"),Ut(w,"error"))}s.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,Ut(this,"complete"),Ut(this,"abort"),Ja(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ja(this,!0)),Is.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},s.Xa=function(){gr(this)};function gr(w){if(w.h&&typeof o<"u"){if(w.v&&ra(w)==4)setTimeout(w.Ca.bind(w),0);else if(Ut(w,"readystatechange"),ra(w)==4){w.h=!1;try{const nt=w.ca();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Y=!0;break e;default:Y=!1}var ne;if(!(ne=Y)){var we;if(we=nt===0){let Kt=String(w.D).match(Dt)[1]||null;!Kt&&c.self&&c.self.location&&(Kt=c.self.location.protocol.slice(0,-1)),we=!En.test(Kt?Kt.toLowerCase():"")}ne=we}if(ne)Ut(w,"complete"),Ut(w,"success");else{w.o=6;try{var $e=ra(w)>2?w.g.statusText:""}catch{$e=""}w.l=$e+" ["+w.ca()+"]",lr(w)}}finally{Ja(w)}}}}function Ja(w,Y){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const ne=w.g;w.g=null,Y||Ut(w,"ready");try{ne.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ra(w){return w.g?w.g.readyState:0}s.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(w){if(this.g){var Y=this.g.responseText;return w&&Y.indexOf(w)==0&&(Y=Y.substring(w.length)),Mt(Y)}};function Sr(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ca(w){const Y={};w=(w.g&&ra(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let we=0;we<w.length;we++){if($(w[we]))continue;var ne=jr(w[we]);const $e=ne[0];if(ne=ne[1],typeof ne!="string")continue;ne=ne.trim();const nt=Y[$e]||[];Y[$e]=nt,nt.push(ne)}xe(Y,function(we){return we.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(w,Y,ne){return ne&&ne.internalChannelParams&&ne.internalChannelParams[w]||Y}function Bn(w){this.za=0,this.i=[],this.j=new qt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ur("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ur("baseRetryDelayMs",5e3,w),this.Za=Ur("retryDelaySeedMs",1e4,w),this.Ta=Ur("forwardChannelMaxRetries",2,w),this.va=Ur("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new ro(w&&w.concurrentRequestLimit),this.Ba=new li,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bn.prototype,s.ka=8,s.I=1,s.connect=function(w,Y,ne,we){Tt(0),this.W=w,this.H=Y||{},ne&&we!==void 0&&(this.H.OSID=ne,this.H.OAID=we),this.F=this.X,this.J=_t(this,null,this.W),Bi(this)};function Sa(w){if(zi(w),w.I==3){var Y=w.V++,ne=Yt(w.J);if(hs(ne,"SID",w.M),hs(ne,"RID",Y),hs(ne,"TYPE","terminate"),qa(w,ne),Y=new Mn(w,w.j,Y),Y.M=2,Y.A=dn(Yt(ne)),ne=!1,c.navigator&&c.navigator.sendBeacon)try{ne=c.navigator.sendBeacon(Y.A.toString(),"")}catch{}!ne&&c.Image&&(new Image().src=Y.A,ne=!0),ne||(Y.g=vs(Y.j,null),Y.g.ea(Y.A)),Y.F=Date.now(),Ir(Y)}gt(w)}function fa(w){w.g&&($i(w),w.g.cancel(),w.g=null)}function zi(w){fa(w),w.v&&(c.clearTimeout(w.v),w.v=null),Ae(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&c.clearTimeout(w.m),w.m=null)}function Bi(w){if(!Ha(w.h)&&!w.m){w.m=!0;var Y=w.Ea;O||D(),H||(O(),H=!0),Q.add(Y,w),w.D=0}}function Kl(w,Y){return Va(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=Y.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Pt(f(w.Ea,w,Y),De(w,w.D)),w.D++,!0)}s.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const $e=new Mn(this,this.j,w);let nt=this.o;if(this.U&&(nt?(nt=ee(nt),X(nt,this.U)):nt=this.U),this.u!==null||this.R||($e.J=nt,nt=null),this.S)e:{for(var Y=0,ne=0;ne<this.i.length;ne++){t:{var we=this.i[ne];if("__data__"in we.map&&(we=we.map.__data__,typeof we=="string")){we=we.length;break t}we=void 0}if(we===void 0)break;if(Y+=we,Y>4096){Y=ne;break e}if(Y===4096||ne===this.i.length-1){Y=ne+1;break e}}Y=1e3}else Y=1e3;Y=Gi(this,$e,Y),ne=Yt(this.J),hs(ne,"RID",w),hs(ne,"CVER",22),this.G&&hs(ne,"X-HTTP-Session-Id",this.G),qa(this,ne),nt&&(this.R?Y="headers="+Nn(Xt(nt))+"&"+Y:this.u&&Gs(ne,this.u,nt)),bi(this.h,$e),this.Ra&&hs(ne,"TYPE","init"),this.S?(hs(ne,"$req",Y),hs(ne,"SID","null"),$e.U=!0,Un($e,ne,null)):Un($e,ne,Y),this.I=2}}else this.I==3&&(w?cA(this,w):this.i.length==0||Ha(this.h)||cA(this))};function cA(w,Y){var ne;Y?ne=Y.l:ne=w.V++;const we=Yt(w.J);hs(we,"SID",w.M),hs(we,"RID",ne),hs(we,"AID",w.K),qa(w,we),w.u&&w.o&&Gs(we,w.u,w.o),ne=new Mn(w,w.j,ne,w.D+1),w.u===null&&(ne.J=w.o),Y&&(w.i=Y.G.concat(w.i)),Y=Gi(w,ne,1e3),ne.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),bi(w.h,ne),Un(ne,we,Y)}function qa(w,Y){w.H&&oe(w.H,function(ne,we){hs(Y,we,ne)}),w.l&&oe({},function(ne,we){hs(Y,we,ne)})}function Gi(w,Y,ne){ne=Math.min(w.i.length,ne);const we=w.l?f(w.l.Ka,w.l,w):null;e:{var $e=w.i;let Zs=-1;for(;;){const Er=["count="+ne];Zs==-1?ne>0?(Zs=$e[0].g,Er.push("ofs="+Zs)):Zs=0:Er.push("ofs="+Zs);let xn=!0;for(let qn=0;qn<ne;qn++){var nt=$e[qn].g;const Ka=$e[qn].map;if(nt-=Zs,nt<0)Zs=Math.max(0,$e[qn].g-100),xn=!1;else try{nt="req"+nt+"_"||"";try{var Kt=Ka instanceof Map?Ka:Object.entries(Ka);for(const[ma,zn]of Kt){let rn=zn;h(zn)&&(rn=Vt(zn)),Er.push(nt+ma+"="+encodeURIComponent(rn))}}catch(ma){throw Er.push(nt+"type="+encodeURIComponent("_badmap")),ma}}catch{we&&we(Ka)}}if(xn){Kt=Er.join("&");break e}}Kt=void 0}return w=w.i.splice(0,ne),Y.G=w,Kt}function uA(w){if(!w.g&&!w.v){w.Y=1;var Y=w.Da;O||D(),H||(O(),H=!0),Q.add(Y,w),w.A=0}}function mo(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Pt(f(w.Da,w),De(w,w.A)),w.A++,!0)}s.Da=function(){if(this.v=null,k(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Pt(f(this.Wa,this),w)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),fa(this),k(this))};function $i(w){w.B!=null&&(c.clearTimeout(w.B),w.B=null)}function k(w){w.g=new Mn(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var Y=Yt(w.na);hs(Y,"RID","rpc"),hs(Y,"SID",w.M),hs(Y,"AID",w.K),hs(Y,"CI",w.F?"0":"1"),!w.F&&w.ia&&hs(Y,"TO",w.ia),hs(Y,"TYPE","xmlhttp"),qa(w,Y),w.u&&w.o&&Gs(Y,w.u,w.o),w.O&&(w.g.H=w.O);var ne=w.g;w=w.ba,ne.M=1,ne.A=dn(Yt(Y)),ne.u=null,ne.R=!0,Br(ne,w)}s.Va=function(){this.C!=null&&(this.C=null,fa(this),mo(this),Tt(19))};function Ae(w){w.C!=null&&(c.clearTimeout(w.C),w.C=null)}function Te(w,Y){var ne=null;if(w.g==Y){Ae(w),$i(w),w.g=null;var we=2}else if(da(w.h,Y))ne=Y.G,_e(w.h,Y),we=1;else return;if(w.I!=0){if(Y.o)if(we==1){ne=Y.u?Y.u.length:0,Y=Date.now()-Y.F;var $e=w.D;we=Ot(),Ut(we,new pt(we,ne)),Bi(w)}else uA(w);else if($e=Y.m,$e==3||$e==0&&Y.X>0||!(we==1&&Kl(w,Y)||we==2&&mo(w)))switch(ne&&ne.length>0&&(Y=w.h,Y.i=Y.i.concat(ne)),$e){case 1:Ke(w,5);break;case 4:Ke(w,10);break;case 3:Ke(w,6);break;default:Ke(w,2)}}}function De(w,Y){let ne=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(ne*=2),ne*Y}function Ke(w,Y){if(w.j.info("Error code "+Y),Y==2){var ne=f(w.bb,w),we=w.Ua;const $e=!we;we=new As(we||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jt(we,"https"),dn(we),$e?oi(we.toString(),ne):io(we.toString(),ne)}else Tt(2);w.I=0,w.l&&w.l.pa(Y),gt(w),zi(w)}s.bb=function(w){w?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function gt(w){if(w.I=0,w.ja=[],w.l){const Y=yt(w.h);(Y.length!=0||w.i.length!=0)&&(b(w.ja,Y),b(w.ja,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.oa()}}function _t(w,Y,ne){var we=ne instanceof As?Yt(ne):new As(ne);if(we.g!="")Y&&(we.g=Y+"."+we.g),Ws(we,we.u);else{var $e=c.location;we=$e.protocol,Y=Y?Y+"."+$e.hostname:$e.hostname,$e=+$e.port;const nt=new As(null);we&&Jt(nt,we),Y&&(nt.g=Y),$e&&Ws(nt,$e),ne&&(nt.h=ne),we=nt}return ne=w.G,Y=w.wa,ne&&Y&&hs(we,ne,Y),hs(we,"VER",w.ka),qa(w,we),we}function vs(w,Y,ne){if(Y&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return Y=w.Aa&&!w.ma?new Is(new Rs({ab:ne})):new Is(w.ma),Y.Fa(w.L),Y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bs(){}s=Bs.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(w,Y){return new Us(w,Y)};function Us(w,Y){Ye.call(this),this.g=new Bn(Y),this.l=w,this.h=Y&&Y.messageUrlParams||null,w=Y&&Y.messageHeaders||null,Y&&Y.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=Y&&Y.initMessageHeaders||null,Y&&Y.messageContentType&&(w?w["X-WebChannel-Content-Type"]=Y.messageContentType:w={"X-WebChannel-Content-Type":Y.messageContentType}),Y&&Y.sa&&(w?w["X-WebChannel-Client-Profile"]=Y.sa:w={"X-WebChannel-Client-Profile":Y.sa}),this.g.U=w,(w=Y&&Y.Qb)&&!$(w)&&(this.g.u=w),this.A=Y&&Y.supportsCrossDomainXhr||!1,this.v=Y&&Y.sendRawJson||!1,(Y=Y&&Y.httpSessionIdParam)&&!$(Y)&&(this.g.G=Y,w=this.h,w!==null&&Y in w&&(w=this.h,Y in w&&delete w[Y])),this.j=new hr(this)}m(Us,Ye),Us.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Us.prototype.close=function(){Sa(this.g)},Us.prototype.o=function(w){var Y=this.g;if(typeof w=="string"){var ne={};ne.__data__=w,w=ne}else this.v&&(ne={},ne.__data__=Vt(w),w=ne);Y.i.push(new _r(Y.Ya++,w)),Y.I==3&&Bi(Y)},Us.prototype.N=function(){this.g.l=null,delete this.j,Sa(this.g),delete this.g,Us.Z.N.call(this)};function In(w){ut.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var Y=w.__sm__;if(Y){e:{for(const ne in Y){w=ne;break e}w=void 0}(this.i=w)&&(w=this.i,Y=Y!==null&&w in Y?Y[w]:void 0),this.data=Y}else this.data=w}m(In,ut);function Nr(){ze.call(this),this.status=1}m(Nr,ze);function hr(w){this.g=w}m(hr,Bs),hr.prototype.ra=function(){Ut(this.g,"a")},hr.prototype.qa=function(w){Ut(this.g,new In(w))},hr.prototype.pa=function(w){Ut(this.g,new Nr)},hr.prototype.oa=function(){Ut(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,Us.prototype.send=Us.prototype.o,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,t4=function(){return new Ps},e4=function(){return Ot()},ZE=At,J1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},en.NO_ERROR=0,en.TIMEOUT=8,en.HTTP_ERROR=6,hx=en,Yr.COMPLETE="complete",qE=Yr,Es.EventType=Me,Me.OPEN="a",Me.CLOSE="b",Me.ERROR="c",Me.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,Ep=Es,Is.prototype.listenOnce=Is.prototype.K,Is.prototype.getLastError=Is.prototype.Ha,Is.prototype.getLastErrorCode=Is.prototype.ya,Is.prototype.getStatus=Is.prototype.ca,Is.prototype.getResponseJson=Is.prototype.La,Is.prototype.getResponseText=Is.prototype.la,Is.prototype.send=Is.prototype.ea,Is.prototype.setWithCredentials=Is.prototype.Fa,JE=Is}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});const kB="@firebase/firestore",MB="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sl.UNAUTHENTICATED=new sl(null),sl.GOOGLE_CREDENTIALS=new sl("google-credentials-uid"),sl.FIRST_PARTY=new sl("first-party-uid"),sl.MOCK_USER=new sl("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new u8("@firebase/firestore");function Mf(){return qh.logLevel}function ws(s,...e){if(qh.logLevel<=ar.DEBUG){const t=e.map(vw);qh.debug(`Firestore (${vm}): ${s}`,...t)}}function Iu(s,...e){if(qh.logLevel<=ar.ERROR){const t=e.map(vw);qh.error(`Firestore (${vm}): ${s}`,...t)}}function rm(s,...e){if(qh.logLevel<=ar.WARN){const t=e.map(vw);qh.warn(`Firestore (${vm}): ${s}`,...t)}}function vw(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(s,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,s4(s,n,t)}function s4(s,e,t){let n=`FIRESTORE (${vm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Iu(n),new Error(n)}function wr(s,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,s||s4(e,r,n)}function hn(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cs extends cc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sl.UNAUTHENTICATED)))}shutdown(){}}class h8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class f8{constructor(e){this.t=e,this.currentUser=sl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wr(this.o===void 0,42304);let n=this.i;const r=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let o=new Vc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vc,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},h=u=>{ws("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>h(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?h(u):(ws("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vc)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ws("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wr(typeof n.accessToken=="string",31837,{l:n}),new n4(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wr(e===null||typeof e=="string",2055,{h:e}),new sl(e)}}class m8{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=sl.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p8{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new m8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wr(this.o===void 0,3512);const n=o=>{o.error!=null&&ws("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ws("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const r=o=>{ws("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ws("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new HB(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<s;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=x8(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%62))}return n}}function Xn(s,e){return s<e?-1:s>e?1:0}function q1(s,e){const t=Math.min(s.length,e.length);for(let n=0;n<t;n++){const r=s.charAt(n),o=e.charAt(n);if(r!==o)return Vy(r)===Vy(o)?Xn(r,o):Vy(r)?1:-1}return Xn(s.length,e.length)}const v8=55296,y8=57343;function Vy(s){const e=s.charCodeAt(0);return e>=v8&&e<=y8}function am(s,e,t){return s.length===e.length&&s.every(((n,r)=>t(n,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="__name__";class Oc{constructor(e,t,n){t===void 0?t=0:t>e.length&&nn(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&nn(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Oc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oc?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const o=Oc.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Xn(e.length,t.length)}static compareSegments(e,t){const n=Oc.isNumericId(e),r=Oc.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Oc.extractNumericId(e).compare(Oc.extractNumericId(t)):q1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ld.fromString(e.substring(4,e.length-2))}}class Aa extends Oc{construct(e,t,n){return new Aa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new cs(bt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((r=>r.length>0)))}return new Aa(t)}static emptyPath(){return new Aa([])}}const b8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Eo extends Oc{construct(e,t,n){return new Eo(e,t,n)}static isValidIdentifier(e){return b8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Eo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VB}static keyField(){return new Eo([VB])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(n.length===0)throw new cs(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new cs(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new cs(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(n+=h,r++):(o(),r++)}if(o(),c)throw new cs(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Eo(t)}static emptyPath(){return new Eo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.path=e}static fromPath(e){return new zs(Aa.fromString(e))}static fromName(e){return new zs(Aa.fromString(e).popFirst(5))}static empty(){return new zs(Aa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Aa.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Aa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zs(new Aa(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(s,e,t){if(!t)throw new cs(bt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function w8(s,e,t,n){if(e===!0&&n===!0)throw new cs(bt.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function KB(s){if(!zs.isDocumentKey(s))throw new cs(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function zB(s){if(zs.isDocumentKey(s))throw new cs(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function a4(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bv(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":nn(12329,{type:typeof s})}function vl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new cs(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bv(s);throw new cs(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function j8(s,e){if(e<=0)throw new cs(bt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(s,e){const t={typeString:s};return e&&(t.value=e),t}function Tg(s,e){if(!a4(s))throw new cs(bt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in s)){t=`JSON missing required field: '${n}'`;break}const c=s[n];if(r&&typeof c!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new cs(bt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=-62135596800,$B=1e6;class tr{static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*$B);return new tr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new cs(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new cs(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GB)throw new cs(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new cs(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$B}_compareTo(e){return this.seconds===e.seconds?Xn(this.nanoseconds,e.nanoseconds):Xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tg(e,tr._jsonSchema))return new tr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tr._jsonSchemaVersion="firestore/timestamp/1.0",tr._jsonSchema={type:ki("string",tr._jsonSchemaVersion),seconds:ki("number"),nanoseconds:ki("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{static fromTimestamp(e){return new gn(e)}static min(){return new gn(new tr(0,0))}static max(){return new gn(new tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-1;function B8(s,e){const t=s.toTimestamp().seconds,n=s.toTimestamp().nanoseconds+1,r=gn.fromTimestamp(n===1e9?new tr(t+1,0):new tr(t,n));return new kd(r,zs.empty(),e)}function C8(s){return new kd(s.readTime,s.key,ag)}class kd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new kd(gn.min(),zs.empty(),ag)}static max(){return new kd(gn.max(),zs.empty(),ag)}}function S8(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=zs.comparator(s.documentKey,e.documentKey),t!==0?t:Xn(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ym(s){if(s.code!==bt.FAILED_PRECONDITION||s.message!==N8)throw s;ws("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ft(((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ft?t:Ft.resolve(t)}catch(t){return Ft.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ft.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ft.reject(t)}static resolve(e){return new Ft(((t,n)=>{t(e)}))}static reject(e){return new Ft(((t,n)=>{n(e)}))}static waitFor(e){return new Ft(((t,n)=>{let r=0,o=0,c=!1;e.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&t()}),(u=>n(u)))})),c=!0,o===r&&t()}))}static or(e){let t=Ft.resolve(!1);for(const n of e)t=t.next((r=>r?Ft.resolve(r):n()));return t}static forEach(e,t){const n=[];return e.forEach(((r,o)=>{n.push(t.call(this,r,o))})),this.waitFor(n)}static mapArray(e,t){return new Ft(((n,r)=>{const o=e.length,c=new Array(o);let h=0;for(let u=0;u<o;u++){const f=u;t(e[f]).next((A=>{c[f]=A,++h,h===o&&n(c)}),(A=>r(A)))}}))}static doWhile(e,t){return new Ft(((n,r)=>{const o=()=>{e()===!0?t().next((()=>{o()}),r):n()};o()}))}}function T8(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bm(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=-1;function jv(s){return s==null}function Qx(s){return s===0&&1/s==-1/0}function I8(s){return typeof s=="number"&&Number.isInteger(s)&&!Qx(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="";function _8(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=YB(e)),e=F8(s.get(t),e);return YB(e)}function F8(s,e){let t=e;const n=s.length;for(let r=0;r<n;r++){const o=s.charAt(r);switch(o){case"\0":t+="";break;case i4:t+="";break;default:t+=o}}return t}function YB(s){return s+i4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Jd(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function U8(s,e){const t=[];for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.push(e(s[n],n,s));return t}function o4(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t){this.comparator=e,this.root=t||No.EMPTY}insert(e,t){return new Wa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,No.BLACK,null,null))}remove(e){return new Wa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,No.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new M0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new M0(this.root,e,this.comparator,!1)}getReverseIterator(){return new M0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new M0(this.root,e,this.comparator,!0)}}class M0{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class No{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=n??No.RED,this.left=r??No.EMPTY,this.right=o??No.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new No(e??this.key,t??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return No.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return No.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,No.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,No.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nn(27949);return e+(this.isRed()?0:1)}}No.EMPTY=null,No.RED=!0,No.BLACK=!1;No.EMPTY=new class{constructor(){this.size=0}get key(){throw nn(57766)}get value(){throw nn(16141)}get color(){throw nn(16727)}get left(){throw nn(29726)}get right(){throw nn(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new No(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.comparator=e,this.data=new Wa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XB(this.data.getIterator())}getIteratorFrom(e){return new XB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new no(this.comparator);return t.data=e,t}}class XB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.fields=e,e.sort(Eo.comparator)}static empty(){return new aA([])}unionWith(e){let t=new no(Eo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new aA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return am(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new l4("Invalid base64 string: "+o):o}})(e);return new _o(t)}static fromUint8Array(e){const t=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(e);return new _o(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_o.EMPTY_BYTE_STRING=new _o("");const D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Md(s){if(wr(!!s,39018),typeof s=="string"){let e=0;const t=D8.exec(s);if(wr(!!t,46558,{timestamp:s}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(s);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:mi(s.seconds),nanos:mi(s.nanos)}}function mi(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Hd(s){return typeof s=="string"?_o.fromBase64String(s):_o.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="server_timestamp",c4="__type__",u4="__previous_value__",d4="__local_write_time__";function ww(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[c4])==null?void 0:n.stringValue)===A4}function Bv(s){const e=s.mapValue.fields[u4];return ww(e)?Bv(e):e}function ig(s){const e=Md(s.mapValue.fields[d4].timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,t,n,r,o,c,h,u,f,A){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=A}}const Ox="(default)";class og{constructor(e,t){this.projectId=e,this.database=t||Ox}static empty(){return new og("","")}get isDefaultDatabase(){return this.database===Ox}isEqual(e){return e instanceof og&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="__type__",L8="__max__",H0={mapValue:{}},f4="__vector__",Px="value";function Vd(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ww(s)?4:O8(s)?9007199254740991:Q8(s)?10:11:nn(28295,{value:s})}function Wc(s,e){if(s===e)return!0;const t=Vd(s);if(t!==Vd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ig(s).isEqual(ig(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Md(r.timestampValue),h=Md(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(r,o){return Hd(r.bytesValue).isEqual(Hd(o.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(r,o){return mi(r.geoPointValue.latitude)===mi(o.geoPointValue.latitude)&&mi(r.geoPointValue.longitude)===mi(o.geoPointValue.longitude)})(s,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return mi(r.integerValue)===mi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=mi(r.doubleValue),h=mi(o.doubleValue);return c===h?Qx(c)===Qx(h):isNaN(c)&&isNaN(h)}return!1})(s,e);case 9:return am(s.arrayValue.values||[],e.arrayValue.values||[],Wc);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(WB(c)!==WB(h))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(h[u]===void 0||!Wc(c[u],h[u])))return!1;return!0})(s,e);default:return nn(52216,{left:s})}}function lg(s,e){return(s.values||[]).find((t=>Wc(t,e)))!==void 0}function im(s,e){if(s===e)return 0;const t=Vd(s),n=Vd(e);if(t!==n)return Xn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xn(s.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=mi(o.integerValue||o.doubleValue),u=mi(c.integerValue||c.doubleValue);return h<u?-1:h>u?1:h===u?0:isNaN(h)?isNaN(u)?0:-1:1})(s,e);case 3:return JB(s.timestampValue,e.timestampValue);case 4:return JB(ig(s),ig(e));case 5:return q1(s.stringValue,e.stringValue);case 6:return(function(o,c){const h=Hd(o),u=Hd(c);return h.compareTo(u)})(s.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),u=c.split("/");for(let f=0;f<h.length&&f<u.length;f++){const A=Xn(h[f],u[f]);if(A!==0)return A}return Xn(h.length,u.length)})(s.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Xn(mi(o.latitude),mi(c.latitude));return h!==0?h:Xn(mi(o.longitude),mi(c.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return qB(s.arrayValue,e.arrayValue);case 10:return(function(o,c){var x,g,b,I;const h=o.fields||{},u=c.fields||{},f=(x=h[Px])==null?void 0:x.arrayValue,A=(g=u[Px])==null?void 0:g.arrayValue,m=Xn(((b=f==null?void 0:f.values)==null?void 0:b.length)||0,((I=A==null?void 0:A.values)==null?void 0:I.length)||0);return m!==0?m:qB(f,A)})(s.mapValue,e.mapValue);case 11:return(function(o,c){if(o===H0.mapValue&&c===H0.mapValue)return 0;if(o===H0.mapValue)return 1;if(c===H0.mapValue)return-1;const h=o.fields||{},u=Object.keys(h),f=c.fields||{},A=Object.keys(f);u.sort(),A.sort();for(let m=0;m<u.length&&m<A.length;++m){const x=q1(u[m],A[m]);if(x!==0)return x;const g=im(h[u[m]],f[A[m]]);if(g!==0)return g}return Xn(u.length,A.length)})(s.mapValue,e.mapValue);default:throw nn(23264,{he:t})}}function JB(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Xn(s,e);const t=Md(s),n=Md(e),r=Xn(t.seconds,n.seconds);return r!==0?r:Xn(t.nanos,n.nanos)}function qB(s,e){const t=s.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const o=im(t[r],n[r]);if(o)return o}return Xn(t.length,n.length)}function om(s){return Z1(s)}function Z1(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const n=Md(t);return`time(${n.seconds},${n.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return Hd(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return zs.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let n="[",r=!0;for(const o of t.values||[])r?r=!1:n+=",",n+=Z1(o);return n+"]"})(s.arrayValue):"mapValue"in s?(function(t){const n=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const c of n)o?o=!1:r+=",",r+=`${c}:${Z1(t.fields[c])}`;return r+"}"})(s.mapValue):nn(61005,{value:s})}function fx(s){switch(Vd(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bv(s);return e?16+fx(e):16;case 5:return 2*s.stringValue.length;case 6:return Hd(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,o)=>r+fx(o)),0)})(s.arrayValue);case 10:case 11:return(function(n){let r=0;return Jd(n.fields,((o,c)=>{r+=o.length+fx(c)})),r})(s.mapValue);default:throw nn(13486,{value:s})}}function ZB(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function eb(s){return!!s&&"integerValue"in s}function jw(s){return!!s&&"arrayValue"in s}function e5(s){return!!s&&"nullValue"in s}function t5(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function mx(s){return!!s&&"mapValue"in s}function Q8(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[h4])==null?void 0:n.stringValue)===f4}function Qp(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Jd(s.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Qp(n))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qp(s.arrayValue.values[t]);return e}return{...s}}function O8(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===L8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.value=e}static empty(){return new Ol({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!mx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qp(t)}setAll(e){let t=Eo.emptyPath(),n={},r=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const u=this.getFieldsMap(t);this.applyChanges(u,n,r),n={},r=[],t=h.popLast()}c?n[h.lastSegment()]=Qp(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());mx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];mx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Jd(t,((r,o)=>e[r]=o));for(const r of n)delete e[r]}clone(){return new Ol(Qp(this.value))}}function m4(s){const e=[];return Jd(s.fields,((t,n)=>{const r=new Eo([t]);if(mx(n)){const o=m4(n.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)})),new aA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,n,r,o,c,h){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new nl(e,0,gn.min(),gn.min(),gn.min(),Ol.empty(),0)}static newFoundDocument(e,t,n,r){return new nl(e,1,t,gn.min(),n,r,0)}static newNoDocument(e,t){return new nl(e,2,t,gn.min(),gn.min(),Ol.empty(),0)}static newUnknownDocument(e,t){return new nl(e,3,t,gn.min(),gn.min(),Ol.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ol.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ol.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.position=e,this.inclusive=t}}function s5(s,e,t){let n=0;for(let r=0;r<s.position.length;r++){const o=e[r],c=s.position[r];if(o.field.isKeyField()?n=zs.comparator(zs.fromName(c.referenceValue),t.key):n=im(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function n5(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Wc(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t="asc"){this.field=e,this.dir=t}}function P8(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{}class Pi extends p4{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new M8(e,t,n):t==="array-contains"?new K8(e,n):t==="in"?new z8(e,n):t==="not-in"?new G8(e,n):t==="array-contains-any"?new $8(e,n):new Pi(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new H8(e,n):new V8(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(im(t,this.value)):t!==null&&Vd(this.value)===Vd(t)&&this.matchesComparison(im(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oc extends p4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new oc(e,t)}matches(e){return g4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g4(s){return s.op==="and"}function x4(s){return k8(s)&&g4(s)}function k8(s){for(const e of s.filters)if(e instanceof oc)return!1;return!0}function tb(s){if(s instanceof Pi)return s.field.canonicalString()+s.op.toString()+om(s.value);if(x4(s))return s.filters.map((e=>tb(e))).join(",");{const e=s.filters.map((t=>tb(t))).join(",");return`${s.op}(${e})`}}function v4(s,e){return s instanceof Pi?(function(n,r){return r instanceof Pi&&n.op===r.op&&n.field.isEqual(r.field)&&Wc(n.value,r.value)})(s,e):s instanceof oc?(function(n,r){return r instanceof oc&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((o,c,h)=>o&&v4(c,r.filters[h])),!0):!1})(s,e):void nn(19439)}function y4(s){return s instanceof Pi?(function(t){return`${t.field.canonicalString()} ${t.op} ${om(t.value)}`})(s):s instanceof oc?(function(t){return t.op.toString()+" {"+t.getFilters().map(y4).join(" ,")+"}"})(s):"Filter"}class M8 extends Pi{constructor(e,t,n){super(e,t,n),this.key=zs.fromName(n.referenceValue)}matches(e){const t=zs.comparator(e.key,this.key);return this.matchesComparison(t)}}class H8 extends Pi{constructor(e,t){super(e,"in",t),this.keys=b4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class V8 extends Pi{constructor(e,t){super(e,"not-in",t),this.keys=b4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function b4(s,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>zs.fromName(n.referenceValue)))}class K8 extends Pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jw(t)&&lg(t.arrayValue,this.value)}}class z8 extends Pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lg(this.value.arrayValue,t)}}class G8 extends Pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(lg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lg(this.value.arrayValue,t)}}class $8 extends Pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>lg(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t=null,n=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function r5(s,e=null,t=[],n=[],r=null,o=null,c=null){return new Y8(s,e,t,n,r,o,c)}function Bw(s){const e=hn(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>tb(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),jv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>om(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>om(n))).join(",")),e.Te=t}return e.Te}function Cw(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!P8(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!v4(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!n5(s.startAt,e.startAt)&&n5(s.endAt,e.endAt)}function sb(s){return zs.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t=null,n=[],r=[],o=null,c="F",h=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W8(s,e,t,n,r,o,c,h){return new wm(s,e,t,n,r,o,c,h)}function Cv(s){return new wm(s)}function a5(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function w4(s){return s.collectionGroup!==null}function Op(s){const e=hn(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new no(Eo.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ag(o,n))})),t.has(Eo.keyField().canonicalString())||e.Ie.push(new Ag(Eo.keyField(),n))}return e.Ie}function Kc(s){const e=hn(s);return e.Ee||(e.Ee=j4(e,Op(s))),e.Ee}function X8(s){const e=hn(s);return e.de||(e.de=j4(e,s.explicitOrderBy)),e.de}function j4(s,e){if(s.limitType==="F")return r5(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Ag(r.field,o)}));const t=s.endAt?new kx(s.endAt.position,s.endAt.inclusive):null,n=s.startAt?new kx(s.startAt.position,s.startAt.inclusive):null;return r5(s.path,s.collectionGroup,e,s.filters,s.limit,t,n)}}function nb(s,e){const t=s.filters.concat([e]);return new wm(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Mx(s,e,t){return new wm(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Sv(s,e){return Cw(Kc(s),Kc(e))&&s.limitType===e.limitType}function B4(s){return`${Bw(Kc(s))}|lt:${s.limitType}`}function Hf(s){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((r=>y4(r))).join(", ")}]`),jv(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>om(r))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>om(r))).join(",")),`Target(${n})`})(Kc(s))}; limitType=${s.limitType})`}function Nv(s,e){return e.isFoundDocument()&&(function(n,r){const o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):zs.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(s,e)&&(function(n,r){for(const o of Op(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(s,e)&&(function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0})(s,e)&&(function(n,r){return!(n.startAt&&!(function(c,h,u){const f=s5(c,h,u);return c.inclusive?f<=0:f<0})(n.startAt,Op(n),r)||n.endAt&&!(function(c,h,u){const f=s5(c,h,u);return c.inclusive?f>=0:f>0})(n.endAt,Op(n),r))})(s,e)}function J8(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function C4(s){return(e,t)=>{let n=!1;for(const r of Op(s)){const o=q8(r,e,t);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function q8(s,e,t){const n=s.field.isKeyField()?zs.comparator(e.key,t.key):(function(o,c,h){const u=c.data.field(o),f=h.data.field(o);return u!==null&&f!==null?im(u,f):nn(42886)})(s.field,e,t);switch(s.dir){case"asc":return n;case"desc":return-1*n;default:return nn(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,o]of n)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jd(this.inner,((t,n)=>{for(const[r,o]of n)e(r,o)}))}isEmpty(){return o4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=new Wa(zs.comparator);function _u(){return Z8}const S4=new Wa(zs.comparator);function Tp(...s){let e=S4;for(const t of s)e=e.insert(t.key,t);return e}function N4(s){let e=S4;return s.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Lh(){return Pp()}function E4(){return Pp()}function Pp(){return new af((s=>s.toString()),((s,e)=>s.isEqual(e)))}const eQ=new Wa(zs.comparator),tQ=new no(zs.comparator);function Jn(...s){let e=tQ;for(const t of s)e=e.add(t);return e}const sQ=new no(Xn);function nQ(){return sQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qx(e)?"-0":e}}function T4(s){return{integerValue:""+s}}function rQ(s,e){return I8(e)?T4(e):Sw(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this._=void 0}}function aQ(s,e,t){return s instanceof Hx?(function(r,o){const c={fields:{[c4]:{stringValue:A4},[d4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ww(o)&&(o=Bv(o)),o&&(c.fields[u4]=o),{mapValue:c}})(t,e):s instanceof cg?_4(s,e):s instanceof ug?F4(s,e):(function(r,o){const c=I4(r,o),h=i5(c)+i5(r.Ae);return eb(c)&&eb(r.Ae)?T4(h):Sw(r.serializer,h)})(s,e)}function iQ(s,e,t){return s instanceof cg?_4(s,e):s instanceof ug?F4(s,e):t}function I4(s,e){return s instanceof Vx?(function(n){return eb(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class Hx extends Ev{}class cg extends Ev{constructor(e){super(),this.elements=e}}function _4(s,e){const t=U4(e);for(const n of s.elements)t.some((r=>Wc(r,n)))||t.push(n);return{arrayValue:{values:t}}}class ug extends Ev{constructor(e){super(),this.elements=e}}function F4(s,e){let t=U4(e);for(const n of s.elements)t=t.filter((r=>!Wc(r,n)));return{arrayValue:{values:t}}}class Vx extends Ev{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function i5(s){return mi(s.integerValue||s.doubleValue)}function U4(s){return jw(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function oQ(s,e){return s.field.isEqual(e.field)&&(function(n,r){return n instanceof cg&&r instanceof cg||n instanceof ug&&r instanceof ug?am(n.elements,r.elements,Wc):n instanceof Vx&&r instanceof Vx?Wc(n.Ae,r.Ae):n instanceof Hx&&r instanceof Hx})(s.transform,e.transform)}class lQ{constructor(e,t){this.version=e,this.transformResults=t}}class kl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kl}static exists(e){return new kl(void 0,e)}static updateTime(e){return new kl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function px(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Tv{}function D4(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Iv(s.key,kl.none()):new Ig(s.key,s.data,kl.none());{const t=s.data,n=Ol.empty();let r=new no(Eo.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),r=r.add(o)}return new qd(s.key,n,new aA(r.toArray()),kl.none())}}function AQ(s,e,t){s instanceof Ig?(function(r,o,c){const h=r.value.clone(),u=l5(r.fieldTransforms,o,c.transformResults);h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(s,e,t):s instanceof qd?(function(r,o,c){if(!px(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=l5(r.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(R4(r)),u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(s,e,t):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function kp(s,e,t,n){return s instanceof Ig?(function(o,c,h,u){if(!px(o.precondition,c))return h;const f=o.value.clone(),A=A5(o.fieldTransforms,u,c);return f.setAll(A),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(s,e,t,n):s instanceof qd?(function(o,c,h,u){if(!px(o.precondition,c))return h;const f=A5(o.fieldTransforms,u,c),A=c.data;return A.setAll(R4(o)),A.setAll(f),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(s,e,t,n):(function(o,c,h){return px(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(s,e,t)}function cQ(s,e){let t=null;for(const n of s.fieldTransforms){const r=e.data.field(n.field),o=I4(n.transform,r||null);o!=null&&(t===null&&(t=Ol.empty()),t.set(n.field,o))}return t||null}function o5(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&am(n,r,((o,c)=>oQ(o,c)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ig extends Tv{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qd extends Tv{constructor(e,t,n,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function R4(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=s.data.field(t);e.set(t,n)}})),e}function l5(s,e,t){const n=new Map;wr(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let r=0;r<t.length;r++){const o=s[r],c=o.transform,h=e.data.field(o.field);n.set(o.field,iQ(c,h,t[r]))}return n}function A5(s,e,t){const n=new Map;for(const r of s){const o=r.transform,c=t.data.field(r.field);n.set(r.field,aQ(o,c,e))}return n}class Iv extends Tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uQ extends Tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&AQ(o,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=E4();return this.mutations.forEach((r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(r.key)?null:h;const u=D4(c,h);u!==null&&n.set(r.key,u),c.isValidDocument()||c.convertToNoDocument(gn.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Jn())}isEqual(e){return this.batchId===e.batchId&&am(this.mutations,e.mutations,((t,n)=>o5(t,n)))&&am(this.baseMutations,e.baseMutations,((t,n)=>o5(t,n)))}}class Nw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=(function(){return eQ})();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,n[c].version);return new Nw(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Li,rr;function pQ(s){switch(s){case bt.OK:return nn(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return nn(15467,{code:s})}}function L4(s){if(s===void 0)return Iu("GRPC error has no .code"),bt.UNKNOWN;switch(s){case Li.OK:return bt.OK;case Li.CANCELLED:return bt.CANCELLED;case Li.UNKNOWN:return bt.UNKNOWN;case Li.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Li.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Li.INTERNAL:return bt.INTERNAL;case Li.UNAVAILABLE:return bt.UNAVAILABLE;case Li.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Li.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Li.NOT_FOUND:return bt.NOT_FOUND;case Li.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Li.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Li.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Li.ABORTED:return bt.ABORTED;case Li.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Li.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Li.DATA_LOSS:return bt.DATA_LOSS;default:return nn(39323,{code:s})}}(rr=Li||(Li={}))[rr.OK=0]="OK",rr[rr.CANCELLED=1]="CANCELLED",rr[rr.UNKNOWN=2]="UNKNOWN",rr[rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rr[rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rr[rr.NOT_FOUND=5]="NOT_FOUND",rr[rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",rr[rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",rr[rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",rr[rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rr[rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rr[rr.ABORTED=10]="ABORTED",rr[rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",rr[rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",rr[rr.INTERNAL=13]="INTERNAL",rr[rr.UNAVAILABLE=14]="UNAVAILABLE",rr[rr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ=new Ld([4294967295,4294967295],0);function c5(s){const e=gQ().encode(s),t=new XE;return t.update(e),new Uint8Array(t.digest())}function u5(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ld([t,n],0),new Ld([r,o],0)]}class Ew{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ip(`Invalid padding: ${t}`);if(n<0)throw new Ip(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ip(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Ip(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ld.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ld.fromNumber(n)));return r.compare(xQ)===1&&(r=new Ld([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=c5(e),[n,r]=u5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,r,o);if(!this.we(c))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Ew(o,r,t);return n.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=c5(e),[n,r]=u5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(n,r,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,_g.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _v(gn.min(),r,new Wa(Xn),_u(),Jn())}}class _g{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new _g(n,t,Jn(),Jn(),Jn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Q4{constructor(e,t){this.targetId=e,this.Ce=t}}class O4{constructor(e,t,n=_o.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class d5{constructor(){this.ve=0,this.Fe=h5(),this.Me=_o.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Jn(),t=Jn(),n=Jn();return this.Fe.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nn(38017,{changeType:o})}})),new _g(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=h5()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=_u(),this.Je=V0(),this.He=V0(),this.Ye=new Wa(Xn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:nn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(sb(o))if(n===0){const c=new zs(o.path);this.et(t,c,nl.newNoDocument(c,gn.min()))}else wr(n===1,20013,{expectedCount:n});else{const c=this._t(t);if(c!==n){const h=this.ut(e),u=h?this.ct(h,e,c):1;if(u!==0){this.it(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let c,h;try{c=Hd(n).toUint8Array()}catch(u){if(u instanceof l4)return rm("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{h=new Ew(c,r,o)}catch(u){return rm(u instanceof Ip?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return h.ge===0?null:h}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&sb(h.target)){const u=new zs(h.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,nl.newNoDocument(u,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let n=Jn();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const r=new _v(e,t,this.Ye,this.je,n);return this.je=_u(),this.Je=V0(),this.He=V0(),this.Ye=new Wa(Xn),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new d5,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new no(Xn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new no(Xn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ws("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d5),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function V0(){return new Wa(zs.comparator)}function h5(){return new Wa(zs.comparator)}const yQ={asc:"ASCENDING",desc:"DESCENDING"},bQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wQ={and:"AND",or:"OR"};class jQ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rb(s,e){return s.useProto3Json||jv(e)?e:{value:e}}function Kx(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P4(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function BQ(s,e){return Kx(s,e.toTimestamp())}function zc(s){return wr(!!s,49232),gn.fromTimestamp((function(t){const n=Md(t);return new tr(n.seconds,n.nanos)})(s))}function Tw(s,e){return ab(s,e).canonicalString()}function ab(s,e){const t=(function(r){return new Aa(["projects",r.projectId,"databases",r.database])})(s).child("documents");return e===void 0?t:t.child(e)}function k4(s){const e=Aa.fromString(s);return wr(G4(e),10190,{key:e.toString()}),e}function ib(s,e){return Tw(s.databaseId,e.path)}function Ky(s,e){const t=k4(e);if(t.get(1)!==s.databaseId.projectId)throw new cs(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new cs(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new zs(H4(t))}function M4(s,e){return Tw(s.databaseId,e)}function CQ(s){const e=k4(s);return e.length===4?Aa.emptyPath():H4(e)}function ob(s){return new Aa(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function H4(s){return wr(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function f5(s,e,t){return{name:ib(s,e),fields:t.value.mapValue.fields}}function SQ(s,e){let t;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:nn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(f,A){return f.useProto3Json?(wr(A===void 0||typeof A=="string",58123),_o.fromBase64String(A||"")):(wr(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),_o.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const A=f.code===void 0?bt.UNKNOWN:L4(f.code);return new cs(A,f.message||"")})(c);t=new O4(n,r,o,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Ky(s,n.document.name),o=zc(n.document.updateTime),c=n.document.createTime?zc(n.document.createTime):gn.min(),h=new Ol({mapValue:{fields:n.document.fields}}),u=nl.newFoundDocument(r,o,c,h),f=n.targetIds||[],A=n.removedTargetIds||[];t=new gx(f,A,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Ky(s,n.document),o=n.readTime?zc(n.readTime):gn.min(),c=nl.newNoDocument(r,o),h=n.removedTargetIds||[];t=new gx([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Ky(s,n.document),o=n.removedTargetIds||[];t=new gx([],o,r,null)}else{if(!("filter"in e))return nn(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:o}=n,c=new mQ(r,o),h=n.targetId;t=new Q4(h,c)}}return t}function NQ(s,e){let t;if(e instanceof Ig)t={update:f5(s,e.key,e.value)};else if(e instanceof Iv)t={delete:ib(s,e.key)};else if(e instanceof qd)t={update:f5(s,e.key,e.data),updateMask:LQ(e.fieldMask)};else{if(!(e instanceof uQ))return nn(16599,{Vt:e.type});t={verify:ib(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,c){const h=c.transform;if(h instanceof Hx)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cg)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ug)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vx)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw nn(20930,{transform:c.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:BQ(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nn(27497)})(s,e.precondition)),t}function EQ(s,e){return s&&s.length>0?(wr(e!==void 0,14353),s.map((t=>(function(r,o){let c=r.updateTime?zc(r.updateTime):zc(o);return c.isEqual(gn.min())&&(c=zc(o)),new lQ(c,r.transformResults||[])})(t,e)))):[]}function TQ(s,e){return{documents:[M4(s,e.path)]}}function V4(s,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=M4(s,r);const o=(function(f){if(f.length!==0)return z4(oc.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((A=>(function(x){return{field:Nd(x.field),direction:UQ(x.dir)}})(A)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=rb(s,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:r}}function IQ(s,e,t,n){const{ft:r,parent:o}=V4(s,e),c={},h=[];let u=0;return t.forEach((f=>{const A="aggregate_"+u++;c[A]=f.alias,f.aggregateType==="count"?h.push({alias:A,count:{}}):f.aggregateType==="avg"?h.push({alias:A,avg:{field:Nd(f.fieldPath)}}):f.aggregateType==="sum"&&h.push({alias:A,sum:{field:Nd(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:r.structuredQuery},parent:r.parent},gt:c,parent:o}}function _Q(s){let e=CQ(s.parent);const t=s.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){wr(n===1,65062);const A=t.from[0];A.allDescendants?r=A.collectionId:e=e.child(A.collectionId)}let o=[];t.where&&(o=(function(m){const x=K4(m);return x instanceof oc&&x4(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(m){return m.map((x=>(function(b){return new Ag(Vf(b.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(m){let x;return x=typeof m=="object"?m.value:m,jv(x)?null:x})(t.limit));let u=null;t.startAt&&(u=(function(m){const x=!!m.before,g=m.values||[];return new kx(g,x)})(t.startAt));let f=null;return t.endAt&&(f=(function(m){const x=!m.before,g=m.values||[];return new kx(g,x)})(t.endAt)),W8(e,r,c,o,h,"F",u,f)}function FQ(s,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function K4(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Vf(t.unaryFilter.field);return Pi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Vf(t.unaryFilter.field);return Pi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vf(t.unaryFilter.field);return Pi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vf(t.unaryFilter.field);return Pi.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nn(61313);default:return nn(60726)}})(s):s.fieldFilter!==void 0?(function(t){return Pi.create(Vf(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nn(58110);default:return nn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return oc.create(t.compositeFilter.filters.map((n=>K4(n))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return nn(1026)}})(t.compositeFilter.op))})(s):nn(30097,{filter:s})}function UQ(s){return yQ[s]}function DQ(s){return bQ[s]}function RQ(s){return wQ[s]}function Nd(s){return{fieldPath:s.canonicalString()}}function Vf(s){return Eo.fromServerFormat(s.fieldPath)}function z4(s){return s instanceof Pi?(function(t){if(t.op==="=="){if(t5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NAN"}};if(e5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NOT_NAN"}};if(e5(t.value))return{unaryFilter:{field:Nd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nd(t.field),op:DQ(t.op),value:t.value}}})(s):s instanceof oc?(function(t){const n=t.getFilters().map((r=>z4(r)));return n.length===1?n[0]:{compositeFilter:{op:RQ(t.op),filters:n}}})(s):nn(54877,{filter:s})}function LQ(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function G4(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,n,r,o=gn.min(),c=gn.min(),h=_o.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=u}withSequenceNumber(e){return new Td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e){this.yt=e}}function OQ(s){const e=_Q({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.Cn=new kQ}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ft.resolve()}getCollectionParents(e,t){return Ft.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ft.resolve()}deleteFieldIndex(e,t){return Ft.resolve()}deleteAllFieldIndexes(e){return Ft.resolve()}createTargetIndexes(e,t){return Ft.resolve()}getDocumentsMatchingTarget(e,t){return Ft.resolve(null)}getIndexType(e,t){return Ft.resolve(0)}getFieldIndexes(e,t){return Ft.resolve([])}getNextCollectionGroupToUpdate(e){return Ft.resolve(null)}getMinOffset(e,t){return Ft.resolve(kd.min())}getMinOffsetFromCollectionGroup(e,t){return Ft.resolve(kd.min())}updateCollectionGroup(e,t,n){return Ft.resolve()}updateIndexEntries(e,t){return Ft.resolve()}}class kQ{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new no(Aa.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new no(Aa.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$4=41943040;class Ql{static withCacheSize(e){return new Ql(e,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ql.DEFAULT_COLLECTION_PERCENTILE=10,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ql.DEFAULT=new Ql($4,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ql.DISABLED=new Ql(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lm(0)}static cr(){return new lm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="LruGarbageCollector",MQ=1048576;function g5([s,e],[t,n]){const r=Xn(s,t);return r===0?Xn(e,n):r}class HQ{constructor(e){this.Ir=e,this.buffer=new no(g5),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();g5(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VQ{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ws(p5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bm(t)?ws(p5,"Ignoring IndexedDB error during garbage collection: ",t):await ym(t)}await this.Vr(3e5)}))}}class KQ{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Ft.resolve(wv.ce);const n=new HQ(t);return this.mr.forEachTarget(e,(r=>n.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>n.Ar(r))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ws("LruGarbageCollector","Garbage collection skipped; disabled"),Ft.resolve(m5)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ws("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m5):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,c,h,u,f;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ws("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,c=Date.now(),this.nthSequenceNumber(e,r)))).next((m=>(n=m,h=Date.now(),this.removeTargets(e,n,t)))).next((m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(f=Date.now(),Mf()<=ar.DEBUG&&ws("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-A}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(u-h)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-A}ms`),Ft.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:m}))))}}function zQ(s,e){return new KQ(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(){this.changes=new af((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Ft.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(n!==null&&kp(n.mutation,r,aA.empty(),tr.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Jn()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Jn()){const r=Lh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((o=>{let c=Tp();return o.forEach(((h,u)=>{c=c.insert(h,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=Lh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Jn())))}populateOverlays(e,t,n){const r=[];return n.forEach((o=>{t.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,n,r){let o=_u();const c=Pp(),h=(function(){return Pp()})();return t.forEach(((u,f)=>{const A=n.get(f.key);r.has(f.key)&&(A===void 0||A.mutation instanceof qd)?o=o.insert(f.key,f):A!==void 0?(c.set(f.key,A.mutation.getFieldMask()),kp(A.mutation,f,A.mutation.getFieldMask(),tr.now())):c.set(f.key,aA.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((f,A)=>c.set(f,A))),t.forEach(((f,A)=>h.set(f,new $Q(A,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const n=Pp();let r=new Wa(((c,h)=>c-h)),o=Jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((u=>{const f=t.get(u);if(f===null)return;let A=n.get(u)||aA.empty();A=h.applyToLocalView(f,A),n.set(u,A);const m=(r.get(h.batchId)||Jn()).add(u);r=r.insert(h.batchId,m)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const u=h.getNext(),f=u.key,A=u.value,m=E4();A.forEach((x=>{if(!o.has(x)){const g=D4(t.get(x),n.get(x));g!==null&&m.set(x,g),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Ft.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,r){return(function(c){return zs.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):Ft.resolve(Lh());let h=ag,u=o;return c.next((f=>Ft.forEach(f,((A,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),o.get(A)?Ft.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{u=u.insert(A,x)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,u,f,Jn()))).next((A=>({batchId:h,changes:N4(A)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zs(t)).next((n=>{let r=Tp();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let c=Tp();return this.indexManager.getCollectionParents(e,o).next((h=>Ft.forEach(h,(u=>{const f=(function(m,x){return new wm(x,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,r).next((A=>{A.forEach(((m,x)=>{c=c.insert(m,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r)))).next((c=>{o.forEach(((u,f)=>{const A=f.getKey();c.get(A)===null&&(c=c.insert(A,nl.newInvalidDocument(A)))}));let h=Tp();return c.forEach(((u,f)=>{const A=o.get(u);A!==void 0&&kp(A.mutation,f,aA.empty(),tr.now()),Nv(t,f)&&(h=h.insert(u,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ft.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:zc(r.createTime)}})(t)),Ft.resolve()}getNamedQuery(e,t){return Ft.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:OQ(r.bundledQuery),readTime:zc(r.readTime)}})(t)),Ft.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(){this.overlays=new Wa(zs.comparator),this.qr=new Map}getOverlay(e,t){return Ft.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Lh();return Ft.forEach(t,(r=>this.getOverlay(e,r).next((o=>{o!==null&&n.set(r,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((r,o)=>{this.St(e,t,o)})),Ft.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Ft.resolve()}getOverlaysForCollection(e,t,n){const r=Lh(),o=t.length+1,c=new zs(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const u=h.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ft.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new Wa(((f,A)=>f-A));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let A=o.get(f.largestBatchId);A===null&&(A=Lh(),o=o.insert(f.largestBatchId,A)),A.set(f.getKey(),f)}}const h=Lh(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,A)=>h.set(f,A))),!(h.size()>=r)););return Ft.resolve(h)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new hQ(t,n));let o=this.qr.get(t);o===void 0&&(o=Jn(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(){this.sessionToken=_o.EMPTY_BYTE_STRING}getSessionToken(e){return Ft.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ft.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Qr=new no(uo.$r),this.Ur=new no(uo.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new uo(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new uo(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new zs(new Aa([])),n=new uo(t,e),r=new uo(t,e+1),o=[];return this.Ur.forEachInRange([n,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new zs(new Aa([])),n=new uo(t,e),r=new uo(t,e+1);let o=Jn();return this.Ur.forEachInRange([n,r],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new uo(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class uo{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return zs.comparator(e.key,t.key)||Xn(e.Yr,t.Yr)}static Kr(e,t){return Xn(e.Yr,t.Yr)||zs.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new no(uo.$r)}checkEmpty(e){return Ft.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dQ(o,t,n,r);this.mutationQueue.push(c);for(const h of r)this.Zr=this.Zr.add(new uo(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ft.resolve(c)}lookupMutationBatch(e,t){return Ft.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return Ft.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ft.resolve(this.mutationQueue.length===0?bw:this.tr-1)}getAllMutationBatches(e){return Ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new uo(t,0),r=new uo(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],(c=>{const h=this.Xr(c.Yr);o.push(h)})),Ft.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new no(Xn);return t.forEach((r=>{const o=new uo(r,0),c=new uo(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{n=n.add(h.Yr)}))})),Ft.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;zs.isDocumentKey(o)||(o=o.child(""));const c=new uo(new zs(o),0);let h=new no(Xn);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===r&&(h=h.add(u.Yr)),!0)}),c),Ft.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((n=>{const r=this.Xr(n);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){wr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ft.forEach(t.mutations,(r=>{const o=new uo(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new uo(t,0),r=this.Zr.firstAfterOrEqual(n);return Ft.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ft.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.ri=e,this.docs=(function(){return new Wa(zs.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,c=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ft.resolve(n?n.document.mutableCopy():nl.newInvalidDocument(t))}getEntries(e,t){let n=_u();return t.forEach((r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():nl.newInvalidDocument(r))})),Ft.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=_u();const c=t.path,h=new zs(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(h);for(;u.hasNext();){const{key:f,value:{document:A}}=u.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||S8(C8(A),n)<=0||(r.has(A.key)||Nv(t,A))&&(o=o.insert(A.key,A.mutableCopy()))}return Ft.resolve(o)}getAllFromCollectionGroup(e,t,n,r){nn(9500)}ii(e,t){return Ft.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new eO(this)}getSize(e){return Ft.resolve(this.size)}}class eO extends GQ{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Ft.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.persistence=e,this.si=new af((t=>Bw(t)),Cw),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.oi=0,this._i=new Iw,this.targetCount=0,this.ai=lm.ur()}forEachTarget(e,t){return this.si.forEach(((n,r)=>t(r))),Ft.resolve()}getLastRemoteSnapshotVersion(e){return Ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ft.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ft.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ft.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new lm(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ft.resolve()}updateTargetData(e,t){return this.Pr(t),Ft.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ft.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),Ft.waitFor(o).next((()=>r))}getTargetCount(e){return Ft.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ft.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ft.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((c=>{o.push(r.markPotentiallyOrphaned(e,c))})),Ft.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ft.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ft.resolve(n)}containsKey(e,t){return Ft.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t){this.ui={},this.overlays={},this.ci=new wv(0),this.li=!1,this.li=!0,this.hi=new JQ,this.referenceDelegate=e(this),this.Pi=new tO(this),this.indexManager=new PQ,this.remoteDocumentCache=(function(r){return new ZQ(r)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new QQ(t),this.Ii=new WQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new qQ(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ws("MemoryPersistence","Starting transaction:",e);const r=new sO(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ft.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class sO extends E8{constructor(e){super(),this.currentSequenceNumber=e}}class _w{constructor(e){this.persistence=e,this.Ri=new Iw,this.Vi=null}static mi(e){return new _w(e)}get fi(){if(this.Vi)return this.Vi;throw nn(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ft.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ft.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ft.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ft.forEach(this.fi,(n=>{const r=zs.fromPath(n);return this.gi(e,r).next((o=>{o||t.removeEntry(r,gn.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ft.or([()=>Ft.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class zx{constructor(e,t){this.persistence=e,this.pi=new af((n=>_8(n.path)),((n,r)=>n.isEqual(r))),this.garbageCollector=zQ(this,t)}static mi(e,t){return new zx(e,t)}Ei(){}di(e){return Ft.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((r=>n+r))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return Ft.forEach(this.pi,((n,r)=>this.br(e,n,r).next((o=>o?Ft.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,t).next((h=>{h||(n++,o.removeEntry(c,gn.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ft.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ft.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ft.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ft.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fx(e.data.value)),t}br(e,t,n){return Ft.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return Ft.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Jn(),r=Jn();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Fw(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xU()?8:T8(al())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,r,n).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new nO;return this.Ss(e,t,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>o.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Mf()<=ar.DEBUG&&ws("QueryEngine","SDK will not create cache indexes for query:",Hf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ft.resolve()):(Mf()<=ar.DEBUG&&ws("QueryEngine","Query:",Hf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Mf()<=ar.DEBUG&&ws("QueryEngine","The SDK decides to create cache indexes for query:",Hf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kc(t))):Ft.resolve())}ys(e,t){if(a5(t))return Ft.resolve(null);let n=Kc(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Mx(t,null,"F"),n=Kc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const c=Jn(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,n).next((u=>{const f=this.Ds(t,h);return this.Cs(t,f,c,u.readTime)?this.ys(e,Mx(t,null,"F")):this.vs(e,f,t,u)}))))})))))}ws(e,t,n,r){return a5(t)||r.isEqual(gn.min())?Ft.resolve(null):this.ps.getDocuments(e,n).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,n,r)?Ft.resolve(null):(Mf()<=ar.DEBUG&&ws("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hf(t)),this.vs(e,c,t,B8(r,ag)).next((h=>h)))}))}Ds(e,t){let n=new no(C4(e));return t.forEach(((r,o)=>{Nv(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return Mf()<=ar.DEBUG&&ws("QueryEngine","Using full collection scan to execute query:",Hf(t)),this.ps.getDocumentsMatchingQuery(e,t,kd.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="LocalStore",aO=3e8;class iO{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Wa(Xn),this.xs=new af((o=>Bw(o)),Cw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function oO(s,e,t,n){return new iO(s,e,t,n)}async function W4(s,e){const t=hn(s);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next((o=>(r=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const c=[],h=[];let u=Jn();for(const f of r){c.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}for(const f of o){h.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}return t.localDocuments.getDocuments(n,u).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function lO(s,e){const t=hn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const r=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,u,f,A){const m=f.batch,x=m.keys();let g=Ft.resolve();return x.forEach((b=>{g=g.next((()=>A.getEntry(u,b))).next((I=>{const N=f.docVersions.get(b);wr(N!==null,48541),I.version.compareTo(N)<0&&(m.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),A.addEntry(I)))}))})),g.next((()=>h.mutationQueue.removeMutationBatch(u,m)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let u=Jn();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(u=u.add(h.batch.mutations[f].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(n,r)))}))}function X4(s){const e=hn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function AO(s,e){const t=hn(s),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const h=[];e.targetChanges.forEach(((A,m)=>{const x=r.get(m);if(!x)return;h.push(t.Pi.removeMatchingKeys(o,A.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(o,A.addedDocuments,m))));let g=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(_o.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):A.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(A.resumeToken,n)),r=r.insert(m,g),(function(I,N,S){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=aO?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(x,g,A)&&h.push(t.Pi.updateTargetData(o,g))}));let u=_u(),f=Jn();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,A))})),h.push(cO(o,c,e.documentUpdates).next((A=>{u=A.ks,f=A.qs}))),!n.isEqual(gn.min())){const A=t.Pi.getLastRemoteSnapshotVersion(o).next((m=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));h.push(A)}return Ft.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,u,f))).next((()=>u))})).then((o=>(t.Ms=r,o)))}function cO(s,e,t){let n=Jn(),r=Jn();return t.forEach((o=>n=n.add(o))),e.getEntries(s,n).next((o=>{let c=_u();return t.forEach(((h,u)=>{const f=o.get(h);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(h)),u.isNoDocument()&&u.version.isEqual(gn.min())?(e.removeEntry(h,u.readTime),c=c.insert(h,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),c=c.insert(h,u)):ws(Uw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",u.version)})),{ks:c,qs:r}}))}function uO(s,e){const t=hn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=bw),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function dO(s,e){const t=hn(s);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let r;return t.Pi.getTargetData(n,e).next((o=>o?(r=o,Ft.resolve(r)):t.Pi.allocateTargetId(n).next((c=>(r=new Td(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next((()=>r)))))))})).then((n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function lb(s,e,t){const n=hn(s),r=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(c=>n.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!bm(c))throw c;ws(Uw,`Failed to update sequence numbers for target ${e}: ${c}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function x5(s,e,t){const n=hn(s);let r=gn.min(),o=Jn();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,f,A){const m=hn(u),x=m.xs.get(A);return x!==void 0?Ft.resolve(m.Ms.get(x)):m.Pi.getTargetData(f,A)})(n,c,Kc(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(c,h.targetId).next((u=>{o=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(c,e,t?r:gn.min(),t?o:Jn()))).next((h=>(hO(n,J8(e),h),{documents:h,Qs:o})))))}function hO(s,e,t){let n=s.Os.get(e)||gn.min();t.forEach(((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),s.Os.set(e,n)}class v5{constructor(){this.activeTargetIds=nQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.Mo=new v5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v5,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="ConnectivityMonitor";class b5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ws(y5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ws(y5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0=null;function Ab(){return K0===null?K0=(function(){return 268435456+Math.round(2147483648*Math.random())})():K0++,"0x"+K0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="RestConnection",pO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Ox?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,o){const c=Ab(),h=this.zo(e,t.toUriEncodedString());ws(zy,`Sending RPC '${e}' ${c}:`,h,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,o);const{host:f}=new URL(h),A=Wd(f);return this.Jo(e,h,u,n,A).then((m=>(ws(zy,`Received RPC '${e}' ${c}: `,m),m)),(m=>{throw rm(zy,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",n),m}))}Ho(e,t,n,r,o,c){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,o)=>e[o]=r)),n&&n.headers.forEach(((r,o)=>e[o]=r))}zo(e,t){const n=pO[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="WebChannelConnection";class vO extends gO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const c=Ab();return new Promise(((h,u)=>{const f=new JE;f.setWithCredentials(!0),f.listenOnce(qE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case hx.NO_ERROR:const m=f.getResponseJson();ws(Jo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(m)),h(m);break;case hx.TIMEOUT:ws(Jo,`RPC '${e}' ${c} timed out`),u(new cs(bt.DEADLINE_EXCEEDED,"Request time out"));break;case hx.HTTP_ERROR:const x=f.getStatus();if(ws(Jo,`RPC '${e}' ${c} failed with status:`,x,"response text:",f.getResponseText()),x>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const I=(function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(E)>=0?E:bt.UNKNOWN})(b.status);u(new cs(I,b.message))}else u(new cs(bt.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new cs(bt.UNAVAILABLE,"Connection failed."));break;default:nn(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ws(Jo,`RPC '${e}' ${c} completed.`)}}));const A=JSON.stringify(r);ws(Jo,`RPC '${e}' ${c} sending request:`,r),f.send(t,"POST",A,n,15)}))}T_(e,t,n){const r=Ab(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=t4(),h=e4(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const A=o.join("");ws(Jo,`Creating RPC '${e}' stream ${r}: ${A}`,u);const m=c.createWebChannel(A,u);this.I_(m);let x=!1,g=!1;const b=new xO({Yo:N=>{g?ws(Jo,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(x||(ws(Jo,`Opening RPC '${e}' stream ${r} transport.`),m.open(),x=!0),ws(Jo,`RPC '${e}' stream ${r} sending:`,N),m.send(N))},Zo:()=>m.close()}),I=(N,S,E)=>{N.listen(S,(F=>{try{E(F)}catch(L){setTimeout((()=>{throw L}),0)}}))};return I(m,Ep.EventType.OPEN,(()=>{g||(ws(Jo,`RPC '${e}' stream ${r} transport opened.`),b.o_())})),I(m,Ep.EventType.CLOSE,(()=>{g||(g=!0,ws(Jo,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(m))})),I(m,Ep.EventType.ERROR,(N=>{g||(g=!0,rm(Jo,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),b.a_(new cs(bt.UNAVAILABLE,"The operation could not be completed")))})),I(m,Ep.EventType.MESSAGE,(N=>{var S;if(!g){const E=N.data[0];wr(!!E,16349);const F=E,L=(F==null?void 0:F.error)||((S=F[0])==null?void 0:S.error);if(L){ws(Jo,`RPC '${e}' stream ${r} received error:`,L);const O=L.status;let H=(function(R){const K=Li[R];if(K!==void 0)return L4(K)})(O),Q=L.message;H===void 0&&(H=bt.INTERNAL,Q="Unknown error status: "+O+" with message "+L.message),g=!0,b.a_(new cs(H,Q)),m.close()}else ws(Jo,`RPC '${e}' stream ${r} received:`,E),b.u_(E)}})),I(h,ZE.STAT_EVENT,(N=>{N.stat===J1.PROXY?ws(Jo,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===J1.NOPROXY&&ws(Jo,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Gy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s){return new jQ(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t,n=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ws("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="PersistentStream";class q4{constructor(e,t,n,r,o,c,h,u){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(Iu(t.toString()),Iu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,r])=>{this.D_===t&&this.G_(n,r)}),(n=>{e((()=>{const r=new cs(bt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{n((()=>this.z_(r)))})),this.stream.onMessage((r=>{n((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ws(w5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ws(w5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yO extends q4{constructor(e,t,n,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=SQ(this.serializer,e),n=(function(o){if(!("targetChange"in o))return gn.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?gn.min():c.readTime?zc(c.readTime):gn.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=ob(this.serializer),t.addTarget=(function(o,c){let h;const u=c.target;if(h=sb(u)?{documents:TQ(o,u)}:{query:V4(o,u).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=P4(o,c.resumeToken);const f=rb(o,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(gn.min())>0){h.readTime=Kx(o,c.snapshotVersion.toTimestamp());const f=rb(o,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const n=FQ(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=ob(this.serializer),t.removeTarget=e,this.q_(t)}}class bO extends q4{constructor(e,t,n,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=EQ(e.writeResults,e.commitTime),n=zc(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=ob(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>NQ(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{}class jO extends wO{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new cs(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,ab(t,n),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new cs(bt.UNKNOWN,o.toString())}))}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,ab(t,n),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new cs(bt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Iu(t),this.aa=!1):ws("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="RemoteStore";class CO{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{n.enqueueAndForget((async()=>{of(this)&&(ws(Zh,"Restarting streams for network reachability change."),await(async function(u){const f=hn(u);f.Ea.add(4),await Fg(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Uv(f)})(this))}))})),this.Ra=new BO(n,r)}}async function Uv(s){if(of(s))for(const e of s.da)await e(!0)}async function Fg(s){for(const e of s.da)await e(!1)}function Z4(s,e){const t=hn(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qw(t)?Lw(t):jm(t).O_()&&Rw(t,e))}function Dw(s,e){const t=hn(s),n=jm(t);t.Ia.delete(e),n.O_()&&eT(t,e),t.Ia.size===0&&(n.O_()?n.L_():of(t)&&t.Ra.set("Unknown"))}function Rw(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gn.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jm(s).Y_(e)}function eT(s,e){s.Va.Ue(e),jm(s).Z_(e)}function Lw(s){s.Va=new vQ({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),jm(s).start(),s.Ra.ua()}function Qw(s){return of(s)&&!jm(s).x_()&&s.Ia.size>0}function of(s){return hn(s).Ea.size===0}function tT(s){s.Va=void 0}async function SO(s){s.Ra.set("Online")}async function NO(s){s.Ia.forEach(((e,t)=>{Rw(s,e)}))}async function EO(s,e){tT(s),Qw(s)?(s.Ra.ha(e),Lw(s)):s.Ra.set("Unknown")}async function TO(s,e,t){if(s.Ra.set("Online"),e instanceof O4&&e.state===2&&e.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.Va.removeTarget(h))})(s,e)}catch(n){ws(Zh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Gx(s,n)}else if(e instanceof gx?s.Va.Ze(e):e instanceof Q4?s.Va.st(e):s.Va.tt(e),!t.isEqual(gn.min()))try{const n=await X4(s.localStore);t.compareTo(n)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const A=o.Ia.get(f);A&&o.Ia.set(f,A.withResumeToken(u.resumeToken,c))}})),h.targetMismatches.forEach(((u,f)=>{const A=o.Ia.get(u);if(!A)return;o.Ia.set(u,A.withResumeToken(_o.EMPTY_BYTE_STRING,A.snapshotVersion)),eT(o,u);const m=new Td(A.target,u,f,A.sequenceNumber);Rw(o,m)})),o.remoteSyncer.applyRemoteEvent(h)})(s,t)}catch(n){ws(Zh,"Failed to raise snapshot:",n),await Gx(s,n)}}async function Gx(s,e,t){if(!bm(e))throw e;s.Ea.add(1),await Fg(s),s.Ra.set("Offline"),t||(t=()=>X4(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ws(Zh,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await Uv(s)}))}function sT(s,e){return e().catch((t=>Gx(s,t,e)))}async function Dv(s){const e=hn(s),t=Kd(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bw;for(;IO(e);)try{const r=await uO(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,_O(e,r)}catch(r){await Gx(e,r)}nT(e)&&rT(e)}function IO(s){return of(s)&&s.Ta.length<10}function _O(s,e){s.Ta.push(e);const t=Kd(s);t.O_()&&t.X_&&t.ea(e.mutations)}function nT(s){return of(s)&&!Kd(s).x_()&&s.Ta.length>0}function rT(s){Kd(s).start()}async function FO(s){Kd(s).ra()}async function UO(s){const e=Kd(s);for(const t of s.Ta)e.ea(t.mutations)}async function DO(s,e,t){const n=s.Ta.shift(),r=Nw.from(n,e,t);await sT(s,(()=>s.remoteSyncer.applySuccessfulWrite(r))),await Dv(s)}async function RO(s,e){e&&Kd(s).X_&&await(async function(n,r){if((function(c){return pQ(c)&&c!==bt.ABORTED})(r.code)){const o=n.Ta.shift();Kd(n).B_(),await sT(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Dv(n)}})(s,e),nT(s)&&rT(s)}async function j5(s,e){const t=hn(s);t.asyncQueue.verifyOperationInProgress(),ws(Zh,"RemoteStore received new credentials");const n=of(t);t.Ea.add(3),await Fg(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Uv(t)}async function LO(s,e){const t=hn(s);e?(t.Ea.delete(2),await Uv(t)):e||(t.Ea.add(2),await Fg(t),t.Ra.set("Unknown"))}function jm(s){return s.ma||(s.ma=(function(t,n,r){const o=hn(t);return o.sa(),new yO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(s.datastore,s.asyncQueue,{Xo:SO.bind(null,s),t_:NO.bind(null,s),r_:EO.bind(null,s),H_:TO.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Qw(s)?Lw(s):s.Ra.set("Unknown")):(await s.ma.stop(),tT(s))}))),s.ma}function Kd(s){return s.fa||(s.fa=(function(t,n,r){const o=hn(t);return o.sa(),new bO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:FO.bind(null,s),r_:RO.bind(null,s),ta:UO.bind(null,s),na:DO.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Dv(s)):(await s.fa.stop(),s.Ta.length>0&&(ws(Zh,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Vc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const c=Date.now()+n,h=new Ow(e,t,c,r,o);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new cs(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(s,e){if(Iu("AsyncQueue",`${e}: ${s}`),bm(s))return new cs(bt.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{static emptySet(e){return new tm(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||zs.comparator(t.key,n.key):(t,n)=>zs.comparator(t.key,n.key),this.keyedMap=Tp(),this.sortedSet=new Wa(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new tm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.ga=new Wa(zs.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):nn(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Am{constructor(e,t,n,r,o,c,h,u,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,r,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Am(e,t,tm.emptySet(t),c,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OO{constructor(){this.queries=C5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=hn(t),o=r.queries;r.queries=C5(),o.forEach(((c,h)=>{for(const u of h.Sa)u.onError(n)}))})(this,new cs(bt.ABORTED,"Firestore shutting down"))}}function C5(){return new af((s=>B4(s)),Sv)}async function kw(s,e){const t=hn(s);let n=3;const r=e.query;let o=t.queries.get(r);o?!o.ba()&&e.Da()&&(n=2):(o=new QO,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(r,!0);break;case 1:o.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(c){const h=Pw(c,`Initialization of query '${Hf(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Hw(t)}async function Mw(s,e){const t=hn(s),n=e.query;let r=3;const o=t.queries.get(n);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function PO(s,e){const t=hn(s);let n=!1;for(const r of e){const o=r.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Fa(r)&&(n=!0);c.wa=r}}n&&Hw(t)}function kO(s,e,t){const n=hn(s),r=n.queries.get(e);if(r)for(const o of r.Sa)o.onError(t);n.queries.delete(e)}function Hw(s){s.Ca.forEach((e=>{e.next()}))}var cb,S5;(S5=cb||(cb={})).Ma="default",S5.Cache="cache";class Vw{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Am(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class iT{constructor(e){this.key=e}}class MO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jn(),this.mutatedKeys=Jn(),this.eu=C4(e),this.tu=new tm(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new B5,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((A,m)=>{const x=r.get(A),g=Nv(this.query,m)?m:null,b=!!x&&this.mutatedKeys.has(x.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;x&&g?x.data.isEqual(g.data)?b!==I&&(n.track({type:3,doc:g}),N=!0):this.su(x,g)||(n.track({type:2,doc:g}),N=!0,(u&&this.eu(g,u)>0||f&&this.eu(g,f)<0)&&(h=!0)):!x&&g?(n.track({type:0,doc:g}),N=!0):x&&!g&&(n.track({type:1,doc:x}),N=!0,(u||f)&&(h=!0)),N&&(g?(c=c.add(g),o=I?o.add(A):o.delete(A)):(c=c.delete(A),o=o.delete(A)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const A=this.query.limitType==="F"?c.last():c.first();c=c.delete(A.key),o=o.delete(A.key),n.track({type:1,doc:A})}return{tu:c,iu:n,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((A,m)=>(function(g,b){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn(20277,{Rt:N})}};return I(g)-I(b)})(A.type,m.type)||this.eu(A.doc,m.doc))),this.ou(n),r=r??!1;const h=t&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,f=u!==this.Za;return this.Za=u,c.length!==0||f?{snapshot:new Am(this.query,e.tu,o,c,e.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Jn(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new iT(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new aT(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Jn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Am.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kw="SyncEngine";class HO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class VO{constructor(e){this.key=e,this.hu=!1}}class KO{constructor(e,t,n,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new af((h=>B4(h)),Sv),this.Iu=new Map,this.Eu=new Set,this.du=new Wa(zs.comparator),this.Au=new Map,this.Ru=new Iw,this.Vu={},this.mu=new Map,this.fu=lm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zO(s,e,t=!0){const n=dT(s);let r;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await oT(n,e,t,!0),r}async function GO(s,e){const t=dT(s);await oT(t,e,!0,!1)}async function oT(s,e,t,n){const r=await dO(s.localStore,Kc(e)),o=r.targetId,c=s.sharedClientState.addLocalQueryTarget(o,t);let h;return n&&(h=await $O(s,e,o,c==="current",r.resumeToken)),s.isPrimaryClient&&t&&Z4(s.remoteStore,r),h}async function $O(s,e,t,n,r){s.pu=(m,x,g)=>(async function(I,N,S,E){let F=N.view.ru(S);F.Cs&&(F=await x5(I.localStore,N.query,!1).then((({documents:Q})=>N.view.ru(Q,F))));const L=E&&E.targetChanges.get(N.targetId),O=E&&E.targetMismatches.get(N.targetId)!=null,H=N.view.applyChanges(F,I.isPrimaryClient,L,O);return E5(I,N.targetId,H.au),H.snapshot})(s,m,x,g);const o=await x5(s.localStore,e,!0),c=new MO(e,o.Qs),h=c.ru(o.documents),u=_g.createSynthesizedTargetChangeForCurrentChange(t,n&&s.onlineState!=="Offline",r),f=c.applyChanges(h,s.isPrimaryClient,u);E5(s,t,f.au);const A=new HO(e,t,c);return s.Tu.set(e,A),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),f.snapshot}async function YO(s,e,t){const n=hn(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);if(o.length>1)return n.Iu.set(r.targetId,o.filter((c=>!Sv(c,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lb(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),t&&Dw(n.remoteStore,r.targetId),ub(n,r.targetId)})).catch(ym)):(ub(n,r.targetId),await lb(n.localStore,r.targetId,!0))}async function WO(s,e){const t=hn(s),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Dw(t.remoteStore,n.targetId))}async function XO(s,e,t){const n=nP(s);try{const r=await(function(c,h){const u=hn(c),f=tr.now(),A=h.reduce(((g,b)=>g.add(b.key)),Jn());let m,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let b=_u(),I=Jn();return u.Ns.getEntries(g,A).next((N=>{b=N,b.forEach(((S,E)=>{E.isValidDocument()||(I=I.add(S))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,b))).next((N=>{m=N;const S=[];for(const E of h){const F=cQ(E,m.get(E.key).overlayedDocument);F!=null&&S.push(new qd(E.key,F,m4(F.value.mapValue),kl.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,S,h)})).next((N=>{x=N;const S=N.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(g,N.batchId,S)}))})).then((()=>({batchId:x.batchId,changes:N4(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),(function(c,h,u){let f=c.Vu[c.currentUser.toKey()];f||(f=new Wa(Xn)),f=f.insert(h,u),c.Vu[c.currentUser.toKey()]=f})(n,r.batchId,t),await Ug(n,r.changes),await Dv(n.remoteStore)}catch(r){const o=Pw(r,"Failed to persist write");t.reject(o)}}async function lT(s,e){const t=hn(s);try{const n=await AO(t.localStore,e);e.targetChanges.forEach(((r,o)=>{const c=t.Au.get(o);c&&(wr(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?wr(c.hu,14607):r.removedDocuments.size>0&&(wr(c.hu,42227),c.hu=!1))})),await Ug(t,n,e)}catch(n){await ym(n)}}function N5(s,e,t){const n=hn(s);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const u=hn(c);u.onlineState=h;let f=!1;u.queries.forEach(((A,m)=>{for(const x of m.Sa)x.va(h)&&(f=!0)})),f&&Hw(u)})(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function JO(s,e,t){const n=hn(s);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),o=r&&r.key;if(o){let c=new Wa(zs.comparator);c=c.insert(o,nl.newNoDocument(o,gn.min()));const h=Jn().add(o),u=new _v(gn.min(),new Map,new Wa(Xn),c,h);await lT(n,u),n.du=n.du.remove(o),n.Au.delete(e),zw(n)}else await lb(n.localStore,e,!1).then((()=>ub(n,e,t))).catch(ym)}async function qO(s,e){const t=hn(s),n=e.batch.batchId;try{const r=await lO(t.localStore,e);cT(t,n,null),AT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Ug(t,r)}catch(r){await ym(r)}}async function ZO(s,e,t){const n=hn(s);try{const r=await(function(c,h){const u=hn(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let A;return u.mutationQueue.lookupMutationBatch(f,h).next((m=>(wr(m!==null,37113),A=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,A,h))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,A))).next((()=>u.localDocuments.getDocuments(f,A)))}))})(n.localStore,e);cT(n,e,t),AT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Ug(n,r)}catch(r){await ym(r)}}function AT(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function cT(s,e,t){const n=hn(s);let r=n.Vu[n.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function ub(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const n of s.Iu.get(e))s.Tu.delete(n),t&&s.Pu.yu(n,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((n=>{s.Ru.containsKey(n)||uT(s,n)}))}function uT(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(Dw(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),zw(s))}function E5(s,e,t){for(const n of t)n instanceof aT?(s.Ru.addReference(n.key,e),eP(s,n)):n instanceof iT?(ws(Kw,"Document no longer in limbo: "+n.key),s.Ru.removeReference(n.key,e),s.Ru.containsKey(n.key)||uT(s,n.key)):nn(19791,{wu:n})}function eP(s,e){const t=e.key,n=t.path.canonicalString();s.du.get(t)||s.Eu.has(n)||(ws(Kw,"New document in limbo: "+t),s.Eu.add(n),zw(s))}function zw(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new zs(Aa.fromString(e)),n=s.fu.next();s.Au.set(n,new VO(t)),s.du=s.du.insert(t,n),Z4(s.remoteStore,new Td(Kc(Cv(t.path)),n,"TargetPurposeLimboResolution",wv.ce))}}async function Ug(s,e,t){const n=hn(s),r=[],o=[],c=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,u)=>{c.push(n.pu(u,e,t).then((f=>{var A;if((f||t)&&n.isPrimaryClient){const m=f?!f.fromCache:(A=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:A.current;n.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){r.push(f);const m=Fw.As(u.targetId,f);o.push(m)}})))})),await Promise.all(c),n.Pu.H_(r),await(async function(u,f){const A=hn(u);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Ft.forEach(f,(x=>Ft.forEach(x.Es,(g=>A.persistence.referenceDelegate.addReference(m,x.targetId,g))).next((()=>Ft.forEach(x.ds,(g=>A.persistence.referenceDelegate.removeReference(m,x.targetId,g)))))))))}catch(m){if(!bm(m))throw m;ws(Uw,"Failed to update sequence numbers: "+m)}for(const m of f){const x=m.targetId;if(!m.fromCache){const g=A.Ms.get(x),b=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(b);A.Ms=A.Ms.insert(x,I)}}})(n.localStore,o))}async function tP(s,e){const t=hn(s);if(!t.currentUser.isEqual(e)){ws(Kw,"User change. New user:",e.toKey());const n=await W4(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((u=>{u.reject(new cs(bt.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ug(t,n.Ls)}}function sP(s,e){const t=hn(s),n=t.Au.get(e);if(n&&n.hu)return Jn().add(n.key);{let r=Jn();const o=t.Iu.get(e);if(!o)return r;for(const c of o){const h=t.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function dT(s){const e=hn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JO.bind(null,e),e.Pu.H_=PO.bind(null,e.eventManager),e.Pu.yu=kO.bind(null,e.eventManager),e}function nP(s){const e=hn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZO.bind(null,e),e}class $x{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oO(this.persistence,new rO,e.initialUser,this.serializer)}Cu(e){return new Y4(_w.mi,this.serializer)}Du(e){return new fO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$x.provider={build:()=>new $x};class rP extends $x{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wr(this.persistence.referenceDelegate instanceof zx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new VQ(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ql.withCacheSize(this.cacheSizeBytes):Ql.DEFAULT;return new Y4((n=>zx.mi(n,t)),this.serializer)}}class db{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>N5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=tP.bind(null,this.syncEngine),await LO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OO})()}createDatastore(e){const t=Fv(e.databaseInfo.databaseId),n=(function(o){return new vO(o)})(e.databaseInfo);return(function(o,c,h,u){return new jO(o,c,h,u)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,r,o,c,h){return new CO(n,r,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>N5(this.syncEngine,t,0)),(function(){return b5.v()?new b5:new mO})())}createSyncEngine(e,t){return(function(r,o,c,h,u,f,A){const m=new KO(r,o,c,h,u,f);return A&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const o=hn(r);ws(Zh,"RemoteStore shutting down."),o.Ea.add(5),await Fg(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}db.provider={build:()=>new db};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Iu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="FirestoreClient";class aP{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sl.UNAUTHENTICATED,this.clientId=yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async c=>{ws(zd,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(ws(zd,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Pw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $y(s,e){s.asyncQueue.verifyOperationInProgress(),ws(zd,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let n=t.initialUser;s.setCredentialChangeListener((async r=>{n.isEqual(r)||(await W4(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function T5(s,e){s.asyncQueue.verifyOperationInProgress();const t=await iP(s);ws(zd,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((n=>j5(e.remoteStore,n))),s.setAppCheckTokenChangeListener(((n,r)=>j5(e.remoteStore,r))),s._onlineComponents=e}async function iP(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ws(zd,"Using user provided OfflineComponentProvider");try{await $y(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===bt.FAILED_PRECONDITION||r.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;rm("Error using user provided cache. Falling back to memory cache: "+t),await $y(s,new $x)}}else ws(zd,"Using default OfflineComponentProvider"),await $y(s,new rP(void 0));return s._offlineComponents}async function $w(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ws(zd,"Using user provided OnlineComponentProvider"),await T5(s,s._uninitializedComponentsProvider._online)):(ws(zd,"Using default OnlineComponentProvider"),await T5(s,new db))),s._onlineComponents}function oP(s){return $w(s).then((e=>e.syncEngine))}function lP(s){return $w(s).then((e=>e.datastore))}async function Yx(s){const e=await $w(s),t=e.eventManager;return t.onListen=zO.bind(null,e.syncEngine),t.onUnlisten=YO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WO.bind(null,e.syncEngine),t}function AP(s,e,t={}){const n=new Vc;return s.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new Gw({next:x=>{A.Nu(),c.enqueueAndForget((()=>Mw(o,m)));const g=x.docs.has(h);!g&&x.fromCache?f.reject(new cs(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&x.fromCache&&u&&u.source==="server"?f.reject(new cs(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new Vw(Cv(h.path),A,{includeMetadataChanges:!0,qa:!0});return kw(o,m)})(await Yx(s),s.asyncQueue,e,t,n))),n.promise}function cP(s,e,t={}){const n=new Vc;return s.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new Gw({next:x=>{A.Nu(),c.enqueueAndForget((()=>Mw(o,m))),x.fromCache&&u.source==="server"?f.reject(new cs(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new Vw(h,A,{includeMetadataChanges:!0,qa:!0});return kw(o,m)})(await Yx(s),s.asyncQueue,e,t,n))),n.promise}function uP(s,e,t){const n=new Vc;return s.asyncQueue.enqueueAndForget((async()=>{try{const r=await lP(s);n.resolve((async function(c,h,u){var I;const f=hn(c),{request:A,gt:m,parent:x}=IQ(f.serializer,X8(h),u);f.connection.$o||delete A.parent;const g=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,x,A,1)).filter((N=>!!N.result));wr(g.length===1,64727);const b=(I=g[0].result)==null?void 0:I.aggregateFields;return Object.keys(b).reduce(((N,S)=>(N[m[S]]=b[S],N)),{})})(r,e,t))}catch(r){n.reject(r)}})),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firestore.googleapis.com",_5=!0;class F5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new cs(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=_5}else this.host=e.host,this.ssl=e.ssl??_5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MQ)throw new cs(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new cs(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new cs(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new cs(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new cs(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new cs(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new d8;switch(n.type){case"firstParty":return new p8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new cs(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=I5.get(t);n&&(ws("ComponentProvider","Removing Datastore"),I5.delete(t),n.terminate())})(this),Promise.resolve()}}function dP(s,e,t,n={}){var f;s=vl(s,Rv);const r=Wd(e),o=s._getSettings(),c={...o,emulatorOptions:s._getEmulatorOptions()},h=`${e}:${t}`;r&&(ow(`https://${h}`),lw("Firestore",!0)),o.host!==fT&&o.host!==h&&rm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:h,ssl:r,emulatorOptions:n};if(!Xh(u,c)&&(s._setSettings(u),n.mockUserToken)){let A,m;if(typeof n.mockUserToken=="string")A=n.mockUserToken,m=sl.MOCK_USER;else{A=AU(n.mockUserToken,(f=s._app)==null?void 0:f.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new cs(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new sl(x)}s._authCredentials=new h8(new n4(A,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ru(this.firestore,e,this._query)}}class ii{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}toJSON(){return{type:ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Tg(t,ii._jsonSchema))return new ii(e,n||null,new zs(Aa.fromString(t.referencePath)))}}ii._jsonSchemaVersion="firestore/documentReference/1.0",ii._jsonSchema={type:ki("string",ii._jsonSchemaVersion),referencePath:ki("string")};class Qd extends Ru{constructor(e,t,n){super(e,t,Cv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new zs(e))}withConverter(e){return new Qd(this.firestore,e,this._path)}}function Hs(s,e,...t){if(s=Oa(s),r4("collection","path",e),s instanceof Rv){const n=Aa.fromString(e,...t);return zB(n),new Qd(s,null,n)}{if(!(s instanceof ii||s instanceof Qd))throw new cs(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(Aa.fromString(e,...t));return zB(n),new Qd(s.firestore,null,n)}}function Ms(s,e,...t){if(s=Oa(s),arguments.length===1&&(e=yw.newId()),r4("doc","path",e),s instanceof Rv){const n=Aa.fromString(e,...t);return KB(n),new ii(s,null,new zs(n))}{if(!(s instanceof ii||s instanceof Qd))throw new cs(bt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(Aa.fromString(e,...t));return KB(n),new ii(s.firestore,s instanceof Qd?s.converter:null,new zs(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="AsyncQueue";class D5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J4(this,"async_queue_retry"),this._c=()=>{const n=Gy();n&&ws(U5,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Gy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Gy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bm(e))throw e;ws(U5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Iu("INTERNAL UNHANDLED ERROR: ",R5(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ow.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&nn(47125,{Pc:R5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function R5(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(s){return(function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const o of n)if(o in r&&typeof r[o]=="function")return!0;return!1})(s,["next","error","complete"])}class Xc extends Rv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new D5,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D5(e),this._firestoreClient=void 0,await e}}}function hP(s,e){const t=typeof s=="object"?s:cw(),n=typeof s=="string"?s:Ox,r=pv(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const o=AE("firestore");o&&dP(r,...o)}return r}function Bm(s){if(s._terminated)throw new cs(bt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fP(s),s._firestoreClient}function fP(s){var n,r,o;const e=s._freezeSettings(),t=(function(h,u,f,A){return new R8(h,u,f,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,hT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((n=s._app)==null?void 0:n.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new aP(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(h){const u=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class pP{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new IA(_o.fromBase64String(e))}catch(t){throw new cs(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new IA(_o.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:IA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tg(e,IA._jsonSchema))return IA.fromBase64String(e.bytes)}}IA._jsonSchemaVersion="firestore/bytes/1.0",IA._jsonSchema={type:ki("string",IA._jsonSchemaVersion),bytes:ki("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new cs(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new cs(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new cs(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xn(this._lat,e._lat)||Xn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gc._jsonSchemaVersion}}static fromJSON(e){if(Tg(e,Gc._jsonSchema))return new Gc(e.latitude,e.longitude)}}Gc._jsonSchemaVersion="firestore/geoPoint/1.0",Gc._jsonSchema={type:ki("string",Gc._jsonSchemaVersion),latitude:ki("number"),longitude:ki("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$c._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tg(e,$c._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $c(e.vectorValues);throw new cs(bt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$c._jsonSchemaVersion="firestore/vectorValue/1.0",$c._jsonSchema={type:ki("string",$c._jsonSchemaVersion),vectorValues:ki("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=/^__.*__$/;class xP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new qd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ig(e,this.data,t,this.fieldTransforms)}}class mT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn(40011,{Ac:s})}}class Ww{constructor(e,t,n,r,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ww({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&gP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Fv(e)}Cc(e,t,n,r=!1){return new Ww({Ac:e,methodName:t,Dc:n,path:Eo.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lv(s){const e=s._freezeSettings(),t=Fv(s._databaseId);return new vP(s._databaseId,!!e.ignoreUndefinedProperties,t)}function gT(s,e,t,n,r,o={}){const c=s.Cc(o.merge||o.mergeFields?2:0,e,t,r);Xw("Data must be an object, but it was:",c,n);const h=yT(n,c);let u,f;if(o.merge)u=new aA(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const A=[];for(const m of o.mergeFields){const x=hb(e,m,t);if(!c.contains(x))throw new cs(bt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);wT(A,x)||A.push(x)}u=new aA(A),f=c.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=c.fieldTransforms;return new xP(new Ol(h),u,f)}class Qv extends Yw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qv}}function xT(s,e,t,n){const r=s.Cc(1,e,t);Xw("Data must be an object, but it was:",r,n);const o=[],c=Ol.empty();Jd(n,((u,f)=>{const A=Jw(e,u,t);f=Oa(f);const m=r.yc(A);if(f instanceof Qv)o.push(A);else{const x=Rg(f,m);x!=null&&(o.push(A),c.set(A,x))}}));const h=new aA(o);return new mT(c,h,r.fieldTransforms)}function vT(s,e,t,n,r,o){const c=s.Cc(1,e,t),h=[hb(e,n,t)],u=[r];if(o.length%2!=0)throw new cs(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(hb(e,o[x])),u.push(o[x+1]);const f=[],A=Ol.empty();for(let x=h.length-1;x>=0;--x)if(!wT(f,h[x])){const g=h[x];let b=u[x];b=Oa(b);const I=c.yc(g);if(b instanceof Qv)f.push(g);else{const N=Rg(b,I);N!=null&&(f.push(g),A.set(g,N))}}const m=new aA(f);return new mT(A,m,c.fieldTransforms)}function yP(s,e,t,n=!1){return Rg(t,s.Cc(n?4:3,e))}function Rg(s,e){if(bT(s=Oa(s)))return Xw("Unsupported field value:",e,s),yT(s,e);if(s instanceof Yw)return(function(n,r){if(!pT(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const o=[];let c=0;for(const h of n){let u=Rg(h,r.wc(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(s,e)}return(function(n,r){if((n=Oa(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rQ(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=tr.fromDate(n);return{timestampValue:Kx(r.serializer,o)}}if(n instanceof tr){const o=new tr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kx(r.serializer,o)}}if(n instanceof Gc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof IA)return{bytesValue:P4(r.serializer,n._byteString)};if(n instanceof ii){const o=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tw(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof $c)return(function(c,h){return{mapValue:{fields:{[h4]:{stringValue:f4},[Px]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return Sw(h.serializer,f)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${bv(n)}`)})(s,e)}function yT(s,e){const t={};return o4(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jd(s,((n,r)=>{const o=Rg(r,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function bT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof tr||s instanceof Gc||s instanceof IA||s instanceof ii||s instanceof Yw||s instanceof $c)}function Xw(s,e,t){if(!bT(t)||!a4(t)){const n=bv(t);throw n==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+n)}}function hb(s,e,t){if((e=Oa(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return Jw(s,e);throw Wx("Field path arguments must be of type string or ",s,!1,void 0,t)}const bP=new RegExp("[~\\*/\\[\\]]");function Jw(s,e,t){if(e.search(bP)>=0)throw Wx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Dg(...e.split("."))._internalPath}catch{throw Wx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Wx(s,e,t,n,r){const o=n&&!n.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${n}`),c&&(u+=` in document ${r}`),u+=")"),new cs(bt.INVALID_ARGUMENT,h+s+u)}function wT(s,e){return s.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ov("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wP extends jT{data(){return super.data()}}function Ov(s,e){return typeof e=="string"?Jw(s,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new cs(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qw{}class Zw extends qw{}function Ys(s,e,...t){let n=[];e instanceof qw&&n.push(e),n=n.concat(t),(function(o){const c=o.filter((u=>u instanceof e2)).length,h=o.filter((u=>u instanceof Pv)).length;if(c>1||c>0&&h>0)throw new cs(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const r of n)s=r._apply(s);return s}class Pv extends Zw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Pv(e,t,n)}_apply(e){const t=this._parse(e);return CT(e._query,t),new Ru(e.firestore,e.converter,nb(e._query,t))}_parse(e){const t=Lv(e.firestore);return(function(o,c,h,u,f,A,m){let x;if(f.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new cs(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){O5(m,A);const b=[];for(const I of m)b.push(Q5(u,o,I));x={arrayValue:{values:b}}}else x=Q5(u,o,m)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||O5(m,A),x=yP(h,c,m,A==="in"||A==="not-in");return Pi.create(f,A,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function is(s,e,t){const n=e,r=Ov("where",s);return Pv._create(r,n,t)}class e2 extends qw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new e2(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:oc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const u of h)CT(c,u),c=nb(c,u)})(e._query,t),new Ru(e.firestore,e.converter,nb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t2 extends Zw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new t2(e,t)}_apply(e){const t=(function(r,o,c){if(r.startAt!==null)throw new cs(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new cs(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ag(o,c)})(e._query,this._field,this._direction);return new Ru(e.firestore,e.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new wm(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function fb(s,e="asc"){const t=e,n=Ov("orderBy",s);return t2._create(n,t)}class s2 extends Zw{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new s2(e,t,n)}_apply(e){return new Ru(e.firestore,e.converter,Mx(e._query,this._limit,this._limitType))}}function Xx(s){return j8("limit",s),s2._create("limit",s,"F")}function Q5(s,e,t){if(typeof(t=Oa(t))=="string"){if(t==="")throw new cs(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w4(e)&&t.indexOf("/")!==-1)throw new cs(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Aa.fromString(t));if(!zs.isDocumentKey(n))throw new cs(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ZB(s,new zs(n))}if(t instanceof ii)return ZB(s,t._key);throw new cs(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bv(t)}.`)}function O5(s,e){if(!Array.isArray(s)||s.length===0)throw new cs(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CT(s,e){const t=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(s.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new cs(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new cs(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jP{convertValue(e,t="none"){switch(Vd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw nn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Jd(e,((r,o)=>{n[r]=this.convertValue(o,t)})),n}convertVectorValue(e){var n,r,o;const t=(o=(r=(n=e.fields)==null?void 0:n[Px].arrayValue)==null?void 0:r.values)==null?void 0:o.map((c=>mi(c.doubleValue)));return new $c(t)}convertGeoPoint(e){return new Gc(mi(e.latitude),mi(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bv(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ig(e));default:return null}}convertTimestamp(e){const t=Md(e);return new tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Aa.fromString(e);wr(G4(n),9688,{name:e});const r=new og(n.get(1),n.get(3)),o=new zs(n.popFirst(5));return r.isEqual(t)||Iu(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(s,e,t){let n;return n=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,n}function BP(){return new mP("count")}class _p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends jT{constructor(e,t,n,r,o,c){super(e,t,n,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new cs(bt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=kh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}kh._jsonSchemaVersion="firestore/documentSnapshot/1.0",kh._jsonSchema={type:ki("string",kh._jsonSchemaVersion),bundleSource:ki("string","DocumentSnapshot"),bundleName:ki("string"),bundle:ki("string")};class xx extends kh{data(e={}){return super.data(e)}}class Mh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new _p(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new xx(this._firestore,this._userDataWriter,n.key,n,new _p(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new cs(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const u=new xx(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _p(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const u=new xx(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _p(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,A=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),A=c.indexOf(h.doc.key)),{type:CP(h.type),doc:u,oldIndex:f,newIndex:A}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new cs(bt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CP(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(s){s=vl(s,ii);const e=vl(s.firestore,Xc);return AP(Bm(e),s._key).then((t=>NT(e,s,t)))}Mh._jsonSchemaVersion="firestore/querySnapshot/1.0",Mh._jsonSchema={type:ki("string",Mh._jsonSchemaVersion),bundleSource:ki("string","QuerySnapshot"),bundleName:ki("string"),bundle:ki("string")};class kv extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new IA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function qs(s){s=vl(s,Ru);const e=vl(s.firestore,Xc),t=Bm(e),n=new kv(e);return BT(s._query),cP(t,s._query).then((r=>new Mh(e,n,s,r)))}function Ri(s,e,t){s=vl(s,ii);const n=vl(s.firestore,Xc),r=ST(s.converter,e,t);return Mv(n,[gT(Lv(n),"setDoc",s._key,r,s.converter!==null,t).toMutation(s._key,kl.none())])}function Mp(s,e,t,...n){s=vl(s,ii);const r=vl(s.firestore,Xc),o=Lv(r);let c;return c=typeof(e=Oa(e))=="string"||e instanceof Dg?vT(o,"updateDoc",s._key,e,t,n):xT(o,"updateDoc",s._key,e),Mv(r,[c.toMutation(s._key,kl.exists(!0))])}function Qi(s){return Mv(vl(s.firestore,Xc),[new Iv(s._key,kl.none())])}function $f(s,...e){var u,f,A;s=Oa(s);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||L5(e[n])||(t=e[n++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(L5(e[n])){const m=e[n];e[n]=(u=m.next)==null?void 0:u.bind(m),e[n+1]=(f=m.error)==null?void 0:f.bind(m),e[n+2]=(A=m.complete)==null?void 0:A.bind(m)}let o,c,h;if(s instanceof ii)c=vl(s.firestore,Xc),h=Cv(s._key.path),o={next:m=>{e[n]&&e[n](NT(c,s,m))},error:e[n+1],complete:e[n+2]};else{const m=vl(s,Ru);c=vl(m.firestore,Xc),h=m._query;const x=new kv(c);o={next:g=>{e[n]&&e[n](new Mh(c,x,m,g))},error:e[n+1],complete:e[n+2]},BT(s._query)}return(function(x,g,b,I){const N=new Gw(I),S=new Vw(g,N,b);return x.asyncQueue.enqueueAndForget((async()=>kw(await Yx(x),S))),()=>{N.Nu(),x.asyncQueue.enqueueAndForget((async()=>Mw(await Yx(x),S)))}})(Bm(c),h,r,o)}function Mv(s,e){return(function(n,r){const o=new Vc;return n.asyncQueue.enqueueAndForget((async()=>XO(await oP(n),r,o))),o.promise})(Bm(s),e)}function NT(s,e,t){const n=t.docs.get(e._key),r=new kv(s);return new kh(s,r,e._key,n,new _p(t.hasPendingWrites,t.fromCache),e.converter)}function P5(s){return SP(s,{count:BP()})}function SP(s,e){const t=vl(s.firestore,Xc),n=Bm(t),r=U8(e,((o,c)=>new fQ(c,o.aggregateType,o._internalFieldPath)));return uP(n,s._query,r).then((o=>(function(h,u,f){const A=new kv(h);return new pP(u,A,f)})(t,s,o)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lv(e)}set(e,t,n){this._verifyNotCommitted();const r=Yy(e,this._firestore),o=ST(r.converter,t,n),c=gT(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,n);return this._mutations.push(c.toMutation(r._key,kl.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const o=Yy(e,this._firestore);let c;return c=typeof(t=Oa(t))=="string"||t instanceof Dg?vT(this._dataReader,"WriteBatch.update",o._key,t,n,r):xT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,kl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yy(e,this._firestore);return this._mutations=this._mutations.concat(new Iv(t._key,kl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new cs(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yy(s,e){if((s=Oa(s)).firestore!==e)throw new cs(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(s){return Bm(s=vl(s,Xc)),new NP(s,(e=>Mv(s,e)))}(function(e,t=!0){(function(r){vm=r})(nf),Pd(new i8("firestore",((n,{instanceIdentifier:r,options:o})=>{const c=n.getProvider("app").getImmediate(),h=new Xc(new f8(n.getProvider("auth-internal")),new g8(c,n.getProvider("app-check-internal")),(function(f,A){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new cs(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(f.options.projectId,A)})(c,r),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),UA(kB,MB,e),UA(kB,MB,"esm2020")})();let EP=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="type.googleapis.com/google.protobuf.Int64Value",IP="type.googleapis.com/google.protobuf.UInt64Value";function ET(s,e){const t={};for(const n in s)s.hasOwnProperty(n)&&(t[n]=e(s[n]));return t}function Jx(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(e=>Jx(e));if(typeof s=="function"||typeof s=="object")return ET(s,e=>Jx(e));throw new Error("Data cannot be encoded in JSON: "+s)}function cm(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case TP:case IP:{const e=Number(s.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+s);return e}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(e=>cm(e)):typeof s=="function"||typeof s=="object"?ET(s,e=>cm(e)):s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pl extends cc{constructor(e,t,n){super(`${n2}/${e}`,t||""),this.details=n,Object.setPrototypeOf(this,Pl.prototype)}}function _P(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qx(s,e){let t=_P(s),n=t,r;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!M5[c])return new Pl("internal","internal");t=M5[c],n=c}const h=o.message;typeof h=="string"&&(n=h),r=o.details,r!==void 0&&(r=cm(r))}}catch{}return t==="ok"?null:new Pl(t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,n,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,rA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="us-central1",UP=/^data: (.*?)(?:\n|$)/;function DP(s){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new Pl("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{e&&clearTimeout(e)}}}class RP{constructor(e,t,n,r,o=mb,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new FP(e,t,n,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=mb}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function LP(s,e,t){const n=Wd(e);s.emulatorOrigin=`http${n?"s":""}://${e}:${t}`,n&&(ow(s.emulatorOrigin+"/backends"),lw("Functions",!0))}function QP(s,e,t){const n=r=>PP(s,e,r,{});return n.stream=(r,o)=>MP(s,e,r,o),n}function TT(s){return s.emulatorOrigin&&Wd(s.emulatorOrigin)?"include":void 0}async function OP(s,e,t,n,r){t["Content-Type"]="application/json";let o;try{o=await n(s,{method:"POST",body:JSON.stringify(e),headers:t,credentials:TT(r)})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function IT(s,e){const t={},n=await s.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(t.Authorization="Bearer "+n.authToken),n.messagingToken&&(t["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=n.appCheckToken),t}function PP(s,e,t,n){const r=s._url(e);return kP(s,r,t,n)}async function kP(s,e,t,n){t=Jx(t);const r={data:t},o=await IT(s,n),c=n.timeout||7e4,h=DP(c),u=await Promise.race([OP(e,r,o,s.fetchImpl,s),h.promise,s.cancelAllRequests]);if(h.cancel(),!u)throw new Pl("cancelled","Firebase Functions instance was deleted.");const f=qx(u.status,u.json);if(f)throw f;if(!u.json)throw new Pl("internal","Response is not valid JSON object.");let A=u.json.data;if(typeof A>"u"&&(A=u.json.result),typeof A>"u")throw new Pl("internal","Response is missing data field.");return{data:cm(A)}}function MP(s,e,t,n){const r=s._url(e);return HP(s,r,t,n||{})}async function HP(s,e,t,n){var x;t=Jx(t);const r={data:t},o=await IT(s,n);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await s.fetchImpl(e,{method:"POST",body:JSON.stringify(r),headers:o,signal:n==null?void 0:n.signal,credentials:TT(s)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const I=new Pl("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const b=qx(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let h,u;const f=new Promise((g,b)=>{h=g,u=b});(x=n==null?void 0:n.signal)==null||x.addEventListener("abort",()=>{const g=new Pl("cancelled","Request was cancelled.");u(g)});const A=c.body.getReader(),m=VP(A,h,u,n==null?void 0:n.signal);return{stream:{[Symbol.asyncIterator](){const g=m.getReader();return{async next(){const{value:b,done:I}=await g.read();return{value:b,done:I}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:f}}function VP(s,e,t,n){const r=(c,h)=>{const u=c.match(UP);if(!u)return;const f=u[1];try{const A=JSON.parse(f);if("result"in A){e(cm(A.result));return}if("message"in A){h.enqueue(cm(A.message));return}if("error"in A){const m=qx(0,A);h.error(m),t(m);return}}catch(A){if(A instanceof Pl){h.error(A),t(A);return}}},o=new TextDecoder;return new ReadableStream({start(c){let h="";return u();async function u(){if(n!=null&&n.aborted){const f=new Pl("cancelled","Request was cancelled");return c.error(f),t(f),Promise.resolve()}try{const{value:f,done:A}=await s.read();if(A){h.trim()&&r(h.trim(),c),c.close();return}if(n!=null&&n.aborted){const x=new Pl("cancelled","Request was cancelled");c.error(x),t(x),await s.cancel();return}h+=o.decode(f,{stream:!0});const m=h.split(`
`);h=m.pop()||"";for(const x of m)x.trim()&&r(x.trim(),c);return u()}catch(f){const A=f instanceof Pl?f:qx(0,null);c.error(A),t(A)}}},cancel(){return s.cancel()}})}const H5="@firebase/functions",V5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="auth-internal",zP="app-check-internal",GP="messaging-internal";function $P(s){const e=(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider(KP),c=t.getProvider(GP),h=t.getProvider(zP);return new RP(r,o,c,h,n)};Pd(new EP(n2,e,"PUBLIC").setMultipleInstances(!0)),UA(H5,V5,s),UA(H5,V5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(s=cw(),e=mb){const n=pv(Oa(s),n2).getImmediate({identifier:e}),r=AE("functions");return r&&WP(n,...r),n}function WP(s,e,t){LP(Oa(s),e,t)}function Lg(s,e,t){return QP(Oa(s),e)}$P();const XP={apiKey:"AIzaSyCHlCLhumJn50nw2JBgJTGeIH_6GKzjFbA",authDomain:"noble-care-management-system.firebaseapp.com",projectId:"noble-care-management-system",storageBucket:"noble-care-management-system.firebasestorage.app",messagingSenderId:"573085015524",appId:"1:573085015524:web:29ae8a509813ec1199fbf1"},r2=fE(XP),yu=r8(r2),Ct=hP(r2),Qg=YP(r2);var pn=(s=>(s.SUPER_ADMIN="super_admin",s.SCHOOL_ADMIN="school_admin",s.TEACHER="teacher",s))(pn||{});async function JP(s){var n;const e=Ms(Ct,"users",s.uid),t=await Pc(e);if(t.exists()){const r=t.data(),o=r.status||"active";if(o!=="active")throw new Error("ACCOUNT_INACTIVE");const c=r.role,h=r.schoolId||null,u=Array.isArray(r.assignedClassIds)?r.assignedClassIds:[];if((c==="school_admin"||c==="teacher")&&!h)throw console.warn(`[AUTH] ${c==="teacher"?"Teacher":"School Admin"} account incomplete - missing schoolId`,{uid:s.uid,email:s.email,role:c,hasSchoolId:!!h}),new Error(`${c==="teacher"?"Teacher":"School Admin"} account is incomplete: missing schoolId. Please contact your administrator.`);if(c==="school_admin"&&h){const f=Ms(Ct,"schools",h),A=await Pc(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}if(c==="teacher"&&h){const f=Ms(Ct,"schools",h),A=await Pc(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}return{id:s.uid,fullName:r.fullName||s.displayName||"User",email:s.email||"",role:c,schoolId:h,assignedClassIds:u,status:o,createdAt:((n=r.createdAt)==null?void 0:n.toDate())||new Date}}else throw new Error("ACCOUNT_NOT_PROVISIONED")}function _T(s){if(!s)throw new Error("Authentication required");if(s.role===pn.SUPER_ADMIN)throw new Error("Super admin does not belong to a school");if(!s.schoolId)throw new Error("School access required. Please contact your administrator.");return s.schoolId}const FT=Z.createContext(void 0),qP=({children:s})=>{const[e,t]=Z.useState(null),[n,r]=Z.useState(!0),[o,c]=Z.useState(!0),[h,u]=Z.useState(null);Z.useEffect(()=>{const A=$R(yu,async m=>{if(c(!0),m){u(null),r(!0);try{const x=await JP(m);t(x)}catch(x){console.error("Error fetching user profile:",x),t(null);const g=x.message||x.toString();g==="ACCOUNT_NOT_PROVISIONED"?(u("Your account is not set up yet. Please contact your administrator for access."),await bp(yu)):g==="ACCOUNT_INACTIVE"?(u("Your account has been deactivated. Please contact your administrator for access."),await bp(yu)):g==="SCHOOL_NOT_FOUND"?(u("Your school could not be found. Please contact your administrator."),await bp(yu)):g==="SCHOOL_INACTIVE"?(u("Your school has been deactivated. Please contact your administrator."),await bp(yu)):g.includes("Cloud Firestore API has not been used")?u("CRITICAL ERROR: The Firestore Database is not enabled. Go to Firebase Console > Build > Firestore Database > Create Database."):g.includes("permission-denied")||g.includes("Missing or insufficient permissions")?u("PERMISSION DENIED: Database access blocked. Go to Firebase Console > Firestore Database > Rules and change 'allow read, write: if false;' to 'allow read, write: if true;' (for testing)."):g.includes("client is offline")||g.includes("offline")?u("Network Error: Could not connect to the database. Check your internet connection."):u("Failed to load user profile. Please try refreshing the page. Error: "+g)}}else t(null),u(null);c(!1),r(!1)});return()=>A()},[]);const f=async()=>{try{await bp(yu),t(null),u(null)}catch(A){console.error("Logout failed",A)}};return i.jsx(FT.Provider,{value:{user:e,loading:n,authLoading:o,error:h,logout:f,isAuthenticated:!!e},children:s})},Fo=()=>{const s=Z.useContext(FT);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},UT=Z.createContext(void 0),ZP=({children:s})=>{const{user:e,isAuthenticated:t}=Fo(),[n,r]=Z.useState(null),[o,c]=Z.useState(!1),[h,u]=Z.useState(null);return Z.useEffect(()=>{let f=!1;const m=(()=>{if(r(null),u(null),!t||!e||e.role==="super_admin"){c(!1);return}if(!e.schoolId){c(!1),u("No school assigned to your account");return}c(!0);const x=`school_${e.schoolId}`,g=localStorage.getItem(x);if(g)try{const b=JSON.parse(g);b.status==="active"&&(f||r(b))}catch{localStorage.removeItem(x)}try{const b=Ms(Ct,"schools",e.schoolId),I=$f(b,N=>{if(!N.exists()){f||u("School not found. Please contact your administrator."),f||r(null);return}const S={id:N.id,...N.data()};if(S.status!=="active"){f||u("Your school is currently inactive. Please contact your administrator."),f||r(null);return}localStorage.setItem(x,JSON.stringify(S)),f||r(S)},N=>{console.error("Error loading school data:",N),f||u("Failed to load school information. Please try refreshing the page."),f||r(null)});return()=>I()}finally{f||c(!1)}})();return()=>{f=!0,m&&m()}},[t,e==null?void 0:e.id,e==null?void 0:e.schoolId,e==null?void 0:e.role]),i.jsx(UT.Provider,{value:{school:n,schoolLoading:o,schoolError:h},children:s})},uc=()=>{const s=Z.useContext(UT);if(!s)throw new Error("useSchool must be used within a SchoolProvider");return s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tk=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),K5=s=>{const e=tk(s);return e.charAt(0).toUpperCase()+e.slice(1)},DT=(...s)=>s.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),sk=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Z.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:c,...h},u)=>Z.createElement("svg",{ref:u,...nk,width:e,height:e,stroke:s,strokeWidth:n?Number(t)*24/Number(e):t,className:DT("lucide",r),...!o&&!sk(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,A])=>Z.createElement(f,A)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=(s,e)=>{const t=Z.forwardRef(({className:n,...r},o)=>Z.createElement(rk,{ref:o,iconNode:e,className:DT(`lucide-${ek(K5(s))}`,`lucide-${s}`,n),...r}));return t.displayName=K5(s),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ik=ls("activity",ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],lk=ls("arrow-down-right",ok);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],RT=ls("arrow-left",Ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uk=ls("arrow-right",ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],LT=ls("arrow-up-right",dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],fk=ls("badge-dollar-sign",hk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hp=ls("bell",mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ml=ls("book-open",pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],xk=ls("book",gk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],yk=ls("building-2",vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Vp=ls("building",bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],jk=ls("calendar-days",wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ho=ls("calendar",Bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Sk=ls("chart-no-axes-column-increasing",Ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],vx=ls("chart-no-axes-column",Nk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Tk=ls("chart-pie",Ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kp=ls("check",Ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QT=ls("chevron-right",_k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pb=ls("circle-alert",Fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DA=ls("circle-check-big",Uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hh=ls("circle-x",Dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Zx=ls("clipboard-check",Rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cu=ls("clock",Lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Ok=ls("coffee",Qk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],z5=ls("copy",Pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Fp=ls("credit-card",kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Hk=ls("door-open",Mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ev=ls("download",Vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],zk=ls("ellipsis",Kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OT=ls("eye-off",Gk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zd=ls("eye",$k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vh=ls("file-text",Yk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PT=ls("funnel",Wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],um=ls("graduation-cap",Xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],qk=ls("history",Jk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wy=ls("layout-dashboard",Zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xy=ls("loader-circle",eM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sM=ls("lock",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rM=ls("log-out",nM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iM=ls("mail",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lM=ls("map-pin",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],cM=ls("megaphone",AM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dM=ls("menu",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fM=ls("message-square",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M5 12h14",key:"1ays0h"}]],G5=ls("minus",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Jy=ls("octagon-alert",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xM=ls("pen",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yM=ls("pencil",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],wM=ls("phone",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kh=ls("plus",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],kT=ls("refresh-ccw",BM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dg=ls("refresh-cw",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oA=ls("save",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gb=ls("search",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a2=ls("settings",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],$5=ls("shield-alert",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qy=ls("shield-check",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],i2=ls("shield",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],MT=ls("sparkles",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y5=ls("square-check-big",UM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],o2=ls("square-pen",DM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],W5=ls("square",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],QM=ls("timer",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],PM=ls("toggle-left",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],MM=ls("toggle-right",kM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RA=ls("trash-2",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],X5=ls("trending-down",VM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Id=ls("trending-up",KM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mi=ls("triangle-alert",zM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$M=ls("trophy",GM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l2=ls("user-plus",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HT=ls("user",WM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pl=ls("users",XM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hg=ls("wallet",JM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],J5=ls("wrench",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Io=ls("x",ZM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],t7=ls("zap",e7);class s7 extends Z.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Mi,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(dg,{size:16,className:"mr-2"}),"Try Again"]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Refresh Page"})]}),this.state.error&&i.jsxs("details",{className:"mt-4 text-left",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:"Error Details (Development)"}),i.jsxs("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs text-slate-800 overflow-auto max-h-40",children:[this.state.error?this.state.error.toString():"Error details not available",(e=this.state.errorInfo)==null?void 0:e.componentStack]})]})]})}):this.props.children}}const xb=""+new URL("apple-icon-180x180-CeJtO7PD.png",import.meta.url).href,n7=()=>{const{isAuthenticated:s,loading:e,error:t}=Fo(),n=gm(),[r,o]=Z.useState(""),[c,h]=Z.useState(""),[u,f]=Z.useState(!1),[A,m]=Z.useState(""),[x,g]=Z.useState(!1),[b,I]=Z.useState("");Z.useEffect(()=>{s&&!e&&n("/",{replace:!0})},[s,e,n]);const N=async F=>{F.preventDefault(),f(!0),m("");try{await KR(yu,r,c)}catch(L){console.error(L);let O="Failed to sign in.";L.code==="auth/invalid-credential"||L.code==="auth/user-not-found"||L.code==="auth/wrong-password"?O="Invalid email or password.":L.code==="auth/too-many-requests"&&(O="Too many failed attempts. Please try again later."),m(O),f(!1)}},S=async F=>{if(F.preventDefault(),f(!0),m(""),I(""),!r){m("Please enter your email address to reset password."),f(!1);return}try{await VR(yu,r),I("Password reset link has been sent to your email."),m("")}catch(L){console.error(L);let O="Failed to send reset email.";L.code==="auth/user-not-found"?O="No account found with this email address.":L.code==="auth/invalid-email"&&(O="Please enter a valid email address."),m(O)}finally{f(!1)}},E=()=>{g(!x),m(""),I(""),h("")};return e?i.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:i.jsx("div",{className:"text-red-900 animate-pulse font-semibold",children:"Loading School Manager GH..."})}):i.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-[#E6F0FA] flex items-center justify-center p-4",children:[i.jsx("style",{children:`
        @keyframes loginGradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes floatBlob {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(20px, -30px, 0) scale(1.08); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
        @keyframes floatBlobReverse {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(-25px, 25px, 0) scale(1.05); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
      `}),i.jsx("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"linear-gradient(120deg, rgba(11,143,165,0.14), rgba(216,241,244,0.35), rgba(4,107,126,0.12))",backgroundSize:"200% 200%",animation:"loginGradientShift 18s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-[#E6F0FA]/35 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 16s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute top-1/3 -right-28 w-96 h-96 bg-[#1160A8]/25 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlobReverse 20s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -bottom-28 left-1/4 w-72 h-72 bg-[#E6F0FA]/60 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 22s ease-in-out infinite"},"aria-hidden":"true"}),i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 border-t-8 border-[#0B4A82]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-28 h-28 mb-4 relative p-2 bg-white rounded-full shadow-sm border border-[#E6F0FA]",children:i.jsx("img",{src:xb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full",onError:F=>{F.currentTarget.style.display="none",F.currentTarget.parentElement.innerHTML='<div class="w-24 h-24 bg-[#0B4A82] rounded-full flex items-center justify-center text-[#E6F0FA] font-bold border-4 border-[#1160A8] text-xs text-center p-1">School Manager GH</div>'}})}),i.jsx("h1",{className:"text-2xl font-bold text-[#0B4A82] font-serif",children:"School Manager GH"}),i.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:x?"Reset your password":"Sign in to manage the system"})]}),t&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-800 text-sm rounded-lg border border-red-200 flex items-start",children:[i.jsx(pb,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold block mb-1",children:"System Error"}),t]})]}),A&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center",children:[i.jsx(pb,{size:16,className:"mr-2 flex-shrink-0"}),A]}),b&&i.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-lg border border-emerald-100 flex items-center",children:[i.jsx(DA,{size:16,className:"mr-2 flex-shrink-0"}),b]}),x?i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:r,onChange:F=>o(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your registered email",required:!0}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"We'll send you a link to reset your password."})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#1160A8] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Sending...":"Send Reset Link"}),i.jsxs("button",{type:"button",onClick:E,className:"w-full text-center text-sm text-slate-600 hover:text-[#0B4A82] font-medium flex items-center justify-center mt-4",children:[i.jsx(RT,{size:16,className:"mr-1"})," Back to Sign In"]})]}):i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:r,onChange:F=>o(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"e.g., admin@school.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Password"}),i.jsx("button",{type:"button",onClick:E,className:"text-xs text-[#1160A8] hover:text-[#0B4A82] font-medium",children:"Forgot Password?"})]}),i.jsx("input",{type:"password",value:c,onChange:F=>h(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your password",required:!0})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#0B4A82] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:i.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," School Manager GH  Empowering Excellence"]})})]})]})},To="2023-2024",Hi=1,Ts=[{id:"c_n1",name:"Nursery 1",level:"NURSERY"},{id:"c_n2",name:"Nursery 2",level:"NURSERY"},{id:"c_kg1",name:"KG 1",level:"KG"},{id:"c_kg2",name:"KG 2",level:"KG"},{id:"c_p1",name:"Class 1",level:"PRIMARY"},{id:"c_p2",name:"Class 2",level:"PRIMARY"},{id:"c_p3",name:"Class 3",level:"PRIMARY"},{id:"c_p4",name:"Class 4",level:"PRIMARY"},{id:"c_p5",name:"Class 5",level:"PRIMARY"},{id:"c_p6",name:"Class 6",level:"PRIMARY"},{id:"c_jhs1",name:"JHS 1",level:"JHS"},{id:"c_jhs2",name:"JHS 2",level:"JHS"},{id:"c_jhs3",name:"JHS 3",level:"JHS"}],r7=["Language & Literacy","Numeracy","Environmental Studies","Creative Arts","Physical Development","Social & Emotional Development","Rhymes, Songs & Storytelling"],a7=["Literacy & Language","Numeracy","OWOP","Creative Art","Physical Education"],i7=["English Language","Mathematics","Science","ICT","Religious & Moral Education (RME)","Ghanaian Language","Our World Our People (OWOP)","Creative Arts","Physical Education"],o7=["English Language","Mathematics","Integrated Science","Social Studies","Religious & Moral Education (RME)","ICT","French","Ghanaian Language","Creative Arts & Design","Physical Education","Career Technology","Computing / Coding"],dm=s=>s>=80?{total:s,grade:"A",remark:"Excellent"}:s>=70?{total:s,grade:"B",remark:"Very Good"}:s>=60?{total:s,grade:"C",remark:"Good"}:s>=45?{total:s,grade:"D",remark:"Pass"}:{total:s,grade:"F",remark:"Fail"},_A=s=>{const e=(s.testScore||0)+(s.homeworkScore||0)+(s.projectScore||0),t=(s.examScore||0)*.5;return Math.round(e+t)},Og=s=>{switch(s){case"A":return"text-green-600 bg-green-100";case"B":return"text-red-600 bg-red-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}};class l7{async getCollection(e){return(await qs(Hs(Ct,e))).docs.map(n=>n.data())}requireSchoolId(e,t="operation"){if(!e)throw new Error(`schoolId is required for ${t}`);return e}async getCollectionBySchoolId(e,t){const n=this.requireSchoolId(t,`getCollectionBySchoolId(${e})`),r=Ys(Hs(Ct,e),is("schoolId","==",n));return(await qs(r)).docs.map(c=>c.data())}async getSchoolConfig(e){const t=this.requireSchoolId(e,"getSchoolConfig"),n=Ms(Ct,"settings",t),r=await Pc(n);if(r.exists()){const c={...r.data(),schoolId:t};if(c.nextTermBegins&&!c.termTransitionProcessed){const h=new Date(c.nextTermBegins+"T00:00:00"),u=new Date;if(u.setHours(0,0,0,0),!Number.isNaN(h.getTime())&&u>=h){const f={...c,schoolReopenDate:c.nextTermBegins||c.schoolReopenDate||""};await this.resetForNewTerm(f);const A=await Pc(n);if(A.exists())return{...A.data(),schoolId:t}}}return c}return{schoolId:t,schoolName:"New School",academicYear:To,currentTerm:`Term ${Hi}`,headTeacherRemark:"Keep it up.",termEndDate:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,holidayDates:[]}}async updateSchoolConfig(e){const t=this.requireSchoolId(e.schoolId,"updateSchoolConfig");await Ri(Ms(Ct,"settings",t),e)}async getUsers(e){const t=this.requireSchoolId(e,"getUsers"),n=Ys(Hs(Ct,"users"),is("schoolId","==",t));return(await qs(n)).docs.map(o=>({id:o.id,...o.data()}))}async addUser(e){await Ri(Ms(Ct,"users",e.id),e)}async deleteUser(e){await Qi(Ms(Ct,"users",e))}async updateUserAssignedClasses(e,t){await Mp(Ms(Ct,"users",e),{assignedClassIds:t})}async getStudents(e,t){const n=this.requireSchoolId(e,"getStudents"),r=Hs(Ct,"students"),o=[is("schoolId","==",n)];t&&o.push(is("classId","==",t));const c=Ys(r,...o);return(await qs(c)).docs.map(u=>u.data())}async addStudent(e){this.requireSchoolId(e.schoolId,"addStudent"),await Ri(Ms(Ct,"students",e.id),e)}async updateStudent(e){this.requireSchoolId(e.schoolId,"updateStudent"),await Mp(Ms(Ct,"students",e.id),{...e,...e.schoolId?{schoolId:e.schoolId}:{}})}async deleteStudent(e){await Qi(Ms(Ct,"students",e))}async getSubjects(e,t){const n=this.requireSchoolId(e,"getSubjects");if(!t)return[];const r=Ys(Hs(Ct,"class_subjects"),is("schoolId","==",n),is("classId","==",t)),o=await qs(r);return o.empty?[]:o.docs[0].data().subjects}async addSubject(e,t,n){const r=this.requireSchoolId(n,"addSubject"),o=await this.getSubjects(r,e);o.includes(t)||await Ri(Ms(Ct,"class_subjects",`${r}_${e}`),{schoolId:r,classId:e,subjects:[...o,t]})}async updateSubject(e,t,n,r){const o=this.requireSchoolId(r,"updateSubject"),c=await this.getSubjects(o,e),h=c.indexOf(t);h!==-1&&(c[h]=n,await Ri(Ms(Ct,"class_subjects",`${o}_${e}`),{schoolId:o,classId:e,subjects:c}))}async deleteSubject(e,t,n){const r=this.requireSchoolId(n,"deleteSubject"),c=(await this.getSubjects(r,e)).filter(h=>h!==t);await Ri(Ms(Ct,"class_subjects",`${r}_${e}`),{schoolId:r,classId:e,subjects:c})}async seedClassSubjects(e,t,n){const r=this.requireSchoolId(n,"seedClassSubjects");await Ri(Ms(Ct,"class_subjects",`${r}_${e}`),{schoolId:r,classId:e,subjects:t})}async resetAllClassSubjects(e){const t=this.requireSchoolId(e,"resetAllClassSubjects"),n=Ys(Hs(Ct,"class_subjects"),is("schoolId","==",t)),o=(await qs(n)).docs.map(c=>Qi(Ms(Ct,"class_subjects",c.id)));await Promise.all(o)}async getAttendance(e,t,n){const r=this.requireSchoolId(e,"getAttendance");if(!t||!n)return;const o=Ys(Hs(Ct,"attendance"),is("schoolId","==",r),is("classId","==",t),is("date","==",n)),c=await qs(o);return c.empty?void 0:c.docs[0].data()}async getClassAttendance(e,t){const n=this.requireSchoolId(e,"getClassAttendance");if(!t)return[];const r=Ys(Hs(Ct,"attendance"),is("schoolId","==",n),is("classId","==",t));return(await qs(r)).docs.map(c=>c.data())}async getAttendanceByDate(e,t){const n=this.requireSchoolId(e,"getAttendanceByDate");if(!t)return[];const r=Ys(Hs(Ct,"attendance"),is("schoolId","==",n),is("date","==",t));return(await qs(r)).docs.map(c=>c.data())}async saveAttendance(e){const n=`${this.requireSchoolId(e.schoolId,"saveAttendance")}_${e.classId}_${e.date}`;await Ri(Ms(Ct,"attendance",n),{...e,id:n})}async getAssessments(e,t,n){const r=this.requireSchoolId(e,"getAssessments");if(!t||!n)return[];const o=Ys(Hs(Ct,"assessments"),is("schoolId","==",r),is("classId","==",t),is("subject","==",n));return(await qs(o)).docs.map(h=>h.data())}async getAllAssessments(e){return this.getCollectionBySchoolId("assessments",e)}async saveAssessment(e){const t=this.requireSchoolId(e.schoolId,"saveAssessment"),n=e.id||`${t}_${e.studentId}_${e.subject}_${e.term}_${e.academicYear}`;await Ri(Ms(Ct,"assessments",n),{...e,id:n})}async resetAssessmentsForClass(e,t,n=!1,r){const o=this.requireSchoolId(e,"resetAssessmentsForClass");if(!t)return;const c=Ys(Hs(Ct,"assessments"),is("schoolId","==",o),is("classId","==",t)),u=(await qs(c)).docs.map(f=>Qi(Ms(Ct,"assessments",f.id)));if(await Promise.all(u),n){const f=await this.getStudents(o,t),A=await this.getSubjects(o,t),m=[],x=r||Hi;for(const g of f)for(const b of A){const I=`${g.id}_${b}_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,N={id:I,schoolId:o,studentId:g.id,classId:t,term:x,academicYear:To,subject:b,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0};m.push(Ri(Ms(Ct,"assessments",I),N))}await Promise.all(m)}}async getNotices(e){const t=this.requireSchoolId(e,"getNotices"),n=Ys(Hs(Ct,"notices"),is("schoolId","==",t));return(await qs(n)).docs.map(o=>o.data())}async addNotice(e){this.requireSchoolId(e.schoolId,"addNotice"),await Ri(Ms(Ct,"notices",e.id),e)}async deleteNotice(e){await Qi(Ms(Ct,"notices",e))}async getStudentRemarks(e,t){const n=this.requireSchoolId(e,"getStudentRemarks");if(!t)return[];const r=Ys(Hs(Ct,"student_remarks"),is("schoolId","==",n),is("classId","==",t));return(await qs(r)).docs.map(c=>c.data())}async saveStudentRemark(e){this.requireSchoolId(e.schoolId,"saveStudentRemark"),await Ri(Ms(Ct,"student_remarks",e.id),e)}async getStudentSkills(e,t){const n=this.requireSchoolId(e,"getStudentSkills");if(!t)return[];const r=Ys(Hs(Ct,"student_skills"),is("schoolId","==",n),is("classId","==",t));return(await qs(r)).docs.map(c=>c.data())}async saveStudentSkills(e){this.requireSchoolId(e.schoolId,"saveStudentSkills"),await Ri(Ms(Ct,"student_skills",e.id),e)}async addSystemNotification(e,t,n){const r=this.requireSchoolId(n,"addSystemNotification"),o=`${r}_${Date.now()}`,c={id:o,schoolId:r,message:e,createdAt:Date.now(),isRead:!1,type:t};await Ri(Ms(Ct,"admin_notifications",o),c)}async getSystemNotifications(e){const t=this.requireSchoolId(e,"getSystemNotifications"),n=Ys(Hs(Ct,"admin_notifications"),is("schoolId","==",t),Xx(20));return(await qs(n)).docs.map(o=>o.data()).sort((o,c)=>(c.createdAt??0)-(o.createdAt??0))}async markNotificationAsRead(e){await Mp(Ms(Ct,"admin_notifications",e),{isRead:!0})}async deleteSystemNotification(e){await Qi(Ms(Ct,"admin_notifications",e))}async getTimetable(e,t){const n=this.requireSchoolId(e,"getTimetable");if(!t)return;const r=Ys(Hs(Ct,"timetables"),is("schoolId","==",n),is("classId","==",t),Xx(1)),o=await qs(r);return o.empty?void 0:o.docs[0].data()}async saveTimetable(e){const t=this.requireSchoolId(e.schoolId,"saveTimetable");await Ri(Ms(Ct,"timetables",`${t}_${e.classId}`),{...e,schoolId:t})}async getStudentPerformance(e,t,n){const r=await this.getClassAttendance(e,n),o=new Set(r.filter(E=>E.isHoliday).map(E=>E.date)),c=await this.getSchoolConfig(e),h=new Set((c.holidayDates||[]).map(E=>E.date));let u=0,f=[];if(c.schoolReopenDate){const E=new Date(`${c.schoolReopenDate}T00:00:00`),F=c.vacationDate?new Date(`${c.vacationDate}T00:00:00`):null,L=new Date;L.setHours(0,0,0,0);const O=F&&F<L?F:L;if(!Number.isNaN(E.getTime())){const H=new Date(E);for(;H<=O;){const Q=H.getDay();if(!(Q===0||Q===6)){const R=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`;!o.has(R)&&!h.has(R)&&(u++,f.push(R))}H.setDate(H.getDate()+1)}}}if(!u){const E=r.filter(F=>!F.isHoliday&&!h.has(F.date));u=E.length,f=E.map(F=>F.date).sort()}const A=r.filter(E=>!E.isHoliday&&!h.has(E.date)&&E.presentStudentIds.includes(t)).length,m=u===0?0:Math.round(A/u*100);f.length||(f=r.filter(E=>!E.isHoliday&&!h.has(E.date)).map(E=>E.date).sort());const x=r.filter(E=>!E.isHoliday&&!h.has(E.date)&&E.presentStudentIds.includes(t)).map(E=>E.date).sort(),g=Ys(Hs(Ct,"assessments"),is("schoolId","==",e),is("studentId","==",t)),I=(await qs(g)).docs.map(E=>E.data()).filter(E=>!0),S=(await this.getSubjects(e,n)).map(E=>{const F=I.find(L=>L.subject===E);return F||{subject:E,total:0}});return{attendance:{total:u,present:A,percentage:m,schoolDates:f,presentDates:x},grades:S}}async getDashboardStats(e){const t=this.requireSchoolId(e,"getDashboardStats"),[n,r,o]=await Promise.all([qs(Ys(Hs(Ct,"students"),is("schoolId","==",t))),qs(Ys(Hs(Ct,"users"),is("schoolId","==",t))),qs(Ys(Hs(Ct,"attendance"),is("schoolId","==",t)))]),c=n.docs.map(b=>b.data()),h=r.docs.map(b=>b.data()),u=await this.getSchoolConfig(t),f=new Set((u.holidayDates||[]).map(b=>b.date)),A=o.docs.map(b=>b.data()).filter(b=>!b.isHoliday&&!f.has(b.date)),m=c.filter(b=>b.gender==="Male").length,x=c.filter(b=>b.gender==="Female").length,g=Ts.map(b=>{const I=A.filter(S=>S.classId===b.id),N=c.filter(S=>S.classId===b.id);if(I.length>0&&N.length>0){const S=I.length*N.length,E=I.reduce((L,O)=>L+O.presentStudentIds.length,0),F=Math.round(E/S*100);return{className:b.name,percentage:F,id:b.id}}return{className:b.name,percentage:0,id:b.id}});return{studentsCount:c.length,teachersCount:h.filter(b=>b.role===pn.TEACHER).length,gender:{male:m,female:x},classAttendance:g}}async getDashboardSummary(e){const t=this.requireSchoolId(e,"getDashboardSummary"),[n,r]=await Promise.all([P5(Ys(Hs(Ct,"students"),is("schoolId","==",t))),P5(Ys(Hs(Ct,"users"),is("schoolId","==",t),is("role","==",pn.TEACHER)))]);return{studentsCount:n.data().count,teachersCount:r.data().count}}async getTeacherAttendance(e,t,n){const r=this.requireSchoolId(e,"getTeacherAttendance");if(!t||!n)return;const o=Ys(Hs(Ct,"teacher_attendance"),is("schoolId","==",r),is("teacherId","==",t),is("date","==",n)),c=await qs(o);return c.empty?void 0:c.docs[0].data()}async getAllTeacherAttendance(e,t){const n=this.requireSchoolId(e,"getAllTeacherAttendance");if(!t)return[];const r=Ys(Hs(Ct,"teacher_attendance"),is("schoolId","==",n),is("date","==",t));return(await qs(r)).docs.map(c=>c.data())}async saveTeacherAttendance(e){const n=`${this.requireSchoolId(e.schoolId,"saveTeacherAttendance")}_${e.teacherId}_${e.date}`;await Ri(Ms(Ct,"teacher_attendance",n),{...e,id:n})}async getAllTeacherAttendanceRecords(e){return this.getCollectionBySchoolId("teacher_attendance",e)}async resetAllTeacherAttendance(e){const t=this.requireSchoolId(e,"resetAllTeacherAttendance"),n=Ys(Hs(Ct,"teacher_attendance"),is("schoolId","==",t)),o=(await qs(n)).docs.map(c=>Qi(Ms(Ct,"teacher_attendance",c.id)));await Promise.all(o)}async getAdminRemark(e,t){const n=this.requireSchoolId(e,"getAdminRemark");if(!t)return;const r=Ms(Ct,"admin_remarks",t),o=await Pc(r);if(!o.exists())return;const c=o.data();return c.schoolId===n?c:void 0}async saveAdminRemark(e){this.requireSchoolId(e.schoolId,"saveAdminRemark"),await Ri(Ms(Ct,"admin_remarks",e.id),e)}async createTermBackup(e,t,n){console.log(`Creating backup for ${t}, ${n}...`);try{const r=this.requireSchoolId(e.schoolId,"createTermBackup"),[o,c,h,u,f,A,m,x,g,b,I,N]=await Promise.all([this.getCollectionBySchoolId("students",r),this.getCollectionBySchoolId("users",r),this.getCollectionBySchoolId("attendance",r),this.getCollectionBySchoolId("teacher_attendance",r),this.getCollectionBySchoolId("assessments",r),this.getCollectionBySchoolId("student_remarks",r),this.getCollectionBySchoolId("admin_remarks",r),this.getCollectionBySchoolId("student_skills",r),this.getCollectionBySchoolId("timetables",r),this.getCollectionBySchoolId("notices",r),this.getCollectionBySchoolId("admin_notifications",r),this.getCollectionBySchoolId("activity_logs",r)]),E=(await qs(Ys(Hs(Ct,"class_subjects"),is("schoolId","==",r)))).docs.map(L=>L.data()),F={id:`backup_${Date.now()}`,schoolId:r,timestamp:Date.now(),term:t,academicYear:n,data:{schoolConfig:e,students:o,attendanceRecords:h,teacherAttendanceRecords:u,assessments:f,studentRemarks:A,adminRemarks:m,studentSkills:x,timetables:g,users:c,classSubjects:E,notices:b,adminNotifications:I,activityLogs:N}};await Ri(Ms(Ct,"backups",F.id),F),console.log(`Backup created successfully: ${F.id}`)}catch(r){throw console.error("Error creating backup:",r),r}}async resetForNewTerm(e){console.log("Initiating term transition for:",e.currentTerm,e.academicYear),await this.createTermBackup(e,e.currentTerm,e.academicYear);const t=Ts.map(f=>f.id),n=this.requireSchoolId(e.schoolId,"resetForNewTerm"),r=[(async()=>{const f=Ys(Hs(Ct,"attendance"),is("schoolId","==",n)),m=(await qs(f)).docs.map(x=>Qi(Ms(Ct,"attendance",x.id)));await Promise.all(m),console.log("Cleared student attendance records.")})(),this.resetAllTeacherAttendance(n),(async()=>{const f=Ys(Hs(Ct,"student_remarks"),is("schoolId","==",n)),m=(await qs(f)).docs.map(x=>Qi(Ms(Ct,"student_remarks",x.id)));await Promise.all(m),console.log("Cleared student remarks.")})(),(async()=>{const f=Ys(Hs(Ct,"student_skills"),is("schoolId","==",n)),m=(await qs(f)).docs.map(x=>Qi(Ms(Ct,"student_skills",x.id)));await Promise.all(m),console.log("Cleared student skills.")})(),(async()=>{const f=Ys(Hs(Ct,"admin_remarks"),is("schoolId","==",n)),m=(await qs(f)).docs.map(x=>Qi(Ms(Ct,"admin_remarks",x.id)));await Promise.all(m),console.log("Cleared admin remarks.")})(),(async()=>{const f=Ys(Hs(Ct,"admin_notifications"),is("schoolId","==",n)),m=(await qs(f)).docs.map(x=>Qi(Ms(Ct,"admin_notifications",x.id)));await Promise.all(m),console.log("Cleared system notifications.")})(),(async()=>{const f=Ys(Hs(Ct,"notices"),is("schoolId","==",n)),m=(await qs(f)).docs.map(x=>Qi(Ms(Ct,"notices",x.id)));await Promise.all(m),console.log("Cleared notices.")})()];await Promise.all(r);let o=1,c=e.academicYear;const h=parseInt(e.currentTerm.split(" ")[1]);if(h===3){o=1;const f=e.academicYear.split("-").map(Number);c=`${f[0]+1}-${f[1]+1}`}else o=h+1;for(const f of t)await this.resetAssessmentsForClass(e.schoolId,f,!0,o),console.log(`Reset and re-seeded assessments for class: ${f} with term ${o}`);const u={...e,currentTerm:`Term ${o}`,academicYear:c,termTransitionProcessed:!0,schoolReopenDate:e.schoolReopenDate||"",vacationDate:"",nextTermBegins:""};await this.updateSchoolConfig(u),console.log("SchoolConfig updated for new term:",`Term ${o}`,c)}async getTeacherAttendanceAnalytics(e,t,n){const r=this.requireSchoolId(e,"getTeacherAttendanceAnalytics"),o=await this.getSchoolConfig(r);if(!t&&!o.schoolReopenDate)return[];const h=(await this.getUsers(r)).filter(b=>b.role===pn.TEACHER),u=await this.getAllTeacherAttendanceRecords(r),A=`${(o.academicYear||To).split("-")[0]}-09-01`,m=t||o.schoolReopenDate||A,x=n||new Date().toISOString().split("T")[0],g=[];for(const b of h){const N=u.filter(H=>H.teacherId===b.id).filter(H=>H.date>=m&&H.date<=x&&!H.isHoliday),S={};N.forEach(H=>{const Q=new Date(H.date),D=`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}`;S[D]||(S[D]={total:0,present:0}),S[D].total+=1,H.status==="present"&&(S[D].present+=1)});const E=Object.entries(S).map(([H,Q])=>{const[D,R]=H.split("-"),K=Q.total>0?Math.round(Q.present/Q.total*100):0;return{teacherId:b.id,teacherName:b.fullName,month:H,year:parseInt(D),totalWorkingDays:Q.total,presentDays:Q.present,absentDays:Q.total-Q.present,attendanceRate:K,trend:"stable"}}).sort((H,Q)=>H.month.localeCompare(Q.month));for(let H=0;H<E.length;H++)if(H>0){const Q=E[H].attendanceRate,D=E[H-1].attendanceRate;Q>D+5?E[H].trend="improving":Q<D-5?E[H].trend="declining":E[H].trend="stable"}const F=E.reduce((H,Q)=>H+Q.totalWorkingDays,0),L=E.reduce((H,Q)=>H+Q.presentDays,0),O=F>0?Math.round(L/F*100):0;g.push({teacherId:b.id,teacherName:b.fullName,overallAttendance:O,monthlyBreakdown:E,termStartDate:m,vacationDate:x!==new Date().toISOString().split("T")[0]?x:void 0})}return g}async getBackups(e){const t=this.requireSchoolId(e==null?void 0:e.schoolId,"getBackups");let n=Ys(Hs(Ct,"backups"),is("schoolId","==",t));const r=[];if(e!=null&&e.term&&r.push(is("term","==",e.term)),e!=null&&e.academicYear&&r.push(is("academicYear","==",e.academicYear)),e!=null&&e.date){const c=new Date(e.date).getTime(),h=c+1440*60*1e3-1;r.push(is("timestamp",">=",c),is("timestamp","<=",h))}return r.length>0&&(n=Ys(n,...r)),(await qs(n)).docs.map(c=>c.data())}async getBackupDetails(e,t){const n=this.requireSchoolId(e,"getBackupDetails");if(!t)return;const r=await Pc(Ms(Ct,"backups",t));if(!r.exists())return;const o=r.data();return o.schoolId===n?o:void 0}async deleteBackup(e,t){const n=this.requireSchoolId(e,"deleteBackup");!t||!await this.getBackupDetails(n,t)||await Qi(Ms(Ct,"backups",t))}async deleteAllBackups(e){const t=this.requireSchoolId(e,"deleteAllBackups"),n=Ys(Hs(Ct,"backups"),is("schoolId","==",t)),o=(await qs(n)).docs.map(c=>Qi(Ms(Ct,"backups",c.id)));await Promise.all(o)}}const lt=new l7,A7=({toast:s,onClose:e})=>{Z.useEffect(()=>{const n=setTimeout(()=>e(s.id),s.duration);return()=>clearTimeout(n)},[s,e]);const t=s.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":s.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-[#E6F0FA] border-[#E6F0FA] text-[#0B4A82]";return i.jsx("div",{className:`max-w-sm w-full px-4 py-3 rounded-lg border shadow-md ${t} transform transition-all`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-1 text-sm leading-tight",children:s.message}),i.jsx("button",{onClick:()=>e(s.id),className:"text-slate-400 hover:text-slate-600 ml-2","aria-label":"Close notification",children:i.jsx(Io,{size:14})})]})})},c7=()=>{const[s,e]=Z.useState([]);Z.useEffect(()=>{let n=1;const r=o=>{const{message:c,type:h,duration:u}=o.detail||{},f=n++;e(A=>[{id:f,message:c,type:h,duration:u},...A])};return window.addEventListener("app-toast",r),()=>window.removeEventListener("app-toast",r)},[]);const t=n=>e(r=>r.filter(o=>o.id!==n));return s.length===0?null:i.jsx("div",{className:"fixed right-4 top-20 z-60 flex flex-col gap-3",children:s.map(n=>i.jsx(A7,{toast:n,onClose:t},n.id))})},sr=({children:s,title:e})=>{const{user:t,logout:n}=Fo(),{school:r}=uc(),o=(r==null?void 0:r.id)||null,[c,h]=Z.useState(!1),u=Uu(),f=u.pathname.startsWith("/admin/billing"),[A,m]=Z.useState([]),[x,g]=Z.useState(!1),[b,I]=Z.useState(0),N=(t==null?void 0:t.role)===pn.SCHOOL_ADMIN,S=(t==null?void 0:t.role)===pn.SUPER_ADMIN,E=(r==null?void 0:r.plan)==="free",F=Z.useMemo(()=>{var oe,xe,ee;if(!r||E||S)return null;const Q=M=>{if(!M)return null;const X=M instanceof Date?M:new Date(typeof(M==null?void 0:M.toDate)=="function"?M.toDate():M);return Number.isNaN(X.getTime())?null:X},D=M=>M==="termly"?4:M==="yearly"?12:1,R=(r==null?void 0:r.plan)||"monthly",K=Q(r==null?void 0:r.planEndsAt),P=((oe=r==null?void 0:r.billing)==null?void 0:oe.lastPaymentAt)||null,V=(r==null?void 0:r.createdAt)||((xe=r==null?void 0:r.billing)==null?void 0:xe.createdAt)||null;let $=Q(P)||Q(V);if(!$)return null;P&&($=new Date($),$.setDate(1),$.setHours(0,0,0,0));const ae=K||(()=>{const M=new Date($);return M.setMonth(M.getMonth()+D(R)),M})(),de=10080*60*1e3,re=new Date(ae.getTime()+de);if(new Date<re)return null;const J=String(((ee=r==null?void 0:r.billing)==null?void 0:ee.status)||"").toLowerCase().trim();return["active","success","paid"].includes(J)?null:{planEndsAt:ae,graceEndsAt:re}},[r,E,S]);Z.useEffect(()=>{if(N||S){const Q=async()=>{try{if(!o)return;const R=await lt.getSystemNotifications(o);m(R),I(R.filter(K=>!K.isRead).length)}catch(R){console.error("Failed to fetch notifications",R)}};Q();const D=setInterval(Q,3e4);return()=>clearInterval(D)}},[N,S,o]);const L=async(Q,D)=>{D.stopPropagation(),await lt.markNotificationAsRead(Q),m(R=>R.map(K=>K.id===Q?{...K,isRead:!0}:K)),I(R=>Math.max(0,R-1))},O=async(Q,D)=>{D.stopPropagation();try{await lt.deleteSystemNotification(Q),m(R=>R.filter(K=>K.id!==Q)),I(R=>A.find(P=>P.id===Q&&!P.isRead)?Math.max(0,R-1):R)}catch(R){console.error("Failed to delete notification",R)}},H=({href:Q,icon:D,label:R})=>{const K=u.pathname===Q;return i.jsxs(ba,{to:Q,className:`flex items-center px-4 py-3 transition-colors ${K?"bg-[#0B4A82] text-white border-r-4 border-[#1160A8]":"text-[#E6F0FA] hover:bg-[#1160A8] hover:text-white"}`,onClick:()=>h(!1),children:[i.jsx(D,{className:`w-5 h-5 mr-3 ${K?"text-white":"text-[#E6F0FA]"}`}),i.jsx("span",{className:"font-medium",children:R})]})};return i.jsxs("div",{className:"h-screen bg-[#fafafa] flex",children:[c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),i.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-30 w-64 bg-[#0B4A82] text-white transform transition-transform duration-200 ease-in-out overflow-y-auto
        ${c?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0 flex flex-col shadow-xl border-r border-[#0B4A82]
      `,children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] bg-[#0B4A82] flex flex-col items-center justify-center relative",children:[i.jsx("button",{onClick:()=>h(!1),className:"md:hidden absolute top-4 right-4 text-[#E6F0FA] hover:text-white",children:i.jsx(Io,{size:24})}),S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-[#E6F0FA] overflow-hidden",children:i.jsx("img",{src:xb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:"Super Admin Panel"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"System Administration"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-amber-500 overflow-hidden",children:i.jsx("img",{src:(r==null?void 0:r.logoUrl)||xb,alt:(r==null?void 0:r.name)||"School Management System",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:(r==null?void 0:r.name)||"School Management System"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"Management System"})]})]})]}),i.jsx("nav",{className:"flex-1 py-6 space-y-1",children:S?i.jsxs(i.Fragment,{children:[i.jsx(H,{href:"/",icon:Wy,label:"Dashboard"}),i.jsx(H,{href:"/super-admin/schools",icon:um,label:"Schools"}),i.jsx(H,{href:"/super-admin/backups",icon:i2,label:"Backups"}),i.jsx(H,{href:"/super-admin/payments",icon:hg,label:"Payments"})]}):N?i.jsx(i.Fragment,{children:F?i.jsx(H,{href:"/admin/billing",icon:Fp,label:"Billing"}):i.jsxs(i.Fragment,{children:[i.jsx(H,{href:"/",icon:Wy,label:"Dashboard"}),i.jsx(H,{href:"/admin/students",icon:um,label:"Students"}),i.jsx(H,{href:"/admin/teachers",icon:pl,label:"Teachers"}),i.jsx(H,{href:"/admin/attendance",icon:Sk,label:"Student Attendance"}),i.jsx(H,{href:"/admin/teacher-attendance",icon:Zx,label:"Teacher Attendance"}),i.jsx(H,{href:"/admin/reports",icon:Ml,label:"Reports"}),i.jsx(H,{href:"/admin/report-card",icon:Ml,label:"Report Card"}),i.jsx(H,{href:"/admin/timetable",icon:jk,label:"Timetable"}),i.jsx(H,{href:"/admin/settings",icon:a2,label:"Settings"}),!E&&i.jsx(H,{href:"/admin/billing",icon:Fp,label:"Billing"})]})}):i.jsx(i.Fragment,{children:F?i.jsx(H,{href:"/admin/billing",icon:Fp,label:"Billing"}):i.jsxs(i.Fragment,{children:[i.jsx(H,{href:"/",icon:Wy,label:"Dashboard"}),i.jsx(H,{href:"/teacher/my-attendance",icon:Zx,label:"My Attendance"}),i.jsx(H,{href:"/teacher/attendance",icon:pl,label:"Student Attendance"}),i.jsx(H,{href:"/teacher/assessment",icon:Ml,label:"Assessment"})]})})}),i.jsxs("div",{className:"p-4 border-t border-[#0B4A82] bg-[#0B4A82]",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1160A8] border-2 border-[#E6F0FA] flex items-center justify-center text-sm font-bold shadow-lg text-white",children:t==null?void 0:t.fullName.charAt(0)}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:t==null?void 0:t.fullName}),i.jsx("p",{className:"text-xs text-[#E6F0FA] capitalize",children:(t==null?void 0:t.role)===pn.SUPER_ADMIN?"Super Admin":(t==null?void 0:t.role)===pn.SCHOOL_ADMIN?"School Admin":"Teacher"})]})]}),i.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center px-4 py-2 text-sm text-[#E6F0FA] hover:text-white hover:bg-[#1160A8] rounded-md transition-colors",children:[i.jsx(rM,{size:16,className:"mr-2"}),"Sign Out"]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[i.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-4 md:px-8 z-10 border-b border-[#E6F0FA]",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 -ml-2 text-[#0B4A82] hover:text-[#1160A8]",children:i.jsx(dM,{size:24})}),i.jsx("h2",{className:"text-xl font-bold text-[#0B4A82] ml-2 md:ml-0",children:e})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[(N||S)&&i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>g(!x),className:`relative p-2 transition-colors ${x?"text-[#0B4A82] bg-[#E6F0FA] rounded-full":"text-slate-400 hover:text-[#0B4A82]"}`,children:[i.jsx(Hp,{size:20}),b>0&&i.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-[#1160A8] rounded-full border-2 border-white"})]}),x&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),i.jsxs("div",{className:"fixed right-4 top-16 w-80 sm:w-96 bg-white bg-opacity-100 rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[i.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[i.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Notifications"}),i.jsxs("span",{className:"text-xs text-slate-500",children:[b," unread"]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto bg-white",children:A.length===0?i.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No new activity."}):A.map(Q=>i.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 transition-colors ${Q.isRead?"bg-slate-50":"bg-white border-l-4 border-l-[#1160A8]"}`,children:i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm leading-snug mb-1 ${Q.isRead?"text-slate-500":"text-slate-800 font-medium"}`,children:Q.message}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase tracking-wide ${Q.isRead?"bg-slate-200 text-slate-500":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:Q.isRead?"Read":"Unread"}),i.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(Q.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!Q.isRead&&i.jsx("button",{onClick:D=>L(Q.id,D),className:"text-emerald-500 hover:text-emerald-700 p-1 hover:bg-emerald-50 rounded transition-colors shrink-0",title:"Mark as read",children:i.jsx(Kp,{size:16})}),i.jsx("button",{onClick:D=>O(Q.id,D),className:"text-slate-400 hover:text-red-600 p-1 hover:bg-red-50 rounded transition-colors shrink-0",title:"Delete notification",children:i.jsx(Io,{size:16})})]})]})},Q.id))})]})]})]}),i.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2 hidden sm:block"}),i.jsx("div",{className:"text-sm text-slate-500 hidden sm:block font-medium",children:new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),F&&!f&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/70 p-4",children:i.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-slate-200 bg-white p-6 shadow-2xl",children:[i.jsx("div",{className:"absolute -top-10 right-6 h-16 w-16 rounded-2xl bg-rose-500 text-white flex items-center justify-center shadow-lg",children:i.jsx(sM,{size:28})}),i.jsx("div",{className:"flex flex-col gap-4 pt-6",children:N?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Subscription expired"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-1",children:"Access paused until renewal"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your one-week grace period ended on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:F.graceEndsAt.toLocaleDateString()}),". Renew now to restore access for your team."]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[i.jsxs(ba,{to:"/admin/billing",className:"inline-flex items-center justify-center gap-2 rounded-full bg-[#0B4A82] px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-[#1160A8]",children:[i.jsx(Fp,{size:16}),"Renew Subscription"]}),i.jsx("span",{className:"text-xs text-slate-500",children:"Need help? Contact your super admin."})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Subscription expired"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-1",children:"Access temporarily paused"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your schools subscription grace period ended on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:F.graceEndsAt.toLocaleDateString()}),". Please contact your school admin to renew and restore access."]})]}),i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:i.jsx("span",{className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-slate-50 px-4 py-2 text-sm font-semibold text-slate-600",children:"Waiting for admin renewal"})})]})})]})}),i.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8",children:s}),i.jsx(c7,{})]})]})},kt=(s,e)=>{const t={message:s,type:(e==null?void 0:e.type)||"info",duration:(e==null?void 0:e.duration)??4e3};window.dispatchEvent(new CustomEvent("app-toast",{detail:t}))},u7=({data:s,week:e,onPreviousWeek:t,onNextWeek:n,onCurrentWeek:r,schoolReopenDate:o})=>{if(e===null)return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col items-center justify-center",children:[i.jsx("div",{className:"relative w-12 h-12 border-3 border-slate-100 border-t-red-900 rounded-full animate-spin"}),i.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"Loading attendance data..."})]});const{monday:c,friday:h}=VT(e),f=d7().toDateString()===c.toDateString(),A=b=>{const I=b.split("-");return I.length===3?new Date(parseInt(I[0]),parseInt(I[1])-1,parseInt(I[2])):new Date(b)};let m="",x=null;o&&(x=A(o),x>new Date?m="School Closed":m="School Open");const g=b=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(b);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Class Attendance"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Weekly participation overview"})]}),m&&i.jsx("div",{className:`text-xs font-bold px-3 py-1 rounded-full ${m==="School Closed"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:m})]}),i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-amber-50 rounded-xl border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold",title:"Previous week",children:""}),i.jsx("div",{className:"flex-1 mx-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[g(c),"  ",g(h)]}),i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:c.getFullYear()}),f&&i.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded-full mt-1 uppercase tracking-wide",children:"Current Week"})]})}),i.jsx("button",{onClick:n,disabled:f,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-200 disabled:hover:text-slate-600",title:f?"You are viewing the current week":"Next week",children:""})]}),!f&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("button",{onClick:r,className:"text-xs text-red-700 hover:text-red-800 font-semibold bg-white border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50 transition-colors",children:"Return to Current Week"})})]}),m==="School Closed"&&x&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-red-800 font-semibold",children:["School is currently closed. Attendance records will begin from"," ",g(x)]})}),i.jsx("div",{className:"flex-1 flex items-end justify-between gap-1 sm:gap-2 px-1 pb-2 h-96 w-full overflow-x-auto",children:s.map(b=>{let I="bg-amber-500";return b.percentage<50?I="bg-red-600":b.percentage>=80&&(I="bg-emerald-500"),i.jsxs("div",{className:"flex flex-col items-center flex-1 group h-full justify-end min-w-[20px]",children:[i.jsxs("div",{className:"w-full max-w-[30px] bg-slate-50 rounded-t-sm relative flex items-end h-full hover:bg-slate-100 transition-colors",children:[i.jsxs("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[b.className,": ",b.percentage,"%"]}),i.jsx("div",{className:`w-full ${I} rounded-t-sm transition-all duration-1000 ease-out relative`,style:{height:`${b.percentage}%`}})]}),i.jsx("span",{className:"text-[10px] text-slate-400 mt-2 font-medium truncate w-full text-center",children:b.className.replace("Nursery ","N").replace("Class ","P").replace("Primary ","P").replace("KG ","K").replace("JHS ","J")})]},b.id)})})]})},VT=s=>{const e=new Date(s),t=e.getDay(),n=new Date(e);n.setDate(e.getDate()-(t===0?6:t-1));const r=new Date(n);return r.setDate(n.getDate()+4),{monday:n,friday:r}},d7=()=>VT(new Date).monday,h7=dv.memo(u7),Di=({className:s="h-4 bg-slate-100 rounded animate-pulse"})=>i.jsx("div",{className:s}),xd=({label:s="Loading"})=>i.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-slate-500",children:[i.jsxs("span",{className:"relative inline-flex h-4 w-4",children:[i.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-amber-400 via-[#0B4A82] to-emerald-400 opacity-60 blur-[1px]"}),i.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-slate-200 border-t-[#0B4A82] animate-spin"})]}),s,""]}),q5=s=>{if(!s)return null;const[e,t,n]=s.split("-").map(Number);if(!e||!t||!n)return null;const r=new Date(e,t-1,n);return Number.isNaN(r.getTime())?null:(r.setHours(0,0,0,0),r)},f7=(s,e)=>{const t=s.match(/\d+/),n=t?parseInt(t[0],10):Hi;let r=n+1,o=e;if(n>=3){r=1;const c=e.split("-").map(Number);c.length===2&&c.every(h=>!Number.isNaN(h))&&(o=`${c[0]+1}-${c[1]+1}`)}return{nextTerm:r,nextAcademicYear:o}},m7=()=>{var bi;gm();const{user:s}=Fo(),{school:e,schoolLoading:t}=uc(),n=(e==null?void 0:e.id)||null,[r,o]=Z.useState({students:0,teachers:0,classes:Ts.length,maleStudents:0,femaleStudents:0,classAttendance:[]}),[c,h]=Z.useState([]),[u,f]=Z.useState([]),[A,m]=Z.useState(null),[x,g]=Z.useState(!1),[b,I]=Z.useState(!1),[N,S]=Z.useState(!1),[E,F]=Z.useState(!1),[L,O]=Z.useState(!1),[H,Q]=Z.useState(null),[D,R]=Z.useState(null),[K,P]=Z.useState([]),[V,$]=Z.useState([]),[ae,de]=Z.useState([]),[re,W]=Z.useState([]),[J,oe]=Z.useState(!1),[xe,ee]=Z.useState(null),M=dv.useRef(null),[X,ie]=Z.useState(Date.now()),[le,ce]=Z.useState(0),[ye,Ne]=Z.useState(0),[ge,Se]=Z.useState(0),[Fe,Le]=Z.useState(null),[qe,Oe]=Z.useState(null),[he,et]=Z.useState({academicYear:"",currentTerm:"",schoolReopenDate:"",schoolName:"",headTeacherRemark:"",termEndDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}),[wt,at]=Z.useState(null),[Ye,Ut]=Z.useState({A:0,B:0,C:0,D:0,F:0}),[Lt,Wt]=Z.useState([]),[$t,ss]=Z.useState({A:[],B:[],C:[],D:[],F:[]}),[ns,Je]=Z.useState(null),Ht=Z.useMemo(()=>{const _e=q5(he.vacationDate||""),yt=q5(he.nextTermBegins||"");if(!_e||!yt)return null;const Dt=new Date(_e);Dt.setDate(Dt.getDate()+1),Dt.setHours(0,0,0,0);const It=new Date;return It.setHours(0,0,0,0),It<Dt||It>=yt?null:{vacationDate:_e,nextTermBegins:yt}},[he.vacationDate,he.nextTermBegins]),Vt=_e=>{if(!_e)return null;const yt=_e instanceof Date?_e:new Date(typeof(_e==null?void 0:_e.toDate)=="function"?_e.toDate():_e);return Number.isNaN(yt.getTime())?null:(typeof _e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(_e)&&yt.setHours(23,59,59,999),yt)},Mt=_e=>_e==="termly"?4:_e==="yearly"?12:1,dt=()=>{var Ws,Rt;const _e=(e==null?void 0:e.plan)||"monthly";if(_e==="free")return null;const yt=Vt(e==null?void 0:e.planEndsAt);if(yt)return yt;const Dt=((Ws=e==null?void 0:e.billing)==null?void 0:Ws.lastPaymentAt)||null,It=(e==null?void 0:e.createdAt)||((Rt=e==null?void 0:e.billing)==null?void 0:Rt.createdAt)||null,As=hs=>{if(!hs)return null;const dn=hs instanceof Date?hs:new Date(typeof(hs==null?void 0:hs.toDate)=="function"?hs.toDate():hs);return Number.isNaN(dn.getTime())?null:dn};let Yt=As(Dt)||As(It);if(!Yt)return null;Dt&&(Yt=new Date(Yt),Yt.setDate(1),Yt.setHours(0,0,0,0));const Jt=new Date(Yt);return Jt.setMonth(Jt.getMonth()+Mt(_e)),Jt},Nt=Z.useMemo(()=>{if((e==null?void 0:e.plan)==="free")return null;const _e=dt();if(!_e)return null;const yt=new Date(X);if(yt>=_e)return null;const Dt=Math.max(0,_e.getTime()-yt.getTime()),It=Math.floor(Dt/(1440*60*1e3)),As=Math.floor(Dt/(3600*1e3)%24),Yt=Math.floor(Dt/(60*1e3)%60),Jt=Math.floor(Dt/1e3%60);return{planEndsAt:_e,days:It,hours:As,minutes:Yt,seconds:Jt}},[e==null?void 0:e.planEndsAt,X,e==null?void 0:e.plan]),Es=Z.useMemo(()=>{if((e==null?void 0:e.plan)==="free")return null;const _e=dt();if(!_e)return null;const yt=10080*60*1e3,Dt=new Date(_e.getTime()+yt),It=new Date(X);if(It<_e||It>=Dt)return null;const As=Math.max(0,Dt.getTime()-It.getTime()),Yt=Math.floor(As/(1440*60*1e3)),Jt=Math.floor(As/(3600*1e3)%24),Ws=Math.floor(As/(60*1e3)%60),Rt=Math.floor(As/1e3%60);return{planEndsAt:_e,graceEndsAt:Dt,days:Yt,hours:Jt,minutes:Ws,seconds:Rt}},[e==null?void 0:e.planEndsAt,X,e==null?void 0:e.plan]),[Me,ut]=Z.useState({}),[ze,At]=Z.useState([]),[mt,Ot]=Z.useState({}),[Et,Gt]=Z.useState({}),[xs,Tt]=Z.useState(null),[pt,Pt]=Z.useState(null),[qt,os]=Z.useState(null),[Os,wn]=Z.useState({}),es=Z.useMemo(()=>n?`admin_dashboard_summary_${n}`:"",[n]),ca=Z.useMemo(()=>n?`admin_dashboard_heavy_${n}`:"",[n]),en=Z.useMemo(()=>{if(!ca)return null;const _e=localStorage.getItem(ca);if(!_e)return null;try{return JSON.parse(_e)}catch(yt){return console.warn("Failed to parse cached dashboard data",yt),localStorage.removeItem(ca),null}},[ca]);Z.useLayoutEffect(()=>{var _e,yt,Dt;if(en){if(o(en.stats),m(en.stats),h(en.notices),f(en.recentStudents),P(en.teacherAttendance),$(en.teacherTermStats),de(en.missedAttendanceAlerts),W(en.missedStudentAttendanceAlerts),Ut(en.gradeDistribution),Wt(en.topStudents),ss(en.gradeBuckets),et(It=>({...It,...en.schoolConfig})),ut(en.heatmapData),At(en.comparativeData),Ot(en.gradeDistributionByClass),Gt(en.sparklines),ee(new Date(en.lastUpdated)),I(!0),((_e=en.stats)==null?void 0:_e.students)!==void 0&&ce(en.stats.students),(Dt=(yt=en.stats)==null?void 0:yt.classAttendance)!=null&&Dt.length){const It=en.stats.classAttendance.map(Yt=>Yt.percentage||0),As=It.length>0?Math.round(It.reduce((Yt,Jt)=>Yt+Jt,0)/It.length):0;Ne(As)}if(en.gradeDistribution){const It=Object.values(en.gradeDistribution).reduce((As,Yt)=>As+Yt,0);if(It>0){const As={A:4,B:3,C:2,D:1,F:0},Jt=Object.entries(en.gradeDistribution).reduce((Ws,[Rt,hs])=>Ws+(As[Rt]??0)*(hs??0),0)/It;Se(Math.round(Jt/4*100))}}}},[en]);const Yr=Z.useCallback(async _e=>{if(n){_e!=null&&_e.background||F(!0),Q(null);try{const yt=await lt.getDashboardSummary(n),Dt={students:yt.studentsCount,teachers:yt.teachersCount,classes:Ts.length,maleStudents:0,femaleStudents:0,classAttendance:[]};o(It=>({...It,students:Dt.students,teachers:Dt.teachers,classes:Dt.classes})),m(It=>({...It||Dt,students:Dt.students,teachers:Dt.teachers,classes:Dt.classes})),es&&localStorage.setItem(es,JSON.stringify({...Dt,updatedAt:Date.now()}))}catch(yt){console.error("Summary fetch error:",yt)}finally{_e!=null&&_e.background||F(!1)}}},[n,es]),pr=Z.useCallback(async _e=>{var yt,Dt;if(n){_e!=null&&_e.background||O(!0),Q(null);try{const It=new Date,As=`${It.getFullYear()}-${String(It.getMonth()+1).padStart(2,"0")}-${String(It.getDate()).padStart(2,"0")}`,[Yt,Jt,Ws,Rt,hs,dn,ms]=await Promise.all([lt.getDashboardStats(n),lt.getStudents(n),lt.getNotices(n),lt.getSchoolConfig(n),lt.getUsers(n),lt.getAllTeacherAttendance(n,As),lt.getAllTeacherAttendanceRecords(n)]),ln=[],mn=new Date,Ba=Rt.schoolReopenDate?new Date(Rt.schoolReopenDate+"T00:00:00"):null,Xa=!Ba||mn>=Ba,ha=Rt.vacationDate?new Date(Rt.vacationDate+"T00:00:00"):null;ha&&ha.setHours(0,0,0,0);const or=Rt.nextTermBegins?new Date(Rt.nextTermBegins+"T00:00:00"):null;mn.setHours(0,0,0,0);const Uo=ha&&or&&mn>=ha&&mn<or,wi=5,Cr=new Set([...ms.filter(Xt=>Xt.isHoliday).map(Xt=>Xt.date),...(Rt.holidayDates||[]).map(Xt=>Xt.date)]);if(Xa&&!Uo&&ms.length>0){const Xt=jn=>{if(!jn)return null;let rs=[];if(jn.includes("-")){if(rs=jn.split("-"),rs.length===3)return new Date(parseInt(rs[0]),parseInt(rs[1])-1,parseInt(rs[2]))}else if(jn.includes("/")&&(rs=jn.split("/"),rs.length===3))return new Date(parseInt(rs[2]),parseInt(rs[0])-1,parseInt(rs[1]));return null},Gs=Xt(Rt.schoolReopenDate),Is=Xt(Rt.vacationDate);let En=new Date;for(let jn=0;jn<wi;jn++){let rs=new Date(En),lr=rs.getDay();do{rs.setDate(rs.getDate()-1),lr=rs.getDay();const Ca=Is&&rs.toDateString()===Is.toDateString();if(!(lr===0||lr===6||Ca))break}while(!0);const gr=`${rs.getFullYear()}-${String(rs.getMonth()+1).padStart(2,"0")}-${String(rs.getDate()).padStart(2,"0")}`,Ja=rs.getTime(),ra=Gs?Gs.getTime():0,Sr=Is&&or&&rs>=Is&&rs<or;if(Ja>=ra&&ra>0&&!Sr&&!Cr.has(gr))for(const Ca of hs.filter(Ur=>Ur.role===pn.TEACHER)){const Ur=await lt.getTeacherAttendance(n,Ca.id,gr);(!Ur||Ur.isHoliday)&&ln.push({teacherId:Ca.id,teacherName:Ca.fullName,date:gr,classes:((yt=Ca.assignedClassIds)==null?void 0:yt.map(Bn=>{var Sa;return(Sa=Ts.find(fa=>fa.id===Bn))==null?void 0:Sa.name}).join(", "))||"Not Assigned"})}else break;En=rs}}const ao=[];if(Xa&&!Uo){const Xt=jn=>{if(!jn)return null;let rs=[];if(jn.includes("-")){if(rs=jn.split("-"),rs.length===3)return new Date(parseInt(rs[0]),parseInt(rs[1])-1,parseInt(rs[2]))}else if(jn.includes("/")&&(rs=jn.split("/"),rs.length===3))return new Date(parseInt(rs[2]),parseInt(rs[0])-1,parseInt(rs[1]));return null},Gs=Xt(Rt.schoolReopenDate),Is=Xt(Rt.vacationDate);let En=new Date;for(let jn=0;jn<wi;jn++){let rs=new Date(En),lr=rs.getDay();do{rs.setDate(rs.getDate()-1),lr=rs.getDay();const Bn=Is&&rs.toDateString()===Is.toDateString();if(!(lr===0||lr===6||Bn))break}while(!0);const gr=`${rs.getFullYear()}-${String(rs.getMonth()+1).padStart(2,"0")}-${String(rs.getDate()).padStart(2,"0")}`,Ja=rs.getTime(),ra=Gs?Gs.getTime():0,Sr=Is&&or&&rs>=Is&&rs<or,Ur=(await lt.getAttendanceByDate(n,gr)).some(Bn=>Bn.isHoliday)||(Rt.holidayDates||[]).some(Bn=>Bn.date===gr);if(Ja>=ra&&ra>0&&!Sr&&!Ur)for(const Bn of hs.filter(Sa=>Sa.role===pn.TEACHER&&Sa.assignedClassIds&&Sa.assignedClassIds.length>0)){const Sa=Bn.assignedClassIds[0],fa=((Dt=Ts.find(Bi=>Bi.id===Sa))==null?void 0:Dt.name)||"Unknown Class",zi=await lt.getAttendance(n,Sa,gr);(!zi||zi.isHoliday)&&ao.push({teacherId:Bn.id,teacherName:Bn.fullName,date:gr,className:fa})}else break;En=rs}}const yl=(Xt,Gs)=>{if(!Xt||!Gs)return 0;const Is=new Date(Xt+"T00:00:00"),En=new Date(Gs+"T00:00:00");let jn=0;const rs=new Date(Is);for(;rs<=En;){const lr=rs.getDay();lr!==0&&lr!==6&&jn++,rs.setDate(rs.getDate()+1)}return jn},Vl=new Set([...ms.filter(Xt=>Xt.isHoliday).map(Xt=>Xt.date),...(Rt.holidayDates||[]).map(Xt=>Xt.date)]),bl=yl(Rt.schoolReopenDate,Rt.vacationDate),il=Math.max(0,bl-Vl.size),ji=hs.filter(Xt=>Xt.role===pn.TEACHER).map(Xt=>{var rs;const Is=ms.filter(lr=>lr.teacherId===Xt.id&&lr.date>=(Rt.schoolReopenDate||"")&&lr.date<=(Rt.vacationDate||"9999-99-99")&&!lr.isHoliday).filter(lr=>lr.status==="present").length,En=il,jn=En>0?Math.round(Is/En*100):0;return{id:Xt.id,name:Xt.fullName,classes:((rs=Xt.assignedClassIds)==null?void 0:rs.map(lr=>{var gr;return(gr=Ts.find(Ja=>Ja.id===lr))==null?void 0:gr.name}).join(", "))||"Not Assigned",presentDays:Is,totalDays:En,attendanceRate:jn}}),Fr=dn.map(Xt=>{var Is;const Gs=hs.find(En=>En.id===Xt.teacherId);return{...Xt,teacherName:(Gs==null?void 0:Gs.fullName)||"Unknown",teacherClasses:((Is=Gs==null?void 0:Gs.assignedClassIds)==null?void 0:Is.map(En=>{var jn;return(jn=Ts.find(rs=>rs.id===En))==null?void 0:jn.name}).join(", "))||"Not Assigned"}});if(et(Xt=>({...Xt,academicYear:Rt.academicYear,currentTerm:Rt.currentTerm,schoolReopenDate:Rt.schoolReopenDate||""})),Rt.nextTermBegins&&new Date>=new Date(Rt.nextTermBegins+"T00:00:00")&&!Rt.termTransitionProcessed)try{const{nextTerm:Xt,nextAcademicYear:Gs}=f7(Rt.currentTerm,Rt.academicYear),Is={...Rt,currentTerm:`Term ${Xt}`,academicYear:Gs,schoolReopenDate:Rt.nextTermBegins||"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!0};await lt.resetForNewTerm(Is),kt("Term transition completed automatically.",{type:"success"}),setTimeout(()=>pr({background:!0}),1e3)}catch(Xt){console.error("Auto term transition failed:",Xt),kt("Auto term transition failed. Please check settings.",{type:"error"})}let oi=Hi;if(Rt.currentTerm){const Xt=Rt.currentTerm.match(/\d+/);Xt&&(oi=parseInt(Xt[0]))}const io=await lt.getAllAssessments(n),na={},li=new Map(Jt.map(Xt=>[Xt.id,Xt]));io.some(Xt=>{const Gs=Xt.total??_A(Xt);return Xt.term===oi&&Gs>0})&&io.forEach(Xt=>{const Gs=Xt.total??_A(Xt);if(Xt.term===oi&&Gs>0&&li.has(Xt.studentId)){if(!na[Xt.studentId]){const Is=li.get(Xt.studentId);na[Xt.studentId]={total:0,count:0,name:Is.name,classId:Is.classId}}na[Xt.studentId].total+=Gs,na[Xt.studentId].count+=1}});const oo={A:0,B:0,C:0,D:0,F:0},fo=[],Ki={A:[],B:[],C:[],D:[],F:[]};Object.entries(na).forEach(([Xt,Gs])=>{var rs;const Is=Gs.count>0?Gs.total/Gs.count:0,{grade:En}=dm(Is);oo[En]!==void 0&&oo[En]++;const jn={id:Xt,name:Gs.name,class:((rs=Ts.find(lr=>lr.id===Gs.classId))==null?void 0:rs.name)||"N/A",avg:parseFloat(Is.toFixed(1))};fo.push(jn),Ki[En]&&Ki[En].push(jn)}),fo.sort((Xt,Gs)=>Gs.avg-Xt.avg);const Vr={students:Yt.studentsCount,teachers:Yt.teachersCount,classes:Ts.length,maleStudents:Yt.gender.male,femaleStudents:Yt.gender.female,classAttendance:Yt.classAttendance};if(o(Vr),m(Vr),es&&localStorage.setItem(es,JSON.stringify({...Vr,updatedAt:Date.now()})),h(Ws),f(Jt.slice(-5).reverse()),P(Fr),$(ji),de(ln),W(ao),Ut(oo),Wt(fo.slice(0,5)),ss(Ki),ee(new Date),I(!0),ca){const Xt={stats:Vr,notices:Ws,recentStudents:Jt.slice(-5).reverse(),teacherAttendance:Fr,teacherTermStats:ji,missedAttendanceAlerts:ln,missedStudentAttendanceAlerts:ao,gradeDistribution:oo,topStudents:fo.slice(0,5),gradeBuckets:Ki,schoolConfig:{academicYear:Rt.academicYear,currentTerm:Rt.currentTerm,schoolReopenDate:Rt.schoolReopenDate||"",schoolName:Rt.schoolName,headTeacherRemark:Rt.headTeacherRemark,termEndDate:Rt.termEndDate,vacationDate:Rt.vacationDate,nextTermBegins:Rt.nextTermBegins,termTransitionProcessed:Rt.termTransitionProcessed},heatmapData:Me,comparativeData:ze,gradeDistributionByClass:mt,sparklines:Et,lastUpdated:Date.now()};localStorage.setItem(ca,JSON.stringify(Xt))}}catch(It){console.error("Dashboard fetch error:",It),Q("Failed to load dashboard data. Please check your internet connection or database permissions.")}finally{_e!=null&&_e.background||O(!1)}}},[n,es]),us=Z.useCallback(async()=>{n&&(S(!0),await Promise.all([Yr({background:!0}),pr({background:!0})]),S(!1))},[Yr,pr,n]),Nn=async()=>{try{if(!n)return;const _e=await lt.getDashboardStats(n),yt=(_e.classAttendance||[]).map(It=>It.percentage||0),Dt=yt.length>0?Math.round(yt.reduce((It,As)=>It+As,0)/yt.length):0;o(It=>({...It,students:_e.studentsCount,teachers:_e.teachersCount,classes:Ts.length,maleStudents:_e.gender.male,femaleStudents:_e.gender.female,classAttendance:_e.classAttendance})),es&&localStorage.setItem(es,JSON.stringify({students:_e.studentsCount,teachers:_e.teachersCount,classes:Ts.length,maleStudents:_e.gender.male,femaleStudents:_e.gender.female,classAttendance:_e.classAttendance,updatedAt:Date.now()})),ee(new Date),I(!0),Mn(ce,_e.studentsCount,600),Mn(Ne,Dt,600);try{const As=(await lt.getAllAssessments(n)).slice(-300),Yt={};As.forEach(Rt=>{Yt[Rt.studentId]||(Yt[Rt.studentId]={total:0,count:0});const hs=Rt.total??_A(Rt);Yt[Rt.studentId].total+=hs,Yt[Rt.studentId].count+=1});const Jt=Object.values(Yt).map(Rt=>Rt.count>0?Rt.total/Rt.count:0),Ws=Jt.length>0?Math.round(Jt.reduce((Rt,hs)=>Rt+hs,0)/Jt.length):0;Mn(Se,Ws,600)}catch(It){console.error("Failed to compute grade avg",It)}on().catch(It=>console.error(It)),jr().catch(It=>console.error("Failed to compute visuals",It))}catch(_e){console.error("Failed to fetch live stats",_e)}},jr=async()=>{try{if(!n)return;const _e=await lt.getAllAssessments(n),yt=await lt.getStudents(n),Dt={},It={},As={},Yt={},Jt=new Map(yt.map(dn=>[dn.id,dn.classId]));_e.forEach(dn=>{const ms=dn.classId||Jt.get(dn.studentId)||"unknown",ln=dn.subject||"General",mn=dn.total??_A(dn);Dt[ms]||(Dt[ms]={}),Dt[ms][ln]||(Dt[ms][ln]={total:0,count:0}),Dt[ms][ln].total+=mn,Dt[ms][ln].count+=1,It[ms]||(It[ms]={total:0,count:0}),It[ms].total+=mn,It[ms].count+=1;const Ba=mn,Xa=Ba>=80?"A":Ba>=65?"B":Ba>=50?"C":Ba>=35?"D":"F";As[ms]||(As[ms]={A:0,B:0,C:0,D:0,F:0}),As[ms][Xa]=(As[ms][Xa]||0)+1;const ha=dn.date?new Date(dn.date).getTime():dn.createdAt?new Date(dn.createdAt).getTime():Date.now();Yt[ms]||(Yt[ms]=[]),Yt[ms].push({date:ha,avg:mn})});const Ws={};Object.entries(Dt).forEach(([dn,ms])=>{Ws[dn]={},Object.entries(ms).forEach(([ln,mn])=>{Ws[dn][ln]=Math.round(mn.total/Math.max(1,mn.count))})});const Rt=Object.entries(It).map(([dn,ms])=>{var ln;return{className:((ln=Ts.find(mn=>mn.id===dn))==null?void 0:ln.name)||dn,avg:Math.round(ms.total/Math.max(1,ms.count))}}).sort((dn,ms)=>ms.avg-dn.avg),hs={};Object.entries(Yt).forEach(([dn,ms])=>{const ln=ms.sort((ha,or)=>ha.date-or.date),mn=8,Ba=Math.max(1,Math.ceil(ln.length/mn)),Xa=[];for(let ha=0;ha<ln.length;ha+=Ba){const or=ln.slice(ha,ha+Ba),Uo=Math.round(or.reduce((wi,Cr)=>wi+Cr.avg,0)/or.length);Xa.push(Uo)}for(;Xa.length<mn;)Xa.unshift(Xa[0]??0);hs[dn]=Xa.slice(-mn)}),ut(Ws),At(Rt),Ot(As),Gt(hs)}catch(_e){console.error("Error fetching visualizations",_e)}},Mn=(_e,yt,Dt=500)=>{const It=Date.now(),As=0,Yt=()=>{const Jt=Math.min(1,(Date.now()-It)/Dt),Ws=Math.round(As+(yt-As)*Jt);_e(Ws),Jt<1&&requestAnimationFrame(Yt)};requestAnimationFrame(Yt)},un=async(_e,yt)=>{const Dt=[];for(const It of Ts)try{if(!n)return null;const Yt=(await lt.getClassAttendance(n,It.id)).filter(Ws=>{const Rt=Ws.date.split("-");if(Rt.length!==3)return!1;const hs=new Date(parseInt(Rt[0]),parseInt(Rt[1])-1,parseInt(Rt[2]));return hs>=_e&&hs<=yt&&!Ws.isHoliday}),Jt=(await lt.getStudents(n,It.id)).length||0;if(Yt.length>0&&Jt>0){const Ws=Yt.length*Jt,Rt=Yt.reduce((hs,dn)=>{var ms;return hs+(((ms=dn.presentStudentIds)==null?void 0:ms.length)||0)},0);Dt.push(Math.round(Rt/Ws*100))}}catch(As){console.error("Error computing class attendance for",It.id,As)}return Dt.length===0?null:Math.round(Dt.reduce((It,As)=>It+As,0)/Dt.length)},on=async()=>{const _e=wt||new Date,{monday:yt}=ir(_e),Dt=yt,It=new Date(yt);It.setDate(yt.getDate()+4);const As=new Date(yt);As.setDate(yt.getDate()-7);const Yt=new Date(As);Yt.setDate(As.getDate()+4);const Jt=await un(Dt,It),Ws=await un(As,Yt);Le(Jt),Oe(Ws)};Z.useEffect(()=>{if(!(t||!n)){if(g(!1),es){const _e=localStorage.getItem(es);if(_e)try{const yt=JSON.parse(_e);o(Dt=>({...Dt,students:yt.students??Dt.students,teachers:yt.teachers??Dt.teachers,classes:yt.classes??Dt.classes,maleStudents:yt.maleStudents??Dt.maleStudents,femaleStudents:yt.femaleStudents??Dt.femaleStudents,classAttendance:yt.classAttendance??Dt.classAttendance})),m(yt)}catch(yt){console.warn("Failed to parse cached dashboard summary",yt),localStorage.removeItem(es)}}Yr().catch(_e=>console.error(_e)),en?pr({background:!0}).catch(_e=>console.error(_e)):pr().catch(_e=>console.error(_e))}},[t,n,Yr,pr,es,en]),Z.useEffect(()=>{if(!n)return;const _e=Ys(Hs(Ct,"attendance"),is("schoolId","==",n)),yt=Ys(Hs(Ct,"assessments"),is("schoolId","==",n)),Dt=Ys(Hs(Ct,"teacher_attendance"),is("schoolId","==",n)),It=Ms(Ct,"settings",n),As=$f(_e,()=>{Nn().catch(Rt=>console.error("Error refreshing stats on attendance change",Rt))}),Yt=$f(yt,()=>{Nn().catch(Rt=>console.error("Error refreshing stats on assessments change",Rt))}),Jt=$f(Dt,()=>{Nn().catch(Rt=>console.error("Error refreshing stats on teacher attendance change",Rt))}),Ws=$f(It,Rt=>{if(Rt.exists()){const hs=Rt.data();et(dn=>({...dn,academicYear:hs.academicYear||To,currentTerm:hs.currentTerm||`Term ${Hi}`,schoolReopenDate:hs.schoolReopenDate||""}))}});return()=>{As(),Yt(),Ws(),Jt()}},[n]),Z.useEffect(()=>{if(!J){M.current&&(clearInterval(M.current),M.current=null);return}return Nn(),M.current=window.setInterval(Nn,15e3),()=>{M.current&&(clearInterval(M.current),M.current=null)}},[J]),Z.useEffect(()=>{if(!xe)return;ie(Date.now());const _e=window.setInterval(()=>ie(Date.now()),1e3);return()=>clearInterval(_e)},[xe]),Z.useEffect(()=>{if(he.schoolReopenDate){const _e=he.schoolReopenDate.split("-"),yt=_e.length===3?new Date(parseInt(_e[0]),parseInt(_e[1])-1,parseInt(_e[2])):new Date(he.schoolReopenDate);if(yt>new Date){at(ir(yt).monday);return}}at(ir(new Date).monday)},[he.schoolReopenDate]),Z.useEffect(()=>{const _e=()=>R(null);return D&&window.addEventListener("click",_e),()=>window.removeEventListener("click",_e)},[D]);const fn=(_e,yt)=>{_e.stopPropagation(),R(D===yt?null:yt)},Un=async _e=>{R(null),Tt(_e),Pt(null);try{const yt=await lt.getStudentPerformance(n,_e.id,_e.classId);Pt(yt)}catch(yt){console.error(yt)}},Br=_e=>{R(null),os(_e),wn({..._e})},ua=async _e=>{if(_e.preventDefault(),!(!qt||!Os.name))try{const yt={...qt,...Os};await lt.updateStudent(yt),us(),os(null)}catch{kt("Failed to update student",{type:"error"})}},Vi=async _e=>{Je(null);try{if(!n)return;const Dt=(await lt.getStudents(n)).find(It=>It.id===_e);Dt?Un(Dt):kt("Student not found",{type:"error"})}catch(yt){console.error(yt),kt("Failed to fetch student",{type:"error"})}},ir=_e=>{const yt=new Date(_e),Dt=yt.getDay(),It=new Date(yt);It.setDate(yt.getDate()-(Dt===0?6:Dt-1));const As=new Date(It);return As.setDate(It.getDate()+4),{monday:It,friday:As}},Ir=()=>{if(wt===null)return;const _e=new Date(wt);if(_e.setDate(_e.getDate()-7),he.schoolReopenDate){const yt=he.schoolReopenDate.split("-"),Dt=yt.length===3?new Date(parseInt(yt[0]),parseInt(yt[1])-1,parseInt(yt[2])):new Date(he.schoolReopenDate),It=ir(Dt).monday;if(_e<It){kt("Cannot view weeks before school re-opens",{type:"info"});return}}at(_e)},vi=()=>{if(wt===null)return;const _e=new Date(wt);_e.setDate(_e.getDate()+7),at(_e)},Pa=()=>{if(he.schoolReopenDate){const _e=he.schoolReopenDate.split("-"),yt=_e.length===3?new Date(parseInt(_e[0]),parseInt(_e[1])-1,parseInt(_e[2])):new Date(he.schoolReopenDate);if(yt>new Date){at(ir(yt).monday);return}}at(ir(new Date).monday)},ka=({title:_e,value:yt,subtext:Dt,icon:It,colorClass:As,iconColorClass:Yt})=>i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between relative overflow-hidden group hover:shadow-md transition-shadow min-h-[140px]",children:[i.jsx("div",{className:"flex justify-between items-start z-10",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:_e}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:yt}),Dt&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Dt})]})}),i.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-10 pointer-events-none transform group-hover:scale-110 transition-transform ${Yt}`,children:i.jsx(It,{size:100})})]}),Ma=({title:_e,value:yt,suffix:Dt,delta:It,deltaPositive:As})=>i.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:_e}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-slate-800",children:yt}),Dt&&i.jsx("span",{className:"text-sm text-slate-500",children:Dt})]})]}),i.jsx("div",{className:`text-sm font-semibold px-2 py-1 rounded ${As?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:It??"--"})]})}),yi=()=>i.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ma,{title:"Students Enrolled",value:le,suffix:"total",delta:null,deltaPositive:!0}),i.jsx(Ma,{title:"Attendance Now",value:`${ye}%`,suffix:null,delta:Fe!==null&&qe!==null?`${Fe-qe}% vs last week`:"No comparison",deltaPositive:Fe!==null&&qe!==null?Fe-qe>=0:!0}),i.jsx(Ma,{title:"Avg Grade",value:`${ge}%`,suffix:null,delta:null,deltaPositive:!0})]})}),_r=()=>i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-2xl shadow-md border border-amber-200 flex flex-col justify-between min-h-[140px] overflow-hidden",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 min-w-0",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Students Enrolled"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-amber-900 mt-2",children:r.students}),i.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[r.classes," classes  ",r.teachers," teachers"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(um,{className:"text-amber-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Female"}),i.jsx("div",{className:"text-lg font-bold text-[#0B4A82]",children:r.femaleStudents})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Male"}),i.jsx("div",{className:"text-lg font-bold text-amber-600",children:r.maleStudents})]})]}),i.jsx("div",{className:"hidden sm:flex items-end gap-2 flex-1 max-w-[55%] overflow-hidden",children:r.classAttendance.slice(0,8).map(_e=>i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsx("div",{className:"w-full rounded-sm",title:`${_e.className}: ${_e.percentage}%`,style:{background:_e.percentage>=80?"#16a34a":_e.percentage<50?"#dc2626":"#f59e0b",height:`${Math.max(6,Math.round(_e.percentage/2))}px`}}),i.jsx("div",{className:"text-[10px] text-slate-500 mt-1 truncate text-center",children:_e.className.replace("Primary ","P").replace("Class ","P").replace("Nursery ","N")})]},_e.id))})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",xe?`${Math.floor((X-xe.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Responsive  Clean  Insightful"})]})]}),ro=()=>{const _e=r.teachers>0?Math.round(r.students/r.teachers):"";return i.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 p-6 rounded-2xl shadow-md border border-sky-200 flex flex-col justify-between min-h-[140px]",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-sky-700",children:"Teachers & Staff"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-sky-900 mt-2",children:r.teachers}),i.jsxs("p",{className:"text-sm text-sky-700 mt-1",children:["Teaching across ",r.classes," classes"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(pl,{className:"text-sky-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Avg Students / Teacher"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:_e})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Classes"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:r.classes})]})]}),i.jsx("div",{className:"hidden sm:flex items-center gap-3",children:i.jsx(ba,{to:"/admin/teachers",className:"text-xs bg-white px-3 py-1 rounded-md font-medium text-sky-700 shadow-sm hover:underline",children:"Manage Staff"})})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",xe?`${Math.floor((X-xe.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Professional  Accessible  Responsive"})]})]})},Ha=()=>{const _e=r.maleStudents+r.femaleStudents||1,yt=Math.round(r.maleStudents/_e*100),Dt=Math.round(r.femaleStudents/_e*100);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"font-bold text-slate-800 w-full mb-6",children:"Demographics"}),i.jsxs("div",{className:"relative w-48 h-48",children:[i.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-slate-50"}),i.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#1160A8 0% ${Dt}%, #f59e0b ${Dt}% 100%)`,mask:"radial-gradient(transparent 60%, black 61%)",WebkitMask:"radial-gradient(transparent 60%, black 61%)"}}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[i.jsx("span",{className:"text-3xl font-bold text-slate-800",children:r.students}),i.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Total"})]})]}),i.jsxs("div",{className:"flex w-full justify-between px-6 mt-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Female"}),i.jsxs("p",{className:"text-xl font-bold text-[#0B4A82]",children:[Dt,"%"]}),i.jsx("p",{className:"text-lg font-bold text-[#1160A8] mt-1",children:r.femaleStudents})]}),i.jsx("div",{className:"w-px bg-slate-100"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Male"}),i.jsxs("p",{className:"text-xl font-bold text-amber-500",children:[yt,"%"]}),i.jsx("p",{className:"text-lg font-bold text-amber-600 mt-1",children:r.maleStudents})]})]})]})},Va=()=>{const _e=Object.keys(Ye).reduce((Yt,Jt)=>Yt+Ye[Jt],0)||0,yt={A:4,B:3,C:2,D:1,F:0},Dt=Object.entries(Ye).reduce((Yt,[Jt,Ws])=>{const Rt=yt[Jt]??0;return Yt+Rt*Ws},0),It=_e>0?Dt/_e:0,As=It>=3.5?"A":It>=2.5?"B":It>=1.5?"C":It>=.5?"D":"F";return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-2xl shadow-md border border-slate-100 overflow-x-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-xl",children:i.jsx(vx,{className:"w-6 h-6 text-[#0B4A82]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"Academic Performance Rate"}),i.jsx("p",{className:"text-xs text-slate-500",children:he.currentTerm})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:ml-6 gap-4 sm:gap-6 sm:hidden",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:_e})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:[As," ",i.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["(",It.toFixed(2),")"]})]})]})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_e})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-500",children:[As," ",i.jsxs("span",{className:"text-sm text-slate-500",children:["(",It.toFixed(2),")"]})]})]})]}),i.jsxs("button",{onClick:us,disabled:N,className:"flex items-center px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",title:"Refresh performance data",children:[i.jsx(dg,{size:14,className:`mr-1 ${N?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:Object.entries(Ye).map(([Yt,Jt])=>{const Ws=_e>0?Math.round(Jt/_e*100):0;let Rt="from-emerald-400 to-emerald-600";return Yt==="B"&&(Rt="from-[#E6F0FA] to-[#1160A8]"),Yt==="C"&&(Rt="from-amber-300 to-amber-500"),Yt==="D"&&(Rt="from-orange-300 to-orange-500"),Yt==="F"&&(Rt="from-red-400 to-red-600"),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 font-bold text-slate-700",children:Yt}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"relative h-4 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full bg-gradient-to-r ${Rt} transition-all duration-1000`,style:{width:`${Ws}%`},title:`${Jt} students  ${Ws}%`})}),i.jsxs("div",{className:"mt-2 flex justify-between text-xs text-slate-500",children:[i.jsxs("span",{children:[Jt," ",Jt===1?"student":"students"]}),i.jsxs("span",{className:"font-semibold text-slate-700",children:[Ws,"%"]})]})]}),i.jsx("div",{className:"ml-4",children:i.jsx("button",{onClick:()=>Je(Yt),className:"text-xs text-[#0B4A82] hover:underline font-medium",children:"View"})})]},Yt)})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-emerald-400 to-emerald-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"A  Excellent"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-[#E6F0FA] to-[#1160A8]","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"B  Very Good"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-amber-300 to-amber-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"C  Satisfactory"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-orange-300 to-orange-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"D  Needs Support"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-red-400 to-red-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"F  Intervention Required"})]})]}),_e===0&&i.jsxs("div",{className:"text-center text-slate-400 py-4 text-sm",children:["No academic data available for ",he.currentTerm,"."]}),i.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-[#E6F0FA] rounded-lg text-sm text-slate-700 border border-slate-100",children:[i.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"What this chart shows"}),i.jsx("div",{className:"text-sm",children:"Each bar represents the number of students who received that grade during the selected term. Percentages are calculated against the total number of graded students. Use the counts and percentages to identify strengths (high A/B) and areas for intervention (high D/F). Hover a bar to see the exact count."})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx($M,{className:"w-5 h-5 mr-2 text-amber-500"})," Top Performers"]}),i.jsx("div",{className:"space-y-4",children:Lt.length===0?i.jsx("p",{className:"text-sm text-slate-400 italic",children:"No data yet."}):Lt.map((Yt,Jt)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-2 last:border-0 last:pb-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${Jt===0?"bg-amber-500":"bg-slate-300"}`,children:Jt+1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Yt.name}),i.jsx("p",{className:"text-xs text-slate-400",children:Yt.class})]})]}),i.jsx("span",{className:"text-sm font-bold text-[#0B4A82]",children:Yt.avg})]},Jt))})]})]})},da=E||!b;return H?i.jsx(sr,{title:"Dashboard",children:i.jsxs("div",{className:"flex items-center justify-center h-96 flex-col p-8",children:[i.jsx(Jy,{size:48,className:"text-red-400 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Unable to load dashboard"}),i.jsx("p",{className:"text-slate-500 text-center max-w-md mb-6",children:H}),i.jsxs("button",{onClick:us,className:"flex items-center px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors",children:[i.jsx(dg,{size:16,className:"mr-2"})," Retry"]})]})}):i.jsxs(sr,{title:"Dashboard",children:[i.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome",s!=null&&s.fullName?`, ${s.fullName}`:""]}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Here is what's happening in your school today."}),i.jsx("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-2",children:N||L?i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),"Refreshing data"]}):i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"}),"Data up to date"]})})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right mr-2 hidden sm:block",children:[i.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Academic Period"}),i.jsxs("p",{className:"text-sm font-bold text-[#0B4A82]",children:[he.currentTerm,"  ",he.academicYear]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ba,{to:"/admin/students",className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors shadow-sm text-sm font-medium",children:[i.jsx(l2,{size:16,className:"mr-2"}),"Add Student"]}),i.jsxs(ba,{to:"/admin/teachers",className:"flex items-center px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",children:[i.jsx(pl,{size:16,className:"mr-2"}),"Add Staff"]})]}),i.jsxs("div",{className:"ml-4 flex flex-col items-end text-right",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`w-3 h-3 rounded-full ${J?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":!0}),i.jsx("button",{onClick:()=>oe(_e=>!_e),className:"text-xs text-slate-600 hover:underline",title:"Toggle live metrics polling",children:J?"Live Metrics On":"Enable Live Metrics"})]}),i.jsx("div",{className:"text-xs text-slate-400 mt-1",children:xe?`Updated ${Math.floor((X-xe.getTime())/1e3)}s ago`:"Not updated"})]})]})]}),Ht&&i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"rounded-2xl border border-sky-200 bg-gradient-to-r from-sky-50 via-white to-blue-50 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-[#0B4A82] text-white",children:i.jsx(ho,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-sky-700",children:"School Vacation"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Your school is currently on vacation"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["School will reopen on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:Ht.nextTermBegins.toLocaleDateString()}),"."]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-[#0B4A82] text-white",children:"Vacation mode"}),i.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[i.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Next term"}),i.jsx("div",{className:"text-sm font-bold",children:Ht.nextTermBegins.toLocaleDateString()})]})]})]})})}),Nt&&i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-[#0B4A82] text-white",children:i.jsx(ho,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Subscription Countdown"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Renewal due soon"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your subscription ends on"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:Nt.planEndsAt.toLocaleDateString()}),". Renew before the end date to avoid interruption."]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-[#0B4A82] text-white",children:"Subscription ends"}),i.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-slate-50 border border-slate-200 text-slate-700",children:[i.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),i.jsxs("div",{className:"text-lg font-bold",children:[Nt.days,"d ",Nt.hours,"h"," ",Nt.minutes,"m"," ",Nt.seconds,"s"]})]}),i.jsxs(ba,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#1160A8] transition-colors",children:[i.jsx(hg,{size:16}),"Renew Now"]})]})]})})}),Es&&i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-amber-500 text-white",children:i.jsx(QM,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Subscription Reminder"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"One-week grace period is active"}),i.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Your subscription has ended. You have a one-week window to renew before access is paused."}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Grace ends on"," ",Es.graceEndsAt.toLocaleDateString(),"."]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white",children:"Grace period"}),i.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[i.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),i.jsxs("div",{className:"text-lg font-bold",children:[Es.days,"d ",Es.hours,"h"," ",Es.minutes,"m ",Es.seconds,"s"]})]}),i.jsxs(ba,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-colors",children:[i.jsx(hg,{size:16}),"Go to Billing"]})]})]})})}),ae.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Jy,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Attendance Alerts"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[ae.length," teacher",ae.length!==1?"s":""," have missed attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:ae.map(_e=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:_e.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:_e.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:_e.classes})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed:"," ",(()=>{const yt=_e.date.split("-");return yt.length===3?`${yt[1]}/${yt[2]}/${yt[0]}`:_e.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Please follow up"})]})]})},`${_e.teacherId}-${_e.date}`))})]})}),re.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-indigo-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Jy,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Missed Student Attendance"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[re.length," teacher",re.length!==1?"s":""," have not marked student attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:re.map(_e=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:_e.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:_e.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:_e.className})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed for:"," ",(()=>{const yt=_e.date.split("-");return yt.length===3?`${yt[1]}/${yt[2]}/${yt[0]}`:_e.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Action may be required"})]})]})},`${_e.teacherId}-${_e.date}`))})]})}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Overview"}),(E||N)&&i.jsx(xd,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[da?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[i.jsx(Di,{className:"h-4 w-32"}),i.jsx(Di,{className:"h-10 w-24 mt-4"}),i.jsx(Di,{className:"h-4 w-40 mt-4"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsx(Di,{className:"h-6 w-16"}),i.jsx(Di,{className:"h-6 w-16"})]})]}):i.jsx(_r,{}),da?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[i.jsx(Di,{className:"h-4 w-32"}),i.jsx(Di,{className:"h-10 w-24 mt-4"}),i.jsx(Di,{className:"h-4 w-40 mt-4"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsx(Di,{className:"h-6 w-16"}),i.jsx(Di,{className:"h-6 w-16"})]})]}):i.jsx(ro,{}),i.jsx(ka,{title:"Notices",value:da?"":c.length,subtext:"Active Announcements",icon:Hp,colorClass:"bg-[#E6F0FA]",iconColorClass:"text-[#0B4A82]"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Live KPIs"}),(E||N)&&i.jsx(xd,{})]}),da?i.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((_e,yt)=>i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsx(Di,{className:"h-4 w-24"}),i.jsx(Di,{className:"h-8 w-20 mt-3"}),i.jsx(Di,{className:"h-4 w-16 mt-2"})]},yt))})}):i.jsx(yi,{})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Attendance & Demographics"}),(L||N)&&i.jsx(xd,{})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsx("div",{className:"lg:col-span-2 h-[550px]",children:da?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full",children:[i.jsx(Di,{className:"h-5 w-40"}),i.jsx(Di,{className:"h-4 w-64 mt-3"}),i.jsx(Di,{className:"h-64 mt-6"})]}):i.jsx(h7,{data:r.classAttendance,week:wt,onPreviousWeek:Ir,onNextWeek:vi,onCurrentWeek:Pa,schoolReopenDate:he.schoolReopenDate})}),i.jsx("div",{className:"h-96",children:da?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center",children:[i.jsx(Di,{className:"h-5 w-32"}),i.jsx(Di,{className:"h-44 w-44 rounded-full mx-auto mt-6"}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx(Di,{className:"h-6 w-20"}),i.jsx(Di,{className:"h-6 w-20"})]})]}):i.jsx(Ha,{})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Academic Performance"}),(L||N)&&i.jsx(xd,{})]}),i.jsx(Va,{}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-visible",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"New Admissions"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Recently added students"})]}),(L||N)&&i.jsx(xd,{}),i.jsx(ba,{to:"/admin/students",className:"text-sm text-[#0B4A82] hover:text-[#0B4A82] font-medium bg-[#E6F0FA] px-3 py-1 rounded-full transition-colors",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Student Name"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Class"}),i.jsx("th",{className:"px-6 py-3",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:u.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-6 text-center text-slate-400",children:"No students yet."})}):u.map((_e,yt)=>{var Dt;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${_e.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:_e.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:_e.name}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:_e.gender})]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:(Dt=Ts.find(It=>It.id===_e.classId))==null?void 0:Dt.name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"inline-flex items-center text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5"}),"Active"]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:It=>fn(It,_e.id),className:`transition-colors p-1.5 rounded-full hover:bg-slate-200 ${D===_e.id?"text-[#1160A8] bg-slate-100":"text-slate-400"}`,children:i.jsx(zk,{size:18})}),D===_e.id&&i.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-xl border border-slate-100 z-50 py-1 text-left animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[i.jsxs("button",{onClick:()=>Un(_e),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(Zd,{size:14,className:"mr-2"})," View Details"]}),i.jsxs("button",{onClick:()=>Br(_e),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(o2,{size:14,className:"mr-2"})," Edit Student"]})]})]})})]},_e.id)})})]})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-[#0B4A82] to-[#0B4A82] rounded-2xl shadow-lg border border-[#0B4A82] overflow-hidden flex flex-col text-white self-start",children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#E6F0FA]",children:"Notice Board"}),i.jsx("p",{className:"text-xs text-slate-300",children:"School announcements"})]}),(L||N)&&i.jsx(xd,{label:"Refreshing"}),i.jsx(ba,{to:"/admin/settings",className:"p-2 rounded-lg hover:bg-white/10 text-slate-300 transition-colors",children:i.jsx(a2,{size:18})})]}),i.jsx("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto max-h-[400px]",children:c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:[i.jsx(ho,{size:40,className:"mb-2 opacity-20"}),i.jsx("p",{className:"text-sm",children:"No new notices"})]}):c.map((_e,yt)=>i.jsxs("div",{className:"group relative pl-4 pb-4 border-l border-slate-700 last:pb-0",children:[i.jsx("div",{className:`absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full border-2 border-slate-800 ${_e.type==="urgent"?"bg-red-500":"bg-amber-500"}`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-900 px-1.5 py-0.5 rounded",children:_e.date}),_e.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider",children:"Urgent"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-200 group-hover:text-white transition-colors",children:_e.message})]})]},_e.id))}),i.jsx("div",{className:"p-4 bg-slate-900/50 text-center",children:i.jsxs(ba,{to:"/admin/timetable",className:"text-xs font-semibold text-amber-400 hover:text-amber-300 uppercase tracking-wide flex items-center justify-center w-full",children:["View Calendar ",i.jsx(LT,{size:12,className:"ml-1"})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 rounded-2xl shadow-lg border border-emerald-200 flex flex-col min-h-[260px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-emerald-200 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-emerald-900 text-base sm:text-lg",children:"Teacher Attendance Today"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-0.5",children:"Current day's staff presence overview"})]}),(L||N)&&i.jsx(xd,{}),i.jsx("div",{className:"bg-emerald-100 p-1.5 sm:p-2 rounded-full",children:i.jsx(pl,{className:"text-emerald-600",size:16})})]}),i.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:K.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-emerald-500",children:[i.jsx("div",{className:"bg-emerald-100 p-3 rounded-full mb-2",children:i.jsx(pl,{size:24,className:"text-emerald-400"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance marked yet today"}),i.jsx("p",{className:"text-[10px] text-emerald-400 mt-0.5",children:"Teachers will appear here once they mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[K.map(_e=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-emerald-100 hover:shadow-md transition-all duration-200 hover:border-emerald-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex-shrink-0 ${_e.isHoliday?"bg-amber-500":_e.status==="present"?"bg-emerald-500":"bg-red-500"} shadow-sm`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:_e.teacherName}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${_e.isHoliday?"bg-amber-100 text-amber-700":_e.status==="present"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:_e.isHoliday?"Holiday":_e.status==="present"?"Present":"Absent"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:_e.teacherClasses||"No classes assigned"}),i.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:_e.date})]})]}),i.jsx("div",{className:"ml-2 flex-shrink-0",children:i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${_e.isHoliday?"bg-amber-100 text-amber-600":_e.status==="present"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:_e.isHoliday?i.jsx(Mi,{className:"w-3 h-3"}):_e.status==="present"?i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},_e.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-emerald-100",children:i.jsxs("p",{className:"text-[10px] text-emerald-600 font-medium",children:[K.length," teacher",K.length!==1?"s":""," marked attendance today"]})})]})})]}),he.schoolReopenDate!==new Date().toISOString().split("T")[0]&&i.jsxs("div",{className:"bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-white rounded-2xl shadow-lg border border-[#E6F0FA] flex flex-col min-h-[280px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-[#E6F0FA] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#0B4A82] text-base sm:text-lg",children:"Teacher Attendance Summary"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-[#1160A8] mt-0.5",children:"Term-wide staff attendance statistics"})]}),(L||N)&&i.jsx(xd,{}),i.jsx("div",{className:"bg-[#E6F0FA] p-1.5 sm:p-2 rounded-full",children:i.jsx(vx,{className:"text-[#0B4A82]",size:16})})]}),i.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:V.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-[#0B4A82]",children:[i.jsx("div",{className:"bg-[#E6F0FA] p-3 rounded-full mb-2",children:i.jsx(vx,{size:24,className:"text-[#1160A8]"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance data available"}),i.jsx("p",{className:"text-[10px] text-[#1160A8] mt-0.5",children:"Term statistics will appear as teachers mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[V.map(_e=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-[#E6F0FA] hover:shadow-md transition-all duration-200 hover:border-[#E6F0FA]",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-9 h-9 bg-[#E6F0FA] rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-[10px] font-bold text-[#0B4A82]",children:[_e.attendanceRate,"%"]})}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-white rounded-full flex items-center justify-center",children:i.jsx("div",{className:`w-2 h-2 rounded-full ${_e.attendanceRate>=80?"bg-emerald-500":_e.attendanceRate>=70?"bg-amber-500":"bg-red-500"}`})})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:_e.name}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${_e.attendanceRate>=80?"bg-emerald-100 text-emerald-700":_e.attendanceRate>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:_e.attendanceRate>=80?"Excellent":_e.attendanceRate>=70?"Good":"Needs Attention"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:_e.classes||"No classes assigned"}),i.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:[_e.presentDays," present / ",_e.totalDays," ","total days"]})]})]})})},_e.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-[#E6F0FA]",children:i.jsxs("p",{className:"text-[10px] text-[#0B4A82] font-medium",children:["Average attendance:"," ",V.length>0?Math.round(V.reduce((_e,yt)=>_e+yt.attendanceRate,0)/V.length):0,"%"]})})]})})]})]})]}),xs&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center text-2xl font-bold text-slate-500 shadow-inner",children:xs.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:xs.name}),i.jsxs("div",{className:"flex gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(HT,{size:14,className:"mr-1"})," ",xs.gender]}),i.jsx("span",{children:""}),i.jsx("span",{children:(bi=Ts.find(_e=>_e.id===xs.classId))==null?void 0:bi.name})]})]})]}),i.jsx("button",{onClick:()=>Tt(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-5 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 rounded-full text-amber-600",children:i.jsx(ho,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-amber-900",children:"Attendance Overview"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Current Term Participation"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-3xl font-bold text-amber-600",children:pt?`${pt.attendance.percentage}%`:"..."}),i.jsx("p",{className:"text-xs text-amber-700 font-medium mt-1",children:pt?`${pt.attendance.present}/${pt.attendance.total} Days`:"Loading"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Ml,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance (",he.currentTerm,")"]}),i.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:pt?pt.grades.map((_e,yt)=>{const Dt=_e.total??_A(_e),{grade:It,remark:As}=dm(Dt);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:_e.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:Dt>0?Dt:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Og(It)}`,children:Dt>0?It:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Dt>0?As:"N/A"})]},yt)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center text-slate-400 italic",children:"Fetching academic records..."})})})]})})]})]})]})}),qt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Student Details"}),i.jsx("button",{onClick:()=>os(null),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("form",{onSubmit:ua,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none transition-all placeholder-slate-400",value:Os.name||"",onChange:_e=>wn({...Os,name:_e.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Os.gender,onChange:_e=>wn({...Os,gender:_e.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none",value:Os.dob||"",onChange:_e=>wn({...Os,dob:_e.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Os.classId,onChange:_e=>wn({...Os,classId:_e.target.value}),children:Ts.map(_e=>i.jsx("option",{value:_e.id,children:_e.name},_e.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Os.guardianName||"",onChange:_e=>wn({...Os,guardianName:_e.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Os.guardianPhone||"",onChange:_e=>wn({...Os,guardianPhone:_e.target.value})})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>os(null),className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",className:"flex items-center px-5 py-2.5 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] font-medium shadow-sm transition-colors",children:[i.jsx(oA,{size:18,className:"mr-2"})," Save Changes"]})]})]})]})}),ns&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Students with grade ",ns]}),i.jsxs("p",{className:"text-sm text-slate-500",children:[($t[ns]||[]).length," students"]})]}),i.jsx("button",{onClick:()=>Je(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(Io,{size:20})})]}),i.jsx("div",{className:"p-6 space-y-4",children:!$t[ns]||$t[ns].length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No students in this grade for the selected term."}):i.jsx("div",{className:"space-y-3",children:$t[ns].map((_e,yt)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:pb-0",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:_e.name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[_e.class,"  Avg: ",_e.avg]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("button",{onClick:()=>Vi(_e.id),className:"text-xs text-[#0B4A82] hover:underline",children:"View"})})]},_e.id))})})]})})]})},p7=()=>{var M,X,ie,le,ce,ye,Ne;const{school:s}=uc(),e=(s==null?void 0:s.id)||null,[t,n]=Z.useState([]),[r,o]=Z.useState("all"),[c,h]=Z.useState(!1),[u,f]=Z.useState(null),[A,m]=Z.useState({gender:"Male",classId:"c_p1",dob:""}),[x,g]=Z.useState(null),[b,I]=Z.useState(null),[N,S]=Z.useState(null),[E,F]=Z.useState(!1),L=async()=>{if(!e){n([]);return}const ge=await lt.getStudents(e,void 0);if(n(ge),e){const Se=ge.filter(Fe=>!Fe.schoolId);Se.length>0&&await Promise.all(Se.map(Fe=>lt.updateStudent({...Fe,schoolId:e})))}};Z.useEffect(()=>{L()},[e]);const O=async ge=>{I(null),g(ge);const Se=await lt.getStudentPerformance(e||"",ge.id,ge.classId);I(Se)},H=()=>{g(null),I(null)},Q=t.filter(ge=>r==="all"?!0:ge.classId===r).sort((ge,Se)=>ge.name.localeCompare(Se.name)),D=r==="all"?"All Classes":((M=Ts.find(ge=>ge.id===r))==null?void 0:M.name)||r,R=t.length,K=Q.length,P=(X=b==null?void 0:b.attendance)==null?void 0:X.total,V=(ie=b==null?void 0:b.attendance)==null?void 0:ie.present,$=P!=null&&V!=null?Math.max(P-V,0):null;(le=b==null?void 0:b.attendance)==null||le.percentage;const ae=((ce=b==null?void 0:b.grades)==null?void 0:ce.length)??0,de=()=>{I(null),m({gender:"Male",classId:r!=="all"?r:"c_p1",dob:""}),f(null),h(!0)},re=async ge=>{m(ge),f(ge.id),h(!0),I(null);const Se=await lt.getStudentPerformance(e||"",ge.id,ge.classId);I(Se)},W=()=>{h(!1),m({gender:"Male",classId:"c_p1",dob:""}),f(null),I(null)},J=(ge,Se)=>{Se.stopPropagation(),S(ge)},oe=async()=>{if(!N)return;const ge=N;S(null);const Se=[...t];n(Fe=>Fe.filter(Le=>Le.id!==ge));try{await lt.deleteStudent(ge)}catch(Fe){console.error("Delete failed",Fe),n(Se),kt("Failed to delete student. Please try again.",{type:"error"})}},xe=async ge=>{if(ge.preventDefault(),!(!A.name||!A.classId)){F(!0);try{if(u){const Se={...A,id:u,schoolId:e||A.schoolId};await lt.updateStudent(Se),kt("Student updated successfully.",{type:"success"})}else{const Se={id:Math.random().toString(36).substr(2,9),name:A.name,gender:A.gender,dob:A.dob||"2015-01-01",classId:A.classId,schoolId:e||"",guardianName:A.guardianName||"",guardianPhone:A.guardianPhone||""};await lt.addStudent(Se),kt("Student added successfully.",{type:"success"})}await L(),W()}catch(Se){console.error("Save failed",Se),kt("Failed to save student. Please try again.",{type:"error"})}finally{F(!1)}}},ee=()=>{if(!b||!b.attendance||!b.attendance.schoolDates)return null;const{schoolDates:ge,presentDates:Se}=b.attendance;if(ge.length===0)return i.jsx("div",{className:"text-center text-slate-400 py-4 italic",children:"No attendance records found for this term."});const Fe=et=>(typeof et=="string"?new Date(et):et).toISOString().split("T")[0],Le=new Set(ge.map(et=>Fe(et))),qe=new Set(Se.map(et=>Fe(et))),Oe={};ge.forEach(et=>{const wt=new Date(et),at=`${wt.getFullYear()}-${wt.getMonth()}`;Oe[at]||(Oe[at]={label:wt.toLocaleString("default",{month:"long",year:"numeric"}),year:wt.getFullYear(),month:wt.getMonth()})});const he=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(Oe).map(([et,wt])=>{const{year:at,month:Ye,label:Ut}=wt,Lt=new Date(at,Ye,1).getDay(),Wt=new Date(at,Ye+1,0).getDate(),$t=Math.ceil((Lt+Wt)/7)*7;return i.jsxs("div",{className:"relative overflow-hidden border border-slate-200 rounded-2xl p-4 bg-white shadow-sm",children:[i.jsx("div",{className:"absolute -top-10 -right-10 h-24 w-24 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-12 -left-10 h-28 w-28 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between mb-3 border-b border-slate-100 pb-2",children:[i.jsx("h5",{className:"font-semibold text-slate-800 text-sm",children:Ut}),i.jsx("span",{className:"text-[11px] text-slate-400",children:"Attendance"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[he.map((ss,ns)=>i.jsx("div",{className:"text-[10px] text-slate-400 font-semibold uppercase",children:ss},ns)),Array.from({length:$t}).map((ss,ns)=>{const Je=ns-Lt+1;if(Je<1||Je>Wt)return i.jsx("div",{className:"h-8"},ns);const Ht=new Date(at,Ye,Je),Vt=Fe(Ht),Mt=Le.has(Vt),dt=qe.has(Vt),Nt=Ht.getDay()===0||Ht.getDay()===6,Es="h-8 w-8 mx-auto flex items-center justify-center rounded-full text-xs font-semibold transition",Me=Nt?"text-slate-300 bg-slate-50":"text-slate-600";return Mt?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("div",{title:`${Vt}: ${dt?"Present":"Absent"}`,className:`${Es} ${Me} ${dt?"bg-emerald-100 text-emerald-800 shadow-sm":"bg-sky-100 text-sky-800 shadow-sm"}`,children:Je})},ns):i.jsx("div",{className:"h-8 flex items-center justify-center text-[11px] text-slate-200"},ns)})]}),i.jsxs("div",{className:"mt-3 flex justify-center gap-4 text-[11px] text-slate-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-100 rounded-full border border-emerald-200"})," ","Present"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-sky-100 rounded-full border border-sky-200"})," ","Absent"]})]})]},et)})})};return i.jsxs(sr,{title:"Manage Students",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Manage Students"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Organize, update, and review student profiles in a beautiful workspace."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(pl,{className:"h-4 w-4 text-indigo-500"}),"Total: ",R]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(DA,{className:"h-4 w-4"}),"Showing: ",K]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Ml,{className:"h-4 w-4"}),D]})]})]})]}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm focus:ring-2 focus:ring-emerald-200",value:r,onChange:ge=>o(ge.target.value),children:[i.jsx("option",{value:"all",children:"All Classes"}),Ts.map(ge=>i.jsx("option",{value:ge.id,children:ge.name},ge.id))]})}),i.jsxs("button",{onClick:de,className:"flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2 text-sm font-semibold shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700",children:[i.jsx(Kh,{size:16}),"Add Student"]})]}),i.jsx("div",{className:"p-4",children:Q.length===0?i.jsx("div",{className:"px-6 py-10 text-center text-slate-400",children:"No students found."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Q.map(ge=>{var Fe;const Se=((Fe=Ts.find(Le=>Le.id===ge.classId))==null?void 0:Fe.name)||ge.classId;return i.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition duration-300 hover:-translate-y-1 hover:shadow-md",children:[i.jsx("div",{className:"absolute -top-14 -right-14 h-28 w-28 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-16 -left-10 h-32 w-32 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-11 w-11 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-semibold",children:ge.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:ge.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",ge.id]})]})]}),i.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:Se})]}),i.jsxs("div",{className:"relative mt-4 grid grid-cols-2 gap-3 text-xs text-slate-600",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Gender"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:ge.gender})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Guardian"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:ge.guardianName||"-"}),i.jsx("p",{className:"text-[11px] text-slate-400",children:ge.guardianPhone||""})]})]}),i.jsxs("div",{className:"relative mt-4 flex items-center justify-between",children:[i.jsxs("button",{type:"button",onClick:()=>O(ge),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100",title:"View Performance",children:[i.jsx(Zd,{size:14}),"View"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>re(ge),className:"text-[#1160A8] hover:text-[#0B4A82] p-2 hover:bg-[#E6F0FA] rounded-full transition-colors",title:"Edit Details",children:i.jsx(o2,{size:16})}),i.jsx("button",{type:"button",onClick:Le=>J(ge.id,Le),className:"text-rose-500 hover:text-rose-700 p-2 hover:bg-rose-50 rounded-full transition-colors cursor-pointer",title:"Delete Student",children:i.jsx(RA,{size:16,className:"pointer-events-none"})})]})]})]},ge.id)})})})]})]}),N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-2xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Mi,{className:"text-rose-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Student?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this student? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>S(null),className:"flex-1 px-4 py-2 border border-slate-200 text-slate-700 rounded-full hover:bg-slate-50 font-medium transition",children:"Cancel"}),i.jsx("button",{onClick:oe,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-full hover:bg-rose-700 font-medium transition shadow-sm",children:"Delete"})]})]})})}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"mb-6 border-b border-slate-100 pb-3",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:u?"Edit Student Details":"Add New Student"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Keep student records accurate and up to date."})]}),u&&i.jsxs("div",{className:"mb-6 bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Attendance Summary"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Current Term Performance"})]}),i.jsx("div",{className:"text-right",children:b?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[b.attendance.percentage,"%"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[b.attendance.present,"/",b.attendance.total," Days"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"Loading data..."})})]}),i.jsxs("form",{onSubmit:xe,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all placeholder-slate-400",value:A.name||"",onChange:ge=>m({...A,name:ge.target.value}),placeholder:"e.g. Kwame Nkrumah Jnr"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.gender,onChange:ge=>m({...A,gender:ge.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:A.dob||"",onChange:ge=>m({...A,dob:ge.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.classId,onChange:ge=>m({...A,classId:ge.target.value}),children:Ts.map(ge=>i.jsx("option",{value:ge.id,children:ge.name},ge.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianName||"",onChange:ge=>m({...A,guardianName:ge.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianPhone||"",onChange:ge=>m({...A,guardianPhone:ge.target.value}),placeholder:"e.g. 024 123 4567"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:W,className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:E,className:`px-5 py-2.5 bg-emerald-600 text-white rounded-lg font-medium shadow-sm transition-colors ${E?"opacity-60 cursor-not-allowed hover:bg-emerald-600":"hover:bg-emerald-700"}`,children:E?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u?"Updating...":"Saving..."]}):u?"Update Student":"Save Student"})]})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col gap-4 bg-gradient-to-r from-slate-50 via-white to-emerald-50 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-700 rounded-2xl flex items-center justify-center text-2xl font-bold shadow-sm",children:x.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:x.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(HT,{size:14}),x.gender]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(Ml,{size:14}),(ye=Ts.find(ge=>ge.id===x.classId))==null?void 0:ye.name]})]})]})]}),i.jsx("button",{onClick:H,className:"text-slate-400 hover:text-slate-700 bg-white p-2 rounded-full shadow-sm",children:i.jsx(Io,{size:24})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Attendance Rate"}),i.jsx("p",{className:`mt-1 text-2xl font-bold ${((Ne=b==null?void 0:b.attendance)==null?void 0:Ne.percentage)<50?"text-rose-600":"text-emerald-600"}`,children:b?`${b.attendance.percentage}%`:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Days Present"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.present:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total School Days"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.total:"-"})]})]})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:i.jsx(ho,{size:20})}),i.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Attendance Record"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-300 rounded-full"}),"Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 font-semibold text-sky-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-sky-300 rounded-full"}),"Absent"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total Days"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-slate-900",children:P??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-emerald-500",children:"Days Present"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-emerald-700",children:V??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-sky-100 bg-sky-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-sky-500",children:"Days Absent"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-sky-700",children:$??"-"})]})]}),i.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm",children:ee()})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(Ml,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:["Subjects: ",ae]})]}),i.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden bg-white",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:b?b.grades.map((ge,Se)=>{const Fe=ge.total||(ge.testScore||0)+(ge.homeworkScore||0)+(ge.projectScore||0)+(ge.examScore||0),{grade:Le,remark:qe}=dm(Fe);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:ge.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:Fe>0?Fe:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Og(Le)}`,children:Fe>0?Le:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Fe>0?qe:"N/A"})]},Se)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Loading grades..."})})})]})}),i.jsx("div",{className:"mt-3 flex items-center justify-end text-xs text-slate-400",children:"Updated via system records"})]})]}),i.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center",children:i.jsx("p",{className:"text-xs text-slate-400",children:"Generated automatically by School Manager GH System"})})]})})]})};async function g7(){const s=yu.currentUser;if(!s)throw new Error("NO_SESSION");try{return await s.getIdToken(!0)}catch(e){throw console.error("Error refreshing ID token:",e),new Error("TOKEN_REFRESH_FAILED")}}async function x7(s=2,e=400){let t=0;for(;t<=s;)try{return await g7()}catch(n){if(((n==null?void 0:n.message)==="NO_SESSION"||(n==null?void 0:n.message)==="TOKEN_REFRESH_FAILED")&&t<s){await new Promise(r=>setTimeout(r,e)),t+=1;continue}throw n}throw new Error("TOKEN_REFRESH_FAILED")}const v7="http://localhost:3001".replace(/\/$/,"")||"https://school-manager-hehk.onrender.com",Z5=v7;class wp extends Error{constructor(e,t,n){super(e),this.code=t,this.status=n,this.name="ApiError"}}async function Cm(s,e={}){let t=0;const n=1;for(;t<=n;)try{const r=await x7(),o=await fetch(`${Z5}${s}`,{method:e.method||"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:e.body?JSON.stringify(e.body):void 0});if(!o.ok){const c=await o.json().catch(()=>({})),h=o.status===403&&(c.code==="INVALID_TOKEN"||/invalid token/i.test(c.error||"")||/invalid token/i.test(c.message||""));if(o.status===401&&c.code==="ID_TOKEN_EXPIRED"||h){if(t<n){console.log("ID token expired, retrying request..."),t++;continue}throw new wp("Your session has expired. Please log out and log in again.","SESSION_EXPIRED",o.status)}throw new wp(c.error||`HTTP ${o.status} ${o.statusText}`,c.code,o.status)}return await o.json()}catch(r){throw r.message==="NO_SESSION"?new wp("You are not logged in. Please log in to continue.","NO_SESSION"):r.message==="TOKEN_REFRESH_FAILED"?new wp("Your session has expired. Please log out and log in again.","SESSION_EXPIRED"):r.name==="TypeError"&&r.message==="Failed to fetch"?new wp(`Cannot connect to the backend at ${Z5}. Please ensure the server is running.`,"CONNECTION_FAILED"):r}throw new Error("API request failed after all retries.")}async function y7(s){return Cm("/api/superadmin/create-school",{body:s})}async function b7(s){return Cm("/api/superadmin/create-school-admin",{body:s})}async function w7(s){return Cm("/api/superadmin/reset-school-admin-password",{body:s})}async function j7(s){return Cm("/api/createTeacher",{body:s})}async function B7(s){return Cm("/api/billing/initiate",{body:s})}async function eC(s){return Cm("/api/billing/verify",{body:s})}Lg(Qg,"createSchool");Lg(Qg,"createSchoolAdmin");const C7=Lg(Qg,"deleteSchool");Lg(Qg,"createTeacherAccount");const S7=Lg(Qg,"repairUserSchoolId"),N7=()=>{const{school:s}=uc(),e=(s==null?void 0:s.id)||"",[t,n]=Z.useState([]),[r,o]=Z.useState(!1),[c,h]=Z.useState(!1),[u,f]=Z.useState(!1),[A,m]=Z.useState(null),[x,g]=Z.useState(null),[b,I]=Z.useState(null),[N,S]=Z.useState(!1),[E,F]=Z.useState(!1),[L,O]=Z.useState(!1),[H,Q]=Z.useState(null),[D,R]=Z.useState([]),[K,P]=Z.useState(!1),[V,$]=Z.useState({role:pn.TEACHER,assignedClassIds:[]}),[ae,de]=Z.useState(null),re=async()=>{if(!e){n([]);return}const ye=(await lt.getUsers(e)).filter(Ne=>Ne.role===pn.TEACHER);n(ye)};Z.useEffect(()=>{re()},[e]);const W=(ce,ye)=>{navigator.clipboard.writeText(ce),g(ye),setTimeout(()=>g(null),2e3)},J=ce=>{$(ye=>{const Ne=ye.assignedClassIds||[];return Ne.includes(ce)?{...ye,assignedClassIds:Ne.filter(ge=>ge!==ce)}:{...ye,assignedClassIds:[...Ne,ce]}})},oe=async ce=>{if(ce.preventDefault(),!e){kt("School ID is not available. Please refresh and try again.",{type:"error"});return}if(!V.fullName||!V.email){kt("Please fill in all fields (full name and email).",{type:"error"});return}h(!0);try{await j7({fullName:V.fullName,email:V.email,password:V.password||void 0,assignedClassIds:V.assignedClassIds||[],schoolId:e}),m({tempPassword:V.password||void 0,email:V.email,fullName:V.fullName,adminProvidedPassword:!!V.password}),f(!0),o(!1),$({role:pn.TEACHER,assignedClassIds:[],email:"",fullName:"",password:""}),F(!1),await re()}catch(ye){console.error("Error creating teacher:",ye),kt((ye==null?void 0:ye.message)||"Failed to create teacher.",{type:"error",duration:7e3})}finally{h(!1)}},xe=ce=>{de(ce)},ee=async()=>{if(!ae)return;const ce=t.find(ge=>ge.id===ae);if(!ce){de(null);return}if(ce.schoolId!==e){de(null),kt("You can only delete teachers from your school.",{type:"error"});return}const ye=ae;de(null);const Ne=[...t];n(ge=>ge.filter(Se=>Se.id!==ye));try{await lt.deleteUser(ye);const Fe=(await lt.getAllTeacherAttendanceRecords(e)).filter(Le=>Le.teacherId===ye&&Le.schoolId&&Le.schoolId===e).map(Le=>Qi(Ms(Ct,"teacher_attendance",Le.id)));await Promise.all(Fe)}catch(ge){console.error("Failed to delete teacher",ge),n(Ne),kt("Failed to delete teacher profile. Please try again.",{type:"error"})}},M=ce=>{Q(ce),R(ce.assignedClassIds||[]),O(!0)},X=ce=>{R(ye=>(ye||[]).includes(ce)?(ye||[]).filter(Ne=>Ne!==ce):[...ye||[],ce])},ie=async()=>{if(H){if(H.schoolId!==e){kt("You can only edit teachers from your school.",{type:"error"});return}P(!0);try{await lt.updateUserAssignedClasses(H.id,D),kt("Teacher classes updated successfully.",{type:"success"}),O(!1),Q(null),R([]),await re()}catch(ce){console.error("Error updating teacher classes:",ce),kt((ce==null?void 0:ce.message)||"Failed to update teacher classes.",{type:"error"})}finally{P(!1)}}},le=async()=>{if(b){S(!0);try{const ce=await S7({targetUid:b,schoolId:e}),{message:ye}=ce.data;kt(ye||"Teacher account repaired successfully.",{type:"success"}),I(null),await re()}catch(ce){console.error("Error repairing teacher:",ce),kt((ce==null?void 0:ce.details)||(ce==null?void 0:ce.message)||"Failed to repair teacher account.",{type:"error",duration:6e3})}finally{S(!1)}}};return i.jsxs(sr,{title:"Manage Teachers",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h2",{className:"font-semibold text-slate-800",children:"Staff List"}),i.jsxs("button",{onClick:()=>{if(!e){kt("School ID is not available yet. Please refresh and try again.",{type:"error"});return}o(!0)},className:"flex items-center bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[i.jsx(Kh,{size:16,className:"mr-2"}),"Add Teacher"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Name"}),i.jsx("th",{className:"px-6 py-3",children:"Email"}),i.jsx("th",{className:"px-6 py-3",children:"Account Status"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Classes"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No teachers found for this school."})}):t.map(ce=>{const Ne=(ce.assignedClassIds||[]).map(Se=>{var Fe;return(Fe=Ts.find(Le=>Le.id===Se))==null?void 0:Fe.name}).filter(Boolean),ge=!ce.schoolId;return i.jsxs("tr",{className:`hover:bg-slate-50 ${ge?"bg-red-50":""}`,children:[i.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:ce.fullName}),i.jsxs("td",{className:"px-6 py-3 flex items-center",children:[i.jsx(iM,{size:14,className:"mr-2 text-slate-400"}),ce.email]}),i.jsx("td",{className:"px-6 py-3",children:ge?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pb,{size:16,className:"text-red-600"}),i.jsx("span",{className:"text-red-700 font-semibold text-xs",children:"Missing schoolId"})]}):i.jsx("span",{className:"text-emerald-700 text-xs font-medium",children:" Complete"})}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:Ne.length>0?Ne.map(Se=>i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:Se},Se)):i.jsx("span",{className:"text-slate-400 italic text-xs",children:"No classes"})})}),i.jsxs("td",{className:"px-6 py-3 text-right flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>M(ce),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit Assigned Classes",children:i.jsx(yM,{size:16,className:"pointer-events-none"})}),ge&&i.jsx("button",{onClick:()=>I(ce.id),className:"text-orange-600 hover:text-orange-800 p-2 hover:bg-orange-50 rounded-full transition-colors",title:"Repair Account",children:i.jsx(J5,{size:16,className:"pointer-events-none"})}),i.jsx("button",{onClick:()=>xe(ce.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Remove Teacher",children:i.jsx(RA,{size:16,className:"pointer-events-none"})})]})]},ce.id)})})]})})]}),ae&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Mi,{className:"text-red-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Remove Teacher?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This removes their profile and disables their login account from the system."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>de(null),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),i.jsx("button",{onClick:ee,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors shadow-sm",children:"Remove"})]})]})})}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center text-slate-900 border-b pb-2",children:[i.jsx(l2,{className:"mr-2 text-emerald-600",size:20})," Add New Teacher"]}),i.jsxs("form",{onSubmit:oe,className:"space-y-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.fullName||"",onChange:ce=>$({...V,fullName:ce.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.email||"",onChange:ce=>$({...V,email:ce.target.value}),placeholder:"teacher@school.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Password (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:E?"text":"password",className:"w-full border border-slate-300 p-2.5 pr-10 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.password||"",onChange:ce=>$({...V,password:ce.target.value}),placeholder:"Leave empty to send password reset link"}),i.jsx("button",{type:"button",onClick:()=>F(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",title:E?"Hide password":"Show password",children:E?i.jsx(OT,{size:18}):i.jsx(Zd,{size:18})})]})]}),i.jsxs("p",{className:"text-xs text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[" ",i.jsx("strong",{children:"Option 1:"})," Leave password empty - a reset link will be sent to email. ",i.jsx("strong",{children:"Option 2:"})," Set a password above - teacher can log in immediately with it."]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Assign Classes"}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ts.map(ce=>{var Ne;const ye=(Ne=V.assignedClassIds)==null?void 0:Ne.includes(ce.id);return i.jsxs("button",{type:"button",onClick:()=>J(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ye?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:ce.name}),ye?i.jsx(Y5,{size:16,className:"text-white ml-2"}):i.jsx(W5,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Click classes to select/deselect them."})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>o(!1),disabled:c,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:c,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-70",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Xy,{size:16,className:"mr-2 animate-spin"})," ","Creating..."]}):"Create Teacher"})]})]})]})}),b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(J5,{className:"text-orange-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Repair Teacher Account?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"This teacher's account is missing the required schoolId field."}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action will add your school's ID to their profile so they can log in."}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-3 mb-6 w-full",children:i.jsx("p",{className:"text-xs text-orange-700",children:"After repair, the teacher will be able to log in and access the system."})}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>I(null),disabled:N,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:le,disabled:N,className:"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-colors shadow-sm disabled:opacity-70",children:N?i.jsxs(i.Fragment,{children:[i.jsx(Xy,{size:16,className:"mr-2 animate-spin"}),"Repairing..."]}):"Repair Account"})]})]})})}),u&&A&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Kp,{className:"text-emerald-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Teacher Created Successfully!"}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Share these credentials with the teacher."})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 mb-4 border border-slate-200",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:"Email"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.email}),i.jsx("button",{onClick:()=>W(A.email,"email"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:x==="email"?i.jsx(Kp,{size:16,className:"text-emerald-600"}):i.jsx(z5,{size:16})})]})]}),A.tempPassword&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:A.adminProvidedPassword?"Password":"Temporary Password"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.tempPassword}),i.jsx("button",{onClick:()=>W(A.tempPassword,"password"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:x==="password"?i.jsx(Kp,{size:16,className:"text-emerald-600"}):i.jsx(z5,{size:16})})]}),!A.adminProvidedPassword&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:" Teacher must change password on first login."})]}),A.adminProvidedPassword?i.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-green-700",children:" Teacher can log in immediately with the password above."})}):i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-blue-700",children:" A password reset link has been sent to their email inbox."})})]}),i.jsx("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition-colors",children:"Done"})]})}),L&&H&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-900 border-b pb-2",children:"Assign Classes"}),i.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Assign classes to ",H.fullName,"."]}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50 mb-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ts.map(ce=>{const ye=(D||[]).includes(ce.id);return i.jsxs("button",{type:"button",onClick:()=>X(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ye?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:ce.name}),ye?i.jsx(Y5,{size:16,className:"text-white ml-2"}):i.jsx(W5,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>O(!1),disabled:K,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors disabled:opacity-60",children:"Cancel"}),i.jsx("button",{type:"button",onClick:ie,disabled:K,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-60",children:K?i.jsxs(i.Fragment,{children:[i.jsx(Xy,{size:16,className:"mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})},E7=()=>{const{school:s}=uc(),e=(s==null?void 0:s.id)||null,[t,n]=Z.useState(Ts[0].id),[r,o]=Z.useState([]),[c,h]=Z.useState(!1),[u,f]=Z.useState(0);return Z.useEffect(()=>{(async()=>{h(!0);try{if(!e){o([]),f(0);return}const m=await lt.getStudents(e,t),x=await lt.getSchoolConfig(e);let g=0;const b=await lt.getClassAttendance(e,t),I=new Set([...b.filter(E=>E.isHoliday).map(E=>E.date),...(x.holidayDates||[]).map(E=>E.date)]);if(x.schoolReopenDate){const E=new Date(`${x.schoolReopenDate}T00:00:00`),F=x.vacationDate?new Date(`${x.vacationDate}T00:00:00`):null,L=new Date;L.setHours(0,0,0,0);const O=F&&F<L?F:L,H=new Date(E);for(;H<=O;){const Q=H.getDay();if(!(Q===0||Q===6)){const R=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`;I.has(R)||g++}H.setDate(H.getDate()+1)}}else g=b.filter(F=>!F.isHoliday).length;f(g);const N=b,S=m.map(E=>{const F=N.filter(O=>!O.isHoliday&&O.presentStudentIds.includes(E.id)).length,L=g===0?0:Math.round(F/g*100);return{id:E.id,name:E.name,gender:E.gender,presentDays:F,totalDays:g,percentage:L}});S.sort((E,F)=>E.name.localeCompare(F.name)),o(S)}catch(m){console.error("Error fetching attendance stats:",m)}finally{h(!1)}})()},[t,e]),i.jsx(sr,{title:"Attendance Statistics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48 bg-white text-slate-900",value:t,onChange:A=>n(A.target.value),children:Ts.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-md px-4 py-1.5 shadow-sm",children:[i.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Term Total Days"}),i.jsx("span",{className:"font-bold text-lg text-slate-800",children:u})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})," ","Excellent (90%+)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400"})," ","Average (50-89%)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(Mi,{size:12,className:"text-[#0B4A82]"})," Critical (","<","50%)"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:c?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Calculating Attendance Data..."}):i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200 sticky top-0 z-10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Student Name"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Days Present"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Total School Days"}),i.jsx("th",{className:"px-6 py-4 w-1/3",children:"Attendance Rate"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"No students found in this class."})}):r.map(A=>{let m="bg-emerald-500",x="text-emerald-700 bg-emerald-50 border-emerald-200",g="hover:bg-slate-50",b=null;return A.percentage<50?(m="bg-red-500",x="text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]",g="bg-[#E6F0FA]/60 hover:bg-[#E6F0FA]/80",b=i.jsx("span",{title:"Critical Attendance",children:i.jsx(Mi,{size:14,className:"text-[#0B4A82] ml-2"})})):A.percentage<90&&(m="bg-amber-400",x="text-amber-700 bg-amber-50 border-amber-200"),i.jsxs("tr",{className:`${g} transition-colors border-b border-slate-100 last:border-0`,children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold text-white mr-3 shadow-sm ${A.gender==="Male"?"bg-[#0B4A82]":"bg-pink-500"}`,children:A.name.charAt(0)}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800 flex items-center",children:[A.name,b]}),i.jsx("p",{className:"text-xs text-slate-500",children:A.gender})]})]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"font-bold text-slate-800 text-lg",children:A.presentDays})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"text-slate-500",children:A.totalDays})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-2.5 bg-slate-200 rounded-full overflow-hidden shadow-inner",children:i.jsx("div",{className:`h-full ${m} transition-all duration-500 rounded-full`,style:{width:`${A.percentage}%`}})}),i.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded border ${x} min-w-[3.5rem] text-center shadow-sm`,children:[A.percentage,"%"]})]})})]},A.id)})})]})})]})})},T7=()=>{const{school:s}=uc(),e=(s==null?void 0:s.id)||null,[t,n]=Z.useState([]),[r,o]=Z.useState(!1),[c,h]=Z.useState(""),[u,f]=Z.useState("");Z.useEffect(()=>{(async()=>{o(!0);try{if(!e){n([]);return}const g=await lt.getSchoolConfig(e);g.schoolReopenDate&&!c&&h(g.schoolReopenDate),g.vacationDate&&!u&&f(g.vacationDate);const b=c||g.schoolReopenDate||void 0,I=u||g.vacationDate||void 0,N=await lt.getTeacherAttendanceAnalytics(e,b,I);n(N)}catch(g){console.error("Error fetching teacher attendance analytics:",g)}finally{o(!1)}})()},[c,u,e]);const A=x=>{switch(x){case"improving":return i.jsx(Id,{className:"text-emerald-600",size:16});case"declining":return i.jsx(X5,{className:"text-[#0B4A82]",size:16});default:return i.jsx(G5,{className:"text-slate-400",size:16})}},m=x=>{switch(x){case"improving":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"declining":return"text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]";default:return"text-slate-600 bg-slate-50 border-slate-200"}};return i.jsx(sr,{title:"Teacher Attendance Analytics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Teacher Attendance Overview"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Term Start Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:c,onChange:x=>h(x.target.value)})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Vacation Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:u,onChange:x=>f(x.target.value)})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(Id,{size:12,className:"text-emerald-600"})," Improving"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(G5,{size:12,className:"text-slate-400"})," Stable"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(X5,{size:12,className:"text-[#0B4A82]"})," Declining"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:r?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Analyzing Teacher Attendance Data..."}):i.jsx("div",{className:"p-6 space-y-6",children:t.length===0?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"No teacher attendance data found."}):t.map(x=>i.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0B4A82] border-2 border-[#E6F0FA] flex items-center justify-center text-white font-bold text-lg shadow-lg",children:x.teacherName.charAt(0)}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800",children:x.teacherName}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ho,{size:14,className:"text-slate-500"}),i.jsxs("span",{className:"text-sm text-slate-600",children:[x.termStartDate," -"," ",x.vacationDate||"Present"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(DA,{size:14,className:"text-emerald-600"}),i.jsxs("span",{className:"text-sm font-semibold text-emerald-700",children:[x.overallAttendance,"% Overall Attendance"]})]})]})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Monthly Attendance Breakdown"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.monthlyBreakdown.map(g=>i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold text-slate-800",children:g.month}),A(g.trend)]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Working Days:"}),i.jsx("span",{className:"font-medium",children:g.totalWorkingDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Present:"}),i.jsx("span",{className:"font-medium text-emerald-700",children:g.presentDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Absent:"}),i.jsx("span",{className:"font-medium text-[#0B4A82]",children:g.absentDays})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Attendance Rate"}),i.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${m(g.trend)}`,children:[g.attendanceRate,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.attendanceRate>=90?"bg-emerald-500":g.attendanceRate>=70?"bg-amber-400":"bg-[#1160A8]"}`,style:{width:`${g.attendanceRate}%`}})})]})]})]},g.month))})]}),x.overallAttendance<70&&i.jsxs("div",{className:"mt-4 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Mi,{className:"text-[#0B4A82]",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-[#0B4A82]",children:"Critical Attendance Alert"}),i.jsx("p",{className:"text-xs text-[#1160A8]",children:"This teacher has below 70% overall attendance and may need intervention."})]})]})]},x.teacherId))})})]})})},I7=()=>{var N,S;const{school:s}=uc(),e=(s==null?void 0:s.id)||null,[t,n]=Z.useState(Ts[0].id),[r,o]=Z.useState([]),[c,h]=Z.useState({pass:[],fail:[]}),[u,f]=Z.useState([]),[A,m]=Z.useState(!1),[x,g]=Z.useState({currentTerm:`Term ${Hi}`,academicYear:To,schoolReopenDate:""}),b=((N=Ts.find(E=>E.id===t))==null?void 0:N.name)||"Class";Z.useEffect(()=>{t&&(async()=>{if(m(!0),!e){o([]),f([]),m(!1);return}const F=Ts.find(V=>V.id===t);let L=await lt.getSubjects(e,t);if(!L.length&&F)switch(F.level){case"NURSERY":L=r7;break;case"KG":L=a7;break;case"PRIMARY":L=i7;break;case"JHS":L=o7;break;default:L=[]}if(f(L),L.length===0){o([]),m(!1);return}const O=await lt.getSchoolConfig(e);g({currentTerm:O.currentTerm||`Term ${Hi}`,academicYear:O.academicYear||To,schoolReopenDate:O.schoolReopenDate||""});let H=Hi;if(O.currentTerm){const V=O.currentTerm.match(/\d+/);V&&(H=parseInt(V[0],10))}const Q=await lt.getStudents(e,t),D=await lt.getStudentRemarks(e,t),R=await Promise.all(Q.map(async V=>{let $=0,ae=0;const de={};for(const J of L){const xe=(await lt.getAssessments(e,t,J)).find(ee=>ee.studentId===V.id&&ee.term===H);if(xe){const ee=xe.total??_A(xe);de[J]=ee,$+=ee,ae++}else de[J]="-"}const re=ae>0?($/ae).toFixed(1):"0",W=D.find(J=>J.studentId===V.id&&Number(J.term)===H);return{student:V,scores:de,totalScore:$,average:re,remark:W?W.remark:"N/A"}}));R.sort((V,$)=>$.totalScore-V.totalScore),o(R);const K=R.filter(V=>V.totalScore>=500),P=R.filter(V=>V.totalScore<500);h({pass:K,fail:P}),m(!1)})()},[t,e]);const I=()=>{var K,P,V;if(r.length===0)return;const E=["Position","Student Name",...u,"Total Score","Average Grade","Remark"],F=r.map(($,ae)=>{const de=u.map(re=>$.scores[re]);return[ae+1,`"${$.student.name}"`,...de,$.totalScore,$.average,`"${$.remark}"`]}),L=[E.join(","),...F.map($=>$.join(","))].join(`
`),O=new Blob([L],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL(O),Q=document.createElement("a"),R=`${((K=Ts.find($=>$.id===t))==null?void 0:K.name)||"Class"}_Report_${x.academicYear.replace("-","_")}_Term${((V=(P=x.currentTerm)==null?void 0:P.match(/\d+/))==null?void 0:V[0])||Hi}.csv`;Q.setAttribute("href",H),Q.setAttribute("download",R),Q.style.visibility="hidden",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)};return i.jsxs(sr,{title:"Academic Reports",children:[i.jsx("style",{children:`
                @media print {
                    @page { size: landscape; margin: 10mm; }
                    body * {
                        visibility: hidden;
                    }
                    #report-content, #report-content * {
                        visibility: visible;
                    }
                    #report-content {
                        position: fixed;
                        left: 0;
                        top: 0;
                        width: 100%;
                        height: 100%;
                        margin: 0;
                        padding: 0;
                        background: white;
                        z-index: 9999;
                    }
                    .no-print {
                        display: none !important;
                    }
                    /* Ensure table expands fully and isn't cut off by scroll areas */
                    #table-container {
                        overflow: visible !important;
                        height: auto !important;
                    }
                }
            `}),i.jsxs("div",{id:"report-content",className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)] print:h-auto print:border-none print:shadow-none",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-indigo-50 via-white to-emerald-50 print:bg-white print:border-none",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(Ml,{size:22})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Academic Reports"}),i.jsxs("p",{className:"text-sm text-slate-600",children:[x.currentTerm,"  ",x.academicYear]})]})]}),i.jsxs("div",{className:"hidden print:block text-2xl font-bold text-slate-900",children:[b," Report"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm no-print focus:ring-2 focus:ring-emerald-200",value:t,onChange:E=>n(E.target.value),children:Ts.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))}),i.jsxs("button",{onClick:I,disabled:A||r.length===0,className:"flex items-center gap-2 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 px-4 py-2 rounded-full transition-colors no-print font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(ev,{size:18})," Export CSV"]})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(pl,{className:"h-4 w-4 text-indigo-500"}),"Students: ",r.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(DA,{className:"h-4 w-4"}),"Pass: ",c.pass.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(Hh,{className:"h-4 w-4"}),"Fail: ",c.fail.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Ml,{className:"h-4 w-4"}),"Subjects: ",u.length]})]})]}),i.jsxs("div",{id:"table-container",className:"flex-1 overflow-auto p-4 print:overflow-visible print:p-0",children:[((S=x.currentTerm)==null?void 0:S.includes("3"))&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6 no-print",children:[i.jsxs("div",{className:"bg-emerald-50/70 border border-emerald-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-emerald-800",children:"Passed (>= 500)"}),i.jsx("span",{className:"text-xs text-emerald-700 font-semibold",children:c.pass.length})]}),c.pass.length===0?i.jsx("p",{className:"text-sm text-emerald-700",children:"No passing students."}):i.jsx("ul",{className:"text-sm text-emerald-900 space-y-1 max-h-40 overflow-y-auto",children:c.pass.map(E=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:E.student.name}),i.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]}),i.jsxs("div",{className:"bg-rose-50/70 border border-rose-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-rose-800",children:"Failed (< 500)"}),i.jsx("span",{className:"text-xs text-rose-700 font-semibold",children:c.fail.length})]}),c.fail.length===0?i.jsx("p",{className:"text-sm text-rose-700",children:"No failing students."}):i.jsx("ul",{className:"text-sm text-rose-900 space-y-1 max-h-40 overflow-y-auto",children:c.fail.map(E=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:E.student.name}),i.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]})]}),A?i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Loading Report Data..."}):i.jsx("div",{className:"overflow-x-auto print:overflow-visible rounded-2xl border border-slate-100 bg-white shadow-sm",children:i.jsxs("table",{className:"w-full text-left text-sm border-collapse text-black",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold print:bg-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 border border-slate-200 w-10",children:"Pos"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Student Name"}),u.map(E=>i.jsx("th",{className:"px-2 py-3 border border-slate-200 w-24 text-center text-xs",children:E.substring(0,3)},E)),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-emerald-50 text-emerald-900 print:bg-slate-100",children:"Total"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-[#E6F0FA] text-[#0B4A82] print:bg-slate-100",children:"Avg"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Remark"})]})}),i.jsxs("tbody",{children:[r.map((E,F)=>i.jsxs("tr",{className:"hover:bg-slate-50 print:hover:bg-transparent",children:[i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-medium",children:F+1}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 font-medium",children:E.student.name}),u.map(L=>{const O=E.scores[L],H=typeof O=="number"?dm(O).grade:"-";return i.jsx("td",{className:"px-2 py-2 border border-slate-200 text-center",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:O}),typeof O=="number"&&i.jsx("span",{className:`text-[10px] font-bold ${Og(H).split(" ")[0]}`,children:H})]})},L)}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-emerald-50 text-emerald-900 print:bg-transparent",children:E.totalScore}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-[#E6F0FA] text-[#0B4A82] print:bg-transparent",children:E.average}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-sm",children:E.remark})]},E.student.id)),r.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:u.length+5,className:"p-8 text-center text-slate-400",children:"No students found."})})]})]})})]})]})]})};var Zy={exports:{}};const _7="modulepreload",F7=function(s,e){return new URL(s,e).href},tC={},e1=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let c=function(A){return Promise.all(A.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const h=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=c(t.map(A=>{if(A=F7(A,n),A in tC)return;tC[A]=!0;const m=A.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(!!n)for(let I=h.length-1;I>=0;I--){const N=h[I];if(N.href===A&&(!m||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${x}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":_7,m||(b.as="script"),b.crossOrigin="",b.href=A,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((I,N)=>{b.addEventListener("load",I),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${A}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Hr(s){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(s)}var lc=Uint8Array,iA=Uint16Array,A2=Int32Array,c2=new lc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u2=new lc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sC=new lc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KT=function(s,e){for(var t=new iA(31),n=0;n<31;++n)t[n]=e+=1<<s[n-1];for(var r=new A2(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)r[o]=o-t[n]<<5|n;return{b:t,r}},zT=KT(c2,2),U7=zT.b,vb=zT.r;U7[28]=258,vb[258]=28;var D7=KT(u2,0),nC=D7.r,yb=new iA(32768);for(var wa=0;wa<32768;++wa){var vd=(wa&43690)>>1|(wa&21845)<<1;vd=(vd&52428)>>2|(vd&13107)<<2,vd=(vd&61680)>>4|(vd&3855)<<4,yb[wa]=((vd&65280)>>8|(vd&255)<<8)>>1}var zp=(function(s,e,t){for(var n=s.length,r=0,o=new iA(e);r<n;++r)s[r]&&++o[s[r]-1];var c=new iA(e);for(r=1;r<e;++r)c[r]=c[r-1]+o[r-1]<<1;var h;if(t){h=new iA(1<<e);var u=15-e;for(r=0;r<n;++r)if(s[r])for(var f=r<<4|s[r],A=e-s[r],m=c[s[r]-1]++<<A,x=m|(1<<A)-1;m<=x;++m)h[yb[m]>>u]=f}else for(h=new iA(n),r=0;r<n;++r)s[r]&&(h[r]=yb[c[s[r]-1]++]>>15-s[r]);return h}),ef=new lc(288);for(var wa=0;wa<144;++wa)ef[wa]=8;for(var wa=144;wa<256;++wa)ef[wa]=9;for(var wa=256;wa<280;++wa)ef[wa]=7;for(var wa=280;wa<288;++wa)ef[wa]=8;var tv=new lc(32);for(var wa=0;wa<32;++wa)tv[wa]=5;var R7=zp(ef,9,0),L7=zp(tv,5,0),GT=function(s){return(s+7)/8|0},Q7=function(s,e,t){return(t==null||t>s.length)&&(t=s.length),new lc(s.subarray(e,t))},xu=function(s,e,t){t<<=e&7;var n=e/8|0;s[n]|=t,s[n+1]|=t>>8},jp=function(s,e,t){t<<=e&7;var n=e/8|0;s[n]|=t,s[n+1]|=t>>8,s[n+2]|=t>>16},t1=function(s,e){for(var t=[],n=0;n<s.length;++n)s[n]&&t.push({s:n,f:s[n]});var r=t.length,o=t.slice();if(!r)return{t:YT,l:0};if(r==1){var c=new lc(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(O,H){return O.f-H.f}),t.push({s:-1,f:25001});var h=t[0],u=t[1],f=0,A=1,m=2;for(t[0]={s:-1,f:h.f+u.f,l:h,r:u};A!=r-1;)h=t[t[f].f<t[m].f?f++:m++],u=t[f!=A&&t[f].f<t[m].f?f++:m++],t[A++]={s:-1,f:h.f+u.f,l:h,r:u};for(var x=o[0].s,n=1;n<r;++n)o[n].s>x&&(x=o[n].s);var g=new iA(x+1),b=bb(t[A-1],g,0);if(b>e){var n=0,I=0,N=b-e,S=1<<N;for(o.sort(function(H,Q){return g[Q.s]-g[H.s]||H.f-Q.f});n<r;++n){var E=o[n].s;if(g[E]>e)I+=S-(1<<b-g[E]),g[E]=e;else break}for(I>>=N;I>0;){var F=o[n].s;g[F]<e?I-=1<<e-g[F]++-1:++n}for(;n>=0&&I;--n){var L=o[n].s;g[L]==e&&(--g[L],++I)}b=e}return{t:new lc(g),l:b}},bb=function(s,e,t){return s.s==-1?Math.max(bb(s.l,e,t+1),bb(s.r,e,t+1)):e[s.s]=t},rC=function(s){for(var e=s.length;e&&!s[--e];);for(var t=new iA(++e),n=0,r=s[0],o=1,c=function(u){t[n++]=u},h=1;h<=e;++h)if(s[h]==r&&h!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(r),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(r);o=1,r=s[h]}return{c:t.subarray(0,n),n:e}},Bp=function(s,e){for(var t=0,n=0;n<e.length;++n)t+=s[n]*e[n];return t},$T=function(s,e,t){var n=t.length,r=GT(e+2);s[r]=n&255,s[r+1]=n>>8,s[r+2]=s[r]^255,s[r+3]=s[r+1]^255;for(var o=0;o<n;++o)s[r+o+4]=t[o];return(r+4+n)*8},aC=function(s,e,t,n,r,o,c,h,u,f,A){xu(e,A++,t),++r[256];for(var m=t1(r,15),x=m.t,g=m.l,b=t1(o,15),I=b.t,N=b.l,S=rC(x),E=S.c,F=S.n,L=rC(I),O=L.c,H=L.n,Q=new iA(19),D=0;D<E.length;++D)++Q[E[D]&31];for(var D=0;D<O.length;++D)++Q[O[D]&31];for(var R=t1(Q,7),K=R.t,P=R.l,V=19;V>4&&!K[sC[V-1]];--V);var $=f+5<<3,ae=Bp(r,ef)+Bp(o,tv)+c,de=Bp(r,x)+Bp(o,I)+c+14+3*V+Bp(Q,K)+2*Q[16]+3*Q[17]+7*Q[18];if(u>=0&&$<=ae&&$<=de)return $T(e,A,s.subarray(u,u+f));var re,W,J,oe;if(xu(e,A,1+(de<ae)),A+=2,de<ae){re=zp(x,g,0),W=x,J=zp(I,N,0),oe=I;var xe=zp(K,P,0);xu(e,A,F-257),xu(e,A+5,H-1),xu(e,A+10,V-4),A+=14;for(var D=0;D<V;++D)xu(e,A+3*D,K[sC[D]]);A+=3*V;for(var ee=[E,O],M=0;M<2;++M)for(var X=ee[M],D=0;D<X.length;++D){var ie=X[D]&31;xu(e,A,xe[ie]),A+=K[ie],ie>15&&(xu(e,A,X[D]>>5&127),A+=X[D]>>12)}}else re=R7,W=ef,J=L7,oe=tv;for(var D=0;D<h;++D){var le=n[D];if(le>255){var ie=le>>18&31;jp(e,A,re[ie+257]),A+=W[ie+257],ie>7&&(xu(e,A,le>>23&31),A+=c2[ie]);var ce=le&31;jp(e,A,J[ce]),A+=oe[ce],ce>3&&(jp(e,A,le>>5&8191),A+=u2[ce])}else jp(e,A,re[le]),A+=W[le]}return jp(e,A,re[256]),A+W[256]},O7=new A2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YT=new lc(0),P7=function(s,e,t,n,r,o){var c=o.z||s.length,h=new lc(n+c+5*(1+Math.ceil(c/7e3))+r),u=h.subarray(n,h.length-r),f=o.l,A=(o.r||0)&7;if(e){A&&(u[0]=o.r>>3);for(var m=O7[e-1],x=m>>13,g=m&8191,b=(1<<t)-1,I=o.p||new iA(32768),N=o.h||new iA(b+1),S=Math.ceil(t/3),E=2*S,F=function(Oe){return(s[Oe]^s[Oe+1]<<S^s[Oe+2]<<E)&b},L=new A2(25e3),O=new iA(288),H=new iA(32),Q=0,D=0,R=o.i||0,K=0,P=o.w||0,V=0;R+2<c;++R){var $=F(R),ae=R&32767,de=N[$];if(I[ae]=de,N[$]=ae,P<=R){var re=c-R;if((Q>7e3||K>24576)&&(re>423||!f)){A=aC(s,u,0,L,O,H,D,K,V,R-V,A),K=Q=D=0,V=R;for(var W=0;W<286;++W)O[W]=0;for(var W=0;W<30;++W)H[W]=0}var J=2,oe=0,xe=g,ee=ae-de&32767;if(re>2&&$==F(R-ee))for(var M=Math.min(x,re)-1,X=Math.min(32767,R),ie=Math.min(258,re);ee<=X&&--xe&&ae!=de;){if(s[R+J]==s[R+J-ee]){for(var le=0;le<ie&&s[R+le]==s[R+le-ee];++le);if(le>J){if(J=le,oe=ee,le>M)break;for(var ce=Math.min(ee,le-2),ye=0,W=0;W<ce;++W){var Ne=R-ee+W&32767,ge=I[Ne],Se=Ne-ge&32767;Se>ye&&(ye=Se,de=Ne)}}}ae=de,de=I[ae],ee+=ae-de&32767}if(oe){L[K++]=268435456|vb[J]<<18|nC[oe];var Fe=vb[J]&31,Le=nC[oe]&31;D+=c2[Fe]+u2[Le],++O[257+Fe],++H[Le],P=R+J,++Q}else L[K++]=s[R],++O[s[R]]}}for(R=Math.max(R,P);R<c;++R)L[K++]=s[R],++O[s[R]];A=aC(s,u,f,L,O,H,D,K,V,R-V,A),f||(o.r=A&7|u[A/8|0]<<3,A-=7,o.h=N,o.p=I,o.i=R,o.w=P)}else{for(var R=o.w||0;R<c+f;R+=65535){var qe=R+65535;qe>=c&&(u[A/8|0]=f,qe=c),A=$T(u,A+1,s.subarray(R,qe))}o.i=c}return Q7(h,0,n+GT(A)+r)},WT=function(){var s=1,e=0;return{p:function(t){for(var n=s,r=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)r+=n+=t[c];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}s=n,e=r},d:function(){return s%=65521,e%=65521,(s&255)<<24|(s&65280)<<8|(e&255)<<8|e>>8}}},k7=function(s,e,t,n,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new lc(o.length+s.length);c.set(o),c.set(s,o.length),s=c,r.w=o.length}return P7(s,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+e.mem,t,n,r)},XT=function(s,e,t){for(;t;++e)s[e]=t,t>>>=8},M7=function(s,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(s[0]=120,s[1]=n<<6|(e.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,e.dictionary){var r=WT();r.p(e.dictionary),XT(s,2,r.d())}};function wb(s,e){e||(e={});var t=WT();t.p(s);var n=k7(s,e,e.dictionary?6:2,4);return M7(n,e),XT(n,n.length-4,t.d()),n}var H7=typeof TextDecoder<"u"&&new TextDecoder,V7=0;try{H7.decode(YT,{stream:!0}),V7=1}catch{}function K7(s){if(Array.isArray(s))return s}function z7(s,e){var t=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var n,r,o,c,h=[],u=!0,f=!1;try{if(o=(t=t.call(s)).next,e!==0)for(;!(u=(n=o.call(t)).done)&&(h.push(n.value),h.length!==e);u=!0);}catch(A){f=!0,r=A}finally{try{if(!u&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw r}}return h}}function iC(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,n=Array(e);t<e;t++)n[t]=s[t];return n}function G7(s,e){if(s){if(typeof s=="string")return iC(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?iC(s,e):void 0}}function $7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oC(s,e){return K7(s)||z7(s,e)||G7(s,e)||$7()}function lC(s,e="utf8"){return new TextDecoder(e).decode(s)}const Y7=new TextEncoder;function W7(s){return Y7.encode(s)}const X7=1024*8,J7=(()=>{const s=new Uint8Array(4),e=new Uint32Array(s.buffer);return!((e[0]=1)&s[0])})(),s1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class d2{constructor(e=X7,t={}){Mr(this,"buffer");Mr(this,"byteLength");Mr(this,"byteOffset");Mr(this,"length");Mr(this,"offset");Mr(this,"lastWrittenByte");Mr(this,"littleEndian");Mr(this,"_data");Mr(this,"_mark");Mr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,o=e.byteLength-r;let c=r;(ArrayBuffer.isView(e)||e instanceof d2)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+r),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=s1[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+n);if(this.littleEndian===J7&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(r,r+n));h.reverse();const u=new s1[t](h.buffer);return this.offset+=n,u.reverse(),u}const c=new s1[t](o);return this.offset+=n,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return lC(this.readBytes(e))}decodeText(e=1,t="utf8"){return lC(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(W7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Sm(s){let e=s.length;for(;--e>=0;)s[e]=0}const q7=3,Z7=258,JT=29,eH=256,tH=eH+1+JT,qT=30,sH=512,nH=new Array((tH+2)*2);Sm(nH);const rH=new Array(qT*2);Sm(rH);const aH=new Array(sH);Sm(aH);const iH=new Array(Z7-q7+1);Sm(iH);const oH=new Array(JT);Sm(oH);const lH=new Array(qT);Sm(lH);const AH=(s,e,t,n)=>{let r=s&65535|0,o=s>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do r=r+e[n++]|0,o=o+r|0;while(--c);r%=65521,o%=65521}return r|o<<16|0};var jb=AH;const cH=()=>{let s,e=[];for(var t=0;t<256;t++){s=t;for(var n=0;n<8;n++)s=s&1?3988292384^s>>>1:s>>>1;e[t]=s}return e},uH=new Uint32Array(cH()),dH=(s,e,t,n)=>{const r=uH,o=n+t;s^=-1;for(let c=n;c<o;c++)s=s>>>8^r[(s^e[c])&255];return s^-1};var Lc=dH,Bb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ZT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const hH=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var fH=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)hH(t,n)&&(s[n]=t[n])}}return s},mH=s=>{let e=0;for(let n=0,r=s.length;n<r;n++)e+=s[n].length;const t=new Uint8Array(e);for(let n=0,r=0,o=s.length;n<o;n++){let c=s[n];t.set(c,r),r+=c.length}return t},eI={assign:fH,flattenChunks:mH};let tI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tI=!1}const fg=new Uint8Array(256);for(let s=0;s<256;s++)fg[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;fg[254]=fg[254]=1;var pH=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,t,n,r,o,c=s.length,h=0;for(r=0;r<c;r++)t=s.charCodeAt(r),(t&64512)===55296&&r+1<c&&(n=s.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,r=0;o<h;r++)t=s.charCodeAt(r),(t&64512)===55296&&r+1<c&&(n=s.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const gH=(s,e)=>{if(e<65534&&s.subarray&&tI)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(s[n]);return t};var xH=(s,e)=>{const t=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let n,r;const o=new Array(t*2);for(r=0,n=0;n<t;){let c=s[n++];if(c<128){o[r++]=c;continue}let h=fg[c];if(h>4){o[r++]=65533,n+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&n<t;)c=c<<6|s[n++]&63,h--;if(h>1){o[r++]=65533;continue}c<65536?o[r++]=c:(c-=65536,o[r++]=55296|c>>10&1023,o[r++]=56320|c&1023)}return gH(o,r)},vH=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let t=e-1;for(;t>=0&&(s[t]&192)===128;)t--;return t<0||t===0?e:t+fg[s[t]]>e?t:e},Cb={string2buf:pH,buf2string:xH,utf8border:vH};function yH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bH=yH;const z0=16209,wH=16191;var jH=function(e,t){let n,r,o,c,h,u,f,A,m,x,g,b,I,N,S,E,F,L,O,H,Q,D,R,K;const P=e.state;n=e.next_in,R=e.input,r=n+(e.avail_in-5),o=e.next_out,K=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),u=P.dmax,f=P.wsize,A=P.whave,m=P.wnext,x=P.window,g=P.hold,b=P.bits,I=P.lencode,N=P.distcode,S=(1<<P.lenbits)-1,E=(1<<P.distbits)-1;e:do{b<15&&(g+=R[n++]<<b,b+=8,g+=R[n++]<<b,b+=8),F=I[g&S];t:for(;;){if(L=F>>>24,g>>>=L,b-=L,L=F>>>16&255,L===0)K[o++]=F&65535;else if(L&16){O=F&65535,L&=15,L&&(b<L&&(g+=R[n++]<<b,b+=8),O+=g&(1<<L)-1,g>>>=L,b-=L),b<15&&(g+=R[n++]<<b,b+=8,g+=R[n++]<<b,b+=8),F=N[g&E];s:for(;;){if(L=F>>>24,g>>>=L,b-=L,L=F>>>16&255,L&16){if(H=F&65535,L&=15,b<L&&(g+=R[n++]<<b,b+=8,b<L&&(g+=R[n++]<<b,b+=8)),H+=g&(1<<L)-1,H>u){e.msg="invalid distance too far back",P.mode=z0;break e}if(g>>>=L,b-=L,L=o-c,H>L){if(L=H-L,L>A&&P.sane){e.msg="invalid distance too far back",P.mode=z0;break e}if(Q=0,D=x,m===0){if(Q+=f-L,L<O){O-=L;do K[o++]=x[Q++];while(--L);Q=o-H,D=K}}else if(m<L){if(Q+=f+m-L,L-=m,L<O){O-=L;do K[o++]=x[Q++];while(--L);if(Q=0,m<O){L=m,O-=L;do K[o++]=x[Q++];while(--L);Q=o-H,D=K}}}else if(Q+=m-L,L<O){O-=L;do K[o++]=x[Q++];while(--L);Q=o-H,D=K}for(;O>2;)K[o++]=D[Q++],K[o++]=D[Q++],K[o++]=D[Q++],O-=3;O&&(K[o++]=D[Q++],O>1&&(K[o++]=D[Q++]))}else{Q=o-H;do K[o++]=K[Q++],K[o++]=K[Q++],K[o++]=K[Q++],O-=3;while(O>2);O&&(K[o++]=K[Q++],O>1&&(K[o++]=K[Q++]))}}else if((L&64)===0){F=N[(F&65535)+(g&(1<<L)-1)];continue s}else{e.msg="invalid distance code",P.mode=z0;break e}break}}else if((L&64)===0){F=I[(F&65535)+(g&(1<<L)-1)];continue t}else if(L&32){P.mode=wH;break e}else{e.msg="invalid literal/length code",P.mode=z0;break e}break}}while(n<r&&o<h);O=b>>3,n-=O,b-=O<<3,g&=(1<<b)-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=o<h?257+(h-o):257-(o-h),P.hold=g,P.bits=b};const Qf=15,AC=852,cC=592,uC=0,n1=1,dC=2,BH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),CH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),SH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),EH=(s,e,t,n,r,o,c,h)=>{const u=h.bits;let f=0,A=0,m=0,x=0,g=0,b=0,I=0,N=0,S=0,E=0,F,L,O,H,Q,D=null,R;const K=new Uint16Array(Qf+1),P=new Uint16Array(Qf+1);let V=null,$,ae,de;for(f=0;f<=Qf;f++)K[f]=0;for(A=0;A<n;A++)K[e[t+A]]++;for(g=u,x=Qf;x>=1&&K[x]===0;x--);if(g>x&&(g=x),x===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,h.bits=1,0;for(m=1;m<x&&K[m]===0;m++);for(g<m&&(g=m),N=1,f=1;f<=Qf;f++)if(N<<=1,N-=K[f],N<0)return-1;if(N>0&&(s===uC||x!==1))return-1;for(P[1]=0,f=1;f<Qf;f++)P[f+1]=P[f]+K[f];for(A=0;A<n;A++)e[t+A]!==0&&(c[P[e[t+A]]++]=A);if(s===uC?(D=V=c,R=20):s===n1?(D=BH,V=CH,R=257):(D=SH,V=NH,R=0),E=0,A=0,f=m,Q=o,b=g,I=0,O=-1,S=1<<g,H=S-1,s===n1&&S>AC||s===dC&&S>cC)return 1;for(;;){$=f-I,c[A]+1<R?(ae=0,de=c[A]):c[A]>=R?(ae=V[c[A]-R],de=D[c[A]-R]):(ae=96,de=0),F=1<<f-I,L=1<<b,m=L;do L-=F,r[Q+(E>>I)+L]=$<<24|ae<<16|de|0;while(L!==0);for(F=1<<f-1;E&F;)F>>=1;if(F!==0?(E&=F-1,E+=F):E=0,A++,--K[f]===0){if(f===x)break;f=e[t+c[A]]}if(f>g&&(E&H)!==O){for(I===0&&(I=g),Q+=m,b=f-I,N=1<<b;b+I<x&&(N-=K[b+I],!(N<=0));)b++,N<<=1;if(S+=1<<b,s===n1&&S>AC||s===dC&&S>cC)return 1;O=E&H,r[O]=g<<24|b<<16|Q-o|0}}return E!==0&&(r[Q+E]=f-I<<24|64<<16|0),h.bits=g,0};var Gp=EH;const TH=0,sI=1,nI=2,{Z_FINISH:hC,Z_BLOCK:IH,Z_TREES:G0,Z_OK:tf,Z_STREAM_END:_H,Z_NEED_DICT:FH,Z_STREAM_ERROR:QA,Z_DATA_ERROR:rI,Z_MEM_ERROR:aI,Z_BUF_ERROR:UH,Z_DEFLATED:fC}=ZT,Hv=16180,mC=16181,pC=16182,gC=16183,xC=16184,vC=16185,yC=16186,bC=16187,wC=16188,jC=16189,sv=16190,vu=16191,r1=16192,BC=16193,a1=16194,CC=16195,SC=16196,NC=16197,EC=16198,$0=16199,Y0=16200,TC=16201,IC=16202,_C=16203,FC=16204,UC=16205,i1=16206,DC=16207,RC=16208,Ra=16209,iI=16210,oI=16211,DH=852,RH=592,LH=15,QH=LH,LC=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function OH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lf=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<Hv||e.mode>oI?1:0},lI=s=>{if(lf(s))return QA;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=Hv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(DH),e.distcode=e.distdyn=new Int32Array(RH),e.sane=1,e.back=-1,tf},AI=s=>{if(lf(s))return QA;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,lI(s)},cI=(s,e)=>{let t;if(lf(s))return QA;const n=s.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?QA:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,AI(s))},uI=(s,e)=>{if(!s)return QA;const t=new OH;s.state=t,t.strm=s,t.window=null,t.mode=Hv;const n=cI(s,e);return n!==tf&&(s.state=null),n},PH=s=>uI(s,QH);let QC=!0,o1,l1;const kH=s=>{if(QC){o1=new Int32Array(512),l1=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(Gp(sI,s.lens,0,288,o1,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;Gp(nI,s.lens,0,32,l1,0,s.work,{bits:5}),QC=!1}s.lencode=o1,s.lenbits=9,s.distcode=l1,s.distbits=5},dI=(s,e,t,n)=>{let r;const o=s.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>n&&(r=n),o.window.set(e.subarray(t-n,t-n+r),o.wnext),n-=r,n?(o.window.set(e.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},MH=(s,e)=>{let t,n,r,o,c,h,u,f,A,m,x,g,b,I,N=0,S,E,F,L,O,H,Q,D;const R=new Uint8Array(4);let K,P;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lf(s)||!s.output||!s.input&&s.avail_in!==0)return QA;t=s.state,t.mode===vu&&(t.mode=r1),c=s.next_out,r=s.output,u=s.avail_out,o=s.next_in,n=s.input,h=s.avail_in,f=t.hold,A=t.bits,m=h,x=u,D=tf;e:for(;;)switch(t.mode){case Hv:if(t.wrap===0){t.mode=r1;break}for(;A<16;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=f&255,R[1]=f>>>8&255,t.check=Lc(t.check,R,2,0),f=0,A=0,t.mode=mC;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){s.msg="incorrect header check",t.mode=Ra;break}if((f&15)!==fC){s.msg="unknown compression method",t.mode=Ra;break}if(f>>>=4,A-=4,Q=(f&15)+8,t.wbits===0&&(t.wbits=Q),Q>15||Q>t.wbits){s.msg="invalid window size",t.mode=Ra;break}t.dmax=1<<t.wbits,t.flags=0,s.adler=t.check=1,t.mode=f&512?jC:vu,f=0,A=0;break;case mC:for(;A<16;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(t.flags=f,(t.flags&255)!==fC){s.msg="unknown compression method",t.mode=Ra;break}if(t.flags&57344){s.msg="unknown header flags set",t.mode=Ra;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Lc(t.check,R,2,0)),f=0,A=0,t.mode=pC;case pC:for(;A<32;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,t.check=Lc(t.check,R,4,0)),f=0,A=0,t.mode=gC;case gC:for(;A<16;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Lc(t.check,R,2,0)),f=0,A=0,t.mode=xC;case xC:if(t.flags&1024){for(;A<16;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Lc(t.check,R,2,0)),f=0,A=0}else t.head&&(t.head.extra=null);t.mode=vC;case vC:if(t.flags&1024&&(g=t.length,g>h&&(g=h),g&&(t.head&&(Q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+g),Q)),t.flags&512&&t.wrap&4&&(t.check=Lc(t.check,n,g,o)),h-=g,o+=g,t.length-=g),t.length))break e;t.length=0,t.mode=yC;case yC:if(t.flags&2048){if(h===0)break e;g=0;do Q=n[o+g++],t.head&&Q&&t.length<65536&&(t.head.name+=String.fromCharCode(Q));while(Q&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Lc(t.check,n,g,o)),h-=g,o+=g,Q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=bC;case bC:if(t.flags&4096){if(h===0)break e;g=0;do Q=n[o+g++],t.head&&Q&&t.length<65536&&(t.head.comment+=String.fromCharCode(Q));while(Q&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Lc(t.check,n,g,o)),h-=g,o+=g,Q)break e}else t.head&&(t.head.comment=null);t.mode=wC;case wC:if(t.flags&512){for(;A<16;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.check&65535)){s.msg="header crc mismatch",t.mode=Ra;break}f=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),s.adler=t.check=0,t.mode=vu;break;case jC:for(;A<32;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}s.adler=t.check=LC(f),f=0,A=0,t.mode=sv;case sv:if(t.havedict===0)return s.next_out=c,s.avail_out=u,s.next_in=o,s.avail_in=h,t.hold=f,t.bits=A,FH;s.adler=t.check=1,t.mode=vu;case vu:if(e===IH||e===G0)break e;case r1:if(t.last){f>>>=A&7,A-=A&7,t.mode=i1;break}for(;A<3;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}switch(t.last=f&1,f>>>=1,A-=1,f&3){case 0:t.mode=BC;break;case 1:if(kH(t),t.mode=$0,e===G0){f>>>=2,A-=2;break e}break;case 2:t.mode=SC;break;case 3:s.msg="invalid block type",t.mode=Ra}f>>>=2,A-=2;break;case BC:for(f>>>=A&7,A-=A&7;A<32;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if((f&65535)!==(f>>>16^65535)){s.msg="invalid stored block lengths",t.mode=Ra;break}if(t.length=f&65535,f=0,A=0,t.mode=a1,e===G0)break e;case a1:t.mode=CC;case CC:if(g=t.length,g){if(g>h&&(g=h),g>u&&(g=u),g===0)break e;r.set(n.subarray(o,o+g),c),h-=g,o+=g,u-=g,c+=g,t.length-=g;break}t.mode=vu;break;case SC:for(;A<14;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(t.nlen=(f&31)+257,f>>>=5,A-=5,t.ndist=(f&31)+1,f>>>=5,A-=5,t.ncode=(f&15)+4,f>>>=4,A-=4,t.nlen>286||t.ndist>30){s.msg="too many length or distance symbols",t.mode=Ra;break}t.have=0,t.mode=NC;case NC:for(;t.have<t.ncode;){for(;A<3;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}t.lens[V[t.have++]]=f&7,f>>>=3,A-=3}for(;t.have<19;)t.lens[V[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,K={bits:t.lenbits},D=Gp(TH,t.lens,0,19,t.lencode,0,t.work,K),t.lenbits=K.bits,D){s.msg="invalid code lengths set",t.mode=Ra;break}t.have=0,t.mode=EC;case EC:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[f&(1<<t.lenbits)-1],S=N>>>24,E=N>>>16&255,F=N&65535,!(S<=A);){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(F<16)f>>>=S,A-=S,t.lens[t.have++]=F;else{if(F===16){for(P=S+2;A<P;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(f>>>=S,A-=S,t.have===0){s.msg="invalid bit length repeat",t.mode=Ra;break}Q=t.lens[t.have-1],g=3+(f&3),f>>>=2,A-=2}else if(F===17){for(P=S+3;A<P;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}f>>>=S,A-=S,Q=0,g=3+(f&7),f>>>=3,A-=3}else{for(P=S+7;A<P;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}f>>>=S,A-=S,Q=0,g=11+(f&127),f>>>=7,A-=7}if(t.have+g>t.nlen+t.ndist){s.msg="invalid bit length repeat",t.mode=Ra;break}for(;g--;)t.lens[t.have++]=Q}}if(t.mode===Ra)break;if(t.lens[256]===0){s.msg="invalid code -- missing end-of-block",t.mode=Ra;break}if(t.lenbits=9,K={bits:t.lenbits},D=Gp(sI,t.lens,0,t.nlen,t.lencode,0,t.work,K),t.lenbits=K.bits,D){s.msg="invalid literal/lengths set",t.mode=Ra;break}if(t.distbits=6,t.distcode=t.distdyn,K={bits:t.distbits},D=Gp(nI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,K),t.distbits=K.bits,D){s.msg="invalid distances set",t.mode=Ra;break}if(t.mode=$0,e===G0)break e;case $0:t.mode=Y0;case Y0:if(h>=6&&u>=258){s.next_out=c,s.avail_out=u,s.next_in=o,s.avail_in=h,t.hold=f,t.bits=A,jH(s,x),c=s.next_out,r=s.output,u=s.avail_out,o=s.next_in,n=s.input,h=s.avail_in,f=t.hold,A=t.bits,t.mode===vu&&(t.back=-1);break}for(t.back=0;N=t.lencode[f&(1<<t.lenbits)-1],S=N>>>24,E=N>>>16&255,F=N&65535,!(S<=A);){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(E&&(E&240)===0){for(L=S,O=E,H=F;N=t.lencode[H+((f&(1<<L+O)-1)>>L)],S=N>>>24,E=N>>>16&255,F=N&65535,!(L+S<=A);){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}f>>>=L,A-=L,t.back+=L}if(f>>>=S,A-=S,t.back+=S,t.length=F,E===0){t.mode=UC;break}if(E&32){t.back=-1,t.mode=vu;break}if(E&64){s.msg="invalid literal/length code",t.mode=Ra;break}t.extra=E&15,t.mode=TC;case TC:if(t.extra){for(P=t.extra;A<P;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=IC;case IC:for(;N=t.distcode[f&(1<<t.distbits)-1],S=N>>>24,E=N>>>16&255,F=N&65535,!(S<=A);){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if((E&240)===0){for(L=S,O=E,H=F;N=t.distcode[H+((f&(1<<L+O)-1)>>L)],S=N>>>24,E=N>>>16&255,F=N&65535,!(L+S<=A);){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}f>>>=L,A-=L,t.back+=L}if(f>>>=S,A-=S,t.back+=S,E&64){s.msg="invalid distance code",t.mode=Ra;break}t.offset=F,t.extra=E&15,t.mode=_C;case _C:if(t.extra){for(P=t.extra;A<P;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){s.msg="invalid distance too far back",t.mode=Ra;break}t.mode=FC;case FC:if(u===0)break e;if(g=x-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){s.msg="invalid distance too far back",t.mode=Ra;break}g>t.wnext?(g-=t.wnext,b=t.wsize-g):b=t.wnext-g,g>t.length&&(g=t.length),I=t.window}else I=r,b=c-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do r[c++]=I[b++];while(--g);t.length===0&&(t.mode=Y0);break;case UC:if(u===0)break e;r[c++]=t.length,u--,t.mode=Y0;break;case i1:if(t.wrap){for(;A<32;){if(h===0)break e;h--,f|=n[o++]<<A,A+=8}if(x-=u,s.total_out+=x,t.total+=x,t.wrap&4&&x&&(s.adler=t.check=t.flags?Lc(t.check,r,x,c-x):jb(t.check,r,x,c-x)),x=u,t.wrap&4&&(t.flags?f:LC(f))!==t.check){s.msg="incorrect data check",t.mode=Ra;break}f=0,A=0}t.mode=DC;case DC:if(t.wrap&&t.flags){for(;A<32;){if(h===0)break e;h--,f+=n[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.total&4294967295)){s.msg="incorrect length check",t.mode=Ra;break}f=0,A=0}t.mode=RC;case RC:D=_H;break e;case Ra:D=rI;break e;case iI:return aI;case oI:default:return QA}return s.next_out=c,s.avail_out=u,s.next_in=o,s.avail_in=h,t.hold=f,t.bits=A,(t.wsize||x!==s.avail_out&&t.mode<Ra&&(t.mode<i1||e!==hC))&&dI(s,s.output,s.next_out,x-s.avail_out),m-=s.avail_in,x-=s.avail_out,s.total_in+=m,s.total_out+=x,t.total+=x,t.wrap&4&&x&&(s.adler=t.check=t.flags?Lc(t.check,r,x,s.next_out-x):jb(t.check,r,x,s.next_out-x)),s.data_type=t.bits+(t.last?64:0)+(t.mode===vu?128:0)+(t.mode===$0||t.mode===a1?256:0),(m===0&&x===0||e===hC)&&D===tf&&(D=UH),D},HH=s=>{if(lf(s))return QA;let e=s.state;return e.window&&(e.window=null),s.state=null,tf},VH=(s,e)=>{if(lf(s))return QA;const t=s.state;return(t.wrap&2)===0?QA:(t.head=e,e.done=!1,tf)},KH=(s,e)=>{const t=e.length;let n,r,o;return lf(s)||(n=s.state,n.wrap!==0&&n.mode!==sv)?QA:n.mode===sv&&(r=1,r=jb(r,e,t,0),r!==n.check)?rI:(o=dI(s,e,t,t),o?(n.mode=iI,aI):(n.havedict=1,tf))};var zH=AI,GH=cI,$H=lI,YH=PH,WH=uI,XH=MH,JH=HH,qH=VH,ZH=KH,e9="pako inflate (from Nodeca project)",bu={inflateReset:zH,inflateReset2:GH,inflateResetKeep:$H,inflateInit:YH,inflateInit2:WH,inflate:XH,inflateEnd:JH,inflateGetHeader:qH,inflateSetDictionary:ZH,inflateInfo:e9};function t9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var s9=t9;const hI=Object.prototype.toString,{Z_NO_FLUSH:n9,Z_FINISH:r9,Z_OK:mg,Z_STREAM_END:A1,Z_NEED_DICT:c1,Z_STREAM_ERROR:a9,Z_DATA_ERROR:OC,Z_MEM_ERROR:i9}=ZT;function Pg(s){this.options=eI.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bH,this.strm.avail_out=0;let t=bu.inflateInit2(this.strm,e.windowBits);if(t!==mg)throw new Error(Bb[t]);if(this.header=new s9,bu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Cb.string2buf(e.dictionary):hI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=bu.inflateSetDictionary(this.strm,e.dictionary),t!==mg)))throw new Error(Bb[t])}Pg.prototype.push=function(s,e){const t=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?r9:n9,hI.call(s)==="[object ArrayBuffer]"?t.input=new Uint8Array(s):t.input=s,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=bu.inflate(t,c),o===c1&&r&&(o=bu.inflateSetDictionary(t,r),o===mg?o=bu.inflate(t,c):o===OC&&(o=c1));t.avail_in>0&&o===A1&&t.state.wrap>0&&s[t.next_in]!==0;)bu.inflateReset(t),o=bu.inflate(t,c);switch(o){case a9:case OC:case c1:case i9:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===A1))if(this.options.to==="string"){let u=Cb.utf8border(t.output,t.next_out),f=t.next_out-u,A=Cb.buf2string(t.output,u);t.next_out=f,t.avail_out=n-f,f&&t.output.set(t.output.subarray(u,u+f),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===mg&&h===0)){if(o===A1)return o=bu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Pg.prototype.onData=function(s){this.chunks.push(s)};Pg.prototype.onEnd=function(s){s===mg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eI.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function o9(s,e){const t=new Pg(e);if(t.push(s),t.err)throw t.msg||Bb[t.err];return t.result}var l9=Pg,A9=o9,c9={Inflate:l9,inflate:A9};const{Inflate:u9,inflate:d9}=c9;var PC=u9,h9=d9;const fI=[];for(let s=0;s<256;s++){let e=s;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;fI[s]=e}const kC=4294967295;function f9(s,e,t){let n=s;for(let r=0;r<t;r++)n=fI[(n^e[r])&255]^n>>>8;return n}function m9(s,e){return(f9(kC,s,e)^kC)>>>0}function MC(s,e,t){const n=s.readUint32(),r=m9(new Uint8Array(s.buffer,s.byteOffset+s.offset-e-4,e),e);if(r!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${r}`)}function mI(s,e,t){for(let n=0;n<t;n++)e[n]=s[n]}function pI(s,e,t,n){let r=0;for(;r<n;r++)e[r]=s[r];for(;r<t;r++)e[r]=s[r]+e[r-n]&255}function gI(s,e,t,n){let r=0;if(t.length===0)for(;r<n;r++)e[r]=s[r];else for(;r<n;r++)e[r]=s[r]+t[r]&255}function xI(s,e,t,n,r){let o=0;if(t.length===0){for(;o<r;o++)e[o]=s[o];for(;o<n;o++)e[o]=s[o]+(e[o-r]>>1)&255}else{for(;o<r;o++)e[o]=s[o]+(t[o]>>1)&255;for(;o<n;o++)e[o]=s[o]+(e[o-r]+t[o]>>1)&255}}function vI(s,e,t,n,r){let o=0;if(t.length===0){for(;o<r;o++)e[o]=s[o];for(;o<n;o++)e[o]=s[o]+e[o-r]&255}else{for(;o<r;o++)e[o]=s[o]+t[o]&255;for(;o<n;o++)e[o]=s[o]+p9(e[o-r],t[o],t[o-r])&255}}function p9(s,e,t){const n=s+e-t,r=Math.abs(n-s),o=Math.abs(n-e),c=Math.abs(n-t);return r<=o&&r<=c?s:o<=c?e:t}function g9(s,e,t,n,r,o){switch(s){case 0:mI(e,t,r);break;case 1:pI(e,t,r,o);break;case 2:gI(e,t,n,r);break;case 3:xI(e,t,n,r,o);break;case 4:vI(e,t,n,r,o);break;default:throw new Error(`Unsupported filter: ${s}`)}}const x9=new Uint16Array([255]),v9=new Uint8Array(x9.buffer),y9=v9[0]===255;function b9(s){const{data:e,width:t,height:n,channels:r,depth:o}=s,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*r,u=new Uint8Array(n*t*h);let f=0;for(let A=0;A<7;A++){const m=c[A],x=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(x<=0||g<=0)continue;const b=x*h,I=new Uint8Array(b);for(let N=0;N<g;N++){const S=e[f++],E=e.subarray(f,f+b);f+=b;const F=new Uint8Array(b);g9(S,E,F,I,b,h),I.set(F);for(let L=0;L<x;L++){const O=m.x+L*m.xStep,H=m.y+N*m.yStep;if(!(O>=t||H>=n))for(let Q=0;Q<h;Q++)u[(H*t+O)*h+Q]=F[L*h+Q]}}}if(o===16){const A=new Uint16Array(u.buffer);if(y9)for(let m=0;m<A.length;m++)A[m]=w9(A[m]);return A}else return u}function w9(s){return(s&255)<<8|s>>8&255}const j9=new Uint16Array([255]),B9=new Uint8Array(j9.buffer),C9=B9[0]===255,S9=new Uint8Array(0);function HC(s){const{data:e,width:t,height:n,channels:r,depth:o}=s,c=Math.ceil(o/8)*r,h=Math.ceil(o/8*r*t),u=new Uint8Array(n*h);let f=S9,A=0,m,x;for(let g=0;g<n;g++){switch(m=e.subarray(A+1,A+1+h),x=u.subarray(g*h,(g+1)*h),e[A]){case 0:mI(m,x,h);break;case 1:pI(m,x,h,c);break;case 2:gI(m,x,f,h);break;case 3:xI(m,x,f,h,c);break;case 4:vI(m,x,f,h,c);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}f=x,A+=h+1}if(o===16){const g=new Uint16Array(u.buffer);if(C9)for(let b=0;b<g.length;b++)g[b]=N9(g[b]);return g}else return u}function N9(s){return(s&255)<<8|s>>8&255}const yx=Uint8Array.of(137,80,78,71,13,10,26,10);function VC(s){if(!E9(s.readBytes(yx.length)))throw new Error("wrong PNG signature")}function E9(s){if(s.length<yx.length)return!1;for(let e=0;e<yx.length;e++)if(s[e]!==yx[e])return!1;return!0}const T9="tEXt",I9=0,yI=new TextDecoder("latin1");function _9(s){if(U9(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const F9=/^[\u0000-\u00FF]*$/;function U9(s){if(!F9.test(s))throw new Error("invalid latin1 text")}function D9(s,e,t){const n=bI(e);s[n]=R9(e,t-n.length-1)}function bI(s){for(s.mark();s.readByte()!==I9;);const e=s.offset;s.reset();const t=yI.decode(s.readBytes(e-s.offset-1));return s.skip(1),_9(t),t}function R9(s,e){return yI.decode(s.readBytes(e))}const nA={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},u1={UNKNOWN:-1,DEFLATE:0},KC={UNKNOWN:-1,ADAPTIVE:0},d1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},W0={NONE:0,BACKGROUND:1,PREVIOUS:2},h1={SOURCE:0,OVER:1};class L9 extends d2{constructor(t,n={}){super(t);Mr(this,"_checkCrc");Mr(this,"_inflator");Mr(this,"_png");Mr(this,"_apng");Mr(this,"_end");Mr(this,"_hasPalette");Mr(this,"_palette");Mr(this,"_hasTransparency");Mr(this,"_transparency");Mr(this,"_compressionMethod");Mr(this,"_filterMethod");Mr(this,"_interlaceMethod");Mr(this,"_colorType");Mr(this,"_isAnimated");Mr(this,"_numberOfFrames");Mr(this,"_numberOfPlays");Mr(this,"_frames");Mr(this,"_writingDataChunks");const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new PC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=u1.UNKNOWN,this._filterMethod=KC.UNKNOWN,this._interlaceMethod=d1.UNKNOWN,this._colorType=nA.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(VC(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(VC(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case T9:D9(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?MC(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?MC(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Q9(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case nA.GREYSCALE:r=1;break;case nA.TRUECOLOUR:r=3;break;case nA.INDEXED_COLOUR:r=1;break;case nA.GREYSCALE_ALPHA:r=2;break;case nA.TRUECOLOUR_ALPHA:r=4;break;case nA.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==u1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let o=0;o<n;o++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case nA.GREYSCALE:case nA.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case nA.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case nA.UNKNOWN:case nA.GREYSCALE_ALPHA:case nA.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=bI(this),r=this.readUint8();if(r!==u1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const o=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:h9(o)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=HC({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(r,o,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,r){switch(t.disposeOp){case W0.NONE:break;case W0.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const h=(o*t.width+c)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[h+u]=0}break;case W0.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const r=1<<this._png.depth,o=(c,h)=>{const u=((c+n.yOffset)*this._png.width+n.xOffset+h)*this._png.channels,f=(c*n.width+h)*this._png.channels;return{index:u,frameIndex:f}};switch(n.blendOp){case h1.SOURCE:for(let c=0;c<n.height;c++)for(let h=0;h<n.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++)t.data[u+A]=n.data[f+A]}break;case h1.OVER:for(let c=0;c<n.height;c++)for(let h=0;h<n.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++){const m=n.data[f+this._png.channels-1]/r,x=A%(this._png.channels-1)===0?1:n.data[f+A],g=Math.floor(m*x+(1-m)*t.data[u+A]);t.data[u+A]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==KC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===d1.NO_INTERLACE)this._png.data=HC({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===d1.ADAM7)this._png.data=b9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:W0.NONE,blendOp:h1.SOURCE,data:t}),this._inflator=new PC,this._writingDataChunks=!1}}function Q9(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var zC;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(zC||(zC={}));function O9(s,e){return new L9(s,e).decode()}var cn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f1(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var ta={log:f1,warn:function(s){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):f1.call(null,arguments))},error:function(s){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):f1(s))}};function m1(s,e,t){var n=new XMLHttpRequest;n.open("GET",s),n.responseType="blob",n.onload=function(){Dh(n.response,e,t)},n.onerror=function(){ta.error("could not download file")},n.send()}function GC(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function X0(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var Dh=cn.saveAs||((typeof window>"u"?"undefined":Hr(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,e,t){var n=cn.URL||cn.webkitURL,r=document.createElement("a");e=e||s.name||"download",r.download=e,r.rel="noopener",typeof s=="string"?(r.href=s,r.origin!==location.origin?GC(r.href)?m1(s,e,t):X0(r,r.target="_blank"):X0(r)):(r.href=n.createObjectURL(s),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){X0(r)},0))}:"msSaveOrOpenBlob"in navigator?function(s,e,t){if(e=e||s.name||"download",typeof s=="string")if(GC(s))m1(s,e,t);else{var n=document.createElement("a");n.href=s,n.target="_blank",setTimeout(function(){X0(n)})}else navigator.msSaveOrOpenBlob((function(r,o){return o===void 0?o={autoBom:!1}:Hr(o)!=="object"&&(ta.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(s,t),e)}:function(s,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof s=="string")return m1(s,e,t);var r=s.type==="application/octet-stream",o=/constructor/i.test(cn.HTMLElement)||cn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&o)&&(typeof FileReader>"u"?"undefined":Hr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var A=h.result;A=c?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=A:location=A,n=null},h.readAsDataURL(s)}else{var u=cn.URL||cn.webkitURL,f=u.createObjectURL(s);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wI(s){var e;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],n=0;n<t.length;n++){var r=t[n].re,o=t[n].process,c=r.exec(s);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+h+u+f}}var bx=cn.atob.bind(cn),$C=cn.btoa.bind(cn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p1(s,e){var t=s[0],n=s[1],r=s[2],o=s[3];t=qo(t,n,r,o,e[0],7,-680876936),o=qo(o,t,n,r,e[1],12,-389564586),r=qo(r,o,t,n,e[2],17,606105819),n=qo(n,r,o,t,e[3],22,-1044525330),t=qo(t,n,r,o,e[4],7,-176418897),o=qo(o,t,n,r,e[5],12,1200080426),r=qo(r,o,t,n,e[6],17,-1473231341),n=qo(n,r,o,t,e[7],22,-45705983),t=qo(t,n,r,o,e[8],7,1770035416),o=qo(o,t,n,r,e[9],12,-1958414417),r=qo(r,o,t,n,e[10],17,-42063),n=qo(n,r,o,t,e[11],22,-1990404162),t=qo(t,n,r,o,e[12],7,1804603682),o=qo(o,t,n,r,e[13],12,-40341101),r=qo(r,o,t,n,e[14],17,-1502002290),t=Zo(t,n=qo(n,r,o,t,e[15],22,1236535329),r,o,e[1],5,-165796510),o=Zo(o,t,n,r,e[6],9,-1069501632),r=Zo(r,o,t,n,e[11],14,643717713),n=Zo(n,r,o,t,e[0],20,-373897302),t=Zo(t,n,r,o,e[5],5,-701558691),o=Zo(o,t,n,r,e[10],9,38016083),r=Zo(r,o,t,n,e[15],14,-660478335),n=Zo(n,r,o,t,e[4],20,-405537848),t=Zo(t,n,r,o,e[9],5,568446438),o=Zo(o,t,n,r,e[14],9,-1019803690),r=Zo(r,o,t,n,e[3],14,-187363961),n=Zo(n,r,o,t,e[8],20,1163531501),t=Zo(t,n,r,o,e[13],5,-1444681467),o=Zo(o,t,n,r,e[2],9,-51403784),r=Zo(r,o,t,n,e[7],14,1735328473),t=el(t,n=Zo(n,r,o,t,e[12],20,-1926607734),r,o,e[5],4,-378558),o=el(o,t,n,r,e[8],11,-2022574463),r=el(r,o,t,n,e[11],16,1839030562),n=el(n,r,o,t,e[14],23,-35309556),t=el(t,n,r,o,e[1],4,-1530992060),o=el(o,t,n,r,e[4],11,1272893353),r=el(r,o,t,n,e[7],16,-155497632),n=el(n,r,o,t,e[10],23,-1094730640),t=el(t,n,r,o,e[13],4,681279174),o=el(o,t,n,r,e[0],11,-358537222),r=el(r,o,t,n,e[3],16,-722521979),n=el(n,r,o,t,e[6],23,76029189),t=el(t,n,r,o,e[9],4,-640364487),o=el(o,t,n,r,e[12],11,-421815835),r=el(r,o,t,n,e[15],16,530742520),t=tl(t,n=el(n,r,o,t,e[2],23,-995338651),r,o,e[0],6,-198630844),o=tl(o,t,n,r,e[7],10,1126891415),r=tl(r,o,t,n,e[14],15,-1416354905),n=tl(n,r,o,t,e[5],21,-57434055),t=tl(t,n,r,o,e[12],6,1700485571),o=tl(o,t,n,r,e[3],10,-1894986606),r=tl(r,o,t,n,e[10],15,-1051523),n=tl(n,r,o,t,e[1],21,-2054922799),t=tl(t,n,r,o,e[8],6,1873313359),o=tl(o,t,n,r,e[15],10,-30611744),r=tl(r,o,t,n,e[6],15,-1560198380),n=tl(n,r,o,t,e[13],21,1309151649),t=tl(t,n,r,o,e[4],6,-145523070),o=tl(o,t,n,r,e[11],10,-1120210379),r=tl(r,o,t,n,e[2],15,718787259),n=tl(n,r,o,t,e[9],21,-343485551),s[0]=_d(t,s[0]),s[1]=_d(n,s[1]),s[2]=_d(r,s[2]),s[3]=_d(o,s[3])}function Vv(s,e,t,n,r,o){return e=_d(_d(e,s),_d(n,o)),_d(e<<r|e>>>32-r,t)}function qo(s,e,t,n,r,o,c){return Vv(e&t|~e&n,s,e,r,o,c)}function Zo(s,e,t,n,r,o,c){return Vv(e&n|t&~n,s,e,r,o,c)}function el(s,e,t,n,r,o,c){return Vv(e^t^n,s,e,r,o,c)}function tl(s,e,t,n,r,o,c){return Vv(t^(e|~n),s,e,r,o,c)}function jI(s){var e,t=s.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s.length;e+=64)p1(n,P9(s.substring(e-64,e)));s=s.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s.length;e++)r[e>>2]|=s.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(p1(n,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,p1(n,r),n}function P9(s){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return t}var YC="0123456789abcdef".split("");function k9(s){for(var e="",t=0;t<4;t++)e+=YC[s>>8*t+4&15]+YC[s>>8*t&15];return e}function M9(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function Sb(s){return jI(s).map(M9).join("")}var H9=(function(s){for(var e=0;e<s.length;e++)s[e]=k9(s[e]);return s.join("")})(jI("hello"))!="5d41402abc4b2a76b9719d911017c592";function _d(s,e){if(H9){var t=(65535&s)+(65535&e);return(s>>16)+(e>>16)+(t>>16)<<16|65535&t}return s+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nb(s,e){var t,n,r,o;if(s!==t){for(var c=(r=s,o=1+(256/s.length|0),new Array(o+1).join(r)),h=[],u=0;u<256;u++)h[u]=u;var f=0;for(u=0;u<256;u++){var A=h[u];f=(f+A+c.charCodeAt(u))%256,h[u]=h[f],h[f]=A}t=s,n=h}else h=n;var m=e.length,x=0,g=0,b="";for(u=0;u<m;u++)g=(g+(A=h[x=(x+1)%256]))%256,h[x]=h[g],h[g]=A,c=h[(h[x]+h[g])%256],b+=String.fromCharCode(e.charCodeAt(u)^c);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WC={print:4,modify:8,copy:16,"annot-forms":32};function Kf(s,e,t,n){this.v=1,this.r=2;var r=192;s.forEach(function(h){if(WC.perm!==void 0)throw new Error("Invalid permission: "+h);r+=WC[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^r)),this.encryptionKey=Sb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Nb(this.encryptionKey,this.padding)}function zf(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var e="",t=s.length,n=0;n<t;n++){var r=s.charCodeAt(n);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):s[n]}return e}function XC(s){if(Hr(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,typeof t!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!r],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(s,n)}catch(h){cn.console&&ta.error("jsPDF PubSub Error",h.message,h)}c[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pg(s){if(!(this instanceof pg))return new pg(s);var e="opacity,stroke-opacity".split(",");for(var t in s)s.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=s[t]);this.id="",this.objectNumber=-1}function BI(s,e){this.gState=s,this.matrix=e,this.id="",this.objectNumber=-1}function Ed(s,e,t,n,r){if(!(this instanceof Ed))return new Ed(s,e,t,n,r);this.type=s==="axial"?2:3,this.coords=e,this.colors=t,BI.call(this,n,r)}function Qh(s,e,t,n,r){if(!(this instanceof Qh))return new Qh(s,e,t,n,r);this.boundingBox=s,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,BI.call(this,n,r)}function Qs(s){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],o=arguments[3],c=[],h=1,u=16,f="S",A=null;Hr(s=s||{})==="object"&&(t=s.orientation,n=s.unit||n,r=s.format||r,o=s.compress||s.compressPdf||o,(A=s.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),h=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(e=s.precision),s.floatPrecision!==void 0&&(u=s.floatPrecision),f=s.defaultPathOperation||"S"),c=s.filters||(o===!0?["FlateEncode"]:c),n=n||"mm",t=(""+(t||"P")).toLowerCase();var m=s.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=XC;var b="1.3",I=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(k){b=k};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var S=g.__private__.getPageFormat=function(k){return N[k]};r=r||"a4";var E="compat",F="advanced",L=E;function O(){this.saveGraphicsState(),he(new es(dt,0,0,-dt,0,mo()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),f="n",L=F}function H(){this.restoreGraphicsState(),f="S",L=E}var Q=g.__private__.combineFontStyleAndFontWeight=function(k,Ae){if(k=="bold"&&Ae=="normal"||k=="bold"&&Ae==400||k=="normal"&&Ae=="italic"||k=="bold"&&Ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ae&&(k=Ae==400||Ae==="normal"?k==="italic"?"italic":"normal":Ae!=700&&Ae!=="bold"||k!=="normal"?(Ae==700?"bold":Ae)+""+k:"bold"),k};g.advancedAPI=function(k){var Ae=L===E;return Ae&&O.call(this),typeof k!="function"||(k(this),Ae&&H.call(this)),this},g.compatAPI=function(k){var Ae=L===F;return Ae&&H.call(this),typeof k!="function"||(k(this),Ae&&O.call(this)),this},g.isAdvancedAPI=function(){return L===F};var D,R=function(k){if(L!==F)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(k,Ae){var Te=e||Ae;if(isNaN(k)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Te).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof u=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return K(k,u)}:u==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return K(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return K(k,16)};var P=g.f2=g.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return K(k,2)},V=g.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return K(k,3)},$=g.scale=g.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return L===E?k*dt:L===F?k:void 0},ae=function(k){return $((function(Ae){return L===E?mo()-Ae:L===F?Ae:void 0})(k))};g.__private__.setPrecision=g.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var de,re="00000000000000000000000000000000",W=g.__private__.getFileId=function(){return re},J=g.__private__.setFileId=function(k){return re=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(ln=new Kf(A.userPermissions,A.userPassword,A.ownerPassword,re)),re};g.setFileId=function(k){return J(k),this},g.getFileId=function(){return W()};var oe=g.__private__.convertDateToPDFDate=function(k){var Ae=k.getTimezoneOffset(),Te=Ae<0?"+":"-",De=Math.floor(Math.abs(Ae/60)),Ke=Math.abs(Ae%60),gt=[Te,ie(De),"'",ie(Ke),"'"].join("");return["D:",k.getFullYear(),ie(k.getMonth()+1),ie(k.getDate()),ie(k.getHours()),ie(k.getMinutes()),ie(k.getSeconds()),gt].join("")},xe=g.__private__.convertPDFDateToDate=function(k){var Ae=parseInt(k.substr(2,4),10),Te=parseInt(k.substr(6,2),10)-1,De=parseInt(k.substr(8,2),10),Ke=parseInt(k.substr(10,2),10),gt=parseInt(k.substr(12,2),10),_t=parseInt(k.substr(14,2),10);return new Date(Ae,Te,De,Ke,gt,_t,0)},ee=g.__private__.setCreationDate=function(k){var Ae;if(k===void 0&&(k=new Date),k instanceof Date)Ae=oe(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ae=k}return de=Ae},M=g.__private__.getCreationDate=function(k){var Ae=de;return k==="jsDate"&&(Ae=xe(de)),Ae};g.setCreationDate=function(k){return ee(k),this},g.getCreationDate=function(k){return M(k)};var X,ie=g.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},le=g.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ce=0,ye=[],Ne=[],ge=0,Se=[],Fe=[],Le=!1,qe=Ne;g.__private__.setCustomOutputDestination=function(k){Le=!0,qe=k};var Oe=function(k){Le||(qe=k)};g.__private__.resetCustomOutputDestination=function(){Le=!1,qe=Ne};var he=g.__private__.out=function(k){return k=k.toString(),ge+=k.length+1,qe.push(k),qe},et=g.__private__.write=function(k){return he(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},wt=g.__private__.getArrayBuffer=function(k){for(var Ae=k.length,Te=new ArrayBuffer(Ae),De=new Uint8Array(Te);Ae--;)De[Ae]=k.charCodeAt(Ae);return Te},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return at};var Ye=s.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(k){return Ye=L===F?k/dt:k,this};var Ut,Lt=g.__private__.getFontSize=g.getFontSize=function(){return L===E?Ye:Ye*dt},Wt=s.R2L||!1;g.__private__.setR2L=g.setR2L=function(k){return Wt=k,this},g.__private__.getR2L=g.getR2L=function(){return Wt};var $t,ss=g.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Ut=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Ut=k}else Ut=parseInt(k,10)};g.__private__.getZoomMode=function(){return Ut};var ns,Je=g.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');$t=k};g.__private__.getPageMode=function(){return $t};var Ht=g.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');ns=k};g.__private__.getLayoutMode=function(){return ns},g.__private__.setDisplayMode=g.setDisplayMode=function(k,Ae,Te){return ss(k),Ht(Ae),Je(Te),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(k){if(Object.keys(Vt).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[k]},g.__private__.getDocumentProperties=function(){return Vt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(k){for(var Ae in Vt)Vt.hasOwnProperty(Ae)&&k[Ae]&&(Vt[Ae]=k[Ae]);return this},g.__private__.setDocumentProperty=function(k,Ae){if(Object.keys(Vt).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[k]=Ae};var Mt,dt,Nt,Es,Me,ut={},ze={},At=[],mt={},Ot={},Et={},Gt={},xs=null,Tt=0,pt=[],Pt=new XC(g),qt=s.hotfixes||[],os={},Os={},wn=[],es=function k(Ae,Te,De,Ke,gt,_t){if(!(this instanceof k))return new k(Ae,Te,De,Ke,gt,_t);isNaN(Ae)&&(Ae=1),isNaN(Te)&&(Te=0),isNaN(De)&&(De=0),isNaN(Ke)&&(Ke=1),isNaN(gt)&&(gt=0),isNaN(_t)&&(_t=0),this._matrix=[Ae,Te,De,Ke,gt,_t]};Object.defineProperty(es.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(es.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(es.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(es.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(es.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(es.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(es.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(es.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(es.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(es.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(es.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(es.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(es.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(es.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(es.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(es.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),es.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(k)},es.prototype.multiply=function(k){var Ae=k.sx*this.sx+k.shy*this.shx,Te=k.sx*this.shy+k.shy*this.sy,De=k.shx*this.sx+k.sy*this.shx,Ke=k.shx*this.shy+k.sy*this.sy,gt=k.tx*this.sx+k.ty*this.shx+this.tx,_t=k.tx*this.shy+k.ty*this.sy+this.ty;return new es(Ae,Te,De,Ke,gt,_t)},es.prototype.decompose=function(){var k=this.sx,Ae=this.shy,Te=this.shx,De=this.sy,Ke=this.tx,gt=this.ty,_t=Math.sqrt(k*k+Ae*Ae),vs=(k/=_t)*Te+(Ae/=_t)*De;Te-=k*vs,De-=Ae*vs;var Bs=Math.sqrt(Te*Te+De*De);return vs/=Bs,k*(De/=Bs)<Ae*(Te/=Bs)&&(k=-k,Ae=-Ae,vs=-vs,_t=-_t),{scale:new es(_t,0,0,Bs,0,0),translate:new es(1,0,0,1,Ke,gt),rotate:new es(k,Ae,-Ae,k,0,0),skew:new es(1,0,vs,1,0,0)}},es.prototype.toString=function(k){return this.join(" ")},es.prototype.inversed=function(){var k=this.sx,Ae=this.shy,Te=this.shx,De=this.sy,Ke=this.tx,gt=this.ty,_t=1/(k*De-Ae*Te),vs=De*_t,Bs=-Ae*_t,Ps=-Te*_t,Us=k*_t;return new es(vs,Bs,Ps,Us,-vs*Ke-Ps*gt,-Bs*Ke-Us*gt)},es.prototype.applyToPoint=function(k){var Ae=k.x*this.sx+k.y*this.shx+this.tx,Te=k.x*this.shy+k.y*this.sy+this.ty;return new Ur(Ae,Te)},es.prototype.applyToRectangle=function(k){var Ae=this.applyToPoint(k),Te=this.applyToPoint(new Ur(k.x+k.w,k.y+k.h));return new Bn(Ae.x,Ae.y,Te.x-Ae.x,Te.y-Ae.y)},es.prototype.clone=function(){var k=this.sx,Ae=this.shy,Te=this.shx,De=this.sy,Ke=this.tx,gt=this.ty;return new es(k,Ae,Te,De,Ke,gt)},g.Matrix=es;var ca=g.matrixMult=function(k,Ae){return Ae.multiply(k)},en=new es(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=en;var Yr=function(k,Ae){if(!Ot[k]){var Te=(Ae instanceof Ed?"Sh":"P")+(Object.keys(mt).length+1).toString(10);Ae.id=Te,Ot[k]=Te,mt[Te]=Ae,Pt.publish("addPattern",Ae)}};g.ShadingPattern=Ed,g.TilingPattern=Qh,g.addShadingPattern=function(k,Ae){return R("addShadingPattern()"),Yr(k,Ae),this},g.beginTilingPattern=function(k){R("beginTilingPattern()"),fa(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},g.endTilingPattern=function(k,Ae){R("endTilingPattern()"),Ae.stream=Fe[X].join(`
`),Yr(k,Ae),Pt.publish("endTilingPattern",Ae),wn.pop().restore()};var pr,us=g.__private__.newObject=function(){var k=Nn();return jr(k,!0),k},Nn=g.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return ge},ce},jr=function(k,Ae){return Ae=typeof Ae=="boolean"&&Ae,ye[k]=ge,Ae&&he(k+" 0 obj"),k},Mn=g.__private__.newAdditionalObject=function(){var k={objId:Nn(),content:""};return Se.push(k),k},un=Nn(),on=Nn(),fn=g.__private__.decodeColorString=function(k){var Ae=k.split(" ");if(Ae.length!==2||Ae[1]!=="g"&&Ae[1]!=="G")Ae.length!==5||Ae[4]!=="k"&&Ae[4]!=="K"||(Ae=[(1-Ae[0])*(1-Ae[3]),(1-Ae[1])*(1-Ae[3]),(1-Ae[2])*(1-Ae[3]),"r"]);else{var Te=parseFloat(Ae[0]);Ae=[Te,Te,Te,"r"]}for(var De="#",Ke=0;Ke<3;Ke++)De+=("0"+Math.floor(255*parseFloat(Ae[Ke])).toString(16)).slice(-2);return De},Un=g.__private__.encodeColorString=function(k){var Ae;typeof k=="string"&&(k={ch1:k});var Te=k.ch1,De=k.ch2,Ke=k.ch3,gt=k.ch4,_t=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var vs=new wI(Te);if(vs.ok)Te=vs.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var Bs=parseInt(Te.substr(1),16);Te=Bs>>16&255,De=Bs>>8&255,Ke=255&Bs}if(De===void 0||gt===void 0&&Te===De&&De===Ke)Ae=typeof Te=="string"?Te+" "+_t[0]:k.precision===2?P(Te/255)+" "+_t[0]:V(Te/255)+" "+_t[0];else if(gt===void 0||Hr(gt)==="object"){if(gt&&!isNaN(gt.a)&&gt.a===0)return["1.","1.","1.",_t[1]].join(" ");Ae=typeof Te=="string"?[Te,De,Ke,_t[1]].join(" "):k.precision===2?[P(Te/255),P(De/255),P(Ke/255),_t[1]].join(" "):[V(Te/255),V(De/255),V(Ke/255),_t[1]].join(" ")}else Ae=typeof Te=="string"?[Te,De,Ke,gt,_t[2]].join(" "):k.precision===2?[P(Te),P(De),P(Ke),P(gt),_t[2]].join(" "):[V(Te),V(De),V(Ke),V(gt),_t[2]].join(" ");return Ae},Br=g.__private__.getFilters=function(){return c},ua=g.__private__.putStream=function(k){var Ae=(k=k||{}).data||"",Te=k.filters||Br(),De=k.alreadyAppliedFilters||[],Ke=k.addLength1||!1,gt=Ae.length,_t=k.objectId,vs=function(Y){return Y};if(A!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(vs=ln.encryptor(_t,0));var Bs={};Te===!0&&(Te=["FlateEncode"]);var Ps=k.additionalKeyValues||[],Us=(Bs=Qs.API.processDataByFilters!==void 0?Qs.API.processDataByFilters(Ae,Te):{data:Ae,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(Bs.data.length!==0&&(Ps.push({key:"Length",value:Bs.data.length}),Ke===!0&&Ps.push({key:"Length1",value:gt})),Us.length!=0)if(Us.split("/").length-1==1)Ps.push({key:"Filter",value:Us});else{Ps.push({key:"Filter",value:"["+Us+"]"});for(var In=0;In<Ps.length;In+=1)if(Ps[In].key==="DecodeParms"){for(var Nr=[],hr=0;hr<Bs.reverseChain.split("/").length-1;hr+=1)Nr.push("null");Nr.push(Ps[In].value),Ps[In].value="["+Nr.join(" ")+"]"}}he("<<");for(var w=0;w<Ps.length;w++)he("/"+Ps[w].key+" "+Ps[w].value);he(">>"),Bs.data.length!==0&&(he("stream"),he(vs(Bs.data)),he("endstream"))},Vi=g.__private__.putPage=function(k){var Ae=k.number,Te=k.data,De=k.objId,Ke=k.contentsObjId;jr(De,!0),he("<</Type /Page"),he("/Parent "+k.rootDictionaryObjId+" 0 R"),he("/Resources "+k.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(D(k.mediaBox.bottomLeftX))+" "+parseFloat(D(k.mediaBox.bottomLeftY))+" "+D(k.mediaBox.topRightX)+" "+D(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&he("/CropBox ["+D(k.cropBox.bottomLeftX)+" "+D(k.cropBox.bottomLeftY)+" "+D(k.cropBox.topRightX)+" "+D(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&he("/BleedBox ["+D(k.bleedBox.bottomLeftX)+" "+D(k.bleedBox.bottomLeftY)+" "+D(k.bleedBox.topRightX)+" "+D(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&he("/TrimBox ["+D(k.trimBox.bottomLeftX)+" "+D(k.trimBox.bottomLeftY)+" "+D(k.trimBox.topRightX)+" "+D(k.trimBox.topRightY)+"]"),k.artBox!==null&&he("/ArtBox ["+D(k.artBox.bottomLeftX)+" "+D(k.artBox.bottomLeftY)+" "+D(k.artBox.topRightX)+" "+D(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&he("/UserUnit "+k.userUnit),Pt.publish("putPage",{objId:De,pageContext:pt[Ae],pageNumber:Ae,page:Te}),he("/Contents "+Ke+" 0 R"),he(">>"),he("endobj");var gt=Te.join(`
`);return L===F&&(gt+=`
Q`),jr(Ke,!0),ua({data:gt,filters:Br(),objectId:Ke}),he("endobj"),De},ir=g.__private__.putPages=function(){var k,Ae,Te=[];for(k=1;k<=Tt;k++)pt[k].objId=Nn(),pt[k].contentsObjId=Nn();for(k=1;k<=Tt;k++)Te.push(Vi({number:k,data:Fe[k],objId:pt[k].objId,contentsObjId:pt[k].contentsObjId,mediaBox:pt[k].mediaBox,cropBox:pt[k].cropBox,bleedBox:pt[k].bleedBox,trimBox:pt[k].trimBox,artBox:pt[k].artBox,userUnit:pt[k].userUnit,rootDictionaryObjId:un,resourceDictionaryObjId:on}));jr(un,!0),he("<</Type /Pages");var De="/Kids [";for(Ae=0;Ae<Tt;Ae++)De+=Te[Ae]+" 0 R ";he(De+"]"),he("/Count "+Tt),he(">>"),he("endobj"),Pt.publish("postPutPages")},Ir=function(k){Pt.publish("putFont",{font:k,out:he,newObject:us,putStream:ua}),k.isAlreadyPutted!==!0&&(k.objectNumber=us(),he("<<"),he("/Type /Font"),he("/BaseFont /"+zf(k.postScriptName)),he("/Subtype /Type1"),typeof k.encoding=="string"&&he("/Encoding /"+k.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},vi=function(k){k.objectNumber=us();var Ae=[];Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Form"}),Ae.push({key:"BBox",value:"["+[D(k.x),D(k.y),D(k.x+k.width),D(k.y+k.height)].join(" ")+"]"}),Ae.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Te=k.pages[1].join(`
`);ua({data:Te,additionalKeyValues:Ae,objectId:k.objectNumber}),he("endobj")},Pa=function(k,Ae){Ae||(Ae=21);var Te=us(),De=(function(_t,vs){var Bs,Ps=[],Us=1/(vs-1);for(Bs=0;Bs<1;Bs+=Us)Ps.push(Bs);if(Ps.push(1),_t[0].offset!=0){var In={offset:0,color:_t[0].color};_t.unshift(In)}if(_t[_t.length-1].offset!=1){var Nr={offset:1,color:_t[_t.length-1].color};_t.push(Nr)}for(var hr="",w=0,Y=0;Y<Ps.length;Y++){for(Bs=Ps[Y];Bs>_t[w+1].offset;)w++;var ne=_t[w].offset,we=(Bs-ne)/(_t[w+1].offset-ne),$e=_t[w].color,nt=_t[w+1].color;hr+=le(Math.round((1-we)*$e[0]+we*nt[0]).toString(16))+le(Math.round((1-we)*$e[1]+we*nt[1]).toString(16))+le(Math.round((1-we)*$e[2]+we*nt[2]).toString(16))}return hr.trim()})(k.colors,Ae),Ke=[];Ke.push({key:"FunctionType",value:"0"}),Ke.push({key:"Domain",value:"[0.0 1.0]"}),Ke.push({key:"Size",value:"["+Ae+"]"}),Ke.push({key:"BitsPerSample",value:"8"}),Ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ua({data:De,additionalKeyValues:Ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),he("endobj"),k.objectNumber=us(),he("<< /ShadingType "+k.type),he("/ColorSpace /DeviceRGB");var gt="/Coords ["+D(parseFloat(k.coords[0]))+" "+D(parseFloat(k.coords[1]))+" ";k.type===2?gt+=D(parseFloat(k.coords[2]))+" "+D(parseFloat(k.coords[3])):gt+=D(parseFloat(k.coords[2]))+" "+D(parseFloat(k.coords[3]))+" "+D(parseFloat(k.coords[4]))+" "+D(parseFloat(k.coords[5])),he(gt+="]"),k.matrix&&he("/Matrix ["+k.matrix.toString()+"]"),he("/Function "+Te+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},ka=function(k,Ae){var Te=Nn(),De=us();Ae.push({resourcesOid:Te,objectOid:De}),k.objectNumber=De;var Ke=[];Ke.push({key:"Type",value:"/Pattern"}),Ke.push({key:"PatternType",value:"1"}),Ke.push({key:"PaintType",value:"1"}),Ke.push({key:"TilingType",value:"1"}),Ke.push({key:"BBox",value:"["+k.boundingBox.map(D).join(" ")+"]"}),Ke.push({key:"XStep",value:D(k.xStep)}),Ke.push({key:"YStep",value:D(k.yStep)}),Ke.push({key:"Resources",value:Te+" 0 R"}),k.matrix&&Ke.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),ua({data:k.stream,additionalKeyValues:Ke,objectId:k.objectNumber}),he("endobj")},Ma=function(k){for(var Ae in k.objectNumber=us(),he("<<"),k)switch(Ae){case"opacity":he("/ca "+P(k[Ae]));break;case"stroke-opacity":he("/CA "+P(k[Ae]))}he(">>"),he("endobj")},yi=function(k){jr(k.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Ae in he("/Font <<"),ut)ut.hasOwnProperty(Ae)&&(m===!1||m===!0&&x.hasOwnProperty(Ae))&&he("/"+Ae+" "+ut[Ae].objectNumber+" 0 R");he(">>")})(),(function(){if(Object.keys(mt).length>0){for(var Ae in he("/Shading <<"),mt)mt.hasOwnProperty(Ae)&&mt[Ae]instanceof Ed&&mt[Ae].objectNumber>=0&&he("/"+Ae+" "+mt[Ae].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),he(">>")}})(),(function(Ae){if(Object.keys(mt).length>0){for(var Te in he("/Pattern <<"),mt)mt.hasOwnProperty(Te)&&mt[Te]instanceof g.TilingPattern&&mt[Te].objectNumber>=0&&mt[Te].objectNumber<Ae&&he("/"+Te+" "+mt[Te].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),he(">>")}})(k.objectOid),(function(){if(Object.keys(Et).length>0){var Ae;for(Ae in he("/ExtGState <<"),Et)Et.hasOwnProperty(Ae)&&Et[Ae].objectNumber>=0&&he("/"+Ae+" "+Et[Ae].objectNumber+" 0 R");Pt.publish("putGStateDict"),he(">>")}})(),(function(){for(var Ae in he("/XObject <<"),os)os.hasOwnProperty(Ae)&&os[Ae].objectNumber>=0&&he("/"+Ae+" "+os[Ae].objectNumber+" 0 R");Pt.publish("putXobjectDict"),he(">>")})(),he(">>"),he("endobj")},_r=function(k){ze[k.fontName]=ze[k.fontName]||{},ze[k.fontName][k.fontStyle]=k.id},ro=function(k,Ae,Te,De,Ke){var gt={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:k,fontName:Ae,fontStyle:Te,encoding:De,isStandardFont:Ke||!1,metadata:{}};return Pt.publish("addFont",{font:gt,instance:this}),ut[gt.id]=gt,_r(gt),gt.id},Ha=g.__private__.pdfEscape=g.pdfEscape=function(k,Ae){return(function(Te,De){var Ke,gt,_t,vs,Bs,Ps,Us,In,Nr;if(_t=(De=De||{}).sourceEncoding||"Unicode",Bs=De.outputEncoding,(De.autoencode||Bs)&&ut[Mt].metadata&&ut[Mt].metadata[_t]&&ut[Mt].metadata[_t].encoding&&(vs=ut[Mt].metadata[_t].encoding,!Bs&&ut[Mt].encoding&&(Bs=ut[Mt].encoding),!Bs&&vs.codePages&&(Bs=vs.codePages[0]),typeof Bs=="string"&&(Bs=vs[Bs]),Bs)){for(Us=!1,Ps=[],Ke=0,gt=Te.length;Ke<gt;Ke++)(In=Bs[Te.charCodeAt(Ke)])?Ps.push(String.fromCharCode(In)):Ps.push(Te[Ke]),Ps[Ke].charCodeAt(0)>>8&&(Us=!0);Te=Ps.join("")}for(Ke=Te.length;Us===void 0&&Ke!==0;)Te.charCodeAt(Ke-1)>>8&&(Us=!0),Ke--;if(!Us)return Te;for(Ps=De.noBOM?[]:[254,255],Ke=0,gt=Te.length;Ke<gt;Ke++){if((Nr=(In=Te.charCodeAt(Ke))>>8)>>8)throw new Error("Character at position "+Ke+" of string '"+Te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ps.push(Nr),Ps.push(In-(Nr<<8))}return String.fromCharCode.apply(void 0,Ps)})(k,Ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Va=g.__private__.beginPage=function(k){Fe[++Tt]=[],pt[Tt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},_e(Tt),Oe(Fe[X])},da=function(k,Ae){var Te,De,Ke;switch(t=Ae||t,typeof k=="string"&&(Te=S(k.toLowerCase()),Array.isArray(Te)&&(De=Te[0],Ke=Te[1])),Array.isArray(k)&&(De=k[0]*dt,Ke=k[1]*dt),isNaN(De)&&(De=r[0],Ke=r[1]),(De>14400||Ke>14400)&&(ta.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ke=Math.min(14400,Ke)),r=[De,Ke],t.substr(0,1)){case"l":Ke>De&&(r=[Ke,De]);break;case"p":De>Ke&&(r=[Ke,De])}Va(r),Rs(na),he(En),ra!==0&&he(ra+" J"),Sr!==0&&he(Sr+" j"),Pt.publish("addPage",{pageNumber:Tt})},bi=function(k){k>0&&k<=Tt&&(Fe.splice(k,1),pt.splice(k,1),Tt--,X>Tt&&(X=Tt),this.setPage(X))},_e=function(k){k>0&&k<=Tt&&(X=k)},yt=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Fe.length-1},Dt=function(k,Ae,Te){var De,Ke=void 0;return Te=Te||{},k=k!==void 0?k:ut[Mt].fontName,Ae=Ae!==void 0?Ae:ut[Mt].fontStyle,De=k.toLowerCase(),ze[De]!==void 0&&ze[De][Ae]!==void 0?Ke=ze[De][Ae]:ze[k]!==void 0&&ze[k][Ae]!==void 0?Ke=ze[k][Ae]:Te.disableWarning===!1&&ta.warn("Unable to look up font label for font '"+k+"', '"+Ae+"'. Refer to getFontList() for available fonts."),Ke||Te.noFallback||(Ke=ze.times[Ae])==null&&(Ke=ze.times.normal),Ke},It=g.__private__.putInfo=function(){var k=us(),Ae=function(De){return De};for(var Te in A!==null&&(Ae=ln.encryptor(k,0)),he("<<"),he("/Producer ("+Ha(Ae("jsPDF "+Qs.version))+")"),Vt)Vt.hasOwnProperty(Te)&&Vt[Te]&&he("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+Ha(Ae(Vt[Te]))+")");he("/CreationDate ("+Ha(Ae(de))+")"),he(">>"),he("endobj")},As=g.__private__.putCatalog=function(k){var Ae=(k=k||{}).rootDictionaryObjId||un;switch(us(),he("<<"),he("/Type /Catalog"),he("/Pages "+Ae+" 0 R"),Ut||(Ut="fullwidth"),Ut){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+Ut;Te.substr(Te.length-1)==="%"&&(Ut=parseInt(Ut)/100),typeof Ut=="number"&&he("/OpenAction [3 0 R /XYZ null null "+P(Ut)+"]")}switch(ns||(ns="continuous"),ns){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}$t&&he("/PageMode /"+$t),Pt.publish("putCatalog"),he(">>"),he("endobj")},Yt=g.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ce+1)),he("/Root "+ce+" 0 R"),he("/Info "+(ce-1)+" 0 R"),A!==null&&he("/Encrypt "+ln.oid+" 0 R"),he("/ID [ <"+re+"> <"+re+"> ]"),he(">>")},Jt=g.__private__.putHeader=function(){he("%PDF-"+b),he("%")},Ws=g.__private__.putXRef=function(){var k="0000000000";he("xref"),he("0 "+(ce+1)),he("0000000000 65535 f ");for(var Ae=1;Ae<=ce;Ae++)typeof ye[Ae]=="function"?he((k+ye[Ae]()).slice(-10)+" 00000 n "):ye[Ae]!==void 0?he((k+ye[Ae]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},Rt=g.__private__.buildDocument=function(){var k;ce=0,ge=0,Ne=[],ye=[],Se=[],un=Nn(),on=Nn(),Oe(Ne),Pt.publish("buildDocument"),Jt(),ir(),(function(){Pt.publish("putAdditionalObjects");for(var Te=0;Te<Se.length;Te++){var De=Se[Te];jr(De.objId,!0),he(De.content),he("endobj")}Pt.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Te in ut)ut.hasOwnProperty(Te)&&(m===!1||m===!0&&x.hasOwnProperty(Te))&&Ir(ut[Te])})(),(function(){var Te;for(Te in Et)Et.hasOwnProperty(Te)&&Ma(Et[Te])})(),(function(){for(var Te in os)os.hasOwnProperty(Te)&&vi(os[Te])})(),(function(Te){var De;for(De in mt)mt.hasOwnProperty(De)&&(mt[De]instanceof Ed?Pa(mt[De]):mt[De]instanceof Qh&&ka(mt[De],Te))})(k),Pt.publish("putResources"),k.forEach(yi),yi({resourcesOid:on,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources"),A!==null&&(ln.oid=us(),he("<<"),he("/Filter /Standard"),he("/V "+ln.v),he("/R "+ln.r),he("/U <"+ln.toHexString(ln.U)+">"),he("/O <"+ln.toHexString(ln.O)+">"),he("/P "+ln.P),he(">>"),he("endobj")),It(),As();var Ae=ge;return Ws(),Yt(),he("startxref"),he(""+Ae),he("%%EOF"),Oe(Fe[X]),Ne.join(`
`)},hs=g.__private__.getBlob=function(k){return new Blob([wt(k)],{type:"application/pdf"})},dn=g.output=g.__private__.output=(pr=function(k,Ae){switch(typeof(Ae=Ae||{})=="string"?Ae={filename:Ae}:Ae.filename=Ae.filename||"generated.pdf",k){case void 0:return Rt();case"save":g.save(Ae.filename);break;case"arraybuffer":return wt(Rt());case"blob":return hs(Rt());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(hs(Rt()))||void 0;ta.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",De=Rt();try{Te=$C(De)}catch{Te=$C(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+Ae.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ae.pdfObjectUrl&&(Ke=Ae.pdfObjectUrl,gt="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ke+'"'+gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ae)+");<\/script></body></html>",vs=cn.open();return vs!==null&&vs.document.write(_t),vs}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Bs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ae.filename+'" width="500px" height="400px" /></body></html>',Ps=cn.open();if(Ps!==null){Ps.document.write(Bs);var Us=this;Ps.document.documentElement.querySelector("#pdfViewer").onload=function(){Ps.document.title=Ae.filename,Ps.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Us.output("bloburl"))}}return Ps}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ae)+'"></iframe></body></html>',Nr=cn.open();if(Nr!==null&&(Nr.document.write(In),Nr.document.title=Ae.filename),Nr||typeof safari>"u")return Nr;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",Ae);default:return null}},pr.foo=function(){try{return pr.apply(this,arguments)}catch(Te){var k=Te.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var Ae="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Te.message;if(!cn.console)throw new Error(Ae);cn.console.error(Ae,Te),cn.alert&&alert(Ae)}},pr.foo.bar=pr,pr.foo),ms=function(k){return Array.isArray(qt)===!0&&qt.indexOf(k)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=ms("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var ln=null;ee(),J();var mn=g.__private__.getPageInfo=g.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[k].objId,pageNumber:k,pageContext:pt[k]}},Ba=g.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ae in pt)if(pt[Ae].objId===k)break;return mn(Ae)},Xa=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:pt[X].objId,pageNumber:X,pageContext:pt[X]}};g.addPage=function(){return da.apply(this,arguments),this},g.setPage=function(){return _e.apply(this,arguments),Oe.call(this,Fe[X]),this},g.insertPage=function(k){return this.addPage(),this.movePage(X,k),this},g.movePage=function(k,Ae){var Te,De;if(k>Ae){Te=Fe[k],De=pt[k];for(var Ke=k;Ke>Ae;Ke--)Fe[Ke]=Fe[Ke-1],pt[Ke]=pt[Ke-1];Fe[Ae]=Te,pt[Ae]=De,this.setPage(Ae)}else if(k<Ae){Te=Fe[k],De=pt[k];for(var gt=k;gt<Ae;gt++)Fe[gt]=Fe[gt+1],pt[gt]=pt[gt+1];Fe[Ae]=Te,pt[Ae]=De,this.setPage(Ae)}return this},g.deletePage=function(){return bi.apply(this,arguments),this},g.__private__.text=g.text=function(k,Ae,Te,De,Ke){var gt,_t,vs,Bs,Ps,Us,In,Nr,hr,w=(De=De||{}).scope||this;if(typeof k=="number"&&typeof Ae=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Y=Te;Te=Ae,Ae=k,k=Y}if(arguments[3]instanceof es==0?(vs=arguments[4],Bs=arguments[5],Hr(In=arguments[3])==="object"&&In!==null||(typeof vs=="string"&&(Bs=vs,vs=null),typeof In=="string"&&(Bs=In,In=null),typeof In=="number"&&(vs=In,In=null),De={flags:In,angle:vs,align:Bs})):(R("The transform parameter of text() with a Matrix value"),hr=Ke),isNaN(Ae)||isNaN(Te)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return w;var ne,we="",$e=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:io,nt=w.internal.scaleFactor;function Kt($n){return $n=$n.split("	").join(Array(De.TabLen||9).join(" ")),Ha($n,In)}function Zs($n){for(var Hn,Tr=$n.concat(),Zn=[],dl=Tr.length;dl--;)typeof(Hn=Tr.shift())=="string"?Zn.push(Hn):Array.isArray($n)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?Zn.push(Hn[0]):Zn.push([Hn[0],Hn[1],Hn[2]]);return Zn}function Er($n,Hn){var Tr;if(typeof $n=="string")Tr=Hn($n)[0];else if(Array.isArray($n)){for(var Zn,dl,hl=$n.concat(),HA=[],dA=hl.length;dA--;)typeof(Zn=hl.shift())=="string"?HA.push(Hn(Zn)[0]):Array.isArray(Zn)&&typeof Zn[0]=="string"&&(dl=Hn(Zn[0],Zn[1],Zn[2]),HA.push([dl[0],dl[1],dl[2]]));Tr=HA}return Tr}var xn=!1,qn=!0;if(typeof k=="string")xn=!0;else if(Array.isArray(k)){var Ka=k.concat();_t=[];for(var ma,zn=Ka.length;zn--;)(typeof(ma=Ka.shift())!="string"||Array.isArray(ma)&&typeof ma[0]!="string")&&(qn=!1);xn=qn}if(xn===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var rn=Ye/w.internal.scaleFactor,po=rn*($e-1);switch(De.baseline){case"bottom":Te-=po;break;case"top":Te+=rn-po;break;case"hanging":Te+=rn-2*po;break;case"middle":Te+=rn/2-po}if((Us=De.maxWidth||0)>0&&(typeof k=="string"?k=w.splitTextToSize(k,Us):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function($n,Hn){return $n.concat(w.splitTextToSize(Hn,Us))},[]))),gt={text:k,x:Ae,y:Te,options:De,mutex:{pdfEscape:Ha,activeFontKey:Mt,fonts:ut,activeFontSize:Ye}},Pt.publish("preProcessText",gt),k=gt.text,vs=(De=gt.options).angle,hr instanceof es==0&&vs&&typeof vs=="number"){vs*=Math.PI/180,De.rotationDirection===0&&(vs=-vs),L===F&&(vs=-vs);var Do=Math.cos(vs),ol=Math.sin(vs);hr=new es(Do,ol,-ol,Do,0,0)}else vs&&vs instanceof es&&(hr=vs);L!==F||hr||(hr=en),(Ps=De.charSpace||gr)!==void 0&&(we+=D($(Ps))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Nr=De.horizontalScale)!==void 0&&(we+=D(100*Nr)+` Tz
`),De.lang;var Na=-1,Za=De.renderingMode!==void 0?De.renderingMode:De.stroke,fc=w.internal.getCurrentPageInfo().pageContext;switch(Za){case 0:case!1:case"fill":Na=0;break;case 1:case!0:case"stroke":Na=1;break;case 2:case"fillThenStroke":Na=2;break;case 3:case"invisible":Na=3;break;case 4:case"fillAndAddForClipping":Na=4;break;case 5:case"strokeAndAddPathForClipping":Na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Na=6;break;case 7:case"addToPathForClipping":Na=7}var Ro=fc.usedRenderingMode!==void 0?fc.usedRenderingMode:-1;Na!==-1?we+=Na+` Tr
`:Ro!==-1&&(we+=`0 Tr
`),Na!==-1&&(fc.usedRenderingMode=Na),Bs=De.align||"left";var Gn,Lo=Ye*$e,Dr=w.internal.pageSize.getWidth(),OA=ut[Mt];Ps=De.charSpace||gr,Us=De.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},De.flags);var ei=[],Qo=function($n){return w.getStringUnitWidth($n,{font:OA,charSpace:Ps,fontSize:Ye,doKerning:!1})*Ye/nt};if(Object.prototype.toString.call(k)==="[object Array]"){var Cn;_t=Zs(k),Bs!=="left"&&(Gn=_t.map(Qo));var Ci,ll=0;if(Bs==="right"){Ae-=Gn[0],k=[],zn=_t.length;for(var Al=0;Al<zn;Al++)Al===0?(Ci=Vr(Ae),Cn=Xt(Te)):(Ci=$(ll-Gn[Al]),Cn=-Lo),k.push([_t[Al],Ci,Cn]),ll=Gn[Al]}else if(Bs==="center"){Ae-=Gn[0]/2,k=[],zn=_t.length;for(var wl=0;wl<zn;wl++)wl===0?(Ci=Vr(Ae),Cn=Xt(Te)):(Ci=$((ll-Gn[wl])/2),Cn=-Lo),k.push([_t[wl],Ci,Cn]),ll=Gn[wl]}else if(Bs==="left"){k=[],zn=_t.length;for(var zl=0;zl<zn;zl++)k.push(_t[zl])}else if(Bs==="justify"&&OA.encoding==="Identity-H"){k=[],zn=_t.length,Us=Us!==0?Us:Dr;for(var PA=0,aa=0;aa<zn;aa++)if(Cn=aa===0?Xt(Te):-Lo,Ci=aa===0?Vr(Ae):PA,aa<zn-1){var Yi=$((Us-Gn[aa])/(_t[aa].split(" ").length-1)),Ai=_t[aa].split(" ");k.push([Ai[0]+" ",Ci,Cn]),PA=0;for(var ci=1;ci<Ai.length;ci++){var Ln=(Qo(Ai[ci-1]+" "+Ai[ci])-Qo(Ai[ci]))*nt+Yi;ci==Ai.length-1?k.push([Ai[ci],Ln,0]):k.push([Ai[ci]+" ",Ln,0]),PA-=Ln}}else k.push([_t[aa],Ci,Cn]);k.push(["",PA,0])}else{if(Bs!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],zn=_t.length,Us=Us!==0?Us:Dr,aa=0;aa<zn;aa++){Cn=aa===0?Xt(Te):-Lo,Ci=aa===0?Vr(Ae):0;var Si=_t[aa].split(" ").length-1,kA=Si>0?(Us-Gn[aa])/Si:0;aa<zn-1?ei.push(D($(kA))):ei.push(0),k.push([_t[aa],Ci,Cn])}}}(typeof De.R2L=="boolean"?De.R2L:Wt)===!0&&(k=Er(k,function($n,Hn,Tr){return[$n.split("").reverse().join(""),Hn,Tr]})),gt={text:k,x:Ae,y:Te,options:De,mutex:{pdfEscape:Ha,activeFontKey:Mt,fonts:ut,activeFontSize:Ye}},Pt.publish("postProcessText",gt),k=gt.text,ne=gt.mutex.isHex||!1;var MA=ut[Mt].encoding;MA!=="WinAnsiEncoding"&&MA!=="StandardEncoding"||(k=Er(k,function($n,Hn,Tr){return[Kt($n),Hn,Tr]})),_t=Zs(k),k=[];for(var cl,jl,Bl,ul=Array.isArray(_t[0])?1:0,pa="",Gl=function($n,Hn,Tr){var Zn="";return Tr instanceof es?(Tr=typeof De.angle=="number"?ca(Tr,new es(1,0,0,1,$n,Hn)):ca(new es(1,0,0,1,$n,Hn),Tr),L===F&&(Tr=ca(new es(1,0,0,-1,0,0),Tr)),Zn=Tr.join(" ")+` Tm
`):Zn=D($n)+" "+D(Hn)+` Td
`,Zn},Ni=0;Ni<_t.length;Ni++){switch(pa="",ul){case 1:Bl=(ne?"<":"(")+_t[Ni][0]+(ne?">":")"),cl=parseFloat(_t[Ni][1]),jl=parseFloat(_t[Ni][2]);break;case 0:Bl=(ne?"<":"(")+_t[Ni]+(ne?">":")"),cl=Vr(Ae),jl=Xt(Te)}ei!==void 0&&ei[Ni]!==void 0&&(pa=ei[Ni]+` Tw
`),Ni===0?k.push(pa+Gl(cl,jl,hr)+Bl):ul===0?k.push(pa+Bl):ul===1&&k.push(pa+Gl(cl,jl,hr)+Bl)}k=ul===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Wi=`BT
/`;return Wi+=Mt+" "+Ye+` Tf
`,Wi+=D(Ye*$e)+` TL
`,Wi+=rs+`
`,Wi+=we,Wi+=k,he(Wi+="ET"),x[Mt]=!0,w};var ha=g.__private__.clip=g.clip=function(k){return he(k==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ha("evenodd")},g.__private__.discardPath=g.discardPath=function(){return he("n"),this};var or=g.__private__.isValidStyle=function(k){var Ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(Ae=!0),Ae};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(k){return or(k)&&(f=k),this};var Uo=g.__private__.getStyle=g.getStyle=function(k){var Ae=f;switch(k){case"D":case"S":Ae="S";break;case"F":Ae="f";break;case"FD":case"DF":Ae="B";break;case"f":case"f*":case"B":case"B*":Ae=k}return Ae},wi=g.close=function(){return he("h"),this};g.stroke=function(){return he("S"),this},g.fill=function(k){return Cr("f",k),this},g.fillEvenOdd=function(k){return Cr("f*",k),this},g.fillStroke=function(k){return Cr("B",k),this},g.fillStrokeEvenOdd=function(k){return Cr("B*",k),this};var Cr=function(k,Ae){Hr(Ae)==="object"?Vl(Ae,k):he(k)},ao=function(k){k===null||L===F&&k===void 0||(k=Uo(k),he(k))};function yl(k,Ae,Te,De,Ke){var gt=new Qh(Ae||this.boundingBox,Te||this.xStep,De||this.yStep,this.gState,Ke||this.matrix);gt.stream=this.stream;var _t=k+"$$"+this.cloneIndex+++"$$";return Yr(_t,gt),gt}var Vl=function(k,Ae){var Te=Ot[k.key],De=mt[Te];if(De instanceof Ed)he("q"),he(bl(Ae)),De.gState&&g.setGState(De.gState),he(k.matrix.toString()+" cm"),he("/"+Te+" sh"),he("Q");else if(De instanceof Qh){var Ke=new es(1,0,0,-1,0,mo());k.matrix&&(Ke=Ke.multiply(k.matrix||en),Te=yl.call(De,k.key,k.boundingBox,k.xStep,k.yStep,Ke).id),he("q"),he("/Pattern cs"),he("/"+Te+" scn"),De.gState&&g.setGState(De.gState),he(Ae),he("Q")}},bl=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},il=g.moveTo=function(k,Ae){return he(D($(k))+" "+D(ae(Ae))+" m"),this},ji=g.lineTo=function(k,Ae){return he(D($(k))+" "+D(ae(Ae))+" l"),this},Fr=g.curveTo=function(k,Ae,Te,De,Ke,gt){return he([D($(k)),D(ae(Ae)),D($(Te)),D(ae(De)),D($(Ke)),D(ae(gt)),"c"].join(" ")),this};g.__private__.line=g.line=function(k,Ae,Te,De,Ke){if(isNaN(k)||isNaN(Ae)||isNaN(Te)||isNaN(De)||!or(Ke))throw new Error("Invalid arguments passed to jsPDF.line");return L===E?this.lines([[Te-k,De-Ae]],k,Ae,[1,1],Ke||"S"):this.lines([[Te-k,De-Ae]],k,Ae,[1,1]).stroke()},g.__private__.lines=g.lines=function(k,Ae,Te,De,Ke,gt){var _t,vs,Bs,Ps,Us,In,Nr,hr,w,Y,ne,we;if(typeof k=="number"&&(we=Te,Te=Ae,Ae=k,k=we),De=De||[1,1],gt=gt||!1,isNaN(Ae)||isNaN(Te)||!Array.isArray(k)||!Array.isArray(De)||!or(Ke)||typeof gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(il(Ae,Te),_t=De[0],vs=De[1],Ps=k.length,Y=Ae,ne=Te,Bs=0;Bs<Ps;Bs++)(Us=k[Bs]).length===2?(Y=Us[0]*_t+Y,ne=Us[1]*vs+ne,ji(Y,ne)):(In=Us[0]*_t+Y,Nr=Us[1]*vs+ne,hr=Us[2]*_t+Y,w=Us[3]*vs+ne,Y=Us[4]*_t+Y,ne=Us[5]*vs+ne,Fr(In,Nr,hr,w,Y,ne));return gt&&wi(),ao(Ke),this},g.path=function(k){for(var Ae=0;Ae<k.length;Ae++){var Te=k[Ae],De=Te.c;switch(Te.op){case"m":il(De[0],De[1]);break;case"l":ji(De[0],De[1]);break;case"c":Fr.apply(this,De);break;case"h":wi()}}return this},g.__private__.rect=g.rect=function(k,Ae,Te,De,Ke){if(isNaN(k)||isNaN(Ae)||isNaN(Te)||isNaN(De)||!or(Ke))throw new Error("Invalid arguments passed to jsPDF.rect");return L===E&&(De=-De),he([D($(k)),D(ae(Ae)),D($(Te)),D($(De)),"re"].join(" ")),ao(Ke),this},g.__private__.triangle=g.triangle=function(k,Ae,Te,De,Ke,gt,_t){if(isNaN(k)||isNaN(Ae)||isNaN(Te)||isNaN(De)||isNaN(Ke)||isNaN(gt)||!or(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-k,De-Ae],[Ke-Te,gt-De],[k-Ke,Ae-gt]],k,Ae,[1,1],_t,!0),this},g.__private__.roundedRect=g.roundedRect=function(k,Ae,Te,De,Ke,gt,_t){if(isNaN(k)||isNaN(Ae)||isNaN(Te)||isNaN(De)||isNaN(Ke)||isNaN(gt)||!or(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vs=4/3*(Math.SQRT2-1);return Ke=Math.min(Ke,.5*Te),gt=Math.min(gt,.5*De),this.lines([[Te-2*Ke,0],[Ke*vs,0,Ke,gt-gt*vs,Ke,gt],[0,De-2*gt],[0,gt*vs,-Ke*vs,gt,-Ke,gt],[2*Ke-Te,0],[-Ke*vs,0,-Ke,-gt*vs,-Ke,-gt],[0,2*gt-De],[0,-gt*vs,Ke*vs,-gt,Ke,-gt]],k+Ke,Ae,[1,1],_t,!0),this},g.__private__.ellipse=g.ellipse=function(k,Ae,Te,De,Ke){if(isNaN(k)||isNaN(Ae)||isNaN(Te)||isNaN(De)||!or(Ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gt=4/3*(Math.SQRT2-1)*Te,_t=4/3*(Math.SQRT2-1)*De;return il(k+Te,Ae),Fr(k+Te,Ae-_t,k+gt,Ae-De,k,Ae-De),Fr(k-gt,Ae-De,k-Te,Ae-_t,k-Te,Ae),Fr(k-Te,Ae+_t,k-gt,Ae+De,k,Ae+De),Fr(k+gt,Ae+De,k+Te,Ae+_t,k+Te,Ae),ao(Ke),this},g.__private__.circle=g.circle=function(k,Ae,Te,De){if(isNaN(k)||isNaN(Ae)||isNaN(Te)||!or(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,Ae,Te,Te,De)},g.setFont=function(k,Ae,Te){return Te&&(Ae=Q(Ae,Te)),Mt=Dt(k,Ae,{disableWarning:!1}),this};var oi=g.__private__.getFont=g.getFont=function(){return ut[Dt.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var k,Ae,Te={};for(k in ze)if(ze.hasOwnProperty(k))for(Ae in Te[k]=[],ze[k])ze[k].hasOwnProperty(Ae)&&Te[k].push(Ae);return Te},g.addFont=function(k,Ae,Te,De,Ke){var gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gt.indexOf(arguments[3])!==-1?Ke=arguments[3]:arguments[3]&&gt.indexOf(arguments[3])==-1&&(Te=Q(Te,De)),ro.call(this,k,Ae,Te,Ke=Ke||"Identity-H")};var io,na=s.lineWidth||.200025,li=g.__private__.getLineWidth=g.getLineWidth=function(){return na},Rs=g.__private__.setLineWidth=g.setLineWidth=function(k){return na=k,he(D($(k))+" w"),this};g.__private__.setLineDash=Qs.API.setLineDash=Qs.API.setLineDashPattern=function(k,Ae){if(k=k||[],Ae=Ae||0,isNaN(Ae)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Te){return D($(Te))}).join(" "),Ae=D($(Ae)),he("["+k+"] "+Ae+" d"),this};var oo=g.__private__.getLineHeight=g.getLineHeight=function(){return Ye*io};g.__private__.getLineHeight=g.getLineHeight=function(){return Ye*io};var fo=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(io=k),this},Ki=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return io};fo(s.lineHeight);var Vr=g.__private__.getHorizontalCoordinate=function(k){return $(k)},Xt=g.__private__.getVerticalCoordinate=function(k){return L===F?k:pt[X].mediaBox.topRightY-pt[X].mediaBox.bottomLeftY-$(k)},Gs=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(k){return D(Vr(k))},Is=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(k){return D(Xt(k))},En=s.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return fn(En)},g.__private__.setStrokeColor=g.setDrawColor=function(k,Ae,Te,De){return En=Un({ch1:k,ch2:Ae,ch3:Te,ch4:De,pdfColorType:"draw",precision:2}),he(En),this};var jn=s.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return fn(jn)},g.__private__.setFillColor=g.setFillColor=function(k,Ae,Te,De){return jn=Un({ch1:k,ch2:Ae,ch3:Te,ch4:De,pdfColorType:"fill",precision:2}),he(jn),this};var rs=s.textColor||"0 g",lr=g.__private__.getTextColor=g.getTextColor=function(){return fn(rs)};g.__private__.setTextColor=g.setTextColor=function(k,Ae,Te,De){return rs=Un({ch1:k,ch2:Ae,ch3:Te,ch4:De,pdfColorType:"text",precision:3}),this};var gr=s.charSpace,Ja=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(gr||0)};g.__private__.setCharSpace=g.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gr=k,this};var ra=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(k){var Ae=g.CapJoinStyles[k];if(Ae===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ra=Ae,he(Ae+" J"),this};var Sr=0;g.__private__.setLineJoin=g.setLineJoin=function(k){var Ae=g.CapJoinStyles[k];if(Ae===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sr=Ae,he(Ae+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(D($(k))+" M"),this},g.GState=pg,g.setGState=function(k){(k=typeof k=="string"?Et[Gt[k]]:Ca(null,k)).equals(xs)||(he("/"+k.id+" gs"),xs=k)};var Ca=function(k,Ae){if(!k||!Gt[k]){var Te=!1;for(var De in Et)if(Et.hasOwnProperty(De)&&Et[De].equals(Ae)){Te=!0;break}if(Te)Ae=Et[De];else{var Ke="GS"+(Object.keys(Et).length+1).toString(10);Et[Ke]=Ae,Ae.id=Ke}return k&&(Gt[k]=Ae.id),Pt.publish("addGState",Ae),Ae}};g.addGState=function(k,Ae){return Ca(k,Ae),this},g.saveGraphicsState=function(){return he("q"),At.push({key:Mt,size:Ye,color:rs}),this},g.restoreGraphicsState=function(){he("Q");var k=At.pop();return Mt=k.key,Ye=k.size,rs=k.color,xs=null,this},g.setCurrentTransformationMatrix=function(k){return he(k.toString()+" cm"),this},g.comment=function(k){return he("#"+k),this};var Ur=function(k,Ae){var Te=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(gt){isNaN(gt)||(Te=parseFloat(gt))}});var De=Ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(gt){isNaN(gt)||(De=parseFloat(gt))}});var Ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ke},set:function(gt){Ke=gt.toString()}}),this},Bn=function(k,Ae,Te,De){Ur.call(this,k,Ae),this.type="rect";var Ke=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ke},set:function(_t){isNaN(_t)||(Ke=parseFloat(_t))}});var gt=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gt},set:function(_t){isNaN(_t)||(gt=parseFloat(_t))}}),this},Sa=function(){this.page=Tt,this.currentPage=X,this.pages=Fe.slice(0),this.pagesContext=pt.slice(0),this.x=Nt,this.y=Es,this.matrix=Me,this.width=Bi(X),this.height=cA(X),this.outputDestination=qe,this.id="",this.objectNumber=-1};Sa.prototype.restore=function(){Tt=this.page,X=this.currentPage,pt=this.pagesContext,Fe=this.pages,Nt=this.x,Es=this.y,Me=this.matrix,Kl(X,this.width),qa(X,this.height),qe=this.outputDestination};var fa=function(k,Ae,Te,De,Ke){wn.push(new Sa),Tt=X=0,Fe=[],Nt=k,Es=Ae,Me=Ke,Va([Te,De])};for(var zi in g.beginFormObject=function(k,Ae,Te,De,Ke){return fa(k,Ae,Te,De,Ke),this},g.endFormObject=function(k){return(function(Ae){if(Os[Ae])wn.pop().restore();else{var Te=new Sa,De="Xo"+(Object.keys(os).length+1).toString(10);Te.id=De,Os[Ae]=De,os[De]=Te,Pt.publish("addFormObject",Te),wn.pop().restore()}})(k),this},g.doFormObject=function(k,Ae){var Te=os[Os[k]];return he("q"),he(Ae.toString()+" cm"),he("/"+Te.id+" Do"),he("Q"),this},g.getFormObject=function(k){var Ae=os[Os[k]];return{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height,matrix:Ae.matrix}},g.save=function(k,Ae){return k=k||"generated.pdf",(Ae=Ae||{}).returnPromise=Ae.returnPromise||!1,Ae.returnPromise===!1?(Dh(hs(Rt()),k),typeof Dh.unload=="function"&&cn.setTimeout&&setTimeout(Dh.unload,911),this):new Promise(function(Te,De){try{var Ke=Dh(hs(Rt()),k);typeof Dh.unload=="function"&&cn.setTimeout&&setTimeout(Dh.unload,911),Te(Ke)}catch(gt){De(gt.message)}})},Qs.API)Qs.API.hasOwnProperty(zi)&&(zi==="events"&&Qs.API.events.length?(function(k,Ae){var Te,De,Ke;for(Ke=Ae.length-1;Ke!==-1;Ke--)Te=Ae[Ke][0],De=Ae[Ke][1],k.subscribe.apply(k,[Te].concat(typeof De=="function"?[De]:De))})(Pt,Qs.API.events):g[zi]=Qs.API[zi]);function Bi(k){return pt[k].mediaBox.topRightX-pt[k].mediaBox.bottomLeftX}function Kl(k,Ae){pt[k].mediaBox.topRightX=Ae+pt[k].mediaBox.bottomLeftX}function cA(k){return pt[k].mediaBox.topRightY-pt[k].mediaBox.bottomLeftY}function qa(k,Ae){pt[k].mediaBox.topRightY=Ae+pt[k].mediaBox.bottomLeftY}var Gi=g.getPageWidth=function(k){return Bi(k=k||X)/dt},uA=g.setPageWidth=function(k,Ae){Kl(k,Ae*dt)},mo=g.getPageHeight=function(k){return cA(k=k||X)/dt},$i=g.setPageHeight=function(k,Ae){qa(k,Ae*dt)};return g.internal={pdfEscape:Ha,getStyle:Uo,getFont:oi,getFontSize:Lt,getCharSpace:Ja,getTextColor:lr,getLineHeight:oo,getLineHeightFactor:Ki,getLineWidth:li,write:et,getHorizontalCoordinate:Vr,getVerticalCoordinate:Xt,getCoordinateString:Gs,getVerticalCoordinateString:Is,collections:{},newObject:us,newAdditionalObject:Mn,newObjectDeferred:Nn,newObjectDeferredBegin:jr,getFilters:Br,putStream:ua,events:Pt,scaleFactor:dt,pageSize:{getWidth:function(){return Gi(X)},setWidth:function(k){uA(X,k)},getHeight:function(){return mo(X)},setHeight:function(k){$i(X,k)}},encryptionOptions:A,encryption:ln,getEncryptor:function(k){return A!==null?ln.encryptor(k,0):function(Ae){return Ae}},output:dn,getNumberOfPages:yt,get pages(){return Fe},out:he,f2:P,f3:V,getPageInfo:mn,getPageInfoByObjId:Ba,getCurrentPageInfo:Xa,getPDFVersion:I,Point:Ur,Rectangle:Bn,Matrix:es,hasHotfix:ms},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Gi(X)},set:function(k){uA(X,k)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return mo(X)},set:function(k){$i(X,k)},enumerable:!0,configurable:!0}),(function(k){for(var Ae=0,Te=at.length;Ae<Te;Ae++){var De=ro.call(this,k[Ae][0],k[Ae][1],k[Ae][2],at[Ae][3],!0);m===!1&&(x[De]=!0);var Ke=k[Ae][0].split("-");_r({id:De,fontName:Ke[0],fontStyle:Ke[1]||""})}Pt.publish("addFonts",{fonts:ut,dictionary:ze})}).call(g,at),Mt="F1",da(r,t),Pt.publish("initialized"),g}Kf.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},Kf.prototype.toHexString=function(s){return s.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kf.prototype.hexToBytes=function(s){for(var e=[],t=0;t<s.length;t+=2)e.push(String.fromCharCode(parseInt(s.substr(t,2),16)));return e.join("")},Kf.prototype.processOwnerPassword=function(s,e){return Nb(Sb(e).substr(0,5),s)},Kf.prototype.encryptor=function(s,e){var t=Sb(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Nb(t,n)}},pg.prototype.equals=function(s){var e,t="id,objectNumber,equals";if(!s||Hr(s)!==Hr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!s.hasOwnProperty(e)||this[e]!==s[e])return!1;n++}for(e in s)s.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Qs.API={events:[]},Qs.version="3.0.4";var ri=Qs.API,h2=1,Af=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Of=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(s){return s.toFixed(2)},yd=function(s){return s.toFixed(5)};ri.__acroform__={};var Hl=function(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s},JC=function(s){return s*h2},Qc=function(s){var e=new SI,t=Ns.internal.getHeight(s)||0,n=Ns.internal.getWidth(s)||0;return e.BBox=[0,0,Number(bn(n)),Number(bn(t))],e},V9=ri.__acroform__.setBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<e},K9=ri.__acroform__.clearBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<e)},z9=ri.__acroform__.getBit=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<e?1:0},pi=ri.__acroform__.getBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return z9(s,e-1)},gi=ri.__acroform__.setBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return V9(s,e-1)},xi=ri.__acroform__.clearBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K9(s,e-1)},G9=ri.__acroform__.calculateCoordinates=function(s,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,r=s[0],o=s[1],c=s[2],h=s[3],u={};return u.lowerLeft_X=t(r)||0,u.lowerLeft_Y=n(o+h)||0,u.upperRight_X=t(r+c)||0,u.upperRight_Y=n(o)||0,[Number(bn(u.lowerLeft_X)),Number(bn(u.lowerLeft_Y)),Number(bn(u.upperRight_X)),Number(bn(u.upperRight_Y))]},$9=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var e=[],t=s._V||s.DV,n=Eb(s,t),r=s.scope.internal.getFont(s.fontName,s.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(s.scope.__private__.encodeColorString(s.color)),e.push("/"+r+" "+bn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Qc(s);return o.scope=s.scope,o.stream=e.join(`
`),o}},Eb=function(s,e){var t=s.fontSize===0?s.maxFontSize:s.fontSize,n={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=s.multiline?r.map(function(P){return P.split(`
`)}):r.map(function(P){return[P]});var o=t,c=Ns.internal.getHeight(s)||0;c=c<0?-c:c;var h=Ns.internal.getWidth(s)||0;h=h<0?-h:h;var u=function(P,V,$){if(P+1<r.length){var ae=V+" "+r[P+1][0];return J0(ae,s,$).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var f,A,m=J0("3",s,o).height,x=s.multiline?c-o:(c-m)/2,g=x+=2,b=0,I=0,N=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+J0(e,s,o=12).width+", FieldWidth:"+h+`
`;break}for(var S="",E=0,F=0;F<r.length;F++)if(r.hasOwnProperty(F)){var L=!1;if(r[F].length!==1&&N!==r[F].length-1){if((m+2)*(E+2)+2>c)continue e;S+=r[F][N],L=!0,I=F,F--}else{S=(S+=r[F][N]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var O=parseInt(F),H=u(O,S,o),Q=F>=r.length-1;if(H&&!Q){S+=" ",N=0;continue}if(H||Q){if(Q)I=O;else if(s.multiline&&(m+2)*(E+2)+2>c)continue e}else{if(!s.multiline||(m+2)*(E+2)+2>c)continue e;I=O}}for(var D="",R=b;R<=I;R++){var K=r[R];if(s.multiline){if(R===I){D+=K[N]+" ",N=(N+1)%K.length;continue}if(R===b){D+=K[K.length-1]+" ";continue}}D+=K[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,A=J0(D,s,o).width,s.textAlign){case"right":f=h-A-2;break;case"center":f=(h-A)/2;break;default:f=2}e+=bn(f)+" "+bn(g)+` Td
`,e+="("+Af(D)+`) Tj
`,e+=-bn(f)+` 0 Td
`,g=-(o+2),A=0,b=L?I:I+1,E++,S=""}break}return n.text=e,n.fontSize=o,n},J0=function(s,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(s,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},Y9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},W9=function(s,e){var t={type:"reference",object:s};e.internal.getPageInfo(s.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(s.page).pageContext.annotations.push(t)},X9=function(s,e){if(e.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(dc.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(Y9)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h2=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new NI,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];o.objId=void 0,o.hasAnnotation&&W9(o,t)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(t){(function(n,r){var o=!n;for(var c in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var h=n[c],u=[],f=h.Rect;if(h.Rect&&(h.Rect=G9(h.Rect,r)),r.internal.newObjectDeferredBegin(h.objId,!0),h.DA=Ns.createDefaultAppearanceStream(h),Hr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(u=h.getKeyValueListForStream()),h.Rect=f,h.hasAppearanceStream&&!h.appearanceStreamContent){var A=$9(h);u.push({key:"AP",value:"<</N "+A+">>"}),r.internal.acroformPlugin.xForms.push(A)}if(h.appearanceStreamContent){var m="";for(var x in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(x)){var g=h.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var b=g[c];typeof b=="function"&&(b=b.call(r,h)),m+="/"+c+" "+b+" ",r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(r,h)),m+="/"+c+" "+b,r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:h.objId}),r.internal.out("endobj")}o&&(function(I,N){for(var S in I)if(I.hasOwnProperty(S)){var E=S,F=I[S];N.internal.newObjectDeferredBegin(F.objId,!0),Hr(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete I[E]}})(r.internal.acroformPlugin.xForms,r)})(t,s)}),s.internal.acroformPlugin.isInitialized=!0}},CI=ri.__acroform__.arrayToPdfArray=function(s,e,t){var n=function(c){return c};if(Array.isArray(s)){for(var r="[",o=0;o<s.length;o++)switch(o!==0&&(r+=" "),Hr(s[o])){case"boolean":case"number":case"object":r+=s[o].toString();break;case"string":s[o].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),r+="("+Af(n(s[o].toString()))+")"):r+=s[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g1=function(s,e,t){var n=function(r){return r};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(s=s||"").toString(),"("+Af(n(s))+")"},kc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};kc.prototype.toString=function(){return this.objId+" 0 R"},kc.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},kc.prototype.getKeyValueListForStream=function(){var s=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],r=this[n];r&&(Array.isArray(r)?s.push({key:n,value:CI(r,this.objId,this.scope)}):r instanceof kc?(r.scope=this.scope,s.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&s.push({key:n,value:r}))}return s};var SI=function(){kc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){s=t.trim()},get:function(){return s||null}})};Hl(SI,kc);var NI=function(){kc.call(this);var s,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Af(t(s))+")"}},set:function(t){s=t}})};Hl(NI,kc);var dc=function s(){kc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pi(e,3)},set:function(S){S?this.F=gi(e,3):this.F=xi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof nv)return;o="FieldObject"+s.FieldNum++}var S=function(E){return E};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Af(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/h2:f},set:function(S){f=S}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(S){A=S}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof nv||this instanceof Od))return g1(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=S}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof so==0?g1(x,this.objId,this.scope):x},set:function(S){S=S.toString(),x=this instanceof so==0?S.substr(0,1)==="("?Of(S.substr(1,S.length-2)):Of(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof so==1?Of(x.substr(1,x.length-1)):x},set:function(S){S=S.toString(),x=this instanceof so==1?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof so==0?g1(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof so==0?S.substr(0,1)==="("?Of(S.substr(1,S.length-2)):Of(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof so==1?Of(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof so==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(S){S=!!S,I=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(S){b=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,1)},set:function(S){S?this.Ff=gi(this.Ff,1):this.Ff=xi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,2)},set:function(S){S?this.Ff=gi(this.Ff,2):this.Ff=xi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,3)},set:function(S){S?this.Ff=gi(this.Ff,3):this.Ff=xi(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');N=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(N){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Hl(dc,kc);var zh=function(){dc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CI(e,this.objId,this.scope)},set:function(t){var n,r;r=[],typeof(n=t)=="string"&&(r=(function(o,c,h){h||(h=1);for(var u,f=[];u=c.exec(o);)f.push(u[h]);return f})(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,18)},set:function(t){t?this.Ff=gi(this.Ff,18):this.Ff=xi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=gi(this.Ff,19):this.Ff=xi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,20)},set:function(t){t?(this.Ff=gi(this.Ff,20),e.sort()):this.Ff=xi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,22)},set:function(t){t?this.Ff=gi(this.Ff,22):this.Ff=xi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(t){t?this.Ff=gi(this.Ff,23):this.Ff=xi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,27)},set:function(t){t?this.Ff=gi(this.Ff,27):this.Ff=xi(this.Ff,27)}}),this.hasAppearanceStream=!1};Hl(zh,dc);var Gh=function(){zh.call(this),this.fontName="helvetica",this.combo=!1};Hl(Gh,zh);var $h=function(){Gh.call(this),this.combo=!0};Hl($h,Gh);var $p=function(){$h.call(this),this.edit=!0};Hl($p,$h);var so=function(){dc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,15)},set:function(t){t?this.Ff=gi(this.Ff,15):this.Ff=xi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,16)},set:function(t){t?this.Ff=gi(this.Ff,16):this.Ff=xi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,17)},set:function(t){t?this.Ff=gi(this.Ff,17):this.Ff=xi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(t){t?this.Ff=gi(this.Ff,26):this.Ff=xi(this.Ff,26)}});var s,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+Af(t(e[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Hr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(t){s="/"+t}})};Hl(so,dc);var Yp=function(){so.call(this),this.pushButton=!0};Hl(Yp,so);var Yh=function(){so.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e!==void 0?e:[]}})};Hl(Yh,so);var nv=function(){var s,e;dc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(h){return h};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),n)c.push("/"+o+" ("+Af(r(n[o]))+")");return c.push(">>"),c.join(`
`)},set:function(r){Hr(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ns.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hl(nv,dc),Yh.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=s.createAppearanceStream(t.optionName),t.caption=s.getCA()}},Yh.prototype.createOption=function(s){var e=new nv;return e.Parent=this,e.optionName=s,this.Kids.push(e),J9.call(this.scope,e),e};var Wp=function(){so.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ns.CheckBox.createAppearanceStream()};Hl(Wp,so);var Od=function(){dc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,13)},set:function(e){e?this.Ff=gi(this.Ff,13):this.Ff=xi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,21)},set:function(e){e?this.Ff=gi(this.Ff,21):this.Ff=xi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(e){e?this.Ff=gi(this.Ff,23):this.Ff=xi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,24)},set:function(e){e?this.Ff=gi(this.Ff,24):this.Ff=xi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,25)},set:function(e){e?this.Ff=gi(this.Ff,25):this.Ff=xi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(e){e?this.Ff=gi(this.Ff,26):this.Ff=xi(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){Number.isInteger(e)&&(s=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hl(Od,dc);var Xp=function(){Od.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,14)},set:function(s){s?this.Ff=gi(this.Ff,14):this.Ff=xi(this.Ff,14)}}),this.password=!0};Hl(Xp,Od);var Ns={CheckBox:{createAppearanceStream:function(){return{N:{On:Ns.CheckBox.YesNormal},D:{On:Ns.CheckBox.YesPushDown,Off:Ns.CheckBox.OffPushDown}}},YesPushDown:function(s){var e=Qc(s);e.scope=s.scope;var t=[],n=s.scope.internal.getFont(s.fontName,s.fontStyle).id,r=s.scope.__private__.encodeColorString(s.color),o=Eb(s,s.caption);return t.push("0.749023 g"),t.push("0 0 "+bn(Ns.internal.getWidth(s))+" "+bn(Ns.internal.getHeight(s))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+bn(o.fontSize)+" Tf "+r),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(s){var e=Qc(s);e.scope=s.scope;var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,n=s.scope.__private__.encodeColorString(s.color),r=[],o=Ns.internal.getHeight(s),c=Ns.internal.getWidth(s),h=Eb(s,s.caption);return r.push("1 g"),r.push("0 0 "+bn(c)+" "+bn(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+bn(c-1)+" "+bn(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+bn(h.fontSize)+" Tf "+n),r.push(h.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(s){var e=Qc(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Ns.internal.getWidth(s))+" "+bn(Ns.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(s){var e={D:{Off:Ns.RadioButton.Circle.OffPushDown},N:{}};return e.N[s]=Ns.RadioButton.Circle.YesNormal,e.D[s]=Ns.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(s){var e=Qc(s);e.scope=s.scope;var t=[],n=Ns.internal.getWidth(s)<=Ns.internal.getHeight(s)?Ns.internal.getWidth(s)/4:Ns.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var r=Ns.internal.Bezier_C,o=Number((n*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yd(Ns.internal.getWidth(s)/2)+" "+yd(Ns.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=Qc(s);e.scope=s.scope;var t=[],n=Ns.internal.getWidth(s)<=Ns.internal.getHeight(s)?Ns.internal.getWidth(s)/4:Ns.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),o=Number((r*Ns.internal.Bezier_C).toFixed(5)),c=Number((n*Ns.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yd(Ns.internal.getWidth(s)/2)+" "+yd(Ns.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yd(Ns.internal.getWidth(s)/2)+" "+yd(Ns.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),t.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),t.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),t.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(s){var e=Qc(s);e.scope=s.scope;var t=[],n=Ns.internal.getWidth(s)<=Ns.internal.getHeight(s)?Ns.internal.getWidth(s)/4:Ns.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),o=Number((r*Ns.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yd(Ns.internal.getWidth(s)/2)+" "+yd(Ns.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(s){var e={D:{Off:Ns.RadioButton.Cross.OffPushDown},N:{}};return e.N[s]=Ns.RadioButton.Cross.YesNormal,e.D[s]=Ns.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(s){var e=Qc(s);e.scope=s.scope;var t=[],n=Ns.internal.calculateCross(s);return t.push("q"),t.push("1 1 "+bn(Ns.internal.getWidth(s)-2)+" "+bn(Ns.internal.getHeight(s)-2)+" re"),t.push("W"),t.push("n"),t.push(bn(n.x1.x)+" "+bn(n.x1.y)+" m"),t.push(bn(n.x2.x)+" "+bn(n.x2.y)+" l"),t.push(bn(n.x4.x)+" "+bn(n.x4.y)+" m"),t.push(bn(n.x3.x)+" "+bn(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=Qc(s);e.scope=s.scope;var t=Ns.internal.calculateCross(s),n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(Ns.internal.getWidth(s))+" "+bn(Ns.internal.getHeight(s))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+bn(Ns.internal.getWidth(s)-2)+" "+bn(Ns.internal.getHeight(s)-2)+" re"),n.push("W"),n.push("n"),n.push(bn(t.x1.x)+" "+bn(t.x1.y)+" m"),n.push(bn(t.x2.x)+" "+bn(t.x2.y)+" l"),n.push(bn(t.x4.x)+" "+bn(t.x4.y)+" m"),n.push(bn(t.x3.x)+" "+bn(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(s){var e=Qc(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Ns.internal.getWidth(s))+" "+bn(Ns.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(s){var e=s.scope.internal.getFont(s.fontName,s.fontStyle).id,t=s.scope.__private__.encodeColorString(s.color);return"/"+e+" "+s.fontSize+" Tf "+t}};Ns.internal={Bezier_C:.551915024494,calculateCross:function(s){var e=Ns.internal.getWidth(s),t=Ns.internal.getHeight(s),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Ns.internal.getWidth=function(s){var e=0;return Hr(s)==="object"&&(e=JC(s.Rect[2])),e},Ns.internal.getHeight=function(s){var e=0;return Hr(s)==="object"&&(e=JC(s.Rect[3])),e};var J9=ri.addField=function(s){if(X9(this,s),!(s instanceof dc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=s).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};ri.AcroFormChoiceField=zh,ri.AcroFormListBox=Gh,ri.AcroFormComboBox=$h,ri.AcroFormEditBox=$p,ri.AcroFormButton=so,ri.AcroFormPushButton=Yp,ri.AcroFormRadioButton=Yh,ri.AcroFormCheckBox=Wp,ri.AcroFormTextField=Od,ri.AcroFormPasswordField=Xp,ri.AcroFormAppearance=Ns,ri.AcroForm={ChoiceField:zh,ListBox:Gh,ComboBox:$h,EditBox:$p,Button:so,PushButton:Yp,RadioButton:Yh,CheckBox:Wp,TextField:Od,PasswordField:Xp,Appearance:Ns},Qs.AcroForm={ChoiceField:zh,ListBox:Gh,ComboBox:$h,EditBox:$p,Button:so,PushButton:Yp,RadioButton:Yh,CheckBox:Wp,TextField:Od,PasswordField:Xp,Appearance:Ns};var q9=Qs.AcroForm;function EI(s){return s.reduce(function(e,t,n){return e[t]=n,e},{})}(function(s){var e="addImage_";s.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=s.__addimage__.getImageFileTypeByImageData=function(P,V){var $,ae,de,re,W,J=t;if((V=V||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(H(P))for(W in n)for(de=n[W],$=0;$<de.length;$+=1){for(re=!0,ae=0;ae<de[$].length;ae+=1)if(de[$][ae]!==void 0&&de[$][ae]!==P[ae]){re=!1;break}if(re===!0){J=W;break}}else for(W in n)for(de=n[W],$=0;$<de.length;$+=1){for(re=!0,ae=0;ae<de[$].length;ae+=1)if(de[$][ae]!==void 0&&de[$][ae]!==P.charCodeAt(ae)){re=!1;break}if(re===!0){J=W;break}}return J===t&&V!==t&&(J=V),J},o=function P(V){for(var $=this.internal.write,ae=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:V.width}),re.push({key:"Height",value:V.height}),V.colorSpace===S.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===S.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var W="",J=0,oe=V.transparency.length;J<oe;J++)W+=V.transparency[J]+" "+V.transparency[J]+" ";re.push({key:"Mask",value:"["+W+"]"})}V.sMask!==void 0&&re.push({key:"SMask",value:V.objectId+1+" 0 R"});var xe=V.filter!==void 0?["/"+V.filter]:void 0;if(ae({data:V.data,additionalKeyValues:re,alreadyAppliedFilters:xe,objectId:V.objectId}),$("endobj"),"sMask"in V&&V.sMask!==void 0){var ee,M=(ee=V.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:V.bitsPerComponent,X={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:V.sMask};"filter"in V&&(X.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(V.width),X.filter=V.filter),P.call(this,X)}if(V.colorSpace===S.INDEXED){var ie=this.internal.newObject();ae({data:D(new Uint8Array(V.palette)),objectId:ie}),$("endobj")}},c=function(){var P=this.internal.collections[e+"images"];for(var V in P)o.call(this,P[V])},h=function(){var P,V=this.internal.collections[e+"images"],$=this.internal.write;for(var ae in V)$("/I"+(P=V[ae]).index,P.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},f=function(){var P=this.internal.collections[e+"images"];return u.call(this),P},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(P){return typeof s["process"+P.toUpperCase()]=="function"},x=function(P){return Hr(P)==="object"&&P.nodeType===1},g=function(P,V){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var $=""+P.getAttribute("src");if($.indexOf("data:image/")===0)return bx(unescape($).split("base64,").pop());var ae=s.loadFile($,!0);if(ae!==void 0)return ae}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var de;switch(V){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return bx(P.toDataURL(de,1).split("base64,").pop())}},b=function(P){var V=this.internal.collections[e+"images"];if(V){for(var $ in V)if(P===V[$].alias)return V[$]}},I=function(P,V,$){return P||V||(P=-96,V=-96),P<0&&(P=-1*$.width*72/P/this.internal.scaleFactor),V<0&&(V=-1*$.height*72/V/this.internal.scaleFactor),P===0&&(P=V*$.width/$.height),V===0&&(V=P*$.height/$.width),[P,V]},N=function(P,V,$,ae,de,re){var W=I.call(this,$,ae,de),J=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,xe=f.call(this);if($=W[0],ae=W[1],xe[de.index]=de,re){re*=Math.PI/180;var ee=Math.cos(re),M=Math.sin(re),X=function(le){return le.toFixed(4)},ie=[X(ee),X(M),X(-1*M),X(ee),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,J(P),oe(V+ae),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([J($),"0","0",J(ae),"0","0","cm"].join(" "))):this.internal.write([J($),"0","0",J(ae),J(P),oe(V+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},S=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=s.__addimage__.sHashCode=function(P){var V,$,ae=0;if(typeof P=="string")for($=P.length,V=0;V<$;V++)ae=(ae<<5)-ae+P.charCodeAt(V),ae|=0;else if(H(P))for($=P.byteLength/2,V=0;V<$;V++)ae=(ae<<5)-ae+P[V],ae|=0;return ae},L=s.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var V=!0;return P.length===0&&(V=!1),P.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(V=!1),V},O=s.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var V=P.indexOf(",");return V<0?null:P.substring(0,V).trim().endsWith("base64")?P.substring(V+1):null};s.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var H=s.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},Q=s.__addimage__.binaryStringToUint8Array=function(P){for(var V=P.length,$=new Uint8Array(V),ae=0;ae<V;ae++)$[ae]=P.charCodeAt(ae);return $},D=s.__addimage__.arrayBufferToBinaryString=function(P){for(var V="",$=H(P)?P:new Uint8Array(P),ae=0;ae<$.length;ae+=8192)V+=String.fromCharCode.apply(null,$.subarray(ae,ae+8192));return V};s.addImage=function(){var P,V,$,ae,de,re,W,J,oe;if(typeof arguments[1]=="number"?(V=t,$=arguments[1],ae=arguments[2],de=arguments[3],re=arguments[4],W=arguments[5],J=arguments[6],oe=arguments[7]):(V=arguments[1],$=arguments[2],ae=arguments[3],de=arguments[4],re=arguments[5],W=arguments[6],J=arguments[7],oe=arguments[8]),Hr(P=arguments[0])==="object"&&!x(P)&&"imageData"in P){var xe=P;P=xe.imageData,V=xe.format||V||t,$=xe.x||$||0,ae=xe.y||ae||0,de=xe.w||xe.width||de,re=xe.h||xe.height||re,W=xe.alias||W,J=xe.compression||J,oe=xe.rotation||xe.angle||oe}var ee=this.internal.getFilters();if(J===void 0&&ee.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN($)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=R.call(this,P,V,W,J);return N.call(this,$,ae,de,re,M,oe),this};var R=function(P,V,$,ae){var de,re,W;if(typeof P=="string"&&r(P)===t){P=unescape(P);var J=K(P,!1);(J!==""||(J=s.loadFile(P,!0))!==void 0)&&(P=J)}if(x(P)&&(P=g(P,V)),V=r(P,V),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((W=$)==null||W.length===0)&&($=(function(oe){return typeof oe=="string"||H(oe)?F(oe):H(oe.data)?F(oe.data):null})(P)),(de=b.call(this,$))||(P instanceof Uint8Array||V==="RGBA"||(re=P,P=Q(P)),de=this["process"+V.toUpperCase()](P,A.call(this),$,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in s.image_compression?oe:E.NONE})(ae),re)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},K=s.__addimage__.convertBase64ToBinaryString=function(P,V){V=typeof V!="boolean"||V;var $,ae="";if(typeof P=="string"){var de;$=(de=O(P))!==null&&de!==void 0?de:P;try{ae=bx($)}catch(re){if(V)throw L($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};s.getImageProperties=function(P){var V,$,ae="";if(x(P)&&(P=g(P)),typeof P=="string"&&r(P)===t&&((ae=K(P,!1))===""&&(ae=s.loadFile(P)||""),P=ae),$=r(P),!m($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(P instanceof Uint8Array||(P=Q(P)),!(V=this["process"+$.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=$,V}})(Qs.API),(function(s){var e=function(t){if(t!==void 0&&t!="")return!0};Qs.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(t){for(var n,r,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,A=!1,m=0;m<f.length&&!A;m++)switch((n=f[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){n=f[x];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(I.objId),E=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+c(n.bounds.x)+" "+h(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y)+"] ")+"/Contents ("+g(S(n.contents))+")",o+=" /Popup "+N.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(S(E))+") >>",I.content=o;var F=I.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+c(n.bounds.x+30)+" "+h(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+h(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(o+=" /Open true"),o+=" >>",N.content=o,this.internal.write(I.objId,"0 R",N.objId,"0 R");break;case"freetext":r="/Rect ["+c(n.bounds.x)+" "+h(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(b(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var H=h(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+H+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),s.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},s.link=function(t,n,r,o,c){var h=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:u(t),y:f(n),w:u(t+r),h:f(n+o)},options:c,type:"link"})},s.textWithLink=function(t,n,r,o){var c,h,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var A=this.splitTextToSize(t,h).length;c=Math.ceil(f*A)}else h=u,c=f;return this.text(t,n,r,o),r+=.2*f,o.align==="center"&&(n-=u/2),o.align==="right"&&(n-=u),this.link(n,r-f,h,c,o),u},s.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Qs.API),(function(s){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];s.__arabicParser__={};var o=s.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},c=s.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},h=s.__arabicParser__.isArabicEndLetter=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length<=2},u=s.__arabicParser__.isArabicAlfLetter=function(I){return c(I)&&r.indexOf(I.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=1};var f=s.__arabicParser__.arabicLetterHasFinalForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=3};var A=s.__arabicParser__.arabicLetterHasMedialForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length==4},m=s.__arabicParser__.resolveLigatures=function(I){var N=0,S=t,E="",F=0;for(N=0;N<I.length;N+=1)S[I.charCodeAt(N)]!==void 0?(F++,typeof(S=S[I.charCodeAt(N)])=="number"&&(E+=String.fromCharCode(S),S=t,F=0),N===I.length-1&&(S=t,E+=I.charAt(N-(F-1)),N-=F-1,F=0)):(S=t,E+=I.charAt(N-F),N-=F,F=0);return E};s.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&n[I.charCodeAt(0)]!==void 0};var x=s.__arabicParser__.getCorrectForm=function(I,N,S){return c(I)?o(I)===!1?-1:!f(I)||!c(N)&&!c(S)||!c(S)&&h(N)||h(I)&&!c(N)||h(I)&&u(N)||h(I)&&h(N)?0:A(I)&&c(N)&&!h(N)&&c(S)&&f(S)?3:h(I)||!c(S)?1:2:-1},g=function(I){var N=0,S=0,E=0,F="",L="",O="",H=(I=I||"").split("\\s+"),Q=[];for(N=0;N<H.length;N+=1){for(Q.push(""),S=0;S<H[N].length;S+=1)F=H[N][S],L=H[N][S-1],O=H[N][S+1],c(F)?(E=x(F,L,O),Q[N]+=E!==-1?String.fromCharCode(e[F.charCodeAt(0)][E]):F):Q[N]+=F;Q[N]=m(Q[N])}return Q.join(" ")},b=s.__arabicParser__.processArabic=s.processArabic=function(){var I,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(N)){var E=0;for(S=[],E=0;E<N.length;E+=1)Array.isArray(N[E])?S.push([g(N[E][0]),N[E][1],N[E][2]]):S.push([g(N[E])]);I=S}else I=g(N);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};s.events.push(["preProcessText",b])})(Qs.API),Qs.API.autoPrint=function(s){var e;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(s){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(h){n=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var r;if((t=t||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Qs.API),(function(s){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(I){x=I}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(I){b=I}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},s.getTextDimensions=function(u,f){n.call(this);var A=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,g=0,b=0,I=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=f.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(F,L){return F.concat(N.splitTextToSize(L,S))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)g<(I=this.getStringUnitWidth(u[E],{font:m})*A)&&(g=I);return g!==0&&(b=u.length),{w:g/=x,h:Math.max((b*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/x,0)}},s.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=s.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-A,u.y+A,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+A,{align:"center",baseline:"top",maxWidth:u.width-A-A}):this.text(u.text,u.x+A,u.y+A,{align:"left",baseline:"top",maxWidth:u.width-A-A})),this.internal.__cell__.lastCell=u,this};s.table=function(u,f,A,m,x){if(n.call(this),!A)throw new Error("No data for PDF table.");var g,b,I,N,S=[],E=[],F=[],L={},O={},H=[],Q=[],D=(x=x||{}).autoSize||!1,R=x.printHeaders!==!1,K=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,P=x.margins||Object.assign({width:this.getPageWidth()},e),V=typeof x.padding=="number"?x.padding:3,$=x.headerBackgroundColor||"#c8c8c8",ae=x.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=ae,this.setFontSize(K),m==null)E=S=Object.keys(A[0]),F=S.map(function(){return"left"});else if(Array.isArray(m)&&Hr(m[0])==="object")for(S=m.map(function(xe){return xe.name}),E=m.map(function(xe){return xe.prompt||xe.name||""}),F=m.map(function(xe){return xe.align||"left"}),g=0;g<m.length;g+=1)O[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=S=m,F=S.map(function(){return"left"}));if(D||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<S.length;g+=1){for(L[N=S[g]]=A.map(function(xe){return xe[N]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=L[N],this.setFont(void 0,"normal"),I=0;I<b.length;I+=1)H.push(this.getTextDimensions(b[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[N]=Math.max.apply(null,H)+V+V,H=[]}if(R){var de={};for(g=0;g<S.length;g+=1)de[S[g]]={},de[S[g]].text=E[g],de[S[g]].align=F[g];var re=h.call(this,de,O);Q=S.map(function(xe){return new o(u,f,O[xe],re,de[xe].text,void 0,de[xe].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var W=m.reduce(function(xe,ee){return xe[ee.name]=ee.align,xe},{});for(g=0;g<A.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:A[g]},this);var J=h.call(this,A[g],O);for(I=0;I<S.length;I+=1){var oe=A[g][S[I]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:I,data:oe},this),c.call(this,new o(u,f,O[S[I]],J,oe,g+2,W[S[I]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var h=function(u,f){var A=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var b=u[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[g]-A-A)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/x+A+A},this).reduce(function(g,b){return Math.max(g,b)},0)};s.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},s.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){A=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(A.y=this.internal.__cell__.margins.top||0,x.push(A)),A.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,A),this.setTextColor(b)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Qs.API);var TI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},II=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tb=EI(II),_I=[100,200,300,400,500,600,700,800,900],Z9=EI(_I);function x1(s){var e=s.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return TI[o=o||"normal"]?o:"normal"})(s.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(s.weight),r=(function(o){return typeof Tb[o=o||"normal"]=="number"?o:"normal"})(s.stretch);return{family:e,style:t,weight:n,stretch:r,src:s.src||[],ref:s.ref||{name:e,style:[r,t,n].join(" ")}}}function qC(s,e,t,n){var r;for(r=t;r>=0&&r<e.length;r+=n)if(s[e[r]])return s[e[r]];for(r=t;r>=0&&r<e.length;r-=n)if(s[e[r]])return s[e[r]]}var eV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eS(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function tS(s){return s.trimLeft()}function tV(s,e){for(var t=0;t<s.length;){if(s.charAt(t)===e)return[s.substring(0,t),s.substring(t+1)];t+=1}return null}function sV(s){var e=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],s.substring(e[0].length)]}var q0,sS,nS,Pf,Z0,rS,aS,iS,v1=["times"];function oS(s,e,t,n,r){var o=4,c=AS;switch(r){case Qs.API.image_compression.FAST:o=1,c=lS;break;case Qs.API.image_compression.MEDIUM:o=6,c=cS;break;case Qs.API.image_compression.SLOW:o=9,c=uS}s=(function(u,f,A,m){for(var x,g=u.length/f,b=new Uint8Array(u.length+g),I=[nV,lS,AS,cS,uS],N=0;N<g;N+=1){var S=N*f,E=u.subarray(S,S+f);if(m)b.set(m(E,A,x),S+N);else{for(var F=I.length,L=[],O=0;O<F;O+=1)L[O]=I[O](E,A,x);var H=aV(L.concat());b.set(L[H],S+N)}x=E}return b})(s,e,Math.ceil(t*n/8),c);var h=wb(s,{level:o});return Qs.API.__addimage__.arrayBufferToBinaryString(h)}function nV(s){var e=Array.apply([],s);return e.unshift(0),e}function lS(s,e){var t=s.length,n=[];n[0]=1;for(var r=0;r<t;r+=1){var o=s[r-e]||0;n[r+1]=s[r]-o+256&255}return n}function AS(s,e,t){var n=s.length,r=[];r[0]=2;for(var o=0;o<n;o+=1){var c=t&&t[o]||0;r[o+1]=s[o]-c+256&255}return r}function cS(s,e,t){var n=s.length,r=[];r[0]=3;for(var o=0;o<n;o+=1){var c=s[o-e]||0,h=t&&t[o]||0;r[o+1]=s[o]+256-(c+h>>>1)&255}return r}function uS(s,e,t){var n=s.length,r=[];r[0]=4;for(var o=0;o<n;o+=1){var c=rV(s[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);r[o+1]=s[o]-c+256&255}return r}function rV(s,e,t){if(s===e&&e===t)return s;var n=Math.abs(e-t),r=Math.abs(s-t),o=Math.abs(s+e-t-t);return n<=r&&n<=o?s:r<=o?e:t}function aV(s){var e=s.map(function(t){return t.reduce(function(n,r){return n+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function y1(s,e,t){var n=e*t,r=Math.floor(n/8),o=16-(n-8*r+t),c=(1<<t)-1;return FI(s,r)>>o&c}function dS(s,e,t,n){var r=t*n,o=Math.floor(r/8),c=16-(r-8*o+n),h=(1<<n)-1,u=(e&h)<<c;(function(f,A,m){if(A+1<f.byteLength)f.setUint16(A,m,!1);else{var x=m>>8&255;f.setUint8(A,x)}})(s,o,FI(s,o)&~(h<<c)&65535|u)}function FI(s,e){return e+1<s.byteLength?s.getUint16(e,!1):s.getUint8(e)<<8}function iV(s){var e=0;if(s[e++]!==71||s[e++]!==73||s[e++]!==70||s[e++]!==56||(s[e++]+1&253)!=56||s[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=s[e++]|s[e++]<<8,n=s[e++]|s[e++]<<8,r=s[e++],o=r>>7,c=1<<1+(7&r);s[e++],s[e++];var h=null,u=null;o&&(h=e,u=c,e+=3*c);var f=!0,A=[],m=0,x=null,g=0,b=null;for(this.width=t,this.height=n;f&&e<s.length;)switch(s[e++]){case 33:switch(s[e++]){case 255:if(s[e]!==11||s[e+1]==78&&s[e+2]==69&&s[e+3]==84&&s[e+4]==83&&s[e+5]==67&&s[e+6]==65&&s[e+7]==80&&s[e+8]==69&&s[e+9]==50&&s[e+10]==46&&s[e+11]==48&&s[e+12]==3&&s[e+13]==1&&s[e+16]==0)e+=14,b=s[e++]|s[e++]<<8,e++;else for(e+=12;;){if(!((P=s[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(s[e++]!==4||s[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=s[e++];m=s[e++]|s[e++]<<8,x=s[e++],1&I||(x=null),g=I>>2&7,e++;break;case 254:for(;;){if(!((P=s[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+s[e-1].toString(16))}break;case 44:var N=s[e++]|s[e++]<<8,S=s[e++]|s[e++]<<8,E=s[e++]|s[e++]<<8,F=s[e++]|s[e++]<<8,L=s[e++],O=L>>6&1,H=1<<1+(7&L),Q=h,D=u,R=!1;L>>7&&(R=!0,Q=e,D=H,e+=3*H);var K=e;for(e++;;){var P;if(!((P=s[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}A.push({x:N,y:S,width:E,height:F,has_local_palette:R,palette_offset:Q,palette_size:D,data_offset:K,data_length:e-K,transparent_index:x,interlaced:!!O,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+s[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return b},this.frameInfo=function(V){if(V<0||V>=A.length)throw new Error("Frame index out of range.");return A[V]},this.decodeAndBlitFrameBGRA=function(V,$){var ae=this.frameInfo(V),de=ae.width*ae.height,re=new Uint8Array(de);hS(s,ae.data_offset,re,de);var W=ae.palette_offset,J=ae.transparent_index;J===null&&(J=256);var oe=ae.width,xe=t-oe,ee=oe,M=4*(ae.y*t+ae.x),X=4*((ae.y+ae.height)*t+ae.x),ie=M,le=4*xe;ae.interlaced===!0&&(le+=4*t*7);for(var ce=8,ye=0,Ne=re.length;ye<Ne;++ye){var ge=re[ye];if(ee===0&&(ee=oe,(ie+=le)>=X&&(le=4*xe+4*t*(ce-1),ie=M+(oe+xe)*(ce<<1),ce>>=1)),ge===J)ie+=4;else{var Se=s[W+3*ge],Fe=s[W+3*ge+1],Le=s[W+3*ge+2];$[ie++]=Le,$[ie++]=Fe,$[ie++]=Se,$[ie++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(V,$){var ae=this.frameInfo(V),de=ae.width*ae.height,re=new Uint8Array(de);hS(s,ae.data_offset,re,de);var W=ae.palette_offset,J=ae.transparent_index;J===null&&(J=256);var oe=ae.width,xe=t-oe,ee=oe,M=4*(ae.y*t+ae.x),X=4*((ae.y+ae.height)*t+ae.x),ie=M,le=4*xe;ae.interlaced===!0&&(le+=4*t*7);for(var ce=8,ye=0,Ne=re.length;ye<Ne;++ye){var ge=re[ye];if(ee===0&&(ee=oe,(ie+=le)>=X&&(le=4*xe+4*t*(ce-1),ie=M+(oe+xe)*(ce<<1),ce>>=1)),ge===J)ie+=4;else{var Se=s[W+3*ge],Fe=s[W+3*ge+1],Le=s[W+3*ge+2];$[ie++]=Se,$[ie++]=Fe,$[ie++]=Le,$[ie++]=255}--ee}}}function hS(s,e,t,n){for(var r=s[e++],o=1<<r,c=o+1,h=c+1,u=r+1,f=(1<<u)-1,A=0,m=0,x=0,g=s[e++],b=new Int32Array(4096),I=null;;){for(;A<16&&g!==0;)m|=s[e++]<<A,A+=8,g===1?g=s[e++]:--g;if(A<u)break;var N=m&f;if(m>>=u,A-=u,N!==o){if(N===c)break;for(var S=N<h?N:I,E=0,F=S;F>o;)F=b[F]>>8,++E;var L=F;if(x+E+(S!==N?1:0)>n)return void ta.log("Warning, gif stream longer than expected.");t[x++]=L;var O=x+=E;for(S!==N&&(t[x++]=L),F=S;E--;)F=b[F],t[--O]=255&F,F>>=8;I!==null&&h<4096&&(b[h++]=I<<8|L,h>=f+1&&u<12&&(++u,f=f<<1|1)),I=N}else h=c+1,f=(1<<(u=r+1))-1,I=null}return x!==n&&ta.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function b1(s){var e,t,n,r,o,c=Math.floor,h=new Array(64),u=new Array(64),f=new Array(64),A=new Array(64),m=new Array(65535),x=new Array(65535),g=new Array(64),b=new Array(64),I=[],N=0,S=7,E=new Array(64),F=new Array(64),L=new Array(64),O=new Array(256),H=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(M,X){for(var ie=0,le=0,ce=new Array,ye=1;ye<=16;ye++){for(var Ne=1;Ne<=M[ye];Ne++)ce[X[le]]=[],ce[X[le]][0]=ie,ce[X[le]][1]=ye,le++,ie++;ie*=2}return ce}function W(M){for(var X=M[0],ie=M[1]-1;ie>=0;)X&1<<ie&&(N|=1<<S),ie--,--S<0&&(N==255?(J(255),J(0)):J(N),S=7,N=0)}function J(M){I.push(M)}function oe(M){J(M>>8&255),J(255&M)}function xe(M,X,ie,le,ce){for(var ye,Ne=ce[0],ge=ce[240],Se=(function(Ye,Ut){var Lt,Wt,$t,ss,ns,Je,Ht,Vt,Mt,dt,Nt=0;for(Mt=0;Mt<8;++Mt){Lt=Ye[Nt],Wt=Ye[Nt+1],$t=Ye[Nt+2],ss=Ye[Nt+3],ns=Ye[Nt+4],Je=Ye[Nt+5],Ht=Ye[Nt+6];var Es=Lt+(Vt=Ye[Nt+7]),Me=Lt-Vt,ut=Wt+Ht,ze=Wt-Ht,At=$t+Je,mt=$t-Je,Ot=ss+ns,Et=ss-ns,Gt=Es+Ot,xs=Es-Ot,Tt=ut+At,pt=ut-At;Ye[Nt]=Gt+Tt,Ye[Nt+4]=Gt-Tt;var Pt=.707106781*(pt+xs);Ye[Nt+2]=xs+Pt,Ye[Nt+6]=xs-Pt;var qt=.382683433*((Gt=Et+mt)-(pt=ze+Me)),os=.5411961*Gt+qt,Os=1.306562965*pt+qt,wn=.707106781*(Tt=mt+ze),es=Me+wn,ca=Me-wn;Ye[Nt+5]=ca+os,Ye[Nt+3]=ca-os,Ye[Nt+1]=es+Os,Ye[Nt+7]=es-Os,Nt+=8}for(Nt=0,Mt=0;Mt<8;++Mt){Lt=Ye[Nt],Wt=Ye[Nt+8],$t=Ye[Nt+16],ss=Ye[Nt+24],ns=Ye[Nt+32],Je=Ye[Nt+40],Ht=Ye[Nt+48];var en=Lt+(Vt=Ye[Nt+56]),Yr=Lt-Vt,pr=Wt+Ht,us=Wt-Ht,Nn=$t+Je,jr=$t-Je,Mn=ss+ns,un=ss-ns,on=en+Mn,fn=en-Mn,Un=pr+Nn,Br=pr-Nn;Ye[Nt]=on+Un,Ye[Nt+32]=on-Un;var ua=.707106781*(Br+fn);Ye[Nt+16]=fn+ua,Ye[Nt+48]=fn-ua;var Vi=.382683433*((on=un+jr)-(Br=us+Yr)),ir=.5411961*on+Vi,Ir=1.306562965*Br+Vi,vi=.707106781*(Un=jr+us),Pa=Yr+vi,ka=Yr-vi;Ye[Nt+40]=ka+ir,Ye[Nt+24]=ka-ir,Ye[Nt+8]=Pa+Ir,Ye[Nt+56]=Pa-Ir,Nt++}for(Mt=0;Mt<64;++Mt)dt=Ye[Mt]*Ut[Mt],g[Mt]=dt>0?dt+.5|0:dt-.5|0;return g})(M,X),Fe=0;Fe<64;++Fe)b[Q[Fe]]=Se[Fe];var Le=b[0]-ie;ie=b[0],Le==0?W(le[0]):(W(le[x[ye=32767+Le]]),W(m[ye]));for(var qe=63;qe>0&&b[qe]==0;)qe--;if(qe==0)return W(Ne),ie;for(var Oe,he=1;he<=qe;){for(var et=he;b[he]==0&&he<=qe;)++he;var wt=he-et;if(wt>=16){Oe=wt>>4;for(var at=1;at<=Oe;++at)W(ge);wt&=15}ye=32767+b[he],W(ce[(wt<<4)+x[ye]]),W(m[ye]),he++}return qe!=63&&W(Ne),ie}function ee(M){M=Math.min(Math.max(M,1),100),o!=M&&((function(X){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ce=c((ie[le]*X+50)/100);ce=Math.min(Math.max(ce,1),255),h[Q[le]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var ge=c((ye[Ne]*X+50)/100);ge=Math.min(Math.max(ge,1),255),u[Q[Ne]]=ge}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Le=0;Le<8;Le++)for(var qe=0;qe<8;qe++)f[Fe]=1/(h[Q[Fe]]*Se[Le]*Se[qe]*8),A[Fe]=1/(u[Q[Fe]]*Se[Le]*Se[qe]*8),Fe++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,X){X&&ee(X),I=new Array,N=0,S=7,oe(65496),oe(65504),oe(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),oe(1),oe(1),J(0),J(0),(function(){oe(65499),oe(132),J(0);for(var Wt=0;Wt<64;Wt++)J(h[Wt]);J(1);for(var $t=0;$t<64;$t++)J(u[$t])})(),(function(Wt,$t){oe(65472),oe(17),J(8),oe($t),oe(Wt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(M.width,M.height),(function(){oe(65476),oe(418),J(0);for(var Wt=0;Wt<16;Wt++)J(D[Wt+1]);for(var $t=0;$t<=11;$t++)J(R[$t]);J(16);for(var ss=0;ss<16;ss++)J(K[ss+1]);for(var ns=0;ns<=161;ns++)J(P[ns]);J(1);for(var Je=0;Je<16;Je++)J(V[Je+1]);for(var Ht=0;Ht<=11;Ht++)J($[Ht]);J(17);for(var Vt=0;Vt<16;Vt++)J(ae[Vt+1]);for(var Mt=0;Mt<=161;Mt++)J(de[Mt])})(),oe(65498),oe(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var ie=0,le=0,ce=0;N=0,S=7,this.encode.displayName="_encode_";for(var ye,Ne,ge,Se,Fe,Le,qe,Oe,he,et=M.data,wt=M.width,at=M.height,Ye=4*wt,Ut=0;Ut<at;){for(ye=0;ye<Ye;){for(Fe=Ye*Ut+ye,qe=-1,Oe=0,he=0;he<64;he++)Le=Fe+(Oe=he>>3)*Ye+(qe=4*(7&he)),Ut+Oe>=at&&(Le-=Ye*(Ut+1+Oe-at)),ye+qe>=Ye&&(Le-=ye+qe-Ye+4),Ne=et[Le++],ge=et[Le++],Se=et[Le++],E[he]=(H[Ne]+H[ge+256|0]+H[Se+512|0]>>16)-128,F[he]=(H[Ne+768|0]+H[ge+1024|0]+H[Se+1280|0]>>16)-128,L[he]=(H[Ne+1280|0]+H[ge+1536|0]+H[Se+1792|0]>>16)-128;ie=xe(E,f,ie,e,n),le=xe(F,A,le,t,r),ce=xe(L,A,ce,t,r),ye+=32}Ut+=8}if(S>=0){var Lt=[];Lt[1]=S+1,Lt[0]=(1<<S+1)-1,W(Lt)}return oe(65497),new Uint8Array(I)},s=s||50,(function(){for(var M=String.fromCharCode,X=0;X<256;X++)O[X]=M(X)})(),e=re(D,R),t=re(V,$),n=re(K,P),r=re(ae,de),(function(){for(var M=1,X=2,ie=1;ie<=15;ie++){for(var le=M;le<X;le++)x[32767+le]=ie,m[32767+le]=[],m[32767+le][1]=ie,m[32767+le][0]=le;for(var ce=-(X-1);ce<=-M;ce++)x[32767+ce]=ie,m[32767+ce]=[],m[32767+ce][1]=ie,m[32767+ce][0]=X-1+ce;M<<=1,X<<=1}})(),(function(){for(var M=0;M<256;M++)H[M]=19595*M,H[M+256|0]=38470*M,H[M+512|0]=7471*M+32768,H[M+768|0]=-11059*M,H[M+1024|0]=-21709*M,H[M+1280|0]=32768*M+8421375,H[M+1536|0]=-27439*M,H[M+1792|0]=-5329*M})(),ee(s)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function tc(s,e){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fS(s){function e(R){if(!R)throw Error("assert :P")}function t(R,K,P){for(var V=0;4>V;V++)if(R[K+V]!=P.charCodeAt(V))return!0;return!1}function n(R,K,P,V,$){for(var ae=0;ae<$;ae++)R[K+ae]=P[V+ae]}function r(R,K,P,V){for(var $=0;$<V;$++)R[K+$]=P}function o(R){return new Int32Array(R)}function c(R,K){for(var P=[],V=0;V<R;V++)P.push(new K);return P}function h(R,K){var P=[];return(function V($,ae,de){for(var re=de[ae],W=0;W<re&&($.push(de.length>ae+1?[]:new K),!(de.length<ae+1));W++)V($[W],ae+1,de)})(P,0,R),P}var u=function(){var R=this;function K(y,_){for(var z=1<<_-1>>>0;y&z;)z>>>=1;return z?(y&z-1)+z:y}function P(y,_,z,q,ue){e(!(q%z));do y[_+(q-=z)]=ue;while(0<q)}function V(y,_,z,q,ue){if(e(2328>=ue),512>=ue)var me=o(512);else if((me=o(ue))==null)return 0;return(function(pe,be,je,Ie,Qe,Ze){var Ee,ke,He=be,ht=1<<je,Xe=o(16),ct=o(16);for(e(Qe!=0),e(Ie!=null),e(pe!=null),e(0<je),ke=0;ke<Qe;++ke){if(15<Ie[ke])return 0;++Xe[Ie[ke]]}if(Xe[0]==Qe)return 0;for(ct[1]=0,Ee=1;15>Ee;++Ee){if(Xe[Ee]>1<<Ee)return 0;ct[Ee+1]=ct[Ee]+Xe[Ee]}for(ke=0;ke<Qe;++ke)Ee=Ie[ke],0<Ie[ke]&&(Ze[ct[Ee]++]=ke);if(ct[15]==1)return(Ie=new $).g=0,Ie.value=Ze[0],P(pe,He,1,ht,Ie),ht;var vt,Qt=-1,Bt=ht-1,Cs=0,ps=1,tn=1,bs=1<<je;for(ke=0,Ee=1,Qe=2;Ee<=je;++Ee,Qe<<=1){if(ps+=tn<<=1,0>(tn-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee])(Ie=new $).g=Ee,Ie.value=Ze[ke++],P(pe,He+Cs,Qe,bs,Ie),Cs=K(Cs,Ee)}for(Ee=je+1,Qe=2;15>=Ee;++Ee,Qe<<=1){if(ps+=tn<<=1,0>(tn-=Xe[Ee]))return 0;for(;0<Xe[Ee];--Xe[Ee]){if(Ie=new $,(Cs&Bt)!=Qt){for(He+=bs,vt=1<<(Qt=Ee)-je;15>Qt&&!(0>=(vt-=Xe[Qt]));)++Qt,vt<<=1;ht+=bs=1<<(vt=Qt-je),pe[be+(Qt=Cs&Bt)].g=vt+je,pe[be+Qt].value=He-be-Qt}Ie.g=Ee-je,Ie.value=Ze[ke++],P(pe,He+(Cs>>je),Qe,bs,Ie),Cs=K(Cs,Ee)}}return ps!=2*ct[15]-1?0:ht})(y,_,z,q,ue,me)}function $(){this.value=this.g=0}function ae(){this.value=this.g=0}function de(){this.G=c(5,$),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Qo,ae)}function re(y,_,z,q){e(y!=null),e(_!=null),e(2147483648>q),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=z,y.Jd=_,y.Yc=z+q,y.Zc=4<=q?z+q-4+1:z,Ne(y)}function W(y,_){for(var z=0;0<_--;)z|=Se(y,128)<<_;return z}function J(y,_){var z=W(y,_);return ge(y)?-z:z}function oe(y,_,z,q){var ue,me=0;for(e(y!=null),e(_!=null),e(4294967288>q),y.Sb=q,y.Ra=0,y.u=0,y.h=0,4<q&&(q=4),ue=0;ue<q;++ue)me+=_[z+ue]<<8*ue;y.Ra=me,y.bb=q,y.oa=_,y.pa=z}function xe(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<ll-8>>>0,++y.bb,y.u-=8;le(y)&&(y.h=1,y.u=0)}function ee(y,_){if(e(0<=_),!y.h&&_<=Ci){var z=ie(y)&Cn[_];return y.u+=_,xe(y),z}return y.h=1,y.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(y){return y.Ra>>>(y.u&ll-1)>>>0}function le(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>ll}function ce(y,_){y.u=_,y.h=le(y)}function ye(y){y.u>=Al&&(e(y.u>=Al),xe(y))}function Ne(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ge(y){return W(y,1)}function Se(y,_){var z=y.Ca;0>y.b&&Ne(y);var q=y.b,ue=z*_>>>8,me=(y.I>>>q>ue)+0;for(me?(z-=ue,y.I-=ue+1<<q>>>0):z=ue+1,q=z,ue=0;256<=q;)ue+=8,q>>=8;return q=7^ue+wl[q],y.b-=q,y.Ca=(z<<q)-1,me}function Fe(y,_,z){y[_+0]=z>>24&255,y[_+1]=z>>16&255,y[_+2]=z>>8&255,y[_+3]=255&z}function Le(y,_){return y[_+0]|y[_+1]<<8}function qe(y,_){return Le(y,_)|y[_+2]<<16}function Oe(y,_){return Le(y,_)|Le(y,_+2)<<16}function he(y,_){var z=1<<_;return e(y!=null),e(0<_),y.X=o(z),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function et(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),n(_.X,0,y.X,0,1<<_.Xa)}function wt(){this.X=[],this.Xa=this.Mb=0}function at(y,_,z,q){e(z!=null),e(q!=null);var ue=z[0],me=q[0];return ue==0&&(ue=(y*me+_/2)/_),me==0&&(me=(_*ue+y/2)/y),0>=ue||0>=me?0:(z[0]=ue,q[0]=me,1)}function Ye(y,_){return y+(1<<_)-1>>>_}function Ut(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function Lt(y,_){R[_]=function(z,q,ue,me,pe,be,je){var Ie;for(Ie=0;Ie<pe;++Ie){var Qe=R[y](be[je+Ie-1],ue,me+Ie);be[je+Ie]=Ut(z[q+Ie],Qe)}}}function Wt(){this.ud=this.hd=this.jd=0}function $t(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function ss(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function ns(y,_){return ss(y+(y-_+.5>>1))}function Je(y,_,z){return Math.abs(_-z)-Math.abs(y-z)}function Ht(y,_,z,q,ue,me,pe){for(q=me[pe-1],z=0;z<ue;++z)me[pe+z]=q=Ut(y[_+z],q)}function Vt(y,_,z,q,ue){var me;for(me=0;me<z;++me){var pe=y[_+me],be=pe>>8&255,je=16711935&(je=(je=16711935&pe)+((be<<16)+be));q[ue+me]=(4278255360&pe)+je>>>0}}function Mt(y,_){_.jd=255&y,_.hd=y>>8&255,_.ud=y>>16&255}function dt(y,_,z,q,ue,me){var pe;for(pe=0;pe<q;++pe){var be=_[z+pe],je=be>>>8,Ie=be,Qe=255&(Qe=(Qe=be>>>16)+((y.jd<<24>>24)*(je<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(y.hd<<24>>24)*(je<<24>>24)>>>5)+((y.ud<<24>>24)*(Qe<<24>>24)>>>5)),ue[me+pe]=(4278255360&be)+(Qe<<16)+Ie}}function Nt(y,_,z,q,ue){R[_]=function(me,pe,be,je,Ie,Qe,Ze,Ee,ke){for(je=Ze;je<Ee;++je)for(Ze=0;Ze<ke;++Ze)Ie[Qe++]=ue(be[q(me[pe++])])},R[y]=function(me,pe,be,je,Ie,Qe,Ze){var Ee=8>>me.b,ke=me.Ea,He=me.K[0],ht=me.w;if(8>Ee)for(me=(1<<me.b)-1,ht=(1<<Ee)-1;pe<be;++pe){var Xe,ct=0;for(Xe=0;Xe<ke;++Xe)Xe&me||(ct=q(je[Ie++])),Qe[Ze++]=ue(He[ct&ht]),ct>>=Ee}else R["VP8LMapColor"+z](je,Ie,He,ht,Qe,Ze,pe,be,ke)}}function Es(y,_,z,q,ue){for(z=_+z;_<z;){var me=y[_++];q[ue++]=me>>16&255,q[ue++]=me>>8&255,q[ue++]=255&me}}function Me(y,_,z,q,ue){for(z=_+z;_<z;){var me=y[_++];q[ue++]=me>>16&255,q[ue++]=me>>8&255,q[ue++]=255&me,q[ue++]=me>>24&255}}function ut(y,_,z,q,ue){for(z=_+z;_<z;){var me=(pe=y[_++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;q[ue++]=me,q[ue++]=pe}}function ze(y,_,z,q,ue){for(z=_+z;_<z;){var me=(pe=y[_++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;q[ue++]=me,q[ue++]=pe}}function At(y,_,z,q,ue){for(z=_+z;_<z;){var me=y[_++];q[ue++]=255&me,q[ue++]=me>>8&255,q[ue++]=me>>16&255}}function mt(y,_,z,q,ue,me){if(me==0)for(z=_+z;_<z;)Fe(q,((me=y[_++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),ue+=32;else n(q,ue,y,_,z)}function Ot(y,_){R[_][0]=R[y+"0"],R[_][1]=R[y+"1"],R[_][2]=R[y+"2"],R[_][3]=R[y+"3"],R[_][4]=R[y+"4"],R[_][5]=R[y+"5"],R[_][6]=R[y+"6"],R[_][7]=R[y+"7"],R[_][8]=R[y+"8"],R[_][9]=R[y+"9"],R[_][10]=R[y+"10"],R[_][11]=R[y+"11"],R[_][12]=R[y+"12"],R[_][13]=R[y+"13"],R[_][14]=R[y+"0"],R[_][15]=R[y+"0"]}function Et(y){return y==ru||y==Mu||y==pc||y==KA}function Gt(){this.eb=[],this.size=this.A=this.fb=0}function xs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gt,this.f.kb=new xs,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function os(y,_){var z=y.T,q=_.ba.f.RGBA,ue=q.eb,me=q.fb+y.ka*q.A,pe=hi[_.ba.S],be=y.y,je=y.O,Ie=y.f,Qe=y.N,Ze=y.ea,Ee=y.W,ke=_.cc,He=_.dc,ht=_.Mc,Xe=_.Nc,ct=y.ka,vt=y.ka+y.T,Qt=y.U,Bt=Qt+1>>1;for(ct==0?pe(be,je,null,null,Ie,Qe,Ze,Ee,Ie,Qe,Ze,Ee,ue,me,null,null,Qt):(pe(_.ec,_.fc,be,je,ke,He,ht,Xe,Ie,Qe,Ze,Ee,ue,me-q.A,ue,me,Qt),++z);ct+2<vt;ct+=2)ke=Ie,He=Qe,ht=Ze,Xe=Ee,Qe+=y.Rc,Ee+=y.Rc,me+=2*q.A,pe(be,(je+=2*y.fa)-y.fa,be,je,ke,He,ht,Xe,Ie,Qe,Ze,Ee,ue,me-q.A,ue,me,Qt);return je+=y.fa,y.j+vt<y.o?(n(_.ec,_.fc,be,je,Qt),n(_.cc,_.dc,Ie,Qe,Bt),n(_.Mc,_.Nc,Ze,Ee,Bt),z--):1&vt||pe(be,je,null,null,Ie,Qe,Ze,Ee,Ie,Qe,Ze,Ee,ue,me+q.A,null,null,Qt),z}function Os(y,_,z){var q=y.F,ue=[y.J];if(q!=null){var me=y.U,pe=_.ba.S,be=pe==nu||pe==pc;_=_.ba.f.RGBA;var je=[0],Ie=y.ka;je[0]=y.T,y.Kb&&(Ie==0?--je[0]:(--Ie,ue[0]-=y.width),y.j+y.ka+y.T==y.o&&(je[0]=y.o-y.j-Ie));var Qe=_.eb;Ie=_.fb+Ie*_.A,y=mc(q,ue[0],y.width,me,je,Qe,Ie+(be?0:3),_.A),e(z==je),y&&Et(pe)&&hA(Qe,Ie,be,me,je,_.A)}return 0}function wn(y){var _=y.ma,z=_.ba.S,q=11>z,ue=z==Ti||z==Oo||z==nu||z==Yl||z==12||Et(z);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Dr(_.Oa,y,ue?11:12))return 0;if(ue&&Et(z)&&Zs(),y.da)alert("todo:use_scaling");else{if(q){if(_.Ib=qt,y.Kb){if(z=y.U+1>>1,_.memory=o(y.U+2*z),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+z,_.Ib=os,Zs()}}else alert("todo:EmitYUV");ue&&(_.Jb=Os,q&&nt())}if(q&&!bA){for(y=0;256>y;++y)fi[y]=89858*(y-128)+xc>>Vo,Im[y]=-22014*(y-128)+xc,df[y]=-45773*(y-128),Gu[y]=113618*(y-128)+xc>>Vo;for(y=Tl;y<yA;++y)_=76283*(y-16)+xc>>Vo,_m[y-Tl]=It(_,255),Fm[y-Tl]=It(_+8>>4,15);bA=1}return 1}function es(y){var _=y.ma,z=y.U,q=y.T;return e(!(1&y.ka)),0>=z||0>=q?0:(z=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,z),_.Dc+=z,1)}function ca(y){y.ma.memory=null}function en(y,_,z,q){return ee(y,8)!=47?0:(_[0]=ee(y,14)+1,z[0]=ee(y,14)+1,q[0]=ee(y,1),ee(y,3)!=0?0:!y.h)}function Yr(y,_){if(4>y)return y+1;var z=y-2>>1;return(2+(1&y)<<z)+ee(_,z)+1}function pr(y,_){return 120<_?_-120:1<=(z=((z=ko[_-1])>>4)*y+(8-(15&z)))?z:1;var z}function us(y,_,z){var q=ie(z),ue=y[_+=255&q].g-8;return 0<ue&&(ce(z,z.u+8),q=ie(z),_+=y[_].value,_+=q&(1<<ue)-1),ce(z,z.u+y[_].g),y[_].value}function Nn(y,_,z){return z.g+=y.g,z.value+=y.value<<_>>>0,e(8>=z.g),y.g}function jr(y,_,z){var q=y.xc;return e((_=q==0?0:y.vc[y.md*(z>>q)+(_>>q)])<y.Wb),y.Ya[_]}function Mn(y,_,z,q){var ue=y.ab,me=y.c*_,pe=y.C;_=pe+_;var be=z,je=q;for(q=y.Ta,z=y.Ua;0<ue--;){var Ie=y.gc[ue],Qe=pe,Ze=_,Ee=be,ke=je,He=(je=q,be=z,Ie.Ea);switch(e(Qe<Ze),e(Ze<=Ie.nc),Ie.hc){case 2:aa(Ee,ke,(Ze-Qe)*He,je,be);break;case 0:var ht=Qe,Xe=Ze,ct=je,vt=be,Qt=(bs=Ie).Ea;ht==0&&(zl(Ee,ke,null,null,1,ct,vt),Ht(Ee,ke+1,0,0,Qt-1,ct,vt+1),ke+=Qt,vt+=Qt,++ht);for(var Bt=1<<bs.b,Cs=Bt-1,ps=Ye(Qt,bs.b),tn=bs.K,bs=bs.w+(ht>>bs.b)*ps;ht<Xe;){var _n=tn,Lr=bs,An=1;for(PA(Ee,ke,ct,vt-Qt,1,ct,vt);An<Qt;){var it=(An&~Cs)+Bt;it>Qt&&(it=Qt),(0,Si[_n[Lr++]>>8&15])(Ee,ke+ +An,ct,vt+An-Qt,it-An,ct,vt+An),An=it}ke+=Qt,vt+=Qt,++ht&Cs||(bs+=ps)}Ze!=Ie.nc&&n(je,be-He,je,be+(Ze-Qe-1)*He,He);break;case 1:for(He=Ee,Xe=ke,Qt=(Ee=Ie.Ea)-(vt=Ee&~(ct=(ke=1<<Ie.b)-1)),ht=Ye(Ee,Ie.b),Bt=Ie.K,Ie=Ie.w+(Qe>>Ie.b)*ht;Qe<Ze;){for(Cs=Bt,ps=Ie,tn=new Wt,bs=Xe+vt,_n=Xe+Ee;Xe<bs;)Mt(Cs[ps++],tn),kA(tn,He,Xe,ke,je,be),Xe+=ke,be+=ke;Xe<_n&&(Mt(Cs[ps++],tn),kA(tn,He,Xe,Qt,je,be),Xe+=Qt,be+=Qt),++Qe&ct||(Ie+=ht)}break;case 3:if(Ee==je&&ke==be&&0<Ie.b){for(Xe=je,Ee=He=be+(Ze-Qe)*He-(vt=(Ze-Qe)*Ye(Ie.Ea,Ie.b)),ke=je,ct=be,ht=[],vt=(Qt=vt)-1;0<=vt;--vt)ht[vt]=ke[ct+vt];for(vt=Qt-1;0<=vt;--vt)Xe[Ee+vt]=ht[vt];Yi(Ie,Qe,Ze,je,He,je,be)}else Yi(Ie,Qe,Ze,Ee,ke,je,be)}be=q,je=z}je!=z&&n(q,z,be,je,me)}function un(y,_){var z=y.V,q=y.Ba+y.c*y.C,ue=_-y.C;if(e(_<=y.l.o),e(16>=ue),0<ue){var me=y.l,pe=y.Ta,be=y.Ua,je=me.width;if(Mn(y,ue,z,q),ue=be=[be],e((z=y.C)<(q=_)),e(me.v<me.va),q>me.o&&(q=me.o),z<me.j){var Ie=me.j-z;z=me.j,ue[0]+=Ie*je}if(z>=q?z=0:(ue[0]+=4*me.v,me.ka=z-me.j,me.U=me.va-me.v,me.T=q-z,z=1),z){if(be=be[0],11>(z=y.ca).S){var Qe=z.f.RGBA,Ze=(q=z.S,ue=me.U,me=me.T,Ie=Qe.eb,Qe.A),Ee=me;for(Qe=Qe.fb+y.Ma*Qe.A;0<Ee--;){var ke=pe,He=be,ht=ue,Xe=Ie,ct=Qe;switch(q){case ku:MA(ke,He,ht,Xe,ct);break;case Ti:cl(ke,He,ht,Xe,ct);break;case ru:cl(ke,He,ht,Xe,ct),hA(Xe,ct,0,ht,1,0);break;case $l:ul(ke,He,ht,Xe,ct);break;case Oo:mt(ke,He,ht,Xe,ct,1);break;case Mu:mt(ke,He,ht,Xe,ct,1),hA(Xe,ct,0,ht,1,0);break;case nu:mt(ke,He,ht,Xe,ct,0);break;case pc:mt(ke,He,ht,Xe,ct,0),hA(Xe,ct,1,ht,1,0);break;case Yl:jl(ke,He,ht,Xe,ct);break;case KA:jl(ke,He,ht,Xe,ct),go(Xe,ct,ht,1,0);break;case fA:Bl(ke,He,ht,Xe,ct);break;default:e(0)}be+=je,Qe+=Ze}y.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=z.height)}}y.C=_,e(y.C<=y.i)}function on(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var z=y.Ya[_].G,q=y.Ya[_].H;if(0<z[1][q[1]+0].g||0<z[2][q[2]+0].g||0<z[3][q[3]+0].g)return 0}return 1}function fn(y,_,z,q,ue,me){if(y.Z!=0){var pe=y.qd,be=y.rd;for(e(Nl[y.Z]!=null);_<z;++_)Nl[y.Z](pe,be,q,ue,q,ue,me),pe=q,be=ue,ue+=me;y.qd=pe,y.rd=be}}function Un(y,_){var z=y.l.ma,q=z.Z==0||z.Z==1?y.l.j:y.C;if(q=y.C<q?q:y.C,e(_<=y.l.o),_>q){var ue=y.l.width,me=z.ca,pe=z.tb+ue*q,be=y.V,je=y.Ba+y.c*q,Ie=y.gc;e(y.ab==1),e(Ie[0].hc==3),ci(Ie[0],q,_,be,je,me,pe),fn(z,q,_,me,pe,ue)}y.C=y.Ma=_}function Br(y,_,z,q,ue,me,pe){var be=y.$/q,je=y.$%q,Ie=y.m,Qe=y.s,Ze=z+y.$,Ee=Ze;ue=z+q*ue;var ke=z+q*me,He=280+Qe.ua,ht=y.Pb?be:16777216,Xe=0<Qe.ua?Qe.Wa:null,ct=Qe.wc,vt=Ze<ke?jr(Qe,je,be):null;e(y.C<me),e(ke<=ue);var Qt=!1;e:for(;;){for(;Qt||Ze<ke;){var Bt=0;if(be>=ht){var Cs=Ze-z;e((ht=y).Pb),ht.wd=ht.m,ht.xd=Cs,0<ht.s.ua&&et(ht.s.Wa,ht.s.vb),ht=be+pA}if(je&ct||(vt=jr(Qe,je,be)),e(vt!=null),vt.Qb&&(_[Ze]=vt.qb,Qt=!0),!Qt)if(ye(Ie),vt.jc){Bt=Ie,Cs=_;var ps=Ze,tn=vt.pd[ie(Bt)&Qo-1];e(vt.jc),256>tn.g?(ce(Bt,Bt.u+tn.g),Cs[ps]=tn.value,Bt=0):(ce(Bt,Bt.u+tn.g-256),e(256<=tn.value),Bt=tn.value),Bt==0&&(Qt=!0)}else Bt=us(vt.G[0],vt.H[0],Ie);if(Ie.h)break;if(Qt||256>Bt){if(!Qt)if(vt.nd)_[Ze]=(vt.qb|Bt<<8)>>>0;else{if(ye(Ie),Qt=us(vt.G[1],vt.H[1],Ie),ye(Ie),Cs=us(vt.G[2],vt.H[2],Ie),ps=us(vt.G[3],vt.H[3],Ie),Ie.h)break;_[Ze]=(ps<<24|Qt<<16|Bt<<8|Cs)>>>0}if(Qt=!1,++Ze,++je>=q&&(je=0,++be,pe!=null&&be<=me&&!(be%16)&&pe(y,be),Xe!=null))for(;Ee<Ze;)Bt=_[Ee++],Xe.X[(506832829*Bt&4294967295)>>>Xe.Mb]=Bt}else if(280>Bt){if(Bt=Yr(Bt-256,Ie),Cs=us(vt.G[4],vt.H[4],Ie),ye(Ie),Cs=pr(q,Cs=Yr(Cs,Ie)),Ie.h)break;if(Ze-z<Cs||ue-Ze<Bt)break e;for(ps=0;ps<Bt;++ps)_[Ze+ps]=_[Ze+ps-Cs];for(Ze+=Bt,je+=Bt;je>=q;)je-=q,++be,pe!=null&&be<=me&&!(be%16)&&pe(y,be);if(e(Ze<=ue),je&ct&&(vt=jr(Qe,je,be)),Xe!=null)for(;Ee<Ze;)Bt=_[Ee++],Xe.X[(506832829*Bt&4294967295)>>>Xe.Mb]=Bt}else{if(!(Bt<He))break e;for(Qt=Bt-280,e(Xe!=null);Ee<Ze;)Bt=_[Ee++],Xe.X[(506832829*Bt&4294967295)>>>Xe.Mb]=Bt;Bt=Ze,e(!(Qt>>>(Cs=Xe).Xa)),_[Bt]=Cs.X[Qt],Qt=!0}Qt||e(Ie.h==le(Ie))}if(y.Pb&&Ie.h&&Ze<ue)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&et(y.s.vb,y.s.Wa);else{if(Ie.h)break e;pe!=null&&pe(y,be>me?me:be),y.a=0,y.$=Ze-z}return 1}return y.a=3,0}function ua(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function Vi(){var y=new Ps;return y==null?null:(y.a=0,y.xb=ih,Ot("Predictor","VP8LPredictors"),Ot("Predictor","VP8LPredictors_C"),Ot("PredictorAdd","VP8LPredictorsAdd"),Ot("PredictorAdd","VP8LPredictorsAdd_C"),aa=Vt,kA=dt,MA=Es,cl=Me,jl=ut,Bl=ze,ul=At,R.VP8LMapColor32b=Ai,R.VP8LMapColor8b=Ln,y)}function ir(y,_,z,q,ue){var me=1,pe=[y],be=[_],je=q.m,Ie=q.s,Qe=null,Ze=0;e:for(;;){if(z)for(;me&&ee(je,1);){var Ee=pe,ke=be,He=q,ht=1,Xe=He.m,ct=He.gc[He.ab],vt=ee(Xe,2);if(He.Oc&1<<vt)me=0;else{switch(He.Oc|=1<<vt,ct.hc=vt,ct.Ea=Ee[0],ct.nc=ke[0],ct.K=[null],++He.ab,e(4>=He.ab),vt){case 0:case 1:ct.b=ee(Xe,3)+2,ht=ir(Ye(ct.Ea,ct.b),Ye(ct.nc,ct.b),0,He,ct.K),ct.K=ct.K[0];break;case 3:var Qt,Bt=ee(Xe,8)+1,Cs=16<Bt?0:4<Bt?1:2<Bt?2:3;if(Ee[0]=Ye(ct.Ea,Cs),ct.b=Cs,Qt=ht=ir(Bt,1,0,He,ct.K)){var ps,tn=Bt,bs=ct,_n=1<<(8>>bs.b),Lr=o(_n);if(Lr==null)Qt=0;else{var An=bs.K[0],it=bs.w;for(Lr[0]=bs.K[0][0],ps=1;ps<1*tn;++ps)Lr[ps]=Ut(An[it+ps],Lr[ps-1]);for(;ps<4*_n;++ps)Lr[ps]=0;bs.K[0]=null,bs.K[0]=Lr,Qt=1}}ht=Qt;break;case 2:break;default:e(0)}me=ht}}if(pe=pe[0],be=be[0],me&&ee(je,1)&&!(me=1<=(Ze=ee(je,4))&&11>=Ze)){q.a=3;break e}var Zt;if(Zt=me)t:{var Wr,Vs,$s,Ar=q,Ea=pe,xa=be,cr=Ze,Ta=z,Ii=Ar.m,Ia=Ar.s,an=[null],Qn=1,Qr=0,er=Mo[cr];s:for(;;){if(Ta&&ee(Ii,1)){var _a=ee(Ii,3)+2,Xr=Ye(Ea,_a),On=Ye(xa,_a),va=Xr*On;if(!ir(Xr,On,0,Ar,an))break s;for(an=an[0],Ia.xc=_a,Wr=0;Wr<va;++Wr){var ur=an[Wr]>>8&65535;an[Wr]=ur,ur>=Qn&&(Qn=ur+1)}}if(Ii.h)break s;for(Vs=0;5>Vs;++Vs){var Fa=zA[Vs];!Vs&&0<cr&&(Fa+=1<<cr),Qr<Fa&&(Qr=Fa)}var Ua=c(Qn*er,$),xr=Qn,Vn=c(xr,de);if(Vn==null)var _i=null;else e(65536>=xr),_i=Vn;var oa=o(Qr);if(_i==null||oa==null||Ua==null){Ar.a=1;break s}var Ls=Ua;for(Wr=$s=0;Wr<Qn;++Wr){var ks=_i[Wr],Yn=ks.G,Ao=ks.H,yo=0,qi=1,Jr=0;for(Vs=0;5>Vs;++Vs){Fa=zA[Vs],Yn[Vs]=Ls,Ao[Vs]=$s,!Vs&&0<cr&&(Fa+=1<<cr);r:{var wA,Il=Fa,bc=Ar,vr=oa,Yu=Ls,oh=$s,ou=0,fl=bc.m,lh=ee(fl,1);if(r(vr,0,0,Il),lh){var Wu=ee(fl,1)+1,Xu=ee(fl,1),lu=ee(fl,Xu==0?1:8);vr[lu]=1,Wu==2&&(vr[lu=ee(fl,8)]=1);var za=1}else{var Kr=o(19),Au=ee(fl,4)+4;if(19<Au){bc.a=3;var jA=0;break r}for(wA=0;wA<Au;++wA)Kr[mA[wA]]=ee(fl,3);var wc=void 0,ti=void 0,Ko=bc,Ju=Kr,jc=Il,qu=vr,Zu=0,Xl=Ko.m,Ah=8,ch=c(128,$);n:for(;V(ch,0,7,Ju,19);){if(ee(Xl,1)){var hf=2+2*ee(Xl,3);if((wc=2+ee(Xl,hf))>jc)break n}else wc=jc;for(ti=0;ti<jc&&wc--;){ye(Xl);var uh=ch[0+(127&ie(Xl))];ce(Xl,Xl.u+uh.g);var Jl=uh.value;if(16>Jl)qu[ti++]=Jl,Jl!=0&&(Ah=Jl);else{var ff=Jl==16,ed=Jl-16,dh=gc[ed],Ga=ee(Xl,Po[ed])+dh;if(ti+Ga>jc)break n;for(var Bc=ff?Ah:0;0<Ga--;)qu[ti++]=Bc}}Zu=1;break n}Zu||(Ko.a=3),za=Zu}(za=za&&!fl.h)&&(ou=V(Yu,oh,8,vr,Il)),za&&ou!=0?jA=ou:(bc.a=3,jA=0)}if(jA==0)break s;if(qi&&Hu[Vs]==1&&(qi=Ls[$s].g==0),yo+=Ls[$s].g,$s+=jA,3>=Vs){var $A,td=oa[0];for($A=1;$A<Fa;++$A)oa[$A]>td&&(td=oa[$A]);Jr+=td}}if(ks.nd=qi,ks.Qb=0,qi&&(ks.qb=(Yn[3][Ao[3]+0].value<<24|Yn[1][Ao[1]+0].value<<16|Yn[2][Ao[2]+0].value)>>>0,yo==0&&256>Yn[0][Ao[0]+0].value&&(ks.Qb=1,ks.qb+=Yn[0][Ao[0]+0].value<<8)),ks.jc=!ks.Qb&&6>Jr,ks.jc){var Cc,zo=ks;for(Cc=0;Cc<Qo;++Cc){var ql=Cc,Zl=zo.pd[ql],sd=zo.G[0][zo.H[0]+ql];256<=sd.value?(Zl.g=sd.g+256,Zl.value=sd.value):(Zl.g=0,Zl.value=0,ql>>=Nn(sd,8,Zl),ql>>=Nn(zo.G[1][zo.H[1]+ql],16,Zl),ql>>=Nn(zo.G[2][zo.H[2]+ql],0,Zl),Nn(zo.G[3][zo.H[3]+ql],24,Zl))}}}Ia.vc=an,Ia.Wb=Qn,Ia.Ya=_i,Ia.yc=Ua,Zt=1;break t}Zt=0}if(!(me=Zt)){q.a=3;break e}if(0<Ze){if(Ie.ua=1<<Ze,!he(Ie.Wa,Ze)){q.a=1,me=0;break e}}else Ie.ua=0;var nd=q,YA=pe,mf=be,Sc=nd.s,Nc=Sc.xc;if(nd.c=YA,nd.i=mf,Sc.md=Ye(YA,Nc),Sc.wc=Nc==0?-1:(1<<Nc)-1,z){q.xb=gA;break e}if((Qe=o(pe*be))==null){q.a=1,me=0;break e}me=(me=Br(q,Qe,0,pe,be,be,null))&&!je.h;break e}return me?(ue!=null?ue[0]=Qe:(e(Qe==null),e(z)),q.$=0,z||ua(Ie)):ua(Ie),me}function Ir(y,_){var z=y.c*y.i,q=z+_+16*_;return e(y.c<=_),y.V=o(q),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+z+_,1)}function vi(y,_){var z=y.C,q=_-z,ue=y.V,me=y.Ba+y.c*z;for(e(_<=y.l.o);0<q;){var pe=16<q?16:q,be=y.l.ma,je=y.l.width,Ie=je*pe,Qe=be.ca,Ze=be.tb+je*z,Ee=y.Ta,ke=y.Ua;Mn(y,pe,ue,me),xo(Ee,ke,Qe,Ze,Ie),fn(be,z,z+pe,Qe,Ze,je),q-=pe,ue+=pe*y.c,z+=pe}e(z==_),y.C=y.Ma=_}function Pa(){this.ub=this.yd=this.td=this.Rb=0}function ka(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ma(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function yi(){this.Yb=(function(){var y=[];return(function _(z,q,ue){for(var me=ue[q],pe=0;pe<me&&(z.push(ue.length>q+1?[]:0),!(ue.length<q+1));pe++)_(z[pe],q+1,ue)})(y,0,[3,11]),y})()}function _r(){this.jb=o(3),this.Wc=h([4,8],yi),this.Xc=h([4,17],yi)}function ro(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ha(){this.ld=this.La=this.dd=this.tc=0}function Va(){this.Na=this.la=0}function da(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _e(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ha),this.Y=0,this.ya=Array(new bi),this.aa=0,this.l=new As}function yt(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Dt(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Pa,this.Kc=new ka,this.ed=new ro,this.Qa=new Ma,this.Ic=this.$c=this.Aa=0,this.D=new _e,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,M),this.ia=0,this.pb=c(4,da),this.Pa=new _r,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yt),this.Hd=0,this.rb=Array(new Va),this.sb=0,this.wa=Array(new Ha),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bi),this.L=this.aa=0,this.gd=h([4,2],Ha),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function It(y,_){return 0>y?0:y>_?_:y}function As(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yt(){var y=new Dt;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,vo||(vo=hs)),y}function Jt(y,_,z){return y.a==0&&(y.a=_,y.sc=z,y.cb=0),0}function Ws(y,_,z){return 3<=z&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function Rt(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return Jt(y,2,"null VP8Io passed to VP8GetHeaders()");var z=_.data,q=_.w,ue=_.ha;if(4>ue)return Jt(y,7,"Truncated header.");var me=z[q+0]|z[q+1]<<8|z[q+2]<<16,pe=y.Od;if(pe.Rb=!(1&me),pe.td=me>>1&7,pe.yd=me>>4&1,pe.ub=me>>5,3<pe.td)return Jt(y,3,"Incorrect keyframe parameters.");if(!pe.yd)return Jt(y,4,"Frame not displayable.");q+=3,ue-=3;var be=y.Kc;if(pe.Rb){if(7>ue)return Jt(y,7,"cannot parse picture header");if(!Ws(z,q,ue))return Jt(y,3,"Bad code word");be.c=16383&(z[q+4]<<8|z[q+3]),be.Td=z[q+4]>>6,be.i=16383&(z[q+6]<<8|z[q+5]),be.Ud=z[q+6]>>6,q+=7,ue-=7,y.za=be.c+15>>4,y.Ub=be.i+15>>4,_.width=be.c,_.height=be.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((me=y.Pa).jb,0,255,me.jb.length),e((me=y.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,r(me.Zb,0,0,me.Zb.length),r(me.Lb,0,0,me.Lb)}if(pe.ub>ue)return Jt(y,7,"bad partition length");re(me=y.m,z,q,pe.ub),q+=pe.ub,ue-=pe.ub,pe.Rb&&(be.Ld=ge(me),be.Kd=ge(me)),be=y.Qa;var je,Ie=y.Pa;if(e(me!=null),e(be!=null),be.Cb=ge(me),be.Cb){if(be.Bb=ge(me),ge(me)){for(be.Fb=ge(me),je=0;4>je;++je)be.Zb[je]=ge(me)?J(me,7):0;for(je=0;4>je;++je)be.Lb[je]=ge(me)?J(me,6):0}if(be.Bb)for(je=0;3>je;++je)Ie.jb[je]=ge(me)?W(me,8):255}else be.Bb=0;if(me.Ka)return Jt(y,3,"cannot parse segment header");if((be=y.ed).zd=ge(me),be.Tb=W(me,6),be.wb=W(me,3),be.Pc=ge(me),be.Pc&&ge(me)){for(Ie=0;4>Ie;++Ie)ge(me)&&(be.vd[Ie]=J(me,6));for(Ie=0;4>Ie;++Ie)ge(me)&&(be.od[Ie]=J(me,6))}if(y.L=be.Tb==0?0:be.zd?1:2,me.Ka)return Jt(y,3,"cannot parse filter header");var Qe=ue;if(ue=je=q,q=je+Qe,be=Qe,y.Xb=(1<<W(y.m,2))-1,Qe<3*(Ie=y.Xb))z=7;else{for(je+=3*Ie,be-=3*Ie,Qe=0;Qe<Ie;++Qe){var Ze=z[ue+0]|z[ue+1]<<8|z[ue+2]<<16;Ze>be&&(Ze=be),re(y.Jc[+Qe],z,je,Ze),je+=Ze,be-=Ze,ue+=3}re(y.Jc[+Ie],z,je,be),z=je<q?0:5}if(z!=0)return Jt(y,z,"cannot parse partitions");for(z=W(je=y.m,7),ue=ge(je)?J(je,4):0,q=ge(je)?J(je,4):0,be=ge(je)?J(je,4):0,Ie=ge(je)?J(je,4):0,je=ge(je)?J(je,4):0,Qe=y.Qa,Ze=0;4>Ze;++Ze){if(Qe.Cb){var Ee=Qe.Zb[Ze];Qe.Fb||(Ee+=z)}else{if(0<Ze){y.pb[Ze]=y.pb[0];continue}Ee=z}var ke=y.pb[Ze];ke.Sc[0]=Ho[It(Ee+ue,127)],ke.Sc[1]=Xi[It(Ee+0,127)],ke.Eb[0]=2*Ho[It(Ee+q,127)],ke.Eb[1]=101581*Xi[It(Ee+be,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Ho[It(Ee+Ie,117)],ke.Qc[1]=Xi[It(Ee+je,127)],ke.lc=Ee+je}if(!pe.Rb)return Jt(y,4,"Not a key frame.");for(ge(me),pe=y.Pa,z=0;4>z;++z){for(ue=0;8>ue;++ue)for(q=0;3>q;++q)for(be=0;11>be;++be)Ie=Se(me,Rr[z][ue][q][be])?W(me,8):uf[z][ue][q][be],pe.Wc[z][ue].Yb[q][be]=Ie;for(ue=0;17>ue;++ue)pe.Xc[z][ue]=pe.Wc[z][Dn[ue]]}return y.kc=ge(me),y.kc&&(y.Bd=W(me,8)),y.cb=1}function hs(y,_,z,q,ue,me,pe){var be=_[ue].Yb[z];for(z=0;16>ue;++ue){if(!Se(y,be[z+0]))return ue;for(;!Se(y,be[z+1]);)if(be=_[++ue].Yb[0],z=0,ue==16)return 16;var je=_[ue+1].Yb;if(Se(y,be[z+2])){var Ie=y,Qe=0;if(Se(Ie,(Ee=be)[(Ze=z)+3]))if(Se(Ie,Ee[Ze+6])){for(be=0,Ze=2*(Qe=Se(Ie,Ee[Ze+8]))+(Ee=Se(Ie,Ee[Ze+9+Qe])),Qe=0,Ee=cf[Ze];Ee[be];++be)Qe+=Qe+Se(Ie,Ee[be]);Qe+=3+(8<<Ze)}else Se(Ie,Ee[Ze+7])?(Qe=7+2*Se(Ie,165),Qe+=Se(Ie,145)):Qe=5+Se(Ie,159);else Qe=Se(Ie,Ee[Ze+4])?3+Se(Ie,Ee[Ze+5]):2;be=je[2]}else Qe=1,be=je[1];je=pe+ah[ue],0>(Ie=y).b&&Ne(Ie);var Ze,Ee=Ie.b,ke=(Ze=Ie.Ca>>1)-(Ie.I>>Ee)>>31;--Ie.b,Ie.Ca+=ke,Ie.Ca|=1,Ie.I-=(Ze+1&ke)<<Ee,me[je]=((Qe^ke)-ke)*q[(0<ue)+0]}return 16}function dn(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function ms(y,_,z,q,ue){ue=y[_+z+32*q]+(ue>>3),y[_+z+32*q]=-256&ue?0>ue?0:255:ue}function ln(y,_,z,q,ue,me){ms(y,_,0,z,q+ue),ms(y,_,1,z,q+me),ms(y,_,2,z,q-me),ms(y,_,3,z,q-ue)}function mn(y){return(20091*y>>16)+y}function Ba(y,_,z,q){var ue,me=0,pe=o(16);for(ue=0;4>ue;++ue){var be=y[_+0]+y[_+8],je=y[_+0]-y[_+8],Ie=(35468*y[_+4]>>16)-mn(y[_+12]),Qe=mn(y[_+4])+(35468*y[_+12]>>16);pe[me+0]=be+Qe,pe[me+1]=je+Ie,pe[me+2]=je-Ie,pe[me+3]=be-Qe,me+=4,_++}for(ue=me=0;4>ue;++ue)be=(y=pe[me+0]+4)+pe[me+8],je=y-pe[me+8],Ie=(35468*pe[me+4]>>16)-mn(pe[me+12]),ms(z,q,0,0,be+(Qe=mn(pe[me+4])+(35468*pe[me+12]>>16))),ms(z,q,1,0,je+Ie),ms(z,q,2,0,je-Ie),ms(z,q,3,0,be-Qe),me++,q+=32}function Xa(y,_,z,q){var ue=y[_+0]+4,me=35468*y[_+4]>>16,pe=mn(y[_+4]),be=35468*y[_+1]>>16;ln(z,q,0,ue+pe,y=mn(y[_+1]),be),ln(z,q,1,ue+me,y,be),ln(z,q,2,ue-me,y,be),ln(z,q,3,ue-pe,y,be)}function ha(y,_,z,q,ue){Ba(y,_,z,q),ue&&Ba(y,_+16,z,q+4)}function or(y,_,z,q){Gl(y,_+0,z,q,1),Gl(y,_+32,z,q+128,1)}function Uo(y,_,z,q){var ue;for(y=y[_+0]+4,ue=0;4>ue;++ue)for(_=0;4>_;++_)ms(z,q,_,ue,y)}function wi(y,_,z,q){y[_+0]&&$n(y,_+0,z,q),y[_+16]&&$n(y,_+16,z,q+4),y[_+32]&&$n(y,_+32,z,q+128),y[_+48]&&$n(y,_+48,z,q+128+4)}function Cr(y,_,z,q){var ue,me=o(16);for(ue=0;4>ue;++ue){var pe=y[_+0+ue]+y[_+12+ue],be=y[_+4+ue]+y[_+8+ue],je=y[_+4+ue]-y[_+8+ue],Ie=y[_+0+ue]-y[_+12+ue];me[0+ue]=pe+be,me[8+ue]=pe-be,me[4+ue]=Ie+je,me[12+ue]=Ie-je}for(ue=0;4>ue;++ue)pe=(y=me[0+4*ue]+3)+me[3+4*ue],be=me[1+4*ue]+me[2+4*ue],je=me[1+4*ue]-me[2+4*ue],Ie=y-me[3+4*ue],z[q+0]=pe+be>>3,z[q+16]=Ie+je>>3,z[q+32]=pe-be>>3,z[q+48]=Ie-je>>3,q+=64}function ao(y,_,z){var q,ue=_-32,me=Ei,pe=255-y[ue-1];for(q=0;q<z;++q){var be,je=me,Ie=pe+y[_-1];for(be=0;be<z;++be)y[_+be]=je[Ie+y[ue+be]];_+=32}}function yl(y,_){ao(y,_,4)}function Vl(y,_){ao(y,_,8)}function bl(y,_){ao(y,_,16)}function il(y,_){var z;for(z=0;16>z;++z)n(y,_+32*z,y,_-32,16)}function ji(y,_){var z;for(z=16;0<z;--z)r(y,_,y[_-1],16),_+=32}function Fr(y,_,z){var q;for(q=0;16>q;++q)r(_,z+32*q,y,16)}function oi(y,_){var z,q=16;for(z=0;16>z;++z)q+=y[_-1+32*z]+y[_+z-32];Fr(q>>5,y,_)}function io(y,_){var z,q=8;for(z=0;16>z;++z)q+=y[_-1+32*z];Fr(q>>4,y,_)}function na(y,_){var z,q=8;for(z=0;16>z;++z)q+=y[_+z-32];Fr(q>>4,y,_)}function li(y,_){Fr(128,y,_)}function Rs(y,_,z){return y+2*_+z+2>>2}function oo(y,_){var z,q=_-32;for(q=new Uint8Array([Rs(y[q-1],y[q+0],y[q+1]),Rs(y[q+0],y[q+1],y[q+2]),Rs(y[q+1],y[q+2],y[q+3]),Rs(y[q+2],y[q+3],y[q+4])]),z=0;4>z;++z)n(y,_+32*z,q,0,q.length)}function fo(y,_){var z=y[_-1],q=y[_-1+32],ue=y[_-1+64],me=y[_-1+96];Fe(y,_+0,16843009*Rs(y[_-1-32],z,q)),Fe(y,_+32,16843009*Rs(z,q,ue)),Fe(y,_+64,16843009*Rs(q,ue,me)),Fe(y,_+96,16843009*Rs(ue,me,me))}function Ki(y,_){var z,q=4;for(z=0;4>z;++z)q+=y[_+z-32]+y[_-1+32*z];for(q>>=3,z=0;4>z;++z)r(y,_+32*z,q,4)}function Vr(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],me=y[_-1-32],pe=y[_+0-32],be=y[_+1-32],je=y[_+2-32],Ie=y[_+3-32];y[_+0+96]=Rs(q,ue,y[_-1+96]),y[_+1+96]=y[_+0+64]=Rs(z,q,ue),y[_+2+96]=y[_+1+64]=y[_+0+32]=Rs(me,z,q),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=Rs(pe,me,z),y[_+3+64]=y[_+2+32]=y[_+1+0]=Rs(be,pe,me),y[_+3+32]=y[_+2+0]=Rs(je,be,pe),y[_+3+0]=Rs(Ie,je,be)}function Xt(y,_){var z=y[_+1-32],q=y[_+2-32],ue=y[_+3-32],me=y[_+4-32],pe=y[_+5-32],be=y[_+6-32],je=y[_+7-32];y[_+0+0]=Rs(y[_+0-32],z,q),y[_+1+0]=y[_+0+32]=Rs(z,q,ue),y[_+2+0]=y[_+1+32]=y[_+0+64]=Rs(q,ue,me),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=Rs(ue,me,pe),y[_+3+32]=y[_+2+64]=y[_+1+96]=Rs(me,pe,be),y[_+3+64]=y[_+2+96]=Rs(pe,be,je),y[_+3+96]=Rs(be,je,je)}function Gs(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],me=y[_-1-32],pe=y[_+0-32],be=y[_+1-32],je=y[_+2-32],Ie=y[_+3-32];y[_+0+0]=y[_+1+64]=me+pe+1>>1,y[_+1+0]=y[_+2+64]=pe+be+1>>1,y[_+2+0]=y[_+3+64]=be+je+1>>1,y[_+3+0]=je+Ie+1>>1,y[_+0+96]=Rs(ue,q,z),y[_+0+64]=Rs(q,z,me),y[_+0+32]=y[_+1+96]=Rs(z,me,pe),y[_+1+32]=y[_+2+96]=Rs(me,pe,be),y[_+2+32]=y[_+3+96]=Rs(pe,be,je),y[_+3+32]=Rs(be,je,Ie)}function Is(y,_){var z=y[_+0-32],q=y[_+1-32],ue=y[_+2-32],me=y[_+3-32],pe=y[_+4-32],be=y[_+5-32],je=y[_+6-32],Ie=y[_+7-32];y[_+0+0]=z+q+1>>1,y[_+1+0]=y[_+0+64]=q+ue+1>>1,y[_+2+0]=y[_+1+64]=ue+me+1>>1,y[_+3+0]=y[_+2+64]=me+pe+1>>1,y[_+0+32]=Rs(z,q,ue),y[_+1+32]=y[_+0+96]=Rs(q,ue,me),y[_+2+32]=y[_+1+96]=Rs(ue,me,pe),y[_+3+32]=y[_+2+96]=Rs(me,pe,be),y[_+3+64]=Rs(pe,be,je),y[_+3+96]=Rs(be,je,Ie)}function En(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],me=y[_-1+96];y[_+0+0]=z+q+1>>1,y[_+2+0]=y[_+0+32]=q+ue+1>>1,y[_+2+32]=y[_+0+64]=ue+me+1>>1,y[_+1+0]=Rs(z,q,ue),y[_+3+0]=y[_+1+32]=Rs(q,ue,me),y[_+3+32]=y[_+1+64]=Rs(ue,me,me),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=me}function jn(y,_){var z=y[_-1+0],q=y[_-1+32],ue=y[_-1+64],me=y[_-1+96],pe=y[_-1-32],be=y[_+0-32],je=y[_+1-32],Ie=y[_+2-32];y[_+0+0]=y[_+2+32]=z+pe+1>>1,y[_+0+32]=y[_+2+64]=q+z+1>>1,y[_+0+64]=y[_+2+96]=ue+q+1>>1,y[_+0+96]=me+ue+1>>1,y[_+3+0]=Rs(be,je,Ie),y[_+2+0]=Rs(pe,be,je),y[_+1+0]=y[_+3+32]=Rs(z,pe,be),y[_+1+32]=y[_+3+64]=Rs(q,z,pe),y[_+1+64]=y[_+3+96]=Rs(ue,q,z),y[_+1+96]=Rs(me,ue,q)}function rs(y,_){var z;for(z=0;8>z;++z)n(y,_+32*z,y,_-32,8)}function lr(y,_){var z;for(z=0;8>z;++z)r(y,_,y[_-1],8),_+=32}function gr(y,_,z){var q;for(q=0;8>q;++q)r(_,z+32*q,y,8)}function Ja(y,_){var z,q=8;for(z=0;8>z;++z)q+=y[_+z-32]+y[_-1+32*z];gr(q>>4,y,_)}function ra(y,_){var z,q=4;for(z=0;8>z;++z)q+=y[_+z-32];gr(q>>3,y,_)}function Sr(y,_){var z,q=4;for(z=0;8>z;++z)q+=y[_-1+32*z];gr(q>>3,y,_)}function Ca(y,_){gr(128,y,_)}function Ur(y,_,z){var q=y[_-z],ue=y[_+0],me=3*(ue-q)+Sl[1020+y[_-2*z]-y[_+z]],pe=su[112+(me+4>>3)];y[_-z]=Ei[255+q+su[112+(me+3>>3)]],y[_+0]=Ei[255+ue-pe]}function Bn(y,_,z,q){var ue=y[_+0],me=y[_+z];return ui[255+y[_-2*z]-y[_-z]]>q||ui[255+me-ue]>q}function Sa(y,_,z,q){return 4*ui[255+y[_-z]-y[_+0]]+ui[255+y[_-2*z]-y[_+z]]<=q}function fa(y,_,z,q,ue){var me=y[_-3*z],pe=y[_-2*z],be=y[_-z],je=y[_+0],Ie=y[_+z],Qe=y[_+2*z],Ze=y[_+3*z];return 4*ui[255+be-je]+ui[255+pe-Ie]>q?0:ui[255+y[_-4*z]-me]<=ue&&ui[255+me-pe]<=ue&&ui[255+pe-be]<=ue&&ui[255+Ze-Qe]<=ue&&ui[255+Qe-Ie]<=ue&&ui[255+Ie-je]<=ue}function zi(y,_,z,q){var ue=2*q+1;for(q=0;16>q;++q)Sa(y,_+q,z,ue)&&Ur(y,_+q,z)}function Bi(y,_,z,q){var ue=2*q+1;for(q=0;16>q;++q)Sa(y,_+q*z,1,ue)&&Ur(y,_+q*z,1)}function Kl(y,_,z,q){var ue;for(ue=3;0<ue;--ue)zi(y,_+=4*z,z,q)}function cA(y,_,z,q){var ue;for(ue=3;0<ue;--ue)Bi(y,_+=4,z,q)}function qa(y,_,z,q,ue,me,pe,be){for(me=2*me+1;0<ue--;){if(fa(y,_,z,me,pe))if(Bn(y,_,z,be))Ur(y,_,z);else{var je=y,Ie=_,Qe=z,Ze=je[Ie-2*Qe],Ee=je[Ie-Qe],ke=je[Ie+0],He=je[Ie+Qe],ht=je[Ie+2*Qe],Xe=27*(vt=Sl[1020+3*(ke-Ee)+Sl[1020+Ze-He]])+63>>7,ct=18*vt+63>>7,vt=9*vt+63>>7;je[Ie-3*Qe]=Ei[255+je[Ie-3*Qe]+vt],je[Ie-2*Qe]=Ei[255+Ze+ct],je[Ie-Qe]=Ei[255+Ee+Xe],je[Ie+0]=Ei[255+ke-Xe],je[Ie+Qe]=Ei[255+He-ct],je[Ie+2*Qe]=Ei[255+ht-vt]}_+=q}}function Gi(y,_,z,q,ue,me,pe,be){for(me=2*me+1;0<ue--;){if(fa(y,_,z,me,pe))if(Bn(y,_,z,be))Ur(y,_,z);else{var je=y,Ie=_,Qe=z,Ze=je[Ie-Qe],Ee=je[Ie+0],ke=je[Ie+Qe],He=su[112+(4+(ht=3*(Ee-Ze))>>3)],ht=su[112+(ht+3>>3)],Xe=He+1>>1;je[Ie-2*Qe]=Ei[255+je[Ie-2*Qe]+Xe],je[Ie-Qe]=Ei[255+Ze+ht],je[Ie+0]=Ei[255+Ee-He],je[Ie+Qe]=Ei[255+ke-Xe]}_+=q}}function uA(y,_,z,q,ue,me){qa(y,_,z,1,16,q,ue,me)}function mo(y,_,z,q,ue,me){qa(y,_,1,z,16,q,ue,me)}function $i(y,_,z,q,ue,me){var pe;for(pe=3;0<pe;--pe)Gi(y,_+=4*z,z,1,16,q,ue,me)}function k(y,_,z,q,ue,me){var pe;for(pe=3;0<pe;--pe)Gi(y,_+=4,1,z,16,q,ue,me)}function Ae(y,_,z,q,ue,me,pe,be){qa(y,_,ue,1,8,me,pe,be),qa(z,q,ue,1,8,me,pe,be)}function Te(y,_,z,q,ue,me,pe,be){qa(y,_,1,ue,8,me,pe,be),qa(z,q,1,ue,8,me,pe,be)}function De(y,_,z,q,ue,me,pe,be){Gi(y,_+4*ue,ue,1,8,me,pe,be),Gi(z,q+4*ue,ue,1,8,me,pe,be)}function Ke(y,_,z,q,ue,me,pe,be){Gi(y,_+4,1,ue,8,me,pe,be),Gi(z,q+4,1,ue,8,me,pe,be)}function gt(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bs(){this.ua=0,this.Wa=new wt,this.vb=new wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new $}function Ps(){this.xb=this.a=0,this.l=new As,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bs,this.ab=0,this.gc=c(4,vs),this.Oc=0}function Us(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new As,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(y,_,z,q,ue,me,pe){for(y=y==null?0:y[_+0],_=0;_<pe;++_)ue[me+_]=y+z[q+_]&255,y=ue[me+_]}function Nr(y,_,z,q,ue,me,pe){var be;if(y==null)In(null,null,z,q,ue,me,pe);else for(be=0;be<pe;++be)ue[me+be]=y[_+be]+z[q+be]&255}function hr(y,_,z,q,ue,me,pe){if(y==null)In(null,null,z,q,ue,me,pe);else{var be,je=y[_+0],Ie=je,Qe=je;for(be=0;be<pe;++be)Ie=Qe+(je=y[_+be])-Ie,Qe=z[q+be]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=je,ue[me+be]=Qe}}function w(y,_,z,q){var ue=_.width,me=_.o;if(e(y!=null&&_!=null),0>z||0>=q||z+q>me)return null;if(!y.Cc){if(y.ga==null){var pe;if(y.ga=new Us,(pe=y.ga==null)||(pe=_.width*_.o,e(y.Gb.length==0),y.Gb=o(pe),y.Uc=0,y.Gb==null?pe=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,pe=1),pe=!pe),!pe){pe=y.ga;var be=y.Fa,je=y.P,Ie=y.qc,Qe=y.mb,Ze=y.nb,Ee=je+1,ke=Ie-1,He=pe.l;if(e(be!=null&&Qe!=null&&_!=null),Nl[0]=null,Nl[1]=In,Nl[2]=Nr,Nl[3]=hr,pe.ca=Qe,pe.tb=Ze,pe.c=_.width,pe.i=_.height,e(0<pe.c&&0<pe.i),1>=Ie)_=0;else if(pe.$a=3&be[je+0],pe.Z=be[je+0]>>2&3,pe.Lc=be[je+0]>>4&3,je=be[je+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||je)_=0;else if(He.put=es,He.ac=wn,He.bc=ca,He.ma=pe,He.width=_.width,He.height=_.height,He.Da=_.Da,He.v=_.v,He.va=_.va,He.j=_.j,He.o=_.o,pe.$a)e:{e(pe.$a==1),_=Vi();t:for(;;){if(_==null){_=0;break e}if(e(pe!=null),pe.mc=_,_.c=pe.c,_.i=pe.i,_.l=pe.l,_.l.ma=pe,_.l.width=pe.c,_.l.height=pe.i,_.a=0,oe(_.m,be,Ee,ke),!ir(pe.c,pe.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&on(_.s)?(pe.ic=1,be=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(be),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(pe.ic=0,_=Ir(_,pe.c)),!_))break t;_=1;break e}pe.mc=null,_=0}else _=ke>=pe.c*pe.i;pe=!_}if(pe)return null;y.ga.Lc!=1?y.Ga=0:q=me-z}e(y.ga!=null),e(z+q<=me);e:{if(_=(be=y.ga).c,me=be.l.o,be.$a==0){if(Ee=y.rc,ke=y.Vc,He=y.Fa,je=y.P+1+z*_,Ie=y.mb,Qe=y.nb+z*_,e(je<=y.P+y.qc),be.Z!=0)for(e(Nl[be.Z]!=null),pe=0;pe<q;++pe)Nl[be.Z](Ee,ke,He,je,Ie,Qe,_),Ee=Ie,ke=Qe,Qe+=_,je+=_;else for(pe=0;pe<q;++pe)n(Ie,Qe,He,je,_),Ee=Ie,ke=Qe,Qe+=_,je+=_;y.rc=Ee,y.Vc=ke}else{if(e(be.mc!=null),_=z+q,e((pe=be.mc)!=null),e(_<=pe.i),pe.C>=_)_=1;else if(be.ic||nt(),be.ic){be=pe.V,Ee=pe.Ba,ke=pe.c;var ht=pe.i,Xe=(He=1,je=pe.$/ke,Ie=pe.$%ke,Qe=pe.m,Ze=pe.s,pe.$),ct=ke*ht,vt=ke*_,Qt=Ze.wc,Bt=Xe<vt?jr(Ze,Ie,je):null;e(Xe<=ct),e(_<=ht),e(on(Ze));t:for(;;){for(;!Qe.h&&Xe<vt;){if(Ie&Qt||(Bt=jr(Ze,Ie,je)),e(Bt!=null),ye(Qe),256>(ht=us(Bt.G[0],Bt.H[0],Qe)))be[Ee+Xe]=ht,++Xe,++Ie>=ke&&(Ie=0,++je<=_&&!(je%16)&&Un(pe,je));else{if(!(280>ht)){He=0;break t}ht=Yr(ht-256,Qe);var Cs,ps=us(Bt.G[4],Bt.H[4],Qe);if(ye(Qe),!(Xe>=(ps=pr(ke,ps=Yr(ps,Qe)))&&ct-Xe>=ht)){He=0;break t}for(Cs=0;Cs<ht;++Cs)be[Ee+Xe+Cs]=be[Ee+Xe+Cs-ps];for(Xe+=ht,Ie+=ht;Ie>=ke;)Ie-=ke,++je<=_&&!(je%16)&&Un(pe,je);Xe<vt&&Ie&Qt&&(Bt=jr(Ze,Ie,je))}e(Qe.h==le(Qe))}Un(pe,je>_?_:je);break t}!He||Qe.h&&Xe<ct?(He=0,pe.a=Qe.h?5:3):pe.$=Xe,_=He}else _=Br(pe,pe.V,pe.Ba,pe.c,pe.i,_,vi);if(!_){q=0;break e}}z+q>=me&&(y.Cc=1),q=1}if(!q)return null;if(y.Cc&&((q=y.ga)!=null&&(q.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+z*ue}function Y(y,_,z,q,ue,me){for(;0<ue--;){var pe,be=y,je=_+(z?1:0),Ie=y,Qe=_+(z?0:3);for(pe=0;pe<q;++pe){var Ze=Ie[Qe+4*pe];Ze!=255&&(Ze*=32897,be[je+4*pe+0]=be[je+4*pe+0]*Ze>>23,be[je+4*pe+1]=be[je+4*pe+1]*Ze>>23,be[je+4*pe+2]=be[je+4*pe+2]*Ze>>23)}_+=me}}function ne(y,_,z,q,ue){for(;0<q--;){var me;for(me=0;me<z;++me){var pe=y[_+2*me+0],be=15&(Ie=y[_+2*me+1]),je=4369*be,Ie=(240&Ie|Ie>>4)*je>>16;y[_+2*me+0]=(240&pe|pe>>4)*je>>16&240|(15&pe|pe<<4)*je>>16>>4&15,y[_+2*me+1]=240&Ie|be}_+=ue}}function we(y,_,z,q,ue,me,pe,be){var je,Ie,Qe=255;for(Ie=0;Ie<ue;++Ie){for(je=0;je<q;++je){var Ze=y[_+je];me[pe+4*je]=Ze,Qe&=Ze}_+=z,pe+=be}return Qe!=255}function $e(y,_,z,q,ue){var me;for(me=0;me<ue;++me)z[q+me]=y[_+me]>>8}function nt(){hA=Y,go=ne,mc=we,xo=$e}function Kt(y,_,z){R[y]=function(q,ue,me,pe,be,je,Ie,Qe,Ze,Ee,ke,He,ht,Xe,ct,vt,Qt){var Bt,Cs=Qt-1>>1,ps=be[je+0]|Ie[Qe+0]<<16,tn=Ze[Ee+0]|ke[He+0]<<16;e(q!=null);var bs=3*ps+tn+131074>>2;for(_(q[ue+0],255&bs,bs>>16,ht,Xe),me!=null&&(bs=3*tn+ps+131074>>2,_(me[pe+0],255&bs,bs>>16,ct,vt)),Bt=1;Bt<=Cs;++Bt){var _n=be[je+Bt]|Ie[Qe+Bt]<<16,Lr=Ze[Ee+Bt]|ke[He+Bt]<<16,An=ps+_n+tn+Lr+524296,it=An+2*(_n+tn)>>3;bs=it+ps>>1,ps=(An=An+2*(ps+Lr)>>3)+_n>>1,_(q[ue+2*Bt-1],255&bs,bs>>16,ht,Xe+(2*Bt-1)*z),_(q[ue+2*Bt-0],255&ps,ps>>16,ht,Xe+(2*Bt-0)*z),me!=null&&(bs=An+tn>>1,ps=it+Lr>>1,_(me[pe+2*Bt-1],255&bs,bs>>16,ct,vt+(2*Bt-1)*z),_(me[pe+2*Bt+0],255&ps,ps>>16,ct,vt+(2*Bt+0)*z)),ps=_n,tn=Lr}1&Qt||(bs=3*ps+tn+131074>>2,_(q[ue+Qt-1],255&bs,bs>>16,ht,Xe+(Qt-1)*z),me!=null&&(bs=3*tn+ps+131074>>2,_(me[pe+Qt-1],255&bs,bs>>16,ct,vt+(Qt-1)*z)))}}function Zs(){hi[ku]=GA,hi[Ti]=Wl,hi[$l]=au,hi[Oo]=Ku,hi[nu]=xA,hi[Yl]=El,hi[fA]=vA,hi[ru]=Wl,hi[Mu]=Ku,hi[pc]=xA,hi[KA]=El}function Er(y){return y&-16384?0>y?0:255:y>>zu}function xn(y,_){return Er((19077*y>>8)+(26149*_>>8)-14234)}function qn(y,_,z){return Er((19077*y>>8)-(6419*_>>8)-(13320*z>>8)+8708)}function Ka(y,_){return Er((19077*y>>8)+(33050*_>>8)-17685)}function ma(y,_,z,q,ue){q[ue+0]=xn(y,z),q[ue+1]=qn(y,_,z),q[ue+2]=Ka(y,_)}function zn(y,_,z,q,ue){q[ue+0]=Ka(y,_),q[ue+1]=qn(y,_,z),q[ue+2]=xn(y,z)}function rn(y,_,z,q,ue){var me=qn(y,_,z);_=me<<3&224|Ka(y,_)>>3,q[ue+0]=248&xn(y,z)|me>>5,q[ue+1]=_}function po(y,_,z,q,ue){var me=240&Ka(y,_)|15;q[ue+0]=240&xn(y,z)|qn(y,_,z)>>4,q[ue+1]=me}function Do(y,_,z,q,ue){q[ue+0]=255,ma(y,_,z,q,ue+1)}function ol(y,_,z,q,ue){zn(y,_,z,q,ue),q[ue+3]=255}function Na(y,_,z,q,ue){ma(y,_,z,q,ue),q[ue+3]=255}function Za(y,_,z){R[y]=function(q,ue,me,pe,be,je,Ie,Qe,Ze){for(var Ee=Qe+(-2&Ze)*z;Qe!=Ee;)_(q[ue+0],me[pe+0],be[je+0],Ie,Qe),_(q[ue+1],me[pe+0],be[je+0],Ie,Qe+z),ue+=2,++pe,++je,Qe+=2*z;1&Ze&&_(q[ue+0],me[pe+0],be[je+0],Ie,Qe)}}function fc(y,_,z){return z==0?y==0?_==0?6:5:_==0?4:0:z}function Ro(y,_,z,q,ue){switch(y>>>30){case 3:Gl(_,z,q,ue,0);break;case 2:Ni(_,z,q,ue);break;case 1:$n(_,z,q,ue)}}function Gn(y,_){var z,q,ue=_.M,me=_.Nb,pe=y.oc,be=y.pc+40,je=y.oc,Ie=y.pc+584,Qe=y.oc,Ze=y.pc+600;for(z=0;16>z;++z)pe[be+32*z-1]=129;for(z=0;8>z;++z)je[Ie+32*z-1]=129,Qe[Ze+32*z-1]=129;for(0<ue?pe[be-1-32]=je[Ie-1-32]=Qe[Ze-1-32]=129:(r(pe,be-32-1,127,21),r(je,Ie-32-1,127,9),r(Qe,Ze-32-1,127,9)),q=0;q<y.za;++q){var Ee=_.ya[_.aa+q];if(0<q){for(z=-1;16>z;++z)n(pe,be+32*z-4,pe,be+32*z+12,4);for(z=-1;8>z;++z)n(je,Ie+32*z-4,je,Ie+32*z+4,4),n(Qe,Ze+32*z-4,Qe,Ze+32*z+4,4)}var ke=y.Gd,He=y.Hd+q,ht=Ee.ad,Xe=Ee.Hc;if(0<ue&&(n(pe,be-32,ke[He].y,0,16),n(je,Ie-32,ke[He].f,0,8),n(Qe,Ze-32,ke[He].ea,0,8)),Ee.Za){var ct=pe,vt=be-32+16;for(0<ue&&(q>=y.za-1?r(ct,vt,ke[He].y[15],4):n(ct,vt,ke[He+1].y,0,4)),z=0;4>z;z++)ct[vt+128+z]=ct[vt+256+z]=ct[vt+384+z]=ct[vt+0+z];for(z=0;16>z;++z,Xe<<=2)ct=pe,vt=be+ga[z],ia[Ee.Ob[z]](ct,vt),Ro(Xe,ht,16*+z,ct,vt)}else if(ct=fc(q,ue,Ee.Ob[0]),Ji[ct](pe,be),Xe!=0)for(z=0;16>z;++z,Xe<<=2)Ro(Xe,ht,16*+z,pe,be+ga[z]);for(z=Ee.Gc,ct=fc(q,ue,Ee.Dd),lo[ct](je,Ie),lo[ct](Qe,Ze),Xe=ht,ct=je,vt=Ie,255&(Ee=0|z)&&(170&Ee?Wi(Xe,256,ct,vt):Hn(Xe,256,ct,vt)),Ee=Qe,Xe=Ze,255&(z>>=8)&&(170&z?Wi(ht,320,Ee,Xe):Hn(ht,320,Ee,Xe)),ue<y.Ub-1&&(n(ke[He].y,0,pe,be+480,16),n(ke[He].f,0,je,Ie+224,8),n(ke[He].ea,0,Qe,Ze+224,8)),z=8*me*y.B,ke=y.sa,He=y.ta+16*q+16*me*y.R,ht=y.qa,Ee=y.ra+8*q+z,Xe=y.Ha,ct=y.Ia+8*q+z,z=0;16>z;++z)n(ke,He+z*y.R,pe,be+32*z,16);for(z=0;8>z;++z)n(ht,Ee+z*y.B,je,Ie+32*z,8),n(Xe,ct+z*y.B,Qe,Ze+32*z,8)}}function Lo(y,_,z,q,ue,me,pe,be,je){var Ie=[0],Qe=[0],Ze=0,Ee=je!=null?je.kd:0,ke=je??new _t;if(y==null||12>z)return 7;ke.data=y,ke.w=_,ke.ha=z,_=[_],z=[z],ke.gb=[ke.gb];e:{var He=_,ht=z,Xe=ke.gb;if(e(y!=null),e(ht!=null),e(Xe!=null),Xe[0]=0,12<=ht[0]&&!t(y,He[0],"RIFF")){if(t(y,He[0]+8,"WEBP")){Xe=3;break e}var ct=Oe(y,He[0]+4);if(12>ct||4294967286<ct){Xe=3;break e}if(Ee&&ct>ht[0]-8){Xe=7;break e}Xe[0]=ct,He[0]+=12,ht[0]-=12}Xe=0}if(Xe!=0)return Xe;for(ct=0<ke.gb[0],z=z[0];;){e:{var vt=y;ht=_,Xe=z;var Qt=Ie,Bt=Qe,Cs=He=[0];if((bs=Ze=[Ze])[0]=0,8>Xe[0])Xe=7;else{if(!t(vt,ht[0],"VP8X")){if(Oe(vt,ht[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var ps=Oe(vt,ht[0]+8),tn=1+qe(vt,ht[0]+12);if(2147483648<=tn*(vt=1+qe(vt,ht[0]+15))){Xe=3;break e}Cs!=null&&(Cs[0]=ps),Qt!=null&&(Qt[0]=tn),Bt!=null&&(Bt[0]=vt),ht[0]+=18,Xe[0]-=18,bs[0]=1}Xe=0}}if(Ze=Ze[0],He=He[0],Xe!=0)return Xe;if(ht=!!(2&He),!ct&&Ze)return 3;if(me!=null&&(me[0]=!!(16&He)),pe!=null&&(pe[0]=ht),be!=null&&(be[0]=0),pe=Ie[0],He=Qe[0],Ze&&ht&&je==null){Xe=0;break}if(4>z){Xe=7;break}if(ct&&Ze||!ct&&!Ze&&!t(y,_[0],"ALPH")){z=[z],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{ps=y,Xe=_,ct=z;var bs=ke.gb;Qt=ke.na,Bt=ke.P,Cs=ke.Sa,tn=22,e(ps!=null),e(ct!=null),vt=Xe[0];var _n=ct[0];for(e(Qt!=null),e(Cs!=null),Qt[0]=null,Bt[0]=null,Cs[0]=0;;){if(Xe[0]=vt,ct[0]=_n,8>_n){Xe=7;break e}var Lr=Oe(ps,vt+4);if(4294967286<Lr){Xe=3;break e}var An=8+Lr+1&-2;if(tn+=An,0<bs&&tn>bs){Xe=3;break e}if(!t(ps,vt,"VP8 ")||!t(ps,vt,"VP8L")){Xe=0;break e}if(_n[0]<An){Xe=7;break e}t(ps,vt,"ALPH")||(Qt[0]=ps,Bt[0]=vt+8,Cs[0]=Lr),vt+=An,_n-=An}}if(z=z[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Xe!=0)break}z=[z],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(bs=y,Xe=_,ct=z,Qt=ke.gb[0],Bt=ke.Ja,Cs=ke.xa,ps=Xe[0],vt=!t(bs,ps,"VP8 "),tn=!t(bs,ps,"VP8L"),e(bs!=null),e(ct!=null),e(Bt!=null),e(Cs!=null),8>ct[0])Xe=7;else{if(vt||tn){if(bs=Oe(bs,ps+4),12<=Qt&&bs>Qt-12){Xe=3;break e}if(Ee&&bs>ct[0]-8){Xe=7;break e}Bt[0]=bs,Xe[0]+=8,ct[0]-=8,Cs[0]=tn}else Cs[0]=5<=ct[0]&&bs[ps+0]==47&&!(bs[ps+4]>>5),Bt[0]=ct[0];Xe=0}if(z=z[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],_=_[0],Xe!=0)break;if(4294967286<ke.Ja)return 3;if(be==null||ht||(be[0]=ke.xa?2:1),pe=[pe],He=[He],ke.xa){if(5>z){Xe=7;break}be=pe,Ee=He,ht=me,y==null||5>z?y=0:5<=z&&y[_+0]==47&&!(y[_+4]>>5)?(ct=[0],bs=[0],Qt=[0],oe(Bt=new X,y,_,z),en(Bt,ct,bs,Qt)?(be!=null&&(be[0]=ct[0]),Ee!=null&&(Ee[0]=bs[0]),ht!=null&&(ht[0]=Qt[0]),y=1):y=0):y=0}else{if(10>z){Xe=7;break}be=He,y==null||10>z||!Ws(y,_+3,z-3)?y=0:(Ee=y[_+0]|y[_+1]<<8|y[_+2]<<16,ht=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=ke.Ja||!ht||!y?y=0:(pe&&(pe[0]=ht),be&&(be[0]=y),y=1))}if(!y||(pe=pe[0],He=He[0],Ze&&(Ie[0]!=pe||Qe[0]!=He)))return 3;je!=null&&(je[0]=ke,je.offset=_-je.w,e(4294967286>_-je.w),e(je.offset==je.ha-z));break}return Xe==0||Xe==7&&Ze&&je==null?(me!=null&&(me[0]|=ke.na!=null&&0<ke.na.length),q!=null&&(q[0]=pe),ue!=null&&(ue[0]=He),0):Xe}function Dr(y,_,z){var q=_.width,ue=_.height,me=0,pe=0,be=q,je=ue;if(_.Da=y!=null&&0<y.Da,_.Da&&(be=y.cd,je=y.bd,me=y.v,pe=y.j,11>z||(me&=-2,pe&=-2),0>me||0>pe||0>=be||0>=je||me+be>q||pe+je>ue))return 0;if(_.v=me,_.j=pe,_.va=me+be,_.o=pe+je,_.U=be,_.T=je,_.da=y!=null&&0<y.da,_.da){if(!at(be,je,z=[y.ib],me=[y.hb]))return 0;_.ib=z[0],_.hb=me[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*q/4&&_.hb<3*ue/4,_.Kb=0),1}function OA(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function ei(y,_,z,q){if(q==null||0>=y||0>=_)return 2;if(z!=null){if(z.Da){var ue=z.cd,me=z.bd,pe=-2&z.v,be=-2&z.j;if(0>pe||0>be||0>=ue||0>=me||pe+ue>y||be+me>_)return 2;y=ue,_=me}if(z.da){if(!at(y,_,ue=[z.ib],me=[z.hb]))return 2;y=ue[0],_=me[0]}}q.width=y,q.height=_;e:{var je=q.width,Ie=q.height;if(y=q.S,0>=je||0>=Ie||!(y>=ku&&13>y))y=2;else{if(0>=q.Rd&&q.sd==null){pe=me=ue=_=0;var Qe=(be=je*$u[y])*Ie;if(11>y||(me=(Ie+1)/2*(_=(je+1)/2),y==12&&(pe=(ue=je)*Ie)),(Ie=o(Qe+2*me+pe))==null){y=1;break e}q.sd=Ie,11>y?((je=q.f.RGBA).eb=Ie,je.fb=0,je.A=be,je.size=Qe):((je=q.f.kb).y=Ie,je.O=0,je.fa=be,je.Fd=Qe,je.f=Ie,je.N=0+Qe,je.Ab=_,je.Cd=me,je.ea=Ie,je.W=0+Qe+me,je.Db=_,je.Ed=me,y==12&&(je.F=Ie,je.J=0+Qe+2*me),je.Tc=pe,je.lb=ue)}if(_=1,ue=q.S,me=q.width,pe=q.height,ue>=ku&&13>ue)if(11>ue)y=q.f.RGBA,_&=(be=Math.abs(y.A))*(pe-1)+me<=y.size,_&=be>=me*$u[ue],_&=y.eb!=null;else{y=q.f.kb,be=(me+1)/2,Qe=(pe+1)/2,je=Math.abs(y.fa),Ie=Math.abs(y.Ab);var Ze=Math.abs(y.Db),Ee=Math.abs(y.lb),ke=Ee*(pe-1)+me;_&=je*(pe-1)+me<=y.Fd,_&=Ie*(Qe-1)+be<=y.Cd,_=(_&=Ze*(Qe-1)+be<=y.Ed)&je>=me&Ie>=be&Ze>=be,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,ue==12&&(_&=Ee>=me,_&=ke<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||z!=null&&z.fd&&(y=OA(q)),y}var Qo=64,Cn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ci=24,ll=32,Al=8,wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Lt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(y){return y},R.Predictor2=function(y,_,z){return _[z+0]},R.Predictor3=function(y,_,z){return _[z+1]},R.Predictor4=function(y,_,z){return _[z-1]},R.Predictor5=function(y,_,z){return $t($t(y,_[z+1]),_[z+0])},R.Predictor6=function(y,_,z){return $t(y,_[z-1])},R.Predictor7=function(y,_,z){return $t(y,_[z+0])},R.Predictor8=function(y,_,z){return $t(_[z-1],_[z+0])},R.Predictor9=function(y,_,z){return $t(_[z+0],_[z+1])},R.Predictor10=function(y,_,z){return $t($t(y,_[z-1]),$t(_[z+0],_[z+1]))},R.Predictor11=function(y,_,z){var q=_[z+0];return 0>=Je(q>>24&255,y>>24&255,(_=_[z-1])>>24&255)+Je(q>>16&255,y>>16&255,_>>16&255)+Je(q>>8&255,y>>8&255,_>>8&255)+Je(255&q,255&y,255&_)?q:y},R.Predictor12=function(y,_,z){var q=_[z+0];return(ss((y>>24&255)+(q>>24&255)-((_=_[z-1])>>24&255))<<24|ss((y>>16&255)+(q>>16&255)-(_>>16&255))<<16|ss((y>>8&255)+(q>>8&255)-(_>>8&255))<<8|ss((255&y)+(255&q)-(255&_)))>>>0},R.Predictor13=function(y,_,z){var q=_[z-1];return(ns((y=$t(y,_[z+0]))>>24&255,q>>24&255)<<24|ns(y>>16&255,q>>16&255)<<16|ns(y>>8&255,q>>8&255)<<8|ns(255&y,255&q))>>>0};var zl=R.PredictorAdd0;R.PredictorAdd1=Ht,Lt("Predictor2","PredictorAdd2"),Lt("Predictor3","PredictorAdd3"),Lt("Predictor4","PredictorAdd4"),Lt("Predictor5","PredictorAdd5"),Lt("Predictor6","PredictorAdd6"),Lt("Predictor7","PredictorAdd7"),Lt("Predictor8","PredictorAdd8"),Lt("Predictor9","PredictorAdd9"),Lt("Predictor10","PredictorAdd10"),Lt("Predictor11","PredictorAdd11"),Lt("Predictor12","PredictorAdd12"),Lt("Predictor13","PredictorAdd13");var PA=R.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var aa,Yi=R.ColorIndexInverseTransform,Ai=R.MapARGB,ci=R.VP8LColorIndexInverseTransformAlpha,Ln=R.MapAlpha,Si=R.VP8LPredictorsAdd=[];Si.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var kA,MA,cl,jl,Bl,ul,pa,Gl,Ni,Wi,$n,Hn,Tr,Zn,dl,hl,HA,dA,th,sh,nh,rh,Lu,Qu,hA,go,mc,xo,Cl=o(511),Ou=o(2041),tu=o(225),VA=o(767),Pu=0,Sl=Ou,su=tu,Ei=VA,ui=Cl,ku=0,Ti=1,$l=2,Oo=3,nu=4,Yl=5,fA=6,ru=7,Mu=8,pc=9,KA=10,Po=[2,3,7],gc=[3,3,11],zA=[280,256,256,256,40],Hu=[0,1,1,1,0],mA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ko=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pA=8,Ho=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vo=null,cf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ah=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],di=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Dn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ji=[],ia=[],lo=[],gA=1,ih=2,Nl=[],hi=[];Kt("UpsampleRgbLinePair",ma,3),Kt("UpsampleBgrLinePair",zn,3),Kt("UpsampleRgbaLinePair",Na,4),Kt("UpsampleBgraLinePair",ol,4),Kt("UpsampleArgbLinePair",Do,4),Kt("UpsampleRgba4444LinePair",po,2),Kt("UpsampleRgb565LinePair",rn,2);var GA=R.UpsampleRgbLinePair,au=R.UpsampleBgrLinePair,Wl=R.UpsampleRgbaLinePair,Ku=R.UpsampleBgraLinePair,xA=R.UpsampleArgbLinePair,El=R.UpsampleRgba4444LinePair,vA=R.UpsampleRgb565LinePair,Vo=16,xc=1<<Vo-1,Tl=-227,yA=482,zu=6,bA=0,fi=o(256),Gu=o(256),df=o(256),Im=o(256),_m=o(yA-Tl),Fm=o(yA-Tl);Za("YuvToRgbRow",ma,3),Za("YuvToBgrRow",zn,3),Za("YuvToRgbaRow",Na,4),Za("YuvToBgraRow",ol,4),Za("YuvToArgbRow",Do,4),Za("YuvToRgba4444Row",po,2),Za("YuvToRgb565Row",rn,2);var ga=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vc=[0,2,8],iu=[8,7,6,4,4,2,2,2,1,1,1,1],yc=1;this.WebPDecodeRGBA=function(y,_,z,q,ue){var me=Ti,pe=new gt,be=new Tt;pe.ba=be,be.S=me,be.width=[be.width],be.height=[be.height];var je=be.width,Ie=be.height,Qe=new pt;if(Qe==null||y==null)var Ze=2;else e(Qe!=null),Ze=Lo(y,_,z,Qe.width,Qe.height,Qe.Pd,Qe.Qd,Qe.format,null);if(Ze!=0?je=0:(je!=null&&(je[0]=Qe.width[0]),Ie!=null&&(Ie[0]=Qe.height[0]),je=1),je){be.width=be.width[0],be.height=be.height[0],q!=null&&(q[0]=be.width),ue!=null&&(ue[0]=be.height);e:{if(q=new As,(ue=new _t).data=y,ue.w=_,ue.ha=z,ue.kd=1,_=[0],e(ue!=null),((y=Lo(ue.data,ue.w,ue.ha,null,null,null,_,null,ue))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(pe!=null),q.data=ue.data,q.w=ue.w+ue.offset,q.ha=ue.ha-ue.offset,q.put=es,q.ac=wn,q.bc=ca,q.ma=pe,ue.xa){if((y=Vi())==null){pe=1;break e}if((function(Ee,ke){var He=[0],ht=[0],Xe=[0];t:for(;;){if(Ee==null)return 0;if(ke==null)return Ee.a=2,0;if(Ee.l=ke,Ee.a=0,oe(Ee.m,ke.data,ke.w,ke.ha),!en(Ee.m,He,ht,Xe)){Ee.a=3;break t}if(Ee.xb=ih,ke.width=He[0],ke.height=ht[0],!ir(He[0],ht[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0})(y,q)){if(q=(_=ei(q.width,q.height,pe.Oa,pe.ba))==0){t:{q=y;s:for(;;){if(q==null){q=0;break t}if(e(q.s.yc!=null),e(q.s.Ya!=null),e(0<q.s.Wb),e((z=q.l)!=null),e((ue=z.ma)!=null),q.xb!=0){if(q.ca=ue.ba,q.tb=ue.tb,e(q.ca!=null),!Dr(ue.Oa,z,Oo)){q.a=2;break s}if(!Ir(q,z.width)||z.da)break s;if((z.da||Et(q.ca.S))&&nt(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&nt()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!he(q.s.vb,q.s.Wa.Xa)){q.a=1;break s}q.xb=0}if(!Br(q,q.V,q.Ba,q.c,q.i,z.o,un))break s;ue.Dc=q.Ma,q=1;break t}e(q.a!=0),q=0}q=!q}q&&(_=y.a)}else _=y.a}else{if((y=new Yt)==null){pe=1;break e}if(y.Fa=ue.na,y.P=ue.P,y.qc=ue.Sa,Rt(y,q)){if((_=ei(q.width,q.height,pe.Oa,pe.ba))==0){if(y.Aa=0,z=pe.Oa,e((ue=y)!=null),z!=null){if(0<(je=0>(je=z.Md)?0:100<je?255:255*je/100)){for(Ie=Qe=0;4>Ie;++Ie)12>(Ze=ue.pb[Ie]).lc&&(Ze.ia=je*iu[0>Ze.lc?0:Ze.lc]>>3),Qe|=Ze.ia;Qe&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=z.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Ee,ke){if(Ee==null)return 0;if(ke==null)return Jt(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!Rt(Ee,ke))return 0;if(e(Ee.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(Ee.L=0);var He=vc[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=ke.v-He>>4,Ee.zb=ke.j-He>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=ke.o+15+He>>4,Ee.Hb=ke.va+15+He>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var ht=Ee.ed;for(He=0;4>He;++He){var Xe;if(Ee.Qa.Cb){var ct=Ee.Qa.Lb[He];Ee.Qa.Fb||(ct+=ht.Tb)}else ct=ht.Tb;for(Xe=0;1>=Xe;++Xe){var vt=Ee.gd[He][Xe],Qt=ct;if(ht.Pc&&(Qt+=ht.vd[0],Xe&&(Qt+=ht.od[0])),0<(Qt=0>Qt?0:63<Qt?63:Qt)){var Bt=Qt;0<ht.wb&&(Bt=4<ht.wb?Bt>>2:Bt>>1)>9-ht.wb&&(Bt=9-ht.wb),1>Bt&&(Bt=1),vt.dd=Bt,vt.tc=2*Qt+Bt,vt.ld=40<=Qt?2:15<=Qt?1:0}else vt.tc=0;vt.La=Xe}}}He=0}else Jt(Ee,6,"Frame setup failed"),He=Ee.a;if(He=He==0){if(He){Ee.$c=0,0<Ee.Aa||(Ee.Ic=yc);t:{He=Ee.Ic,ht=4*(Bt=Ee.za);var Cs=32*Bt,ps=Bt+1,tn=0<Ee.L?Bt*(0<Ee.Aa?2:1):0,bs=(Ee.Aa==2?2:1)*Bt;if((vt=ht+832+(Xe=3*(16*He+vc[Ee.L])/2*Cs)+(ct=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=vt)He=0;else{if(vt>Ee.Vb){if(Ee.Vb=0,Ee.Ec=o(vt),Ee.Fc=0,Ee.Ec==null){He=Jt(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=vt}vt=Ee.Ec,Qt=Ee.Fc,Ee.Ac=vt,Ee.Bc=Qt,Qt+=ht,Ee.Gd=c(Cs,yt),Ee.Hd=0,Ee.rb=c(ps+1,Va),Ee.sb=1,Ee.wa=tn?c(tn,Ha):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=Bt),e(!0),Ee.oc=vt,Ee.pc=Qt,Qt+=832,Ee.ya=c(bs,bi),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=Bt),Ee.R=16*Bt,Ee.B=8*Bt,Bt=(Cs=vc[Ee.L])*Ee.R,Cs=Cs/2*Ee.B,Ee.sa=vt,Ee.ta=Qt+Bt,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*He*Ee.R+Cs,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*He*Ee.B+Cs,Ee.$c=0,Qt+=Xe,Ee.mb=ct?vt:null,Ee.nb=ct?Qt:null,e(Qt+ct<=Ee.Fc+Ee.Vb),dn(Ee),r(Ee.Ac,Ee.Bc,0,ht),He=1}}if(He){if(ke.ka=0,ke.y=Ee.sa,ke.O=Ee.ta,ke.f=Ee.qa,ke.N=Ee.ra,ke.ea=Ee.Ha,ke.Vd=Ee.Ia,ke.fa=Ee.R,ke.Rc=Ee.B,ke.F=null,ke.J=0,!Pu){for(He=-255;255>=He;++He)Cl[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)Ou[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)tu[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)VA[255+He]=0>He?0:255<He?255:He;Pu=1}pa=Cr,Gl=ha,Wi=or,$n=Uo,Hn=wi,Ni=Xa,Tr=uA,Zn=mo,dl=Ae,hl=Te,HA=$i,dA=k,th=De,sh=Ke,nh=zi,rh=Bi,Lu=Kl,Qu=cA,ia[0]=Ki,ia[1]=yl,ia[2]=oo,ia[3]=fo,ia[4]=Vr,ia[5]=Gs,ia[6]=Xt,ia[7]=Is,ia[8]=jn,ia[9]=En,Ji[0]=oi,Ji[1]=bl,Ji[2]=il,Ji[3]=ji,Ji[4]=io,Ji[5]=na,Ji[6]=li,lo[0]=Ja,lo[1]=Vl,lo[2]=rs,lo[3]=lr,lo[4]=Sr,lo[5]=ra,lo[6]=Ca,He=1}else He=0}He&&(He=(function(_n,Lr){for(_n.M=0;_n.M<_n.Va;++_n.M){var An,it=_n.Jc[_n.M&_n.Xb],Zt=_n.m,Wr=_n;for(An=0;An<Wr.za;++An){var Vs=Zt,$s=Wr,Ar=$s.Ac,Ea=$s.Bc+4*An,xa=$s.zc,cr=$s.ya[$s.aa+An];if($s.Qa.Bb?cr.$b=Se(Vs,$s.Pa.jb[0])?2+Se(Vs,$s.Pa.jb[2]):Se(Vs,$s.Pa.jb[1]):cr.$b=0,$s.kc&&(cr.Ad=Se(Vs,$s.Bd)),cr.Za=!Se(Vs,145)+0,cr.Za){var Ta=cr.Ob,Ii=0;for($s=0;4>$s;++$s){var Ia,an=xa[0+$s];for(Ia=0;4>Ia;++Ia){an=di[Ar[Ea+Ia]][an];for(var Qn=Vu[Se(Vs,an[0])];0<Qn;)Qn=Vu[2*Qn+Se(Vs,an[Qn])];an=-Qn,Ar[Ea+Ia]=an}n(Ta,Ii,Ar,Ea,4),Ii+=4,xa[0+$s]=an}}else an=Se(Vs,156)?Se(Vs,128)?1:3:Se(Vs,163)?2:0,cr.Ob[0]=an,r(Ar,Ea,an,4),r(xa,0,an,4);cr.Dd=Se(Vs,142)?Se(Vs,114)?Se(Vs,183)?1:3:2:0}if(Wr.m.Ka)return Jt(_n,7,"Premature end-of-partition0 encountered.");for(;_n.ja<_n.za;++_n.ja){if(Wr=it,Vs=(Zt=_n).rb[Zt.sb-1],Ar=Zt.rb[Zt.sb+Zt.ja],An=Zt.ya[Zt.aa+Zt.ja],Ea=Zt.kc?An.Ad:0)Vs.la=Ar.la=0,An.Za||(Vs.Na=Ar.Na=0),An.Hc=0,An.Gc=0,An.ia=0;else{var Qr,er;if(Vs=Ar,Ar=Wr,Ea=Zt.Pa.Xc,xa=Zt.ya[Zt.aa+Zt.ja],cr=Zt.pb[xa.$b],$s=xa.ad,Ta=0,Ii=Zt.rb[Zt.sb-1],an=Ia=0,r($s,Ta,0,384),xa.Za)var _a=0,Xr=Ea[3];else{Qn=o(16);var On=Vs.Na+Ii.Na;if(On=vo(Ar,Ea[1],On,cr.Eb,0,Qn,0),Vs.Na=Ii.Na=(0<On)+0,1<On)pa(Qn,0,$s,Ta);else{var va=Qn[0]+3>>3;for(Qn=0;256>Qn;Qn+=16)$s[Ta+Qn]=va}_a=1,Xr=Ea[0]}var ur=15&Vs.la,Fa=15&Ii.la;for(Qn=0;4>Qn;++Qn){var Ua=1&Fa;for(va=er=0;4>va;++va)ur=ur>>1|(Ua=(On=vo(Ar,Xr,On=Ua+(1&ur),cr.Sc,_a,$s,Ta))>_a)<<7,er=er<<2|(3<On?3:1<On?2:$s[Ta+0]!=0),Ta+=16;ur>>=4,Fa=Fa>>1|Ua<<7,Ia=(Ia<<8|er)>>>0}for(Xr=ur,_a=Fa>>4,Qr=0;4>Qr;Qr+=2){for(er=0,ur=Vs.la>>4+Qr,Fa=Ii.la>>4+Qr,Qn=0;2>Qn;++Qn){for(Ua=1&Fa,va=0;2>va;++va)On=Ua+(1&ur),ur=ur>>1|(Ua=0<(On=vo(Ar,Ea[2],On,cr.Qc,0,$s,Ta)))<<3,er=er<<2|(3<On?3:1<On?2:$s[Ta+0]!=0),Ta+=16;ur>>=2,Fa=Fa>>1|Ua<<5}an|=er<<4*Qr,Xr|=ur<<4<<Qr,_a|=(240&Fa)<<Qr}Vs.la=Xr,Ii.la=_a,xa.Hc=Ia,xa.Gc=an,xa.ia=43690&an?0:cr.ia,Ea=!(Ia|an)}if(0<Zt.L&&(Zt.wa[Zt.Y+Zt.ja]=Zt.gd[An.$b][An.Za],Zt.wa[Zt.Y+Zt.ja].La|=!Ea),Wr.Ka)return Jt(_n,7,"Premature end-of-file encountered.")}if(dn(_n),Zt=Lr,Wr=1,An=(it=_n).D,Vs=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(An.M=it.M,An.uc=Vs,Gn(it,An),Wr=1,An=(er=it.D).Nb,Vs=(an=vc[it.L])*it.R,Ar=an/2*it.B,Qn=16*An*it.R,va=8*An*it.B,Ea=it.sa,xa=it.ta-Vs+Qn,cr=it.qa,$s=it.ra-Ar+va,Ta=it.Ha,Ii=it.Ia-Ar+va,Fa=(ur=er.M)==0,Ia=ur>=it.Va-1,it.Aa==2&&Gn(it,er),er.uc)for(Ua=(On=it).D.M,e(On.D.uc),er=On.yb;er<On.Hb;++er){_a=er,Xr=Ua;var xr=(Vn=(Jr=On).D).Nb;Qr=Jr.R;var Vn=Vn.wa[Vn.Y+_a],_i=Jr.sa,oa=Jr.ta+16*xr*Qr+16*_a,Ls=Vn.dd,ks=Vn.tc;if(ks!=0)if(e(3<=ks),Jr.L==1)0<_a&&rh(_i,oa,Qr,ks+4),Vn.La&&Qu(_i,oa,Qr,ks),0<Xr&&nh(_i,oa,Qr,ks+4),Vn.La&&Lu(_i,oa,Qr,ks);else{var Yn=Jr.B,Ao=Jr.qa,yo=Jr.ra+8*xr*Yn+8*_a,qi=Jr.Ha,Jr=Jr.Ia+8*xr*Yn+8*_a;xr=Vn.ld,0<_a&&(Zn(_i,oa,Qr,ks+4,Ls,xr),hl(Ao,yo,qi,Jr,Yn,ks+4,Ls,xr)),Vn.La&&(dA(_i,oa,Qr,ks,Ls,xr),sh(Ao,yo,qi,Jr,Yn,ks,Ls,xr)),0<Xr&&(Tr(_i,oa,Qr,ks+4,Ls,xr),dl(Ao,yo,qi,Jr,Yn,ks+4,Ls,xr)),Vn.La&&(HA(_i,oa,Qr,ks,Ls,xr),th(Ao,yo,qi,Jr,Yn,ks,Ls,xr))}}if(it.ia&&alert("todo:DitherRow"),Zt.put!=null){if(er=16*ur,ur=16*(ur+1),Fa?(Zt.y=it.sa,Zt.O=it.ta+Qn,Zt.f=it.qa,Zt.N=it.ra+va,Zt.ea=it.Ha,Zt.W=it.Ia+va):(er-=an,Zt.y=Ea,Zt.O=xa,Zt.f=cr,Zt.N=$s,Zt.ea=Ta,Zt.W=Ii),Ia||(ur-=an),ur>Zt.o&&(ur=Zt.o),Zt.F=null,Zt.J=null,it.Fa!=null&&0<it.Fa.length&&er<ur&&(Zt.J=w(it,Zt,er,ur-er),Zt.F=it.mb,Zt.F==null&&Zt.F.length==0)){Wr=Jt(it,3,"Could not decode alpha data.");break t}er<Zt.j&&(an=Zt.j-er,er=Zt.j,e(!(1&an)),Zt.O+=it.R*an,Zt.N+=it.B*(an>>1),Zt.W+=it.B*(an>>1),Zt.F!=null&&(Zt.J+=Zt.width*an)),er<ur&&(Zt.O+=Zt.v,Zt.N+=Zt.v>>1,Zt.W+=Zt.v>>1,Zt.F!=null&&(Zt.J+=Zt.v),Zt.ka=er-Zt.j,Zt.U=Zt.va-Zt.v,Zt.T=ur-er,Wr=Zt.put(Zt))}An+1!=it.Ic||Ia||(n(it.sa,it.ta-Vs,Ea,xa+16*it.R,Vs),n(it.qa,it.ra-Ar,cr,$s+8*it.B,Ar),n(it.Ha,it.Ia-Ar,Ta,Ii+8*it.B,Ar))}if(!Wr)return Jt(_n,6,"Output aborted.")}return 1})(Ee,ke)),ke.bc!=null&&ke.bc(ke),He&=1}return He?(Ee.cb=0,He):0})(y,q)||(_=y.a)}}else _=y.a}_==0&&pe.Oa!=null&&pe.Oa.fd&&(_=OA(pe.ba))}pe=_}me=pe!=0?null:11>me?be.f.RGBA.eb:be.f.kb.y}else me=null;return me};var $u=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(R,K){for(var P="",V=0;V<4;V++)P+=String.fromCharCode(R[K++]);return P}function A(R,K){return R[K+0]|R[K+1]<<8}function m(R,K){return(R[K+0]|R[K+1]<<8|R[K+2]<<16)>>>0}function x(R,K){return(R[K+0]|R[K+1]<<8|R[K+2]<<16|R[K+3]<<24)>>>0}new u;var g=[0],b=[0],I=[],N=new u,S=s,E=(function(R,K){var P={},V=0,$=!1,ae=0,de=0;if(P.frames=[],!(function(M,X){for(var ie=0;ie<4;ie++)if(M[X+ie]!="RIFF".charCodeAt(ie))return!0;return!1})(R,K)){for(x(R,K+=4),K+=8;K<R.length;){var re=f(R,K),W=x(R,K+=4);K+=4;var J=W+(1&W);switch(re){case"VP8 ":case"VP8L":P.frames[V]===void 0&&(P.frames[V]={}),(ee=P.frames[V]).src_off=$?de:K-8,ee.src_size=ae+W+8,V++,$&&($=!1,ae=0,de=0);break;case"VP8X":(ee=P.header={}).feature_flags=R[K];var oe=K+4;ee.canvas_width=1+m(R,oe),oe+=3,ee.canvas_height=1+m(R,oe),oe+=3;break;case"ALPH":$=!0,ae=J+8,de=K-8;break;case"ANIM":(ee=P.header).bgcolor=x(R,K),oe=K+4,ee.loop_count=A(R,oe),oe+=2;break;case"ANMF":var xe,ee;(ee=P.frames[V]={}).offset_x=2*m(R,K),K+=3,ee.offset_y=2*m(R,K),K+=3,ee.width=1+m(R,K),K+=3,ee.height=1+m(R,K),K+=3,ee.duration=m(R,K),K+=3,xe=R[K++],ee.dispose=1&xe,ee.blend=xe>>1&1}re!="ANMF"&&(K+=J)}return P}})(S,0);E.response=S,E.rgbaoutput=!0,E.dataurl=!1;var F=E.header?E.header:null,L=E.frames?E.frames:null;if(F){F.loop_counter=F.loop_count,g=[F.canvas_height],b=[F.canvas_width];for(var O=0;O<L.length&&L[O].blend!=0;O++);}var H=L[0],Q=N.WebPDecodeRGBA(S,H.src_off,H.src_size,b,g);H.rgba=Q,H.imgwidth=b[0],H.imgheight=g[0];for(var D=0;D<b[0]*g[0]*4;D++)I[D]=Q[D];return this.width=b,this.height=g,this.data=I,this}(function(s){var e,t,n,r,o,c,h,u,f,A=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new c,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new c,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,u=this.internal.Matrix,f=new A}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=M;Object.defineProperty(this,"pdf",{get:function(){return X}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(he){ie=!!he}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(he){le=!!he}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(he){isNaN(he)||(ce=he)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(he){isNaN(he)||(ye=he)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(he){var et;typeof he=="number"?et=[he,he,he,he]:((et=new Array(4))[0]=he[0],et[1]=he.length>=2?he[1]:et[0],et[2]=he.length>=3?he[2]:et[0],et[3]=he.length>=4?he[3]:et[1]),f.margin=et}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(he){Ne=he}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(he){ge=he}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(he){Se=he}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(he){he instanceof A&&(f=he)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(he){f.path=he}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(he){Fe=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var et;et=x(he),this.ctx.fillStyle=et.style,this.ctx.isFillTransparent=et.a===0,this.ctx.fillOpacity=et.a,this.pdf.setFillColor(et.r,et.g,et.b,{a:et.a}),this.pdf.setTextColor(et.r,et.g,et.b,{a:et.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var et=x(he);this.ctx.strokeStyle=et.style,this.ctx.isStrokeTransparent=et.a===0,this.ctx.strokeOpacity=et.a,et.a===0?this.pdf.setDrawColor(255,255,255):(et.a,this.pdf.setDrawColor(et.r,et.g,et.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Le=null,qe=null,Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(he){Le=null,qe=null,Oe=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var et;if(this.ctx.font=he,(et=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(he))!==null){var wt=et[1];et[2];var at=et[3],Ye=et[4];et[5];var Ut=et[6],Lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(Lt==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:Lt==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var Wt=(function(Nt){var Es,Me,ut=[],ze=Nt.trim();if(ze==="")return v1;if(ze in ZC)return[ZC[ze]];for(;ze!=="";){switch(Me=null,Es=(ze=tS(ze)).charAt(0)){case'"':case"'":Me=tV(ze.substring(1),Es);break;default:Me=sV(ze)}if(Me===null||(ut.push(Me[0]),(ze=tS(Me[1]))!==""&&ze.charAt(0)!==","))return v1;ze=ze.replace(/^,/,"")}return ut})(Ut);if(this.fontFaces){var $t=(function(Nt,Es){var Me=Nt.getFontList(),ut=JSON.stringify(Me);if(Le===null||qe!==ut){var ze=(function(At){var mt=[];return Object.keys(At).forEach(function(Ot){At[Ot].forEach(function(Et){var Gt=null;switch(Et){case"bold":Gt={family:Ot,weight:"bold"};break;case"italic":Gt={family:Ot,style:"italic"};break;case"bolditalic":Gt={family:Ot,weight:"bold",style:"italic"};break;case"":case"normal":Gt={family:Ot}}Gt!==null&&(Gt.ref={name:Ot,style:Et},mt.push(Gt))})}),mt})(Me);Le=(function(At){for(var mt={},Ot=0;Ot<At.length;++Ot){var Et=x1(At[Ot]),Gt=Et.family,xs=Et.stretch,Tt=Et.style,pt=Et.weight;mt[Gt]=mt[Gt]||{},mt[Gt][xs]=mt[Gt][xs]||{},mt[Gt][xs][Tt]=mt[Gt][xs][Tt]||{},mt[Gt][xs][Tt][pt]=Et}return mt})(ze.concat(Es)),qe=ut}return Le})(this.pdf,this.fontFaces),ss=Wt.map(function(Nt){return{family:Nt,stretch:"normal",weight:at,style:wt}}),ns=(function(Nt,Es,Me){for(var ut=(Me=Me||{}).defaultFontFamily||"times",ze=Object.assign({},eV,Me.genericFontFamilies||{}),At=null,mt=null,Ot=0;Ot<Es.length;++Ot)if(ze[(At=x1(Es[Ot])).family]&&(At.family=ze[At.family]),Nt.hasOwnProperty(At.family)){mt=Nt[At.family];break}if(!(mt=mt||Nt[ut]))throw new Error("Could not find a font-family for the rule '"+eS(At)+"' and default family '"+ut+"'.");if(mt=(function(Et,Gt){if(Gt[Et])return Gt[Et];var xs=Tb[Et],Tt=xs<=Tb.normal?-1:1,pt=qC(Gt,II,xs,Tt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+Et);return pt})(At.stretch,mt),mt=(function(Et,Gt){if(Gt[Et])return Gt[Et];for(var xs=TI[Et],Tt=0;Tt<xs.length;++Tt)if(Gt[xs[Tt]])return Gt[xs[Tt]];throw new Error("Could not find a matching font-style for "+Et)})(At.style,mt),!(mt=(function(Et,Gt){if(Gt[Et])return Gt[Et];if(Et===400&&Gt[500])return Gt[500];if(Et===500&&Gt[400])return Gt[400];var xs=Z9[Et],Tt=qC(Gt,_I,xs,Et<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+Et);return Tt})(At.weight,mt)))throw new Error("Failed to resolve a font for the rule '"+eS(At)+"'.");return mt})($t,ss);this.pdf.setFont(ns.ref.name,ns.ref.style)}else{var Je="";(at==="bold"||parseInt(at,10)>=700||wt==="bold")&&(Je="bold"),wt==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var Ht="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<Wt.length;Mt++){if(this.pdf.internal.getFont(Wt[Mt],Je,{noFallback:!0,disableWarning:!0})!==void 0){Ht=Wt[Mt];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(Wt[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=Wt[Mt],Je="bold";else if(this.pdf.internal.getFont(Wt[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=Wt[Mt],Je="normal";break}}if(Ht===""){for(var dt=0;dt<Wt.length;dt++)if(Vt[Wt[dt]]){Ht=Vt[Wt[dt]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){L.call(this,"fill",!1)},m.prototype.stroke=function(){L.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,X){if(isNaN(M)||isNaN(X))throw ta.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new c(M,X));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new c(M,X)},m.prototype.closePath=function(){var M=new c(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Hr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){M=new c(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(M.x,M.y)},m.prototype.lineTo=function(M,X){if(isNaN(M)||isNaN(X))throw ta.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new c(M,X));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new c(ie.x,ie.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,X,ie,le){if(isNaN(ie)||isNaN(le)||isNaN(M)||isNaN(X))throw ta.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new c(ie,le)),ye=this.ctx.transform.applyToPoint(new c(M,X));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},m.prototype.bezierCurveTo=function(M,X,ie,le,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(le))throw ta.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new c(ce,ye)),ge=this.ctx.transform.applyToPoint(new c(M,X)),Se=this.ctx.transform.applyToPoint(new c(ie,le));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Se.x,y2:Se.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new c(Ne.x,Ne.y)},m.prototype.arc=function(M,X,ie,le,ce,ye){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(le)||isNaN(ce))throw ta.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new c(M,X));M=Ne.x,X=Ne.y;var ge=this.ctx.transform.applyToPoint(new c(0,ie)),Se=this.ctx.transform.applyToPoint(new c(0,0));ie=Math.sqrt(Math.pow(ge.x-Se.x,2)+Math.pow(ge.y-Se.y,2))}Math.abs(ce-le)>=2*Math.PI&&(le=0,ce=2*Math.PI),this.path.push({type:"arc",x:M,y:X,radius:ie,startAngle:le,endAngle:ce,counterclockwise:ye})},m.prototype.arcTo=function(M,X,ie,le,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,X,ie,le){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(le))throw ta.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,X),this.lineTo(M+ie,X),this.lineTo(M+ie,X+le),this.lineTo(M,X+le),this.lineTo(M,X),this.lineTo(M+ie,X),this.lineTo(M,X)},m.prototype.fillRect=function(M,X,ie,le){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(le))throw ta.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,X,ie,le),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(M,X,ie,le){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(le))throw ta.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(M,X,ie,le),this.stroke())},m.prototype.clearRect=function(M,X,ie,le){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(le))throw ta.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,X,ie,le))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(X),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(M){var X,ie,le,ce;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))X=0,ie=0,le=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ye!==null)X=parseInt(ye[1]),ie=parseInt(ye[2]),le=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)X=parseInt(ye[1]),ie=parseInt(ye[2]),le=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ne=new wI(M);M=Ne.ok?Ne.toHex():"#000000"}M.length===4?(X=M.substring(1,2),X+=X,ie=M.substring(2,3),ie+=ie,le=M.substring(3,4),le+=le):(X=M.substring(1,3),ie=M.substring(3,5),le=M.substring(5,7)),X=parseInt(X,16),ie=parseInt(ie,16),le=parseInt(le,16)}}return{r:X,g:ie,b:le,a:ce,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,X,ie,le){if(isNaN(X)||isNaN(ie)||typeof M!="string")throw ta.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!g.call(this)){var ce=J(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;V.call(this,{text:M,x:X,y:ie,scale:ye,angle:ce,align:this.textAlign,maxWidth:le})}},m.prototype.strokeText=function(M,X,ie,le){if(isNaN(X)||isNaN(ie)||typeof M!="string")throw ta.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){le=isNaN(le)?void 0:le;var ce=J(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;V.call(this,{text:M,x:X,y:ie,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:le})}},m.prototype.measureText=function(M){if(typeof M!="string")throw ta.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,ie=this.pdf.internal.scaleFactor,le=X.internal.getFontSize(),ce=X.getStringUnitWidth(M)*le/X.internal.scaleFactor;return new function(ye){var Ne=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:ce*=Math.round(96*ie/72*1e4)/1e4})},m.prototype.scale=function(M,X){if(isNaN(M)||isNaN(X))throw ta.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new u(M,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},m.prototype.rotate=function(M){if(isNaN(M))throw ta.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.translate=function(M,X){if(isNaN(M)||isNaN(X))throw ta.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new u(1,0,0,1,M,X);this.ctx.transform=this.ctx.transform.multiply(ie)},m.prototype.transform=function(M,X,ie,le,ce,ye){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(le)||isNaN(ce)||isNaN(ye))throw ta.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new u(M,X,ie,le,ce,ye);this.ctx.transform=this.ctx.transform.multiply(Ne)},m.prototype.setTransform=function(M,X,ie,le,ce,ye){M=isNaN(M)?1:M,X=isNaN(X)?0:X,ie=isNaN(ie)?0:ie,le=isNaN(le)?1:le,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(M,X,ie,le,ce,ye)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,X,ie,le,ce,ye,Ne,ge,Se){var Fe=this.pdf.getImageProperties(M),Le=1,qe=1,Oe=1,he=1;le!==void 0&&ge!==void 0&&(Oe=ge/le,he=Se/ce,Le=Fe.width/le*ge/le,qe=Fe.height/ce*Se/ce),ye===void 0&&(ye=X,Ne=ie,X=0,ie=0),le!==void 0&&ge===void 0&&(ge=le,Se=ce),le===void 0&&ge===void 0&&(ge=Fe.width,Se=Fe.height);var et=this.ctx.transform.decompose(),wt=J(et.rotate.shx),at=new u,Ye=(at=(at=(at=at.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new h(ye-X*Oe,Ne-ie*he,le*Le,ce*qe));if(this.autoPaging){for(var Ut,Lt=N.call(this,Ye),Wt=[],$t=0;$t<Lt.length;$t+=1)Wt.indexOf(Lt[$t])===-1&&Wt.push(Lt[$t]);F(Wt);for(var ss=Wt[0],ns=Wt[Wt.length-1],Je=ss;Je<ns+1;Je++){this.pdf.setPage(Je);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=Je===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Je===1?0:Mt+(Je-2)*dt;if(this.ctx.clip_path.length!==0){var Es=this.path;Ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ut,this.posX+this.margin[3],-Nt+Vt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Es}var Me=JSON.parse(JSON.stringify(Ye));Me=E([Me],this.posX+this.margin[3],-Nt+Vt+this.ctx.prevPageLastElemOffset)[0];var ut=(Je>ss||Je<ns)&&I.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,dt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,wt),ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,wt)};var N=function(M,X,ie){var le=[];X=X||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":le.push(Math.floor((M.y+ce)/ie)+1);break;case"arc":le.push(Math.floor((M.y+ce-M.radius)/ie)+1),le.push(Math.floor((M.y+ce+M.radius)/ie)+1);break;case"qct":var ye=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);le.push(Math.floor((ye.y+ce)/ie)+1),le.push(Math.floor((ye.y+ye.h+ce)/ie)+1);break;case"bct":var Ne=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);le.push(Math.floor((Ne.y+ce)/ie)+1),le.push(Math.floor((Ne.y+Ne.h+ce)/ie)+1);break;case"rect":le.push(Math.floor((M.y+ce)/ie)+1),le.push(Math.floor((M.y+M.h+ce)/ie)+1)}for(var ge=0;ge<le.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<le[ge];)S.call(this);return le},S=function(){var M=this.fillStyle,X=this.strokeStyle,ie=this.font,le=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=X,this.font=ie,this.lineCap=le,this.lineWidth=ce,this.lineJoin=ye},E=function(M,X,ie){for(var le=0;le<M.length;le++)switch(M[le].type){case"bct":M[le].x2+=X,M[le].y2+=ie;case"qct":M[le].x1+=X,M[le].y1+=ie;default:M[le].x+=X,M[le].y+=ie}return M},F=function(M){return M.sort(function(X,ie){return X-ie})},L=function(M,X){var ie=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,ye=this.lineWidth,Ne=Math.abs(ye*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var Se,Fe,Le=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),Oe=[],he=0;he<qe.length;he++)if(qe[he].x!==void 0)for(var et=N.call(this,qe[he]),wt=0;wt<et.length;wt+=1)Oe.indexOf(et[wt])===-1&&Oe.push(et[wt]);for(var at=0;at<Oe.length;at++)for(;this.pdf.internal.getNumberOfPages()<Oe[at];)S.call(this);F(Oe);for(var Ye=Oe[0],Ut=Oe[Oe.length-1],Lt=Ye;Lt<Ut+1;Lt++){this.pdf.setPage(Lt),this.fillStyle=ie,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=Ne,this.lineJoin=ge;var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=Lt===1?this.posY+this.margin[0]:this.margin[0],ss=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ns=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=Lt===1?0:ss+(Lt-2)*ns;if(this.ctx.clip_path.length!==0){var Ht=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Se,this.posX+this.margin[3],-Je+$t+this.ctx.prevPageLastElemOffset),O.call(this,M,!0),this.path=Ht}if(Fe=JSON.parse(JSON.stringify(Le)),this.path=E(Fe,this.posX+this.margin[3],-Je+$t+this.ctx.prevPageLastElemOffset),X===!1||Lt===0){var Vt=(Lt>Ye||Lt<Ut)&&I.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,ns,null).clip().discardPath()),O.call(this,M,X),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=Le}else this.lineWidth=Ne,O.call(this,M,X),this.lineWidth=ye},O=function(M,X){if((M!=="stroke"||X||!b.call(this))&&(M==="stroke"||X||!g.call(this))){for(var ie,le,ce=[],ye=this.path,Ne=0;Ne<ye.length;Ne++){var ge=ye[Ne];switch(ge.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ge,deltas:[],abs:[]});break;case"lt":var Se=ce.length;if(ye[Ne-1]&&!isNaN(ye[Ne-1].x)&&(ie=[ge.x-ye[Ne-1].x,ge.y-ye[Ne-1].y],Se>0)){for(;Se>=0;Se--)if(ce[Se-1].close!==!0&&ce[Se-1].begin!==!0){ce[Se-1].deltas.push(ie),ce[Se-1].abs.push(ge);break}}break;case"bct":ie=[ge.x1-ye[Ne-1].x,ge.y1-ye[Ne-1].y,ge.x2-ye[Ne-1].x,ge.y2-ye[Ne-1].y,ge.x-ye[Ne-1].x,ge.y-ye[Ne-1].y],ce[ce.length-1].deltas.push(ie);break;case"qct":var Fe=ye[Ne-1].x+2/3*(ge.x1-ye[Ne-1].x),Le=ye[Ne-1].y+2/3*(ge.y1-ye[Ne-1].y),qe=ge.x+2/3*(ge.x1-ge.x),Oe=ge.y+2/3*(ge.y1-ge.y),he=ge.x,et=ge.y;ie=[Fe-ye[Ne-1].x,Le-ye[Ne-1].y,qe-ye[Ne-1].x,Oe-ye[Ne-1].y,he-ye[Ne-1].x,et-ye[Ne-1].y],ce[ce.length-1].deltas.push(ie);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ge)}}le=X?null:M==="stroke"?"stroke":"fill";for(var wt=!1,at=0;at<ce.length;at++)if(ce[at].arc)for(var Ye=ce[at].abs,Ut=0;Ut<Ye.length;Ut++){var Lt=Ye[Ut];Lt.type==="arc"?D.call(this,Lt.x,Lt.y,Lt.radius,Lt.startAngle,Lt.endAngle,Lt.counterclockwise,void 0,X,!wt):$.call(this,Lt.x,Lt.y),wt=!0}else if(ce[at].close===!0)this.pdf.internal.out("h"),wt=!1;else if(ce[at].begin!==!0){var Wt=ce[at].start.x,$t=ce[at].start.y;ae.call(this,ce[at].deltas,Wt,$t),wt=!0}le&&R.call(this,le),X&&K.call(this)}},H=function(M){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-ie;case"top":return M+X-ie;case"hanging":return M+X-2*ie;case"middle":return M+X/2-ie;default:return M}},Q=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(X,ie){this.colorStops.push([X,ie])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(M,X,ie,le,ce,ye,Ne,ge,Se){for(var Fe=re.call(this,ie,le,ce,ye),Le=0;Le<Fe.length;Le++){var qe=Fe[Le];Le===0&&(Se?P.call(this,qe.x1+M,qe.y1+X):$.call(this,qe.x1+M,qe.y1+X)),de.call(this,M,X,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}ge?K.call(this):R.call(this,Ne)},R=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,X){this.pdf.internal.out(t(M)+" "+n(X)+" m")},V=function(M){var X;switch(M.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var ie,le,ce,ye=this.pdf.getTextDimensions(M.text),Ne=H.call(this,M.y),ge=Q.call(this,Ne)-ye.h,Se=this.ctx.transform.applyToPoint(new c(M.x,Ne));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),Le=new u;Le=(Le=(Le=Le.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var qe=this.ctx.transform.applyToRectangle(new h(M.x,Ne,ye.w,ye.h)),Oe=Le.applyToRectangle(new h(M.x,ge,ye.w,ye.h)),he=N.call(this,Oe),et=[],wt=0;wt<he.length;wt+=1)et.indexOf(he[wt])===-1&&et.push(he[wt]);F(et);for(var at=et[0],Ye=et[et.length-1],Ut=at;Ut<Ye+1;Ut++){this.pdf.setPage(Ut);var Lt=Ut===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[2],ss=$t-this.margin[0],ns=this.pdf.internal.pageSize.width-this.margin[1],Je=ns-this.margin[3],Ht=Ut===1?0:Wt+(Ut-2)*ss;if(this.ctx.clip_path.length!==0){var Vt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ie,this.posX+this.margin[3],-1*Ht+Lt),O.call(this,"fill",!0),this.path=Vt}var Mt=E([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Ht+Lt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale);var dt=this.autoPaging!=="text";if(dt||Mt.y+Mt.h<=$t){if(dt||Mt.y>=Lt&&Mt.x<=ns){var Nt=dt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||ns-Mt.x)[0],Es=E([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Ht+Lt+this.ctx.prevPageLastElemOffset)[0],Me=dt&&(Ut>at||Ut<Ye)&&I.call(this);Me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,ss,null).clip().discardPath()),this.pdf.text(Nt,Es.x,Es.y,{angle:M.angle,align:X,renderingMode:M.renderingMode}),Me&&this.pdf.restoreGraphicsState()}}else Mt.y<$t&&(this.ctx.prevPageLastElemOffset+=$t-Mt.y);M.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)}}else M.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale),this.pdf.text(M.text,Se.x+this.posX,Se.y+this.posY,{angle:M.angle,align:X,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)},$=function(M,X,ie,le){ie=ie||0,le=le||0,this.pdf.internal.out(t(M+ie)+" "+n(X+le)+" l")},ae=function(M,X,ie){return this.pdf.lines(M,X,ie,null,null)},de=function(M,X,ie,le,ce,ye,Ne,ge){this.pdf.internal.out([e(r(ie+M)),e(o(le+X)),e(r(ce+M)),e(o(ye+X)),e(r(Ne+M)),e(o(ge+X)),"c"].join(" "))},re=function(M,X,ie,le){for(var ce=2*Math.PI,ye=Math.PI/2;X>ie;)X-=ce;var Ne=Math.abs(ie-X);Ne<ce&&le&&(Ne=ce-Ne);for(var ge=[],Se=le?-1:1,Fe=X;Ne>1e-5;){var Le=Fe+Se*Math.min(Ne,ye);ge.push(W.call(this,M,Fe,Le)),Ne-=Math.abs(Le-Fe),Fe=Le}return ge},W=function(M,X,ie){var le=(ie-X)/2,ce=M*Math.cos(le),ye=M*Math.sin(le),Ne=ce,ge=-ye,Se=Ne*Ne+ge*ge,Fe=Se+Ne*ce+ge*ye,Le=4/3*(Math.sqrt(2*Se*Fe)-Fe)/(Ne*ye-ge*ce),qe=Ne-Le*ge,Oe=ge+Le*Ne,he=qe,et=-Oe,wt=le+X,at=Math.cos(wt),Ye=Math.sin(wt);return{x1:M*Math.cos(X),y1:M*Math.sin(X),x2:qe*at-Oe*Ye,y2:qe*Ye+Oe*at,x3:he*at-et*Ye,y3:he*Ye+et*at,x4:M*Math.cos(ie),y4:M*Math.sin(ie)}},J=function(M){return 180*M/Math.PI},oe=function(M,X,ie,le,ce,ye){var Ne=M+.5*(ie-M),ge=X+.5*(le-X),Se=ce+.5*(ie-ce),Fe=ye+.5*(le-ye),Le=Math.min(M,ce,Ne,Se),qe=Math.max(M,ce,Ne,Se),Oe=Math.min(X,ye,ge,Fe),he=Math.max(X,ye,ge,Fe);return new h(Le,Oe,qe-Le,he-Oe)},xe=function(M,X,ie,le,ce,ye,Ne,ge){var Se,Fe,Le,qe,Oe,he,et,wt,at,Ye,Ut,Lt,Wt,$t,ss=ie-M,ns=le-X,Je=ce-ie,Ht=ye-le,Vt=Ne-ce,Mt=ge-ye;for(Fe=0;Fe<41;Fe++)at=(et=(Le=M+(Se=Fe/40)*ss)+Se*((Oe=ie+Se*Je)-Le))+Se*(Oe+Se*(ce+Se*Vt-Oe)-et),Ye=(wt=(qe=X+Se*ns)+Se*((he=le+Se*Ht)-qe))+Se*(he+Se*(ye+Se*Mt-he)-wt),Fe==0?(Ut=at,Lt=Ye,Wt=at,$t=Ye):(Ut=Math.min(Ut,at),Lt=Math.min(Lt,Ye),Wt=Math.max(Wt,at),$t=Math.max($t,Ye));return new h(Math.round(Ut),Math.round(Lt),Math.round(Wt-Ut),Math.round($t-Lt))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,X,ie=(M=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:X}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(Qs.API),(function(s){var e=function(c){var h,u,f,A,m,x,g,b,I,N;for(u=[],f=0,A=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;A>f;f+=4)(m=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(x=(m=((m=((m=((m=(m-(N=m%85))/85)-(I=m%85))/85)-(b=m%85))/85)-(g=m%85))/85)%85,u.push(x+33,g+33,b+33,I+33,N+33)):u.push(122);return(function(S,E){for(var F=E;F>0;F--)S.pop()})(u,h.length),String.fromCharCode.apply(String,u)+"~>"},t=function(c){var h,u,f,A,m,x=String,g="length",b=255,I="charCodeAt",N="slice",S="replace";for(c[N](-2),c=c[N](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],A=0,m=(c+=h="uuuuu"[N](c[g]%5||5))[g];m>A;A+=5)u=52200625*(c[I](A)-33)+614125*(c[I](A+1)-33)+7225*(c[I](A+2)-33)+85*(c[I](A+3)-33)+(c[I](A+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,F){for(var L=F;L>0;L--)E.pop()})(f,h[g]),x.fromCharCode.apply(x,f)},n=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var u="",f=0;f<c.length;f+=2)u+=String.fromCharCode("0x"+(c[f]+c[f+1]));return u},o=function(c){for(var h=new Uint8Array(c.length),u=c.length;u--;)h[u]=c.charCodeAt(u);return(h=wb(h)).reduce(function(f,A){return f+String.fromCharCode(A)},"")};s.processDataByFilters=function(c,h){var u=0,f=c||"",A=[];for(typeof(h=h||[])=="string"&&(h=[h]),u=0;u<h.length;u+=1)switch(h[u]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=r(f),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[u]+'" is not implemented')}return{data:f,reverseChain:A.reverse().join(" ")}}})(Qs.API),(function(s){s.loadFile=function(e,t,n){return(function(r,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(u,f,A){var m=new XMLHttpRequest,x=0,g=function(b){var I=b.length,N=[],S=String.fromCharCode;for(x=0;x<I;x+=1)N.push(S(255&b.charCodeAt(x)));return N.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?A(g(this.responseText)):A(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)})(r,o,c)}catch{}return h})(e,t,n)},s.loadImageFile=s.loadFile})(Qs.API),(function(s){function e(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):e1(()=>import("./html2canvas.esm-QH1iLAAe.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):e1(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var n=function(h){var u=Hr(h);return u==="undefined"?"undefined":u==="string"||h instanceof String?"string":u==="number"||h instanceof Number?"number":u==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(h,u){var f=document.createElement(h);for(var A in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[A]=u.style[A];return f},o=function h(u,f){for(var A=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||A.appendChild(h(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(A.width=u.width,A.height=u.height,A.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(A.value=u.value),A.addEventListener("load",function(){A.scrollTop=u.scrollTop,A.scrollLeft=u.scrollLeft},!0)),A},c=function h(u){var f=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),A=h.convert(Promise.resolve(),f);return(A=A.setProgress(1,h,1,[h])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,u){return h.__proto__=u||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),u){case"string":return this.then(t).then(function(f){return this.set({src:r("div",{innerHTML:h,dompurify:f})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=this.opt.jsPDF,A=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=A,A)for(var g=0;g<A.length;++g){var b=A[g],I=b.src.find(function(N){return N.format==="truetype"});I&&f.addFont(I.url,b.ref.name,b.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(h,u):this.outputPdf(h,u)},c.prototype.outputPdf=function(h,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,u)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(n(h)!=="object")return this;var u=Object.keys(h||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=h[f]};switch(f){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[f]=h[f]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(h,u){return this.then(function(){var f=h in c.template.prop?this.prop[h]:this.opt[h];return u?u(f):f})},c.prototype.setMargin=function(h){return this.then(function(){switch(n(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function u(f,A){return Math.floor(f*A/72*96)}return this.then(function(){(h=h||Qs.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:u(h.inner.width,h.k),height:u(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,u,f,A){return h!=null&&(this.progress.val=h),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,u,f,A){return this.setProgress(h?this.progress.val+h:null,u||null,f?this.progress.n+f:null,A?this.progress.stack.concat(A):null)},c.prototype.then=function(h,u){var f=this;return this.thenCore(h,u,function(A,m){return f.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,A),x}).then(A,m).then(function(x){return f.updateProgress(1),x})})},c.prototype.thenCore=function(h,u,f){f=f||Promise.prototype.then;var A=this;h&&(h=h.bind(A)),u&&(u=u.bind(A));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:c.convert(Object.assign({},A),Promise.prototype),x=f.call(m,h,u);return c.convert(x,A.__proto__)},c.prototype.thenExternal=function(h,u){return Promise.prototype.then.call(this,h,u)},c.prototype.thenList=function(h){var u=this;return h.forEach(function(f){u=u.thenCore(f)}),u},c.prototype.catch=function(h){h&&(h=h.bind(this));var u=Promise.prototype.catch.call(this,h);return c.convert(u,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Qs.getPageSize=function(h,u,f){if(Hr(h)==="object"){var A=h;h=A.orientation,u=A.unit||u,f=A.format||f}u=u||"mm",f=f||"a4",h=(""+(h||"P")).toLowerCase();var m,x=(""+f).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,I=0,N=0;if(g.hasOwnProperty(x))I=g[x][1]/m,N=g[x][0]/m;else try{I=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(h==="p"||h==="portrait")h="p",N>I&&(b=N,N=I,I=b);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",I>N&&(b=N,N=I,I=b)}return{width:N,height:I,unit:u,k:m,orientation:h}},s.html=function(h,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(x1):null;var f=new c(u);return u.worker?f:f.from(h).doCallback()}})(Qs.API),Qs.API.addJS=function(s){return nS=s,this.internal.events.subscribe("postPutResources",function(){q0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(q0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){q0!==void 0&&sS!==void 0&&this.internal.out("/Names <</JavaScript "+q0+" 0 R>>")}),this},(function(s){var e;s.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),o=0;o<r.length;o++){var c=r[o],h=n.exec(c);if(h!=null){var u=h[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,A=[];for(o=0;o<f;o++){var m=t.internal.newObject();A.push(m);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<A.length;o++)t.internal.write("(page_"+(o+1)+")"+A[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),s.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,r,o){var c={title:r,options:o,children:[]};return n==null&&(n=this.root),n.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var c=n.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,r){for(var o=0;o<r.children.length;o++)n.count++,this.count_r(n,r.children[o]);return n.count}}])})(Qs.API),(function(s){var e=[192,193,194,195,196,197,198,199];s.processJPEG=function(t,n,r,o,c,h){var u,f=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var x,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,I={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=g,e.indexOf(m.charCodeAt(N+1))!==-1){x=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),I={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:x,numcomponents:m.charCodeAt(N+9)};break}g=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return I})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}A={data:t,width:u.width,height:u.height,colorSpace:h,bitsPerComponent:8,filter:f,index:n,alias:r}}return A}})(Qs.API),Qs.API.processPNG=function(s,e,t,n){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var r,o=O9(s,{checkCrc:!0}),c=o.width,h=o.height,u=o.channels,f=o.palette,A=o.depth;r=f&&u===1?(function(D){for(var R=D.width,K=D.height,P=D.data,V=D.palette,$=D.depth,ae=!1,de=[],re=[],W=void 0,J=!1,oe=0,xe=0;xe<V.length;xe++){var ee=oC(V[xe],4),M=ee[0],X=ee[1],ie=ee[2],le=ee[3];de.push(M,X,ie),le!=null&&(le===0?(oe++,re.length<1&&re.push(xe)):le<255&&(J=!0))}if(J||oe>1){ae=!0,re=void 0;var ce=R*K;W=new Uint8Array(ce);for(var ye=new DataView(P.buffer),Ne=0;Ne<ce;Ne++){var ge=y1(ye,Ne,$),Se=oC(V[ge],4)[3];W[Ne]=Se}}else oe===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:P,alphaBytes:W,needSMask:ae,palette:de,mask:re}})(o):u===2||u===4?(function(D){for(var R=D.data,K=D.width,P=D.height,V=D.channels,$=D.depth,ae=V===2?"DeviceGray":"DeviceRGB",de=V-1,re=K*P,W=de,J=re*W,oe=1*re,xe=Math.ceil(J*$/8),ee=Math.ceil(oe*$/8),M=new Uint8Array(xe),X=new Uint8Array(ee),ie=new DataView(R.buffer),le=new DataView(M.buffer),ce=new DataView(X.buffer),ye=!1,Ne=0;Ne<re;Ne++){for(var ge=Ne*V,Se=0;Se<W;Se++)dS(le,y1(ie,ge+Se,$),Ne*W+Se,$);var Fe=y1(ie,ge+W,$);Fe<(1<<$)-1&&(ye=!0),dS(ce,Fe,1*Ne,$)}return{colorSpace:ae,colorsPerPixel:de,sMaskBitsPerComponent:ye?$:void 0,colorBytes:M,alphaBytes:X,needSMask:ye}})(o):(function(D){var R=D.data,K=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(P){for(var V=P.length,$=new Uint8Array(2*V),ae=new DataView($.buffer,$.byteOffset,$.byteLength),de=0;de<V;de++)ae.setUint16(2*de,P[de],!1);return $})(R):R,needSMask:!1}})(o);var m,x,g,b=r,I=b.colorSpace,N=b.colorsPerPixel,S=b.sMaskBitsPerComponent,E=b.colorBytes,F=b.alphaBytes,L=b.needSMask,O=b.palette,H=b.mask,Q=null;return n!==Qs.API.image_compression.NONE&&typeof wb=="function"?(Q=(function(D){var R;switch(D){case Qs.API.image_compression.FAST:R=11;break;case Qs.API.image_compression.MEDIUM:R=13;break;case Qs.API.image_compression.SLOW:R=14;break;default:R=12}return R})(n),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(Q," /Colors ").concat(N," /BitsPerComponent ").concat(A," /Columns ").concat(c),s=oS(E,Math.ceil(c*N*A/8),N,A,n),L&&(g=oS(F,Math.ceil(c*S/8),1,S,n))):(m=void 0,x=void 0,s=E,L&&(g=F)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:s,index:e,filter:m,decodeParameters:x,transparency:H,palette:O,sMask:g,predictor:Q,width:c,height:h,bitsPerComponent:A,sMaskBitsPerComponent:S,colorSpace:I}}},(function(s){s.processGIF89A=function(e,t,n,r){var o=new iV(e),c=o.width,h=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:c,height:h},A=new b1(100).encode(f,100);return s.processJPEG.call(this,A,t,n,r)},s.processGIF87A=s.processGIF89A})(Qs.API),tc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var e=0;e<s;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},tc.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[s]()}catch(t){ta.log("bit decode error:"+t)}},tc.prototype.bit1=function(){var s,e=Math.ceil(this.width/8),t=e%4;for(s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,r=0;r<e;r++)for(var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*r*4,h=0;h<8&&8*r+h<this.width;h++){var u=this.palette[o>>7-h&1];this.data[c+4*h]=u.blue,this.data[c+4*h+1]=u.green,this.data[c+4*h+2]=u.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},tc.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),e=s%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<s;r++){var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*r*4,h=o>>4,u=15&o,f=this.palette[h];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},tc.prototype.bit8=function(){for(var s=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(r<this.palette.length){var c=this.palette[r];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}s!==0&&(this.pos+=4-s)}},tc.prototype.bit15=function(){for(var s=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,f=o>>15?255:0,A=n*this.width*4+4*r;this.data[A]=u,this.data[A+1]=h,this.data[A+2]=c,this.data[A+3]=f}this.pos+=s}},tc.prototype.bit16=function(){for(var s=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,u=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,A=r*this.width*4+4*o;this.data[A]=f,this.data[A+1]=u,this.data[A+2]=h,this.data[A+3]=255}this.pos+=s}},tc.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=r,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},tc.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=r,this.data[h+2]=n,this.data[h+3]=c}},tc.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(e,t,n,r){var o=new tc(e,!1),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new b1(100).encode(u,100);return s.processJPEG.call(this,f,t,n,r)}})(Qs.API),fS.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(e,t,n,r){var o=new fS(e),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new b1(100).encode(u,100);return s.processJPEG.call(this,f,t,n,r)}})(Qs.API),Qs.API.processRGBA=function(s,e,t){for(var n=s.data,r=n.length,o=new Uint8Array(r/4*3),c=new Uint8Array(r/4),h=0,u=0,f=0;f<r;f+=4){var A=n[f],m=n[f+1],x=n[f+2],g=n[f+3];o[h++]=A,o[h++]=m,o[h++]=x,c[u++]=g}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},Qs.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pf=Qs.API,Z0=Pf.getCharWidthsArray=function(s,e){var t,n,r=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:r.metadata.Unicode.widths,u=h.fof?h.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,A=f.fof?f.fof:1,m=e.doKerning!==!1,x=0,g=s.length,b=0,I=h[0]||u,N=[];for(t=0;t<g;t++)n=s.charCodeAt(t),typeof r.metadata.widthOfString=="function"?N.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+c*(1e3/o)||0)/1e3):(x=m&&Hr(f[n])==="object"&&!isNaN(parseInt(f[n][b],10))?f[n][b]/A:0,N.push((h[n]||I)/u+x)),b=n;return N},rS=Pf.getStringUnitWidth=function(s,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Pf.processArabic&&(s=Pf.processArabic(s)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(s,t,r)/t:Z0.apply(this,arguments).reduce(function(o,c){return o+c},0)},aS=function(s,e,t,n){for(var r=[],o=0,c=s.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;r.push(s.slice(0,o));var u=o;for(h=0;o!==c;)h+e[o]>n&&(r.push(s.slice(u,o)),h=0,u=o),h+=e[o],o++;return u!==o&&r.push(s.slice(u,o)),r},iS=function(s,e,t){t||(t={});var n,r,o,c,h,u,f,A=[],m=[A],x=t.textIndent||0,g=0,b=0,I=s.split(" "),N=Z0.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?I[0].length+2:t.lineIndent||0){var S=Array(u).join(" "),E=[];I.map(function(L){(L=L.split(/\s*\n/)).length>1?E=E.concat(L.map(function(O,H){return(H&&O.length?`
`:"")+O})):E.push(L[0])}),I=E,u=rS.apply(this,[S,t])}for(o=0,c=I.length;o<c;o++){var F=0;if(n=I[o],u&&n[0]==`
`&&(n=n.substr(1),F=1),x+g+(b=(r=Z0.apply(this,[n,t])).reduce(function(L,O){return L+O},0))>e||F){if(b>e){for(h=aS.apply(this,[n,r,e-(x+g),e]),A.push(h.shift()),A=[h.pop()];h.length;)m.push([h.shift()]);b=r.slice(n.length-(A[0]?A[0].length:0)).reduce(function(L,O){return L+O},0)}else A=[n];m.push(A),x=b+u,g=N}else A.push(n),x+=g+b,g=N}return f=u?function(L,O){return(O?S:"")+L.join(" ")}:function(L){return L.join(" ")},m.map(f)},Pf.splitTextToSize=function(s,e,t){var n,r=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var m=this.internal.getFont(A.fontName,A.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(s)?s:String(s).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/r;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=t.lineIndent;var h,u,f=[];for(h=0,u=n.length;h<u;h++)f=f.concat(iS.apply(this,[n[h],c,o]));return f},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},r={},o=0;o<16;o++)n[t[o]]=e[o],r[e[o]]=t[o];var c=function(x){return"0x"+parseInt(x,10).toString(16)},h=s.__fontmetrics__.compress=function(x){var g,b,I,N,S=["{"];for(var E in x){if(g=x[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=c(E).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof g=="number")g<0?(I=c(g).slice(3),N="-"):(I=c(g).slice(2),N=""),I=N+I.slice(0,-1)+r[I.slice(-1)];else{if(Hr(g)!=="object")throw new Error("Don't know what to do with value type "+Hr(g)+".");I=h(g)}S.push(b+I)}return S.push("}"),S.join("")},u=s.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,b,I,N,S={},E=1,F=S,L=[],O="",H="",Q=x.length-1,D=1;D<Q;D+=1)(N=x[D])=="'"?g?(I=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(L.push([F,I]),F={},I=void 0):N=="}"?((b=L.pop())[0][b[1]]=F,I=void 0,F=b[0]):N=="-"?E=-1:I===void 0?n.hasOwnProperty(N)?(O+=n[N],I=parseInt(O,16)*E,E=1,O=""):O+=N:n.hasOwnProperty(N)?(H+=n[N],F[I]=parseInt(H,16)*E,E=1,I=void 0,H=""):H+=N;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(x){var g=x.font,b=m.Unicode[g.postScriptName];b&&(g.metadata.Unicode={},g.metadata.Unicode.widths=b.widths,g.metadata.Unicode.kerning=b.kerning);var I=A.Unicode[g.postScriptName];I&&(g.metadata.Unicode.encoding=I,g.encoding=I.codePages[0])}])})(Qs.API),(function(s){var e=function(t){for(var n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r};s.API.events.push(["addFont",function(t){var n=void 0,r=t.font,o=t.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(bx(h)),c.metadata=s.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(r,n)}}])})(Qs),Qs.API.addSvgAsImage=function(s,e,t,n,r,o,c,h){if(isNaN(e)||isNaN(t))throw ta.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw ta.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=r;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(cn.canvg?Promise.resolve(cn.canvg):e1(()=>import("./index.es-CWPcM-b2.js"),[],import.meta.url)).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(f,s,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(A)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,n,r,c,h)})},Qs.API.putTotalPages=function(s){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(s,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,t);return this},Qs.API.viewerPreferences=function(s,e){var t;s=s||{},e=e||!1;var n,r,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),u=[],f=0,A=0,m=0;function x(b,I){var N,S=!1;for(N=0;N<b.length;N+=1)b[N]===I&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,s==="reset"||e===!0){var g=h.length;for(m=0;m<g;m+=1)t[h[m]].value=t[h[m]].defaultValue,t[h[m]].explicitSet=!1}if(Hr(s)==="object"){for(r in s)if(o=s[r],x(h,r)&&o!==void 0){if(t[r].type==="boolean"&&typeof o=="boolean")t[r].value=o;else if(t[r].type==="name"&&x(t[r].valueSet,o))t[r].value=o;else if(t[r].type==="integer"&&Number.isInteger(o))t[r].value=o;else if(t[r].type==="array"){for(f=0;f<o.length;f+=1)if(n=!0,o[f].length===1&&typeof o[f][0]=="number")u.push(String(o[f]-1));else if(o[f].length>1){for(A=0;A<o[f].length;A+=1)typeof o[f][A]!="number"&&(n=!1);n===!0&&u.push([o[f][0]-1,o[f][1]-1].join(" "))}t[r].value="["+u.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,I=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?I.push("/"+b+" /"+t[b].value):I.push("/"+b+" "+t[b].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(s){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+h.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+o+c+h+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Qs.API),(function(s){var e=s.API,t=e.pdfEscape16=function(o,c){for(var h,u=c.metadata.Unicode.widths,f=["","0","00","000","0000"],A=[""],m=0,x=o.length;m<x;++m){if(h=c.metadata.characterToGlyph(o.charCodeAt(m)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(m),u.indexOf(h)==-1&&(u.push(h),u.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return A.join("");h=h.toString(16),A.push(f[4-h.length],h)}return A.join("")},n=function(o){var c,h,u,f,A,m,x;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,x=(h=Object.keys(o).sort(function(g,b){return g-b})).length;m<x;m++)c=h[m],u.length>=100&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+f+">"));return u.length&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof s.API.TTFFont&&h.encoding==="Identity-H"){for(var m=h.metadata.Unicode.widths,x=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),g="",b=0;b<x.length;b++)g+=String.fromCharCode(x[b]);var I=f();A({data:g,addLength1:!0,objectId:I}),u("endobj");var N=f();A({data:n(h.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var S=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+zf(h.fontName)),u("/FontFile2 "+I+" 0 R"),u("/FontBBox "+s.API.PDFObject.convert(h.metadata.bbox)),u("/Flags "+h.metadata.flags),u("/StemV "+h.metadata.stemV),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+zf(h.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+s.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+h.encoding+")"),u(">>"),u(">>"),u("endobj"),h.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+zf(h.fontName)),u("/Encoding /"+h.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof s.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var m=h.metadata.rawData,x="",g=0;g<m.length;g++)x+=String.fromCharCode(m[g]);var b=f();A({data:x,addLength1:!0,objectId:b}),u("endobj");var I=f();A({data:n(h.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var N=f();u("<<"),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u("/StemV "+h.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+s.API.PDFObject.convert(h.metadata.bbox)),u("/FontName /"+zf(h.fontName)),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u(">>"),u("endobj"),h.objectNumber=f();for(var S=0;S<h.metadata.hmtx.widths.length;S++)h.metadata.hmtx.widths[S]=parseInt(h.metadata.hmtx.widths[S]*(1e3/h.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+zf(h.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]);var r=function(o){var c,h=o.text||"",u=o.x,f=o.y,A=o.options||{},m=o.mutex||{},x=m.pdfEscape,g=m.activeFontKey,b=m.fonts,I=g,N="",S=0,E="",F=b[I].encoding;if(b[I].encoding!=="Identity-H")return{text:h,x:u,y:f,options:A,mutex:m};for(E=h,I=g,Array.isArray(h)&&(E=h[0]),S=0;S<E.length;S+=1)b[I].metadata.hasOwnProperty("cmap")&&(c=b[I].metadata.cmap.unicode.codeMap[E[S].charCodeAt(0)]),c||E[S].charCodeAt(0)<256&&b[I].metadata.hasOwnProperty("Unicode")?N+=E[S]:N+="";var L="";return parseInt(I.slice(1))<14||F==="WinAnsiEncoding"?L=x(N,I).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(L=t(N,b[I])),m.isHex=!0,{text:L,x:u,y:f,options:A,mutex:m}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?h.push([r(Object.assign({},u,{text:c[f][0]})).text,c[f][1],c[f][2]]):h.push(r(Object.assign({},u,{text:c[f]})).text);o.text=h}else o.text=r(Object.assign({},u,{text:c})).text}])})(Qs),(function(s){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},s.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},s.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Qs.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(n){var r,o,c,h,u,f,A,m=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,F=0;this.__bidiEngine__={};var L=function(P){var V=P.charCodeAt(),$=V>>8,ae=I[$];return ae!==void 0?m[256*ae+(255&V)]:$===252||$===253?"AL":S.test($)?"L":$===8?"R":"N"},O=function(P){for(var V,$=0;$<P.length;$++){if((V=L(P.charAt($)))==="L")return!1;if(V==="R")return!0}return!1},H=function(P,V,$,ae){var de,re,W,J,oe=V[ae];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(oe="AN");break;case"AL":E=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":ae<1||ae+1>=V.length||(de=$[ae-1])!=="EN"&&de!=="AN"||(re=V[ae+1])!=="EN"&&re!=="AN"?oe="N":E&&(re="AN"),oe=re===de?re:"N";break;case"ES":oe=(de=ae>0?$[ae-1]:"B")==="EN"&&ae+1<V.length&&V[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&$[ae-1]==="EN"){oe="EN";break}if(E){oe="N";break}for(W=ae+1,J=V.length;W<J&&V[W]==="ET";)W++;oe=W<J&&V[W]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(J=V.length,W=ae+1;W<J&&V[W]==="NSM";)W++;if(W<J){var xe=P[ae],ee=xe>=1425&&xe<=2303||xe===64286;if(de=V[W],ee&&(de==="R"||de==="AL")){oe="R";break}}}oe=ae<1||(de=V[ae-1])==="B"?"N":$[ae-1];break;case"B":E=!1,r=!0,oe=F;break;case"S":o=!0,oe="N"}return oe},Q=function(P,V,$){var ae=P.split("");return $&&D(ae,$,{hiLevel:F}),ae.reverse(),V&&V.reverse(),ae.join("")},D=function(P,V,$){var ae,de,re,W,J,oe=-1,xe=P.length,ee=0,M=[],X=F?g:x,ie=[];for(E=!1,r=!1,o=!1,de=0;de<xe;de++)ie[de]=L(P[de]);for(re=0;re<xe;re++){if(J=ee,M[re]=H(P,ie,M,re),ae=240&(ee=X[J][b[M[re]]]),ee&=15,V[re]=W=X[ee][5],ae>0)if(ae===16){for(de=oe;de<re;de++)V[de]=1;oe=-1}else oe=-1;if(X[ee][6])oe===-1&&(oe=re);else if(oe>-1){for(de=oe;de<re;de++)V[de]=W;oe=-1}ie[re]==="B"&&(V[re]=0),$.hiLevel|=W}o&&(function(le,ce,ye){for(var Ne=0;Ne<ye;Ne++)if(le[Ne]==="S"){ce[Ne]=F;for(var ge=Ne-1;ge>=0&&le[ge]==="WS";ge--)ce[ge]=F}})(ie,V,xe)},R=function(P,V,$,ae,de){if(!(de.hiLevel<P)){if(P===1&&F===1&&!r)return V.reverse(),void($&&$.reverse());for(var re,W,J,oe,xe=V.length,ee=0;ee<xe;){if(ae[ee]>=P){for(J=ee+1;J<xe&&ae[J]>=P;)J++;for(oe=ee,W=J-1;oe<W;oe++,W--)re=V[oe],V[oe]=V[W],V[W]=re,$&&(re=$[oe],$[oe]=$[W],$[W]=re);ee=J}ee++}}},K=function(P,V,$){var ae=P.split(""),de={hiLevel:F};return $||($=[]),D(ae,$,de),(function(re,W,J){if(J.hiLevel!==0&&A)for(var oe,xe=0;xe<re.length;xe++)W[xe]===1&&(oe=N.indexOf(re[xe]))>=0&&(re[xe]=N[oe+1])})(ae,$,de),R(2,ae,V,$,de),R(1,ae,V,$,de),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(P,V,$){if((function(de,re){if(re)for(var W=0;W<de.length;W++)re[W]=W;h===void 0&&(h=O(de)),f===void 0&&(f=O(de))})(P,V),c||!u||f)if(c&&u&&h^f)F=h?1:0,P=Q(P,V,$);else if(!c&&u&&f)F=h?1:0,P=K(P,V,$),P=Q(P,V);else if(!c||h||u||f){if(c&&!u&&h^f)P=Q(P,V),h?(F=0,P=K(P,V,$)):(F=1,P=K(P,V,$),P=Q(P,V));else if(c&&h&&!u&&f)F=1,P=K(P,V,$),P=Q(P,V);else if(!c&&!u&&h^f){var ae=A;h?(F=1,P=K(P,V,$),F=0,A=!1,P=K(P,V,$),A=ae):(F=0,P=K(P,V,$),P=Q(P,V),F=1,A=!1,P=K(P,V,$),A=ae,P=Q(P,V))}}else F=0,P=K(P,V,$);else F=h?1:0,P=K(P,V,$);return P},this.__bidiEngine__.setOptions=function(P){P&&(c=P.isInputVisual,u=P.isOutputVisual,h=P.isInputRtl,f=P.isOutputRtl,A=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var h=0;for(c=[],h=0;h<r.length;h+=1)Object.prototype.toString.call(r[h])==="[object Array]"?c.push([t.doBidiReorder(r[h][0]),r[h][1],r[h][2]]):c.push([t.doBidiReorder(r[h])]);n.text=c}else n.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(Qs),Qs.API.TTFFont=(function(){function s(e){var t;if(this.rawData=e,t=this.contents=new Gd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new bV(this),this.registerTTF()}return s.open=function(e){return new s(e)},s.prototype.parse=function(){return this.directory=new oV(this.contents),this.head=new AV(this),this.name=new fV(this),this.cmap=new UI(this),this.toUnicode={},this.hhea=new cV(this),this.maxp=new mV(this),this.hmtx=new pV(this),this.post=new dV(this),this.os2=new uV(this),this.loca=new yV(this),this.glyf=new gV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var e,t,n,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,u,f;for(f=[],c=0,h=(u=this.bbox).length;c<h;c++)e=u[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},s.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},s.prototype.widthOfString=function(e,t,n){var r,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)r=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return c*(t/1e3)},s.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},s})();var hc,Gd=(function(){function s(e){this.data=e??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(e){return this.data[this.pos++]=e},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},s.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},s.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},s.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},s.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(e){return this.writeInt16(e)},s.prototype.readLongLong=function(){var e,t,n,r,o,c,h,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*o+65536*c+256*h+u},s.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(e){return this.writeInt32(e)},s.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},s.prototype.write=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;n<r;n++)t=e[n],o.push(this.writeByte(t));return o},s})(),oV=(function(){var s;function e(t){var n,r,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,r,o,c,h,u,f,A,m,x,g,b,I;for(I in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),c=Math.floor(m/u),A=16*g-m,(r=new Gd).writeInt(this.scalarType),r.writeShort(g),r.writeShort(m),r.writeShort(c),r.writeShort(A),o=16*g,f=r.pos+o,h=null,b=[],t)for(x=t[I],r.writeString(I),r.writeInt(s(x)),r.writeInt(f),r.writeInt(x.length),b=b.concat(x),I==="head"&&(h=f),f+=x.length;f%4;)b.push(0),f++;return r.write(b),n=2981146554-s(r.data),r.pos=h+8,r.writeUInt32(n),r.data},s=function(t){var n,r,o,c;for(t=DI.call(t);t.length%4;)t.push(0);for(o=new Gd(t),r=0,n=0,c=t.length;n<c;n=n+=4)r+=o.readUInt32();return 4294967295&r},e})(),lV={}.hasOwnProperty,Zc=function(s,e){for(var t in e)lV.call(e,t)&&(s[t]=e[t]);function n(){this.constructor=s}return n.prototype=e.prototype,s.prototype=new n,s.__super__=e.prototype,s};hc=(function(){function s(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var AV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="head",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},s.prototype.encode=function(e){var t;return(t=new Gd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},s})(),mS=(function(){function s(e,t){var n,r,o,c,h,u,f,A,m,x,g,b,I,N,S,E,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,o=(function(){var L,O;for(O=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)O.push(e.readUInt16());return O})(),e.pos+=2,I=(function(){var L,O;for(O=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)O.push(e.readUInt16());return O})(),f=(function(){var L,O;for(O=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)O.push(e.readUInt16());return O})(),A=(function(){var L,O;for(O=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)O.push(e.readUInt16());return O})(),r=(this.length-e.pos+this.offset)/2,h=(function(){var L,O;for(O=[],u=L=0;0<=r?L<r:L>r;u=0<=r?++L:--L)O.push(e.readUInt16());return O})(),u=S=0,F=o.length;S<F;u=++S)for(N=o[u],n=E=b=I[u];b<=N?E<=N:E>=N;n=b<=N?++E:--E)A[u]===0?c=n+f[u]:(c=h[A[u]/2+(n-b)-(x-u)]||0)!==0&&(c+=f[u]),this.codeMap[n]=65535&c}e.pos=m}return s.encode=function(e,t){var n,r,o,c,h,u,f,A,m,x,g,b,I,N,S,E,F,L,O,H,Q,D,R,K,P,V,$,ae,de,re,W,J,oe,xe,ee,M,X,ie,le,ce,ye,Ne,ge,Se,Fe,Le;switch(ae=new Gd,c=Object.keys(e).sort(function(qe,Oe){return qe-Oe}),t){case"macroman":for(I=0,N=(function(){var qe=[];for(b=0;b<256;++b)qe.push(0);return qe})(),E={0:0},o={},de=0,oe=c.length;de<oe;de++)E[ge=e[r=c[de]]]==null&&(E[ge]=++I),o[r]={old:e[r],new:E[e[r]]},N[r]=E[e[r]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(N),{charMap:o,subtable:ae.data,maxGlyphID:I+1};case"unicode":for(V=[],m=[],F=0,E={},n={},S=f=null,re=0,xe=c.length;re<xe;re++)E[O=e[r=c[re]]]==null&&(E[O]=++F),n[r]={old:O,new:E[O]},h=E[O]-r,S!=null&&h===f||(S&&m.push(S),V.push(r),f=h),S=r;for(S&&m.push(S),m.push(65535),V.push(65535),K=2*(R=V.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),x=Math.log(D/2)/Math.LN2,Q=2*R-D,u=[],H=[],g=[],b=W=0,ee=V.length;W<ee;b=++W){if(P=V[b],A=m[b],P===65535){u.push(0),H.push(0);break}if(P-($=n[P].new)>=32768)for(u.push(0),H.push(2*(g.length+R-b)),r=J=P;P<=A?J<=A:J>=A;r=P<=A?++J:--J)g.push(n[r].new);else u.push($-P),H.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*R+2*g.length),ae.writeUInt16(0),ae.writeUInt16(K),ae.writeUInt16(D),ae.writeUInt16(x),ae.writeUInt16(Q),ye=0,M=m.length;ye<M;ye++)r=m[ye],ae.writeUInt16(r);for(ae.writeUInt16(0),Ne=0,X=V.length;Ne<X;Ne++)r=V[Ne],ae.writeUInt16(r);for(Se=0,ie=u.length;Se<ie;Se++)h=u[Se],ae.writeUInt16(h);for(Fe=0,le=H.length;Fe<le;Fe++)L=H[Fe],ae.writeUInt16(L);for(Le=0,ce=g.length;Le<ce;Le++)I=g[Le],ae.writeUInt16(I);return{charMap:n,subtable:ae.data,maxGlyphID:F+1}}},s})(),UI=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="cmap",s.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new mS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},s.encode=function(e,t){var n,r;return t==null&&(t="macroman"),n=mS.encode(e,t),(r=new Gd).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},s})(),cV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="hhea",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},s})(),uV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="OS/2",s.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},s})(),dV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="post",s.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var c,h,u;for(u=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)u.push(e.readUInt32());return u}).call(this)}},s})(),hV=function(s,e){this.raw=s,this.length=s.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="name",s.prototype.parse=function(e){var t,n,r,o,c,h,u,f,A,m,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(u={},o=A=0,m=n.length;A<m;o=++A)r=n[o],e.pos=r.offset,f=e.readString(r.length),c=new hV(f,r),u[x=r.nameID]==null&&(u[x]=[]),u[r.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},s})(),mV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="maxp",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},s})(),pV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="hmtx",s.prototype.parse=function(e){var t,n,r,o,c,h,u;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,A;for(A=[],t=f=0;0<=r?f<r:f>r;t=0<=r?++f:--f)A.push(e.readInt16());return A})(),this.widths=(function(){var f,A,m,x;for(x=[],f=0,A=(m=this.metrics).length;f<A;f++)o=m[f],x.push(o.advance);return x}).call(this),n=this.widths[this.widths.length-1],u=[],t=c=0;0<=r?c<r:c>r;t=0<=r?++c:--c)u.push(this.widths.push(n));return u},s.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},s})(),DI=[].slice,gV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(e){var t,n,r,o,c,h,u,f,A,m;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,n=o.indexOf(e),(r=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,c=(h=new Gd(t.read(r))).readShort(),f=h.readShort(),m=h.readShort(),u=h.readShort(),A=h.readShort(),this.cache[e]=c===-1?new vV(h,f,m,u,A):new xV(h,c,f,m,u,A),this.cache[e]))},s.prototype.encode=function(e,t,n){var r,o,c,h,u;for(c=[],o=[],h=0,u=t.length;h<u;h++)r=e[t[h]],o.push(c.length),r&&(c=c.concat(r.encode(n)));return o.push(c.length),{table:c,offsets:o}},s})(),xV=(function(){function s(e,t,n,r,o,c){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=c,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),vV=(function(){function s(e,t,n,r,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return s.prototype.encode=function(){var e,t,n;for(t=new Gd(DI.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},s})(),yV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zc(s,hc),s.prototype.tag="loca",s.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,o;for(o=[],n=0,r=this.length;n<r;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],n=0,r=this.length;n<r;n+=4)o.push(e.readUInt32());return o}).call(this)},s.prototype.indexOf=function(e){return this.offsets[e]},s.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},s.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,o=0,c=0;c<n.length;++c)if(n[c]=r,o<t.length&&t[o]==c){++o,n[c]=r;var h=this.offsets[c],u=this.offsets[c+1]-h;u>0&&(r+=u)}for(var f=new Array(4*n.length),A=0;A<n.length;++A)f[4*A+3]=255&n[A],f[4*A+2]=(65280&n[A])>>8,f[4*A+1]=(16711680&n[A])>>16,f[4*A]=(4278190080&n[A])>>24;return f},s})(),bV=(function(){function s(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var e,t,n,r,o;for(t in r=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=r[n];return e},s.prototype.glyphsFor=function(e){var t,n,r,o,c,h,u;for(r={},c=0,h=e.length;c<h;c++)r[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],r)(n=r[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))n=u[o],r[o]=n;return r},s.prototype.encode=function(e,t){var n,r,o,c,h,u,f,A,m,x,g,b,I,N,S;for(r in n=UI.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),g={0:0},S=n.charMap)g[(u=S[r]).old]=u.new;for(b in x=n.maxGlyphID,c)b in g||(g[b]=x++);return A=(function(E){var F,L;for(F in L={},E)L[E[F]]=F;return L})(g),m=Object.keys(A).sort(function(E,F){return E-F}),I=(function(){var E,F,L;for(L=[],E=0,F=m.length;E<F;E++)h=m[E],L.push(A[h]);return L})(),o=this.font.glyf.encode(c,I,g),f=this.font.loca.encode(o.offsets,I),N={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},s})();Qs.API.PDFObject=(function(){var s;function e(){}return s=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,r,o,c;if(Array.isArray(t))return"["+(function(){var h,u,f;for(f=[],h=0,u=t.length;h<u;h++)n=t[h],f.push(e.convert(n));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+s(t.getUTCFullYear(),4)+s(t.getUTCMonth(),2)+s(t.getUTCDate(),2)+s(t.getUTCHours(),2)+s(t.getUTCMinutes(),2)+s(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in o=["<<"],t)c=t[r],o.push("/"+r+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const wV=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:q9,AcroFormAppearance:Ns,AcroFormButton:so,AcroFormCheckBox:Wp,AcroFormChoiceField:zh,AcroFormComboBox:$h,AcroFormEditBox:$p,AcroFormListBox:Gh,AcroFormPasswordField:Xp,AcroFormPushButton:Yp,AcroFormRadioButton:Yh,AcroFormTextField:Od,GState:pg,ShadingPattern:Ed,TilingPattern:Qh,default:Qs,jsPDF:Qs},Symbol.toStringTag,{value:"Module"})),jV=u6(wV);var wx={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var BV=wx.exports,pS;function CV(){return pS||(pS=1,(function(s,e){(function(t,n){s.exports=n()})(BV,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var t=function(j,v){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,B){C.__proto__=B}||function(C,B){for(var G in B)Object.prototype.hasOwnProperty.call(B,G)&&(C[G]=B[G])},t(j,v)};function n(j,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");t(j,v);function C(){this.constructor=j}j.prototype=v===null?Object.create(v):(C.prototype=v.prototype,new C)}var r=function(){return r=Object.assign||function(v){for(var C,B=1,G=arguments.length;B<G;B++){C=arguments[B];for(var se in C)Object.prototype.hasOwnProperty.call(C,se)&&(v[se]=C[se])}return v},r.apply(this,arguments)};function o(j,v,C,B){function G(se){return se instanceof C?se:new C(function(fe){fe(se)})}return new(C||(C=Promise))(function(se,fe){function Be(Ve){try{Re(B.next(Ve))}catch(We){fe(We)}}function Ce(Ve){try{Re(B.throw(Ve))}catch(We){fe(We)}}function Re(Ve){Ve.done?se(Ve.value):G(Ve.value).then(Be,Ce)}Re((B=B.apply(j,[])).next())})}function c(j,v){var C={label:0,sent:function(){if(se[0]&1)throw se[1];return se[1]},trys:[],ops:[]},B,G,se,fe;return fe={next:Be(0),throw:Be(1),return:Be(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Be(Re){return function(Ve){return Ce([Re,Ve])}}function Ce(Re){if(B)throw new TypeError("Generator is already executing.");for(;C;)try{if(B=1,G&&(se=Re[0]&2?G.return:Re[0]?G.throw||((se=G.return)&&se.call(G),0):G.next)&&!(se=se.call(G,Re[1])).done)return se;switch(G=0,se&&(Re=[Re[0]&2,se.value]),Re[0]){case 0:case 1:se=Re;break;case 4:return C.label++,{value:Re[1],done:!1};case 5:C.label++,G=Re[1],Re=[0];continue;case 7:Re=C.ops.pop(),C.trys.pop();continue;default:if(se=C.trys,!(se=se.length>0&&se[se.length-1])&&(Re[0]===6||Re[0]===2)){C=0;continue}if(Re[0]===3&&(!se||Re[1]>se[0]&&Re[1]<se[3])){C.label=Re[1];break}if(Re[0]===6&&C.label<se[1]){C.label=se[1],se=Re;break}if(se&&C.label<se[2]){C.label=se[2],C.ops.push(Re);break}se[2]&&C.ops.pop(),C.trys.pop();continue}Re=v.call(j,C)}catch(Ve){Re=[6,Ve],G=0}finally{B=se=0}if(Re[0]&5)throw Re[1];return{value:Re[0]?Re[1]:void 0,done:!0}}}function h(j,v,C){if(arguments.length===2)for(var B=0,G=v.length,se;B<G;B++)(se||!(B in v))&&(se||(se=Array.prototype.slice.call(v,0,B)),se[B]=v[B]);return j.concat(se||v)}for(var u=(function(){function j(v,C,B,G){this.left=v,this.top=C,this.width=B,this.height=G}return j.prototype.add=function(v,C,B,G){return new j(this.left+v,this.top+C,this.width+B,this.height+G)},j.fromClientRect=function(v,C){return new j(C.left+v.windowBounds.left,C.top+v.windowBounds.top,C.width,C.height)},j.fromDOMRectList=function(v,C){var B=Array.from(C).find(function(G){return G.width!==0});return B?new j(B.left+v.windowBounds.left,B.top+v.windowBounds.top,B.width,B.height):j.EMPTY},j.EMPTY=new j(0,0,0,0),j})(),f=function(j,v){return u.fromClientRect(j,v.getBoundingClientRect())},A=function(j){var v=j.body,C=j.documentElement;if(!v||!C)throw new Error("Unable to get document size");var B=Math.max(Math.max(v.scrollWidth,C.scrollWidth),Math.max(v.offsetWidth,C.offsetWidth),Math.max(v.clientWidth,C.clientWidth)),G=Math.max(Math.max(v.scrollHeight,C.scrollHeight),Math.max(v.offsetHeight,C.offsetHeight),Math.max(v.clientHeight,C.clientHeight));return new u(0,0,B,G)},m=function(j){for(var v=[],C=0,B=j.length;C<B;){var G=j.charCodeAt(C++);if(G>=55296&&G<=56319&&C<B){var se=j.charCodeAt(C++);(se&64512)===56320?v.push(((G&1023)<<10)+(se&1023)+65536):(v.push(G),C--)}else v.push(G)}return v},x=function(){for(var j=[],v=0;v<arguments.length;v++)j[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],G=-1,se="";++G<C;){var fe=j[G];fe<=65535?B.push(fe):(fe-=65536,B.push((fe>>10)+55296,fe%1024+56320)),(G+1===C||B.length>16384)&&(se+=String.fromCharCode.apply(String,B),B.length=0)}return se},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),I=0;I<g.length;I++)b[g.charCodeAt(I)]=I;for(var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<N.length;E++)S[N.charCodeAt(E)]=E;for(var F=function(j){var v=j.length*.75,C=j.length,B,G=0,se,fe,Be,Ce;j[j.length-1]==="="&&(v--,j[j.length-2]==="="&&v--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ve=Array.isArray(Re)?Re:new Uint8Array(Re);for(B=0;B<C;B+=4)se=S[j.charCodeAt(B)],fe=S[j.charCodeAt(B+1)],Be=S[j.charCodeAt(B+2)],Ce=S[j.charCodeAt(B+3)],Ve[G++]=se<<2|fe>>4,Ve[G++]=(fe&15)<<4|Be>>2,Ve[G++]=(Be&3)<<6|Ce&63;return Re},L=function(j){for(var v=j.length,C=[],B=0;B<v;B+=2)C.push(j[B+1]<<8|j[B]);return C},O=function(j){for(var v=j.length,C=[],B=0;B<v;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},H=5,Q=11,D=2,R=Q-H,K=65536>>H,P=1<<H,V=P-1,$=1024>>H,ae=K+$,de=ae,re=32,W=de+re,J=65536>>Q,oe=1<<R,xe=oe-1,ee=function(j,v,C){return j.slice?j.slice(v,C):new Uint16Array(Array.prototype.slice.call(j,v,C))},M=function(j,v,C){return j.slice?j.slice(v,C):new Uint32Array(Array.prototype.slice.call(j,v,C))},X=function(j,v){var C=F(j),B=Array.isArray(C)?O(C):new Uint32Array(C),G=Array.isArray(C)?L(C):new Uint16Array(C),se=24,fe=ee(G,se/2,B[4]/2),Be=B[5]===2?ee(G,(se+B[4])/2):M(B,Math.ceil((se+B[4])/4));return new ie(B[0],B[1],B[2],B[3],fe,Be)},ie=(function(){function j(v,C,B,G,se,fe){this.initialValue=v,this.errorValue=C,this.highStart=B,this.highValueIndex=G,this.index=se,this.data=fe}return j.prototype.get=function(v){var C;if(v>=0){if(v<55296||v>56319&&v<=65535)return C=this.index[v>>H],C=(C<<D)+(v&V),this.data[C];if(v<=65535)return C=this.index[K+(v-55296>>H)],C=(C<<D)+(v&V),this.data[C];if(v<this.highStart)return C=W-J+(v>>Q),C=this.index[C],C+=v>>H&xe,C=this.index[C],C=(C<<D)+(v&V),this.data[C];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce=typeof Uint8Array>"u"?[]:new Uint8Array(256),ye=0;ye<le.length;ye++)ce[le.charCodeAt(ye)]=ye;var Ne="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ge=50,Se=1,Fe=2,Le=3,qe=4,Oe=5,he=7,et=8,wt=9,at=10,Ye=11,Ut=12,Lt=13,Wt=14,$t=15,ss=16,ns=17,Je=18,Ht=19,Vt=20,Mt=21,dt=22,Nt=23,Es=24,Me=25,ut=26,ze=27,At=28,mt=29,Ot=30,Et=31,Gt=32,xs=33,Tt=34,pt=35,Pt=36,qt=37,os=38,Os=39,wn=40,es=41,ca=42,en=43,Yr=[9001,65288],pr="!",us="",Nn="",jr=X(Ne),Mn=[Ot,Pt],un=[Se,Fe,Le,Oe],on=[at,et],fn=[ze,ut],Un=un.concat(on),Br=[os,Os,wn,Tt,pt],ua=[$t,Lt],Vi=function(j,v){v===void 0&&(v="strict");var C=[],B=[],G=[];return j.forEach(function(se,fe){var Be=jr.get(se);if(Be>ge?(G.push(!0),Be-=ge):G.push(!1),["normal","auto","loose"].indexOf(v)!==-1&&[8208,8211,12316,12448].indexOf(se)!==-1)return B.push(fe),C.push(ss);if(Be===qe||Be===Ye){if(fe===0)return B.push(fe),C.push(Ot);var Ce=C[fe-1];return Un.indexOf(Ce)===-1?(B.push(B[fe-1]),C.push(Ce)):(B.push(fe),C.push(Ot))}if(B.push(fe),Be===Et)return C.push(v==="strict"?Mt:qt);if(Be===ca||Be===mt)return C.push(Ot);if(Be===en)return se>=131072&&se<=196605||se>=196608&&se<=262141?C.push(qt):C.push(Ot);C.push(Be)}),[B,C,G]},ir=function(j,v,C,B){var G=B[C];if(Array.isArray(j)?j.indexOf(G)!==-1:j===G)for(var se=C;se<=B.length;){se++;var fe=B[se];if(fe===v)return!0;if(fe!==at)break}if(G===at)for(var se=C;se>0;){se--;var Be=B[se];if(Array.isArray(j)?j.indexOf(Be)!==-1:j===Be)for(var Ce=C;Ce<=B.length;){Ce++;var fe=B[Ce];if(fe===v)return!0;if(fe!==at)break}if(Be!==at)break}return!1},Ir=function(j,v){for(var C=j;C>=0;){var B=v[C];if(B===at)C--;else return B}return 0},vi=function(j,v,C,B,G){if(C[B]===0)return us;var se=B-1;if(Array.isArray(G)&&G[se]===!0)return us;var fe=se-1,Be=se+1,Ce=v[se],Re=fe>=0?v[fe]:0,Ve=v[Be];if(Ce===Fe&&Ve===Le)return us;if(un.indexOf(Ce)!==-1)return pr;if(un.indexOf(Ve)!==-1||on.indexOf(Ve)!==-1)return us;if(Ir(se,v)===et)return Nn;if(jr.get(j[se])===Ye||(Ce===Gt||Ce===xs)&&jr.get(j[Be])===Ye||Ce===he||Ve===he||Ce===wt||[at,Lt,$t].indexOf(Ce)===-1&&Ve===wt||[ns,Je,Ht,Es,At].indexOf(Ve)!==-1||Ir(se,v)===dt||ir(Nt,dt,se,v)||ir([ns,Je],Mt,se,v)||ir(Ut,Ut,se,v))return us;if(Ce===at)return Nn;if(Ce===Nt||Ve===Nt)return us;if(Ve===ss||Ce===ss)return Nn;if([Lt,$t,Mt].indexOf(Ve)!==-1||Ce===Wt||Re===Pt&&ua.indexOf(Ce)!==-1||Ce===At&&Ve===Pt||Ve===Vt||Mn.indexOf(Ve)!==-1&&Ce===Me||Mn.indexOf(Ce)!==-1&&Ve===Me||Ce===ze&&[qt,Gt,xs].indexOf(Ve)!==-1||[qt,Gt,xs].indexOf(Ce)!==-1&&Ve===ut||Mn.indexOf(Ce)!==-1&&fn.indexOf(Ve)!==-1||fn.indexOf(Ce)!==-1&&Mn.indexOf(Ve)!==-1||[ze,ut].indexOf(Ce)!==-1&&(Ve===Me||[dt,$t].indexOf(Ve)!==-1&&v[Be+1]===Me)||[dt,$t].indexOf(Ce)!==-1&&Ve===Me||Ce===Me&&[Me,At,Es].indexOf(Ve)!==-1)return us;if([Me,At,Es,ns,Je].indexOf(Ve)!==-1)for(var We=se;We>=0;){var ft=v[We];if(ft===Me)return us;if([At,Es].indexOf(ft)!==-1)We--;else break}if([ze,ut].indexOf(Ve)!==-1)for(var We=[ns,Je].indexOf(Ce)!==-1?fe:se;We>=0;){var ft=v[We];if(ft===Me)return us;if([At,Es].indexOf(ft)!==-1)We--;else break}if(os===Ce&&[os,Os,Tt,pt].indexOf(Ve)!==-1||[Os,Tt].indexOf(Ce)!==-1&&[Os,wn].indexOf(Ve)!==-1||[wn,pt].indexOf(Ce)!==-1&&Ve===wn||Br.indexOf(Ce)!==-1&&[Vt,ut].indexOf(Ve)!==-1||Br.indexOf(Ve)!==-1&&Ce===ze||Mn.indexOf(Ce)!==-1&&Mn.indexOf(Ve)!==-1||Ce===Es&&Mn.indexOf(Ve)!==-1||Mn.concat(Me).indexOf(Ce)!==-1&&Ve===dt&&Yr.indexOf(j[Be])===-1||Mn.concat(Me).indexOf(Ve)!==-1&&Ce===Je)return us;if(Ce===es&&Ve===es){for(var ds=C[se],zt=1;ds>0&&(ds--,v[ds]===es);)zt++;if(zt%2!==0)return us}return Ce===Gt&&Ve===xs?us:Nn},Pa=function(j,v){v||(v={lineBreak:"normal",wordBreak:"normal"});var C=Vi(j,v.lineBreak),B=C[0],G=C[1],se=C[2];(v.wordBreak==="break-all"||v.wordBreak==="break-word")&&(G=G.map(function(Be){return[Me,Ot,ca].indexOf(Be)!==-1?qt:Be}));var fe=v.wordBreak==="keep-all"?se.map(function(Be,Ce){return Be&&j[Ce]>=19968&&j[Ce]<=40959}):void 0;return[B,G,fe]},ka=(function(){function j(v,C,B,G){this.codePoints=v,this.required=C===pr,this.start=B,this.end=G}return j.prototype.slice=function(){return x.apply(void 0,this.codePoints.slice(this.start,this.end))},j})(),Ma=function(j,v){var C=m(j),B=Pa(C,v),G=B[0],se=B[1],fe=B[2],Be=C.length,Ce=0,Re=0;return{next:function(){if(Re>=Be)return{done:!0,value:null};for(var Ve=us;Re<Be&&(Ve=vi(C,se,G,++Re,fe))===us;);if(Ve!==us||Re===Be){var We=new ka(C,Ve,Ce,Re);return Ce=Re,{value:We,done:!1}}return{done:!0,value:null}}}},yi=1,_r=2,ro=4,Ha=8,Va=10,da=47,bi=92,_e=9,yt=32,Dt=34,It=61,As=35,Yt=36,Jt=37,Ws=39,Rt=40,hs=41,dn=95,ms=45,ln=33,mn=60,Ba=62,Xa=64,ha=91,or=93,Uo=61,wi=123,Cr=63,ao=125,yl=124,Vl=126,bl=128,il=65533,ji=42,Fr=43,oi=44,io=58,na=59,li=46,Rs=0,oo=8,fo=11,Ki=14,Vr=31,Xt=127,Gs=-1,Is=48,En=97,jn=101,rs=102,lr=117,gr=122,Ja=65,ra=69,Sr=70,Ca=85,Ur=90,Bn=function(j){return j>=Is&&j<=57},Sa=function(j){return j>=55296&&j<=57343},fa=function(j){return Bn(j)||j>=Ja&&j<=Sr||j>=En&&j<=rs},zi=function(j){return j>=En&&j<=gr},Bi=function(j){return j>=Ja&&j<=Ur},Kl=function(j){return zi(j)||Bi(j)},cA=function(j){return j>=bl},qa=function(j){return j===Va||j===_e||j===yt},Gi=function(j){return Kl(j)||cA(j)||j===dn},uA=function(j){return Gi(j)||Bn(j)||j===ms},mo=function(j){return j>=Rs&&j<=oo||j===fo||j>=Ki&&j<=Vr||j===Xt},$i=function(j,v){return j!==bi?!1:v!==Va},k=function(j,v,C){return j===ms?Gi(v)||$i(v,C):Gi(j)?!0:!!(j===bi&&$i(j,v))},Ae=function(j,v,C){return j===Fr||j===ms?Bn(v)?!0:v===li&&Bn(C):Bn(j===li?v:j)},Te=function(j){var v=0,C=1;(j[v]===Fr||j[v]===ms)&&(j[v]===ms&&(C=-1),v++);for(var B=[];Bn(j[v]);)B.push(j[v++]);var G=B.length?parseInt(x.apply(void 0,B),10):0;j[v]===li&&v++;for(var se=[];Bn(j[v]);)se.push(j[v++]);var fe=se.length,Be=fe?parseInt(x.apply(void 0,se),10):0;(j[v]===ra||j[v]===jn)&&v++;var Ce=1;(j[v]===Fr||j[v]===ms)&&(j[v]===ms&&(Ce=-1),v++);for(var Re=[];Bn(j[v]);)Re.push(j[v++]);var Ve=Re.length?parseInt(x.apply(void 0,Re),10):0;return C*(G+Be*Math.pow(10,-fe))*Math.pow(10,Ce*Ve)},De={type:2},Ke={type:3},gt={type:4},_t={type:13},vs={type:8},Bs={type:21},Ps={type:9},Us={type:10},In={type:11},Nr={type:12},hr={type:14},w={type:23},Y={type:1},ne={type:25},we={type:24},$e={type:26},nt={type:27},Kt={type:28},Zs={type:29},Er={type:31},xn={type:32},qn=(function(){function j(){this._value=[]}return j.prototype.write=function(v){this._value=this._value.concat(m(v))},j.prototype.read=function(){for(var v=[],C=this.consumeToken();C!==xn;)v.push(C),C=this.consumeToken();return v},j.prototype.consumeToken=function(){var v=this.consumeCodePoint();switch(v){case Dt:return this.consumeStringToken(Dt);case As:var C=this.peekCodePoint(0),B=this.peekCodePoint(1),G=this.peekCodePoint(2);if(uA(C)||$i(B,G)){var se=k(C,B,G)?_r:yi,fe=this.consumeName();return{type:5,value:fe,flags:se}}break;case Yt:if(this.peekCodePoint(0)===It)return this.consumeCodePoint(),_t;break;case Ws:return this.consumeStringToken(Ws);case Rt:return De;case hs:return Ke;case ji:if(this.peekCodePoint(0)===It)return this.consumeCodePoint(),hr;break;case Fr:if(Ae(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case oi:return gt;case ms:var Be=v,Ce=this.peekCodePoint(0),Re=this.peekCodePoint(1);if(Ae(Be,Ce,Re))return this.reconsumeCodePoint(v),this.consumeNumericToken();if(k(Be,Ce,Re))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();if(Ce===ms&&Re===Ba)return this.consumeCodePoint(),this.consumeCodePoint(),we;break;case li:if(Ae(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case da:if(this.peekCodePoint(0)===ji)for(this.consumeCodePoint();;){var Ve=this.consumeCodePoint();if(Ve===ji&&(Ve=this.consumeCodePoint(),Ve===da))return this.consumeToken();if(Ve===Gs)return this.consumeToken()}break;case io:return $e;case na:return nt;case mn:if(this.peekCodePoint(0)===ln&&this.peekCodePoint(1)===ms&&this.peekCodePoint(2)===ms)return this.consumeCodePoint(),this.consumeCodePoint(),ne;break;case Xa:var We=this.peekCodePoint(0),ft=this.peekCodePoint(1),ds=this.peekCodePoint(2);if(k(We,ft,ds)){var fe=this.consumeName();return{type:7,value:fe}}break;case ha:return Kt;case bi:if($i(v,this.peekCodePoint(0)))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();break;case or:return Zs;case Uo:if(this.peekCodePoint(0)===It)return this.consumeCodePoint(),vs;break;case wi:return In;case ao:return Nr;case lr:case Ca:var zt=this.peekCodePoint(0),ts=this.peekCodePoint(1);return zt===Fr&&(fa(ts)||ts===Cr)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(v),this.consumeIdentLikeToken();case yl:if(this.peekCodePoint(0)===It)return this.consumeCodePoint(),Ps;if(this.peekCodePoint(0)===yl)return this.consumeCodePoint(),Bs;break;case Vl:if(this.peekCodePoint(0)===It)return this.consumeCodePoint(),Us;break;case Gs:return xn}return qa(v)?(this.consumeWhiteSpace(),Er):Bn(v)?(this.reconsumeCodePoint(v),this.consumeNumericToken()):Gi(v)?(this.reconsumeCodePoint(v),this.consumeIdentLikeToken()):{type:6,value:x(v)}},j.prototype.consumeCodePoint=function(){var v=this._value.shift();return typeof v>"u"?-1:v},j.prototype.reconsumeCodePoint=function(v){this._value.unshift(v)},j.prototype.peekCodePoint=function(v){return v>=this._value.length?-1:this._value[v]},j.prototype.consumeUnicodeRangeToken=function(){for(var v=[],C=this.consumeCodePoint();fa(C)&&v.length<6;)v.push(C),C=this.consumeCodePoint();for(var B=!1;C===Cr&&v.length<6;)v.push(C),C=this.consumeCodePoint(),B=!0;if(B){var G=parseInt(x.apply(void 0,v.map(function(Ce){return Ce===Cr?Is:Ce})),16),se=parseInt(x.apply(void 0,v.map(function(Ce){return Ce===Cr?Sr:Ce})),16);return{type:30,start:G,end:se}}var fe=parseInt(x.apply(void 0,v),16);if(this.peekCodePoint(0)===ms&&fa(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var Be=[];fa(C)&&Be.length<6;)Be.push(C),C=this.consumeCodePoint();var se=parseInt(x.apply(void 0,Be),16);return{type:30,start:fe,end:se}}else return{type:30,start:fe,end:fe}},j.prototype.consumeIdentLikeToken=function(){var v=this.consumeName();return v.toLowerCase()==="url"&&this.peekCodePoint(0)===Rt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Rt?(this.consumeCodePoint(),{type:19,value:v}):{type:20,value:v}},j.prototype.consumeUrlToken=function(){var v=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gs)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===Ws||C===Dt){var B=this.consumeStringToken(this.consumeCodePoint());return B.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gs||this.peekCodePoint(0)===hs)?(this.consumeCodePoint(),{type:22,value:B.value}):(this.consumeBadUrlRemnants(),w)}for(;;){var G=this.consumeCodePoint();if(G===Gs||G===hs)return{type:22,value:x.apply(void 0,v)};if(qa(G))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Gs||this.peekCodePoint(0)===hs?(this.consumeCodePoint(),{type:22,value:x.apply(void 0,v)}):(this.consumeBadUrlRemnants(),w);if(G===Dt||G===Ws||G===Rt||mo(G))return this.consumeBadUrlRemnants(),w;if(G===bi)if($i(G,this.peekCodePoint(0)))v.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),w;else v.push(G)}},j.prototype.consumeWhiteSpace=function(){for(;qa(this.peekCodePoint(0));)this.consumeCodePoint()},j.prototype.consumeBadUrlRemnants=function(){for(;;){var v=this.consumeCodePoint();if(v===hs||v===Gs)return;$i(v,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},j.prototype.consumeStringSlice=function(v){for(var C=5e4,B="";v>0;){var G=Math.min(C,v);B+=x.apply(void 0,this._value.splice(0,G)),v-=G}return this._value.shift(),B},j.prototype.consumeStringToken=function(v){var C="",B=0;do{var G=this._value[B];if(G===Gs||G===void 0||G===v)return C+=this.consumeStringSlice(B),{type:0,value:C};if(G===Va)return this._value.splice(0,B),Y;if(G===bi){var se=this._value[B+1];se!==Gs&&se!==void 0&&(se===Va?(C+=this.consumeStringSlice(B),B=-1,this._value.shift()):$i(G,se)&&(C+=this.consumeStringSlice(B),C+=x(this.consumeEscapedCodePoint()),B=-1))}B++}while(!0)},j.prototype.consumeNumber=function(){var v=[],C=ro,B=this.peekCodePoint(0);for((B===Fr||B===ms)&&v.push(this.consumeCodePoint());Bn(this.peekCodePoint(0));)v.push(this.consumeCodePoint());B=this.peekCodePoint(0);var G=this.peekCodePoint(1);if(B===li&&Bn(G))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Ha;Bn(this.peekCodePoint(0));)v.push(this.consumeCodePoint());B=this.peekCodePoint(0),G=this.peekCodePoint(1);var se=this.peekCodePoint(2);if((B===ra||B===jn)&&((G===Fr||G===ms)&&Bn(se)||Bn(G)))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Ha;Bn(this.peekCodePoint(0));)v.push(this.consumeCodePoint());return[Te(v),C]},j.prototype.consumeNumericToken=function(){var v=this.consumeNumber(),C=v[0],B=v[1],G=this.peekCodePoint(0),se=this.peekCodePoint(1),fe=this.peekCodePoint(2);if(k(G,se,fe)){var Be=this.consumeName();return{type:15,number:C,flags:B,unit:Be}}return G===Jt?(this.consumeCodePoint(),{type:16,number:C,flags:B}):{type:17,number:C,flags:B}},j.prototype.consumeEscapedCodePoint=function(){var v=this.consumeCodePoint();if(fa(v)){for(var C=x(v);fa(this.peekCodePoint(0))&&C.length<6;)C+=x(this.consumeCodePoint());qa(this.peekCodePoint(0))&&this.consumeCodePoint();var B=parseInt(C,16);return B===0||Sa(B)||B>1114111?il:B}return v===Gs?il:v},j.prototype.consumeName=function(){for(var v="";;){var C=this.consumeCodePoint();if(uA(C))v+=x(C);else if($i(C,this.peekCodePoint(0)))v+=x(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),v}},j})(),Ka=(function(){function j(v){this._tokens=v}return j.create=function(v){var C=new qn;return C.write(v),new j(C.read())},j.parseValue=function(v){return j.create(v).parseComponentValue()},j.parseValues=function(v){return j.create(v).parseComponentValues()},j.prototype.parseComponentValue=function(){for(var v=this.consumeToken();v.type===31;)v=this.consumeToken();if(v.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(v);var C=this.consumeComponentValue();do v=this.consumeToken();while(v.type===31);if(v.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},j.prototype.parseComponentValues=function(){for(var v=[];;){var C=this.consumeComponentValue();if(C.type===32)return v;v.push(C),v.push()}},j.prototype.consumeComponentValue=function(){var v=this.consumeToken();switch(v.type){case 11:case 28:case 2:return this.consumeSimpleBlock(v.type);case 19:return this.consumeFunction(v)}return v},j.prototype.consumeSimpleBlock=function(v){for(var C={type:v,values:[]},B=this.consumeToken();;){if(B.type===32||fc(B,v))return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue()),B=this.consumeToken()}},j.prototype.consumeFunction=function(v){for(var C={name:v.value,values:[],type:18};;){var B=this.consumeToken();if(B.type===32||B.type===3)return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue())}},j.prototype.consumeToken=function(){var v=this._tokens.shift();return typeof v>"u"?xn:v},j.prototype.reconsumeToken=function(v){this._tokens.unshift(v)},j})(),ma=function(j){return j.type===15},zn=function(j){return j.type===17},rn=function(j){return j.type===20},po=function(j){return j.type===0},Do=function(j,v){return rn(j)&&j.value===v},ol=function(j){return j.type!==31},Na=function(j){return j.type!==31&&j.type!==4},Za=function(j){var v=[],C=[];return j.forEach(function(B){if(B.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");v.push(C),C=[];return}B.type!==31&&C.push(B)}),C.length&&v.push(C),v},fc=function(j,v){return v===11&&j.type===12||v===28&&j.type===29?!0:v===2&&j.type===3},Ro=function(j){return j.type===17||j.type===15},Gn=function(j){return j.type===16||Ro(j)},Lo=function(j){return j.length>1?[j[0],j[1]]:[j[0]]},Dr={type:17,number:0,flags:ro},OA={type:16,number:50,flags:ro},ei={type:16,number:100,flags:ro},Qo=function(j,v,C){var B=j[0],G=j[1];return[Cn(B,v),Cn(typeof G<"u"?G:B,C)]},Cn=function(j,v){if(j.type===16)return j.number/100*v;if(ma(j))switch(j.unit){case"rem":case"em":return 16*j.number;case"px":default:return j.number}return j.number},Ci="deg",ll="grad",Al="rad",wl="turn",zl={name:"angle",parse:function(j,v){if(v.type===15)switch(v.unit){case Ci:return Math.PI*v.number/180;case ll:return Math.PI/200*v.number;case Al:return v.number;case wl:return Math.PI*2*v.number}throw new Error("Unsupported angle type")}},PA=function(j){return j.type===15&&(j.unit===Ci||j.unit===ll||j.unit===Al||j.unit===wl)},aa=function(j){var v=j.filter(rn).map(function(C){return C.value}).join(" ");switch(v){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Dr,Dr];case"to top":case"bottom":return Yi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Dr,ei];case"to right":case"left":return Yi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ei,ei];case"to bottom":case"top":return Yi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ei,Dr];case"to left":case"right":return Yi(270)}return 0},Yi=function(j){return Math.PI*j/180},Ai={name:"color",parse:function(j,v){if(v.type===18){var C=Bl[v.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+v.name+'"');return C(j,v.values)}if(v.type===5){if(v.value.length===3){var B=v.value.substring(0,1),G=v.value.substring(1,2),se=v.value.substring(2,3);return Si(parseInt(B+B,16),parseInt(G+G,16),parseInt(se+se,16),1)}if(v.value.length===4){var B=v.value.substring(0,1),G=v.value.substring(1,2),se=v.value.substring(2,3),fe=v.value.substring(3,4);return Si(parseInt(B+B,16),parseInt(G+G,16),parseInt(se+se,16),parseInt(fe+fe,16)/255)}if(v.value.length===6){var B=v.value.substring(0,2),G=v.value.substring(2,4),se=v.value.substring(4,6);return Si(parseInt(B,16),parseInt(G,16),parseInt(se,16),1)}if(v.value.length===8){var B=v.value.substring(0,2),G=v.value.substring(2,4),se=v.value.substring(4,6),fe=v.value.substring(6,8);return Si(parseInt(B,16),parseInt(G,16),parseInt(se,16),parseInt(fe,16)/255)}}if(v.type===20){var Be=pa[v.value.toUpperCase()];if(typeof Be<"u")return Be}return pa.TRANSPARENT}},ci=function(j){return(255&j)===0},Ln=function(j){var v=255&j,C=255&j>>8,B=255&j>>16,G=255&j>>24;return v<255?"rgba("+G+","+B+","+C+","+v/255+")":"rgb("+G+","+B+","+C+")"},Si=function(j,v,C,B){return(j<<24|v<<16|C<<8|Math.round(B*255)<<0)>>>0},kA=function(j,v){if(j.type===17)return j.number;if(j.type===16){var C=v===3?1:255;return v===3?j.number/100*C:Math.round(j.number/100*C)}return 0},MA=function(j,v){var C=v.filter(Na);if(C.length===3){var B=C.map(kA),G=B[0],se=B[1],fe=B[2];return Si(G,se,fe,1)}if(C.length===4){var Be=C.map(kA),G=Be[0],se=Be[1],fe=Be[2],Ce=Be[3];return Si(G,se,fe,Ce)}return 0};function cl(j,v,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(v-j)*C*6+j:C<1/2?v:C<2/3?(v-j)*6*(2/3-C)+j:j}var jl=function(j,v){var C=v.filter(Na),B=C[0],G=C[1],se=C[2],fe=C[3],Be=(B.type===17?Yi(B.number):zl.parse(j,B))/(Math.PI*2),Ce=Gn(G)?G.number/100:0,Re=Gn(se)?se.number/100:0,Ve=typeof fe<"u"&&Gn(fe)?Cn(fe,1):1;if(Ce===0)return Si(Re*255,Re*255,Re*255,1);var We=Re<=.5?Re*(Ce+1):Re+Ce-Re*Ce,ft=Re*2-We,ds=cl(ft,We,Be+1/3),zt=cl(ft,We,Be),ts=cl(ft,We,Be-1/3);return Si(ds*255,zt*255,ts*255,Ve)},Bl={hsl:jl,hsla:jl,rgb:MA,rgba:MA},ul=function(j,v){return Ai.parse(j,Ka.create(v).parseComponentValue())},pa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Gl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(j,v){return v.map(function(C){if(rn(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ni={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wi=function(j,v){var C=Ai.parse(j,v[0]),B=v[1];return B&&Gn(B)?{color:C,stop:B}:{color:C,stop:null}},$n=function(j,v){var C=j[0],B=j[j.length-1];C.stop===null&&(C.stop=Dr),B.stop===null&&(B.stop=ei);for(var G=[],se=0,fe=0;fe<j.length;fe++){var Be=j[fe].stop;if(Be!==null){var Ce=Cn(Be,v);Ce>se?G.push(Ce):G.push(se),se=Ce}else G.push(null)}for(var Re=null,fe=0;fe<G.length;fe++){var Ve=G[fe];if(Ve===null)Re===null&&(Re=fe);else if(Re!==null){for(var We=fe-Re,ft=G[Re-1],ds=(Ve-ft)/(We+1),zt=1;zt<=We;zt++)G[Re+zt-1]=ds*zt;Re=null}}return j.map(function(ts,_s){var ys=ts.color;return{color:ys,stop:Math.max(Math.min(1,G[_s]/v),0)}})},Hn=function(j,v,C){var B=v/2,G=C/2,se=Cn(j[0],v)-B,fe=G-Cn(j[1],C);return(Math.atan2(fe,se)+Math.PI*2)%(Math.PI*2)},Tr=function(j,v,C){var B=typeof j=="number"?j:Hn(j,v,C),G=Math.abs(v*Math.sin(B))+Math.abs(C*Math.cos(B)),se=v/2,fe=C/2,Be=G/2,Ce=Math.sin(B-Math.PI/2)*Be,Re=Math.cos(B-Math.PI/2)*Be;return[G,se-Re,se+Re,fe-Ce,fe+Ce]},Zn=function(j,v){return Math.sqrt(j*j+v*v)},dl=function(j,v,C,B,G){var se=[[0,0],[0,v],[j,0],[j,v]];return se.reduce(function(fe,Be){var Ce=Be[0],Re=Be[1],Ve=Zn(C-Ce,B-Re);return(G?Ve<fe.optimumDistance:Ve>fe.optimumDistance)?{optimumCorner:Be,optimumDistance:Ve}:fe},{optimumDistance:G?1/0:-1/0,optimumCorner:null}).optimumCorner},hl=function(j,v,C,B,G){var se=0,fe=0;switch(j.size){case 0:j.shape===0?se=fe=Math.min(Math.abs(v),Math.abs(v-B),Math.abs(C),Math.abs(C-G)):j.shape===1&&(se=Math.min(Math.abs(v),Math.abs(v-B)),fe=Math.min(Math.abs(C),Math.abs(C-G)));break;case 2:if(j.shape===0)se=fe=Math.min(Zn(v,C),Zn(v,C-G),Zn(v-B,C),Zn(v-B,C-G));else if(j.shape===1){var Be=Math.min(Math.abs(C),Math.abs(C-G))/Math.min(Math.abs(v),Math.abs(v-B)),Ce=dl(B,G,v,C,!0),Re=Ce[0],Ve=Ce[1];se=Zn(Re-v,(Ve-C)/Be),fe=Be*se}break;case 1:j.shape===0?se=fe=Math.max(Math.abs(v),Math.abs(v-B),Math.abs(C),Math.abs(C-G)):j.shape===1&&(se=Math.max(Math.abs(v),Math.abs(v-B)),fe=Math.max(Math.abs(C),Math.abs(C-G)));break;case 3:if(j.shape===0)se=fe=Math.max(Zn(v,C),Zn(v,C-G),Zn(v-B,C),Zn(v-B,C-G));else if(j.shape===1){var Be=Math.max(Math.abs(C),Math.abs(C-G))/Math.max(Math.abs(v),Math.abs(v-B)),We=dl(B,G,v,C,!1),Re=We[0],Ve=We[1];se=Zn(Re-v,(Ve-C)/Be),fe=Be*se}break}return Array.isArray(j.size)&&(se=Cn(j.size[0],B),fe=j.size.length===2?Cn(j.size[1],G):se),[se,fe]},HA=function(j,v){var C=Yi(180),B=[];return Za(v).forEach(function(G,se){if(se===0){var fe=G[0];if(fe.type===20&&fe.value==="to"){C=aa(G);return}else if(PA(fe)){C=zl.parse(j,fe);return}}var Be=Wi(j,G);B.push(Be)}),{angle:C,stops:B,type:1}},dA=function(j,v){var C=Yi(180),B=[];return Za(v).forEach(function(G,se){if(se===0){var fe=G[0];if(fe.type===20&&["top","left","right","bottom"].indexOf(fe.value)!==-1){C=aa(G);return}else if(PA(fe)){C=(zl.parse(j,fe)+Yi(270))%Yi(360);return}}var Be=Wi(j,G);B.push(Be)}),{angle:C,stops:B,type:1}},th=function(j,v){var C=Yi(180),B=[],G=1,se=0,fe=3,Be=[];return Za(v).forEach(function(Ce,Re){var Ve=Ce[0];if(Re===0){if(rn(Ve)&&Ve.value==="linear"){G=1;return}else if(rn(Ve)&&Ve.value==="radial"){G=2;return}}if(Ve.type===18){if(Ve.name==="from"){var We=Ai.parse(j,Ve.values[0]);B.push({stop:Dr,color:We})}else if(Ve.name==="to"){var We=Ai.parse(j,Ve.values[0]);B.push({stop:ei,color:We})}else if(Ve.name==="color-stop"){var ft=Ve.values.filter(Na);if(ft.length===2){var We=Ai.parse(j,ft[1]),ds=ft[0];zn(ds)&&B.push({stop:{type:16,number:ds.number*100,flags:ds.flags},color:We})}}}}),G===1?{angle:(C+Yi(180))%Yi(360),stops:B,type:G}:{size:fe,shape:se,stops:B,position:Be,type:G}},sh="closest-side",nh="farthest-side",rh="closest-corner",Lu="farthest-corner",Qu="circle",hA="ellipse",go="cover",mc="contain",xo=function(j,v){var C=0,B=3,G=[],se=[];return Za(v).forEach(function(fe,Be){var Ce=!0;if(Be===0){var Re=!1;Ce=fe.reduce(function(We,ft){if(Re)if(rn(ft))switch(ft.value){case"center":return se.push(OA),We;case"top":case"left":return se.push(Dr),We;case"right":case"bottom":return se.push(ei),We}else(Gn(ft)||Ro(ft))&&se.push(ft);else if(rn(ft))switch(ft.value){case Qu:return C=0,!1;case hA:return C=1,!1;case"at":return Re=!0,!1;case sh:return B=0,!1;case go:case nh:return B=1,!1;case mc:case rh:return B=2,!1;case Lu:return B=3,!1}else if(Ro(ft)||Gn(ft))return Array.isArray(B)||(B=[]),B.push(ft),!1;return We},Ce)}if(Ce){var Ve=Wi(j,fe);G.push(Ve)}}),{size:B,shape:C,stops:G,position:se,type:2}},Cl=function(j,v){var C=0,B=3,G=[],se=[];return Za(v).forEach(function(fe,Be){var Ce=!0;if(Be===0?Ce=fe.reduce(function(Ve,We){if(rn(We))switch(We.value){case"center":return se.push(OA),!1;case"top":case"left":return se.push(Dr),!1;case"right":case"bottom":return se.push(ei),!1}else if(Gn(We)||Ro(We))return se.push(We),!1;return Ve},Ce):Be===1&&(Ce=fe.reduce(function(Ve,We){if(rn(We))switch(We.value){case Qu:return C=0,!1;case hA:return C=1,!1;case mc:case sh:return B=0,!1;case nh:return B=1,!1;case rh:return B=2,!1;case go:case Lu:return B=3,!1}else if(Ro(We)||Gn(We))return Array.isArray(B)||(B=[]),B.push(We),!1;return Ve},Ce)),Ce){var Re=Wi(j,fe);G.push(Re)}}),{size:B,shape:C,stops:G,position:se,type:2}},Ou=function(j){return j.type===1},tu=function(j){return j.type===2},VA={name:"image",parse:function(j,v){if(v.type===22){var C={url:v.value,type:0};return j.cache.addImage(v.value),C}if(v.type===18){var B=Sl[v.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported image function "'+v.name+'"');return B(j,v.values)}throw new Error("Unsupported image type "+v.type)}};function Pu(j){return!(j.type===20&&j.value==="none")&&(j.type!==18||!!Sl[j.name])}var Sl={"linear-gradient":HA,"-moz-linear-gradient":dA,"-ms-linear-gradient":dA,"-o-linear-gradient":dA,"-webkit-linear-gradient":dA,"radial-gradient":xo,"-moz-radial-gradient":Cl,"-ms-radial-gradient":Cl,"-o-radial-gradient":Cl,"-webkit-radial-gradient":Cl,"-webkit-gradient":th},su={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(j,v){if(v.length===0)return[];var C=v[0];return C.type===20&&C.value==="none"?[]:v.filter(function(B){return Na(B)&&Pu(B)}).map(function(B){return VA.parse(j,B)})}},Ei={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(j,v){return v.map(function(C){if(rn(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ui={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(j,v){return Za(v).map(function(C){return C.filter(Gn)}).map(Lo)}},ku={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(j,v){return Za(v).map(function(C){return C.filter(rn).map(function(B){return B.value}).join(" ")}).map(Ti)}},Ti=function(j){switch(j){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},$l;(function(j){j.AUTO="auto",j.CONTAIN="contain",j.COVER="cover"})($l||($l={}));var Oo={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(j,v){return Za(v).map(function(C){return C.filter(nu)})}},nu=function(j){return rn(j)||Gn(j)},Yl=function(j){return{name:"border-"+j+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fA=Yl("top"),ru=Yl("right"),Mu=Yl("bottom"),pc=Yl("left"),KA=function(j){return{name:"border-radius-"+j,initialValue:"0 0",prefix:!1,type:1,parse:function(v,C){return Lo(C.filter(Gn))}}},Po=KA("top-left"),gc=KA("top-right"),zA=KA("bottom-right"),Hu=KA("bottom-left"),mA=function(j){return{name:"border-"+j+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(v,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ko=mA("top"),Mo=mA("right"),pA=mA("bottom"),Ho=mA("left"),Xi=function(j){return{name:"border-"+j+"-width",initialValue:"0",type:0,prefix:!1,parse:function(v,C){return ma(C)?C.number:0}}},vo=Xi("top"),cf=Xi("right"),ah=Xi("bottom"),Vu=Xi("left"),uf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},di={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(j,v){switch(v){case"rtl":return 1;case"ltr":default:return 0}}},Rr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(j,v){return v.filter(rn).reduce(function(C,B){return C|Dn(B.value)},0)}},Dn=function(j){switch(j){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ji={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ia={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(j,v){return v.type===20&&v.value==="normal"?0:v.type===17||v.type===15?v.number:0}},lo;(function(j){j.NORMAL="normal",j.STRICT="strict"})(lo||(lo={}));var gA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"strict":return lo.STRICT;case"normal":default:return lo.NORMAL}}},ih={name:"line-height",initialValue:"normal",prefix:!1,type:4},Nl=function(j,v){return rn(j)&&j.value==="normal"?1.2*v:j.type===17?v*j.number:Gn(j)?Cn(j,v):v},hi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(j,v){return v.type===20&&v.value==="none"?null:VA.parse(j,v)}},GA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(j,v){switch(v){case"inside":return 0;case"outside":default:return 1}}},au={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Wl=function(j){return{name:"margin-"+j,initialValue:"0",prefix:!1,type:4}},Ku=Wl("top"),xA=Wl("right"),El=Wl("bottom"),vA=Wl("left"),Vo={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(j,v){return v.filter(rn).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},xc={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"break-word":return"break-word";case"normal":default:return"normal"}}},Tl=function(j){return{name:"padding-"+j,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},yA=Tl("top"),zu=Tl("right"),bA=Tl("bottom"),fi=Tl("left"),Gu={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(j,v){switch(v){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},df={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(j,v){switch(v){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Im={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.length===1&&Do(v[0],"none")?[]:Za(v).map(function(C){for(var B={color:pa.TRANSPARENT,offsetX:Dr,offsetY:Dr,blur:Dr},G=0,se=0;se<C.length;se++){var fe=C[se];Ro(fe)?(G===0?B.offsetX=fe:G===1?B.offsetY=fe:B.blur=fe,G++):B.color=Ai.parse(j,fe)}return B})}},_m={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Fm={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(j,v){if(v.type===20&&v.value==="none")return null;if(v.type===18){var C=iu[v.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+v.name+'"');return C(v.values)}return null}},ga=function(j){var v=j.filter(function(C){return C.type===17}).map(function(C){return C.number});return v.length===6?v:null},vc=function(j){var v=j.filter(function(Ce){return Ce.type===17}).map(function(Ce){return Ce.number}),C=v[0],B=v[1];v[2],v[3];var G=v[4],se=v[5];v[6],v[7],v[8],v[9],v[10],v[11];var fe=v[12],Be=v[13];return v[14],v[15],v.length===16?[C,B,G,se,fe,Be]:null},iu={matrix:ga,matrix3d:vc},yc={type:16,number:50,flags:ro},$u=[yc,yc],y={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(j,v){var C=v.filter(Gn);return C.length!==2?$u:[C[0],C[1]]}},_={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},z;(function(j){j.NORMAL="normal",j.BREAK_ALL="break-all",j.KEEP_ALL="keep-all"})(z||(z={}));for(var q={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"break-all":return z.BREAK_ALL;case"keep-all":return z.KEEP_ALL;case"normal":default:return z.NORMAL}}},ue={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(j,v){if(v.type===20)return{auto:!0,order:0};if(zn(v))return{auto:!1,order:v.number};throw new Error("Invalid z-index number parsed")}},me={name:"time",parse:function(j,v){if(v.type===15)switch(v.unit.toLowerCase()){case"s":return 1e3*v.number;case"ms":return v.number}throw new Error("Unsupported time type")}},pe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(j,v){return zn(v)?v.number:1}},be={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},je={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(j,v){return v.filter(rn).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},Ie={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(j,v){var C=[],B=[];return v.forEach(function(G){switch(G.type){case 20:case 0:C.push(G.value);break;case 17:C.push(G.number.toString());break;case 4:B.push(C.join(" ")),C.length=0;break}}),C.length&&B.push(C.join(" ")),B.map(function(G){return G.indexOf(" ")===-1?G:"'"+G+"'"})}},Qe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ze={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(j,v){if(zn(v))return v.number;if(rn(v))switch(v.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ee={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.filter(rn).map(function(C){return C.value})}},ke={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},He=function(j,v){return(j&v)!==0},ht={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(j,v){if(v.length===0)return[];var C=v[0];return C.type===20&&C.value==="none"?[]:v}},Xe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return null;var C=v[0];if(C.type===20&&C.value==="none")return null;for(var B=[],G=v.filter(ol),se=0;se<G.length;se++){var fe=G[se],Be=G[se+1];if(fe.type===20){var Ce=Be&&zn(Be)?Be.number:1;B.push({counter:fe.value,increment:Ce})}}return B}},ct={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return[];for(var C=[],B=v.filter(ol),G=0;G<B.length;G++){var se=B[G],fe=B[G+1];if(rn(se)&&se.value!=="none"){var Be=fe&&zn(fe)?fe.number:0;C.push({counter:se.value,reset:Be})}}return C}},vt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(j,v){return v.filter(ma).map(function(C){return me.parse(j,C)})}},Qt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return null;var C=v[0];if(C.type===20&&C.value==="none")return null;var B=[],G=v.filter(po);if(G.length%2!==0)return null;for(var se=0;se<G.length;se+=2){var fe=G[se].value,Be=G[se+1].value;B.push({open:fe,close:Be})}return B}},Bt=function(j,v,C){if(!j)return"";var B=j[Math.min(v,j.length-1)];return B?C?B.open:B.close:""},Cs={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.length===1&&Do(v[0],"none")?[]:Za(v).map(function(C){for(var B={color:255,offsetX:Dr,offsetY:Dr,blur:Dr,spread:Dr,inset:!1},G=0,se=0;se<C.length;se++){var fe=C[se];Do(fe,"inset")?B.inset=!0:Ro(fe)?(G===0?B.offsetX=fe:G===1?B.offsetY=fe:G===2?B.blur=fe:B.spread=fe,G++):B.color=Ai.parse(j,fe)}return B})}},ps={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(j,v){var C=[0,1,2],B=[];return v.filter(rn).forEach(function(G){switch(G.value){case"stroke":B.push(1);break;case"fill":B.push(0);break;case"markers":B.push(2);break}}),C.forEach(function(G){B.indexOf(G)===-1&&B.push(G)}),B}},tn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},bs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(j,v){return ma(v)?v.number:0}},_n=(function(){function j(v,C){var B,G;this.animationDuration=it(v,vt,C.animationDuration),this.backgroundClip=it(v,Gl,C.backgroundClip),this.backgroundColor=it(v,Ni,C.backgroundColor),this.backgroundImage=it(v,su,C.backgroundImage),this.backgroundOrigin=it(v,Ei,C.backgroundOrigin),this.backgroundPosition=it(v,ui,C.backgroundPosition),this.backgroundRepeat=it(v,ku,C.backgroundRepeat),this.backgroundSize=it(v,Oo,C.backgroundSize),this.borderTopColor=it(v,fA,C.borderTopColor),this.borderRightColor=it(v,ru,C.borderRightColor),this.borderBottomColor=it(v,Mu,C.borderBottomColor),this.borderLeftColor=it(v,pc,C.borderLeftColor),this.borderTopLeftRadius=it(v,Po,C.borderTopLeftRadius),this.borderTopRightRadius=it(v,gc,C.borderTopRightRadius),this.borderBottomRightRadius=it(v,zA,C.borderBottomRightRadius),this.borderBottomLeftRadius=it(v,Hu,C.borderBottomLeftRadius),this.borderTopStyle=it(v,ko,C.borderTopStyle),this.borderRightStyle=it(v,Mo,C.borderRightStyle),this.borderBottomStyle=it(v,pA,C.borderBottomStyle),this.borderLeftStyle=it(v,Ho,C.borderLeftStyle),this.borderTopWidth=it(v,vo,C.borderTopWidth),this.borderRightWidth=it(v,cf,C.borderRightWidth),this.borderBottomWidth=it(v,ah,C.borderBottomWidth),this.borderLeftWidth=it(v,Vu,C.borderLeftWidth),this.boxShadow=it(v,Cs,C.boxShadow),this.color=it(v,uf,C.color),this.direction=it(v,di,C.direction),this.display=it(v,Rr,C.display),this.float=it(v,Ji,C.cssFloat),this.fontFamily=it(v,Ie,C.fontFamily),this.fontSize=it(v,Qe,C.fontSize),this.fontStyle=it(v,ke,C.fontStyle),this.fontVariant=it(v,Ee,C.fontVariant),this.fontWeight=it(v,Ze,C.fontWeight),this.letterSpacing=it(v,ia,C.letterSpacing),this.lineBreak=it(v,gA,C.lineBreak),this.lineHeight=it(v,ih,C.lineHeight),this.listStyleImage=it(v,hi,C.listStyleImage),this.listStylePosition=it(v,GA,C.listStylePosition),this.listStyleType=it(v,au,C.listStyleType),this.marginTop=it(v,Ku,C.marginTop),this.marginRight=it(v,xA,C.marginRight),this.marginBottom=it(v,El,C.marginBottom),this.marginLeft=it(v,vA,C.marginLeft),this.opacity=it(v,pe,C.opacity);var se=it(v,Vo,C.overflow);this.overflowX=se[0],this.overflowY=se[se.length>1?1:0],this.overflowWrap=it(v,xc,C.overflowWrap),this.paddingTop=it(v,yA,C.paddingTop),this.paddingRight=it(v,zu,C.paddingRight),this.paddingBottom=it(v,bA,C.paddingBottom),this.paddingLeft=it(v,fi,C.paddingLeft),this.paintOrder=it(v,ps,C.paintOrder),this.position=it(v,df,C.position),this.textAlign=it(v,Gu,C.textAlign),this.textDecorationColor=it(v,be,(B=C.textDecorationColor)!==null&&B!==void 0?B:C.color),this.textDecorationLine=it(v,je,(G=C.textDecorationLine)!==null&&G!==void 0?G:C.textDecoration),this.textShadow=it(v,Im,C.textShadow),this.textTransform=it(v,_m,C.textTransform),this.transform=it(v,Fm,C.transform),this.transformOrigin=it(v,y,C.transformOrigin),this.visibility=it(v,_,C.visibility),this.webkitTextStrokeColor=it(v,tn,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=it(v,bs,C.webkitTextStrokeWidth),this.wordBreak=it(v,q,C.wordBreak),this.zIndex=it(v,ue,C.zIndex)}return j.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},j.prototype.isTransparent=function(){return ci(this.backgroundColor)},j.prototype.isTransformed=function(){return this.transform!==null},j.prototype.isPositioned=function(){return this.position!==0},j.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},j.prototype.isFloating=function(){return this.float!==0},j.prototype.isInlineLevel=function(){return He(this.display,4)||He(this.display,33554432)||He(this.display,268435456)||He(this.display,536870912)||He(this.display,67108864)||He(this.display,134217728)},j})(),Lr=(function(){function j(v,C){this.content=it(v,ht,C.content),this.quotes=it(v,Qt,C.quotes)}return j})(),An=(function(){function j(v,C){this.counterIncrement=it(v,Xe,C.counterIncrement),this.counterReset=it(v,ct,C.counterReset)}return j})(),it=function(j,v,C){var B=new qn,G=C!==null&&typeof C<"u"?C.toString():v.initialValue;B.write(G);var se=new Ka(B.read());switch(v.type){case 2:var fe=se.parseComponentValue();return v.parse(j,rn(fe)?fe.value:v.initialValue);case 0:return v.parse(j,se.parseComponentValue());case 1:return v.parse(j,se.parseComponentValues());case 4:return se.parseComponentValue();case 3:switch(v.format){case"angle":return zl.parse(j,se.parseComponentValue());case"color":return Ai.parse(j,se.parseComponentValue());case"image":return VA.parse(j,se.parseComponentValue());case"length":var Be=se.parseComponentValue();return Ro(Be)?Be:Dr;case"length-percentage":var Ce=se.parseComponentValue();return Gn(Ce)?Ce:Dr;case"time":return me.parse(j,se.parseComponentValue())}break}},Zt="data-html2canvas-debug",Wr=function(j){var v=j.getAttribute(Zt);switch(v){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Vs=function(j,v){var C=Wr(j);return C===1||v===C},$s=(function(){function j(v,C){if(this.context=v,this.textNodes=[],this.elements=[],this.flags=0,Vs(C,3))debugger;this.styles=new _n(v,window.getComputedStyle(C,null)),mh(C)&&(this.styles.animationDuration.some(function(B){return B>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=f(this.context,C),Vs(C,4)&&(this.flags|=16)}return j})(),Ar="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xa=typeof Uint8Array>"u"?[]:new Uint8Array(256),cr=0;cr<Ea.length;cr++)xa[Ea.charCodeAt(cr)]=cr;for(var Ta=function(j){var v=j.length*.75,C=j.length,B,G=0,se,fe,Be,Ce;j[j.length-1]==="="&&(v--,j[j.length-2]==="="&&v--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ve=Array.isArray(Re)?Re:new Uint8Array(Re);for(B=0;B<C;B+=4)se=xa[j.charCodeAt(B)],fe=xa[j.charCodeAt(B+1)],Be=xa[j.charCodeAt(B+2)],Ce=xa[j.charCodeAt(B+3)],Ve[G++]=se<<2|fe>>4,Ve[G++]=(fe&15)<<4|Be>>2,Ve[G++]=(Be&3)<<6|Ce&63;return Re},Ii=function(j){for(var v=j.length,C=[],B=0;B<v;B+=2)C.push(j[B+1]<<8|j[B]);return C},Ia=function(j){for(var v=j.length,C=[],B=0;B<v;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},an=5,Qn=11,Qr=2,er=Qn-an,_a=65536>>an,Xr=1<<an,On=Xr-1,va=1024>>an,ur=_a+va,Fa=ur,Ua=32,xr=Fa+Ua,Vn=65536>>Qn,_i=1<<er,oa=_i-1,Ls=function(j,v,C){return j.slice?j.slice(v,C):new Uint16Array(Array.prototype.slice.call(j,v,C))},ks=function(j,v,C){return j.slice?j.slice(v,C):new Uint32Array(Array.prototype.slice.call(j,v,C))},Yn=function(j,v){var C=Ta(j),B=Array.isArray(C)?Ia(C):new Uint32Array(C),G=Array.isArray(C)?Ii(C):new Uint16Array(C),se=24,fe=Ls(G,se/2,B[4]/2),Be=B[5]===2?Ls(G,(se+B[4])/2):ks(B,Math.ceil((se+B[4])/4));return new Ao(B[0],B[1],B[2],B[3],fe,Be)},Ao=(function(){function j(v,C,B,G,se,fe){this.initialValue=v,this.errorValue=C,this.highStart=B,this.highValueIndex=G,this.index=se,this.data=fe}return j.prototype.get=function(v){var C;if(v>=0){if(v<55296||v>56319&&v<=65535)return C=this.index[v>>an],C=(C<<Qr)+(v&On),this.data[C];if(v<=65535)return C=this.index[_a+(v-55296>>an)],C=(C<<Qr)+(v&On),this.data[C];if(v<this.highStart)return C=xr-Vn+(v>>Qn),C=this.index[C],C+=v>>an&oa,C=this.index[C],C=(C<<Qr)+(v&On),this.data[C];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qi=typeof Uint8Array>"u"?[]:new Uint8Array(256),Jr=0;Jr<yo.length;Jr++)qi[yo.charCodeAt(Jr)]=Jr;var wA=1,Il=2,bc=3,vr=4,Yu=5,oh=7,ou=8,fl=9,lh=10,Wu=11,Xu=12,lu=13,za=14,Kr=15,Au=function(j){for(var v=[],C=0,B=j.length;C<B;){var G=j.charCodeAt(C++);if(G>=55296&&G<=56319&&C<B){var se=j.charCodeAt(C++);(se&64512)===56320?v.push(((G&1023)<<10)+(se&1023)+65536):(v.push(G),C--)}else v.push(G)}return v},jA=function(){for(var j=[],v=0;v<arguments.length;v++)j[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],G=-1,se="";++G<C;){var fe=j[G];fe<=65535?B.push(fe):(fe-=65536,B.push((fe>>10)+55296,fe%1024+56320)),(G+1===C||B.length>16384)&&(se+=String.fromCharCode.apply(String,B),B.length=0)}return se},wc=Yn(Ar),ti="",Ko="",Ju=function(j){return wc.get(j)},jc=function(j,v,C){var B=C-2,G=v[B],se=v[C-1],fe=v[C];if(se===Il&&fe===bc)return ti;if(se===Il||se===bc||se===vr||fe===Il||fe===bc||fe===vr)return Ko;if(se===ou&&[ou,fl,Wu,Xu].indexOf(fe)!==-1||(se===Wu||se===fl)&&(fe===fl||fe===lh)||(se===Xu||se===lh)&&fe===lh||fe===lu||fe===Yu||fe===oh||se===wA)return ti;if(se===lu&&fe===za){for(;G===Yu;)G=v[--B];if(G===za)return ti}if(se===Kr&&fe===Kr){for(var Be=0;G===Kr;)Be++,G=v[--B];if(Be%2===0)return ti}return Ko},qu=function(j){var v=Au(j),C=v.length,B=0,G=0,se=v.map(Ju);return{next:function(){if(B>=C)return{done:!0,value:null};for(var fe=ti;B<C&&(fe=jc(v,se,++B))===ti;);if(fe!==ti||B===C){var Be=jA.apply(null,v.slice(G,B));return G=B,{value:Be,done:!1}}return{done:!0,value:null}}}},Zu=function(j){for(var v=qu(j),C=[],B;!(B=v.next()).done;)B.value&&C.push(B.value.slice());return C},Xl=function(j){var v=123;if(j.createRange){var C=j.createRange();if(C.getBoundingClientRect){var B=j.createElement("boundtest");B.style.height=v+"px",B.style.display="block",j.body.appendChild(B),C.selectNode(B);var G=C.getBoundingClientRect(),se=Math.round(G.height);if(j.body.removeChild(B),se===v)return!0}}return!1},Ah=function(j){var v=j.createElement("boundtest");v.style.width="50px",v.style.display="block",v.style.fontSize="12px",v.style.letterSpacing="0px",v.style.wordSpacing="0px",j.body.appendChild(v);var C=j.createRange();v.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var B=v.firstChild,G=m(B.data).map(function(Ce){return x(Ce)}),se=0,fe={},Be=G.every(function(Ce,Re){C.setStart(B,se),C.setEnd(B,se+Ce.length);var Ve=C.getBoundingClientRect();se+=Ce.length;var We=Ve.x>fe.x||Ve.y>fe.y;return fe=Ve,Re===0?!0:We});return j.body.removeChild(v),Be},ch=function(){return typeof new Image().crossOrigin<"u"},hf=function(){return typeof new XMLHttpRequest().responseType=="string"},uh=function(j){var v=new Image,C=j.createElement("canvas"),B=C.getContext("2d");if(!B)return!1;v.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{B.drawImage(v,0,0),C.toDataURL()}catch{return!1}return!0},Jl=function(j){return j[0]===0&&j[1]===255&&j[2]===0&&j[3]===255},ff=function(j){var v=j.createElement("canvas"),C=100;v.width=C,v.height=C;var B=v.getContext("2d");if(!B)return Promise.reject(!1);B.fillStyle="rgb(0, 255, 0)",B.fillRect(0,0,C,C);var G=new Image,se=v.toDataURL();G.src=se;var fe=ed(C,C,0,0,G);return B.fillStyle="red",B.fillRect(0,0,C,C),dh(fe).then(function(Be){B.drawImage(Be,0,0);var Ce=B.getImageData(0,0,C,C).data;B.fillStyle="red",B.fillRect(0,0,C,C);var Re=j.createElement("div");return Re.style.backgroundImage="url("+se+")",Re.style.height=C+"px",Jl(Ce)?dh(ed(C,C,0,0,Re)):Promise.reject(!1)}).then(function(Be){return B.drawImage(Be,0,0),Jl(B.getImageData(0,0,C,C).data)}).catch(function(){return!1})},ed=function(j,v,C,B,G){var se="http://www.w3.org/2000/svg",fe=document.createElementNS(se,"svg"),Be=document.createElementNS(se,"foreignObject");return fe.setAttributeNS(null,"width",j.toString()),fe.setAttributeNS(null,"height",v.toString()),Be.setAttributeNS(null,"width","100%"),Be.setAttributeNS(null,"height","100%"),Be.setAttributeNS(null,"x",C.toString()),Be.setAttributeNS(null,"y",B.toString()),Be.setAttributeNS(null,"externalResourcesRequired","true"),fe.appendChild(Be),Be.appendChild(G),fe},dh=function(j){return new Promise(function(v,C){var B=new Image;B.onload=function(){return v(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Ga={get SUPPORT_RANGE_BOUNDS(){var j=Xl(document);return Object.defineProperty(Ga,"SUPPORT_RANGE_BOUNDS",{value:j}),j},get SUPPORT_WORD_BREAKING(){var j=Ga.SUPPORT_RANGE_BOUNDS&&Ah(document);return Object.defineProperty(Ga,"SUPPORT_WORD_BREAKING",{value:j}),j},get SUPPORT_SVG_DRAWING(){var j=uh(document);return Object.defineProperty(Ga,"SUPPORT_SVG_DRAWING",{value:j}),j},get SUPPORT_FOREIGNOBJECT_DRAWING(){var j=typeof Array.from=="function"&&typeof window.fetch=="function"?ff(document):Promise.resolve(!1);return Object.defineProperty(Ga,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:j}),j},get SUPPORT_CORS_IMAGES(){var j=ch();return Object.defineProperty(Ga,"SUPPORT_CORS_IMAGES",{value:j}),j},get SUPPORT_RESPONSE_TYPE(){var j=hf();return Object.defineProperty(Ga,"SUPPORT_RESPONSE_TYPE",{value:j}),j},get SUPPORT_CORS_XHR(){var j="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ga,"SUPPORT_CORS_XHR",{value:j}),j},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var j=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ga,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:j}),j}},Bc=(function(){function j(v,C){this.text=v,this.bounds=C}return j})(),$A=function(j,v,C,B){var G=Zl(v,C),se=[],fe=0;return G.forEach(function(Be){if(C.textDecorationLine.length||Be.trim().length>0)if(Ga.SUPPORT_RANGE_BOUNDS){var Ce=Cc(B,fe,Be.length).getClientRects();if(Ce.length>1){var Re=zo(Be),Ve=0;Re.forEach(function(ft){se.push(new Bc(ft,u.fromDOMRectList(j,Cc(B,Ve+fe,ft.length).getClientRects()))),Ve+=ft.length})}else se.push(new Bc(Be,u.fromDOMRectList(j,Ce)))}else{var We=B.splitText(Be.length);se.push(new Bc(Be,td(j,B))),B=We}else Ga.SUPPORT_RANGE_BOUNDS||(B=B.splitText(Be.length));fe+=Be.length}),se},td=function(j,v){var C=v.ownerDocument;if(C){var B=C.createElement("html2canvaswrapper");B.appendChild(v.cloneNode(!0));var G=v.parentNode;if(G){G.replaceChild(B,v);var se=f(j,B);return B.firstChild&&G.replaceChild(B.firstChild,B),se}}return u.EMPTY},Cc=function(j,v,C){var B=j.ownerDocument;if(!B)throw new Error("Node has no owner document");var G=B.createRange();return G.setStart(j,v),G.setEnd(j,v+C),G},zo=function(j){if(Ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var v=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(v.segment(j)).map(function(C){return C.segment})}return Zu(j)},ql=function(j,v){if(Ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(j)).map(function(B){return B.segment})}return nd(j,v)},Zl=function(j,v){return v.letterSpacing!==0?zo(j):ql(j,v)},sd=[32,160,4961,65792,65793,4153,4241],nd=function(j,v){for(var C=Ma(j,{lineBreak:v.lineBreak,wordBreak:v.overflowWrap==="break-word"?"break-word":v.wordBreak}),B=[],G,se=function(){if(G.value){var fe=G.value.slice(),Be=m(fe),Ce="";Be.forEach(function(Re){sd.indexOf(Re)===-1?Ce+=x(Re):(Ce.length&&B.push(Ce),B.push(x(Re)),Ce="")}),Ce.length&&B.push(Ce)}};!(G=C.next()).done;)se();return B},YA=(function(){function j(v,C,B){this.text=mf(C.data,B.textTransform),this.textBounds=$A(v,this.text,B,C)}return j})(),mf=function(j,v){switch(v){case 1:return j.toLowerCase();case 3:return j.replace(Sc,Nc);case 2:return j.toUpperCase();default:return j}},Sc=/(^|\s|:|-|\(|\))([a-z])/g,Nc=function(j,v,C){return j.length>0?v+C.toUpperCase():j},Um=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;return G.src=B.currentSrc||B.src,G.intrinsicWidth=B.naturalWidth,G.intrinsicHeight=B.naturalHeight,G.context.cache.addImage(G.src),G}return v})($s),pf=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;return G.canvas=B,G.intrinsicWidth=B.width,G.intrinsicHeight=B.height,G}return v})($s),Kg=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this,se=new XMLSerializer,fe=f(C,B);return B.setAttribute("width",fe.width+"px"),B.setAttribute("height",fe.height+"px"),G.svg="data:image/svg+xml,"+encodeURIComponent(se.serializeToString(B)),G.intrinsicWidth=B.width.baseVal.value,G.intrinsicHeight=B.height.baseVal.value,G.context.cache.addImage(G.svg),G}return v})($s),Dm=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;return G.value=B.value,G}return v})($s),gf=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;return G.start=B.start,G.reversed=typeof B.reversed=="boolean"&&B.reversed===!0,G}return v})($s),zg=[{type:15,flags:0,unit:"px",number:3}],Gg=[{type:16,flags:0,number:50}],$g=function(j){return j.width>j.height?new u(j.left+(j.width-j.height)/2,j.top,j.height,j.height):j.width<j.height?new u(j.left,j.top+(j.height-j.width)/2,j.width,j.width):j},Rm=function(j){var v=j.type===Lm?new Array(j.value.length+1).join(""):j.value;return v.length===0?j.placeholder||"":v},hh="checkbox",fh="radio",Lm="password",Qm=707406591,xf=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;switch(G.type=B.type.toLowerCase(),G.checked=B.checked,G.value=Rm(B),(G.type===hh||G.type===fh)&&(G.styles.backgroundColor=3739148031,G.styles.borderTopColor=G.styles.borderRightColor=G.styles.borderBottomColor=G.styles.borderLeftColor=2779096575,G.styles.borderTopWidth=G.styles.borderRightWidth=G.styles.borderBottomWidth=G.styles.borderLeftWidth=1,G.styles.borderTopStyle=G.styles.borderRightStyle=G.styles.borderBottomStyle=G.styles.borderLeftStyle=1,G.styles.backgroundClip=[0],G.styles.backgroundOrigin=[0],G.bounds=$g(G.bounds)),G.type){case hh:G.styles.borderTopRightRadius=G.styles.borderTopLeftRadius=G.styles.borderBottomRightRadius=G.styles.borderBottomLeftRadius=zg;break;case fh:G.styles.borderTopRightRadius=G.styles.borderTopLeftRadius=G.styles.borderBottomRightRadius=G.styles.borderBottomLeftRadius=Gg;break}return G}return v})($s),Yg=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this,se=B.options[B.selectedIndex||0];return G.value=se&&se.text||"",G}return v})($s),vf=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;return G.value=B.value,G}return v})($s),Om=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;G.src=B.src,G.width=parseInt(B.width,10)||0,G.height=parseInt(B.height,10)||0,G.backgroundColor=G.styles.backgroundColor;try{if(B.contentWindow&&B.contentWindow.document&&B.contentWindow.document.documentElement){G.tree=km(C,B.contentWindow.document.documentElement);var se=B.contentWindow.document.documentElement?ul(C,getComputedStyle(B.contentWindow.document.documentElement).backgroundColor):pa.TRANSPARENT,fe=B.contentWindow.document.body?ul(C,getComputedStyle(B.contentWindow.document.body).backgroundColor):pa.TRANSPARENT;G.backgroundColor=ci(se)?ci(fe)?G.styles.backgroundColor:fe:se}}catch{}return G}return v})($s),Wg=["OL","UL","MENU"],rd=function(j,v,C,B){for(var G=v.firstChild,se=void 0;G;G=se)if(se=G.nextSibling,Mm(G)&&G.data.trim().length>0)C.textNodes.push(new YA(j,G,C.styles));else if(BA(G))if(vh(G)&&G.assignedNodes)G.assignedNodes().forEach(function(Be){return rd(j,Be,C,B)});else{var fe=Pm(j,G);fe.styles.isVisible()&&($v(G,fe,B)?fe.flags|=4:Yv(fe.styles)&&(fe.flags|=2),Wg.indexOf(G.tagName)!==-1&&(fe.flags|=8),C.elements.push(fe),G.slot,G.shadowRoot?rd(j,G.shadowRoot,fe,B):!gh(G)&&!yf(G)&&!xh(G)&&rd(j,G,fe,B))}},Pm=function(j,v){return Bf(v)?new Um(j,v):wf(v)?new pf(j,v):yf(v)?new Kg(j,v):Xg(v)?new Dm(j,v):Jg(v)?new gf(j,v):ph(v)?new xf(j,v):xh(v)?new Yg(j,v):gh(v)?new vf(j,v):Hm(v)?new Om(j,v):new $s(j,v)},km=function(j,v){var C=Pm(j,v);return C.flags|=4,rd(j,v,C,C),C},$v=function(j,v,C){return v.styles.isPositionedWithZIndex()||v.styles.opacity<1||v.styles.isTransformed()||bf(j)&&C.styles.isTransparent()},Yv=function(j){return j.isPositioned()||j.isFloating()},Mm=function(j){return j.nodeType===Node.TEXT_NODE},BA=function(j){return j.nodeType===Node.ELEMENT_NODE},mh=function(j){return BA(j)&&typeof j.style<"u"&&!cu(j)},cu=function(j){return typeof j.className=="object"},Xg=function(j){return j.tagName==="LI"},Jg=function(j){return j.tagName==="OL"},ph=function(j){return j.tagName==="INPUT"},qg=function(j){return j.tagName==="HTML"},yf=function(j){return j.tagName==="svg"},bf=function(j){return j.tagName==="BODY"},wf=function(j){return j.tagName==="CANVAS"},jf=function(j){return j.tagName==="VIDEO"},Bf=function(j){return j.tagName==="IMG"},Hm=function(j){return j.tagName==="IFRAME"},Ec=function(j){return j.tagName==="STYLE"},Zg=function(j){return j.tagName==="SCRIPT"},gh=function(j){return j.tagName==="TEXTAREA"},xh=function(j){return j.tagName==="SELECT"},vh=function(j){return j.tagName==="SLOT"},Vm=function(j){return j.tagName.indexOf("-")>0},Km=(function(){function j(){this.counters={}}return j.prototype.getCounterValue=function(v){var C=this.counters[v];return C&&C.length?C[C.length-1]:1},j.prototype.getCounterValues=function(v){var C=this.counters[v];return C||[]},j.prototype.pop=function(v){var C=this;v.forEach(function(B){return C.counters[B].pop()})},j.prototype.parse=function(v){var C=this,B=v.counterIncrement,G=v.counterReset,se=!0;B!==null&&B.forEach(function(Be){var Ce=C.counters[Be.counter];Ce&&Be.increment!==0&&(se=!1,Ce.length||Ce.push(1),Ce[Math.max(0,Ce.length-1)]+=Be.increment)});var fe=[];return se&&G.forEach(function(Be){var Ce=C.counters[Be.counter];fe.push(Be.counter),Ce||(Ce=C.counters[Be.counter]=[]),Ce.push(Be.reset)}),fe},j})(),zm={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Gm={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wv={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$m={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qr=function(j,v,C,B,G,se){return j<v||j>C?id(j,G,se.length>0):B.integers.reduce(function(fe,Be,Ce){for(;j>=Be;)j-=Be,fe+=B.values[Ce];return fe},"")+se},Fi=function(j,v,C,B){var G="";do C||j--,G=B(j)+G,j/=v;while(j*v>=v);return G},Da=function(j,v,C,B,G){var se=C-v+1;return(j<0?"-":"")+(Fi(Math.abs(j),se,B,function(fe){return x(Math.floor(fe%se)+v)})+G)},Tc=function(j,v,C){C===void 0&&(C=". ");var B=v.length;return Fi(Math.abs(j),B,!1,function(G){return v[Math.floor(G%B)]})+C},uu=1,WA=2,_l=4,ad=8,Fl=function(j,v,C,B,G,se){if(j<-9999||j>9999)return id(j,4,G.length>0);var fe=Math.abs(j),Be=G;if(fe===0)return v[0]+Be;for(var Ce=0;fe>0&&Ce<=4;Ce++){var Re=fe%10;Re===0&&He(se,uu)&&Be!==""?Be=v[Re]+Be:Re>1||Re===1&&Ce===0||Re===1&&Ce===1&&He(se,WA)||Re===1&&Ce===1&&He(se,_l)&&j>100||Re===1&&Ce>1&&He(se,ad)?Be=v[Re]+(Ce>0?C[Ce-1]:"")+Be:Re===1&&Ce>0&&(Be=C[Ce-1]+Be),fe=Math.floor(fe/10)}return(j<0?B:"")+Be},Ym="",e0="",yh="",bh="",id=function(j,v,C){var B=C?". ":"",G=C?"":"",se=C?", ":"",fe=C?" ":"";switch(v){case 0:return""+fe;case 1:return""+fe;case 2:return""+fe;case 5:var Be=Da(j,48,57,!0,B);return Be.length<4?"0"+Be:Be;case 4:return Tc(j,"",G);case 6:return qr(j,1,3999,zm,3,B).toLowerCase();case 7:return qr(j,1,3999,zm,3,B);case 8:return Da(j,945,969,!1,B);case 9:return Da(j,97,122,!1,B);case 10:return Da(j,65,90,!1,B);case 11:return Da(j,1632,1641,!0,B);case 12:case 49:return qr(j,1,9999,Gm,3,B);case 35:return qr(j,1,9999,Gm,3,B).toLowerCase();case 13:return Da(j,2534,2543,!0,B);case 14:case 30:return Da(j,6112,6121,!0,B);case 15:return Tc(j,"",G);case 16:return Tc(j,"",G);case 17:case 48:return Fl(j,"",Ym,"",G,WA|_l|ad);case 47:return Fl(j,"",e0,"",G,uu|WA|_l|ad);case 42:return Fl(j,"",Ym,"",G,WA|_l|ad);case 41:return Fl(j,"",e0,"",G,uu|WA|_l|ad);case 26:return Fl(j,"","",yh,G,0);case 25:return Fl(j,"","",yh,G,uu|WA|_l);case 31:return Fl(j,"","",bh,se,uu|WA|_l);case 33:return Fl(j,"","",bh,se,0);case 32:return Fl(j,"","",bh,se,uu|WA|_l);case 18:return Da(j,2406,2415,!0,B);case 20:return qr(j,1,19999,$m,3,B);case 21:return Da(j,2790,2799,!0,B);case 22:return Da(j,2662,2671,!0,B);case 22:return qr(j,1,10999,Wv,3,B);case 23:return Tc(j,"");case 24:return Tc(j,"");case 27:return Da(j,3302,3311,!0,B);case 28:return Tc(j,"",G);case 29:return Tc(j,"",G);case 34:return Da(j,3792,3801,!0,B);case 37:return Da(j,6160,6169,!0,B);case 38:return Da(j,4160,4169,!0,B);case 39:return Da(j,2918,2927,!0,B);case 40:return Da(j,1776,1785,!0,B);case 43:return Da(j,3046,3055,!0,B);case 44:return Da(j,3174,3183,!0,B);case 45:return Da(j,3664,3673,!0,B);case 46:return Da(j,3872,3881,!0,B);case 3:default:return Da(j,48,57,!0,B)}},Wm="data-html2canvas-ignore",Xm=(function(){function j(v,C,B){if(this.context=v,this.options=B,this.scrolledElements=[],this.referenceElement=C,this.counters=new Km,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return j.prototype.toIFrame=function(v,C){var B=this,G=Jm(v,C);if(!G.contentWindow)return Promise.reject("Unable to find iframe window");var se=v.defaultView.pageXOffset,fe=v.defaultView.pageYOffset,Be=G.contentWindow,Ce=Be.document,Re=Zm(G).then(function(){return o(B,void 0,void 0,function(){var Ve,We;return c(this,function(ft){switch(ft.label){case 0:return this.scrolledElements.forEach(n0),Be&&(Be.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Be.scrollY!==C.top||Be.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Be.scrollX-C.left,Be.scrollY-C.top,0,0))),Ve=this.options.onclone,We=this.clonedReferenceElement,typeof We>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ce.fonts&&Ce.fonts.ready?[4,Ce.fonts.ready]:[3,2];case 1:ft.sent(),ft.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,t0(Ce)]:[3,4];case 3:ft.sent(),ft.label=4;case 4:return typeof Ve=="function"?[2,Promise.resolve().then(function(){return Ve(Ce,We)}).then(function(){return G})]:[2,G]}})})});return Ce.open(),Ce.write(s0(document.doctype)+"<html></html>"),ep(this.referenceElement.ownerDocument,se,fe),Ce.replaceChild(Ce.adoptNode(this.documentElement),Ce.documentElement),Ce.close(),Re},j.prototype.createElementClone=function(v){if(Vs(v,2))debugger;if(wf(v))return this.createCanvasClone(v);if(jf(v))return this.createVideoClone(v);if(Ec(v))return this.createStyleClone(v);var C=v.cloneNode(!1);return Bf(C)&&(Bf(v)&&v.currentSrc&&v.currentSrc!==v.src&&(C.src=v.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),Vm(C)?this.createCustomElementClone(C):C},j.prototype.createCustomElementClone=function(v){var C=document.createElement("html2canvascustomelement");return wh(v.style,C),C},j.prototype.createStyleClone=function(v){try{var C=v.sheet;if(C&&C.cssRules){var B=[].slice.call(C.cssRules,0).reduce(function(se,fe){return fe&&typeof fe.cssText=="string"?se+fe.cssText:se},""),G=v.cloneNode(!1);return G.textContent=B,G}}catch(se){if(this.context.logger.error("Unable to access cssRules property",se),se.name!=="SecurityError")throw se}return v.cloneNode(!1)},j.prototype.createCanvasClone=function(v){var C;if(this.options.inlineImages&&v.ownerDocument){var B=v.ownerDocument.createElement("img");try{return B.src=v.toDataURL(),B}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",v)}}var G=v.cloneNode(!1);try{G.width=v.width,G.height=v.height;var se=v.getContext("2d"),fe=G.getContext("2d");if(fe)if(!this.options.allowTaint&&se)fe.putImageData(se.getImageData(0,0,v.width,v.height),0,0);else{var Be=(C=v.getContext("webgl2"))!==null&&C!==void 0?C:v.getContext("webgl");if(Be){var Ce=Be.getContextAttributes();(Ce==null?void 0:Ce.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",v)}fe.drawImage(v,0,0)}return G}catch{this.context.logger.info("Unable to clone canvas as it is tainted",v)}return G},j.prototype.createVideoClone=function(v){var C=v.ownerDocument.createElement("canvas");C.width=v.offsetWidth,C.height=v.offsetHeight;var B=C.getContext("2d");try{return B&&(B.drawImage(v,0,0,C.width,C.height),this.options.allowTaint||B.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",v)}var G=v.ownerDocument.createElement("canvas");return G.width=v.offsetWidth,G.height=v.offsetHeight,G},j.prototype.appendChildNode=function(v,C,B){(!BA(C)||!Zg(C)&&!C.hasAttribute(Wm)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!BA(C)||!Ec(C))&&v.appendChild(this.cloneNode(C,B))},j.prototype.cloneChildNodes=function(v,C,B){for(var G=this,se=v.shadowRoot?v.shadowRoot.firstChild:v.firstChild;se;se=se.nextSibling)if(BA(se)&&vh(se)&&typeof se.assignedNodes=="function"){var fe=se.assignedNodes();fe.length&&fe.forEach(function(Be){return G.appendChildNode(C,Be,B)})}else this.appendChildNode(C,se,B)},j.prototype.cloneNode=function(v,C){if(Mm(v))return document.createTextNode(v.data);if(!v.ownerDocument)return v.cloneNode(!1);var B=v.ownerDocument.defaultView;if(B&&BA(v)&&(mh(v)||cu(v))){var G=this.createElementClone(v);G.style.transitionProperty="none";var se=B.getComputedStyle(v),fe=B.getComputedStyle(v,":before"),Be=B.getComputedStyle(v,":after");this.referenceElement===v&&mh(G)&&(this.clonedReferenceElement=G),bf(G)&&np(G);var Ce=this.counters.parse(new An(this.context,se)),Re=this.resolvePseudoContent(v,G,fe,du.BEFORE);Vm(v)&&(C=!0),jf(v)||this.cloneChildNodes(v,G,C),Re&&G.insertBefore(Re,G.firstChild);var Ve=this.resolvePseudoContent(v,G,Be,du.AFTER);return Ve&&G.appendChild(Ve),this.counters.pop(Ce),(se&&(this.options.copyStyles||cu(v))&&!Hm(v)||C)&&wh(se,G),(v.scrollTop!==0||v.scrollLeft!==0)&&this.scrolledElements.push([G,v.scrollLeft,v.scrollTop]),(gh(v)||xh(v))&&(gh(G)||xh(G))&&(G.value=v.value),G}return v.cloneNode(!1)},j.prototype.resolvePseudoContent=function(v,C,B,G){var se=this;if(B){var fe=B.content,Be=C.ownerDocument;if(!(!Be||!fe||fe==="none"||fe==="-moz-alt-content"||B.display==="none")){this.counters.parse(new An(this.context,B));var Ce=new Lr(this.context,B),Re=Be.createElement("html2canvaspseudoelement");wh(B,Re),Ce.content.forEach(function(We){if(We.type===0)Re.appendChild(Be.createTextNode(We.value));else if(We.type===22){var ft=Be.createElement("img");ft.src=We.value,ft.style.opacity="1",Re.appendChild(ft)}else if(We.type===18){if(We.name==="attr"){var ds=We.values.filter(rn);ds.length&&Re.appendChild(Be.createTextNode(v.getAttribute(ds[0].value)||""))}else if(We.name==="counter"){var zt=We.values.filter(Na),ts=zt[0],_s=zt[1];if(ts&&rn(ts)){var ys=se.counters.getCounterValue(ts.value),gs=_s&&rn(_s)?au.parse(se.context,_s.value):3;Re.appendChild(Be.createTextNode(id(ys,gs,!1)))}}else if(We.name==="counters"){var Sn=We.values.filter(Na),ts=Sn[0],vn=Sn[1],_s=Sn[2];if(ts&&rn(ts)){var Xs=se.counters.getCounterValues(ts.value),fs=_s&&rn(_s)?au.parse(se.context,_s.value):3,Fn=vn&&vn.type===0?vn.value:"",kn=Xs.map(function(Pr){return id(Pr,fs,!1)}).join(Fn);Re.appendChild(Be.createTextNode(kn))}}}else if(We.type===20)switch(We.value){case"open-quote":Re.appendChild(Be.createTextNode(Bt(Ce.quotes,se.quoteDepth++,!0)));break;case"close-quote":Re.appendChild(Be.createTextNode(Bt(Ce.quotes,--se.quoteDepth,!1)));break;default:Re.appendChild(Be.createTextNode(We.value))}}),Re.className=sp+" "+Sf;var Ve=G===du.BEFORE?" "+sp:" "+Sf;return cu(C)?C.className.baseValue+=Ve:C.className+=Ve,Re}}},j.destroy=function(v){return v.parentNode?(v.parentNode.removeChild(v),!0):!1},j})(),du;(function(j){j[j.BEFORE=0]="BEFORE",j[j.AFTER=1]="AFTER"})(du||(du={}));var Jm=function(j,v){var C=j.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=v.width.toString(),C.height=v.height.toString(),C.scrolling="no",C.setAttribute(Wm,"true"),j.body.appendChild(C),C},qm=function(j){return new Promise(function(v){if(j.complete){v();return}if(!j.src){v();return}j.onload=v,j.onerror=v})},t0=function(j){return Promise.all([].slice.call(j.images,0).map(qm))},Zm=function(j){return new Promise(function(v,C){var B=j.contentWindow;if(!B)return C("No window assigned for iframe");var G=B.document;B.onload=j.onload=function(){B.onload=j.onload=null;var se=setInterval(function(){G.body.childNodes.length>0&&G.readyState==="complete"&&(clearInterval(se),v(j))},50)}})},Cf=["all","d","content"],wh=function(j,v){for(var C=j.length-1;C>=0;C--){var B=j.item(C);Cf.indexOf(B)===-1&&v.style.setProperty(B,j.getPropertyValue(B))}return v},s0=function(j){var v="";return j&&(v+="<!DOCTYPE ",j.name&&(v+=j.name),j.internalSubset&&(v+=j.internalSubset),j.publicId&&(v+='"'+j.publicId+'"'),j.systemId&&(v+='"'+j.systemId+'"'),v+=">"),v},ep=function(j,v,C){j&&j.defaultView&&(v!==j.defaultView.pageXOffset||C!==j.defaultView.pageYOffset)&&j.defaultView.scrollTo(v,C)},n0=function(j){var v=j[0],C=j[1],B=j[2];v.scrollLeft=C,v.scrollTop=B},XA=":before",tp=":after",sp="___html2canvas___pseudoelement_before",Sf="___html2canvas___pseudoelement_after",CA=`{
    content: "" !important;
    display: none !important;
}`,np=function(j){r0(j,"."+sp+XA+CA+`
         .`+Sf+tp+CA)},r0=function(j,v){var C=j.ownerDocument;if(C){var B=C.createElement("style");B.textContent=v,j.appendChild(B)}},jh=(function(){function j(){}return j.getOrigin=function(v){var C=j._link;return C?(C.href=v,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},j.isSameOrigin=function(v){return j.getOrigin(v)===j._origin},j.setContext=function(v){j._link=v.document.createElement("a"),j._origin=j.getOrigin(v.location.href)},j._origin="about:blank",j})(),Bh=(function(){function j(v,C){this.context=v,this._options=C,this._cache={}}return j.prototype.addImage=function(v){var C=Promise.resolve();return this.has(v)||(Nf(v)||a0(v))&&(this._cache[v]=this.loadImage(v)).catch(function(){}),C},j.prototype.match=function(v){return this._cache[v]},j.prototype.loadImage=function(v){return o(this,void 0,void 0,function(){var C,B,G,se,fe=this;return c(this,function(Be){switch(Be.label){case 0:return C=jh.isSameOrigin(v),B=!hu(v)&&this._options.useCORS===!0&&Ga.SUPPORT_CORS_IMAGES&&!C,G=!hu(v)&&!C&&!Nf(v)&&typeof this._options.proxy=="string"&&Ga.SUPPORT_CORS_XHR&&!B,!C&&this._options.allowTaint===!1&&!hu(v)&&!Nf(v)&&!G&&!B?[2]:(se=v,G?[4,this.proxy(se)]:[3,2]);case 1:se=Be.sent(),Be.label=2;case 2:return this.context.logger.debug("Added image "+v.substring(0,256)),[4,new Promise(function(Ce,Re){var Ve=new Image;Ve.onload=function(){return Ce(Ve)},Ve.onerror=Re,(Ic(se)||B)&&(Ve.crossOrigin="anonymous"),Ve.src=se,Ve.complete===!0&&setTimeout(function(){return Ce(Ve)},500),fe._options.imageTimeout>0&&setTimeout(function(){return Re("Timed out ("+fe._options.imageTimeout+"ms) loading image")},fe._options.imageTimeout)})];case 3:return[2,Be.sent()]}})})},j.prototype.has=function(v){return typeof this._cache[v]<"u"},j.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},j.prototype.proxy=function(v){var C=this,B=this._options.proxy;if(!B)throw new Error("No proxy defined");var G=v.substring(0,256);return new Promise(function(se,fe){var Be=Ga.SUPPORT_RESPONSE_TYPE?"blob":"text",Ce=new XMLHttpRequest;Ce.onload=function(){if(Ce.status===200)if(Be==="text")se(Ce.response);else{var We=new FileReader;We.addEventListener("load",function(){return se(We.result)},!1),We.addEventListener("error",function(ft){return fe(ft)},!1),We.readAsDataURL(Ce.response)}else fe("Failed to proxy resource "+G+" with status code "+Ce.status)},Ce.onerror=fe;var Re=B.indexOf("?")>-1?"&":"?";if(Ce.open("GET",""+B+Re+"url="+encodeURIComponent(v)+"&responseType="+Be),Be!=="text"&&Ce instanceof XMLHttpRequest&&(Ce.responseType=Be),C._options.imageTimeout){var Ve=C._options.imageTimeout;Ce.timeout=Ve,Ce.ontimeout=function(){return fe("Timed out ("+Ve+"ms) proxying "+G)}}Ce.send()})},j})(),Zr=/^data:image\/svg\+xml/i,Xv=/^data:image\/.*;base64,/i,Jv=/^data:image\/.*/i,a0=function(j){return Ga.SUPPORT_SVG_DRAWING||!i0(j)},hu=function(j){return Jv.test(j)},Ic=function(j){return Xv.test(j)},Nf=function(j){return j.substr(0,4)==="blob"},i0=function(j){return j.substr(-3).toLowerCase()==="svg"||Zr.test(j)},as=(function(){function j(v,C){this.type=0,this.x=v,this.y=C}return j.prototype.add=function(v,C){return new j(this.x+v,this.y+C)},j})(),bo=function(j,v,C){return new as(j.x+(v.x-j.x)*C,j.y+(v.y-j.y)*C)},Ch=(function(){function j(v,C,B,G){this.type=1,this.start=v,this.startControl=C,this.endControl=B,this.end=G}return j.prototype.subdivide=function(v,C){var B=bo(this.start,this.startControl,v),G=bo(this.startControl,this.endControl,v),se=bo(this.endControl,this.end,v),fe=bo(B,G,v),Be=bo(G,se,v),Ce=bo(fe,Be,v);return C?new j(this.start,B,fe,Ce):new j(Ce,Be,se,this.end)},j.prototype.add=function(v,C){return new j(this.start.add(v,C),this.startControl.add(v,C),this.endControl.add(v,C),this.end.add(v,C))},j.prototype.reverse=function(){return new j(this.end,this.endControl,this.startControl,this.start)},j})(),Go=function(j){return j.type===1},o0=(function(){function j(v){var C=v.styles,B=v.bounds,G=Qo(C.borderTopLeftRadius,B.width,B.height),se=G[0],fe=G[1],Be=Qo(C.borderTopRightRadius,B.width,B.height),Ce=Be[0],Re=Be[1],Ve=Qo(C.borderBottomRightRadius,B.width,B.height),We=Ve[0],ft=Ve[1],ds=Qo(C.borderBottomLeftRadius,B.width,B.height),zt=ds[0],ts=ds[1],_s=[];_s.push((se+Ce)/B.width),_s.push((zt+We)/B.width),_s.push((fe+ts)/B.height),_s.push((Re+ft)/B.height);var ys=Math.max.apply(Math,_s);ys>1&&(se/=ys,fe/=ys,Ce/=ys,Re/=ys,We/=ys,ft/=ys,zt/=ys,ts/=ys);var gs=B.width-Ce,Sn=B.height-ft,vn=B.width-We,Xs=B.height-ts,fs=C.borderTopWidth,Fn=C.borderRightWidth,kn=C.borderBottomWidth,Ds=C.borderLeftWidth,$a=Cn(C.paddingTop,v.bounds.width),Pr=Cn(C.paddingRight,v.bounds.width),Wo=Cn(C.paddingBottom,v.bounds.width),br=Cn(C.paddingLeft,v.bounds.width);this.topLeftBorderDoubleOuterBox=se>0||fe>0?zr(B.left+Ds/3,B.top+fs/3,se-Ds/3,fe-fs/3,nr.TOP_LEFT):new as(B.left+Ds/3,B.top+fs/3),this.topRightBorderDoubleOuterBox=se>0||fe>0?zr(B.left+gs,B.top+fs/3,Ce-Fn/3,Re-fs/3,nr.TOP_RIGHT):new as(B.left+B.width-Fn/3,B.top+fs/3),this.bottomRightBorderDoubleOuterBox=We>0||ft>0?zr(B.left+vn,B.top+Sn,We-Fn/3,ft-kn/3,nr.BOTTOM_RIGHT):new as(B.left+B.width-Fn/3,B.top+B.height-kn/3),this.bottomLeftBorderDoubleOuterBox=zt>0||ts>0?zr(B.left+Ds/3,B.top+Xs,zt-Ds/3,ts-kn/3,nr.BOTTOM_LEFT):new as(B.left+Ds/3,B.top+B.height-kn/3),this.topLeftBorderDoubleInnerBox=se>0||fe>0?zr(B.left+Ds*2/3,B.top+fs*2/3,se-Ds*2/3,fe-fs*2/3,nr.TOP_LEFT):new as(B.left+Ds*2/3,B.top+fs*2/3),this.topRightBorderDoubleInnerBox=se>0||fe>0?zr(B.left+gs,B.top+fs*2/3,Ce-Fn*2/3,Re-fs*2/3,nr.TOP_RIGHT):new as(B.left+B.width-Fn*2/3,B.top+fs*2/3),this.bottomRightBorderDoubleInnerBox=We>0||ft>0?zr(B.left+vn,B.top+Sn,We-Fn*2/3,ft-kn*2/3,nr.BOTTOM_RIGHT):new as(B.left+B.width-Fn*2/3,B.top+B.height-kn*2/3),this.bottomLeftBorderDoubleInnerBox=zt>0||ts>0?zr(B.left+Ds*2/3,B.top+Xs,zt-Ds*2/3,ts-kn*2/3,nr.BOTTOM_LEFT):new as(B.left+Ds*2/3,B.top+B.height-kn*2/3),this.topLeftBorderStroke=se>0||fe>0?zr(B.left+Ds/2,B.top+fs/2,se-Ds/2,fe-fs/2,nr.TOP_LEFT):new as(B.left+Ds/2,B.top+fs/2),this.topRightBorderStroke=se>0||fe>0?zr(B.left+gs,B.top+fs/2,Ce-Fn/2,Re-fs/2,nr.TOP_RIGHT):new as(B.left+B.width-Fn/2,B.top+fs/2),this.bottomRightBorderStroke=We>0||ft>0?zr(B.left+vn,B.top+Sn,We-Fn/2,ft-kn/2,nr.BOTTOM_RIGHT):new as(B.left+B.width-Fn/2,B.top+B.height-kn/2),this.bottomLeftBorderStroke=zt>0||ts>0?zr(B.left+Ds/2,B.top+Xs,zt-Ds/2,ts-kn/2,nr.BOTTOM_LEFT):new as(B.left+Ds/2,B.top+B.height-kn/2),this.topLeftBorderBox=se>0||fe>0?zr(B.left,B.top,se,fe,nr.TOP_LEFT):new as(B.left,B.top),this.topRightBorderBox=Ce>0||Re>0?zr(B.left+gs,B.top,Ce,Re,nr.TOP_RIGHT):new as(B.left+B.width,B.top),this.bottomRightBorderBox=We>0||ft>0?zr(B.left+vn,B.top+Sn,We,ft,nr.BOTTOM_RIGHT):new as(B.left+B.width,B.top+B.height),this.bottomLeftBorderBox=zt>0||ts>0?zr(B.left,B.top+Xs,zt,ts,nr.BOTTOM_LEFT):new as(B.left,B.top+B.height),this.topLeftPaddingBox=se>0||fe>0?zr(B.left+Ds,B.top+fs,Math.max(0,se-Ds),Math.max(0,fe-fs),nr.TOP_LEFT):new as(B.left+Ds,B.top+fs),this.topRightPaddingBox=Ce>0||Re>0?zr(B.left+Math.min(gs,B.width-Fn),B.top+fs,gs>B.width+Fn?0:Math.max(0,Ce-Fn),Math.max(0,Re-fs),nr.TOP_RIGHT):new as(B.left+B.width-Fn,B.top+fs),this.bottomRightPaddingBox=We>0||ft>0?zr(B.left+Math.min(vn,B.width-Ds),B.top+Math.min(Sn,B.height-kn),Math.max(0,We-Fn),Math.max(0,ft-kn),nr.BOTTOM_RIGHT):new as(B.left+B.width-Fn,B.top+B.height-kn),this.bottomLeftPaddingBox=zt>0||ts>0?zr(B.left+Ds,B.top+Math.min(Xs,B.height-kn),Math.max(0,zt-Ds),Math.max(0,ts-kn),nr.BOTTOM_LEFT):new as(B.left+Ds,B.top+B.height-kn),this.topLeftContentBox=se>0||fe>0?zr(B.left+Ds+br,B.top+fs+$a,Math.max(0,se-(Ds+br)),Math.max(0,fe-(fs+$a)),nr.TOP_LEFT):new as(B.left+Ds+br,B.top+fs+$a),this.topRightContentBox=Ce>0||Re>0?zr(B.left+Math.min(gs,B.width+Ds+br),B.top+fs+$a,gs>B.width+Ds+br?0:Ce-Ds+br,Re-(fs+$a),nr.TOP_RIGHT):new as(B.left+B.width-(Fn+Pr),B.top+fs+$a),this.bottomRightContentBox=We>0||ft>0?zr(B.left+Math.min(vn,B.width-(Ds+br)),B.top+Math.min(Sn,B.height+fs+$a),Math.max(0,We-(Fn+Pr)),ft-(kn+Wo),nr.BOTTOM_RIGHT):new as(B.left+B.width-(Fn+Pr),B.top+B.height-(kn+Wo)),this.bottomLeftContentBox=zt>0||ts>0?zr(B.left+Ds+br,B.top+Xs,Math.max(0,zt-(Ds+br)),ts-(kn+Wo),nr.BOTTOM_LEFT):new as(B.left+Ds+br,B.top+B.height-(kn+Wo))}return j})(),nr;(function(j){j[j.TOP_LEFT=0]="TOP_LEFT",j[j.TOP_RIGHT=1]="TOP_RIGHT",j[j.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",j[j.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(nr||(nr={}));var zr=function(j,v,C,B,G){var se=4*((Math.sqrt(2)-1)/3),fe=C*se,Be=B*se,Ce=j+C,Re=v+B;switch(G){case nr.TOP_LEFT:return new Ch(new as(j,Re),new as(j,Re-Be),new as(Ce-fe,v),new as(Ce,v));case nr.TOP_RIGHT:return new Ch(new as(j,v),new as(j+fe,v),new as(Ce,Re-Be),new as(Ce,Re));case nr.BOTTOM_RIGHT:return new Ch(new as(Ce,v),new as(Ce,v+Be),new as(j+fe,Re),new as(j,Re));case nr.BOTTOM_LEFT:default:return new Ch(new as(Ce,Re),new as(Ce-fe,Re),new as(j,v+Be),new as(j,v))}},fu=function(j){return[j.topLeftBorderBox,j.topRightBorderBox,j.bottomRightBorderBox,j.bottomLeftBorderBox]},l0=function(j){return[j.topLeftContentBox,j.topRightContentBox,j.bottomRightContentBox,j.bottomLeftContentBox]},Ul=function(j){return[j.topLeftPaddingBox,j.topRightPaddingBox,j.bottomRightPaddingBox,j.bottomLeftPaddingBox]},si=(function(){function j(v,C,B){this.offsetX=v,this.offsetY=C,this.matrix=B,this.type=0,this.target=6}return j})(),od=(function(){function j(v,C){this.path=v,this.target=C,this.type=1}return j})(),A0=(function(){function j(v){this.opacity=v,this.type=2,this.target=6}return j})(),Ui=function(j){return j.type===0},c0=function(j){return j.type===1},u0=function(j){return j.type===2},rp=function(j,v){return j.length===v.length?j.some(function(C,B){return C===v[B]}):!1},la=function(j,v,C,B,G){return j.map(function(se,fe){switch(fe){case 0:return se.add(v,C);case 1:return se.add(v+B,C);case 2:return se.add(v+B,C+G);case 3:return se.add(v,C+G)}return se})},wo=(function(){function j(v){this.element=v,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return j})(),SA=(function(){function j(v,C){if(this.container=v,this.parent=C,this.effects=[],this.curves=new o0(this.container),this.container.styles.opacity<1&&this.effects.push(new A0(this.container.styles.opacity)),this.container.styles.transform!==null){var B=this.container.bounds.left+this.container.styles.transformOrigin[0].number,G=this.container.bounds.top+this.container.styles.transformOrigin[1].number,se=this.container.styles.transform;this.effects.push(new si(B,G,se))}if(this.container.styles.overflowX!==0){var fe=fu(this.curves),Be=Ul(this.curves);rp(fe,Be)?this.effects.push(new od(fe,6)):(this.effects.push(new od(fe,2)),this.effects.push(new od(Be,4)))}}return j.prototype.getEffects=function(v){for(var C=[2,3].indexOf(this.container.styles.position)===-1,B=this.parent,G=this.effects.slice(0);B;){var se=B.effects.filter(function(Ce){return!c0(Ce)});if(C||B.container.styles.position!==0||!B.parent){if(G.unshift.apply(G,se),C=[2,3].indexOf(B.container.styles.position)===-1,B.container.styles.overflowX!==0){var fe=fu(B.curves),Be=Ul(B.curves);rp(fe,Be)||G.unshift(new od(Be,6))}}else G.unshift.apply(G,se);B=B.parent}return G.filter(function(Ce){return He(Ce.target,v)})},j})(),Ef=function(j,v,C,B){j.container.elements.forEach(function(G){var se=He(G.flags,4),fe=He(G.flags,2),Be=new SA(G,j);He(G.styles.display,2048)&&B.push(Be);var Ce=He(G.flags,8)?[]:B;if(se||fe){var Re=se||G.styles.isPositioned()?C:v,Ve=new wo(Be);if(G.styles.isPositioned()||G.styles.opacity<1||G.styles.isTransformed()){var We=G.styles.zIndex.order;if(We<0){var ft=0;Re.negativeZIndex.some(function(zt,ts){return We>zt.element.container.styles.zIndex.order?(ft=ts,!1):ft>0}),Re.negativeZIndex.splice(ft,0,Ve)}else if(We>0){var ds=0;Re.positiveZIndex.some(function(zt,ts){return We>=zt.element.container.styles.zIndex.order?(ds=ts+1,!1):ds>0}),Re.positiveZIndex.splice(ds,0,Ve)}else Re.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ve)}else G.styles.isFloating()?Re.nonPositionedFloats.push(Ve):Re.nonPositionedInlineLevel.push(Ve);Ef(Be,Ve,se?Ve:C,Ce)}else G.styles.isInlineLevel()?v.inlineLevel.push(Be):v.nonInlineLevel.push(Be),Ef(Be,v,C,Ce);He(G.flags,8)&&ap(G,Ce)})},ap=function(j,v){for(var C=j instanceof gf?j.start:1,B=j instanceof gf?j.reversed:!1,G=0;G<v.length;G++){var se=v[G];se.container instanceof Dm&&typeof se.container.value=="number"&&se.container.value!==0&&(C=se.container.value),se.listValue=id(C,se.container.styles.listStyleType,!0),C+=B?-1:1}},d0=function(j){var v=new SA(j,null),C=new wo(v),B=[];return Ef(v,C,C,B),ap(v.container,B),C},h0=function(j,v){switch(v){case 0:return ea(j.topLeftBorderBox,j.topLeftPaddingBox,j.topRightBorderBox,j.topRightPaddingBox);case 1:return ea(j.topRightBorderBox,j.topRightPaddingBox,j.bottomRightBorderBox,j.bottomRightPaddingBox);case 2:return ea(j.bottomRightBorderBox,j.bottomRightPaddingBox,j.bottomLeftBorderBox,j.bottomLeftPaddingBox);case 3:default:return ea(j.bottomLeftBorderBox,j.bottomLeftPaddingBox,j.topLeftBorderBox,j.topLeftPaddingBox)}},Tf=function(j,v){switch(v){case 0:return ea(j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox,j.topRightBorderBox,j.topRightBorderDoubleOuterBox);case 1:return ea(j.topRightBorderBox,j.topRightBorderDoubleOuterBox,j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox);case 2:return ea(j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox,j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox);case 3:default:return ea(j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox,j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox)}},$o=function(j,v){switch(v){case 0:return ea(j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox,j.topRightBorderDoubleInnerBox,j.topRightPaddingBox);case 1:return ea(j.topRightBorderDoubleInnerBox,j.topRightPaddingBox,j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox);case 2:return ea(j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox,j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox);case 3:default:return ea(j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox,j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox)}},eA=function(j,v){switch(v){case 0:return Sh(j.topLeftBorderStroke,j.topRightBorderStroke);case 1:return Sh(j.topRightBorderStroke,j.bottomRightBorderStroke);case 2:return Sh(j.bottomRightBorderStroke,j.bottomLeftBorderStroke);case 3:default:return Sh(j.bottomLeftBorderStroke,j.topLeftBorderStroke)}},Sh=function(j,v){var C=[];return Go(j)?C.push(j.subdivide(.5,!1)):C.push(j),Go(v)?C.push(v.subdivide(.5,!0)):C.push(v),C},ea=function(j,v,C,B){var G=[];return Go(j)?G.push(j.subdivide(.5,!1)):G.push(j),Go(C)?G.push(C.subdivide(.5,!0)):G.push(C),Go(B)?G.push(B.subdivide(.5,!0).reverse()):G.push(B),Go(v)?G.push(v.subdivide(.5,!1).reverse()):G.push(v),G},ip=function(j){var v=j.bounds,C=j.styles;return v.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},Dl=function(j){var v=j.styles,C=j.bounds,B=Cn(v.paddingLeft,C.width),G=Cn(v.paddingRight,C.width),se=Cn(v.paddingTop,C.width),fe=Cn(v.paddingBottom,C.width);return C.add(B+v.borderLeftWidth,se+v.borderTopWidth,-(v.borderRightWidth+v.borderLeftWidth+B+G),-(v.borderTopWidth+v.borderBottomWidth+se+fe))},mu=function(j,v){return j===0?v.bounds:j===2?Dl(v):ip(v)},JA=function(j,v){return j===0?v.bounds:j===2?Dl(v):ip(v)},Nh=function(j,v,C){var B=mu(tA(j.styles.backgroundOrigin,v),j),G=JA(tA(j.styles.backgroundClip,v),j),se=f0(tA(j.styles.backgroundSize,v),C,B),fe=se[0],Be=se[1],Ce=Qo(tA(j.styles.backgroundPosition,v),B.width-fe,B.height-Be),Re=Eh(tA(j.styles.backgroundRepeat,v),Ce,se,B,G),Ve=Math.round(B.left+Ce[0]),We=Math.round(B.top+Ce[1]);return[Re,Ve,We,fe,Be]},_c=function(j){return rn(j)&&j.value===$l.AUTO},Yo=function(j){return typeof j=="number"},f0=function(j,v,C){var B=v[0],G=v[1],se=v[2],fe=j[0],Be=j[1];if(!fe)return[0,0];if(Gn(fe)&&Be&&Gn(Be))return[Cn(fe,C.width),Cn(Be,C.height)];var Ce=Yo(se);if(rn(fe)&&(fe.value===$l.CONTAIN||fe.value===$l.COVER)){if(Yo(se)){var Re=C.width/C.height;return Re<se!=(fe.value===$l.COVER)?[C.width,C.width/se]:[C.height*se,C.height]}return[C.width,C.height]}var Ve=Yo(B),We=Yo(G),ft=Ve||We;if(_c(fe)&&(!Be||_c(Be))){if(Ve&&We)return[B,G];if(!Ce&&!ft)return[C.width,C.height];if(ft&&Ce){var ds=Ve?B:G*se,zt=We?G:B/se;return[ds,zt]}var ts=Ve?B:C.width,_s=We?G:C.height;return[ts,_s]}if(Ce){var ys=0,gs=0;return Gn(fe)?ys=Cn(fe,C.width):Gn(Be)&&(gs=Cn(Be,C.height)),_c(fe)?ys=gs*se:(!Be||_c(Be))&&(gs=ys/se),[ys,gs]}var Sn=null,vn=null;if(Gn(fe)?Sn=Cn(fe,C.width):Be&&Gn(Be)&&(vn=Cn(Be,C.height)),Sn!==null&&(!Be||_c(Be))&&(vn=Ve&&We?Sn/B*G:C.height),vn!==null&&_c(fe)&&(Sn=Ve&&We?vn/G*B:C.width),Sn!==null&&vn!==null)return[Sn,vn];throw new Error("Unable to calculate background-size for element")},tA=function(j,v){var C=j[v];return typeof C>"u"?j[0]:C},Eh=function(j,v,C,B,G){var se=v[0],fe=v[1],Be=C[0],Ce=C[1];switch(j){case 2:return[new as(Math.round(B.left),Math.round(B.top+fe)),new as(Math.round(B.left+B.width),Math.round(B.top+fe)),new as(Math.round(B.left+B.width),Math.round(Ce+B.top+fe)),new as(Math.round(B.left),Math.round(Ce+B.top+fe))];case 3:return[new as(Math.round(B.left+se),Math.round(B.top)),new as(Math.round(B.left+se+Be),Math.round(B.top)),new as(Math.round(B.left+se+Be),Math.round(B.height+B.top)),new as(Math.round(B.left+se),Math.round(B.height+B.top))];case 1:return[new as(Math.round(B.left+se),Math.round(B.top+fe)),new as(Math.round(B.left+se+Be),Math.round(B.top+fe)),new as(Math.round(B.left+se+Be),Math.round(B.top+fe+Ce)),new as(Math.round(B.left+se),Math.round(B.top+fe+Ce))];default:return[new as(Math.round(G.left),Math.round(G.top)),new as(Math.round(G.left+G.width),Math.round(G.top)),new as(Math.round(G.left+G.width),Math.round(G.height+G.top)),new as(Math.round(G.left),Math.round(G.height+G.top))]}},Th="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",pu="Hidden Text",m0=(function(){function j(v){this._data={},this._document=v}return j.prototype.parseMetrics=function(v,C){var B=this._document.createElement("div"),G=this._document.createElement("img"),se=this._document.createElement("span"),fe=this._document.body;B.style.visibility="hidden",B.style.fontFamily=v,B.style.fontSize=C,B.style.margin="0",B.style.padding="0",B.style.whiteSpace="nowrap",fe.appendChild(B),G.src=Th,G.width=1,G.height=1,G.style.margin="0",G.style.padding="0",G.style.verticalAlign="baseline",se.style.fontFamily=v,se.style.fontSize=C,se.style.margin="0",se.style.padding="0",se.appendChild(this._document.createTextNode(pu)),B.appendChild(se),B.appendChild(G);var Be=G.offsetTop-se.offsetTop+2;B.removeChild(se),B.appendChild(this._document.createTextNode(pu)),B.style.lineHeight="normal",G.style.verticalAlign="super";var Ce=G.offsetTop-B.offsetTop+2;return fe.removeChild(B),{baseline:Be,middle:Ce}},j.prototype.getMetrics=function(v,C){var B=v+" "+C;return typeof this._data[B]>"u"&&(this._data[B]=this.parseMetrics(v,C)),this._data[B]},j})(),op=(function(){function j(v,C){this.context=v,this.options=C}return j})(),Ih=1e4,p0=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;return G._activeEffects=[],G.canvas=B.canvas?B.canvas:document.createElement("canvas"),G.ctx=G.canvas.getContext("2d"),B.canvas||(G.canvas.width=Math.floor(B.width*B.scale),G.canvas.height=Math.floor(B.height*B.scale),G.canvas.style.width=B.width+"px",G.canvas.style.height=B.height+"px"),G.fontMetrics=new m0(document),G.ctx.scale(G.options.scale,G.options.scale),G.ctx.translate(-B.x,-B.y),G.ctx.textBaseline="bottom",G._activeEffects=[],G.context.logger.debug("Canvas renderer initialized ("+B.width+"x"+B.height+") with scale "+B.scale),G}return v.prototype.applyEffects=function(C){for(var B=this;this._activeEffects.length;)this.popEffect();C.forEach(function(G){return B.applyEffect(G)})},v.prototype.applyEffect=function(C){this.ctx.save(),u0(C)&&(this.ctx.globalAlpha=C.opacity),Ui(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),c0(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},v.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},v.prototype.renderStack=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function(G){switch(G.label){case 0:return B=C.element.container.styles,B.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:G.sent(),G.label=2;case 2:return[2]}})})},v.prototype.renderNode=function(C){return o(this,void 0,void 0,function(){return c(this,function(B){switch(B.label){case 0:if(He(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return B.sent(),[4,this.renderNodeContent(C)];case 2:B.sent(),B.label=3;case 3:return[2]}})})},v.prototype.renderTextWithLetterSpacing=function(C,B,G){var se=this;if(B===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+G);else{var fe=zo(C.text);fe.reduce(function(Be,Ce){return se.ctx.fillText(Ce,Be,C.bounds.top+G),Be+se.ctx.measureText(Ce).width},C.bounds.left)}},v.prototype.createFontStyle=function(C){var B=C.fontVariant.filter(function(fe){return fe==="normal"||fe==="small-caps"}).join(""),G=dr(C.fontFamily).join(", "),se=ma(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,B,C.fontWeight,se,G].join(" "),G,se]},v.prototype.renderTextNode=function(C,B){return o(this,void 0,void 0,function(){var G,se,fe,Be,Ce,Re,Ve,We,ft=this;return c(this,function(ds){return G=this.createFontStyle(B),se=G[0],fe=G[1],Be=G[2],this.ctx.font=se,this.ctx.direction=B.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ce=this.fontMetrics.getMetrics(fe,Be),Re=Ce.baseline,Ve=Ce.middle,We=B.paintOrder,C.textBounds.forEach(function(zt){We.forEach(function(ts){switch(ts){case 0:ft.ctx.fillStyle=Ln(B.color),ft.renderTextWithLetterSpacing(zt,B.letterSpacing,Re);var _s=B.textShadow;_s.length&&zt.text.trim().length&&(_s.slice(0).reverse().forEach(function(ys){ft.ctx.shadowColor=Ln(ys.color),ft.ctx.shadowOffsetX=ys.offsetX.number*ft.options.scale,ft.ctx.shadowOffsetY=ys.offsetY.number*ft.options.scale,ft.ctx.shadowBlur=ys.blur.number,ft.renderTextWithLetterSpacing(zt,B.letterSpacing,Re)}),ft.ctx.shadowColor="",ft.ctx.shadowOffsetX=0,ft.ctx.shadowOffsetY=0,ft.ctx.shadowBlur=0),B.textDecorationLine.length&&(ft.ctx.fillStyle=Ln(B.textDecorationColor||B.color),B.textDecorationLine.forEach(function(ys){switch(ys){case 1:ft.ctx.fillRect(zt.bounds.left,Math.round(zt.bounds.top+Re),zt.bounds.width,1);break;case 2:ft.ctx.fillRect(zt.bounds.left,Math.round(zt.bounds.top),zt.bounds.width,1);break;case 3:ft.ctx.fillRect(zt.bounds.left,Math.ceil(zt.bounds.top+Ve),zt.bounds.width,1);break}}));break;case 1:B.webkitTextStrokeWidth&&zt.text.trim().length&&(ft.ctx.strokeStyle=Ln(B.webkitTextStrokeColor),ft.ctx.lineWidth=B.webkitTextStrokeWidth,ft.ctx.lineJoin=window.chrome?"miter":"round",ft.ctx.strokeText(zt.text,zt.bounds.left,zt.bounds.top+Re)),ft.ctx.strokeStyle="",ft.ctx.lineWidth=0,ft.ctx.lineJoin="miter";break}})}),[2]})})},v.prototype.renderReplacedElement=function(C,B,G){if(G&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var se=Dl(C),fe=Ul(B);this.path(fe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(G,0,0,C.intrinsicWidth,C.intrinsicHeight,se.left,se.top,se.width,se.height),this.ctx.restore()}},v.prototype.renderNodeContent=function(C){return o(this,void 0,void 0,function(){var B,G,se,fe,Be,Ce,gs,gs,Re,Ve,We,ft,vn,ds,zt,Xs,ts,_s,ys,gs,Sn,vn,Xs;return c(this,function(fs){switch(fs.label){case 0:this.applyEffects(C.getEffects(4)),B=C.container,G=C.curves,se=B.styles,fe=0,Be=B.textNodes,fs.label=1;case 1:return fe<Be.length?(Ce=Be[fe],[4,this.renderTextNode(Ce,se)]):[3,4];case 2:fs.sent(),fs.label=3;case 3:return fe++,[3,1];case 4:if(!(B instanceof Um))return[3,8];fs.label=5;case 5:return fs.trys.push([5,7,,8]),[4,this.context.cache.match(B.src)];case 6:return gs=fs.sent(),this.renderReplacedElement(B,G,gs),[3,8];case 7:return fs.sent(),this.context.logger.error("Error loading image "+B.src),[3,8];case 8:if(B instanceof pf&&this.renderReplacedElement(B,G,B.canvas),!(B instanceof Kg))return[3,12];fs.label=9;case 9:return fs.trys.push([9,11,,12]),[4,this.context.cache.match(B.svg)];case 10:return gs=fs.sent(),this.renderReplacedElement(B,G,gs),[3,12];case 11:return fs.sent(),this.context.logger.error("Error loading svg "+B.svg.substring(0,255)),[3,12];case 12:return B instanceof Om&&B.tree?(Re=new v(this.context,{scale:this.options.scale,backgroundColor:B.backgroundColor,x:0,y:0,width:B.width,height:B.height}),[4,Re.render(B.tree)]):[3,14];case 13:Ve=fs.sent(),B.width&&B.height&&this.ctx.drawImage(Ve,0,0,B.width,B.height,B.bounds.left,B.bounds.top,B.bounds.width,B.bounds.height),fs.label=14;case 14:if(B instanceof xf&&(We=Math.min(B.bounds.width,B.bounds.height),B.type===hh?B.checked&&(this.ctx.save(),this.path([new as(B.bounds.left+We*.39363,B.bounds.top+We*.79),new as(B.bounds.left+We*.16,B.bounds.top+We*.5549),new as(B.bounds.left+We*.27347,B.bounds.top+We*.44071),new as(B.bounds.left+We*.39694,B.bounds.top+We*.5649),new as(B.bounds.left+We*.72983,B.bounds.top+We*.23),new as(B.bounds.left+We*.84,B.bounds.top+We*.34085),new as(B.bounds.left+We*.39363,B.bounds.top+We*.79)]),this.ctx.fillStyle=Ln(Qm),this.ctx.fill(),this.ctx.restore()):B.type===fh&&B.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(B.bounds.left+We/2,B.bounds.top+We/2,We/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ln(Qm),this.ctx.fill(),this.ctx.restore())),If(B)&&B.value.length){switch(ft=this.createFontStyle(se),vn=ft[0],ds=ft[1],zt=this.fontMetrics.getMetrics(vn,ds).baseline,this.ctx.font=vn,this.ctx.fillStyle=Ln(se.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=qv(B.styles.textAlign),Xs=Dl(B),ts=0,B.styles.textAlign){case 1:ts+=Xs.width/2;break;case 2:ts+=Xs.width;break}_s=Xs.add(ts,0,0,-Xs.height/2+1),this.ctx.save(),this.path([new as(Xs.left,Xs.top),new as(Xs.left+Xs.width,Xs.top),new as(Xs.left+Xs.width,Xs.top+Xs.height),new as(Xs.left,Xs.top+Xs.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Bc(B.value,_s),se.letterSpacing,zt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!He(B.styles.display,2048))return[3,20];if(B.styles.listStyleImage===null)return[3,19];if(ys=B.styles.listStyleImage,ys.type!==0)return[3,18];gs=void 0,Sn=ys.url,fs.label=15;case 15:return fs.trys.push([15,17,,18]),[4,this.context.cache.match(Sn)];case 16:return gs=fs.sent(),this.ctx.drawImage(gs,B.bounds.left-(gs.width+10),B.bounds.top),[3,18];case 17:return fs.sent(),this.context.logger.error("Error loading list-style-image "+Sn),[3,18];case 18:return[3,20];case 19:C.listValue&&B.styles.listStyleType!==-1&&(vn=this.createFontStyle(se)[0],this.ctx.font=vn,this.ctx.fillStyle=Ln(se.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Xs=new u(B.bounds.left,B.bounds.top+Cn(B.styles.paddingTop,B.bounds.width),B.bounds.width,Nl(se.lineHeight,se.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Bc(C.listValue,Xs),se.letterSpacing,Nl(se.lineHeight,se.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),fs.label=20;case 20:return[2]}})})},v.prototype.renderStackContent=function(C){return o(this,void 0,void 0,function(){var B,G,ys,se,fe,ys,Be,Ce,ys,Re,Ve,ys,We,ft,ys,ds,zt,ys,ts,_s,ys;return c(this,function(gs){switch(gs.label){case 0:if(He(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:gs.sent(),B=0,G=C.negativeZIndex,gs.label=2;case 2:return B<G.length?(ys=G[B],[4,this.renderStack(ys)]):[3,5];case 3:gs.sent(),gs.label=4;case 4:return B++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:gs.sent(),se=0,fe=C.nonInlineLevel,gs.label=7;case 7:return se<fe.length?(ys=fe[se],[4,this.renderNode(ys)]):[3,10];case 8:gs.sent(),gs.label=9;case 9:return se++,[3,7];case 10:Be=0,Ce=C.nonPositionedFloats,gs.label=11;case 11:return Be<Ce.length?(ys=Ce[Be],[4,this.renderStack(ys)]):[3,14];case 12:gs.sent(),gs.label=13;case 13:return Be++,[3,11];case 14:Re=0,Ve=C.nonPositionedInlineLevel,gs.label=15;case 15:return Re<Ve.length?(ys=Ve[Re],[4,this.renderStack(ys)]):[3,18];case 16:gs.sent(),gs.label=17;case 17:return Re++,[3,15];case 18:We=0,ft=C.inlineLevel,gs.label=19;case 19:return We<ft.length?(ys=ft[We],[4,this.renderNode(ys)]):[3,22];case 20:gs.sent(),gs.label=21;case 21:return We++,[3,19];case 22:ds=0,zt=C.zeroOrAutoZIndexOrTransformedOrOpacity,gs.label=23;case 23:return ds<zt.length?(ys=zt[ds],[4,this.renderStack(ys)]):[3,26];case 24:gs.sent(),gs.label=25;case 25:return ds++,[3,23];case 26:ts=0,_s=C.positiveZIndex,gs.label=27;case 27:return ts<_s.length?(ys=_s[ts],[4,this.renderStack(ys)]):[3,30];case 28:gs.sent(),gs.label=29;case 29:return ts++,[3,27];case 30:return[2]}})})},v.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},v.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},v.prototype.formatPath=function(C){var B=this;C.forEach(function(G,se){var fe=Go(G)?G.start:G;se===0?B.ctx.moveTo(fe.x,fe.y):B.ctx.lineTo(fe.x,fe.y),Go(G)&&B.ctx.bezierCurveTo(G.startControl.x,G.startControl.y,G.endControl.x,G.endControl.y,G.end.x,G.end.y)})},v.prototype.renderRepeat=function(C,B,G,se){this.path(C),this.ctx.fillStyle=B,this.ctx.translate(G,se),this.ctx.fill(),this.ctx.translate(-G,-se)},v.prototype.resizeImage=function(C,B,G){var se;if(C.width===B&&C.height===G)return C;var fe=(se=this.canvas.ownerDocument)!==null&&se!==void 0?se:document,Be=fe.createElement("canvas");Be.width=Math.max(1,B),Be.height=Math.max(1,G);var Ce=Be.getContext("2d");return Ce.drawImage(C,0,0,C.width,C.height,0,0,B,G),Be},v.prototype.renderBackgroundImage=function(C){return o(this,void 0,void 0,function(){var B,G,se,fe,Be,Ce;return c(this,function(Re){switch(Re.label){case 0:B=C.styles.backgroundImage.length-1,G=function(Ve){var We,ft,ds,$a,eo,co,br,Zi,kn,zt,$a,eo,co,br,Zi,ts,_s,ys,gs,Sn,vn,Xs,fs,Fn,kn,Ds,$a,Pr,Wo,br,Zi,jo,eo,co,Rl,sA,qA,Uc,Dc,Ll,ZA,ec;return c(this,function(Ad){switch(Ad.label){case 0:if(Ve.type!==0)return[3,5];We=void 0,ft=Ve.url,Ad.label=1;case 1:return Ad.trys.push([1,3,,4]),[4,se.context.cache.match(ft)];case 2:return We=Ad.sent(),[3,4];case 3:return Ad.sent(),se.context.logger.error("Error loading background-image "+ft),[3,4];case 4:return We&&(ds=Nh(C,B,[We.width,We.height,We.width/We.height]),$a=ds[0],eo=ds[1],co=ds[2],br=ds[3],Zi=ds[4],kn=se.ctx.createPattern(se.resizeImage(We,br,Zi),"repeat"),se.renderRepeat($a,kn,eo,co)),[3,6];case 5:Ou(Ve)?(zt=Nh(C,B,[null,null,null]),$a=zt[0],eo=zt[1],co=zt[2],br=zt[3],Zi=zt[4],ts=Tr(Ve.angle,br,Zi),_s=ts[0],ys=ts[1],gs=ts[2],Sn=ts[3],vn=ts[4],Xs=document.createElement("canvas"),Xs.width=br,Xs.height=Zi,fs=Xs.getContext("2d"),Fn=fs.createLinearGradient(ys,Sn,gs,vn),$n(Ve.stops,_s).forEach(function(_h){return Fn.addColorStop(_h.stop,Ln(_h.color))}),fs.fillStyle=Fn,fs.fillRect(0,0,br,Zi),br>0&&Zi>0&&(kn=se.ctx.createPattern(Xs,"repeat"),se.renderRepeat($a,kn,eo,co))):tu(Ve)&&(Ds=Nh(C,B,[null,null,null]),$a=Ds[0],Pr=Ds[1],Wo=Ds[2],br=Ds[3],Zi=Ds[4],jo=Ve.position.length===0?[OA]:Ve.position,eo=Cn(jo[0],br),co=Cn(jo[jo.length-1],Zi),Rl=hl(Ve,eo,co,br,Zi),sA=Rl[0],qA=Rl[1],sA>0&&qA>0&&(Uc=se.ctx.createRadialGradient(Pr+eo,Wo+co,0,Pr+eo,Wo+co,sA),$n(Ve.stops,sA*2).forEach(function(_h){return Uc.addColorStop(_h.stop,Ln(_h.color))}),se.path($a),se.ctx.fillStyle=Uc,sA!==qA?(Dc=C.bounds.left+.5*C.bounds.width,Ll=C.bounds.top+.5*C.bounds.height,ZA=qA/sA,ec=1/ZA,se.ctx.save(),se.ctx.translate(Dc,Ll),se.ctx.transform(1,0,0,ZA,0,0),se.ctx.translate(-Dc,-Ll),se.ctx.fillRect(Pr,ec*(Wo-Ll)+Ll,br,Zi*ec),se.ctx.restore()):se.ctx.fill())),Ad.label=6;case 6:return B--,[2]}})},se=this,fe=0,Be=C.styles.backgroundImage.slice(0).reverse(),Re.label=1;case 1:return fe<Be.length?(Ce=Be[fe],[5,G(Ce)]):[3,4];case 2:Re.sent(),Re.label=3;case 3:return fe++,[3,1];case 4:return[2]}})})},v.prototype.renderSolidBorder=function(C,B,G){return o(this,void 0,void 0,function(){return c(this,function(se){return this.path(h0(G,B)),this.ctx.fillStyle=Ln(C),this.ctx.fill(),[2]})})},v.prototype.renderDoubleBorder=function(C,B,G,se){return o(this,void 0,void 0,function(){var fe,Be;return c(this,function(Ce){switch(Ce.label){case 0:return B<3?[4,this.renderSolidBorder(C,G,se)]:[3,2];case 1:return Ce.sent(),[2];case 2:return fe=Tf(se,G),this.path(fe),this.ctx.fillStyle=Ln(C),this.ctx.fill(),Be=$o(se,G),this.path(Be),this.ctx.fill(),[2]}})})},v.prototype.renderNodeBackgroundAndBorders=function(C){return o(this,void 0,void 0,function(){var B,G,se,fe,Be,Ce,Re,Ve,We=this;return c(this,function(ft){switch(ft.label){case 0:return this.applyEffects(C.getEffects(2)),B=C.container.styles,G=!ci(B.backgroundColor)||B.backgroundImage.length,se=[{style:B.borderTopStyle,color:B.borderTopColor,width:B.borderTopWidth},{style:B.borderRightStyle,color:B.borderRightColor,width:B.borderRightWidth},{style:B.borderBottomStyle,color:B.borderBottomColor,width:B.borderBottomWidth},{style:B.borderLeftStyle,color:B.borderLeftColor,width:B.borderLeftWidth}],fe=g0(tA(B.backgroundClip,0),C.curves),G||B.boxShadow.length?(this.ctx.save(),this.path(fe),this.ctx.clip(),ci(B.backgroundColor)||(this.ctx.fillStyle=Ln(B.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:ft.sent(),this.ctx.restore(),B.boxShadow.slice(0).reverse().forEach(function(ds){We.ctx.save();var zt=fu(C.curves),ts=ds.inset?0:Ih,_s=la(zt,-ts+(ds.inset?1:-1)*ds.spread.number,(ds.inset?1:-1)*ds.spread.number,ds.spread.number*(ds.inset?-2:2),ds.spread.number*(ds.inset?-2:2));ds.inset?(We.path(zt),We.ctx.clip(),We.mask(_s)):(We.mask(zt),We.ctx.clip(),We.path(_s)),We.ctx.shadowOffsetX=ds.offsetX.number+ts,We.ctx.shadowOffsetY=ds.offsetY.number,We.ctx.shadowColor=Ln(ds.color),We.ctx.shadowBlur=ds.blur.number,We.ctx.fillStyle=ds.inset?Ln(ds.color):"rgba(0,0,0,1)",We.ctx.fill(),We.ctx.restore()}),ft.label=2;case 2:Be=0,Ce=0,Re=se,ft.label=3;case 3:return Ce<Re.length?(Ve=Re[Ce],Ve.style!==0&&!ci(Ve.color)&&Ve.width>0?Ve.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ve.color,Ve.width,Be,C.curves,2)]:[3,11]):[3,13];case 4:return ft.sent(),[3,11];case 5:return Ve.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ve.color,Ve.width,Be,C.curves,3)];case 6:return ft.sent(),[3,11];case 7:return Ve.style!==4?[3,9]:[4,this.renderDoubleBorder(Ve.color,Ve.width,Be,C.curves)];case 8:return ft.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ve.color,Be,C.curves)];case 10:ft.sent(),ft.label=11;case 11:Be++,ft.label=12;case 12:return Ce++,[3,3];case 13:return[2]}})})},v.prototype.renderDashedDottedBorder=function(C,B,G,se,fe){return o(this,void 0,void 0,function(){var Be,Ce,Re,Ve,We,ft,ds,zt,ts,_s,ys,gs,Sn,vn,Xs,fs,Xs,fs;return c(this,function(Fn){return this.ctx.save(),Be=eA(se,G),Ce=h0(se,G),fe===2&&(this.path(Ce),this.ctx.clip()),Go(Ce[0])?(Re=Ce[0].start.x,Ve=Ce[0].start.y):(Re=Ce[0].x,Ve=Ce[0].y),Go(Ce[1])?(We=Ce[1].end.x,ft=Ce[1].end.y):(We=Ce[1].x,ft=Ce[1].y),G===0||G===2?ds=Math.abs(Re-We):ds=Math.abs(Ve-ft),this.ctx.beginPath(),fe===3?this.formatPath(Be):this.formatPath(Ce.slice(0,2)),zt=B<3?B*3:B*2,ts=B<3?B*2:B,fe===3&&(zt=B,ts=B),_s=!0,ds<=zt*2?_s=!1:ds<=zt*2+ts?(ys=ds/(2*zt+ts),zt*=ys,ts*=ys):(gs=Math.floor((ds+ts)/(zt+ts)),Sn=(ds-gs*zt)/(gs-1),vn=(ds-(gs+1)*zt)/gs,ts=vn<=0||Math.abs(ts-Sn)<Math.abs(ts-vn)?Sn:vn),_s&&(fe===3?this.ctx.setLineDash([0,zt+ts]):this.ctx.setLineDash([zt,ts])),fe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=B):this.ctx.lineWidth=B*2+1.1,this.ctx.strokeStyle=Ln(C),this.ctx.stroke(),this.ctx.setLineDash([]),fe===2&&(Go(Ce[0])&&(Xs=Ce[3],fs=Ce[0],this.ctx.beginPath(),this.formatPath([new as(Xs.end.x,Xs.end.y),new as(fs.start.x,fs.start.y)]),this.ctx.stroke()),Go(Ce[1])&&(Xs=Ce[1],fs=Ce[2],this.ctx.beginPath(),this.formatPath([new as(Xs.end.x,Xs.end.y),new as(fs.start.x,fs.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},v.prototype.render=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function(G){switch(G.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ln(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),B=d0(C),[4,this.renderStack(B)];case 1:return G.sent(),this.applyEffects([]),[2,this.canvas]}})})},v})(op),If=function(j){return j instanceof vf||j instanceof Yg?!0:j instanceof xf&&j.type!==fh&&j.type!==hh},g0=function(j,v){switch(j){case 0:return fu(v);case 2:return l0(v);case 1:default:return Ul(v)}},qv=function(j){switch(j){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zv=["-apple-system","system-ui"],dr=function(j){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?j.filter(function(v){return Zv.indexOf(v)===-1}):j},Or=(function(j){n(v,j);function v(C,B){var G=j.call(this,C,B)||this;return G.canvas=B.canvas?B.canvas:document.createElement("canvas"),G.ctx=G.canvas.getContext("2d"),G.options=B,G.canvas.width=Math.floor(B.width*B.scale),G.canvas.height=Math.floor(B.height*B.scale),G.canvas.style.width=B.width+"px",G.canvas.style.height=B.height+"px",G.ctx.scale(G.options.scale,G.options.scale),G.ctx.translate(-B.x,-B.y),G.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+B.width+"x"+B.height+" at "+B.x+","+B.y+") with scale "+B.scale),G}return v.prototype.render=function(C){return o(this,void 0,void 0,function(){var B,G;return c(this,function(se){switch(se.label){case 0:return B=ed(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,Rn(B)];case 1:return G=se.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ln(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(G,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},v})(op),Rn=function(j){return new Promise(function(v,C){var B=new Image;B.onload=function(){v(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Pn=(function(){function j(v){var C=v.id,B=v.enabled;this.id=C,this.enabled=B,this.start=Date.now()}return j.prototype.debug=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.prototype.getTime=function(){return Date.now()-this.start},j.prototype.info=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,h([this.id,this.getTime()+"ms"],v))},j.prototype.warn=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.prototype.error=function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.instances={},j})(),yr=(function(){function j(v,C){var B;this.windowBounds=C,this.instanceName="#"+j.instanceCount++,this.logger=new Pn({id:this.instanceName,enabled:v.logging}),this.cache=(B=v.cache)!==null&&B!==void 0?B:new Bh(this,v)}return j.instanceCount=1,j})(),ml=function(j,v){return v===void 0&&(v={}),Fc(j,v)};typeof window<"u"&&jh.setContext(window);var Fc=function(j,v){return o(void 0,void 0,void 0,function(){var C,B,G,se,fe,Be,Ce,Re,Ve,We,ft,ds,zt,ts,_s,ys,gs,Sn,vn,Xs,Fn,fs,Fn,kn,Ds,$a,Pr,Wo,br,Zi,jo,eo,co,Rl,sA,qA,Uc,Dc,Ll,ZA;return c(this,function(ec){switch(ec.label){case 0:if(!j||typeof j!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=j.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(B=C.defaultView,!B)throw new Error("Document is not attached to a Window");return G={allowTaint:(kn=v.allowTaint)!==null&&kn!==void 0?kn:!1,imageTimeout:(Ds=v.imageTimeout)!==null&&Ds!==void 0?Ds:15e3,proxy:v.proxy,useCORS:($a=v.useCORS)!==null&&$a!==void 0?$a:!1},se=r({logging:(Pr=v.logging)!==null&&Pr!==void 0?Pr:!0,cache:v.cache},G),fe={windowWidth:(Wo=v.windowWidth)!==null&&Wo!==void 0?Wo:B.innerWidth,windowHeight:(br=v.windowHeight)!==null&&br!==void 0?br:B.innerHeight,scrollX:(Zi=v.scrollX)!==null&&Zi!==void 0?Zi:B.pageXOffset,scrollY:(jo=v.scrollY)!==null&&jo!==void 0?jo:B.pageYOffset},Be=new u(fe.scrollX,fe.scrollY,fe.windowWidth,fe.windowHeight),Ce=new yr(se,Be),Re=(eo=v.foreignObjectRendering)!==null&&eo!==void 0?eo:!1,Ve={allowTaint:(co=v.allowTaint)!==null&&co!==void 0?co:!1,onclone:v.onclone,ignoreElements:v.ignoreElements,inlineImages:Re,copyStyles:Re},Ce.logger.debug("Starting document clone with size "+Be.width+"x"+Be.height+" scrolled to "+-Be.left+","+-Be.top),We=new Xm(Ce,j,Ve),ft=We.clonedReferenceElement,ft?[4,We.toIFrame(C,Be)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return ds=ec.sent(),zt=bf(ft)||qg(ft)?A(ft.ownerDocument):f(Ce,ft),ts=zt.width,_s=zt.height,ys=zt.left,gs=zt.top,Sn=ld(Ce,ft,v.backgroundColor),vn={canvas:v.canvas,backgroundColor:Sn,scale:(sA=(Rl=v.scale)!==null&&Rl!==void 0?Rl:B.devicePixelRatio)!==null&&sA!==void 0?sA:1,x:((qA=v.x)!==null&&qA!==void 0?qA:0)+ys,y:((Uc=v.y)!==null&&Uc!==void 0?Uc:0)+gs,width:(Dc=v.width)!==null&&Dc!==void 0?Dc:Math.ceil(ts),height:(Ll=v.height)!==null&&Ll!==void 0?Ll:Math.ceil(_s)},Re?(Ce.logger.debug("Document cloned, using foreign object rendering"),Fn=new Or(Ce,vn),[4,Fn.render(ft)]):[3,3];case 2:return Xs=ec.sent(),[3,5];case 3:return Ce.logger.debug("Document cloned, element located at "+ys+","+gs+" with size "+ts+"x"+_s+" using computed rendering"),Ce.logger.debug("Starting DOM parsing"),fs=km(Ce,ft),Sn===fs.styles.backgroundColor&&(fs.styles.backgroundColor=pa.TRANSPARENT),Ce.logger.debug("Starting renderer for element at "+vn.x+","+vn.y+" with size "+vn.width+"x"+vn.height),Fn=new p0(Ce,vn),[4,Fn.render(fs)];case 4:Xs=ec.sent(),ec.label=5;case 5:return(!((ZA=v.removeContainer)!==null&&ZA!==void 0)||ZA)&&(Xm.destroy(ds)||Ce.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ce.logger.debug("Finished rendering"),[2,Xs]}})})},ld=function(j,v,C){var B=v.ownerDocument,G=B.documentElement?ul(j,getComputedStyle(B.documentElement).backgroundColor):pa.TRANSPARENT,se=B.body?ul(j,getComputedStyle(B.body).backgroundColor):pa.TRANSPARENT,fe=typeof C=="string"?ul(j,C):C===null?pa.TRANSPARENT:4294967295;return v===B.documentElement?ci(G)?ci(se)?fe:se:G:fe};return ml}))})(wx)),wx.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var gS;function SV(){return gS||(gS=1,(function(s,e){(function(n,r){s.exports=r(jV,CV())})(self,function(t,n){return(function(){var r={"./node_modules/core-js/internals/a-callable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),x=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(x(b)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-constructor.js"),x=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(x(b)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-possible-prototype.js"),x=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g("Can't set "+x(b)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js").has;u.exports=function(x){return m(x),x}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/object-define-property.js").f,b=m("unscopables"),I=Array.prototype;I[b]===void 0&&g(I,b,{configurable:!0,value:x(null)}),u.exports=function(N){I[b][N]=!0}}),"./node_modules/core-js/internals/an-instance.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-is-prototype-of.js"),x=TypeError;u.exports=function(g,b){if(m(b,g))return g;throw new x("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),x=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(x(b)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=m(function(){if(typeof ArrayBuffer=="function"){var x=new ArrayBuffer(8);Object.isExtensible(x)&&Object.defineProperty(x,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-iteration.js").forEach,x=A("./node_modules/core-js/internals/array-method-is-strict.js"),g=x("forEach");u.exports=g?[].forEach:function(I){return m(this,I,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),I=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/is-constructor.js"),S=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/get-iterator.js"),L=A("./node_modules/core-js/internals/get-iterator-method.js"),O=Array;u.exports=function(Q){var D=g(Q),R=N(this),K=arguments.length,P=K>1?arguments[1]:void 0,V=P!==void 0;V&&(P=m(P,K>2?arguments[2]:void 0));var $=L(D),ae=0,de,re,W,J,oe,xe;if($&&!(this===O&&I($)))for(re=R?new this:[],J=F(D,$),oe=J.next;!(W=x(oe,J)).done;ae++)xe=V?b(J,P,[W.value,ae],!0):W.value,E(re,ae,xe);else for(de=S(D),re=R?new this(de):O(de);de>ae;ae++)xe=V?P(D[ae],ae):D[ae],E(re,ae,xe);return re.length=ae,re}}),"./node_modules/core-js/internals/array-includes.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),x=A("./node_modules/core-js/internals/to-absolute-index.js"),g=A("./node_modules/core-js/internals/length-of-array-like.js"),b=function(I){return function(N,S,E){var F=m(N),L=g(F);if(L===0)return!I&&-1;var O=x(E,L),H;if(I&&S!==S){for(;L>O;)if(H=F[O++],H!==H)return!0}else for(;L>O;O++)if((I||O in F)&&F[O]===S)return I||O||0;return!I&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-object.js"),I=A("./node_modules/core-js/internals/length-of-array-like.js"),N=A("./node_modules/core-js/internals/array-species-create.js"),S=x([].push),E=function(F){var L=F===1,O=F===2,H=F===3,Q=F===4,D=F===6,R=F===7,K=F===5||D;return function(P,V,$,ae){for(var de=b(P),re=g(de),W=I(re),J=m(V,$),oe=0,xe=ae||N,ee=L?xe(P,W):O||R?xe(P,0):void 0,M,X;W>oe;oe++)if((K||oe in re)&&(M=re[oe],X=J(M,oe,de),F))if(L)ee[oe]=X;else if(X)switch(F){case 3:return!0;case 5:return M;case 6:return oe;case 2:S(ee,M)}else switch(F){case 4:return!1;case 7:S(ee,M)}return D?-1:H||Q?Q:ee}};u.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/well-known-symbol.js"),g=A("./node_modules/core-js/internals/environment-v8-version.js"),b=x("species");u.exports=function(I){return g>=51||!m(function(){var N=[],S=N.constructor={};return S[b]=function(){return{foo:1}},N[I](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(x,g){var b=[][x];return!!b&&m(function(){b.call(null,g||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-array.js"),x=A("./node_modules/core-js/internals/is-constructor.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("species"),N=Array;u.exports=function(S){var E;return m(S)&&(E=S.constructor,x(E)&&(E===N||m(E.prototype))?E=void 0:g(E)&&(E=E[I],E===null&&(E=void 0))),E===void 0?N:E}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(x,g){return new(m(x))(g===0?0:g)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(g,b,I,N){try{return N?b(m(I)[0],I[1]):b(I)}catch(S){x(g,"throw",S)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=m("iterator"),g=!1;try{var b=0,I={next:function(){return{done:!!b++}},return:function(){g=!0}};I[x]=function(){return this},Array.from(I,function(){throw 2})}catch{}u.exports=function(N,S){try{if(!S&&!g)return!1}catch{return!1}var E=!1;try{var F={};F[x]=function(){return{next:function(){return{done:E=!0}}}},N(F)}catch{}return E}}),"./node_modules/core-js/internals/classof-raw.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=m({}.toString),g=m("".slice);u.exports=function(b){return g(x(b),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("toStringTag"),N=Object,S=g((function(){return arguments})())==="Arguments",E=function(F,L){try{return F[L]}catch{}};u.exports=m?g:function(F){var L,O,H;return F===void 0?"Undefined":F===null?"Null":typeof(O=E(L=N(F),I))=="string"?O:S?g(L):(H=g(L))==="Object"&&x(L.callee)?"Arguments":H}}),"./node_modules/core-js/internals/collection-strong.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-create.js"),x=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/define-built-ins.js"),b=A("./node_modules/core-js/internals/function-bind-context.js"),I=A("./node_modules/core-js/internals/an-instance.js"),N=A("./node_modules/core-js/internals/is-null-or-undefined.js"),S=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/iterator-define.js"),F=A("./node_modules/core-js/internals/create-iter-result-object.js"),L=A("./node_modules/core-js/internals/set-species.js"),O=A("./node_modules/core-js/internals/descriptors.js"),H=A("./node_modules/core-js/internals/internal-metadata.js").fastKey,Q=A("./node_modules/core-js/internals/internal-state.js"),D=Q.set,R=Q.getterFor;u.exports={getConstructor:function(K,P,V,$){var ae=K(function(oe,xe){I(oe,de),D(oe,{type:P,index:m(null),first:null,last:null,size:0}),O||(oe.size=0),N(xe)||S(xe,oe[$],{that:oe,AS_ENTRIES:V})}),de=ae.prototype,re=R(P),W=function(oe,xe,ee){var M=re(oe),X=J(oe,xe),ie,le;return X?X.value=ee:(M.last=X={index:le=H(xe,!0),key:xe,value:ee,previous:ie=M.last,next:null,removed:!1},M.first||(M.first=X),ie&&(ie.next=X),O?M.size++:oe.size++,le!=="F"&&(M.index[le]=X)),oe},J=function(oe,xe){var ee=re(oe),M=H(xe),X;if(M!=="F")return ee.index[M];for(X=ee.first;X;X=X.next)if(X.key===xe)return X};return g(de,{clear:function(){for(var xe=this,ee=re(xe),M=ee.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=null),M=M.next;ee.first=ee.last=null,ee.index=m(null),O?ee.size=0:xe.size=0},delete:function(oe){var xe=this,ee=re(xe),M=J(xe,oe);if(M){var X=M.next,ie=M.previous;delete ee.index[M.index],M.removed=!0,ie&&(ie.next=X),X&&(X.previous=ie),ee.first===M&&(ee.first=X),ee.last===M&&(ee.last=ie),O?ee.size--:xe.size--}return!!M},forEach:function(xe){for(var ee=re(this),M=b(xe,arguments.length>1?arguments[1]:void 0),X;X=X?X.next:ee.first;)for(M(X.value,X.key,this);X&&X.removed;)X=X.previous},has:function(xe){return!!J(this,xe)}}),g(de,V?{get:function(xe){var ee=J(this,xe);return ee&&ee.value},set:function(xe,ee){return W(this,xe===0?0:xe,ee)}}:{add:function(xe){return W(this,xe=xe===0?0:xe,xe)}}),O&&x(de,"size",{configurable:!0,get:function(){return re(this).size}}),ae},setStrong:function(K,P,V){var $=P+" Iterator",ae=R(P),de=R($);E(K,P,function(re,W){D(this,{type:$,target:re,state:ae(re),kind:W,last:null})},function(){for(var re=de(this),W=re.kind,J=re.last;J&&J.removed;)J=J.previous;return!re.target||!(re.last=J=J?J.next:re.state.first)?(re.target=null,F(void 0,!0)):F(W==="keys"?J.key:W==="values"?J.value:[J.key,J.value],!1)},V?"entries":"values",!V,!0),L(P)}}}),"./node_modules/core-js/internals/collection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/is-forced.js"),I=A("./node_modules/core-js/internals/define-built-in.js"),N=A("./node_modules/core-js/internals/internal-metadata.js"),S=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/an-instance.js"),F=A("./node_modules/core-js/internals/is-callable.js"),L=A("./node_modules/core-js/internals/is-null-or-undefined.js"),O=A("./node_modules/core-js/internals/is-object.js"),H=A("./node_modules/core-js/internals/fails.js"),Q=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),D=A("./node_modules/core-js/internals/set-to-string-tag.js"),R=A("./node_modules/core-js/internals/inherit-if-required.js");u.exports=function(K,P,V){var $=K.indexOf("Map")!==-1,ae=K.indexOf("Weak")!==-1,de=$?"set":"add",re=x[K],W=re&&re.prototype,J=re,oe={},xe=function(ye){var Ne=g(W[ye]);I(W,ye,ye==="add"?function(Se){return Ne(this,Se===0?0:Se),this}:ye==="delete"?function(ge){return ae&&!O(ge)?!1:Ne(this,ge===0?0:ge)}:ye==="get"?function(Se){return ae&&!O(Se)?void 0:Ne(this,Se===0?0:Se)}:ye==="has"?function(Se){return ae&&!O(Se)?!1:Ne(this,Se===0?0:Se)}:function(Se,Fe){return Ne(this,Se===0?0:Se,Fe),this})},ee=b(K,!F(re)||!(ae||W.forEach&&!H(function(){new re().entries().next()})));if(ee)J=V.getConstructor(P,K,$,de),N.enable();else if(b(K,!0)){var M=new J,X=M[de](ae?{}:-0,1)!==M,ie=H(function(){M.has(1)}),le=Q(function(ye){new re(ye)}),ce=!ae&&H(function(){for(var ye=new re,Ne=5;Ne--;)ye[de](Ne,Ne);return!ye.has(-0)});le||(J=P(function(ye,Ne){E(ye,W);var ge=R(new re,ye,J);return L(Ne)||S(Ne,ge[de],{that:ge,AS_ENTRIES:$}),ge}),J.prototype=W,W.constructor=J),(ie||ce)&&(xe("delete"),xe("has"),$&&xe("get")),(ce||X)&&xe(de),ae&&W.clear&&delete W.clear}return oe[K]=J,m({global:!0,constructor:!0,forced:J!==re},oe),D(J,K),ae||V.setStrong(J,K,$),J}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),x=A("./node_modules/core-js/internals/own-keys.js"),g=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),b=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(I,N,S){for(var E=x(N),F=b.f,L=g.f,O=0;O<E.length;O++){var H=E[O];!m(I,H)&&!(S&&m(S,H))&&F(I,H,L(N,H))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function x(){}return x.prototype.constructor=null,Object.getPrototypeOf(new x)!==x.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=/"/g,I=m("".replace);u.exports=function(N,S,E,F){var L=g(x(N)),O="<"+S;return E!==""&&(O+=" "+E+'="'+I(g(F),b,"&quot;")+'"'),O+">"+L+"</"+S+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(u){u.exports=function(f,A){return{value:f,done:A}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(b,I,N){return x.f(b,I,g(1,N))}:function(b,I,N){return b[I]=N,b}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(f,A){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:A}}}),"./node_modules/core-js/internals/create-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(b,I,N){m?x.f(b,I,g(0,N)):b[I]=N}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/make-built-in.js"),x=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(g,b,I){return I.get&&m(I.get,b,{getter:!0}),I.set&&m(I.set,b,{setter:!0}),x.f(g,b,I)}}),"./node_modules/core-js/internals/define-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),x=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/make-built-in.js"),b=A("./node_modules/core-js/internals/define-global-property.js");u.exports=function(I,N,S,E){E||(E={});var F=E.enumerable,L=E.name!==void 0?E.name:N;if(m(S)&&g(S,L,E),E.global)F?I[N]=S:b(N,S);else{try{E.unsafe?I[N]&&(F=!0):delete I[N]}catch{}F?I[N]=S:x.f(I,N,{value:S,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return I}}),"./node_modules/core-js/internals/define-built-ins.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(x,g,b){for(var I in g)m(x,I,g[I],b);return x}}),"./node_modules/core-js/internals/define-global-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=Object.defineProperty;u.exports=function(g,b){try{x(m,g,{value:b,configurable:!0,writable:!0})}catch{m[g]=b}return b}}),"./node_modules/core-js/internals/descriptors.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=m.document,b=x(g)&&x(g.createElement);u.exports=function(I){return b?g.createElement(I):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(u){var f=TypeError,A=9007199254740991;u.exports=function(m){if(m>A)throw f("Maximum allowed index exceeded");return m}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/document-create-element.js"),x=m("span").classList,g=x&&x.constructor&&x.constructor.prototype;u.exports=g===Object.prototype?void 0:g}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)}),"./node_modules/core-js/internals/environment-is-node.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment.js");u.exports=m==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/web0s(?!.*chrome)/i.test(m)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=m.navigator,g=x&&x.userAgent;u.exports=g?String(g):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/environment-user-agent.js"),g=m.process,b=m.Deno,I=g&&g.versions||b&&b.version,N=I&&I.v8,S,E;N&&(S=N.split("."),E=S[0]>0&&S[0]<4?1:+(S[0]+S[1])),!E&&x&&(S=x.match(/Edge\/(\d+)/),(!S||S[1]>=74)&&(S=x.match(/Chrome\/(\d+)/),S&&(E=+S[1]))),u.exports=E}),"./node_modules/core-js/internals/environment.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/environment-user-agent.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=function(I){return x.slice(0,I.length)===I};u.exports=(function(){return b("Bun/")?"BUN":b("Cloudflare-Workers")?"CLOUDFLARE":b("Deno/")?"DENO":b("Node.js/")?"NODE":m.Bun&&typeof Bun.version=="string"?"BUN":m.Deno&&typeof Deno.version=="object"?"DENO":g(m.process)==="process"?"NODE":m.window&&m.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-in.js"),I=A("./node_modules/core-js/internals/define-global-property.js"),N=A("./node_modules/core-js/internals/copy-constructor-properties.js"),S=A("./node_modules/core-js/internals/is-forced.js");u.exports=function(E,F){var L=E.target,O=E.global,H=E.stat,Q,D,R,K,P,V;if(O?D=m:H?D=m[L]||I(L,{}):D=m[L]&&m[L].prototype,D)for(R in F){if(P=F[R],E.dontCallGetSet?(V=x(D,R),K=V&&V.value):K=D[R],Q=S(O?R:L+(H?".":"#")+R,E.forced),!Q&&K!==void 0){if(typeof P==typeof K)continue;N(P,K)}(E.sham||K&&K.sham)&&g(P,"sham",!0),b(D,R,P,E)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(f){try{return!!f()}catch{return!0}}}),"./node_modules/core-js/internals/freezing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype,g=x.apply,b=x.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?b.bind(g):function(){return b.apply(g,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-clause.js"),x=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/function-bind-native.js"),b=m(m.bind);u.exports=function(I,N){return x(I),N===void 0?I:g?b(I,N):function(){return I.apply(N,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){var x=(function(){}).bind();return typeof x!="function"||x.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype.call;u.exports=m?x.bind(x):function(){return x.apply(x,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=Function.prototype,b=m&&Object.getOwnPropertyDescriptor,I=x(g,"name"),N=I&&(function(){}).name==="something",S=I&&(!m||m&&b(g,"name").configurable);u.exports={EXISTS:I,PROPER:N,CONFIGURABLE:S}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/a-callable.js");u.exports=function(g,b,I){try{return m(x(Object.getOwnPropertyDescriptor(g,b)[I]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=function(g){if(m(g)==="Function")return x(g)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype,g=x.call,b=m&&x.bind.bind(g,g);u.exports=m?b:function(I){return function(){return g.apply(I,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=function(b){return x(b)?b:void 0};u.exports=function(b,I){return arguments.length<2?g(m[b]):m[b]&&m[b][I]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(u){u.exports=function(f){return{iterator:f,next:f.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),x=A("./node_modules/core-js/internals/get-method.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/iterators.js"),I=A("./node_modules/core-js/internals/well-known-symbol.js"),N=I("iterator");u.exports=function(S){if(!g(S))return x(S,N)||x(S,"@@iterator")||b[m(S)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/get-iterator-method.js"),N=TypeError;u.exports=function(S,E){var F=arguments.length<2?I(S):E;if(x(F))return g(m(F,S));throw new N(b(S)+" is not iterable")}}),"./node_modules/core-js/internals/get-json-replacer-function.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof-raw.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=m([].push);u.exports=function(S){if(g(S))return S;if(x(S)){for(var E=S.length,F=[],L=0;L<E;L++){var O=S[L];typeof O=="string"?N(F,O):(typeof O=="number"||b(O)==="Number"||b(O)==="String")&&N(F,I(O))}var H=F.length,Q=!0;return function(D,R){if(Q)return Q=!1,R;if(x(this))return R;for(var K=0;K<H;K++)if(F[K]===D)return R}}}}),"./node_modules/core-js/internals/get-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),x=A("./node_modules/core-js/internals/is-null-or-undefined.js");u.exports=function(g,b){var I=g[b];return x(I)?void 0:m(I)}}),"./node_modules/core-js/internals/get-set-record.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),x=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),I=A("./node_modules/core-js/internals/get-iterator-direct.js"),N="Invalid size",S=RangeError,E=TypeError,F=Math.max,L=function(O,H){this.set=O,this.size=F(H,0),this.has=m(O.has),this.keys=m(O.keys)};L.prototype={getIterator:function(){return I(x(g(this.keys,this.set)))},includes:function(O){return g(this.has,this.set,O)}},u.exports=function(O){x(O);var H=+O.size;if(H!==H)throw new E(N);var Q=b(H);if(Q<0)throw new S(N);return new L(O,Q)}}),"./node_modules/core-js/internals/global-this.js":(function(u){var f=function(A){return A&&A.Math===Math&&A};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof zj=="object"&&zj)||f(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/to-object.js"),g=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(I,N){return g(x(I),N)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(u){u.exports=function(f,A){try{arguments.length===1?console.error(f):console.error(f,A)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!x(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=Object,I=m("".split);u.exports=x(function(){return!b("z").propertyIsEnumerable(0)})?function(N){return g(N)==="String"?I(N,""):b(N)}:b}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(b,I,N){var S,E;return g&&m(S=I.constructor)&&S!==N&&x(E=S.prototype)&&E!==N.prototype&&g(b,E),b}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/shared-store.js"),b=m(Function.toString);x(g.inspectSource)||(g.inspectSource=function(I){return b(I)}),u.exports=g.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/hidden-keys.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/object-define-property.js").f,S=A("./node_modules/core-js/internals/object-get-own-property-names.js"),E=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),F=A("./node_modules/core-js/internals/object-is-extensible.js"),L=A("./node_modules/core-js/internals/uid.js"),O=A("./node_modules/core-js/internals/freezing.js"),H=!1,Q=L("meta"),D=0,R=function(de){N(de,Q,{value:{objectID:"O"+D++,weakData:{}}})},K=function(de,re){if(!b(de))return typeof de=="symbol"?de:(typeof de=="string"?"S":"P")+de;if(!I(de,Q)){if(!F(de))return"F";if(!re)return"E";R(de)}return de[Q].objectID},P=function(de,re){if(!I(de,Q)){if(!F(de))return!0;if(!re)return!1;R(de)}return de[Q].weakData},V=function(de){return O&&H&&F(de)&&!I(de,Q)&&R(de),de},$=function(){ae.enable=function(){},H=!0;var de=S.f,re=x([].splice),W={};W[Q]=1,de(W).length&&(S.f=function(J){for(var oe=de(J),xe=0,ee=oe.length;xe<ee;xe++)if(oe[xe]===Q){re(oe,xe,1);break}return oe},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},ae=u.exports={enable:$,fastKey:K,getWeakData:P,onFreeze:V};g[Q]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/weak-map-basic-detection.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/shared-store.js"),S=A("./node_modules/core-js/internals/shared-key.js"),E=A("./node_modules/core-js/internals/hidden-keys.js"),F="Object already initialized",L=x.TypeError,O=x.WeakMap,H,Q,D,R=function($){return D($)?Q($):H($,{})},K=function($){return function(ae){var de;if(!g(ae)||(de=Q(ae)).type!==$)throw new L("Incompatible receiver, "+$+" required");return de}};if(m||N.state){var P=N.state||(N.state=new O);P.get=P.get,P.has=P.has,P.set=P.set,H=function($,ae){if(P.has($))throw new L(F);return ae.facade=$,P.set($,ae),ae},Q=function($){return P.get($)||{}},D=function($){return P.has($)}}else{var V=S("state");E[V]=!0,H=function($,ae){if(I($,V))throw new L(F);return ae.facade=$,b($,V,ae),ae},Q=function($){return I($,V)?$[V]:{}},D=function($){return I($,V)}}u.exports={set:H,get:Q,has:D,enforce:R,getterFor:K}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=A("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),b=Array.prototype;u.exports=function(I){return I!==void 0&&(x.Array===I||b[g]===I)}}),"./node_modules/core-js/internals/is-array.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(u){var f=typeof document=="object"&&document.all;u.exports=typeof f>"u"&&f!==void 0?function(A){return typeof A=="function"||A===f}:function(A){return typeof A=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof.js"),I=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/inspect-source.js"),S=function(){},E=I("Reflect","construct"),F=/^\s*(?:class|function)\b/,L=m(F.exec),O=!F.test(S),H=function(R){if(!g(R))return!1;try{return E(S,[],R),!0}catch{return!1}},Q=function(R){if(!g(R))return!1;switch(b(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return O||!!L(F,N(R))}catch{return!0}};Q.sham=!0,u.exports=!E||x(function(){var D;return H(H.call)||!H(Object)||!H(function(){D=!0})||D})?Q:H}),"./node_modules/core-js/internals/is-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=/#|\.prototype\./,b=function(F,L){var O=N[I(F)];return O===E?!0:O===S?!1:x(L)?m(L):!!L},I=b.normalize=function(F){return String(F).replace(g,".").toLowerCase()},N=b.data={},S=b.NATIVE="N",E=b.POLYFILL="P";u.exports=b}),"./node_modules/core-js/internals/is-iterable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=A("./node_modules/core-js/internals/iterators.js"),N=b("iterator"),S=Object;u.exports=function(E){if(g(E))return!1;var F=S(E);return F[N]!==void 0||"@@iterator"in F||x(I,m(F))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(u){u.exports=function(f){return f==null}}),"./node_modules/core-js/internals/is-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js");u.exports=function(x){return typeof x=="object"?x!==null:m(x)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(x){return m(x)||x===null}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),I=Object;u.exports=b?function(N){return typeof N=="symbol"}:function(N){var S=m("Symbol");return x(S)&&g(S.prototype,I(N))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js");u.exports=function(x,g,b){for(var I=b?x:x.iterator,N=x.next,S,E;!(S=m(N,I)).done;)if(E=g(S.value),E!==void 0)return E}}),"./node_modules/core-js/internals/iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/object-is-prototype-of.js"),E=A("./node_modules/core-js/internals/get-iterator.js"),F=A("./node_modules/core-js/internals/get-iterator-method.js"),L=A("./node_modules/core-js/internals/iterator-close.js"),O=TypeError,H=function(D,R){this.stopped=D,this.result=R},Q=H.prototype;u.exports=function(D,R,K){var P=K&&K.that,V=!!(K&&K.AS_ENTRIES),$=!!(K&&K.IS_RECORD),ae=!!(K&&K.IS_ITERATOR),de=!!(K&&K.INTERRUPTED),re=m(R,P),W,J,oe,xe,ee,M,X,ie=function(ce){return W&&L(W,"normal"),new H(!0,ce)},le=function(ce){return V?(g(ce),de?re(ce[0],ce[1],ie):re(ce[0],ce[1])):de?re(ce,ie):re(ce)};if($)W=D.iterator;else if(ae)W=D;else{if(J=F(D),!J)throw new O(b(D)+" is not iterable");if(I(J)){for(oe=0,xe=N(D);xe>oe;oe++)if(ee=le(D[oe]),ee&&S(Q,ee))return ee;return new H(!1)}W=E(D,J)}for(M=$?D.next:W.next;!(X=x(M,W)).done;){try{ee=le(X.value)}catch(ce){L(W,"throw",ce)}if(typeof ee=="object"&&ee&&S(Q,ee))return ee}return new H(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(x,g,b){for(var I=x.length-1;I>=0;I--)if(x[I]!==void 0)try{b=m(x[I].iterator,g,b)}catch(N){g="throw",b=N}if(g==="throw")throw b;return b}}),"./node_modules/core-js/internals/iterator-close.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/get-method.js");u.exports=function(b,I,N){var S,E;x(b);try{if(S=g(b,"return"),!S){if(I==="throw")throw N;return N}S=m(S,b)}catch(F){E=!0,S=F}if(I==="throw")throw N;if(E)throw S;return x(S),N}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,x=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js"),b=A("./node_modules/core-js/internals/set-to-string-tag.js"),I=A("./node_modules/core-js/internals/iterators.js"),N=function(){return this};u.exports=function(S,E,F,L){var O=E+" Iterator";return S.prototype=x(m,{next:g(+!L,F)}),b(S,O,!1,!0),I[O]=N,S}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-ins.js"),I=A("./node_modules/core-js/internals/well-known-symbol.js"),N=A("./node_modules/core-js/internals/internal-state.js"),S=A("./node_modules/core-js/internals/get-method.js"),E=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,F=A("./node_modules/core-js/internals/create-iter-result-object.js"),L=A("./node_modules/core-js/internals/iterator-close.js"),O=A("./node_modules/core-js/internals/iterator-close-all.js"),H=I("toStringTag"),Q="IteratorHelper",D="WrapForValidIterator",R="normal",K="throw",P=N.set,V=function(de){var re=N.getterFor(de?D:Q);return b(x(E),{next:function(){var J=re(this);if(de)return J.nextHandler();if(J.done)return F(void 0,!0);try{var oe=J.nextHandler();return J.returnHandlerResult?oe:F(oe,J.done)}catch(xe){throw J.done=!0,xe}},return:function(){var W=re(this),J=W.iterator;if(W.done=!0,de){var oe=S(J,"return");return oe?m(oe,J):F(void 0,!0)}if(W.inner)try{L(W.inner.iterator,R)}catch(xe){return L(J,K,xe)}if(W.openIters)try{O(W.openIters,R)}catch(xe){return L(J,K,xe)}return J&&L(J,R),F(void 0,!0)}})},$=V(!0),ae=V(!1);g(ae,H,"Iterator Helper"),u.exports=function(de,re,W){var J=function(xe,ee){ee?(ee.iterator=xe.iterator,ee.next=xe.next):ee=xe,ee.type=re?D:Q,ee.returnHandlerResult=!!W,ee.nextHandler=de,ee.counter=0,ee.done=!1,P(this,ee)};return J.prototype=re?$:ae,J}}),"./node_modules/core-js/internals/iterator-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/function-name.js"),I=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/iterator-create-constructor.js"),S=A("./node_modules/core-js/internals/object-get-prototype-of.js"),E=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),L=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),O=A("./node_modules/core-js/internals/define-built-in.js"),H=A("./node_modules/core-js/internals/well-known-symbol.js"),Q=A("./node_modules/core-js/internals/iterators.js"),D=A("./node_modules/core-js/internals/iterators-core.js"),R=b.PROPER,K=b.CONFIGURABLE,P=D.IteratorPrototype,V=D.BUGGY_SAFARI_ITERATORS,$=H("iterator"),ae="keys",de="values",re="entries",W=function(){return this};u.exports=function(J,oe,xe,ee,M,X,ie){N(xe,oe,ee);var le=function(he){if(he===M&&Se)return Se;if(!V&&he&&he in Ne)return Ne[he];switch(he){case ae:return function(){return new xe(this,he)};case de:return function(){return new xe(this,he)};case re:return function(){return new xe(this,he)}}return function(){return new xe(this)}},ce=oe+" Iterator",ye=!1,Ne=J.prototype,ge=Ne[$]||Ne["@@iterator"]||M&&Ne[M],Se=!V&&ge||le(M),Fe=oe==="Array"&&Ne.entries||ge,Le,qe,Oe;if(Fe&&(Le=S(Fe.call(new J)),Le!==Object.prototype&&Le.next&&(!g&&S(Le)!==P&&(E?E(Le,P):I(Le[$])||O(Le,$,W)),F(Le,ce,!0,!0),g&&(Q[ce]=W))),R&&M===de&&ge&&ge.name!==de&&(!g&&K?L(Ne,"name",de):(ye=!0,Se=function(){return x(ge,this)})),M)if(qe={values:le(de),keys:X?Se:le(ae),entries:le(re)},ie)for(Oe in qe)(V||ye||!(Oe in Ne))&&O(Ne,Oe,qe[Oe]);else m({target:oe,proto:!0,forced:V||ye},qe);return(!g||ie)&&Ne[$]!==Se&&O(Ne,$,Se,{name:M}),Q[oe]=Se,qe}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(u){u.exports=function(f,A){var m=typeof Iterator=="function"&&Iterator.prototype[f];if(m)try{m.call({next:null},A).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=function(x,g){var b=m.Iterator,I=b&&b.prototype,N=I&&I[x],S=!1;if(N)try{N.call({next:function(){return{done:!0}},return:function(){S=!0}},-1)}catch(E){E instanceof g||(S=!1)}if(!S)return N}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/object-create.js"),I=A("./node_modules/core-js/internals/object-get-prototype-of.js"),N=A("./node_modules/core-js/internals/define-built-in.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),E=A("./node_modules/core-js/internals/is-pure.js"),F=S("iterator"),L=!1,O,H,Q;[].keys&&(Q=[].keys(),"next"in Q?(H=I(I(Q)),H!==Object.prototype&&(O=H)):L=!0);var D=!g(O)||m(function(){var R={};return O[F].call(R)!==R});D?O={}:E&&(O=b(O)),x(O[F])||N(O,F,function(){return this}),u.exports={IteratorPrototype:O,BUGGY_SAFARI_ITERATORS:L}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-length.js");u.exports=function(x){return m(x.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/has-own-property.js"),I=A("./node_modules/core-js/internals/descriptors.js"),N=A("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,S=A("./node_modules/core-js/internals/inspect-source.js"),E=A("./node_modules/core-js/internals/internal-state.js"),F=E.enforce,L=E.get,O=String,H=Object.defineProperty,Q=m("".slice),D=m("".replace),R=m([].join),K=I&&!x(function(){return H(function(){},"length",{value:8}).length!==8}),P=String(String).split("String"),V=u.exports=function($,ae,de){Q(O(ae),0,7)==="Symbol("&&(ae="["+D(O(ae),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),de&&de.getter&&(ae="get "+ae),de&&de.setter&&(ae="set "+ae),(!b($,"name")||N&&$.name!==ae)&&(I?H($,"name",{value:ae,configurable:!0}):$.name=ae),K&&de&&b(de,"arity")&&$.length!==de.arity&&H($,"length",{value:de.arity});try{de&&b(de,"constructor")&&de.constructor?I&&H($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var re=F($);return b(re,"source")||(re.source=R(P,typeof ae=="string"?ae:"")),$};Function.prototype.toString=V(function(){return g(this)&&L(this).source||S(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(u){var f=Math.ceil,A=Math.floor;u.exports=Math.trunc||function(x){var g=+x;return(g>0?A:f)(g)}}),"./node_modules/core-js/internals/microtask.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/safe-get-built-in.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/task.js").set,I=A("./node_modules/core-js/internals/queue.js"),N=A("./node_modules/core-js/internals/environment-is-ios.js"),S=A("./node_modules/core-js/internals/environment-is-ios-pebble.js"),E=A("./node_modules/core-js/internals/environment-is-webos-webkit.js"),F=A("./node_modules/core-js/internals/environment-is-node.js"),L=m.MutationObserver||m.WebKitMutationObserver,O=m.document,H=m.process,Q=m.Promise,D=x("queueMicrotask"),R,K,P,V,$;if(!D){var ae=new I,de=function(){var re,W;for(F&&(re=H.domain)&&re.exit();W=ae.get();)try{W()}catch(J){throw ae.head&&R(),J}re&&re.enter()};!N&&!F&&!E&&L&&O?(K=!0,P=O.createTextNode(""),new L(de).observe(P,{characterData:!0}),R=function(){P.data=K=!K}):!S&&Q&&Q.resolve?(V=Q.resolve(void 0),V.constructor=Q,$=g(V.then,V),R=function(){$(de)}):F?R=function(){H.nextTick(de)}:(b=g(b,m),R=function(){b(de)}),D=function(re){ae.head||R(),ae.add(re)}}u.exports=D}),"./node_modules/core-js/internals/new-promise-capability.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),x=TypeError,g=function(b){var I,N;this.promise=new b(function(S,E){if(I!==void 0||N!==void 0)throw new x("Bad Promise constructor");I=S,N=E}),this.resolve=m(I),this.reject=m(N)};u.exports.f=function(b){return new g(b)}}),"./node_modules/core-js/internals/object-assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/fails.js"),I=A("./node_modules/core-js/internals/object-keys.js"),N=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=A("./node_modules/core-js/internals/to-object.js"),F=A("./node_modules/core-js/internals/indexed-object.js"),L=Object.assign,O=Object.defineProperty,H=x([].concat);u.exports=!L||b(function(){if(m&&L({b:1},L(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Q={},D={},R=Symbol("assign detection"),K="abcdefghijklmnopqrst";return Q[R]=7,K.split("").forEach(function(P){D[P]=P}),L({},Q)[R]!==7||I(L({},D)).join("")!==K})?function(D,R){for(var K=E(D),P=arguments.length,V=1,$=N.f,ae=S.f;P>V;)for(var de=F(arguments[V++]),re=$?H(I(de),$(de)):I(de),W=re.length,J=0,oe;W>J;)oe=re[J++],(!m||g(ae,de,oe))&&(K[oe]=de[oe]);return K}:L}),"./node_modules/core-js/internals/object-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/object-define-properties.js"),g=A("./node_modules/core-js/internals/enum-bug-keys.js"),b=A("./node_modules/core-js/internals/hidden-keys.js"),I=A("./node_modules/core-js/internals/html.js"),N=A("./node_modules/core-js/internals/document-create-element.js"),S=A("./node_modules/core-js/internals/shared-key.js"),E=">",F="<",L="prototype",O="script",H=S("IE_PROTO"),Q=function(){},D=function($){return F+O+E+$+F+"/"+O+E},R=function($){$.write(D("")),$.close();var ae=$.parentWindow.Object;return $=null,ae},K=function(){var $=N("iframe"),ae="java"+O+":",de;return $.style.display="none",I.appendChild($),$.src=String(ae),de=$.contentWindow.document,de.open(),de.write(D("document.F=Object")),de.close(),de.F},P,V=function(){try{P=new ActiveXObject("htmlfile")}catch{}V=typeof document<"u"?document.domain&&P?R(P):K():R(P);for(var $=g.length;$--;)delete V[L][g[$]];return V()};b[H]=!0,u.exports=Object.create||function(ae,de){var re;return ae!==null?(Q[L]=m(ae),re=new Q,Q[L]=null,re[H]=ae):re=V(),de===void 0?re:x.f(re,de)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=A("./node_modules/core-js/internals/object-define-property.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/object-keys.js");f.f=m&&!x?Object.defineProperties:function(E,F){b(E);for(var L=I(F),O=N(F),H=O.length,Q=0,D;H>Q;)g.f(E,D=O[Q++],L[D]);return E}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/ie8-dom-define.js"),g=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-property-key.js"),N=TypeError,S=Object.defineProperty,E=Object.getOwnPropertyDescriptor,F="enumerable",L="configurable",O="writable";f.f=m?g?function(Q,D,R){if(b(Q),D=I(D),b(R),typeof Q=="function"&&D==="prototype"&&"value"in R&&O in R&&!R[O]){var K=E(Q,D);K&&K[O]&&(Q[D]=R.value,R={configurable:L in R?R[L]:K[L],enumerable:F in R?R[F]:K[F],writable:!1})}return S(Q,D,R)}:S:function(Q,D,R){if(b(Q),D=I(D),b(R),x)try{return S(Q,D,R)}catch{}if("get"in R||"set"in R)throw new N("Accessors not supported");return"value"in R&&(Q[D]=R.value),Q}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=A("./node_modules/core-js/internals/create-property-descriptor.js"),I=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/to-property-key.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),E=A("./node_modules/core-js/internals/ie8-dom-define.js"),F=Object.getOwnPropertyDescriptor;f.f=m?F:function(O,H){if(O=I(O),H=N(H),E)try{return F(O,H)}catch{}if(S(O,H))return b(!x(g.f,O,H),O[H])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),x=A("./node_modules/core-js/internals/to-indexed-object.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,b=A("./node_modules/core-js/internals/array-slice.js"),I=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],N=function(S){try{return g(S)}catch{return b(I)}};u.exports.f=function(E){return I&&m(E)==="Window"?N(E):g(x(E))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),x=A("./node_modules/core-js/internals/enum-bug-keys.js"),g=x.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(I){return m(I,g)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,f){f.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/shared-key.js"),I=A("./node_modules/core-js/internals/correct-prototype-getter.js"),N=b("IE_PROTO"),S=Object,E=S.prototype;u.exports=I?S.getPrototypeOf:function(F){var L=g(F);if(m(L,N))return L[N];var O=L.constructor;return x(O)&&L instanceof O?O.prototype:L instanceof S?E:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/array-buffer-non-extensible.js"),I=Object.isExtensible,N=m(function(){});u.exports=N||b?function(E){return!x(E)||b&&g(E)==="ArrayBuffer"?!1:I?I(E):!0}:I}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/to-indexed-object.js"),b=A("./node_modules/core-js/internals/array-includes.js").indexOf,I=A("./node_modules/core-js/internals/hidden-keys.js"),N=m([].push);u.exports=function(S,E){var F=g(S),L=0,O=[],H;for(H in F)!x(I,H)&&x(F,H)&&N(O,H);for(;E.length>L;)x(F,H=E[L++])&&(~b(O,H)||N(O,H));return O}}),"./node_modules/core-js/internals/object-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),x=A("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(b){return m(b,x)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,f){var A={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,x=m&&!A.call({1:2},1);f.f=x?function(b){var I=m(this,b);return!!I&&I.enumerable}:A}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/require-object-coercible.js"),b=A("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var I=!1,N={},S;try{S=m(Object.prototype,"__proto__","set"),S(N,[]),I=N instanceof Array}catch{}return function(F,L){return g(F),b(L),x(F)&&(I?S(F,L):F.__proto__=L),F}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),x=A("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+x(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=TypeError;u.exports=function(I,N){var S,E;if(N==="string"&&x(S=I.toString)&&!g(E=m(S,I))||x(S=I.valueOf)&&!g(E=m(S,I))||N!=="string"&&x(S=I.toString)&&!g(E=m(S,I)))return E;throw new b("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),I=A("./node_modules/core-js/internals/an-object.js"),N=x([].concat);u.exports=m("Reflect","ownKeys")||function(E){var F=g.f(I(E)),L=b.f;return L?N(F,L(E)):F}}),"./node_modules/core-js/internals/path.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m}),"./node_modules/core-js/internals/perform.js":(function(u){u.exports=function(f){try{return{error:!1,value:f()}}catch(A){return{error:!0,value:A}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/promise-native-constructor.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/is-forced.js"),I=A("./node_modules/core-js/internals/inspect-source.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),S=A("./node_modules/core-js/internals/environment.js"),E=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/environment-v8-version.js"),L=x&&x.prototype,O=N("species"),H=!1,Q=g(m.PromiseRejectionEvent),D=b("Promise",function(){var R=I(x),K=R!==String(x);if(!K&&F===66||E&&!(L.catch&&L.finally))return!0;if(!F||F<51||!/native code/.test(R)){var P=new x(function(ae){ae(1)}),V=function(ae){ae(function(){},function(){})},$=P.constructor={};if($[O]=V,H=P.then(function(){})instanceof V,!H)return!0}return!K&&(S==="BROWSER"||S==="DENO")&&!Q});u.exports={CONSTRUCTOR:D,REJECTION_EVENT:Q,SUBCLASSING:H}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/new-promise-capability.js");u.exports=function(b,I){if(m(b),x(I)&&I.constructor===b)return I;var N=g.f(b),S=N.resolve;return S(I),N.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/promise-native-constructor.js"),x=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u.exports=g||!x(function(b){m.all(b).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(u){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(A){var m={item:A,next:null},x=this.tail;x?x.next=m:this.head=m,this.tail=m},get:function(){var A=this.head;if(A){var m=this.head=A.next;return m===null&&(this.tail=null),A.item}}},u.exports=f}),"./node_modules/core-js/internals/regexp-exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/regexp-flags.js"),I=A("./node_modules/core-js/internals/regexp-sticky-helpers.js"),N=A("./node_modules/core-js/internals/shared.js"),S=A("./node_modules/core-js/internals/object-create.js"),E=A("./node_modules/core-js/internals/internal-state.js").get,F=A("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),L=A("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),O=N("native-string-replace",String.prototype.replace),H=RegExp.prototype.exec,Q=H,D=x("".charAt),R=x("".indexOf),K=x("".replace),P=x("".slice),V=(function(){var re=/a/,W=/b*/g;return m(H,re,"a"),m(H,W,"a"),re.lastIndex!==0||W.lastIndex!==0})(),$=I.BROKEN_CARET,ae=/()??/.exec("")[1]!==void 0,de=V||ae||$||F||L;de&&(Q=function(W){var J=this,oe=E(J),xe=g(W),ee=oe.raw,M,X,ie,le,ce,ye,Ne;if(ee)return ee.lastIndex=J.lastIndex,M=m(Q,ee,xe),J.lastIndex=ee.lastIndex,M;var ge=oe.groups,Se=$&&J.sticky,Fe=m(b,J),Le=J.source,qe=0,Oe=xe;if(Se&&(Fe=K(Fe,"y",""),R(Fe,"g")===-1&&(Fe+="g"),Oe=P(xe,J.lastIndex),J.lastIndex>0&&(!J.multiline||J.multiline&&D(xe,J.lastIndex-1)!==`
`)&&(Le="(?: "+Le+")",Oe=" "+Oe,qe++),X=new RegExp("^(?:"+Le+")",Fe)),ae&&(X=new RegExp("^"+Le+"$(?!\\s)",Fe)),V&&(ie=J.lastIndex),le=m(H,Se?X:J,Oe),Se?le?(le.input=P(le.input,qe),le[0]=P(le[0],qe),le.index=J.lastIndex,J.lastIndex+=le[0].length):J.lastIndex=0:V&&le&&(J.lastIndex=J.global?le.index+le[0].length:ie),ae&&le&&le.length>1&&m(O,le[0],X,function(){for(ce=1;ce<arguments.length-2;ce++)arguments[ce]===void 0&&(le[ce]=void 0)}),le&&ge)for(le.groups=ye=S(null),ce=0;ce<ge.length;ce++)Ne=ge[ce],ye[Ne[0]]=le[Ne[1]];return le}),u.exports=Q}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/fails.js"),g=m.RegExp,b=!x(function(){var I=!0;try{g(".","d")}catch{I=!1}var N={},S="",E=I?"dgimsy":"gimsy",F=function(Q,D){Object.defineProperty(N,Q,{get:function(){return S+=D,!0}})},L={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};I&&(L.hasIndices="d");for(var O in L)F(O,L[O]);var H=Object.getOwnPropertyDescriptor(g.prototype,"flags").get.call(N);return H!==E||S!==E});u.exports={correct:b}}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js");u.exports=function(){var x=m(this),g="";return x.hasIndices&&(g+="d"),x.global&&(g+="g"),x.ignoreCase&&(g+="i"),x.multiline&&(g+="m"),x.dotAll&&(g+="s"),x.unicode&&(g+="u"),x.unicodeSets&&(g+="v"),x.sticky&&(g+="y"),g}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/regexp-flags-detection.js"),I=A("./node_modules/core-js/internals/regexp-flags.js"),N=RegExp.prototype;u.exports=b.correct?function(S){return S.flags}:function(S){return!b.correct&&g(N,S)&&!x(S,"flags")?m(I,S):S.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=x.RegExp,b=m(function(){var S=g("a","y");return S.lastIndex=2,S.exec("abcd")!==null}),I=b||m(function(){return!g("a","y").sticky}),N=b||m(function(){var S=g("^r","gy");return S.lastIndex=2,S.exec("str")!==null});u.exports={BROKEN_CARET:N,MISSED_STICKY:I,UNSUPPORTED_Y:b}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=x.RegExp;u.exports=m(function(){var b=g(".","s");return!(b.dotAll&&b.test(`
`)&&b.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=x.RegExp;u.exports=m(function(){var b=g("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-null-or-undefined.js"),x=TypeError;u.exports=function(g){if(m(g))throw new x("Can't call method on "+g);return g}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/descriptors.js"),g=Object.getOwnPropertyDescriptor;u.exports=function(b){if(!x)return m[b];var I=g(m,b);return I&&I.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/environment.js"),I=A("./node_modules/core-js/internals/environment-user-agent.js"),N=A("./node_modules/core-js/internals/array-slice.js"),S=A("./node_modules/core-js/internals/validate-arguments-length.js"),E=m.Function,F=/MSIE .\./.test(I)||b==="BUN"&&(function(){var L=m.Bun.version.split(".");return L.length<3||L[0]==="0"&&(L[1]<3||L[1]==="3"&&L[2]==="0")})();u.exports=function(L,O){var H=O?2:1;return F?function(Q,D){var R=S(arguments.length,1)>H,K=g(Q)?Q:E(Q),P=R?N(arguments,H):[],V=R?function(){x(K,this,P)}:K;return O?L(V,D):L(V)}:L}}),"./node_modules/core-js/internals/set-clone.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js"),x=A("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,b=m.add;u.exports=function(I){var N=new g;return x(I,function(S){b(N,S)}),N}}),"./node_modules/core-js/internals/set-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/set-size.js"),I=A("./node_modules/core-js/internals/get-set-record.js"),N=A("./node_modules/core-js/internals/set-iterate.js"),S=A("./node_modules/core-js/internals/iterate-simple.js"),E=x.has,F=x.remove;u.exports=function(O){var H=m(this),Q=I(O),D=g(H);return b(H)<=Q.size?N(H,function(R){Q.includes(R)&&F(D,R)}):S(Q.getIterator(),function(R){E(D,R)&&F(D,R)}),D}}),"./node_modules/core-js/internals/set-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=Set.prototype;u.exports={Set,add:m(x.add),has:m(x.has),remove:m(x.delete),proto:x}}),"./node_modules/core-js/internals/set-intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),S=x.Set,E=x.add,F=x.has;u.exports=function(O){var H=m(this),Q=b(O),D=new S;return g(H)>Q.size?N(Q.getIterator(),function(R){F(H,R)&&E(D,R)}):I(H,function(R){Q.includes(R)&&E(D,R)}),D}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),S=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(F){var L=m(this),O=b(F);if(g(L)<=O.size)return I(L,function(Q){if(O.includes(Q))return!1},!0)!==!1;var H=O.getIterator();return N(H,function(Q){if(x(L,Q))return S(H,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-size.js"),g=A("./node_modules/core-js/internals/set-iterate.js"),b=A("./node_modules/core-js/internals/get-set-record.js");u.exports=function(N){var S=m(this),E=b(N);return x(S)>E.size?!1:g(S,function(F){if(!E.includes(F))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js"),N=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(E){var F=m(this),L=b(E);if(g(F)<L.size)return!1;var O=L.getIterator();return I(O,function(H){if(!x(F,H))return N(O,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/iterate-simple.js"),g=A("./node_modules/core-js/internals/set-helpers.js"),b=g.Set,I=g.proto,N=m(I.forEach),S=m(I.keys),E=S(new b).next;u.exports=function(F,L,O){return O?x({iterator:S(F),next:E},L):N(F,L)}}),"./node_modules/core-js/internals/set-size.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),x=A("./node_modules/core-js/internals/set-helpers.js");u.exports=m(x.proto,"size","get")||function(g){return g.size}}),"./node_modules/core-js/internals/set-species.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/descriptors.js"),I=g("species");u.exports=function(N){var S=m(N);b&&S&&!S[I]&&x(S,I,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js"),N=x.add,S=x.has,E=x.remove;u.exports=function(L){var O=m(this),H=b(L).getIterator(),Q=g(O);return I(H,function(D){S(O,D)?E(Q,D):N(Q,D)}),Q}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-define-property.js").f,x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=g("toStringTag");u.exports=function(I,N,S){I&&!S&&(I=I.prototype),I&&!x(I,b)&&m(I,b,{configurable:!0,value:N})}}),"./node_modules/core-js/internals/set-union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),x=A("./node_modules/core-js/internals/set-helpers.js").add,g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js");u.exports=function(S){var E=m(this),F=b(S).getIterator(),L=g(E);return I(F,function(O){x(L,O)}),L}}),"./node_modules/core-js/internals/shared-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared.js"),x=A("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(b){return g[b]||(g[b]=x(b))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-pure.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/define-global-property.js"),b="__core-js_shared__",I=u.exports=x[b]||g(b,{});(I.versions||(I.versions=[])).push({version:"3.45.1",mode:m?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared-store.js");u.exports=function(x,g){return m[x]||(m[x]=g||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),x=A("./node_modules/core-js/internals/a-constructor.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("species");u.exports=function(N,S){var E=m(N).constructor,F;return E===void 0||g(F=m(E)[I])?S:x(F)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(x){return m(function(){var g=""[x]('"');return g!==g.toLowerCase()||g.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/require-object-coercible.js"),I=m("".charAt),N=m("".charCodeAt),S=m("".slice),E=function(F){return function(L,O){var H=g(b(L)),Q=x(O),D=H.length,R,K;return Q<0||Q>=D?F?"":void 0:(R=N(H,Q),R<55296||R>56319||Q+1===D||(K=N(H,Q+1))<56320||K>57343?F?I(H,Q):R:F?S(H,Q,Q+2):(R-55296<<10)+(K-56320)+65536)}};u.exports={codeAt:E(!1),charAt:E(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/whitespaces.js"),I=m("".replace),N=RegExp("^["+b+"]+"),S=RegExp("(^|[^"+b+"])["+b+"]+$"),E=function(F){return function(L){var O=g(x(L));return F&1&&(O=I(O,N,"")),F&2&&(O=I(O,S,"$1")),O}};u.exports={start:E(1),end:E(2),trim:E(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-v8-version.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=g.String;u.exports=!!Object.getOwnPropertySymbols&&!x(function(){var I=Symbol("symbol detection");return!b(I)||!(Object(I)instanceof Symbol)||!Symbol.sham&&m&&m<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(){var I=x("Symbol"),N=I&&I.prototype,S=N&&N.valueOf,E=g("toPrimitive");N&&!N[E]&&b(N,E,function(F){return m(S,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/is-callable.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/html.js"),E=A("./node_modules/core-js/internals/array-slice.js"),F=A("./node_modules/core-js/internals/document-create-element.js"),L=A("./node_modules/core-js/internals/validate-arguments-length.js"),O=A("./node_modules/core-js/internals/environment-is-ios.js"),H=A("./node_modules/core-js/internals/environment-is-node.js"),Q=m.setImmediate,D=m.clearImmediate,R=m.process,K=m.Dispatch,P=m.Function,V=m.MessageChannel,$=m.String,ae=0,de={},re="onreadystatechange",W,J,oe,xe;N(function(){W=m.location});var ee=function(le){if(I(de,le)){var ce=de[le];delete de[le],ce()}},M=function(le){return function(){ee(le)}},X=function(le){ee(le.data)},ie=function(le){m.postMessage($(le),W.protocol+"//"+W.host)};(!Q||!D)&&(Q=function(ce){L(arguments.length,1);var ye=b(ce)?ce:P(ce),Ne=E(arguments,1);return de[++ae]=function(){x(ye,void 0,Ne)},J(ae),ae},D=function(ce){delete de[ce]},H?J=function(le){R.nextTick(M(le))}:K&&K.now?J=function(le){K.now(M(le))}:V&&!O?(oe=new V,xe=oe.port2,oe.port1.onmessage=X,J=g(xe.postMessage,xe)):m.addEventListener&&b(m.postMessage)&&!m.importScripts&&W&&W.protocol!=="file:"&&!N(ie)?(J=ie,m.addEventListener("message",X,!1)):re in F("script")?J=function(le){S.appendChild(F("script"))[re]=function(){S.removeChild(this),ee(le)}}:J=function(le){setTimeout(M(le),0)}),u.exports={set:Q,clear:D}}),"./node_modules/core-js/internals/this-number-value.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),x=Math.max,g=Math.min;u.exports=function(b,I){var N=m(b);return N<0?x(N+I,0):g(N,I)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/indexed-object.js"),x=A("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(x(g))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/math-trunc.js");u.exports=function(x){var g=+x;return g!==g||g===0?0:m(g)}}),"./node_modules/core-js/internals/to-length.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),x=Math.min;u.exports=function(g){var b=m(g);return b>0?x(b,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js"),x=Object;u.exports=function(g){return x(m(g))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),x=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/get-method.js"),I=A("./node_modules/core-js/internals/ordinary-to-primitive.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),S=TypeError,E=N("toPrimitive");u.exports=function(F,L){if(!x(F)||g(F))return F;var O=b(F,E),H;if(O){if(L===void 0&&(L="default"),H=m(O,F,L),!x(H)||g(H))return H;throw new S("Can't convert object to primitive value")}return L===void 0&&(L="number"),I(F,L)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-primitive.js"),x=A("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var b=m(g,"string");return x(b)?b:b+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-iterable.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=m("Set"),N=function(S){return b(S)&&typeof S.size=="number"&&x(S.has)&&x(S.keys)};u.exports=function(S){return N(S)?S:g(S)?new I(S):S}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),x=m("toStringTag"),g={};g[x]="z",u.exports=String(g)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),x=String;u.exports=function(g){if(m(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return x(g)}}),"./node_modules/core-js/internals/try-to-string.js":(function(u){var f=String;u.exports=function(A){try{return f(A)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),x=0,g=Math.random(),b=m(1.1.toString);u.exports=function(I){return"Symbol("+(I===void 0?"":I)+")_"+b(++x+g,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/fails.js");u.exports=m&&x(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(u){var f=TypeError;u.exports=function(A,m){if(A<m)throw new f("Not enough arguments");return A}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/is-callable.js"),g=m.WeakMap;u.exports=x(g)&&/native code/.test(String(g))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/path.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),b=A("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(I){var N=m.Symbol||(m.Symbol={});x(N,I)||b(N,I,{value:g.f(I)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js");f.f=m}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/shared.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/uid.js"),I=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),N=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),S=m.Symbol,E=x("wks"),F=N?S.for||S:S&&S.withoutSetter||b;u.exports=function(L){return g(E,L)||(E[L]=I&&g(S,L)?S[L]:F("Symbol."+L)),E[L]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-array.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/to-object.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/array-species-create.js"),L=A("./node_modules/core-js/internals/array-method-has-species-support.js"),O=A("./node_modules/core-js/internals/well-known-symbol.js"),H=A("./node_modules/core-js/internals/environment-v8-version.js"),Q=O("isConcatSpreadable"),D=H>=51||!x(function(){var P=[];return P[Q]=!1,P.concat()[0]!==P}),R=function(P){if(!b(P))return!1;var V=P[Q];return V!==void 0?!!V:g(P)},K=!D||!L("concat");m({target:"Array",proto:!0,arity:1,forced:K},{concat:function(V){var $=I(this),ae=F($,0),de=0,re,W,J,oe,xe;for(re=-1,J=arguments.length;re<J;re++)if(xe=re===-1?$:arguments[re],R(xe))for(oe=N(xe),S(de+oe),W=0;W<oe;W++,de++)W in xe&&E(ae,de,xe[W]);else S(de+1),E(ae,de++,xe);return ae.length=de,ae}})}),"./node_modules/core-js/modules/es.array.from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/array-from.js"),g=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),b=!g(function(I){Array.from(I)});m({target:"Array",stat:!0,forced:b},{from:x})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),x=A("./node_modules/core-js/internals/add-to-unscopables.js"),g=A("./node_modules/core-js/internals/iterators.js"),b=A("./node_modules/core-js/internals/internal-state.js"),I=A("./node_modules/core-js/internals/object-define-property.js").f,N=A("./node_modules/core-js/internals/iterator-define.js"),S=A("./node_modules/core-js/internals/create-iter-result-object.js"),E=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/descriptors.js"),L="Array Iterator",O=b.set,H=b.getterFor(L);u.exports=N(Array,"Array",function(D,R){O(this,{type:L,target:m(D),index:0,kind:R})},function(){var D=H(this),R=D.target,K=D.index++;if(!R||K>=R.length)return D.target=null,S(void 0,!0);switch(D.kind){case"keys":return S(K,!1);case"values":return S(R[K],!1)}return S([K,R[K]],!1)},"values");var Q=g.Arguments=g.Array;if(x("keys"),x("values"),x("entries"),!E&&F&&Q.name!=="values")try{I(Q,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-indexed-object.js"),I=A("./node_modules/core-js/internals/array-method-is-strict.js"),N=x([].join),S=g!==Object,E=S||!I("join",",");m({target:"Array",proto:!0,forced:E},{join:function(L){return N(b(this),L===void 0?",":L)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/array-iteration.js").map,g=A("./node_modules/core-js/internals/array-method-has-species-support.js"),b=g("map");m({target:"Array",proto:!0,forced:!b},{map:function(N){return x(this,N,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-constructor.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/to-absolute-index.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/to-indexed-object.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/well-known-symbol.js"),L=A("./node_modules/core-js/internals/array-method-has-species-support.js"),O=A("./node_modules/core-js/internals/array-slice.js"),H=L("slice"),Q=F("species"),D=Array,R=Math.max;m({target:"Array",proto:!0,forced:!H},{slice:function(P,V){var $=S(this),ae=N($),de=I(P,ae),re=I(V===void 0?ae:V,ae),W,J,oe;if(x($)&&(W=$.constructor,g(W)&&(W===D||x(W.prototype))?W=void 0:b(W)&&(W=W[Q],W===null&&(W=void 0)),W===D||W===void 0))return O($,de,re);for(J=new(W===void 0?D:W)(R(re-de,0)),oe=0;de<re;de++,oe++)de in $&&E(J,oe,$[de]);return J.length=oe,J}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),x=A("./node_modules/core-js/internals/function-name.js").EXISTS,g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/define-built-in-accessor.js"),I=Function.prototype,N=g(I.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=g(S.exec),F="name";m&&!x&&b(I,F,{configurable:!0,get:function(){try{return E(S,N(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/an-instance.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/object-get-prototype-of.js"),S=A("./node_modules/core-js/internals/define-built-in-accessor.js"),E=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/fails.js"),L=A("./node_modules/core-js/internals/has-own-property.js"),O=A("./node_modules/core-js/internals/well-known-symbol.js"),H=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Q=A("./node_modules/core-js/internals/descriptors.js"),D=A("./node_modules/core-js/internals/is-pure.js"),R="constructor",K="Iterator",P=O("toStringTag"),V=TypeError,$=x[K],ae=D||!I($)||$.prototype!==H||!F(function(){$({})}),de=function(){if(g(this,H),N(this)===H)throw new V("Abstract class Iterator not directly constructable")},re=function(W,J){Q?S(H,W,{configurable:!0,get:function(){return J},set:function(oe){if(b(this),this===H)throw new V("You can't redefine this property");L(this,W)?this[W]=oe:E(this,W,oe)}}):H[W]=J};L(H,P)||re(P,K),(ae||!L(H,R)||H[R]===Object)&&re(R,de),de.prototype=H,m({global:!0,constructor:!0,forced:ae},{Iterator:de})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/iterate.js"),b=A("./node_modules/core-js/internals/a-callable.js"),I=A("./node_modules/core-js/internals/an-object.js"),N=A("./node_modules/core-js/internals/get-iterator-direct.js"),S=A("./node_modules/core-js/internals/iterator-close.js"),E=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),F=E("forEach",TypeError);m({target:"Iterator",proto:!0,real:!0,forced:F},{forEach:function(O){I(this);try{b(O)}catch(D){S(this,"throw",D)}if(F)return x(F,this,O);var H=N(this),Q=0;g(H,function(D){O(D,Q++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/get-iterator-direct.js"),N=A("./node_modules/core-js/internals/iterator-create-proxy.js"),S=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),E=A("./node_modules/core-js/internals/iterator-close.js"),F=A("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),L=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),O=A("./node_modules/core-js/internals/is-pure.js"),H=!O&&!F("map",function(){}),Q=!O&&!H&&L("map",TypeError),D=O||H||Q,R=N(function(){var K=this.iterator,P=b(x(this.next,K)),V=this.done=!!P.done;if(!V)return S(K,this.mapper,[P.value,this.counter++],!0)});m({target:"Iterator",proto:!0,real:!0,forced:D},{map:function(P){b(this);try{g(P)}catch(V){E(this,"throw",V)}return Q?x(Q,this,P):new R(I(this),{mapper:P})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/function-apply.js"),b=A("./node_modules/core-js/internals/function-call.js"),I=A("./node_modules/core-js/internals/function-uncurry-this.js"),N=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/is-callable.js"),E=A("./node_modules/core-js/internals/is-symbol.js"),F=A("./node_modules/core-js/internals/array-slice.js"),L=A("./node_modules/core-js/internals/get-json-replacer-function.js"),O=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),H=String,Q=x("JSON","stringify"),D=I(/./.exec),R=I("".charAt),K=I("".charCodeAt),P=I("".replace),V=I(1.1.toString),$=/[\uD800-\uDFFF]/g,ae=/^[\uD800-\uDBFF]$/,de=/^[\uDC00-\uDFFF]$/,re=!O||N(function(){var xe=x("Symbol")("stringify detection");return Q([xe])!=="[null]"||Q({a:xe})!=="{}"||Q(Object(xe))!=="{}"}),W=N(function(){return Q("\uDF06\uD834")!=='"\\udf06\\ud834"'||Q("\uDEAD")!=='"\\udead"'}),J=function(xe,ee){var M=F(arguments),X=L(ee);if(!(!S(X)&&(xe===void 0||E(xe))))return M[1]=function(ie,le){if(S(X)&&(le=b(X,this,H(ie),le)),!E(le))return le},g(Q,null,M)},oe=function(xe,ee,M){var X=R(M,ee-1),ie=R(M,ee+1);return D(ae,xe)&&!D(de,ie)||D(de,xe)&&!D(ae,X)?"\\u"+V(K(xe,0),16):xe};Q&&m({target:"JSON",stat:!0,arity:3,forced:re||W},{stringify:function(ee,M,X){var ie=F(arguments),le=g(re?J:Q,null,ie);return W&&typeof le=="string"?P(le,$,oe):le}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/descriptors.js"),b=A("./node_modules/core-js/internals/global-this.js"),I=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-uncurry-this.js"),S=A("./node_modules/core-js/internals/is-forced.js"),E=A("./node_modules/core-js/internals/has-own-property.js"),F=A("./node_modules/core-js/internals/inherit-if-required.js"),L=A("./node_modules/core-js/internals/object-is-prototype-of.js"),O=A("./node_modules/core-js/internals/is-symbol.js"),H=A("./node_modules/core-js/internals/to-primitive.js"),Q=A("./node_modules/core-js/internals/fails.js"),D=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,R=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,K=A("./node_modules/core-js/internals/object-define-property.js").f,P=A("./node_modules/core-js/internals/this-number-value.js"),V=A("./node_modules/core-js/internals/string-trim.js").trim,$="Number",ae=b[$],de=I[$],re=ae.prototype,W=b.TypeError,J=N("".slice),oe=N("".charCodeAt),xe=function(ce){var ye=H(ce,"number");return typeof ye=="bigint"?ye:ee(ye)},ee=function(ce){var ye=H(ce,"number"),Ne,ge,Se,Fe,Le,qe,Oe,he;if(O(ye))throw new W("Cannot convert a Symbol value to a number");if(typeof ye=="string"&&ye.length>2){if(ye=V(ye),Ne=oe(ye,0),Ne===43||Ne===45){if(ge=oe(ye,2),ge===88||ge===120)return NaN}else if(Ne===48){switch(oe(ye,1)){case 66:case 98:Se=2,Fe=49;break;case 79:case 111:Se=8,Fe=55;break;default:return+ye}for(Le=J(ye,2),qe=Le.length,Oe=0;Oe<qe;Oe++)if(he=oe(Le,Oe),he<48||he>Fe)return NaN;return parseInt(Le,Se)}}return+ye},M=S($,!ae(" 0o1")||!ae("0b1")||ae("+0x1")),X=function(ce){return L(re,ce)&&Q(function(){P(ce)})},ie=function(ye){var Ne=arguments.length<1?0:ae(xe(ye));return X(this)?F(Object(Ne),this,ie):Ne};ie.prototype=re,M&&!x&&(re.constructor=ie),m({global:!0,constructor:!0,wrap:!0,forced:M},{Number:ie});var le=function(ce,ye){for(var Ne=g?D(ye):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ge=0,Se;Ne.length>ge;ge++)E(ye,Se=Ne[ge])&&!E(ce,Se)&&K(ce,Se,R(ye,Se))};x&&de&&le(I[$],de),(M||x)&&le(I[$],ae)}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==x},{assign:x})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=A("./node_modules/core-js/internals/fails.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),I=A("./node_modules/core-js/internals/to-object.js"),N=!x||g(function(){b.f(1)});m({target:"Object",stat:!0,forced:N},{getOwnPropertySymbols:function(E){var F=b.f;return F?F(I(E)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/to-object.js"),g=A("./node_modules/core-js/internals/object-keys.js"),b=A("./node_modules/core-js/internals/fails.js"),I=b(function(){g(1)});m({target:"Object",stat:!0,forced:I},{keys:function(S){return g(x(S))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),x=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/object-to-string.js");m||x(Object.prototype,"toString",g,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),I=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),S=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{all:function(F){var L=this,O=b.f(L),H=O.resolve,Q=O.reject,D=I(function(){var R=g(L.resolve),K=[],P=0,V=1;N(F,function($){var ae=P++,de=!1;V++,x(R,L,$).then(function(re){de||(de=!0,K[ae]=re,--V||H(K))},Q)}),--V||H(K)});return D.error&&Q(D.value),O.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,b=A("./node_modules/core-js/internals/promise-native-constructor.js"),I=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),E=b&&b.prototype;if(m({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(L){return this.then(void 0,L)}}),!x&&N(b)){var F=I("Promise").prototype.catch;E.catch!==F&&S(E,"catch",F,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/environment-is-node.js"),b=A("./node_modules/core-js/internals/global-this.js"),I=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-call.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),E=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),L=A("./node_modules/core-js/internals/set-species.js"),O=A("./node_modules/core-js/internals/a-callable.js"),H=A("./node_modules/core-js/internals/is-callable.js"),Q=A("./node_modules/core-js/internals/is-object.js"),D=A("./node_modules/core-js/internals/an-instance.js"),R=A("./node_modules/core-js/internals/species-constructor.js"),K=A("./node_modules/core-js/internals/task.js").set,P=A("./node_modules/core-js/internals/microtask.js"),V=A("./node_modules/core-js/internals/host-report-errors.js"),$=A("./node_modules/core-js/internals/perform.js"),ae=A("./node_modules/core-js/internals/queue.js"),de=A("./node_modules/core-js/internals/internal-state.js"),re=A("./node_modules/core-js/internals/promise-native-constructor.js"),W=A("./node_modules/core-js/internals/promise-constructor-detection.js"),J=A("./node_modules/core-js/internals/new-promise-capability.js"),oe="Promise",xe=W.CONSTRUCTOR,ee=W.REJECTION_EVENT,M=W.SUBCLASSING,X=de.getterFor(oe),ie=de.set,le=re&&re.prototype,ce=re,ye=le,Ne=b.TypeError,ge=b.document,Se=b.process,Fe=J.f,Le=Fe,qe=!!(ge&&ge.createEvent&&b.dispatchEvent),Oe="unhandledrejection",he="rejectionhandled",et=0,wt=1,at=2,Ye=1,Ut=2,Lt,Wt,$t,ss,ns=function(ze){var At;return Q(ze)&&H(At=ze.then)?At:!1},Je=function(ze,At){var mt=At.value,Ot=At.state===wt,Et=Ot?ze.ok:ze.fail,Gt=ze.resolve,xs=ze.reject,Tt=ze.domain,pt,Pt,qt;try{Et?(Ot||(At.rejection===Ut&&Nt(At),At.rejection=Ye),Et===!0?pt=mt:(Tt&&Tt.enter(),pt=Et(mt),Tt&&(Tt.exit(),qt=!0)),pt===ze.promise?xs(new Ne("Promise-chain cycle")):(Pt=ns(pt))?N(Pt,pt,Gt,xs):Gt(pt)):xs(mt)}catch(os){Tt&&!qt&&Tt.exit(),xs(os)}},Ht=function(ze,At){ze.notified||(ze.notified=!0,P(function(){for(var mt=ze.reactions,Ot;Ot=mt.get();)Je(Ot,ze);ze.notified=!1,At&&!ze.rejection&&Mt(ze)}))},Vt=function(ze,At,mt){var Ot,Et;qe?(Ot=ge.createEvent("Event"),Ot.promise=At,Ot.reason=mt,Ot.initEvent(ze,!1,!0),b.dispatchEvent(Ot)):Ot={promise:At,reason:mt},!ee&&(Et=b["on"+ze])?Et(Ot):ze===Oe&&V("Unhandled promise rejection",mt)},Mt=function(ze){N(K,b,function(){var At=ze.facade,mt=ze.value,Ot=dt(ze),Et;if(Ot&&(Et=$(function(){g?Se.emit("unhandledRejection",mt,At):Vt(Oe,At,mt)}),ze.rejection=g||dt(ze)?Ut:Ye,Et.error))throw Et.value})},dt=function(ze){return ze.rejection!==Ye&&!ze.parent},Nt=function(ze){N(K,b,function(){var At=ze.facade;g?Se.emit("rejectionHandled",At):Vt(he,At,ze.value)})},Es=function(ze,At,mt){return function(Ot){ze(At,Ot,mt)}},Me=function(ze,At,mt){ze.done||(ze.done=!0,mt&&(ze=mt),ze.value=At,ze.state=at,Ht(ze,!0))},ut=function(ze,At,mt){if(!ze.done){ze.done=!0,mt&&(ze=mt);try{if(ze.facade===At)throw new Ne("Promise can't be resolved itself");var Ot=ns(At);Ot?P(function(){var Et={done:!1};try{N(Ot,At,Es(ut,Et,ze),Es(Me,Et,ze))}catch(Gt){Me(Et,Gt,ze)}}):(ze.value=At,ze.state=wt,Ht(ze,!1))}catch(Et){Me({done:!1},Et,ze)}}};if(xe&&(ce=function(At){D(this,ye),O(At),N(Lt,this);var mt=X(this);try{At(Es(ut,mt),Es(Me,mt))}catch(Ot){Me(mt,Ot)}},ye=ce.prototype,Lt=function(At){ie(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:new ae,rejection:!1,state:et,value:null})},Lt.prototype=S(ye,"then",function(At,mt){var Ot=X(this),Et=Fe(R(this,ce));return Ot.parent=!0,Et.ok=H(At)?At:!0,Et.fail=H(mt)&&mt,Et.domain=g?Se.domain:void 0,Ot.state===et?Ot.reactions.add(Et):P(function(){Je(Et,Ot)}),Et.promise}),Wt=function(){var ze=new Lt,At=X(ze);this.promise=ze,this.resolve=Es(ut,At),this.reject=Es(Me,At)},J.f=Fe=function(ze){return ze===ce||ze===$t?new Wt(ze):Le(ze)},!x&&H(re)&&le!==Object.prototype)){ss=le.then,M||S(le,"then",function(At,mt){var Ot=this;return new ce(function(Et,Gt){N(ss,Ot,Et,Gt)}).then(At,mt)},{unsafe:!0});try{delete le.constructor}catch{}E&&E(le,ye)}m({global:!0,constructor:!0,wrap:!0,forced:xe},{Promise:ce}),$t=I.Promise,F(ce,oe,!1,!0),L(oe)}),"./node_modules/core-js/modules/es.promise.js":(function(u,f,A){A("./node_modules/core-js/modules/es.promise.constructor.js"),A("./node_modules/core-js/modules/es.promise.all.js"),A("./node_modules/core-js/modules/es.promise.catch.js"),A("./node_modules/core-js/modules/es.promise.race.js"),A("./node_modules/core-js/modules/es.promise.reject.js"),A("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),I=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),S=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{race:function(F){var L=this,O=b.f(L),H=O.reject,Q=I(function(){var D=g(L.resolve);N(F,function(R){x(D,L,R).then(O.resolve,H)})});return Q.error&&H(Q.value),O.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/new-promise-capability.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;m({target:"Promise",stat:!0,forced:g},{reject:function(I){var N=x.f(this),S=N.reject;return S(I),N.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/promise-native-constructor.js"),I=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,N=A("./node_modules/core-js/internals/promise-resolve.js"),S=x("Promise"),E=g&&!I;m({target:"Promise",stat:!0,forced:g||I},{resolve:function(L){return N(E&&this===S?b:this,L)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/regexp-exec.js");m({target:"RegExp",proto:!0,forced:/./.exec!==x},{exec:x})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(u,f,A){A("./node_modules/core-js/modules/es.regexp.exec.js");var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=(function(){var E=!1,F=/[ac]/;return F.exec=function(){return E=!0,/./.exec.apply(this,arguments)},F.test("abc")===!0&&E})(),S=/./.test;m({target:"RegExp",proto:!0,forced:!N},{test:function(E){var F=b(this),L=I(E),O=F.exec;if(!g(O))return x(S,F,L);var H=x(O,F,L);return H===null?!1:(b(H),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-name.js").PROPER,x=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/to-string.js"),I=A("./node_modules/core-js/internals/fails.js"),N=A("./node_modules/core-js/internals/regexp-get-flags.js"),S="toString",E=RegExp.prototype,F=E[S],L=I(function(){return F.call({source:"a",flags:"b"})!=="/a/b"}),O=m&&F.name!==S;(L||O)&&x(E,S,function(){var Q=g(this),D=b(Q.source),R=b(N(Q));return"/"+D+"/"+R},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/collection.js"),x=A("./node_modules/core-js/internals/collection-strong.js");m("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},x)}),"./node_modules/core-js/modules/es.set.js":(function(u,f,A){A("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/string-multibyte.js").charAt,x=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/internal-state.js"),b=A("./node_modules/core-js/internals/iterator-define.js"),I=A("./node_modules/core-js/internals/create-iter-result-object.js"),N="String Iterator",S=g.set,E=g.getterFor(N);b(String,"String",function(F){S(this,{type:N,string:x(F),index:0})},function(){var L=E(this),O=L.string,H=L.index,Q;return H>=O.length?I(void 0,!0):(Q=m(O,H),L.index+=Q.length,I(Q,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/create-html.js"),g=A("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(I){return x(this,"a","href",I)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),I=A("./node_modules/core-js/internals/is-pure.js"),N=A("./node_modules/core-js/internals/descriptors.js"),S=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),E=A("./node_modules/core-js/internals/fails.js"),F=A("./node_modules/core-js/internals/has-own-property.js"),L=A("./node_modules/core-js/internals/object-is-prototype-of.js"),O=A("./node_modules/core-js/internals/an-object.js"),H=A("./node_modules/core-js/internals/to-indexed-object.js"),Q=A("./node_modules/core-js/internals/to-property-key.js"),D=A("./node_modules/core-js/internals/to-string.js"),R=A("./node_modules/core-js/internals/create-property-descriptor.js"),K=A("./node_modules/core-js/internals/object-create.js"),P=A("./node_modules/core-js/internals/object-keys.js"),V=A("./node_modules/core-js/internals/object-get-own-property-names.js"),$=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ae=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),de=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),re=A("./node_modules/core-js/internals/object-define-property.js"),W=A("./node_modules/core-js/internals/object-define-properties.js"),J=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),oe=A("./node_modules/core-js/internals/define-built-in.js"),xe=A("./node_modules/core-js/internals/define-built-in-accessor.js"),ee=A("./node_modules/core-js/internals/shared.js"),M=A("./node_modules/core-js/internals/shared-key.js"),X=A("./node_modules/core-js/internals/hidden-keys.js"),ie=A("./node_modules/core-js/internals/uid.js"),le=A("./node_modules/core-js/internals/well-known-symbol.js"),ce=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ye=A("./node_modules/core-js/internals/well-known-symbol-define.js"),Ne=A("./node_modules/core-js/internals/symbol-define-to-primitive.js"),ge=A("./node_modules/core-js/internals/set-to-string-tag.js"),Se=A("./node_modules/core-js/internals/internal-state.js"),Fe=A("./node_modules/core-js/internals/array-iteration.js").forEach,Le=M("hidden"),qe="Symbol",Oe="prototype",he=Se.set,et=Se.getterFor(qe),wt=Object[Oe],at=x.Symbol,Ye=at&&at[Oe],Ut=x.RangeError,Lt=x.TypeError,Wt=x.QObject,$t=de.f,ss=re.f,ns=$.f,Je=J.f,Ht=b([].push),Vt=ee("symbols"),Mt=ee("op-symbols"),dt=ee("wks"),Nt=!Wt||!Wt[Oe]||!Wt[Oe].findChild,Es=function(Tt,pt,Pt){var qt=$t(wt,pt);qt&&delete wt[pt],ss(Tt,pt,Pt),qt&&Tt!==wt&&ss(wt,pt,qt)},Me=N&&E(function(){return K(ss({},"a",{get:function(){return ss(this,"a",{value:7}).a}})).a!==7})?Es:ss,ut=function(Tt,pt){var Pt=Vt[Tt]=K(Ye);return he(Pt,{type:qe,tag:Tt,description:pt}),N||(Pt.description=pt),Pt},ze=function(pt,Pt,qt){pt===wt&&ze(Mt,Pt,qt),O(pt);var os=Q(Pt);return O(qt),F(Vt,os)?(qt.enumerable?(F(pt,Le)&&pt[Le][os]&&(pt[Le][os]=!1),qt=K(qt,{enumerable:R(0,!1)})):(F(pt,Le)||ss(pt,Le,R(1,K(null))),pt[Le][os]=!0),Me(pt,os,qt)):ss(pt,os,qt)},At=function(pt,Pt){O(pt);var qt=H(Pt),os=P(qt).concat(xs(qt));return Fe(os,function(Os){(!N||g(Ot,qt,Os))&&ze(pt,Os,qt[Os])}),pt},mt=function(pt,Pt){return Pt===void 0?K(pt):At(K(pt),Pt)},Ot=function(pt){var Pt=Q(pt),qt=g(Je,this,Pt);return this===wt&&F(Vt,Pt)&&!F(Mt,Pt)?!1:qt||!F(this,Pt)||!F(Vt,Pt)||F(this,Le)&&this[Le][Pt]?qt:!0},Et=function(pt,Pt){var qt=H(pt),os=Q(Pt);if(!(qt===wt&&F(Vt,os)&&!F(Mt,os))){var Os=$t(qt,os);return Os&&F(Vt,os)&&!(F(qt,Le)&&qt[Le][os])&&(Os.enumerable=!0),Os}},Gt=function(pt){var Pt=ns(H(pt)),qt=[];return Fe(Pt,function(os){!F(Vt,os)&&!F(X,os)&&Ht(qt,os)}),qt},xs=function(Tt){var pt=Tt===wt,Pt=ns(pt?Mt:H(Tt)),qt=[];return Fe(Pt,function(os){F(Vt,os)&&(!pt||F(wt,os))&&Ht(qt,Vt[os])}),qt};S||(at=function(){if(L(Ye,this))throw new Lt("Symbol is not a constructor");var pt=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),Pt=ie(pt),qt=function(os){var Os=this===void 0?x:this;Os===wt&&g(qt,Mt,os),F(Os,Le)&&F(Os[Le],Pt)&&(Os[Le][Pt]=!1);var wn=R(1,os);try{Me(Os,Pt,wn)}catch(es){if(!(es instanceof Ut))throw es;Es(Os,Pt,wn)}};return N&&Nt&&Me(wt,Pt,{configurable:!0,set:qt}),ut(Pt,pt)},Ye=at[Oe],oe(Ye,"toString",function(){return et(this).tag}),oe(at,"withoutSetter",function(Tt){return ut(ie(Tt),Tt)}),J.f=Ot,re.f=ze,W.f=At,de.f=Et,V.f=$.f=Gt,ae.f=xs,ce.f=function(Tt){return ut(le(Tt),Tt)},N&&(xe(Ye,"description",{configurable:!0,get:function(){return et(this).description}}),I||oe(wt,"propertyIsEnumerable",Ot,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!S,sham:!S},{Symbol:at}),Fe(P(dt),function(Tt){ye(Tt)}),m({target:qe,stat:!0,forced:!S},{useSetter:function(){Nt=!0},useSimple:function(){Nt=!1}}),m({target:"Object",stat:!0,forced:!S,sham:!N},{create:mt,defineProperty:ze,defineProperties:At,getOwnPropertyDescriptor:Et}),m({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:Gt}),Ne(),ge(at,qe),X[Le]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/descriptors.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/object-is-prototype-of.js"),E=A("./node_modules/core-js/internals/to-string.js"),F=A("./node_modules/core-js/internals/define-built-in-accessor.js"),L=A("./node_modules/core-js/internals/copy-constructor-properties.js"),O=g.Symbol,H=O&&O.prototype;if(x&&N(O)&&(!("description"in H)||O().description!==void 0)){var Q={},D=function(){var re=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),W=S(H,this)?new O(re):re===void 0?O():O(re);return re===""&&(Q[W]=!0),W};L(D,O),D.prototype=H,H.constructor=D;var R=String(O("description detection"))==="Symbol(description detection)",K=b(H.valueOf),P=b(H.toString),V=/^Symbol\((.*)\)[^)]+$/,$=b("".replace),ae=b("".slice);F(H,"description",{configurable:!0,get:function(){var re=K(this);if(I(Q,re))return"";var W=P(re),J=R?ae(W,7,-1):$(W,V,"$1");return J===""?void 0:J}}),m({global:!0,constructor:!0,forced:!0},{Symbol:D})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/to-string.js"),I=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),S=I("string-to-symbol-registry"),E=I("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{for:function(F){var L=b(F);if(g(S,L))return S[L];var O=x("Symbol")(L);return S[L]=O,E[O]=L,O}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol-define.js");m("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,f,A){A("./node_modules/core-js/modules/es.symbol.constructor.js"),A("./node_modules/core-js/modules/es.symbol.for.js"),A("./node_modules/core-js/modules/es.symbol.key-for.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),S=I("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{keyFor:function(F){if(!g(F))throw new TypeError(b(F)+" is not a symbol");if(x(S,F))return S[F]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").add;m({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var I=x(this),N=0,S=arguments.length;N<S;N++)g(I,arguments[N]);return I}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").remove;m({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var I=x(this),N=!0,S,E=0,F=arguments.length;E<F;E++)S=g(I,arguments[E]),N=N&&S;return!!N}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{every:function(N){var S=g(this),E=x(N,arguments.length>1?arguments[1]:void 0);return b(S,function(F){if(!E(F,F,S))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,S=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(F){var L=g(this),O=x(F,arguments.length>1?arguments[1]:void 0),H=new N;return I(L,function(Q){O(Q,Q,L)&&S(H,Q)}),H}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{find:function(N){var S=g(this),E=x(N,arguments.length>1?arguments[1]:void 0),F=b(S,function(L){if(E(L,L,S))return{value:L}},!0);return F&&F.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-intersection.js");m({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-disjoint-from.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-subset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-superset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=x([].join),S=x([].push);m({target:"Set",proto:!0,real:!0,forced:!0},{join:function(F){var L=g(this),O=F===void 0?",":I(F),H=[];return b(L,function(Q){S(H,Q)}),N(H,O)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,S=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{map:function(F){var L=g(this),O=x(F,arguments.length>1?arguments[1]:void 0),H=new N;return I(L,function(Q){S(H,O(Q,Q,L))}),H}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),I=TypeError;m({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(S){var E=g(this),F=arguments.length<2,L=F?void 0:arguments[1];if(x(S),b(E,function(O){F?(F=!1,L=O):L=S(L,O,O,E)}),F)throw new I("Reduce of empty set with no initial value");return L}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{some:function(N){var S=g(this),E=x(N,arguments.length>1?arguments[1]:void 0);return b(S,function(F){if(E(F,F,S))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-symmetric-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-union.js");m({target:"Set",proto:!0,real:!0,forced:!0},{union:function(N){return x(b,this,g(N))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/internals/array-for-each.js"),I=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=function(E){if(E&&E.forEach!==b)try{I(E,"forEach",b)}catch{E.forEach=b}};for(var S in x)x[S]&&N(m[S]&&m[S].prototype);N(g)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),x=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/modules/es.array.iterator.js"),I=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=A("./node_modules/core-js/internals/set-to-string-tag.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),E=S("iterator"),F=b.values,L=function(H,Q){if(H){if(H[E]!==F)try{I(H,E,F)}catch{H[E]=F}if(N(H,Q,!0),x[Q]){for(var D in b)if(H[D]!==b[D])try{I(H,D,b[D])}catch{H[D]=b[D]}}}};for(var O in x)L(m[O]&&m[O].prototype,O);L(g,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(x.setInterval,!0);m({global:!0,bind:!0,forced:x.setInterval!==b},{setInterval:b})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),x=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(x.setTimeout,!0);m({global:!0,bind:!0,forced:x.setTimeout!==b},{setTimeout:b})}),"./node_modules/core-js/modules/web.timers.js":(function(u,f,A){A("./node_modules/core-js/modules/web.set-interval.js"),A("./node_modules/core-js/modules/web.set-timeout.js")}),"./src/plugin/hyperlinks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.link.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),x=A("./src/utils.js"),g=[],b={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){if(this.opt.enableLinks){var S=this.prop.container,E=S.querySelectorAll("a"),F=(0,x.unitConvert)(S.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(E,function(L){for(var O=L.getClientRects(),H=0;H<O.length;H++){var Q=(0,x.unitConvert)(O[H],this.prop.pageSize.k);Q.left-=F.left,Q.top-=F.top;var D=Math.floor(Q.top/this.prop.pageSize.inner.height)+1,R=this.opt.margin[0]+Q.top%this.prop.pageSize.inner.height,K=this.opt.margin[1]+Q.left;g.push({page:D,top:R,left:K,clientRect:Q,link:L})}},this)}})},m.default.prototype.toPdf=function(){return b.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(E){this.prop.pdf.setPage(E.page),this.prop.pdf.link(E.left,E.top,E.clientRect.width,E.clientRect.height,{url:E.link.href})},this);var S=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(S)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=A("jspdf");function x(g){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},x(g)}m.jsPDF.getPageSize=function(g,b,I){if(x(g)==="object"){var N=g;g=N.orientation,b=N.unit||b,I=N.format||I}b=b||"mm",I=I||"a4",g=(""+(g||"P")).toLowerCase();var S=(""+I).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(b){case"pt":var F=1;break;case"mm":var F=72/25.4;break;case"cm":var F=72/2.54;break;case"in":var F=72;break;case"px":var F=72/96;break;case"pc":var F=12;break;case"em":var F=12;break;case"ex":var F=6;break;default:throw"Invalid unit: "+b}if(E.hasOwnProperty(S))var L=E[S][1]/F,O=E[S][0]/F;else try{var L=I[1],O=I[0]}catch{throw new Error("Invalid format: "+I)}if(g==="p"||g==="portrait"){if(g="p",O>L){var H=O;O=L,L=H}}else if(g==="l"||g==="landscape"){if(g="l",L>O){var H=O;O=L,L=H}}else throw"Invalid orientation: "+g;var Q={width:O,height:L,unit:b,k:F};return Q},f.default=m.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.join.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),x=A("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var N=this.prop.container,S=this.prop.pageSize.inner.px.height,E=[].concat(this.opt.pagebreak.mode),F={avoidAll:E.indexOf("avoid-all")!==-1,css:E.indexOf("css")!==-1,legacy:E.indexOf("legacy")!==-1},L={},O=this;["before","after","avoid"].forEach(function(D){var R=F.avoidAll&&D==="avoid";L[D]=R?[]:[].concat(O.opt.pagebreak[D]||[]),L[D].length>0&&(L[D]=Array.prototype.slice.call(N.querySelectorAll(L[D].join(", "))))});var H=N.querySelectorAll(".html2pdf__page-break");H=Array.prototype.slice.call(H);var Q=N.querySelectorAll("*");Array.prototype.forEach.call(Q,function(R){var K={before:!1,after:F.legacy&&H.indexOf(R)!==-1,avoid:F.avoidAll};if(F.css){var P=window.getComputedStyle(R),V=["always","page","left","right"],$=["avoid","avoid-page"];K={before:K.before||V.indexOf(P.breakBefore||P.pageBreakBefore)!==-1,after:K.after||V.indexOf(P.breakAfter||P.pageBreakAfter)!==-1,avoid:K.avoid||$.indexOf(P.breakInside||P.pageBreakInside)!==-1}}Object.keys(K).forEach(function(oe){K[oe]=K[oe]||L[oe].indexOf(R)!==-1});var ae=R.getBoundingClientRect();if(K.avoid&&!K.before){var de=Math.floor(ae.top/S),re=Math.floor(ae.bottom/S),W=Math.abs(ae.bottom-ae.top)/S;re!==de&&W<=1&&(K.before=!0)}if(K.before){var J=(0,x.createElement)("div",{style:{display:"block",height:S-ae.top%S+"px"}});R.parentNode.insertBefore(J,R)}if(K.after){var J=(0,x.createElement)("div",{style:{display:"block",height:S-ae.bottom%S+"px"}});R.parentNode.insertBefore(J,R.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(u,f,A){A.r(f),A.d(f,{deepCloneBasic:function(){return I}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.from.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.regexp.exec.js"),A("./node_modules/core-js/modules/es.regexp.test.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/es.set.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/esnext.set.add-all.js"),A("./node_modules/core-js/modules/esnext.set.delete-all.js"),A("./node_modules/core-js/modules/esnext.set.difference.js"),A("./node_modules/core-js/modules/esnext.set.every.js"),A("./node_modules/core-js/modules/esnext.set.filter.js"),A("./node_modules/core-js/modules/esnext.set.find.js"),A("./node_modules/core-js/modules/esnext.set.intersection.js"),A("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),A("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),A("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),A("./node_modules/core-js/modules/esnext.set.join.js"),A("./node_modules/core-js/modules/esnext.set.map.js"),A("./node_modules/core-js/modules/esnext.set.reduce.js"),A("./node_modules/core-js/modules/esnext.set.some.js"),A("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),A("./node_modules/core-js/modules/esnext.set.union.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N,S){var E=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!E){if(Array.isArray(N)||(E=x(N))||S){E&&(N=E);var F=0,L=function(){};return{s:L,n:function(){return F>=N.length?{done:!0}:{done:!1,value:N[F++]}},e:function(R){throw R},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,H=!0,Q=!1;return{s:function(){E=E.call(N)},n:function(){var R=E.next();return H=R.done,R},e:function(R){Q=!0,O=R},f:function(){try{H||E.return==null||E.return()}finally{if(Q)throw O}}}}function x(N,S){if(N){if(typeof N=="string")return g(N,S);var E={}.toString.call(N).slice(8,-1);return E==="Object"&&N.constructor&&(E=N.constructor.name),E==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?g(N,S):void 0}}function g(N,S){(S==null||S>N.length)&&(S=N.length);for(var E=0,F=Array(S);E<S;E++)F[E]=N[E];return F}function b(N,S){try{var E=N.currentSrc||N.src||"";if(!E)return;S.setAttribute("src",E),S.removeAttribute("srcset"),S.removeAttribute("sizes"),S.loading="eager",S.decoding="sync"}catch{}}function I(N){if(!N)throw new Error("Invalid node");var S=new Set,E=null;if(N.nodeType===Node.TEXT_NODE||N.nodeType!==Node.ELEMENT_NODE)return N.cloneNode(!0);if(N.tagName==="IFRAME"){var F=document.createElement("div");return F.style.cssText="width:".concat(N.offsetWidth,"px;height:").concat(N.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),F}if(N.tagName==="CANVAS"){var L=N.toDataURL(),O=document.createElement("img");return O.src=L,O.width=N.width,O.height=N.height,O}var H;try{H=N.cloneNode(!1),N.tagName==="IMG"&&b(N,H)}catch(qe){throw console.error("[Snapdom] Failed to clone node:",N,qe),qe}if(N instanceof HTMLTextAreaElement){H.textContent=N.value,H.value=N.value;var Q=N.getBoundingClientRect();return H.style.boxSizing="border-box",H.style.width="".concat(Q.width,"px"),H.style.height="".concat(Q.height,"px"),H}if(N instanceof HTMLInputElement&&(N.hasAttribute("value")&&(H.value=N.value,H.setAttribute("value",N.value)),N.checked!==void 0&&(H.checked=N.checked,N.checked&&H.setAttribute("checked",""),N.indeterminate&&(H.indeterminate=N.indeterminate))),N instanceof HTMLSelectElement&&(E=N.value),N.shadowRoot){var D=Array.from(N.shadowRoot.querySelectorAll("slot")).length>0;if(!D){var R=document.createDocumentFragment(),K=m(N.shadowRoot.childNodes),P;try{for(K.s();!(P=K.n()).done;){var V=P.value;if(!(V.nodeType===Node.ELEMENT_NODE&&V.tagName==="STYLE")){var $=I(V);$&&R.appendChild($)}}}catch(qe){K.e(qe)}finally{K.f()}H.appendChild(R)}}if(N.tagName==="SLOT"){var ae,de=((ae=N.assignedNodes)===null||ae===void 0?void 0:ae.call(N,{flatten:!0}))||[],re=de.length>0?de:Array.from(N.childNodes),W=document.createDocumentFragment(),J=m(re),oe;try{for(J.s();!(oe=J.n()).done;){var xe=oe.value,ee=I(xe);ee&&W.appendChild(ee)}}catch(qe){J.e(qe)}finally{J.f()}return W}var M=m(N.childNodes),X;try{for(M.s();!(X=M.n()).done;){var ie=X.value;if(!S.has(ie)){var le=I(ie);le&&H.appendChild(le)}}}catch(qe){M.e(qe)}finally{M.f()}if(E!==null&&H instanceof HTMLSelectElement){H.value=E;var ce=m(H.options),ye;try{for(ce.s();!(ye=ce.n()).done;){var Ne=ye.value;Ne.value===E?Ne.setAttribute("selected",""):Ne.removeAttribute("selected")}}catch(qe){ce.e(qe)}finally{ce.f()}}var ge=N.scrollLeft,Se=N.scrollTop,Fe=ge||Se;if(Fe&&H instanceof HTMLElement){H.style.overflow="hidden",H.style.scrollbarWidth="none",H.style.msOverflowStyle="none";var Le=document.createElement("div");for(Le.style.transform="translate(".concat(-ge,"px, ").concat(-Se,"px)"),Le.style.willChange="transform",Le.style.display="inline-block",Le.style.width="100%";H.firstChild;)Le.appendChild(H.firstChild);H.appendChild(Le)}return H}}),"./src/utils.js":(function(u,f,A){A.r(f),A.d(f,{createElement:function(){return g},objType:function(){return x},toPx:function(){return I},unitConvert:function(){return b}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.number.constructor.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},m(N)}var x=function(S){var E=m(S);return E==="undefined"?"undefined":E==="string"||S instanceof String?"string":E==="number"||S instanceof Number?"number":E==="function"||S instanceof Function?"function":S&&S.constructor===Array?"array":S&&S.nodeType===1?"element":E==="object"?"object":"unknown"},g=function(S,E){var F=document.createElement(S);if(E.className&&(F.className=E.className),E.innerHTML){F.innerHTML=E.innerHTML;for(var L=F.getElementsByTagName("script"),O=L.length;O-- >0;null)L[O].parentNode.removeChild(L[O])}for(var H in E.style)F.style[H]=E.style[H];return F},b=function(S,E){if(x(S)==="number")return S*72/96/E;var F={};for(var L in S)F[L]=S[L]*72/96/E;return F},I=function(S,E){return Math.floor(S*E/72*96)}}),"./src/worker.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.map.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.assign.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.promise.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/esnext.iterator.map.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js"),A("./node_modules/core-js/modules/web.timers.js");var m=A("jspdf"),x=A("html2canvas"),g=A.n(x),b=A("./src/snapdom/clone.js"),I=A("./src/utils.js"),N=function S(E){var F=Object.assign(S.convert(Promise.resolve()),JSON.parse(JSON.stringify(S.template))),L=S.convert(Promise.resolve(),F);return L=L.setProgress(1,S,1,[S]),L=L.set(E),L};N.prototype=Object.create(Promise.prototype),N.prototype.constructor=N,N.convert=function(E,F){return E.__proto__=F||N.prototype,E},N.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},N.prototype.from=function(E,F){function L(O){switch((0,I.objType)(O)){case"string":return"string";case"element":return O.nodeName.toLowerCase&&O.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(F=F||L(E),F){case"string":return this.set({src:(0,I.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},N.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},N.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var L={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},O={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};L.opacity=0;var H=(0,b.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,I.createElement)("div",{className:"html2pdf__overlay",style:L}),this.prop.container=(0,I.createElement)("div",{className:"html2pdf__container",style:O}),this.prop.container.appendChild(H),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(Q){return setTimeout(Q,10)})})},N.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var L=Object.assign({},this.opt.html2canvas);return delete L.onrendered,g()(this.prop.container,L)}).then(function(L){var O=this.opt.html2canvas.onrendered||function(){};O(L),this.prop.canvas=L,document.body.removeChild(this.prop.overlay)})},N.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var L=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=L})},N.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var L=this.prop.canvas,O=this.opt,H=L.height,Q=Math.floor(L.width*this.prop.pageSize.inner.ratio),D=Math.ceil(H/Q),R=this.prop.pageSize.inner.height,K=document.createElement("canvas"),P=K.getContext("2d");K.width=L.width,K.height=Q,this.prop.pdf=this.prop.pdf||new m.jsPDF(O.jsPDF);for(var V=0;V<D;V++){V===D-1&&H%Q!==0&&(K.height=H%Q,R=K.height*this.prop.pageSize.inner.width/K.width);var $=K.width,ae=K.height;P.fillStyle="white",P.fillRect(0,0,$,ae),P.drawImage(L,0,V*Q,$,ae,0,0,$,ae),V&&this.prop.pdf.addPage();var de=K.toDataURL("image/"+O.image.type,O.image.quality);this.prop.pdf.addImage(de,O.image.type,O.margin[1],O.margin[0],this.prop.pageSize.inner.width,R)}})},N.prototype.output=function(E,F,L){return L=L||"pdf",L.toLowerCase()==="img"||L.toLowerCase()==="image"?this.outputImg(E,F):this.outputPdf(E,F)},N.prototype.outputPdf=function(E,F){var L=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(L).then(function(){return this.prop.pdf.output(E,F)})},N.prototype.outputImg=function(E,F){var L=[function(){return this.prop.img||this.toImg()}];return this.thenList(L).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},N.prototype.save=function(E){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},N.prototype.set=function(E){if((0,I.objType)(E)!=="object")return this;var F=Object.keys(E||{}).map(function(L){switch(L){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return L in N.template.prop?function(){this.prop[L]=E[L]}:function(){this.opt[L]=E[L]}}},this);return this.then(function(){return this.thenList(F)})},N.prototype.get=function(E,F){return this.then(function(){var O=E in N.template.prop?this.prop[E]:this.opt[E];return F?F(O):O})},N.prototype.setMargin=function(E){return this.then(function(){switch((0,I.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},N.prototype.setPageSize=function(E){return this.then(function(){E=E||m.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,I.toPx)(E.inner.width,E.k),height:(0,I.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},N.prototype.setProgress=function(E,F,L,O){return E!=null&&(this.progress.val=E),F!=null&&(this.progress.state=F),L!=null&&(this.progress.n=L),O!=null&&(this.progress.stack=O),this.progress.ratio=this.progress.val/this.progress.state,this},N.prototype.updateProgress=function(E,F,L,O){return this.setProgress(E?this.progress.val+E:null,F||null,L?this.progress.n+L:null,O?this.progress.stack.concat(O):null)},N.prototype.then=function(E,F){var L=this;return this.thenCore(E,F,function(H,Q){return L.updateProgress(null,null,1,[H]),Promise.prototype.then.call(this,function(R){return L.updateProgress(null,H),R}).then(H,Q).then(function(R){return L.updateProgress(1),R})})},N.prototype.thenCore=function(E,F,L){L=L||Promise.prototype.then;var O=this;E&&(E=E.bind(O)),F&&(F=F.bind(O));var H=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",Q=H?O:N.convert(Object.assign({},O),Promise.prototype),D=L.call(Q,E,F);return N.convert(D,O.__proto__)},N.prototype.thenExternal=function(E,F){return Promise.prototype.then.call(this,E,F)},N.prototype.thenList=function(E){var F=this;return E.forEach(function(O){F=F.thenCore(O)}),F},N.prototype.catch=function(S){S&&(S=S.bind(this));var E=Promise.prototype.catch.call(this,S);return N.convert(E,this)},N.prototype.catchExternal=function(E){return Promise.prototype.catch.call(this,E)},N.prototype.error=function(E){return this.then(function(){throw new Error(E)})},N.prototype.using=N.prototype.set,N.prototype.saveAs=N.prototype.save,N.prototype.export=N.prototype.output,N.prototype.run=N.prototype.then,f.default=N}),html2canvas:(function(u){u.exports=n}),jspdf:(function(u){u.exports=t})},o={};function c(u){var f=o[u];if(f!==void 0)return f.exports;var A=o[u]={exports:{}};return r[u].call(A.exports,A,A.exports,c),A.exports}(function(){c.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(f,{a:f}),f}})(),(function(){c.d=function(u,f){for(var A in f)c.o(f,A)&&!c.o(u,A)&&Object.defineProperty(u,A,{enumerable:!0,get:f[A]})}})(),(function(){c.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)}})(),(function(){c.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var h={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/c.r(h);var u=c("./src/worker.js");c("./src/plugin/jspdf-plugin.js"),c("./src/plugin/pagebreaks.js"),c("./src/plugin/hyperlinks.js");var f=function A(m,x){var g=new A.Worker(x);return m?g.from(m).save():g};f.Worker=u.default,h.default=f})(),h=h.default,h})()})})(Zy)),Zy.exports}var NV=SV();const EV=qb(NV),TV=({data:s})=>{var S;const[e,t]=Z.useState(!1),[n,r]=Z.useState(null);if(Z.useEffect(()=>{var F;const E=async()=>{var O;const L=(O=s==null?void 0:s.schoolInfo)==null?void 0:O.logoUrl;if(!L){r(null);return}if(L.startsWith("data:")){r(L);return}try{const Q=await(await fetch(L)).blob(),D=new FileReader;D.onloadend=()=>{r(D.result)},D.readAsDataURL(Q)}catch(H){console.error("Failed to fetch or convert logo:",H),r(L)}};(F=s==null?void 0:s.schoolInfo)!=null&&F.logoUrl&&E()},[(S=s==null?void 0:s.schoolInfo)==null?void 0:S.logoUrl]),!s)return null;const{schoolInfo:o,studentInfo:c,attendance:h,performance:u,summary:f,skills:A,remarks:m,promotion:x,termDates:g}=s,b=async E=>{const F=Array.from(E.querySelectorAll("img"));await Promise.all(F.map(L=>(L.setAttribute("crossorigin","anonymous"),L.setAttribute("referrerpolicy","no-referrer"),L.complete&&L.naturalWidth>0?Promise.resolve():new Promise(O=>{const H=()=>O();L.addEventListener("load",H,{once:!0}),L.addEventListener("error",H,{once:!0})}))))},I=async E=>{const F=E.includes("?")?`${E}&cb=${Date.now()}`:`${E}?cb=${Date.now()}`,O=await(await fetch(F)).blob();return await new Promise((H,Q)=>{const D=new FileReader;D.onloadend=()=>H(D.result),D.onerror=Q,D.readAsDataURL(O)})},N=async()=>{const E=document.getElementById("report-card");if(!E)return;t(!0);const F=E.querySelector("img[data-report-logo='true']"),L=F==null?void 0:F.src,O={transform:E.style.transform,transformOrigin:E.style.transformOrigin,width:E.style.width};try{E.style.width="794px";const D=E.scrollHeight||E.offsetHeight,R=Math.min(1,1123/D);if(E.style.transform=`scale(${R})`,E.style.transformOrigin="top left",F!=null&&F.src&&!F.src.startsWith("data:image"))try{const P=await I(F.src);F.src=P}catch(P){console.warn("Logo base64 conversion failed. Using normal URL.",P)}await b(E);const K={margin:0,filename:`${s.studentInfo.name}_Report_Card.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2.2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1},jsPDF:{unit:"px",format:[794,1123],orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"]}};await EV().set(K).from(E).save()}catch(H){console.error("PDF generation failed:",H)}finally{F&&L&&(F.src=L),E.style.transform=O.transform,E.style.transformOrigin=O.transformOrigin,E.style.width=O.width,t(!1)}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{id:"report-card",className:"bg-white p-4 rounded-lg shadow-lg border border-slate-200 text-[12.5px] leading-relaxed",style:{minHeight:"10.7in",boxSizing:"border-box",pageBreakInside:"avoid"},children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 mb-2",style:{borderBottom:"2px solid #0B4A82"},children:[i.jsxs("div",{className:"flex items-center",children:[o.logoUrl?i.jsx("img",{"data-report-logo":"true",src:o.logoUrl,alt:"School Logo",className:"h-12 w-12 object-contain",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:E=>{E.currentTarget.style.display="none",console.warn("Logo failed to load:",o.logoUrl)}}):null,i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-primary-900",children:o.name}),i.jsxs("p",{className:"text-xs text-slate-600",children:[o.address," | ",o.phone]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-lg font-bold text-primary-800",children:"Terminal Report Card"}),i.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:[o.academicYear," | ",o.term]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 p-2 rounded mb-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Name:"})," ",c.name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Class:"})," ",c.class]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Gender:"})," ",c.gender]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",c.classTeacher]})]}),i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.totalDays}),i.jsx("span",{className:"text-xs text-red-700",children:"School Days"})]}),i.jsxs("div",{className:"bg-green-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-green-800 text-lg",children:h.presentDays}),i.jsx("span",{className:"text-xs text-green-700",children:"Present"})]}),i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.absentDays}),i.jsx("span",{className:"text-xs text-red-700",children:"Absent"})]}),i.jsxs("div",{className:"bg-purple-50 p-1.5 rounded",children:[i.jsxs("span",{className:"block font-bold text-purple-800 text-lg",children:[h.attendancePercentage,"%"]}),i.jsx("span",{className:"text-xs text-purple-700",children:"Attendance"})]})]})}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-2 px-3 pb-2 bg-slate-50",style:{borderLeft:"2px solid #1160A8",borderRight:"2px solid #1160A8",borderBottom:"1px solid #1160A8"},children:"Academic Performance"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-collapse text-xs",children:[i.jsx("thead",{className:"text-white",style:{backgroundColor:"#1160A8"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle leading-relaxed",children:"Subject"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"C.Test"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"HW"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Proj"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Exam"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Total"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Pos"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Grade"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle",children:"Remark"})]})}),i.jsx("tbody",{children:s.allStudentsAssessments&&u.map((E,F)=>{const L=dm(E.total),O=s.allStudentsAssessments.filter(D=>D.subject===E.subject).map(D=>D.total);O.sort((D,R)=>R-D);const H=O.indexOf(E.total)+1,Q=["st","nd","rd"][H-1]||"th";return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"p-1.5 border font-medium",children:E.subject}),i.jsx("td",{className:"px-2 py-2 border text-center leading-relaxed",children:E.testScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.homeworkScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.projectScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.examScore}),i.jsx("td",{className:"p-1.5 border text-center font-bold",children:E.total}),i.jsx("td",{className:"p-1.5 border text-center",children:`${H}${Q}`}),i.jsx("td",{className:`p-1.5 border text-center font-bold ${Og(L.grade).split(" ")[0]}`,children:L.grade}),i.jsx("td",{className:"p-1.5 border",children:L.remark})]},F)})})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Performance Summary"}),i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:[i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Total Score:"}),i.jsx("span",{children:f.totalScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Average:"}),i.jsx("span",{children:f.averageScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Grade:"}),i.jsx("span",{className:"font-bold",children:f.overallGrade})]}),i.jsxs("div",{className:"flex justify-between py-0.5",children:[i.jsx("span",{className:"font-semibold",children:"Position:"}),i.jsxs("span",{children:[f.classPosition," of ",f.totalStudents]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Skills & Behaviour"}),i.jsx("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:A&&Object.entries(A).map(([E,F])=>i.jsxs("div",{className:"flex justify-between py-0.5 last:border-0",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsxs("span",{className:"font-semibold capitalize",children:[E.replace(/([A-Z])/g," $1"),":"]}),i.jsx("span",{children:F})]},E))})]})," "]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Remarks"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs min-h-[70px]",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Class Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.teacher,'"']})]}),i.jsxs("div",{className:"bg-slate-50 p-2 rounded text-xs",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Head Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.headTeacher,'"']})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2 text-xs",children:[i.jsxs("div",{className:"bg-red-50 text-red-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Promotion:"})," ",x.status]}),i.jsxs("div",{className:"bg-green-50 text-green-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Next Term:"})," ",g.reopeningDate]}),i.jsxs("div",{className:"bg-slate-100 text-slate-700 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Term Ends in:"})," ",g.vacationDate]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Class Teacher"})}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"w-16 h-16 border border-dashed border-slate-300 flex items-center justify-center",children:i.jsx("p",{className:"text-slate-400 text-[10px]",children:"Stamp"})})}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Head Teacher"})})]})]}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx("button",{onClick:N,disabled:e,className:`px-6 py-2 text-white rounded-lg flex items-center gap-2 transition-colors ${e?"bg-[#5C93C4] cursor-not-allowed":"bg-[#1160A8] hover:bg-[#0B4A82]"}`,children:e?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating PDF..."]}):i.jsxs(i.Fragment,{children:[i.jsx(oA,{className:"h-4 w-4"}),"Download PDF"]})})})]})},IV=s=>new Promise((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{try{const r=document.createElement("canvas");r.width=n.width,r.height=n.height;const o=r.getContext("2d");if(!o)return t(new Error("Canvas context not available"));o.drawImage(n,0,0);const c=r.toDataURL("image/png");e(c)}catch(r){t(r)}},n.onerror=()=>t(new Error("Failed to load image for base64")),n.src=s}),xS=s=>{let e=parseInt(s);if(!isNaN(e)&&e>=1&&e<=3)return e;const t=s.split(" ");return t.length>1&&(e=parseInt(t[1]),!isNaN(e)&&e>=1&&e<=3)?e:1},_V=500,FV=()=>{const{school:s}=uc(),e=(s==null?void 0:s.id)||null,[t,n]=Z.useState(Ts[0].id),[r,o]=Z.useState([]),[c,h]=Z.useState(""),[u,f]=Z.useState(null),[A,m]=Z.useState(!1),[x,g]=Z.useState(""),[b,I]=Z.useState(!1),[N,S]=Z.useState(!1),E=async O=>{if(!e){o([]),h(""),f(null);return}n(O);const H=await lt.getStudents(e,O);o(H),h(""),f(null)},F=async()=>{var O,H,Q,D,R,K,P,V,$,ae,de;if(!(!c||!e)){m(!0);try{const W=(await lt.getStudents(e,t)).find(dt=>dt.id===c),J=await lt.getSchoolConfig(e),oe=((H=(O=J==null?void 0:J.logoUrl)==null?void 0:O.trim)==null?void 0:H.call(O))||((D=(Q=J==null?void 0:J.logo)==null?void 0:Q.trim)==null?void 0:D.call(Q))||((K=(R=J==null?void 0:J.schoolLogo)==null?void 0:R.trim)==null?void 0:K.call(R))||"",xe=((V=(P=s==null?void 0:s.logoUrl)==null?void 0:P.trim)==null?void 0:V.call(P))||((ae=($=s==null?void 0:s.logo)==null?void 0:$.trim)==null?void 0:ae.call($))||"",ee=oe||xe||"";let M=ee;if(ee&&ee.startsWith("http"))try{M=await IV(ee)}catch(dt){console.warn("Base64 conversion failed, using original URL:",dt),M=ee}const X=xS(J.currentTerm),ie=J.academicYear,le=`${c}_term${X}_${ie}`,ye=(await lt.getAllAssessments(e).then(dt=>dt.filter(Nt=>Nt.studentId===c))).filter(dt=>dt.term===X),Ne=Object.values(ye.reduce((dt,Nt)=>{const Es=Nt.subject;if(!Es)return dt;const Me=dt[Es],ut=(Me==null?void 0:Me.total)??0,ze=Nt.total??0;return(!Me||ze>=ut)&&(dt[Es]=Nt),dt},{})),ge=await lt.getStudentRemarks(e,t).then(dt=>dt.find(Nt=>Nt.studentId===c)),Se=await lt.getAdminRemark(e,le),Fe=await lt.getClassAttendance(e,t),Le=new Set([...Fe.filter(dt=>dt.isHoliday).map(dt=>dt.date),...(J.holidayDates||[]).map(dt=>dt.date)]),qe=Fe.filter(dt=>!dt.isHoliday),Oe=await lt.getStudentSkills(e,t).then(dt=>dt.find(Nt=>Nt.studentId===c)),he=await lt.getUsers(e);let et=0;if(J.schoolReopenDate){const dt=new Date(`${J.schoolReopenDate}T00:00:00`),Nt=J.vacationDate?new Date(`${J.vacationDate}T00:00:00`):null,Es=new Date;Es.setHours(0,0,0,0);const Me=Nt&&Nt<Es?Nt:Es;if(Number.isNaN(dt.getTime()))et=qe.length;else{const ut=new Date(dt);for(;ut<=Me;){const ze=ut.getDay();if(!(ze===0||ze===6)){const mt=`${ut.getFullYear()}-${String(ut.getMonth()+1).padStart(2,"0")}-${String(ut.getDate()).padStart(2,"0")}`;Le.has(mt)||et++}ut.setDate(ut.getDate()+1)}}}else et=qe.length;const wt=qe.filter(dt=>dt.presentStudentIds.includes(c)).length,at=et-wt,Ye=et>0?Math.round(wt/et*100):0,Ut=he.find(dt=>{var Nt;return(Nt=dt.assignedClassIds)==null?void 0:Nt.includes(t)}),Lt=dt=>dt>=80?"A":dt>=70?"B":dt>=60?"C":dt>=45?"D":"F",Wt=await lt.getAllAssessments(e).then(dt=>dt.filter(Nt=>Nt.classId===t&&Nt.term===X)),$t=r.map(dt=>{const Es=Wt.filter(Me=>Me.studentId===dt.id).reduce((Me,ut)=>Me+(ut.total||0),0);return{studentId:dt.id,totalScore:Es}});$t.sort((dt,Nt)=>Nt.totalScore-dt.totalScore);const ss=$t.findIndex(dt=>dt.studentId===c)+1;g((Se==null?void 0:Se.remark)||"");const ns=Ne.reduce((dt,Nt)=>dt+(Nt.total||0),0),Je=Ts.findIndex(dt=>dt.id===(W==null?void 0:W.classId)),Ht=Je>=0&&Je<Ts.length-1?Ts[Je+1].name:"",Vt=X===3?ns>=_V?Ht?`Promoted to ${Ht}`:"Promoted":"Fail":"N/A",Mt={schoolInfo:{name:(s==null?void 0:s.name)||J.schoolName||"School Manager GH",logoUrl:ee,address:(s==null?void 0:s.address)||J.address||"",phone:(s==null?void 0:s.phone)||J.phone||"",email:J.email||"",academicYear:J.academicYear||"",term:J.currentTerm||""},studentInfo:{name:(W==null?void 0:W.name)||"",gender:(W==null?void 0:W.gender)||"",dob:(W==null?void 0:W.dob)||"",class:((de=Ts.find(dt=>dt.id===(W==null?void 0:W.classId)))==null?void 0:de.name)||"",classTeacher:(Ut==null?void 0:Ut.fullName)||"N/A"},attendance:{totalDays:et||0,presentDays:wt||0,absentDays:at||0,attendancePercentage:Ye||0},performance:Ne||[],summary:{totalScore:ns||0,averageScore:Ne.length>0?(Ne.reduce((dt,Nt)=>dt+(Nt.total||0),0)/Ne.length).toFixed(1):"0.0",overallGrade:Lt(Ne.length>0?Ne.reduce((dt,Nt)=>dt+(Nt.total||0),0)/Ne.length:0)||"N/A",classPosition:`${ss}${["st","nd","rd"][ss-1]||"th"}`,totalStudents:r.length||0},skills:{punctuality:(Oe==null?void 0:Oe.punctuality)||"N/A",neatness:(Oe==null?void 0:Oe.neatness)||"N/A",conduct:(Oe==null?void 0:Oe.conduct)||"N/A",attitudeToWork:(Oe==null?void 0:Oe.attitudeToWork)||"N/A",classParticipation:(Oe==null?void 0:Oe.classParticipation)||"N/A",homeworkCompletion:(Oe==null?void 0:Oe.homeworkCompletion)||"N/A"},remarks:{teacher:(ge==null?void 0:ge.remark)||"N/A",headTeacher:(Se==null?void 0:Se.remark)||J.headTeacherRemark||"An outstanding performance. The school is proud of you.",adminRemark:(Se==null?void 0:Se.remark)||"",adminRemarkDate:(Se==null?void 0:Se.dateCreated)||""},promotion:{status:Vt},termDates:{endDate:J.termEndDate||"",reopeningDate:J.nextTermBegins||"",vacationDate:J.vacationDate||""},allStudentsAssessments:Wt};f(Mt),kt("Report card generated successfully!",{type:"success"})}catch(re){console.error("Error generating report card:",re),kt(`Failed to generate report card: ${re.message||"An unknown error occurred."}`,{type:"error"})}finally{m(!1)}}},L=async()=>{if(!(!c||!x.trim()||!e)){S(!0);try{const O=await lt.getSchoolConfig(e),H=xS(O.currentTerm),Q={id:`${c}_term${H}_${O.academicYear}`,studentId:c,classId:t,term:H,academicYear:O.academicYear,schoolId:e,remark:x,adminId:"admin",dateCreated:new Date().toISOString().split("T")[0]};await lt.saveAdminRemark(Q),I(!1),F()}catch(O){console.error("Error saving admin remark:",O)}finally{S(!1)}}};return Z.useEffect(()=>{(async()=>{try{await E(t)}catch(H){console.error("Error in useEffect:",H)}})()},[e]),i.jsxs(sr,{title:"Generate Report Card",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Select Student"}),i.jsxs("div",{className:"flex gap-4 mb-4",children:[i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black",value:t,onChange:O=>E(O.target.value),children:Ts.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))}),i.jsxs("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black flex-grow",value:c,onChange:O=>h(O.target.value),disabled:!r.length,children:[i.jsx("option",{value:"",children:"-- Select a student --"}),r.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]}),i.jsx("button",{onClick:F,disabled:!c||A,className:"px-6 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] disabled:opacity-50",children:A?"Generating...":"Generate Report"})]}),u&&i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"bg-[#E6F0FA] border border-[#E6F0FA] rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-[#0B4A82] flex items-center gap-2",children:[i.jsx(fM,{className:"w-5 h-5"}),"Admin/Head Teacher Remark"]}),b?i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>I(!1),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:[i.jsx(Io,{className:"w-4 h-4"}),"Cancel"]}),i.jsxs("button",{onClick:L,disabled:N,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[i.jsx(oA,{className:"w-4 h-4"}),N?"Saving...":"Save"]})]}):i.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-1 px-3 py-1 text-sm bg-[#1160A8] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(xM,{className:"w-4 h-4"}),"Edit Remark"]})]}),b?i.jsx("textarea",{value:x,onChange:O=>g(O.target.value),className:"w-full border border-[#E6F0FA] rounded-lg p-3 text-black bg-white",rows:3,placeholder:"Enter admin/head teacher remark..."}):i.jsx("p",{className:"text-[#0B4A82] italic",children:x||"No remark added yet"})]}),i.jsx(TV,{data:u})]})]})};class UV{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebasestorage.googleapis.com",DV="storageBucket",RV=120*1e3,LV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends cc{constructor(e,t,n=0){super(w1(e),`Firebase Storage: ${t} (${w1(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,eu.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return w1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jc;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jc||(Jc={}));function w1(s){return"storage/"+s}function QV(){const s="An unknown error occurred, please check the error payload for server response.";return new eu(Jc.UNKNOWN,s)}function OV(){return new eu(Jc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PV(){return new eu(Jc.CANCELED,"User canceled the upload/download.")}function kV(s){return new eu(Jc.INVALID_URL,"Invalid URL '"+s+"'.")}function MV(s){return new eu(Jc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function vS(s){return new eu(Jc.INVALID_ARGUMENT,s)}function LI(){return new eu(Jc.APP_DELETED,"The Firebase app was deleted.")}function HV(s){return new eu(Jc.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ac.makeFromUrl(e,t)}catch{return new ac(e,"")}if(n.path==="")return n;throw MV(e)}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";function o(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),u={bucket:1,path:3};function f(L){L.path_=decodeURIComponent(L.path)}const A="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${A}/b/${r}/o${x}`,"i"),b={bucket:1,path:3},I=t===RI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",S=new RegExp(`^https?://${I}/${r}/${N}`,"i"),F=[{regex:h,indices:u,postModify:o},{regex:g,indices:b,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let L=0;L<F.length;L++){const O=F[L],H=O.regex.exec(e);if(H){const Q=H[O.indices.bucket];let D=H[O.indices.path];D||(D=""),n=new ac(Q,D),O.postModify(n);break}}if(n==null)throw kV(e);return n}}class VV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(s,e,t){let n=1,r=null,o=null,c=!1,h=0;function u(){return h===2}let f=!1;function A(...N){f||(f=!0,e.apply(null,N))}function m(N){r=setTimeout(()=>{r=null,s(g,u())},N)}function x(){o&&clearTimeout(o)}function g(N,...S){if(f){x();return}if(N){x(),A.call(null,N,...S);return}if(u()||c){x(),A.call(null,N,...S);return}n<64&&(n*=2);let F;h===1?(h=2,F=0):F=(n+Math.random())*1e3,m(F)}let b=!1;function I(N){b||(b=!0,x(),!f&&(r!==null?(N||(h=2),clearTimeout(r),m(0)):N||(h=1)))}return m(0),o=setTimeout(()=>{c=!0,I(!0)},t),I}function zV(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(s){return s!==void 0}function yS(s,e,t,n){if(n<e)throw vS(`Invalid value for '${s}'. Expected ${e} or greater.`);if(n>t)throw vS(`Invalid value for '${s}'. Expected ${t} or less.`)}function $V(s){const e=encodeURIComponent;let t="?";for(const n in s)if(s.hasOwnProperty(n)){const r=e(n)+"="+e(s[n]);t=t+r+"&"}return t=t.slice(0,-1),t}var rv;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(rv||(rv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(s,e){const t=s>=500&&s<600,r=[408,429].indexOf(s)!==-1,o=e.indexOf(s)!==-1;return t||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,t,n,r,o,c,h,u,f,A,m,x=!0,g=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=A,this.connectionFactory_=m,this.retry=x,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){const e=(n,r)=>{if(r){n(!1,new ex(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const u=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===rv.NO_ERROR,u=o.getStatus();if(!h||YV(u,this.additionalRetryCodes_)&&this.retry){const A=o.getErrorCode()===rv.ABORT;n(!1,new ex(!1,null,A));return}const f=this.successCodes_.indexOf(u)!==-1;n(!0,new ex(f,o))})},t=(n,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(h,h.getResponse());GV(u)?o(u):o()}catch(u){c(u)}else if(h!==null){const u=QV();u.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,u)):c(u)}else if(r.canceled){const u=this.appDelete_?LI():PV();c(u)}else{const u=OV();c(u)}};this.canceled_?t(!1,new ex(!1,null,!0)):this.backoffId_=KV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ex{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function XV(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function JV(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qV(s,e){e&&(s["X-Firebase-GMPID"]=e)}function ZV(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function eK(s,e,t,n,r,o,c=!0,h=!1){const u=$V(s.urlParams),f=s.url+u,A=Object.assign({},s.headers);return qV(A,e),XV(A,t),JV(A,o),ZV(A,n),new WV(f,s.method,A,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function sK(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t){this._service=e,t instanceof ac?this._location=t:this._location=ac.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new av(e,t)}get root(){const e=new ac(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sK(this._location.path)}get storage(){return this._service}get parent(){const e=tK(this._location.path);if(e===null)return null;const t=new ac(this._location.bucket,e);return new av(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw HV(e)}}function bS(s,e){const t=e==null?void 0:e[DV];return t==null?null:ac.makeFromBucketSpec(t,s)}class nK{constructor(e,t,n,r,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=RI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RV,this._maxUploadRetryTime=LV,this._requests=new Set,r!=null?this._bucket=ac.makeFromBucketSpec(r,this._host):this._bucket=bS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ac.makeFromBucketSpec(this._url,e):this._bucket=bS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(rA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new av(this,e)}_makeRequest(e,t,n,r,o=!0){if(this._deleted)return new VV(LI());{const c=eK(e,this._appId,n,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const wS="@firebase/storage",jS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK="storage";function aK(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),n=s.getProvider("auth-internal"),r=s.getProvider("app-check-internal");return new nK(t,n,r,e,nf)}function iK(){Pd(new UV(rK,aK,"PUBLIC").setMultipleInstances(!0)),UA(wS,jS,""),UA(wS,jS,"esm2020")}iK();const BS=s=>{const e=s.toLowerCase();return e.includes("nursery")?"Nursery":e.startsWith("kg")||e.includes("kg")?"KG":/class\s*[1-3]\b/i.test(s)?"Class 1-3":/class\s*[4-6]\b/i.test(s)?"Class 4-6":/jhs\s*[1-3]\b/i.test(s)?"JHS 1-3":"Other"},oK=()=>{var ns;const{user:s}=Fo(),e=_T(s),[t,n]=Z.useState([]),[r,o]=Z.useState(""),[c,h]=Z.useState(new Date().toISOString().split("T")[0]),[u,f]=Z.useState("info"),[A,m]=Z.useState(!1),[x,g]=Z.useState(((ns=Ts[0])==null?void 0:ns.id)||""),[b,I]=Z.useState([]),[N,S]=Z.useState(""),[E,F]=Z.useState(null),[L,O]=Z.useState({schoolId:e,schoolName:"",academicYear:"",currentTerm:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,headTeacherRemark:"",termEndDate:"",holidayDates:[]}),[H,Q]=Z.useState(!1),[D,R]=Z.useState(!1),[K,P]=Z.useState(""),[V,$]=Z.useState(""),[ae,de]=Z.useState(!1),[re,W]=Z.useState(!1),[J,oe]=Z.useState(!1),[xe,ee]=Z.useState(!1),[M,X]=Z.useState(null),[ie,le]=Z.useState(!1),ce=dv.useMemo(()=>{const Je={Nursery:[],KG:[],"Class 1-3":[],"Class 4-6":[],"JHS 1-3":[],Other:[]};return Ts.forEach(Ht=>{const Vt=BS(Ht.name);Je[Vt].push(Ht)}),Je},[]),ye=Je=>{const Ht=Ts.find(dt=>dt.id===Je);if(!Ht)return[Je];const Vt=BS(Ht.name),Mt=ce[Vt];return(Mt!=null&&Mt.length?Mt:[Ht]).map(dt=>dt.id)},Ne=async()=>{const Je=await lt.getNotices(e);n(Je)},ge=async()=>{if(x){const Je=await lt.getSubjects(e,x);I(Je)}},Se=async()=>{const Je=await lt.getSchoolConfig(e);O(Ht=>({...Ht,schoolId:e,...Je,holidayDates:Je.holidayDates||[]}))};Z.useEffect(()=>{Ne(),Se()},[e]),Z.useEffect(()=>{ge()},[x,e]);const Fe=async()=>{Q(!0),await lt.updateSchoolConfig({...L,holidayDates:L.holidayDates||[]}),Q(!1),kt("Configuration saved successfully!",{type:"success"})},Le=async()=>{if(!K)return;const Je=V.trim(),Ht=L.holidayDates||[];if(Ht.some(Mt=>Mt.date===K)){kt("Holiday date already exists.",{type:"error"});return}const Vt={...L,holidayDates:[...Ht,{date:K,reason:Je||void 0}].sort((Mt,dt)=>Mt.date.localeCompare(dt.date))};O(Vt),await lt.updateSchoolConfig({...Vt,holidayDates:Vt.holidayDates||[]}),kt("Holiday date saved.",{type:"success"}),P(""),$("")},qe=async Je=>{const Ht=L.holidayDates||[],Vt={...L,holidayDates:Ht.filter(Mt=>Mt.date!==Je)};O(Vt),await lt.updateSchoolConfig({...Vt,holidayDates:Vt.holidayDates||[]}),kt("Holiday date removed.",{type:"success"})},Oe=async()=>{R(!0);try{await lt.createTermBackup(L,L.currentTerm,L.academicYear),kt("Term backup created successfully!",{type:"success"})}catch(Je){console.error("Error creating term backup:",Je),kt("Failed to create term backup. Please try again.",{type:"error"})}finally{R(!1)}},he=async Je=>{if(Je.preventDefault(),!(!r.trim()||!c)){m(!0);try{const[Ht,Vt,Mt]=c.split("-").map(Number),Nt=new Date(Ht,Vt-1,Mt).toLocaleDateString("en-GB",{day:"numeric",month:"short"});await lt.addNotice({id:Math.random().toString(36).substr(2,9),schoolId:e,message:r,date:Nt,type:u,createdAt:Date.now()}),o(""),Ne(),kt("Notice added successfully!",{type:"success"})}catch(Ht){console.error("Error adding notice:",Ht),kt("Failed to add notice. Please try again.",{type:"error"})}finally{m(!1)}}},et=async Je=>{await lt.deleteNotice(Je),Ne()},wt=async Je=>{if(Je.preventDefault(),!N.trim()||!x)return;const Ht=ye(x);await Promise.all(Ht.map(Vt=>lt.addSubject(Vt,N.trim(),e))),S(""),ge(),kt("Subject added successfully!",{type:"success"})},at=Je=>{X(Je),ee(!0)},Ye=async()=>{if(!(!M||!x)){ee(!1);try{const Je=ye(x);await Promise.all(Je.map(Ht=>lt.deleteSubject(Ht,M,e))),ge(),kt(`Subject "${M}" deleted successfully!`,{type:"success"})}catch(Je){console.error("Error deleting subject:",Je),kt("Failed to delete subject. Please try again.",{type:"error"})}finally{X(null)}}},Ut=Je=>{F({original:Je,current:Je})},Lt=async()=>{if(!E||!E.current.trim()||!x)return;const Je=ye(x);await Promise.all(Je.map(Ht=>lt.updateSubject(Ht,E.original,E.current.trim(),e))),F(null),ge(),kt("Subject updated successfully!",{type:"success"})},Wt=()=>{oe(!0)},$t=async Je=>{const Ht=Hs(Ct,Je),Mt=(await qs(Ht)).docs.map(dt=>Qi(dt.ref));await Promise.all(Mt)},ss=async()=>{oe(!1),W(!0);try{const Je=["attendance","assessments","teacher_attendance","notices","student_remarks","admin_remarks","student_skills","admin_notifications"];for(const Vt of Je)console.log(`Deleting collection: ${Vt}`),await $t(Vt);const Ht=Ms(Ct,"settings",e);await Ri(Ht,{schoolReopenDate:"",vacationDate:"",nextTermBegins:""},{merge:!0}),kt("Term data reset successfully!",{type:"success"}),window.location.reload()}catch(Je){console.error("Term Reset error:",Je),kt(`Term Reset Failed: ${Je.message}`,{type:"error"})}finally{W(!1)}};return i.jsxs(sr,{title:"System Settings",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(a2,{size:20})}),"System Settings"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Configure academic terms, subjects, notices, and backups with a premium control center."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"General Configuration"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Academic year, term, and key school dates."})]}),i.jsxs("button",{onClick:Fe,disabled:H,className:"flex items-center text-xs font-bold text-white bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-full transition-colors",children:[i.jsx(oA,{size:14,className:"mr-1"})," ",H?"Saving...":"Save Changes"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:L.academicYear,onChange:Je=>O({...L,academicYear:Je.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Term"}),i.jsxs("select",{value:L.currentTerm,onChange:Je=>O({...L,currentTerm:Je.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[i.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"School Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School Re-open Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:L.schoolReopenDate,onChange:Je=>O({...L,schoolReopenDate:Je.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term Vacation Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:L.vacationDate,onChange:Je=>O({...L,vacationDate:Je.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Term Begins"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:L.nextTermBegins||"",onChange:Je=>O({...L,nextTermBegins:Je.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),i.jsxs("div",{className:"mt-6 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-900 font-semibold",children:[i.jsx(Mi,{className:"h-5 w-5"}),"Holiday Dates (exclude from term totals)"]}),i.jsx("p",{className:"mt-1 text-xs text-amber-800",children:"Add dates here to remove them from term total days and attendance analytics."}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-[180px_1fr_auto] gap-3 items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-amber-400 pointer-events-none"}),i.jsx("input",{type:"date",value:K,onChange:Je=>P(Je.target.value),className:"w-full border border-amber-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"})]}),i.jsx("input",{type:"text",value:V,onChange:Je=>$(Je.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full border border-amber-200 px-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"}),i.jsxs("button",{type:"button",onClick:Le,className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-amber-700",children:[i.jsx(Kh,{size:16}),"Add"]})]}),i.jsx("div",{className:"mt-4 space-y-2",children:(L.holidayDates||[]).length===0?i.jsx("div",{className:"text-xs text-amber-700",children:"No holiday dates added yet."}):(L.holidayDates||[]).map(Je=>i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-amber-200 bg-white px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-amber-900",children:Je.date}),Je.reason&&i.jsx("p",{className:"text-xs text-amber-700",children:Je.reason})]}),i.jsxs("button",{type:"button",onClick:()=>qe(Je.date),className:"inline-flex items-center gap-1 text-xs font-semibold text-rose-600 hover:text-rose-700",children:[i.jsx(RA,{size:14}),"Remove"]})]},Je.date))})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(xk,{className:"mr-2 text-[#0B4A82]",size:24}),"Manage Class Subjects"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:x,onChange:Je=>g(Je.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:["Nursery","KG","Class 1-3","Class 4-6","JHS 1-3","Other"].map(Je=>{var Ht;return(Ht=ce[Je])!=null&&Ht.length?i.jsx("optgroup",{label:Je,children:ce[Je].map(Vt=>i.jsx("option",{value:Vt.id,children:Vt.name},Vt.id))},Je):null})})]}),i.jsxs("form",{onSubmit:wt,className:"flex gap-2 mb-6",children:[i.jsx("input",{type:"text",required:!0,className:"flex-1 border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-[#1160A8] outline-none text-sm",placeholder:"New subject name...",value:N,onChange:Je=>S(Je.target.value)}),i.jsx("button",{type:"submit",className:"bg-[#1160A8] text-white px-4 py-2 rounded-xl hover:bg-[#0B4A82] transition-colors",children:i.jsx(Kh,{size:20})})]}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:b.length===0?i.jsx("p",{className:"text-sm text-slate-500 text-center italic",children:"No subjects configured for this class. Add some above!"}):b.map(Je=>i.jsx("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-100 group",children:(E==null?void 0:E.original)===Je?i.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 border border-slate-200 p-2 rounded-lg text-sm focus:ring-2 focus:ring-[#1160A8] outline-none",value:E.current,onChange:Ht=>F({...E,current:Ht.target.value}),autoFocus:!0}),i.jsx("button",{onClick:Lt,className:"text-emerald-600 hover:bg-emerald-50 p-1 rounded",children:i.jsx(Kp,{size:16})}),i.jsx("button",{onClick:()=>F(null),className:"text-[#1160A8] hover:bg-[#E6F0FA] p-1 rounded",children:i.jsx(Io,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:Je}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>Ut(Je),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(o2,{size:14})}),i.jsx("button",{onClick:()=>at(Je),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(RA,{size:14})})]})]})},Je))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(oA,{className:"mr-2 text-purple-600",size:24}),"Term Data Backup"]}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:`Create a full backup of the current term's academic records, attendance, and student data. Backups can be viewed and restored from the "Manage Backups" section.`}),i.jsx("button",{onClick:Oe,disabled:D,className:"bg-purple-600 text-white px-4 py-2 rounded-full hover:bg-purple-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:D?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(oA,{size:16,className:"mr-2"})," Create Current Term Backup"]})}),i.jsxs(ba,{to:"/admin/backups",className:"mt-4 inline-flex items-center text-sm font-medium text-[#1160A8] hover:text-[#0B4A82]",children:[i.jsx(qk,{size:16,className:"mr-1"})," View and Manage Previous Backups"]})]}),ae&&i.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(i2,{className:"text-rose-600 mr-2",size:24}),i.jsx("h2",{className:"text-xl font-bold text-rose-800",children:"Danger Zone: Database Reset"})]}),i.jsx("p",{className:"text-rose-700 mb-4",children:"This will reset term data (attendance, assessments, reports, and term-specific records) for the selected term. It does not delete school accounts or core setup, but the term data cannot be recovered. Use with extreme caution."}),i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("button",{onClick:Wt,disabled:re,className:"bg-rose-600 text-white px-4 py-2 rounded-full hover:bg-rose-700 disabled:bg-rose-400 transition-colors",children:re?"Resetting Term...":"Term Reset"})})]}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{onClick:()=>de(!ae),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition-all hover:border-[#1160A8] hover:text-[#0B4A82] hover:shadow-md",children:[i.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold transition-colors ${ae?"bg-rose-100 text-rose-600":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:ae?"":"+"}),ae?"Hide":"Show"," Advanced Settings"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 flex flex-col h-full",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(cM,{className:"mr-2 text-emerald-600",size:24}),"School Notices"]}),i.jsxs("form",{onSubmit:he,className:"mb-6 bg-slate-50 p-4 rounded-2xl border border-slate-200",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",value:c,onChange:Je=>h(Je.target.value)})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notice Message"}),i.jsx("textarea",{required:!0,className:"w-full border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",placeholder:"Type notice here...",rows:2,value:r,onChange:Je=>o(Je.target.value)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-emerald-600 focus:ring-emerald-500",checked:u==="info",onChange:()=>f("info")}),"Info"]}),i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-red-600 focus:ring-red-500",checked:u==="urgent",onChange:()=>f("urgent")}),"Urgent"]})]}),i.jsx("button",{type:"submit",disabled:A,className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-emerald-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:A?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Kh,{size:16,className:"mr-1"})," Add Notice"]})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[i.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-3",children:"Active Notices"}),i.jsx("div",{className:"space-y-3",children:t.length===0?i.jsx("p",{className:"text-slate-400 text-sm text-center italic",children:"No notices posted."}):t.map(Je=>i.jsxs("div",{className:"flex justify-between items-start group p-3 border border-slate-100 rounded-xl hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:`border-l-2 pl-3 ${Je.type==="urgent"?"border-red-500":"border-emerald-500"}`,children:[i.jsx("p",{className:"text-sm text-slate-800 font-medium",children:Je.message}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[Je.date," "," ",Je.type==="urgent"?"Urgent":"General Info"]})]}),i.jsx("button",{onClick:()=>et(Je.id),className:"text-slate-300 hover:text-[#1160A8] transition-colors p-1",title:"Delete Notice",children:i.jsx(RA,{size:16})})]},Je.id))})]})]})]})]}),J&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Mi,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirm Term Reset"})]}),i.jsxs("div",{className:"text-slate-600 mb-6 space-y-2",children:[i.jsxs("p",{children:["This will reset all data for the current term, but"," ",i.jsx("strong",{children:"keep core school setup"}),". Are you sure you want to proceed?"]}),i.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"RESET:"})," Attendance, Assessments, Teacher Attendance, Notices, and all student Remarks."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"KEEP:"})," Student Enrollment, Teacher Accounts, Class Subjects, and Timetables."]})]}),i.jsx("p",{className:"font-semibold text-red-700",children:"This action cannot be undone."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:ss,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Term Reset"})]})]})}),xe&&M&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Mi,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Delete Subject"})]}),i.jsxs("p",{className:"text-slate-600 mb-6",children:['Are you sure you want to delete the subject "',i.jsx("strong",{children:M}),'"? This might hide scores associated with this subject and cannot be undone.']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{ee(!1),X(null)},className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:Ye,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Subject"})]})]})})]})},lK=s=>{if(!s)return"CLASS";const e=Ts.find(t=>t.id===s);return e&&e.level?e.level:s.startsWith("c_n")?"NURSERY":s.startsWith("c_kg")?"KG":s.startsWith("c_p")?"PRIMARY":s.startsWith("c_jhs")?"JHS":"CLASS"},AK=()=>{var de,re,W,J,oe,xe,ee,M;const{school:s}=uc(),e=(s==null?void 0:s.id)||null,[t,n]=Z.useState([]),[r,o]=Z.useState(!0),[c,h]=Z.useState(null),[u,f]=Z.useState(""),[A,m]=Z.useState(""),[x,g]=Z.useState(""),[b,I]=Z.useState(null),[N,S]=Z.useState(!1),[E,F]=Z.useState(null),[L,O]=Z.useState(!1),[H,Q]=Z.useState(!1),D=Z.useMemo(()=>{var Se;if(!((Se=b==null?void 0:b.data)!=null&&Se.students))return[];const X=b.data.students||[],ie=b.data.attendanceRecords||[],le=b.data.assessments||[],ce=b.data.studentRemarks||[],ye=ie.reduce((Fe,Le)=>(Fe[Le.classId]||(Fe[Le.classId]=[]),Fe[Le.classId].push(Le),Fe),{}),Ne=le.reduce((Fe,Le)=>{const qe=typeof Le.total=="number"?Le.total:_A(Le);return Fe[Le.studentId]||(Fe[Le.studentId]={total:0,count:0}),Fe[Le.studentId].total+=qe,Fe[Le.studentId].count+=1,Fe},{}),ge=ce.reduce((Fe,Le)=>{const qe=Fe[Le.studentId];if(!qe)return Fe[Le.studentId]=Le,Fe;const Oe=new Date(qe.dateCreated).getTime();return new Date(Le.dateCreated).getTime()>=Oe&&(Fe[Le.studentId]=Le),Fe},{});return X.map(Fe=>{var Ye;const Le=ye[Fe.classId]||[],qe=Le.filter(Ut=>{var Lt;return(Lt=Ut.presentStudentIds)==null?void 0:Lt.includes(Fe.id)}).length,Oe=Le.length,he=Oe?`${Math.round(qe/Oe*100)}%`:"-",et=Ne[Fe.id],wt=et!=null&&et.count?(et.total/et.count).toFixed(1):"-",at=((Ye=ge[Fe.id])==null?void 0:Ye.remark)||"N/A";return{student:Fe,presentDays:qe,totalDays:Oe,attendanceRate:he,avgScore:wt,remark:at}})},[b]),R=async X=>{o(!0),h(null);try{if(!e){n([]);return}const ie={schoolId:e,term:(X==null?void 0:X.term)||void 0,academicYear:(X==null?void 0:X.academicYear)||void 0,date:(X==null?void 0:X.date)||void 0},le=await lt.getBackups(ie);n(le)}catch(ie){console.error("Error fetching backups:",ie),h("Failed to fetch backups."),kt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},K=async X=>{try{if(!e)return;const ie=await lt.getBackupDetails(e,X);ie?(I(ie),S(!0)):kt("Backup details not found.",{type:"error"})}catch(ie){console.error("Error fetching backup details:",ie),kt("Failed to fetch backup details.",{type:"error"})}},P=X=>{F(X),O(!0)},V=async X=>{try{if(!e)return;const ie=await lt.getBackupDetails(e,X);if(ie&&ie.data){const le=`backup_${ie.academicYear.replace("-","")}_${ie.term.replace(" ","")}_${ie.timestamp}.json`,ce=JSON.stringify(ie.data,null,2),ye=new Blob([ce],{type:"application/json"}),Ne=URL.createObjectURL(ye),ge=document.createElement("a");ge.href=Ne,ge.download=le,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(Ne),kt("Backup downloaded successfully!",{type:"success"})}else kt("No data available to download for this backup.",{type:"error"})}catch(ie){console.error("Error downloading backup:",ie),kt("Failed to download backup.",{type:"error"})}},$=async()=>{if(E){console.log("Attempting to delete backup:",E);try{if(!e)return;await lt.deleteBackup(e,E),console.log("Backup deleted successfully in DB."),kt("Backup deleted successfully!",{type:"success"}),O(!1),F(null),f(""),m(""),g(""),await R(),console.log("Backup list refreshed after deletion.")}catch(X){console.error("Error during backup deletion or refresh:",X),kt("Failed to delete backup or refresh list.",{type:"error"})}}},ae=async()=>{Q(!1);try{if(!e)return;await lt.deleteAllBackups(e),kt("All backups cleared successfully!",{type:"success"}),f(""),m(""),g(""),await R()}catch(X){console.error("Error clearing all backups:",X),kt("Failed to clear all backups.",{type:"error"})}};return Z.useEffect(()=>{R()},[e]),r?i.jsx(sr,{title:"Manage Backups",children:i.jsxs("div",{className:"flex justify-center items-center h-48",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-[#0B4A82]"}),i.jsx("p",{className:"ml-4 text-slate-500",children:"Loading backups..."})]})}):c?i.jsx(sr,{title:"Manage Backups",children:i.jsxs("div",{className:"text-center p-8 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg",children:[i.jsx("p",{className:"text-[#0B4A82]",children:c}),i.jsxs("button",{onClick:()=>R(),className:"mt-4 px-4 py-2 bg-[#0B4A82] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(kT,{className:"inline-block mr-2",size:16})," Retry"]})]})}):i.jsxs(sr,{title:"Manage Backups",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Manage Term Backups"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backup Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterTerm",className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{id:"filterTerm",value:u,onChange:X=>f(X.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterAcademicYear",className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{id:"filterAcademicYear",type:"text",value:A,onChange:X=>m(X.target.value),placeholder:"e.g., 2023-2024",className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Created (YYYY-MM-DD)"}),i.jsx("input",{id:"filterDate",type:"date",value:x,onChange:X=>g(X.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]})]}),i.jsxs("button",{onClick:()=>R({term:u,academicYear:A,date:x}),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors flex items-center",children:[i.jsx(PT,{size:16,className:"mr-2"})," Apply Filters"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),R()},className:"ml-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Clear Filters"}),i.jsx("button",{onClick:()=>Q(!0),className:"ml-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Backups"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Available Backups"}),t.length===0?i.jsx("div",{className:"text-center p-8 text-slate-500",children:i.jsx("p",{children:"No backups found. Create one from System Settings."})}):i.jsx("div",{className:"space-y-4",children:t.map((X,ie)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800",children:[X.term," - ",X.academicYear]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",new Date(X.timestamp).toLocaleString()]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>K(X.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"View Backup Details",children:[i.jsx(Zd,{size:16,className:"mr-1"})," View"]}),i.jsxs("button",{onClick:()=>V(X.id||""),className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-sm hover:bg-emerald-200 flex items-center",title:"Download Backup",children:[i.jsx(ev,{size:16,className:"mr-1"})," Download"]}),i.jsxs("button",{onClick:()=>P(X.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"Delete Backup",children:[i.jsx(RA,{size:16,className:"mr-1"})," Delete"]})]})]},X.id||`backup-${ie}`))})]}),N&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Backup Details: ",b.term," -"," ",b.academicYear]}),i.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-[#E6F0FA] to-amber-50 rounded-xl p-4 mb-6 border border-[#E6F0FA]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-full",children:i.jsx(Cu,{className:"text-[#0B4A82]",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup Created"}),i.jsx("p",{className:"text-lg font-bold text-slate-800",children:new Date(b.timestamp).toLocaleString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup ID"}),i.jsxs("p",{className:"text-sm font-mono text-slate-700",children:[(de=b.id)==null?void 0:de.slice(0,8),"..."]})]})]})}),b.data?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:i.jsx(um,{className:"text-amber-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Students"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((re=b.data.students)==null?void 0:re.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-lg",children:i.jsx(pl,{className:"text-[#0B4A82]",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teachers"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((W=b.data.users)==null?void 0:W.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:i.jsx(Ml,{className:"text-emerald-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Assessments"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((J=b.data.assessments)==null?void 0:J.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(ho,{className:"text-purple-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Attendance"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((oe=b.data.attendanceRecords)==null?void 0:oe.length)||0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Vh,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teacher Attendance"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((xe=b.data.teacherAttendanceRecords)==null?void 0:xe.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(vx,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Remarks"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((ee=b.data.studentRemarks)==null?void 0:ee.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ml,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Timetables"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((M=b.data.timetables)==null?void 0:M.length)||0," classes"]})]})]}),i.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(pl,{size:18,className:"mr-2 text-[#0B4A82]"}),"Students List"]}),D.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:D.map(X=>{var ie;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${X.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:X.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:X.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:X.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((ie=Ts.find(le=>le.id===X.student.classId))==null?void 0:ie.name)||X.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:X.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[X.presentDays,"/",X.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:X.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:X.remark})]},X.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",D.length," student",D.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(pl,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No students in this backup."})]}),b.data.classSubjects&&b.data.classSubjects.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("h5",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(um,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.data.classSubjects.map((X,ie)=>{var ye,Ne;const le=Ts.find(ge=>ge.id===X.classId),ce=lK(X.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:ce}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(le==null?void 0:le.name)||X.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:X.subjects&&X.subjects.length>0?X.subjects.map((ge,Se)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:ge},Se)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((ye=X.subjects)==null?void 0:ye.length)||0," subject",((Ne=X.subjects)==null?void 0:Ne.length)!==1?"s":""]})]})]},ie)})})]})]})]}):i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(Vh,{size:48,className:"mx-auto mb-4 text-slate-300"}),i.jsx("p",{children:"No data available for this backup."})]})]}),i.jsx("div",{className:"p-6 border-t border-slate-100 text-right",children:i.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Close"})})]})}),L&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Deletion"}),i.jsx("button",{onClick:()=>O(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Backup ID: ",E]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:$,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Delete"})]})]})}),H&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Clear All Backups"}),i.jsx("button",{onClick:()=>Q(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete ALL backups? This action cannot be undone and will permanently remove all backup data."}),i.jsxs("p",{className:"text-sm text-[#0B4A82] font-semibold",children:["Warning: This will affect ",t.length," backup",t.length!==1?"s":"","."]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:ae,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Clear All"})]})]})})]})},tx=["Monday","Tuesday","Wednesday","Thursday","Friday"],cK=()=>{var F,L;const{user:s}=Fo(),e=_T(s),[t,n]=Z.useState(Ts[0].id),[r,o]=Z.useState({}),[c,h]=Z.useState(!1),[u,f]=Z.useState(tx[0]),[A,m]=Z.useState([]),[x,g]=Z.useState({startTime:"08:00",endTime:"09:00",subject:"",type:"lesson"});Z.useEffect(()=>{(async()=>{h(!0);const H=await lt.getSubjects(e,t);m(H),H.length>0?g(K=>({...K,subject:H[0],type:"lesson"})):g(K=>({...K,subject:"",type:"lesson"}));const Q=await lt.getTimetable(e,t),D=(Q==null?void 0:Q.schedule)||{};tx.forEach(K=>{D[K]||(D[K]=[])});let R=!1;if(H.length>0&&Object.keys(D).forEach(K=>{D[K].forEach(P=>{P.type==="lesson"&&!H.includes(P.subject)&&(P.subject=H[0],R=!0)})}),R){const K={schoolId:e,classId:t,schedule:D};await lt.saveTimetable(K),kt("Timetable subjects updated to match system settings!",{type:"success"})}o(D),h(!1)})()},[t,e]);const b=()=>{if(!x.startTime||!x.endTime||!x.subject)return;if(x.startTime>=x.endTime){kt("End time must be after start time",{type:"error"});return}const O={id:Math.random().toString(36).substr(2,9),startTime:x.startTime,endTime:x.endTime,subject:x.subject,type:x.type},H={...r};H[u]=[...H[u],O].sort((Q,D)=>Q.startTime.localeCompare(D.startTime)),o(H)},I=O=>{const H={...r};H[u]=H[u].filter(Q=>Q.id!==O),o(H)},N=async()=>{h(!0);const O={schoolId:e,classId:t,schedule:r,updatedAt:Date.now()};await lt.saveTimetable(O),h(!1),kt("Timetable saved successfully!",{type:"success"})},S=O=>{const H=r[O];return!H||H.length===0?"N/A":H[H.length-1].endTime},E=O=>{switch(O){case"break":return{bg:"bg-amber-50",border:"border-amber-100",icon:Ok,iconColor:"text-amber-600",badge:"text-amber-600 border-amber-200"};case"worship":return{bg:"bg-purple-50",border:"border-purple-100",icon:MT,iconColor:"text-purple-600",badge:"text-purple-600 border-purple-200"};case"assembly":return{bg:"bg-[#E6F0FA]",border:"border-[#E6F0FA]",icon:pl,iconColor:"text-[#0B4A82]",badge:"text-[#0B4A82] border-[#E6F0FA]"};case"arrival":return{bg:"bg-green-50",border:"border-green-100",icon:pl,iconColor:"text-green-600",badge:"text-green-600 border-green-200"};case"closing":return{bg:"bg-slate-100",border:"border-slate-200",icon:Hk,iconColor:"text-slate-600",badge:"text-slate-600 border-slate-300"};default:return{bg:"bg-white",border:"border-slate-100",icon:Cu,iconColor:"text-emerald-600",badge:"text-slate-600 border-slate-200"}}};return i.jsx(sr,{title:"Manage Timetable",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-auto md:h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row justify-between md:items-center gap-4 bg-slate-50",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48",value:t,onChange:O=>n(O.target.value),children:Ts.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))})]})}),i.jsxs("button",{onClick:N,disabled:c,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50",children:[i.jsx(oA,{size:18,className:"mr-2"}),c?"Saving...":"Save Schedule"]})]}),i.jsxs("div",{className:"flex flex-1 overflow-y-auto md:overflow-hidden",children:[i.jsx("div",{className:"hidden md:flex w-40 border-r border-slate-100 bg-white flex flex-col overflow-y-auto",children:tx.map(O=>{var Q;const H=((Q=r[O])==null?void 0:Q.length)||0;return i.jsxs("button",{onClick:()=>f(O),className:`p-4 text-left border-l-4 transition-colors hover:bg-slate-50 ${u===O?"border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{className:"block",children:O}),i.jsxs("span",{className:"text-xs text-slate-400",children:[H," Slots"]})]},O)})}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto md:overflow-hidden bg-slate-50/50",children:[i.jsx("div",{className:"md:hidden flex overflow-x-auto bg-white border-b border-slate-100",children:tx.map(O=>{var Q;const H=((Q=r[O])==null?void 0:Q.length)||0;return i.jsxs("button",{onClick:()=>f(O),className:`px-4 py-3 text-sm whitespace-nowrap transition-colors hover:bg-slate-50 ${u===O?"border-b-2 border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{children:O}),i.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",H,")"]})]},O)})}),i.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 flex justify-between items-center bg-white",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[u," Schedule"]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Closing Time:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:S(u)})]})]})}),i.jsx("div",{className:"flex-1 overflow-visible md:overflow-y-auto p-3 md:p-6 space-y-3 md:space-y-4 min-h-[260px]",children:((F=r[u])==null?void 0:F.length)===0?i.jsxs("div",{className:"text-center w-full min-h-[260px] md:min-h-[320px] py-10 md:py-16 px-6 md:px-10 text-slate-500 border-2 border-dashed border-slate-200 rounded-2xl bg-white flex flex-col items-center justify-center",children:[i.jsx("div",{className:"text-xl md:text-2xl font-semibold mb-3 text-slate-700",children:"No classes or breaks scheduled"}),i.jsxs("div",{className:"text-base md:text-lg leading-relaxed max-w-md mx-auto",children:["Add time slots for ",u," using the form below."]})]}):(L=r[u])==null?void 0:L.map(O=>{const H=E(O.type),Q=H.icon;return i.jsxs("div",{className:`flex items-center p-4 md:p-5 rounded-lg border shadow-sm ${H.bg} ${H.border}`,children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-full mr-3 md:mr-4 bg-white shadow-sm text-slate-500 flex-shrink-0",children:i.jsx(Q,{size:20,className:H.iconColor})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-mono text-sm md:text-base font-semibold text-slate-600 bg-slate-100 px-2 py-1 rounded whitespace-nowrap",children:[O.startTime," - ",O.endTime]}),O.type!=="lesson"&&i.jsx("span",{className:`text-xs uppercase font-bold border px-2 py-0.5 rounded ${H.badge}`,children:O.type})]}),i.jsx("p",{className:"text-base md:text-lg font-bold text-slate-800 break-words",children:O.subject})]}),i.jsx("button",{onClick:()=>I(O.id),className:"text-slate-300 hover:text-[#1160A8] p-2 transition-colors flex-shrink-0",children:i.jsx(RA,{size:18})})]},O.id)})}),i.jsxs("div",{className:"p-4 md:p-6 bg-white border-t border-slate-200",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-4",children:"Add Time Slot"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 items-end",children:[i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Start Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:x.startTime,onChange:O=>g({...x,startTime:O.target.value})})]}),i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"End Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:x.endTime,onChange:O=>g({...x,endTime:O.target.value})})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Type"}),i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:x.type,onChange:O=>{const H=O.target.value;let Q="";H==="break"?Q="Break":H==="worship"?Q="Worship":H==="closing"?Q="Closing":H==="assembly"?Q="Assembly":H==="arrival"?Q="Arrival & Free Play":H==="lunch"?Q="Lunch":H==="snack"?Q="Snack":H==="cleaning"?Q="Clean Up":H==="games"?Q="Games":H==="nap"?Q="Nap Time":H==="clubs"?Q="Clubs/Activities":Q=A[0]||"",g({...x,type:H,subject:Q})},children:[i.jsx("option",{value:"arrival",children:"Arrival & Free Play"}),i.jsx("option",{value:"assembly",children:"Morning Assembly"}),i.jsx("option",{value:"lesson",children:"Lesson"}),i.jsx("option",{value:"break",children:"Break"}),i.jsx("option",{value:"snack",children:"Snack"}),i.jsx("option",{value:"lunch",children:"Lunch"}),i.jsx("option",{value:"worship",children:"Worship/Devotion"}),i.jsx("option",{value:"games",children:"Games/Sports"}),i.jsx("option",{value:"clubs",children:"Clubs/Activities"}),i.jsx("option",{value:"cleaning",children:"Clean Up"}),i.jsx("option",{value:"nap",children:"Nap Time"}),i.jsx("option",{value:"closing",children:"Closing"})]})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-4",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Activity/Subject"}),x.type==="lesson"?i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:x.subject,onChange:O=>g({...x,subject:O.target.value}),children:[A.map(O=>i.jsx("option",{value:O,children:O},O)),A.length===0&&i.jsx("option",{value:"",children:"No Subjects Found"})]}):i.jsx("input",{type:"text",className:"w-full border p-3 rounded text-sm md:text-base",value:x.subject,onChange:O=>g({...x,subject:O.target.value})})]}),i.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:i.jsxs("button",{onClick:b,className:"w-full bg-[#1160A8] text-white p-3 rounded text-sm md:text-base font-medium hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Kh,{size:16,className:"inline mr-1"})," Add Slot"]})})]})]})]})]})]})})},uK=()=>{const{school:s}=uc(),e=gm(),[t,n]=Z.useState(!1),[r,o]=Z.useState("0"),[c,h]=Z.useState([]),[u,f]=Z.useState(!1),[A,m]=Z.useState(!1),[x,g]=Z.useState(!1),b=(D,R="GHS")=>{if(!D&&D!==0)return"-";const K=D>=100?D/100:D;return new Intl.NumberFormat("en-GH",{style:"currency",currency:R}).format(K)},I=D=>{if(!D)return"-";if(D instanceof tr)return D.toDate().toLocaleString();if(typeof D=="number")return new Date(D).toLocaleString();const R=new Date(D);return Number.isNaN(R.getTime())?"-":R.toLocaleString()},N=D=>{const R=(D||"pending").toLowerCase();return["success","paid","active"].includes(R)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(R)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(R)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},S=Z.useMemo(()=>{var K;const D=((K=s==null?void 0:s.billing)==null?void 0:K.status)||"inactive",R=(s==null?void 0:s.plan)||"monthly";return{status:D,plan:R}},[s]),E=S.plan==="free",F=Z.useMemo(()=>{const D=c[0];return N((D==null?void 0:D.status)||S.status)},[S.status,c]),L=Z.useMemo(()=>{const D=S.plan||"monthly";return 300*(D==="termly"?4:D==="yearly"?12:1)},[S.plan]);Z.useEffect(()=>{E||o(String(L))},[L,E]);const O=async()=>{if(s!=null&&s.id){f(!0);try{const D=Hs(Ct,"payments"),R=Ys(D,is("schoolId","==",s.id)),P=(await qs(R)).docs.map(V=>({id:V.id,...V.data()})).sort((V,$)=>{var re,W;const ae=(re=V.createdAt)!=null&&re.toMillis?V.createdAt.toMillis():new Date(V.createdAt||0).getTime();return((W=$.createdAt)!=null&&W.toMillis?$.createdAt.toMillis():new Date($.createdAt||0).getTime())-ae});h(P)}catch(D){console.error("Failed to load payment history",D),kt("Failed to load payment history.",{type:"error"})}finally{f(!1)}}},H=async()=>{if(!c.length){kt("No payments to verify.",{type:"info"});return}const D=c.filter(R=>["pending","abandoned","failed"].includes(String(R.status||"pending").toLowerCase()));if(!D.length){kt("All payments are already verified.",{type:"success"});return}try{m(!0);let R=0;for(const K of D)K.reference&&(await eC({reference:K.reference}),R+=1);kt(`Verification complete. ${R} payment(s) updated.`,{type:"success"}),await O()}catch(R){console.error("Payment verification failed:",R),kt((R==null?void 0:R.message)||"Payment verification failed.",{type:"error"})}finally{m(!1)}};Z.useEffect(()=>{E||O()},[s==null?void 0:s.id,E]),Z.useEffect(()=>{if(E)return;const R=new URLSearchParams(window.location.search).get("reference");if(!R)return;(async()=>{try{m(!0);const P=await eC({reference:R});if(String((P==null?void 0:P.status)||"").toLowerCase()==="success"){g(!0),setTimeout(()=>{e("/",{replace:!0})},3500);return}kt("Payment was not completed. Please try again or verify later.",{type:"info"}),await O()}catch(P){console.error("Payment verification failed:",P),kt((P==null?void 0:P.message)||"Payment verification failed.",{type:"error"})}finally{m(!1)}})()},[E,e]);const Q=async()=>{if(E)return;const D=Number(L);if(!D||D<=0){kt("Enter a valid amount.",{type:"error"});return}try{n(!0);const R=await B7({amount:D*100,currency:"GHS"});window.location.href=R.authorizationUrl}catch(R){console.error("Billing error:",R),kt((R==null?void 0:R.message)||"Payment initiation failed.",{type:"error"})}finally{n(!1)}};return E?i.jsx(sr,{title:"Billing & Subscription",children:i.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:i.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/60 p-6 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(qy,{size:18})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Free Plan Active"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Billing is disabled for your school. Contact your super admin if you need to change your subscription."})]})]})})})}):i.jsx(sr,{title:"Billing & Subscription",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[x&&i.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/70 p-6 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(qy,{size:18})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Subscription renewed successfully"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Great news! Your access has been restored. Redirecting to the dashboard now."})]})]})}),i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Billing & Subscription"}),i.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Pay monthly via Mobile Money and keep your school active."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(Fp,{size:18})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Pay Monthly (MoMo)"}),i.jsx("p",{className:"text-sm text-slate-500",children:"MTN, Telecel, AirtelTigo supported via Paystack."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount (GHS)"}),i.jsx("input",{type:"number",min:"0",step:"1",value:r,readOnly:!0,className:"w-full border border-slate-200 rounded-xl p-2.5 bg-slate-50 text-slate-700"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:Q,disabled:t,className:"w-full inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2.5 font-semibold hover:bg-emerald-700 transition disabled:opacity-60",children:[t?"Redirecting...":"Pay with MoMo",i.jsx(uk,{size:16})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-indigo-100 text-indigo-600 flex items-center justify-center",children:i.jsx(qy,{size:18})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Subscription Status"}),i.jsx("p",{className:"text-sm text-slate-500",children:"School Plan"})]})]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Plan"}),i.jsx("span",{className:"font-semibold text-slate-800",children:S.plan})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Status"}),i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${F.className}`,children:F.label})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Renewal"}),i.jsx("span",{className:"font-semibold text-slate-800",children:"Monthly"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Payment History"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Track all payments made by your school admin account."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{onClick:H,className:"text-sm text-emerald-700 border border-emerald-200 px-3 py-1.5 rounded-lg hover:bg-emerald-50",disabled:u||A,children:A?"Verifying...":"Verify Pending"}),i.jsx("button",{onClick:O,className:"text-sm text-slate-600 border border-slate-200 px-3 py-1.5 rounded-lg hover:bg-slate-50",disabled:u,children:u?"Loading...":"Refresh"})]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:c.map(D=>{const R=N(D.status);return i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:b(D.amount,D.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:D.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${R.className}`,children:R.label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:D.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:I(D.createdAt)})]},D.id)})})]}),!c.length&&!u&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payment history yet."})]})]})]})})},QI=Z.createContext({});function dK(s){const e=Z.useRef(null);return e.current===null&&(e.current=s()),e.current}const f2=typeof window<"u",hK=f2?Z.useLayoutEffect:Z.useEffect,m2=Z.createContext(null);function p2(s,e){s.indexOf(e)===-1&&s.push(e)}function g2(s,e){const t=s.indexOf(e);t>-1&&s.splice(t,1)}const qc=(s,e,t)=>t>e?e:t<s?s:t;let x2=()=>{};const Fu={},OI=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function PI(s){return typeof s=="object"&&s!==null}const kI=s=>/^0[^.\s]+$/u.test(s);function v2(s){let e;return()=>(e===void 0&&(e=s()),e)}const LA=s=>s,fK=(s,e)=>t=>e(s(t)),kg=(...s)=>s.reduce(fK),gg=(s,e,t)=>{const n=e-s;return n===0?1:(t-s)/n};class y2{constructor(){this.subscriptions=[]}add(e){return p2(this.subscriptions,e),()=>g2(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Su=s=>s*1e3,FA=s=>s/1e3;function MI(s,e){return e?s*(1e3/e):0}const HI=(s,e,t)=>(((1-3*t+3*e)*s+(3*t-6*e))*s+3*e)*s,mK=1e-7,pK=12;function gK(s,e,t,n,r){let o,c,h=0;do c=e+(t-e)/2,o=HI(c,n,r)-s,o>0?t=c:e=c;while(Math.abs(o)>mK&&++h<pK);return c}function Mg(s,e,t,n){if(s===e&&t===n)return LA;const r=o=>gK(o,0,1,s,t);return o=>o===0||o===1?o:HI(r(o),e,n)}const VI=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,KI=s=>e=>1-s(1-e),zI=Mg(.33,1.53,.69,.99),b2=KI(zI),GI=VI(b2),$I=s=>(s*=2)<1?.5*b2(s):.5*(2-Math.pow(2,-10*(s-1))),w2=s=>1-Math.sin(Math.acos(s)),YI=KI(w2),WI=VI(w2),xK=Mg(.42,0,1,1),vK=Mg(0,0,.58,1),XI=Mg(.42,0,.58,1),yK=s=>Array.isArray(s)&&typeof s[0]!="number",JI=s=>Array.isArray(s)&&typeof s[0]=="number",bK={linear:LA,easeIn:xK,easeInOut:XI,easeOut:vK,circIn:w2,circInOut:WI,circOut:YI,backIn:b2,backInOut:GI,backOut:zI,anticipate:$I},wK=s=>typeof s=="string",CS=s=>{if(JI(s)){x2(s.length===4);const[e,t,n,r]=s;return Mg(e,t,n,r)}else if(wK(s))return bK[s];return s},sx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jK(s,e){let t=new Set,n=new Set,r=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function u(A){c.has(A)&&(f.schedule(A),s()),A(h)}const f={schedule:(A,m=!1,x=!1)=>{const b=x&&r?t:n;return m&&c.add(A),b.has(A)||b.add(A),A},cancel:A=>{n.delete(A),c.delete(A)},process:A=>{if(h=A,r){o=!0;return}r=!0,[t,n]=[n,t],t.forEach(u),t.clear(),r=!1,o&&(o=!1,f.process(A))}};return f}const BK=40;function qI(s,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=sx.reduce((F,L)=>(F[L]=jK(o),F),{}),{setup:h,read:u,resolveKeyframes:f,preUpdate:A,update:m,preRender:x,render:g,postRender:b}=c,I=()=>{const F=Fu.useManualTiming?r.timestamp:performance.now();t=!1,Fu.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(F-r.timestamp,BK),1)),r.timestamp=F,r.isProcessing=!0,h.process(r),u.process(r),f.process(r),A.process(r),m.process(r),x.process(r),g.process(r),b.process(r),r.isProcessing=!1,t&&e&&(n=!1,s(I))},N=()=>{t=!0,n=!0,r.isProcessing||s(I)};return{schedule:sx.reduce((F,L)=>{const O=c[L];return F[L]=(H,Q=!1,D=!1)=>(t||N(),O.schedule(H,Q,D)),F},{}),cancel:F=>{for(let L=0;L<sx.length;L++)c[sx[L]].cancel(F)},state:r,steps:c}}const{schedule:ja,cancel:$d,state:So,steps:j1}=qI(typeof requestAnimationFrame<"u"?requestAnimationFrame:LA,!0);let jx;function CK(){jx=void 0}const gl={now:()=>(jx===void 0&&gl.set(So.isProcessing||Fu.useManualTiming?So.timestamp:performance.now()),jx),set:s=>{jx=s,queueMicrotask(CK)}},ZI=s=>e=>typeof e=="string"&&e.startsWith(s),e3=ZI("--"),SK=ZI("var(--"),j2=s=>SK(s)?NK.test(s.split("/*")[0].trim()):!1,NK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function SS(s){return typeof s!="string"?!1:s.split("/*")[0].includes("var(--")}const Nm={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},xg={...Nm,transform:s=>qc(0,1,s)},nx={...Nm,default:1},Jp=s=>Math.round(s*1e5)/1e5,B2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EK(s){return s==null}const TK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,C2=(s,e)=>t=>!!(typeof t=="string"&&TK.test(t)&&t.startsWith(s)||e&&!EK(t)&&Object.prototype.hasOwnProperty.call(t,e)),t3=(s,e,t)=>n=>{if(typeof n!="string")return n;const[r,o,c,h]=n.match(B2);return{[s]:parseFloat(r),[e]:parseFloat(o),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},IK=s=>qc(0,255,s),B1={...Nm,transform:s=>Math.round(IK(s))},Oh={test:C2("rgb","red"),parse:t3("red","green","blue"),transform:({red:s,green:e,blue:t,alpha:n=1})=>"rgba("+B1.transform(s)+", "+B1.transform(e)+", "+B1.transform(t)+", "+Jp(xg.transform(n))+")"};function _K(s){let e="",t="",n="",r="";return s.length>5?(e=s.substring(1,3),t=s.substring(3,5),n=s.substring(5,7),r=s.substring(7,9)):(e=s.substring(1,2),t=s.substring(2,3),n=s.substring(3,4),r=s.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Ib={test:C2("#"),parse:_K,transform:Oh.transform},Hg=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),bd=Hg("deg"),Yc=Hg("%"),js=Hg("px"),FK=Hg("vh"),UK=Hg("vw"),NS={...Yc,parse:s=>Yc.parse(s)/100,transform:s=>Yc.transform(s*100)},Yf={test:C2("hsl","hue"),parse:t3("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(s)+", "+Yc.transform(Jp(e))+", "+Yc.transform(Jp(t))+", "+Jp(xg.transform(n))+")"},Oi={test:s=>Oh.test(s)||Ib.test(s)||Yf.test(s),parse:s=>Oh.test(s)?Oh.parse(s):Yf.test(s)?Yf.parse(s):Ib.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Oh.transform(s):Yf.transform(s),getAnimatableNone:s=>{const e=Oi.parse(s);return e.alpha=0,Oi.transform(e)}},DK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RK(s){var e,t;return isNaN(s)&&typeof s=="string"&&(((e=s.match(B2))==null?void 0:e.length)||0)+(((t=s.match(DK))==null?void 0:t.length)||0)>0}const s3="number",n3="color",LK="var",QK="var(",ES="${}",OK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vg(s){const e=s.toString(),t=[],n={color:[],number:[],var:[]},r=[];let o=0;const h=e.replace(OK,u=>(Oi.test(u)?(n.color.push(o),r.push(n3),t.push(Oi.parse(u))):u.startsWith(QK)?(n.var.push(o),r.push(LK),t.push(u)):(n.number.push(o),r.push(s3),t.push(parseFloat(u))),++o,ES)).split(ES);return{values:t,split:h,indexes:n,types:r}}function r3(s){return vg(s).values}function a3(s){const{split:e,types:t}=vg(s),n=e.length;return r=>{let o="";for(let c=0;c<n;c++)if(o+=e[c],r[c]!==void 0){const h=t[c];h===s3?o+=Jp(r[c]):h===n3?o+=Oi.transform(r[c]):o+=r[c]}return o}}const PK=s=>typeof s=="number"?0:Oi.test(s)?Oi.getAnimatableNone(s):s;function kK(s){const e=r3(s);return a3(s)(e.map(PK))}const Yd={test:RK,parse:r3,createTransformer:a3,getAnimatableNone:kK};function C1(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*(2/3-t)*6:s}function MK({hue:s,saturation:e,lightness:t,alpha:n}){s/=360,e/=100,t/=100;let r=0,o=0,c=0;if(!e)r=o=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,u=2*t-h;r=C1(u,h,s+1/3),o=C1(u,h,s),c=C1(u,h,s-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:n}}function iv(s,e){return t=>t>0?e:s}const Ya=(s,e,t)=>s+(e-s)*t,S1=(s,e,t)=>{const n=s*s,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},HK=[Ib,Oh,Yf],VK=s=>HK.find(e=>e.test(s));function TS(s){const e=VK(s);if(!e)return!1;let t=e.parse(s);return e===Yf&&(t=MK(t)),t}const IS=(s,e)=>{const t=TS(s),n=TS(e);if(!t||!n)return iv(s,e);const r={...t};return o=>(r.red=S1(t.red,n.red,o),r.green=S1(t.green,n.green,o),r.blue=S1(t.blue,n.blue,o),r.alpha=Ya(t.alpha,n.alpha,o),Oh.transform(r))},_b=new Set(["none","hidden"]);function KK(s,e){return _b.has(s)?t=>t<=0?s:e:t=>t>=1?e:s}function zK(s,e){return t=>Ya(s,e,t)}function S2(s){return typeof s=="number"?zK:typeof s=="string"?j2(s)?iv:Oi.test(s)?IS:YK:Array.isArray(s)?i3:typeof s=="object"?Oi.test(s)?IS:GK:iv}function i3(s,e){const t=[...s],n=t.length,r=s.map((o,c)=>S2(o)(o,e[c]));return o=>{for(let c=0;c<n;c++)t[c]=r[c](o);return t}}function GK(s,e){const t={...s,...e},n={};for(const r in t)s[r]!==void 0&&e[r]!==void 0&&(n[r]=S2(s[r])(s[r],e[r]));return r=>{for(const o in n)t[o]=n[o](r);return t}}function $K(s,e){const t=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],c=s.indexes[o][n[o]],h=s.values[c]??0;t[r]=h,n[o]++}return t}const YK=(s,e)=>{const t=Yd.createTransformer(e),n=vg(s),r=vg(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?_b.has(s)&&!r.values.length||_b.has(e)&&!n.values.length?KK(s,e):kg(i3($K(n,r),r.values),t):iv(s,e)};function o3(s,e,t){return typeof s=="number"&&typeof e=="number"&&typeof t=="number"?Ya(s,e,t):S2(s)(s,e)}const WK=s=>{const e=({timestamp:t})=>s(t);return{start:(t=!0)=>ja.update(e,t),stop:()=>$d(e),now:()=>So.isProcessing?So.timestamp:gl.now()}},l3=(s,e,t=10)=>{let n="";const r=Math.max(Math.round(e/t),2);for(let o=0;o<r;o++)n+=Math.round(s(o/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ov=2e4;function N2(s){let e=0;const t=50;let n=s.next(e);for(;!n.done&&e<ov;)e+=t,n=s.next(e);return e>=ov?1/0:e}function XK(s,e=100,t){const n=t({...s,keyframes:[0,e]}),r=Math.min(N2(n),ov);return{type:"keyframes",ease:o=>n.next(r*o).value/e,duration:FA(r)}}const JK=5;function A3(s,e,t){const n=Math.max(e-JK,0);return MI(t-s(n),e-n)}const ai={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},N1=.001;function qK({duration:s=ai.duration,bounce:e=ai.bounce,velocity:t=ai.velocity,mass:n=ai.mass}){let r,o,c=1-e;c=qc(ai.minDamping,ai.maxDamping,c),s=qc(ai.minDuration,ai.maxDuration,FA(s)),c<1?(r=f=>{const A=f*c,m=A*s,x=A-t,g=Fb(f,c),b=Math.exp(-m);return N1-x/g*b},o=f=>{const m=f*c*s,x=m*t+t,g=Math.pow(c,2)*Math.pow(f,2)*s,b=Math.exp(-m),I=Fb(Math.pow(f,2),c);return(-r(f)+N1>0?-1:1)*((x-g)*b)/I}):(r=f=>{const A=Math.exp(-f*s),m=(f-t)*s+1;return-N1+A*m},o=f=>{const A=Math.exp(-f*s),m=(t-f)*(s*s);return A*m});const h=5/s,u=ez(r,o,h);if(s=Su(s),isNaN(u))return{stiffness:ai.stiffness,damping:ai.damping,duration:s};{const f=Math.pow(u,2)*n;return{stiffness:f,damping:c*2*Math.sqrt(n*f),duration:s}}}const ZK=12;function ez(s,e,t){let n=t;for(let r=1;r<ZK;r++)n=n-s(n)/e(n);return n}function Fb(s,e){return s*Math.sqrt(1-e*e)}const tz=["duration","bounce"],sz=["stiffness","damping","mass"];function _S(s,e){return e.some(t=>s[t]!==void 0)}function nz(s){let e={velocity:ai.velocity,stiffness:ai.stiffness,damping:ai.damping,mass:ai.mass,isResolvedFromDuration:!1,...s};if(!_S(s,sz)&&_S(s,tz))if(s.visualDuration){const t=s.visualDuration,n=2*Math.PI/(t*1.2),r=n*n,o=2*qc(.05,1,1-(s.bounce||0))*Math.sqrt(r);e={...e,mass:ai.mass,stiffness:r,damping:o}}else{const t=qK(s);e={...e,...t,mass:ai.mass},e.isResolvedFromDuration=!0}return e}function lv(s=ai.visualDuration,e=ai.bounce){const t=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:n,restDelta:r}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:u,damping:f,mass:A,duration:m,velocity:x,isResolvedFromDuration:g}=nz({...t,velocity:-FA(t.velocity||0)}),b=x||0,I=f/(2*Math.sqrt(u*A)),N=c-o,S=FA(Math.sqrt(u/A)),E=Math.abs(N)<5;n||(n=E?ai.restSpeed.granular:ai.restSpeed.default),r||(r=E?ai.restDelta.granular:ai.restDelta.default);let F;if(I<1){const O=Fb(S,I);F=H=>{const Q=Math.exp(-I*S*H);return c-Q*((b+I*S*N)/O*Math.sin(O*H)+N*Math.cos(O*H))}}else if(I===1)F=O=>c-Math.exp(-S*O)*(N+(b+S*N)*O);else{const O=S*Math.sqrt(I*I-1);F=H=>{const Q=Math.exp(-I*S*H),D=Math.min(O*H,300);return c-Q*((b+I*S*N)*Math.sinh(D)+O*N*Math.cosh(D))/O}}const L={calculatedDuration:g&&m||null,next:O=>{const H=F(O);if(g)h.done=O>=m;else{let Q=O===0?b:0;I<1&&(Q=O===0?Su(b):A3(F,O,H));const D=Math.abs(Q)<=n,R=Math.abs(c-H)<=r;h.done=D&&R}return h.value=h.done?c:H,h},toString:()=>{const O=Math.min(N2(L),ov),H=l3(Q=>L.next(O*Q).value,O,30);return O+"ms "+H},toTransition:()=>{}};return L}lv.applyToOptions=s=>{const e=XK(s,100,lv);return s.ease=e.ease,s.duration=Su(e.duration),s.type="keyframes",s};function Ub({keyframes:s,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:u,restDelta:f=.5,restSpeed:A}){const m=s[0],x={done:!1,value:m},g=D=>h!==void 0&&D<h||u!==void 0&&D>u,b=D=>h===void 0?u:u===void 0||Math.abs(h-D)<Math.abs(u-D)?h:u;let I=t*e;const N=m+I,S=c===void 0?N:c(N);S!==N&&(I=S-m);const E=D=>-I*Math.exp(-D/n),F=D=>S+E(D),L=D=>{const R=E(D),K=F(D);x.done=Math.abs(R)<=f,x.value=x.done?S:K};let O,H;const Q=D=>{g(x.value)&&(O=D,H=lv({keyframes:[x.value,b(x.value)],velocity:A3(F,D,x.value),damping:r,stiffness:o,restDelta:f,restSpeed:A}))};return Q(0),{calculatedDuration:null,next:D=>{let R=!1;return!H&&O===void 0&&(R=!0,L(D),Q(D)),O!==void 0&&D>=O?H.next(D-O):(!R&&L(D),x)}}}function rz(s,e,t){const n=[],r=t||Fu.mix||o3,o=s.length-1;for(let c=0;c<o;c++){let h=r(s[c],s[c+1]);if(e){const u=Array.isArray(e)?e[c]||LA:e;h=kg(u,h)}n.push(h)}return n}function az(s,e,{clamp:t=!0,ease:n,mixer:r}={}){const o=s.length;if(x2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=s[0]===s[1];s[0]>s[o-1]&&(s=[...s].reverse(),e=[...e].reverse());const h=rz(e,n,r),u=h.length,f=A=>{if(c&&A<s[0])return e[0];let m=0;if(u>1)for(;m<s.length-2&&!(A<s[m+1]);m++);const x=gg(s[m],s[m+1],A);return h[m](x)};return t?A=>f(qc(s[0],s[o-1],A)):f}function iz(s,e){const t=s[s.length-1];for(let n=1;n<=e;n++){const r=gg(0,e,n);s.push(Ya(t,1,r))}}function oz(s){const e=[0];return iz(e,s.length-1),e}function lz(s,e){return s.map(t=>t*e)}function Az(s,e){return s.map(()=>e||XI).splice(0,s.length-1)}function qp({duration:s=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=yK(n)?n.map(CS):CS(n),o={done:!1,value:e[0]},c=lz(t&&t.length===e.length?t:oz(e),s),h=az(c,e,{ease:Array.isArray(r)?r:Az(e,r)});return{calculatedDuration:s,next:u=>(o.value=h(u),o.done=u>=s,o)}}const cz=s=>s!==null;function E2(s,{repeat:e,repeatType:t="loop"},n,r=1){const o=s.filter(cz),h=r<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||n===void 0?o[h]:n}const uz={decay:Ub,inertia:Ub,tween:qp,keyframes:qp,spring:lv};function c3(s){typeof s.type=="string"&&(s.type=uz[s.type])}class T2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const dz=s=>s/100;class I2 extends T2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:t}=this.options;t&&t.updatedAt!==gl.now()&&this.tick(gl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;c3(e);const{type:t=qp,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const u=t||qp;u!==qp&&typeof h[0]!="number"&&(this.mixKeyframes=kg(dz,o3(h[0],h[1])),h=[0,100]);const f=u({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=N2(f));const{calculatedDuration:A}=f;this.calculatedDuration=A,this.resolvedDuration=A+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:A,repeat:m,repeatType:x,repeatDelay:g,type:b,onUpdate:I,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let F=this.currentTime,L=n;if(m){const D=Math.min(this.currentTime,r)/h;let R=Math.floor(D),K=D%1;!K&&D>=1&&(K=1),K===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(x==="reverse"?(K=1-K,g&&(K-=g/h)):x==="mirror"&&(L=c)),F=qc(0,1,K)*h}const O=E?{done:!1,value:A[0]}:L.next(F);o&&(O.value=o(O.value));let{done:H}=O;!E&&u!==null&&(H=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return Q&&b!==Ub&&(O.value=E2(A,this.options,N,this.speed)),I&&I(O.value),Q&&this.finish(),O}then(e,t){return this.finished.then(e,t)}get duration(){return FA(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+FA(e)}get time(){return FA(this.currentTime)}set time(e){var t;e=Su(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gl.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=FA(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:e=WK,startTime:t}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(o=(r=this.options).onPlay)==null||o.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function hz(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const Ph=s=>s*180/Math.PI,Db=s=>{const e=Ph(Math.atan2(s[1],s[0]));return Rb(e)},fz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Db,rotateZ:Db,skewX:s=>Ph(Math.atan(s[1])),skewY:s=>Ph(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},Rb=s=>(s=s%360,s<0&&(s+=360),s),FS=Db,US=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),DS=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),mz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:US,scaleY:DS,scale:s=>(US(s)+DS(s))/2,rotateX:s=>Rb(Ph(Math.atan2(s[6],s[5]))),rotateY:s=>Rb(Ph(Math.atan2(-s[2],s[0]))),rotateZ:FS,rotate:FS,skewX:s=>Ph(Math.atan(s[4])),skewY:s=>Ph(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function Lb(s){return s.includes("scale")?1:0}function Qb(s,e){if(!s||s==="none")return Lb(e);const t=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(t)n=mz,r=t;else{const h=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=fz,r=h}if(!r)return Lb(e);const o=n[e],c=r[1].split(",").map(gz);return typeof o=="function"?o(c):c[o]}const pz=(s,e)=>{const{transform:t="none"}=getComputedStyle(s);return Qb(t,e)};function gz(s){return parseFloat(s.trim())}const Em=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tm=new Set(Em),RS=s=>s===Nm||s===js,xz=new Set(["x","y","z"]),vz=Em.filter(s=>!xz.has(s));function yz(s){const e=[];return vz.forEach(t=>{const n=s.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Fd={width:({x:s},{paddingLeft:e="0",paddingRight:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),height:({y:s},{paddingTop:e="0",paddingBottom:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>Qb(e,"x"),y:(s,{transform:e})=>Qb(e,"y")};Fd.translateX=Fd.x;Fd.translateY=Fd.y;const Wh=new Set;let Ob=!1,Pb=!1,kb=!1;function u3(){if(Pb){const s=Array.from(Wh).filter(n=>n.needsMeasurement),e=new Set(s.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=yz(n);r.length&&(t.set(n,r),n.render())}),s.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([o,c])=>{var h;(h=n.getValue(o))==null||h.set(c)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Pb=!1,Ob=!1,Wh.forEach(s=>s.complete(kb)),Wh.clear()}function d3(){Wh.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Pb=!0)})}function bz(){kb=!0,d3(),u3(),kb=!1}class _2{constructor(e,t,n,r,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Wh.add(this),Ob||(Ob=!0,ja.read(d3),ja.resolveKeyframes(u3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){const o=r==null?void 0:r.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){const h=n.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),r&&o===void 0&&r.set(e[0])}hz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wh.delete(this)}cancel(){this.state==="scheduled"&&(Wh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wz=s=>s.startsWith("--");function jz(s,e,t){wz(e)?s.style.setProperty(e,t):s.style[e]=t}const Bz=v2(()=>window.ScrollTimeline!==void 0),Cz={};function Sz(s,e){const t=v2(s);return()=>Cz[e]??t()}const h3=Sz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Up=([s,e,t,n])=>`cubic-bezier(${s}, ${e}, ${t}, ${n})`,LS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Up([0,.65,.55,1]),circOut:Up([.55,0,1,.45]),backIn:Up([.31,.01,.66,-.59]),backOut:Up([.33,1.53,.69,.99])};function f3(s,e){if(s)return typeof s=="function"?h3()?l3(s,e):"ease-out":JI(s)?Up(s):Array.isArray(s)?s.map(t=>f3(t,e)||LS.easeOut):LS[s]}function Nz(s,e,t,{delay:n=0,duration:r=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:u}={},f=void 0){const A={[e]:t};u&&(A.offset=u);const m=f3(h,r);Array.isArray(m)&&(A.easing=m);const x={delay:n,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),s.animate(A,x)}function m3(s){return typeof s=="function"&&"applyToOptions"in s}function Ez({type:s,...e}){return m3(s)&&h3()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Tz extends T2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,x2(typeof e.type!="string");const f=Ez(e);this.animation=Nz(t,n,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const A=E2(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(A):jz(t,n,A),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,n;const e=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return FA(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+FA(e)}get time(){return FA(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Su(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Bz()?(this.animation.timeline=e,LA):t(this)}}const p3={anticipate:$I,backInOut:GI,circInOut:WI};function Iz(s){return s in p3}function _z(s){typeof s.ease=="string"&&Iz(s.ease)&&(s.ease=p3[s.ease])}const E1=10;class Fz extends Tz{constructor(e){_z(e),c3(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:o,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new I2({...c,autoplay:!1}),u=Math.max(E1,gl.now()-this.startTime),f=qc(0,E1,u-E1);t.setWithVelocity(h.sample(Math.max(0,u-f)).value,h.sample(u).value,f),h.stop()}}const QS=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Yd.test(s)||s==="0")&&!s.startsWith("url("));function Uz(s){const e=s[0];if(s.length===1)return!0;for(let t=0;t<s.length;t++)if(s[t]!==e)return!0}function Dz(s,e,t,n){const r=s[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=s[s.length-1],c=QS(r,e),h=QS(o,e);return!c||!h?!1:Uz(s)||(t==="spring"||m3(t))&&n}function Mb(s){s.duration=0,s.type="keyframes"}const Rz=new Set(["opacity","clipPath","filter","transform"]),Lz=v2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qz(s){var A;const{motionValue:e,name:t,repeatDelay:n,repeatType:r,damping:o,type:c}=s;if(!(((A=e==null?void 0:e.owner)==null?void 0:A.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return Lz()&&t&&Rz.has(t)&&(t!=="transform"||!f)&&!u&&!n&&r!=="mirror"&&o!==0&&c!=="inertia"}const Oz=40;class Pz extends T2{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:u,motionValue:f,element:A,...m}){var b;super(),this.stop=()=>{var I,N;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=gl.now();const x={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:o,repeatType:c,name:u,motionValue:f,element:A,...m},g=(A==null?void 0:A.KeyframeResolver)||_2;this.keyframeResolver=new g(h,(I,N,S)=>this.onKeyframesResolved(I,N,x,!S),u,f,A),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:u,isHandoff:f,onUpdate:A}=n;this.resolvedAt=gl.now(),Dz(e,o,c,h)||((Fu.instantAnimations||!u)&&(A==null||A(E2(e,n,t))),e[0]=e[e.length-1],Mb(n),n.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Oz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},g=!f&&Qz(x)?new Fz({...x,element:x.motionValue.owner.current}):new I2(x);g.finished.then(()=>this.notifyFinished()).catch(LA),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),bz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const kz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mz(s){const e=kz.exec(s);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function g3(s,e,t=1){const[n,r]=Mz(s);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const c=o.trim();return OI(c)?parseFloat(c):c}return j2(r)?g3(r,e,t+1):r}function F2(s,e){return(s==null?void 0:s[e])??(s==null?void 0:s.default)??s}const x3=new Set(["width","height","top","left","right","bottom",...Em]),Hz={test:s=>s==="auto",parse:s=>s},v3=s=>e=>e.test(s),y3=[Nm,js,Yc,bd,UK,FK,Hz],OS=s=>y3.find(v3(s));function Vz(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||kI(s):!0}const Kz=new Set(["brightness","contrast","saturate","opacity"]);function zz(s){const[e,t]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[n]=t.match(B2)||[];if(!n)return s;const r=t.replace(n,"");let o=Kz.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+r+")"}const Gz=/\b([a-z-]*)\(.*?\)/gu,Hb={...Yd,getAnimatableNone:s=>{const e=s.match(Gz);return e?e.map(zz).join(" "):s}},PS={...Nm,transform:Math.round},$z={rotate:bd,rotateX:bd,rotateY:bd,rotateZ:bd,scale:nx,scaleX:nx,scaleY:nx,scaleZ:nx,skew:bd,skewX:bd,skewY:bd,distance:js,translateX:js,translateY:js,translateZ:js,x:js,y:js,z:js,perspective:js,transformPerspective:js,opacity:xg,originX:NS,originY:NS,originZ:js},U2={borderWidth:js,borderTopWidth:js,borderRightWidth:js,borderBottomWidth:js,borderLeftWidth:js,borderRadius:js,radius:js,borderTopLeftRadius:js,borderTopRightRadius:js,borderBottomRightRadius:js,borderBottomLeftRadius:js,width:js,maxWidth:js,height:js,maxHeight:js,top:js,right:js,bottom:js,left:js,inset:js,insetBlock:js,insetBlockStart:js,insetBlockEnd:js,insetInline:js,insetInlineStart:js,insetInlineEnd:js,padding:js,paddingTop:js,paddingRight:js,paddingBottom:js,paddingLeft:js,paddingBlock:js,paddingBlockStart:js,paddingBlockEnd:js,paddingInline:js,paddingInlineStart:js,paddingInlineEnd:js,margin:js,marginTop:js,marginRight:js,marginBottom:js,marginLeft:js,marginBlock:js,marginBlockStart:js,marginBlockEnd:js,marginInline:js,marginInlineStart:js,marginInlineEnd:js,backgroundPositionX:js,backgroundPositionY:js,...$z,zIndex:PS,fillOpacity:xg,strokeOpacity:xg,numOctaves:PS},Yz={...U2,color:Oi,backgroundColor:Oi,outlineColor:Oi,fill:Oi,stroke:Oi,borderColor:Oi,borderTopColor:Oi,borderRightColor:Oi,borderBottomColor:Oi,borderLeftColor:Oi,filter:Hb,WebkitFilter:Hb},b3=s=>Yz[s];function w3(s,e){let t=b3(s);return t!==Hb&&(t=Yd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Wz=new Set(["auto","none","0"]);function Xz(s,e,t){let n=0,r;for(;n<s.length&&!r;){const o=s[n];typeof o=="string"&&!Wz.has(o)&&vg(o).values.length&&(r=s[n]),n++}if(r&&t)for(const o of e)s[o]=w3(t,r)}class Jz extends _2{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let A=0;A<e.length;A++){let m=e[A];if(typeof m=="string"&&(m=m.trim(),j2(m))){const x=g3(m,t.current);x!==void 0&&(e[A]=x),A===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!x3.has(n)||e.length!==2)return;const[r,o]=e,c=OS(r),h=OS(o),u=SS(r),f=SS(o);if(u!==f&&Fd[n]){this.needsMeasurement=!0;return}if(c!==h)if(RS(c)&&RS(h))for(let A=0;A<e.length;A++){const m=e[A];typeof m=="string"&&(e[A]=parseFloat(m))}else Fd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||Vz(e[r]))&&n.push(r);n.length&&Xz(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const o=n.length-1,c=n[o];n[o]=Fd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function qz(s,e,t){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const r=(t==null?void 0:t[s])??n.querySelectorAll(s);return r?Array.from(r):[]}return Array.from(s)}const j3=(s,e)=>e&&typeof s=="number"?e.transform(s):s;function Zz(s){return PI(s)&&"offsetHeight"in s}const kS=30,eG=s=>!isNaN(parseFloat(s));class tG{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const r=gl.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=gl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new y2);const n=this.events[e].add(t);return e==="change"?()=>{n(),ja.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,kS);return MI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hm(s,e){return new tG(s,e)}const{schedule:D2}=qI(queueMicrotask,!1),nc={x:!1,y:!1};function B3(){return nc.x||nc.y}function sG(s){return s==="x"||s==="y"?nc[s]?null:(nc[s]=!0,()=>{nc[s]=!1}):nc.x||nc.y?null:(nc.x=nc.y=!0,()=>{nc.x=nc.y=!1})}function C3(s,e){const t=qz(s),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[t,r,()=>n.abort()]}function MS(s){return!(s.pointerType==="touch"||B3())}function nG(s,e,t={}){const[n,r,o]=C3(s,t),c=h=>{if(!MS(h))return;const{target:u}=h,f=e(u,h);if(typeof f!="function"||!u)return;const A=m=>{MS(m)&&(f(m),u.removeEventListener("pointerleave",A))};u.addEventListener("pointerleave",A,r)};return n.forEach(h=>{h.addEventListener("pointerenter",c,r)}),o}const S3=(s,e)=>e?s===e?!0:S3(s,e.parentElement):!1,R2=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,rG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N3(s){return rG.has(s.tagName)||s.isContentEditable===!0}const Bx=new WeakSet;function HS(s){return e=>{e.key==="Enter"&&s(e)}}function T1(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aG=(s,e)=>{const t=s.currentTarget;if(!t)return;const n=HS(()=>{if(Bx.has(t))return;T1(t,"down");const r=HS(()=>{T1(t,"up")}),o=()=>T1(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function VS(s){return R2(s)&&!B3()}function iG(s,e,t={}){const[n,r,o]=C3(s,t),c=h=>{const u=h.currentTarget;if(!VS(h))return;Bx.add(u);const f=e(u,h),A=(g,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),Bx.has(u)&&Bx.delete(u),VS(g)&&typeof f=="function"&&f(g,{success:b})},m=g=>{A(g,u===window||u===document||t.useGlobalTarget||S3(u,g.target))},x=g=>{A(g,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",x,r)};return n.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),Zz(h)&&(h.addEventListener("focus",f=>aG(f,r)),!N3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function E3(s){return PI(s)&&"ownerSVGElement"in s}function oG(s){return E3(s)&&s.tagName==="svg"}const rl=s=>!!(s&&s.getVelocity),lG=[...y3,Oi,Yd],AG=s=>lG.find(v3(s)),T3=Z.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function cG(s=!0){const e=Z.useContext(m2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=Z.useId();Z.useEffect(()=>{if(s)return r(o)},[s]);const c=Z.useCallback(()=>s&&n&&n(o),[o,n,s]);return!t&&n?[!1,c]:[!0]}const I3=Z.createContext({strict:!1}),KS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fm={};for(const s in KS)fm[s]={isEnabled:e=>KS[s].some(t=>!!e[t])};function uG(s){for(const e in s)fm[e]={...fm[e],...s[e]}}const dG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Av(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||dG.has(s)}let _3=s=>!Av(s);function hG(s){typeof s=="function"&&(_3=e=>e.startsWith("on")?!Av(e):s(e))}try{hG(require("@emotion/is-prop-valid").default)}catch{}function fG(s,e,t){const n={};for(const r in s)r==="values"&&typeof s.values=="object"||(_3(r)||t===!0&&Av(r)||!e&&!Av(r)||s.draggable&&r.startsWith("onDrag"))&&(n[r]=s[r]);return n}const Kv=Z.createContext({});function zv(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function yg(s){return typeof s=="string"||Array.isArray(s)}const L2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q2=["initial",...L2];function Gv(s){return zv(s.animate)||Q2.some(e=>yg(s[e]))}function F3(s){return!!(Gv(s)||s.variants)}function mG(s,e){if(Gv(s)){const{initial:t,animate:n}=s;return{initial:t===!1||yg(t)?t:void 0,animate:yg(n)?n:void 0}}return s.inherit!==!1?e:{}}function pG(s){const{initial:e,animate:t}=mG(s,Z.useContext(Kv));return Z.useMemo(()=>({initial:e,animate:t}),[zS(e),zS(t)])}function zS(s){return Array.isArray(s)?s.join(" "):s}function GS(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const Cp={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(js.test(s))s=parseFloat(s);else return s;const t=GS(s,e.target.x),n=GS(s,e.target.y);return`${t}% ${n}%`}},gG={correct:(s,{treeScale:e,projectionDelta:t})=>{const n=s,r=Yd.parse(s);if(r.length>5)return n;const o=Yd.createTransformer(s),c=typeof r[0]!="number"?1:0,h=t.x.scale*e.x,u=t.y.scale*e.y;r[0+c]/=h,r[1+c]/=u;const f=Ya(h,u,.5);return typeof r[2+c]=="number"&&(r[2+c]/=f),typeof r[3+c]=="number"&&(r[3+c]/=f),o(r)}},Vb={borderRadius:{...Cp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cp,borderTopRightRadius:Cp,borderBottomLeftRadius:Cp,borderBottomRightRadius:Cp,boxShadow:gG};function U3(s,{layout:e,layoutId:t}){return Tm.has(s)||s.startsWith("origin")||(e||t!==void 0)&&(!!Vb[s]||s==="opacity")}const xG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vG=Em.length;function yG(s,e,t){let n="",r=!0;for(let o=0;o<vG;o++){const c=Em[o],h=s[c];if(h===void 0)continue;let u=!0;if(typeof h=="number"?u=h===(c.startsWith("scale")?1:0):u=parseFloat(h)===0,!u||t){const f=j3(h,U2[c]);if(!u){r=!1;const A=xG[c]||c;n+=`${A}(${f}) `}t&&(e[c]=f)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}function O2(s,e,t){const{style:n,vars:r,transformOrigin:o}=s;let c=!1,h=!1;for(const u in e){const f=e[u];if(Tm.has(u)){c=!0;continue}else if(e3(u)){r[u]=f;continue}else{const A=j3(f,U2[u]);u.startsWith("origin")?(h=!0,o[u]=A):n[u]=A}}if(e.transform||(c||t?n.transform=yG(e,s.transform,t):n.transform&&(n.transform="none")),h){const{originX:u="50%",originY:f="50%",originZ:A=0}=o;n.transformOrigin=`${u} ${f} ${A}`}}const P2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D3(s,e,t){for(const n in e)!rl(e[n])&&!U3(n,t)&&(s[n]=e[n])}function bG({transformTemplate:s},e){return Z.useMemo(()=>{const t=P2();return O2(t,e,s),Object.assign({},t.vars,t.style)},[e])}function wG(s,e){const t=s.style||{},n={};return D3(n,t,s),Object.assign(n,bG(s,e)),n}function jG(s,e){const t={},n=wG(s,e);return s.drag&&s.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(t.tabIndex=0),t.style=n,t}const BG={offset:"stroke-dashoffset",array:"stroke-dasharray"},CG={offset:"strokeDashoffset",array:"strokeDasharray"};function SG(s,e,t=1,n=0,r=!0){s.pathLength=1;const o=r?BG:CG;s[o.offset]=js.transform(-n);const c=js.transform(e),h=js.transform(t);s[o.array]=`${c} ${h}`}const NG=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function R3(s,{attrX:e,attrY:t,attrScale:n,pathLength:r,pathSpacing:o=1,pathOffset:c=0,...h},u,f,A){if(O2(s,h,f),u){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:m,style:x}=s;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(A==null?void 0:A.transformBox)??"fill-box",delete m.transformBox);for(const g of NG)m[g]!==void 0&&(x[g]=m[g],delete m[g]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),n!==void 0&&(m.scale=n),r!==void 0&&SG(m,r,o,c,!1)}const L3=()=>({...P2(),attrs:{}}),Q3=s=>typeof s=="string"&&s.toLowerCase()==="svg";function EG(s,e,t,n){const r=Z.useMemo(()=>{const o=L3();return R3(o,e,Q3(n),s.transformTemplate,s.style),{...o.attrs,style:{...o.style}}},[e]);if(s.style){const o={};D3(o,s.style,s),r.style={...o,...r.style}}return r}const TG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k2(s){return typeof s!="string"||s.includes("-")?!1:!!(TG.indexOf(s)>-1||/[A-Z]/u.test(s))}function IG(s,e,t,{latestValues:n},r,o=!1,c){const u=(c??k2(s)?EG:jG)(e,n,r,s),f=fG(e,typeof s=="string",o),A=s!==Z.Fragment?{...f,...u,ref:t}:{},{children:m}=e,x=Z.useMemo(()=>rl(m)?m.get():m,[m]);return Z.createElement(s,{...A,children:x})}function $S(s){const e=[{},{}];return s==null||s.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function M2(s,e,t,n){if(typeof e=="function"){const[r,o]=$S(n);e=e(t!==void 0?t:s.custom,r,o)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[r,o]=$S(n);e=e(t!==void 0?t:s.custom,r,o)}return e}function Cx(s){return rl(s)?s.get():s}function _G({scrapeMotionValuesFromProps:s,createRenderState:e},t,n,r){return{latestValues:FG(t,n,r,s),renderState:e()}}function FG(s,e,t,n){const r={},o=n(s,{});for(const x in o)r[x]=Cx(o[x]);let{initial:c,animate:h}=s;const u=Gv(s),f=F3(s);e&&f&&!u&&s.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let A=t?t.initial===!1:!1;A=A||c===!1;const m=A?h:c;if(m&&typeof m!="boolean"&&!zv(m)){const x=Array.isArray(m)?m:[m];for(let g=0;g<x.length;g++){const b=M2(s,x[g]);if(b){const{transitionEnd:I,transition:N,...S}=b;for(const E in S){let F=S[E];if(Array.isArray(F)){const L=A?F.length-1:0;F=F[L]}F!==null&&(r[E]=F)}for(const E in I)r[E]=I[E]}}}return r}const O3=s=>(e,t)=>{const n=Z.useContext(Kv),r=Z.useContext(m2),o=()=>_G(s,e,n,r);return t?o():dK(o)};function H2(s,e,t){var o;const{style:n}=s,r={};for(const c in n)(rl(n[c])||e.style&&rl(e.style[c])||U3(c,s)||((o=t==null?void 0:t.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(r[c]=n[c]);return r}const UG=O3({scrapeMotionValuesFromProps:H2,createRenderState:P2});function P3(s,e,t){const n=H2(s,e,t);for(const r in s)if(rl(s[r])||rl(e[r])){const o=Em.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=s[r]}return n}const DG=O3({scrapeMotionValuesFromProps:P3,createRenderState:L3}),RG=Symbol.for("motionComponentSymbol");function LG(s,e,t){const n=Z.useRef(t);Z.useInsertionEffect(()=>{n.current=t});const r=Z.useRef(null);return Z.useCallback(o=>{var h;o&&((h=s.onMount)==null||h.call(s,o)),e&&(o?e.mount(o):e.unmount());const c=n.current;if(typeof c=="function")if(o){const u=c(o);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):c(o);else c&&(c.current=o)},[e])}const V2=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QG="framerAppearId",k3="data-"+V2(QG),M3=Z.createContext({});function Dp(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function OG(s,e,t,n,r,o){var N,S;const{visualElement:c}=Z.useContext(Kv),h=Z.useContext(I3),u=Z.useContext(m2),f=Z.useContext(T3).reducedMotion,A=Z.useRef(null);n=n||h.renderer,!A.current&&n&&(A.current=n(s,{visualState:e,parent:c,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const m=A.current,x=Z.useContext(M3);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&PG(A.current,t,r,x);const g=Z.useRef(!1);Z.useInsertionEffect(()=>{m&&g.current&&m.update(t,u)});const b=t[k3],I=Z.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return hK(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),I.current&&m.animationState&&m.animationState.animateChanges())}),Z.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,b)}),I.current=!1),m.enteringChildren=void 0)}),m}function PG(s,e,t,n){const{layoutId:r,layout:o,drag:c,dragConstraints:h,layoutScroll:u,layoutRoot:f,layoutCrossfade:A}=e;s.projection=new t(s.latestValues,e["data-framer-portal-id"]?void 0:H3(s.parent)),s.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||h&&Dp(h),visualElement:s,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:A,layoutScroll:u,layoutRoot:f})}function H3(s){if(s)return s.options.allowProjection!==!1?s.projection:H3(s.parent)}function I1(s,{forwardMotionProps:e=!1,type:t}={},n,r){n&&uG(n);const o=t?t==="svg":k2(s),c=o?DG:UG;function h(f,A){let m;const x={...Z.useContext(T3),...f,layoutId:kG(f)},{isStatic:g}=x,b=pG(f),I=c(f,g);if(!g&&f2){MG();const N=HG(x);m=N.MeasureLayout,b.visualElement=OG(s,I,x,r,N.ProjectionNode,o)}return i.jsxs(Kv.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...x}):null,IG(s,f,LG(I,b.visualElement,A),I,g,e,o)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=Z.forwardRef(h);return u[RG]=s,u}function kG({layoutId:s}){const e=Z.useContext(QI).id;return e&&s!==void 0?e+"-"+s:s}function MG(s,e){Z.useContext(I3).strict}function HG(s){const{drag:e,layout:t}=fm;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(s)||t!=null&&t.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function VG(s,e){if(typeof Proxy>"u")return I1;const t=new Map,n=(o,c)=>I1(o,c,s,e),r=(o,c)=>n(o,c);return new Proxy(r,{get:(o,c)=>c==="create"?n:(t.has(c)||t.set(c,I1(c,void 0,s,e)),t.get(c))})}function V3({top:s,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:s,max:n}}}function KG({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function zG(s,e){if(!e)return s;const t=e({x:s.left,y:s.top}),n=e({x:s.right,y:s.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function _1(s){return s===void 0||s===1}function Kb({scale:s,scaleX:e,scaleY:t}){return!_1(s)||!_1(e)||!_1(t)}function Rh(s){return Kb(s)||K3(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function K3(s){return YS(s.x)||YS(s.y)}function YS(s){return s&&s!=="0%"}function cv(s,e,t){const n=s-t,r=e*n;return t+r}function WS(s,e,t,n,r){return r!==void 0&&(s=cv(s,r,n)),cv(s,t,n)+e}function zb(s,e=0,t=1,n,r){s.min=WS(s.min,e,t,n,r),s.max=WS(s.max,e,t,n,r)}function z3(s,{x:e,y:t}){zb(s.x,e.translate,e.scale,e.originPoint),zb(s.y,t.translate,t.scale,t.originPoint)}const XS=.999999999999,JS=1.0000000000001;function GG(s,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let o,c;for(let h=0;h<r;h++){o=t[h],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xf(s,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,z3(s,c)),n&&Rh(o.latestValues)&&Xf(s,o.latestValues))}e.x<JS&&e.x>XS&&(e.x=1),e.y<JS&&e.y>XS&&(e.y=1)}function Wf(s,e){s.min=s.min+e,s.max=s.max+e}function qS(s,e,t,n,r=.5){const o=Ya(s.min,s.max,r);zb(s,e,t,o,n)}function Xf(s,e){qS(s.x,e.x,e.scaleX,e.scale,e.originX),qS(s.y,e.y,e.scaleY,e.scale,e.originY)}function G3(s,e){return V3(zG(s.getBoundingClientRect(),e))}function $G(s,e,t){const n=G3(s,t),{scroll:r}=e;return r&&(Wf(n.x,r.offset.x),Wf(n.y,r.offset.y)),n}const ZS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jf=()=>({x:ZS(),y:ZS()}),eN=()=>({min:0,max:0}),to=()=>({x:eN(),y:eN()}),Gb={current:null},$3={current:!1};function YG(){if($3.current=!0,!!f2)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gb.current=s.matches;s.addEventListener("change",e),e()}else Gb.current=!1}const WG=new WeakMap;function XG(s,e,t){for(const n in e){const r=e[n],o=t[n];if(rl(r))s.addValue(n,r);else if(rl(o))s.addValue(n,hm(r,{owner:s}));else if(o!==r)if(s.hasValue(n)){const c=s.getValue(n);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=s.getStaticValue(n);s.addValue(n,hm(c!==void 0?c:r,{owner:s}))}}for(const n in t)e[n]===void 0&&s.removeValue(n);return e}const tN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JG{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=gl.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ja.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Gv(t),this.isVariantNode=F3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:A,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in m){const g=m[x];u[x]!==void 0&&rl(g)&&g.set(u[x])}}mount(e){var t;this.current=e,WG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($3.current||YG(),this.shouldReduceMotion=Gb.current),(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),$d(this.notifyUpdate),$d(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Tm.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ja.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fm){const t=fm[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):to()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<tN.length;n++){const r=tN[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,c=e[o];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=XG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=hm(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(OI(n)||kI(n))?n=parseFloat(n):!AG(n)&&Yd.test(t)&&(n=w3(e,t)),this.setBaseTarget(e,rl(n)?n.get():n)),rl(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const c=M2(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);c&&(n=c[e])}if(t&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!rl(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new y2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){D2.render(this.render)}}class Y3 extends JG{constructor(){super(...arguments),this.KeyframeResolver=Jz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rl(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function W3(s,{style:e,vars:t},n,r){const o=s.style;let c;for(c in e)o[c]=e[c];r==null||r.applyProjectionStyles(o,n);for(c in t)o.setProperty(c,t[c])}function qG(s){return window.getComputedStyle(s)}class ZG extends Y3{constructor(){super(...arguments),this.type="html",this.renderInstance=W3}readValueFromInstance(e,t){var n;if(Tm.has(t))return(n=this.projection)!=null&&n.isProjecting?Lb(t):pz(e,t);{const r=qG(e),o=(e3(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return G3(e,t)}build(e,t,n){O2(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return H2(e,t,n)}}const X3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e$(s,e,t,n){W3(s,e,void 0,n);for(const r in e.attrs)s.setAttribute(X3.has(r)?r:V2(r),e.attrs[r])}class t$ extends Y3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=to}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Tm.has(t)){const n=b3(t);return n&&n.default||0}return t=X3.has(t)?t:V2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return P3(e,t,n)}build(e,t,n){R3(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){e$(e,t,n,r)}mount(e){this.isSVGTag=Q3(e.tagName),super.mount(e)}}const s$=(s,e)=>e.isSVG??k2(s)?new t$(e):new ZG(e,{allowProjection:s!==Z.Fragment});function sm(s,e,t){const n=s.getProps();return M2(n,e,t!==void 0?t:n.custom,s)}const $b=s=>Array.isArray(s);function n$(s,e,t){s.hasValue(e)?s.getValue(e).set(t):s.addValue(e,hm(t))}function r$(s){return $b(s)?s[s.length-1]||0:s}function a$(s,e){const t=sm(s,e);let{transitionEnd:n={},transition:r={},...o}=t||{};o={...o,...n};for(const c in o){const h=r$(o[c]);n$(s,c,h)}}function i$(s){return!!(rl(s)&&s.add)}function Yb(s,e){const t=s.getValue("willChange");if(i$(t))return t.add(e);if(!t&&Fu.WillChange){const n=new Fu.WillChange("auto");s.addValue("willChange",n),n.add(e)}}function J3(s){return s.props[k3]}const o$=s=>s!==null;function l$(s,{repeat:e,repeatType:t="loop"},n){const r=s.filter(o$),o=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[o]}const A$={type:"spring",stiffness:500,damping:25,restSpeed:10},c$=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),u$={type:"keyframes",duration:.8},d$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h$=(s,{keyframes:e})=>e.length>2?u$:Tm.has(s)?s.startsWith("scale")?c$(e[1]):A$:d$;function f$({when:s,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:h,from:u,elapsed:f,...A}){return!!Object.keys(A).length}const K2=(s,e,t,n={},r,o)=>c=>{const h=F2(n,s)||{},u=h.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Su(u);const A={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:s,motionValue:e,element:o?void 0:r};f$(h)||Object.assign(A,h$(s,A)),A.duration&&(A.duration=Su(A.duration)),A.repeatDelay&&(A.repeatDelay=Su(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let m=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(Mb(A),A.delay===0&&(m=!0)),(Fu.instantAnimations||Fu.skipAnimations)&&(m=!0,Mb(A),A.delay=0),A.allowFlatten=!h.type&&!h.ease,m&&!o&&e.get()!==void 0){const x=l$(A.keyframes,h);if(x!==void 0){ja.update(()=>{A.onUpdate(x),A.onComplete()});return}}return h.isSync?new I2(A):new Pz(A)};function m$({protectedKeys:s,needsAnimating:e},t){const n=s.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function q3(s,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:o=s.getDefaultTransition(),transitionEnd:c,...h}=e;n&&(o=n);const u=[],f=r&&s.animationState&&s.animationState.getState()[r];for(const A in h){const m=s.getValue(A,s.latestValues[A]??null),x=h[A];if(x===void 0||f&&m$(f,A))continue;const g={delay:t,...F2(o||{},A)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===b&&!g.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const S=J3(s);if(S){const E=window.MotionHandoffAnimation(S,A,ja);E!==null&&(g.startTime=E,I=!0)}}Yb(s,A),m.start(K2(A,m,x,s.shouldReduceMotion&&x3.has(A)?{type:!1}:g,s,I));const N=m.animation;N&&u.push(N)}return c&&Promise.all(u).then(()=>{ja.update(()=>{c&&a$(s,c)})}),u}function Z3(s,e,t,n=0,r=1){const o=Array.from(s).sort((f,A)=>f.sortNodePosition(A)).indexOf(e),c=s.size,h=(c-1)*n;return typeof t=="function"?t(o,c):r===1?o*n:h-o*n}function Wb(s,e,t={}){var u;const n=sm(s,e,t.type==="exit"?(u=s.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=s.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const o=n?()=>Promise.all(q3(s,n,t)):()=>Promise.resolve(),c=s.variantChildren&&s.variantChildren.size?(f=0)=>{const{delayChildren:A=0,staggerChildren:m,staggerDirection:x}=r;return p$(s,e,f,A,m,x,t)}:()=>Promise.resolve(),{when:h}=r;if(h){const[f,A]=h==="beforeChildren"?[o,c]:[c,o];return f().then(()=>A())}else return Promise.all([o(),c(t.delay)])}function p$(s,e,t=0,n=0,r=0,o=1,c){const h=[];for(const u of s.variantChildren)u.notify("AnimationStart",e),h.push(Wb(u,e,{...c,delay:t+(typeof n=="function"?0:n)+Z3(s.variantChildren,u,n,r,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(h)}function g$(s,e,t={}){s.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(o=>Wb(s,o,t));n=Promise.all(r)}else if(typeof e=="string")n=Wb(s,e,t);else{const r=typeof e=="function"?sm(s,e,t.custom):e;n=Promise.all(q3(s,r,t))}return n.then(()=>{s.notify("AnimationComplete",e)})}function e_(s,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==s.length)return!1;for(let n=0;n<t;n++)if(e[n]!==s[n])return!1;return!0}const x$=Q2.length;function t_(s){if(!s)return;if(!s.isControllingVariants){const t=s.parent?t_(s.parent)||{}:{};return s.props.initial!==void 0&&(t.initial=s.props.initial),t}const e={};for(let t=0;t<x$;t++){const n=Q2[t],r=s.props[n];(yg(r)||r===!1)&&(e[n]=r)}return e}const v$=[...L2].reverse(),y$=L2.length;function b$(s){return e=>Promise.all(e.map(({animation:t,options:n})=>g$(s,t,n)))}function w$(s){let e=b$(s),t=sN(),n=!0;const r=u=>(f,A)=>{var x;const m=sm(s,A,u==="exit"?(x=s.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:g,transitionEnd:b,...I}=m;f={...f,...I,...b}}return f};function o(u){e=u(s)}function c(u){const{props:f}=s,A=t_(s.parent)||{},m=[],x=new Set;let g={},b=1/0;for(let N=0;N<y$;N++){const S=v$[N],E=t[S],F=f[S]!==void 0?f[S]:A[S],L=yg(F),O=S===u?E.isActive:null;O===!1&&(b=N);let H=F===A[S]&&F!==f[S]&&L;if(H&&n&&s.manuallyAnimateOnMount&&(H=!1),E.protectedKeys={...g},!E.isActive&&O===null||!F&&!E.prevProp||zv(F)||typeof F=="boolean")continue;const Q=j$(E.prevProp,F);let D=Q||S===u&&E.isActive&&!H&&L||N>b&&L,R=!1;const K=Array.isArray(F)?F:[F];let P=K.reduce(r(S),{});O===!1&&(P={});const{prevResolvedValues:V={}}=E,$={...V,...P},ae=W=>{D=!0,x.has(W)&&(R=!0,x.delete(W)),E.needsAnimating[W]=!0;const J=s.getValue(W);J&&(J.liveStyle=!1)};for(const W in $){const J=P[W],oe=V[W];if(g.hasOwnProperty(W))continue;let xe=!1;$b(J)&&$b(oe)?xe=!e_(J,oe):xe=J!==oe,xe?J!=null?ae(W):x.add(W):J!==void 0&&x.has(W)?ae(W):E.protectedKeys[W]=!0}E.prevProp=F,E.prevResolvedValues=P,E.isActive&&(g={...g,...P}),n&&s.blockInitialAnimation&&(D=!1);const de=H&&Q;D&&(!de||R)&&m.push(...K.map(W=>{const J={type:S};if(typeof W=="string"&&n&&!de&&s.manuallyAnimateOnMount&&s.parent){const{parent:oe}=s,xe=sm(oe,W);if(oe.enteringChildren&&xe){const{delayChildren:ee}=xe.transition||{};J.delay=Z3(oe.enteringChildren,s,ee)}}return{animation:W,options:J}}))}if(x.size){const N={};if(typeof f.initial!="boolean"){const S=sm(s,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(N.transition=S.transition)}x.forEach(S=>{const E=s.getBaseTarget(S),F=s.getValue(S);F&&(F.liveStyle=!0),N[S]=E??null}),m.push({animation:N})}let I=!!m.length;return n&&(f.initial===!1||f.initial===f.animate)&&!s.manuallyAnimateOnMount&&(I=!1),n=!1,I?e(m):Promise.resolve()}function h(u,f){var m;if(t[u].isActive===f)return Promise.resolve();(m=s.variantChildren)==null||m.forEach(x=>{var g;return(g=x.animationState)==null?void 0:g.setActive(u,f)}),t[u].isActive=f;const A=c(u);for(const x in t)t[x].protectedKeys={};return A}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=sN()}}}function j$(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!e_(e,s):!1}function Fh(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sN(){return{animate:Fh(!0),whileInView:Fh(),whileHover:Fh(),whileTap:Fh(),whileDrag:Fh(),whileFocus:Fh(),exit:Fh()}}class eh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class B$ extends eh{constructor(e){super(e),e.animationState||(e.animationState=w$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let C$=0;class S$ extends eh{constructor(){super(...arguments),this.id=C$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const N$={animation:{Feature:B$},exit:{Feature:S$}};function bg(s,e,t,n={passive:!0}){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t)}function Vg(s){return{point:{x:s.pageX,y:s.pageY}}}const E$=s=>e=>R2(e)&&s(e,Vg(e));function Zp(s,e,t,n){return bg(s,e,E$(t),n)}const s_=1e-4,T$=1-s_,I$=1+s_,n_=.01,_$=0-n_,F$=0+n_;function xl(s){return s.max-s.min}function U$(s,e,t){return Math.abs(s-e)<=t}function nN(s,e,t,n=.5){s.origin=n,s.originPoint=Ya(e.min,e.max,s.origin),s.scale=xl(t)/xl(e),s.translate=Ya(t.min,t.max,s.origin)-s.originPoint,(s.scale>=T$&&s.scale<=I$||isNaN(s.scale))&&(s.scale=1),(s.translate>=_$&&s.translate<=F$||isNaN(s.translate))&&(s.translate=0)}function eg(s,e,t,n){nN(s.x,e.x,t.x,n?n.originX:void 0),nN(s.y,e.y,t.y,n?n.originY:void 0)}function rN(s,e,t){s.min=t.min+e.min,s.max=s.min+xl(e)}function D$(s,e,t){rN(s.x,e.x,t.x),rN(s.y,e.y,t.y)}function aN(s,e,t){s.min=e.min-t.min,s.max=s.min+xl(e)}function uv(s,e,t){aN(s.x,e.x,t.x),aN(s.y,e.y,t.y)}function TA(s){return[s("x"),s("y")]}const r_=({current:s})=>s?s.ownerDocument.defaultView:null,iN=(s,e)=>Math.abs(s-e);function R$(s,e){const t=iN(s.x,e.x),n=iN(s.y,e.y);return Math.sqrt(t**2+n**2)}const oN=new Set(["auto","scroll"]);class a_{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=U1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,I=R$(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!I)return;const{point:N}=g,{timestamp:S}=So;this.history.push({...N,timestamp:S});const{onStart:E,onMove:F}=this.handlers;b||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=F1(b,this.transformPagePoint),ja.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=U1(g.type==="pointercancel"?this.lastMoveEventInfo:F1(b,this.transformPagePoint),this.history);this.startEvent&&I&&I(g,E),N&&N(g,E)},!R2(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=c,this.contextWindow=r||window;const u=Vg(e),f=F1(u,this.transformPagePoint),{point:A}=f,{timestamp:m}=So;this.history=[{...A,timestamp:m}];const{onSessionStart:x}=t;x&&x(e,U1(f,this.history)),this.removeListeners=kg(Zp(this.contextWindow,"pointermove",this.handlePointerMove),Zp(this.contextWindow,"pointerup",this.handlePointerUp),Zp(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const n=getComputedStyle(t);(oN.has(n.overflowX)||oN.has(n.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:r.x-t.x,y:r.y-t.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,r),ja.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$d(this.updatePoint)}}function F1(s,e){return e?{point:e(s.point)}:s}function lN(s,e){return{x:s.x-e.x,y:s.y-e.y}}function U1({point:s},e){return{point:s,delta:lN(s,i_(e)),offset:lN(s,L$(e)),velocity:Q$(e,.1)}}function L$(s){return s[0]}function i_(s){return s[s.length-1]}function Q$(s,e){if(s.length<2)return{x:0,y:0};let t=s.length-1,n=null;const r=i_(s);for(;t>=0&&(n=s[t],!(r.timestamp-n.timestamp>Su(e)));)t--;if(!n)return{x:0,y:0};const o=FA(r.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-n.x)/o,y:(r.y-n.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function O$(s,{min:e,max:t},n){return e!==void 0&&s<e?s=n?Ya(e,s,n.min):Math.max(s,e):t!==void 0&&s>t&&(s=n?Ya(t,s,n.max):Math.min(s,t)),s}function AN(s,e,t){return{min:e!==void 0?s.min+e:void 0,max:t!==void 0?s.max+t-(s.max-s.min):void 0}}function P$(s,{top:e,left:t,bottom:n,right:r}){return{x:AN(s.x,t,r),y:AN(s.y,e,n)}}function cN(s,e){let t=e.min-s.min,n=e.max-s.max;return e.max-e.min<s.max-s.min&&([t,n]=[n,t]),{min:t,max:n}}function k$(s,e){return{x:cN(s.x,e.x),y:cN(s.y,e.y)}}function M$(s,e){let t=.5;const n=xl(s),r=xl(e);return r>n?t=gg(e.min,e.max-n,s.min):n>r&&(t=gg(s.min,s.max-r,e.min)),qc(0,1,t)}function H$(s,e){const t={};return e.min!==void 0&&(t.min=e.min-s.min),e.max!==void 0&&(t.max=e.max-s.min),t}const Xb=.35;function V$(s=Xb){return s===!1?s=0:s===!0&&(s=Xb),{x:uN(s,"left","right"),y:uN(s,"top","bottom")}}function uN(s,e,t){return{min:dN(s,e),max:dN(s,t)}}function dN(s,e){return typeof s=="number"?s:s[e]||0}const K$=new WeakMap;class z${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=to(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{t?(this.stopAnimation(),this.snapToCursor(Vg(m).point)):this.pauseAnimation()},c=(m,x)=>{this.stopAnimation();const{drag:g,dragPropagation:b,onDragStart:I}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sG(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),TA(S=>{let E=this.getAxisMotionValue(S).get()||0;if(Yc.test(E)){const{projection:F}=this.visualElement;if(F&&F.layout){const L=F.layout.layoutBox[S];L&&(E=xl(L)*(parseFloat(E)/100))}}this.originPoint[S]=E}),I&&ja.postRender(()=>I(m,x)),Yb(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:I,onDrag:N}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=x;if(b&&this.currentDirection===null){this.currentDirection=G$(S),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,S),this.updateAxis("y",x.point,S),this.visualElement.render(),N&&N(m,x)},u=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>TA(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)==null?void 0:x.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new a_(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:n,contextWindow:r_(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ja.postRender(()=>h(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!rx(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=O$(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;e&&Dp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=P$(n.layoutBox,e):this.constraints=!1,this.elastic=V$(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&TA(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=H$(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Dp(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=$G(n,r.root,this.visualElement.getTransformPagePoint());let c=k$(r.layout.layoutBox,o);if(t){const h=t(KG(c));this.hasMutatedConstraints=!!h,h&&(c=V3(h))}return c}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),u=this.constraints||{},f=TA(A=>{if(!rx(A,t,this.currentDirection))return;let m=u&&u[A]||{};c&&(m={min:0,max:0});const x=r?200:1e6,g=r?40:1e7,b={type:"inertia",velocity:n?e[A]:0,bounceStiffness:x,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(A,b)});return Promise.all(f).then(h)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Yb(this.visualElement,e),n.start(K2(e,n,0,t,this.visualElement,!1))}stopAnimation(){TA(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){TA(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){TA(t=>{const{drag:n}=this.getProps();if(!rx(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[t],u=o.get()||0;o.set(e[t]-Ya(c,h,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Dp(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};TA(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const u=h.get();r[c]=M$({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),TA(c=>{if(!rx(c,e,null))return;const h=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];h.set(Ya(u,f,r[c]))})}addListeners(){if(!this.visualElement.current)return;K$.set(this.visualElement,this);const e=this.visualElement.current,t=Zp(e,"pointerdown",u=>{const{drag:f,dragListener:A=!0}=this.getProps();f&&A&&!N3(u.target)&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Dp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ja.read(n);const c=bg(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(TA(A=>{const m=this.getAxisMotionValue(A);m&&(this.originPoint[A]+=u[A].translate,m.set(m.get()+u[A].translate))}),this.visualElement.render())}));return()=>{c(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=Xb,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function rx(s,e,t){return(e===!0||e===s)&&(t===null||t===s)}function G$(s,e=10){let t=null;return Math.abs(s.y)>e?t="y":Math.abs(s.x)>e&&(t="x"),t}class $$ extends eh{constructor(e){super(e),this.removeGroupControls=LA,this.removeListeners=LA,this.controls=new z$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||LA}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const hN=s=>(e,t)=>{s&&ja.postRender(()=>s(e,t))};class Y$ extends eh{constructor(){super(...arguments),this.removePointerDownListener=LA}onPointerDown(e){this.session=new a_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:hN(e),onStart:hN(t),onMove:n,onEnd:(o,c)=>{delete this.session,r&&ja.postRender(()=>r(o,c))}}}mount(){this.removePointerDownListener=Zp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let D1=!1;class W$ extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),D1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Sx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:c}=n;return c&&(c.isPresent=o,D1=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||ja.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),D2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;D1=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function o_(s){const[e,t]=cG(),n=Z.useContext(QI);return i.jsx(W$,{...s,layoutGroup:n,switchLayoutGroup:Z.useContext(M3),isPresent:e,safeToRemove:t})}function X$(s,e,t){const n=rl(s)?s:hm(s);return n.start(K2("",n,e,t)),n.animation}const J$=(s,e)=>s.depth-e.depth;class q${constructor(){this.children=[],this.isDirty=!1}add(e){p2(this.children,e),this.isDirty=!0}remove(e){g2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J$),this.isDirty=!1,this.children.forEach(e)}}function Z$(s,e){const t=gl.now(),n=({timestamp:r})=>{const o=r-t;o>=e&&($d(n),s(o-e))};return ja.setup(n,!0),()=>$d(n)}const l_=["TopLeft","TopRight","BottomLeft","BottomRight"],eY=l_.length,fN=s=>typeof s=="string"?parseFloat(s):s,mN=s=>typeof s=="number"||js.test(s);function tY(s,e,t,n,r,o){r?(s.opacity=Ya(0,t.opacity??1,sY(n)),s.opacityExit=Ya(e.opacity??1,0,nY(n))):o&&(s.opacity=Ya(e.opacity??1,t.opacity??1,n));for(let c=0;c<eY;c++){const h=`border${l_[c]}Radius`;let u=pN(e,h),f=pN(t,h);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||mN(u)===mN(f)?(s[h]=Math.max(Ya(fN(u),fN(f),n),0),(Yc.test(f)||Yc.test(u))&&(s[h]+="%")):s[h]=f}(e.rotate||t.rotate)&&(s.rotate=Ya(e.rotate||0,t.rotate||0,n))}function pN(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const sY=A_(0,.5,YI),nY=A_(.5,.95,LA);function A_(s,e,t){return n=>n<s?0:n>e?1:t(gg(s,e,n))}function gN(s,e){s.min=e.min,s.max=e.max}function sc(s,e){gN(s.x,e.x),gN(s.y,e.y)}function xN(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function vN(s,e,t,n,r){return s-=e,s=cv(s,1/t,n),r!==void 0&&(s=cv(s,1/r,n)),s}function rY(s,e=0,t=1,n=.5,r,o=s,c=s){if(Yc.test(e)&&(e=parseFloat(e),e=Ya(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ya(o.min,o.max,n);s===o&&(h-=e),s.min=vN(s.min,e,t,h,r),s.max=vN(s.max,e,t,h,r)}function yN(s,e,[t,n,r],o,c){rY(s,e[t],e[n],e[r],e.scale,o,c)}const aY=["x","scaleX","originX"],iY=["y","scaleY","originY"];function bN(s,e,t,n){yN(s.x,e,aY,t?t.x:void 0,n?n.x:void 0),yN(s.y,e,iY,t?t.y:void 0,n?n.y:void 0)}function wN(s){return s.translate===0&&s.scale===1}function c_(s){return wN(s.x)&&wN(s.y)}function jN(s,e){return s.min===e.min&&s.max===e.max}function oY(s,e){return jN(s.x,e.x)&&jN(s.y,e.y)}function BN(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function u_(s,e){return BN(s.x,e.x)&&BN(s.y,e.y)}function CN(s){return xl(s.x)/xl(s.y)}function SN(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class lY{constructor(){this.members=[]}add(e){p2(this.members,e),e.scheduleRender()}remove(e){if(g2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AY(s,e,t){let n="";const r=s.x.translate/e.x,o=s.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((r||o||c)&&(n=`translate3d(${r}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:A,rotateX:m,rotateY:x,skewX:g,skewY:b}=t;f&&(n=`perspective(${f}px) ${n}`),A&&(n+=`rotate(${A}deg) `),m&&(n+=`rotateX(${m}deg) `),x&&(n+=`rotateY(${x}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const h=s.x.scale*e.x,u=s.y.scale*e.y;return(h!==1||u!==1)&&(n+=`scale(${h}, ${u})`),n||"none"}const R1=["","X","Y","Z"],cY=1e3;let uY=0;function L1(s,e,t,n){const{latestValues:r}=e;r[s]&&(t[s]=r[s],e.setStaticValue(s,0),n&&(n[s]=0))}function d_(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const t=J3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:o}=s.options;window.MotionCancelOptimisedAnimation(t,"transform",ja,!(r||o))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&d_(n)}function h_({attachResizeListener:s,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(c={},h=e==null?void 0:e()){this.id=uY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fY),this.nodes.forEach(xY),this.nodes.forEach(vY),this.nodes.forEach(mY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new q$)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new y2),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const u=this.eventHandlers.get(c);u&&u.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=E3(c)&&!oG(c),this.instance=c;const{layoutId:h,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||h)&&(this.isLayoutDirty=!0),s){let A,m=0;const x=()=>this.root.updateBlockedByResize=!1;ja.read(()=>{m=window.innerWidth}),s(c,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,A&&A(),A=Z$(x,250),Sx.hasAnimatedSinceResize&&(Sx.hasAnimatedSinceResize=!1,this.nodes.forEach(TN)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||u)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||BY,{onLayoutAnimationStart:I,onLayoutAnimationComplete:N}=f.getProps(),S=!this.targetLayout||!u_(this.targetLayout,g),E=!m&&x;if(this.options.layoutRoot||this.resumeFrom||E||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...F2(b,"layout"),onPlay:I,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(A,E)}else m||TN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$d(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yY),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const m=this.path[A];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:h,layout:u}=this.options;if(h===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gY),this.nodes.forEach(dY),this.nodes.forEach(hY)):this.nodes.forEach(EN),this.clearAllSnapshots();const h=gl.now();So.delta=qc(0,1e3/60,h-So.timestamp),So.timestamp=h,So.isProcessing=!0,j1.update.process(So),j1.preRender.process(So),j1.render.process(So),So.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,D2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pY),this.sharedNodes.forEach(bY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ja.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ja.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xl(this.snapshot.measuredBox.x)&&!xl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=to(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!c_(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,A=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||Rh(this.latestValues)||A)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let u=this.removeElementScroll(h);return c&&(u=this.removeTransform(u)),CY(u),{animationId:this.root.animationId,measuredBox:h,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return to();const h=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(SY))){const{scroll:A}=this.root;A&&(Wf(h.x,A.offset.x),Wf(h.y,A.offset.y))}return h}removeElementScroll(c){var u;const h=to();if(sc(h,c),(u=this.scroll)!=null&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const A=this.path[f],{scroll:m,options:x}=A;A!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&sc(h,c),Wf(h.x,m.offset.x),Wf(h.y,m.offset.y))}return h}applyTransform(c,h=!1){const u=to();sc(u,c);for(let f=0;f<this.path.length;f++){const A=this.path[f];!h&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Xf(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Rh(A.latestValues)&&Xf(u,A.latestValues)}return Rh(this.latestValues)&&Xf(u,this.latestValues),u}removeTransform(c){const h=to();sc(h,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Rh(f.latestValues))continue;Kb(f.latestValues)&&f.updateSnapshot();const A=to(),m=f.measurePageBox();sc(A,m),bN(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,A)}return Rh(this.latestValues)&&bN(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==So.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==h;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:m}=this.options;if(!this.layout||!(A||m))return;this.resolvedRelativeTargetAt=So.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=to(),this.targetWithTransforms=to()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),D$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sc(this.target,this.layout.layoutBox),z3(this.target,this.targetDelta)):sc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kb(this.parent.latestValues)||K3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,u){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=to(),this.relativeTargetOrigin=to(),uv(this.relativeTargetOrigin,h,u),sc(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===So.timestamp&&(u=!1),u)return;const{layout:f,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||A))return;sc(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;GG(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=to());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xN(this.prevProjectionDelta.x,this.projectionDelta.x),xN(this.prevProjectionDelta.y,this.projectionDelta.y)),eg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!SN(this.projectionDelta.x,this.prevProjectionDelta.x)||!SN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jf(),this.projectionDelta=Jf(),this.projectionDeltaWithTransform=Jf()}setAnimationOrigin(c,h=!1){const u=this.snapshot,f=u?u.latestValues:{},A={...this.latestValues},m=Jf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=to(),g=u?u.source:void 0,b=this.layout?this.layout.source:void 0,I=g!==b,N=this.getStack(),S=!N||N.members.length<=1,E=!!(I&&!S&&this.options.crossfade===!0&&!this.path.some(jY));this.animationProgress=0;let F;this.mixTargetDelta=L=>{const O=L/1e3;IN(m.x,c.x,O),IN(m.y,c.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uv(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wY(this.relativeTarget,this.relativeTargetOrigin,x,O),F&&oY(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=to()),sc(F,this.relativeTarget)),I&&(this.animationValues=A,tY(A,f,this.latestValues,O,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,u,f;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&($d(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ja.update(()=>{Sx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hm(0)),this.currentAnimation=X$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:A=>{this.mixTargetDelta(A),c.onUpdate&&c.onUpdate(A)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:u,layout:f,latestValues:A}=c;if(!(!h||!u||!f)){if(this!==c&&this.layout&&f&&f_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||to();const m=xl(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+m;const x=xl(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+x}sc(h,u),Xf(h,A),eg(this.projectionDeltaWithTransform,this.layoutCorrected,h,A)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lY),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(h=!0),!h)return;const f={};u.z&&L1("z",c,f,this.animationValues);for(let A=0;A<R1.length;A++)L1(`rotate${R1[A]}`,c,f,this.animationValues),L1(`skew${R1[A]}`,c,f,this.animationValues);c.render();for(const A in f)c.setStaticValue(A,f[A]),this.animationValues&&(this.animationValues[A]=f[A]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Cx(h==null?void 0:h.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Cx(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Rh(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const A=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=AY(this.projectionDeltaWithTransform,this.treeScale,A);u&&(m=u(A,m)),c.transform=m;const{x,y:g}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:c.opacity=f===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const b in Vb){if(A[b]===void 0)continue;const{correct:I,applyTo:N,isCSSVariable:S}=Vb[b],E=m==="none"?A[b]:I(A[b],f);if(N){const F=N.length;for(let L=0;L<F;L++)c[N[L]]=E}else S?this.options.visualElement.renderState.vars[b]=E:c[b]=E}this.options.layoutId&&(c.pointerEvents=f===this?Cx(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(NN),this.root.sharedNodes.clear()}}}function dY(s){s.updateLayout()}function hY(s){var t;const e=((t=s.resumeFrom)==null?void 0:t.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=s.layout,{animationType:o}=s.options,c=e.source!==s.layout.source;o==="size"?TA(m=>{const x=c?e.measuredBox[m]:e.layoutBox[m],g=xl(x);x.min=n[m].min,x.max=x.min+g}):f_(o,e.layoutBox,n)&&TA(m=>{const x=c?e.measuredBox[m]:e.layoutBox[m],g=xl(n[m]);x.max=x.min+g,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[m].max=s.relativeTarget[m].min+g)});const h=Jf();eg(h,n,e.layoutBox);const u=Jf();c?eg(u,s.applyTransform(r,!0),e.measuredBox):eg(u,n,e.layoutBox);const f=!c_(h);let A=!1;if(!s.resumeFrom){const m=s.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:g}=m;if(x&&g){const b=to();uv(b,e.layoutBox,x.layoutBox);const I=to();uv(I,n,g.layoutBox),u_(b,I)||(A=!0),m.options.layoutRoot&&(s.relativeTarget=I,s.relativeTargetOrigin=b,s.relativeParent=m)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:A})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function fY(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function mY(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function pY(s){s.clearSnapshot()}function NN(s){s.clearMeasurements()}function EN(s){s.isLayoutDirty=!1}function gY(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function TN(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function xY(s){s.resolveTargetDelta()}function vY(s){s.calcProjection()}function yY(s){s.resetSkewAndRotation()}function bY(s){s.removeLeadSnapshot()}function IN(s,e,t){s.translate=Ya(e.translate,0,t),s.scale=Ya(e.scale,1,t),s.origin=e.origin,s.originPoint=e.originPoint}function _N(s,e,t,n){s.min=Ya(e.min,t.min,n),s.max=Ya(e.max,t.max,n)}function wY(s,e,t,n){_N(s.x,e.x,t.x,n),_N(s.y,e.y,t.y,n)}function jY(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const BY={duration:.45,ease:[.4,0,.1,1]},FN=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),UN=FN("applewebkit/")&&!FN("chrome/")?Math.round:LA;function DN(s){s.min=UN(s.min),s.max=UN(s.max)}function CY(s){DN(s.x),DN(s.y)}function f_(s,e,t){return s==="position"||s==="preserve-aspect"&&!U$(CN(e),CN(t),.2)}function SY(s){var e;return s!==s.root&&((e=s.scroll)==null?void 0:e.wasRoot)}const NY=h_({attachResizeListener:(s,e)=>bg(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q1={current:void 0},m_=h_({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Q1.current){const s=new NY({});s.mount(window),s.setOptions({layoutScroll:!0}),Q1.current=s}return Q1.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),EY={pan:{Feature:Y$},drag:{Feature:$$,ProjectionNode:m_,MeasureLayout:o_}};function RN(s,e,t){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,o=n[r];o&&ja.postRender(()=>o(e,Vg(e)))}class TY extends eh{mount(){const{current:e}=this.node;e&&(this.unmount=nG(e,(t,n)=>(RN(this.node,n,"Start"),r=>RN(this.node,r,"End"))))}unmount(){}}class IY extends eh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kg(bg(this.node.current,"focus",()=>this.onFocus()),bg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LN(s,e,t){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),o=n[r];o&&ja.postRender(()=>o(e,Vg(e)))}class _Y extends eh{mount(){const{current:e}=this.node;e&&(this.unmount=iG(e,(t,n)=>(LN(this.node,n,"Start"),(r,{success:o})=>LN(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jb=new WeakMap,O1=new WeakMap,FY=s=>{const e=Jb.get(s.target);e&&e(s)},UY=s=>{s.forEach(FY)};function DY({root:s,...e}){const t=s||document;O1.has(t)||O1.set(t,{});const n=O1.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(UY,{root:s,...e})),n[r]}function RY(s,e,t){const n=DY(e);return Jb.set(s,t),n.observe(s),()=>{Jb.delete(s),n.unobserve(s)}}const LY={some:0,all:1};class QY extends eh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:LY[r]},h=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:A,onViewportLeave:m}=this.node.getProps(),x=f?A:m;x&&x(u)};return RY(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(OY(e,t))&&this.startObserver()}unmount(){}}function OY({viewport:s={}},{viewport:e={}}={}){return t=>s[t]!==e[t]}const PY={inView:{Feature:QY},tap:{Feature:_Y},focus:{Feature:IY},hover:{Feature:TY}},kY={layout:{ProjectionNode:m_,MeasureLayout:o_}},MY={...N$,...PY,...EY,...kY},QN=VG(MY,s$),HY=({reopenDate:s})=>{const e=s?(()=>{const[t,n,r]=s.split("-").map(c=>parseInt(c,10));return new Date(t,n-1,r).toLocaleDateString()})():"Not set";return i.jsx(QN.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:i.jsxs(QN.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg p-8 m-4 text-center shadow-2xl",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"School is on Vacation!"}),i.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"The school is currently on break. We hope you are having a wonderful time."}),i.jsxs("p",{className:"text-lg text-gray-600",children:["School will reopen on"," ",i.jsx("span",{className:"font-semibold text-red-600",children:e}),"."]})]})})},ON=["Monday","Tuesday","Wednesday","Thursday","Friday"],VY=["punctuality","neatness","conduct","attitudeToWork","classParticipation","homeworkCompletion"],KY=["An outstanding performer with excellent academic progress.","Shows great potential and maintains good conduct in class.","Consistent effort and improvement throughout the term.","Active participant in class activities and assignments.","Demonstrates good leadership qualities among peers.","Maintains excellent attendance and punctuality.","Shows remarkable improvement in academic performance.","A disciplined student who follows school rules diligently.","Excellent interpersonal skills and teamwork abilities.","Creative and innovative in approaching class tasks."],p_=()=>{const{user:s}=Fo(),e=(s==null?void 0:s.schoolId)||null,[t,n]=Z.useState([]),r=(s==null?void 0:s.assignedClassIds)||[],[o,c]=Z.useState(""),[h,u]=Z.useState("Term 1"),[f,A]=Z.useState(null),[m,x]=Z.useState(!1);Z.useEffect(()=>{r.length>0&&c(r[0])},[s]);const g=Ts.find(Me=>Me.id===o),b=r.map(Me=>{var ut;return(ut=Ts.find(ze=>ze.id===Me))==null?void 0:ut.name}).join(", "),[I,N]=Z.useState([]),[S,E]=Z.useState(null),[F,L]=Z.useState(!1),[O,H]=Z.useState({show:!1,dates:[]}),[Q,D]=Z.useState({show:!1,date:""}),[R,K]=Z.useState(!1),[P,V]=Z.useState([]),[$,ae]=Z.useState({}),[de,re]=Z.useState(!1),[W,J]=Z.useState(!1),[oe,xe]=Z.useState([]),[ee,M]=Z.useState({}),[X,ie]=Z.useState(!1),[le,ce]=Z.useState([]),ye=()=>{const Me=new Date().toLocaleDateString("en-US",{weekday:"long"});return ON.includes(Me)?Me:"Monday"},[Ne,ge]=Z.useState(null),[Se,Fe]=Z.useState(ye()),[Le,qe]=Z.useState([]),[Oe,he]=Z.useState([]),[et,wt]=Z.useState(0),[at,Ye]=Z.useState(0),[Ut,Lt]=Z.useState(0),[Wt,$t]=Z.useState(0),[ss,ns]=Z.useState(0),[Je,Ht]=Z.useState("0.0"),[Vt,Mt]=Z.useState([]);if(!s)return i.jsx(sr,{title:"Teacher Dashboard",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1160A8] mx-auto mb-4"}),i.jsx("p",{className:"text-slate-500",children:"Loading dashboard..."})]})});const dt=(Me=0)=>{const ut=new Date;ut.setDate(ut.getDate()+Me*7);const ze=ut.getDay(),At=ze===0?-6:1-ze,mt=new Date(ut);mt.setDate(ut.getDate()+At);const Ot=[];for(let Et=0;Et<5;Et++){const Gt=new Date(mt);Gt.setDate(mt.getDate()+Et);const xs=Gt.getFullYear(),Tt=String(Gt.getMonth()+1).padStart(2,"0"),pt=String(Gt.getDate()).padStart(2,"0");Ot.push(`${xs}-${Tt}-${pt}`)}return Ot},Nt=Me=>{if(Me===0)return"This Week";const ut=dt(Me),ze=new Date(ut[0]+"T00:00:00"),At=new Date(ut[4]+"T00:00:00"),mt={month:"short",day:"numeric"},Ot=ze.toLocaleDateString("en-US",mt),Et=At.toLocaleDateString("en-US",mt);return Me===-1?`Last Week (${Ot} - ${Et})`:`${Ot} - ${Et}`};Z.useEffect(()=>{let Me=!0;return s&&(async()=>{const ze=new Date().toISOString().split("T")[0];await lt.getTeacherAttendance(e||void 0,(s==null?void 0:s.id)||"",ze);try{if(!e)return;const At=await lt.getSchoolConfig(e);if(!Me)return;const mt=new Date,Ot=At.schoolReopenDate?new Date(At.schoolReopenDate+"T00:00:00"):null;Ot&&Ot.setHours(0,0,0,0);const Et=new Date;Et.setHours(0,0,0,0);const Gt=At.nextTermBegins?new Date(At.nextTermBegins+"T00:00:00"):null;if(Gt&&Gt.setHours(0,0,0,0),Gt&&Et.getTime()===Gt.getTime()){H({show:!1,dates:[]}),D({show:!1,date:""});return}const xs=At.vacationDate?new Date(At.vacationDate+"T00:00:00"):null;xs&&xs.setHours(0,0,0,0);const Tt=!Ot||mt>=Ot,pt=xs&&Gt&&Et>=xs&&Et<Gt;if(Tt&&!pt){const Pt=[];let qt=new Date;for(qt.setDate(qt.getDate()-1);qt>=Ot;){const os=qt.getDay(),Os=xs&&qt.toDateString()===xs.toDateString();if(os===0||os===6||Os){qt.setDate(qt.getDate()-1);continue}const wn=`${qt.getFullYear()}-${String(qt.getMonth()+1).padStart(2,"0")}-${String(qt.getDate()).padStart(2,"0")}`,es=await lt.getTeacherAttendance(e,(s==null?void 0:s.id)||"",wn);if(!Me)return;es||Pt.push(wn),qt.setDate(qt.getDate()-1)}if(Pt.length>0?H({show:!0,dates:Pt}):H({show:!1,dates:[]}),o&&Pt.length>0){const os=Pt[0],Os=await lt.getAttendance(e,o,os);if(!Me)return;D(Os?{show:!1,date:""}:{show:!0,date:os})}}}catch(At){console.error("Error re-checking missed attendance:",At)}})(),()=>{Me=!1}},[s,o]),Z.useEffect(()=>{let Me=!0;return(async()=>{if(!o||!e)return;let ze;try{if(ze=await lt.getSchoolConfig(e),Me){A(ze),u(ze.currentTerm||`Term ${Hi}`);const Gt=new Date;Gt.setHours(0,0,0,0);const xs=Gt.getTime();let Tt=null;if(ze.vacationDate){const os=new Date(ze.vacationDate+"T00:00:00");os.setHours(0,0,0,0),Tt=os.getTime()}let pt=null;if(ze.nextTermBegins){const os=new Date(ze.nextTermBegins+"T00:00:00");os.setHours(0,0,0,0),pt=os.getTime()}let Pt=null;if(Tt!==null){const os=new Date(Tt);os.setDate(os.getDate()+1),Pt=os.getTime()}let qt=!1;if(Pt!==null&&xs>=Pt&&pt!==null&&xs<pt&&(qt=!0),x(qt),console.log("--- Vacation Overlay Debug ---"),console.log("Current Date (Local Midnight):",Gt.toLocaleDateString()),console.log("Vacation Date (Last School Day):",ze.vacationDate),console.log("Vacation Starts (Local Midnight):",Pt?new Date(Pt).toLocaleDateString():"N/A"),console.log("Next Term Begins (Local Midnight):",ze.nextTermBegins),console.log("Is Vacation:",qt),console.log("--- End Debug ---"),ze.nextTermBegins&&xs>=pt){if(ze.termTransitionProcessed===!1){console.log("New term begins today or has passed. Initiating dashboard reset...");try{await lt.resetForNewTerm(ze),await lt.updateSchoolConfig({...ze,termTransitionProcessed:!0}),kt("New term started! Dashboard has been reset.",{type:"success"}),window.location.reload()}catch(os){console.error("Error during new term reset:",os),kt("Failed to reset dashboard for new term.",{type:"error"})}}}else ze.nextTermBegins&&xs<pt&&ze.termTransitionProcessed===!0&&await lt.updateSchoolConfig({...ze,termTransitionProcessed:!1})}}catch(Gt){console.error(Gt),ze={currentTerm:`Term ${Hi}`,academicYear:To,schoolReopenDate:"",schoolName:"School Manager GH",headTeacherRemark:"An outstanding performance. The school is proud of you.",termEndDate:"2024-12-20",vacationDate:"2024-12-20",nextTermBegins:"",termTransitionProcessed:!1,schoolId:""}}const At=await lt.getSubjects(e,o);if(!Me)return;n(At);const mt=await lt.getNotices(e);if(!Me)return;N(mt);const Ot=new Date().toISOString().split("T")[0],Et=await lt.getTeacherAttendance(e,(s==null?void 0:s.id)||"",Ot);if(Me&&(E(Et),o)){const Gt=await lt.getTimetable(e,o);if(!Me)return;ge(Gt||null),Fe(ye());try{const[xs,Tt]=await Promise.all([lt.getClassAttendance(e,o),lt.getStudents(e,o)]);if(!Me)return;const pt=Tt.length||1,Pt=dt(et),qt=xs.filter(un=>Pt.includes(un.date)),os=Pt.map(un=>{const on=qt.find(Ir=>Ir.date===un),fn=on?Math.round(on.presentStudentIds.length/pt*100):0,[Un,Br,ua]=un.split("-").map(Number);return{day:new Date(Un,Br-1,ua).toLocaleDateString("en-US",{weekday:"short"}),percentage:fn}});if(he(os),ce(Tt),et===0){Ye(Tt.length);const un=new Date().toISOString().split("T")[0],on=xs.find(Un=>Un.date===un),fn=on?on.presentStudentIds.length:0;Lt(fn),$t(Tt.length-fn)}else Lt(0),$t(0);const Os=parseInt((ze.currentTerm||`Term ${Hi}`).split(" ")[1]);let wn=0,es=0;for(const un of At){const fn=(await lt.getAssessments(e,o,un)).filter(Un=>Un.term===Os);for(const Un of fn){const Br=Un.total??_A(Un);wn+=Br,es++}}const ca=es>0?wn/es:0;ns(ca);const Yr=(await lt.getStudentSkills(e,o)).filter(un=>un.term===Os);let pr=0,us=0;const Nn={Excellent:5,"Very Good":4,Good:3,Fair:2,Poor:1};for(const un of Yr)un.conduct&&(pr+=Nn[un.conduct]||0,us++);const jr=us>0?pr/us:0;Ht(jr.toFixed(1));const Mn=[];for(const un of At){const fn=(await lt.getAssessments(e,o,un)).filter(ir=>ir.term===Os);if(fn.length===0)continue;let Un=0,Br=0,ua="";for(const ir of fn){const Ir=ir.total??_A(ir),vi=Tt.find(Pa=>Pa.id===ir.studentId);vi&&Ir>Br&&(Br=Ir,ua=vi.name),Un+=Ir}const Vi=Un/fn.length;Mn.push({subject:un,topStudent:ua,average:Vi})}Mn.sort((un,on)=>on.average-un.average),Mt(Mn)}catch(xs){console.error("Error calculating dashboard stats:",xs)}}})(),()=>{Me=!1}},[o,et,e]),Z.useEffect(()=>{if(Ne&&Ne.schedule&&Se){const Me=Ne.schedule[Se]||[];qe(Me)}else qe([])},[Ne,Se]);const Es=Me=>{switch(Me){case"break":return{border:"border-amber-400",bgHover:"group-hover:bg-amber-50",text:"text-amber-700 italic",badge:"text-amber-600"};case"worship":return{border:"border-purple-400",bgHover:"group-hover:bg-purple-50",text:"text-purple-700 font-semibold",badge:"text-purple-600"};case"closing":return{border:"border-slate-400",bgHover:"group-hover:bg-slate-50",text:"text-slate-700 font-bold",badge:"text-slate-600"};default:return{border:"border-[#1160A8]",bgHover:"group-hover:bg-[#E6F0FA]",text:"text-slate-800",badge:"text-[#1160A8]"}}};return i.jsxs(sr,{title:"Teacher Dashboard",children:[m&&i.jsx(HY,{reopenDate:(f==null?void 0:f.nextTermBegins)||"TBD"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome back, ",s==null?void 0:s.fullName]}),i.jsxs("p",{className:"text-slate-500 mt-1",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#1160A8] mr-2"}),"Class Teacher for:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:b||"Not Assigned"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end sm:items-center",children:[r.length>1&&i.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-lg px-3 py-1.5 shadow-sm",children:[i.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:"Viewing:"}),i.jsx("select",{value:o,onChange:Me=>c(Me.target.value),className:"text-sm font-semibold text-slate-800 bg-transparent outline-none cursor-pointer",children:r.map(Me=>{const ut=Ts.find(ze=>ze.id===Me);return i.jsx("option",{value:Me,children:ut==null?void 0:ut.name},Me)})})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 text-xs font-bold rounded-full border border-emerald-100 uppercase tracking-wide",children:[h," Active"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs(ba,{to:"/teacher/attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#0B4A82] transition-colors",children:i.jsx(Zx,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Take Attendance"}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Record daily register for"," ",(g==null?void 0:g.name)||"your class","."]})]})]}),i.jsxs(ba,{to:"/teacher/assessment",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-amber-500 transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-amber-500 transition-colors",children:i.jsx(Ml,{className:"w-6 h-6 text-amber-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Gradebook"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Record marks for tests, homework & exams."})]})]}),i.jsxs(ba,{to:"/teacher/my-attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-green-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-green-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-500 transition-colors",children:i.jsx(Zx,{className:"w-6 h-6 text-green-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"My Attendance"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Mark weekly attendance & view records"}),S&&i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Last marked: ",S.date]})]})]}),i.jsxs("button",{onClick:async()=>{let Me=le;(!Me||Me.length===0)&&(Me=await lt.getStudents(e,o));const ze=(await lt.getStudentRemarks(e,o)).reduce((Ot,Et)=>(Ot[Et.studentId]={remark:Et.remark,behaviorTag:Et.behaviorTag},Ot),{});ae(ze);const mt=(await lt.getStudentSkills(e,o)).reduce((Ot,Et)=>(Ot[Et.studentId]={punctuality:Et.punctuality,neatness:Et.neatness,conduct:Et.conduct,attitudeToWork:Et.attitudeToWork,classParticipation:Et.classParticipation,homeworkCompletion:Et.homeworkCompletion},Ot),{});M(mt),V(Me||[]),K(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-purple-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-500 transition-colors",children:i.jsx(Ml,{className:"w-6 h-6 text-purple-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Write Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"End of term comments & behavior tags."})]})]}),i.jsxs("button",{onClick:async()=>{let Me=le;(!Me||Me.length===0)&&(Me=await lt.getStudents(e,o));const ze=(await lt.getStudentSkills(e,o)).reduce((At,mt)=>(At[mt.studentId]={punctuality:mt.punctuality,neatness:mt.neatness,conduct:mt.conduct,attitudeToWork:mt.attitudeToWork,classParticipation:mt.classParticipation,homeworkCompletion:mt.homeworkCompletion},At),{});M(ze),xe(Me||[]),J(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#1160A8] transition-colors",children:i.jsx(Id,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Edit Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate student skills and behavior."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Class Health"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Students:"}),i.jsx("span",{className:"font-semibold",children:at})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Present Today:"}),i.jsx("span",{className:"font-semibold text-green-600",children:Ut})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Absent Today:"}),i.jsx("span",{className:"font-semibold text-red-600",children:Wt})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Average Performance"}),i.jsx("div",{className:"text-center",children:ss>0?i.jsxs("span",{className:"text-2xl font-bold text-[#1160A8]",children:[ss.toFixed(1),"%"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No assessment data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Behavior Average"}),i.jsx("div",{className:"text-center",children:parseFloat(Je)>0?i.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[Je,"/5"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No behavior data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Subject Standings"}),i.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:Vt.slice(0,3).map(Me=>i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsxs("span",{children:[Me.subject,":"]}),i.jsx("span",{className:"font-semibold",children:Me.topStudent||"N/A"})]},Me.subject))})]})]}),i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[i.jsx(Id,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-[#1160A8]"})," ","Weekly Attendance Trend"]}),i.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[i.jsx("button",{onClick:()=>wt(et-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),i.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-[#1160A8] text-white text-center min-w-[120px] sm:w-36 truncate",children:Nt(et)}),i.jsx("button",{onClick:()=>wt(et+1),disabled:et===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),i.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2",children:Oe.length===0?i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[i.jsx(Id,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),i.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):Oe.map((Me,ut)=>i.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[i.jsxs("div",{className:"relative w-full flex justify-center",children:[i.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-[#E6F0FA] relative overflow-hidden",style:{height:"120px"},children:i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1160A8] rounded-t-lg transition-all duration-1000",style:{height:`${Me.percentage}%`}})}),i.jsxs("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[Me.percentage,"%"]}),i.jsxs("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:[Me.percentage,"%"]})]}),i.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:Me.day})]},ut))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Hp,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Notice Board"]}),i.jsx("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-1",children:I.length===0?i.jsx("div",{className:"text-center py-6 text-slate-400 italic text-sm",children:"No announcements at this time."}):I.map(Me=>i.jsxs("div",{className:"group relative pl-4 pb-2 border-l-2 border-slate-200 hover:border-[#1160A8] transition-colors",children:[i.jsx("div",{className:`absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full border-2 border-white ${Me.type==="urgent"?"bg-red-500":"bg-amber-400"} shadow-sm`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:Me.date}),Me.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-500 font-bold px-1.5 py-0.5 bg-red-50 rounded",children:"URGENT"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-800 leading-snug",children:Me.message})]})]},Me.id))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(Cu,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Class Schedule"]}),i.jsx("select",{value:Se,onChange:Me=>Fe(Me.target.value),className:"text-xs font-bold text-[#1160A8] bg-[#E6F0FA] px-2 py-1 rounded uppercase border-none outline-none cursor-pointer hover:bg-[#E6F0FA] transition-colors",children:ON.map(Me=>i.jsx("option",{value:Me,children:Me},Me))})]}),o?i.jsx("div",{className:"space-y-4 relative min-h-[150px]",children:Le.length===0?i.jsxs("div",{className:"text-center py-10 text-slate-400 text-sm italic border-2 border-dashed border-slate-100 rounded-lg",children:["No schedule set for ",Se,"."]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-0.5 bg-slate-200"}),Le.map(Me=>{const ut=Es(Me.type);return i.jsxs("div",{className:"relative pl-8 group",children:[i.jsx("div",{className:`absolute left-0 top-1.5 w-5 h-5 bg-white border-2 rounded-full z-10 transition-colors ${ut.border} ${ut.bgHover}`}),i.jsxs("div",{className:"flex items-baseline justify-between",children:[i.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[Me.startTime," - ",Me.endTime]}),i.jsx("span",{className:`text-[10px] font-bold uppercase ${ut.badge}`,children:Me.type})]}),i.jsx("p",{className:`text-sm ${ut.text}`,children:Me.subject})]},Me.id)})]})}):i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Select a class to view schedule."})]})]})]}),O.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:i.jsx(Hp,{className:"text-amber-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking attendance for a previous school day"})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-amber-800",children:"Please mark your attendance for the following dates to keep your records accurate:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:O.dates.map(Me=>i.jsx("li",{className:"text-sm font-medium",children:i.jsx("strong",{children:(()=>{const ut=Me.split("-");return ut.length===3?`${ut[1]}/${ut[2]}/${ut[0]}`:Me})()})},Me))})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>H({show:!1,dates:[]}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(ba,{to:"/teacher/my-attendance",onClick:()=>H({show:!1,dates:[]}),className:"flex-1 px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-center",children:"Mark Attendance Now"})]})]})]})}),Q.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Hp,{className:"text-red-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Student Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking student attendance for your class."})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-red-800",children:["Please mark student attendance for"," ",i.jsx("strong",{children:g==null?void 0:g.name})," on"," ",i.jsx("strong",{children:(()=>{const Me=Q.date.split("-");return Me.length===3?`${Me[1]}/${Me[2]}/${Me[0]}`:Q.date})()})," ","to keep records accurate."]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>D({show:!1,date:""}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(ba,{to:"/teacher/attendance",onClick:()=>D({show:!1,date:""}),className:"flex-1 px-4 py-2 text-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Take Attendance"})]})]})]})}),R&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:i.jsx(Ml,{className:"text-purple-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"End of Term Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Write comments and select behavior tags for each student"})]})]}),i.jsx("button",{onClick:()=>K(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(Io,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:P.map(Me=>{var ut,ze;return i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:Me.name}),i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Behavior Tag"}),i.jsxs("select",{value:((ut=$[Me.id])==null?void 0:ut.behaviorTag)||"",onChange:At=>ae(mt=>({...mt,[Me.id]:{...mt[Me.id],behaviorTag:At.target.value}})),className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"",children:"Select Behavior"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Needs Improvement",children:"Needs Improvement"})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[i.jsx(MT,{size:14,className:"text-purple-600"}),"Remark"]}),i.jsx("textarea",{value:((ze=$[Me.id])==null?void 0:ze.remark)||"",onChange:At=>ae(mt=>({...mt,[Me.id]:{...mt[Me.id],remark:At.target.value}})),placeholder:"Write remark or select from suggestions below...",className:"w-full p-2 border rounded",rows:3}),i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tap to insert suggestion:"}),i.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto p-1 bg-slate-50 rounded-lg",children:KY.map((At,mt)=>i.jsx("button",{type:"button",onClick:()=>ae(Ot=>({...Ot,[Me.id]:{...Ot[Me.id],remark:At}})),className:"text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 hover:bg-purple-100 transition-colors text-left truncate max-w-full",title:At,children:At.length>50?At.substring(0,50)+"...":At},mt))})]})]})]},Me.id)})}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{var Me,ut;re(!0);try{for(const ze of P){const At=parseInt(h.split(" ")[1]),mt={id:`${ze.id}_${h}_${To}`,studentId:ze.id,classId:o,term:At,academicYear:To,schoolId:e||(f==null?void 0:f.schoolId)||"",remark:((Me=$[ze.id])==null?void 0:Me.remark)||"",behaviorTag:((ut=$[ze.id])==null?void 0:ut.behaviorTag)||"",teacherId:s.id,dateCreated:new Date().toISOString().split("T")[0]};await lt.saveStudentRemark(mt)}kt("Remarks saved successfully!",{type:"success"}),K(!1)}catch(ze){console.error(ze),kt("Failed to save remarks",{type:"error"})}finally{re(!1)}},disabled:de,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:de?"Saving...":"Save Remarks"})]})]})]})}),W&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-full",children:i.jsx(Id,{className:"text-[#1160A8]",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Edit Student Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate skills and behavior for each student"})]})]}),i.jsx("button",{onClick:()=>J(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(Io,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:oe.map(Me=>i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:Me.name}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:VY.map(ut=>{var ze;return i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 capitalize",children:ut.replace(/([A-Z])/g," $1").trim()}),i.jsxs("select",{value:((ze=ee[Me.id])==null?void 0:ze[ut])||"",onChange:At=>M(mt=>({...mt,[Me.id]:{...mt[Me.id],[ut]:At.target.value}})),className:"w-full p-2 border rounded text-sm",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Very Good",children:"Very Good"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Fair",children:"Fair"}),i.jsx("option",{value:"Poor",children:"Poor"})]})]},ut)})})]},Me.id))}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{ie(!0);try{const Me=parseInt(h.split(" ")[1]);for(const ut of oe){const ze={id:`${ut.id}_${h}_${To}`,studentId:ut.id,classId:o,term:Me,academicYear:To,schoolId:e||(f==null?void 0:f.schoolId)||"",...ee[ut.id]};await lt.saveStudentSkills(ze)}kt("Skills saved successfully!",{type:"success"}),J(!1)}catch(Me){console.error(Me),kt("Failed to save skills",{type:"error"})}finally{ie(!1)}},disabled:X,className:"px-4 py-2 bg-[#1160A8] text-white rounded hover:bg-[#0B4A82] disabled:opacity-50",children:X?"Saving...":"Save Skills"})]})]})]})})]})},zY=()=>{var ae;const{user:s}=Fo(),e=(s==null?void 0:s.assignedClassIds)||[],[t,n]=Z.useState(""),r=(s==null?void 0:s.schoolId)||null,[o,c]=Z.useState([]),[h,u]=Z.useState(new Date().toISOString().split("T")[0]),[f,A]=Z.useState(new Set),[m,x]=Z.useState(!1),[g,b]=Z.useState(""),[I,N]=Z.useState(!1),[S,E]=Z.useState(null),[F,L]=Z.useState(""),[O,H]=Z.useState(null);Z.useEffect(()=>{e.length>0&&!t&&n(e[0])},[e]),Z.useEffect(()=>{(async()=>{if(!r){H(null);return}const re=await lt.getSchoolConfig(r);H(re);const W=D(re);W&&h<W&&u(W)})()},[r]);const Q=()=>D(O),D=de=>de&&de.schoolReopenDate?de.schoolReopenDate:"",R=()=>{const de=O==null?void 0:O.vacationDate,re=O==null?void 0:O.nextTermBegins,W=O==null?void 0:O.schoolReopenDate,J=((O==null?void 0:O.holidayDates)||[]).some(oe=>oe.date===h);return re&&h>=re?!1:!!(J||de&&h>de||!de&&W&&h<W)};Z.useEffect(()=>{if(!t||!r)return;(async()=>{N(!0);try{const re=await lt.getStudents(r,t);c(re);const W=await lt.getAttendance(r,t,h),J=((O==null?void 0:O.holidayDates)||[]).find(oe=>oe.date===h);if(J){E(J),x(!0),b(J.reason||""),A(new Set);return}W?W.isHoliday?(x(!0),b(W.holidayReason||""),A(new Set)):(x(!1),b(""),A(new Set(W.presentStudentIds))):(x(!1),b(""),A(new Set)),E(null)}catch(re){console.error(re)}finally{N(!1)}})()},[t,h,r,O]);const K=de=>{if(m||S)return;const re=new Set(f);re.has(de)?re.delete(de):re.add(de),A(re)},P=async()=>{var J;if(!t||!r)return;const de=O==null?void 0:O.vacationDate,re=O==null?void 0:O.nextTermBegins,W=O==null?void 0:O.schoolReopenDate;if(S){L("This date is marked as a holiday by the admin."),setTimeout(()=>L(""),3e3);return}if(!(re&&h>=re)){if(de&&h>de){L("Cannot mark attendance after school vacation date"),setTimeout(()=>L(""),3e3);return}else if(!de&&W&&h<W){L(`Cannot mark attendance before school re-open date (${W})`),setTimeout(()=>L(""),3e3);return}}N(!0);try{if(m&&(await lt.getAttendanceByDate(r,h)).some(ee=>{var M;return(M=ee.presentStudentIds)==null?void 0:M.length})){L("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>L(""),4e3);return}await lt.saveAttendance({id:`${r}_${t}_${h}`,schoolId:r,classId:t,date:h,presentStudentIds:m?[]:Array.from(f),isHoliday:m,holidayReason:m?g.trim():""});const oe=((J=Ts.find(xe=>xe.id===t))==null?void 0:J.name)||t;await lt.addSystemNotification(m?`${s==null?void 0:s.fullName} marked ${oe} as Holiday on ${h}.`:`${s==null?void 0:s.fullName} marked attendance for ${oe} on ${h}. (${f.size} Present)`,"attendance",r),L(m?"Holiday saved successfully!":"Attendance saved successfully!"),setTimeout(()=>L(""),3e3)}catch(oe){console.error(oe)}finally{N(!1)}};if(e.length===0)return i.jsx(sr,{title:"Attendance",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const V=((ae=Ts.find(de=>de.id===t))==null?void 0:ae.name)||t,$=m?0:o.length-f.size;return i.jsx(sr,{title:"Mark Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Student Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark attendance quickly and accurately for your class."}),S&&i.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday: ",S.reason||"No reason provided"]}),m&&i.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-800",children:[i.jsx(Mi,{className:"h-4 w-4"}),S?"Admin Holiday":"Holiday / No School",g?` ${g}`:""]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(pl,{className:"h-4 w-4 text-indigo-500"}),"Class: ",V||"Select class"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(DA,{className:"h-4 w-4"}),f.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(Hh,{className:"h-4 w-4"}),$," Absent"]})]})]})]}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:t,onChange:de=>n(de.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",children:e.map(de=>{const re=Ts.find(W=>W.id===de);return i.jsx("option",{value:de,children:re==null?void 0:re.name},de)})})]}),i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",value:h,onChange:de=>u(de.target.value),min:Q(),className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-4 py-2 text-sm shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[i.jsxs("label",{className:"inline-flex items-center gap-3 text-sm font-semibold text-amber-900",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:de=>{const re=de.target.checked;x(re),re&&A(new Set)},disabled:!!S,className:"h-4 w-4 rounded border-amber-300 text-amber-600 focus:ring-amber-300"}),"Mark this date as Holiday / No School"]}),S?i.jsx("div",{className:"text-xs text-amber-800",children:"This date is locked as a holiday by the admin."}):m?i.jsx("input",{type:"text",value:g,onChange:de=>b(de.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}):null]}),i.jsxs("div",{className:"flex flex-col gap-4 border-t border-slate-100 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx(DA,{className:"h-4 w-4"}),f.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-semibold text-rose-700",children:[i.jsx(Hh,{className:"h-4 w-4"}),$," Absent"]})]}),i.jsxs("button",{onClick:P,disabled:I||!t||R()||!!S,className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700 disabled:opacity-50 sm:w-auto",children:[i.jsx(oA,{size:18}),I?"Saving...":m?"Save Holiday":"Save Register"]})]})]})}),F&&i.jsx("div",{className:`rounded-2xl p-3 text-center text-sm shadow-sm ${F.includes("Cannot")?"bg-rose-50 text-rose-700":"bg-emerald-50 text-emerald-700"}`,children:F}),(R()||S)&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[i.jsx(Mi,{size:18}),i.jsx("span",{className:"font-medium",children:S?`Admin marked ${S.date} as a holiday${S.reason?` (${S.reason})`:""}.`:O!=null&&O.nextTermBegins&&h>=O.nextTermBegins?"Attendance not available for selected date":O!=null&&O.vacationDate&&h>O.vacationDate?`Cannot mark attendance after vacation date (${O.vacationDate})`:!(O!=null&&O.vacationDate)&&(O!=null&&O.schoolReopenDate)&&h<O.schoolReopenDate?`Cannot mark attendance before school re-open date (${O.schoolReopenDate})`:"Attendance not available for selected date"})]})}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:[o.map(de=>{const re=f.has(de.id),W=R()||m||!!S;return i.jsxs("div",{className:`group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md ${W?"opacity-60":"cursor-pointer"}`,onClick:()=>!W&&K(de.id),children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full text-sm font-bold ${re?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:de.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:de.name}),i.jsx("p",{className:"text-xs text-slate-500",children:de.gender})]})]}),i.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${m?"border-amber-200 bg-amber-50 text-amber-700":re?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:[m?i.jsx(Mi,{className:"h-4 w-4"}):re?i.jsx(DA,{className:"h-4 w-4"}):i.jsx(Hh,{className:"h-4 w-4"}),m?S?"ADMIN HOLIDAY":"HOLIDAY":re?"PRESENT":"ABSENT"]})]},de.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:t?"No students found in this class.":"Select a class to view students."})]})]})})},Co=s=>{const e=s.split("-");if(e.length===3){const n=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]));if(!isNaN(n.getTime()))return n}const t=new Date(s);return isNaN(t.getTime())?(console.error("Invalid date string:",s),new Date):t},GY=()=>{var re;const{user:s}=Fo(),e=(s==null?void 0:s.schoolId)||null,[t,n]=Z.useState({}),[r,o]=Z.useState(!0),[c,h]=Z.useState({}),[u,f]=Z.useState(null),[A,m]=Z.useState(null),[x,g]=Z.useState({}),[b,I]=Z.useState({}),[N,S]=Z.useState(""),E=W=>{const J=W.getFullYear(),oe=String(W.getMonth()+1).padStart(2,"0"),xe=String(W.getDate()).padStart(2,"0");return`${J}-${oe}-${xe}`},F=()=>{const W=new Date;return W.setHours(0,0,0,0),W},L=Z.useMemo(()=>F(),[]),O=Z.useMemo(()=>E(L),[L]),H=(W,J,oe=!1)=>{const xe=[];let ee=new Date(W);for(ee.setHours(0,0,0,0);xe.length<J;)ee.getDay()!==0&&ee.getDay()!==6&&xe.push(E(ee)),ee.setDate(ee.getDate()+(oe?-1:1));return xe},Q=Z.useMemo(()=>{const W=u!=null&&u.schoolReopenDate?Co(u.schoolReopenDate):null,J=u!=null&&u.vacationDate?Co(u.vacationDate):null,oe=new Date(L);return H(oe,20,!0).filter(ee=>{const M=Co(ee),X=u!=null&&u.nextTermBegins?Co(u.nextTermBegins):null;if(X&&M>=X)return!0;const ie=!W||M>=W,le=!J||M<=J;return ie&&le}).sort()},[L,u]),D=W=>{const J=new Date(W);for(J.setDate(J.getDate()-1);J.getDay()===0||J.getDay()===6;)J.setDate(J.getDate()-1);return E(J)},R=Z.useMemo(()=>D(L),[L]),K=(W,J,oe,xe,ee)=>{const M=Co(W),X=J?Co(J):null,ie=oe?Co(oe):null,le=xe?Co(xe):null,ce=(ee||[]).some(ye=>ye.date===W);return le&&M>=le?!0:!(ce||X&&M<X||ie&&M>ie)};Z.useEffect(()=>{(async()=>{if(!e){f(null);return}const J=await lt.getSchoolConfig(e);f(J)})()},[e]),Z.useEffect(()=>{if(!(s!=null&&s.id)||!e||Q.length===0){o(!1);return}(async()=>{o(!0);const J={};for(const oe of Q)if(K(oe,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates)){const xe=await lt.getTeacherAttendance(e,s.id,oe);xe&&(J[oe]=xe)}n(J),o(!1)})()},[s==null?void 0:s.id,Q,u==null?void 0:u.schoolReopenDate,e]),Z.useEffect(()=>{if(!(s!=null&&s.id)||!e||!u)return;(async()=>{const J=u.schoolReopenDate,oe=u.vacationDate;if(!K(R,J,oe,u.nextTermBegins,u.holidayDates))return;await lt.getTeacherAttendance(e,s.id,R)||m(R)})()},[s==null?void 0:s.id,u,R,K]);const P=async(W,J)=>{if(!(s!=null&&s.id)||!e)return;h(xe=>({...xe,[W]:!0}));const oe={id:`${e}_${s.id}_${W}`,date:W,teacherId:s.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:J,isHoliday:!1,holidayReason:""};await lt.saveTeacherAttendance(oe),n(xe=>({...xe,[W]:oe})),m(null),await lt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} marked ${J} for ${W}`,"attendance",e),h(xe=>({...xe,[W]:!1}))},V=async W=>{var J;if(!(!(s!=null&&s.id)||!e)){h(oe=>({...oe,[W]:!0}));try{if((await lt.getAllTeacherAttendance(e,W)).some(M=>!M.isHoliday)){S("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>S(""),4e3);return}const ee={id:`${e}_${s.id}_${W}`,date:W,teacherId:s.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:"absent",isHoliday:!0,holidayReason:((J=x[W])==null?void 0:J.trim())||""};await lt.saveTeacherAttendance(ee),n(M=>({...M,[W]:ee})),m(null),await lt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} marked ${W} as Holiday.`,"attendance",e),S("Holiday saved successfully!"),setTimeout(()=>S(""),3e3),I(M=>({...M,[W]:!1}))}finally{h(oe=>({...oe,[W]:!1}))}}},$=()=>u!=null&&u.schoolReopenDate?L>=Co(u.schoolReopenDate):!0,ae=W=>{const J=Co(W),oe=u!=null&&u.schoolReopenDate?Co(u.schoolReopenDate):null,xe=u!=null&&u.vacationDate?Co(u.vacationDate):null,ee=u!=null&&u.nextTermBegins?Co(u.nextTermBegins):null;return ee&&J>=ee?!0:!(oe&&J<oe||xe&&J>xe)},de=W=>Co(W).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"});return i.jsx(sr,{title:"Daily Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Daily Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark your attendance with confidence  fast, clear, and beautiful."}),((re=u==null?void 0:u.holidayDates)==null?void 0:re.some(W=>W.date===O))&&i.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday:"," ",(()=>{const W=u.holidayDates.find(J=>J.date===O);return(W==null?void 0:W.reason)||"No reason provided"})()]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(ho,{className:"h-4 w-4 text-indigo-500"}),"Today: ",de(O)]}),i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-medium shadow-sm ${$()?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[i.jsx(Cu,{className:"h-4 w-4"}),$()?"School Open":"School Closed"]})]})]})]}),A&&i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-amber-200 bg-amber-50/60 p-5 shadow-sm",children:[i.jsx("div",{className:"absolute -right-10 -top-10 h-24 w-24 rounded-full bg-amber-200/60 blur-2xl"}),i.jsxs("div",{className:"relative flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[i.jsx(Mi,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Missed Attendance"})]}),i.jsxs("p",{className:"text-sm text-amber-900",children:["You missed attendance for",i.jsxs("span",{className:"font-semibold",children:[" ",de(A)]}),". Please update it now."]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>P(A,"present"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-emerald-700 disabled:opacity-50",children:[i.jsx(DA,{className:"h-4 w-4"}),"Mark Present"]}),i.jsxs("button",{onClick:()=>P(A,"absent"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-rose-700 disabled:opacity-50",children:[i.jsx(Hh,{className:"h-4 w-4"}),"Mark Absent"]})]})]})]}),N&&i.jsx("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4 text-sm text-emerald-800 shadow-sm",children:N}),!$()&&i.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/70 p-4 text-rose-800 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(Cu,{className:"h-5 w-5"}),"School not yet open"]})}),(u==null?void 0:u.vacationDate)&&L<Co(u.vacationDate)&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(ho,{className:"h-5 w-5 text-amber-600"}),"School will vacate on: ",u.vacationDate]})}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:r?i.jsx("div",{className:"p-8 text-center text-sm text-slate-500",children:"Loading attendance..."}):i.jsx("div",{className:"grid gap-3 p-2",children:Q.map(W=>{const J=t[W],oe=W>O,xe=K(W,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates),ee=((u==null?void 0:u.holidayDates)||[]).find(le=>le.date===W),M=!!ee,X=!!(J!=null&&J.isHoliday),ie=(J==null?void 0:J.holidayReason)||(ee==null?void 0:ee.reason)||"";return i.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:de(W)}),i.jsx("p",{className:"text-xs text-slate-500",children:W})]}),i.jsx("div",{className:"flex items-center gap-2",children:M||X?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx(Mi,{className:"h-4 w-4"}),"Holiday"]}):J?i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${J.status==="present"?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[J.status==="present"?i.jsx(DA,{className:"h-4 w-4"}):i.jsx(Hh,{className:"h-4 w-4"}),J.status.toUpperCase()]}):xe?oe?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:[i.jsx(Cu,{className:"h-4 w-4"}),"Future"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:[i.jsx(ho,{className:"h-4 w-4"}),"Pending"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx(Mi,{className:"h-4 w-4"}),Co(W)<Co((u==null?void 0:u.schoolReopenDate)||"")?"Before Reopen":"After Vacation"]})})]}),(M||X)&&ie&&i.jsxs("div",{className:"text-xs font-medium text-amber-700",children:["Reason: ",ie]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("div",{className:"text-xs text-slate-500",children:M||X?"Holiday / No School":ae(W)?"School in session":"Out of session"}),M||!xe||oe?null:i.jsxs("div",{className:"flex flex-1 flex-wrap items-center gap-2",children:[!J&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>P(W,"present"),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-xs font-semibold text-emerald-700 shadow-sm transition hover:scale-[1.02] hover:bg-emerald-100",children:[i.jsx(DA,{className:"h-4 w-4"}),"Present"]}),i.jsxs("button",{onClick:()=>P(W,"absent"),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 shadow-sm transition hover:scale-[1.02] hover:bg-rose-100",children:[i.jsx(Hh,{className:"h-4 w-4"}),"Absent"]})]}),(!J||J.isHoliday)&&i.jsxs("button",{onClick:()=>I(le=>({...le,[W]:!le[W]})),className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-700 shadow-sm transition hover:scale-[1.02] hover:bg-amber-100",children:[i.jsx(Mi,{className:"h-4 w-4"}),J!=null&&J.isHoliday?"Update Holiday":"Mark Holiday"]})]})]}),(b[W]||X)&&(!J||J.isHoliday)&&!oe&&xe&&!M&&i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx("input",{type:"text",value:x[W]??(J==null?void 0:J.holidayReason)??"",onChange:le=>g(ce=>({...ce,[W]:le.target.value})),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}),i.jsx("button",{onClick:()=>V(W),disabled:c[W],className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-amber-700 disabled:opacity-50",children:"Save Holiday"})]})]},W)})})})]})})},$Y=()=>{const{user:s}=Fo(),e=(s==null?void 0:s.assignedClassIds)||[],t=(s==null?void 0:s.schoolId)||null,[n,r]=Z.useState(""),[o,c]=Z.useState([]),[h,u]=Z.useState([]),[f,A]=Z.useState(""),[m,x]=Z.useState({}),[g,b]=Z.useState(!1),[I,N]=Z.useState(!1),[S,E]=Z.useState({currentTerm:`Term ${Hi}`,academicYear:To}),F={testScore:15,homeworkScore:15,projectScore:20,examScore:100};Z.useEffect(()=>{e.length>0&&!n&&r(e[0])},[e]),Z.useEffect(()=>{(async()=>{try{if(!t)return;const Q=await lt.getSchoolConfig(t);if(E({currentTerm:Q.currentTerm||`Term ${Hi}`,academicYear:Q.academicYear||To}),Q.termTransitionProcessed){console.log("Term transition detected, reloading for fresh data..."),await lt.updateSchoolConfig({...Q,termTransitionProcessed:!1}),window.location.reload();return}const D=new Date;D.setHours(0,0,0,0);const R=Q.nextTermBegins?new Date(Q.nextTermBegins+"T00:00:00"):null;if(R&&D>=R){console.log("New term begins, initiating reset..."),await lt.resetForNewTerm(Q),await lt.updateSchoolConfig({...Q,termTransitionProcessed:!0}),kt("New term started! Assessments have been reset.",{type:"success"}),window.location.reload();return}}catch(Q){console.error("Failed to load school config",Q)}})()},[t]),Z.useEffect(()=>{(async()=>{if(!n||!t){u([]),A("");return}const Q=await lt.getSubjects(t,n);u(Q),Q.length>0?A(Q[0]):A("")})()},[n,t]),Z.useEffect(()=>{if(!n||!t)return;(async()=>{const Q=await lt.getStudents(t,n);c(Q)})()},[n,t]),Z.useEffect(()=>{if(!n||!f||!t){x({});return}(async()=>{b(!0);const Q=await lt.getAssessments(t,n,f);let D=Hi;if(S.currentTerm){const K=S.currentTerm.match(/\d+/);K&&(D=parseInt(K[0],10))}const R={};o.forEach(K=>{const P=Q.find(V=>V.studentId===K.id&&V.term===D);R[K.id]=P||{id:`${K.id}_${f}_${D}_${S.academicYear}`,schoolId:t||"",studentId:K.id,classId:n,term:D,academicYear:S.academicYear,subject:f,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0}}),x(R),b(!1)})()},[n,f,o,S.currentTerm,S.academicYear,t]);const L=(H,Q,D)=>{let R=D===""?0:parseFloat(D);const K=F[Q];R>K&&(R=K),R<0&&(R=0),x(P=>{const V=P[H]||{};return{...P,[H]:{...V,[Q]:R}}})},O=async()=>{var H;if(!(!n||!t)){N(!0);try{let Q=Hi;if(S.currentTerm){const K=S.currentTerm.match(/\d+/);K&&(Q=parseInt(K[0],10))}const D=Object.values(m).map(async K=>{if(!K.studentId)return;const P=_A(K),V={...K,id:K.id||Math.random().toString(36),schoolId:t,total:P,studentId:K.studentId,classId:n,subject:f,term:Q,academicYear:S.academicYear,testScore:K.testScore||0,homeworkScore:K.homeworkScore||0,projectScore:K.projectScore||0,examScore:K.examScore||0};return lt.saveAssessment(V)});await Promise.all(D);const R=((H=Ts.find(K=>K.id===n))==null?void 0:H.name)||n;await lt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} updated assessments for ${R} in ${f}.`,"assessment",t),kt("Saved Successfully",{type:"success"})}catch(Q){console.error(Q),kt("Error saving data",{type:"error"})}finally{N(!1)}}};return e.length===0?i.jsx(sr,{title:"Assessment",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"No class assigned."})}):i.jsx(sr,{title:"Assessment Sheet",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Class"}),i.jsx("select",{value:n,onChange:H=>r(H.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64 bg-white text-black",children:e.map(H=>{const Q=Ts.find(D=>D.id===H);return i.jsx("option",{value:H,children:Q==null?void 0:Q.name},H)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Subject"}),i.jsxs("select",{value:f,onChange:H=>A(H.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64",disabled:h.length===0,children:[h.length===0&&i.jsx("option",{children:"Loading subjects..."}),h.map(H=>i.jsx("option",{value:H,children:H},H))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[i.jsx("div",{className:"hidden sm:block",children:i.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[S.currentTerm,"  ",S.academicYear]})}),i.jsxs("button",{onClick:O,disabled:I||!f||!n,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[i.jsx(oA,{size:18,className:"mr-2"}),I?"Saving...":"Save Scores"]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold uppercase text-xs tracking-wider",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 sticky left-0 bg-slate-100 z-10 w-48",children:"Student Name"}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Class Test",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Homework",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Project",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(20)"})]}),i.jsxs("th",{className:"px-2 py-3 w-28 text-center border-l border-slate-200 bg-red-50/50",children:["Exam",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-red-600",children:"(100)"})]}),i.jsxs("th",{className:"px-4 py-3 w-24 text-center bg-slate-200",children:["Total",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case",children:"(100%)"})]}),i.jsx("th",{className:"px-4 py-3 w-20 text-center bg-slate-200",children:"Grade"})]})}),i.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.map(H=>{const Q=m[H.id]||{},D=_A(Q),{grade:R,remark:K}=dm(D),P=Og(R);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 sticky left-0 bg-white border-r border-slate-100",children:H.name}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.testScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:Q.testScore||0,onChange:V=>L(H.id,"testScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.homeworkScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:Q.homeworkScore||0,onChange:V=>L(H.id,"homeworkScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.projectScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:Q.projectScore||0,onChange:V=>L(H.id,"projectScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2 border-l border-slate-200 bg-red-50/20",children:i.jsx("input",{type:"number",min:"0",max:F.examScore,className:"w-full text-center border border-red-500 rounded p-1 focus:ring-2 focus:ring-red-300 outline-none font-bold text-slate-800 bg-white shadow-sm",value:Q.examScore||0,onChange:V=>L(H.id,"examScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-800 bg-slate-50",children:D}),i.jsx("td",{className:"px-4 py-3 text-center bg-slate-50",children:i.jsx("span",{className:`inline-block w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${P}`,children:R})})]},H.id)}),o.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:n?"No students found in this class.":"Select a class above."})})]})]})})]})})},YY=()=>{const{user:s}=Fo(),e=(s==null?void 0:s.assignedClassIds)||[],t=(s==null?void 0:s.schoolId)||null,[n,r]=Z.useState(""),[o,c]=Z.useState([]),[h,u]=Z.useState({}),[f,A]=Z.useState(!1),[m,x]=Z.useState(!1),[g,b]=Z.useState("");Z.useEffect(()=>{e.length>0&&!n&&r(e[0])},[e]),Z.useEffect(()=>{if(!n||!t)return;(async()=>{A(!0);try{const E=await lt.getStudents(t,n);c(E);const F=await lt.getStudentRemarks(t,n),L={};let O=Hi;const H=await lt.getSchoolConfig(t);if(H.currentTerm){const Q=H.currentTerm.match(/\d+/);Q&&(O=parseInt(Q[0],10))}E.forEach(Q=>{const D=F.find(R=>R.studentId===Q.id&&R.term===O);L[Q.id]=(D==null?void 0:D.remark)||""}),u(L)}catch(E){console.error(E)}finally{A(!1)}})()},[n,t]);const I=(S,E)=>{u(F=>({...F,[S]:E}))},N=async()=>{var S;if(!(!n||!t)){x(!0);try{const E=await lt.getSchoolConfig(t);let F=Hi;if(E.currentTerm){const H=E.currentTerm.match(/\d+/);H&&(F=parseInt(H[0],10))}const L=Object.entries(h).map(async([H,Q])=>{const D=Q;if(!D.trim())return;const R={id:`${H}_${n}_${F}_${To}`,studentId:H,classId:n,term:F,academicYear:To,schoolId:t,remark:D,behaviorTag:"Good",teacherId:(s==null?void 0:s.id)||"",dateCreated:new Date().toISOString().split("T")[0]};await lt.saveStudentRemark(R)});await Promise.all(L);const O=((S=Ts.find(H=>H.id===n))==null?void 0:S.name)||n;await lt.addSystemNotification(`${s==null?void 0:s.fullName} updated remarks for ${O}.`,"assessment",t),b("Remarks saved successfully!"),setTimeout(()=>b(""),3e3)}catch(E){console.error(E),b("Error saving remarks"),setTimeout(()=>b(""),3e3)}finally{x(!1)}}};return e.length===0?i.jsx(sr,{title:"Write Remarks",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})}):i.jsx(sr,{title:"Write Remarks",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:n,onChange:S=>r(S.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(S=>{const E=Ts.find(F=>F.id===S);return i.jsx("option",{value:S,children:E==null?void 0:E.name},S)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!n,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(oA,{size:18,className:"mr-2"}),m?"Saving...":"Save Remarks"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):o.map(S=>{var E;return i.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:S.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-800",children:S.name}),i.jsx("p",{className:"text-xs text-slate-400",children:(E=Ts.find(F=>F.id===S.classId))==null?void 0:E.name})]})]}),i.jsx("textarea",{value:h[S.id]||"",onChange:F=>I(S.id,F.target.value),placeholder:"Write remarks for this student...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none resize-none",rows:3})]},S.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:n?"No students found in this class.":"Select a class to view students."})]})]})})},WY=["Excellent","Very Good","Good","Fair","Poor"],XY=()=>{const{user:s}=Fo(),e=(s==null?void 0:s.assignedClassIds)||[],t=(s==null?void 0:s.schoolId)||null,[n,r]=Z.useState(""),[o,c]=Z.useState([]),[h,u]=Z.useState({}),[f,A]=Z.useState(!1),[m,x]=Z.useState(!1),[g,b]=Z.useState("");Z.useEffect(()=>{e.length>0&&!n&&r(e[0])},[e]),Z.useEffect(()=>{if(!n||!t)return;(async()=>{A(!0);try{const F=await lt.getStudents(t,n);c(F);const L=await lt.getStudentSkills(t,n),O={};let H=Hi;const Q=await lt.getSchoolConfig(t);if(Q.currentTerm){const D=Q.currentTerm.match(/\d+/);D&&(H=parseInt(D[0],10))}F.forEach(D=>{const R=L.find(K=>K.studentId===D.id&&K.term===H);R?O[D.id]=R:O[D.id]={id:`${D.id}_${n}_${H}_${To}`,studentId:D.id,classId:n,term:H,academicYear:To,schoolId:t||(Q==null?void 0:Q.schoolId)||"",punctuality:"Good",neatness:"Good",conduct:"Good",attitudeToWork:"Good",classParticipation:"Good",homeworkCompletion:"Good"}}),u(O)}catch(F){console.error(F)}finally{A(!1)}})()},[n,t]);const I=(E,F,L)=>{u(O=>({...O,[E]:{...O[E],[F]:L}}))},N=async()=>{var E;if(!(!n||!t)){x(!0);try{const F=await lt.getSchoolConfig(t);let L=Hi;if(F.currentTerm){const Q=F.currentTerm.match(/\d+/);Q&&(L=parseInt(Q[0],10))}const O=Object.values(h).map(async Q=>{await lt.saveStudentSkills(Q)});await Promise.all(O);const H=((E=Ts.find(Q=>Q.id===n))==null?void 0:E.name)||n;await lt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} updated skills for ${H}.`,"assessment",t),b("Skills saved successfully!"),setTimeout(()=>b(""),3e3)}catch(F){console.error(F),b("Error saving skills"),setTimeout(()=>b(""),3e3)}finally{x(!1)}}};if(e.length===0)return i.jsx(sr,{title:"Edit Skills",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const S=[{key:"punctuality",label:"Punctuality"},{key:"neatness",label:"Neatness"},{key:"conduct",label:"Conduct"},{key:"attitudeToWork",label:"Attitude to Work"},{key:"classParticipation",label:"Class Participation"},{key:"homeworkCompletion",label:"Homework Completion"}];return i.jsx(sr,{title:"Edit Skills",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:n,onChange:E=>r(E.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(E=>{const F=Ts.find(L=>L.id===E);return i.jsx("option",{value:E,children:F==null?void 0:F.name},E)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!n,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(oA,{size:18,className:"mr-2"}),m?"Saving...":"Save Skills"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left w-48",children:"Student Name"}),S.map(E=>i.jsx("th",{className:"px-2 py-3 text-center",children:E.label},E.key))]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(E=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:E.name.charAt(0)}),E.name]})}),S.map(F=>{var L;return i.jsx("td",{className:"px-2 py-3",children:i.jsx("select",{value:((L=h[E.id])==null?void 0:L[F.key])||"Good",onChange:O=>I(E.id,F.key,O.target.value),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-center",children:WY.map(O=>i.jsx("option",{value:O,children:O},O))})},F.key)})]},E.id))})]}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:n?"No students found in this class.":"Select a class to view students."})]})]})})},JY=()=>{const{user:s}=Fo(),[e,t]=Z.useState([]),[n,r]=Z.useState(!0),[o,c]=Z.useState(!1),[h,u]=Z.useState({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),[f,A]=Z.useState(!1),[m,x]=Z.useState(null),[g,b]=Z.useState(!1),[I,N]=Z.useState(!1),[S,E]=Z.useState(""),[F,L]=Z.useState(1),[O,H]=Z.useState({x:0,y:0}),[Q,D]=Z.useState({width:0,height:0}),R=Z.useRef(null),K=180,P=512,V=K/2,$=oe=>{if(!oe)return"N/A";const xe=oe,ee=xe instanceof Date?xe:typeof(xe==null?void 0:xe.toDate)=="function"?xe.toDate():typeof xe=="string"||typeof xe=="number"?new Date(xe):null;return!ee||Number.isNaN(ee.getTime())?"N/A":ee.toLocaleDateString()};Z.useEffect(()=>{const oe=Hs(Ct,"schools");return $f(oe,ee=>{const M=ee.docs.map(X=>({id:X.id,...X.data()}));t(M),r(!1)})},[]);const ae=async oe=>{if(oe.preventDefault(),!h.name.trim())return;const xe=()=>{if(!S||!R.current)return"";const ee=R.current,M=Q.width||ee.naturalWidth||1,X=Q.height||ee.naturalHeight||1,le=Math.max(K/M,K/X)*F*(P/K),ce=O.x*(P/K),ye=O.y*(P/K),Ne=document.createElement("canvas");Ne.width=P,Ne.height=P;const ge=Ne.getContext("2d");if(!ge)return"";const Se=M*le,Fe=X*le,Le=P/2-Se/2+ce,qe=P/2-Fe/2+ye;return ge.drawImage(ee,Le,qe,Se,Fe),Ne.toDataURL("image/png")};b(!0);try{const ee=xe();await y7({name:h.name.trim(),phone:h.phone.trim(),address:h.address.trim(),logoUrl:ee||"",plan:h.plan}),u({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),E(""),L(1),H({x:0,y:0}),D({width:0,height:0}),c(!1),kt("School created successfully!",{type:"success"})}catch(ee){console.error("Error creating school:",ee),kt(ee.message||"Failed to create school",{type:"error"})}finally{b(!1)}},de=oe=>{var M;const xe=(M=oe.target.files)==null?void 0:M[0];if(!xe){E(""),D({width:0,height:0});return}const ee=new FileReader;ee.onload=()=>{E(ee.result),L(1),H({x:0,y:0})},ee.readAsDataURL(xe)},re=async(oe,xe)=>{try{const ee=xe==="active"?"inactive":"active";await Mp(Ms(Ct,"schools",oe),{status:ee}),kt(`School ${ee==="active"?"activated":"deactivated"}`,{type:"success"})}catch(ee){console.error("Error updating school status:",ee),kt("Failed to update school status",{type:"error"})}},W=async()=>{if(m)try{N(!0);const oe=m.id,xe=400,ee=await qs(Ys(Hs(Ct,"users"),is("schoolId","==",oe)));let M=0;const X=[];for(let ce=0;ce<ee.docs.length;ce+=xe){const ye=k5(Ct),Ne=ee.docs.slice(ce,ce+xe);for(const ge of Ne)ye.delete(Ms(Ct,"users",ge.id));X.push(ye.commit()),M+=Ne.length}X.length>0&&(await Promise.all(X),console.log(`Deleted ${M} user documents`));const ie=["students","classes","attendance","assessments","teacher_attendance","notices","student_remarks","student_skills","admin_remarks","admin_notifications","timetables","class_subjects","settings"];let le=0;for(const ce of ie)if(ce==="settings")try{await Qi(Ms(Ct,"settings",oe)),le+=1}catch{console.log(`Settings document ${oe} not found or already deleted`)}else{const ye=Ys(Hs(Ct,ce),is("schoolId","==",oe)),ge=(await qs(ye)).docs.map(Se=>Se.id);if(ge.length>0)for(let Se=0;Se<ge.length;Se+=xe){const Fe=k5(Ct),Le=ge.slice(Se,Se+xe);for(const qe of Le)Fe.delete(Ms(Ct,ce,qe));await Fe.commit(),le+=Le.length}}await Qi(Ms(Ct,"schools",oe)),kt(`School deleted successfully! Removed ${M} users and ${le} data records.`,{type:"success"}),A(!1),x(null)}catch(oe){console.error("Error deleting school:",oe),kt(oe.message||"Failed to delete school",{type:"error"})}finally{N(!1)}},J=oe=>{x(oe),A(!0)};return n?i.jsx(sr,{title:"Schools",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):i.jsxs(sr,{title:"Schools",children:[i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Schools Management"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage all schools in the system"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Kh,{size:18,className:"mr-2"}),"Create School"]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Name"}),i.jsx("th",{className:"px-6 py-4",children:"Code"}),i.jsx("th",{className:"px-6 py-4",children:"Status"}),i.jsx("th",{className:"px-6 py-4",children:"Plan"}),i.jsx("th",{className:"px-6 py-4",children:"Created"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400",children:"No schools created yet."})}):e.map(oe=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center overflow-hidden",children:oe.logoUrl?i.jsx("img",{src:oe.logoUrl,alt:oe.name,className:"w-full h-full object-cover"}):i.jsx(Vp,{size:16,className:"text-slate-600"})}),oe.name]}),i.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:oe.code}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${oe.status==="active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:oe.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"px-6 py-4 capitalize",children:oe.plan}),i.jsx("td",{className:"px-6 py-4",children:$(oe.createdAt)}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>re(oe.id,oe.status),className:`p-1 rounded transition-colors ${oe.status==="active"?"text-[#1160A8] hover:bg-[#E6F0FA]":"text-emerald-600 hover:bg-emerald-50"}`,title:oe.status==="active"?"Deactivate":"Activate",children:oe.status==="active"?i.jsx(MM,{size:18}):i.jsx(PM,{size:18})}),i.jsx(ba,{to:`/super-admin/schools/${oe.id}`,className:"p-1 text-slate-600 hover:bg-slate-50 rounded transition-colors",title:"View Details",children:i.jsx(Zd,{size:18})}),i.jsx("button",{onClick:()=>J(oe),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete School",children:i.jsx(RA,{size:18})})]})})]},oe.id))})]})})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Create New School"}),i.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:20})})]}),i.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"School Name"}),i.jsx("input",{type:"text",required:!0,disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.name,onChange:oe=>u({...h,name:oe.target.value}),placeholder:"Enter school name"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.phone,onChange:oe=>u({...h,phone:oe.target.value}),placeholder:"School phone number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.address,onChange:oe=>u({...h,address:oe.target.value}),placeholder:"School address"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Logo Upload (Optional)"}),i.jsx("input",{type:"file",accept:"image/*",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg bg-white focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",onChange:de}),S&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(F*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:K,height:K},children:i.jsx("img",{ref:R,src:S,alt:"Logo preview",onLoad:oe=>{const xe=oe.currentTarget;D({width:xe.naturalWidth,height:xe.naturalHeight})},style:{width:Q.width?`${Math.max(K,K/Q.height*Q.width)*F}px`:"auto",height:Q.height?`${Math.max(K,K/Q.width*Q.height)*F}px`:"auto",transform:`translate(${O.x}px, ${O.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:F,onChange:oe=>L(parseFloat(oe.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-V,max:V,value:O.x,onChange:oe=>H(xe=>({...xe,x:parseFloat(oe.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-V,max:V,value:O.y,onChange:oe=>H(xe=>({...xe,y:parseFloat(oe.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan"}),i.jsxs("select",{disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.plan,onChange:oe=>u({...h,plan:oe.target.value}),children:[i.jsx("option",{value:"free",children:"Free (No Billing)"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",disabled:g,onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:g,className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(oA,{size:18,className:"mr-2"}),"Create School"]})})]})]}),g&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(Vp,{size:64,className:"text-[#0B4A82] animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-[#E6F0FA] rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-[#0B4A82] rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Creating Your School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Setting up everything perfectly..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-150"})]})]})})]})}),f&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete School"}),i.jsx("button",{onClick:()=>A(!1),disabled:I,className:"text-slate-400 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(Io,{size:20})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Are you sure you want to delete this school?"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. All associated data including students, teachers, admin accounts, and all school records will be permanently removed from the system."})]})]})}),i.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:i.jsx(Vp,{size:20,className:"text-slate-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:m.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Code: ",m.code]})]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>A(!1),disabled:I,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:W,disabled:I,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete School"})]}),I&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(RA,{size:64,className:"text-red-600 animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-red-400 rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-red-300 rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-red-500 rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Deleting School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Removing associated data safely..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-150"})]})]})})]})})]})},qY=()=>{const{schoolId:s}=aF(),e=gm(),[t,n]=Z.useState(null),[r,o]=Z.useState(null),[c,h]=Z.useState(!0),[u,f]=Z.useState(!1),[A,m]=Z.useState(!1),[x,g]=Z.useState(!1),[b,I]=Z.useState({fullName:"",email:"",password:""}),[N,S]=Z.useState(!1),[E,F]=Z.useState(null),[L,O]=Z.useState({students:"0",teachers:"0",lastActivity:"Coming soon"}),[H,Q]=Z.useState(!1),[D,R]=Z.useState(""),[K,P]=Z.useState(!1),[V,$]=Z.useState(""),[ae,de]=Z.useState(1),[re,W]=Z.useState({x:0,y:0}),[J,oe]=Z.useState({width:0,height:0}),xe=Z.useRef(null),ee=180,M=512,X=ee/2;Z.useEffect(()=>{if(!s)return;(async()=>{var he,et;try{const wt=await Pc(Ms(Ct,"schools",s));if(!wt.exists()){kt("School not found",{type:"error"}),e("/super-admin/schools");return}const at={id:wt.id,...wt.data()};n(at);const Ye=at.createdAt&&((et=(he=at.createdAt)==null?void 0:he.toDate)!=null&&et.call(he))?at.createdAt.toDate():null;o({name:at.name||"",code:at.code||"",phone:at.phone||"",address:at.address||"",logoUrl:at.logoUrl||"",status:at.status||"active",plan:at.plan||"trial",planEndsAt:at.planEndsAt?new Date(at.planEndsAt).toISOString().split("T")[0]:"",notes:at.notes||""});const Ut=Ys(Hs(Ct,"users"),is("role","==",pn.SCHOOL_ADMIN),is("schoolId","==",at.id)),Wt=(await qs(Ut)).docs[0];F(Wt?{id:Wt.id,...Wt.data()}:null);const[$t,ss]=await Promise.all([qs(Ys(Hs(Ct,"students"),is("schoolId","==",at.id))),qs(Ys(Hs(Ct,"users"),is("schoolId","==",at.id),is("role","==",pn.TEACHER)))]);O({students:$t.size.toString(),teachers:ss.size.toString(),lastActivity:Ye?Ye.toLocaleDateString():""})}catch(wt){console.error("Error fetching school:",wt),kt("Failed to load school details",{type:"error"})}finally{h(!1)}})()},[s,e]);const ie=Z.useMemo(()=>{var he,et;if(!(t!=null&&t.createdAt))return"";const Oe=(et=(he=t.createdAt)==null?void 0:he.toDate)!=null&&et.call(he)?t.createdAt.toDate():new Date(t.createdAt);return!Oe||Number.isNaN(Oe.getTime())?"":Oe.toLocaleDateString()},[t==null?void 0:t.createdAt]),le=(Oe,he)=>{r&&o({...r,[Oe]:he})},ce=Oe=>{var wt;const he=(wt=Oe.target.files)==null?void 0:wt[0];if(!he){$(""),oe({width:0,height:0});return}const et=new FileReader;et.onload=()=>{$(et.result),de(1),W({x:0,y:0})},et.readAsDataURL(he)},ye=()=>{if(!r)return!1;if(!r.name.trim())return kt("School name is required.",{type:"error"}),!1;if(r.phone&&r.phone.trim().length<7)return kt("Phone number is too short.",{type:"error"}),!1;if(r.planEndsAt){const Oe=new Date(r.planEndsAt),he=new Date;if(he.setHours(0,0,0,0),Oe<he)return kt("Plan end date cannot be in the past.",{type:"error"}),!1}return!0},Ne=async()=>{if(!s||!r||!ye())return;const Oe=()=>{if(!V||!xe.current)return"";const he=xe.current,et=J.width||he.naturalWidth||1,wt=J.height||he.naturalHeight||1,Ye=Math.max(ee/et,ee/wt)*ae*(M/ee),Ut=re.x*(M/ee),Lt=re.y*(M/ee),Wt=document.createElement("canvas");Wt.width=M,Wt.height=M;const $t=Wt.getContext("2d");if(!$t)return"";const ss=et*Ye,ns=wt*Ye,Je=M/2-ss/2+Ut,Ht=M/2-ns/2+Lt;return $t.drawImage(he,Je,Ht,ss,ns),Wt.toDataURL("image/png")};f(!0);try{const et=Oe()||r.logoUrl.trim();await Ri(Ms(Ct,"schools",s),{name:r.name.trim(),code:r.code.trim(),phone:r.phone.trim(),address:r.address.trim(),logoUrl:et,status:r.status,plan:r.plan,planEndsAt:r.planEndsAt?new Date(r.planEndsAt):null,notes:r.notes.trim()},{merge:!0}),kt("School updated successfully.",{type:"success"}),n(wt=>wt&&{...wt,...r,logoUrl:et,planEndsAt:r.planEndsAt?new Date(r.planEndsAt):null}),o(wt=>wt&&{...wt,logoUrl:et}),$(""),de(1),W({x:0,y:0}),oe({width:0,height:0})}catch(he){console.error("Failed to update school",he),kt(he.message||"Failed to update school.",{type:"error"})}finally{f(!1)}},ge=()=>{t&&o({name:t.name||"",code:t.code||"",phone:t.phone||"",address:t.address||"",logoUrl:t.logoUrl||"",status:t.status||"active",plan:t.plan||"trial",planEndsAt:t.planEndsAt?new Date(t.planEndsAt).toISOString().split("T")[0]:"",notes:t.notes||""})},Se=async Oe=>{if(Oe.preventDefault(),!!s&&!(!b.fullName.trim()||!b.email.trim())){S(!0);try{const he=await b7({schoolId:s,fullName:b.fullName.trim(),email:b.email.trim(),password:b.password.trim()||void 0});kt(b.password.trim()?`Admin created: ${he.email}`:`Admin created: ${he.email}. Reset link sent.`,{type:"success"}),I({fullName:"",email:"",password:""}),m(!1);const et=Ys(Hs(Ct,"users"),is("role","==",pn.SCHOOL_ADMIN),is("schoolId","==",s)),at=(await qs(et)).docs[0];F(at?{id:at.id,...at.data()}:null)}catch(he){console.error("Error creating admin:",he),kt(he.message||"Failed to create admin.",{type:"error"})}finally{S(!1)}}},Fe=async()=>{if(E)try{const Oe=await w7({adminUid:E.id});await navigator.clipboard.writeText(Oe.resetLink),kt("Reset link copied to clipboard.",{type:"success"})}catch(Oe){console.error("Failed to reset admin password",Oe),kt(Oe.message||"Failed to reset admin password.",{type:"error"})}},Le=async()=>{if(E)try{await Mp(Ms(Ct,"users",E.id),{status:"inactive"}),F({...E,status:"inactive"}),kt("Admin disabled successfully.",{type:"success"})}catch(Oe){console.error("Failed to disable admin",Oe),kt(Oe.message||"Failed to disable admin.",{type:"error"})}},qe=async()=>{if(!(!t||D.trim()!==t.name)){P(!0);try{await C7({schoolId:t.id}),kt("School deleted successfully.",{type:"success"}),Q(!1),e("/super-admin/schools")}catch(Oe){console.error("Failed to delete school",Oe),kt(Oe.message||"Failed to delete school.",{type:"error"})}finally{P(!1),R("")}}};return c?i.jsx(sr,{title:"School Details",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):!t||!r?i.jsx(sr,{title:"School Details",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-slate-500",children:"School not found"})})}):i.jsxs(sr,{title:"School Details",children:[i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("button",{onClick:()=>e("/super-admin/schools"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 text-sm",children:[i.jsx(RT,{size:16}),"Schools / ",t.name]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center overflow-hidden",children:t.logoUrl?i.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-full h-full object-cover"}):i.jsx(yk,{className:"text-slate-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Vh,{size:14})," Code: ",t.code||""]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ho,{size:14})," Created: ",ie]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:t.status==="active"?"Active":"Inactive"}),i.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-600",children:t.plan})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_1.4fr] gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Overview"}),i.jsxs("div",{className:"grid gap-3 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wM,{size:16}),i.jsx("span",{children:t.phone||"No phone"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lM,{size:16}),i.jsx("span",{children:t.address||"No address"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Vh,{size:16}),i.jsx("span",{children:t.notes||"No internal notes"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Administration"}),!E&&i.jsx("button",{onClick:()=>m(!0),className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Create Admin"})]}),E?i.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:E.fullName}),i.jsx("p",{className:"text-sm text-slate-500",children:E.email})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:E.status})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:Fe,className:"px-3 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",children:"Reset Admin Password"}),i.jsx("button",{onClick:Le,className:"px-3 py-2 rounded-lg border border-red-200 text-sm text-red-600 hover:bg-red-50",children:"Disable Admin"})]})]}):i.jsx("div",{className:"text-sm text-slate-500",children:"No admin assigned yet."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Total students",value:L.students},{label:"Total teachers",value:L.teachers},{label:"Last activity",value:L.lastActivity}].map(Oe=>i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-4",children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:Oe.label}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Oe.value})]},Oe.label))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Edit School Settings"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Name"}),i.jsx("input",{value:r.name,onChange:Oe=>le("name",Oe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Code"}),i.jsx("input",{value:r.code,onChange:Oe=>le("code",Oe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),i.jsx("input",{value:r.phone,onChange:Oe=>le("phone",Oe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Status"}),i.jsxs("select",{value:r.status,onChange:Oe=>le("status",Oe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Address"}),i.jsx("input",{value:r.address,onChange:Oe=>le("address",Oe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Logo Upload"}),i.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white"}),r.logoUrl&&!V&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Current logo is saved. Upload a new file to replace it."}),V&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(ae*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:ee,height:ee},children:i.jsx("img",{ref:xe,src:V,alt:"Logo preview",onLoad:Oe=>{const he=Oe.currentTarget;oe({width:he.naturalWidth,height:he.naturalHeight})},style:{width:J.width?`${Math.max(ee,ee/J.height*J.width)*ae}px`:"auto",height:J.height?`${Math.max(ee,ee/J.width*J.height)*ae}px`:"auto",transform:`translate(${re.x}px, ${re.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:ae,onChange:Oe=>de(parseFloat(Oe.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-X,max:X,value:re.x,onChange:Oe=>W(he=>({...he,x:parseFloat(Oe.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-X,max:X,value:re.y,onChange:Oe=>W(he=>({...he,y:parseFloat(Oe.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan"}),i.jsxs("select",{value:r.plan,onChange:Oe=>le("plan",Oe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"free",children:"Free (No Billing)"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan Ends At"}),i.jsx("input",{type:"date",value:r.planEndsAt,onChange:Oe=>le("planEndsAt",Oe.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Internal Notes"}),i.jsx("textarea",{value:r.notes,onChange:Oe=>le("notes",Oe.target.value),rows:4,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[i.jsx("button",{onClick:ge,className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsxs("button",{onClick:Ne,disabled:u,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white flex items-center gap-2 disabled:opacity-60",children:[i.jsx(oA,{size:16})," ",u?"Saving...":"Save Changes"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-red-100 shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[i.jsx($5,{size:18}),i.jsx("h2",{className:"text-lg font-semibold",children:"Danger Zone"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>le("status",r.status==="active"?"inactive":"active"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:r.status==="active"?"Deactivate School":"Activate School"}),i.jsx(RA,{size:16})]}),i.jsxs("button",{onClick:()=>Q(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:"Delete School"}),i.jsx(RA,{size:16})]})]})]})]})]})]}),A&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create School Admin"}),i.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(Io,{size:18})})]}),i.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Full Name"}),i.jsx("input",{value:b.fullName,onChange:Oe=>I({...b,fullName:Oe.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email"}),i.jsx("input",{type:"email",value:b.email,onChange:Oe=>I({...b,email:Oe.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Password (optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:x?"text":"password",value:b.password,onChange:Oe=>I({...b,password:Oe.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 pr-10"}),i.jsx("button",{type:"button",onClick:()=>g(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:x?i.jsx(OT,{size:16}):i.jsx(Zd,{size:16})})]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Leave blank to send a reset link."})]}),i.jsxs("button",{type:"submit",disabled:N,className:"w-full py-2 rounded-xl bg-emerald-600 text-white flex items-center justify-center gap-2 disabled:opacity-60",children:[i.jsx(l2,{size:16}),N?"Creating...":"Create Admin"]})]})]})}),H&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx($5,{size:18}),i.jsx("h3",{className:"text-lg font-semibold",children:"Delete School"})]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Type ",i.jsx("span",{className:"font-semibold",children:t.name})," to confirm deletion."]}),i.jsx("input",{value:D,onChange:Oe=>R(Oe.target.value),className:"w-full border border-slate-200 rounded-xl px-3 py-2"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>Q(!1),className:"flex-1 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:qe,disabled:D.trim()!==t.name||K,className:"flex-1 py-2 rounded-xl bg-red-600 text-white disabled:opacity-60",children:K?"Deleting...":"Delete"})]})]})})]})},wd=({children:s,className:e=""})=>i.jsx("div",{className:`bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow p-6 ${e}`,children:s}),ax=({label:s,value:e,hint:t,icon:n,trend:r=0})=>i.jsxs(wd,{className:"group hover:-translate-y-0.5 hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:s}),i.jsx("div",{className:"text-3xl md:text-4xl font-bold text-slate-900 mt-2",children:e})]}),i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white ${r>=0?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-amber-400 to-amber-600"}`,children:n})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[t&&i.jsx("div",{className:"text-xs text-slate-500",children:t}),r!==void 0&&i.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${r>=0?"text-emerald-600":"text-[#0B4A82]"}`,children:[r>=0?i.jsx(LT,{size:14}):i.jsx(lk,{size:14}),Math.abs(r),"%"]})]}),i.jsx("div",{className:"mt-3 h-1 bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100 rounded-full opacity-50"})]}),ix=({icon:s,title:e,count:t,description:n,accentColor:r})=>i.jsx(wd,{className:`border-l-4 ${r} group hover:shadow-lg transition-all`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white ${r.replace("border","bg")}`,children:s}),i.jsx("h3",{className:"font-semibold text-slate-800",children:e})]}),i.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:t}),i.jsx("p",{className:"text-sm text-slate-600",children:n})]}),i.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-50 transition",children:i.jsx(QT,{size:18,className:"text-slate-400"})})]})}),kf=({className:s="h-6 bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 rounded animate-pulse"})=>i.jsx("div",{className:s}),PN=({icon:s,title:e,description:t,action:n})=>i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"flex justify-center mb-4",children:s}),i.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:e}),i.jsx("p",{className:"text-sm text-slate-600 mb-6",children:t}),n&&i.jsx("button",{onClick:n.onClick,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-sm font-medium",children:n.label})]}),g_=()=>{const{user:s}=Fo(),[e,t]=Z.useState([]),[n,r]=Z.useState([]),[o,c]=Z.useState([]),[h,u]=Z.useState(!1),[f,A]=Z.useState(""),[m,x]=Z.useState(""),[g,b]=Z.useState(""),[I,N]=Z.useState("inactive"),[S,E]=Z.useState(null),[F,L]=Z.useState({summary:{},perSchool:{}}),O=Z.useCallback(async()=>{u(!0);try{const W=Hs(Ct,"schools"),oe=(await qs(W)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));t(oe);const xe=Hs(Ct,"activity_logs"),ee=Ys(xe,fb("createdAt","desc"),Xx(20)),X=(await qs(ee)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));r(X);const ie=Hs(Ct,"payments"),le=Ys(ie,fb("createdAt","desc"),Xx(200)),ye=(await qs(le)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));c(ye),E(new Date)}catch(W){console.error(W)}finally{u(!1)}},[]);Z.useEffect(()=>{if(!e.length)return;(async()=>{try{const J=new Date,xe=(at=>{const Ye=at.getFullYear(),Ut=String(at.getMonth()+1).padStart(2,"0"),Lt=String(at.getDate()).padStart(2,"0");return`${Ye}-${Ut}-${Lt}`})(J),ee=new Date(J);ee.setHours(0,0,0,0);const M=new Date(J);M.setHours(23,59,59,999);const X=ee.getTime(),ie=M.getTime(),le=e.length,ce={attendance:{completed:0,total:le},teacherAttendance:{completed:0,total:le},assessments:{completed:0,total:le},timetable:{completed:0,total:le},notices:{completed:0,total:le}},ye={},[Ne,ge,Se,Fe,Le]=await Promise.all([qs(Ys(Hs(Ct,"attendance"),is("date","==",xe))),qs(Ys(Hs(Ct,"teacher_attendance"),is("date","==",xe))),qs(Ys(Hs(Ct,"assessments"),is("createdAt",">=",X),is("createdAt","<=",ie))),qs(Hs(Ct,"timetables")),qs(Ys(Hs(Ct,"notices"),is("createdAt",">=",X),is("createdAt","<=",ie)))]),qe=new Set(Ne.docs.map(at=>at.data().schoolId).filter(Boolean)),Oe=new Set(ge.docs.map(at=>at.data().schoolId).filter(Boolean)),he=new Set(Se.docs.map(at=>at.data().schoolId).filter(Boolean)),et=new Set(Fe.docs.map(at=>at.data().schoolId).filter(Boolean)),wt=new Set(Le.docs.map(at=>at.data().schoolId).filter(Boolean));e.forEach(at=>{const Ye=at.id;if(!Ye)return;const Ut={attendance:qe.has(Ye),teacherAttendance:Oe.has(Ye),assessments:he.has(Ye),timetable:et.has(Ye),notices:wt.has(Ye)};ye[Ye]=Ut,Ut.attendance&&(ce.attendance.completed+=1),Ut.teacherAttendance&&(ce.teacherAttendance.completed+=1),Ut.assessments&&(ce.assessments.completed+=1),Ut.timetable&&(ce.timetable.completed+=1),Ut.notices&&(ce.notices.completed+=1)}),L({summary:ce,perSchool:ye})}catch(J){console.error("Failed to load daily checklist",J)}})()},[e]),Z.useEffect(()=>{O()},[O]);const H=Z.useMemo(()=>{const W=e.length,J=e.filter(le=>le.status==="active").length,oe=e.filter(le=>le.status==="inactive").length,xe=e.filter(le=>le.plan==="trial").length,ee=e.filter(le=>le.plan==="free").length,M=e.filter(le=>le.plan&&le.plan!=="trial"&&le.plan!=="free").length,X=e.filter(le=>le.createdAt?(le.createdAt instanceof tr?le.createdAt.toDate():new Date(le.createdAt))>=new Date(Date.now()-720*60*60*1e3):!1).length,ie=new Set(n.filter(le=>le.createdAt?(le.createdAt instanceof tr?le.createdAt.toDate():new Date(le.createdAt))>=new Date(Date.now()-10080*60*1e3):!1).map(le=>le.schoolId)).size;return{total:W,active:J,inactive:oe,trial:xe,free:ee,paid:M,newSchools:X,activeLast7:ie}},[e,n]),Q=W=>{const J=String(W||"pending").toLowerCase();return["success","paid","active"].includes(J)?"success":["failed","failure","past_due"].includes(J)||["abandoned","cancelled","canceled"].includes(J)?"failed":"pending"},D=(W,J="GHS")=>new Intl.NumberFormat("en-GH",{style:"currency",currency:J,maximumFractionDigits:2}).format(W),R=Z.useMemo(()=>{const W=new Date,J=[];for(let ge=0;ge<12;ge+=1){const Se=new Date(W.getFullYear(),ge,1),Fe=`${Se.getFullYear()}-${String(Se.getMonth()+1).padStart(2,"0")}`,Le=Se.toLocaleString("en-US",{month:"short"});J.push({key:Fe,label:Le})}const oe=Object.fromEntries(J.map(ge=>[ge.key,0])),xe=Object.fromEntries(J.map(ge=>[ge.key,0])),ee=new Date(Date.now()-720*60*60*1e3);let M=0,X=0,ie=0,le=0,ce=0;o.forEach(ge=>{const Se=Q(ge.status),Fe=ge.amount??0,Le=Fe>=100?Fe/100:Fe,qe=ge.createdAt instanceof tr?ge.createdAt.toDate():new Date(ge.createdAt||0);if(Se==="success"){M+=Le,X+=1,qe>=ee&&(ce+=Le);const Oe=`${qe.getFullYear()}-${String(qe.getMonth()+1).padStart(2,"0")}`;oe[Oe]!==void 0&&(oe[Oe]+=Le),xe[Oe]!==void 0&&(xe[Oe]+=Le)}Se==="pending"&&(ie+=1),Se==="failed"&&(le+=1)});const ye=X+ie+le,Ne=ye?Math.round(X/ye*100):0;return{paidAmount:M,paidCount:X,pendingCount:ie,failedCount:le,last30Amount:ce,successRate:Ne,monthlySeries:J.map(ge=>({label:ge.label,value:oe[ge.key]||0})),monthlyFeesSeries:J.map(ge=>({label:ge.label,value:xe[ge.key]||0}))}},[o]),K=Z.useMemo(()=>{const W={free:0,trial:0,monthly:0,termly:0,yearly:0};return e.forEach(J=>{const oe=J.plan||"trial";W[oe]=(W[oe]||0)+1}),W},[e]),P=e.filter(W=>!(f&&!W.name.toLowerCase().includes(f.toLowerCase())||m&&W.status!==m||g&&W.plan!==g)),V=e.filter(W=>W.status!=="active"),$=e.filter(W=>W.plan==="trial"&&W.planEndsAt).sort((W,J)=>{const oe=W.planEndsAt instanceof tr?W.planEndsAt.toDate().getTime():new Date(W.planEndsAt).getTime(),xe=J.planEndsAt instanceof tr?J.planEndsAt.toDate().getTime():new Date(J.planEndsAt).getTime();return oe-xe}),ae=e.filter(W=>W.plan!=="free"&&W.planEndsAt).map(W=>{const J=W.planEndsAt,oe=J instanceof tr?J.toDate():new Date(J),xe=new Date(oe.getTime()+10080*60*1e3);return{...W,planEndsAt:oe,graceEndsAt:xe}}).filter(W=>!Number.isNaN(W.graceEndsAt.getTime())).filter(W=>new Date>=W.graceEndsAt).sort((W,J)=>W.graceEndsAt.getTime()-J.graceEndsAt.getTime()),de=(()=>{const W=new Date(Date.now()-12096e5),J={};return n.forEach(oe=>{if(!oe.schoolId)return;const xe=oe.createdAt instanceof tr?oe.createdAt.toDate():new Date(oe.createdAt);(!J[oe.schoolId]||J[oe.schoolId]<xe)&&(J[oe.schoolId]=xe)}),e.filter(oe=>{const xe=J[oe.id];return!xe||xe<W})})(),re=[{label:"Active",count:H.active,color:"bg-emerald-100 text-emerald-700"},{label:"Free",count:H.free,color:"bg-emerald-50 text-emerald-700"},{label:"Trial",count:H.trial,color:"bg-amber-100 text-amber-700"},{label:"Paid",count:H.paid,color:"bg-[#E6F0FA] text-[#0B4A82]"}];return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 rounded-3xl border border-slate-100 shadow-sm p-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),i.jsx("span",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-widest",children:"System Status"})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Super Admin Dashboard"}),i.jsxs("p",{className:"text-slate-600",children:["Manage ",H.total," schools across ",H.active," active organizations"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>O(),"aria-label":"Refresh dashboard",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(dg,{size:16,className:"group-hover:rotate-180 transition-transform"}),"Refresh"]}),i.jsxs(ba,{to:"/super-admin/schools",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(Vp,{size:16}),"View Schools"]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-slate-100",children:[re.map(W=>i.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${W.color}`,children:[W.label,": ",i.jsx("span",{className:"font-bold",children:W.count})]},W.label)),i.jsx("div",{className:"text-xs text-slate-500 flex items-center ml-auto",children:S?`Last updated ${S.toLocaleTimeString()}`:"Not updated yet"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:h?Array.from({length:4}).map((W,J)=>i.jsx("div",{children:i.jsx(kf,{className:"h-32"})},J)):i.jsxs(i.Fragment,{children:[i.jsx(ax,{label:"Total Schools",value:H.total,hint:"All time",icon:i.jsx(pl,{size:20}),trend:5}),i.jsx(ax,{label:"Active Schools",value:H.active,hint:"Currently active",icon:i.jsx(DA,{size:20}),trend:3}),i.jsx(ax,{label:"Inactive Schools",value:H.inactive,hint:"Needs attention",icon:i.jsx(Mi,{size:20}),trend:-1}),i.jsx(ax,{label:"New Schools",value:H.newSchools,hint:"Last 30 days",icon:i.jsx(Id,{size:20}),trend:8})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(wd,{className:"lg:col-span-2",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing Analytics"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Payment performance over the last 6 months"})]}),i.jsxs(ba,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 text-sm font-semibold text-[#0B4A82]",children:["View payments ",i.jsx(QT,{size:16})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-emerald-600",children:"Total Revenue"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-emerald-500/90 text-white flex items-center justify-center",children:i.jsx(fk,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:D(R.paidAmount)}),i.jsxs("p",{className:"text-xs text-emerald-700 mt-2",children:[R.paidCount," successful payments"]})]}),i.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-amber-600",children:"Pending"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-amber-500/90 text-white flex items-center justify-center",children:i.jsx(Cu,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:R.pendingCount}),i.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"Awaiting confirmation"})]}),i.jsxs("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-rose-600",children:"Failed"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-rose-500/90 text-white flex items-center justify-center",children:i.jsx(Mi,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:R.failedCount}),i.jsx("p",{className:"text-xs text-rose-700 mt-2",children:"Needs follow-up"})]})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Earnings"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Successful payments per month"})]}),i.jsx("div",{className:"text-xs text-slate-400",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-slate-500",children:[i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-[#3B82F6]"}),"Total Collections"]}),i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),"Fees Collection"]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-10",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Total Collections"}),i.jsx("p",{className:"text-lg font-bold text-slate-900",children:D(R.paidAmount)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400",children:"Fees Collection"}),i.jsx("p",{className:"text-lg font-bold text-slate-900",children:D(R.last30Amount)})]})]}),i.jsx("div",{className:"mt-4",children:(()=>{const le=Se=>Se>=300?130-(Se-300)/3300*102:130+Math.min(1,(300-Se)/300)*22,ce=R.monthlySeries.map((Se,Fe)=>{const Le=28+Fe*584/(R.monthlySeries.length-1||1),qe=le(Se.value);return{x:Le,y:qe}}),ye=R.monthlyFeesSeries.map((Se,Fe)=>{const Le=28+Fe*584/(R.monthlyFeesSeries.length-1||1),qe=le(Se.value);return{x:Le,y:qe}}),Ne=Se=>{if(Se.length===0)return"";const[Fe,...Le]=Se;return Le.reduce((qe,Oe,he)=>{const et=Se[he],wt=(et.x+Oe.x)/2;return`${qe} Q ${wt} ${et.y} ${Oe.x} ${Oe.y}`},`M ${Fe.x} ${Fe.y}`)},ge=Se=>{const Fe=Ne(Se);if(!Fe)return"";const Le=Se[Se.length-1],qe=Se[0];return`${Fe} L ${Le.x} 152 L ${qe.x} 152 Z`};return i.jsx("div",{className:"w-full rounded-2xl bg-gradient-to-br from-slate-50 via-white to-slate-50 border border-slate-100 p-3 shadow-[0_10px_30px_-24px_rgba(15,23,42,0.5)]",children:i.jsxs("svg",{viewBox:"0 0 640 180",className:"w-full h-44",role:"img","aria-label":"Monthly earnings chart",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"earningsBlue",x1:"0",x2:"0",y1:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"0.65"}),i.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.05"})]}),i.jsxs("linearGradient",{id:"earningsRed",x1:"0",x2:"0",y1:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#F43F5E",stopOpacity:"0.7"}),i.jsx("stop",{offset:"100%",stopColor:"#F43F5E",stopOpacity:"0.1"})]})]}),i.jsx("rect",{x:28,y:28,width:584,height:102,rx:12,fill:"#FFFFFF",opacity:"0.6"}),i.jsx("rect",{x:28,y:130,width:584,height:22,rx:10,fill:"#F1F5F9"}),[0,25,50,75,100].map(Se=>{const Fe=130-Se/100*102,Le=Math.round(300+Se/100*3300);return i.jsxs("g",{children:[i.jsx("line",{x1:28,x2:612,y1:Fe,y2:Fe,stroke:"#E2E8F0",strokeDasharray:"4 4"}),i.jsxs("text",{x:6,y:Fe+4,fontSize:"10",fill:"#94A3B8",children:["GHS ",Le.toLocaleString("en-GH")]})]},Se)}),i.jsx("line",{x1:28,x2:612,y1:130,y2:130,stroke:"#CBD5F5",strokeWidth:"1.5"}),i.jsx("path",{d:ge(ce),fill:"url(#earningsBlue)"}),i.jsx("path",{d:Ne(ce),fill:"none",stroke:"#3B82F6",strokeWidth:"2"}),i.jsx("path",{d:ge(ye),fill:"url(#earningsRed)"}),i.jsx("path",{d:Ne(ye),fill:"none",stroke:"#F43F5E",strokeWidth:"2"}),R.monthlySeries.map((Se,Fe)=>{const Le=28+Fe*584/(R.monthlySeries.length-1||1);return i.jsx("text",{x:Le,y:174,textAnchor:"middle",fontSize:"10",fill:"#94A3B8",children:Se.label},Se.label)})]})})})()})]})]}),i.jsxs(wd,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Billing Health"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Current payment status mix"})]}),i.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(hg,{size:18})})]}),i.jsx("div",{className:"space-y-4",children:[{label:"Successful",value:R.paidCount,color:"bg-emerald-500"},{label:"Pending",value:R.pendingCount,color:"bg-amber-500"},{label:"Failed",value:R.failedCount,color:"bg-rose-500"}].map(W=>{const J=R.paidCount+R.pendingCount+R.failedCount,oe=J?Math.round(W.value/J*100):0;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium text-slate-700",children:W.label}),i.jsxs("span",{className:"text-slate-500",children:[oe,"%"]})]}),i.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:i.jsx("div",{className:`h-full ${W.color} rounded-full`,style:{width:`${oe}%`}})})]},W.label)})}),i.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-100 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Success rate"}),i.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[R.successRate,"%"]})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(Id,{size:18})})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Track billed revenue and follow up on pending payments."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[i.jsx(ix,{icon:i.jsx(Mi,{size:18}),title:"Inactive Schools",count:V.length,description:"Schools requiring attention",accentColor:"border-[#1160A8] bg-[#E6F0FA]"}),i.jsx(ix,{icon:i.jsx(t7,{size:18}),title:"Trials Ending",count:$.length,description:"Trial periods expiring soon",accentColor:"border-amber-400 bg-amber-80"}),i.jsx(ix,{icon:i.jsx(Cu,{size:18}),title:"Expired Subscriptions",count:ae.length,description:"Grace period ended  renewal required",accentColor:"border-rose-400 bg-rose-50"}),i.jsx(ix,{icon:i.jsx(Cu,{size:18}),title:"No Recent Activity",count:de.length,description:"Last 14 days with no activity",accentColor:"border-slate-400 bg-slate-50"})]}),ae.length>0&&i.jsxs(wd,{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Renewal required"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mt-1",children:"Subscriptions past grace period"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"These schools have exceeded the one-week grace period and need renewal to restore access."})]}),i.jsxs(ba,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-100",children:[i.jsx(hg,{size:16}),"Review payments"]})]}),i.jsx("div",{className:"mt-6 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-xs uppercase tracking-wider text-slate-400",children:[i.jsx("th",{className:"py-2 pr-4",children:"School"}),i.jsx("th",{className:"py-2 pr-4",children:"Plan"}),i.jsx("th",{className:"py-2 pr-4",children:"Grace ended"}),i.jsx("th",{className:"py-2",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:ae.slice(0,6).map(W=>i.jsxs("tr",{className:"text-slate-600",children:[i.jsxs("td",{className:"py-3 pr-4",children:[i.jsx(ba,{to:`/super-admin/schools/${W.id}`,className:"font-semibold text-slate-800 hover:text-[#0B4A82]",children:W.name}),i.jsx("div",{className:"text-xs text-slate-400",children:W.code})]}),i.jsx("td",{className:"py-3 pr-4 capitalize",children:W.plan}),i.jsx("td",{className:"py-3 pr-4",children:W.graceEndsAt.toLocaleDateString()}),i.jsx("td",{className:"py-3",children:i.jsx("span",{className:"inline-flex items-center rounded-full bg-rose-50 px-2 py-1 text-xs font-semibold text-rose-600",children:"Renewal overdue"})})]},W.id))})]})})]}),i.jsxs(wd,{className:"mb-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Plan Distribution"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Plan split across ",H.total," schools"]})]}),e.length===0?i.jsx(PN,{icon:i.jsx(Tk,{className:"mx-auto text-slate-300",size:48}),title:"No Plan Data",description:"Create your first school to see plan distribution",action:{label:"Create School",onClick:()=>{}}}):i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[i.jsx("div",{className:"w-full lg:w-1/3 flex justify-center",children:i.jsx("div",{className:"w-40 h-40",children:i.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",style:{transform:"rotate(-90deg)"},children:[i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f1f5f9",strokeWidth:"8"}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f97316",strokeWidth:"8",strokeDasharray:`${K.trial/Math.max(1,e.length)*100} 100`}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeDasharray:`${K.monthly/Math.max(1,e.length)*100} 100`,style:{strokeDashoffset:`${-(K.trial/Math.max(1,e.length)*100)}`}})]})})}),i.jsx("div",{className:"w-full lg:w-2/3",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Free",value:K.free,color:"bg-emerald-50 border-l-4 border-emerald-500"},{label:"Trial",value:K.trial,color:"bg-orange-100 border-l-4 border-orange-500"},{label:"Monthly",value:K.monthly,color:"bg-[#E6F0FA] border-l-4 border-[#1160A8]"},{label:"Termly",value:K.termly,color:"bg-green-100 border-l-4 border-green-500"},{label:"Yearly",value:K.yearly,color:"bg-purple-100 border-l-4 border-purple-500"}].map(W=>i.jsxs("div",{className:`${W.color} rounded-lg p-4`,children:[i.jsx("div",{className:"text-2xl font-bold text-slate-900",children:W.value}),i.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[W.label," Plan"]})]},W.label))})})]})]}),i.jsxs(wd,{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Schools Directory"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[P.length," of ",e.length," schools"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[i.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[i.jsx(gb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{value:f,onChange:W=>A(W.target.value),placeholder:"Search schools...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-[#1160A8] transition-all","aria-label":"Search schools"})]}),i.jsxs("select",{value:m,onChange:W=>x(W.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]}),i.jsxs("select",{value:g,onChange:W=>b(W.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Plans"}),i.jsx("option",{value:"free",children:"Free"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"School"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Plan"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-slate-700",children:"Action"})]})}),i.jsx("tbody",{children:h?Array.from({length:5}).map((W,J)=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-32"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-16"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-20"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-24"})}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsx(kf,{className:"h-8 w-16 ml-auto"})})]},J)):P.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"py-12 px-4",children:i.jsx(PN,{icon:i.jsx(gb,{className:"text-slate-300 mx-auto",size:40}),title:"No schools found",description:"Try adjusting your filters or search criteria"})})}):P.map((W,J)=>i.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${J%2===0?"bg-white":"bg-slate-50/30"}`,children:[i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 overflow-hidden font-semibold flex-shrink-0",children:W.logoUrl?i.jsx("img",{src:W.logoUrl,alt:W.name,className:"w-full h-full object-cover"}):W.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-slate-900",children:W.name}),i.jsx("div",{className:"text-xs text-slate-500",children:W.code||""})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${W.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:W.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700 capitalize",children:W.plan})}),i.jsx("td",{className:"py-4 px-4 text-slate-600",children:W.createdAt?W.createdAt instanceof tr?W.createdAt.toDate().toLocaleDateString():new Date(W.createdAt).toLocaleDateString():""}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsxs(ba,{to:`/super-admin/schools/${W.id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-[#0B4A82] text-white hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Zd,{size:14})," View"]})})]},W.id))})]})}),P.length>0&&i.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-100",children:[i.jsxs("div",{className:"text-xs text-slate-600",children:["Showing 1 to ",Math.min(10,P.length)," of"," ",P.length]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:" Previous"}),i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Next "})]})]})]}),i.jsxs(wd,{className:"bg-gradient-to-br from-white via-slate-50 to-white border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(ik,{size:20})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Daily Operations Checklist"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Track routine school actions completed each day"})]})]})}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[i.jsx("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:"Live today"}),i.jsxs("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:[e.length," schools"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"attendance",title:"Attendance submitted",description:"Daily student attendance recorded by classes.",gradient:"from-emerald-500/15 to-emerald-500/5",accent:"text-emerald-600",bar:"bg-emerald-500"},{key:"teacherAttendance",title:"Teacher attendance completed",description:"Staff attendance confirmed for the day.",gradient:"from-blue-500/15 to-blue-500/5",accent:"text-blue-600",bar:"bg-blue-500"},{key:"timetable",title:"Lesson plans logged",description:"Timetable updated today to reflect lessons.",gradient:"from-violet-500/15 to-violet-500/5",accent:"text-violet-600",bar:"bg-violet-500"},{key:"assessments",title:"Assessments graded",description:"Class assessments scored and saved.",gradient:"from-amber-500/15 to-amber-500/5",accent:"text-amber-600",bar:"bg-amber-500"},{key:"notices",title:"Notices posted",description:"Daily notices shared to staff and students.",gradient:"from-slate-500/15 to-slate-500/5",accent:"text-slate-600",bar:"bg-slate-500"}].map(W=>{const J=F.summary[W.key],oe=J?Math.round(J.completed/Math.max(1,J.total)*100):0,xe=(J==null?void 0:J.completed)??0,ee=(J==null?void 0:J.total)??0;return i.jsxs("div",{className:`rounded-2xl border border-slate-100 bg-gradient-to-br ${W.gradient} p-4 shadow-sm hover:shadow-md transition-shadow`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`mt-1 ${W.accent}`,children:i.jsx(DA,{size:18})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:W.title}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:W.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-lg font-bold ${W.accent}`,children:[oe,"%"]}),i.jsxs("div",{className:"text-[10px] text-slate-500",children:[xe,"/",ee," schools"]})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx("div",{className:"h-2 w-full rounded-full bg-white/70 border border-white/60 overflow-hidden",children:i.jsx("div",{className:`h-full ${W.bar} transition-all`,style:{width:`${oe}%`}})})})]},W.title)})}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"School Activity Status"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Live today per school"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(W=>{const J=F.perSchool[W.id]||{attendance:!1,teacherAttendance:!1,assessments:!1,timetable:!1,notices:!1},oe=[{label:"Attendance",value:J.attendance},{label:"Teacher Attendance",value:J.teacherAttendance},{label:"Assessments",value:J.assessments},{label:"Timetable",value:J.timetable},{label:"Notices",value:J.notices}],xe=oe.filter(ee=>ee.value).length;return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:W.name}),i.jsx("p",{className:"text-xs text-slate-400",children:W.code})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Completion"}),i.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[xe,"/",oe.length]})]})]}),i.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:oe.map(ee=>i.jsxs("div",{className:`flex items-center justify-between rounded-lg border px-2 py-1.5 ${ee.value?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-500"}`,children:[i.jsx("span",{children:ee.label}),i.jsx("span",{className:"font-semibold",children:ee.value?"Done":"Pending"})]},ee.label))})]},W.id)})})]})]})]})})},ZY=()=>{var J,oe,xe,ee;const[s,e]=Z.useState([]),[t,n]=Z.useState([]),[r,o]=Z.useState(!0),[c,h]=Z.useState(null),[u,f]=Z.useState(""),[A,m]=Z.useState(""),[x,g]=Z.useState(""),[b,I]=Z.useState(""),[N,S]=Z.useState(null),[E,F]=Z.useState(!1),[L,O]=Z.useState(null),[H,Q]=Z.useState(!1),D=Z.useMemo(()=>s.reduce((M,X)=>(M[X.id]=X,M),{}),[s]),R=Z.useMemo(()=>{var ge;if(!((ge=N==null?void 0:N.data)!=null&&ge.students))return[];const M=N.data.students||[],X=N.data.attendanceRecords||[],ie=N.data.assessments||[],le=N.data.studentRemarks||[],ce=X.reduce((Se,Fe)=>(Se[Fe.classId]||(Se[Fe.classId]=[]),Se[Fe.classId].push(Fe),Se),{}),ye=ie.reduce((Se,Fe)=>{const Le=typeof Fe.total=="number"?Fe.total:_A(Fe);return Se[Fe.studentId]||(Se[Fe.studentId]={total:0,count:0}),Se[Fe.studentId].total+=Le,Se[Fe.studentId].count+=1,Se},{}),Ne=le.reduce((Se,Fe)=>{const Le=Se[Fe.studentId];if(!Le)return Se[Fe.studentId]=Fe,Se;const qe=new Date(Le.dateCreated).getTime();return new Date(Fe.dateCreated).getTime()>=qe&&(Se[Fe.studentId]=Fe),Se},{});return M.map(Se=>{var at;const Fe=ce[Se.classId]||[],Le=Fe.filter(Ye=>{var Ut;return(Ut=Ye.presentStudentIds)==null?void 0:Ut.includes(Se.id)}).length,qe=Fe.length,Oe=qe?`${Math.round(Le/qe*100)}%`:"-",he=ye[Se.id],et=he!=null&&he.count?(he.total/he.count).toFixed(1):"-",wt=((at=Ne[Se.id])==null?void 0:at.remark)||"N/A";return{student:Se,presentDays:Le,totalDays:qe,attendanceRate:Oe,avgScore:et,remark:wt}})},[N]),K=M=>{if(!M)return"CLASS";const X=Ts.find(ie=>ie.id===M);return X&&X.level?X.level:M.startsWith("c_n")?"NURSERY":M.startsWith("c_kg")?"KG":M.startsWith("c_p")?"PRIMARY":M.startsWith("c_jhs")?"JHS":"CLASS"},P=u&&D[u]?D[u].name:"All Schools",V=async()=>{const X=(await qs(Hs(Ct,"schools"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(X)},$=async()=>{o(!0),h(null);try{const M=[];if(u&&M.push(is("schoolId","==",u)),A&&M.push(is("term","==",A)),x&&M.push(is("academicYear","==",x)),b){const ye=new Date(b).getTime(),Ne=ye+1440*60*1e3-1;M.push(is("timestamp",">=",ye)),M.push(is("timestamp","<=",Ne))}const X=Hs(Ct,"backups"),ie=M.length>0?Ys(X,...M):X,ce=(await qs(ie)).docs.map(ye=>ye.data());ce.sort((ye,Ne)=>(Ne.timestamp||0)-(ye.timestamp||0)),n(ce)}catch(M){console.error("Error fetching backups:",M),h("Failed to fetch backups."),kt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},ae=async M=>{try{const X=await Pc(Ms(Ct,"backups",M));if(!X.exists()){kt("Backup details not found.",{type:"error"});return}S(X.data()),F(!0)}catch(X){console.error("Error fetching backup details:",X),kt("Failed to fetch backup details.",{type:"error"})}},de=async M=>{try{const X=await Pc(Ms(Ct,"backups",M));if(!X.exists()){kt("No data available to download.",{type:"error"});return}const ie=X.data();if(!ie.data){kt("No data available to download.",{type:"error"});return}const le=`backup_${ie.academicYear.replace("-","")}_${ie.term.replace(" ","")}_${ie.timestamp}.json`,ce=JSON.stringify(ie.data,null,2),ye=new Blob([ce],{type:"application/json"}),Ne=URL.createObjectURL(ye),ge=document.createElement("a");ge.href=Ne,ge.download=le,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(Ne),kt("Backup downloaded successfully!",{type:"success"})}catch(X){console.error("Error downloading backup:",X),kt("Failed to download backup.",{type:"error"})}},re=async()=>{if(L)try{await Qi(Ms(Ct,"backups",L)),kt("Backup deleted successfully!",{type:"success"}),Q(!1),O(null),await $()}catch(M){console.error("Error deleting backup:",M),kt("Failed to delete backup.",{type:"error"})}};Z.useEffect(()=>{V()},[]),Z.useEffect(()=>{$()},[u,A,x,b]);const W=M=>M?M.length:"-";return i.jsxs(sr,{title:"Backups Overview",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(i2,{size:20})}),"Global Backups"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"View, audit, and manage term backups across all schools."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Vp,{className:"h-4 w-4 text-indigo-500"}),P]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(Vh,{className:"h-4 w-4"}),"Backups: ",t.length]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-700 font-semibold",children:[i.jsx(PT,{size:16})," Filters"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School"}),i.jsxs("select",{value:u,onChange:M=>f(M.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Schools"}),s.map(M=>i.jsx("option",{value:M.id,children:M.name},M.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{value:A,onChange:M=>m(M.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:x,onChange:M=>g(M.target.value),placeholder:"e.g. 2024-2025",className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ho,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),i.jsx("input",{type:"date",value:b,onChange:M=>I(M.target.value),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[i.jsxs("button",{onClick:$,className:"inline-flex items-center gap-2 rounded-full bg-[#0B4A82] text-white px-4 py-2 text-sm font-semibold hover:bg-[#0B4A82]",children:[i.jsx(kT,{size:16})," Refresh"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),I("")},className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50",children:"Clear Filters"})]})]}),r?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading backups..."}):c?i.jsx("div",{className:"text-center py-12 text-rose-600",children:c}):t.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"No backups found for the current filters."}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map(M=>{var ie,le,ce,ye;const X=M.schoolId?((ie=D[M.schoolId])==null?void 0:ie.name)||M.schoolId:"Unknown School";return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:X}),i.jsxs("p",{className:"text-sm text-slate-500",children:[M.term,"  ",M.academicYear]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:M.timestamp?new Date(M.timestamp).toLocaleString():"N/A"})]}),i.jsx(ba,{to:M.schoolId?`/super-admin/schools/${M.schoolId}`:"/super-admin/schools",className:"text-xs font-semibold text-[#1160A8] hover:text-[#0B4A82]",children:"View School"})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-xs text-slate-500",children:[i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Students"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:W((le=M.data)==null?void 0:le.students)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Assessments"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:W((ce=M.data)==null?void 0:ce.assessments)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Users"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:W((ye=M.data)==null?void 0:ye.users)})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>ae(M.id||""),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:[i.jsx(Zd,{size:14})," View"]}),i.jsxs("button",{onClick:()=>de(M.id||""),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(ev,{size:14})," Download"]}),i.jsxs("button",{onClick:()=>{O(M.id||null),Q(!0)},className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-3 py-1.5 text-xs font-semibold text-rose-700 hover:bg-rose-100",children:[i.jsx(RA,{size:14})," Delete"]})]})]},M.id)})})]}),E&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Backup Details"}),i.jsxs("p",{className:"text-sm text-slate-500",children:[N.term,"  ",N.academicYear]})]}),i.jsx("button",{onClick:()=>F(!1),className:"text-slate-400 hover:text-slate-600",children:""})]}),i.jsxs("div",{className:"p-5 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Students"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:W((J=N.data)==null?void 0:J.students)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Assessments"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:W((oe=N.data)==null?void 0:oe.assessments)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Users"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:W((xe=N.data)==null?void 0:xe.users)})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(Vh,{size:18,className:"mr-2 text-[#0B4A82]"}),"Student Performance Snapshot"]}),R.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:R.map(M=>{var X;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${M.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:M.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:M.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:M.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((X=Ts.find(ie=>ie.id===M.student.classId))==null?void 0:X.name)||M.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:M.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[M.presentDays,"/",M.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:M.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:M.remark})]},M.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",R.length," student",R.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(Vh,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No student records in this backup."})]})]}),((ee=N.data)==null?void 0:ee.classSubjects)&&N.data.classSubjects.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(um,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.data.classSubjects.map((M,X)=>{var ce,ye;const ie=Ts.find(Ne=>Ne.id===M.classId),le=K(M.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:le}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(ie==null?void 0:ie.name)||M.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:M.subjects&&M.subjects.length>0?M.subjects.map((Ne,ge)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:Ne},ge)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((ce=M.subjects)==null?void 0:ce.length)||0," subject",((ye=M.subjects)==null?void 0:ye.length)!==1?"s":""]})]})]},X)})})]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsxs("button",{onClick:()=>de(N.id),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(ev,{size:16})," Download JSON"]})})]})]})}),H&&L&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Backup"}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 rounded-full border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:re,className:"px-4 py-2 rounded-full bg-rose-600 text-white",children:"Delete"})]})]})})]})},eW=s=>{if(!s)return"-";if(s instanceof tr)return s.toDate().toLocaleString();if(typeof s=="number")return new Date(s).toLocaleString();const e=new Date(s);return Number.isNaN(e.getTime())?"-":e.toLocaleString()},tW=(s,e="GHS")=>{if(!s&&s!==0)return"-";const t=s>=100?s/100:s;return new Intl.NumberFormat("en-GH",{style:"currency",currency:e}).format(t)},kN=s=>{const e=(s||"pending").toLowerCase();return["success","paid","active"].includes(e)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(e)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(e)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},sW=()=>{const[s,e]=Z.useState([]),[t,n]=Z.useState(!1),[r,o]=Z.useState(""),c=async()=>{n(!0);try{const u=Hs(Ct,"payments"),f=Ys(u,fb("createdAt","desc")),m=(await qs(f)).docs.map(x=>({id:x.id,...x.data()}));e(m)}catch(u){console.error("Failed to load payments",u),kt("Failed to load payment data.",{type:"error"})}finally{n(!1)}};Z.useEffect(()=>{c()},[]);const h=Z.useMemo(()=>{const u=r.trim().toLowerCase();return u?s.filter(f=>[f.schoolName,f.schoolId,f.adminEmail,f.status,f.reference,f.currency].filter(Boolean).join(" ").toLowerCase().includes(u)):s},[s,r]);return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Payments"}),i.jsx("p",{className:"text-sm text-slate-500",children:"View all school admin payments in one place."})]}),i.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50",disabled:t,children:[i.jsx(dg,{size:16,className:t?"animate-spin":""}),"Refresh"]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(gb,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),i.jsx("input",{value:r,onChange:u=>o(u.target.value),placeholder:"Search by school, email, status, reference",className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0B4A82]/20"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[h.length," records"]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"School"}),i.jsx("th",{className:"py-3 pr-4",children:"Admin Email"}),i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:h.map(u=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsxs("td",{className:"py-3 pr-4",children:[i.jsx("div",{className:"font-medium text-slate-800",children:u.schoolName||"-"}),i.jsx("div",{className:"text-xs text-slate-400",children:u.schoolId||""})]}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.adminEmail||"-"}),i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:tW(u.amount,u.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${kN(u.status).className}`,children:kN(u.status).label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:u.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:eW(u.createdAt)})]},u.id))})]}),!h.length&&!t&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payments found yet."})]})]})]})},nW=()=>{const{user:s,loading:e,authLoading:t,error:n,logout:r}=Fo(),{school:o,schoolLoading:c,schoolError:h}=uc();return t?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})}):n==="Your account is not set up yet. Please contact your administrator for access."?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Account Not Set Up"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"Your account is not set up yet. Please contact your administrator for access to the system."}),i.jsx("button",{onClick:r,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):h&&(s==null?void 0:s.role)!==pn.SUPER_ADMIN?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"School Access Issue"}),i.jsx("p",{className:"text-slate-600 mb-6",children:h}),i.jsx("button",{onClick:r,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):i.jsx(s7,{children:i.jsx(iW,{})})},rW=()=>i.jsx(qP,{children:i.jsx(ZP,{children:i.jsx(KF,{children:i.jsx(nW,{})})})}),ni=({children:s,allowedRoles:e})=>{const{user:t,isAuthenticated:n,authLoading:r}=Fo();if(r)return i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})});if(!n)return i.jsx(k1,{to:"/login",replace:!0});if(e&&t&&!e.includes(t.role)){const o=t.role===pn.SUPER_ADMIN?"/super-admin/schools":t.role===pn.SCHOOL_ADMIN?"/admin/students":"/teacher";return i.jsx(k1,{to:o,replace:!0})}return s},aW=()=>{const{user:s}=Fo();return(s==null?void 0:s.role)===pn.SUPER_ADMIN?i.jsx(sr,{title:"Super Admin Dashboard",children:i.jsx(g_,{})}):(s==null?void 0:s.role)===pn.SCHOOL_ADMIN?i.jsx(m7,{}):(s==null?void 0:s.role)===pn.TEACHER?i.jsx(p_,{}):i.jsx(k1,{to:"/login"})},iW=()=>i.jsxs(yF,{children:[i.jsx(La,{path:"/login",element:i.jsx(n7,{})}),i.jsx(La,{path:"/",element:i.jsx(ni,{children:i.jsx(aW,{})})}),i.jsx(La,{path:"/admin/students",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(p7,{})})}),i.jsx(La,{path:"/admin/teachers",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(N7,{})})}),i.jsx(La,{path:"/admin/attendance",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(E7,{})})}),i.jsx(La,{path:"/admin/teacher-attendance",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(T7,{})})}),i.jsx(La,{path:"/admin/reports",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(I7,{})})}),i.jsx(La,{path:"/admin/report-card",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(FV,{})})}),i.jsx(La,{path:"/admin/timetable",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(cK,{})})}),i.jsx(La,{path:"/admin/settings",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(oK,{})})}),i.jsx(La,{path:"/admin/backups",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(AK,{})})}),i.jsx(La,{path:"/admin/billing",element:i.jsx(ni,{allowedRoles:[pn.SCHOOL_ADMIN],children:i.jsx(uK,{})})}),i.jsx(La,{path:"/super-admin/schools",element:i.jsx(ni,{allowedRoles:[pn.SUPER_ADMIN],children:i.jsx(JY,{})})}),i.jsx(La,{path:"/super-admin/dashboard",element:i.jsx(ni,{allowedRoles:[pn.SUPER_ADMIN],children:i.jsx(sr,{title:"Super Admin Dashboard",children:i.jsx(g_,{})})})}),i.jsx(La,{path:"/super-admin/schools/:schoolId",element:i.jsx(ni,{allowedRoles:[pn.SUPER_ADMIN],children:i.jsx(qY,{})})}),i.jsx(La,{path:"/super-admin/backups",element:i.jsx(ni,{allowedRoles:[pn.SUPER_ADMIN],children:i.jsx(ZY,{})})}),i.jsx(La,{path:"/super-admin/payments",element:i.jsx(ni,{allowedRoles:[pn.SUPER_ADMIN],children:i.jsx(sr,{title:"Payments",children:i.jsx(sW,{})})})}),i.jsx(La,{path:"/teacher",element:i.jsx(ni,{allowedRoles:[pn.TEACHER],children:i.jsx(p_,{})})}),i.jsx(La,{path:"/teacher/attendance",element:i.jsx(ni,{allowedRoles:[pn.TEACHER],children:i.jsx(zY,{})})}),i.jsx(La,{path:"/teacher/assessment",element:i.jsx(ni,{allowedRoles:[pn.TEACHER],children:i.jsx($Y,{})})}),i.jsx(La,{path:"/teacher/my-attendance",element:i.jsx(ni,{allowedRoles:[pn.TEACHER],children:i.jsx(GY,{})})}),i.jsx(La,{path:"/teacher/write-remarks",element:i.jsx(ni,{allowedRoles:[pn.TEACHER],children:i.jsx(YY,{})})}),i.jsx(La,{path:"/teacher/edit-skills",element:i.jsx(ni,{allowedRoles:[pn.TEACHER],children:i.jsx(XY,{})})})]}),x_=document.getElementById("root");if(!x_)throw new Error("Could not find root element to mount to");const oW=w6.createRoot(x_);oW.render(i.jsx(dv.StrictMode,{children:i.jsx(rW,{})}));export{Hr as _,zj as c,qb as g};
