var u6=Object.defineProperty;var d6=(s,e,t)=>e in s?u6(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Vr=(s,e,t)=>d6(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const A of o.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Jj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tw(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function h6(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var a=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return s[n]}})}),t}var Ty={exports:{}},Sp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function f6(){if(qj)return Sp;qj=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var A=null;if(o!==void 0&&(A=""+o),a.key!==void 0&&(A=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:s,type:n,key:A,ref:a!==void 0?a:null,props:o}}return Sp.Fragment=e,Sp.jsx=t,Sp.jsxs=t,Sp}var Zj;function m6(){return Zj||(Zj=1,Ty.exports=f6()),Ty.exports}var r=m6(),Iy={exports:{}},yn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB;function p6(){if(eB)return yn;eB=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),A=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=x&&W[x]||W["@@iterator"],typeof W=="function"?W:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,B={};function C(W,K,ee){this.props=W,this.context=K,this.refs=B,this.updater=ee||w}C.prototype.isReactComponent={},C.prototype.setState=function(W,K){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,K,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function T(){}T.prototype=C.prototype;function F(W,K,ee){this.props=W,this.context=K,this.refs=B,this.updater=ee||w}var L=F.prototype=new T;L.constructor=F,E(L,C.prototype),L.isPureReactComponent=!0;var k=Array.isArray;function M(){}var Q={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(W,K,ee){var oe=ee.ref;return{$$typeof:s,type:W,key:K,ref:oe!==void 0?oe:null,props:ee}}function V(W,K){return R(W.type,K,W.props)}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===s}function H(W){var K={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ee){return K[ee]})}var G=/\/+/g;function ae(W,K){return typeof W=="object"&&W!==null&&W.key!=null?H(""+W.key):K.toString(36)}function Ae(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(M,M):(W.status="pending",W.then(function(K){W.status==="pending"&&(W.status="fulfilled",W.value=K)},function(K){W.status==="pending"&&(W.status="rejected",W.reason=K)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function ie(W,K,ee,oe,he){var ue=typeof W;(ue==="undefined"||ue==="boolean")&&(W=null);var ye=!1;if(W===null)ye=!0;else switch(ue){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(W.$$typeof){case s:case e:ye=!0;break;case c:return ye=W._init,ie(ye(W._payload),K,ee,oe,he)}}if(ye)return he=he(W),ye=oe===""?"."+ae(W,0):oe,k(he)?(ee="",ye!=null&&(ee=ye.replace(G,"$&/")+"/"),ie(he,K,ee,"",function(_e){return _e})):he!=null&&(O(he)&&(he=V(he,ee+(he.key==null||W&&W.key===he.key?"":(""+he.key).replace(G,"$&/")+"/")+ye)),K.push(he)),1;ye=0;var je=oe===""?".":oe+":";if(k(W))for(var ve=0;ve<W.length;ve++)oe=W[ve],ue=je+ae(oe,ve),ye+=ie(oe,K,ee,ue,he);else if(ve=g(W),typeof ve=="function")for(W=ve.call(W),ve=0;!(oe=W.next()).done;)oe=oe.value,ue=je+ae(oe,ve++),ye+=ie(oe,K,ee,ue,he);else if(ue==="object"){if(typeof W.then=="function")return ie(Ae(W),K,ee,oe,he);throw K=String(W),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function le(W,K,ee){if(W==null)return W;var oe=[],he=0;return ie(W,oe,"","",function(ue){return K.call(ee,ue,he++)}),oe}function X(W){if(W._status===-1){var K=W._result;K=K(),K.then(function(ee){(W._status===0||W._status===-1)&&(W._status=1,W._result=ee)},function(ee){(W._status===0||W._status===-1)&&(W._status=2,W._result=ee)}),W._status===-1&&(W._status=0,W._result=K)}if(W._status===1)return W._result.default;throw W._result}var ne=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},re={map:le,forEach:function(W,K,ee){le(W,function(){K.apply(this,arguments)},ee)},count:function(W){var K=0;return le(W,function(){K++}),K},toArray:function(W){return le(W,function(K){return K})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return yn.Activity=m,yn.Children=re,yn.Component=C,yn.Fragment=t,yn.Profiler=a,yn.PureComponent=F,yn.StrictMode=n,yn.Suspense=u,yn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,yn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return Q.H.useMemoCache(W)}},yn.cache=function(W){return function(){return W.apply(null,arguments)}},yn.cacheSignal=function(){return null},yn.cloneElement=function(W,K,ee){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var oe=E({},W.props),he=W.key;if(K!=null)for(ue in K.key!==void 0&&(he=""+K.key),K)!D.call(K,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&K.ref===void 0||(oe[ue]=K[ue]);var ue=arguments.length-2;if(ue===1)oe.children=ee;else if(1<ue){for(var ye=Array(ue),je=0;je<ue;je++)ye[je]=arguments[je+2];oe.children=ye}return R(W.type,he,oe)},yn.createContext=function(W){return W={$$typeof:A,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},yn.createElement=function(W,K,ee){var oe,he={},ue=null;if(K!=null)for(oe in K.key!==void 0&&(ue=""+K.key),K)D.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=K[oe]);var ye=arguments.length-2;if(ye===1)he.children=ee;else if(1<ye){for(var je=Array(ye),ve=0;ve<ye;ve++)je[ve]=arguments[ve+2];he.children=je}if(W&&W.defaultProps)for(oe in ye=W.defaultProps,ye)he[oe]===void 0&&(he[oe]=ye[oe]);return R(W,ue,he)},yn.createRef=function(){return{current:null}},yn.forwardRef=function(W){return{$$typeof:h,render:W}},yn.isValidElement=O,yn.lazy=function(W){return{$$typeof:c,_payload:{_status:-1,_result:W},_init:X}},yn.memo=function(W,K){return{$$typeof:f,type:W,compare:K===void 0?null:K}},yn.startTransition=function(W){var K=Q.T,ee={};Q.T=ee;try{var oe=W(),he=Q.S;he!==null&&he(ee,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(M,ne)}catch(ue){ne(ue)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),Q.T=K}},yn.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},yn.use=function(W){return Q.H.use(W)},yn.useActionState=function(W,K,ee){return Q.H.useActionState(W,K,ee)},yn.useCallback=function(W,K){return Q.H.useCallback(W,K)},yn.useContext=function(W){return Q.H.useContext(W)},yn.useDebugValue=function(){},yn.useDeferredValue=function(W,K){return Q.H.useDeferredValue(W,K)},yn.useEffect=function(W,K){return Q.H.useEffect(W,K)},yn.useEffectEvent=function(W){return Q.H.useEffectEvent(W)},yn.useId=function(){return Q.H.useId()},yn.useImperativeHandle=function(W,K,ee){return Q.H.useImperativeHandle(W,K,ee)},yn.useInsertionEffect=function(W,K){return Q.H.useInsertionEffect(W,K)},yn.useLayoutEffect=function(W,K){return Q.H.useLayoutEffect(W,K)},yn.useMemo=function(W,K){return Q.H.useMemo(W,K)},yn.useOptimistic=function(W,K){return Q.H.useOptimistic(W,K)},yn.useReducer=function(W,K,ee){return Q.H.useReducer(W,K,ee)},yn.useRef=function(W){return Q.H.useRef(W)},yn.useState=function(W){return Q.H.useState(W)},yn.useSyncExternalStore=function(W,K,ee){return Q.H.useSyncExternalStore(W,K,ee)},yn.useTransition=function(){return Q.H.useTransition()},yn.version="19.2.3",yn}var tB;function sw(){return tB||(tB=1,Iy.exports=p6()),Iy.exports}var J=sw();const Mh=tw(J);var _y={exports:{}},Cp={},Fy={exports:{}},Uy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sB;function g6(){return sB||(sB=1,(function(s){function e(ie,le){var X=ie.length;ie.push(le);e:for(;0<X;){var ne=X-1>>>1,re=ie[ne];if(0<a(re,le))ie[ne]=le,ie[X]=re,X=ne;else break e}}function t(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var le=ie[0],X=ie.pop();if(X!==le){ie[0]=X;e:for(var ne=0,re=ie.length,W=re>>>1;ne<W;){var K=2*(ne+1)-1,ee=ie[K],oe=K+1,he=ie[oe];if(0>a(ee,X))oe<re&&0>a(he,ee)?(ie[ne]=he,ie[oe]=X,ne=oe):(ie[ne]=ee,ie[K]=X,ne=K);else if(oe<re&&0>a(he,X))ie[ne]=he,ie[oe]=X,ne=oe;else break e}}return le}function a(ie,le){var X=ie.sortIndex-le.sortIndex;return X!==0?X:ie.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var A=Date,h=A.now();s.unstable_now=function(){return A.now()-h}}var u=[],f=[],c=1,m=null,x=3,g=!1,w=!1,E=!1,B=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function L(ie){for(var le=t(f);le!==null;){if(le.callback===null)n(f);else if(le.startTime<=ie)n(f),le.sortIndex=le.expirationTime,e(u,le);else break;le=t(f)}}function k(ie){if(E=!1,L(ie),!w)if(t(u)!==null)w=!0,M||(M=!0,H());else{var le=t(f);le!==null&&Ae(k,le.startTime-ie)}}var M=!1,Q=-1,D=5,R=-1;function V(){return B?!0:!(s.unstable_now()-R<D)}function O(){if(B=!1,M){var ie=s.unstable_now();R=ie;var le=!0;try{e:{w=!1,E&&(E=!1,T(Q),Q=-1),g=!0;var X=x;try{t:{for(L(ie),m=t(u);m!==null&&!(m.expirationTime>ie&&V());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,x=m.priorityLevel;var re=ne(m.expirationTime<=ie);if(ie=s.unstable_now(),typeof re=="function"){m.callback=re,L(ie),le=!0;break t}m===t(u)&&n(u),L(ie)}else n(u);m=t(u)}if(m!==null)le=!0;else{var W=t(f);W!==null&&Ae(k,W.startTime-ie),le=!1}}break e}finally{m=null,x=X,g=!1}le=void 0}}finally{le?H():M=!1}}}var H;if(typeof F=="function")H=function(){F(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=O,H=function(){ae.postMessage(null)}}else H=function(){C(O,0)};function Ae(ie,le){Q=C(function(){ie(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ie){ie.callback=null},s.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ie?Math.floor(1e3/ie):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var X=x;x=le;try{return ie()}finally{x=X}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(ie,le){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var X=x;x=ie;try{return le()}finally{x=X}},s.unstable_scheduleCallback=function(ie,le,X){var ne=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,ie){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,ie={id:c++,callback:le,priorityLevel:ie,startTime:X,expirationTime:re,sortIndex:-1},X>ne?(ie.sortIndex=X,e(f,ie),t(u)===null&&ie===t(f)&&(E?(T(Q),Q=-1):E=!0,Ae(k,X-ne))):(ie.sortIndex=re,e(u,ie),w||g||(w=!0,M||(M=!0,H()))),ie},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(ie){var le=x;return function(){var X=x;x=le;try{return ie.apply(this,arguments)}finally{x=X}}}})(Uy)),Uy}var nB;function x6(){return nB||(nB=1,Fy.exports=g6()),Fy.exports}var Dy={exports:{}},Zo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rB;function v6(){if(rB)return Zo;rB=1;var s=sw();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)f+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(u,f,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:c}}var A=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Zo.createPortal=function(u,f){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,c)},Zo.flushSync=function(u){var f=A.T,c=n.p;try{if(A.T=null,n.p=2,u)return u()}finally{A.T=f,n.p=c,n.d.f()}},Zo.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Zo.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Zo.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var c=f.as,m=h(c,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;c==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:g}):c==="script"&&n.d.X(u,{crossOrigin:m,integrity:x,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zo.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var c=h(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:c,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Zo.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var c=f.as,m=h(c,f.crossOrigin);n.d.L(u,c,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zo.preloadModule=function(u,f){if(typeof u=="string")if(f){var c=h(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:c,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Zo.requestFormReset=function(u){n.d.r(u)},Zo.unstable_batchedUpdates=function(u,f){return u(f)},Zo.useFormState=function(u,f,c){return A.H.useFormState(u,f,c)},Zo.useFormStatus=function(){return A.H.useHostTransitionStatus()},Zo.version="19.2.3",Zo}var aB;function y6(){if(aB)return Dy.exports;aB=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Dy.exports=v6(),Dy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iB;function b6(){if(iB)return Cp;iB=1;var s=x6(),e=sw(),t=y6();function n(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function A(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(n(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(n(188));return l!==i?null:i}for(var d=i,p=l;;){var I=d.return;if(I===null)break;var U=I.alternate;if(U===null){if(p=I.return,p!==null){d=p;continue}break}if(I.child===U.child){for(U=I.child;U;){if(U===d)return u(I),i;if(U===p)return u(I),l;U=U.sibling}throw Error(n(188))}if(d.return!==p.return)d=I,p=U;else{for(var Z=!1,xe=I.child;xe;){if(xe===d){Z=!0,d=I,p=U;break}if(xe===p){Z=!0,p=I,d=U;break}xe=xe.sibling}if(!Z){for(xe=U.child;xe;){if(xe===d){Z=!0,d=U,p=I;break}if(xe===p){Z=!0,p=U,d=I;break}xe=xe.sibling}if(!Z)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:l}function c(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=c(i),l!==null)return l;i=i.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),F=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var G=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===G?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case C:return"Profiler";case B:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case F:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case L:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Q:return l=i.displayName||null,l!==null?l:ae(i.type)||"Memo";case D:l=i._payload,i=i._init;try{return ae(i(l))}catch{}}return null}var Ae=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ne=[],re=-1;function W(i){return{current:i}}function K(i){0>re||(i.current=ne[re],ne[re]=null,re--)}function ee(i,l){re++,ne[re]=i.current,i.current=l}var oe=W(null),he=W(null),ue=W(null),ye=W(null);function je(i,l){switch(ee(ue,l),ee(he,i),ee(oe,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?yj(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=yj(l),i=bj(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(oe),ee(oe,i)}function ve(){K(oe),K(he),K(ue)}function _e(i){i.memoizedState!==null&&ee(ye,i);var l=oe.current,d=bj(l,i.type);l!==d&&(ee(he,i),ee(oe,d))}function ke(i){he.current===i&&(K(oe),K(he)),ye.current===i&&(K(ye),wp._currentValue=X)}var Me,Je;function at(i){if(Me===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Me=l&&l[1]||"",Je=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+i+Je}var ge=!1;function ht(i,l){if(!i||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(gt){var ut=gt}Reflect.construct(i,[],Rt)}else{try{Rt.call()}catch(gt){ut=gt}i.call(Rt.prototype)}}else{try{throw Error()}catch(gt){ut=gt}(Rt=i())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(gt){if(gt&&ut&&typeof gt.stack=="string")return[gt.stack,ut.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=p.DetermineComponentFrameRoot(),Z=U[0],xe=U[1];if(Z&&xe){var De=Z.split(`
`),ot=xe.split(`
`);for(I=p=0;p<De.length&&!De[p].includes("DetermineComponentFrameRoot");)p++;for(;I<ot.length&&!ot[I].includes("DetermineComponentFrameRoot");)I++;if(p===De.length||I===ot.length)for(p=De.length-1,I=ot.length-1;1<=p&&0<=I&&De[p]!==ot[I];)I--;for(;1<=p&&0<=I;p--,I--)if(De[p]!==ot[I]){if(p!==1||I!==1)do if(p--,I--,0>I||De[p]!==ot[I]){var Nt=`
`+De[p].replace(" at new "," at ");return i.displayName&&Nt.includes("<anonymous>")&&(Nt=Nt.replace("<anonymous>",i.displayName)),Nt}while(1<=p&&0<=I);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?at(d):""}function Kt(i,l){switch(i.tag){case 26:case 27:case 5:return at(i.type);case 16:return at("Lazy");case 13:return i.child!==l&&l!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return ht(i.type,!1);case 11:return ht(i.type.render,!1);case 1:return ht(i.type,!0);case 31:return at("Activity");default:return""}}function Pt(i){try{var l="",d=null;do l+=Kt(i,d),d=i,i=i.return;while(i);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Le=Object.prototype.hasOwnProperty,jt=s.unstable_scheduleCallback,Ve=s.unstable_cancelCallback,Fe=s.unstable_shouldYield,lt=s.unstable_requestPaint,xt=s.unstable_now,Et=s.unstable_getCurrentPriorityLevel,Jt=s.unstable_ImmediatePriority,Mt=s.unstable_UserBlockingPriority,He=s.unstable_NormalPriority,ft=s.unstable_LowPriority,Ye=s.unstable_IdlePriority,At=s.log,es=s.unstable_setDisableYieldValue,Gt=null,qt=null;function dt(i){if(typeof At=="function"&&es(i),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Gt,i)}catch{}}var Ot=Math.clz32?Math.clz32:Zt,Vt=Math.log,is=Math.LN2;function Zt(i){return i>>>=0,i===0?32:31-(Vt(i)/is|0)|0}var Qe=256,Ht=262144,it=4194304;function ct(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Bt(i,l,d){var p=i.pendingLanes;if(p===0)return 0;var I=0,U=i.suspendedLanes,Z=i.pingedLanes;i=i.warmLanes;var xe=p&134217727;return xe!==0?(p=xe&~U,p!==0?I=ct(p):(Z&=xe,Z!==0?I=ct(Z):d||(d=xe&~i,d!==0&&(I=ct(d))))):(xe=p&~U,xe!==0?I=ct(xe):Z!==0?I=ct(Z):d||(d=p&~i,d!==0&&(I=ct(d)))),I===0?0:l!==0&&l!==I&&(l&U)===0&&(U=I&-I,d=l&-l,U>=d||U===32&&(d&4194048)!==0)?l:I}function ts(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function ss(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var i=it;return it<<=1,(it&62914560)===0&&(it=4194304),i}function zs(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function as(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vn(i,l,d,p,I,U){var Z=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var xe=i.entanglements,De=i.expirationTimes,ot=i.hiddenUpdates;for(d=Z&~d;0<d;){var Nt=31-Ot(d),Rt=1<<Nt;xe[Nt]=0,De[Nt]=-1;var ut=ot[Nt];if(ut!==null)for(ot[Nt]=null,Nt=0;Nt<ut.length;Nt++){var gt=ut[Nt];gt!==null&&(gt.lane&=-536870913)}d&=~Rt}p!==0&&qs(i,p,0),U!==0&&I===0&&i.tag!==0&&(i.suspendedLanes|=U&~(Z&~l))}function qs(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var p=31-Ot(l);i.entangledLanes|=l,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function un(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var p=31-Ot(d),I=1<<p;I&l|i[p]&l&&(i[p]|=l),d&=~I}}function Kn(i,l){var d=l&-l;return d=(d&42)!==0?1:rs(d),(d&(i.suspendedLanes|l))!==0?0:d}function rs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Hs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Cn(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:Kj(i.type))}function dn(i,l){var d=le.p;try{return le.p=i,l()}finally{le.p=d}}var wn=Math.random().toString(36).slice(2),fs="__reactFiber$"+wn,Un="__reactProps$"+wn,zn="__reactContainer$"+wn,fa="__reactEvents$"+wn,za="__reactListeners$"+wn,Ci="__reactHandles$"+wn,ma="__reactResources$"+wn,_r="__reactMarker$"+wn;function hi(i){delete i[fs],delete i[Un],delete i[fa],delete i[za],delete i[Ci]}function Nn(i){var l=i[fs];if(l)return l;for(var d=i.parentNode;d;){if(l=d[zn]||d[fs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=Ej(i);i!==null;){if(d=i[fs])return d;i=Ej(i)}return l}i=d,d=i.parentNode}return null}function br(i){if(i=i[fs]||i[zn]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Fr(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(n(33))}function Er(i){var l=i[ma];return l||(l=i[ma]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Gn(i){i[_r]=!0}var Ga=new Set,ia={};function Tr(i,l){wr(i,l),wr(i+"Capture",l)}function wr(i,l){for(ia[i]=l,i=0;i<l.length;i++)Ga.add(l[i])}var $a=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Nl={};function _o(i){return Le.call(Nl,i)?!0:Le.call(Io,i)?!1:$a.test(i)?Nl[i]=!0:(Io[i]=!0,!1)}function pa(i,l,d){if(_o(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function oa(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function zr(i,l,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+p)}}function jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ei(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ya(i,l,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var I=p.get,U=p.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return I.call(this)},set:function(Z){d=""+Z,U.call(this,Z)}}),Object.defineProperty(i,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(Z){d=""+Z},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function xn(i){if(!i._valueTracker){var l=Ei(i)?"checked":"value";i._valueTracker=Ya(i,l,""+i[l])}}function fi(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return i&&(p=Ei(i)?i.checked?"true":"false":i.value),i=p,i!==d?(l.setValue(i),!0):!1}function En(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ne=/[\n"\\]/g;function nt(i){return i.replace(Ne,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tt(i,l,d,p,I,U,Z,xe){i.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?i.type=Z:i.removeAttribute("type"),l!=null?Z==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+jn(l)):i.value!==""+jn(l)&&(i.value=""+jn(l)):Z!=="submit"&&Z!=="reset"||i.removeAttribute("value"),l!=null?vs(i,Z,jn(l)):d!=null?vs(i,Z,jn(d)):p!=null&&i.removeAttribute("value"),I==null&&U!=null&&(i.defaultChecked=!!U),I!=null&&(i.checked=I&&typeof I!="function"&&typeof I!="symbol"),xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"?i.name=""+jn(xe):i.removeAttribute("name")}function zt(i,l,d,p,I,U,Z,xe){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(i.type=U),l!=null||d!=null){if(!(U!=="submit"&&U!=="reset"||l!=null)){xn(i);return}d=d!=null?""+jn(d):"",l=l!=null?""+jn(l):d,xe||l===i.value||(i.value=l),i.defaultValue=l}p=p??I,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=xe?i.checked:!!p,i.defaultChecked=!!p,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(i.name=Z),xn(i)}function vs(i,l,d){l==="number"&&En(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function cs(i,l,d,p){if(i=i.options,l){l={};for(var I=0;I<d.length;I++)l["$"+d[I]]=!0;for(d=0;d<i.length;d++)I=l.hasOwnProperty("$"+i[d].value),i[d].selected!==I&&(i[d].selected=I),I&&p&&(i[d].defaultSelected=!0)}else{for(d=""+jn(d),l=null,I=0;I<i.length;I++){if(i[I].value===d){i[I].selected=!0,p&&(i[I].defaultSelected=!0);return}l!==null||i[I].disabled||(l=i[I])}l!==null&&(l.selected=!0)}}function Vs(i,l,d){if(l!=null&&(l=""+jn(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+jn(d):""}function sn(i,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(n(92));if(Ae(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=jn(l),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),xn(i)}function It(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var Js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zs(i,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":p?i.setProperty(l,d):typeof d!="number"||d===0||Js.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function on(i,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var I in l)p=l[I],l.hasOwnProperty(I)&&d[I]!==p&&Zs(i,I,p)}else for(var U in l)l.hasOwnProperty(U)&&Zs(i,U,l[U])}function qn(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(i){return xr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ur(){}var ga=null;function Dr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wa=null,_s=null;function ul(i){var l=br(i);if(l&&(i=l.stateNode)){var d=i[Un]||null;e:switch(i=l.stateNode,l.type){case"input":if(Tt(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+nt(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==i&&p.form===i.form){var I=p[Un]||null;if(!I)throw Error(n(90));Tt(p,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===i.form&&fi(p)}break e;case"textarea":Vs(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&cs(i,!!d.multiple,l,!1)}}}var Fo=!1;function Uo(i,l,d){if(Fo)return i(l,d);Fo=!0;try{var p=i(l);return p}finally{if(Fo=!1,(Wa!==null||_s!==null)&&(no(),Wa&&(l=Wa,i=_s,_s=Wa=null,ul(l),i)))for(l=0;l<i.length;l++)ul(i[l])}}function Xr(i,l){var d=i.stateNode;if(d===null)return null;var p=d[Un]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(Jr)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Ia=!1}var ni=null,Do=null,Yi=null;function Gl(){if(Yi)return Yi;var i,l=Do,d=l.length,p,I="value"in ni?ni.value:ni.textContent,U=I.length;for(i=0;i<d&&l[i]===I[i];i++);var Z=d-i;for(p=1;p<=Z&&l[d-p]===I[U-p];p++);return Yi=I.slice(i,1<p?1-p:void 0)}function xa(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function Xa(){return!1}function Rr(i){function l(d,p,I,U,Z){this._reactName=d,this._targetInst=I,this.type=p,this.nativeEvent=U,this.target=Z,this.currentTarget=null;for(var xe in i)i.hasOwnProperty(xe)&&(d=i[xe],this[xe]=d?d(U):U[xe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?ri:Xa,this.isPropagationStopped=Xa,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),l}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Rr(Wi),hr=m({},Wi,{view:0,detail:0}),Ro=Rr(hr),Ja,Xi,_a,dl=m({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_a&&(_a&&i.type==="mousemove"?(Ja=i.screenX-_a.screenX,Xi=i.screenY-_a.screenY):Xi=Ja=0,_a=i),Ja)},movementY:function(i){return"movementY"in i?i.movementY:Xi}}),$l=Rr(dl),Fa=m({},dl,{dataTransfer:0}),mi=Rr(Fa),Lo=m({},hr,{relatedTarget:0}),Ti=Rr(Lo),ya=m({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),P=Rr(ya),ce=m({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ee=Rr(ce),Ue=m({},Wi,{data:0}),ze=Rr(Ue),yt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qe(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=xs[i])?!!l[i]:!1}function Lt(){return qe}var kt=m({},hr,{key:function(i){if(i.key){var l=yt[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=xa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ut[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lt,charCode:function(i){return i.type==="keypress"?xa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),us=Rr(kt),ws=m({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$t=Rr(ws),y=m({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lt}),Y=Rr(y),se=m({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=Rr(se),We=m({},dl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Rr(We),Yt=m({},Wi,{newState:0,oldState:0}),Ds=Rr(Yt),In=[9,13,27,32],ln=Jr&&"CompositionEvent"in window,Qn=null;Jr&&"documentMode"in document&&(Qn=document.documentMode);var ba=Jr&&"TextEvent"in window&&!Qn,wa=Jr&&(!ln||Qn&&8<Qn&&11>=Qn),Zn=" ",cn=!1;function mo(i,l){switch(i){case"keyup":return In.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hl=!1;function Ua(i,l){switch(i){case"compositionend":return Qo(l);case"keypress":return l.which!==32?null:(cn=!0,Zn);case"textInput":return i=l.data,i===Zn&&cn?null:i;default:return null}}function ai(i,l){if(hl)return i==="compositionend"||!ln&&mo(i,l)?(i=Gl(),Yi=Do=ni=null,hl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wa&&l.locale!=="ko"?null:l.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oo(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!gA[i.type]:l==="textarea"}function er(i,l,d,p){Wa?_s?_s.push(p):_s=[p]:Wa=p,l=I0(l,"onChange"),0<l.length&&(d=new va("onChange","change",null,d,p),i.push({event:d,listeners:l}))}var ko=null,Lr=null;function Pc(i){fj(i,0)}function ii(i){var l=Fr(i);if(fi(l))return i}function Po(i,l){if(i==="change")return l}var Bn=!1;if(Jr){var Ii;if(Jr){var fl="oninput"in document;if(!fl){var ml=document.createElement("div");ml.setAttribute("oninput","return;"),fl=typeof ml.oninput=="function"}Ii=fl}else Ii=!1;Bn=Ii&&(!document.documentMode||9<document.documentMode)}function Sl(){ko&&(ko.detachEvent("onpropertychange",Yl),Lr=ko=null)}function Yl(i){if(i.propertyName==="value"&&ii(Lr)){var l=[];er(l,Lr,i,Dr(i)),Uo(Pc,l)}}function Mc(i,l,d){i==="focusin"?(Sl(),ko=l,Lr=d,ko.attachEvent("onpropertychange",Yl)):i==="focusout"&&Sl()}function la(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ii(Lr)}function Ji(i,l){if(i==="click")return ii(l)}function pi(i,l){if(i==="input"||i==="change")return ii(l)}function gi(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var On=typeof Object.is=="function"?Object.is:gi;function _i(i,l){if(On(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var I=d[p];if(!Le.call(l,I)||!On(i[I],l[I]))return!1}return!0}function Hc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vc(i,l){var d=Hc(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=l&&p>=l)return{node:d,offset:l-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Hc(d)}}function pl(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?pl(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Cl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=En(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=En(i.document)}return l}function El(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var gl=Jr&&"documentMode"in document&&11>=document.documentMode,ja=null,Wl=null,Fi=null,qi=!1;function tr(i,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;qi||ja==null||ja!==En(p)||(p=ja,"selectionStart"in p&&El(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Fi&&_i(Fi,p)||(Fi=p,p=I0(Wl,"onSelect"),0<p.length&&(l=new va("onSelect","select",null,l,d),i.push({event:l,listeners:p}),l.target=ja)))}function Yn(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Ir={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionrun:Yn("Transition","TransitionRun"),transitionstart:Yn("Transition","TransitionStart"),transitioncancel:Yn("Transition","TransitionCancel"),transitionend:Yn("Transition","TransitionEnd")},ir={},xl={};Jr&&(xl=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function vl(i){if(ir[i])return ir[i];if(!Ir[i])return i;var l=Ir[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in xl)return ir[i]=l[d];return i}var Kc=vl("animationend"),hc=vl("animationiteration"),ah=vl("animationstart"),ih=vl("transitionrun"),oh=vl("transitionstart"),lh=vl("transitioncancel"),Ou=vl("transitionend"),ku=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function po(i,l){ku.set(i,l),Tr(l,[i])}var xA=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},go=[],Tl=0,Pu=0;function nu(){for(var i=Tl,l=Pu=Tl=0;l<i;){var d=go[l];go[l++]=null;var p=go[l];go[l++]=null;var I=go[l];go[l++]=null;var U=go[l];if(go[l++]=null,p!==null&&I!==null){var Z=p.pending;Z===null?I.next=I:(I.next=Z.next,Z.next=I),p.pending=I}U!==0&&ru(d,I,U)}}function zc(i,l,d,p){go[Tl++]=i,go[Tl++]=l,go[Tl++]=d,go[Tl++]=p,Pu|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Mu(i,l,d,p){return zc(i,l,d,p),Ui(i)}function Il(i,l){return zc(i,null,null,l),Ui(i)}function ru(i,l,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var I=!1,U=i.return;U!==null;)U.childLanes|=d,p=U.alternate,p!==null&&(p.childLanes|=d),U.tag===22&&(i=U.stateNode,i===null||i._visibility&1||(I=!0)),i=U,U=U.return;return i.tag===3?(U=i.stateNode,I&&l!==null&&(I=31-Ot(d),i=U.hiddenUpdates,p=i[I],p===null?i[I]=[l]:p.push(l),l.lane=d|536870912),U):null}function Ui(i){if(50<Fn)throw Fn=0,Hn=null,Error(n(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var xi={};function Hu(i,l,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(i,l,d,p){return new Hu(i,l,d,p)}function Xl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Mo(i,l){var d=i.alternate;return d===null?(d=Di(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function au(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Jl(i,l,d,p,I,U){var Z=0;if(p=i,typeof i=="function")Xl(i)&&(Z=1);else if(typeof i=="string")Z=Z_(i,d,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Di(31,d,l,I),i.elementType=R,i.lanes=U,i;case E:return mc(d.children,I,U,l);case B:Z=8,I|=24;break;case C:return i=Di(12,d,l,I|2),i.elementType=C,i.lanes=U,i;case k:return i=Di(13,d,l,I),i.elementType=k,i.lanes=U,i;case M:return i=Di(19,d,l,I),i.elementType=M,i.lanes=U,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:Z=10;break e;case T:Z=9;break e;case L:Z=11;break e;case Q:Z=14;break e;case D:Z=16,p=null;break e}Z=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return l=Di(Z,d,l,I),l.elementType=i,l.type=p,l.lanes=U,l}function mc(i,l,d,p){return i=Di(7,i,p,l),i.lanes=d,i}function iu(i,l,d){return i=Di(6,i,null,l),i.lanes=d,i}function Vu(i){var l=Di(18,null,null,0);return l.stateNode=i,l}function vA(i,l,d){return l=Di(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Gc=new WeakMap;function Ho(i,l){if(typeof i=="object"&&i!==null){var d=Gc.get(i);return d!==void 0?d:(l={value:i,source:l,stack:Pt(l)},Gc.set(i,l),l)}return{value:i,source:l,stack:Pt(l)}}var yA=[],$c=0,Ku=null,pc=0,Vo=[],Ko=0,gc=null,zo=1,Zi="";function xo(i,l){yA[$c++]=pc,yA[$c++]=Ku,Ku=i,pc=l}function mf(i,l,d){Vo[Ko++]=zo,Vo[Ko++]=Zi,Vo[Ko++]=gc,gc=i;var p=zo;i=Zi;var I=32-Ot(p)-1;p&=~(1<<I),d+=1;var U=32-Ot(l)+I;if(30<U){var Z=I-I%5;U=(p&(1<<Z)-1).toString(32),p>>=Z,I-=Z,zo=1<<32-Ot(l)+I|d<<I|p,Zi=U+i}else zo=1<<U|d<<I|p,Zi=i}function ch(i){i.return!==null&&(xo(i,1),mf(i,1,0))}function zu(i){for(;i===Ku;)Ku=yA[--$c],yA[$c]=null,pc=yA[--$c],yA[$c]=null;for(;i===gc;)gc=Vo[--Ko],Vo[Ko]=null,Zi=Vo[--Ko],Vo[Ko]=null,zo=Vo[--Ko],Vo[Ko]=null}function pf(i,l){Vo[Ko++]=zo,Vo[Ko++]=Zi,Vo[Ko++]=gc,zo=l.id,Zi=l.overflow,gc=i}var vi=null,Qr=null,Dn=!1,eo=null,ca=!1,lo=Error(n(519));function xc(i){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Ho(l,i)),lo}function Ah(i){var l=i.stateNode,d=i.type,p=i.memoizedProps;switch(l[fs]=i,l[Un]=p,d){case"dialog":Xn("cancel",l),Xn("close",l);break;case"iframe":case"object":case"embed":Xn("load",l);break;case"video":case"audio":for(d=0;d<gp.length;d++)Xn(gp[d],l);break;case"source":Xn("error",l);break;case"img":case"image":case"link":Xn("error",l),Xn("load",l);break;case"details":Xn("toggle",l);break;case"input":Xn("invalid",l),zt(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Xn("invalid",l);break;case"textarea":Xn("invalid",l),sn(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||xj(l.textContent,d)?(p.popover!=null&&(Xn("beforetoggle",l),Xn("toggle",l)),p.onScroll!=null&&Xn("scroll",l),p.onScrollEnd!=null&&Xn("scrollend",l),p.onClick!=null&&(l.onclick=Ur),l=!0):l=!1,l||xc(i,!0)}function _l(i){for(vi=i.return;vi;)switch(vi.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:vi=vi.return}}function yi(i){if(i!==vi)return!1;if(!Dn)return _l(i),Dn=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||fy(i.type,i.memoizedProps)),d=!d),d&&Qr&&xc(i),_l(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Qr=Cj(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Qr=Cj(i)}else l===27?(l=Qr,hd(i.type)?(i=vy,vy=null,Qr=i):Qr=l):Qr=vi?Ec(i.stateNode.nextSibling):null;return!0}function Yc(){Qr=vi=null,Dn=!1}function ou(){var i=eo;return i!==null&&(Re===null?Re=i:Re.push.apply(Re,i),eo=null),i}function ql(i){eo===null?eo=[i]:eo.push(i)}var Gu=W(null),vc=null,Fl=null;function yc(i,l,d){ee(Gu,l._currentValue),l._currentValue=d}function Go(i){i._currentValue=Gu.current,K(Gu)}function bA(i,l,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===d)break;i=i.return}}function Ul(i,l,d,p){var I=i.child;for(I!==null&&(I.return=i);I!==null;){var U=I.dependencies;if(U!==null){var Z=I.child;U=U.firstContext;e:for(;U!==null;){var xe=U;U=I;for(var De=0;De<l.length;De++)if(xe.context===l[De]){U.lanes|=d,xe=U.alternate,xe!==null&&(xe.lanes|=d),bA(U.return,d,i),p||(Z=null);break e}U=xe.next}}else if(I.tag===18){if(Z=I.return,Z===null)throw Error(n(341));Z.lanes|=d,U=Z.alternate,U!==null&&(U.lanes|=d),bA(Z,d,i),Z=null}else Z=I.child;if(Z!==null)Z.return=I;else for(Z=I;Z!==null;){if(Z===i){Z=null;break}if(I=Z.sibling,I!==null){I.return=Z.return,Z=I;break}Z=Z.return}I=Z}}function bc(i,l,d,p){i=null;for(var I=l,U=!1;I!==null;){if(!U){if((I.flags&524288)!==0)U=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var Z=I.alternate;if(Z===null)throw Error(n(387));if(Z=Z.memoizedProps,Z!==null){var xe=I.type;On(I.pendingProps.value,Z.value)||(i!==null?i.push(xe):i=[xe])}}else if(I===ye.current){if(Z=I.alternate,Z===null)throw Error(n(387));Z.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(i!==null?i.push(wp):i=[wp])}I=I.return}i!==null&&Ul(l,i,d,p),l.flags|=262144}function $u(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function wc(i){vc=i,Fl=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bi(i){return gf(vc,i)}function Yu(i,l){return vc===null&&wc(i),gf(i,l)}function gf(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Fl===null){if(i===null)throw Error(n(308));Fl=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Fl=Fl.next=l;return d}var Om=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},km=s.unstable_scheduleCallback,Pm=s.unstable_NormalPriority,Ba={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wA(){return{controller:new Om,data:new Map,refCount:0}}function lu(i){i.refCount--,i.refCount===0&&km(Pm,function(){i.controller.abort()})}var jA=null,Wu=0,b=0,_=null;function z(i,l){if(jA===null){var d=jA=[];Wu=0,b=ay(),_={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Wu++,l.then(q,q),l}function q(){if(--Wu===0&&jA!==null){_!==null&&(_.status="fulfilled");var i=jA;jA=null,b=0,_=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function de(i,l){var d=[],p={status:"pending",value:null,reason:null,then:function(I){d.push(I)}};return i.then(function(){p.status="fulfilled",p.value=l;for(var I=0;I<d.length;I++)(0,d[I])(l)},function(I){for(p.status="rejected",p.reason=I,I=0;I<d.length;I++)(0,d[I])(void 0)}),p}var me=ie.S;ie.S=function(i,l){wt=xt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&z(i,l),me!==null&&me(i,l)};var pe=W(null);function we(){var i=pe.current;return i!==null?i:Pr.pooledCache}function Be(i,l){l===null?ee(pe,pe.current):ee(pe,l.pool)}function Ie(){var i=we();return i===null?null:{parent:Ba._currentValue,pool:i}}var Oe=Error(n(460)),st=Error(n(474)),Te=Error(n(542)),Ke={then:function(){}};function Ge(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bt(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(Ur,Ur),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Wt(i),i;default:if(typeof l.status=="string")l.then(Ur,Ur);else{if(i=Pr,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=l,i.status="pending",i.then(function(p){if(l.status==="pending"){var I=l;I.status="fulfilled",I.value=p}},function(p){if(l.status==="pending"){var I=l;I.status="rejected",I.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Wt(i),i}throw vt=l,Oe}}function et(i){try{var l=i._init;return l(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vt=d,Oe):d}}var vt=null;function St(){if(vt===null)throw Error(n(459));var i=vt;return vt=null,i}function Wt(i){if(i===Oe||i===Te)throw Error(n(483))}var Dt=null,Cs=0;function ys(i){var l=Cs;return Cs+=1,Dt===null&&(Dt=[]),bt(Dt,i,l)}function nn(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Bs(i,l){throw l.$$typeof===x?Error(n(525)):(i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function _n(i){function l(Xe,Pe){if(i){var rt=Xe.deletions;rt===null?(Xe.deletions=[Pe],Xe.flags|=16):rt.push(Pe)}}function d(Xe,Pe){if(!i)return null;for(;Pe!==null;)l(Xe,Pe),Pe=Pe.sibling;return null}function p(Xe){for(var Pe=new Map;Xe!==null;)Xe.key!==null?Pe.set(Xe.key,Xe):Pe.set(Xe.index,Xe),Xe=Xe.sibling;return Pe}function I(Xe,Pe){return Xe=Mo(Xe,Pe),Xe.index=0,Xe.sibling=null,Xe}function U(Xe,Pe,rt){return Xe.index=rt,i?(rt=Xe.alternate,rt!==null?(rt=rt.index,rt<Pe?(Xe.flags|=67108866,Pe):rt):(Xe.flags|=67108866,Pe)):(Xe.flags|=1048576,Pe)}function Z(Xe){return i&&Xe.alternate===null&&(Xe.flags|=67108866),Xe}function xe(Xe,Pe,rt,Ft){return Pe===null||Pe.tag!==6?(Pe=iu(rt,Xe.mode,Ft),Pe.return=Xe,Pe):(Pe=I(Pe,rt),Pe.return=Xe,Pe)}function De(Xe,Pe,rt,Ft){var $s=rt.type;return $s===E?Nt(Xe,Pe,rt.props.children,Ft,rt.key):Pe!==null&&(Pe.elementType===$s||typeof $s=="object"&&$s!==null&&$s.$$typeof===D&&et($s)===Pe.type)?(Pe=I(Pe,rt.props),nn(Pe,rt),Pe.return=Xe,Pe):(Pe=Jl(rt.type,rt.key,rt.props,null,Xe.mode,Ft),nn(Pe,rt),Pe.return=Xe,Pe)}function ot(Xe,Pe,rt,Ft){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==rt.containerInfo||Pe.stateNode.implementation!==rt.implementation?(Pe=vA(rt,Xe.mode,Ft),Pe.return=Xe,Pe):(Pe=I(Pe,rt.children||[]),Pe.return=Xe,Pe)}function Nt(Xe,Pe,rt,Ft,$s){return Pe===null||Pe.tag!==7?(Pe=mc(rt,Xe.mode,Ft,$s),Pe.return=Xe,Pe):(Pe=I(Pe,rt),Pe.return=Xe,Pe)}function Rt(Xe,Pe,rt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=iu(""+Pe,Xe.mode,rt),Pe.return=Xe,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:return rt=Jl(Pe.type,Pe.key,Pe.props,null,Xe.mode,rt),nn(rt,Pe),rt.return=Xe,rt;case w:return Pe=vA(Pe,Xe.mode,rt),Pe.return=Xe,Pe;case D:return Pe=et(Pe),Rt(Xe,Pe,rt)}if(Ae(Pe)||H(Pe))return Pe=mc(Pe,Xe.mode,rt,null),Pe.return=Xe,Pe;if(typeof Pe.then=="function")return Rt(Xe,ys(Pe),rt);if(Pe.$$typeof===F)return Rt(Xe,Yu(Xe,Pe),rt);Bs(Xe,Pe)}return null}function ut(Xe,Pe,rt,Ft){var $s=Pe!==null?Pe.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return $s!==null?null:xe(Xe,Pe,""+rt,Ft);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case g:return rt.key===$s?De(Xe,Pe,rt,Ft):null;case w:return rt.key===$s?ot(Xe,Pe,rt,Ft):null;case D:return rt=et(rt),ut(Xe,Pe,rt,Ft)}if(Ae(rt)||H(rt))return $s!==null?null:Nt(Xe,Pe,rt,Ft,null);if(typeof rt.then=="function")return ut(Xe,Pe,ys(rt),Ft);if(rt.$$typeof===F)return ut(Xe,Pe,Yu(Xe,rt),Ft);Bs(Xe,rt)}return null}function gt(Xe,Pe,rt,Ft,$s){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return Xe=Xe.get(rt)||null,xe(Pe,Xe,""+Ft,$s);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case g:return Xe=Xe.get(Ft.key===null?rt:Ft.key)||null,De(Pe,Xe,Ft,$s);case w:return Xe=Xe.get(Ft.key===null?rt:Ft.key)||null,ot(Pe,Xe,Ft,$s);case D:return Ft=et(Ft),gt(Xe,Pe,rt,Ft,$s)}if(Ae(Ft)||H(Ft))return Xe=Xe.get(rt)||null,Nt(Pe,Xe,Ft,$s,null);if(typeof Ft.then=="function")return gt(Xe,Pe,rt,ys(Ft),$s);if(Ft.$$typeof===F)return gt(Xe,Pe,rt,Yu(Pe,Ft),$s);Bs(Pe,Ft)}return null}function Es(Xe,Pe,rt,Ft){for(var $s=null,vr=null,Ls=Pe,Tn=Pe=0,nr=null;Ls!==null&&Tn<rt.length;Tn++){Ls.index>Tn?(nr=Ls,Ls=null):nr=Ls.sibling;var yr=ut(Xe,Ls,rt[Tn],Ft);if(yr===null){Ls===null&&(Ls=nr);break}i&&Ls&&yr.alternate===null&&l(Xe,Ls),Pe=U(yr,Pe,Tn),vr===null?$s=yr:vr.sibling=yr,vr=yr,Ls=nr}if(Tn===rt.length)return d(Xe,Ls),Dn&&xo(Xe,Tn),$s;if(Ls===null){for(;Tn<rt.length;Tn++)Ls=Rt(Xe,rt[Tn],Ft),Ls!==null&&(Pe=U(Ls,Pe,Tn),vr===null?$s=Ls:vr.sibling=Ls,vr=Ls);return Dn&&xo(Xe,Tn),$s}for(Ls=p(Ls);Tn<rt.length;Tn++)nr=gt(Ls,Xe,Tn,rt[Tn],Ft),nr!==null&&(i&&nr.alternate!==null&&Ls.delete(nr.key===null?Tn:nr.key),Pe=U(nr,Pe,Tn),vr===null?$s=nr:vr.sibling=nr,vr=nr);return i&&Ls.forEach(function(xd){return l(Xe,xd)}),Dn&&xo(Xe,Tn),$s}function tn(Xe,Pe,rt,Ft){if(rt==null)throw Error(n(151));for(var $s=null,vr=null,Ls=Pe,Tn=Pe=0,nr=null,yr=rt.next();Ls!==null&&!yr.done;Tn++,yr=rt.next()){Ls.index>Tn?(nr=Ls,Ls=null):nr=Ls.sibling;var xd=ut(Xe,Ls,yr.value,Ft);if(xd===null){Ls===null&&(Ls=nr);break}i&&Ls&&xd.alternate===null&&l(Xe,Ls),Pe=U(xd,Pe,Tn),vr===null?$s=xd:vr.sibling=xd,vr=xd,Ls=nr}if(yr.done)return d(Xe,Ls),Dn&&xo(Xe,Tn),$s;if(Ls===null){for(;!yr.done;Tn++,yr=rt.next())yr=Rt(Xe,yr.value,Ft),yr!==null&&(Pe=U(yr,Pe,Tn),vr===null?$s=yr:vr.sibling=yr,vr=yr);return Dn&&xo(Xe,Tn),$s}for(Ls=p(Ls);!yr.done;Tn++,yr=rt.next())yr=gt(Ls,Xe,Tn,yr.value,Ft),yr!==null&&(i&&yr.alternate!==null&&Ls.delete(yr.key===null?Tn:yr.key),Pe=U(yr,Pe,Tn),vr===null?$s=yr:vr.sibling=yr,vr=yr);return i&&Ls.forEach(function(A6){return l(Xe,A6)}),Dn&&xo(Xe,Tn),$s}function Wr(Xe,Pe,rt,Ft){if(typeof rt=="object"&&rt!==null&&rt.type===E&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case g:e:{for(var $s=rt.key;Pe!==null;){if(Pe.key===$s){if($s=rt.type,$s===E){if(Pe.tag===7){d(Xe,Pe.sibling),Ft=I(Pe,rt.props.children),Ft.return=Xe,Xe=Ft;break e}}else if(Pe.elementType===$s||typeof $s=="object"&&$s!==null&&$s.$$typeof===D&&et($s)===Pe.type){d(Xe,Pe.sibling),Ft=I(Pe,rt.props),nn(Ft,rt),Ft.return=Xe,Xe=Ft;break e}d(Xe,Pe);break}else l(Xe,Pe);Pe=Pe.sibling}rt.type===E?(Ft=mc(rt.props.children,Xe.mode,Ft,rt.key),Ft.return=Xe,Xe=Ft):(Ft=Jl(rt.type,rt.key,rt.props,null,Xe.mode,Ft),nn(Ft,rt),Ft.return=Xe,Xe=Ft)}return Z(Xe);case w:e:{for($s=rt.key;Pe!==null;){if(Pe.key===$s)if(Pe.tag===4&&Pe.stateNode.containerInfo===rt.containerInfo&&Pe.stateNode.implementation===rt.implementation){d(Xe,Pe.sibling),Ft=I(Pe,rt.children||[]),Ft.return=Xe,Xe=Ft;break e}else{d(Xe,Pe);break}else l(Xe,Pe);Pe=Pe.sibling}Ft=vA(rt,Xe.mode,Ft),Ft.return=Xe,Xe=Ft}return Z(Xe);case D:return rt=et(rt),Wr(Xe,Pe,rt,Ft)}if(Ae(rt))return Es(Xe,Pe,rt,Ft);if(H(rt)){if($s=H(rt),typeof $s!="function")throw Error(n(150));return rt=$s.call(rt),tn(Xe,Pe,rt,Ft)}if(typeof rt.then=="function")return Wr(Xe,Pe,ys(rt),Ft);if(rt.$$typeof===F)return Wr(Xe,Pe,Yu(Xe,rt),Ft);Bs(Xe,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,Pe!==null&&Pe.tag===6?(d(Xe,Pe.sibling),Ft=I(Pe,rt),Ft.return=Xe,Xe=Ft):(d(Xe,Pe),Ft=iu(rt,Xe.mode,Ft),Ft.return=Xe,Xe=Ft),Z(Xe)):d(Xe,Pe)}return function(Xe,Pe,rt,Ft){try{Cs=0;var $s=Wr(Xe,Pe,rt,Ft);return Dt=null,$s}catch(Ls){if(Ls===Oe||Ls===Te)throw Ls;var vr=Di(29,Ls,null,Xe.mode);return vr.lanes=Ft,vr.return=Xe,vr}finally{}}}var Or=_n(!0),hn=_n(!1),pt=!1;function ls(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qr(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ws(i,l,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(gr&2)!==0){var I=p.pending;return I===null?l.next=l:(l.next=I.next,I.next=l),p.pending=l,l=Ui(i),ru(i,null,d),l}return zc(i,p,l,d),Ui(i)}function fr(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,un(i,d)}}function Da(i,l){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var I=null,U=null;if(d=d.firstBaseUpdate,d!==null){do{var Z={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};U===null?I=U=Z:U=U.next=Z,d=d.next}while(d!==null);U===null?I=U=l:U=U.next=l}else I=U=l;d={baseState:p.baseState,firstBaseUpdate:I,lastBaseUpdate:U,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var Na=!1;function mr(){if(Na){var i=_;if(i!==null)throw i}}function Ra(i,l,d,p){Na=!1;var I=i.updateQueue;pt=!1;var U=I.firstBaseUpdate,Z=I.lastBaseUpdate,xe=I.shared.pending;if(xe!==null){I.shared.pending=null;var De=xe,ot=De.next;De.next=null,Z===null?U=ot:Z.next=ot,Z=De;var Nt=i.alternate;Nt!==null&&(Nt=Nt.updateQueue,xe=Nt.lastBaseUpdate,xe!==Z&&(xe===null?Nt.firstBaseUpdate=ot:xe.next=ot,Nt.lastBaseUpdate=De))}if(U!==null){var Rt=I.baseState;Z=0,Nt=ot=De=null,xe=U;do{var ut=xe.lane&-536870913,gt=ut!==xe.lane;if(gt?(Mn&ut)===ut:(p&ut)===ut){ut!==0&&ut===b&&(Na=!0),Nt!==null&&(Nt=Nt.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var Es=i,tn=xe;ut=l;var Wr=d;switch(tn.tag){case 1:if(Es=tn.payload,typeof Es=="function"){Rt=Es.call(Wr,Rt,ut);break e}Rt=Es;break e;case 3:Es.flags=Es.flags&-65537|128;case 0:if(Es=tn.payload,ut=typeof Es=="function"?Es.call(Wr,Rt,ut):Es,ut==null)break e;Rt=m({},Rt,ut);break e;case 2:pt=!0}}ut=xe.callback,ut!==null&&(i.flags|=64,gt&&(i.flags|=8192),gt=I.callbacks,gt===null?I.callbacks=[ut]:gt.push(ut))}else gt={lane:ut,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Nt===null?(ot=Nt=gt,De=Rt):Nt=Nt.next=gt,Z|=ut;if(xe=xe.next,xe===null){if(xe=I.shared.pending,xe===null)break;gt=xe,xe=gt.next,gt.next=null,I.lastBaseUpdate=gt,I.shared.pending=null}}while(!0);Nt===null&&(De=Rt),I.baseState=De,I.firstBaseUpdate=ot,I.lastBaseUpdate=Nt,U===null&&(I.shared.lanes=0),N|=Z,i.lanes=Z,i.memoizedState=Rt}}function Ri(i,l){if(typeof i!="function")throw Error(n(191,i));i.call(l)}function La(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)Ri(d[i],l)}var An=W(null),kn=W(0);function kr(i,l){i=v,ee(kn,i),ee(An,l),v=i|l.baseLanes}function or(){ee(kn,v),ee(An,An.current)}function Qa(){v=kn.current,K(An),K(kn)}var Zr=W(null),Pn=null;function Sa(i){var l=i.alternate;ee(Wn,Wn.current&1),ee(Zr,i),Pn===null&&(l===null||An.current!==null||l.memoizedState!==null)&&(Pn=i)}function pr(i){ee(Wn,Wn.current),ee(Zr,i),Pn===null&&(Pn=i)}function Oa(i){i.tag===22?(ee(Wn,Wn.current),ee(Zr,i),Pn===null&&(Pn=i)):ka()}function ka(){ee(Wn,Wn.current),ee(Zr,Zr.current)}function jr(i){K(Zr),Pn===i&&(Pn=null),K(Wn)}var Wn=W(0);function Li(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||gy(d)||xy(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Aa=0,ks=null,Ks=null,sr=null,co=!1,vo=!1,to=!1,ea=0,jc=0,Dl=null,BA=0;function Br(){throw Error(n(321))}function Xu(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!On(i[d],l[d]))return!1;return!0}function uh(i,l,d,p,I,U){return Aa=U,ks=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ie.H=i===null||i.memoizedState===null?a0:Nf,to=!1,U=d(p,I),to=!1,vo&&(U=yl(l,d,p,I)),cu(i),U}function cu(i){ie.H=yh;var l=Ks!==null&&Ks.next!==null;if(Aa=0,sr=Ks=ks=null,co=!1,jc=0,Dl=null,l)throw Error(n(300));i===null||ta||(i=i.dependencies,i!==null&&$u(i)&&(ta=!0))}function yl(i,l,d,p){ks=i;var I=0;do{if(vo&&(Dl=null),jc=0,vo=!1,25<=I)throw Error(n(301));if(I+=1,sr=Ks=null,i.updateQueue!=null){var U=i.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}ie.H=Sf,U=l(d,p)}while(vo);return U}function dh(){var i=ie.H,l=i.useState()[0];return l=typeof l.then=="function"?Bc(l):l,i=i.useState()[0],(Ks!==null?Ks.memoizedState:null)!==i&&(ks.flags|=1024),l}function Ju(){var i=ea!==0;return ea=0,i}function qu(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function Au(i){if(co){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}co=!1}Aa=0,sr=Ks=ks=null,vo=!1,jc=ea=0,Dl=null}function qa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?ks.memoizedState=sr=i:sr=sr.next=i,sr}function Gr(){if(Ks===null){var i=ks.alternate;i=i!==null?i.memoizedState:null}else i=Ks.next;var l=sr===null?ks.memoizedState:sr.next;if(l!==null)sr=l,Ks=i;else{if(i===null)throw ks.alternate===null?Error(n(467)):Error(n(310));Ks=i,i={memoizedState:Ks.memoizedState,baseState:Ks.baseState,baseQueue:Ks.baseQueue,queue:Ks.queue,next:null},sr===null?ks.memoizedState=sr=i:sr=sr.next=i}return sr}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bc(i){var l=jc;return jc+=1,Dl===null&&(Dl=[]),i=bt(Dl,i,l),l=ks,(sr===null?l.memoizedState:sr.next)===null&&(l=l.alternate,ie.H=l===null||l.memoizedState===null?a0:Nf),i}function NA(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bc(i);if(i.$$typeof===F)return bi(i)}throw Error(n(438,String(i)))}function oi(i){var l=null,d=ks.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=ks.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(I){return I.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=uu(),ks.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),p=0;p<i;p++)d[p]=V;return l.index++,d}function $o(i,l){return typeof l=="function"?l(i):l}function Zu(i){var l=Gr();return SA(l,Ks,i)}function SA(i,l,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var I=i.baseQueue,U=p.pending;if(U!==null){if(I!==null){var Z=I.next;I.next=U.next,U.next=Z}l.baseQueue=I=U,p.pending=null}if(U=i.baseState,I===null)i.memoizedState=U;else{l=I.next;var xe=Z=null,De=null,ot=l,Nt=!1;do{var Rt=ot.lane&-536870913;if(Rt!==ot.lane?(Mn&Rt)===Rt:(Aa&Rt)===Rt){var ut=ot.revertLane;if(ut===0)De!==null&&(De=De.next={lane:0,revertLane:0,gesture:null,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),Rt===b&&(Nt=!0);else if((Aa&ut)===ut){ot=ot.next,ut===b&&(Nt=!0);continue}else Rt={lane:0,revertLane:ot.revertLane,gesture:null,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},De===null?(xe=De=Rt,Z=U):De=De.next=Rt,ks.lanes|=ut,N|=ut;Rt=ot.action,to&&d(U,Rt),U=ot.hasEagerState?ot.eagerState:d(U,Rt)}else ut={lane:Rt,revertLane:ot.revertLane,gesture:ot.gesture,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},De===null?(xe=De=ut,Z=U):De=De.next=ut,ks.lanes|=Rt,N|=Rt;ot=ot.next}while(ot!==null&&ot!==l);if(De===null?Z=U:De.next=xe,!On(U,i.memoizedState)&&(ta=!0,Nt&&(d=_,d!==null)))throw d;i.memoizedState=U,i.baseState=Z,i.baseQueue=De,p.lastRenderedState=U}return I===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function ed(i){var l=Gr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,I=d.pending,U=l.memoizedState;if(I!==null){d.pending=null;var Z=I=I.next;do U=i(U,Z.action),Z=Z.next;while(Z!==I);On(U,l.memoizedState)||(ta=!0),l.memoizedState=U,l.baseQueue===null&&(l.baseState=U),d.lastRenderedState=U}return[U,p]}function td(i,l,d){var p=ks,I=Gr(),U=Dn;if(U){if(d===void 0)throw Error(n(407));d=d()}else d=l();var Z=!On((Ks||I).memoizedState,d);if(Z&&(I.memoizedState=d,ta=!0),I=I.queue,bf(fh.bind(null,p,I,i),[i]),I.getSnapshot!==l||Z||sr!==null&&sr.memoizedState.tag&1){if(p.flags|=2048,Xc(9,{destroy:void 0},hh.bind(null,p,I,d,l),null),Pr===null)throw Error(n(349));U||(Aa&127)!==0||Zl(p,l,d)}return d}function Zl(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=ks.updateQueue,l===null?(l=uu(),ks.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function hh(i,l,d,p){l.value=d,l.getSnapshot=p,xf(l)&&mh(i)}function fh(i,l,d){return d(function(){xf(l)&&mh(i)})}function xf(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!On(i,d)}catch{return!0}}function mh(i){var l=Il(i,2);l!==null&&Mr(l,i,2)}function ec(i){var l=qa();if(typeof i=="function"){var d=i;if(i=d(),to){dt(!0);try{d()}finally{dt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:i},l}function vf(i,l,d,p){return i.baseState=d,SA(i,Ks,typeof p=="function"?p:$o)}function sd(i,l,d,p,I){if(du(i))throw Error(n(485));if(i=l.action,i!==null){var U={payload:I,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){U.listeners.push(Z)}};ie.T!==null?d(!0):U.isTransition=!1,p(U),d=l.pending,d===null?(U.next=l.pending=U,ph(l,U)):(U.next=d.next,l.pending=d.next=U)}}function ph(i,l){var d=l.action,p=l.payload,I=i.state;if(l.isTransition){var U=ie.T,Z={};ie.T=Z;try{var xe=d(I,p),De=ie.S;De!==null&&De(Z,xe),Za(i,l,xe)}catch(ot){Wc(i,l,ot)}finally{U!==null&&Z.types!==null&&(U.types=Z.types),ie.T=U}}else try{U=d(I,p),Za(i,l,U)}catch(ot){Wc(i,l,ot)}}function Za(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){CA(i,l,p)},function(p){return Wc(i,l,p)}):CA(i,l,d)}function CA(i,l,d){l.status="fulfilled",l.value=d,nd(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,ph(i,d)))}function Wc(i,l,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,nd(l),l=l.next;while(l!==p)}i.action=null}function nd(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function EA(i,l){return l}function Yo(i,l){if(Dn){var d=Pr.formState;if(d!==null){e:{var p=ks;if(Dn){if(Qr){t:{for(var I=Qr,U=ca;I.nodeType!==8;){if(!U){I=null;break t}if(I=Ec(I.nextSibling),I===null){I=null;break t}}U=I.data,I=U==="F!"||U==="F"?I:null}if(I){Qr=Ec(I.nextSibling),p=I.data==="F!";break e}}xc(p)}p=!1}p&&(l=d[0])}}return d=qa(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EA,lastRenderedState:l},d.queue=p,d=Wm.bind(null,ks,p),p.dispatch=d,p=ec(!1),U=vh.bind(null,ks,!1,p.queue),p=qa(),I={state:l,dispatch:null,action:i,pending:null},p.queue=I,d=sd.bind(null,ks,I,U,d),I.dispatch=d,p.memoizedState=i,[l,d,!1]}function tc(i){var l=Gr();return sc(l,Ks,i)}function sc(i,l,d){if(l=SA(i,l,EA)[0],i=Zu($o)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Bc(l)}catch(Z){throw Z===Oe?Te:Z}else p=l;l=Gr();var I=l.queue,U=I.dispatch;return d!==l.memoizedState&&(ks.flags|=2048,Xc(9,{destroy:void 0},rd.bind(null,I,d),null)),[p,U,i]}function rd(i,l){i.action=l}function ad(i){var l=Gr(),d=Ks;if(d!==null)return sc(l,d,i);Gr(),l=l.memoizedState,d=Gr();var p=d.queue.dispatch;return d.memoizedState=i,[l,p,!1]}function Xc(i,l,d,p){return i={tag:i,create:d,deps:p,inst:l,next:null},l=ks.updateQueue,l===null&&(l=uu(),ks.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,l.lastEffect=i),i}function yf(){return Gr().memoizedState}function TA(i,l,d,p){var I=qa();ks.flags|=i,I.memoizedState=Xc(1|l,{destroy:void 0},d,p===void 0?null:p)}function IA(i,l,d,p){var I=Gr();p=p===void 0?null:p;var U=I.memoizedState.inst;Ks!==null&&p!==null&&Xu(p,Ks.memoizedState.deps)?I.memoizedState=Xc(l,U,d,p):(ks.flags|=i,I.memoizedState=Xc(1|l,U,d,p))}function Mm(i,l){TA(8390656,8,i,l)}function bf(i,l){IA(2048,8,i,l)}function Jg(i){ks.flags|=4;var l=ks.updateQueue;if(l===null)l=uu(),ks.updateQueue=l,l.events=[i];else{var d=l.events;d===null?l.events=[i]:d.push(i)}}function Hm(i){var l=Gr().memoizedState;return Jg({ref:l,nextImpl:i}),function(){if((gr&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function wf(i,l){return IA(4,2,i,l)}function qg(i,l){return IA(4,4,i,l)}function Zg(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function e0(i,l,d){d=d!=null?d.concat([i]):null,IA(4,4,Zg.bind(null,l,i),d)}function Vm(){}function gh(i,l){var d=Gr();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Xu(l,p[1])?p[0]:(d.memoizedState=[i,l],i)}function xh(i,l){var d=Gr();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Xu(l,p[1]))return p[0];if(p=i(),to){dt(!0);try{i()}finally{dt(!1)}}return d.memoizedState=[p,l],p}function Km(i,l,d){return d===void 0||(Aa&1073741824)!==0&&(Mn&261930)===0?i.memoizedState=l:(i.memoizedState=d,i=ei(),ks.lanes|=i,N|=i,d)}function zm(i,l,d,p){return On(d,l)?d:An.current!==null?(i=Km(i,d,p),On(i,l)||(ta=!0),i):(Aa&42)===0||(Aa&1073741824)!==0&&(Mn&261930)===0?(ta=!0,i.memoizedState=d):(i=ei(),ks.lanes|=i,N|=i,l)}function jf(i,l,d,p,I){var U=le.p;le.p=U!==0&&8>U?U:8;var Z=ie.T,xe={};ie.T=xe,vh(i,!1,l,d);try{var De=I(),ot=ie.S;if(ot!==null&&ot(xe,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var Nt=de(De,p);Nc(i,l,Nt,Os(i))}else Nc(i,l,p,Os(i))}catch(Rt){Nc(i,l,{then:function(){},status:"rejected",reason:Rt},Os())}finally{le.p=U,Z!==null&&xe.types!==null&&(Z.types=xe.types),ie.T=Z}}function t0(){}function Bf(i,l,d,p){if(i.tag!==5)throw Error(n(476));var I=Gm(i).queue;jf(i,I,l,X,d===null?t0:function(){return s0(i),d(p)})}function Gm(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:X},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function s0(i){var l=Gm(i);l.next===null&&(l=i.alternate.memoizedState),Nc(i,l.next.queue,{},Os())}function id(){return bi(wp)}function $m(){return Gr().memoizedState}function Ym(){return Gr().memoizedState}function Wv(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=Os();i=Gs(d);var p=Ws(l,i,d);p!==null&&(Mr(p,l,d),fr(p,l,d)),l={cache:wA()},i.payload=l;return}l=l.return}}function Xv(i,l,d){var p=Os();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},du(i)?n0(l,d):(d=Mu(i,l,d,p),d!==null&&(Mr(d,i,p),r0(d,l,p)))}function Wm(i,l,d){var p=Os();Nc(i,l,d,p)}function Nc(i,l,d,p){var I={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(du(i))n0(l,I);else{var U=i.alternate;if(i.lanes===0&&(U===null||U.lanes===0)&&(U=l.lastRenderedReducer,U!==null))try{var Z=l.lastRenderedState,xe=U(Z,d);if(I.hasEagerState=!0,I.eagerState=xe,On(xe,Z))return zc(i,l,I,0),Pr===null&&nu(),!1}catch{}finally{}if(d=Mu(i,l,I,p),d!==null)return Mr(d,i,p),r0(d,l,p),!0}return!1}function vh(i,l,d,p){if(p={lane:2,revertLane:ay(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},du(i)){if(l)throw Error(n(479))}else l=Mu(i,d,p,2),l!==null&&Mr(l,i,2)}function du(i){var l=i.alternate;return i===ks||l!==null&&l===ks}function n0(i,l){vo=co=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function r0(i,l,d){if((d&4194048)!==0){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,un(i,d)}}var yh={readContext:bi,use:NA,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br};yh.useEffectEvent=Br;var a0={readContext:bi,use:NA,useCallback:function(i,l){return qa().memoizedState=[i,l===void 0?null:l],i},useContext:bi,useEffect:Mm,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,TA(4194308,4,Zg.bind(null,l,i),d)},useLayoutEffect:function(i,l){return TA(4194308,4,i,l)},useInsertionEffect:function(i,l){TA(4,2,i,l)},useMemo:function(i,l){var d=qa();l=l===void 0?null:l;var p=i();if(to){dt(!0);try{i()}finally{dt(!1)}}return d.memoizedState=[p,l],p},useReducer:function(i,l,d){var p=qa();if(d!==void 0){var I=d(l);if(to){dt(!0);try{d(l)}finally{dt(!1)}}}else I=l;return p.memoizedState=p.baseState=I,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:I},p.queue=i,i=i.dispatch=Xv.bind(null,ks,i),[p.memoizedState,i]},useRef:function(i){var l=qa();return i={current:i},l.memoizedState=i},useState:function(i){i=ec(i);var l=i.queue,d=Wm.bind(null,ks,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:Vm,useDeferredValue:function(i,l){var d=qa();return Km(d,i,l)},useTransition:function(){var i=ec(!1);return i=jf.bind(null,ks,i.queue,!0,!1),qa().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var p=ks,I=qa();if(Dn){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Pr===null)throw Error(n(349));(Mn&127)!==0||Zl(p,l,d)}I.memoizedState=d;var U={value:d,getSnapshot:l};return I.queue=U,Mm(fh.bind(null,p,U,i),[i]),p.flags|=2048,Xc(9,{destroy:void 0},hh.bind(null,p,U,d,l),null),d},useId:function(){var i=qa(),l=Pr.identifierPrefix;if(Dn){var d=Zi,p=zo;d=(p&~(1<<32-Ot(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=ea++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=BA++,l="_"+l+"r_"+d.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:id,useFormState:Yo,useActionState:Yo,useOptimistic:function(i){var l=qa();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=vh.bind(null,ks,!0,d),d.dispatch=l,[i,l]},useMemoCache:oi,useCacheRefresh:function(){return qa().memoizedState=Wv.bind(null,ks)},useEffectEvent:function(i){var l=qa(),d={impl:i};return l.memoizedState=d,function(){if((gr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Nf={readContext:bi,use:NA,useCallback:gh,useContext:bi,useEffect:bf,useImperativeHandle:e0,useInsertionEffect:wf,useLayoutEffect:qg,useMemo:xh,useReducer:Zu,useRef:yf,useState:function(){return Zu($o)},useDebugValue:Vm,useDeferredValue:function(i,l){var d=Gr();return zm(d,Ks.memoizedState,i,l)},useTransition:function(){var i=Zu($o)[0],l=Gr().memoizedState;return[typeof i=="boolean"?i:Bc(i),l]},useSyncExternalStore:td,useId:$m,useHostTransitionStatus:id,useFormState:tc,useActionState:tc,useOptimistic:function(i,l){var d=Gr();return vf(d,Ks,i,l)},useMemoCache:oi,useCacheRefresh:Ym};Nf.useEffectEvent=Hm;var Sf={readContext:bi,use:NA,useCallback:gh,useContext:bi,useEffect:bf,useImperativeHandle:e0,useInsertionEffect:wf,useLayoutEffect:qg,useMemo:xh,useReducer:ed,useRef:yf,useState:function(){return ed($o)},useDebugValue:Vm,useDeferredValue:function(i,l){var d=Gr();return Ks===null?Km(d,i,l):zm(d,Ks.memoizedState,i,l)},useTransition:function(){var i=ed($o)[0],l=Gr().memoizedState;return[typeof i=="boolean"?i:Bc(i),l]},useSyncExternalStore:td,useId:$m,useHostTransitionStatus:id,useFormState:ad,useActionState:ad,useOptimistic:function(i,l){var d=Gr();return Ks!==null?vf(d,Ks,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:oi,useCacheRefresh:Ym};Sf.useEffectEvent=Hm;function Cf(i,l,d,p){l=i.memoizedState,d=d(p,l),d=d==null?l:m({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Ef={enqueueSetState:function(i,l,d){i=i._reactInternals;var p=Os(),I=Gs(p);I.payload=l,d!=null&&(I.callback=d),l=Ws(i,I,p),l!==null&&(Mr(l,i,p),fr(l,i,p))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var p=Os(),I=Gs(p);I.tag=1,I.payload=l,d!=null&&(I.callback=d),l=Ws(i,I,p),l!==null&&(Mr(l,i,p),fr(l,i,p))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Os(),p=Gs(d);p.tag=2,l!=null&&(p.callback=l),l=Ws(i,p,d),l!==null&&(Mr(l,i,d),fr(l,i,d))}};function Tf(i,l,d,p,I,U,Z){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,U,Z):l.prototype&&l.prototype.isPureReactComponent?!_i(d,p)||!_i(I,U):!0}function Xm(i,l,d,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==i&&Ef.enqueueReplaceState(l,l.state,null)}function _A(i,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(i=i.defaultProps){d===l&&(d=m({},d));for(var I in i)d[I]===void 0&&(d[I]=i[I])}return d}function i0(i){xA(i)}function bh(i){console.error(i)}function wh(i){xA(i)}function jh(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Jm(i,l,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function qm(i,l,d){return d=Gs(d),d.tag=3,d.payload={element:null},d.callback=function(){jh(i,l)},d}function Zm(i){return i=Gs(i),i.tag=3,i}function ep(i,l,d,p){var I=d.type.getDerivedStateFromError;if(typeof I=="function"){var U=p.value;i.payload=function(){return I(U)},i.callback=function(){Jm(l,d,p)}}var Z=d.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(i.callback=function(){Jm(l,d,p),typeof I!="function"&&(As===null?As=new Set([this]):As.add(this));var xe=p.stack;this.componentDidCatch(p.value,{componentStack:xe!==null?xe:""})})}function Jv(i,l,d,p,I){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&bc(l,d,I,!0),d=Zr.current,d!==null){switch(d.tag){case 31:case 13:return Pn===null?Pl():d.alternate===null&&S===0&&(S=3),d.flags&=-257,d.flags|=65536,d.lanes=I,p===Ke?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),sy(i,p,I)),!1;case 22:return d.flags|=65536,p===Ke?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),sy(i,p,I)),!1}throw Error(n(435,d.tag))}return sy(i,p,I),Pl(),!1}if(Dn)return l=Zr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=I,p!==lo&&(i=Error(n(422),{cause:p}),ql(Ho(i,d)))):(p!==lo&&(l=Error(n(423),{cause:p}),ql(Ho(l,d))),i=i.current.alternate,i.flags|=65536,I&=-I,i.lanes|=I,p=Ho(p,d),I=qm(i.stateNode,p,I),Da(i,I),S!==4&&(S=2)),!1;var U=Error(n(520),{cause:p});if(U=Ho(U,d),Ce===null?Ce=[U]:Ce.push(U),S!==4&&(S=2),l===null)return!0;p=Ho(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=I&-I,d.lanes|=i,i=qm(d.stateNode,p,i),Da(d,i),!1;case 1:if(l=d.type,U=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(As===null||!As.has(U))))return d.flags|=65536,I&=-I,d.lanes|=I,I=Zm(I),ep(I,i,d,p),Da(d,I),!1}d=d.return}while(d!==null);return!1}var tp=Error(n(461)),ta=!1;function Qi(i,l,d,p){l.child=i===null?hn(l,null,d,p):Or(l,i.child,d,p)}function Pa(i,l,d,p,I){d=d.render;var U=l.ref;if("ref"in p){var Z={};for(var xe in p)xe!=="ref"&&(Z[xe]=p[xe])}else Z=p;return wc(l),p=uh(i,l,d,Z,U,I),xe=Ju(),i!==null&&!ta?(qu(i,l,I),qc(i,l,I)):(Dn&&xe&&ch(l),l.flags|=1,Qi(i,l,p,I),l.child)}function FA(i,l,d,p,I){if(i===null){var U=d.type;return typeof U=="function"&&!Xl(U)&&U.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=U,hu(i,l,U,p,I)):(i=Jl(d.type,null,p,l,l.mode,I),i.ref=l.ref,i.return=l,l.child=i)}if(U=i.child,!cp(i,I)){var Z=U.memoizedProps;if(d=d.compare,d=d!==null?d:_i,d(Z,p)&&i.ref===l.ref)return qc(i,l,I)}return l.flags|=1,i=Mo(U,p),i.ref=l.ref,i.return=l,l.child=i}function hu(i,l,d,p,I){if(i!==null){var U=i.memoizedProps;if(_i(U,p)&&i.ref===l.ref)if(ta=!1,l.pendingProps=p=U,cp(i,I))(i.flags&131072)!==0&&(ta=!0);else return l.lanes=i.lanes,qc(i,l,I)}return Nh(i,l,d,p,I)}function Jc(i,l,d,p){var I=p.children,U=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(U=U!==null?U.baseLanes|d:d,i!==null){for(p=l.child=i.child,I=0;p!==null;)I=I|p.lanes|p.childLanes,p=p.sibling;p=I&~U}else p=0,l.child=null;return od(i,l,U,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Be(l,U!==null?U.cachePool:null),U!==null?kr(l,U):or(),Oa(l);else return p=l.lanes=536870912,od(i,l,U!==null?U.baseLanes|d:d,d,p)}else U!==null?(Be(l,U.cachePool),kr(l,U),ka(),l.memoizedState=null):(i!==null&&Be(l,null),or(),ka());return Qi(i,l,I,d),l.child}function Rl(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function od(i,l,d,p,I){var U=we();return U=U===null?null:{parent:Ba._currentValue,pool:U},l.memoizedState={baseLanes:d,cachePool:U},i!==null&&Be(l,null),or(),Oa(l),i!==null&&bc(i,l,p,!0),l.childLanes=I,null}function Ll(i,l){return l=If({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function sp(i,l,d){return Or(l,i.child,null,d),i=Ll(l,l.pendingProps),i.flags|=2,jr(l),l.memoizedState=null,i}function o0(i,l,d){var p=l.pendingProps,I=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Dn){if(p.mode==="hidden")return i=Ll(l,p),l.lanes=536870912,Rl(null,i);if(pr(l),(i=Qr)?(i=Sj(i,ca),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:gc!==null?{id:zo,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},d=Vu(i),d.return=l,l.child=d,vi=l,Qr=null)):i=null,i===null)throw xc(l);return l.lanes=536870912,null}return Ll(l,p)}var U=i.memoizedState;if(U!==null){var Z=U.dehydrated;if(pr(l),I)if(l.flags&256)l.flags&=-257,l=sp(i,l,d);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(n(558));else if(ta||bc(i,l,d,!1),I=(d&i.childLanes)!==0,ta||I){if(p=Pr,p!==null&&(Z=Kn(p,d),Z!==0&&Z!==U.retryLane))throw U.retryLane=Z,Il(i,Z),Mr(p,i,Z),tp;Pl(),l=sp(i,l,d)}else i=U.treeContext,Qr=Ec(Z.nextSibling),vi=l,Dn=!0,eo=null,ca=!1,i!==null&&pf(l,i),l=Ll(l,p),l.flags|=4096;return l}return i=Mo(i.child,{mode:p.mode,children:p.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Bh(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function Nh(i,l,d,p,I){return wc(l),d=uh(i,l,d,p,void 0,I),p=Ju(),i!==null&&!ta?(qu(i,l,I),qc(i,l,I)):(Dn&&p&&ch(l),l.flags|=1,Qi(i,l,d,I),l.child)}function ld(i,l,d,p,I,U){return wc(l),l.updateQueue=null,d=yl(l,p,d,I),cu(i),p=Ju(),i!==null&&!ta?(qu(i,l,U),qc(i,l,U)):(Dn&&p&&ch(l),l.flags|=1,Qi(i,l,d,U),l.child)}function np(i,l,d,p,I){if(wc(l),l.stateNode===null){var U=xi,Z=d.contextType;typeof Z=="object"&&Z!==null&&(U=bi(Z)),U=new d(p,U),l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Ef,l.stateNode=U,U._reactInternals=l,U=l.stateNode,U.props=p,U.state=l.memoizedState,U.refs={},ls(l),Z=d.contextType,U.context=typeof Z=="object"&&Z!==null?bi(Z):xi,U.state=l.memoizedState,Z=d.getDerivedStateFromProps,typeof Z=="function"&&(Cf(l,d,Z,p),U.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(Z=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Z!==U.state&&Ef.enqueueReplaceState(U,U.state,null),Ra(l,p,U,I),mr(),U.state=l.memoizedState),typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(i===null){U=l.stateNode;var xe=l.memoizedProps,De=_A(d,xe);U.props=De;var ot=U.context,Nt=d.contextType;Z=xi,typeof Nt=="object"&&Nt!==null&&(Z=bi(Nt));var Rt=d.getDerivedStateFromProps;Nt=typeof Rt=="function"||typeof U.getSnapshotBeforeUpdate=="function",xe=l.pendingProps!==xe,Nt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(xe||ot!==Z)&&Xm(l,U,p,Z),pt=!1;var ut=l.memoizedState;U.state=ut,Ra(l,p,U,I),mr(),ot=l.memoizedState,xe||ut!==ot||pt?(typeof Rt=="function"&&(Cf(l,d,Rt,p),ot=l.memoizedState),(De=pt||Tf(l,d,De,p,ut,ot,Z))?(Nt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(l.flags|=4194308)):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ot),U.props=p,U.state=ot,U.context=Z,p=De):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{U=l.stateNode,qr(i,l),Z=l.memoizedProps,Nt=_A(d,Z),U.props=Nt,Rt=l.pendingProps,ut=U.context,ot=d.contextType,De=xi,typeof ot=="object"&&ot!==null&&(De=bi(ot)),xe=d.getDerivedStateFromProps,(ot=typeof xe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==Rt||ut!==De)&&Xm(l,U,p,De),pt=!1,ut=l.memoizedState,U.state=ut,Ra(l,p,U,I),mr();var gt=l.memoizedState;Z!==Rt||ut!==gt||pt||i!==null&&i.dependencies!==null&&$u(i.dependencies)?(typeof xe=="function"&&(Cf(l,d,xe,p),gt=l.memoizedState),(Nt=pt||Tf(l,d,Nt,p,ut,gt,De)||i!==null&&i.dependencies!==null&&$u(i.dependencies))?(ot||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(p,gt,De),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(p,gt,De)),typeof U.componentDidUpdate=="function"&&(l.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof U.componentDidUpdate!="function"||Z===i.memoizedProps&&ut===i.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&ut===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=gt),U.props=p,U.state=gt,U.context=De,p=Nt):(typeof U.componentDidUpdate!="function"||Z===i.memoizedProps&&ut===i.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===i.memoizedProps&&ut===i.memoizedState||(l.flags|=1024),p=!1)}return U=p,Bh(i,l),p=(l.flags&128)!==0,U||p?(U=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:U.render(),l.flags|=1,i!==null&&p?(l.child=Or(l,i.child,null,I),l.child=Or(l,null,d,I)):Qi(i,l,d,I),l.memoizedState=U.state,i=l.child):i=qc(i,l,I),i}function rp(i,l,d,p){return Yc(),l.flags|=256,Qi(i,l,d,p),l.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(i){return{baseLanes:i,cachePool:Ie()}}function ip(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=fe),i}function l0(i,l,d){var p=l.pendingProps,I=!1,U=(l.flags&128)!==0,Z;if((Z=U)||(Z=i!==null&&i.memoizedState===null?!1:(Wn.current&2)!==0),Z&&(I=!0,l.flags&=-129),Z=(l.flags&32)!==0,l.flags&=-33,i===null){if(Dn){if(I?Sa(l):ka(),(i=Qr)?(i=Sj(i,ca),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:gc!==null?{id:zo,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},d=Vu(i),d.return=l,l.child=d,vi=l,Qr=null)):i=null,i===null)throw xc(l);return xy(i)?l.lanes=32:l.lanes=536870912,null}var xe=p.children;return p=p.fallback,I?(ka(),I=l.mode,xe=If({mode:"hidden",children:xe},I),p=mc(p,I,d,null),xe.return=l,p.return=l,xe.sibling=p,l.child=xe,p=l.child,p.memoizedState=ap(d),p.childLanes=ip(i,Z,d),l.memoizedState=fu,Rl(null,p)):(Sa(l),op(l,xe))}var De=i.memoizedState;if(De!==null&&(xe=De.dehydrated,xe!==null)){if(U)l.flags&256?(Sa(l),l.flags&=-257,l=Sh(i,l,d)):l.memoizedState!==null?(ka(),l.child=i.child,l.flags|=128,l=null):(ka(),xe=p.fallback,I=l.mode,p=If({mode:"visible",children:p.children},I),xe=mc(xe,I,d,null),xe.flags|=2,p.return=l,xe.return=l,p.sibling=xe,l.child=p,Or(l,i.child,null,d),p=l.child,p.memoizedState=ap(d),p.childLanes=ip(i,Z,d),l.memoizedState=fu,l=Rl(null,p));else if(Sa(l),xy(xe)){if(Z=xe.nextSibling&&xe.nextSibling.dataset,Z)var ot=Z.dgst;Z=ot,p=Error(n(419)),p.stack="",p.digest=Z,ql({value:p,source:null,stack:null}),l=Sh(i,l,d)}else if(ta||bc(i,l,d,!1),Z=(d&i.childLanes)!==0,ta||Z){if(Z=Pr,Z!==null&&(p=Kn(Z,d),p!==0&&p!==De.retryLane))throw De.retryLane=p,Il(i,p),Mr(Z,i,p),tp;gy(xe)||Pl(),l=Sh(i,l,d)}else gy(xe)?(l.flags|=192,l.child=i.child,l=null):(i=De.treeContext,Qr=Ec(xe.nextSibling),vi=l,Dn=!0,eo=null,ca=!1,i!==null&&pf(l,i),l=op(l,p.children),l.flags|=4096);return l}return I?(ka(),xe=p.fallback,I=l.mode,De=i.child,ot=De.sibling,p=Mo(De,{mode:"hidden",children:p.children}),p.subtreeFlags=De.subtreeFlags&65011712,ot!==null?xe=Mo(ot,xe):(xe=mc(xe,I,d,null),xe.flags|=2),xe.return=l,p.return=l,p.sibling=xe,l.child=p,Rl(null,p),p=l.child,xe=i.child.memoizedState,xe===null?xe=ap(d):(I=xe.cachePool,I!==null?(De=Ba._currentValue,I=I.parent!==De?{parent:De,pool:De}:I):I=Ie(),xe={baseLanes:xe.baseLanes|d,cachePool:I}),p.memoizedState=xe,p.childLanes=ip(i,Z,d),l.memoizedState=fu,Rl(i.child,p)):(Sa(l),d=i.child,i=d.sibling,d=Mo(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,i!==null&&(Z=l.deletions,Z===null?(l.deletions=[i],l.flags|=16):Z.push(i)),l.child=d,l.memoizedState=null,d)}function op(i,l){return l=If({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function If(i,l){return i=Di(22,i,null,l),i.lanes=0,i}function Sh(i,l,d){return Or(l,i.child,null,d),i=op(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function c0(i,l,d){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),bA(i.return,l,d)}function lp(i,l,d,p,I,U){var Z=i.memoizedState;Z===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:I,treeForkCount:U}:(Z.isBackwards=l,Z.rendering=null,Z.renderingStartTime=0,Z.last=p,Z.tail=d,Z.tailMode=I,Z.treeForkCount=U)}function A0(i,l,d){var p=l.pendingProps,I=p.revealOrder,U=p.tail;p=p.children;var Z=Wn.current,xe=(Z&2)!==0;if(xe?(Z=Z&1|2,l.flags|=128):Z&=1,ee(Wn,Z),Qi(i,l,p,d),p=Dn?pc:0,!xe&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&c0(i,d,l);else if(i.tag===19)c0(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(I){case"forwards":for(d=l.child,I=null;d!==null;)i=d.alternate,i!==null&&Li(i)===null&&(I=d),d=d.sibling;d=I,d===null?(I=l.child,l.child=null):(I=d.sibling,d.sibling=null),lp(l,!1,I,d,U,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,I=l.child,l.child=null;I!==null;){if(i=I.alternate,i!==null&&Li(i)===null){l.child=I;break}i=I.sibling,I.sibling=d,d=I,I=i}lp(l,!0,d,null,U,p);break;case"together":lp(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function qc(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),N|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(bc(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,d=Mo(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Mo(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function cp(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&$u(i)))}function Ap(i,l,d){switch(l.tag){case 3:je(l,l.stateNode.containerInfo),yc(l,Ba,i.memoizedState.cache),Yc();break;case 27:case 5:_e(l);break;case 4:je(l,l.stateNode.containerInfo);break;case 10:yc(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,pr(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Sa(l),l.flags|=128,null):(d&l.child.childLanes)!==0?l0(i,l,d):(Sa(l),i=qc(i,l,d),i!==null?i.sibling:null);Sa(l);break;case 19:var I=(i.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(bc(i,l,d,!1),p=(d&l.childLanes)!==0),I){if(p)return A0(i,l,d);l.flags|=128}if(I=l.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),ee(Wn,Wn.current),p)break;return null;case 22:return l.lanes=0,Jc(i,l,d,l.pendingProps);case 24:yc(l,Ba,i.memoizedState.cache)}return qc(i,l,d)}function _f(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)ta=!0;else{if(!cp(i,d)&&(l.flags&128)===0)return ta=!1,Ap(i,l,d);ta=(i.flags&131072)!==0}else ta=!1,Dn&&(l.flags&1048576)!==0&&mf(l,pc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(i=et(l.elementType),l.type=i,typeof i=="function")Xl(i)?(p=_A(i,p),l.tag=1,l=np(null,l,i,p,d)):(l.tag=0,l=Nh(null,l,i,p,d));else{if(i!=null){var I=i.$$typeof;if(I===L){l.tag=11,l=Pa(null,l,i,p,d);break e}else if(I===Q){l.tag=14,l=FA(null,l,i,p,d);break e}}throw l=ae(i)||i,Error(n(306,l,""))}}return l;case 0:return Nh(i,l,l.type,l.pendingProps,d);case 1:return p=l.type,I=_A(p,l.pendingProps),np(i,l,p,I,d);case 3:e:{if(je(l,l.stateNode.containerInfo),i===null)throw Error(n(387));p=l.pendingProps;var U=l.memoizedState;I=U.element,qr(i,l),Ra(l,p,null,d);var Z=l.memoizedState;if(p=Z.cache,yc(l,Ba,p),p!==U.cache&&Ul(l,[Ba],d,!0),mr(),p=Z.element,U.isDehydrated)if(U={element:p,isDehydrated:!1,cache:Z.cache},l.updateQueue.baseState=U,l.memoizedState=U,l.flags&256){l=rp(i,l,p,d);break e}else if(p!==I){I=Ho(Error(n(424)),l),ql(I),l=rp(i,l,p,d);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Qr=Ec(i.firstChild),vi=l,Dn=!0,eo=null,ca=!0,d=hn(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Yc(),p===I){l=qc(i,l,d);break e}Qi(i,l,p,d)}l=l.child}return l;case 26:return Bh(i,l),i===null?(d=Fj(l.type,null,l.pendingProps,null))?l.memoizedState=d:Dn||(d=l.type,i=l.pendingProps,p=_0(ue.current).createElement(d),p[fs]=l,p[Un]=i,jo(p,d,i),Gn(p),l.stateNode=p):l.memoizedState=Fj(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return _e(l),i===null&&Dn&&(p=l.stateNode=Tj(l.type,l.pendingProps,ue.current),vi=l,ca=!0,I=Qr,hd(l.type)?(vy=I,Qr=Ec(p.firstChild)):Qr=I),Qi(i,l,l.pendingProps.children,d),Bh(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Dn&&((I=p=Qr)&&(p=P_(p,l.type,l.pendingProps,ca),p!==null?(l.stateNode=p,vi=l,Qr=Ec(p.firstChild),ca=!1,I=!0):I=!1),I||xc(l)),_e(l),I=l.type,U=l.pendingProps,Z=i!==null?i.memoizedProps:null,p=U.children,fy(I,U)?p=null:Z!==null&&fy(I,Z)&&(l.flags|=32),l.memoizedState!==null&&(I=uh(i,l,dh,null,null,d),wp._currentValue=I),Bh(i,l),Qi(i,l,p,d),l.child;case 6:return i===null&&Dn&&((i=d=Qr)&&(d=M_(d,l.pendingProps,ca),d!==null?(l.stateNode=d,vi=l,Qr=null,i=!0):i=!1),i||xc(l)),null;case 13:return l0(i,l,d);case 4:return je(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=Or(l,null,p,d):Qi(i,l,p,d),l.child;case 11:return Pa(i,l,l.type,l.pendingProps,d);case 7:return Qi(i,l,l.pendingProps,d),l.child;case 8:return Qi(i,l,l.pendingProps.children,d),l.child;case 12:return Qi(i,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,yc(l,l.type,p.value),Qi(i,l,p.children,d),l.child;case 9:return I=l.type._context,p=l.pendingProps.children,wc(l),I=bi(I),p=p(I),l.flags|=1,Qi(i,l,p,d),l.child;case 14:return FA(i,l,l.type,l.pendingProps,d);case 15:return hu(i,l,l.type,l.pendingProps,d);case 19:return A0(i,l,d);case 31:return o0(i,l,d);case 22:return Jc(i,l,d,l.pendingProps);case 24:return wc(l),p=bi(Ba),i===null?(I=we(),I===null&&(I=Pr,U=wA(),I.pooledCache=U,U.refCount++,U!==null&&(I.pooledCacheLanes|=d),I=U),l.memoizedState={parent:p,cache:I},ls(l),yc(l,Ba,I)):((i.lanes&d)!==0&&(qr(i,l),Ra(l,null,null,d),mr()),I=i.memoizedState,U=l.memoizedState,I.parent!==p?(I={parent:p,cache:p},l.memoizedState=I,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=I),yc(l,Ba,p)):(p=U.cache,yc(l,Ba,p),p!==I.cache&&Ul(l,[Ba],d,!0))),Qi(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Sc(i){i.flags|=4}function up(i,l,d,p,I){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(I&335544128)===I)if(i.stateNode.complete)i.flags|=8192;else if(eA())i.flags|=8192;else throw vt=Ke,st}else i.flags&=-16777217}function u0(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qj(l))if(eA())i.flags|=8192;else throw vt=Ke,st}function Ch(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Us():536870912,i.lanes|=l,Se|=l)}function Eh(i,l){if(!Dn)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function sa(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(l)for(var I=i.child;I!==null;)d|=I.lanes|I.childLanes,p|=I.subtreeFlags&65011712,p|=I.flags&65011712,I.return=i,I=I.sibling;else for(I=i.child;I!==null;)d|=I.lanes|I.childLanes,p|=I.subtreeFlags,p|=I.flags,I.return=i,I=I.sibling;return i.subtreeFlags|=p,i.childLanes=d,l}function qv(i,l,d){var p=l.pendingProps;switch(zu(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sa(l),null;case 1:return sa(l),null;case 3:return d=l.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Go(Ba),ve(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(yi(l)?Sc(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ou())),sa(l),null;case 26:var I=l.type,U=l.memoizedState;return i===null?(Sc(l),U!==null?(sa(l),u0(l,U)):(sa(l),up(l,I,null,p,d))):U?U!==i.memoizedState?(Sc(l),sa(l),u0(l,U)):(sa(l),l.flags&=-16777217):(i=i.memoizedProps,i!==p&&Sc(l),sa(l),up(l,I,i,p,d)),null;case 27:if(ke(l),d=ue.current,I=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&Sc(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return sa(l),null}i=oe.current,yi(l)?Ah(l):(i=Tj(I,p,d),l.stateNode=i,Sc(l))}return sa(l),null;case 5:if(ke(l),I=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&Sc(l);else{if(!p){if(l.stateNode===null)throw Error(n(166));return sa(l),null}if(U=oe.current,yi(l))Ah(l);else{var Z=_0(ue.current);switch(U){case 1:U=Z.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:U=Z.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":U=Z.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":U=Z.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":U=Z.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof p.is=="string"?Z.createElement("select",{is:p.is}):Z.createElement("select"),p.multiple?U.multiple=!0:p.size&&(U.size=p.size);break;default:U=typeof p.is=="string"?Z.createElement(I,{is:p.is}):Z.createElement(I)}}U[fs]=l,U[Un]=p;e:for(Z=l.child;Z!==null;){if(Z.tag===5||Z.tag===6)U.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.tag!==27&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===l)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===l)break e;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}l.stateNode=U;e:switch(jo(U,I,p),I){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Sc(l)}}return sa(l),up(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,d),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==p&&Sc(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(i=ue.current,yi(l)){if(i=l.stateNode,d=l.memoizedProps,p=null,I=vi,I!==null)switch(I.tag){case 27:case 5:p=I.memoizedProps}i[fs]=l,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||xj(i.nodeValue,d)),i||xc(l,!0)}else i=_0(i).createTextNode(p),i[fs]=l,l.stateNode=i}return sa(l),null;case 31:if(d=l.memoizedState,i===null||i.memoizedState!==null){if(p=yi(l),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[fs]=l}else Yc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;sa(l),i=!1}else d=ou(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return l.flags&256?(jr(l),l):(jr(l),null);if((l.flags&128)!==0)throw Error(n(558))}return sa(l),null;case 13:if(p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I=yi(l),p!==null&&p.dehydrated!==null){if(i===null){if(!I)throw Error(n(318));if(I=l.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[fs]=l}else Yc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;sa(l),I=!1}else I=ou(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=I),I=!0;if(!I)return l.flags&256?(jr(l),l):(jr(l),null)}return jr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=l.child,I=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(I=p.alternate.memoizedState.cachePool.pool),U=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(U=p.memoizedState.cachePool.pool),U!==I&&(p.flags|=2048)),d!==i&&d&&(l.child.flags|=8192),Ch(l,l.updateQueue),sa(l),null);case 4:return ve(),i===null&&cy(l.stateNode.containerInfo),sa(l),null;case 10:return Go(l.type),sa(l),null;case 19:if(K(Wn),p=l.memoizedState,p===null)return sa(l),null;if(I=(l.flags&128)!==0,U=p.rendering,U===null)if(I)Eh(p,!1);else{if(S!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(U=Li(i),U!==null){for(l.flags|=128,Eh(p,!1),i=U.updateQueue,l.updateQueue=i,Ch(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)au(d,i),d=d.sibling;return ee(Wn,Wn.current&1|2),Dn&&xo(l,p.treeForkCount),l.child}i=i.sibling}p.tail!==null&&xt()>ps&&(l.flags|=128,I=!0,Eh(p,!1),l.lanes=4194304)}else{if(!I)if(i=Li(U),i!==null){if(l.flags|=128,I=!0,i=i.updateQueue,l.updateQueue=i,Ch(l,i),Eh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!U.alternate&&!Dn)return sa(l),null}else 2*xt()-p.renderingStartTime>ps&&d!==536870912&&(l.flags|=128,I=!0,Eh(p,!1),l.lanes=4194304);p.isBackwards?(U.sibling=l.child,l.child=U):(i=p.last,i!==null?i.sibling=U:l.child=U,p.last=U)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=xt(),i.sibling=null,d=Wn.current,ee(Wn,I?d&1|2:d&1),Dn&&xo(l,p.treeForkCount),i):(sa(l),null);case 22:case 23:return jr(l),Qa(),p=l.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(sa(l),l.subtreeFlags&6&&(l.flags|=8192)):sa(l),d=l.updateQueue,d!==null&&Ch(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),i!==null&&K(pe),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Go(Ba),sa(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function Zv(i,l){switch(zu(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Go(Ba),ve(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return ke(l),null;case 31:if(l.memoizedState!==null){if(jr(l),l.alternate===null)throw Error(n(340));Yc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(jr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Yc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return K(Wn),null;case 4:return ve(),null;case 10:return Go(l.type),null;case 22:case 23:return jr(l),Qa(),i!==null&&K(pe),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Go(Ba),null;case 25:return null;default:return null}}function d0(i,l){switch(zu(l),l.tag){case 3:Go(Ba),ve();break;case 26:case 27:case 5:ke(l);break;case 4:ve();break;case 31:l.memoizedState!==null&&jr(l);break;case 13:jr(l);break;case 19:K(Wn);break;case 10:Go(l.type);break;case 22:case 23:jr(l),Qa(),i!==null&&K(pe);break;case 24:Go(Ba)}}function mu(i,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var I=p.next;d=I;do{if((d.tag&i)===i){p=void 0;var U=d.create,Z=d.inst;p=U(),Z.destroy=p}d=d.next}while(d!==I)}}catch(xe){Hr(l,l.return,xe)}}function UA(i,l,d){try{var p=l.updateQueue,I=p!==null?p.lastEffect:null;if(I!==null){var U=I.next;p=U;do{if((p.tag&i)===i){var Z=p.inst,xe=Z.destroy;if(xe!==void 0){Z.destroy=void 0,I=l;var De=d,ot=xe;try{ot()}catch(Nt){Hr(I,De,Nt)}}}p=p.next}while(p!==U)}}catch(Nt){Hr(l,l.return,Nt)}}function Ff(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{La(l,d)}catch(p){Hr(i,i.return,p)}}}function h0(i,l,d){d.props=_A(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Hr(i,l,p)}}function ds(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(I){Hr(i,l,I)}}function yo(i,l){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(I){Hr(i,l,I)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(I){Hr(i,l,I)}else d.current=null}function Th(i){var l=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(I){Hr(i,i.return,I)}}function Wo(i,l,d){try{var p=i.stateNode;D_(p,i.type,d,l),p[Un]=l}catch(I){Hr(i,i.return,I)}}function f0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&hd(i.type)||i.tag===4}function cr(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||f0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&hd(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $r(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ur));else if(p!==4&&(p===27&&hd(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for($r(i,l,d),i=i.sibling;i!==null;)$r(i,l,d),i=i.sibling}function pu(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(p!==4&&(p===27&&hd(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(pu(i,l,d),i=i.sibling;i!==null;)pu(i,l,d),i=i.sibling}function m0(i){var l=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,I=l.attributes;I.length;)l.removeAttributeNode(I[0]);jo(l,p,d),l[fs]=i,l[Un]=d}catch(U){Hr(i,i.return,U)}}var Ql=!1,li=!1,cd=!1,p0=typeof WeakSet=="function"?WeakSet:Set,Oi=null;function g0(i,l){if(i=i.containerInfo,dy=O0,i=Cl(i),El(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var I=p.anchorOffset,U=p.focusNode;p=p.focusOffset;try{d.nodeType,U.nodeType}catch{d=null;break e}var Z=0,xe=-1,De=-1,ot=0,Nt=0,Rt=i,ut=null;t:for(;;){for(var gt;Rt!==d||I!==0&&Rt.nodeType!==3||(xe=Z+I),Rt!==U||p!==0&&Rt.nodeType!==3||(De=Z+p),Rt.nodeType===3&&(Z+=Rt.nodeValue.length),(gt=Rt.firstChild)!==null;)ut=Rt,Rt=gt;for(;;){if(Rt===i)break t;if(ut===d&&++ot===I&&(xe=Z),ut===U&&++Nt===p&&(De=Z),(gt=Rt.nextSibling)!==null)break;Rt=ut,ut=Rt.parentNode}Rt=gt}d=xe===-1||De===-1?null:{start:xe,end:De}}else d=null}d=d||{start:0,end:0}}else d=null;for(hy={focusedElem:i,selectionRange:d},O0=!1,Oi=l;Oi!==null;)if(l=Oi,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Oi=i;else for(;Oi!==null;){switch(l=Oi,U=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)I=i[d],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&U!==null){i=void 0,d=l,I=U.memoizedProps,U=U.memoizedState,p=d.stateNode;try{var Es=_A(d.type,I);i=p.getSnapshotBeforeUpdate(Es,U),p.__reactInternalSnapshotBeforeUpdate=i}catch(tn){Hr(d,d.return,tn)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)py(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":py(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=l.sibling,i!==null){i.return=l.return,Oi=i;break}Oi=l.return}}function x0(i,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ol(i,d),p&4&&mu(5,d);break;case 1:if(Ol(i,d),p&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(Z){Hr(d,d.return,Z)}else{var I=_A(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(I,l,i.__reactInternalSnapshotBeforeUpdate)}catch(Z){Hr(d,d.return,Z)}}p&64&&Ff(d),p&512&&ds(d,d.return);break;case 3:if(Ol(i,d),p&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{La(i,l)}catch(Z){Hr(d,d.return,Z)}}break;case 27:l===null&&p&4&&m0(d);case 26:case 5:Ol(i,d),l===null&&p&4&&Th(d),p&512&&ds(d,d.return);break;case 12:Ol(i,d);break;case 31:Ol(i,d),p&4&&hp(i,d);break;case 13:Ol(i,d),p&4&&v0(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=w_.bind(null,d),H_(i,d))));break;case 22:if(p=d.memoizedState!==null||Ql,!p){l=l!==null&&l.memoizedState!==null||li,I=Ql;var U=li;Ql=p,(li=l)&&!U?Zc(i,d,(d.subtreeFlags&8772)!==0):Ol(i,d),Ql=I,li=U}break;case 30:break;default:Ol(i,d)}}function dp(i){var l=i.alternate;l!==null&&(i.alternate=null,dp(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&hi(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ua=null,bo=!1;function Cc(i,l,d){for(d=d.child;d!==null;)Uf(i,l,d),d=d.sibling}function Uf(i,l,d){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Gt,d)}catch{}switch(d.tag){case 26:li||yo(d,l),Cc(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:li||yo(d,l);var p=ua,I=bo;hd(d.type)&&(ua=d.stateNode,bo=!1),Cc(i,l,d),vp(d.stateNode),ua=p,bo=I;break;case 5:li||yo(d,l);case 6:if(p=ua,I=bo,ua=null,Cc(i,l,d),ua=p,bo=I,ua!==null)if(bo)try{(ua.nodeType===9?ua.body:ua.nodeName==="HTML"?ua.ownerDocument.body:ua).removeChild(d.stateNode)}catch(U){Hr(d,l,U)}else try{ua.removeChild(d.stateNode)}catch(U){Hr(d,l,U)}break;case 18:ua!==null&&(bo?(i=ua,Bj(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Mf(i)):Bj(ua,d.stateNode));break;case 4:p=ua,I=bo,ua=d.stateNode.containerInfo,bo=!0,Cc(i,l,d),ua=p,bo=I;break;case 0:case 11:case 14:case 15:UA(2,d,l),li||UA(4,d,l),Cc(i,l,d);break;case 1:li||(yo(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&h0(d,l,p)),Cc(i,l,d);break;case 21:Cc(i,l,d);break;case 22:li=(p=li)||d.memoizedState!==null,Cc(i,l,d),li=p;break;default:Cc(i,l,d)}}function hp(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mf(i)}catch(d){Hr(l,l.return,d)}}}function v0(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mf(i)}catch(d){Hr(l,l.return,d)}}function y0(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new p0),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new p0),l;default:throw Error(n(435,i.tag))}}function Df(i,l){var d=y0(i);l.forEach(function(p){if(!d.has(p)){d.add(p);var I=j_.bind(null,i,p);p.then(I,I)}})}function Xo(i,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var I=d[p],U=i,Z=l,xe=Z;e:for(;xe!==null;){switch(xe.tag){case 27:if(hd(xe.type)){ua=xe.stateNode,bo=!1;break e}break;case 5:ua=xe.stateNode,bo=!1;break e;case 3:case 4:ua=xe.stateNode.containerInfo,bo=!0;break e}xe=xe.return}if(ua===null)throw Error(n(160));Uf(U,Z,I),ua=null,bo=!1,U=I.alternate,U!==null&&(U.return=null),I.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ih(l,i),l=l.sibling}var nc=null;function Ih(i,l){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xo(l,i),na(i),p&4&&(UA(3,i,i.return),mu(3,i),UA(5,i,i.return));break;case 1:Xo(l,i),na(i),p&512&&(li||d===null||yo(d,d.return)),p&64&&Ql&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var I=nc;if(Xo(l,i),na(i),p&512&&(li||d===null||yo(d,d.return)),p&4){var U=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,I=I.ownerDocument||I;t:switch(p){case"title":U=I.getElementsByTagName("title")[0],(!U||U[_r]||U[fs]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=I.createElement(p),I.head.insertBefore(U,I.querySelector("head > title"))),jo(U,p,d),U[fs]=i,Gn(U),p=U;break e;case"link":var Z=Rj("link","href",I).get(p+(d.href||""));if(Z){for(var xe=0;xe<Z.length;xe++)if(U=Z[xe],U.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&U.getAttribute("rel")===(d.rel==null?null:d.rel)&&U.getAttribute("title")===(d.title==null?null:d.title)&&U.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){Z.splice(xe,1);break t}}U=I.createElement(p),jo(U,p,d),I.head.appendChild(U);break;case"meta":if(Z=Rj("meta","content",I).get(p+(d.content||""))){for(xe=0;xe<Z.length;xe++)if(U=Z[xe],U.getAttribute("content")===(d.content==null?null:""+d.content)&&U.getAttribute("name")===(d.name==null?null:d.name)&&U.getAttribute("property")===(d.property==null?null:d.property)&&U.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&U.getAttribute("charset")===(d.charSet==null?null:d.charSet)){Z.splice(xe,1);break t}}U=I.createElement(p),jo(U,p,d),I.head.appendChild(U);break;default:throw Error(n(468,p))}U[fs]=i,Gn(U),p=U}i.stateNode=p}else Lj(I,i.type,i.stateNode);else i.stateNode=Dj(I,p,i.memoizedProps);else U!==p?(U===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):U.count--,p===null?Lj(I,i.type,i.stateNode):Dj(I,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Wo(i,i.memoizedProps,d.memoizedProps)}break;case 27:Xo(l,i),na(i),p&512&&(li||d===null||yo(d,d.return)),d!==null&&p&4&&Wo(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Xo(l,i),na(i),p&512&&(li||d===null||yo(d,d.return)),i.flags&32){I=i.stateNode;try{It(I,"")}catch(Es){Hr(i,i.return,Es)}}p&4&&i.stateNode!=null&&(I=i.memoizedProps,Wo(i,I,d!==null?d.memoizedProps:I)),p&1024&&(cd=!0);break;case 6:if(Xo(l,i),na(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Es){Hr(i,i.return,Es)}}break;case 3:if(D0=null,I=nc,nc=F0(l.containerInfo),Xo(l,i),nc=I,na(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Mf(l.containerInfo)}catch(Es){Hr(i,i.return,Es)}cd&&(cd=!1,fp(i));break;case 4:p=nc,nc=F0(i.stateNode.containerInfo),Xo(l,i),na(i),nc=p;break;case 12:Xo(l,i),na(i);break;case 31:Xo(l,i),na(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Df(i,p)));break;case 13:Xo(l,i),na(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ze=xt()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Df(i,p)));break;case 22:I=i.memoizedState!==null;var De=d!==null&&d.memoizedState!==null,ot=Ql,Nt=li;if(Ql=ot||I,li=Nt||De,Xo(l,i),li=Nt,Ql=ot,na(i),p&8192)e:for(l=i.stateNode,l._visibility=I?l._visibility&-2:l._visibility|1,I&&(d===null||De||Ql||li||gu(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){De=d=l;try{if(U=De.stateNode,I)Z=U.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{xe=De.stateNode;var Rt=De.memoizedProps.style,ut=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null;xe.style.display=ut==null||typeof ut=="boolean"?"":(""+ut).trim()}}catch(Es){Hr(De,De.return,Es)}}}else if(l.tag===6){if(d===null){De=l;try{De.stateNode.nodeValue=I?"":De.memoizedProps}catch(Es){Hr(De,De.return,Es)}}}else if(l.tag===18){if(d===null){De=l;try{var gt=De.stateNode;I?Nj(gt,!0):Nj(De.stateNode,!1)}catch(Es){Hr(De,De.return,Es)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Df(i,d))));break;case 19:Xo(l,i),na(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Df(i,p)));break;case 30:break;case 21:break;default:Xo(l,i),na(i)}}function na(i){var l=i.flags;if(l&2){try{for(var d,p=i.return;p!==null;){if(f0(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var I=d.stateNode,U=cr(i);pu(i,U,I);break;case 5:var Z=d.stateNode;d.flags&32&&(It(Z,""),d.flags&=-33);var xe=cr(i);pu(i,xe,Z);break;case 3:case 4:var De=d.stateNode.containerInfo,ot=cr(i);$r(i,ot,De);break;default:throw Error(n(161))}}catch(Nt){Hr(i,i.return,Nt)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function fp(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;fp(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Ol(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)x0(i,l.alternate,l),l=l.sibling}function gu(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:UA(4,l,l.return),gu(l);break;case 1:yo(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&h0(l,l.return,d),gu(l);break;case 27:vp(l.stateNode);case 26:case 5:yo(l,l.return),gu(l);break;case 22:l.memoizedState===null&&gu(l);break;case 30:gu(l);break;default:gu(l)}i=i.sibling}}function Zc(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,I=i,U=l,Z=U.flags;switch(U.tag){case 0:case 11:case 15:Zc(I,U,d),mu(4,U);break;case 1:if(Zc(I,U,d),p=U,I=p.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(ot){Hr(p,p.return,ot)}if(p=U,I=p.updateQueue,I!==null){var xe=p.stateNode;try{var De=I.shared.hiddenCallbacks;if(De!==null)for(I.shared.hiddenCallbacks=null,I=0;I<De.length;I++)Ri(De[I],xe)}catch(ot){Hr(p,p.return,ot)}}d&&Z&64&&Ff(U),ds(U,U.return);break;case 27:m0(U);case 26:case 5:Zc(I,U,d),d&&p===null&&Z&4&&Th(U),ds(U,U.return);break;case 12:Zc(I,U,d);break;case 31:Zc(I,U,d),d&&Z&4&&hp(I,U);break;case 13:Zc(I,U,d),d&&Z&4&&v0(I,U);break;case 22:U.memoizedState===null&&Zc(I,U,d),ds(U,U.return);break;case 30:break;default:Zc(I,U,d)}l=l.sibling}}function _h(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&lu(d))}function DA(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&lu(i))}function Jo(i,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)b0(i,l,d,p),l=l.sibling}function b0(i,l,d,p){var I=l.flags;switch(l.tag){case 0:case 11:case 15:Jo(i,l,d,p),I&2048&&mu(9,l);break;case 1:Jo(i,l,d,p);break;case 3:Jo(i,l,d,p),I&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&lu(i)));break;case 12:if(I&2048){Jo(i,l,d,p),i=l.stateNode;try{var U=l.memoizedProps,Z=U.id,xe=U.onPostCommit;typeof xe=="function"&&xe(Z,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(De){Hr(l,l.return,De)}}else Jo(i,l,d,p);break;case 31:Jo(i,l,d,p);break;case 13:Jo(i,l,d,p);break;case 23:break;case 22:U=l.stateNode,Z=l.alternate,l.memoizedState!==null?U._visibility&2?Jo(i,l,d,p):Fh(i,l):U._visibility&2?Jo(i,l,d,p):(U._visibility|=2,rc(i,l,d,p,(l.subtreeFlags&10256)!==0||!1)),I&2048&&_h(Z,l);break;case 24:Jo(i,l,d,p),I&2048&&DA(l.alternate,l);break;default:Jo(i,l,d,p)}}function rc(i,l,d,p,I){for(I=I&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var U=i,Z=l,xe=d,De=p,ot=Z.flags;switch(Z.tag){case 0:case 11:case 15:rc(U,Z,xe,De,I),mu(8,Z);break;case 23:break;case 22:var Nt=Z.stateNode;Z.memoizedState!==null?Nt._visibility&2?rc(U,Z,xe,De,I):Fh(U,Z):(Nt._visibility|=2,rc(U,Z,xe,De,I)),I&&ot&2048&&_h(Z.alternate,Z);break;case 24:rc(U,Z,xe,De,I),I&&ot&2048&&DA(Z.alternate,Z);break;default:rc(U,Z,xe,De,I)}l=l.sibling}}function Fh(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,p=l,I=p.flags;switch(p.tag){case 22:Fh(d,p),I&2048&&_h(p.alternate,p);break;case 24:Fh(d,p),I&2048&&DA(p.alternate,p);break;default:Fh(d,p)}l=l.sibling}}var Uh=8192;function xu(i,l,d){if(i.subtreeFlags&Uh)for(i=i.child;i!==null;)w0(i,l,d),i=i.sibling}function w0(i,l,d){switch(i.tag){case 26:xu(i,l,d),i.flags&Uh&&i.memoizedState!==null&&e6(d,nc,i.memoizedState,i.memoizedProps);break;case 5:xu(i,l,d);break;case 3:case 4:var p=nc;nc=F0(i.stateNode.containerInfo),xu(i,l,d),nc=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Uh,Uh=16777216,xu(i,l,d),Uh=p):xu(i,l,d));break;default:xu(i,l,d)}}function mp(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Dh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Oi=p,B0(p,i)}mp(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)j0(i),i=i.sibling}function j0(i){switch(i.tag){case 0:case 11:case 15:Dh(i),i.flags&2048&&UA(9,i,i.return);break;case 3:Dh(i);break;case 12:Dh(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Rf(i)):Dh(i);break;default:Dh(i)}}function Rf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Oi=p,B0(p,i)}mp(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:UA(8,l,l.return),Rf(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Rf(l));break;default:Rf(l)}i=i.sibling}}function B0(i,l){for(;Oi!==null;){var d=Oi;switch(d.tag){case 0:case 11:case 15:UA(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:lu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Oi=p;else e:for(d=i;Oi!==null;){p=Oi;var I=p.sibling,U=p.return;if(dp(p),p===d){Oi=null;break e}if(I!==null){I.return=U,Oi=I;break e}Oi=U}}}var ey={getCacheForType:function(i){var l=bi(Ba),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d},cacheSignal:function(){return bi(Ba).controller.signal}},ty=typeof WeakMap=="function"?WeakMap:Map,gr=0,Pr=null,Rn=null,Mn=0,Nr=0,bl=null,RA=!1,Ad=!1,j=!1,v=0,S=0,N=0,$=0,te=0,fe=0,Se=0,Ce=null,Re=null,$e=!1,Ze=0,wt=0,ps=1/0,ns=null,As=null,Rs=0,js=null,bs=null,Sn=0,vn=0,en=null,gs=null,Fn=0,Hn=null;function Os(){return(gr&2)!==0&&Mn!==0?Mn&-Mn:ie.T!==null?ay():Cn()}function ei(){if(fe===0)if((Mn&536870912)===0||Dn){var i=Ht;Ht<<=1,(Ht&3932160)===0&&(Ht=262144),fe=i}else fe=536870912;return i=Zr.current,i!==null&&(i.flags|=32),fe}function Mr(i,l,d){(i===Pr&&(Nr===2||Nr===9)||i.cancelPendingCommit!==null)&&(kl(i,0),wo(i,Mn,fe,!1)),as(i,d),((gr&2)===0||i!==Pr)&&(i===Pr&&((gr&2)===0&&($|=d),S===4&&wo(i,Mn,fe,!1)),OA(i))}function qo(i,l,d){if((gr&6)!==0)throw Error(n(327));var p=!d&&(l&127)===0&&(l&i.expiredLanes)===0||ts(i,l),I=p?ud(i,l):tA(i,l,!0),U=p;do{if(I===0){Ad&&!p&&wo(i,l,0,!1);break}else{if(d=i.current.alternate,U&&!so(d)){I=tA(i,l,!1),U=!1;continue}if(I===2){if(U=l,i.errorRecoveryDisabledLanes&U)var Z=0;else Z=i.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){l=Z;e:{var xe=i;I=Ce;var De=xe.current.memoizedState.isDehydrated;if(De&&(kl(xe,Z).flags|=256),Z=tA(xe,Z,!1),Z!==2){if(j&&!De){xe.errorRecoveryDisabledLanes|=U,$|=U,I=4;break e}U=Re,Re=I,U!==null&&(Re===null?Re=U:Re.push.apply(Re,U))}I=Z}if(U=!1,I!==2)continue}}if(I===1){kl(i,0),wo(i,l,0,!0);break}e:{switch(p=i,U=I,U){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:wo(p,l,fe,!RA);break e;case 2:Re=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(I=Ze+300-xt(),10<I)){if(wo(p,l,fe,!RA),Bt(p,0,!0)!==0)break e;Sn=l,p.timeoutHandle=wj(Sr.bind(null,p,d,Re,ns,$e,l,fe,$,Se,RA,U,"Throttled",-0,0),I);break e}Sr(p,d,Re,ns,$e,l,fe,$,Se,RA,U,null,-0,0)}}break}while(!0);OA(i)}function Sr(i,l,d,p,I,U,Z,xe,De,ot,Nt,Rt,ut,gt){if(i.timeoutHandle=-1,Rt=l.subtreeFlags,Rt&8192||(Rt&16785408)===16785408){Rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ur},w0(l,U,Rt);var Es=(U&62914560)===U?Ze-xt():(U&4194048)===U?wt-xt():0;if(Es=t6(Rt,Es),Es!==null){Sn=U,i.cancelPendingCommit=Es(ej.bind(null,i,l,U,d,p,I,Z,xe,De,Nt,Rt,null,ut,gt)),wo(i,U,Z,!ot);return}}ej(i,l,U,d,p,I,Z,xe,De)}function so(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var I=d[p],U=I.getSnapshot;I=I.value;try{if(!On(U(),I))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wo(i,l,d,p){l&=~te,l&=~$,i.suspendedLanes|=l,i.pingedLanes&=~l,p&&(i.warmLanes|=l),p=i.expirationTimes;for(var I=l;0<I;){var U=31-Ot(I),Z=1<<U;p[U]=-1,I&=~Z}d!==0&&qs(i,d,l)}function no(){return(gr&6)===0?(pp(0),!1):!0}function Ao(){if(Rn!==null){if(Nr===0)var i=Rn.return;else i=Rn,Fl=vc=null,Au(i),Dt=null,Cs=0,i=Rn;for(;i!==null;)d0(i.alternate,i),i=i.return;Rn=null}}function kl(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,Q_(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Sn=0,Ao(),Pr=i,Rn=d=Mo(i.current,null),Mn=l,Nr=0,bl=null,RA=!1,Ad=ts(i,l),j=!1,Se=fe=te=$=N=S=0,Re=Ce=null,$e=!1,(l&8)!==0&&(l|=l&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=l;0<p;){var I=31-Ot(p),U=1<<I;l|=i[I],p&=~U}return v=l,nu(),d}function ac(i,l){ks=null,ie.H=yh,l===Oe||l===Te?(l=St(),Nr=3):l===st?(l=St(),Nr=4):Nr=l===tp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,bl=l,Rn===null&&(S=1,jh(i,Ho(l,i.current)))}function eA(){var i=Zr.current;return i===null?!0:(Mn&4194048)===Mn?Pn===null:(Mn&62914560)===Mn||(Mn&536870912)!==0?i===Pn:!1}function LA(){var i=ie.H;return ie.H=yh,i===null?yh:i}function QA(){var i=ie.A;return ie.A=ey,i}function Pl(){S=4,RA||(Mn&4194048)!==Mn&&Zr.current!==null||(Ad=!0),(N&134217727)===0&&($&134217727)===0||Pr===null||wo(Pr,Mn,fe,!1)}function tA(i,l,d){var p=gr;gr|=2;var I=LA(),U=QA();(Pr!==i||Mn!==l)&&(ns=null,kl(i,l)),l=!1;var Z=S;e:do try{if(Nr!==0&&Rn!==null){var xe=Rn,De=bl;switch(Nr){case 8:Ao(),Z=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(l=!0);var ot=Nr;if(Nr=0,bl=null,Lf(i,xe,De,ot),d&&Ad){Z=0;break e}break;default:ot=Nr,Nr=0,bl=null,Lf(i,xe,De,ot)}}sA(),Z=S;break}catch(Nt){ac(i,Nt)}while(!0);return l&&i.shellSuspendCounter++,Fl=vc=null,gr=p,ie.H=I,ie.A=U,Rn===null&&(Pr=null,Mn=0,nu()),Z}function sA(){for(;Rn!==null;)J2(Rn)}function ud(i,l){var d=gr;gr|=2;var p=LA(),I=QA();Pr!==i||Mn!==l?(ns=null,ps=xt()+500,kl(i,l)):Ad=ts(i,l);e:do try{if(Nr!==0&&Rn!==null){l=Rn;var U=bl;t:switch(Nr){case 1:Nr=0,bl=null,Lf(i,l,U,1);break;case 2:case 9:if(Ge(U)){Nr=0,bl=null,q2(l);break}l=function(){Nr!==2&&Nr!==9||Pr!==i||(Nr=7),OA(i)},U.then(l,l);break e;case 3:Nr=7;break e;case 4:Nr=5;break e;case 7:Ge(U)?(Nr=0,bl=null,q2(l)):(Nr=0,bl=null,Lf(i,l,U,7));break;case 5:var Z=null;switch(Rn.tag){case 26:Z=Rn.memoizedState;case 5:case 27:var xe=Rn;if(Z?Qj(Z):xe.stateNode.complete){Nr=0,bl=null;var De=xe.sibling;if(De!==null)Rn=De;else{var ot=xe.return;ot!==null?(Rn=ot,N0(ot)):Rn=null}break t}}Nr=0,bl=null,Lf(i,l,U,5);break;case 6:Nr=0,bl=null,Lf(i,l,U,6);break;case 8:Ao(),S=6;break e;default:throw Error(n(462))}}Rh();break}catch(Nt){ac(i,Nt)}while(!0);return Fl=vc=null,ie.H=p,ie.A=I,gr=d,Rn!==null?0:(Pr=null,Mn=0,nu(),S)}function Rh(){for(;Rn!==null&&!Fe();)J2(Rn)}function J2(i){var l=_f(i.alternate,i,v);i.memoizedProps=i.pendingProps,l===null?N0(i):Rn=l}function q2(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=ld(d,l,l.pendingProps,l.type,void 0,Mn);break;case 11:l=ld(d,l,l.pendingProps,l.type.render,l.ref,Mn);break;case 5:Au(l);default:d0(d,l),l=Rn=au(l,v),l=_f(d,l,v)}i.memoizedProps=i.pendingProps,l===null?N0(i):Rn=l}function Lf(i,l,d,p){Fl=vc=null,Au(l),Dt=null,Cs=0;var I=l.return;try{if(Jv(i,I,l,d,Mn)){S=1,jh(i,Ho(d,i.current)),Rn=null;return}}catch(U){if(I!==null)throw Rn=I,U;S=1,jh(i,Ho(d,i.current)),Rn=null;return}l.flags&32768?(Dn||p===1?i=!0:Ad||(Mn&536870912)!==0?i=!1:(RA=i=!0,(p===2||p===9||p===3||p===6)&&(p=Zr.current,p!==null&&p.tag===13&&(p.flags|=16384))),Z2(l,i)):N0(l)}function N0(i){var l=i;do{if((l.flags&32768)!==0){Z2(l,RA);return}i=l.return;var d=qv(l.alternate,l,v);if(d!==null){Rn=d;return}if(l=l.sibling,l!==null){Rn=l;return}Rn=l=i}while(l!==null);S===0&&(S=5)}function Z2(i,l){do{var d=Zv(i.alternate,i);if(d!==null){d.flags&=32767,Rn=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){Rn=i;return}Rn=i=d}while(i!==null);S=6,Rn=null}function ej(i,l,d,p,I,U,Z,xe,De){i.cancelPendingCommit=null;do S0();while(Rs!==0);if((gr&6)!==0)throw Error(n(327));if(l!==null){if(l===i.current)throw Error(n(177));if(U=l.lanes|l.childLanes,U|=Pu,Vn(i,d,U,Z,xe,De),i===Pr&&(Rn=Pr=null,Mn=0),bs=l,js=i,Sn=d,vn=U,en=I,gs=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,B_(He,function(){return aj(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=ie.T,ie.T=null,I=le.p,le.p=2,Z=gr,gr|=4;try{g0(i,l,d)}finally{gr=Z,le.p=I,ie.T=p}}Rs=1,tj(),sj(),nj()}}function tj(){if(Rs===1){Rs=0;var i=js,l=bs,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=ie.T,ie.T=null;var p=le.p;le.p=2;var I=gr;gr|=4;try{Ih(l,i);var U=hy,Z=Cl(i.containerInfo),xe=U.focusedElem,De=U.selectionRange;if(Z!==xe&&xe&&xe.ownerDocument&&pl(xe.ownerDocument.documentElement,xe)){if(De!==null&&El(xe)){var ot=De.start,Nt=De.end;if(Nt===void 0&&(Nt=ot),"selectionStart"in xe)xe.selectionStart=ot,xe.selectionEnd=Math.min(Nt,xe.value.length);else{var Rt=xe.ownerDocument||document,ut=Rt&&Rt.defaultView||window;if(ut.getSelection){var gt=ut.getSelection(),Es=xe.textContent.length,tn=Math.min(De.start,Es),Wr=De.end===void 0?tn:Math.min(De.end,Es);!gt.extend&&tn>Wr&&(Z=Wr,Wr=tn,tn=Z);var Xe=Vc(xe,tn),Pe=Vc(xe,Wr);if(Xe&&Pe&&(gt.rangeCount!==1||gt.anchorNode!==Xe.node||gt.anchorOffset!==Xe.offset||gt.focusNode!==Pe.node||gt.focusOffset!==Pe.offset)){var rt=Rt.createRange();rt.setStart(Xe.node,Xe.offset),gt.removeAllRanges(),tn>Wr?(gt.addRange(rt),gt.extend(Pe.node,Pe.offset)):(rt.setEnd(Pe.node,Pe.offset),gt.addRange(rt))}}}}for(Rt=[],gt=xe;gt=gt.parentNode;)gt.nodeType===1&&Rt.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof xe.focus=="function"&&xe.focus(),xe=0;xe<Rt.length;xe++){var Ft=Rt[xe];Ft.element.scrollLeft=Ft.left,Ft.element.scrollTop=Ft.top}}O0=!!dy,hy=dy=null}finally{gr=I,le.p=p,ie.T=d}}i.current=l,Rs=2}}function sj(){if(Rs===2){Rs=0;var i=js,l=bs,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=ie.T,ie.T=null;var p=le.p;le.p=2;var I=gr;gr|=4;try{x0(i,l.alternate,l)}finally{gr=I,le.p=p,ie.T=d}}Rs=3}}function nj(){if(Rs===4||Rs===3){Rs=0,lt();var i=js,l=bs,d=Sn,p=gs;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Rs=5:(Rs=0,bs=js=null,rj(i,i.pendingLanes));var I=i.pendingLanes;if(I===0&&(As=null),Hs(d),l=l.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Gt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=ie.T,I=le.p,le.p=2,ie.T=null;try{for(var U=i.onRecoverableError,Z=0;Z<p.length;Z++){var xe=p[Z];U(xe.value,{componentStack:xe.stack})}}finally{ie.T=l,le.p=I}}(Sn&3)!==0&&S0(),OA(i),I=i.pendingLanes,(d&261930)!==0&&(I&42)!==0?i===Hn?Fn++:(Fn=0,Hn=i):Fn=0,pp(0)}}function rj(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,lu(l)))}function S0(){return tj(),sj(),nj(),aj()}function aj(){if(Rs!==5)return!1;var i=js,l=vn;vn=0;var d=Hs(Sn),p=ie.T,I=le.p;try{le.p=32>d?32:d,ie.T=null,d=en,en=null;var U=js,Z=Sn;if(Rs=0,bs=js=null,Sn=0,(gr&6)!==0)throw Error(n(331));var xe=gr;if(gr|=4,j0(U.current),b0(U,U.current,Z,d),gr=xe,pp(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Gt,U)}catch{}return!0}finally{le.p=I,ie.T=p,rj(i,l)}}function ij(i,l,d){l=Ho(d,l),l=qm(i.stateNode,l,2),i=Ws(i,l,2),i!==null&&(as(i,2),OA(i))}function Hr(i,l,d){if(i.tag===3)ij(i,i,d);else for(;l!==null;){if(l.tag===3){ij(l,i,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(As===null||!As.has(p))){i=Ho(d,i),d=Zm(2),p=Ws(l,d,2),p!==null&&(ep(d,p,l,i),as(p,2),OA(p));break}}l=l.return}}function sy(i,l,d){var p=i.pingCache;if(p===null){p=i.pingCache=new ty;var I=new Set;p.set(l,I)}else I=p.get(l),I===void 0&&(I=new Set,p.set(l,I));I.has(d)||(j=!0,I.add(d),i=b_.bind(null,i,l,d),l.then(i,i))}function b_(i,l,d){var p=i.pingCache;p!==null&&p.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Pr===i&&(Mn&d)===d&&(S===4||S===3&&(Mn&62914560)===Mn&&300>xt()-Ze?(gr&2)===0&&kl(i,0):te|=d,Se===Mn&&(Se=0)),OA(i)}function oj(i,l){l===0&&(l=Us()),i=Il(i,l),i!==null&&(as(i,l),OA(i))}function w_(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),oj(i,d)}function j_(i,l){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,I=i.memoizedState;I!==null&&(d=I.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(l),oj(i,d)}function B_(i,l){return jt(i,l)}var C0=null,Qf=null,ny=!1,E0=!1,ry=!1,dd=0;function OA(i){i!==Qf&&i.next===null&&(Qf===null?C0=Qf=i:Qf=Qf.next=i),E0=!0,ny||(ny=!0,S_())}function pp(i,l){if(!ry&&E0){ry=!0;do for(var d=!1,p=C0;p!==null;){if(i!==0){var I=p.pendingLanes;if(I===0)var U=0;else{var Z=p.suspendedLanes,xe=p.pingedLanes;U=(1<<31-Ot(42|i)+1)-1,U&=I&~(Z&~xe),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(d=!0,uj(p,U))}else U=Mn,U=Bt(p,p===Pr?U:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(U&3)===0||ts(p,U)||(d=!0,uj(p,U));p=p.next}while(d);ry=!1}}function N_(){lj()}function lj(){E0=ny=!1;var i=0;dd!==0&&L_()&&(i=dd);for(var l=xt(),d=null,p=C0;p!==null;){var I=p.next,U=cj(p,l);U===0?(p.next=null,d===null?C0=I:d.next=I,I===null&&(Qf=d)):(d=p,(i!==0||(U&3)!==0)&&(E0=!0)),p=I}Rs!==0&&Rs!==5||pp(i),dd!==0&&(dd=0)}function cj(i,l){for(var d=i.suspendedLanes,p=i.pingedLanes,I=i.expirationTimes,U=i.pendingLanes&-62914561;0<U;){var Z=31-Ot(U),xe=1<<Z,De=I[Z];De===-1?((xe&d)===0||(xe&p)!==0)&&(I[Z]=ss(xe,l)):De<=l&&(i.expiredLanes|=xe),U&=~xe}if(l=Pr,d=Mn,d=Bt(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===l&&(Nr===2||Nr===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Ve(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||ts(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(p!==null&&Ve(p),Hs(d)){case 2:case 8:d=Mt;break;case 32:d=He;break;case 268435456:d=Ye;break;default:d=He}return p=Aj.bind(null,i),d=jt(d,p),i.callbackPriority=l,i.callbackNode=d,l}return p!==null&&p!==null&&Ve(p),i.callbackPriority=2,i.callbackNode=null,2}function Aj(i,l){if(Rs!==0&&Rs!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(S0()&&i.callbackNode!==d)return null;var p=Mn;return p=Bt(i,i===Pr?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(qo(i,p,l),cj(i,xt()),i.callbackNode!=null&&i.callbackNode===d?Aj.bind(null,i):null)}function uj(i,l){if(S0())return null;qo(i,l,!0)}function S_(){O_(function(){(gr&6)!==0?jt(Jt,N_):lj()})}function ay(){if(dd===0){var i=b;i===0&&(i=Qe,Qe<<=1,(Qe&261888)===0&&(Qe=256)),dd=i}return dd}function dj(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ln(""+i)}function hj(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function C_(i,l,d,p,I){if(l==="submit"&&d&&d.stateNode===I){var U=dj((I[Un]||null).action),Z=p.submitter;Z&&(l=(l=Z[Un]||null)?dj(l.formAction):Z.getAttribute("formAction"),l!==null&&(U=l,Z=null));var xe=new va("action","action",null,p,I);i.push({event:xe,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(dd!==0){var De=Z?hj(I,Z):new FormData(I);Bf(d,{pending:!0,data:De,method:I.method,action:U},null,De)}}else typeof U=="function"&&(xe.preventDefault(),De=Z?hj(I,Z):new FormData(I),Bf(d,{pending:!0,data:De,method:I.method,action:U},U,De))},currentTarget:I}]})}}for(var iy=0;iy<fc.length;iy++){var oy=fc[iy],E_=oy.toLowerCase(),T_=oy[0].toUpperCase()+oy.slice(1);po(E_,"on"+T_)}po(Kc,"onAnimationEnd"),po(hc,"onAnimationIteration"),po(ah,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(ih,"onTransitionRun"),po(oh,"onTransitionStart"),po(lh,"onTransitionCancel"),po(Ou,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gp));function fj(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],I=p.event;p=p.listeners;e:{var U=void 0;if(l)for(var Z=p.length-1;0<=Z;Z--){var xe=p[Z],De=xe.instance,ot=xe.currentTarget;if(xe=xe.listener,De!==U&&I.isPropagationStopped())break e;U=xe,I.currentTarget=ot;try{U(I)}catch(Nt){xA(Nt)}I.currentTarget=null,U=De}else for(Z=0;Z<p.length;Z++){if(xe=p[Z],De=xe.instance,ot=xe.currentTarget,xe=xe.listener,De!==U&&I.isPropagationStopped())break e;U=xe,I.currentTarget=ot;try{U(I)}catch(Nt){xA(Nt)}I.currentTarget=null,U=De}}}}function Xn(i,l){var d=l[fa];d===void 0&&(d=l[fa]=new Set);var p=i+"__bubble";d.has(p)||(mj(l,i,2,!1),d.add(p))}function ly(i,l,d){var p=0;l&&(p|=4),mj(d,i,p,l)}var T0="_reactListening"+Math.random().toString(36).slice(2);function cy(i){if(!i[T0]){i[T0]=!0,Ga.forEach(function(d){d!=="selectionchange"&&(I_.has(d)||ly(d,!1,i),ly(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[T0]||(l[T0]=!0,ly("selectionchange",!1,l))}}function mj(i,l,d,p){switch(Kj(l)){case 2:var I=r6;break;case 8:I=a6;break;default:I=By}d=I.bind(null,l,d,i),I=void 0,!Ia||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(I=!0),p?I!==void 0?i.addEventListener(l,d,{capture:!0,passive:I}):i.addEventListener(l,d,!0):I!==void 0?i.addEventListener(l,d,{passive:I}):i.addEventListener(l,d,!1)}function Ay(i,l,d,p,I){var U=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var Z=p.tag;if(Z===3||Z===4){var xe=p.stateNode.containerInfo;if(xe===I)break;if(Z===4)for(Z=p.return;Z!==null;){var De=Z.tag;if((De===3||De===4)&&Z.stateNode.containerInfo===I)return;Z=Z.return}for(;xe!==null;){if(Z=Nn(xe),Z===null)return;if(De=Z.tag,De===5||De===6||De===26||De===27){p=U=Z;continue e}xe=xe.parentNode}}p=p.return}Uo(function(){var ot=U,Nt=Dr(d),Rt=[];e:{var ut=ku.get(i);if(ut!==void 0){var gt=va,Es=i;switch(i){case"keypress":if(xa(d)===0)break e;case"keydown":case"keyup":gt=us;break;case"focusin":Es="focus",gt=Ti;break;case"focusout":Es="blur",gt=Ti;break;case"beforeblur":case"afterblur":gt=Ti;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=mi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=Y;break;case Kc:case hc:case ah:gt=P;break;case Ou:gt=be;break;case"scroll":case"scrollend":gt=Ro;break;case"wheel":gt=tt;break;case"copy":case"cut":case"paste":gt=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=$t;break;case"toggle":case"beforetoggle":gt=Ds}var tn=(l&4)!==0,Wr=!tn&&(i==="scroll"||i==="scrollend"),Xe=tn?ut!==null?ut+"Capture":null:ut;tn=[];for(var Pe=ot,rt;Pe!==null;){var Ft=Pe;if(rt=Ft.stateNode,Ft=Ft.tag,Ft!==5&&Ft!==26&&Ft!==27||rt===null||Xe===null||(Ft=Xr(Pe,Xe),Ft!=null&&tn.push(xp(Pe,Ft,rt))),Wr)break;Pe=Pe.return}0<tn.length&&(ut=new gt(ut,Es,null,d,Nt),Rt.push({event:ut,listeners:tn}))}}if((l&7)===0){e:{if(ut=i==="mouseover"||i==="pointerover",gt=i==="mouseout"||i==="pointerout",ut&&d!==ga&&(Es=d.relatedTarget||d.fromElement)&&(Nn(Es)||Es[zn]))break e;if((gt||ut)&&(ut=Nt.window===Nt?Nt:(ut=Nt.ownerDocument)?ut.defaultView||ut.parentWindow:window,gt?(Es=d.relatedTarget||d.toElement,gt=ot,Es=Es?Nn(Es):null,Es!==null&&(Wr=o(Es),tn=Es.tag,Es!==Wr||tn!==5&&tn!==27&&tn!==6)&&(Es=null)):(gt=null,Es=ot),gt!==Es)){if(tn=$l,Ft="onMouseLeave",Xe="onMouseEnter",Pe="mouse",(i==="pointerout"||i==="pointerover")&&(tn=$t,Ft="onPointerLeave",Xe="onPointerEnter",Pe="pointer"),Wr=gt==null?ut:Fr(gt),rt=Es==null?ut:Fr(Es),ut=new tn(Ft,Pe+"leave",gt,d,Nt),ut.target=Wr,ut.relatedTarget=rt,Ft=null,Nn(Nt)===ot&&(tn=new tn(Xe,Pe+"enter",Es,d,Nt),tn.target=rt,tn.relatedTarget=Wr,Ft=tn),Wr=Ft,gt&&Es)t:{for(tn=__,Xe=gt,Pe=Es,rt=0,Ft=Xe;Ft;Ft=tn(Ft))rt++;Ft=0;for(var $s=Pe;$s;$s=tn($s))Ft++;for(;0<rt-Ft;)Xe=tn(Xe),rt--;for(;0<Ft-rt;)Pe=tn(Pe),Ft--;for(;rt--;){if(Xe===Pe||Pe!==null&&Xe===Pe.alternate){tn=Xe;break t}Xe=tn(Xe),Pe=tn(Pe)}tn=null}else tn=null;gt!==null&&pj(Rt,ut,gt,tn,!1),Es!==null&&Wr!==null&&pj(Rt,Wr,Es,tn,!0)}}e:{if(ut=ot?Fr(ot):window,gt=ut.nodeName&&ut.nodeName.toLowerCase(),gt==="select"||gt==="input"&&ut.type==="file")var vr=Po;else if(Oo(ut))if(Bn)vr=pi;else{vr=la;var Ls=Mc}else gt=ut.nodeName,!gt||gt.toLowerCase()!=="input"||ut.type!=="checkbox"&&ut.type!=="radio"?ot&&qn(ot.elementType)&&(vr=Po):vr=Ji;if(vr&&(vr=vr(i,ot))){er(Rt,vr,d,Nt);break e}Ls&&Ls(i,ut,ot),i==="focusout"&&ot&&ut.type==="number"&&ot.memoizedProps.value!=null&&vs(ut,"number",ut.value)}switch(Ls=ot?Fr(ot):window,i){case"focusin":(Oo(Ls)||Ls.contentEditable==="true")&&(ja=Ls,Wl=ot,Fi=null);break;case"focusout":Fi=Wl=ja=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":qi=!1,tr(Rt,d,Nt);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":tr(Rt,d,Nt)}var Tn;if(ln)e:{switch(i){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else hl?mo(i,d)&&(nr="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(nr="onCompositionStart");nr&&(wa&&d.locale!=="ko"&&(hl||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&hl&&(Tn=Gl()):(ni=Nt,Do="value"in ni?ni.value:ni.textContent,hl=!0)),Ls=I0(ot,nr),0<Ls.length&&(nr=new ze(nr,i,null,d,Nt),Rt.push({event:nr,listeners:Ls}),Tn?nr.data=Tn:(Tn=Qo(d),Tn!==null&&(nr.data=Tn)))),(Tn=ba?Ua(i,d):ai(i,d))&&(nr=I0(ot,"onBeforeInput"),0<nr.length&&(Ls=new ze("onBeforeInput","beforeinput",null,d,Nt),Rt.push({event:Ls,listeners:nr}),Ls.data=Tn)),C_(Rt,i,ot,d,Nt)}fj(Rt,l)})}function xp(i,l,d){return{instance:i,listener:l,currentTarget:d}}function I0(i,l){for(var d=l+"Capture",p=[];i!==null;){var I=i,U=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||U===null||(I=Xr(i,d),I!=null&&p.unshift(xp(i,I,U)),I=Xr(i,l),I!=null&&p.push(xp(i,I,U))),i.tag===3)return p;i=i.return}return[]}function __(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pj(i,l,d,p,I){for(var U=l._reactName,Z=[];d!==null&&d!==p;){var xe=d,De=xe.alternate,ot=xe.stateNode;if(xe=xe.tag,De!==null&&De===p)break;xe!==5&&xe!==26&&xe!==27||ot===null||(De=ot,I?(ot=Xr(d,U),ot!=null&&Z.unshift(xp(d,ot,De))):I||(ot=Xr(d,U),ot!=null&&Z.push(xp(d,ot,De)))),d=d.return}Z.length!==0&&i.push({event:l,listeners:Z})}var F_=/\r\n?/g,U_=/\u0000|\uFFFD/g;function gj(i){return(typeof i=="string"?i:""+i).replace(F_,`
`).replace(U_,"")}function xj(i,l){return l=gj(l),gj(i)===l}function Yr(i,l,d,p,I,U){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||It(i,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&It(i,""+p);break;case"className":oa(i,"class",p);break;case"tabIndex":oa(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(i,d,p);break;case"style":on(i,p,U);break;case"data":if(l!=="object"){oa(i,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Ln(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(d==="formAction"?(l!=="input"&&Yr(i,l,"name",I.name,I,null),Yr(i,l,"formEncType",I.formEncType,I,null),Yr(i,l,"formMethod",I.formMethod,I,null),Yr(i,l,"formTarget",I.formTarget,I,null)):(Yr(i,l,"encType",I.encType,I,null),Yr(i,l,"method",I.method,I,null),Yr(i,l,"target",I.target,I,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Ln(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Ur);break;case"onScroll":p!=null&&Xn("scroll",i);break;case"onScrollEnd":p!=null&&Xn("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(I.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=Ln(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":Xn("beforetoggle",i),Xn("toggle",i),pa(i,"popover",p);break;case"xlinkActuate":zr(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":zr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":zr(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":zr(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":zr(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":zr(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":zr(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":zr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":zr(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":pa(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=dr.get(d)||d,pa(i,d,p))}}function uy(i,l,d,p,I,U){switch(d){case"style":on(i,p,U);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(I.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?It(i,p):(typeof p=="number"||typeof p=="bigint")&&It(i,""+p);break;case"onScroll":p!=null&&Xn("scroll",i);break;case"onScrollEnd":p!=null&&Xn("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(I=d.endsWith("Capture"),l=d.slice(2,I?d.length-7:void 0),U=i[Un]||null,U=U!=null?U[d]:null,typeof U=="function"&&i.removeEventListener(l,U,I),typeof p=="function")){typeof U!="function"&&U!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,p,I);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):pa(i,d,p)}}}function jo(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xn("error",i),Xn("load",i);var p=!1,I=!1,U;for(U in d)if(d.hasOwnProperty(U)){var Z=d[U];if(Z!=null)switch(U){case"src":p=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Yr(i,l,U,Z,d,null)}}I&&Yr(i,l,"srcSet",d.srcSet,d,null),p&&Yr(i,l,"src",d.src,d,null);return;case"input":Xn("invalid",i);var xe=U=Z=I=null,De=null,ot=null;for(p in d)if(d.hasOwnProperty(p)){var Nt=d[p];if(Nt!=null)switch(p){case"name":I=Nt;break;case"type":Z=Nt;break;case"checked":De=Nt;break;case"defaultChecked":ot=Nt;break;case"value":U=Nt;break;case"defaultValue":xe=Nt;break;case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(n(137,l));break;default:Yr(i,l,p,Nt,d,null)}}zt(i,U,xe,De,ot,Z,I,!1);return;case"select":Xn("invalid",i),p=Z=U=null;for(I in d)if(d.hasOwnProperty(I)&&(xe=d[I],xe!=null))switch(I){case"value":U=xe;break;case"defaultValue":Z=xe;break;case"multiple":p=xe;default:Yr(i,l,I,xe,d,null)}l=U,d=Z,i.multiple=!!p,l!=null?cs(i,!!p,l,!1):d!=null&&cs(i,!!p,d,!0);return;case"textarea":Xn("invalid",i),U=I=p=null;for(Z in d)if(d.hasOwnProperty(Z)&&(xe=d[Z],xe!=null))switch(Z){case"value":p=xe;break;case"defaultValue":I=xe;break;case"children":U=xe;break;case"dangerouslySetInnerHTML":if(xe!=null)throw Error(n(91));break;default:Yr(i,l,Z,xe,d,null)}sn(i,p,I,U);return;case"option":for(De in d)if(d.hasOwnProperty(De)&&(p=d[De],p!=null))switch(De){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Yr(i,l,De,p,d,null)}return;case"dialog":Xn("beforetoggle",i),Xn("toggle",i),Xn("cancel",i),Xn("close",i);break;case"iframe":case"object":Xn("load",i);break;case"video":case"audio":for(p=0;p<gp.length;p++)Xn(gp[p],i);break;case"image":Xn("error",i),Xn("load",i);break;case"details":Xn("toggle",i);break;case"embed":case"source":case"link":Xn("error",i),Xn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in d)if(d.hasOwnProperty(ot)&&(p=d[ot],p!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Yr(i,l,ot,p,d,null)}return;default:if(qn(l)){for(Nt in d)d.hasOwnProperty(Nt)&&(p=d[Nt],p!==void 0&&uy(i,l,Nt,p,d,void 0));return}}for(xe in d)d.hasOwnProperty(xe)&&(p=d[xe],p!=null&&Yr(i,l,xe,p,d,null))}function D_(i,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,U=null,Z=null,xe=null,De=null,ot=null,Nt=null;for(gt in d){var Rt=d[gt];if(d.hasOwnProperty(gt)&&Rt!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":De=Rt;default:p.hasOwnProperty(gt)||Yr(i,l,gt,null,p,Rt)}}for(var ut in p){var gt=p[ut];if(Rt=d[ut],p.hasOwnProperty(ut)&&(gt!=null||Rt!=null))switch(ut){case"type":U=gt;break;case"name":I=gt;break;case"checked":ot=gt;break;case"defaultChecked":Nt=gt;break;case"value":Z=gt;break;case"defaultValue":xe=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(n(137,l));break;default:gt!==Rt&&Yr(i,l,ut,gt,p,Rt)}}Tt(i,Z,xe,De,ot,Nt,U,I);return;case"select":gt=Z=xe=ut=null;for(U in d)if(De=d[U],d.hasOwnProperty(U)&&De!=null)switch(U){case"value":break;case"multiple":gt=De;default:p.hasOwnProperty(U)||Yr(i,l,U,null,p,De)}for(I in p)if(U=p[I],De=d[I],p.hasOwnProperty(I)&&(U!=null||De!=null))switch(I){case"value":ut=U;break;case"defaultValue":xe=U;break;case"multiple":Z=U;default:U!==De&&Yr(i,l,I,U,p,De)}l=xe,d=Z,p=gt,ut!=null?cs(i,!!d,ut,!1):!!p!=!!d&&(l!=null?cs(i,!!d,l,!0):cs(i,!!d,d?[]:"",!1));return;case"textarea":gt=ut=null;for(xe in d)if(I=d[xe],d.hasOwnProperty(xe)&&I!=null&&!p.hasOwnProperty(xe))switch(xe){case"value":break;case"children":break;default:Yr(i,l,xe,null,p,I)}for(Z in p)if(I=p[Z],U=d[Z],p.hasOwnProperty(Z)&&(I!=null||U!=null))switch(Z){case"value":ut=I;break;case"defaultValue":gt=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:I!==U&&Yr(i,l,Z,I,p,U)}Vs(i,ut,gt);return;case"option":for(var Es in d)if(ut=d[Es],d.hasOwnProperty(Es)&&ut!=null&&!p.hasOwnProperty(Es))switch(Es){case"selected":i.selected=!1;break;default:Yr(i,l,Es,null,p,ut)}for(De in p)if(ut=p[De],gt=d[De],p.hasOwnProperty(De)&&ut!==gt&&(ut!=null||gt!=null))switch(De){case"selected":i.selected=ut&&typeof ut!="function"&&typeof ut!="symbol";break;default:Yr(i,l,De,ut,p,gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tn in d)ut=d[tn],d.hasOwnProperty(tn)&&ut!=null&&!p.hasOwnProperty(tn)&&Yr(i,l,tn,null,p,ut);for(ot in p)if(ut=p[ot],gt=d[ot],p.hasOwnProperty(ot)&&ut!==gt&&(ut!=null||gt!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,l));break;default:Yr(i,l,ot,ut,p,gt)}return;default:if(qn(l)){for(var Wr in d)ut=d[Wr],d.hasOwnProperty(Wr)&&ut!==void 0&&!p.hasOwnProperty(Wr)&&uy(i,l,Wr,void 0,p,ut);for(Nt in p)ut=p[Nt],gt=d[Nt],!p.hasOwnProperty(Nt)||ut===gt||ut===void 0&&gt===void 0||uy(i,l,Nt,ut,p,gt);return}}for(var Xe in d)ut=d[Xe],d.hasOwnProperty(Xe)&&ut!=null&&!p.hasOwnProperty(Xe)&&Yr(i,l,Xe,null,p,ut);for(Rt in p)ut=p[Rt],gt=d[Rt],!p.hasOwnProperty(Rt)||ut===gt||ut==null&&gt==null||Yr(i,l,Rt,ut,p,gt)}function vj(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R_(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var I=d[p],U=I.transferSize,Z=I.initiatorType,xe=I.duration;if(U&&xe&&vj(Z)){for(Z=0,xe=I.responseEnd,p+=1;p<d.length;p++){var De=d[p],ot=De.startTime;if(ot>xe)break;var Nt=De.transferSize,Rt=De.initiatorType;Nt&&vj(Rt)&&(De=De.responseEnd,Z+=Nt*(De<xe?1:(xe-ot)/(De-ot)))}if(--p,l+=8*(U+Z)/(I.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var dy=null,hy=null;function _0(i){return i.nodeType===9?i:i.ownerDocument}function yj(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bj(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function fy(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var my=null;function L_(){var i=window.event;return i&&i.type==="popstate"?i===my?!1:(my=i,!0):(my=null,!1)}var wj=typeof setTimeout=="function"?setTimeout:void 0,Q_=typeof clearTimeout=="function"?clearTimeout:void 0,jj=typeof Promise=="function"?Promise:void 0,O_=typeof queueMicrotask=="function"?queueMicrotask:typeof jj<"u"?function(i){return jj.resolve(null).then(i).catch(k_)}:wj;function k_(i){setTimeout(function(){throw i})}function hd(i){return i==="head"}function Bj(i,l){var d=l,p=0;do{var I=d.nextSibling;if(i.removeChild(d),I&&I.nodeType===8)if(d=I.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(I),Mf(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")vp(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,vp(d);for(var U=d.firstChild;U;){var Z=U.nextSibling,xe=U.nodeName;U[_r]||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=Z}}else d==="body"&&vp(i.ownerDocument.body);d=I}while(d);Mf(l)}function Nj(i,l){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function py(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":py(d),hi(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function P_(i,l,d,p){for(;i.nodeType===1;){var I=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[_r])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(U=i.getAttribute("rel"),U==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(U!==I.rel||i.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||i.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||i.getAttribute("title")!==(I.title==null?null:I.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(U=i.getAttribute("src"),(U!==(I.src==null?null:I.src)||i.getAttribute("type")!==(I.type==null?null:I.type)||i.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&U&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var U=I.name==null?null:""+I.name;if(I.type==="hidden"&&i.getAttribute("name")===U)return i}else return i;if(i=Ec(i.nextSibling),i===null)break}return null}function M_(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Ec(i.nextSibling),i===null))return null;return i}function Sj(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ec(i.nextSibling),i===null))return null;return i}function gy(i){return i.data==="$?"||i.data==="$~"}function xy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function H_(i,l){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Ec(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var vy=null;function Cj(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(l===0)return Ec(i.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}i=i.nextSibling}return null}function Ej(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return i;l--}else d!=="/$"&&d!=="/&"||l++}i=i.previousSibling}return null}function Tj(i,l,d){switch(l=_0(d),i){case"html":if(i=l.documentElement,!i)throw Error(n(452));return i;case"head":if(i=l.head,!i)throw Error(n(453));return i;case"body":if(i=l.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function vp(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);hi(i)}var Tc=new Map,Ij=new Set;function F0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var vu=le.d;le.d={f:V_,r:K_,D:z_,C:G_,L:$_,m:Y_,X:X_,S:W_,M:J_};function V_(){var i=vu.f(),l=no();return i||l}function K_(i){var l=br(i);l!==null&&l.tag===5&&l.type==="form"?s0(l):vu.r(i)}var Of=typeof document>"u"?null:document;function _j(i,l,d){var p=Of;if(p&&typeof l=="string"&&l){var I=nt(l);I='link[rel="'+i+'"][href="'+I+'"]',typeof d=="string"&&(I+='[crossorigin="'+d+'"]'),Ij.has(I)||(Ij.add(I),i={rel:i,crossOrigin:d,href:l},p.querySelector(I)===null&&(l=p.createElement("link"),jo(l,"link",i),Gn(l),p.head.appendChild(l)))}}function z_(i){vu.D(i),_j("dns-prefetch",i,null)}function G_(i,l){vu.C(i,l),_j("preconnect",i,l)}function $_(i,l,d){vu.L(i,l,d);var p=Of;if(p&&i&&l){var I='link[rel="preload"][as="'+nt(l)+'"]';l==="image"&&d&&d.imageSrcSet?(I+='[imagesrcset="'+nt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(I+='[imagesizes="'+nt(d.imageSizes)+'"]')):I+='[href="'+nt(i)+'"]';var U=I;switch(l){case"style":U=kf(i);break;case"script":U=Pf(i)}Tc.has(U)||(i=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),Tc.set(U,i),p.querySelector(I)!==null||l==="style"&&p.querySelector(yp(U))||l==="script"&&p.querySelector(bp(U))||(l=p.createElement("link"),jo(l,"link",i),Gn(l),p.head.appendChild(l)))}}function Y_(i,l){vu.m(i,l);var d=Of;if(d&&i){var p=l&&typeof l.as=="string"?l.as:"script",I='link[rel="modulepreload"][as="'+nt(p)+'"][href="'+nt(i)+'"]',U=I;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Pf(i)}if(!Tc.has(U)&&(i=m({rel:"modulepreload",href:i},l),Tc.set(U,i),d.querySelector(I)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(bp(U)))return}p=d.createElement("link"),jo(p,"link",i),Gn(p),d.head.appendChild(p)}}}function W_(i,l,d){vu.S(i,l,d);var p=Of;if(p&&i){var I=Er(p).hoistableStyles,U=kf(i);l=l||"default";var Z=I.get(U);if(!Z){var xe={loading:0,preload:null};if(Z=p.querySelector(yp(U)))xe.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":l},d),(d=Tc.get(U))&&yy(i,d);var De=Z=p.createElement("link");Gn(De),jo(De,"link",i),De._p=new Promise(function(ot,Nt){De.onload=ot,De.onerror=Nt}),De.addEventListener("load",function(){xe.loading|=1}),De.addEventListener("error",function(){xe.loading|=2}),xe.loading|=4,U0(Z,l,p)}Z={type:"stylesheet",instance:Z,count:1,state:xe},I.set(U,Z)}}}function X_(i,l){vu.X(i,l);var d=Of;if(d&&i){var p=Er(d).hoistableScripts,I=Pf(i),U=p.get(I);U||(U=d.querySelector(bp(I)),U||(i=m({src:i,async:!0},l),(l=Tc.get(I))&&by(i,l),U=d.createElement("script"),Gn(U),jo(U,"link",i),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(I,U))}}function J_(i,l){vu.M(i,l);var d=Of;if(d&&i){var p=Er(d).hoistableScripts,I=Pf(i),U=p.get(I);U||(U=d.querySelector(bp(I)),U||(i=m({src:i,async:!0,type:"module"},l),(l=Tc.get(I))&&by(i,l),U=d.createElement("script"),Gn(U),jo(U,"link",i),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(I,U))}}function Fj(i,l,d,p){var I=(I=ue.current)?F0(I):null;if(!I)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=kf(d.href),d=Er(I).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=kf(d.href);var U=Er(I).hoistableStyles,Z=U.get(i);if(Z||(I=I.ownerDocument||I,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(i,Z),(U=I.querySelector(yp(i)))&&!U._p&&(Z.instance=U,Z.state.loading=5),Tc.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Tc.set(i,d),U||q_(I,i,d,Z.state))),l&&p===null)throw Error(n(528,""));return Z}if(l&&p!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Pf(d),d=Er(I).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function kf(i){return'href="'+nt(i)+'"'}function yp(i){return'link[rel="stylesheet"]['+i+"]"}function Uj(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function q_(i,l,d,p){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=i.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),jo(l,"link",d),Gn(l),i.head.appendChild(l))}function Pf(i){return'[src="'+nt(i)+'"]'}function bp(i){return"script[async]"+i}function Dj(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=i.querySelector('style[data-href~="'+nt(d.href)+'"]');if(p)return l.instance=p,Gn(p),p;var I=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Gn(p),jo(p,"style",I),U0(p,d.precedence,i),l.instance=p;case"stylesheet":I=kf(d.href);var U=i.querySelector(yp(I));if(U)return l.state.loading|=4,l.instance=U,Gn(U),U;p=Uj(d),(I=Tc.get(I))&&yy(p,I),U=(i.ownerDocument||i).createElement("link"),Gn(U);var Z=U;return Z._p=new Promise(function(xe,De){Z.onload=xe,Z.onerror=De}),jo(U,"link",p),l.state.loading|=4,U0(U,d.precedence,i),l.instance=U;case"script":return U=Pf(d.src),(I=i.querySelector(bp(U)))?(l.instance=I,Gn(I),I):(p=d,(I=Tc.get(U))&&(p=m({},d),by(p,I)),i=i.ownerDocument||i,I=i.createElement("script"),Gn(I),jo(I,"link",p),i.head.appendChild(I),l.instance=I);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,U0(p,d.precedence,i));return l.instance}function U0(i,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=p.length?p[p.length-1]:null,U=I,Z=0;Z<p.length;Z++){var xe=p[Z];if(xe.dataset.precedence===l)U=xe;else if(U!==I)break}U?U.parentNode.insertBefore(i,U.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function yy(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function by(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var D0=null;function Rj(i,l,d){if(D0===null){var p=new Map,I=D0=new Map;I.set(d,p)}else I=D0,p=I.get(d),p||(p=new Map,I.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),I=0;I<d.length;I++){var U=d[I];if(!(U[_r]||U[fs]||i==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=U.getAttribute(l)||"";Z=i+Z;var xe=p.get(Z);xe?xe.push(U):p.set(Z,[U])}}return p}function Lj(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function Z_(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Qj(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function e6(i,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var I=kf(p.href),U=l.querySelector(yp(I));if(U){l=U._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=R0.bind(i),l.then(i,i)),d.state.loading|=4,d.instance=U,Gn(U);return}U=l.ownerDocument||l,p=Uj(p),(I=Tc.get(I))&&yy(p,I),U=U.createElement("link"),Gn(U);var Z=U;Z._p=new Promise(function(xe,De){Z.onload=xe,Z.onerror=De}),jo(U,"link",p),d.instance=U}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=R0.bind(i),l.addEventListener("load",d),l.addEventListener("error",d))}}var wy=0;function t6(i,l){return i.stylesheets&&i.count===0&&Q0(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&Q0(i,i.stylesheets),i.unsuspend){var U=i.unsuspend;i.unsuspend=null,U()}},6e4+l);0<i.imgBytes&&wy===0&&(wy=62500*R_());var I=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Q0(i,i.stylesheets),i.unsuspend)){var U=i.unsuspend;i.unsuspend=null,U()}},(i.imgBytes>wy?50:800)+l);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(I)}}:null}function R0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Q0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var L0=null;function Q0(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,L0=new Map,l.forEach(s6,i),L0=null,R0.call(i))}function s6(i,l){if(!(l.state.loading&4)){var d=L0.get(i);if(d)var p=d.get(null);else{d=new Map,L0.set(i,d);for(var I=i.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<I.length;U++){var Z=I[U];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(d.set(Z.dataset.precedence,Z),p=Z)}p&&d.set(null,p)}I=l.instance,Z=I.getAttribute("data-precedence"),U=d.get(Z)||p,U===p&&d.set(null,I),d.set(Z,I),this.count++,p=R0.bind(this),I.addEventListener("load",p),I.addEventListener("error",p),U?U.parentNode.insertBefore(I,U.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(I,i.firstChild)),l.state.loading|=4}}var wp={$$typeof:F,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function n6(i,l,d,p,I,U,Z,xe,De){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zs(0),this.hiddenUpdates=zs(null),this.identifierPrefix=p,this.onUncaughtError=I,this.onCaughtError=U,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=De,this.incompleteTransitions=new Map}function Oj(i,l,d,p,I,U,Z,xe,De,ot,Nt,Rt){return i=new n6(i,l,d,Z,De,ot,Nt,Rt,xe),l=1,U===!0&&(l|=24),U=Di(3,null,null,l),i.current=U,U.stateNode=i,l=wA(),l.refCount++,i.pooledCache=l,l.refCount++,U.memoizedState={element:p,isDehydrated:d,cache:l},ls(U),i}function kj(i){return i?(i=xi,i):xi}function Pj(i,l,d,p,I,U){I=kj(I),p.context===null?p.context=I:p.pendingContext=I,p=Gs(l),p.payload={element:d},U=U===void 0?null:U,U!==null&&(p.callback=U),d=Ws(i,p,l),d!==null&&(Mr(d,i,l),fr(d,i,l))}function Mj(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function jy(i,l){Mj(i,l),(i=i.alternate)&&Mj(i,l)}function Hj(i){if(i.tag===13||i.tag===31){var l=Il(i,67108864);l!==null&&Mr(l,i,67108864),jy(i,67108864)}}function Vj(i){if(i.tag===13||i.tag===31){var l=Os();l=rs(l);var d=Il(i,l);d!==null&&Mr(d,i,l),jy(i,l)}}var O0=!0;function r6(i,l,d,p){var I=ie.T;ie.T=null;var U=le.p;try{le.p=2,By(i,l,d,p)}finally{le.p=U,ie.T=I}}function a6(i,l,d,p){var I=ie.T;ie.T=null;var U=le.p;try{le.p=8,By(i,l,d,p)}finally{le.p=U,ie.T=I}}function By(i,l,d,p){if(O0){var I=Ny(p);if(I===null)Ay(i,l,p,k0,d),zj(i,p);else if(o6(I,i,l,d,p))p.stopPropagation();else if(zj(i,p),l&4&&-1<i6.indexOf(i)){for(;I!==null;){var U=br(I);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var Z=ct(U.pendingLanes);if(Z!==0){var xe=U;for(xe.pendingLanes|=2,xe.entangledLanes|=2;Z;){var De=1<<31-Ot(Z);xe.entanglements[1]|=De,Z&=~De}OA(U),(gr&6)===0&&(ps=xt()+500,pp(0))}}break;case 31:case 13:xe=Il(U,2),xe!==null&&Mr(xe,U,2),no(),jy(U,2)}if(U=Ny(p),U===null&&Ay(i,l,p,k0,d),U===I)break;I=U}I!==null&&p.stopPropagation()}else Ay(i,l,p,null,d)}}function Ny(i){return i=Dr(i),Sy(i)}var k0=null;function Sy(i){if(k0=null,i=Nn(i),i!==null){var l=o(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=A(l),i!==null)return i;i=null}else if(d===31){if(i=h(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return k0=i,null}function Kj(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case Jt:return 2;case Mt:return 8;case He:case ft:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Cy=!1,fd=null,md=null,pd=null,jp=new Map,Bp=new Map,gd=[],i6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zj(i,l){switch(i){case"focusin":case"focusout":fd=null;break;case"dragenter":case"dragleave":md=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":jp.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bp.delete(l.pointerId)}}function Np(i,l,d,p,I,U){return i===null||i.nativeEvent!==U?(i={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:U,targetContainers:[I]},l!==null&&(l=br(l),l!==null&&Hj(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,I!==null&&l.indexOf(I)===-1&&l.push(I),i)}function o6(i,l,d,p,I){switch(l){case"focusin":return fd=Np(fd,i,l,d,p,I),!0;case"dragenter":return md=Np(md,i,l,d,p,I),!0;case"mouseover":return pd=Np(pd,i,l,d,p,I),!0;case"pointerover":var U=I.pointerId;return jp.set(U,Np(jp.get(U)||null,i,l,d,p,I)),!0;case"gotpointercapture":return U=I.pointerId,Bp.set(U,Np(Bp.get(U)||null,i,l,d,p,I)),!0}return!1}function Gj(i){var l=Nn(i.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=A(d),l!==null){i.blockedOn=l,dn(i.priority,function(){Vj(d)});return}}else if(l===31){if(l=h(d),l!==null){i.blockedOn=l,dn(i.priority,function(){Vj(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function P0(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Ny(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);ga=p,d.target.dispatchEvent(p),ga=null}else return l=br(d),l!==null&&Hj(l),i.blockedOn=d,!1;l.shift()}return!0}function $j(i,l,d){P0(i)&&d.delete(l)}function l6(){Cy=!1,fd!==null&&P0(fd)&&(fd=null),md!==null&&P0(md)&&(md=null),pd!==null&&P0(pd)&&(pd=null),jp.forEach($j),Bp.forEach($j)}function M0(i,l){i.blockedOn===l&&(i.blockedOn=null,Cy||(Cy=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,l6)))}var H0=null;function Yj(i){H0!==i&&(H0=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){H0===i&&(H0=null);for(var l=0;l<i.length;l+=3){var d=i[l],p=i[l+1],I=i[l+2];if(typeof p!="function"){if(Sy(p||d)===null)continue;break}var U=br(d);U!==null&&(i.splice(l,3),l-=3,Bf(U,{pending:!0,data:I,method:d.method,action:p},p,I))}}))}function Mf(i){function l(De){return M0(De,i)}fd!==null&&M0(fd,i),md!==null&&M0(md,i),pd!==null&&M0(pd,i),jp.forEach(l),Bp.forEach(l);for(var d=0;d<gd.length;d++){var p=gd[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<gd.length&&(d=gd[0],d.blockedOn===null);)Gj(d),d.blockedOn===null&&gd.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var I=d[p],U=d[p+1],Z=I[Un]||null;if(typeof U=="function")Z||Yj(d);else if(Z){var xe=null;if(U&&U.hasAttribute("formAction")){if(I=U,Z=U[Un]||null)xe=Z.formAction;else if(Sy(I)!==null)continue}else xe=Z.action;typeof xe=="function"?d[p+1]=xe:(d.splice(p,3),p-=3),Yj(d)}}}function Wj(){function i(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function(Z){return I=Z})},focusReset:"manual",scroll:"manual"})}function l(){I!==null&&(I(),I=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,I=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),I!==null&&(I(),I=null)}}}function Ey(i){this._internalRoot=i}V0.prototype.render=Ey.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,p=Os();Pj(d,p,i,l,null,null)},V0.prototype.unmount=Ey.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Pj(i.current,2,null,i,null,null),no(),l[zn]=null}};function V0(i){this._internalRoot=i}V0.prototype.unstable_scheduleHydration=function(i){if(i){var l=Cn();i={blockedOn:null,target:i,priority:l};for(var d=0;d<gd.length&&l!==0&&l<gd[d].priority;d++);gd.splice(d,0,i),d===0&&Gj(i)}};var Xj=e.version;if(Xj!=="19.2.3")throw Error(n(527,Xj,"19.2.3"));le.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(l),i=i!==null?c(i):null,i=i===null?null:i.stateNode,i};var c6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K0.isDisabled&&K0.supportsFiber)try{Gt=K0.inject(c6),qt=K0}catch{}}return Cp.createRoot=function(i,l){if(!a(i))throw Error(n(299));var d=!1,p="",I=i0,U=bh,Z=wh;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(I=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(Z=l.onRecoverableError)),l=Oj(i,1,!1,null,null,d,p,null,I,U,Z,Wj),i[zn]=l.current,cy(i),new Ey(l)},Cp.hydrateRoot=function(i,l,d){if(!a(i))throw Error(n(299));var p=!1,I="",U=i0,Z=bh,xe=wh,De=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(I=d.identifierPrefix),d.onUncaughtError!==void 0&&(U=d.onUncaughtError),d.onCaughtError!==void 0&&(Z=d.onCaughtError),d.onRecoverableError!==void 0&&(xe=d.onRecoverableError),d.formState!==void 0&&(De=d.formState)),l=Oj(i,1,!0,l,d??null,p,I,De,U,Z,xe,Wj),l.context=kj(null),d=l.current,p=Os(),p=rs(p),I=Gs(p),I.callback=null,Ws(d,I,p),d=p,l.current.lanes=d,as(l,d),OA(l),i[zn]=l.current,cy(i),new V0(l)},Cp.version="19.2.3",Cp}var oB;function w6(){if(oB)return _y.exports;oB=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_y.exports=b6(),_y.exports}var j6=w6();const B6=tw(j6);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lB="popstate";function N6(s={}){function e(a,o){let{pathname:A="/",search:h="",hash:u=""}=lf(a.location.hash.substring(1));return!A.startsWith("/")&&!A.startsWith(".")&&(A="/"+A),K1("",{pathname:A,search:h,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let A=a.document.querySelector("base"),h="";if(A&&A.getAttribute("href")){let u=a.location.href,f=u.indexOf("#");h=f===-1?u:u.slice(0,f)}return h+"#"+(typeof o=="string"?o:og(o))}function n(a,o){uc(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return C6(e,t,n,s)}function Va(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function uc(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S6(){return Math.random().toString(36).substring(2,10)}function cB(s,e){return{usr:s.state,key:s.key,idx:e}}function K1(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?lf(e):e,state:t,key:e&&e.key||n||S6()}}function og({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function lf(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function C6(s,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,A=a.history,h="POP",u=null,f=c();f==null&&(f=0,A.replaceState({...A.state,idx:f},""));function c(){return(A.state||{idx:null}).idx}function m(){h="POP";let B=c(),C=B==null?null:B-f;f=B,u&&u({action:h,location:E.location,delta:C})}function x(B,C){h="PUSH";let T=K1(E.location,B,C);t&&t(T,B),f=c()+1;let F=cB(T,f),L=E.createHref(T);try{A.pushState(F,"",L)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(L)}o&&u&&u({action:h,location:E.location,delta:1})}function g(B,C){h="REPLACE";let T=K1(E.location,B,C);t&&t(T,B),f=c();let F=cB(T,f),L=E.createHref(T);A.replaceState(F,"",L),o&&u&&u({action:h,location:E.location,delta:0})}function w(B){return E6(B)}let E={get action(){return h},get location(){return s(a,A)},listen(B){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(lB,m),u=B,()=>{a.removeEventListener(lB,m),u=null}},createHref(B){return e(a,B)},createURL:w,encodeLocation(B){let C=w(B);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:g,go(B){return A.go(B)}};return E}function E6(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Va(t,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:og(s);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function GC(s,e,t="/"){return T6(s,e,t,!1)}function T6(s,e,t,n){let a=typeof e=="string"?lf(e):e,o=Eu(a.pathname||"/",t);if(o==null)return null;let A=$C(s);I6(A);let h=null;for(let u=0;h==null&&u<A.length;++u){let f=M6(o);h=k6(A[u],f,n)}return h}function $C(s,e=[],t=[],n="",a=!1){let o=(A,h,u=a,f)=>{let c={relativePath:f===void 0?A.path||"":f,caseSensitive:A.caseSensitive===!0,childrenIndex:h,route:A};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&u)return;Va(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let m=Su([n,c.relativePath]),x=t.concat(c);A.children&&A.children.length>0&&(Va(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),$C(A.children,e,x,m,u)),!(A.path==null&&!A.index)&&e.push({path:m,score:Q6(m,A.index),routesMeta:x})};return s.forEach((A,h)=>{var u;if(A.path===""||!((u=A.path)!=null&&u.includes("?")))o(A,h);else for(let f of YC(A.path))o(A,h,!0,f)}),e}function YC(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let A=YC(n.join("/")),h=[];return h.push(...A.map(u=>u===""?o:[o,u].join("/"))),a&&h.push(...A),h.map(u=>s.startsWith("/")&&u===""?"/":u)}function I6(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:O6(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var _6=/^:[\w-]+$/,F6=3,U6=2,D6=1,R6=10,L6=-2,AB=s=>s==="*";function Q6(s,e){let t=s.split("/"),n=t.length;return t.some(AB)&&(n+=L6),e&&(n+=U6),t.filter(a=>!AB(a)).reduce((a,o)=>a+(_6.test(o)?F6:o===""?D6:R6),n)}function O6(s,e){return s.length===e.length&&s.slice(0,-1).every((n,a)=>n===e[a])?s[s.length-1]-e[e.length-1]:0}function k6(s,e,t=!1){let{routesMeta:n}=s,a={},o="/",A=[];for(let h=0;h<n.length;++h){let u=n[h],f=h===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",m=Dx({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},c),x=u.route;if(!m&&f&&t&&!n[n.length-1].route.index&&(m=Dx({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!m)return null;Object.assign(a,m.params),A.push({params:a,pathname:Su([o,m.pathname]),pathnameBase:z6(Su([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=Su([o,m.pathnameBase]))}return A}function Dx(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=P6(s.path,s.caseSensitive,s.end),a=e.match(t);if(!a)return null;let o=a[0],A=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:n.reduce((f,{paramName:c,isOptional:m},x)=>{if(c==="*"){let w=h[x]||"";A=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=h[x];return m&&!g?f[c]=void 0:f[c]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:A,pattern:s}}function P6(s,e=!1,t=!0){uc(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,h,u)=>(n.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function M6(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uc(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Eu(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}var WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H6=s=>WC.test(s);function V6(s,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof s=="string"?lf(s):s,o;if(t)if(H6(t))o=t;else{if(t.includes("//")){let A=t;t=t.replace(/\/\/+/g,"/"),uc(!1,`Pathnames cannot have embedded double slashes - normalizing ${A} -> ${t}`)}t.startsWith("/")?o=uB(t.substring(1),"/"):o=uB(t,e)}else o=e;return{pathname:o,search:G6(n),hash:$6(a)}}function uB(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ry(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K6(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nw(s){let e=K6(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function rw(s,e,t,n=!1){let a;typeof s=="string"?a=lf(s):(a={...s},Va(!a.pathname||!a.pathname.includes("?"),Ry("?","pathname","search",a)),Va(!a.pathname||!a.pathname.includes("#"),Ry("#","pathname","hash",a)),Va(!a.search||!a.search.includes("#"),Ry("#","search","hash",a)));let o=s===""||a.pathname==="",A=o?"/":a.pathname,h;if(A==null)h=t;else{let m=e.length-1;if(!n&&A.startsWith("..")){let x=A.split("/");for(;x[0]==="..";)x.shift(),m-=1;a.pathname=x.join("/")}h=m>=0?e[m]:"/"}let u=V6(a,h),f=A&&A!=="/"&&A.endsWith("/"),c=(o||A===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||c)&&(u.pathname+="/"),u}var Su=s=>s.join("/").replace(/\/\/+/g,"/"),z6=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),G6=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,$6=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Y6=class{constructor(s,e,t,n=!1){this.status=s,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function W6(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function X6(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var XC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function JC(s,e){let t=s;if(typeof t!="string"||!WC.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,a=!1;if(XC)try{let o=new URL(window.location.href),A=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Eu(A.pathname,e);A.origin===o.origin&&h!=null?t=h+A.search+A.hash:a=!0}catch{uc(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qC=["POST","PUT","PATCH","DELETE"];new Set(qC);var J6=["GET",...qC];new Set(J6);var jm=J.createContext(null);jm.displayName="DataRouter";var pv=J.createContext(null);pv.displayName="DataRouterState";var q6=J.createContext(!1),ZC=J.createContext({isTransitioning:!1});ZC.displayName="ViewTransition";var Z6=J.createContext(new Map);Z6.displayName="Fetchers";var eF=J.createContext(null);eF.displayName="Await";var dc=J.createContext(null);dc.displayName="Navigation";var Cg=J.createContext(null);Cg.displayName="Location";var hA=J.createContext({outlet:null,matches:[],isDataRoute:!1});hA.displayName="Route";var aw=J.createContext(null);aw.displayName="RouteError";var e4="REACT_ROUTER_ERROR",tF="REDIRECT",sF="ROUTE_ERROR_RESPONSE";function nF(s){if(s.startsWith(`${e4}:${tF}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rF(s){if(s.startsWith(`${e4}:${sF}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Y6(e.status,e.statusText,e.data)}catch{}}function aF(s,{relative:e}={}){Va(Bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=J.useContext(dc),{hash:a,pathname:o,search:A}=Eg(s,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Su([t,o])),n.createHref({pathname:h,search:A,hash:a})}function Bm(){return J.useContext(Cg)!=null}function Du(){return Va(Bm(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Cg).location}var t4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s4(s){J.useContext(dc).static||J.useLayoutEffect(s)}function Nm(){let{isDataRoute:s}=J.useContext(hA);return s?vF():iF()}function iF(){Va(Bm(),"useNavigate() may be used only in the context of a <Router> component.");let s=J.useContext(jm),{basename:e,navigator:t}=J.useContext(dc),{matches:n}=J.useContext(hA),{pathname:a}=Du(),o=JSON.stringify(nw(n)),A=J.useRef(!1);return s4(()=>{A.current=!0}),J.useCallback((u,f={})=>{if(uc(A.current,t4),!A.current)return;if(typeof u=="number"){t.go(u);return}let c=rw(u,JSON.parse(o),a,f.relative==="path");s==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Su([e,c.pathname])),(f.replace?t.replace:t.push)(c,f.state,f)},[e,t,o,a,s])}J.createContext(null);function oF(){let{matches:s}=J.useContext(hA),e=s[s.length-1];return e?e.params:{}}function Eg(s,{relative:e}={}){let{matches:t}=J.useContext(hA),{pathname:n}=Du(),a=JSON.stringify(nw(t));return J.useMemo(()=>rw(s,JSON.parse(a),n,e==="path"),[s,a,n,e])}function lF(s,e){return n4(s,e)}function n4(s,e,t,n,a){var T;Va(Bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=J.useContext(dc),{matches:A}=J.useContext(hA),h=A[A.length-1],u=h?h.params:{},f=h?h.pathname:"/",c=h?h.pathnameBase:"/",m=h&&h.route;{let F=m&&m.path||"";a4(f,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let x=Du(),g;if(e){let F=typeof e=="string"?lf(e):e;Va(c==="/"||((T=F.pathname)==null?void 0:T.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${F.pathname}" was given in the \`location\` prop.`),g=F}else g=x;let w=g.pathname||"/",E=w;if(c!=="/"){let F=c.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(F.length).join("/")}let B=GC(s,{pathname:E});uc(m||B!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),uc(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=hF(B&&B.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:Su([c,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?c:Su([c,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),A,t,n,a);return e&&C?J.createElement(Cg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function cF(){let s=xF(),e=W6(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},A=null;return console.error("Error handled by React Router default ErrorBoundary:",s),A=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:o},"ErrorBoundary")," or"," ",J.createElement("code",{style:o},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:a},t):null,A)}var AF=J.createElement(cF,null),r4=class extends J.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const t=rF(s.digest);t&&(s=t)}let e=s!==void 0?J.createElement(hA.Provider,{value:this.props.routeContext},J.createElement(aw.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?J.createElement(uF,{error:s},e):e}};r4.contextType=q6;var Ly=new WeakMap;function uF({children:s,error:e}){let{basename:t}=J.useContext(dc);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=nF(e.digest);if(n){let a=Ly.get(e);if(a)throw a;let o=JC(n.location,t);if(XC&&!Ly.get(e))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const A=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw Ly.set(e,A),A}return J.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return s}function dF({routeContext:s,match:e,children:t}){let n=J.useContext(jm);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(hA.Provider,{value:s},t)}function hF(s,e=[],t=null,n=null,a=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let o=s,A=t==null?void 0:t.errors;if(A!=null){let c=o.findIndex(m=>m.route.id&&(A==null?void 0:A[m.route.id])!==void 0);Va(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(A).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let h=!1,u=-1;if(t)for(let c=0;c<o.length;c++){let m=o[c];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=c),m.route.id){let{loaderData:x,errors:g}=t,w=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||w){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let f=t&&n?(c,m)=>{var x,g;n(c,{location:t.location,params:((g=(x=t.matches)==null?void 0:x[0])==null?void 0:g.params)??{},unstable_pattern:X6(t.matches),errorInfo:m})}:void 0;return o.reduceRight((c,m,x)=>{let g,w=!1,E=null,B=null;t&&(g=A&&m.route.id?A[m.route.id]:void 0,E=m.route.errorElement||AF,h&&(u<0&&x===0?(a4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,B=null):u===x&&(w=!0,B=m.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,x+1)),T=()=>{let F;return g?F=E:w?F=B:m.route.Component?F=J.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=c,J.createElement(dF,{match:m,routeContext:{outlet:c,matches:C,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?J.createElement(r4,{location:t.location,revalidation:t.revalidation,component:E,error:g,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):T()},null)}function iw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fF(s){let e=J.useContext(jm);return Va(e,iw(s)),e}function mF(s){let e=J.useContext(pv);return Va(e,iw(s)),e}function pF(s){let e=J.useContext(hA);return Va(e,iw(s)),e}function ow(s){let e=pF(s),t=e.matches[e.matches.length-1];return Va(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function gF(){return ow("useRouteId")}function xF(){var n;let s=J.useContext(aw),e=mF("useRouteError"),t=ow("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[t]}function vF(){let{router:s}=fF("useNavigate"),e=ow("useNavigate"),t=J.useRef(!1);return s4(()=>{t.current=!0}),J.useCallback(async(a,o={})=>{uc(t.current,t4),t.current&&(typeof a=="number"?await s.navigate(a):await s.navigate(a,{fromRouteId:e,...o}))},[s,e])}var dB={};function a4(s,e,t){!e&&!dB[s]&&(dB[s]=!0,uc(!1,t))}J.memo(yF);function yF({routes:s,future:e,state:t,onError:n}){return n4(s,void 0,t,n,e)}function z1({to:s,replace:e,state:t,relative:n}){Va(Bm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=J.useContext(dc);uc(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=J.useContext(hA),{pathname:A}=Du(),h=Nm(),u=rw(s,nw(o),A,n==="path"),f=JSON.stringify(u);return J.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:n})},[h,f,n,e,t]),null}function Ha(s){Va(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bF({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1,unstable_useTransitions:A}){Va(!Bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),u=J.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:A,future:{}}),[h,a,o,A]);typeof t=="string"&&(t=lf(t));let{pathname:f="/",search:c="",hash:m="",state:x=null,key:g="default"}=t,w=J.useMemo(()=>{let E=Eu(f,h);return E==null?null:{location:{pathname:E,search:c,hash:m,state:x,key:g},navigationType:n}},[h,f,c,m,x,g,n]);return uc(w!=null,`<Router basename="${h}"> is not able to match the URL "${f}${c}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:J.createElement(dc.Provider,{value:u},J.createElement(Cg.Provider,{children:e,value:w}))}function wF({children:s,location:e}){return lF(G1(s),e)}function G1(s,e=[]){let t=[];return J.Children.forEach(s,(n,a)=>{if(!J.isValidElement(n))return;let o=[...e,a];if(n.type===J.Fragment){t.push.apply(t,G1(n.props.children,o));return}Va(n.type===Ha,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Va(!n.props.index||!n.props.children,"An index route cannot have child routes.");let A={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=G1(n.props.children,o)),t.push(A)}),t}var fx="get",mx="application/x-www-form-urlencoded";function gv(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function jF(s){return gv(s)&&s.tagName.toLowerCase()==="button"}function BF(s){return gv(s)&&s.tagName.toLowerCase()==="form"}function NF(s){return gv(s)&&s.tagName.toLowerCase()==="input"}function SF(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function CF(s,e){return s.button===0&&(!e||e==="_self")&&!SF(s)}var z0=null;function EF(){if(z0===null)try{new FormData(document.createElement("form"),0),z0=!1}catch{z0=!0}return z0}var TF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qy(s){return s!=null&&!TF.has(s)?(uc(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mx}"`),null):s}function IF(s,e){let t,n,a,o,A;if(BF(s)){let h=s.getAttribute("action");n=h?Eu(h,e):null,t=s.getAttribute("method")||fx,a=Qy(s.getAttribute("enctype"))||mx,o=new FormData(s)}else if(jF(s)||NF(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=s.getAttribute("formaction")||h.getAttribute("action");if(n=u?Eu(u,e):null,t=s.getAttribute("formmethod")||h.getAttribute("method")||fx,a=Qy(s.getAttribute("formenctype"))||Qy(h.getAttribute("enctype"))||mx,o=new FormData(h,s),!EF()){let{name:f,type:c,value:m}=s;if(c==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,m)}}else{if(gv(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fx,n=null,a=mx,A=s}return o&&a==="text/plain"&&(A=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lw(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function _F(s,e,t){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Eu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function FF(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UF(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function DF(s,e,t){let n=await Promise.all(s.map(async a=>{let o=e.routes[a.route.id];if(o){let A=await FF(o,t);return A.links?A.links():[]}return[]}));return OF(n.flat(1).filter(UF).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hB(s,e,t,n,a,o){let A=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,h=(u,f)=>{var c;return t[f].pathname!==u.pathname||((c=t[f].route.path)==null?void 0:c.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>A(u,f)||h(u,f)):o==="data"?e.filter((u,f)=>{var m;let c=n.routes[u.route.id];if(!c||!c.hasLoader)return!1;if(A(u,f)||h(u,f))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(s,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function RF(s,e,{includeHydrateFallback:t}={}){return LF(s.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function LF(s){return[...new Set(s)]}function QF(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function OF(s,e){let t=new Set;return new Set(e),s.reduce((n,a)=>{let o=JSON.stringify(QF(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}function i4(){let s=J.useContext(jm);return lw(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function kF(){let s=J.useContext(pv);return lw(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var cw=J.createContext(void 0);cw.displayName="FrameworkContext";function o4(){let s=J.useContext(cw);return lw(s,"You must render this element inside a <HydratedRouter> element"),s}function PF(s,e){let t=J.useContext(cw),[n,a]=J.useState(!1),[o,A]=J.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:f,onMouseLeave:c,onTouchStart:m}=e,x=J.useRef(null);J.useEffect(()=>{if(s==="render"&&A(!0),s==="viewport"){let E=C=>{C.forEach(T=>{A(T.isIntersecting)})},B=new IntersectionObserver(E,{threshold:.5});return x.current&&B.observe(x.current),()=>{B.disconnect()}}},[s]),J.useEffect(()=>{if(n){let E=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(E)}}},[n]);let g=()=>{a(!0)},w=()=>{a(!1),A(!1)};return t?s!=="intent"?[o,x,{}]:[o,x,{onFocus:Ep(h,g),onBlur:Ep(u,w),onMouseEnter:Ep(f,g),onMouseLeave:Ep(c,w),onTouchStart:Ep(m,g)}]:[!1,x,{}]}function Ep(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function MF({page:s,...e}){let{router:t}=i4(),n=J.useMemo(()=>GC(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?J.createElement(VF,{page:s,matches:n,...e}):null}function HF(s){let{manifest:e,routeModules:t}=o4(),[n,a]=J.useState([]);return J.useEffect(()=>{let o=!1;return DF(s,e,t).then(A=>{o||a(A)}),()=>{o=!0}},[s,e,t]),n}function VF({page:s,matches:e,...t}){let n=Du(),{manifest:a,routeModules:o}=o4(),{basename:A}=i4(),{loaderData:h,matches:u}=kF(),f=J.useMemo(()=>hB(s,e,u,a,n,"data"),[s,e,u,a,n]),c=J.useMemo(()=>hB(s,e,u,a,n,"assets"),[s,e,u,a,n]),m=J.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let w=new Set,E=!1;if(e.forEach(C=>{var F;let T=a.routes[C.route.id];!T||!T.hasLoader||(!f.some(L=>L.route.id===C.route.id)&&C.route.id in h&&((F=o[C.route.id])!=null&&F.shouldRevalidate)||T.hasClientLoader?E=!0:w.add(C.route.id))}),w.size===0)return[];let B=_F(s,A,"data");return E&&w.size>0&&B.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[B.pathname+B.search]},[A,h,n,a,f,e,s,o]),x=J.useMemo(()=>RF(c,a),[c,a]),g=HF(c);return J.createElement(J.Fragment,null,m.map(w=>J.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),x.map(w=>J.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),g.map(({key:w,link:E})=>J.createElement("link",{key:w,nonce:t.nonce,...E})))}function KF(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zF&&(window.__reactRouterVersion="7.11.0")}catch{}function GF({basename:s,children:e,unstable_useTransitions:t,window:n}){let a=J.useRef();a.current==null&&(a.current=N6({window:n,v5Compat:!0}));let o=a.current,[A,h]=J.useState({action:o.action,location:o.location}),u=J.useCallback(f=>{t===!1?h(f):J.startTransition(()=>h(f))},[t]);return J.useLayoutEffect(()=>o.listen(u),[o,u]),J.createElement(bF,{basename:s,children:e,location:A.location,navigationType:A.action,navigator:o,unstable_useTransitions:t})}var l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,da=J.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:A,state:h,target:u,to:f,preventScrollReset:c,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},w){let{basename:E,unstable_useTransitions:B}=J.useContext(dc),C=typeof f=="string"&&l4.test(f),T=JC(f,E);f=T.to;let F=aF(f,{relative:a}),[L,k,M]=PF(n,g),Q=XF(f,{replace:A,state:h,target:u,preventScrollReset:c,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:B});function D(V){e&&e(V),V.defaultPrevented||Q(V)}let R=J.createElement("a",{...g,...M,href:T.absoluteURL||F,onClick:T.isExternal||o?e:D,ref:KF(w,k),target:u,"data-discover":!C&&t==="render"?"true":void 0});return L&&!C?J.createElement(J.Fragment,null,R,J.createElement(MF,{page:F})):R});da.displayName="Link";var $F=J.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:A,viewTransition:h,children:u,...f},c){let m=Eg(A,{relative:f.relative}),x=Du(),g=J.useContext(pv),{navigator:w,basename:E}=J.useContext(dc),B=g!=null&&tU(m)&&h===!0,C=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=x.pathname,F=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(T=T.toLowerCase(),F=F?F.toLowerCase():null,C=C.toLowerCase()),F&&E&&(F=Eu(F,E)||F);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let k=T===C||!a&&T.startsWith(C)&&T.charAt(L)==="/",M=F!=null&&(F===C||!a&&F.startsWith(C)&&F.charAt(C.length)==="/"),Q={isActive:k,isPending:M,isTransitioning:B},D=k?e:void 0,R;typeof n=="function"?R=n(Q):R=[n,k?"active":null,M?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(Q):o;return J.createElement(da,{...f,"aria-current":D,className:R,ref:c,style:V,to:A,viewTransition:h},typeof u=="function"?u(Q):u)});$F.displayName="NavLink";var YF=J.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:A=fx,action:h,onSubmit:u,relative:f,preventScrollReset:c,viewTransition:m,unstable_defaultShouldRevalidate:x,...g},w)=>{let{unstable_useTransitions:E}=J.useContext(dc),B=ZF(),C=eU(h,{relative:f}),T=A.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&l4.test(h),L=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let M=k.nativeEvent.submitter,Q=(M==null?void 0:M.getAttribute("formmethod"))||A,D=()=>B(M||k.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:a,state:o,relative:f,preventScrollReset:c,viewTransition:m,unstable_defaultShouldRevalidate:x});E&&t!==!1?J.startTransition(()=>D()):D()};return J.createElement("form",{ref:w,method:T,action:C,onSubmit:n?u:L,...g,"data-discover":!F&&s==="render"?"true":void 0})});YF.displayName="Form";function WF(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c4(s){let e=J.useContext(jm);return Va(e,WF(s)),e}function XF(s,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:h,unstable_useTransitions:u}={}){let f=Nm(),c=Du(),m=Eg(s,{relative:o});return J.useCallback(x=>{if(CF(x,e)){x.preventDefault();let g=t!==void 0?t:og(c)===og(m),w=()=>f(s,{replace:g,state:n,preventScrollReset:a,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:h});u?J.startTransition(()=>w()):w()}},[c,f,m,t,n,e,s,a,o,A,h,u])}var JF=0,qF=()=>`__${String(++JF)}__`;function ZF(){let{router:s}=c4("useSubmit"),{basename:e}=J.useContext(dc),t=gF(),n=s.fetch,a=s.navigate;return J.useCallback(async(o,A={})=>{let{action:h,method:u,encType:f,formData:c,body:m}=IF(o,e);if(A.navigate===!1){let x=A.fetcherKey||qF();await n(x,t,A.action||h,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:c,body:m,formMethod:A.method||u,formEncType:A.encType||f,flushSync:A.flushSync})}else await a(A.action||h,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:c,body:m,formMethod:A.method||u,formEncType:A.encType||f,replace:A.replace,state:A.state,fromRouteId:t,flushSync:A.flushSync,viewTransition:A.viewTransition})},[n,a,e,t])}function eU(s,{relative:e}={}){let{basename:t}=J.useContext(dc),n=J.useContext(hA);Va(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Eg(s||".",{relative:e})},A=Du();if(s==null){o.search=A.search;let h=new URLSearchParams(o.search),u=h.getAll("index");if(u.some(c=>c==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let c=h.toString();o.search=c?`?${c}`:""}}return(!s||s===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Su([t,o.pathname])),og(o)}function tU(s,{relative:e}={}){let t=J.useContext(ZC);Va(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=c4("useViewTransitionState"),a=Eg(s,{relative:e});if(!t.isTransitioning)return!1;let o=Eu(t.currentLocation.pathname,n)||t.currentLocation.pathname,A=Eu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Dx(a.pathname,A)!=null||Dx(a.pathname,o)!=null}const sU=()=>{};var fB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=function(s){const e=[];let t=0;for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<s.length&&(s.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},nU=function(s){const e=[];let t=0,n=0;for(;t<s.length;){const a=s[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=s[t++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=s[t++],A=s[t++],h=s[t++],u=((a&7)<<18|(o&63)<<12|(A&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const o=s[t++],A=s[t++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|A&63)}}return e.join("")},u4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<s.length;a+=3){const o=s[a],A=a+1<s.length,h=A?s[a+1]:0,u=a+2<s.length,f=u?s[a+2]:0,c=o>>2,m=(o&3)<<4|h>>4;let x=(h&15)<<2|f>>6,g=f&63;u||(g=64,A||(x=64)),n.push(t[c],t[m],t[x],t[g])}return n.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(A4(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):nU(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<s.length;){const o=t[s.charAt(a++)],h=a<s.length?t[s.charAt(a)]:0;++a;const f=a<s.length?t[s.charAt(a)]:64;++a;const m=a<s.length?t[s.charAt(a)]:64;if(++a,o==null||h==null||f==null||m==null)throw new rU;const x=o<<2|h>>4;if(n.push(x),f!==64){const g=h<<4&240|f>>2;if(n.push(g),m!==64){const w=f<<6&192|m;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aU=function(s){const e=A4(s);return u4.encodeByteArray(e,!0)},Rx=function(s){return aU(s).replace(/\./g,"")},d4=function(s){try{return u4.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=()=>iU().__FIREBASE_DEFAULTS__,lU=()=>{if(typeof process>"u"||typeof fB>"u")return;const s=fB.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},cU=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&d4(s[1]);return e&&JSON.parse(e)},xv=()=>{try{return sU()||oU()||lU()||cU()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},h4=s=>{var e,t;return(t=(e=xv())==null?void 0:e.emulatorHosts)==null?void 0:t[s]},f4=s=>{const e=h4(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},m4=()=>{var s;return(s=xv())==null?void 0:s.config},p4=s=>{var e;return(e=xv())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Aw(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=s.iat||0,o=s.sub||s.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Rx(JSON.stringify(t)),Rx(JSON.stringify(A)),""].join(".")}const Vp={};function dU(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vp))Vp[e]?s.emulator.push(e):s.prod.push(e);return s}function hU(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let mB=!1;function uw(s,e){if(typeof window>"u"||typeof document>"u"||!eh(window.location.host)||Vp[s]===e||Vp[s]||mB)return;Vp[s]=e;function t(x){return`__firebase__banner__${x}`}const n="__firebase__banner",o=dU().prod.length>0;function A(){const x=document.getElementById(n);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function u(x,g){x.setAttribute("width","24"),x.setAttribute("id",g),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{mB=!0,A()},x}function c(x,g){x.setAttribute("id",g),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function m(){const x=hU(n),g=t("text"),w=document.getElementById(g)||document.createElement("span"),E=t("learnmore"),B=document.getElementById(E)||document.createElement("a"),C=t("preprendIcon"),T=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;h(F),c(B,E);const L=f();u(T,C),F.append(T,w,B,L),document.body.appendChild(F)}o?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Al())}function mU(){var e;const s=(e=xv())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gU(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function xU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vU(){const s=Al();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yU(){return!mU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bU(){try{return typeof indexedDB=="object"}catch{return!1}}function wU(){return new Promise((s,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="FirebaseError";class fA extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=jU,Object.setPrototypeOf(this,fA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tg.prototype.create)}}class Tg{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],A=o?BU(o,n):"Error",h=`${this.serviceName}: ${A} (${a}).`;return new fA(a,h,n)}}function BU(s,e){return s.replace(NU,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const NU=/\{\$([^}]+)}/g;function SU(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ef(s,e){if(s===e)return!0;const t=Object.keys(s),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const o=s[a],A=e[a];if(pB(o)&&pB(A)){if(!ef(o,A))return!1}else if(o!==A)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function pB(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(s){const e=[];for(const[t,n]of Object.entries(s))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Dp(s){const e={};return s.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Rp(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function CU(s,e){const t=new EU(s,e);return t.subscribe.bind(t)}class EU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");TU(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=Oy),a.error===void 0&&(a.error=Oy),a.complete===void 0&&(a.complete=Oy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TU(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Oy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(s){return s&&s._delegate?s._delegate:s}let Lx=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new AU;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FU(e))try{this.getOrInitializeService({instanceIdentifier:Qh})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=Qh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qh){return this.instances.has(e)}getOptions(e=Qh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,A]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);n===h&&A.resolve(a)}return a}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const o=this.instances.get(n);return o&&e(o,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:_U(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Qh){return this.component?this.component.multipleInstances?e:Qh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _U(s){return s===Qh?void 0:s}function FU(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ca||(Ca={}));const DU={debug:Ca.DEBUG,verbose:Ca.VERBOSE,info:Ca.INFO,warn:Ca.WARN,error:Ca.ERROR,silent:Ca.SILENT},RU=Ca.INFO,LU={[Ca.DEBUG]:"log",[Ca.VERBOSE]:"log",[Ca.INFO]:"info",[Ca.WARN]:"warn",[Ca.ERROR]:"error"},QU=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),a=LU[e];if(a)console[a](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let OU=class{constructor(e){this.name=e,this._logLevel=RU,this._logHandler=QU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ca))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ca.DEBUG,...e),this._logHandler(this,Ca.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ca.VERBOSE,...e),this._logHandler(this,Ca.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ca.INFO,...e),this._logHandler(this,Ca.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ca.WARN,...e),this._logHandler(this,Ca.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ca.ERROR,...e),this._logHandler(this,Ca.ERROR,...e)}};const kU=(s,e)=>e.some(t=>s instanceof t);let gB,xB;function PU(){return gB||(gB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MU(){return xB||(xB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g4=new WeakMap,$1=new WeakMap,x4=new WeakMap,ky=new WeakMap,dw=new WeakMap;function HU(s){const e=new Promise((t,n)=>{const a=()=>{s.removeEventListener("success",o),s.removeEventListener("error",A)},o=()=>{t(Qd(s.result)),a()},A=()=>{n(s.error),a()};s.addEventListener("success",o),s.addEventListener("error",A)});return e.then(t=>{t instanceof IDBCursor&&g4.set(t,s)}).catch(()=>{}),dw.set(e,s),e}function VU(s){if($1.has(s))return;const e=new Promise((t,n)=>{const a=()=>{s.removeEventListener("complete",o),s.removeEventListener("error",A),s.removeEventListener("abort",A)},o=()=>{t(),a()},A=()=>{n(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",o),s.addEventListener("error",A),s.addEventListener("abort",A)});$1.set(s,e)}let Y1={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return $1.get(s);if(e==="objectStoreNames")return s.objectStoreNames||x4.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qd(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function KU(s){Y1=s(Y1)}function zU(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=s.call(Py(this),e,...t);return x4.set(n,e.sort?e.sort():[e]),Qd(n)}:MU().includes(s)?function(...e){return s.apply(Py(this),e),Qd(g4.get(this))}:function(...e){return Qd(s.apply(Py(this),e))}}function GU(s){return typeof s=="function"?zU(s):(s instanceof IDBTransaction&&VU(s),kU(s,PU())?new Proxy(s,Y1):s)}function Qd(s){if(s instanceof IDBRequest)return HU(s);if(ky.has(s))return ky.get(s);const e=GU(s);return e!==s&&(ky.set(s,e),dw.set(e,s)),e}const Py=s=>dw.get(s);function $U(s,e,{blocked:t,upgrade:n,blocking:a,terminated:o}={}){const A=indexedDB.open(s,e),h=Qd(A);return n&&A.addEventListener("upgradeneeded",u=>{n(Qd(A.result),u.oldVersion,u.newVersion,Qd(A.transaction),u)}),t&&A.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),h.then(u=>{o&&u.addEventListener("close",()=>o()),a&&u.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const YU=["get","getKey","getAll","getAllKeys","count"],WU=["put","add","delete","clear"],My=new Map;function vB(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(My.get(e))return My.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=WU.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||YU.includes(t)))return;const o=async function(A,...h){const u=this.transaction(A,a?"readwrite":"readonly");let f=u.store;return n&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),a&&u.done]))[0]};return My.set(e,o),o}KU(s=>({...s,get:(e,t,n)=>vB(e,t)||s.get(e,t,n),has:(e,t)=>!!vB(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JU(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function JU(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W1="@firebase/app",yB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new OU("@firebase/app"),qU="@firebase/app-compat",ZU="@firebase/analytics-compat",eD="@firebase/analytics",tD="@firebase/app-check-compat",sD="@firebase/app-check",nD="@firebase/auth",rD="@firebase/auth-compat",aD="@firebase/database",iD="@firebase/data-connect",oD="@firebase/database-compat",lD="@firebase/functions",cD="@firebase/functions-compat",AD="@firebase/installations",uD="@firebase/installations-compat",dD="@firebase/messaging",hD="@firebase/messaging-compat",fD="@firebase/performance",mD="@firebase/performance-compat",pD="@firebase/remote-config",gD="@firebase/remote-config-compat",xD="@firebase/storage",vD="@firebase/storage-compat",yD="@firebase/firestore",bD="@firebase/ai",wD="@firebase/firestore-compat",jD="firebase",BD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="[DEFAULT]",ND={[W1]:"fire-core",[qU]:"fire-core-compat",[eD]:"fire-analytics",[ZU]:"fire-analytics-compat",[sD]:"fire-app-check",[tD]:"fire-app-check-compat",[nD]:"fire-auth",[rD]:"fire-auth-compat",[aD]:"fire-rtdb",[iD]:"fire-data-connect",[oD]:"fire-rtdb-compat",[lD]:"fire-fn",[cD]:"fire-fn-compat",[AD]:"fire-iid",[uD]:"fire-iid-compat",[dD]:"fire-fcm",[hD]:"fire-fcm-compat",[fD]:"fire-perf",[mD]:"fire-perf-compat",[pD]:"fire-rc",[gD]:"fire-rc-compat",[xD]:"fire-gcs",[vD]:"fire-gcs-compat",[yD]:"fire-fst",[wD]:"fire-fst-compat",[bD]:"fire-vertex","fire-js":"fire-js",[jD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Map,SD=new Map,J1=new Map;function bB(s,e){try{s.container.addComponent(e)}catch(t){Tu.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Kd(s){const e=s.name;if(J1.has(e))return Tu.debug(`There were multiple attempts to register component ${e}.`),!1;J1.set(e,s);for(const t of Qx.values())bB(t,s);for(const t of SD.values())bB(t,s);return!0}function vv(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function oc(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Od=new Tg("app","Firebase",CD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Od.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=BD;function v4(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const n={name:X1,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw Od.create("bad-app-name",{appName:String(a)});if(t||(t=m4()),!t)throw Od.create("no-options");const o=Qx.get(a);if(o){if(ef(t,o.options)&&ef(n,o.config))return o;throw Od.create("duplicate-app",{appName:a})}const A=new UU(a);for(const u of J1.values())A.addComponent(u);const h=new ED(t,n,A);return Qx.set(a,h),h}function hw(s=X1){const e=Qx.get(s);if(!e&&s===X1&&m4())return v4();if(!e)throw Od.create("no-app",{appName:s});return e}function Dc(s,e,t){let n=ND[s]??s;t&&(n+=`-${t}`);const a=n.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const A=[`Unable to register library "${n}" with version "${e}":`];a&&A.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&o&&A.push("and"),o&&A.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tu.warn(A.join(" "));return}Kd(new Lx(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firebase-heartbeat-database",ID=1,lg="firebase-heartbeat-store";let Hy=null;function y4(){return Hy||(Hy=$U(TD,ID,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(lg)}catch(t){console.warn(t)}}}}).catch(s=>{throw Od.create("idb-open",{originalErrorMessage:s.message})})),Hy}async function _D(s){try{const t=(await y4()).transaction(lg),n=await t.objectStore(lg).get(b4(s));return await t.done,n}catch(e){if(e instanceof fA)Tu.warn(e.message);else{const t=Od.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tu.warn(t.message)}}}async function wB(s,e){try{const n=(await y4()).transaction(lg,"readwrite");await n.objectStore(lg).put(e,b4(s)),await n.done}catch(t){if(t instanceof fA)Tu.warn(t.message);else{const n=Od.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Tu.warn(n.message)}}}function b4(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1024,UD=30;class DD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LD(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(A=>A.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>UD){const A=QD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(A,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Tu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jB(),{heartbeatsToSend:n,unsentEntries:a}=RD(this._heartbeatsCache.heartbeats),o=Rx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Tu.warn(t),""}}}function jB(){return new Date().toISOString().substring(0,10)}function RD(s,e=FD){const t=[];let n=s.slice();for(const a of s){const o=t.find(A=>A.agent===a.agent);if(o){if(o.dates.push(a.date),BB(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),BB(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class LD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bU()?wU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _D(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return wB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return wB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function BB(s){return Rx(JSON.stringify({version:2,heartbeats:s})).length}function QD(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let n=1;n<s.length;n++)s[n].date<t&&(t=s[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(s){Kd(new Lx("platform-logger",e=>new XU(e),"PRIVATE")),Kd(new Lx("heartbeat",e=>new DD(e),"PRIVATE")),Dc(W1,yB,s),Dc(W1,yB,"esm2020"),Dc("fire-js","")}OD("");var kD="firebase",PD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dc(kD,PD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(aa||(aa={}));const MD={debug:aa.DEBUG,verbose:aa.VERBOSE,info:aa.INFO,warn:aa.WARN,error:aa.ERROR,silent:aa.SILENT},HD=aa.INFO,VD={[aa.DEBUG]:"log",[aa.VERBOSE]:"log",[aa.INFO]:"info",[aa.WARN]:"warn",[aa.ERROR]:"error"},KD=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),a=VD[e];if(a)console[a](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let zD=class{constructor(e){this.name=e,this._logLevel=HD,this._logHandler=KD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in aa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,aa.DEBUG,...e),this._logHandler(this,aa.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,aa.VERBOSE,...e),this._logHandler(this,aa.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,aa.INFO,...e),this._logHandler(this,aa.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,aa.WARN,...e),this._logHandler(this,aa.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,aa.ERROR,...e),this._logHandler(this,aa.ERROR,...e)}},NB=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function w4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GD=w4,j4=new Tg("auth","Firebase",w4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new zD("@firebase/auth");function $D(s,...e){Ox.logLevel<=aa.WARN&&Ox.warn(`Auth (${cf}): ${s}`,...e)}function px(s,...e){Ox.logLevel<=aa.ERROR&&Ox.error(`Auth (${cf}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(s,...e){throw fw(s,...e)}function KA(s,...e){return fw(s,...e)}function B4(s,e,t){const n={...GD(),[e]:t};return new Tg("auth","Firebase",n).create(e,{appName:s.name})}function kd(s){return B4(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fw(s,...e){if(typeof s!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=s.name),s._errorFactory.create(t,...n)}return j4.create(s,...e)}function rn(s,e,...t){if(!s)throw fw(e,...t)}function Bu(s){const e="INTERNAL ASSERTION FAILED: "+s;throw px(e),new Error(e)}function Iu(s,e){s||Bu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function YD(){return SB()==="http:"||SB()==="https:"}function SB(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||gU()||"connection"in navigator)?navigator.onLine:!0}function XD(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.shortDelay=e,this.longDelay=t,Iu(t>e,"Short delay should be less than long delay!"),this.isMobile=fU()||xU()}get(){return WD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(s,e){Iu(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZD=new _g(3e4,6e4);function th(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ru(s,e,t,n,a={}){return S4(s,a,async()=>{let o={},A={};n&&(e==="GET"?A=n:o={body:JSON.stringify(n)});const h=Ig({key:s.config.apiKey,...A}).slice(1),u=await s._getAdditionalHeaders();u["Content-Type"]="application/json",s.languageCode&&(u["X-Firebase-Locale"]=s.languageCode);const f={method:e,headers:u,...o};return pU()||(f.referrerPolicy="no-referrer"),s.emulatorConfig&&eh(s.emulatorConfig.host)&&(f.credentials="include"),N4.fetch()(await C4(s,s.config.apiHost,t,h),f)})}async function S4(s,e,t){s._canInitEmulator=!1;const n={...JD,...e};try{const a=new tR(s),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const A=await o.json();if("needConfirmation"in A)throw G0(s,"account-exists-with-different-credential",A);if(o.ok&&!("errorMessage"in A))return A;{const h=o.ok?A.errorMessage:A.error.message,[u,f]=h.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw G0(s,"credential-already-in-use",A);if(u==="EMAIL_EXISTS")throw G0(s,"email-already-in-use",A);if(u==="USER_DISABLED")throw G0(s,"user-disabled",A);const c=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw B4(s,c,f);cA(s,c)}}catch(a){if(a instanceof fA)throw a;cA(s,"network-request-failed",{message:String(a)})}}async function yv(s,e,t,n,a={}){const o=await Ru(s,e,t,n,a);return"mfaPendingCredential"in o&&cA(s,"multi-factor-auth-required",{_serverResponse:o}),o}async function C4(s,e,t,n){const a=`${e}${t}?${n}`,o=s,A=o.config.emulator?mw(s.config,a):`${s.config.apiScheme}://${a}`;return qD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(A).toString():A}function eR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(KA(this.auth,"network-request-failed")),ZD.get())})}}function G0(s,e,t){const n={appName:s.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=KA(s,e,n);return a.customData._tokenResponse=t,a}function CB(s){return s!==void 0&&s.enterprise!==void 0}class sR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nR(s,e){return Ru(s,"GET","/v2/recaptchaConfig",th(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(s,e){return Ru(s,"POST","/v1/accounts:delete",e)}async function kx(s,e){return Ru(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aR(s,e=!1){const t=Ka(s),n=await t.getIdToken(e),a=pw(n);rn(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,A=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:Kp(Vy(a.auth_time)),issuedAtTime:Kp(Vy(a.iat)),expirationTime:Kp(Vy(a.exp)),signInProvider:A||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vy(s){return Number(s)*1e3}function pw(s){const[e,t,n]=s.split(".");if(e===void 0||t===void 0||n===void 0)return px("JWT malformed, contained fewer than 3 sections"),null;try{const a=d4(t);return a?JSON.parse(a):(px("Failed to decode base64 JWT payload"),null)}catch(a){return px("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function EB(s){const e=pw(s);return rn(e,"internal-error"),rn(typeof e.exp<"u","internal-error"),rn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(s,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof fA&&iR(n)&&s.auth.currentUser===s&&await s.auth.signOut(),n}}function iR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kp(this.lastLoginAt),this.creationTime=Kp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(s){var m;const e=s.auth,t=await s.getIdToken(),n=await cg(s,kx(e,{idToken:t}));rn(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];s._notifyReloadListener(a);const o=(m=a.providerUserInfo)!=null&&m.length?E4(a.providerUserInfo):[],A=cR(s.providerData,o),h=s.isAnonymous,u=!(s.email&&a.passwordHash)&&!(A!=null&&A.length),f=h?u:!1,c={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:A,metadata:new Z1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(s,c)}async function lR(s){const e=Ka(s);await Px(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cR(s,e){return[...s.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function E4(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(s,e){const t=await S4(s,{},async()=>{const n=Ig({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=s.config,A=await C4(s,a,"/v1/token",`key=${o}`),h=await s._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:h,body:n};return s.emulatorConfig&&eh(s.emulatorConfig.host)&&(u.credentials="include"),N4.fetch()(A,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uR(s,e){return Ru(s,"POST","/v2/accounts:revokeToken",th(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rn(e.idToken,"internal-error"),rn(typeof e.idToken<"u","internal-error"),rn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rn(e.length!==0,"internal-error");const t=EB(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(rn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:o}=await AR(e,t);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:o}=t,A=new sm;return n&&(rn(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),a&&(rn(typeof a=="string","internal-error",{appName:e}),A.accessToken=a),o&&(rn(typeof o=="number","internal-error",{appName:e}),A.expirationTime=o),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sm,this.toJSON())}_performRefresh(){return Bu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(s,e){rn(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class oA{constructor({uid:e,auth:t,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new oR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Z1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await cg(this,this.stsTokenManager.getToken(this.auth,e));return rn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aR(this,e)}reload(){return lR(this)}_assign(e){this!==e&&(rn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oA({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){rn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Px(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oc(this.auth.app))return Promise.reject(kd(this.auth));const e=await this.getIdToken();return await cg(this,rR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,A=t.photoURL??void 0,h=t.tenantId??void 0,u=t._redirectEventId??void 0,f=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:m,emailVerified:x,isAnonymous:g,providerData:w,stsTokenManager:E}=t;rn(m&&E,e,"internal-error");const B=sm.fromJSON(this.name,E);rn(typeof m=="string",e,"internal-error"),vd(n,e.name),vd(a,e.name),rn(typeof x=="boolean",e,"internal-error"),rn(typeof g=="boolean",e,"internal-error"),vd(o,e.name),vd(A,e.name),vd(h,e.name),vd(u,e.name),vd(f,e.name),vd(c,e.name);const C=new oA({uid:m,auth:e,email:a,emailVerified:x,displayName:n,isAnonymous:g,photoURL:A,phoneNumber:o,tenantId:h,stsTokenManager:B,createdAt:f,lastLoginAt:c});return w&&Array.isArray(w)&&(C.providerData=w.map(T=>({...T}))),u&&(C._redirectEventId=u),C}static async _fromIdTokenResponse(e,t,n=!1){const a=new sm;a.updateFromServerResponse(t);const o=new oA({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Px(o),o}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];rn(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?E4(a.providerUserInfo):[],A=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new sm;h.updateFromIdToken(n);const u=new oA({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:A}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Z1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new Map;function Nu(s){Iu(s instanceof Function,"Expected a class definition");let e=TB.get(s);return e?(Iu(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,TB.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}T4.type="NONE";const IB=T4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(s,e,t){return`firebase:${s}:${e}:${t}`}class nm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=gx(this.userKey,a.apiKey,o),this.fullPersistenceKey=gx("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kx(this.auth,{idToken:e}).catch(()=>{});return t?oA._fromGetAccountInfoResponse(this.auth,t,e):null}return oA._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new nm(Nu(IB),e,n);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||Nu(IB);const A=gx(n,e.config.apiKey,e.name);let h=null;for(const f of t)try{const c=await f._get(A);if(c){let m;if(typeof c=="string"){const x=await kx(e,{idToken:c}).catch(()=>{});if(!x)break;m=await oA._fromGetAccountInfoResponse(e,x,c)}else m=oA._fromJSON(e,c);f!==o&&(h=m),o=f;break}}catch{}const u=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new nm(o,e,n):(o=u[0],h&&await o._set(A,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(A)}catch{}})),new nm(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R4(e))return"Blackberry";if(L4(e))return"Webos";if(_4(e))return"Safari";if((e.includes("chrome/")||F4(e))&&!e.includes("edge/"))return"Chrome";if(D4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=s.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function I4(s=Al()){return/firefox\//i.test(s)}function _4(s=Al()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F4(s=Al()){return/crios\//i.test(s)}function U4(s=Al()){return/iemobile/i.test(s)}function D4(s=Al()){return/android/i.test(s)}function R4(s=Al()){return/blackberry/i.test(s)}function L4(s=Al()){return/webos/i.test(s)}function gw(s=Al()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function dR(s=Al()){var e;return gw(s)&&!!((e=window.navigator)!=null&&e.standalone)}function hR(){return vU()&&document.documentMode===10}function Q4(s=Al()){return gw(s)||D4(s)||L4(s)||R4(s)||/windows phone/i.test(s)||U4(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(s,e=[]){let t;switch(s){case"Browser":t=_B(Al());break;case"Worker":t=`${_B(Al())}-${s}`;break;default:t=s}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((A,h)=>{try{const u=e(o);A(u)}catch(u){h(u)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(s,e={}){return Ru(s,"GET","/v2/passwordPolicy",th(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=6;class gR{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??pR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FB(this),this.idTokenSubscription=new FB(this),this.beforeStateQueue=new fR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nu(t)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await nm.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kx(this,{idToken:e}),n=await oA._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(oc(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=n==null?void 0:n._redirectEventId,u=await this.tryRedirectSignIn(e);(!A||A===h)&&(u!=null&&u.user)&&(n=u.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(A){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return rn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Px(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oc(this.app))return Promise.reject(kd(this));const t=e?Ka(e):null;return t&&rn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&rn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oc(this.app)?Promise.reject(kd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oc(this.app)?Promise.reject(kd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mR(this),t=new gR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tg("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await uR(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nu(e)||this._popupRedirectResolver;rn(t,this,"argument-error"),this.redirectPersistenceManager=await nm.create(this,[Nu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let A=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(rn(h,this,"internal-error"),h.then(()=>{A||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,a);return()=>{A=!0,u()}}else{const u=e.addObserver(t);return()=>{A=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if(oc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&$D(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Af(s){return Ka(s)}class FB{constructor(e){this.auth=e,this.observer=null,this.addObserver=CU(t=>this.observer=t)}get next(){return rn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vR(s){bv=s}function k4(s){return bv.loadJS(s)}function yR(){return bv.recaptchaEnterpriseScript}function bR(){return bv.gapiScript}function wR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class jR{constructor(){this.enterprise=new BR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const NR="recaptcha-enterprise",P4="NO_RECAPTCHA";class SR{constructor(e){this.type=NR,this.auth=Af(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(A,h)=>{nR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new sR(u);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,A(f.siteKey)}}).catch(u=>{h(u)})})}function a(o,A,h){const u=window.grecaptcha;CB(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{A(f)}).catch(()=>{A(P4)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jR().execute("siteKey",{action:"verify"}):new Promise((o,A)=>{n(this.auth).then(h=>{if(!t&&CB(window.grecaptcha))a(h,o,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let u=yR();u.length!==0&&(u+=h),k4(u).then(()=>{a(h,o,A)}).catch(f=>{A(f)})}}).catch(h=>{A(h)})})}}async function UB(s,e,t,n=!1,a=!1){const o=new SR(s);let A;if(a)A=P4;else try{A=await o.verify(t)}catch{A=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const u=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:A,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const u=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:A,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:A}):Object.assign(h,{captchaResponse:A}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function eb(s,e,t,n,a){var o;if((o=s._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const A=await UB(s,e,t,t==="getOobCode");return n(s,A)}else return n(s,e).catch(async A=>{if(A.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await UB(s,e,t,t==="getOobCode");return n(s,h)}else return Promise.reject(A)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s,e){const t=vv(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(ef(o,e??{}))return a;cA(a,"already-initialized")}return t.initialize({options:e})}function ER(s,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Nu);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function TR(s,e,t){const n=Af(s);rn(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=M4(e),{host:A,port:h}=IR(e),u=h===null?"":`:${h}`,f={url:`${o}//${A}${u}/`},c=Object.freeze({host:A,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){rn(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),rn(ef(f,n.config.emulator)&&ef(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,eh(A)?(Aw(`${o}//${A}${u}`),uw("Auth",!0)):_R()}function M4(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function IR(s){const e=M4(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:DB(n.substr(o.length+1))}}else{const[o,A]=n.split(":");return{host:o,port:DB(A)}}}function DB(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function _R(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bu("not implemented")}_getIdTokenResponse(e){return Bu("not implemented")}_linkToIdToken(e,t){return Bu("not implemented")}_getReauthenticationResolver(e){return Bu("not implemented")}}async function FR(s,e){return Ru(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(s,e){return yv(s,"POST","/v1/accounts:signInWithPassword",th(s,e))}async function DR(s,e){return Ru(s,"POST","/v1/accounts:sendOobCode",th(s,e))}async function RR(s,e){return DR(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(s,e){return yv(s,"POST","/v1/accounts:signInWithEmailLink",th(s,e))}async function QR(s,e){return yv(s,"POST","/v1/accounts:signInWithEmailLink",th(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends xw{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ag(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ag(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(e,t,"signInWithPassword",UR);case"emailLink":return LR(e,{email:this._email,oobCode:this._password});default:cA(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(e,n,"signUpPassword",FR);case"emailLink":return QR(e,{idToken:t,email:this._email,oobCode:this._password});default:cA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(s,e){return yv(s,"POST","/v1/accounts:signInWithIdp",th(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="http://localhost";class tf extends xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cA("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...o}=t;if(!n||!a)return null;const A=new tf(n,a);return A.idToken=o.idToken||void 0,A.accessToken=o.accessToken||void 0,A.secret=o.secret,A.nonce=o.nonce,A.pendingToken=o.pendingToken||null,A}_getIdTokenResponse(e){const t=this.buildRequest();return rm(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,rm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rm(e,t)}buildRequest(){const e={requestUri:OR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ig(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PR(s){const e=Dp(Rp(s)).link,t=e?Dp(Rp(e)).deep_link_id:null,n=Dp(Rp(s)).deep_link_id;return(n?Dp(Rp(n)).link:null)||n||t||e||s}class vw{constructor(e){const t=Dp(Rp(e)),n=t.apiKey??null,a=t.oobCode??null,o=kR(t.mode??null);rn(n&&a&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PR(e);try{return new vw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.providerId=Sm.PROVIDER_ID}static credential(e,t){return Ag._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=vw.parseLink(t);return rn(n,"argument-error"),Ag._fromEmailAndCode(e,n.code,n.tenantId)}}Sm.PROVIDER_ID="password";Sm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends H4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends Fg{constructor(){super("facebook.com")}static credential(e){return tf._fromParams({providerId:Nd.PROVIDER_ID,signInMethod:Nd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nd.credentialFromTaggedObject(e)}static credentialFromError(e){return Nd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nd.credential(e.oauthAccessToken)}catch{return null}}}Nd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends Fg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tf._fromParams({providerId:Sd.PROVIDER_ID,signInMethod:Sd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Sd.credentialFromTaggedObject(e)}static credentialFromError(e){return Sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Sd.credential(t,n)}catch{return null}}}Sd.GOOGLE_SIGN_IN_METHOD="google.com";Sd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Fg{constructor(){super("github.com")}static credential(e){return tf._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cd.credential(e.oauthAccessToken)}catch{return null}}}Cd.GITHUB_SIGN_IN_METHOD="github.com";Cd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Fg{constructor(){super("twitter.com")}static credential(e,t){return tf._fromParams({providerId:Ed.PROVIDER_ID,signInMethod:Ed.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ed.credentialFromTaggedObject(e)}static credentialFromError(e){return Ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ed.credential(t,n)}catch{return null}}}Ed.TWITTER_SIGN_IN_METHOD="twitter.com";Ed.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const o=await oA._fromIdTokenResponse(e,n,a),A=RB(n);return new cm({user:o,providerId:A,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=RB(n);return new cm({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function RB(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends fA{constructor(e,t,n,a){super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Mx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new Mx(e,t,n,a)}}function V4(s,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mx._fromErrorAndOperation(s,o,e,n):o})}async function MR(s,e,t=!1){const n=await cg(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return cm._forOperation(s,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(s,e,t=!1){const{auth:n}=s;if(oc(n.app))return Promise.reject(kd(n));const a="reauthenticate";try{const o=await cg(s,V4(n,a,e,s),t);rn(o.idToken,n,"internal-error");const A=pw(o.idToken);rn(A,n,"internal-error");const{sub:h}=A;return rn(s.uid===h,n,"user-mismatch"),cm._forOperation(s,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&cA(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(s,e,t=!1){if(oc(s.app))return Promise.reject(kd(s));const n="signIn",a=await V4(s,n,e),o=await cm._fromIdTokenResponse(s,n,a);return t||await s._updateCurrentUser(o.user),o}async function VR(s,e){return K4(Af(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(s){const e=Af(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zR(s,e,t){const n=Af(s);await eb(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",RR)}function GR(s,e,t){return oc(s.app)?Promise.reject(kd(s)):VR(Ka(s),Sm.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&KR(s),n})}function $R(s,e,t,n){return Ka(s).onIdTokenChanged(e,t,n)}function YR(s,e,t){return Ka(s).beforeAuthStateChanged(e,t)}function WR(s,e,t,n){return Ka(s).onAuthStateChanged(e,t,n)}function Tp(s){return Ka(s).signOut()}const Hx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hx,"1"),this.storage.removeItem(Hx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1e3,JR=10;class G4 extends z4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((A,h,u)=>{this.notifyListeners(A,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const A=this.storage.getItem(n);!t&&this.localCache[n]===A||this.notifyListeners(n,A)},o=this.storage.getItem(n);hR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,JR):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G4.type="LOCAL";const qR=G4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4 extends z4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$4.type="SESSION";const Y4=$4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new wv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:o}=t.data,A=this.handlersMap[a];if(!(A!=null&&A.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const h=Array.from(A).map(async f=>f(t.origin,o)),u=await ZR(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(s="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,A;return new Promise((h,u)=>{const f=yw("",20);a.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},n);A={messageChannel:a,onMessage(m){const x=m;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(A),a.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return window}function tL(s){zA().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){return typeof zA().WorkerGlobalScope<"u"&&typeof zA().importScripts=="function"}async function sL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nL(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function rL(){return W4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="firebaseLocalStorageDb",aL=1,Vx="firebaseLocalStorage",J4="fbase_key";class Ug{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jv(s,e){return s.transaction([Vx],e?"readwrite":"readonly").objectStore(Vx)}function iL(){const s=indexedDB.deleteDatabase(X4);return new Ug(s).toPromise()}function tb(){const s=indexedDB.open(X4,aL);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const n=s.result;try{n.createObjectStore(Vx,{keyPath:J4})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const n=s.result;n.objectStoreNames.contains(Vx)?e(n):(n.close(),await iL(),e(await tb()))})})}async function LB(s,e,t){const n=jv(s,!0).put({[J4]:e,value:t});return new Ug(n).toPromise()}async function oL(s,e){const t=jv(s,!1).get(e),n=await new Ug(t).toPromise();return n===void 0?null:n.value}function QB(s,e){const t=jv(s,!0).delete(e);return new Ug(t).toPromise()}const lL=800,cL=3;class q4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>cL)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wv._getInstance(rL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await sL(),!this.activeServiceWorker)return;this.sender=new eL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tb();return await LB(e,Hx,"1"),await QB(e,Hx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>LB(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>oL(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>QB(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=jv(a,!1).getAll();return new Ug(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q4.type="LOCAL";const AL=q4;new _g(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(s,e){return e?Nu(e):(rn(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dL(s){return K4(s.auth,new bw(s),s.bypassAuthState)}function hL(s){const{auth:e,user:t}=s;return rn(t,e,"internal-error"),HR(t,new bw(s),s.bypassAuthState)}async function fL(s){const{auth:e,user:t}=s;return rn(t,e,"internal-error"),MR(t,new bw(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,t,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:o,error:A,type:h}=e;if(A){this.reject(A);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dL;case"linkViaPopup":case"linkViaRedirect":return fL;case"reauthViaPopup":case"reauthViaRedirect":return hL;default:cA(this.auth,"internal-error")}}resolve(e){Iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new _g(2e3,1e4);class Xf extends Z4{constructor(e,t,n,a,o){super(e,t,a,o),this.provider=n,this.authWindow=null,this.pollId=null,Xf.currentPopupAction&&Xf.currentPopupAction.cancel(),Xf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rn(e,this.auth,"internal-error"),e}async onExecution(){Iu(this.filter.length===1,"Popup operations only handle one event");const e=yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(KA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(KA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(KA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mL.get())};e()}}Xf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="pendingRedirect",xx=new Map;class gL extends Z4{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=xx.get(this.auth._key());if(!e){try{const n=await xL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}xx.set(this.auth._key(),e)}return this.bypassAuthState||xx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xL(s,e){const t=bL(e),n=yL(s);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function vL(s,e){xx.set(s._key(),e)}function yL(s){return Nu(s._redirectPersistence)}function bL(s){return gx(pL,s.config.apiKey,s.name)}async function wL(s,e,t=!1){if(oc(s.app))return Promise.reject(kd(s));const n=Af(s),a=uL(n,e),A=await new gL(n,a,t).execute();return A&&!t&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=600*1e3;class BL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!eE(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError(KA(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jL&&this.cachedEventUids.clear(),this.cachedEventUids.has(OB(e))}saveEventToCache(e){this.cachedEventUids.add(OB(e)),this.lastProcessedEventTime=Date.now()}}function OB(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function eE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NL(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(s,e={}){return Ru(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EL=/^https?/;async function TL(s){if(s.config.emulator)return;const{authorizedDomains:e}=await SL(s);for(const t of e)try{if(IL(t))return}catch{}cA(s,"unauthorized-domain")}function IL(s){const e=q1(),{protocol:t,hostname:n}=new URL(e);if(s.startsWith("chrome-extension://")){const A=new URL(s);return A.hostname===""&&n===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&A.hostname===n}if(!EL.test(t))return!1;if(CL.test(s))return n===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new _g(3e4,6e4);function kB(){const s=zA().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function FL(s){return new Promise((e,t)=>{var a,o,A;function n(){kB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kB(),t(KA(s,"network-request-failed"))},timeout:_L.get()})}if((o=(a=zA().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((A=zA().gapi)!=null&&A.load)n();else{const h=wR("iframefcb");return zA()[h]=()=>{gapi.load?n():t(KA(s,"network-request-failed"))},k4(`${bR()}?onload=${h}`).catch(u=>t(u))}}).catch(e=>{throw vx=null,e})}let vx=null;function UL(s){return vx=vx||FL(s),vx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new _g(5e3,15e3),RL="__/auth/iframe",LL="emulator/auth/iframe",QL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kL(s){const e=s.config;rn(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?mw(e,LL):`https://${s.config.authDomain}/${RL}`,n={apiKey:e.apiKey,appName:s.name,v:cf},a=OL.get(s.config.apiHost);a&&(n.eid=a);const o=s._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Ig(n).slice(1)}`}async function PL(s){const e=await UL(s),t=zA().gapi;return rn(t,s,"internal-error"),e.open({where:document.body,url:kL(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QL,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const A=KA(s,"network-request-failed"),h=zA().setTimeout(()=>{o(A)},DL.get());function u(){zA().clearTimeout(h),a(n)}n.ping(u).then(u,()=>{o(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HL=500,VL=600,KL="_blank",zL="http://localhost";class PB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GL(s,e,t,n=HL,a=VL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const u={...ML,width:n.toString(),height:a.toString(),top:o,left:A},f=Al().toLowerCase();t&&(h=F4(f)?KL:t),I4(f)&&(e=e||zL,u.scrollbars="yes");const c=Object.entries(u).reduce((x,[g,w])=>`${x}${g}=${w},`,"");if(dR(f)&&h!=="_self")return $L(e||"",h),new PB(null);const m=window.open(e||"",h,c);rn(m,s,"popup-blocked");try{m.focus()}catch{}return new PB(m)}function $L(s,e){const t=document.createElement("a");t.href=s,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="__/auth/handler",WL="emulator/auth/handler",XL=encodeURIComponent("fac");async function MB(s,e,t,n,a,o){rn(s.config.authDomain,s,"auth-domain-config-required"),rn(s.config.apiKey,s,"invalid-api-key");const A={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:n,v:cf,eventId:a};if(e instanceof H4){e.setDefaultLanguage(s.languageCode),A.providerId=e.providerId||"",SU(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,m]of Object.entries({}))A[c]=m}if(e instanceof Fg){const c=e.getScopes().filter(m=>m!=="");c.length>0&&(A.scopes=c.join(","))}s.tenantId&&(A.tid=s.tenantId);const h=A;for(const c of Object.keys(h))h[c]===void 0&&delete h[c];const u=await s._getAppCheckToken(),f=u?`#${XL}=${encodeURIComponent(u)}`:"";return`${JL(s)}?${Ig(h).slice(1)}${f}`}function JL({config:s}){return s.emulator?mw(s,WL):`https://${s.authDomain}/${YL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="webStorageSupport";class qL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y4,this._completeRedirectFn=wL,this._overrideRedirectResult=vL}async _openPopup(e,t,n,a){var A;Iu((A=this.eventManagers[e._key()])==null?void 0:A.manager,"_initialize() not called before _openPopup()");const o=await MB(e,t,n,q1(),a);return GL(e,o,yw())}async _openRedirect(e,t,n,a){await this._originValidation(e);const o=await MB(e,t,n,q1(),a);return tL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Iu(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await PL(e),n=new BL(e);return t.register("authEvent",a=>(rn(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ky,{type:Ky},a=>{var A;const o=(A=a==null?void 0:a[0])==null?void 0:A[Ky];o!==void 0&&t(!!o),cA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Q4()||_4()||gw()}}const ZL=qL;var HB="@firebase/auth",VB="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s8(s){Kd(new NB("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:A,authDomain:h}=n.options;rn(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:A,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O4(s)},f=new xR(n,a,o,u);return ER(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Kd(new NB("auth-internal",e=>{const t=Af(e.getProvider("auth").getImmediate());return(n=>new e8(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dc(HB,VB,t8(s)),Dc(HB,VB,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=300,r8=p4("authIdTokenMaxAge")||n8;let KB=null;const a8=s=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>r8)return;const a=t==null?void 0:t.token;KB!==a&&(KB=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function i8(s=hw()){const e=vv(s,"auth");if(e.isInitialized())return e.getImmediate();const t=CR(s,{popupRedirectResolver:ZL,persistence:[AL,qR,Y4]}),n=p4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const A=a8(o.toString());YR(t,A,()=>A(t.currentUser)),$R(t,h=>A(h))}}const a=h4("auth");return a&&TR(t,`http://${a}`),t}function o8(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}vR({loadJS(s){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",s),n.onload=e,n.onerror=a=>{const o=KA("internal-error");o.customData=a,t(o)},n.type="text/javascript",n.charset="UTF-8",o8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s8("Browser");let l8=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ur||(ur={}));const c8={debug:ur.DEBUG,verbose:ur.VERBOSE,info:ur.INFO,warn:ur.WARN,error:ur.ERROR,silent:ur.SILENT},A8=ur.INFO,u8={[ur.DEBUG]:"log",[ur.VERBOSE]:"log",[ur.INFO]:"info",[ur.WARN]:"warn",[ur.ERROR]:"error"},d8=(s,e,...t)=>{if(e<s.logLevel)return;const n=new Date().toISOString(),a=u8[e];if(a)console[a](`[${n}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h8{constructor(e){this.name=e,this._logLevel=A8,this._logHandler=d8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ur))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ur.DEBUG,...e),this._logHandler(this,ur.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ur.VERBOSE,...e),this._logHandler(this,ur.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ur.INFO,...e),this._logHandler(this,ur.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ur.WARN,...e),this._logHandler(this,ur.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ur.ERROR,...e),this._logHandler(this,ur.ERROR,...e)}}var zB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pd,tE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Q,D){function R(){}R.prototype=D.prototype,Q.F=D.prototype,Q.prototype=new R,Q.prototype.constructor=Q,Q.D=function(V,O,H){for(var G=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)G[ae-2]=arguments[ae];return D.prototype[O].apply(V,G)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(Q,D,R){R||(R=0);const V=Array(16);if(typeof D=="string")for(var O=0;O<16;++O)V[O]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=Q.g[0],R=Q.g[1],O=Q.g[2];let H=Q.g[3],G;G=D+(H^R&(O^H))+V[0]+3614090360&4294967295,D=R+(G<<7&4294967295|G>>>25),G=H+(O^D&(R^O))+V[1]+3905402710&4294967295,H=D+(G<<12&4294967295|G>>>20),G=O+(R^H&(D^R))+V[2]+606105819&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(D^O&(H^D))+V[3]+3250441966&4294967295,R=O+(G<<22&4294967295|G>>>10),G=D+(H^R&(O^H))+V[4]+4118548399&4294967295,D=R+(G<<7&4294967295|G>>>25),G=H+(O^D&(R^O))+V[5]+1200080426&4294967295,H=D+(G<<12&4294967295|G>>>20),G=O+(R^H&(D^R))+V[6]+2821735955&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(D^O&(H^D))+V[7]+4249261313&4294967295,R=O+(G<<22&4294967295|G>>>10),G=D+(H^R&(O^H))+V[8]+1770035416&4294967295,D=R+(G<<7&4294967295|G>>>25),G=H+(O^D&(R^O))+V[9]+2336552879&4294967295,H=D+(G<<12&4294967295|G>>>20),G=O+(R^H&(D^R))+V[10]+4294925233&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(D^O&(H^D))+V[11]+2304563134&4294967295,R=O+(G<<22&4294967295|G>>>10),G=D+(H^R&(O^H))+V[12]+1804603682&4294967295,D=R+(G<<7&4294967295|G>>>25),G=H+(O^D&(R^O))+V[13]+4254626195&4294967295,H=D+(G<<12&4294967295|G>>>20),G=O+(R^H&(D^R))+V[14]+2792965006&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(D^O&(H^D))+V[15]+1236535329&4294967295,R=O+(G<<22&4294967295|G>>>10),G=D+(O^H&(R^O))+V[1]+4129170786&4294967295,D=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(D^R))+V[6]+3225465664&4294967295,H=D+(G<<9&4294967295|G>>>23),G=O+(D^R&(H^D))+V[11]+643717713&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^D&(O^H))+V[0]+3921069994&4294967295,R=O+(G<<20&4294967295|G>>>12),G=D+(O^H&(R^O))+V[5]+3593408605&4294967295,D=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(D^R))+V[10]+38016083&4294967295,H=D+(G<<9&4294967295|G>>>23),G=O+(D^R&(H^D))+V[15]+3634488961&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^D&(O^H))+V[4]+3889429448&4294967295,R=O+(G<<20&4294967295|G>>>12),G=D+(O^H&(R^O))+V[9]+568446438&4294967295,D=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(D^R))+V[14]+3275163606&4294967295,H=D+(G<<9&4294967295|G>>>23),G=O+(D^R&(H^D))+V[3]+4107603335&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^D&(O^H))+V[8]+1163531501&4294967295,R=O+(G<<20&4294967295|G>>>12),G=D+(O^H&(R^O))+V[13]+2850285829&4294967295,D=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(D^R))+V[2]+4243563512&4294967295,H=D+(G<<9&4294967295|G>>>23),G=O+(D^R&(H^D))+V[7]+1735328473&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^D&(O^H))+V[12]+2368359562&4294967295,R=O+(G<<20&4294967295|G>>>12),G=D+(R^O^H)+V[5]+4294588738&4294967295,D=R+(G<<4&4294967295|G>>>28),G=H+(D^R^O)+V[8]+2272392833&4294967295,H=D+(G<<11&4294967295|G>>>21),G=O+(H^D^R)+V[11]+1839030562&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^D)+V[14]+4259657740&4294967295,R=O+(G<<23&4294967295|G>>>9),G=D+(R^O^H)+V[1]+2763975236&4294967295,D=R+(G<<4&4294967295|G>>>28),G=H+(D^R^O)+V[4]+1272893353&4294967295,H=D+(G<<11&4294967295|G>>>21),G=O+(H^D^R)+V[7]+4139469664&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^D)+V[10]+3200236656&4294967295,R=O+(G<<23&4294967295|G>>>9),G=D+(R^O^H)+V[13]+681279174&4294967295,D=R+(G<<4&4294967295|G>>>28),G=H+(D^R^O)+V[0]+3936430074&4294967295,H=D+(G<<11&4294967295|G>>>21),G=O+(H^D^R)+V[3]+3572445317&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^D)+V[6]+76029189&4294967295,R=O+(G<<23&4294967295|G>>>9),G=D+(R^O^H)+V[9]+3654602809&4294967295,D=R+(G<<4&4294967295|G>>>28),G=H+(D^R^O)+V[12]+3873151461&4294967295,H=D+(G<<11&4294967295|G>>>21),G=O+(H^D^R)+V[15]+530742520&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^D)+V[2]+3299628645&4294967295,R=O+(G<<23&4294967295|G>>>9),G=D+(O^(R|~H))+V[0]+4096336452&4294967295,D=R+(G<<6&4294967295|G>>>26),G=H+(R^(D|~O))+V[7]+1126891415&4294967295,H=D+(G<<10&4294967295|G>>>22),G=O+(D^(H|~R))+V[14]+2878612391&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~D))+V[5]+4237533241&4294967295,R=O+(G<<21&4294967295|G>>>11),G=D+(O^(R|~H))+V[12]+1700485571&4294967295,D=R+(G<<6&4294967295|G>>>26),G=H+(R^(D|~O))+V[3]+2399980690&4294967295,H=D+(G<<10&4294967295|G>>>22),G=O+(D^(H|~R))+V[10]+4293915773&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~D))+V[1]+2240044497&4294967295,R=O+(G<<21&4294967295|G>>>11),G=D+(O^(R|~H))+V[8]+1873313359&4294967295,D=R+(G<<6&4294967295|G>>>26),G=H+(R^(D|~O))+V[15]+4264355552&4294967295,H=D+(G<<10&4294967295|G>>>22),G=O+(D^(H|~R))+V[6]+2734768916&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~D))+V[13]+1309151649&4294967295,R=O+(G<<21&4294967295|G>>>11),G=D+(O^(R|~H))+V[4]+4149444226&4294967295,D=R+(G<<6&4294967295|G>>>26),G=H+(R^(D|~O))+V[11]+3174756917&4294967295,H=D+(G<<10&4294967295|G>>>22),G=O+(D^(H|~R))+V[2]+718787259&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~D))+V[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+D&4294967295,Q.g[1]=Q.g[1]+(O+(G<<21&4294967295|G>>>11))&4294967295,Q.g[2]=Q.g[2]+O&4294967295,Q.g[3]=Q.g[3]+H&4294967295}n.prototype.v=function(Q,D){D===void 0&&(D=Q.length);const R=D-this.blockSize,V=this.C;let O=this.h,H=0;for(;H<D;){if(O==0)for(;H<=R;)a(this,Q,H),H+=this.blockSize;if(typeof Q=="string"){for(;H<D;)if(V[O++]=Q.charCodeAt(H++),O==this.blockSize){a(this,V),O=0;break}}else for(;H<D;)if(V[O++]=Q[H++],O==this.blockSize){a(this,V),O=0;break}}this.h=O,this.o+=D},n.prototype.A=function(){var Q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Q[0]=128;for(var D=1;D<Q.length-8;++D)Q[D]=0;D=this.o*8;for(var R=Q.length-8;R<Q.length;++R)Q[R]=D&255,D/=256;for(this.v(Q),Q=Array(16),D=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)Q[D++]=this.g[R]>>>V&255;return Q};function o(Q,D){var R=h;return Object.prototype.hasOwnProperty.call(R,Q)?R[Q]:R[Q]=D(Q)}function A(Q,D){this.h=D;const R=[];let V=!0;for(let O=Q.length-1;O>=0;O--){const H=Q[O]|0;V&&H==D||(R[O]=H,V=!1)}this.g=R}var h={};function u(Q){return-128<=Q&&Q<128?o(Q,function(D){return new A([D|0],D<0?-1:0)}):new A([Q|0],Q<0?-1:0)}function f(Q){if(isNaN(Q)||!isFinite(Q))return m;if(Q<0)return B(f(-Q));const D=[];let R=1;for(let V=0;Q>=R;V++)D[V]=Q/R|0,R*=4294967296;return new A(D,0)}function c(Q,D){if(Q.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Q.charAt(0)=="-")return B(c(Q.substring(1),D));if(Q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(D,8));let V=m;for(let H=0;H<Q.length;H+=8){var O=Math.min(8,Q.length-H);const G=parseInt(Q.substring(H,H+O),D);O<8?(O=f(Math.pow(D,O)),V=V.j(O).add(f(G))):(V=V.j(R),V=V.add(f(G)))}return V}var m=u(0),x=u(1),g=u(16777216);s=A.prototype,s.m=function(){if(E(this))return-B(this).m();let Q=0,D=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);Q+=(V>=0?V:4294967296+V)*D,D*=4294967296}return Q},s.toString=function(Q){if(Q=Q||10,Q<2||36<Q)throw Error("radix out of range: "+Q);if(w(this))return"0";if(E(this))return"-"+B(this).toString(Q);const D=f(Math.pow(Q,6));var R=this;let V="";for(;;){const O=L(R,D).g;R=C(R,O.j(D));let H=((R.g.length>0?R.g[0]:R.h)>>>0).toString(Q);if(R=O,w(R))return H+V;for(;H.length<6;)H="0"+H;V=H+V}},s.i=function(Q){return Q<0?0:Q<this.g.length?this.g[Q]:this.h};function w(Q){if(Q.h!=0)return!1;for(let D=0;D<Q.g.length;D++)if(Q.g[D]!=0)return!1;return!0}function E(Q){return Q.h==-1}s.l=function(Q){return Q=C(this,Q),E(Q)?-1:w(Q)?0:1};function B(Q){const D=Q.g.length,R=[];for(let V=0;V<D;V++)R[V]=~Q.g[V];return new A(R,~Q.h).add(x)}s.abs=function(){return E(this)?B(this):this},s.add=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];let V=0;for(let O=0;O<=D;O++){let H=V+(this.i(O)&65535)+(Q.i(O)&65535),G=(H>>>16)+(this.i(O)>>>16)+(Q.i(O)>>>16);V=G>>>16,H&=65535,G&=65535,R[O]=G<<16|H}return new A(R,R[R.length-1]&-2147483648?-1:0)};function C(Q,D){return Q.add(B(D))}s.j=function(Q){if(w(this)||w(Q))return m;if(E(this))return E(Q)?B(this).j(B(Q)):B(B(this).j(Q));if(E(Q))return B(this.j(B(Q)));if(this.l(g)<0&&Q.l(g)<0)return f(this.m()*Q.m());const D=this.g.length+Q.g.length,R=[];for(var V=0;V<2*D;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<Q.g.length;O++){const H=this.i(V)>>>16,G=this.i(V)&65535,ae=Q.i(O)>>>16,Ae=Q.i(O)&65535;R[2*V+2*O]+=G*Ae,T(R,2*V+2*O),R[2*V+2*O+1]+=H*Ae,T(R,2*V+2*O+1),R[2*V+2*O+1]+=G*ae,T(R,2*V+2*O+1),R[2*V+2*O+2]+=H*ae,T(R,2*V+2*O+2)}for(Q=0;Q<D;Q++)R[Q]=R[2*Q+1]<<16|R[2*Q];for(Q=D;Q<2*D;Q++)R[Q]=0;return new A(R,0)};function T(Q,D){for(;(Q[D]&65535)!=Q[D];)Q[D+1]+=Q[D]>>>16,Q[D]&=65535,D++}function F(Q,D){this.g=Q,this.h=D}function L(Q,D){if(w(D))throw Error("division by zero");if(w(Q))return new F(m,m);if(E(Q))return D=L(B(Q),D),new F(B(D.g),B(D.h));if(E(D))return D=L(Q,B(D)),new F(B(D.g),D.h);if(Q.g.length>30){if(E(Q)||E(D))throw Error("slowDivide_ only works with positive integers.");for(var R=x,V=D;V.l(Q)<=0;)R=k(R),V=k(V);var O=M(R,1),H=M(V,1);for(V=M(V,2),R=M(R,2);!w(V);){var G=H.add(V);G.l(Q)<=0&&(O=O.add(R),H=G),V=M(V,1),R=M(R,1)}return D=C(Q,O.j(D)),new F(O,D)}for(O=m;Q.l(D)>=0;){for(R=Math.max(1,Math.floor(Q.m()/D.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),H=f(R),G=H.j(D);E(G)||G.l(Q)>0;)R-=V,H=f(R),G=H.j(D);w(H)&&(H=x),O=O.add(H),Q=C(Q,G)}return new F(O,Q)}s.B=function(Q){return L(this,Q).h},s.and=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];for(let V=0;V<D;V++)R[V]=this.i(V)&Q.i(V);return new A(R,this.h&Q.h)},s.or=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];for(let V=0;V<D;V++)R[V]=this.i(V)|Q.i(V);return new A(R,this.h|Q.h)},s.xor=function(Q){const D=Math.max(this.g.length,Q.g.length),R=[];for(let V=0;V<D;V++)R[V]=this.i(V)^Q.i(V);return new A(R,this.h^Q.h)};function k(Q){const D=Q.g.length+1,R=[];for(let V=0;V<D;V++)R[V]=Q.i(V)<<1|Q.i(V-1)>>>31;return new A(R,Q.h)}function M(Q,D){const R=D>>5;D%=32;const V=Q.g.length-R,O=[];for(let H=0;H<V;H++)O[H]=D>0?Q.i(H+R)>>>D|Q.i(H+R+1)<<32-D:Q.i(H+R);return new A(O,Q.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,tE=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.B,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=f,A.fromString=c,Pd=A}).apply(typeof zB<"u"?zB:typeof self<"u"?self:typeof window<"u"?window:{});var $0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sE,Lp,nE,yx,sb,rE,aE,iE;(function(){var s,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof $0=="object"&&$0];for(var Y=0;Y<y.length;++Y){var se=y[Y];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var n=t(this);function a(y,Y){if(Y)e:{var se=n;y=y.split(".");for(var be=0;be<y.length-1;be++){var We=y[be];if(!(We in se))break e;se=se[We]}y=y[y.length-1],be=se[y],Y=Y(be),Y!=be&&Y!=null&&e(se,y,{configurable:!0,writable:!0,value:Y})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(Y){var se=[],be;for(be in Y)Object.prototype.hasOwnProperty.call(Y,be)&&se.push([be,Y[be]]);return se}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},A=this||self;function h(y){var Y=typeof y;return Y=="object"&&y!=null||Y=="function"}function u(y,Y,se){return y.call.apply(y.bind,arguments)}function f(y,Y,se){return f=u,f.apply(null,arguments)}function c(y,Y){var se=Array.prototype.slice.call(arguments,1);return function(){var be=se.slice();return be.push.apply(be,arguments),y.apply(this,be)}}function m(y,Y){function se(){}se.prototype=Y.prototype,y.Z=Y.prototype,y.prototype=new se,y.prototype.constructor=y,y.Ob=function(be,We,tt){for(var Yt=Array(arguments.length-2),Ds=2;Ds<arguments.length;Ds++)Yt[Ds-2]=arguments[Ds];return Y.prototype[We].apply(be,Yt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function g(y){const Y=y.length;if(Y>0){const se=Array(Y);for(let be=0;be<Y;be++)se[be]=y[be];return se}return[]}function w(y,Y){for(let be=1;be<arguments.length;be++){const We=arguments[be];var se=typeof We;if(se=se!="object"?se:We?Array.isArray(We)?"array":se:"null",se=="array"||se=="object"&&typeof We.length=="number"){se=y.length||0;const tt=We.length||0;y.length=se+tt;for(let Yt=0;Yt<tt;Yt++)y[se+Yt]=We[Yt]}else y.push(We)}}class E{constructor(Y,se){this.i=Y,this.j=se,this.h=0,this.g=null}get(){let Y;return this.h>0?(this.h--,Y=this.g,this.g=Y.next,Y.next=null):Y=this.i(),Y}}function B(y){A.setTimeout(()=>{throw y},0)}function C(){var y=Q;let Y=null;return y.g&&(Y=y.g,y.g=y.g.next,y.g||(y.h=null),Y.next=null),Y}class T{constructor(){this.h=this.g=null}add(Y,se){const be=F.get();be.set(Y,se),this.h?this.h.next=be:this.g=be,this.h=be}}var F=new E(()=>new L,y=>y.reset());class L{constructor(){this.next=this.g=this.h=null}set(Y,se){this.h=Y,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let k,M=!1,Q=new T,D=()=>{const y=Promise.resolve(void 0);k=()=>{y.then(R)}};function R(){for(var y;y=C();){try{y.h.call(y.g)}catch(se){B(se)}var Y=F;Y.j(y),Y.h<100&&(Y.h++,y.next=Y.g,Y.g=y)}M=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,Y){this.type=y,this.g=this.target=Y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!A.addEventListener||!Object.defineProperty)return!1;var y=!1,Y=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const se=()=>{};A.addEventListener("test",se,Y),A.removeEventListener("test",se,Y)}catch{}return y})();function G(y){return/^[\s\xa0]*$/.test(y)}function ae(y,Y){O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,Y)}m(ae,O),ae.prototype.init=function(y,Y){const se=this.type=y.type,be=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=Y,Y=y.relatedTarget,Y||(se=="mouseover"?Y=y.fromElement:se=="mouseout"&&(Y=y.toElement)),this.relatedTarget=Y,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),ie=0;function le(y,Y,se,be,We){this.listener=y,this.proxy=null,this.src=Y,this.type=se,this.capture=!!be,this.ha=We,this.key=++ie,this.da=this.fa=!1}function X(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ne(y,Y,se){for(const be in y)Y.call(se,y[be],be,y)}function re(y,Y){for(const se in y)Y.call(void 0,y[se],se,y)}function W(y){const Y={};for(const se in y)Y[se]=y[se];return Y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(y,Y){let se,be;for(let We=1;We<arguments.length;We++){be=arguments[We];for(se in be)y[se]=be[se];for(let tt=0;tt<K.length;tt++)se=K[tt],Object.prototype.hasOwnProperty.call(be,se)&&(y[se]=be[se])}}function oe(y){this.src=y,this.g={},this.h=0}oe.prototype.add=function(y,Y,se,be,We){const tt=y.toString();y=this.g[tt],y||(y=this.g[tt]=[],this.h++);const Yt=ue(y,Y,be,We);return Yt>-1?(Y=y[Yt],se||(Y.fa=!1)):(Y=new le(Y,this.src,tt,!!be,We),Y.fa=se,y.push(Y)),Y};function he(y,Y){const se=Y.type;if(se in y.g){var be=y.g[se],We=Array.prototype.indexOf.call(be,Y,void 0),tt;(tt=We>=0)&&Array.prototype.splice.call(be,We,1),tt&&(X(Y),y.g[se].length==0&&(delete y.g[se],y.h--))}}function ue(y,Y,se,be){for(let We=0;We<y.length;++We){const tt=y[We];if(!tt.da&&tt.listener==Y&&tt.capture==!!se&&tt.ha==be)return We}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),je={};function ve(y,Y,se,be,We){if(Array.isArray(Y)){for(let tt=0;tt<Y.length;tt++)ve(y,Y[tt],se,be,We);return null}return se=Pt(se),y&&y[Ae]?y.J(Y,se,h(be)?!!be.capture:!1,We):_e(y,Y,se,!1,be,We)}function _e(y,Y,se,be,We,tt){if(!Y)throw Error("Invalid event type");const Yt=h(We)?!!We.capture:!!We;let Ds=ht(y);if(Ds||(y[ye]=Ds=new oe(y)),se=Ds.add(Y,se,be,Yt,tt),se.proxy)return se;if(be=ke(),se.proxy=be,be.src=y,be.listener=se,y.addEventListener)H||(We=Yt),We===void 0&&(We=!1),y.addEventListener(Y.toString(),be,We);else if(y.attachEvent)y.attachEvent(at(Y.toString()),be);else if(y.addListener&&y.removeListener)y.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return se}function ke(){function y(se){return Y.call(y.src,y.listener,se)}const Y=ge;return y}function Me(y,Y,se,be,We){if(Array.isArray(Y))for(var tt=0;tt<Y.length;tt++)Me(y,Y[tt],se,be,We);else be=h(be)?!!be.capture:!!be,se=Pt(se),y&&y[Ae]?(y=y.i,tt=String(Y).toString(),tt in y.g&&(Y=y.g[tt],se=ue(Y,se,be,We),se>-1&&(X(Y[se]),Array.prototype.splice.call(Y,se,1),Y.length==0&&(delete y.g[tt],y.h--)))):y&&(y=ht(y))&&(Y=y.g[Y.toString()],y=-1,Y&&(y=ue(Y,se,be,We)),(se=y>-1?Y[y]:null)&&Je(se))}function Je(y){if(typeof y!="number"&&y&&!y.da){var Y=y.src;if(Y&&Y[Ae])he(Y.i,y);else{var se=y.type,be=y.proxy;Y.removeEventListener?Y.removeEventListener(se,be,y.capture):Y.detachEvent?Y.detachEvent(at(se),be):Y.addListener&&Y.removeListener&&Y.removeListener(be),(se=ht(Y))?(he(se,y),se.h==0&&(se.src=null,Y[ye]=null)):X(y)}}}function at(y){return y in je?je[y]:je[y]="on"+y}function ge(y,Y){if(y.da)y=!0;else{Y=new ae(Y,this);const se=y.listener,be=y.ha||y.src;y.fa&&Je(y),y=se.call(be,Y)}return y}function ht(y){return y=y[ye],y instanceof oe?y:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pt(y){return typeof y=="function"?y:(y[Kt]||(y[Kt]=function(Y){return y.handleEvent(Y)}),y[Kt])}function Le(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}m(Le,V),Le.prototype[Ae]=!0,Le.prototype.removeEventListener=function(y,Y,se,be){Me(this,y,Y,se,be)};function jt(y,Y){var se,be=y.G;if(be)for(se=[];be;be=be.G)se.push(be);if(y=y.M,be=Y.type||Y,typeof Y=="string")Y=new O(Y,y);else if(Y instanceof O)Y.target=Y.target||y;else{var We=Y;Y=new O(be,y),ee(Y,We)}We=!0;let tt,Yt;if(se)for(Yt=se.length-1;Yt>=0;Yt--)tt=Y.g=se[Yt],We=Ve(tt,be,!0,Y)&&We;if(tt=Y.g=y,We=Ve(tt,be,!0,Y)&&We,We=Ve(tt,be,!1,Y)&&We,se)for(Yt=0;Yt<se.length;Yt++)tt=Y.g=se[Yt],We=Ve(tt,be,!1,Y)&&We}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var y=this.i;for(const Y in y.g){const se=y.g[Y];for(let be=0;be<se.length;be++)X(se[be]);delete y.g[Y],y.h--}}this.G=null},Le.prototype.J=function(y,Y,se,be){return this.i.add(String(y),Y,!1,se,be)},Le.prototype.K=function(y,Y,se,be){return this.i.add(String(y),Y,!0,se,be)};function Ve(y,Y,se,be){if(Y=y.i.g[String(Y)],!Y)return!0;Y=Y.concat();let We=!0;for(let tt=0;tt<Y.length;++tt){const Yt=Y[tt];if(Yt&&!Yt.da&&Yt.capture==se){const Ds=Yt.listener,In=Yt.ha||Yt.src;Yt.fa&&he(y.i,Yt),We=Ds.call(In,be)!==!1&&We}}return We&&!be.defaultPrevented}function Fe(y,Y){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(Y)>2147483647?-1:A.setTimeout(y,Y||0)}function lt(y){y.g=Fe(()=>{y.g=null,y.i&&(y.i=!1,lt(y))},y.l);const Y=y.h;y.h=null,y.m.apply(null,Y)}class xt extends V{constructor(Y,se){super(),this.m=Y,this.l=se,this.h=null,this.i=!1,this.g=null}j(Y){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(y){V.call(this),this.h=y,this.g={}}m(Et,V);var Jt=[];function Mt(y){ne(y.g,function(Y,se){this.g.hasOwnProperty(se)&&Je(Y)},y),y.g={}}Et.prototype.N=function(){Et.Z.N.call(this),Mt(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=A.JSON.stringify,ft=A.JSON.parse,Ye=class{stringify(y){return A.JSON.stringify(y,void 0)}parse(y){return A.JSON.parse(y,void 0)}};function At(){}function es(){}var Gt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}m(qt,O);function dt(){O.call(this,"c")}m(dt,O);var Ot={},Vt=null;function is(){return Vt=Vt||new Le}Ot.Ia="serverreachability";function Zt(y){O.call(this,Ot.Ia,y)}m(Zt,O);function Qe(y){const Y=is();jt(Y,new Zt(Y))}Ot.STAT_EVENT="statevent";function Ht(y,Y){O.call(this,Ot.STAT_EVENT,y),this.stat=Y}m(Ht,O);function it(y){const Y=is();jt(Y,new Ht(Y,y))}Ot.Ja="timingevent";function ct(y,Y){O.call(this,Ot.Ja,y),this.size=Y}m(ct,O);function Bt(y,Y){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){y()},Y)}function ts(){this.g=!0}ts.prototype.ua=function(){this.g=!1};function ss(y,Y,se,be,We,tt){y.info(function(){if(y.g)if(tt){var Yt="",Ds=tt.split("&");for(let ln=0;ln<Ds.length;ln++){var In=Ds[ln].split("=");if(In.length>1){const Qn=In[0];In=In[1];const ba=Qn.split("_");Yt=ba.length>=2&&ba[1]=="type"?Yt+(Qn+"="+In+"&"):Yt+(Qn+"=redacted&")}}}else Yt=null;else Yt=tt;return"XMLHTTP REQ ("+be+") [attempt "+We+"]: "+Y+`
`+se+`
`+Yt})}function Us(y,Y,se,be,We,tt,Yt){y.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+We+"]: "+Y+`
`+se+`
`+tt+" "+Yt})}function zs(y,Y,se,be){y.info(function(){return"XMLHTTP TEXT ("+Y+"): "+Vn(y,se)+(be?" "+be:"")})}function as(y,Y){y.info(function(){return"TIMEOUT: "+Y})}ts.prototype.info=function(){};function Vn(y,Y){if(!y.g)return Y;if(!Y)return null;try{const tt=JSON.parse(Y);if(tt){for(y=0;y<tt.length;y++)if(Array.isArray(tt[y])){var se=tt[y];if(!(se.length<2)){var be=se[1];if(Array.isArray(be)&&!(be.length<1)){var We=be[0];if(We!="noop"&&We!="stop"&&We!="close")for(let Yt=1;Yt<be.length;Yt++)be[Yt]=""}}}}return He(tt)}catch{return Y}}var qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},un={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kn;function rs(){}m(rs,At),rs.prototype.g=function(){return new XMLHttpRequest},Kn=new rs;function Hs(y){return encodeURIComponent(String(y))}function Cn(y){var Y=1;y=y.split(":");const se=[];for(;Y>0&&y.length;)se.push(y.shift()),Y--;return y.length&&se.push(y.join(":")),se}function dn(y,Y,se,be){this.j=y,this.i=Y,this.l=se,this.S=be||1,this.V=new Et(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wn}function wn(){this.i=null,this.g="",this.h=!1}var fs={},Un={};function zn(y,Y,se){y.M=1,y.A=fi(zr(Y)),y.u=se,y.R=!0,fa(y,null)}function fa(y,Y){y.F=Date.now(),_r(y),y.B=zr(y.A);var se=y.B,be=y.S;Array.isArray(be)||(be=[String(be)]),qn(se.i,"t",be),y.C=0,se=y.j.L,y.h=new wn,y.g=xs(y.j,se?Y:null,!y.u),y.P>0&&(y.O=new xt(f(y.Y,y,y.g),y.P)),Y=y.V,se=y.g,be=y.ba;var We="readystatechange";Array.isArray(We)||(We&&(Jt[0]=We.toString()),We=Jt);for(let tt=0;tt<We.length;tt++){const Yt=ve(se,We[tt],be||Y.handleEvent,!1,Y.h||Y);if(!Yt)break;Y.g[Yt.key]=Yt}Y=y.J?W(y.J):{},y.u?(y.v||(y.v="POST"),Y["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,Y)):(y.v="GET",y.g.ea(y.B,y.v,null,Y)),Qe(),ss(y.i,y.v,y.B,y.l,y.S,y.u)}dn.prototype.ba=function(y){y=y.target;const Y=this.O;Y&&Xa(y)==3?Y.j():this.Y(y)},dn.prototype.Y=function(y){try{if(y==this.g)e:{const Ds=Xa(this.g),In=this.g.ya(),ln=this.g.ca();if(!(Ds<3)&&(Ds!=3||this.g&&(this.h.h||this.g.la()||Rr(this.g)))){this.K||Ds!=4||In==7||(In==8||ln<=0?Qe(3):Qe(2)),Nn(this);var Y=this.g.ca();this.X=Y;var se=za(this);if(this.o=Y==200,Us(this.i,this.v,this.B,this.l,this.S,Ds,Y),this.o){if(this.U&&!this.L){t:{if(this.g){var be,We=this.g;if((be=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(be)){var tt=be;break t}}tt=null}if(y=tt)zs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,y);else{this.o=!1,this.m=3,it(12),Fr(this),br(this);break e}}if(this.R){y=!0;let Qn;for(;!this.K&&this.C<se.length;)if(Qn=ma(this,se),Qn==Un){Ds==4&&(this.m=4,it(14),y=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==fs){this.m=4,it(15),zs(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else zs(this.i,this.l,Qn,null),Er(this,Qn);if(Ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ds!=4||se.length!=0||this.h.h||(this.m=1,it(16),y=!1),this.o=this.o&&y,!y)zs(this.i,this.l,se,"[Invalid Chunked Response]"),Fr(this),br(this);else if(se.length>0&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.aa&&!Yt.P&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ya(Yt),Yt.P=!0,it(11))}}else zs(this.i,this.l,se,null),Er(this,se);Ds==4&&Fr(this),this.o&&!this.K&&(Ds==4?Ee(this.j,this):(this.o=!1,_r(this)))}else Wi(this.g),Y==400&&se.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),Fr(this),br(this)}}}catch{}finally{}};function za(y){if(!Ci(y))return y.g.la();const Y=Rr(y.g);if(Y==="")return"";let se="";const be=Y.length,We=Xa(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Fr(y),br(y),"";y.h.i=new A.TextDecoder}for(let tt=0;tt<be;tt++)y.h.h=!0,se+=y.h.i.decode(Y[tt],{stream:!(We&&tt==be-1)});return Y.length=0,y.h.g+=se,y.C=0,y.h.g}function Ci(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function ma(y,Y){var se=y.C,be=Y.indexOf(`
`,se);return be==-1?Un:(se=Number(Y.substring(se,be)),isNaN(se)?fs:(be+=1,be+se>Y.length?Un:(Y=Y.slice(be,be+se),y.C=be+se,Y)))}dn.prototype.cancel=function(){this.K=!0,Fr(this)};function _r(y){y.T=Date.now()+y.H,hi(y,y.H)}function hi(y,Y){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Bt(f(y.aa,y),Y)}function Nn(y){y.D&&(A.clearTimeout(y.D),y.D=null)}dn.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(as(this.i,this.B),this.M!=2&&(Qe(),it(17)),Fr(this),this.m=2,br(this)):hi(this,this.T-y)};function br(y){y.j.I==0||y.K||Ee(y.j,y)}function Fr(y){Nn(y);var Y=y.O;Y&&typeof Y.dispose=="function"&&Y.dispose(),y.O=null,Mt(y.V),y.g&&(Y=y.g,y.g=null,Y.abort(),Y.dispose())}function Er(y,Y){try{var se=y.j;if(se.I!=0&&(se.g==y||wr(se.h,y))){if(!y.L&&wr(se.h,y)&&se.I==3){try{var be=se.Ba.g.parse(Y)}catch{be=null}if(Array.isArray(be)&&be.length==3){var We=be;if(We[0]==0){e:if(!se.v){if(se.g)if(se.g.F+3e3<y.F)ce(se),Ja(se);else break e;Ti(se),it(18)}}else se.xa=We[1],0<se.xa-se.K&&We[2]<37500&&se.F&&se.A==0&&!se.C&&(se.C=Bt(f(se.Va,se),6e3));Tr(se.h)<=1&&se.ta&&(se.ta=void 0)}else ze(se,11)}else if((y.L||se.g==y)&&ce(se),!G(Y))for(We=se.Ba.g.parse(Y),Y=0;Y<We.length;Y++){let ln=We[Y];const Qn=ln[0];if(!(Qn<=se.K))if(se.K=Qn,ln=ln[1],se.I==2)if(ln[0]=="c"){se.M=ln[1],se.ba=ln[2];const ba=ln[3];ba!=null&&(se.ka=ba,se.j.info("VER="+se.ka));const wa=ln[4];wa!=null&&(se.za=wa,se.j.info("SVER="+se.za));const Zn=ln[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(be=1.5*Zn,se.O=be,se.j.info("backChannelRequestTimeoutMs_="+be)),be=se;const cn=y.g;if(cn){const mo=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var tt=be.h;tt.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&($a(tt,tt.h),tt.h=null))}if(be.G){const Qo=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(be.wa=Qo,xn(be.J,be.G,Qo))}}se.I=3,se.l&&se.l.ra(),se.aa&&(se.T=Date.now()-y.F,se.j.info("Handshake RTT: "+se.T+"ms")),be=se;var Yt=y;if(be.na=Ut(be,be.L?be.ba:null,be.W),Yt.L){Io(be.h,Yt);var Ds=Yt,In=be.O;In&&(Ds.H=In),Ds.D&&(Nn(Ds),_r(Ds)),be.g=Yt}else Lo(be);se.i.length>0&&_a(se)}else ln[0]!="stop"&&ln[0]!="close"||ze(se,7);else se.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?ze(se,7):Ro(se):ln[0]!="noop"&&se.l&&se.l.qa(ln),se.A=0)}}Qe(4)}catch{}}var Gn=class{constructor(y,Y){this.g=y,this.map=Y}};function Ga(y){this.l=y||10,A.PerformanceNavigationTiming?(y=A.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ia(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Tr(y){return y.h?1:y.g?y.g.size:0}function wr(y,Y){return y.h?y.h==Y:y.g?y.g.has(Y):!1}function $a(y,Y){y.g?y.g.add(Y):y.h=Y}function Io(y,Y){y.h&&y.h==Y?y.h=null:y.g&&y.g.has(Y)&&y.g.delete(Y)}Ga.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Nl(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let Y=y.i;for(const se of y.g.values())Y=Y.concat(se.G);return Y}return g(y.i)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(y,Y){if(y){y=y.split("&");for(let se=0;se<y.length;se++){const be=y[se].indexOf("=");let We,tt=null;be>=0?(We=y[se].substring(0,be),tt=y[se].substring(be+1)):We=y[se],Y(We,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function oa(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let Y;y instanceof oa?(this.l=y.l,jn(this,y.j),this.o=y.o,this.g=y.g,Ei(this,y.u),this.h=y.h,Ya(this,dr(y.i)),this.m=y.m):y&&(Y=String(y).match(_o))?(this.l=!1,jn(this,Y[1]||"",!0),this.o=En(Y[2]||""),this.g=En(Y[3]||"",!0),Ei(this,Y[4]),this.h=En(Y[5]||"",!0),Ya(this,Y[6]||"",!0),this.m=En(Y[7]||"")):(this.l=!1,this.i=new sn(null,this.l))}oa.prototype.toString=function(){const y=[];var Y=this.j;Y&&y.push(Ne(Y,Tt,!0),":");var se=this.g;return(se||Y=="file")&&(y.push("//"),(Y=this.o)&&y.push(Ne(Y,Tt,!0),"@"),y.push(Hs(se).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.u,se!=null&&y.push(":",String(se))),(se=this.h)&&(this.g&&se.charAt(0)!="/"&&y.push("/"),y.push(Ne(se,se.charAt(0)=="/"?vs:zt,!0))),(se=this.i.toString())&&y.push("?",se),(se=this.m)&&y.push("#",Ne(se,Vs)),y.join("")},oa.prototype.resolve=function(y){const Y=zr(this);let se=!!y.j;se?jn(Y,y.j):se=!!y.o,se?Y.o=y.o:se=!!y.g,se?Y.g=y.g:se=y.u!=null;var be=y.h;if(se)Ei(Y,y.u);else if(se=!!y.h){if(be.charAt(0)!="/")if(this.g&&!this.h)be="/"+be;else{var We=Y.h.lastIndexOf("/");We!=-1&&(be=Y.h.slice(0,We+1)+be)}if(We=be,We==".."||We==".")be="";else if(We.indexOf("./")!=-1||We.indexOf("/.")!=-1){be=We.lastIndexOf("/",0)==0,We=We.split("/");const tt=[];for(let Yt=0;Yt<We.length;){const Ds=We[Yt++];Ds=="."?be&&Yt==We.length&&tt.push(""):Ds==".."?((tt.length>1||tt.length==1&&tt[0]!="")&&tt.pop(),be&&Yt==We.length&&tt.push("")):(tt.push(Ds),be=!0)}be=tt.join("/")}else be=We}return se?Y.h=be:se=y.i.toString()!=="",se?Ya(Y,dr(y.i)):se=!!y.m,se&&(Y.m=y.m),Y};function zr(y){return new oa(y)}function jn(y,Y,se){y.j=se?En(Y,!0):Y,y.j&&(y.j=y.j.replace(/:$/,""))}function Ei(y,Y){if(Y){if(Y=Number(Y),isNaN(Y)||Y<0)throw Error("Bad port number "+Y);y.u=Y}else y.u=null}function Ya(y,Y,se){Y instanceof sn?(y.i=Y,Ln(y.i,y.l)):(se||(Y=Ne(Y,cs)),y.i=new sn(Y,y.l))}function xn(y,Y,se){y.i.set(Y,se)}function fi(y){return xn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function En(y,Y){return y?Y?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ne(y,Y,se){return typeof y=="string"?(y=encodeURI(y).replace(Y,nt),se&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function nt(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Tt=/[#\/\?@]/g,zt=/[#\?:]/g,vs=/[#\?]/g,cs=/[#\?@]/g,Vs=/#/g;function sn(y,Y){this.h=this.g=null,this.i=y||null,this.j=!!Y}function It(y){y.g||(y.g=new Map,y.h=0,y.i&&pa(y.i,function(Y,se){y.add(decodeURIComponent(Y.replace(/\+/g," ")),se)}))}s=sn.prototype,s.add=function(y,Y){It(this),this.i=null,y=xr(this,y);let se=this.g.get(y);return se||this.g.set(y,se=[]),se.push(Y),this.h+=1,this};function Js(y,Y){It(y),Y=xr(y,Y),y.g.has(Y)&&(y.i=null,y.h-=y.g.get(Y).length,y.g.delete(Y))}function Zs(y,Y){return It(y),Y=xr(y,Y),y.g.has(Y)}s.forEach=function(y,Y){It(this),this.g.forEach(function(se,be){se.forEach(function(We){y.call(Y,We,be,this)},this)},this)};function on(y,Y){It(y);let se=[];if(typeof Y=="string")Zs(y,Y)&&(se=se.concat(y.g.get(xr(y,Y))));else for(y=Array.from(y.g.values()),Y=0;Y<y.length;Y++)se=se.concat(y[Y]);return se}s.set=function(y,Y){return It(this),this.i=null,y=xr(this,y),Zs(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[Y]),this.h+=1,this},s.get=function(y,Y){return y?(y=on(this,y),y.length>0?String(y[0]):Y):Y};function qn(y,Y,se){Js(y,Y),se.length>0&&(y.i=null,y.g.set(xr(y,Y),g(se)),y.h+=se.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],Y=Array.from(this.g.keys());for(let be=0;be<Y.length;be++){var se=Y[be];const We=Hs(se);se=on(this,se);for(let tt=0;tt<se.length;tt++){let Yt=We;se[tt]!==""&&(Yt+="="+Hs(se[tt])),y.push(Yt)}}return this.i=y.join("&")};function dr(y){const Y=new sn;return Y.i=y.i,y.g&&(Y.g=new Map(y.g),Y.h=y.h),Y}function xr(y,Y){return Y=String(Y),y.j&&(Y=Y.toLowerCase()),Y}function Ln(y,Y){Y&&!y.j&&(It(y),y.i=null,y.g.forEach(function(se,be){const We=be.toLowerCase();be!=We&&(Js(this,be),qn(this,We,se))},y)),y.j=Y}function Ur(y,Y){const se=new ts;if(A.Image){const be=new Image;be.onload=c(Dr,se,"TestLoadImage: loaded",!0,Y,be),be.onerror=c(Dr,se,"TestLoadImage: error",!1,Y,be),be.onabort=c(Dr,se,"TestLoadImage: abort",!1,Y,be),be.ontimeout=c(Dr,se,"TestLoadImage: timeout",!1,Y,be),A.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=y}else Y(!1)}function ga(y,Y){const se=new ts,be=new AbortController,We=setTimeout(()=>{be.abort(),Dr(se,"TestPingServer: timeout",!1,Y)},1e4);fetch(y,{signal:be.signal}).then(tt=>{clearTimeout(We),tt.ok?Dr(se,"TestPingServer: ok",!0,Y):Dr(se,"TestPingServer: server error",!1,Y)}).catch(()=>{clearTimeout(We),Dr(se,"TestPingServer: error",!1,Y)})}function Dr(y,Y,se,be,We){try{We&&(We.onload=null,We.onerror=null,We.onabort=null,We.ontimeout=null),be(se)}catch{}}function Wa(){this.g=new Ye}function _s(y){this.i=y.Sb||null,this.h=y.ab||!1}m(_s,At),_s.prototype.g=function(){return new ul(this.i,this.h)};function ul(y,Y){Le.call(this),this.H=y,this.o=Y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ul,Le),s=ul.prototype,s.open=function(y,Y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=Y,this.readyState=1,Xr(this)},s.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const Y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(Y.body=y),(this.H||A).fetch(new Request(this.D,Y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},s.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fo(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fo(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}s.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var Y=y.value?y.value:new Uint8Array(0);(Y=this.B.decode(Y,{stream:!y.done}))&&(this.response=this.responseText+=Y)}y.done?Uo(this):Xr(this),this.readyState==3&&Fo(this)}},s.Oa=function(y){this.g&&(this.response=this.responseText=y,Uo(this))},s.Na=function(y){this.g&&(this.response=y,Uo(this))},s.ga=function(){this.g&&Uo(this)};function Uo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Xr(y)}s.setRequestHeader=function(y,Y){this.A.append(y,Y)},s.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],Y=this.h.entries();for(var se=Y.next();!se.done;)se=se.value,y.push(se[0]+": "+se[1]),se=Y.next();return y.join(`\r
`)};function Xr(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Jr(y){let Y="";return ne(y,function(se,be){Y+=be,Y+=":",Y+=se,Y+=`\r
`}),Y}function Ia(y,Y,se){e:{for(be in se){var be=!1;break e}be=!0}be||(se=Jr(se),typeof y=="string"?se!=null&&Hs(se):xn(y,Y,se))}function $n(y){Le.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m($n,Le);var ni=/^https?$/i,Do=["POST","PUT"];s=$n.prototype,s.Fa=function(y){this.H=y},s.ea=function(y,Y,se,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);Y=Y?Y.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kn.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(Y,String(y),!0),this.B=!1}catch(tt){Yi(this,tt);return}if(y=se||"",se=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var We in be)se.set(We,be[We]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const tt of be.keys())se.set(tt,be.get(tt));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(se.keys()).find(tt=>tt.toLowerCase()=="content-type"),We=A.FormData&&y instanceof A.FormData,!(Array.prototype.indexOf.call(Do,Y,void 0)>=0)||be||We||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,Yt]of se)this.g.setRequestHeader(tt,Yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(tt){Yi(this,tt)}};function Yi(y,Y){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=Y,y.o=5,Gl(y),ri(y)}function Gl(y){y.A||(y.A=!0,jt(y,"complete"),jt(y,"error"))}s.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,jt(this,"complete"),jt(this,"abort"),ri(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),$n.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xa(this):this.Xa())},s.Xa=function(){xa(this)};function xa(y){if(y.h&&typeof o<"u"){if(y.v&&Xa(y)==4)setTimeout(y.Ca.bind(y),0);else if(jt(y,"readystatechange"),Xa(y)==4){y.h=!1;try{const tt=y.ca();e:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Y=!0;break e;default:Y=!1}var se;if(!(se=Y)){var be;if(be=tt===0){let Yt=String(y.D).match(_o)[1]||null;!Yt&&A.self&&A.self.location&&(Yt=A.self.location.protocol.slice(0,-1)),be=!ni.test(Yt?Yt.toLowerCase():"")}se=be}if(se)jt(y,"complete"),jt(y,"success");else{y.o=6;try{var We=Xa(y)>2?y.g.statusText:""}catch{We=""}y.l=We+" ["+y.ca()+"]",Gl(y)}}finally{ri(y)}}}}function ri(y,Y){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const se=y.g;y.g=null,Y||jt(y,"ready");try{se.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xa(y){return y.g?y.g.readyState:0}s.ca=function(){try{return Xa(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(y){if(this.g){var Y=this.g.responseText;return y&&Y.indexOf(y)==0&&(Y=Y.substring(y.length)),ft(Y)}};function Rr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(y){const Y={};y=(y.g&&Xa(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<y.length;be++){if(G(y[be]))continue;var se=Cn(y[be]);const We=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const tt=Y[We]||[];Y[We]=tt,tt.push(se)}re(Y,function(be){return be.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(y,Y,se){return se&&se.internalChannelParams&&se.internalChannelParams[y]||Y}function hr(y){this.za=0,this.i=[],this.j=new ts,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=va("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=va("baseRetryDelayMs",5e3,y),this.Za=va("retryDelaySeedMs",1e4,y),this.Ta=va("forwardChannelMaxRetries",2,y),this.va=va("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Ga(y&&y.concurrentRequestLimit),this.Ba=new Wa,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hr.prototype,s.ka=8,s.I=1,s.connect=function(y,Y,se,be){it(0),this.W=y,this.H=Y||{},se&&be!==void 0&&(this.H.OSID=se,this.H.OAID=be),this.F=this.X,this.J=Ut(this,null,this.W),_a(this)};function Ro(y){if(Xi(y),y.I==3){var Y=y.V++,se=zr(y.J);if(xn(se,"SID",y.M),xn(se,"RID",Y),xn(se,"TYPE","terminate"),Fa(y,se),Y=new dn(y,y.j,Y),Y.M=2,Y.A=fi(zr(se)),se=!1,A.navigator&&A.navigator.sendBeacon)try{se=A.navigator.sendBeacon(Y.A.toString(),"")}catch{}!se&&A.Image&&(new Image().src=Y.A,se=!0),se||(Y.g=xs(Y.j,null),Y.g.ea(Y.A)),Y.F=Date.now(),_r(Y)}yt(y)}function Ja(y){y.g&&(ya(y),y.g.cancel(),y.g=null)}function Xi(y){Ja(y),y.v&&(A.clearTimeout(y.v),y.v=null),ce(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&A.clearTimeout(y.m),y.m=null)}function _a(y){if(!ia(y.h)&&!y.m){y.m=!0;var Y=y.Ea;k||D(),M||(k(),M=!0),Q.add(Y,y),y.D=0}}function dl(y,Y){return Tr(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=Y.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Bt(f(y.Ea,y,Y),Ue(y,y.D)),y.D++,!0)}s.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const We=new dn(this,this.j,y);let tt=this.o;if(this.U&&(tt?(tt=W(tt),ee(tt,this.U)):tt=this.U),this.u!==null||this.R||(We.J=tt,tt=null),this.S)e:{for(var Y=0,se=0;se<this.i.length;se++){t:{var be=this.i[se];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(Y+=be,Y>4096){Y=se;break e}if(Y===4096||se===this.i.length-1){Y=se+1;break e}}Y=1e3}else Y=1e3;Y=mi(this,We,Y),se=zr(this.J),xn(se,"RID",y),xn(se,"CVER",22),this.G&&xn(se,"X-HTTP-Session-Id",this.G),Fa(this,se),tt&&(this.R?Y="headers="+Hs(Jr(tt))+"&"+Y:this.u&&Ia(se,this.u,tt)),$a(this.h,We),this.Ra&&xn(se,"TYPE","init"),this.S?(xn(se,"$req",Y),xn(se,"SID","null"),We.U=!0,zn(We,se,null)):zn(We,se,Y),this.I=2}}else this.I==3&&(y?$l(this,y):this.i.length==0||ia(this.h)||$l(this))};function $l(y,Y){var se;Y?se=Y.l:se=y.V++;const be=zr(y.J);xn(be,"SID",y.M),xn(be,"RID",se),xn(be,"AID",y.K),Fa(y,be),y.u&&y.o&&Ia(be,y.u,y.o),se=new dn(y,y.j,se,y.D+1),y.u===null&&(se.J=y.o),Y&&(y.i=Y.G.concat(y.i)),Y=mi(y,se,1e3),se.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),$a(y.h,se),zn(se,be,Y)}function Fa(y,Y){y.H&&ne(y.H,function(se,be){xn(Y,be,se)}),y.l&&ne({},function(se,be){xn(Y,be,se)})}function mi(y,Y,se){se=Math.min(y.i.length,se);const be=y.l?f(y.l.Ka,y.l,y):null;e:{var We=y.i;let Ds=-1;for(;;){const In=["count="+se];Ds==-1?se>0?(Ds=We[0].g,In.push("ofs="+Ds)):Ds=0:In.push("ofs="+Ds);let ln=!0;for(let Qn=0;Qn<se;Qn++){var tt=We[Qn].g;const ba=We[Qn].map;if(tt-=Ds,tt<0)Ds=Math.max(0,We[Qn].g-100),ln=!1;else try{tt="req"+tt+"_"||"";try{var Yt=ba instanceof Map?ba:Object.entries(ba);for(const[wa,Zn]of Yt){let cn=Zn;h(Zn)&&(cn=He(Zn)),In.push(tt+wa+"="+encodeURIComponent(cn))}}catch(wa){throw In.push(tt+"type="+encodeURIComponent("_badmap")),wa}}catch{be&&be(ba)}}if(ln){Yt=In.join("&");break e}}Yt=void 0}return y=y.i.splice(0,se),Y.G=y,Yt}function Lo(y){if(!y.g&&!y.v){y.Y=1;var Y=y.Da;k||D(),M||(k(),M=!0),Q.add(Y,y),y.A=0}}function Ti(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Bt(f(y.Da,y),Ue(y,y.A)),y.A++,!0)}s.Da=function(){if(this.v=null,P(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Bt(f(this.Wa,this),y)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),Ja(this),P(this))};function ya(y){y.B!=null&&(A.clearTimeout(y.B),y.B=null)}function P(y){y.g=new dn(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var Y=zr(y.na);xn(Y,"RID","rpc"),xn(Y,"SID",y.M),xn(Y,"AID",y.K),xn(Y,"CI",y.F?"0":"1"),!y.F&&y.ia&&xn(Y,"TO",y.ia),xn(Y,"TYPE","xmlhttp"),Fa(y,Y),y.u&&y.o&&Ia(Y,y.u,y.o),y.O&&(y.g.H=y.O);var se=y.g;y=y.ba,se.M=1,se.A=fi(zr(Y)),se.u=null,se.R=!0,fa(se,y)}s.Va=function(){this.C!=null&&(this.C=null,Ja(this),Ti(this),it(19))};function ce(y){y.C!=null&&(A.clearTimeout(y.C),y.C=null)}function Ee(y,Y){var se=null;if(y.g==Y){ce(y),ya(y),y.g=null;var be=2}else if(wr(y.h,Y))se=Y.G,Io(y.h,Y),be=1;else return;if(y.I!=0){if(Y.o)if(be==1){se=Y.u?Y.u.length:0,Y=Date.now()-Y.F;var We=y.D;be=is(),jt(be,new ct(be,se)),_a(y)}else Lo(y);else if(We=Y.m,We==3||We==0&&Y.X>0||!(be==1&&dl(y,Y)||be==2&&Ti(y)))switch(se&&se.length>0&&(Y=y.h,Y.i=Y.i.concat(se)),We){case 1:ze(y,5);break;case 4:ze(y,10);break;case 3:ze(y,6);break;default:ze(y,2)}}}function Ue(y,Y){let se=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(se*=2),se*Y}function ze(y,Y){if(y.j.info("Error code "+Y),Y==2){var se=f(y.bb,y),be=y.Ua;const We=!be;be=new oa(be||"//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||jn(be,"https"),fi(be),We?Ur(be.toString(),se):ga(be.toString(),se)}else it(2);y.I=0,y.l&&y.l.pa(Y),yt(y),Xi(y)}s.bb=function(y){y?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function yt(y){if(y.I=0,y.ja=[],y.l){const Y=Nl(y.h);(Y.length!=0||y.i.length!=0)&&(w(y.ja,Y),w(y.ja,y.i),y.h.i.length=0,g(y.i),y.i.length=0),y.l.oa()}}function Ut(y,Y,se){var be=se instanceof oa?zr(se):new oa(se);if(be.g!="")Y&&(be.g=Y+"."+be.g),Ei(be,be.u);else{var We=A.location;be=We.protocol,Y=Y?Y+"."+We.hostname:We.hostname,We=+We.port;const tt=new oa(null);be&&jn(tt,be),Y&&(tt.g=Y),We&&Ei(tt,We),se&&(tt.h=se),be=tt}return se=y.G,Y=y.wa,se&&Y&&xn(be,se,Y),xn(be,"VER",y.ka),Fa(y,be),be}function xs(y,Y,se){if(Y&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return Y=y.Aa&&!y.ma?new $n(new _s({ab:se})):new $n(y.ma),Y.Fa(y.L),Y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qe(){}s=qe.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Lt(){}Lt.prototype.g=function(y,Y){return new kt(y,Y)};function kt(y,Y){Le.call(this),this.g=new hr(Y),this.l=y,this.h=Y&&Y.messageUrlParams||null,y=Y&&Y.messageHeaders||null,Y&&Y.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=Y&&Y.initMessageHeaders||null,Y&&Y.messageContentType&&(y?y["X-WebChannel-Content-Type"]=Y.messageContentType:y={"X-WebChannel-Content-Type":Y.messageContentType}),Y&&Y.sa&&(y?y["X-WebChannel-Client-Profile"]=Y.sa:y={"X-WebChannel-Client-Profile":Y.sa}),this.g.U=y,(y=Y&&Y.Qb)&&!G(y)&&(this.g.u=y),this.A=Y&&Y.supportsCrossDomainXhr||!1,this.v=Y&&Y.sendRawJson||!1,(Y=Y&&Y.httpSessionIdParam)&&!G(Y)&&(this.g.G=Y,y=this.h,y!==null&&Y in y&&(y=this.h,Y in y&&delete y[Y])),this.j=new $t(this)}m(kt,Le),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Ro(this.g)},kt.prototype.o=function(y){var Y=this.g;if(typeof y=="string"){var se={};se.__data__=y,y=se}else this.v&&(se={},se.__data__=He(y),y=se);Y.i.push(new Gn(Y.Ya++,y)),Y.I==3&&_a(Y)},kt.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,kt.Z.N.call(this)};function us(y){qt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var Y=y.__sm__;if(Y){e:{for(const se in Y){y=se;break e}y=void 0}(this.i=y)&&(y=this.i,Y=Y!==null&&y in Y?Y[y]:void 0),this.data=Y}else this.data=y}m(us,qt);function ws(){dt.call(this),this.status=1}m(ws,dt);function $t(y){this.g=y}m($t,qe),$t.prototype.ra=function(){jt(this.g,"a")},$t.prototype.qa=function(y){jt(this.g,new us(y))},$t.prototype.pa=function(y){jt(this.g,new ws)},$t.prototype.oa=function(){jt(this.g,"b")},Lt.prototype.createWebChannel=Lt.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,iE=function(){return new Lt},aE=function(){return is()},rE=Ot,sb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,yx=qs,un.COMPLETE="complete",nE=un,es.EventType=Gt,Gt.OPEN="a",Gt.CLOSE="b",Gt.ERROR="c",Gt.MESSAGE="d",Le.prototype.listen=Le.prototype.J,Lp=es,$n.prototype.listenOnce=$n.prototype.K,$n.prototype.getLastError=$n.prototype.Ha,$n.prototype.getLastErrorCode=$n.prototype.ya,$n.prototype.getStatus=$n.prototype.ca,$n.prototype.getResponseJson=$n.prototype.La,$n.prototype.getResponseText=$n.prototype.la,$n.prototype.send=$n.prototype.ea,$n.prototype.setWithCredentials=$n.prototype.Fa,sE=$n}).apply(typeof $0<"u"?$0:typeof self<"u"?self:typeof window<"u"?window:{});const GB="@firebase/firestore",$B="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};al.UNAUTHENTICATED=new al(null),al.GOOGLE_CREDENTIALS=new al("google-credentials-uid"),al.FIRST_PARTY=new al("first-party-uid"),al.MOCK_USER=new al("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new h8("@firebase/firestore");function zf(){return sf.logLevel}function Ns(s,...e){if(sf.logLevel<=ur.DEBUG){const t=e.map(ww);sf.debug(`Firestore (${Cm}): ${s}`,...t)}}function _u(s,...e){if(sf.logLevel<=ur.ERROR){const t=e.map(ww);sf.error(`Firestore (${Cm}): ${s}`,...t)}}function Am(s,...e){if(sf.logLevel<=ur.WARN){const t=e.map(ww);sf.warn(`Firestore (${Cm}): ${s}`,...t)}}function ww(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(s,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,oE(s,n,t)}function oE(s,e,t){let n=`FIRESTORE (${Cm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw _u(n),new Error(n)}function Cr(s,e,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,s||oE(e,a,n)}function mn(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ms extends fA{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(al.UNAUTHENTICATED)))}shutdown(){}}class m8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class p8{constructor(e){this.t=e,this.currentUser=al.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Cr(this.o===void 0,42304);let n=this.i;const a=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let o=new GA;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new GA,e.enqueueRetryable((()=>a(this.currentUser)))};const A=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},h=u=>{Ns("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit((u=>h(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?h(u):(Ns("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new GA)}}),0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ns("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Cr(typeof n.accessToken=="string",31837,{l:n}),new lE(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cr(e===null||typeof e=="string",2055,{h:e}),new al(e)}}class g8{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=al.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x8{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new g8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(al.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Cr(this.o===void 0,3512);const n=o=>{o.error!=null&&Ns("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const A=o.token!==this.m;return this.m=o.token,Ns("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const a=o=>{Ns("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ns("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Cr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new YB(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<s;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=y8(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<t&&(n+=e.charAt(a[o]%62))}return n}}function rr(s,e){return s<e?-1:s>e?1:0}function nb(s,e){const t=Math.min(s.length,e.length);for(let n=0;n<t;n++){const a=s.charAt(n),o=e.charAt(n);if(a!==o)return zy(a)===zy(o)?rr(a,o):zy(a)?1:-1}return rr(s.length,e.length)}const b8=55296,w8=57343;function zy(s){const e=s.charCodeAt(0);return e>=b8&&e<=w8}function um(s,e,t){return s.length===e.length&&s.every(((n,a)=>t(n,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="__name__";class MA{constructor(e,t,n){t===void 0?t=0:t>e.length&&an(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&an(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return MA.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof MA?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const o=MA.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return rr(e.length,t.length)}static compareSegments(e,t){const n=MA.isNumericId(e),a=MA.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?MA.extractNumericId(e).compare(MA.extractNumericId(t)):nb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pd.fromString(e.substring(4,e.length-2))}}class ha extends MA{construct(e,t,n){return new ha(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ms(_t.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((a=>a.length>0)))}return new ha(t)}static emptyPath(){return new ha([])}}const j8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class So extends MA{construct(e,t,n){return new So(e,t,n)}static isValidIdentifier(e){return j8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),So.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WB}static keyField(){return new So([WB])}static fromServerFormat(e){const t=[];let n="",a=0;const o=()=>{if(n.length===0)throw new ms(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let A=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ms(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ms(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,a+=2}else h==="`"?(A=!A,a++):h!=="."||A?(n+=h,a++):(o(),a++)}if(o(),A)throw new ms(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new So(t)}static emptyPath(){return new So([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.path=e}static fromPath(e){return new Ys(ha.fromString(e))}static fromName(e){return new Ys(ha.fromString(e).popFirst(5))}static empty(){return new Ys(ha.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ha.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ha.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ys(new ha(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(s,e,t){if(!t)throw new ms(_t.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function B8(s,e,t,n){if(e===!0&&n===!0)throw new ms(_t.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function XB(s){if(!Ys.isDocumentKey(s))throw new ms(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function JB(s){if(Ys.isDocumentKey(s))throw new ms(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function AE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Bv(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":an(12329,{type:typeof s})}function ll(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ms(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bv(s);throw new ms(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function N8(s,e){if(e<=0)throw new ms(_t.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(s,e){const t={typeString:s};return e&&(t.value=e),t}function Dg(s,e){if(!AE(s))throw new ms(_t.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const a=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in s)){t=`JSON missing required field: '${n}'`;break}const A=s[n];if(a&&typeof A!==a){t=`JSON field '${n}' must be a ${a}.`;break}if(o!==void 0&&A!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new ms(_t.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=-62135596800,ZB=1e6;class Jn{static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ZB);return new Jn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ms(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ms(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qB)throw new ms(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ms(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZB}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dg(e,Jn._jsonSchema))return new Jn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jn._jsonSchemaVersion="firestore/timestamp/1.0",Jn._jsonSchema={type:zi("string",Jn._jsonSchemaVersion),seconds:zi("number"),nanoseconds:zi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{static fromTimestamp(e){return new gn(e)}static min(){return new gn(new Jn(0,0))}static max(){return new gn(new Jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function S8(s,e){const t=s.toTimestamp().seconds,n=s.toTimestamp().nanoseconds+1,a=gn.fromTimestamp(n===1e9?new Jn(t+1,0):new Jn(t,n));return new zd(a,Ys.empty(),e)}function C8(s){return new zd(s.readTime,s.key,ug)}class zd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zd(gn.min(),Ys.empty(),ug)}static max(){return new zd(gn.max(),Ys.empty(),ug)}}function E8(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Ys.comparator(s.documentKey,e.documentKey),t!==0?t:rr(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(s){if(s.code!==_t.FAILED_PRECONDITION||s.message!==T8)throw s;Ns("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&an(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qt(((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qt?t:Qt.resolve(t)}catch(t){return Qt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qt.reject(t)}static resolve(e){return new Qt(((t,n)=>{t(e)}))}static reject(e){return new Qt(((t,n)=>{n(e)}))}static waitFor(e){return new Qt(((t,n)=>{let a=0,o=0,A=!1;e.forEach((h=>{++a,h.next((()=>{++o,A&&o===a&&t()}),(u=>n(u)))})),A=!0,o===a&&t()}))}static or(e){let t=Qt.resolve(!1);for(const n of e)t=t.next((a=>a?Qt.resolve(a):n()));return t}static forEach(e,t){const n=[];return e.forEach(((a,o)=>{n.push(t.call(this,a,o))})),this.waitFor(n)}static mapArray(e,t){return new Qt(((n,a)=>{const o=e.length,A=new Array(o);let h=0;for(let u=0;u<o;u++){const f=u;t(e[f]).next((c=>{A[f]=c,++h,h===o&&n(A)}),(c=>a(c)))}}))}static doWhile(e,t){return new Qt(((n,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):n()};o()}))}}function _8(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tm(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=-1;function Sv(s){return s==null}function Kx(s){return s===0&&1/s==-1/0}function F8(s){return typeof s=="number"&&Number.isInteger(s)&&!Kx(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="";function U8(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=e5(e)),e=D8(s.get(t),e);return e5(e)}function D8(s,e){let t=e;const n=s.length;for(let a=0;a<n;a++){const o=s.charAt(a);switch(o){case"\0":t+="";break;case uE:t+="";break;default:t+=o}}return t}function e5(s){return s+uE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function sh(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function R8(s,e){const t=[];for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.push(e(s[n],n,s));return t}function dE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){this.comparator=e,this.root=t||No.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,No.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,No.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Y0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Y0(this.root,e,this.comparator,!1)}getReverseIterator(){return new Y0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Y0(this.root,e,this.comparator,!0)}}class Y0{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class No{constructor(e,t,n,a,o){this.key=e,this.value=t,this.color=n??No.RED,this.left=a??No.EMPTY,this.right=o??No.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,o){return new No(e??this.key,t??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,n),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return No.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return No.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,No.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,No.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw an(43730,{key:this.key,value:this.value});if(this.right.isRed())throw an(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw an(27949);return e+(this.isRed()?0:1)}}No.EMPTY=null,No.RED=!0,No.BLACK=!1;No.EMPTY=new class{constructor(){this.size=0}get key(){throw an(57766)}get value(){throw an(16141)}get color(){throw an(16727)}get left(){throw an(29726)}get right(){throw an(36894)}copy(e,t,n,a,o){return this}insert(e,t,n){return new No(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s5(this.data.getIterator())}getIteratorFrom(e){return new s5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new io(this.comparator);return t.data=e,t}}class s5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.fields=e,e.sort(So.comparator)}static empty(){return new lc([])}unionWith(e){let t=new io(So.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new lc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return um(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hE("Invalid base64 string: "+o):o}})(e);return new Eo(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let A=0;A<a.length;++A)o+=String.fromCharCode(a[A]);return o})(e);return new Eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Eo.EMPTY_BYTE_STRING=new Eo("");const L8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gd(s){if(Cr(!!s,39018),typeof s=="string"){let e=0;const t=L8.exec(s);if(Cr(!!t,46558,{timestamp:s}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(s);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wi(s.seconds),nanos:wi(s.nanos)}}function wi(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $d(s){return typeof s=="string"?Eo.fromBase64String(s):Eo.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="server_timestamp",mE="__type__",pE="__previous_value__",gE="__local_write_time__";function Nw(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[mE])==null?void 0:n.stringValue)===fE}function Cv(s){const e=s.mapValue.fields[pE];return Nw(e)?Cv(e):e}function dg(s){const e=Gd(s.mapValue.fields[gE].timestampValue);return new Jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,t,n,a,o,A,h,u,f,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=A,this.autoDetectLongPolling=h,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=c}}const zx="(default)";class hg{constructor(e,t){this.projectId=e,this.database=t||zx}static empty(){return new hg("","")}get isDefaultDatabase(){return this.database===zx}isEqual(e){return e instanceof hg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__type__",O8="__max__",W0={mapValue:{}},vE="__vector__",Gx="value";function Yd(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nw(s)?4:P8(s)?9007199254740991:k8(s)?10:11:an(28295,{value:s})}function qA(s,e){if(s===e)return!0;const t=Yd(s);if(t!==Yd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return dg(s).isEqual(dg(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const A=Gd(a.timestampValue),h=Gd(o.timestampValue);return A.seconds===h.seconds&&A.nanos===h.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(a,o){return $d(a.bytesValue).isEqual($d(o.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(a,o){return wi(a.geoPointValue.latitude)===wi(o.geoPointValue.latitude)&&wi(a.geoPointValue.longitude)===wi(o.geoPointValue.longitude)})(s,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return wi(a.integerValue)===wi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const A=wi(a.doubleValue),h=wi(o.doubleValue);return A===h?Kx(A)===Kx(h):isNaN(A)&&isNaN(h)}return!1})(s,e);case 9:return um(s.arrayValue.values||[],e.arrayValue.values||[],qA);case 10:case 11:return(function(a,o){const A=a.mapValue.fields||{},h=o.mapValue.fields||{};if(t5(A)!==t5(h))return!1;for(const u in A)if(A.hasOwnProperty(u)&&(h[u]===void 0||!qA(A[u],h[u])))return!1;return!0})(s,e);default:return an(52216,{left:s})}}function fg(s,e){return(s.values||[]).find((t=>qA(t,e)))!==void 0}function dm(s,e){if(s===e)return 0;const t=Yd(s),n=Yd(e);if(t!==n)return rr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return rr(s.booleanValue,e.booleanValue);case 2:return(function(o,A){const h=wi(o.integerValue||o.doubleValue),u=wi(A.integerValue||A.doubleValue);return h<u?-1:h>u?1:h===u?0:isNaN(h)?isNaN(u)?0:-1:1})(s,e);case 3:return n5(s.timestampValue,e.timestampValue);case 4:return n5(dg(s),dg(e));case 5:return nb(s.stringValue,e.stringValue);case 6:return(function(o,A){const h=$d(o),u=$d(A);return h.compareTo(u)})(s.bytesValue,e.bytesValue);case 7:return(function(o,A){const h=o.split("/"),u=A.split("/");for(let f=0;f<h.length&&f<u.length;f++){const c=rr(h[f],u[f]);if(c!==0)return c}return rr(h.length,u.length)})(s.referenceValue,e.referenceValue);case 8:return(function(o,A){const h=rr(wi(o.latitude),wi(A.latitude));return h!==0?h:rr(wi(o.longitude),wi(A.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return r5(s.arrayValue,e.arrayValue);case 10:return(function(o,A){var x,g,w,E;const h=o.fields||{},u=A.fields||{},f=(x=h[Gx])==null?void 0:x.arrayValue,c=(g=u[Gx])==null?void 0:g.arrayValue,m=rr(((w=f==null?void 0:f.values)==null?void 0:w.length)||0,((E=c==null?void 0:c.values)==null?void 0:E.length)||0);return m!==0?m:r5(f,c)})(s.mapValue,e.mapValue);case 11:return(function(o,A){if(o===W0.mapValue&&A===W0.mapValue)return 0;if(o===W0.mapValue)return 1;if(A===W0.mapValue)return-1;const h=o.fields||{},u=Object.keys(h),f=A.fields||{},c=Object.keys(f);u.sort(),c.sort();for(let m=0;m<u.length&&m<c.length;++m){const x=nb(u[m],c[m]);if(x!==0)return x;const g=dm(h[u[m]],f[c[m]]);if(g!==0)return g}return rr(u.length,c.length)})(s.mapValue,e.mapValue);default:throw an(23264,{he:t})}}function n5(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return rr(s,e);const t=Gd(s),n=Gd(e),a=rr(t.seconds,n.seconds);return a!==0?a:rr(t.nanos,n.nanos)}function r5(s,e){const t=s.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const o=dm(t[a],n[a]);if(o)return o}return rr(t.length,n.length)}function hm(s){return rb(s)}function rb(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const n=Gd(t);return`time(${n.seconds},${n.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return $d(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return Ys.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let n="[",a=!0;for(const o of t.values||[])a?a=!1:n+=",",n+=rb(o);return n+"]"})(s.arrayValue):"mapValue"in s?(function(t){const n=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const A of n)o?o=!1:a+=",",a+=`${A}:${rb(t.fields[A])}`;return a+"}"})(s.mapValue):an(61005,{value:s})}function bx(s){switch(Yd(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cv(s);return e?16+bx(e):16;case 5:return 2*s.stringValue.length;case 6:return $d(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((a,o)=>a+bx(o)),0)})(s.arrayValue);case 10:case 11:return(function(n){let a=0;return sh(n.fields,((o,A)=>{a+=o.length+bx(A)})),a})(s.mapValue);default:throw an(13486,{value:s})}}function a5(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ab(s){return!!s&&"integerValue"in s}function Sw(s){return!!s&&"arrayValue"in s}function i5(s){return!!s&&"nullValue"in s}function o5(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function wx(s){return!!s&&"mapValue"in s}function k8(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[xE])==null?void 0:n.stringValue)===vE}function zp(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return sh(s.mapValue.fields,((t,n)=>e.mapValue.fields[t]=zp(n))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zp(s.arrayValue.values[t]);return e}return{...s}}function P8(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===O8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.value=e}static empty(){return new Hl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zp(t)}setAll(e){let t=So.emptyPath(),n={},a=[];e.forEach(((A,h)=>{if(!t.isImmediateParentOf(h)){const u=this.getFieldsMap(t);this.applyChanges(u,n,a),n={},a=[],t=h.popLast()}A?n[h.lastSegment()]=zp(A):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,a)}delete(e){const t=this.field(e.popLast());wx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qA(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];wx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){sh(t,((a,o)=>e[a]=o));for(const a of n)delete e[a]}clone(){return new Hl(zp(this.value))}}function yE(s){const e=[];return sh(s.fields,((t,n)=>{const a=new So([t]);if(wx(n)){const o=yE(n.mapValue).fields;if(o.length===0)e.push(a);else for(const A of o)e.push(a.child(A))}else e.push(a)})),new lc(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t,n,a,o,A,h){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=o,this.data=A,this.documentState=h}static newInvalidDocument(e){return new il(e,0,gn.min(),gn.min(),gn.min(),Hl.empty(),0)}static newFoundDocument(e,t,n,a){return new il(e,1,t,gn.min(),n,a,0)}static newNoDocument(e,t){return new il(e,2,t,gn.min(),gn.min(),Hl.empty(),0)}static newUnknownDocument(e,t){return new il(e,3,t,gn.min(),gn.min(),Hl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof il&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new il(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t){this.position=e,this.inclusive=t}}function l5(s,e,t){let n=0;for(let a=0;a<s.position.length;a++){const o=e[a],A=s.position[a];if(o.field.isKeyField()?n=Ys.comparator(Ys.fromName(A.referenceValue),t.key):n=dm(A,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function c5(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!qA(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t="asc"){this.field=e,this.dir=t}}function M8(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{}class Ki extends bE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new V8(e,t,n):t==="array-contains"?new G8(e,n):t==="in"?new $8(e,n):t==="not-in"?new Y8(e,n):t==="array-contains-any"?new W8(e,n):new Ki(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new K8(e,n):new z8(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(dm(t,this.value)):t!==null&&Yd(this.value)===Yd(t)&&this.matchesComparison(dm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return an(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class AA extends bE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new AA(e,t)}matches(e){return wE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(s){return s.op==="and"}function jE(s){return H8(s)&&wE(s)}function H8(s){for(const e of s.filters)if(e instanceof AA)return!1;return!0}function ib(s){if(s instanceof Ki)return s.field.canonicalString()+s.op.toString()+hm(s.value);if(jE(s))return s.filters.map((e=>ib(e))).join(",");{const e=s.filters.map((t=>ib(t))).join(",");return`${s.op}(${e})`}}function BE(s,e){return s instanceof Ki?(function(n,a){return a instanceof Ki&&n.op===a.op&&n.field.isEqual(a.field)&&qA(n.value,a.value)})(s,e):s instanceof AA?(function(n,a){return a instanceof AA&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((o,A,h)=>o&&BE(A,a.filters[h])),!0):!1})(s,e):void an(19439)}function NE(s){return s instanceof Ki?(function(t){return`${t.field.canonicalString()} ${t.op} ${hm(t.value)}`})(s):s instanceof AA?(function(t){return t.op.toString()+" {"+t.getFilters().map(NE).join(" ,")+"}"})(s):"Filter"}class V8 extends Ki{constructor(e,t,n){super(e,t,n),this.key=Ys.fromName(n.referenceValue)}matches(e){const t=Ys.comparator(e.key,this.key);return this.matchesComparison(t)}}class K8 extends Ki{constructor(e,t){super(e,"in",t),this.keys=SE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class z8 extends Ki{constructor(e,t){super(e,"not-in",t),this.keys=SE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function SE(s,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>Ys.fromName(n.referenceValue)))}class G8 extends Ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sw(t)&&fg(t.arrayValue,this.value)}}class $8 extends Ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fg(this.value.arrayValue,t)}}class Y8 extends Ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fg(this.value.arrayValue,t)}}class W8 extends Ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>fg(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,t=null,n=[],a=[],o=null,A=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=A,this.endAt=h,this.Te=null}}function A5(s,e=null,t=[],n=[],a=null,o=null,A=null){return new X8(s,e,t,n,a,o,A)}function Cw(s){const e=mn(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>ib(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Sv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>hm(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>hm(n))).join(",")),e.Te=t}return e.Te}function Ew(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!M8(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!BE(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!c5(s.startAt,e.startAt)&&c5(s.endAt,e.endAt)}function ob(s){return Ys.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t=null,n=[],a=[],o=null,A="F",h=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=A,this.startAt=h,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J8(s,e,t,n,a,o,A,h){return new Im(s,e,t,n,a,o,A,h)}function Ev(s){return new Im(s)}function u5(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CE(s){return s.collectionGroup!==null}function Gp(s){const e=mn(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let h=new io(So.comparator);return A.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new mg(o,n))})),t.has(So.keyField().canonicalString())||e.Ie.push(new mg(So.keyField(),n))}return e.Ie}function $A(s){const e=mn(s);return e.Ee||(e.Ee=EE(e,Gp(s))),e.Ee}function q8(s){const e=mn(s);return e.de||(e.de=EE(e,s.explicitOrderBy)),e.de}function EE(s,e){if(s.limitType==="F")return A5(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new mg(a.field,o)}));const t=s.endAt?new $x(s.endAt.position,s.endAt.inclusive):null,n=s.startAt?new $x(s.startAt.position,s.startAt.inclusive):null;return A5(s.path,s.collectionGroup,e,s.filters,s.limit,t,n)}}function lb(s,e){const t=s.filters.concat([e]);return new Im(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Yx(s,e,t){return new Im(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Tv(s,e){return Ew($A(s),$A(e))&&s.limitType===e.limitType}function TE(s){return`${Cw($A(s))}|lt:${s.limitType}`}function Gf(s){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((a=>NE(a))).join(", ")}]`),Sv(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((a=>(function(A){return`${A.field.canonicalString()} (${A.dir})`})(a))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>hm(a))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>hm(a))).join(",")),`Target(${n})`})($A(s))}; limitType=${s.limitType})`}function Iv(s,e){return e.isFoundDocument()&&(function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ys.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(s,e)&&(function(n,a){for(const o of Gp(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(s,e)&&(function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0})(s,e)&&(function(n,a){return!(n.startAt&&!(function(A,h,u){const f=l5(A,h,u);return A.inclusive?f<=0:f<0})(n.startAt,Gp(n),a)||n.endAt&&!(function(A,h,u){const f=l5(A,h,u);return A.inclusive?f>=0:f>0})(n.endAt,Gp(n),a))})(s,e)}function Z8(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function IE(s){return(e,t)=>{let n=!1;for(const a of Gp(s)){const o=eQ(a,e,t);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function eQ(s,e,t){const n=s.field.isKeyField()?Ys.comparator(e.key,t.key):(function(o,A,h){const u=A.data.field(o),f=h.data.field(o);return u!==null&&f!==null?dm(u,f):an(42886)})(s.field,e,t);switch(s.dir){case"asc":return n;case"desc":return-1*n;default:return an(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sh(this.inner,((t,n)=>{for(const[a,o]of n)e(a,o)}))}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ=new si(Ys.comparator);function Fu(){return tQ}const _E=new si(Ys.comparator);function Qp(...s){let e=_E;for(const t of s)e=e.insert(t.key,t);return e}function FE(s){let e=_E;return s.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Hh(){return $p()}function UE(){return $p()}function $p(){return new uf((s=>s.toString()),((s,e)=>s.isEqual(e)))}const sQ=new si(Ys.comparator),nQ=new io(Ys.comparator);function ar(...s){let e=nQ;for(const t of s)e=e.add(t);return e}const rQ=new io(rr);function aQ(){return rQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kx(e)?"-0":e}}function DE(s){return{integerValue:""+s}}function iQ(s,e){return F8(e)?DE(e):Tw(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this._=void 0}}function oQ(s,e,t){return s instanceof pg?(function(a,o){const A={fields:{[mE]:{stringValue:fE},[gE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Nw(o)&&(o=Cv(o)),o&&(A.fields[pE]=o),{mapValue:A}})(t,e):s instanceof gg?LE(s,e):s instanceof xg?QE(s,e):(function(a,o){const A=RE(a,o),h=d5(A)+d5(a.Ae);return ab(A)&&ab(a.Ae)?DE(h):Tw(a.serializer,h)})(s,e)}function lQ(s,e,t){return s instanceof gg?LE(s,e):s instanceof xg?QE(s,e):t}function RE(s,e){return s instanceof Wx?(function(n){return ab(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class pg extends _v{}class gg extends _v{constructor(e){super(),this.elements=e}}function LE(s,e){const t=OE(e);for(const n of s.elements)t.some((a=>qA(a,n)))||t.push(n);return{arrayValue:{values:t}}}class xg extends _v{constructor(e){super(),this.elements=e}}function QE(s,e){let t=OE(e);for(const n of s.elements)t=t.filter((a=>!qA(a,n)));return{arrayValue:{values:t}}}class Wx extends _v{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function d5(s){return wi(s.integerValue||s.doubleValue)}function OE(s){return Sw(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,t){this.field=e,this.transform=t}}function AQ(s,e){return s.field.isEqual(e.field)&&(function(n,a){return n instanceof gg&&a instanceof gg||n instanceof xg&&a instanceof xg?um(n.elements,a.elements,qA):n instanceof Wx&&a instanceof Wx?qA(n.Ae,a.Ae):n instanceof pg&&a instanceof pg})(s.transform,e.transform)}class uQ{constructor(e,t){this.version=e,this.transformResults=t}}class Bl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bl}static exists(e){return new Bl(void 0,e)}static updateTime(e){return new Bl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jx(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fv{}function kE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Uv(s.key,Bl.none()):new Rg(s.key,s.data,Bl.none());{const t=s.data,n=Hl.empty();let a=new io(So.comparator);for(let o of e.fields)if(!a.has(o)){let A=t.field(o);A===null&&o.length>1&&(o=o.popLast(),A=t.field(o)),A===null?n.delete(o):n.set(o,A),a=a.add(o)}return new nh(s.key,n,new lc(a.toArray()),Bl.none())}}function dQ(s,e,t){s instanceof Rg?(function(a,o,A){const h=a.value.clone(),u=f5(a.fieldTransforms,o,A.transformResults);h.setAll(u),o.convertToFoundDocument(A.version,h).setHasCommittedMutations()})(s,e,t):s instanceof nh?(function(a,o,A){if(!jx(a.precondition,o))return void o.convertToUnknownDocument(A.version);const h=f5(a.fieldTransforms,o,A.transformResults),u=o.data;u.setAll(PE(a)),u.setAll(h),o.convertToFoundDocument(A.version,u).setHasCommittedMutations()})(s,e,t):(function(a,o,A){o.convertToNoDocument(A.version).setHasCommittedMutations()})(0,e,t)}function Yp(s,e,t,n){return s instanceof Rg?(function(o,A,h,u){if(!jx(o.precondition,A))return h;const f=o.value.clone(),c=m5(o.fieldTransforms,u,A);return f.setAll(c),A.convertToFoundDocument(A.version,f).setHasLocalMutations(),null})(s,e,t,n):s instanceof nh?(function(o,A,h,u){if(!jx(o.precondition,A))return h;const f=m5(o.fieldTransforms,u,A),c=A.data;return c.setAll(PE(o)),c.setAll(f),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(s,e,t,n):(function(o,A,h){return jx(o.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):h})(s,e,t)}function hQ(s,e){let t=null;for(const n of s.fieldTransforms){const a=e.data.field(n.field),o=RE(n.transform,a||null);o!=null&&(t===null&&(t=Hl.empty()),t.set(n.field,o))}return t||null}function h5(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&um(n,a,((o,A)=>AQ(o,A)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Rg extends Fv{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class nh extends Fv{constructor(e,t,n,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function PE(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=s.data.field(t);e.set(t,n)}})),e}function f5(s,e,t){const n=new Map;Cr(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let a=0;a<t.length;a++){const o=s[a],A=o.transform,h=e.data.field(o.field);n.set(o.field,lQ(A,h,t[a]))}return n}function m5(s,e,t){const n=new Map;for(const a of s){const o=a.transform,A=t.data.field(a.field);n.set(a.field,oQ(o,A,e))}return n}class Uv extends Fv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fQ extends Fv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&dQ(o,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Yp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Yp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=UE();return this.mutations.forEach((a=>{const o=e.get(a.key),A=o.overlayedDocument;let h=this.applyToLocalView(A,o.mutatedFields);h=t.has(a.key)?null:h;const u=kE(A,h);u!==null&&n.set(a.key,u),A.isValidDocument()||A.convertToNoDocument(gn.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ar())}isEqual(e){return this.batchId===e.batchId&&um(this.mutations,e.mutations,((t,n)=>h5(t,n)))&&um(this.baseMutations,e.baseMutations,((t,n)=>h5(t,n)))}}class Iw{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){Cr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=(function(){return sQ})();const o=e.mutations;for(let A=0;A<o.length;A++)a=a.insert(o[A].key,n[A].version);return new Iw(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi,Ar;function vQ(s){switch(s){case _t.OK:return an(64938);case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return an(15467,{code:s})}}function ME(s){if(s===void 0)return _u("GRPC error has no .code"),_t.UNKNOWN;switch(s){case Mi.OK:return _t.OK;case Mi.CANCELLED:return _t.CANCELLED;case Mi.UNKNOWN:return _t.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return _t.INTERNAL;case Mi.UNAVAILABLE:return _t.UNAVAILABLE;case Mi.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Mi.NOT_FOUND:return _t.NOT_FOUND;case Mi.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Mi.ABORTED:return _t.ABORTED;case Mi.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Mi.DATA_LOSS:return _t.DATA_LOSS;default:return an(39323,{code:s})}}(Ar=Mi||(Mi={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ=new Pd([4294967295,4294967295],0);function p5(s){const e=yQ().encode(s),t=new tE;return t.update(e),new Uint8Array(t.digest())}function g5(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pd([t,n],0),new Pd([a,o],0)]}class _w{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Op(`Invalid padding: ${t}`);if(n<0)throw new Op(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Op(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Op(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Pd.fromNumber(this.ge)}ye(e,t,n){let a=e.add(t.multiply(Pd.fromNumber(n)));return a.compare(bQ)===1&&(a=new Pd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=p5(e),[n,a]=g5(t);for(let o=0;o<this.hashCount;o++){const A=this.ye(n,a,o);if(!this.we(A))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),A=new _w(o,a,t);return n.forEach((h=>A.insert(h))),A}insert(e){if(this.ge===0)return;const t=p5(e),[n,a]=g5(t);for(let o=0;o<this.hashCount;o++){const A=this.ye(n,a,o);this.Se(A)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Op extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t,n,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,Lg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Dv(gn.min(),a,new si(rr),Fu(),ar())}}class Lg{constructor(e,t,n,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Lg(n,t,ar(),ar(),ar())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,n,a){this.be=e,this.removedTargetIds=t,this.key=n,this.De=a}}class HE{constructor(e,t){this.targetId=e,this.Ce=t}}class VE{constructor(e,t,n=Eo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class x5{constructor(){this.ve=0,this.Fe=v5(),this.Me=Eo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ar(),t=ar(),n=ar();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:an(38017,{changeType:o})}})),new Lg(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=v5()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Cr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fu(),this.Je=X0(),this.He=X0(),this.Ye=new si(rr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:an(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,n=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(ob(o))if(n===0){const A=new Ys(o.path);this.et(t,A,il.newNoDocument(A,gn.min()))}else Cr(n===1,20013,{expectedCount:n});else{const A=this._t(t);if(A!==n){const h=this.ut(e),u=h?this.ct(h,e,A):1;if(u!==0){this.it(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=t;let A,h;try{A=$d(n).toUint8Array()}catch(u){if(u instanceof hE)return Am("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{h=new _w(A,a,o)}catch(u){return Am(u instanceof Op?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return h.ge===0?null:h}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let a=0;return n.forEach((o=>{const A=this.Ge.ht(),h=`projects/${A.projectId}/databases/${A.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,A)=>{const h=this.ot(A);if(h){if(o.current&&ob(h.target)){const u=new Ys(h.target.path);this.It(u).has(A)||this.Et(A,u)||this.et(A,u,il.newNoDocument(u,e))}o.Be&&(t.set(A,o.ke()),o.qe())}}));let n=ar();this.He.forEach(((o,A)=>{let h=!0;A.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(o))})),this.je.forEach(((o,A)=>A.setReadTime(e)));const a=new Dv(e,t,this.Ye,this.je,n);return this.je=Fu(),this.Je=X0(),this.He=X0(),this.Ye=new si(rr),a}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new x5,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new io(rr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new io(rr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ns("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x5),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function X0(){return new si(Ys.comparator)}function v5(){return new si(Ys.comparator)}const jQ={asc:"ASCENDING",desc:"DESCENDING"},BQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NQ={and:"AND",or:"OR"};class SQ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cb(s,e){return s.useProto3Json||Sv(e)?e:{value:e}}function Xx(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function CQ(s,e){return Xx(s,e.toTimestamp())}function YA(s){return Cr(!!s,49232),gn.fromTimestamp((function(t){const n=Gd(t);return new Jn(n.seconds,n.nanos)})(s))}function Fw(s,e){return Ab(s,e).canonicalString()}function Ab(s,e){const t=(function(a){return new ha(["projects",a.projectId,"databases",a.database])})(s).child("documents");return e===void 0?t:t.child(e)}function zE(s){const e=ha.fromString(s);return Cr(JE(e),10190,{key:e.toString()}),e}function ub(s,e){return Fw(s.databaseId,e.path)}function Gy(s,e){const t=zE(e);if(t.get(1)!==s.databaseId.projectId)throw new ms(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new ms(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Ys($E(t))}function GE(s,e){return Fw(s.databaseId,e)}function EQ(s){const e=zE(s);return e.length===4?ha.emptyPath():$E(e)}function db(s){return new ha(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $E(s){return Cr(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function y5(s,e,t){return{name:ub(s,e),fields:t.value.mapValue.fields}}function TQ(s,e){let t;if("targetChange"in e){e.targetChange;const n=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:an(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,c){return f.useProto3Json?(Cr(c===void 0||typeof c=="string",58123),Eo.fromBase64String(c||"")):(Cr(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Eo.fromUint8Array(c||new Uint8Array))})(s,e.targetChange.resumeToken),A=e.targetChange.cause,h=A&&(function(f){const c=f.code===void 0?_t.UNKNOWN:ME(f.code);return new ms(c,f.message||"")})(A);t=new VE(n,a,o,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Gy(s,n.document.name),o=YA(n.document.updateTime),A=n.document.createTime?YA(n.document.createTime):gn.min(),h=new Hl({mapValue:{fields:n.document.fields}}),u=il.newFoundDocument(a,o,A,h),f=n.targetIds||[],c=n.removedTargetIds||[];t=new Bx(f,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Gy(s,n.document),o=n.readTime?YA(n.readTime):gn.min(),A=il.newNoDocument(a,o),h=n.removedTargetIds||[];t=new Bx([],h,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Gy(s,n.document),o=n.removedTargetIds||[];t=new Bx([],o,a,null)}else{if(!("filter"in e))return an(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,A=new xQ(a,o),h=n.targetId;t=new HE(h,A)}}return t}function IQ(s,e){let t;if(e instanceof Rg)t={update:y5(s,e.key,e.value)};else if(e instanceof Uv)t={delete:ub(s,e.key)};else if(e instanceof nh)t={update:y5(s,e.key,e.data),updateMask:kQ(e.fieldMask)};else{if(!(e instanceof fQ))return an(16599,{Vt:e.type});t={verify:ub(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,A){const h=A.transform;if(h instanceof pg)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gg)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xg)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wx)return{fieldPath:A.field.canonicalString(),increment:h.Ae};throw an(20930,{transform:A.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:CQ(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:an(27497)})(s,e.precondition)),t}function _Q(s,e){return s&&s.length>0?(Cr(e!==void 0,14353),s.map((t=>(function(a,o){let A=a.updateTime?YA(a.updateTime):YA(o);return A.isEqual(gn.min())&&(A=YA(o)),new uQ(A,a.transformResults||[])})(t,e)))):[]}function FQ(s,e){return{documents:[GE(s,e.path)]}}function YE(s,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=GE(s,a);const o=(function(f){if(f.length!==0)return XE(AA.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const A=(function(f){if(f.length!==0)return f.map((c=>(function(x){return{field:Td(x.field),direction:LQ(x.dir)}})(c)))})(e.orderBy);A&&(t.structuredQuery.orderBy=A);const h=cb(s,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function UQ(s,e,t,n){const{ft:a,parent:o}=YE(s,e),A={},h=[];let u=0;return t.forEach((f=>{const c="aggregate_"+u++;A[c]=f.alias,f.aggregateType==="count"?h.push({alias:c,count:{}}):f.aggregateType==="avg"?h.push({alias:c,avg:{field:Td(f.fieldPath)}}):f.aggregateType==="sum"&&h.push({alias:c,sum:{field:Td(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:a.structuredQuery},parent:a.parent},gt:A,parent:o}}function DQ(s){let e=EQ(s.parent);const t=s.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){Cr(n===1,65062);const c=t.from[0];c.allDescendants?a=c.collectionId:e=e.child(c.collectionId)}let o=[];t.where&&(o=(function(m){const x=WE(m);return x instanceof AA&&jE(x)?x.getFilters():[x]})(t.where));let A=[];t.orderBy&&(A=(function(m){return m.map((x=>(function(w){return new mg($f(w.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(m){let x;return x=typeof m=="object"?m.value:m,Sv(x)?null:x})(t.limit));let u=null;t.startAt&&(u=(function(m){const x=!!m.before,g=m.values||[];return new $x(g,x)})(t.startAt));let f=null;return t.endAt&&(f=(function(m){const x=!m.before,g=m.values||[];return new $x(g,x)})(t.endAt)),J8(e,a,A,o,h,"F",u,f)}function RQ(s,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return an(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WE(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=$f(t.unaryFilter.field);return Ki.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=$f(t.unaryFilter.field);return Ki.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$f(t.unaryFilter.field);return Ki.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=$f(t.unaryFilter.field);return Ki.create(A,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return an(61313);default:return an(60726)}})(s):s.fieldFilter!==void 0?(function(t){return Ki.create($f(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return an(58110);default:return an(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return AA.create(t.compositeFilter.filters.map((n=>WE(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return an(1026)}})(t.compositeFilter.op))})(s):an(30097,{filter:s})}function LQ(s){return jQ[s]}function QQ(s){return BQ[s]}function OQ(s){return NQ[s]}function Td(s){return{fieldPath:s.canonicalString()}}function $f(s){return So.fromServerFormat(s.fieldPath)}function XE(s){return s instanceof Ki?(function(t){if(t.op==="=="){if(o5(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NAN"}};if(i5(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(o5(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NOT_NAN"}};if(i5(t.value))return{unaryFilter:{field:Td(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Td(t.field),op:QQ(t.op),value:t.value}}})(s):s instanceof AA?(function(t){const n=t.getFilters().map((a=>XE(a)));return n.length===1?n[0]:{compositeFilter:{op:OQ(t.op),filters:n}}})(s):an(54877,{filter:s})}function kQ(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function JE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,n,a,o=gn.min(),A=gn.min(),h=Eo.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=h,this.expectedCount=u}withSequenceNumber(e){return new _d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e){this.yt=e}}function MQ(s){const e=DQ({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Yx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(){this.Cn=new VQ}addToCollectionParentIndex(e,t){return this.Cn.add(t),Qt.resolve()}getCollectionParents(e,t){return Qt.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Qt.resolve()}deleteFieldIndex(e,t){return Qt.resolve()}deleteAllFieldIndexes(e){return Qt.resolve()}createTargetIndexes(e,t){return Qt.resolve()}getDocumentsMatchingTarget(e,t){return Qt.resolve(null)}getIndexType(e,t){return Qt.resolve(0)}getFieldIndexes(e,t){return Qt.resolve([])}getNextCollectionGroupToUpdate(e){return Qt.resolve(null)}getMinOffset(e,t){return Qt.resolve(zd.min())}getMinOffsetFromCollectionGroup(e,t){return Qt.resolve(zd.min())}updateCollectionGroup(e,t,n){return Qt.resolve()}updateIndexEntries(e,t){return Qt.resolve()}}class VQ{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new io(ha.comparator),o=!a.has(n);return this.index[t]=a.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new io(ha.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class Ml{static withCacheSize(e){return new Ml(e,Ml.DEFAULT_COLLECTION_PERCENTILE,Ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ml.DEFAULT_COLLECTION_PERCENTILE=10,Ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ml.DEFAULT=new Ml(qE,Ml.DEFAULT_COLLECTION_PERCENTILE,Ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ml.DISABLED=new Ml(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fm(0)}static cr(){return new fm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="LruGarbageCollector",KQ=1048576;function j5([s,e],[t,n]){const a=rr(s,t);return a===0?rr(e,n):a}class zQ{constructor(e){this.Ir=e,this.buffer=new io(j5),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();j5(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GQ{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ns(w5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tm(t)?Ns(w5,"Ignoring IndexedDB error during garbage collection: ",t):await Em(t)}await this.Vr(3e5)}))}}class $Q{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Qt.resolve(Nv.ce);const n=new zQ(t);return this.mr.forEachTarget(e,(a=>n.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>n.Ar(a))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ns("LruGarbageCollector","Garbage collection skipped; disabled"),Qt.resolve(b5)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ns("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b5):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,a,o,A,h,u,f;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ns("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,A=Date.now(),this.nthSequenceNumber(e,a)))).next((m=>(n=m,h=Date.now(),this.removeTargets(e,n,t)))).next((m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(f=Date.now(),zf()<=ur.DEBUG&&Ns("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${A-c}ms
	Determined least recently used ${a} in `+(h-A)+`ms
	Removed ${o} targets in `+(u-h)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-c}ms`),Qt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:m}))))}}function YQ(s,e){return new $Q(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(){this.changes=new uf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,il.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Qt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(n!==null&&Yp(n.mutation,a,lc.empty(),Jn.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,ar()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=ar()){const a=Hh();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,n).next((o=>{let A=Qp();return o.forEach(((h,u)=>{A=A.insert(h,u.overlayedDocument)})),A}))))}getOverlayedDocuments(e,t){const n=Hh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ar())))}populateOverlays(e,t,n){const a=[];return n.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((A,h)=>{t.set(A,h)}))}))}computeViews(e,t,n,a){let o=Fu();const A=$p(),h=(function(){return $p()})();return t.forEach(((u,f)=>{const c=n.get(f.key);a.has(f.key)&&(c===void 0||c.mutation instanceof nh)?o=o.insert(f.key,f):c!==void 0?(A.set(f.key,c.mutation.getFieldMask()),Yp(c.mutation,f,c.mutation.getFieldMask(),Jn.now())):A.set(f.key,lc.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((f,c)=>A.set(f,c))),t.forEach(((f,c)=>h.set(f,new XQ(c,A.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const n=$p();let a=new si(((A,h)=>A-h)),o=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((A=>{for(const h of A)h.keys().forEach((u=>{const f=t.get(u);if(f===null)return;let c=n.get(u)||lc.empty();c=h.applyToLocalView(f,c),n.set(u,c);const m=(a.get(h.batchId)||ar()).add(u);a=a.insert(h.batchId,m)}))})).next((()=>{const A=[],h=a.getReverseIterator();for(;h.hasNext();){const u=h.getNext(),f=u.key,c=u.value,m=UE();c.forEach((x=>{if(!o.has(x)){const g=kE(t.get(x),n.get(x));g!==null&&m.set(x,g),o=o.add(x)}})),A.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Qt.waitFor(A)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,a){return(function(A){return Ys.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next((o=>{const A=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-o.size):Qt.resolve(Hh());let h=ug,u=o;return A.next((f=>Qt.forEach(f,((c,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),o.get(c)?Qt.resolve():this.remoteDocumentCache.getEntry(e,c).next((x=>{u=u.insert(c,x)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,u,f,ar()))).next((c=>({batchId:h,changes:FE(c)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ys(t)).next((n=>{let a=Qp();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const o=t.collectionGroup;let A=Qp();return this.indexManager.getCollectionParents(e,o).next((h=>Qt.forEach(h,(u=>{const f=(function(m,x){return new Im(x,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,a).next((c=>{c.forEach(((m,x)=>{A=A.insert(m,x)}))}))})).next((()=>A))))}getDocumentsMatchingCollectionQuery(e,t,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((A=>(o=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,a)))).next((A=>{o.forEach(((u,f)=>{const c=f.getKey();A.get(c)===null&&(A=A.insert(c,il.newInvalidDocument(c)))}));let h=Qp();return A.forEach(((u,f)=>{const c=o.get(u);c!==void 0&&Yp(c.mutation,f,lc.empty(),Jn.now()),Iv(t,f)&&(h=h.insert(u,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Qt.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:YA(a.createTime)}})(t)),Qt.resolve()}getNamedQuery(e,t){return Qt.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:MQ(a.bundledQuery),readTime:YA(a.readTime)}})(t)),Qt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(){this.overlays=new si(Ys.comparator),this.qr=new Map}getOverlay(e,t){return Qt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Hh();return Qt.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&n.set(a,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((a,o)=>{this.St(e,t,o)})),Qt.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Qt.resolve()}getOverlaysForCollection(e,t,n){const a=Hh(),o=t.length+1,A=new Ys(t.child("")),h=this.overlays.getIteratorFrom(A);for(;h.hasNext();){const u=h.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>n&&a.set(u.getKey(),u)}return Qt.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let o=new si(((f,c)=>f-c));const A=this.overlays.getIterator();for(;A.hasNext();){const f=A.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let c=o.get(f.largestBatchId);c===null&&(c=Hh(),o=o.insert(f.largestBatchId,c)),c.set(f.getKey(),f)}}const h=Hh(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,c)=>h.set(f,c))),!(h.size()>=a)););return Qt.resolve(h)}St(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const A=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new pQ(t,n));let o=this.qr.get(t);o===void 0&&(o=ar(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.sessionToken=Eo.EMPTY_BYTE_STRING}getSessionToken(e){return Qt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Qt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.Qr=new io(ho.$r),this.Ur=new io(ho.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ho(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new ho(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Ys(new ha([])),n=new ho(t,e),a=new ho(t,e+1),o=[];return this.Ur.forEachInRange([n,a],(A=>{this.Gr(A),o.push(A.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ys(new ha([])),n=new ho(t,e),a=new ho(t,e+1);let o=ar();return this.Ur.forEachInRange([n,a],(A=>{o=o.add(A.key)})),o}containsKey(e){const t=new ho(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ho{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ys.comparator(e.key,t.key)||rr(e.Yr,t.Yr)}static Kr(e,t){return rr(e.Yr,t.Yr)||Ys.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new io(ho.$r)}checkEmpty(e){return Qt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new mQ(o,t,n,a);this.mutationQueue.push(A);for(const h of a)this.Zr=this.Zr.add(new ho(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Qt.resolve(A)}lookupMutationBatch(e,t){return Qt.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.ei(n),o=a<0?0:a;return Qt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Qt.resolve(this.mutationQueue.length===0?Bw:this.tr-1)}getAllMutationBatches(e){return Qt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ho(t,0),a=new ho(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,a],(A=>{const h=this.Xr(A.Yr);o.push(h)})),Qt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new io(rr);return t.forEach((a=>{const o=new ho(a,0),A=new ho(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,A],(h=>{n=n.add(h.Yr)}))})),Qt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let o=n;Ys.isDocumentKey(o)||(o=o.child(""));const A=new ho(new Ys(o),0);let h=new io(rr);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!n.isPrefixOf(f)&&(f.length===a&&(h=h.add(u.Yr)),!0)}),A),Qt.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((n=>{const a=this.Xr(n);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Cr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Qt.forEach(t.mutations,(a=>{const o=new ho(a.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new ho(t,0),a=this.Zr.firstAfterOrEqual(n);return Qt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qt.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.ri=e,this.docs=(function(){return new si(Ys.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),o=a?a.size:0,A=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:A}),this.size+=A-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Qt.resolve(n?n.document.mutableCopy():il.newInvalidDocument(t))}getEntries(e,t){let n=Fu();return t.forEach((a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():il.newInvalidDocument(a))})),Qt.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let o=Fu();const A=t.path,h=new Ys(A.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(h);for(;u.hasNext();){const{key:f,value:{document:c}}=u.getNext();if(!A.isPrefixOf(f.path))break;f.path.length>A.length+1||E8(C8(c),n)<=0||(a.has(c.key)||Iv(t,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Qt.resolve(o)}getAllFromCollectionGroup(e,t,n,a){an(9500)}ii(e,t){return Qt.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new nO(this)}getSize(e){return Qt.resolve(this.size)}}class nO extends WQ{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(n)})),Qt.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.persistence=e,this.si=new uf((t=>Cw(t)),Ew),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.oi=0,this._i=new Uw,this.targetCount=0,this.ai=fm.ur()}forEachTarget(e,t){return this.si.forEach(((n,a)=>t(a))),Qt.resolve()}getLastRemoteSnapshotVersion(e){return Qt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Qt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Qt.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fm(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Qt.resolve()}updateTargetData(e,t){return this.Pr(t),Qt.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Qt.resolve()}removeTargets(e,t,n){let a=0;const o=[];return this.si.forEach(((A,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.si.delete(A),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),Qt.waitFor(o).next((()=>a))}getTargetCount(e){return Qt.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Qt.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Qt.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((A=>{o.push(a.markPotentiallyOrphaned(e,A))})),Qt.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Qt.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Qt.resolve(n)}containsKey(e,t){return Qt.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Nv(0),this.li=!1,this.li=!0,this.hi=new eO,this.referenceDelegate=e(this),this.Pi=new rO(this),this.indexManager=new HQ,this.remoteDocumentCache=(function(a){return new sO(a)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new PQ(t),this.Ii=new qQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZQ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new tO(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ns("MemoryPersistence","Starting transaction:",e);const a=new aO(this.ci.next());return this.referenceDelegate.Ei(),n(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return Qt.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class aO extends I8{constructor(e){super(),this.currentSequenceNumber=e}}class Dw{constructor(e){this.persistence=e,this.Ri=new Uw,this.Vi=null}static mi(e){return new Dw(e)}get fi(){if(this.Vi)return this.Vi;throw an(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Qt.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Qt.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Qt.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qt.forEach(this.fi,(n=>{const a=Ys.fromPath(n);return this.gi(e,a).next((o=>{o||t.removeEntry(a,gn.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Qt.or([()=>Qt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jx{constructor(e,t){this.persistence=e,this.pi=new uf((n=>U8(n.path)),((n,a)=>n.isEqual(a))),this.garbageCollector=YQ(this,t)}static mi(e,t){return new Jx(e,t)}Ei(){}di(e){return Qt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((a=>n+a))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return Qt.forEach(this.pi,((n,a)=>this.br(e,n,a).next((o=>o?Qt.resolve():t(a)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(A=>this.br(e,A,t).next((h=>{h||(n++,o.removeEntry(A,gn.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Qt.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Qt.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Qt.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Qt.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bx(e.data.value)),t}br(e,t,n){return Qt.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return Qt.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=a}static As(e,t){let n=ar(),a=ar();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Rw(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yU()?8:_8(Al())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,a){const o={result:null};return this.ys(e,t).next((A=>{o.result=A})).next((()=>{if(!o.result)return this.ws(e,t,a,n).next((A=>{o.result=A}))})).next((()=>{if(o.result)return;const A=new iO;return this.Ss(e,t,A).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,A,h.size)}))})).next((()=>o.result))}bs(e,t,n,a){return n.documentReadCount<this.fs?(zf()<=ur.DEBUG&&Ns("QueryEngine","SDK will not create cache indexes for query:",Gf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Qt.resolve()):(zf()<=ur.DEBUG&&Ns("QueryEngine","Query:",Gf(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(zf()<=ur.DEBUG&&Ns("QueryEngine","The SDK decides to create cache indexes for query:",Gf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$A(t))):Qt.resolve())}ys(e,t){if(u5(t))return Qt.resolve(null);let n=$A(t);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Yx(t,null,"F"),n=$A(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const A=ar(...o);return this.ps.getDocuments(e,A).next((h=>this.indexManager.getMinOffset(e,n).next((u=>{const f=this.Ds(t,h);return this.Cs(t,f,A,u.readTime)?this.ys(e,Yx(t,null,"F")):this.vs(e,f,t,u)}))))})))))}ws(e,t,n,a){return u5(t)||a.isEqual(gn.min())?Qt.resolve(null):this.ps.getDocuments(e,n).next((o=>{const A=this.Ds(t,o);return this.Cs(t,A,n,a)?Qt.resolve(null):(zf()<=ur.DEBUG&&Ns("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Gf(t)),this.vs(e,A,t,S8(a,ug)).next((h=>h)))}))}Ds(e,t){let n=new io(IE(e));return t.forEach(((a,o)=>{Iv(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,n){return zf()<=ur.DEBUG&&Ns("QueryEngine","Using full collection scan to execute query:",Gf(t)),this.ps.getDocumentsMatchingQuery(e,t,zd.min(),n)}vs(e,t,n,a){return this.ps.getDocumentsMatchingQuery(e,n,a).next((o=>(t.forEach((A=>{o=o.insert(A.key,A)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="LocalStore",lO=3e8;class cO{constructor(e,t,n,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new si(rr),this.xs=new uf((o=>Cw(o)),Ew),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JQ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function AO(s,e,t,n){return new cO(s,e,t,n)}async function eT(s,e){const t=mn(s);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const A=[],h=[];let u=ar();for(const f of a){A.push(f.batchId);for(const c of f.mutations)u=u.add(c.key)}for(const f of o){h.push(f.batchId);for(const c of f.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(n,u).next((f=>({Ls:f,removedBatchIds:A,addedBatchIds:h})))}))}))}function uO(s,e){const t=mn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,u,f,c){const m=f.batch,x=m.keys();let g=Qt.resolve();return x.forEach((w=>{g=g.next((()=>c.getEntry(u,w))).next((E=>{const B=f.docVersions.get(w);Cr(B!==null,48541),E.version.compareTo(B)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),c.addEntry(E)))}))})),g.next((()=>h.mutationQueue.removeMutationBatch(u,m)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let u=ar();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(u=u.add(h.batch.mutations[f].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(n,a)))}))}function tT(s){const e=mn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function dO(s,e){const t=mn(s),n=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const A=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((c,m)=>{const x=a.get(m);if(!x)return;h.push(t.Pi.removeMatchingKeys(o,c.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(o,c.addedDocuments,m))));let g=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Eo.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,n)),a=a.insert(m,g),(function(E,B,C){return E.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=lO?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(x,g,c)&&h.push(t.Pi.updateTargetData(o,g))}));let u=Fu(),f=ar();if(e.documentUpdates.forEach((c=>{e.resolvedLimboDocuments.has(c)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,c))})),h.push(hO(o,A,e.documentUpdates).next((c=>{u=c.ks,f=c.qs}))),!n.isEqual(gn.min())){const c=t.Pi.getLastRemoteSnapshotVersion(o).next((m=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));h.push(c)}return Qt.waitFor(h).next((()=>A.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,u,f))).next((()=>u))})).then((o=>(t.Ms=a,o)))}function hO(s,e,t){let n=ar(),a=ar();return t.forEach((o=>n=n.add(o))),e.getEntries(s,n).next((o=>{let A=Fu();return t.forEach(((h,u)=>{const f=o.get(h);u.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(h)),u.isNoDocument()&&u.version.isEqual(gn.min())?(e.removeEntry(h,u.readTime),A=A.insert(h,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),A=A.insert(h,u)):Ns(Lw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",u.version)})),{ks:A,qs:a}}))}function fO(s,e){const t=mn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Bw),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function mO(s,e){const t=mn(s);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return t.Pi.getTargetData(n,e).next((o=>o?(a=o,Qt.resolve(a)):t.Pi.allocateTargetId(n).next((A=>(a=new _d(e,A,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=t.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function hb(s,e,t){const n=mn(s),a=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(A=>n.persistence.referenceDelegate.removeTarget(A,a)))}catch(A){if(!Tm(A))throw A;Ns(Lw,`Failed to update sequence numbers for target ${e}: ${A}`)}n.Ms=n.Ms.remove(e),n.xs.delete(a.target)}function B5(s,e,t){const n=mn(s);let a=gn.min(),o=ar();return n.persistence.runTransaction("Execute query","readwrite",(A=>(function(u,f,c){const m=mn(u),x=m.xs.get(c);return x!==void 0?Qt.resolve(m.Ms.get(x)):m.Pi.getTargetData(f,c)})(n,A,$A(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(A,h.targetId).next((u=>{o=u}))})).next((()=>n.Fs.getDocumentsMatchingQuery(A,e,t?a:gn.min(),t?o:ar()))).next((h=>(pO(n,Z8(e),h),{documents:h,Qs:o})))))}function pO(s,e,t){let n=s.Os.get(e)||gn.min();t.forEach(((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),s.Os.set(e,n)}class N5{constructor(){this.activeTargetIds=aQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gO{constructor(){this.Mo=new N5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N5,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="ConnectivityMonitor";class C5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ns(S5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ns(S5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J0=null;function fb(){return J0===null?J0=(function(){return 268435456+Math.round(2147483648*Math.random())})():J0++,"0x"+J0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="RestConnection",vO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===zx?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(e,t,n,a,o){const A=fb(),h=this.zo(e,t.toUriEncodedString());Ns($y,`Sending RPC '${e}' ${A}:`,h,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,o);const{host:f}=new URL(h),c=eh(f);return this.Jo(e,h,u,n,c).then((m=>(Ns($y,`Received RPC '${e}' ${A}: `,m),m)),(m=>{throw Am($y,`RPC '${e}' ${A} failed with error: `,m,"url: ",h,"request:",n),m}))}Ho(e,t,n,a,o,A){return this.Go(e,t,n,a,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),n&&n.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const n=vO[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="WebChannelConnection";class wO extends yO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,a,o){const A=fb();return new Promise(((h,u)=>{const f=new sE;f.setWithCredentials(!0),f.listenOnce(nE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case yx.NO_ERROR:const m=f.getResponseJson();Ns(el,`XHR for RPC '${e}' ${A} received:`,JSON.stringify(m)),h(m);break;case yx.TIMEOUT:Ns(el,`RPC '${e}' ${A} timed out`),u(new ms(_t.DEADLINE_EXCEEDED,"Request time out"));break;case yx.HTTP_ERROR:const x=f.getStatus();if(Ns(el,`RPC '${e}' ${A} failed with status:`,x,"response text:",f.getResponseText()),x>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const E=(function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(T)>=0?T:_t.UNKNOWN})(w.status);u(new ms(E,w.message))}else u(new ms(_t.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ms(_t.UNAVAILABLE,"Connection failed."));break;default:an(9055,{l_:e,streamId:A,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ns(el,`RPC '${e}' ${A} completed.`)}}));const c=JSON.stringify(a);Ns(el,`RPC '${e}' ${A} sending request:`,a),f.send(t,"POST",c,n,15)}))}T_(e,t,n){const a=fb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=iE(),h=aE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const c=o.join("");Ns(el,`Creating RPC '${e}' stream ${a}: ${c}`,u);const m=A.createWebChannel(c,u);this.I_(m);let x=!1,g=!1;const w=new bO({Yo:B=>{g?Ns(el,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(x||(Ns(el,`Opening RPC '${e}' stream ${a} transport.`),m.open(),x=!0),Ns(el,`RPC '${e}' stream ${a} sending:`,B),m.send(B))},Zo:()=>m.close()}),E=(B,C,T)=>{B.listen(C,(F=>{try{T(F)}catch(L){setTimeout((()=>{throw L}),0)}}))};return E(m,Lp.EventType.OPEN,(()=>{g||(Ns(el,`RPC '${e}' stream ${a} transport opened.`),w.o_())})),E(m,Lp.EventType.CLOSE,(()=>{g||(g=!0,Ns(el,`RPC '${e}' stream ${a} transport closed`),w.a_(),this.E_(m))})),E(m,Lp.EventType.ERROR,(B=>{g||(g=!0,Am(el,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),w.a_(new ms(_t.UNAVAILABLE,"The operation could not be completed")))})),E(m,Lp.EventType.MESSAGE,(B=>{var C;if(!g){const T=B.data[0];Cr(!!T,16349);const F=T,L=(F==null?void 0:F.error)||((C=F[0])==null?void 0:C.error);if(L){Ns(el,`RPC '${e}' stream ${a} received error:`,L);const k=L.status;let M=(function(R){const V=Mi[R];if(V!==void 0)return ME(V)})(k),Q=L.message;M===void 0&&(M=_t.INTERNAL,Q="Unknown error status: "+k+" with message "+L.message),g=!0,w.a_(new ms(M,Q)),m.close()}else Ns(el,`RPC '${e}' stream ${a} received:`,T),w.u_(T)}})),E(h,rE.STAT_EVENT,(B=>{B.stat===sb.PROXY?Ns(el,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===sb.NOPROXY&&Ns(el,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(s){return new SQ(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t,n=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-n);a>0&&Ns("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="PersistentStream";class nT{constructor(e,t,n,a,o,A,h,u){this.Mi=e,this.S_=n,this.b_=a,this.connection=o,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=h,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===_t.RESOURCE_EXHAUSTED?(_u(t.toString()),_u("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.D_===t&&this.G_(n,a)}),(n=>{e((()=>{const a=new ms(_t.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{n((()=>this.z_(a)))})),this.stream.onMessage((a=>{n((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ns(E5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ns(E5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jO extends nT{constructor(e,t,n,a,o,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,A),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TQ(this.serializer,e),n=(function(o){if(!("targetChange"in o))return gn.min();const A=o.targetChange;return A.targetIds&&A.targetIds.length?gn.min():A.readTime?YA(A.readTime):gn.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=db(this.serializer),t.addTarget=(function(o,A){let h;const u=A.target;if(h=ob(u)?{documents:FQ(o,u)}:{query:YE(o,u).ft},h.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){h.resumeToken=KE(o,A.resumeToken);const f=cb(o,A.expectedCount);f!==null&&(h.expectedCount=f)}else if(A.snapshotVersion.compareTo(gn.min())>0){h.readTime=Xx(o,A.snapshotVersion.toTimestamp());const f=cb(o,A.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const n=RQ(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=db(this.serializer),t.removeTarget=e,this.q_(t)}}class BO extends nT{constructor(e,t,n,a,o,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,A),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Cr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Cr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=_Q(e.writeResults,e.commitTime),n=YA(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=db(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>IQ(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{}class SO extends NO{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ms(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,A])=>this.connection.Go(e,Ab(t,n),a,o,A))).catch((o=>{throw o.name==="FirebaseError"?(o.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ms(_t.UNKNOWN,o.toString())}))}Ho(e,t,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([A,h])=>this.connection.Ho(e,Ab(t,n),a,A,h,o))).catch((A=>{throw A.name==="FirebaseError"?(A.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new ms(_t.UNKNOWN,A.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_u(t),this.aa=!1):Ns("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="RemoteStore";class EO{constructor(e,t,n,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((A=>{n.enqueueAndForget((async()=>{df(this)&&(Ns(nf,"Restarting streams for network reachability change."),await(async function(u){const f=mn(u);f.Ea.add(4),await Qg(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Lv(f)})(this))}))})),this.Ra=new CO(n,a)}}async function Lv(s){if(df(s))for(const e of s.da)await e(!0)}async function Qg(s){for(const e of s.da)await e(!1)}function rT(s,e){const t=mn(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Pw(t)?kw(t):_m(t).O_()&&Ow(t,e))}function Qw(s,e){const t=mn(s),n=_m(t);t.Ia.delete(e),n.O_()&&aT(t,e),t.Ia.size===0&&(n.O_()?n.L_():df(t)&&t.Ra.set("Unknown"))}function Ow(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gn.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_m(s).Y_(e)}function aT(s,e){s.Va.Ue(e),_m(s).Z_(e)}function kw(s){s.Va=new wQ({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),_m(s).start(),s.Ra.ua()}function Pw(s){return df(s)&&!_m(s).x_()&&s.Ia.size>0}function df(s){return mn(s).Ea.size===0}function iT(s){s.Va=void 0}async function TO(s){s.Ra.set("Online")}async function IO(s){s.Ia.forEach(((e,t)=>{Ow(s,e)}))}async function _O(s,e){iT(s),Pw(s)?(s.Ra.ha(e),kw(s)):s.Ra.set("Unknown")}async function FO(s,e,t){if(s.Ra.set("Online"),e instanceof VE&&e.state===2&&e.cause)try{await(async function(a,o){const A=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,A),a.Ia.delete(h),a.Va.removeTarget(h))})(s,e)}catch(n){Ns(nf,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await qx(s,n)}else if(e instanceof Bx?s.Va.Ze(e):e instanceof HE?s.Va.st(e):s.Va.tt(e),!t.isEqual(gn.min()))try{const n=await tT(s.localStore);t.compareTo(n)>=0&&await(function(o,A){const h=o.Va.Tt(A);return h.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.Ia.get(f);c&&o.Ia.set(f,c.withResumeToken(u.resumeToken,A))}})),h.targetMismatches.forEach(((u,f)=>{const c=o.Ia.get(u);if(!c)return;o.Ia.set(u,c.withResumeToken(Eo.EMPTY_BYTE_STRING,c.snapshotVersion)),aT(o,u);const m=new _d(c.target,u,f,c.sequenceNumber);Ow(o,m)})),o.remoteSyncer.applyRemoteEvent(h)})(s,t)}catch(n){Ns(nf,"Failed to raise snapshot:",n),await qx(s,n)}}async function qx(s,e,t){if(!Tm(e))throw e;s.Ea.add(1),await Qg(s),s.Ra.set("Offline"),t||(t=()=>tT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{Ns(nf,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await Lv(s)}))}function oT(s,e){return e().catch((t=>qx(s,t,e)))}async function Qv(s){const e=mn(s),t=Wd(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bw;for(;UO(e);)try{const a=await fO(e.localStore,n);if(a===null){e.Ta.length===0&&t.L_();break}n=a.batchId,DO(e,a)}catch(a){await qx(e,a)}lT(e)&&cT(e)}function UO(s){return df(s)&&s.Ta.length<10}function DO(s,e){s.Ta.push(e);const t=Wd(s);t.O_()&&t.X_&&t.ea(e.mutations)}function lT(s){return df(s)&&!Wd(s).x_()&&s.Ta.length>0}function cT(s){Wd(s).start()}async function RO(s){Wd(s).ra()}async function LO(s){const e=Wd(s);for(const t of s.Ta)e.ea(t.mutations)}async function QO(s,e,t){const n=s.Ta.shift(),a=Iw.from(n,e,t);await oT(s,(()=>s.remoteSyncer.applySuccessfulWrite(a))),await Qv(s)}async function OO(s,e){e&&Wd(s).X_&&await(async function(n,a){if((function(A){return vQ(A)&&A!==_t.ABORTED})(a.code)){const o=n.Ta.shift();Wd(n).B_(),await oT(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Qv(n)}})(s,e),lT(s)&&cT(s)}async function T5(s,e){const t=mn(s);t.asyncQueue.verifyOperationInProgress(),Ns(nf,"RemoteStore received new credentials");const n=df(t);t.Ea.add(3),await Qg(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lv(t)}async function kO(s,e){const t=mn(s);e?(t.Ea.delete(2),await Lv(t)):e||(t.Ea.add(2),await Qg(t),t.Ra.set("Unknown"))}function _m(s){return s.ma||(s.ma=(function(t,n,a){const o=mn(t);return o.sa(),new jO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(s.datastore,s.asyncQueue,{Xo:TO.bind(null,s),t_:IO.bind(null,s),r_:_O.bind(null,s),H_:FO.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Pw(s)?kw(s):s.Ra.set("Unknown")):(await s.ma.stop(),iT(s))}))),s.ma}function Wd(s){return s.fa||(s.fa=(function(t,n,a){const o=mn(t);return o.sa(),new BO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:RO.bind(null,s),r_:OO.bind(null,s),ta:LO.bind(null,s),na:QO.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Qv(s)):(await s.fa.stop(),s.Ta.length>0&&(Ns(nf,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t,n,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new GA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((A=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,o){const A=Date.now()+n,h=new Mw(e,t,A,a,o);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ms(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hw(s,e){if(_u("AsyncQueue",`${e}: ${s}`),Tm(s))return new ms(_t.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static emptySet(e){return new am(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ys.comparator(t.key,n.key):(t,n)=>Ys.comparator(t.key,n.key),this.keyedMap=Qp(),this.sortedSet=new si(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof am)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new am;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.ga=new si(Ys.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):an(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class mm{constructor(e,t,n,a,o,A,h,u,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=A,this.syncStateChanged=h,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,a,o){const A=[];return t.forEach((h=>{A.push({type:0,doc:h})})),new mm(e,t,am.emptySet(t),A,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MO{constructor(){this.queries=_5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const a=mn(t),o=a.queries;a.queries=_5(),o.forEach(((A,h)=>{for(const u of h.Sa)u.onError(n)}))})(this,new ms(_t.ABORTED,"Firestore shutting down"))}}function _5(){return new uf((s=>TE(s)),Tv)}async function Vw(s,e){const t=mn(s);let n=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(n=2):(o=new PO,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(A){const h=Hw(A,`Initialization of query '${Gf(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&zw(t)}async function Kw(s,e){const t=mn(s),n=e.query;let a=3;const o=t.queries.get(n);if(o){const A=o.Sa.indexOf(e);A>=0&&(o.Sa.splice(A,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function HO(s,e){const t=mn(s);let n=!1;for(const a of e){const o=a.query,A=t.queries.get(o);if(A){for(const h of A.Sa)h.Fa(a)&&(n=!0);A.wa=a}}n&&zw(t)}function VO(s,e,t){const n=mn(s),a=n.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);n.queries.delete(e)}function zw(s){s.Ca.forEach((e=>{e.next()}))}var mb,F5;(F5=mb||(mb={})).Ma="default",F5.Cache="cache";class Gw{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new mm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.key=e}}class uT{constructor(e){this.key=e}}class KO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ar(),this.mutatedKeys=ar(),this.eu=IE(e),this.tu=new am(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new I5,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,A=a,h=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((c,m)=>{const x=a.get(c),g=Iv(this.query,m)?m:null,w=!!x&&this.mutatedKeys.has(x.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let B=!1;x&&g?x.data.isEqual(g.data)?w!==E&&(n.track({type:3,doc:g}),B=!0):this.su(x,g)||(n.track({type:2,doc:g}),B=!0,(u&&this.eu(g,u)>0||f&&this.eu(g,f)<0)&&(h=!0)):!x&&g?(n.track({type:0,doc:g}),B=!0):x&&!g&&(n.track({type:1,doc:x}),B=!0,(u||f)&&(h=!0)),B&&(g?(A=A.add(g),o=E?o.add(c):o.delete(c)):(A=A.delete(c),o=o.delete(c)))})),this.query.limit!==null)for(;A.size>this.query.limit;){const c=this.query.limitType==="F"?A.last():A.first();A=A.delete(c.key),o=o.delete(c.key),n.track({type:1,doc:c})}return{tu:A,iu:n,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const A=e.iu.ya();A.sort(((c,m)=>(function(g,w){const E=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return an(20277,{Rt:B})}};return E(g)-E(w)})(c.type,m.type)||this.eu(c.doc,m.doc))),this.ou(n),a=a??!1;const h=t&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,f=u!==this.Za;return this.Za=u,A.length!==0||f?{snapshot:new mm(this.query,e.tu,o,A,e.mutatedKeys,u===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ar(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new uT(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new AT(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=ar();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return mm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $w="SyncEngine";class zO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class GO{constructor(e){this.key=e,this.hu=!1}}class $O{constructor(e,t,n,a,o,A){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=A,this.Pu={},this.Tu=new uf((h=>TE(h)),Tv),this.Iu=new Map,this.Eu=new Set,this.du=new si(Ys.comparator),this.Au=new Map,this.Ru=new Uw,this.Vu={},this.mu=new Map,this.fu=fm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YO(s,e,t=!0){const n=gT(s);let a;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await dT(n,e,t,!0),a}async function WO(s,e){const t=gT(s);await dT(t,e,!0,!1)}async function dT(s,e,t,n){const a=await mO(s.localStore,$A(e)),o=a.targetId,A=s.sharedClientState.addLocalQueryTarget(o,t);let h;return n&&(h=await XO(s,e,o,A==="current",a.resumeToken)),s.isPrimaryClient&&t&&rT(s.remoteStore,a),h}async function XO(s,e,t,n,a){s.pu=(m,x,g)=>(async function(E,B,C,T){let F=B.view.ru(C);F.Cs&&(F=await B5(E.localStore,B.query,!1).then((({documents:Q})=>B.view.ru(Q,F))));const L=T&&T.targetChanges.get(B.targetId),k=T&&T.targetMismatches.get(B.targetId)!=null,M=B.view.applyChanges(F,E.isPrimaryClient,L,k);return D5(E,B.targetId,M.au),M.snapshot})(s,m,x,g);const o=await B5(s.localStore,e,!0),A=new KO(e,o.Qs),h=A.ru(o.documents),u=Lg.createSynthesizedTargetChangeForCurrentChange(t,n&&s.onlineState!=="Offline",a),f=A.applyChanges(h,s.isPrimaryClient,u);D5(s,t,f.au);const c=new zO(e,t,A);return s.Tu.set(e,c),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),f.snapshot}async function JO(s,e,t){const n=mn(s),a=n.Tu.get(e),o=n.Iu.get(a.targetId);if(o.length>1)return n.Iu.set(a.targetId,o.filter((A=>!Tv(A,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await hb(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),t&&Qw(n.remoteStore,a.targetId),pb(n,a.targetId)})).catch(Em)):(pb(n,a.targetId),await hb(n.localStore,a.targetId,!0))}async function qO(s,e){const t=mn(s),n=t.Tu.get(e),a=t.Iu.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Qw(t.remoteStore,n.targetId))}async function ZO(s,e,t){const n=ik(s);try{const a=await(function(A,h){const u=mn(A),f=Jn.now(),c=h.reduce(((g,w)=>g.add(w.key)),ar());let m,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let w=Fu(),E=ar();return u.Ns.getEntries(g,c).next((B=>{w=B,w.forEach(((C,T)=>{T.isValidDocument()||(E=E.add(C))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,w))).next((B=>{m=B;const C=[];for(const T of h){const F=hQ(T,m.get(T.key).overlayedDocument);F!=null&&C.push(new nh(T.key,F,yE(F.value.mapValue),Bl.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,C,h)})).next((B=>{x=B;const C=B.applyToLocalDocumentSet(m,E);return u.documentOverlayCache.saveOverlays(g,B.batchId,C)}))})).then((()=>({batchId:x.batchId,changes:FE(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(A,h,u){let f=A.Vu[A.currentUser.toKey()];f||(f=new si(rr)),f=f.insert(h,u),A.Vu[A.currentUser.toKey()]=f})(n,a.batchId,t),await Og(n,a.changes),await Qv(n.remoteStore)}catch(a){const o=Hw(a,"Failed to persist write");t.reject(o)}}async function hT(s,e){const t=mn(s);try{const n=await dO(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const A=t.Au.get(o);A&&(Cr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?A.hu=!0:a.modifiedDocuments.size>0?Cr(A.hu,14607):a.removedDocuments.size>0&&(Cr(A.hu,42227),A.hu=!1))})),await Og(t,n,e)}catch(n){await Em(n)}}function U5(s,e,t){const n=mn(s);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.Tu.forEach(((o,A)=>{const h=A.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(A,h){const u=mn(A);u.onlineState=h;let f=!1;u.queries.forEach(((c,m)=>{for(const x of m.Sa)x.va(h)&&(f=!0)})),f&&zw(u)})(n.eventManager,e),a.length&&n.Pu.H_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ek(s,e,t){const n=mn(s);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Au.get(e),o=a&&a.key;if(o){let A=new si(Ys.comparator);A=A.insert(o,il.newNoDocument(o,gn.min()));const h=ar().add(o),u=new Dv(gn.min(),new Map,new si(rr),A,h);await hT(n,u),n.du=n.du.remove(o),n.Au.delete(e),Yw(n)}else await hb(n.localStore,e,!1).then((()=>pb(n,e,t))).catch(Em)}async function tk(s,e){const t=mn(s),n=e.batch.batchId;try{const a=await uO(t.localStore,e);mT(t,n,null),fT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Og(t,a)}catch(a){await Em(a)}}async function sk(s,e,t){const n=mn(s);try{const a=await(function(A,h){const u=mn(A);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let c;return u.mutationQueue.lookupMutationBatch(f,h).next((m=>(Cr(m!==null,37113),c=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,c,h))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,c))).next((()=>u.localDocuments.getDocuments(f,c)))}))})(n.localStore,e);mT(n,e,t),fT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Og(n,a)}catch(a){await Em(a)}}function fT(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function mT(s,e,t){const n=mn(s);let a=n.Vu[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),n.Vu[n.currentUser.toKey()]=a}}function pb(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const n of s.Iu.get(e))s.Tu.delete(n),t&&s.Pu.yu(n,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((n=>{s.Ru.containsKey(n)||pT(s,n)}))}function pT(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(Qw(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),Yw(s))}function D5(s,e,t){for(const n of t)n instanceof AT?(s.Ru.addReference(n.key,e),nk(s,n)):n instanceof uT?(Ns($w,"Document no longer in limbo: "+n.key),s.Ru.removeReference(n.key,e),s.Ru.containsKey(n.key)||pT(s,n.key)):an(19791,{wu:n})}function nk(s,e){const t=e.key,n=t.path.canonicalString();s.du.get(t)||s.Eu.has(n)||(Ns($w,"New document in limbo: "+t),s.Eu.add(n),Yw(s))}function Yw(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new Ys(ha.fromString(e)),n=s.fu.next();s.Au.set(n,new GO(t)),s.du=s.du.insert(t,n),rT(s.remoteStore,new _d($A(Ev(t.path)),n,"TargetPurposeLimboResolution",Nv.ce))}}async function Og(s,e,t){const n=mn(s),a=[],o=[],A=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,u)=>{A.push(n.pu(u,e,t).then((f=>{var c;if((f||t)&&n.isPrimaryClient){const m=f?!f.fromCache:(c=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){a.push(f);const m=Rw.As(u.targetId,f);o.push(m)}})))})),await Promise.all(A),n.Pu.H_(a),await(async function(u,f){const c=mn(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Qt.forEach(f,(x=>Qt.forEach(x.Es,(g=>c.persistence.referenceDelegate.addReference(m,x.targetId,g))).next((()=>Qt.forEach(x.ds,(g=>c.persistence.referenceDelegate.removeReference(m,x.targetId,g)))))))))}catch(m){if(!Tm(m))throw m;Ns(Lw,"Failed to update sequence numbers: "+m)}for(const m of f){const x=m.targetId;if(!m.fromCache){const g=c.Ms.get(x),w=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(w);c.Ms=c.Ms.insert(x,E)}}})(n.localStore,o))}async function rk(s,e){const t=mn(s);if(!t.currentUser.isEqual(e)){Ns($w,"User change. New user:",e.toKey());const n=await eT(t.localStore,e);t.currentUser=e,(function(o,A){o.mu.forEach((h=>{h.forEach((u=>{u.reject(new ms(_t.CANCELLED,A))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Og(t,n.Ls)}}function ak(s,e){const t=mn(s),n=t.Au.get(e);if(n&&n.hu)return ar().add(n.key);{let a=ar();const o=t.Iu.get(e);if(!o)return a;for(const A of o){const h=t.Tu.get(A);a=a.unionWith(h.view.nu)}return a}}function gT(s){const e=mn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ek.bind(null,e),e.Pu.H_=HO.bind(null,e.eventManager),e.Pu.yu=VO.bind(null,e.eventManager),e}function ik(s){const e=mn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sk.bind(null,e),e}class Zx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return AO(this.persistence,new oO,e.initialUser,this.serializer)}Cu(e){return new ZE(Dw.mi,this.serializer)}Du(e){return new gO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zx.provider={build:()=>new Zx};class ok extends Zx{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Cr(this.persistence.referenceDelegate instanceof Jx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new GQ(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ml.withCacheSize(this.cacheSizeBytes):Ml.DEFAULT;return new ZE((n=>Jx.mi(n,t)),this.serializer)}}class gb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>U5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=rk.bind(null,this.syncEngine),await kO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MO})()}createDatastore(e){const t=Rv(e.databaseInfo.databaseId),n=(function(o){return new wO(o)})(e.databaseInfo);return(function(o,A,h,u){return new SO(o,A,h,u)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,a,o,A,h){return new EO(n,a,o,A,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>U5(this.syncEngine,t,0)),(function(){return C5.v()?new C5:new xO})())}createSyncEngine(e,t){return(function(a,o,A,h,u,f,c){const m=new $O(a,o,A,h,u,f);return c&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const o=mn(a);Ns(nf,"RemoteStore shutting down."),o.Ea.add(5),await Qg(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}gb.provider={build:()=>new gb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_u("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="FirestoreClient";class lk{constructor(e,t,n,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=al.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async A=>{Ns(Xd,"Received user=",A.uid),await this.authCredentialListener(A),this.user=A})),this.appCheckCredentials.start(n,(A=>(Ns(Xd,"Received new app check token=",A),this.appCheckCredentialListener(A,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new GA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Wy(s,e){s.asyncQueue.verifyOperationInProgress(),Ns(Xd,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let n=t.initialUser;s.setCredentialChangeListener((async a=>{n.isEqual(a)||(await eT(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function R5(s,e){s.asyncQueue.verifyOperationInProgress();const t=await ck(s);Ns(Xd,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((n=>T5(e.remoteStore,n))),s.setAppCheckTokenChangeListener(((n,a)=>T5(e.remoteStore,a))),s._onlineComponents=e}async function ck(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Ns(Xd,"Using user provided OfflineComponentProvider");try{await Wy(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===_t.FAILED_PRECONDITION||a.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Am("Error using user provided cache. Falling back to memory cache: "+t),await Wy(s,new Zx)}}else Ns(Xd,"Using default OfflineComponentProvider"),await Wy(s,new ok(void 0));return s._offlineComponents}async function Xw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Ns(Xd,"Using user provided OnlineComponentProvider"),await R5(s,s._uninitializedComponentsProvider._online)):(Ns(Xd,"Using default OnlineComponentProvider"),await R5(s,new gb))),s._onlineComponents}function Ak(s){return Xw(s).then((e=>e.syncEngine))}function uk(s){return Xw(s).then((e=>e.datastore))}async function ev(s){const e=await Xw(s),t=e.eventManager;return t.onListen=YO.bind(null,e.syncEngine),t.onUnlisten=JO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qO.bind(null,e.syncEngine),t}function dk(s,e,t={}){const n=new GA;return s.asyncQueue.enqueueAndForget((async()=>(function(o,A,h,u,f){const c=new Ww({next:x=>{c.Nu(),A.enqueueAndForget((()=>Kw(o,m)));const g=x.docs.has(h);!g&&x.fromCache?f.reject(new ms(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&x.fromCache&&u&&u.source==="server"?f.reject(new ms(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new Gw(Ev(h.path),c,{includeMetadataChanges:!0,qa:!0});return Vw(o,m)})(await ev(s),s.asyncQueue,e,t,n))),n.promise}function hk(s,e,t={}){const n=new GA;return s.asyncQueue.enqueueAndForget((async()=>(function(o,A,h,u,f){const c=new Ww({next:x=>{c.Nu(),A.enqueueAndForget((()=>Kw(o,m))),x.fromCache&&u.source==="server"?f.reject(new ms(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new Gw(h,c,{includeMetadataChanges:!0,qa:!0});return Vw(o,m)})(await ev(s),s.asyncQueue,e,t,n))),n.promise}function fk(s,e,t){const n=new GA;return s.asyncQueue.enqueueAndForget((async()=>{try{const a=await uk(s);n.resolve((async function(A,h,u){var E;const f=mn(A),{request:c,gt:m,parent:x}=UQ(f.serializer,q8(h),u);f.connection.$o||delete c.parent;const g=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,x,c,1)).filter((B=>!!B.result));Cr(g.length===1,64727);const w=(E=g[0].result)==null?void 0:E.aggregateFields;return Object.keys(w).reduce(((B,C)=>(B[m[C]]=w[C],B)),{})})(a,e,t))}catch(a){n.reject(a)}})),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firestore.googleapis.com",Q5=!0;class O5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ms(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=Q5}else this.host=e.host,this.ssl=e.ssl??Q5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KQ)throw new ms(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ms(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ms(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ms(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ov{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ms(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ms(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new f8;switch(n.type){case"firstParty":return new x8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ms(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=L5.get(t);n&&(Ns("ComponentProvider","Removing Datastore"),L5.delete(t),n.terminate())})(this),Promise.resolve()}}function mk(s,e,t,n={}){var f;s=ll(s,Ov);const a=eh(e),o=s._getSettings(),A={...o,emulatorOptions:s._getEmulatorOptions()},h=`${e}:${t}`;a&&(Aw(`https://${h}`),uw("Firestore",!0)),o.host!==vT&&o.host!==h&&Am("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:h,ssl:a,emulatorOptions:n};if(!ef(u,A)&&(s._setSettings(u),n.mockUserToken)){let c,m;if(typeof n.mockUserToken=="string")c=n.mockUserToken,m=al.MOCK_USER;else{c=uU(n.mockUserToken,(f=s._app)==null?void 0:f.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new ms(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new al(x)}s._authCredentials=new m8(new lE(c,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class di{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Md(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new di(this.firestore,e,this._key)}toJSON(){return{type:di._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Dg(t,di._jsonSchema))return new di(e,n||null,new Ys(ha.fromString(t.referencePath)))}}di._jsonSchemaVersion="firestore/documentReference/1.0",di._jsonSchema={type:zi("string",di._jsonSchemaVersion),referencePath:zi("string")};class Md extends Lu{constructor(e,t,n){super(e,t,Ev(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new di(this.firestore,null,new Ys(e))}withConverter(e){return new Md(this.firestore,e,this._path)}}function Fs(s,e,...t){if(s=Ka(s),cE("collection","path",e),s instanceof Ov){const n=ha.fromString(e,...t);return JB(n),new Md(s,null,n)}{if(!(s instanceof di||s instanceof Md))throw new ms(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(ha.fromString(e,...t));return JB(n),new Md(s.firestore,null,n)}}function Qs(s,e,...t){if(s=Ka(s),arguments.length===1&&(e=jw.newId()),cE("doc","path",e),s instanceof Ov){const n=ha.fromString(e,...t);return XB(n),new di(s,null,new Ys(n))}{if(!(s instanceof di||s instanceof Md))throw new ms(_t.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=s._path.child(ha.fromString(e,...t));return XB(n),new di(s.firestore,s instanceof Md?s.converter:null,new Ys(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="AsyncQueue";class P5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const n=Yy();n&&Ns(k5,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Yy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Yy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new GA;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tm(e))throw e;Ns(k5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,_u("INTERNAL UNHANDLED ERROR: ",M5(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Mw.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&an(47125,{Pc:M5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function M5(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(s){return(function(t,n){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of n)if(o in a&&typeof a[o]=="function")return!0;return!1})(s,["next","error","complete"])}class uA extends Ov{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new P5,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P5(e),this._firestoreClient=void 0,await e}}}function pk(s,e){const t=typeof s=="object"?s:hw(),n=typeof s=="string"?s:zx,a=vv(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const o=f4("firestore");o&&mk(a,...o)}return a}function Fm(s){if(s._terminated)throw new ms(_t.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gk(s),s._firestoreClient}function gk(s){var n,a,o;const e=s._freezeSettings(),t=(function(h,u,f,c){return new Q8(h,u,f,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xT(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(s._databaseId,((n=s._app)==null?void 0:n.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new lk(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(h){const u=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class vk{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _c(Eo.fromBase64String(e))}catch(t){throw new ms(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _c(Eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_c._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dg(e,_c._jsonSchema))return _c.fromBase64String(e.bytes)}}_c._jsonSchemaVersion="firestore/bytes/1.0",_c._jsonSchema={type:zi("string",_c._jsonSchemaVersion),bytes:zi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ms(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new So(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ms(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ms(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:WA._jsonSchemaVersion}}static fromJSON(e){if(Dg(e,WA._jsonSchema))return new WA(e.latitude,e.longitude)}}WA._jsonSchemaVersion="firestore/geoPoint/1.0",WA._jsonSchema={type:zi("string",WA._jsonSchemaVersion),latitude:zi("number"),longitude:zi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:XA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dg(e,XA._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new XA(e.vectorValues);throw new ms(_t.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}XA._jsonSchemaVersion="firestore/vectorValue/1.0",XA._jsonSchema={type:zi("string",XA._jsonSchemaVersion),vectorValues:zi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class bk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new nh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rg(e,this.data,t,this.fieldTransforms)}}class yT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new nh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw an(40011,{Ac:s})}}class Jw{constructor(e,t,n,a,o,A){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bT(this.Ac)&&yk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rv(e)}Cc(e,t,n,a=!1){return new Jw({Ac:e,methodName:t,Dc:n,path:So.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(s){const e=s._freezeSettings(),t=Rv(s._databaseId);return new wk(s._databaseId,!!e.ignoreUndefinedProperties,t)}function qw(s,e,t,n,a,o={}){const A=s.Cc(o.merge||o.mergeFields?2:0,e,t,a);e2("Data must be an object, but it was:",A,n);const h=BT(n,A);let u,f;if(o.merge)u=new lc(A.fieldMask),f=A.fieldTransforms;else if(o.mergeFields){const c=[];for(const m of o.mergeFields){const x=xb(e,m,t);if(!A.contains(x))throw new ms(_t.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ST(c,x)||c.push(x)}u=new lc(c),f=A.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=A.fieldTransforms;return new bk(new Hl(h),u,f)}class Pv extends kv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pv}}class Zw extends kv{_toFieldTransform(e){return new cQ(e.path,new pg)}isEqual(e){return e instanceof Zw}}function wT(s,e,t,n){const a=s.Cc(1,e,t);e2("Data must be an object, but it was:",a,n);const o=[],A=Hl.empty();sh(n,((u,f)=>{const c=t2(e,u,t);f=Ka(f);const m=a.yc(c);if(f instanceof Pv)o.push(c);else{const x=Mg(f,m);x!=null&&(o.push(c),A.set(c,x))}}));const h=new lc(o);return new yT(A,h,a.fieldTransforms)}function jT(s,e,t,n,a,o){const A=s.Cc(1,e,t),h=[xb(e,n,t)],u=[a];if(o.length%2!=0)throw new ms(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(xb(e,o[x])),u.push(o[x+1]);const f=[],c=Hl.empty();for(let x=h.length-1;x>=0;--x)if(!ST(f,h[x])){const g=h[x];let w=u[x];w=Ka(w);const E=A.yc(g);if(w instanceof Pv)f.push(g);else{const B=Mg(w,E);B!=null&&(f.push(g),c.set(g,B))}}const m=new lc(f);return new yT(c,m,A.fieldTransforms)}function jk(s,e,t,n=!1){return Mg(t,s.Cc(n?4:3,e))}function Mg(s,e){if(NT(s=Ka(s)))return e2("Unsupported field value:",e,s),BT(s,e);if(s instanceof kv)return(function(n,a){if(!bT(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,a){const o=[];let A=0;for(const h of n){let u=Mg(h,a.wc(A));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),A++}return{arrayValue:{values:o}}})(s,e)}return(function(n,a){if((n=Ka(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iQ(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Jn.fromDate(n);return{timestampValue:Xx(a.serializer,o)}}if(n instanceof Jn){const o=new Jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xx(a.serializer,o)}}if(n instanceof WA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _c)return{bytesValue:KE(a.serializer,n._byteString)};if(n instanceof di){const o=a.databaseId,A=n.firestore._databaseId;if(!A.isEqual(o))throw a.Sc(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fw(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof XA)return(function(A,h){return{mapValue:{fields:{[xE]:{stringValue:vE},[Gx]:{arrayValue:{values:A.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return Tw(h.serializer,f)}))}}}}}})(n,a);throw a.Sc(`Unsupported field value: ${Bv(n)}`)})(s,e)}function BT(s,e){const t={};return dE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sh(s,((n,a)=>{const o=Mg(a,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function NT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Jn||s instanceof WA||s instanceof _c||s instanceof di||s instanceof kv||s instanceof XA)}function e2(s,e,t){if(!NT(t)||!AE(t)){const n=Bv(t);throw n==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+n)}}function xb(s,e,t){if((e=Ka(e))instanceof kg)return e._internalPath;if(typeof e=="string")return t2(s,e);throw tv("Field path arguments must be of type string or ",s,!1,void 0,t)}const Bk=new RegExp("[~\\*/\\[\\]]");function t2(s,e,t){if(e.search(Bk)>=0)throw tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new kg(...e.split("."))._internalPath}catch{throw tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function tv(s,e,t,n,a){const o=n&&!n.isEmpty(),A=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let u="";return(o||A)&&(u+=" (found",o&&(u+=` in field ${n}`),A&&(u+=` in document ${a}`),u+=")"),new ms(_t.INVALID_ARGUMENT,h+s+u)}function ST(s,e){return s.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t,n,a,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Nk extends CT{data(){return super.data()}}function Mv(s,e){return typeof e=="string"?t2(s,e):e instanceof kg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ms(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s2{}class n2 extends s2{}function Ms(s,e,...t){let n=[];e instanceof s2&&n.push(e),n=n.concat(t),(function(o){const A=o.filter((u=>u instanceof r2)).length,h=o.filter((u=>u instanceof Hv)).length;if(A>1||A>0&&h>0)throw new ms(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const a of n)s=a._apply(s);return s}class Hv extends n2{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hv(e,t,n)}_apply(e){const t=this._parse(e);return TT(e._query,t),new Lu(e.firestore,e.converter,lb(e._query,t))}_parse(e){const t=Pg(e.firestore);return(function(o,A,h,u,f,c,m){let x;if(f.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ms(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){K5(m,c);const w=[];for(const E of m)w.push(V5(u,o,E));x={arrayValue:{values:w}}}else x=V5(u,o,m)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||K5(m,c),x=jk(h,A,m,c==="in"||c==="not-in");return Ki.create(f,c,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function os(s,e,t){const n=e,a=Mv("where",s);return Hv._create(a,n,t)}class r2 extends s2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new r2(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:AA.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let A=a;const h=o.getFlattenedFilters();for(const u of h)TT(A,u),A=lb(A,u)})(e._query,t),new Lu(e.firestore,e.converter,lb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a2 extends n2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new a2(e,t)}_apply(e){const t=(function(a,o,A){if(a.startAt!==null)throw new ms(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ms(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mg(o,A)})(e._query,this._field,this._direction);return new Lu(e.firestore,e.converter,(function(a,o){const A=a.explicitOrderBy.concat([o]);return new Im(a.path,a.collectionGroup,A,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function sv(s,e="asc"){const t=e,n=Mv("orderBy",s);return a2._create(n,t)}class i2 extends n2{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new i2(e,t,n)}_apply(e){return new Lu(e.firestore,e.converter,Yx(e._query,this._limit,this._limitType))}}function im(s){return N8("limit",s),i2._create("limit",s,"F")}function V5(s,e,t){if(typeof(t=Ka(t))=="string"){if(t==="")throw new ms(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(e)&&t.indexOf("/")!==-1)throw new ms(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ha.fromString(t));if(!Ys.isDocumentKey(n))throw new ms(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return a5(s,new Ys(n))}if(t instanceof di)return a5(s,t._key);throw new ms(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bv(t)}.`)}function K5(s,e){if(!Array.isArray(s)||s.length===0)throw new ms(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TT(s,e){const t=(function(a,o){for(const A of a)for(const h of A.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(s.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ms(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ms(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Sk{convertValue(e,t="none"){switch(Yd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($d(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw an(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return sh(e,((a,o)=>{n[a]=this.convertValue(o,t)})),n}convertVectorValue(e){var n,a,o;const t=(o=(a=(n=e.fields)==null?void 0:n[Gx].arrayValue)==null?void 0:a.values)==null?void 0:o.map((A=>wi(A.doubleValue)));return new XA(t)}convertGeoPoint(e){return new WA(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Cv(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dg(e));default:return null}}convertTimestamp(e){const t=Gd(e);return new Jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ha.fromString(e);Cr(JE(n),9688,{name:e});const a=new hg(n.get(1),n.get(3)),o=new Ys(n.popFirst(5));return a.isEqual(t)||_u(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(s,e,t){let n;return n=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,n}function Ck(){return new xk("count")}class kp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gh extends CT{constructor(e,t,n,a,o,A){super(e,t,n,a,A),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ms(_t.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Gh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gh._jsonSchema={type:zi("string",Gh._jsonSchemaVersion),bundleSource:zi("string","DocumentSnapshot"),bundleName:zi("string"),bundle:zi("string")};class Nx extends Gh{data(e={}){return super.data(e)}}class $h{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new kp(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Nx(this._firestore,this._userDataWriter,n.key,n,new kp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ms(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let A=0;return a._snapshot.docChanges.map((h=>{const u=new Nx(a._firestore,a._userDataWriter,h.doc.key,h.doc,new kp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:u,oldIndex:-1,newIndex:A++}}))}{let A=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const u=new Nx(a._firestore,a._userDataWriter,h.doc.key,h.doc,new kp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,c=-1;return h.type!==0&&(f=A.indexOf(h.doc.key),A=A.delete(h.doc.key)),h.type!==1&&(A=A.add(h.doc),c=A.indexOf(h.doc.key)),{type:Ek(h.type),doc:u,oldIndex:f,newIndex:c}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ms(_t.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$h._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ek(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return an(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(s){s=ll(s,di);const e=ll(s.firestore,uA);return dk(Fm(e),s._key).then((t=>IT(e,s,t)))}$h._jsonSchemaVersion="firestore/querySnapshot/1.0",$h._jsonSchema={type:zi("string",$h._jsonSchemaVersion),bundleSource:zi("string","QuerySnapshot"),bundleName:zi("string"),bundle:zi("string")};class Vv extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,t)}}function Xs(s){s=ll(s,Lu);const e=ll(s.firestore,uA),t=Fm(e),n=new Vv(e);return ET(s._query),hk(t,s._query).then((a=>new $h(e,n,s,a)))}function Pi(s,e,t){s=ll(s,di);const n=ll(s.firestore,uA),a=o2(s.converter,e,t);return Hg(n,[qw(Pg(n),"setDoc",s._key,a,s.converter!==null,t).toMutation(s._key,Bl.none())])}function Ph(s,e,t,...n){s=ll(s,di);const a=ll(s.firestore,uA),o=Pg(a);let A;return A=typeof(e=Ka(e))=="string"||e instanceof kg?jT(o,"updateDoc",s._key,e,t,n):wT(o,"updateDoc",s._key,e),Hg(a,[A.toMutation(s._key,Bl.exists(!0))])}function Hi(s){return Hg(ll(s.firestore,uA),[new Uv(s._key,Bl.none())])}function Tk(s,e){const t=ll(s.firestore,uA),n=Qs(s),a=o2(s.converter,e);return Hg(t,[qw(Pg(s.firestore),"addDoc",n._key,a,s.converter!==null,{}).toMutation(n._key,Bl.exists(!1))]).then((()=>n))}function Fd(s,...e){var u,f,c;s=Ka(s);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||H5(e[n])||(t=e[n++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(H5(e[n])){const m=e[n];e[n]=(u=m.next)==null?void 0:u.bind(m),e[n+1]=(f=m.error)==null?void 0:f.bind(m),e[n+2]=(c=m.complete)==null?void 0:c.bind(m)}let o,A,h;if(s instanceof di)A=ll(s.firestore,uA),h=Ev(s._key.path),o={next:m=>{e[n]&&e[n](IT(A,s,m))},error:e[n+1],complete:e[n+2]};else{const m=ll(s,Lu);A=ll(m.firestore,uA),h=m._query;const x=new Vv(A);o={next:g=>{e[n]&&e[n](new $h(A,x,m,g))},error:e[n+1],complete:e[n+2]},ET(s._query)}return(function(x,g,w,E){const B=new Ww(E),C=new Gw(g,B,w);return x.asyncQueue.enqueueAndForget((async()=>Vw(await ev(x),C))),()=>{B.Nu(),x.asyncQueue.enqueueAndForget((async()=>Kw(await ev(x),C)))}})(Fm(A),h,a,o)}function Hg(s,e){return(function(n,a){const o=new GA;return n.asyncQueue.enqueueAndForget((async()=>ZO(await Ak(n),a,o))),o.promise})(Fm(s),e)}function IT(s,e,t){const n=t.docs.get(e._key),a=new Vv(s);return new Gh(s,a,e._key,n,new kp(t.hasPendingWrites,t.fromCache),e.converter)}function z5(s){return Ik(s,{count:Ck()})}function Ik(s,e){const t=ll(s.firestore,uA),n=Fm(t),a=R8(e,((o,A)=>new gQ(A,o.aggregateType,o._internalFieldPath)));return fk(n,s._query,a).then((o=>(function(h,u,f){const c=new Vv(h);return new vk(u,c,f)})(t,s,o)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pg(e)}set(e,t,n){this._verifyNotCommitted();const a=Xy(e,this._firestore),o=o2(a.converter,t,n),A=qw(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,n);return this._mutations.push(A.toMutation(a._key,Bl.none())),this}update(e,t,n,...a){this._verifyNotCommitted();const o=Xy(e,this._firestore);let A;return A=typeof(t=Ka(t))=="string"||t instanceof kg?jT(this._dataReader,"WriteBatch.update",o._key,t,n,a):wT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(A.toMutation(o._key,Bl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xy(e,this._firestore);return this._mutations=this._mutations.concat(new Uv(t._key,Bl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ms(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xy(s,e){if((s=Ka(s)).firestore!==e)throw new ms(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Fk(){return new Zw("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(s){return Fm(s=ll(s,uA)),new _k(s,(e=>Hg(s,e)))}(function(e,t=!0){(function(a){Cm=a})(cf),Kd(new l8("firestore",((n,{instanceIdentifier:a,options:o})=>{const A=n.getProvider("app").getImmediate(),h=new uA(new p8(n.getProvider("auth-internal")),new v8(A,n.getProvider("app-check-internal")),(function(f,c){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ms(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hg(f.options.projectId,c)})(A,a),A);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Dc(GB,$B,e),Dc(GB,$B,"esm2020")})();let Uk=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="type.googleapis.com/google.protobuf.Int64Value",Rk="type.googleapis.com/google.protobuf.UInt64Value";function _T(s,e){const t={};for(const n in s)s.hasOwnProperty(n)&&(t[n]=e(s[n]));return t}function nv(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(e=>nv(e));if(typeof s=="function"||typeof s=="object")return _T(s,e=>nv(e));throw new Error("Data cannot be encoded in JSON: "+s)}function pm(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case Dk:case Rk:{const e=Number(s.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+s);return e}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(e=>pm(e)):typeof s=="function"||typeof s=="object"?_T(s,e=>pm(e)):s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vl extends fA{constructor(e,t,n){super(`${l2}/${e}`,t||""),this.details=n,Object.setPrototypeOf(this,Vl.prototype)}}function Lk(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function rv(s,e){let t=Lk(s),n=t,a;try{const o=e&&e.error;if(o){const A=o.status;if(typeof A=="string"){if(!$5[A])return new Vl("internal","internal");t=$5[A],n=A}const h=o.message;typeof h=="string"&&(n=h),a=o.details,a!==void 0&&(a=pm(a))}}catch{}return t==="ok"?null:new Vl(t,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,n,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,oc(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a==null||a.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="us-central1",Ok=/^data: (.*?)(?:\n|$)/;function kk(s){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new Vl("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{e&&clearTimeout(e)}}}class Pk{constructor(e,t,n,a,o=vb,A=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=A,this.emulatorOrigin=null,this.contextProvider=new Qk(e,t,n,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=vb}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function Mk(s,e,t){const n=eh(e);s.emulatorOrigin=`http${n?"s":""}://${e}:${t}`,n&&(Aw(s.emulatorOrigin+"/backends"),uw("Functions",!0))}function Hk(s,e,t){const n=a=>Kk(s,e,a,{});return n.stream=(a,o)=>Gk(s,e,a,o),n}function FT(s){return s.emulatorOrigin&&eh(s.emulatorOrigin)?"include":void 0}async function Vk(s,e,t,n,a){t["Content-Type"]="application/json";let o;try{o=await n(s,{method:"POST",body:JSON.stringify(e),headers:t,credentials:FT(a)})}catch{return{status:0,json:null}}let A=null;try{A=await o.json()}catch{}return{status:o.status,json:A}}async function UT(s,e){const t={},n=await s.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(t.Authorization="Bearer "+n.authToken),n.messagingToken&&(t["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=n.appCheckToken),t}function Kk(s,e,t,n){const a=s._url(e);return zk(s,a,t,n)}async function zk(s,e,t,n){t=nv(t);const a={data:t},o=await UT(s,n),A=n.timeout||7e4,h=kk(A),u=await Promise.race([Vk(e,a,o,s.fetchImpl,s),h.promise,s.cancelAllRequests]);if(h.cancel(),!u)throw new Vl("cancelled","Firebase Functions instance was deleted.");const f=rv(u.status,u.json);if(f)throw f;if(!u.json)throw new Vl("internal","Response is not valid JSON object.");let c=u.json.data;if(typeof c>"u"&&(c=u.json.result),typeof c>"u")throw new Vl("internal","Response is missing data field.");return{data:pm(c)}}function Gk(s,e,t,n){const a=s._url(e);return $k(s,a,t,n||{})}async function $k(s,e,t,n){var x;t=nv(t);const a={data:t},o=await UT(s,n);o["Content-Type"]="application/json",o.Accept="text/event-stream";let A;try{A=await s.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:o,signal:n==null?void 0:n.signal,credentials:FT(s)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const E=new Vl("cancelled","Request was cancelled.");return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}const w=rv(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let h,u;const f=new Promise((g,w)=>{h=g,u=w});(x=n==null?void 0:n.signal)==null||x.addEventListener("abort",()=>{const g=new Vl("cancelled","Request was cancelled.");u(g)});const c=A.body.getReader(),m=Yk(c,h,u,n==null?void 0:n.signal);return{stream:{[Symbol.asyncIterator](){const g=m.getReader();return{async next(){const{value:w,done:E}=await g.read();return{value:w,done:E}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:f}}function Yk(s,e,t,n){const a=(A,h)=>{const u=A.match(Ok);if(!u)return;const f=u[1];try{const c=JSON.parse(f);if("result"in c){e(pm(c.result));return}if("message"in c){h.enqueue(pm(c.message));return}if("error"in c){const m=rv(0,c);h.error(m),t(m);return}}catch(c){if(c instanceof Vl){h.error(c),t(c);return}}},o=new TextDecoder;return new ReadableStream({start(A){let h="";return u();async function u(){if(n!=null&&n.aborted){const f=new Vl("cancelled","Request was cancelled");return A.error(f),t(f),Promise.resolve()}try{const{value:f,done:c}=await s.read();if(c){h.trim()&&a(h.trim(),A),A.close();return}if(n!=null&&n.aborted){const x=new Vl("cancelled","Request was cancelled");A.error(x),t(x),await s.cancel();return}h+=o.decode(f,{stream:!0});const m=h.split(`
`);h=m.pop()||"";for(const x of m)x.trim()&&a(x.trim(),A);return u()}catch(f){const c=f instanceof Vl?f:rv(0,null);A.error(c),t(c)}}},cancel(){return s.cancel()}})}const Y5="@firebase/functions",W5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="auth-internal",Xk="app-check-internal",Jk="messaging-internal";function qk(s){const e=(t,{instanceIdentifier:n})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider(Wk),A=t.getProvider(Jk),h=t.getProvider(Xk);return new Pk(a,o,A,h,n)};Kd(new Uk(l2,e,"PUBLIC").setMultipleInstances(!0)),Dc(Y5,W5,s),Dc(Y5,W5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(s=hw(),e=vb){const n=vv(Ka(s),l2).getImmediate({identifier:e}),a=f4("functions");return a&&eP(n,...a),n}function eP(s,e,t){Mk(Ka(s),e,t)}function Vg(s,e,t){return Hk(Ka(s),e)}qk();const tP={apiKey:"AIzaSyCHlCLhumJn50nw2JBgJTGeIH_6GKzjFbA",authDomain:"noble-care-management-system.firebaseapp.com",projectId:"noble-care-management-system",storageBucket:"noble-care-management-system.firebasestorage.app",messagingSenderId:"573085015524",appId:"1:573085015524:web:29ae8a509813ec1199fbf1"},c2=v4(tP),HA=i8(c2),Ct=pk(c2),Kg=Zk(c2);var pn=(s=>(s.SUPER_ADMIN="super_admin",s.SCHOOL_ADMIN="school_admin",s.TEACHER="teacher",s))(pn||{});async function sP(s){var n;const e=Qs(Ct,"users",s.uid),t=await iA(e);if(t.exists()){const a=t.data(),o=a.status||"active";if(o!=="active")throw new Error("ACCOUNT_INACTIVE");const A=a.role,h=a.schoolId||null,u=Array.isArray(a.assignedClassIds)?a.assignedClassIds:[];if((A==="school_admin"||A==="teacher")&&!h)throw console.warn(`[AUTH] ${A==="teacher"?"Teacher":"School Admin"} account incomplete - missing schoolId`,{uid:s.uid,email:s.email,role:A,hasSchoolId:!!h}),new Error(`${A==="teacher"?"Teacher":"School Admin"} account is incomplete: missing schoolId. Please contact your administrator.`);if(A==="school_admin"&&h){const f=Qs(Ct,"schools",h),c=await iA(f);if(!c.exists())throw new Error("SCHOOL_NOT_FOUND");const m=c.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}if(A==="teacher"&&h){const f=Qs(Ct,"schools",h),c=await iA(f);if(!c.exists())throw new Error("SCHOOL_NOT_FOUND");const m=c.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}return{id:s.uid,fullName:a.fullName||s.displayName||"User",email:s.email||"",role:A,schoolId:h,assignedClassIds:u,status:o,createdAt:((n=a.createdAt)==null?void 0:n.toDate())||new Date}}else throw new Error("ACCOUNT_NOT_PROVISIONED")}function DT(s){if(!s)throw new Error("Authentication required");if(s.role===pn.SUPER_ADMIN)throw new Error("Super admin does not belong to a school");if(!s.schoolId)throw new Error("School access required. Please contact your administrator.");return s.schoolId}const RT=J.createContext(void 0),nP=({children:s})=>{const[e,t]=J.useState(null),[n,a]=J.useState(!0),[o,A]=J.useState(!0),[h,u]=J.useState(null);J.useEffect(()=>{const c=WR(HA,async m=>{if(A(!0),m){u(null),a(!0);try{const x=await sP(m);t(x)}catch(x){console.error("Error fetching user profile:",x),t(null);const g=x.message||x.toString();g==="ACCOUNT_NOT_PROVISIONED"?(u("Your account is not set up yet. Please contact your administrator for access."),await Tp(HA)):g==="ACCOUNT_INACTIVE"?(u("Your account has been deactivated. Please contact your administrator for access."),await Tp(HA)):g==="SCHOOL_NOT_FOUND"?(u("Your school could not be found. Please contact your administrator."),await Tp(HA)):g==="SCHOOL_INACTIVE"?(u("Your school has been deactivated. Please contact your administrator."),await Tp(HA)):g.includes("Cloud Firestore API has not been used")?u("CRITICAL ERROR: The Firestore Database is not enabled. Go to Firebase Console > Build > Firestore Database > Create Database."):g.includes("permission-denied")||g.includes("Missing or insufficient permissions")?u("PERMISSION DENIED: Database access blocked. Go to Firebase Console > Firestore Database > Rules and change 'allow read, write: if false;' to 'allow read, write: if true;' (for testing)."):g.includes("client is offline")||g.includes("offline")?u("Network Error: Could not connect to the database. Check your internet connection."):u("Failed to load user profile. Please try refreshing the page. Error: "+g)}}else t(null),u(null);A(!1),a(!1)});return()=>c()},[]);const f=async()=>{try{await Tp(HA),t(null),u(null)}catch(c){console.error("Logout failed",c)}};return r.jsx(RT.Provider,{value:{user:e,loading:n,authLoading:o,error:h,logout:f,isAuthenticated:!!e},children:s})},To=()=>{const s=J.useContext(RT);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},LT=J.createContext(void 0),rP=({children:s})=>{const{user:e,isAuthenticated:t}=To(),[n,a]=J.useState(null),[o,A]=J.useState(!1),[h,u]=J.useState(null);return J.useEffect(()=>{let f=!1;const m=(()=>{if(a(null),u(null),!t||!e||e.role==="super_admin"){A(!1);return}if(!e.schoolId){A(!1),u("No school assigned to your account");return}A(!0);const x=`school_${e.schoolId}`,g=localStorage.getItem(x);if(g)try{const w=JSON.parse(g);w.status==="active"&&(f||a(w))}catch{localStorage.removeItem(x)}try{const w=Qs(Ct,"schools",e.schoolId),E=Fd(w,B=>{if(!B.exists()){f||u("School not found. Please contact your administrator."),f||a(null);return}const C={id:B.id,...B.data()};if(C.status!=="active"){f||u("Your school is currently inactive. Please contact your administrator."),f||a(null);return}localStorage.setItem(x,JSON.stringify(C)),f||a(C)},B=>{console.error("Error loading school data:",B),f||u("Failed to load school information. Please try refreshing the page."),f||a(null)});return()=>E()}finally{f||A(!1)}})();return()=>{f=!0,m&&m()}},[t,e==null?void 0:e.id,e==null?void 0:e.schoolId,e==null?void 0:e.role]),r.jsx(LT.Provider,{value:{school:n,schoolLoading:o,schoolError:h},children:s})},kc=()=>{const s=J.useContext(LT);if(!s)throw new Error("useSchool must be used within a SchoolProvider");return s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iP=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),X5=s=>{const e=iP(s);return e.charAt(0).toUpperCase()+e.slice(1)},QT=(...s)=>s.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),oP=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=J.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:A,...h},u)=>J.createElement("svg",{ref:u,...lP,width:e,height:e,stroke:s,strokeWidth:n?Number(t)*24/Number(e):t,className:QT("lucide",a),...!o&&!oP(h)&&{"aria-hidden":"true"},...h},[...A.map(([f,c])=>J.createElement(f,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=(s,e)=>{const t=J.forwardRef(({className:n,...a},o)=>J.createElement(cP,{ref:o,iconNode:e,className:QT(`lucide-${aP(X5(s))}`,`lucide-${s}`,n),...a}));return t.displayName=X5(s),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jy=hs("activity",AP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],dP=hs("arrow-down-right",uP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],OT=hs("arrow-left",hP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mP=hs("arrow-right",fP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],kT=hs("arrow-up-right",pP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],xP=hs("badge-dollar-sign",gP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hd=hs("bell",vP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cl=hs("book-open",yP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],wP=hs("book",bP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],BP=hs("building-2",jP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Sx=hs("building",NP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],CP=hs("calendar-days",SP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Si=hs("calendar",EP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],IP=hs("chart-no-axes-column-increasing",TP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Wp=hs("chart-no-axes-column",_P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],UP=hs("chart-pie",FP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xp=hs("check",DP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PT=hs("chevron-right",RP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gm=hs("circle-alert",LP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rc=hs("circle-check-big",QP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ud=hs("circle-x",OP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Jf=hs("clipboard-check",kP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kl=hs("clock",PP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],HP=hs("coffee",MP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],J5=hs("copy",VP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pp=hs("credit-card",KP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],GP=hs("door-open",zP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],A2=hs("download",$P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],WP=hs("ellipsis",YP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],u2=hs("eye-off",XP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qu=hs("eye",JP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xm=hs("file-text",qP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],MT=hs("funnel",ZP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],rf=hs("graduation-cap",eM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],sM=hs("history",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qy=hs("layout-dashboard",nM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zy=hs("loader-circle",rM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iM=hs("lock",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lM=hs("log-out",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AM=hs("mail",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dM=hs("map-pin",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],fM=hs("megaphone",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pM=hs("menu",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xM=hs("message-square",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M5 12h14",key:"1ays0h"}]],q5=hs("minus",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],e1=hs("octagon-alert",yM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wM=hs("pen",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],BM=hs("pencil",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],SM=hs("phone",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yh=hs("plus",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],TM=hs("refresh-ccw",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vm=hs("refresh-cw",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ac=hs("save",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yb=hs("search",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d2=hs("settings",UM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],t1=hs("shield-alert",DM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s1=hs("shield-check",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],HT=hs("shield",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VT=hs("sparkles",QM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Z5=hs("square-check-big",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],h2=hs("square-pen",kM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],eN=hs("square",PM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],tN=hs("timer",MM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],VM=hs("toggle-left",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],zM=hs("toggle-right",KM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lc=hs("trash-2",GM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],sN=hs("trending-down",$M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dd=hs("trending-up",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gi=hs("triangle-alert",WM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],JM=hs("trophy",XM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],f2=hs("user-plus",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],KT=hs("user",ZM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fo=hs("users",e7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],om=hs("wallet",t7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],nN=hs("wrench",s7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oo=hs("x",n7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a7=hs("zap",r7);class i7 extends J.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Gi,{className:"w-8 h-8 text-red-600"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-slate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(vm,{size:16,className:"mr-2"}),"Try Again"]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Refresh Page"})]}),this.state.error&&r.jsxs("details",{className:"mt-4 text-left",children:[r.jsx("summary",{className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:"Error Details (Development)"}),r.jsxs("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs text-slate-800 overflow-auto max-h-40",children:[this.state.error?this.state.error.toString():"Error details not available",(e=this.state.errorInfo)==null?void 0:e.componentStack]})]})]})}):this.props.children}}const bb=""+new URL("apple-icon-180x180-CeJtO7PD.png",import.meta.url).href,o7=()=>{const{isAuthenticated:s,loading:e,error:t}=To(),n=Nm(),[a,o]=J.useState(""),[A,h]=J.useState(""),[u,f]=J.useState(!1),[c,m]=J.useState(!1),[x,g]=J.useState(""),[w,E]=J.useState(!1),[B,C]=J.useState("");J.useEffect(()=>{s&&!e&&n("/",{replace:!0})},[s,e,n]);const T=async k=>{k.preventDefault(),m(!0),g("");try{await GR(HA,a,A)}catch(M){console.error(M);let Q="Failed to sign in.";M.code==="auth/invalid-credential"||M.code==="auth/user-not-found"||M.code==="auth/wrong-password"?Q="Invalid email or password.":M.code==="auth/too-many-requests"&&(Q="Too many failed attempts. Please try again later."),g(Q),m(!1)}},F=async k=>{if(k.preventDefault(),m(!0),g(""),C(""),!a){g("Please enter your email address to reset password."),m(!1);return}try{await zR(HA,a),C("Password reset link has been sent to your email."),g("")}catch(M){console.error(M);let Q="Failed to send reset email.";M.code==="auth/user-not-found"?Q="No account found with this email address.":M.code==="auth/invalid-email"&&(Q="Please enter a valid email address."),g(Q)}finally{m(!1)}},L=()=>{E(!w),g(""),C(""),h("")};return e?r.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:r.jsx("div",{className:"text-red-900 animate-pulse font-semibold",children:"Loading School Manager GH..."})}):r.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-[#E6F0FA] flex items-center justify-center p-4",children:[r.jsx("style",{children:`
        @keyframes loginGradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes floatBlob {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(20px, -30px, 0) scale(1.08); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
        @keyframes floatBlobReverse {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(-25px, 25px, 0) scale(1.05); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
      `}),r.jsx("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"linear-gradient(120deg, rgba(11,143,165,0.14), rgba(216,241,244,0.35), rgba(4,107,126,0.12))",backgroundSize:"200% 200%",animation:"loginGradientShift 18s ease-in-out infinite"},"aria-hidden":"true"}),r.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-[#E6F0FA]/35 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 16s ease-in-out infinite"},"aria-hidden":"true"}),r.jsx("div",{className:"absolute top-1/3 -right-28 w-96 h-96 bg-[#1160A8]/25 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlobReverse 20s ease-in-out infinite"},"aria-hidden":"true"}),r.jsx("div",{className:"absolute -bottom-28 left-1/4 w-72 h-72 bg-[#E6F0FA]/60 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 22s ease-in-out infinite"},"aria-hidden":"true"}),r.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 border-t-8 border-[#0B4A82]",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"mx-auto w-28 h-28 mb-4 relative p-2 bg-white rounded-full shadow-sm border border-[#E6F0FA]",children:r.jsx("img",{src:bb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full",onError:k=>{k.currentTarget.style.display="none",k.currentTarget.parentElement.innerHTML='<div class="w-24 h-24 bg-[#0B4A82] rounded-full flex items-center justify-center text-[#E6F0FA] font-bold border-4 border-[#1160A8] text-xs text-center p-1">School Manager GH</div>'}})}),r.jsx("h1",{className:"text-2xl font-bold text-[#0B4A82] font-serif",children:"School Manager GH"}),r.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:w?"Reset your password":"Sign in to manage the system"})]}),t&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-800 text-sm rounded-lg border border-red-200 flex items-start",children:[r.jsx(gm,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-bold block mb-1",children:"System Error"}),t]})]}),x&&r.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center",children:[r.jsx(gm,{size:16,className:"mr-2 flex-shrink-0"}),x]}),B&&r.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-lg border border-emerald-100 flex items-center",children:[r.jsx(Rc,{size:16,className:"mr-2 flex-shrink-0"}),B]}),w?r.jsxs("form",{onSubmit:F,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",value:a,onChange:k=>o(k.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your registered email",required:!0}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"We'll send you a link to reset your password."})]}),r.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 bg-[#1160A8] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${c?"opacity-70 cursor-not-allowed":""}`,children:c?"Sending...":"Send Reset Link"}),r.jsxs("button",{type:"button",onClick:L,className:"w-full text-center text-sm text-slate-600 hover:text-[#0B4A82] font-medium flex items-center justify-center mt-4",children:[r.jsx(OT,{size:16,className:"mr-1"})," Back to Sign In"]})]}):r.jsxs("form",{onSubmit:T,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",value:a,onChange:k=>o(k.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"e.g., admin@school.com",required:!0})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Password"}),r.jsx("button",{type:"button",onClick:L,className:"text-xs text-[#1160A8] hover:text-[#0B4A82] font-medium",children:"Forgot Password?"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:u?"text":"password",value:A,onChange:k=>h(k.target.value),className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your password",required:!0}),r.jsx("button",{type:"button",onClick:()=>f(k=>!k),className:"absolute inset-y-0 right-0 flex items-center justify-center px-3 text-slate-500 hover:text-[#0B4A82]","aria-label":u?"Hide password":"Show password",children:u?r.jsx(u2,{size:18}):r.jsx(Qu,{size:18})})]})]}),r.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 bg-[#0B4A82] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${c?"opacity-70 cursor-not-allowed":""}`,children:c?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:r.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," School Manager GH  Empowering Excellence"]})})]})]})},l7=async s=>{try{return(await Tk(Fs(Ct,"activity_logs"),{schoolId:s.schoolId||null,actorUid:s.actorUid||null,actorRole:s.actorRole||null,eventType:s.eventType,entityId:s.entityId||null,meta:s.meta||null,createdAt:Fk()})).id}catch(e){throw console.error("Failed to log activity",e),e}},Co="2023-2024",$i=1,Is=[{id:"c_n1",name:"Nursery 1",level:"NURSERY"},{id:"c_n2",name:"Nursery 2",level:"NURSERY"},{id:"c_kg1",name:"KG 1",level:"KG"},{id:"c_kg2",name:"KG 2",level:"KG"},{id:"c_p1",name:"Class 1",level:"PRIMARY"},{id:"c_p2",name:"Class 2",level:"PRIMARY"},{id:"c_p3",name:"Class 3",level:"PRIMARY"},{id:"c_p4",name:"Class 4",level:"PRIMARY"},{id:"c_p5",name:"Class 5",level:"PRIMARY"},{id:"c_p6",name:"Class 6",level:"PRIMARY"},{id:"c_jhs1",name:"JHS 1",level:"JHS"},{id:"c_jhs2",name:"JHS 2",level:"JHS"},{id:"c_jhs3",name:"JHS 3",level:"JHS"}],c7=["Language & Literacy","Numeracy","Environmental Studies","Creative Arts","Physical Development","Social & Emotional Development","Rhymes, Songs & Storytelling"],A7=["Literacy & Language","Numeracy","OWOP","Creative Art","Physical Education"],u7=["English Language","Mathematics","Science","ICT","Religious & Moral Education (RME)","Ghanaian Language","Our World Our People (OWOP)","Creative Arts","Physical Education"],d7=["English Language","Mathematics","Integrated Science","Social Studies","Religious & Moral Education (RME)","ICT","French","Ghanaian Language","Creative Arts & Design","Physical Education","Career Technology","Computing / Coding"],ym=s=>s>=80?{total:s,grade:"A",remark:"Excellent"}:s>=70?{total:s,grade:"B",remark:"Very Good"}:s>=60?{total:s,grade:"C",remark:"Good"}:s>=45?{total:s,grade:"D",remark:"Pass"}:{total:s,grade:"F",remark:"Fail"},Fc=s=>{const e=(s.testScore||0)+(s.homeworkScore||0)+(s.projectScore||0),t=(s.examScore||0)*.5;return Math.round(e+t)},zg=s=>{switch(s){case"A":return"text-green-600 bg-green-100";case"B":return"text-red-600 bg-red-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}};class h7{async getCollection(e){return(await Xs(Fs(Ct,e))).docs.map(n=>n.data())}requireSchoolId(e,t="operation"){if(!e)throw new Error(`schoolId is required for ${t}`);return e}async getCollectionBySchoolId(e,t){const n=this.requireSchoolId(t,`getCollectionBySchoolId(${e})`),a=Ms(Fs(Ct,e),os("schoolId","==",n));return(await Xs(a)).docs.map(A=>A.data())}async getSchoolConfig(e){const t=this.requireSchoolId(e,"getSchoolConfig"),n=Qs(Ct,"settings",t),a=await iA(n);if(a.exists()){const A={...a.data(),schoolId:t};if(A.nextTermBegins&&!A.termTransitionProcessed){const h=new Date(A.nextTermBegins+"T00:00:00"),u=new Date;if(u.setHours(0,0,0,0),!Number.isNaN(h.getTime())&&u>=h){const f={...A,schoolReopenDate:A.nextTermBegins||A.schoolReopenDate||""};await this.resetForNewTerm(f);const c=await iA(n);if(c.exists())return{...c.data(),schoolId:t}}}return A}return{schoolId:t,schoolName:"New School",academicYear:Co,currentTerm:`Term ${$i}`,headTeacherRemark:"Keep it up.",termEndDate:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,holidayDates:[]}}async updateSchoolConfig(e){const t=this.requireSchoolId(e.schoolId,"updateSchoolConfig");await Pi(Qs(Ct,"settings",t),e)}async getUsers(e){const t=this.requireSchoolId(e,"getUsers"),n=Ms(Fs(Ct,"users"),os("schoolId","==",t));return(await Xs(n)).docs.map(o=>({id:o.id,...o.data()}))}async addUser(e){await Pi(Qs(Ct,"users",e.id),e)}async deleteUser(e){await Hi(Qs(Ct,"users",e))}async updateUserAssignedClasses(e,t){await Ph(Qs(Ct,"users",e),{assignedClassIds:t})}async getStudents(e,t){const n=this.requireSchoolId(e,"getStudents"),a=Fs(Ct,"students"),o=[os("schoolId","==",n)];t&&o.push(os("classId","==",t));const A=Ms(a,...o);return(await Xs(A)).docs.map(u=>u.data())}async addStudent(e){this.requireSchoolId(e.schoolId,"addStudent"),await Pi(Qs(Ct,"students",e.id),e)}async updateStudent(e){this.requireSchoolId(e.schoolId,"updateStudent"),await Ph(Qs(Ct,"students",e.id),{...e,...e.schoolId?{schoolId:e.schoolId}:{}})}async deleteStudent(e){await Hi(Qs(Ct,"students",e))}async getSubjects(e,t){const n=this.requireSchoolId(e,"getSubjects");if(!t)return[];const a=Ms(Fs(Ct,"class_subjects"),os("schoolId","==",n),os("classId","==",t)),o=await Xs(a);return o.empty?[]:o.docs[0].data().subjects}async addSubject(e,t,n){const a=this.requireSchoolId(n,"addSubject"),o=await this.getSubjects(a,e);o.includes(t)||await Pi(Qs(Ct,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:[...o,t]})}async updateSubject(e,t,n,a){const o=this.requireSchoolId(a,"updateSubject"),A=await this.getSubjects(o,e),h=A.indexOf(t);h!==-1&&(A[h]=n,await Pi(Qs(Ct,"class_subjects",`${o}_${e}`),{schoolId:o,classId:e,subjects:A}))}async deleteSubject(e,t,n){const a=this.requireSchoolId(n,"deleteSubject"),A=(await this.getSubjects(a,e)).filter(h=>h!==t);await Pi(Qs(Ct,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:A})}async seedClassSubjects(e,t,n){const a=this.requireSchoolId(n,"seedClassSubjects");await Pi(Qs(Ct,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:t})}async resetAllClassSubjects(e){const t=this.requireSchoolId(e,"resetAllClassSubjects"),n=Ms(Fs(Ct,"class_subjects"),os("schoolId","==",t)),o=(await Xs(n)).docs.map(A=>Hi(Qs(Ct,"class_subjects",A.id)));await Promise.all(o)}async getAttendance(e,t,n){const a=this.requireSchoolId(e,"getAttendance");if(!t||!n)return;const o=Ms(Fs(Ct,"attendance"),os("schoolId","==",a),os("classId","==",t),os("date","==",n)),A=await Xs(o);return A.empty?void 0:A.docs[0].data()}async getClassAttendance(e,t){const n=this.requireSchoolId(e,"getClassAttendance");if(!t)return[];const a=Ms(Fs(Ct,"attendance"),os("schoolId","==",n),os("classId","==",t));return(await Xs(a)).docs.map(A=>A.data())}async getAttendanceByDate(e,t){const n=this.requireSchoolId(e,"getAttendanceByDate");if(!t)return[];const a=Ms(Fs(Ct,"attendance"),os("schoolId","==",n),os("date","==",t));return(await Xs(a)).docs.map(A=>A.data())}async saveAttendance(e){const n=`${this.requireSchoolId(e.schoolId,"saveAttendance")}_${e.classId}_${e.date}`;await Pi(Qs(Ct,"attendance",n),{...e,id:n})}async getAssessments(e,t,n){const a=this.requireSchoolId(e,"getAssessments");if(!t||!n)return[];const o=Ms(Fs(Ct,"assessments"),os("schoolId","==",a),os("classId","==",t),os("subject","==",n));return(await Xs(o)).docs.map(h=>h.data())}async getAllAssessments(e){return this.getCollectionBySchoolId("assessments",e)}async saveAssessment(e){const t=this.requireSchoolId(e.schoolId,"saveAssessment"),n=e.id||`${t}_${e.studentId}_${e.subject}_${e.term}_${e.academicYear}`;await Pi(Qs(Ct,"assessments",n),{...e,id:n})}async resetAssessmentsForClass(e,t,n=!1,a){const o=this.requireSchoolId(e,"resetAssessmentsForClass");if(!t)return;const A=Ms(Fs(Ct,"assessments"),os("schoolId","==",o),os("classId","==",t)),u=(await Xs(A)).docs.map(f=>Hi(Qs(Ct,"assessments",f.id)));if(await Promise.all(u),n){const f=await this.getStudents(o,t),c=await this.getSubjects(o,t),m=[],x=a||$i;for(const g of f)for(const w of c){const E=`${g.id}_${w}_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,B={id:E,schoolId:o,studentId:g.id,classId:t,term:x,academicYear:Co,subject:w,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0};m.push(Pi(Qs(Ct,"assessments",E),B))}await Promise.all(m)}}async getNotices(e){const t=this.requireSchoolId(e,"getNotices"),n=Ms(Fs(Ct,"notices"),os("schoolId","==",t));return(await Xs(n)).docs.map(o=>o.data())}async addNotice(e){this.requireSchoolId(e.schoolId,"addNotice"),await Pi(Qs(Ct,"notices",e.id),e)}async deleteNotice(e){await Hi(Qs(Ct,"notices",e))}async getStudentRemarks(e,t){const n=this.requireSchoolId(e,"getStudentRemarks");if(!t)return[];const a=Ms(Fs(Ct,"student_remarks"),os("schoolId","==",n),os("classId","==",t));return(await Xs(a)).docs.map(A=>A.data())}async saveStudentRemark(e){this.requireSchoolId(e.schoolId,"saveStudentRemark"),await Pi(Qs(Ct,"student_remarks",e.id),e)}async getStudentSkills(e,t){const n=this.requireSchoolId(e,"getStudentSkills");if(!t)return[];const a=Ms(Fs(Ct,"student_skills"),os("schoolId","==",n),os("classId","==",t));return(await Xs(a)).docs.map(A=>A.data())}async saveStudentSkills(e){this.requireSchoolId(e.schoolId,"saveStudentSkills"),await Pi(Qs(Ct,"student_skills",e.id),e)}async addSystemNotification(e,t,n){const a=this.requireSchoolId(n,"addSystemNotification"),o=`${a}_${Date.now()}`,A={id:o,schoolId:a,message:e,createdAt:Date.now(),isRead:!1,type:t};await Pi(Qs(Ct,"admin_notifications",o),A)}async getSystemNotifications(e){const t=Fs(Ct,"admin_notifications"),n=e?Ms(t,os("schoolId","==",e),im(20)):Ms(t,im(50));return(await Xs(n)).docs.map(o=>o.data()).sort((o,A)=>(A.createdAt??0)-(o.createdAt??0))}async markNotificationAsRead(e){await Ph(Qs(Ct,"admin_notifications",e),{isRead:!0})}async deleteSystemNotification(e){await Hi(Qs(Ct,"admin_notifications",e))}async getTimetable(e,t){const n=this.requireSchoolId(e,"getTimetable");if(!t)return;const a=Ms(Fs(Ct,"timetables"),os("schoolId","==",n),os("classId","==",t),im(1)),o=await Xs(a);return o.empty?void 0:o.docs[0].data()}async saveTimetable(e){const t=this.requireSchoolId(e.schoolId,"saveTimetable");await Pi(Qs(Ct,"timetables",`${t}_${e.classId}`),{...e,schoolId:t})}async getStudentPerformance(e,t,n){const a=await this.getClassAttendance(e,n),o=new Set(a.filter(T=>T.isHoliday).map(T=>T.date)),A=await this.getSchoolConfig(e),h=new Set((A.holidayDates||[]).map(T=>T.date));let u=0,f=[];if(A.schoolReopenDate){const T=new Date(`${A.schoolReopenDate}T00:00:00`),F=A.vacationDate?new Date(`${A.vacationDate}T00:00:00`):null,L=new Date;L.setHours(0,0,0,0);const k=F&&F<L?F:L;if(!Number.isNaN(T.getTime())){const M=new Date(T);for(;M<=k;){const Q=M.getDay();if(!(Q===0||Q===6)){const R=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}-${String(M.getDate()).padStart(2,"0")}`;!o.has(R)&&!h.has(R)&&(u++,f.push(R))}M.setDate(M.getDate()+1)}}}if(!u){const T=a.filter(F=>!F.isHoliday&&!h.has(F.date));u=T.length,f=T.map(F=>F.date).sort()}const c=a.filter(T=>!T.isHoliday&&!h.has(T.date)&&T.presentStudentIds.includes(t)).length,m=u===0?0:Math.round(c/u*100);f.length||(f=a.filter(T=>!T.isHoliday&&!h.has(T.date)).map(T=>T.date).sort());const x=a.filter(T=>!T.isHoliday&&!h.has(T.date)&&T.presentStudentIds.includes(t)).map(T=>T.date).sort(),g=Ms(Fs(Ct,"assessments"),os("schoolId","==",e),os("studentId","==",t)),E=(await Xs(g)).docs.map(T=>T.data()).filter(T=>!0),C=(await this.getSubjects(e,n)).map(T=>{const F=E.find(L=>L.subject===T);return F||{subject:T,total:0}});return{attendance:{total:u,present:c,percentage:m,schoolDates:f,presentDates:x},grades:C}}async getDashboardStats(e){const t=this.requireSchoolId(e,"getDashboardStats"),[n,a,o]=await Promise.all([Xs(Ms(Fs(Ct,"students"),os("schoolId","==",t))),Xs(Ms(Fs(Ct,"users"),os("schoolId","==",t))),Xs(Ms(Fs(Ct,"attendance"),os("schoolId","==",t)))]),A=n.docs.map(w=>w.data()),h=a.docs.map(w=>w.data()),u=await this.getSchoolConfig(t),f=new Set((u.holidayDates||[]).map(w=>w.date)),c=o.docs.map(w=>w.data()).filter(w=>!w.isHoliday&&!f.has(w.date)),m=A.filter(w=>w.gender==="Male").length,x=A.filter(w=>w.gender==="Female").length,g=Is.map(w=>{const E=c.filter(C=>C.classId===w.id),B=A.filter(C=>C.classId===w.id);if(E.length>0&&B.length>0){const C=E.length*B.length,T=E.reduce((L,k)=>L+k.presentStudentIds.length,0),F=Math.round(T/C*100);return{className:w.name,percentage:F,id:w.id}}return{className:w.name,percentage:0,id:w.id}});return{studentsCount:A.length,teachersCount:h.filter(w=>w.role===pn.TEACHER).length,gender:{male:m,female:x},classAttendance:g}}async getDashboardSummary(e){const t=this.requireSchoolId(e,"getDashboardSummary"),[n,a]=await Promise.all([z5(Ms(Fs(Ct,"students"),os("schoolId","==",t))),z5(Ms(Fs(Ct,"users"),os("schoolId","==",t),os("role","==",pn.TEACHER)))]);return{studentsCount:n.data().count,teachersCount:a.data().count}}async getTeacherAttendance(e,t,n){const a=this.requireSchoolId(e,"getTeacherAttendance");if(!t||!n)return;const o=Ms(Fs(Ct,"teacher_attendance"),os("schoolId","==",a),os("teacherId","==",t),os("date","==",n)),A=await Xs(o);if(A.empty)return;const h=A.docs.map(f=>{const c=f.data();return{...c,id:c.id||f.id}});if(h.length===1)return h[0];const u=f=>{switch(f){case"approved":return 0;case"rejected":return 1;case"pending":return 2;default:return 3}};return h.sort((f,c)=>{const m=u(f.approvalStatus)-u(c.approvalStatus);if(m!==0)return m;const x=f.approvedAt||f.rejectedAt||f.createdAt||0;return(c.approvedAt||c.rejectedAt||c.createdAt||0)-x}),h[0]}async getTeacherAttendancePendingByDate(e,t){return t?(await this.getAllTeacherAttendance(e,t)).filter(a=>a.approvalStatus==="pending"):[]}async getAllPendingTeacherAttendance(e){return(await this.getAllTeacherAttendanceRecords(e)).filter(n=>n.approvalStatus==="pending")}async getAllTeacherAttendance(e,t){const n=this.requireSchoolId(e,"getAllTeacherAttendance");if(!t)return[];const a=Ms(Fs(Ct,"teacher_attendance"),os("schoolId","==",n),os("date","==",t));return(await Xs(a)).docs.map(A=>A.data())}async getAllApprovedTeacherAttendance(e,t){return t?(await this.getAllTeacherAttendance(e,t)).filter(a=>a.approvalStatus==="approved"):[]}async saveTeacherAttendance(e){const n=`${this.requireSchoolId(e.schoolId,"saveTeacherAttendance")}_${e.teacherId}_${e.date}`;await Pi(Qs(Ct,"teacher_attendance",n),{approvalStatus:e.approvalStatus||"approved",...e,id:n})}async approveTeacherAttendance(e,t,n){const a=this.requireSchoolId(e,"approveTeacherAttendance");await Ph(Qs(Ct,"teacher_attendance",t),{schoolId:a,approvalStatus:"approved",approvedBy:n,approvedAt:Date.now(),rejectedBy:null,rejectedAt:null})}async rejectTeacherAttendance(e,t,n){const a=this.requireSchoolId(e,"rejectTeacherAttendance");await Ph(Qs(Ct,"teacher_attendance",t),{schoolId:a,approvalStatus:"rejected",status:"absent",rejectedBy:n,rejectedAt:Date.now()})}async getAllTeacherAttendanceRecords(e){return this.getCollectionBySchoolId("teacher_attendance",e)}async resetAllTeacherAttendance(e){const t=this.requireSchoolId(e,"resetAllTeacherAttendance"),n=Ms(Fs(Ct,"teacher_attendance"),os("schoolId","==",t)),o=(await Xs(n)).docs.map(A=>Hi(Qs(Ct,"teacher_attendance",A.id)));await Promise.all(o)}async getAdminRemark(e,t){const n=this.requireSchoolId(e,"getAdminRemark");if(!t)return;const a=Qs(Ct,"admin_remarks",t),o=await iA(a);if(!o.exists())return;const A=o.data();return A.schoolId===n?A:void 0}async saveAdminRemark(e){this.requireSchoolId(e.schoolId,"saveAdminRemark"),await Pi(Qs(Ct,"admin_remarks",e.id),e)}async createTermBackup(e,t,n,a){var o;console.log(`Creating backup for ${t}, ${n}...`);try{const A=this.requireSchoolId(e.schoolId,"createTermBackup"),h=(a==null?void 0:a.dedupeKey)||`${A}_${t}_${n}`;if(!(await Xs(Ms(Fs(Ct,"backups"),os("schoolId","==",A),os("term","==",t),os("academicYear","==",n),os("backupType","==","term-reset")))).empty){console.log(`Backup already exists for ${t}, ${n}. Skipping.`);return}const[f,c,m,x,g,w,E,B,C,T,F,L,k]=await Promise.all([this.getCollectionBySchoolId("students",A),this.getCollectionBySchoolId("users",A),this.getCollectionBySchoolId("attendance",A),this.getCollectionBySchoolId("teacher_attendance",A),this.getCollectionBySchoolId("assessments",A),this.getCollectionBySchoolId("student_remarks",A),this.getCollectionBySchoolId("admin_remarks",A),this.getCollectionBySchoolId("student_skills",A),this.getCollectionBySchoolId("timetables",A),this.getCollectionBySchoolId("notices",A),this.getCollectionBySchoolId("admin_notifications",A),this.getCollectionBySchoolId("activity_logs",A),this.getCollectionBySchoolId("payments",A)]),Q=(await Xs(Ms(Fs(Ct,"class_subjects"),os("schoolId","==",A)))).docs.map(O=>O.data()),D=await iA(Qs(Ct,"settings",A)),R=D.exists()?D.data():void 0,V={id:`backup_${Date.now()}`,schoolId:A,schoolName:e.schoolName||(R==null?void 0:R.schoolName)||"",timestamp:Date.now(),term:t,academicYear:n,backupType:"term-reset",dedupeKey:h,data:{schoolConfig:e,schoolSettings:R,students:f,attendanceRecords:m,teacherAttendanceRecords:x,assessments:g,studentRemarks:w,adminRemarks:E,studentSkills:B,timetables:C,users:c,classSubjects:Q,notices:T,adminNotifications:F,activityLogs:L,payments:k}};await Pi(Qs(Ct,"backups",V.id),V),console.log(`Backup created successfully: ${V.id}`),await l7({schoolId:A,actorUid:((o=HA.currentUser)==null?void 0:o.uid)||null,actorRole:"school_admin",eventType:"backup_created",entityId:V.id,meta:{term:t,academicYear:n,backupType:"term-reset"}})}catch(A){throw console.error("Error creating backup:",A),A}}async resetForNewTerm(e){console.log("Initiating term transition for:",e.currentTerm,e.academicYear),await this.createTermBackup(e,e.currentTerm,e.academicYear,{dedupeKey:`${e.schoolId}_${e.currentTerm}_${e.academicYear}`});const t=Is.map(f=>f.id),n=this.requireSchoolId(e.schoolId,"resetForNewTerm"),a=[(async()=>{const f=Ms(Fs(Ct,"attendance"),os("schoolId","==",n)),m=(await Xs(f)).docs.map(x=>Hi(Qs(Ct,"attendance",x.id)));await Promise.all(m),console.log("Cleared student attendance records.")})(),this.resetAllTeacherAttendance(n),(async()=>{const f=Ms(Fs(Ct,"student_remarks"),os("schoolId","==",n)),m=(await Xs(f)).docs.map(x=>Hi(Qs(Ct,"student_remarks",x.id)));await Promise.all(m),console.log("Cleared student remarks.")})(),(async()=>{const f=Ms(Fs(Ct,"student_skills"),os("schoolId","==",n)),m=(await Xs(f)).docs.map(x=>Hi(Qs(Ct,"student_skills",x.id)));await Promise.all(m),console.log("Cleared student skills.")})(),(async()=>{const f=Ms(Fs(Ct,"admin_remarks"),os("schoolId","==",n)),m=(await Xs(f)).docs.map(x=>Hi(Qs(Ct,"admin_remarks",x.id)));await Promise.all(m),console.log("Cleared admin remarks.")})(),(async()=>{const f=Ms(Fs(Ct,"admin_notifications"),os("schoolId","==",n)),m=(await Xs(f)).docs.map(x=>Hi(Qs(Ct,"admin_notifications",x.id)));await Promise.all(m),console.log("Cleared system notifications.")})(),(async()=>{const f=Ms(Fs(Ct,"notices"),os("schoolId","==",n)),m=(await Xs(f)).docs.map(x=>Hi(Qs(Ct,"notices",x.id)));await Promise.all(m),console.log("Cleared notices.")})()];await Promise.all(a);let o=1,A=e.academicYear;const h=parseInt(e.currentTerm.split(" ")[1]);if(h===3){o=1;const f=e.academicYear.split("-").map(Number);A=`${f[0]+1}-${f[1]+1}`}else o=h+1;for(const f of t)await this.resetAssessmentsForClass(e.schoolId,f,!0,o),console.log(`Reset and re-seeded assessments for class: ${f} with term ${o}`);const u={...e,currentTerm:`Term ${o}`,academicYear:A,termTransitionProcessed:!0,schoolReopenDate:e.schoolReopenDate||"",vacationDate:"",nextTermBegins:""};await this.updateSchoolConfig(u),console.log("SchoolConfig updated for new term:",`Term ${o}`,A)}async getTeacherAttendanceAnalytics(e,t,n){const a=this.requireSchoolId(e,"getTeacherAttendanceAnalytics"),o=await this.getSchoolConfig(a);if(!t&&!o.schoolReopenDate)return[];const h=(await this.getUsers(a)).filter(w=>w.role===pn.TEACHER),u=await this.getAllTeacherAttendanceRecords(a),c=`${(o.academicYear||Co).split("-")[0]}-09-01`,m=t||o.schoolReopenDate||c,x=n||new Date().toISOString().split("T")[0],g=[];for(const w of h){const B=u.filter(M=>M.teacherId===w.id&&M.approvalStatus!=="pending").filter(M=>M.date>=m&&M.date<=x&&!M.isHoliday),C={};B.forEach(M=>{const Q=new Date(M.date),D=`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}`;C[D]||(C[D]={total:0,present:0}),C[D].total+=1,M.status==="present"&&M.approvalStatus==="approved"&&(C[D].present+=1)});const T=Object.entries(C).map(([M,Q])=>{const[D,R]=M.split("-"),V=Q.total>0?Math.round(Q.present/Q.total*100):0;return{teacherId:w.id,teacherName:w.fullName,month:M,year:parseInt(D),totalWorkingDays:Q.total,presentDays:Q.present,absentDays:Q.total-Q.present,attendanceRate:V,trend:"stable"}}).sort((M,Q)=>M.month.localeCompare(Q.month));for(let M=0;M<T.length;M++)if(M>0){const Q=T[M].attendanceRate,D=T[M-1].attendanceRate;Q>D+5?T[M].trend="improving":Q<D-5?T[M].trend="declining":T[M].trend="stable"}const F=T.reduce((M,Q)=>M+Q.totalWorkingDays,0),L=T.reduce((M,Q)=>M+Q.presentDays,0),k=F>0?Math.round(L/F*100):0;g.push({teacherId:w.id,teacherName:w.fullName,overallAttendance:k,monthlyBreakdown:T,termStartDate:m,vacationDate:x!==new Date().toISOString().split("T")[0]?x:void 0})}return g}async getBackups(e){const t=this.requireSchoolId(e==null?void 0:e.schoolId,"getBackups");let n=Ms(Fs(Ct,"backups"),os("schoolId","==",t));const a=[];if(e!=null&&e.term&&a.push(os("term","==",e.term)),e!=null&&e.academicYear&&a.push(os("academicYear","==",e.academicYear)),e!=null&&e.date){const A=new Date(e.date).getTime(),h=A+1440*60*1e3-1;a.push(os("timestamp",">=",A),os("timestamp","<=",h))}return a.length>0&&(n=Ms(n,...a)),(await Xs(n)).docs.map(A=>A.data())}async getBackupDetails(e,t){const n=this.requireSchoolId(e,"getBackupDetails");if(!t)return;const a=await iA(Qs(Ct,"backups",t));if(!a.exists())return;const o=a.data();return o.schoolId===n?o:void 0}async deleteBackup(e,t){const n=this.requireSchoolId(e,"deleteBackup");!t||!await this.getBackupDetails(n,t)||await Hi(Qs(Ct,"backups",t))}async deleteAllBackups(e){const t=this.requireSchoolId(e,"deleteAllBackups"),n=Ms(Fs(Ct,"backups"),os("schoolId","==",t)),o=(await Xs(n)).docs.map(A=>Hi(Qs(Ct,"backups",A.id)));await Promise.all(o)}}const mt=new h7,f7=({toast:s,onClose:e})=>{J.useEffect(()=>{const n=setTimeout(()=>e(s.id),s.duration);return()=>clearTimeout(n)},[s,e]);const t=s.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":s.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-[#E6F0FA] border-[#E6F0FA] text-[#0B4A82]";return r.jsx("div",{className:`max-w-sm w-full px-4 py-3 rounded-lg border shadow-md ${t} transform transition-all`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-1 text-sm leading-tight",children:s.message}),r.jsx("button",{onClick:()=>e(s.id),className:"text-slate-400 hover:text-slate-600 ml-2","aria-label":"Close notification",children:r.jsx(oo,{size:14})})]})})},m7=()=>{const[s,e]=J.useState([]);J.useEffect(()=>{let n=1;const a=o=>{const{message:A,type:h,duration:u}=o.detail||{},f=n++;e(c=>[{id:f,message:A,type:h,duration:u},...c])};return window.addEventListener("app-toast",a),()=>window.removeEventListener("app-toast",a)},[]);const t=n=>e(a=>a.filter(o=>o.id!==n));return s.length===0?null:r.jsx("div",{className:"fixed right-4 top-20 z-60 flex flex-col gap-3",children:s.map(n=>r.jsx(f7,{toast:n,onClose:t},n.id))})},lr=({children:s,title:e})=>{const{user:t,logout:n}=To(),{school:a}=kc(),o=(a==null?void 0:a.id)||null,[A,h]=J.useState(!1),u=Du(),f=u.pathname.startsWith("/admin/billing"),[c,m]=J.useState([]),[x,g]=J.useState(!1),[w,E]=J.useState(0),B=(t==null?void 0:t.role)===pn.SCHOOL_ADMIN,C=(t==null?void 0:t.role)===pn.SUPER_ADMIN,T=(a==null?void 0:a.plan)==="free",F=J.useMemo(()=>{var ye,je,ve;if(!a||T||C)return null;const Ae=_e=>{if(!_e)return null;const ke=_e instanceof Date?_e:new Date(typeof(_e==null?void 0:_e.toDate)=="function"?_e.toDate():_e);return Number.isNaN(ke.getTime())?null:ke},ie=_e=>_e==="termly"?4:_e==="yearly"?12:1,le=(a==null?void 0:a.plan)||"monthly",X=Ae(a==null?void 0:a.planEndsAt),ne=((ye=a==null?void 0:a.billing)==null?void 0:ye.lastPaymentAt)||null,re=(a==null?void 0:a.createdAt)||((je=a==null?void 0:a.billing)==null?void 0:je.createdAt)||null;let W=Ae(ne)||Ae(re);if(!W)return null;ne&&(W=new Date(W),W.setDate(1),W.setHours(0,0,0,0));const K=X||(()=>{const _e=new Date(W);return _e.setMonth(_e.getMonth()+ie(le)),_e})(),ee=10080*60*1e3,oe=new Date(K.getTime()+ee);if(new Date<oe)return null;const ue=String(((ve=a==null?void 0:a.billing)==null?void 0:ve.status)||"").toLowerCase().trim();return["active","success","paid"].includes(ue)?null:{planEndsAt:K,graceEndsAt:oe}},[a,T,C]),L=(Ae,ie="GHS")=>{if(!Ae&&Ae!==0)return"";const le=Ae>=100?Ae/100:Ae;return new Intl.NumberFormat("en-GH",{style:"currency",currency:ie,maximumFractionDigits:2}).format(le)},k=()=>`superAdminDismissedNotifications:${(t==null?void 0:t.id)||"unknown"}`,M=()=>`superAdminReadNotifications:${(t==null?void 0:t.id)||"unknown"}`,Q=()=>{try{const Ae=localStorage.getItem(k());return Ae?JSON.parse(Ae):[]}catch{return[]}},D=Ae=>{try{localStorage.setItem(k(),JSON.stringify(Ae))}catch{}},R=()=>{try{const Ae=localStorage.getItem(M());return Ae?JSON.parse(Ae):[]}catch{return[]}},V=Ae=>{try{localStorage.setItem(M(),JSON.stringify(Ae))}catch{}},O=Ae=>{if(!Ae)return Date.now();if(Ae instanceof Jn)return Ae.toMillis();if(typeof Ae=="number")return Ae;const ie=new Date(Ae);return Number.isNaN(ie.getTime())?Date.now():ie.getTime()};J.useEffect(()=>{if(B||C){const Ae=async()=>{try{if(!o&&!C)return;if(C){const X=new Set(Q()),ne=new Set(R()),re=Ms(Fs(Ct,"payments"),sv("createdAt","desc"),im(20)),K=(await Xs(re)).docs.filter(ee=>!X.has(ee.id)).map(ee=>{const oe=ee.data(),he=L(oe.amount,oe.currency||"GHS"),ue=String(oe.status||"pending").toLowerCase(),ye=["success","paid","active"].includes(ue)?"paid":["failed","failure","past_due"].includes(ue)?"failed":"pending",je=oe.schoolName||oe.schoolId||"";return{id:ee.id,schoolId:oe.schoolId||"system",message:`${je} payment ${ye}${he?`  ${he}`:""}`,createdAt:O(oe.createdAt),isRead:ne.has(ee.id),type:"system"}});m(K),E(K.filter(ee=>!ee.isRead).length);return}const le=await mt.getSystemNotifications(o);m(le),E(le.filter(X=>!X.isRead).length)}catch(le){console.error("Failed to fetch notifications",le)}};Ae();const ie=setInterval(Ae,3e4);return()=>clearInterval(ie)}},[B,C,o]);const H=async(Ae,ie)=>{if(ie.stopPropagation(),C){const le=Array.from(new Set([...R(),Ae]));V(le),m(X=>X.map(ne=>ne.id===Ae?{...ne,isRead:!0}:ne)),E(X=>Math.max(0,X-1));return}await mt.markNotificationAsRead(Ae),m(le=>le.map(X=>X.id===Ae?{...X,isRead:!0}:X)),E(le=>Math.max(0,le-1))},G=async(Ae,ie)=>{if(ie.stopPropagation(),C){const le=c.find(ne=>ne.id===Ae&&!ne.isRead),X=Array.from(new Set([...Q(),Ae]));D(X),m(ne=>ne.filter(re=>re.id!==Ae)),E(ne=>le?Math.max(0,ne-1):ne);return}try{await mt.deleteSystemNotification(Ae),m(le=>le.filter(X=>X.id!==Ae)),E(le=>c.find(ne=>ne.id===Ae&&!ne.isRead)?Math.max(0,le-1):le)}catch(le){console.error("Failed to delete notification",le)}},ae=({href:Ae,icon:ie,label:le})=>{const X=u.pathname===Ae;return r.jsxs(da,{to:Ae,className:`flex items-center px-4 py-3 transition-colors ${X?"bg-[#0B4A82] text-white border-r-4 border-[#1160A8]":"text-[#E6F0FA] hover:bg-[#1160A8] hover:text-white"}`,onClick:()=>h(!1),children:[r.jsx(ie,{className:`w-5 h-5 mr-3 ${X?"text-white":"text-[#E6F0FA]"}`}),r.jsx("span",{className:"font-medium",children:le})]})};return r.jsxs("div",{className:"h-screen bg-[#fafafa] flex",children:[A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),r.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-30 w-72 sm:w-64 bg-[#0B4A82] text-white transform transition-transform duration-200 ease-in-out overflow-y-auto
        ${A?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0 flex flex-col shadow-xl border-r border-[#0B4A82]
      `,children:[r.jsxs("div",{className:"p-5 sm:p-6 border-b border-[#0B4A82] bg-[#0B4A82] flex flex-col items-center justify-center relative",children:[r.jsx("button",{onClick:()=>h(!1),className:"md:hidden absolute top-4 right-4 text-[#E6F0FA] hover:text-white",children:r.jsx(oo,{size:24})}),C?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-[#E6F0FA] overflow-hidden",children:r.jsx("img",{src:bb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-lg sm:text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:"Super Admin Panel"}),r.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"System Administration"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-amber-500 overflow-hidden",children:r.jsx("img",{src:(a==null?void 0:a.logoUrl)||bb,alt:(a==null?void 0:a.name)||"School Management System",className:"w-full h-full object-contain rounded-full"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-lg sm:text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:(a==null?void 0:a.name)||"School Management System"}),r.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"Management System"})]})]})]}),r.jsx("nav",{className:"flex-1 py-4 sm:py-6 space-y-1",children:C?r.jsxs(r.Fragment,{children:[r.jsx(ae,{href:"/",icon:qy,label:"Dashboard"}),r.jsx(ae,{href:"/super-admin/schools",icon:rf,label:"Schools"}),r.jsx(ae,{href:"/super-admin/backups",icon:HT,label:"Backups"}),r.jsx(ae,{href:"/super-admin/payments",icon:om,label:"Payments"})]}):B?r.jsx(r.Fragment,{children:F?r.jsx(ae,{href:"/admin/billing",icon:Pp,label:"Billing"}):r.jsxs(r.Fragment,{children:[r.jsx(ae,{href:"/",icon:qy,label:"Dashboard"}),r.jsx(ae,{href:"/admin/students",icon:rf,label:"Students"}),r.jsx(ae,{href:"/admin/teachers",icon:fo,label:"Teachers"}),r.jsx(ae,{href:"/admin/attendance",icon:IP,label:"Student Attendance"}),r.jsx(ae,{href:"/admin/teacher-attendance",icon:Jf,label:"Teacher Attendance"}),r.jsx(ae,{href:"/admin/reports",icon:cl,label:"Reports"}),r.jsx(ae,{href:"/admin/report-card",icon:cl,label:"Report Card"}),r.jsx(ae,{href:"/admin/timetable",icon:CP,label:"Timetable"}),r.jsx(ae,{href:"/admin/settings",icon:d2,label:"Settings"}),!T&&r.jsx(ae,{href:"/admin/billing",icon:Pp,label:"Billing"})]})}):r.jsx(r.Fragment,{children:F?r.jsx(ae,{href:"/admin/billing",icon:Pp,label:"Billing"}):r.jsxs(r.Fragment,{children:[r.jsx(ae,{href:"/",icon:qy,label:"Dashboard"}),r.jsx(ae,{href:"/teacher/my-attendance",icon:Jf,label:"My Attendance"}),r.jsx(ae,{href:"/teacher/attendance",icon:fo,label:"Student Attendance"}),r.jsx(ae,{href:"/teacher/assessment",icon:cl,label:"Assessment"})]})})}),r.jsxs("div",{className:"p-4 border-t border-[#0B4A82] bg-[#0B4A82]",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1160A8] border-2 border-[#E6F0FA] flex items-center justify-center text-sm font-bold shadow-lg text-white",children:t==null?void 0:t.fullName.charAt(0)}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-white truncate max-w-[160px]",children:t==null?void 0:t.fullName}),r.jsx("p",{className:"text-xs text-[#E6F0FA] capitalize",children:(t==null?void 0:t.role)===pn.SUPER_ADMIN?"Super Admin":(t==null?void 0:t.role)===pn.SCHOOL_ADMIN?"School Admin":"Teacher"})]})]}),r.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center px-4 py-2 text-sm text-[#E6F0FA] hover:text-white hover:bg-[#1160A8] rounded-md transition-colors",children:[r.jsx(lM,{size:16,className:"mr-2"}),"Sign Out"]})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[r.jsx("header",{className:"bg-white shadow-sm h-14 sm:h-16 flex items-center z-10 border-b border-[#E6F0FA]",children:r.jsxs("div",{className:"mx-auto w-full max-w-[1200px] 2xl:max-w-[1400px] px-3 sm:px-4 md:px-8 flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center min-w-0",children:[r.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 -ml-2 text-[#0B4A82] hover:text-[#1160A8]",children:r.jsx(pM,{size:24})}),r.jsx("h2",{className:"text-base sm:text-xl font-bold text-[#0B4A82] ml-2 md:ml-0 truncate",children:e})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[(B||C)&&r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>g(!x),className:`relative p-2 transition-colors ${x?"text-[#0B4A82] bg-[#E6F0FA] rounded-full":"text-slate-400 hover:text-[#0B4A82]"}`,children:[r.jsx(Hd,{size:20}),w>0&&r.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-[#1160A8] rounded-full border-2 border-white"})]}),x&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),r.jsxs("div",{className:"fixed right-3 sm:right-4 top-14 sm:top-16 w-[90vw] max-w-[22rem] sm:w-96 bg-white bg-opacity-100 rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[r.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[r.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Notifications"}),r.jsxs("span",{className:"text-xs text-slate-500",children:[w," unread"]})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto bg-white",children:c.length===0?r.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No new activity."}):c.map(Ae=>r.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 transition-colors ${Ae.isRead?"bg-slate-50":"bg-white border-l-4 border-l-[#1160A8]"}`,children:r.jsxs("div",{className:"flex justify-between items-start gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm leading-snug mb-1 ${Ae.isRead?"text-slate-500":"text-slate-800 font-medium"}`,children:Ae.message}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase tracking-wide ${Ae.isRead?"bg-slate-200 text-slate-500":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:Ae.isRead?"Read":"Unread"}),r.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(Ae.createdAt).toLocaleString()})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!Ae.isRead&&r.jsx("button",{onClick:ie=>H(Ae.id,ie),className:"text-emerald-500 hover:text-emerald-700 p-1 hover:bg-emerald-50 rounded transition-colors shrink-0",title:"Mark as read",children:r.jsx(Xp,{size:16})}),r.jsx("button",{onClick:ie=>G(Ae.id,ie),className:"text-slate-400 hover:text-red-600 p-1 hover:bg-red-50 rounded transition-colors shrink-0",title:"Delete notification",children:r.jsx(oo,{size:16})})]})]})},Ae.id))})]})]})]}),r.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2 hidden sm:block"}),r.jsx("div",{className:"text-sm text-slate-500 hidden sm:block font-medium",children:new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),F&&!f&&r.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/70 p-4",children:r.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl border border-slate-200 bg-white p-6 shadow-2xl",children:[r.jsx("div",{className:"absolute -top-10 right-6 h-16 w-16 rounded-2xl bg-rose-500 text-white flex items-center justify-center shadow-lg",children:r.jsx(iM,{size:28})}),r.jsx("div",{className:"flex flex-col gap-4 pt-6",children:B?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Subscription expired"}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-1",children:"Access paused until renewal"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your one-week grace period ended on"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:F.graceEndsAt.toLocaleDateString()}),". Renew now to restore access for your team."]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[r.jsxs(da,{to:"/admin/billing",className:"inline-flex items-center justify-center gap-2 rounded-full bg-[#0B4A82] px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-[#1160A8]",children:[r.jsx(Pp,{size:16}),"Renew Subscription"]}),r.jsx("span",{className:"text-xs text-slate-500",children:"Need help? Contact your super admin."})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Subscription expired"}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-1",children:"Access temporarily paused"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your schools subscription grace period ended on"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:F.graceEndsAt.toLocaleDateString()}),". Please contact your school admin to renew and restore access."]})]}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:r.jsx("span",{className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-slate-50 px-4 py-2 text-sm font-semibold text-slate-600",children:"Waiting for admin renewal"})})]})})]})}),r.jsx("main",{className:"flex-1 overflow-auto p-3 sm:p-4 md:p-8",children:r.jsx("div",{className:"mx-auto w-full max-w-[1200px] 2xl:max-w-[1400px]",children:s})}),r.jsx(m7,{})]})]})},Xt=(s,e)=>{const t={message:s,type:(e==null?void 0:e.type)||"info",duration:(e==null?void 0:e.duration)??4e3};window.dispatchEvent(new CustomEvent("app-toast",{detail:t}))},p7=({data:s,week:e,onPreviousWeek:t,onNextWeek:n,onCurrentWeek:a,schoolReopenDate:o})=>{if(e===null)return r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col items-center justify-center",children:[r.jsx("div",{className:"relative w-12 h-12 border-3 border-slate-100 border-t-red-900 rounded-full animate-spin"}),r.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"Loading attendance data..."})]});const{monday:A,friday:h}=zT(e),f=g7().toDateString()===A.toDateString(),c=w=>{const E=w.split("-");return E.length===3?new Date(parseInt(E[0]),parseInt(E[1])-1,parseInt(E[2])):new Date(w)};let m="",x=null;o&&(x=c(o),x>new Date?m="School Closed":m="School Open");const g=w=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(w);return r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Class Attendance"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Weekly participation overview"})]}),m&&r.jsx("div",{className:`text-xs font-bold px-3 py-1 rounded-full ${m==="School Closed"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:m})]}),r.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-amber-50 rounded-xl border border-red-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold",title:"Previous week",children:""}),r.jsx("div",{className:"flex-1 mx-4 text-center",children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[g(A),"  ",g(h)]}),r.jsx("p",{className:"text-xs text-slate-500 font-medium",children:A.getFullYear()}),f&&r.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded-full mt-1 uppercase tracking-wide",children:"Current Week"})]})}),r.jsx("button",{onClick:n,disabled:f,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-200 disabled:hover:text-slate-600",title:f?"You are viewing the current week":"Next week",children:""})]}),!f&&r.jsx("div",{className:"mt-3 text-center",children:r.jsx("button",{onClick:a,className:"text-xs text-red-700 hover:text-red-800 font-semibold bg-white border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50 transition-colors",children:"Return to Current Week"})})]}),m==="School Closed"&&x&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-red-800 font-semibold",children:["School is currently closed. Attendance records will begin from"," ",g(x)]})}),r.jsx("div",{className:"flex-1 flex items-end justify-between gap-1 sm:gap-2 px-1 pb-2 h-96 w-full overflow-x-auto",children:s.map(w=>{let E="bg-amber-500";return w.percentage<50?E="bg-red-600":w.percentage>=80&&(E="bg-emerald-500"),r.jsxs("div",{className:"flex flex-col items-center flex-1 group h-full justify-end min-w-[20px]",children:[r.jsxs("div",{className:"w-full max-w-[30px] bg-slate-50 rounded-t-sm relative flex items-end h-full hover:bg-slate-100 transition-colors",children:[r.jsxs("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[w.className,": ",w.percentage,"%"]}),r.jsx("div",{className:`w-full ${E} rounded-t-sm transition-all duration-1000 ease-out relative`,style:{height:`${w.percentage}%`}})]}),r.jsx("span",{className:"text-[10px] text-slate-400 mt-2 font-medium truncate w-full text-center",children:w.className.replace("Nursery ","N").replace("Class ","P").replace("Primary ","P").replace("KG ","K").replace("JHS ","J")})]},w.id)})})]})},zT=s=>{const e=new Date(s),t=e.getDay(),n=new Date(e);n.setDate(e.getDate()-(t===0?6:t-1));const a=new Date(n);return a.setDate(n.getDate()+4),{monday:n,friday:a}},g7=()=>zT(new Date).monday,x7=Mh.memo(p7),ki=({className:s="h-4 bg-slate-100 rounded animate-pulse"})=>r.jsx("div",{className:s}),yd=({label:s="Loading"})=>r.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-slate-500",children:[r.jsxs("span",{className:"relative inline-flex h-4 w-4",children:[r.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-amber-400 via-[#0B4A82] to-emerald-400 opacity-60 blur-[1px]"}),r.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-slate-200 border-t-[#0B4A82] animate-spin"})]}),s,""]}),rN=s=>{if(!s)return null;const[e,t,n]=s.split("-").map(Number);if(!e||!t||!n)return null;const a=new Date(e,t-1,n);return Number.isNaN(a.getTime())?null:(a.setHours(0,0,0,0),a)},v7=(s,e)=>{const t=s.match(/\d+/),n=t?parseInt(t[0],10):$i;let a=n+1,o=e;if(n>=3){a=1;const A=e.split("-").map(Number);A.length===2&&A.every(h=>!Number.isNaN(h))&&(o=`${A[0]+1}-${A[1]+1}`)}return{nextTerm:a,nextAcademicYear:o}},y7=()=>{var En;Nm();const{user:s}=To(),{school:e,schoolLoading:t}=kc(),n=(e==null?void 0:e.id)||null,[a,o]=J.useState({students:0,teachers:0,classes:Is.length,maleStudents:0,femaleStudents:0,classAttendance:[]}),[A,h]=J.useState([]),[u,f]=J.useState([]),[c,m]=J.useState(null),[x,g]=J.useState(!1),[w,E]=J.useState(!1),[B,C]=J.useState(!1),[T,F]=J.useState(!1),[L,k]=J.useState(!1),[M,Q]=J.useState(null),[D,R]=J.useState(null),[V,O]=J.useState([]),[H,G]=J.useState([]),[ae,Ae]=J.useState([]),[ie,le]=J.useState([]),[X,ne]=J.useState([]),[re,W]=J.useState(!1),[K,ee]=J.useState(null),oe=Mh.useRef(null),he=Mh.useRef(null),ue=Mh.useRef(!1),ye=Mh.useRef(0),[je,ve]=J.useState(Date.now()),[_e,ke]=J.useState(0),[Me,Je]=J.useState(0),[at,ge]=J.useState(0),[ht,Kt]=J.useState(null),[Pt,Le]=J.useState(null),jt=8e3,Ve=3e4,[Fe,lt]=J.useState({academicYear:"",currentTerm:"",schoolReopenDate:"",schoolName:"",headTeacherRemark:"",termEndDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}),[xt,Et]=J.useState(null),[Jt,Mt]=J.useState({A:0,B:0,C:0,D:0,F:0}),[He,ft]=J.useState([]),[Ye,At]=J.useState({A:[],B:[],C:[],D:[],F:[]}),[es,Gt]=J.useState(null),qt=J.useMemo(()=>{const Ne=rN(Fe.vacationDate||""),nt=rN(Fe.nextTermBegins||"");if(!Ne||!nt)return null;const Tt=new Date(Ne);Tt.setDate(Tt.getDate()+1),Tt.setHours(0,0,0,0);const zt=new Date;return zt.setHours(0,0,0,0),zt<Tt||zt>=nt?null:{vacationDate:Ne,nextTermBegins:nt}},[Fe.vacationDate,Fe.nextTermBegins]),dt=Ne=>{if(!Ne)return null;const nt=Ne instanceof Date?Ne:new Date(typeof(Ne==null?void 0:Ne.toDate)=="function"?Ne.toDate():Ne);return Number.isNaN(nt.getTime())?null:(typeof Ne=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(Ne)&&nt.setHours(23,59,59,999),nt)},Ot=Ne=>Ne==="termly"?4:Ne==="yearly"?12:1,Vt=()=>{var sn,It;const Ne=(e==null?void 0:e.plan)||"monthly";if(Ne==="free")return null;const nt=dt(e==null?void 0:e.planEndsAt);if(nt)return nt;const Tt=((sn=e==null?void 0:e.billing)==null?void 0:sn.lastPaymentAt)||null,zt=(e==null?void 0:e.createdAt)||((It=e==null?void 0:e.billing)==null?void 0:It.createdAt)||null,vs=Js=>{if(!Js)return null;const Zs=Js instanceof Date?Js:new Date(typeof(Js==null?void 0:Js.toDate)=="function"?Js.toDate():Js);return Number.isNaN(Zs.getTime())?null:Zs};let cs=vs(Tt)||vs(zt);if(!cs)return null;Tt&&(cs=new Date(cs),cs.setDate(1),cs.setHours(0,0,0,0));const Vs=new Date(cs);return Vs.setMonth(Vs.getMonth()+Ot(Ne)),Vs},is=J.useMemo(()=>{if((e==null?void 0:e.plan)==="free"||(e==null?void 0:e.plan)==="trial")return null;const Ne=Vt();if(!Ne)return null;const nt=new Date(je);if(nt>=Ne)return null;const Tt=Math.max(0,Ne.getTime()-nt.getTime()),zt=Math.floor(Tt/(1440*60*1e3)),vs=Math.floor(Tt/(3600*1e3)%24),cs=Math.floor(Tt/(60*1e3)%60),Vs=Math.floor(Tt/1e3%60);return{planEndsAt:Ne,days:zt,hours:vs,minutes:cs,seconds:Vs}},[e==null?void 0:e.planEndsAt,je,e==null?void 0:e.plan]),Zt=J.useMemo(()=>{if((e==null?void 0:e.plan)!=="trial")return null;const Ne=dt(e==null?void 0:e.planEndsAt);if(!Ne)return null;const nt=new Date(je);if(nt>=Ne)return null;const Tt=Math.max(0,Ne.getTime()-nt.getTime()),zt=Math.floor(Tt/(1440*60*1e3)),vs=Math.floor(Tt/(3600*1e3)%24),cs=Math.floor(Tt/(60*1e3)%60),Vs=Math.floor(Tt/1e3%60);return{planEndsAt:Ne,days:zt,hours:vs,minutes:cs,seconds:Vs}},[e==null?void 0:e.planEndsAt,je,e==null?void 0:e.plan]),Qe=J.useMemo(()=>{if((e==null?void 0:e.plan)==="free"||(e==null?void 0:e.plan)==="trial")return null;const Ne=Vt();if(!Ne)return null;const nt=10080*60*1e3,Tt=new Date(Ne.getTime()+nt),zt=new Date(je);if(zt<Ne||zt>=Tt)return null;const vs=Math.max(0,Tt.getTime()-zt.getTime()),cs=Math.floor(vs/(1440*60*1e3)),Vs=Math.floor(vs/(3600*1e3)%24),sn=Math.floor(vs/(60*1e3)%60),It=Math.floor(vs/1e3%60);return{planEndsAt:Ne,graceEndsAt:Tt,days:cs,hours:Vs,minutes:sn,seconds:It}},[e==null?void 0:e.planEndsAt,je,e==null?void 0:e.plan]),[Ht,it]=J.useState({}),[ct,Bt]=J.useState([]),[ts,ss]=J.useState({}),[Us,zs]=J.useState({}),[as,Vn]=J.useState(null),[qs,un]=J.useState(null),[Kn,rs]=J.useState(null),[Hs,Cn]=J.useState({}),dn=J.useMemo(()=>n?`admin_dashboard_summary_${n}`:"",[n]),wn=J.useMemo(()=>n?`admin_dashboard_heavy_${n}`:"",[n]),fs=J.useMemo(()=>{if(!wn)return null;const Ne=localStorage.getItem(wn);if(!Ne)return null;try{return JSON.parse(Ne)}catch(nt){return console.warn("Failed to parse cached dashboard data",nt),localStorage.removeItem(wn),null}},[wn]);J.useLayoutEffect(()=>{var cs,Vs,sn;if(!fs)return;const Ne=new Date,nt=`${Ne.getFullYear()}-${String(Ne.getMonth()+1).padStart(2,"0")}-${String(Ne.getDate()).padStart(2,"0")}`;if(fs.attendanceDate&&fs.attendanceDate!==nt){localStorage.removeItem(wn),O([]),G([]),Ae([]);return}o(fs.stats),m(fs.stats),h(fs.notices),f(fs.recentStudents);const Tt=(fs.teacherAttendance||[]).filter(It=>It.date===nt);O(Tt);const vs=(fs.pendingTeacherAttendance||[]).filter(It=>It.approvalStatus==="pending");if(G(vs),Ae(fs.teacherTermStats),le(fs.missedAttendanceAlerts),ne(fs.missedStudentAttendanceAlerts),Mt(fs.gradeDistribution),ft(fs.topStudents),At(fs.gradeBuckets),lt(It=>({...It,...fs.schoolConfig})),it(fs.heatmapData),Bt(fs.comparativeData),ss(fs.gradeDistributionByClass),zs(fs.sparklines),ee(new Date(fs.lastUpdated)),E(!0),((cs=fs.stats)==null?void 0:cs.students)!==void 0&&ke(fs.stats.students),(sn=(Vs=fs.stats)==null?void 0:Vs.classAttendance)!=null&&sn.length){const It=fs.stats.classAttendance.map(Zs=>Zs.percentage||0),Js=It.length>0?Math.round(It.reduce((Zs,on)=>Zs+on,0)/It.length):0;Je(Js)}if(fs.gradeDistribution){const It=Object.values(fs.gradeDistribution).reduce((Js,Zs)=>Js+Zs,0);if(It>0){const Js={A:4,B:3,C:2,D:1,F:0},on=Object.entries(fs.gradeDistribution).reduce((qn,[dr,xr])=>qn+(Js[dr]??0)*(xr??0),0)/It;ge(Math.round(on/4*100))}}},[fs]);const Un=J.useCallback(async Ne=>{if(n){Ne!=null&&Ne.background||F(!0),Q(null);try{const nt=await mt.getDashboardSummary(n),Tt={students:nt.studentsCount,teachers:nt.teachersCount,classes:Is.length,maleStudents:0,femaleStudents:0,classAttendance:[]};o(zt=>({...zt,students:Tt.students,teachers:Tt.teachers,classes:Tt.classes})),m(zt=>({...zt||Tt,students:Tt.students,teachers:Tt.teachers,classes:Tt.classes})),dn&&localStorage.setItem(dn,JSON.stringify({...Tt,updatedAt:Date.now()}))}catch(nt){console.error("Summary fetch error:",nt)}finally{Ne!=null&&Ne.background||F(!1)}}},[n,dn]),zn=J.useCallback(async Ne=>{var nt,Tt;if(n&&!(ue.current&&!(Ne!=null&&Ne.force))){ue.current=!0,Ne!=null&&Ne.background||k(!0),Q(null);try{const zt=new Date,vs=`${zt.getFullYear()}-${String(zt.getMonth()+1).padStart(2,"0")}-${String(zt.getDate()).padStart(2,"0")}`,[cs,Vs,sn,It,Js,Zs,on,qn]=await Promise.all([mt.getDashboardStats(n),mt.getStudents(n),mt.getNotices(n),mt.getSchoolConfig(n),mt.getUsers(n),mt.getAllApprovedTeacherAttendance(n,vs),mt.getAllPendingTeacherAttendance(n),mt.getAllTeacherAttendanceRecords(n)]),dr=[],xr=new Date,Ln=It.schoolReopenDate?new Date(It.schoolReopenDate+"T00:00:00"):null,Ur=!Ln||xr>=Ln,ga=It.vacationDate?new Date(It.vacationDate+"T00:00:00"):null;ga&&ga.setHours(0,0,0,0);const Dr=It.nextTermBegins?new Date(It.nextTermBegins+"T00:00:00"):null;xr.setHours(0,0,0,0);const Wa=ga&&Dr&&xr>=ga&&xr<Dr,_s=5,ul=new Set([...qn.filter(qe=>qe.isHoliday).map(qe=>qe.date),...(It.holidayDates||[]).map(qe=>qe.date)]);if(Ur&&!Wa&&qn.length>0){const qe=ws=>{if(!ws)return null;let $t=[];if(ws.includes("-")){if($t=ws.split("-"),$t.length===3)return new Date(parseInt($t[0]),parseInt($t[1])-1,parseInt($t[2]))}else if(ws.includes("/")&&($t=ws.split("/"),$t.length===3))return new Date(parseInt($t[2]),parseInt($t[0])-1,parseInt($t[1]));return null},Lt=qe(It.schoolReopenDate),kt=qe(It.vacationDate);let us=new Date;for(let ws=0;ws<_s;ws++){let $t=new Date(us),y=$t.getDay();do{$t.setDate($t.getDate()-1),y=$t.getDay();const tt=kt&&$t.toDateString()===kt.toDateString();if(!(y===0||y===6||tt))break}while(!0);const Y=`${$t.getFullYear()}-${String($t.getMonth()+1).padStart(2,"0")}-${String($t.getDate()).padStart(2,"0")}`,se=$t.getTime(),be=Lt?Lt.getTime():0,We=kt&&Dr&&$t>=kt&&$t<Dr;if(se>=be&&be>0&&!We&&!ul.has(Y))for(const tt of Js.filter(Yt=>Yt.role===pn.TEACHER)){const Yt=await mt.getTeacherAttendance(n,tt.id,Y);(!Yt||Yt.isHoliday)&&dr.push({teacherId:tt.id,teacherName:tt.fullName,date:Y,classes:((nt=tt.assignedClassIds)==null?void 0:nt.map(Ds=>{var In;return(In=Is.find(ln=>ln.id===Ds))==null?void 0:In.name}).join(", "))||"Not Assigned"})}else break;us=$t}}const Fo=[];if(Ur&&!Wa){const qe=ws=>{if(!ws)return null;let $t=[];if(ws.includes("-")){if($t=ws.split("-"),$t.length===3)return new Date(parseInt($t[0]),parseInt($t[1])-1,parseInt($t[2]))}else if(ws.includes("/")&&($t=ws.split("/"),$t.length===3))return new Date(parseInt($t[2]),parseInt($t[0])-1,parseInt($t[1]));return null},Lt=qe(It.schoolReopenDate),kt=qe(It.vacationDate);let us=new Date;for(let ws=0;ws<_s;ws++){let $t=new Date(us),y=$t.getDay();do{$t.setDate($t.getDate()-1),y=$t.getDay();const Ds=kt&&$t.toDateString()===kt.toDateString();if(!(y===0||y===6||Ds))break}while(!0);const Y=`${$t.getFullYear()}-${String($t.getMonth()+1).padStart(2,"0")}-${String($t.getDate()).padStart(2,"0")}`,se=$t.getTime(),be=Lt?Lt.getTime():0,We=kt&&Dr&&$t>=kt&&$t<Dr,Yt=(await mt.getAttendanceByDate(n,Y)).some(Ds=>Ds.isHoliday)||(It.holidayDates||[]).some(Ds=>Ds.date===Y);if(se>=be&&be>0&&!We&&!Yt)for(const Ds of Js.filter(In=>In.role===pn.TEACHER&&In.assignedClassIds&&In.assignedClassIds.length>0)){const In=Ds.assignedClassIds[0],ln=((Tt=Is.find(ba=>ba.id===In))==null?void 0:Tt.name)||"Unknown Class",Qn=await mt.getAttendance(n,In,Y);(!Qn||Qn.isHoliday)&&Fo.push({teacherId:Ds.id,teacherName:Ds.fullName,date:Y,className:ln})}else break;us=$t}}const Uo=(qe,Lt)=>{if(!qe||!Lt)return 0;const kt=new Date(qe+"T00:00:00"),us=new Date(Lt+"T00:00:00");if(Number.isNaN(kt.getTime())||Number.isNaN(us.getTime())||kt>us)return 0;let ws=0;const $t=new Date(kt);for(;$t<=us;){const y=$t.getDay();y!==0&&y!==6&&ws++,$t.setDate($t.getDate()+1)}return ws},Xr=qe=>{if(!qe)return null;if(qe.includes("-")){const kt=qe.split("-");if(kt.length===3){const[us,ws,$t]=kt.map(Number);if(kt[0].length===4){const Y=new Date(us,ws-1,$t);return Number.isNaN(Y.getTime())?null:Y}const y=new Date($t,us-1,ws);return Number.isNaN(y.getTime())?null:y}}if(qe.includes("/")){const kt=qe.split("/");if(kt.length===3){const[us,ws,$t]=kt.map(Number),y=new Date($t,us-1,ws);return Number.isNaN(y.getTime())?null:y}}const Lt=new Date(qe);return Number.isNaN(Lt.getTime())?null:Lt},Jr=qn.reduce((qe,Lt)=>{const kt=Xr(Lt.date);return kt&&((!qe.min||kt<qe.min)&&(qe.min=kt,qe.minLabel=Lt.date),(!qe.max||kt>qe.max)&&(qe.max=kt,qe.maxLabel=Lt.date)),qe},{}),Ia=Jr.minLabel||"",$n=Jr.maxLabel||"",ni=It.schoolReopenDate||Ia||vs,Do=It.vacationDate||$n||vs,Yi=Xr(ni),Gl=Xr(Do),xa=Yi||new Date(vs+"T00:00:00"),ri=Gl||new Date(vs+"T00:00:00"),Xa=`${xa.getFullYear()}-${String(xa.getMonth()+1).padStart(2,"0")}-${String(xa.getDate()).padStart(2,"0")}`,Rr=`${ri.getFullYear()}-${String(ri.getMonth()+1).padStart(2,"0")}-${String(ri.getDate()).padStart(2,"0")}`,Wi=xa<=ri?Xa:Rr,va=xa<=ri?Rr:Xa,hr=new Set([...qn.filter(qe=>qe.isHoliday).map(qe=>qe.date),...(It.holidayDates||[]).map(qe=>qe.date)]),Ro=Uo(Wi,va),Ja=Math.max(0,Ro-hr.size),Xi=Js.filter(qe=>qe.role===pn.TEACHER).map(qe=>{var $t;const kt=qn.filter(y=>y.teacherId===qe.id&&y.date>=Wi&&y.date<=va&&!y.isHoliday&&y.approvalStatus!=="pending").filter(y=>y.status==="present").length,us=Ja,ws=us>0?Math.round(kt/us*100):0;return{id:qe.id,name:qe.fullName,classes:(($t=qe.assignedClassIds)==null?void 0:$t.map(y=>{var Y;return(Y=Is.find(se=>se.id===y))==null?void 0:Y.name}).join(", "))||"Not Assigned",presentDays:kt,totalDays:us,attendanceRate:ws}}),_a=qe=>qe.id||`${qe.teacherId||"unknown"}_${qe.date||""}`,dl=Zs.map(qe=>{var kt;const Lt=Js.find(us=>us.id===qe.teacherId);return{...qe,id:_a(qe),teacherName:(Lt==null?void 0:Lt.fullName)||"Unknown",teacherClasses:((kt=Lt==null?void 0:Lt.assignedClassIds)==null?void 0:kt.map(us=>{var ws;return(ws=Is.find($t=>$t.id===us))==null?void 0:ws.name}).join(", "))||"Not Assigned"}}),Fa=(on.length>0?on:qn.filter(qe=>qe.approvalStatus==="pending")).map(qe=>{var kt;const Lt=Js.find(us=>us.id===qe.teacherId);return{...qe,id:_a(qe),teacherName:(Lt==null?void 0:Lt.fullName)||"Unknown",teacherClasses:((kt=Lt==null?void 0:Lt.assignedClassIds)==null?void 0:kt.map(us=>{var ws;return(ws=Is.find($t=>$t.id===us))==null?void 0:ws.name}).join(", "))||"Not Assigned"}}),mi=qn.filter(qe=>qe.date===vs&&qe.approvalStatus!=="pending").map(qe=>{var kt;const Lt=Js.find(us=>us.id===qe.teacherId);return{...qe,id:_a(qe),teacherName:(Lt==null?void 0:Lt.fullName)||"Unknown",teacherClasses:((kt=Lt==null?void 0:Lt.assignedClassIds)==null?void 0:kt.map(us=>{var ws;return(ws=Is.find($t=>$t.id===us))==null?void 0:ws.name}).join(", "))||"Not Assigned"}});if(lt(qe=>({...qe,academicYear:It.academicYear,currentTerm:It.currentTerm,schoolReopenDate:It.schoolReopenDate||""})),It.nextTermBegins&&new Date>=new Date(It.nextTermBegins+"T00:00:00")&&!It.termTransitionProcessed)try{const{nextTerm:qe,nextAcademicYear:Lt}=v7(It.currentTerm,It.academicYear),kt={...It,currentTerm:`Term ${qe}`,academicYear:Lt,schoolReopenDate:It.nextTermBegins||"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!0};await mt.resetForNewTerm(kt),Xt("Term transition completed automatically.",{type:"success"}),setTimeout(()=>zn({background:!0}),1e3)}catch(qe){console.error("Auto term transition failed:",qe),Xt("Auto term transition failed. Please check settings.",{type:"error"})}let Lo=$i;if(It.currentTerm){const qe=It.currentTerm.match(/\d+/);qe&&(Lo=parseInt(qe[0]))}const Ti=await mt.getAllAssessments(n),ya={},P=new Map(Vs.map(qe=>[qe.id,qe]));Ti.some(qe=>{const Lt=qe.total??Fc(qe);return qe.term===Lo&&Lt>0})&&Ti.forEach(qe=>{const Lt=qe.total??Fc(qe);if(qe.term===Lo&&Lt>0&&P.has(qe.studentId)){if(!ya[qe.studentId]){const kt=P.get(qe.studentId);ya[qe.studentId]={total:0,count:0,name:kt.name,classId:kt.classId}}ya[qe.studentId].total+=Lt,ya[qe.studentId].count+=1}});const Ee={A:0,B:0,C:0,D:0,F:0},Ue=[],ze={A:[],B:[],C:[],D:[],F:[]};Object.entries(ya).forEach(([qe,Lt])=>{var $t;const kt=Lt.count>0?Lt.total/Lt.count:0,{grade:us}=ym(kt);Ee[us]!==void 0&&Ee[us]++;const ws={id:qe,name:Lt.name,class:(($t=Is.find(y=>y.id===Lt.classId))==null?void 0:$t.name)||"N/A",avg:parseFloat(kt.toFixed(1))};Ue.push(ws),ze[us]&&ze[us].push(ws)}),Ue.sort((qe,Lt)=>Lt.avg-qe.avg);const yt={students:cs.studentsCount,teachers:cs.teachersCount,classes:Is.length,maleStudents:cs.gender.male,femaleStudents:cs.gender.female,classAttendance:cs.classAttendance};o(yt),m(yt),dn&&localStorage.setItem(dn,JSON.stringify({...yt,updatedAt:Date.now()})),h(sn),f(Vs.slice(-5).reverse());const Ut=[...mi,...dl].filter(qe=>qe.date===vs).reduce((qe,Lt)=>{const kt=_a(Lt);return qe.find(us=>_a(us)===kt)||qe.push({...Lt,id:kt}),qe},[]);O(Ut);const xs=Fa.filter(qe=>qe.approvalStatus==="pending");if(G(xs),Ae(Xi),le(dr),ne(Fo),Mt(Ee),ft(Ue.slice(0,5)),At(ze),ee(new Date),E(!0),wn){const qe={stats:yt,notices:sn,recentStudents:Vs.slice(-5).reverse(),teacherAttendance:Ut,pendingTeacherAttendance:xs,teacherTermStats:Xi,missedAttendanceAlerts:dr,missedStudentAttendanceAlerts:Fo,gradeDistribution:Ee,topStudents:Ue.slice(0,5),gradeBuckets:ze,schoolConfig:{academicYear:It.academicYear,currentTerm:It.currentTerm,schoolReopenDate:It.schoolReopenDate||"",schoolName:It.schoolName,headTeacherRemark:It.headTeacherRemark,termEndDate:It.termEndDate,vacationDate:It.vacationDate,nextTermBegins:It.nextTermBegins,termTransitionProcessed:It.termTransitionProcessed},heatmapData:Ht,comparativeData:ct,gradeDistributionByClass:ts,sparklines:Us,lastUpdated:Date.now(),attendanceDate:vs};localStorage.setItem(wn,JSON.stringify(qe))}}catch(zt){console.error("Dashboard fetch error:",zt),Q("Failed to load dashboard data. Please check your internet connection or database permissions.")}finally{ue.current=!1,Ne!=null&&Ne.background||k(!1)}}},[n,dn]),fa=J.useCallback(()=>{if(!n)return;const Ne=Date.now(),nt=Ne-ye.current;if(nt>=jt){ye.current=Ne,zn({background:!0}).catch(zt=>console.error("Error refreshing attendance widgets",zt));return}if(he.current)return;const Tt=Math.max(jt-nt,0);he.current=window.setTimeout(()=>{he.current=null,ye.current=Date.now(),zn({background:!0}).catch(zt=>console.error("Error refreshing attendance widgets",zt))},Tt)},[zn,n]);J.useEffect(()=>{if(!fs||!wn)return;const Ne=fs.schoolConfig;if(!Ne||!!!(Fe.currentTerm||Fe.academicYear||Fe.schoolReopenDate))return;const Tt=(Ne.currentTerm||"")!==(Fe.currentTerm||"")||(Ne.academicYear||"")!==(Fe.academicYear||""),zt=(Ne.schoolReopenDate||"")!==(Fe.schoolReopenDate||"");(Tt||zt)&&(localStorage.removeItem(wn),O([]),G([]),Ae([]),le([]),ne([]),zn({background:!0}).catch(vs=>console.error("Error refreshing after term reset",vs)))},[fs,wn,Fe.currentTerm,Fe.academicYear,Fe.schoolReopenDate,zn]);const za=async Ne=>{if(!(!n||!(s!=null&&s.id)))try{await mt.approveTeacherAttendance(n,Ne.id,s.id),Xt(`Approved attendance for ${Ne.teacherName}.`,{type:"success"}),G(nt=>nt.filter(Tt=>Tt.id!==Ne.id)),O(nt=>[...nt,{...Ne,approvalStatus:"approved",approvedBy:s.id}]),wn&&localStorage.removeItem(wn)}catch(nt){console.error("Failed to approve attendance",nt),Xt("Failed to approve attendance.",{type:"error"})}},Ci=async Ne=>{if(!(!n||!(s!=null&&s.id)))try{await mt.rejectTeacherAttendance(n,Ne.id,s.id),Xt(`Rejected attendance for ${Ne.teacherName}.`,{type:"success"}),G(nt=>nt.filter(Tt=>Tt.id!==Ne.id)),O(nt=>[...nt,{...Ne,approvalStatus:"rejected",status:"absent",approvedBy:s.id}]),wn&&localStorage.removeItem(wn)}catch(nt){console.error("Failed to reject attendance",nt),Xt("Failed to reject attendance.",{type:"error"})}},ma=J.useCallback(async()=>{n&&(C(!0),await Promise.all([Un({background:!0}),zn({background:!0})]),C(!1))},[Un,zn,n]),_r=async()=>{try{if(!n)return;const Ne=await mt.getDashboardStats(n),nt=(Ne.classAttendance||[]).map(zt=>zt.percentage||0),Tt=nt.length>0?Math.round(nt.reduce((zt,vs)=>zt+vs,0)/nt.length):0;o(zt=>({...zt,students:Ne.studentsCount,teachers:Ne.teachersCount,classes:Is.length,maleStudents:Ne.gender.male,femaleStudents:Ne.gender.female,classAttendance:Ne.classAttendance})),dn&&localStorage.setItem(dn,JSON.stringify({students:Ne.studentsCount,teachers:Ne.teachersCount,classes:Is.length,maleStudents:Ne.gender.male,femaleStudents:Ne.gender.female,classAttendance:Ne.classAttendance,updatedAt:Date.now()})),ee(new Date),E(!0),Nn(ke,Ne.studentsCount,600),Nn(Je,Tt,600);try{const vs=(await mt.getAllAssessments(n)).slice(-300),cs={};vs.forEach(It=>{cs[It.studentId]||(cs[It.studentId]={total:0,count:0});const Js=It.total??Fc(It);cs[It.studentId].total+=Js,cs[It.studentId].count+=1});const Vs=Object.values(cs).map(It=>It.count>0?It.total/It.count:0),sn=Vs.length>0?Math.round(Vs.reduce((It,Js)=>It+Js,0)/Vs.length):0;Nn(ge,sn,600)}catch(zt){console.error("Failed to compute grade avg",zt)}Fr().catch(zt=>console.error(zt)),hi().catch(zt=>console.error("Failed to compute visuals",zt))}catch(Ne){console.error("Failed to fetch live stats",Ne)}},hi=async()=>{try{if(!n)return;const Ne=await mt.getAllAssessments(n),nt=await mt.getStudents(n),Tt={},zt={},vs={},cs={},Vs=new Map(nt.map(Zs=>[Zs.id,Zs.classId]));Ne.forEach(Zs=>{const on=Zs.classId||Vs.get(Zs.studentId)||"unknown",qn=Zs.subject||"General",dr=Zs.total??Fc(Zs);Tt[on]||(Tt[on]={}),Tt[on][qn]||(Tt[on][qn]={total:0,count:0}),Tt[on][qn].total+=dr,Tt[on][qn].count+=1,zt[on]||(zt[on]={total:0,count:0}),zt[on].total+=dr,zt[on].count+=1;const xr=dr,Ln=xr>=80?"A":xr>=65?"B":xr>=50?"C":xr>=35?"D":"F";vs[on]||(vs[on]={A:0,B:0,C:0,D:0,F:0}),vs[on][Ln]=(vs[on][Ln]||0)+1;const Ur=Zs.date?new Date(Zs.date).getTime():Zs.createdAt?new Date(Zs.createdAt).getTime():Date.now();cs[on]||(cs[on]=[]),cs[on].push({date:Ur,avg:dr})});const sn={};Object.entries(Tt).forEach(([Zs,on])=>{sn[Zs]={},Object.entries(on).forEach(([qn,dr])=>{sn[Zs][qn]=Math.round(dr.total/Math.max(1,dr.count))})});const It=Object.entries(zt).map(([Zs,on])=>{var qn;return{className:((qn=Is.find(dr=>dr.id===Zs))==null?void 0:qn.name)||Zs,avg:Math.round(on.total/Math.max(1,on.count))}}).sort((Zs,on)=>on.avg-Zs.avg),Js={};Object.entries(cs).forEach(([Zs,on])=>{const qn=on.sort((Ur,ga)=>Ur.date-ga.date),dr=8,xr=Math.max(1,Math.ceil(qn.length/dr)),Ln=[];for(let Ur=0;Ur<qn.length;Ur+=xr){const ga=qn.slice(Ur,Ur+xr),Dr=Math.round(ga.reduce((Wa,_s)=>Wa+_s.avg,0)/ga.length);Ln.push(Dr)}for(;Ln.length<dr;)Ln.unshift(Ln[0]??0);Js[Zs]=Ln.slice(-dr)}),it(sn),Bt(It),ss(vs),zs(Js)}catch(Ne){console.error("Error fetching visualizations",Ne)}},Nn=(Ne,nt,Tt=500)=>{const zt=Date.now(),vs=0,cs=()=>{const Vs=Math.min(1,(Date.now()-zt)/Tt),sn=Math.round(vs+(nt-vs)*Vs);Ne(sn),Vs<1&&requestAnimationFrame(cs)};requestAnimationFrame(cs)},br=async(Ne,nt)=>{const Tt=[];for(const zt of Is)try{if(!n)return null;const cs=(await mt.getClassAttendance(n,zt.id)).filter(sn=>{const It=sn.date.split("-");if(It.length!==3)return!1;const Js=new Date(parseInt(It[0]),parseInt(It[1])-1,parseInt(It[2]));return Js>=Ne&&Js<=nt&&!sn.isHoliday}),Vs=(await mt.getStudents(n,zt.id)).length||0;if(cs.length>0&&Vs>0){const sn=cs.length*Vs,It=cs.reduce((Js,Zs)=>{var on;return Js+(((on=Zs.presentStudentIds)==null?void 0:on.length)||0)},0);Tt.push(Math.round(It/sn*100))}}catch(vs){console.error("Error computing class attendance for",zt.id,vs)}return Tt.length===0?null:Math.round(Tt.reduce((zt,vs)=>zt+vs,0)/Tt.length)},Fr=async()=>{const Ne=xt||new Date,{monday:nt}=wr(Ne),Tt=nt,zt=new Date(nt);zt.setDate(nt.getDate()+4);const vs=new Date(nt);vs.setDate(nt.getDate()-7);const cs=new Date(vs);cs.setDate(vs.getDate()+4);const Vs=await br(Tt,zt),sn=await br(vs,cs);Kt(Vs),Le(sn)};J.useEffect(()=>{if(!(t||!n)){if(g(!1),dn){const Ne=localStorage.getItem(dn);if(Ne)try{const nt=JSON.parse(Ne);o(Tt=>({...Tt,students:nt.students??Tt.students,teachers:nt.teachers??Tt.teachers,classes:nt.classes??Tt.classes,maleStudents:nt.maleStudents??Tt.maleStudents,femaleStudents:nt.femaleStudents??Tt.femaleStudents,classAttendance:nt.classAttendance??Tt.classAttendance})),m(nt)}catch(nt){console.warn("Failed to parse cached dashboard summary",nt),localStorage.removeItem(dn)}}Un().catch(Ne=>console.error(Ne)),fs?zn({background:!0}).catch(Ne=>console.error(Ne)):zn().catch(Ne=>console.error(Ne))}},[t,n,Un,zn,dn,fs]),J.useEffect(()=>{if(!n)return;const Ne=Ms(Fs(Ct,"attendance"),os("schoolId","==",n)),nt=Ms(Fs(Ct,"assessments"),os("schoolId","==",n)),Tt=Ms(Fs(Ct,"teacher_attendance"),os("schoolId","==",n)),zt=Qs(Ct,"settings",n),vs=Fd(Ne,()=>{_r().catch(It=>console.error("Error refreshing stats on attendance change",It))}),cs=Fd(nt,()=>{_r().catch(It=>console.error("Error refreshing stats on assessments change",It))}),Vs=Fd(Tt,()=>{_r().catch(It=>console.error("Error refreshing stats on teacher attendance change",It)),fa()}),sn=Fd(zt,It=>{if(It.exists()){const Js=It.data();lt(Zs=>({...Zs,academicYear:Js.academicYear||Co,currentTerm:Js.currentTerm||`Term ${$i}`,schoolReopenDate:Js.schoolReopenDate||""}))}});return()=>{vs(),cs(),sn(),Vs()}},[n]),J.useEffect(()=>{if(!re){oe.current&&(clearInterval(oe.current),oe.current=null);return}return _r(),oe.current=window.setInterval(()=>{document.visibilityState==="visible"&&_r()},Ve),()=>{oe.current&&(clearInterval(oe.current),oe.current=null)}},[re]),J.useEffect(()=>()=>{he.current&&(clearTimeout(he.current),he.current=null)},[]),J.useEffect(()=>{if(!K)return;ve(Date.now());const Ne=window.setInterval(()=>ve(Date.now()),1e3);return()=>clearInterval(Ne)},[K]),J.useEffect(()=>{if(Fe.schoolReopenDate){const Ne=Fe.schoolReopenDate.split("-"),nt=Ne.length===3?new Date(parseInt(Ne[0]),parseInt(Ne[1])-1,parseInt(Ne[2])):new Date(Fe.schoolReopenDate);if(nt>new Date){Et(wr(nt).monday);return}}Et(wr(new Date).monday)},[Fe.schoolReopenDate]),J.useEffect(()=>{const Ne=()=>R(null);return D&&window.addEventListener("click",Ne),()=>window.removeEventListener("click",Ne)},[D]);const Er=(Ne,nt)=>{Ne.stopPropagation(),R(D===nt?null:nt)},Gn=async Ne=>{R(null),Vn(Ne),un(null);try{const nt=await mt.getStudentPerformance(n,Ne.id,Ne.classId);un(nt)}catch(nt){console.error(nt)}},Ga=Ne=>{R(null),rs(Ne),Cn({...Ne})},ia=async Ne=>{if(Ne.preventDefault(),!(!Kn||!Hs.name))try{const nt={...Kn,...Hs};await mt.updateStudent(nt),ma(),rs(null)}catch{Xt("Failed to update student",{type:"error"})}},Tr=async Ne=>{Gt(null);try{if(!n)return;const Tt=(await mt.getStudents(n)).find(zt=>zt.id===Ne);Tt?Gn(Tt):Xt("Student not found",{type:"error"})}catch(nt){console.error(nt),Xt("Failed to fetch student",{type:"error"})}},wr=Ne=>{const nt=new Date(Ne),Tt=nt.getDay(),zt=new Date(nt);zt.setDate(nt.getDate()-(Tt===0?6:Tt-1));const vs=new Date(zt);return vs.setDate(zt.getDate()+4),{monday:zt,friday:vs}},$a=Ne=>{if(!Ne)return"";const nt=new Date(`${Ne}T00:00:00`);if(Number.isNaN(nt.getTime()))return"";const Tt=new Date;Tt.setHours(0,0,0,0);const zt=Math.round((nt.getTime()-Tt.getTime())/(1e3*60*60*24));return zt===0?"Today":zt===-1?"Yesterday":zt===1?"Tomorrow":""},Io=()=>{if(xt===null)return;const Ne=new Date(xt);if(Ne.setDate(Ne.getDate()-7),Fe.schoolReopenDate){const nt=Fe.schoolReopenDate.split("-"),Tt=nt.length===3?new Date(parseInt(nt[0]),parseInt(nt[1])-1,parseInt(nt[2])):new Date(Fe.schoolReopenDate),zt=wr(Tt).monday;if(Ne<zt){Xt("Cannot view weeks before school re-opens",{type:"info"});return}}Et(Ne)},Nl=()=>{if(xt===null)return;const Ne=new Date(xt);Ne.setDate(Ne.getDate()+7),Et(Ne)},_o=()=>{if(Fe.schoolReopenDate){const Ne=Fe.schoolReopenDate.split("-"),nt=Ne.length===3?new Date(parseInt(Ne[0]),parseInt(Ne[1])-1,parseInt(Ne[2])):new Date(Fe.schoolReopenDate);if(nt>new Date){Et(wr(nt).monday);return}}Et(wr(new Date).monday)},pa=({title:Ne,value:nt,subtext:Tt,icon:zt,colorClass:vs,iconColorClass:cs})=>r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between relative overflow-hidden group hover:shadow-md transition-shadow min-h-[140px]",children:[r.jsx("div",{className:"flex justify-between items-start z-10",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:Ne}),r.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:nt}),Tt&&r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Tt})]})}),r.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-10 pointer-events-none transform group-hover:scale-110 transition-transform ${cs}`,children:r.jsx(zt,{size:100})})]}),oa=({title:Ne,value:nt,suffix:Tt,delta:zt,deltaPositive:vs})=>r.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:Ne}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-2xl font-bold text-slate-800",children:nt}),Tt&&r.jsx("span",{className:"text-sm text-slate-500",children:Tt})]})]}),r.jsx("div",{className:`text-sm font-semibold px-2 py-1 rounded ${vs?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:zt??"--"})]})}),zr=()=>r.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(oa,{title:"Students Enrolled",value:_e,suffix:"total",delta:null,deltaPositive:!0}),r.jsx(oa,{title:"Attendance Now",value:`${Me}%`,suffix:null,delta:ht!==null&&Pt!==null?`${ht-Pt}% vs last week`:"No comparison",deltaPositive:ht!==null&&Pt!==null?ht-Pt>=0:!0}),r.jsx(oa,{title:"Avg Grade",value:`${at}%`,suffix:null,delta:null,deltaPositive:!0})]})}),jn=()=>r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-2xl shadow-md border border-amber-200 flex flex-col justify-between min-h-[140px] overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 min-w-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Students Enrolled"}),r.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-amber-900 mt-2",children:a.students}),r.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[a.classes," classes  ",a.teachers," teachers"]})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:r.jsx(rf,{className:"text-amber-600",size:28})})})]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Female"}),r.jsx("div",{className:"text-lg font-bold text-[#0B4A82]",children:a.femaleStudents})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Male"}),r.jsx("div",{className:"text-lg font-bold text-amber-600",children:a.maleStudents})]})]}),r.jsx("div",{className:"hidden sm:flex items-end gap-2 flex-1 max-w-[55%] overflow-hidden",children:a.classAttendance.slice(0,8).map(Ne=>r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full rounded-sm",title:`${Ne.className}: ${Ne.percentage}%`,style:{background:Ne.percentage>=80?"#16a34a":Ne.percentage<50?"#dc2626":"#f59e0b",height:`${Math.max(6,Math.round(Ne.percentage/2))}px`}}),r.jsx("div",{className:"text-[10px] text-slate-500 mt-1 truncate text-center",children:Ne.className.replace("Primary ","P").replace("Class ","P").replace("Nursery ","N")})]},Ne.id))})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",K?`${Math.floor((je-K.getTime())/1e3)}s ago`:""]}),r.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Responsive  Clean  Insightful"})]})]}),Ei=()=>{const Ne=a.teachers>0?Math.round(a.students/a.teachers):"";return r.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 p-6 rounded-2xl shadow-md border border-sky-200 flex flex-col justify-between min-h-[140px]",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase text-sky-700",children:"Teachers & Staff"}),r.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-sky-900 mt-2",children:a.teachers}),r.jsxs("p",{className:"text-sm text-sky-700 mt-1",children:["Teaching across ",a.classes," classes"]})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:r.jsx(fo,{className:"text-sky-600",size:28})})})]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Avg Students / Teacher"}),r.jsx("div",{className:"text-lg font-bold text-sky-800",children:Ne})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Classes"}),r.jsx("div",{className:"text-lg font-bold text-sky-800",children:a.classes})]})]}),r.jsx("div",{className:"hidden sm:flex items-center gap-3",children:r.jsx(da,{to:"/admin/teachers",className:"text-xs bg-white px-3 py-1 rounded-md font-medium text-sky-700 shadow-sm hover:underline",children:"Manage Staff"})})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",K?`${Math.floor((je-K.getTime())/1e3)}s ago`:""]}),r.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Professional  Accessible  Responsive"})]})]})},Ya=()=>{const Ne=a.maleStudents+a.femaleStudents||1,nt=Math.round(a.maleStudents/Ne*100),Tt=Math.round(a.femaleStudents/Ne*100);return r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center items-center",children:[r.jsx("h3",{className:"font-bold text-slate-800 w-full mb-6",children:"Demographics"}),r.jsxs("div",{className:"relative w-48 h-48",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-slate-50"}),r.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#1160A8 0% ${Tt}%, #f59e0b ${Tt}% 100%)`,mask:"radial-gradient(transparent 60%, black 61%)",WebkitMask:"radial-gradient(transparent 60%, black 61%)"}}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[r.jsx("span",{className:"text-3xl font-bold text-slate-800",children:a.students}),r.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Total"})]})]}),r.jsxs("div",{className:"flex w-full justify-between px-6 mt-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Female"}),r.jsxs("p",{className:"text-xl font-bold text-[#0B4A82]",children:[Tt,"%"]}),r.jsx("p",{className:"text-lg font-bold text-[#1160A8] mt-1",children:a.femaleStudents})]}),r.jsx("div",{className:"w-px bg-slate-100"}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Male"}),r.jsxs("p",{className:"text-xl font-bold text-amber-500",children:[nt,"%"]}),r.jsx("p",{className:"text-lg font-bold text-amber-600 mt-1",children:a.maleStudents})]})]})]})},xn=()=>{const Ne=Object.keys(Jt).reduce((cs,Vs)=>cs+Jt[Vs],0)||0,nt={A:4,B:3,C:2,D:1,F:0},Tt=Object.entries(Jt).reduce((cs,[Vs,sn])=>{const It=nt[Vs]??0;return cs+It*sn},0),zt=Ne>0?Tt/Ne:0,vs=zt>=3.5?"A":zt>=2.5?"B":zt>=1.5?"C":zt>=.5?"D":"F";return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-2xl shadow-md border border-slate-100 overflow-x-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-xl",children:r.jsx(Wp,{className:"w-6 h-6 text-[#0B4A82]"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-800",children:"Academic Performance Rate"}),r.jsx("p",{className:"text-xs text-slate-500",children:Fe.currentTerm})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:ml-6 gap-4 sm:gap-6 sm:hidden",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:Ne})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:[vs," ",r.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["(",zt.toFixed(2),")"]})]})]})]}),r.jsxs("div",{className:"hidden sm:block ml-6",children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:Ne})]}),r.jsxs("div",{className:"hidden sm:block ml-6",children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),r.jsxs("p",{className:"text-2xl font-bold text-amber-500",children:[vs," ",r.jsxs("span",{className:"text-sm text-slate-500",children:["(",zt.toFixed(2),")"]})]})]})]}),r.jsxs("button",{onClick:ma,disabled:B,className:"flex items-center px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",title:"Refresh performance data",children:[r.jsx(vm,{size:14,className:`mr-1 ${B?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3 max-h-[320px] overflow-y-auto pr-1",children:Object.entries(Jt).map(([cs,Vs])=>{const sn=Ne>0?Math.round(Vs/Ne*100):0;let It="from-emerald-400 to-emerald-600";return cs==="B"&&(It="from-[#E6F0FA] to-[#1160A8]"),cs==="C"&&(It="from-amber-300 to-amber-500"),cs==="D"&&(It="from-orange-300 to-orange-500"),cs==="F"&&(It="from-red-400 to-red-600"),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 font-bold text-slate-700",children:cs}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"relative h-4 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full bg-gradient-to-r ${It} transition-all duration-1000`,style:{width:`${sn}%`},title:`${Vs} students  ${sn}%`})}),r.jsxs("div",{className:"mt-2 flex justify-between text-xs text-slate-500",children:[r.jsxs("span",{children:[Vs," ",Vs===1?"student":"students"]}),r.jsxs("span",{className:"font-semibold text-slate-700",children:[sn,"%"]})]})]}),r.jsx("div",{className:"ml-4",children:r.jsx("button",{onClick:()=>Gt(cs),className:"text-xs text-[#0B4A82] hover:underline font-medium",children:"View"})})]},cs)})}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-emerald-400 to-emerald-600","aria-hidden":!0}),r.jsx("span",{className:"text-xs text-slate-600",children:"A  Excellent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-[#E6F0FA] to-[#1160A8]","aria-hidden":!0}),r.jsx("span",{className:"text-xs text-slate-600",children:"B  Very Good"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-amber-300 to-amber-500","aria-hidden":!0}),r.jsx("span",{className:"text-xs text-slate-600",children:"C  Satisfactory"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-orange-300 to-orange-500","aria-hidden":!0}),r.jsx("span",{className:"text-xs text-slate-600",children:"D  Needs Support"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-red-400 to-red-600","aria-hidden":!0}),r.jsx("span",{className:"text-xs text-slate-600",children:"F  Intervention Required"})]})]}),Ne===0&&r.jsxs("div",{className:"text-center text-slate-400 py-4 text-sm",children:["No academic data available for ",Fe.currentTerm,"."]}),r.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-[#E6F0FA] rounded-lg text-sm text-slate-700 border border-slate-100",children:[r.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"What this chart shows"}),r.jsx("div",{className:"text-sm",children:"Each bar represents the number of students who received that grade during the selected term. Percentages are calculated against the total number of graded students. Use the counts and percentages to identify strengths (high A/B) and areas for intervention (high D/F). Hover a bar to see the exact count."})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[r.jsx(JM,{className:"w-5 h-5 mr-2 text-amber-500"})," Top Performers"]}),r.jsx("div",{className:"space-y-4",children:He.length===0?r.jsx("p",{className:"text-sm text-slate-400 italic",children:"No data yet."}):He.map((cs,Vs)=>r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-2 last:border-0 last:pb-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${Vs===0?"bg-amber-500":"bg-slate-300"}`,children:Vs+1}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:cs.name}),r.jsx("p",{className:"text-xs text-slate-400",children:cs.class})]})]}),r.jsx("span",{className:"text-sm font-bold text-[#0B4A82]",children:cs.avg})]},Vs))})]})]})},fi=T||!w;return M?r.jsx(lr,{title:"Dashboard",children:r.jsxs("div",{className:"flex items-center justify-center h-96 flex-col p-8",children:[r.jsx(e1,{size:48,className:"text-red-400 mb-4"}),r.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Unable to load dashboard"}),r.jsx("p",{className:"text-slate-500 text-center max-w-md mb-6",children:M}),r.jsxs("button",{onClick:ma,className:"flex items-center px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors",children:[r.jsx(vm,{size:16,className:"mr-2"})," Retry"]})]})}):r.jsxs(lr,{title:"Dashboard",children:[r.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome",s!=null&&s.fullName?`, ${s.fullName}`:""]}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Here is what's happening in your school today."}),r.jsx("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-2",children:B||L?r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),"Refreshing data"]}):r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"}),"Data up to date"]})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right mr-2 hidden sm:block",children:[r.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Academic Period"}),r.jsxs("p",{className:"text-sm font-bold text-[#0B4A82]",children:[Fe.currentTerm,"  ",Fe.academicYear]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(da,{to:"/admin/students",className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors shadow-sm text-sm font-medium",children:[r.jsx(f2,{size:16,className:"mr-2"}),"Add Student"]}),r.jsxs(da,{to:"/admin/teachers",className:"flex items-center px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",children:[r.jsx(fo,{size:16,className:"mr-2"}),"Add Staff"]})]}),r.jsxs("div",{className:"ml-4 flex flex-col items-end text-right",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`w-3 h-3 rounded-full ${re?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":!0}),r.jsx("button",{onClick:()=>W(Ne=>!Ne),className:"text-xs text-slate-600 hover:underline",title:"Toggle live metrics polling",children:re?"Live Metrics On":"Enable Live Metrics"})]}),r.jsx("div",{className:"text-xs text-slate-400 mt-1",children:K?`Updated ${Math.floor((je-K.getTime())/1e3)}s ago`:"Not updated"})]})]})]}),qt&&r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"rounded-2xl border border-sky-200 bg-gradient-to-r from-sky-50 via-white to-blue-50 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-[#0B4A82] text-white",children:r.jsx(Si,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-sky-700",children:"School Vacation"}),r.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Your school is currently on vacation"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["School will reopen on"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:qt.nextTermBegins.toLocaleDateString()}),"."]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-[#0B4A82] text-white",children:"Vacation mode"}),r.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[r.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Next term"}),r.jsx("div",{className:"text-sm font-bold",children:qt.nextTermBegins.toLocaleDateString()})]})]})]})})}),is&&r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-[#0B4A82] text-white",children:r.jsx(Si,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Subscription Countdown"}),r.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Renewal due soon"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your subscription ends on"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:is.planEndsAt.toLocaleDateString()}),". Renew before the end date to avoid interruption."]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-[#0B4A82] text-white",children:"Subscription ends"}),r.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-slate-50 border border-slate-200 text-slate-700",children:[r.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),r.jsxs("div",{className:"text-lg font-bold",children:[is.days,"d ",is.hours,"h"," ",is.minutes,"m"," ",is.seconds,"s"]})]}),r.jsxs(da,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#1160A8] transition-colors",children:[r.jsx(om,{size:16}),"Renew Now"]})]})]})})}),Zt&&r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/70 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-emerald-500 text-white",children:r.jsx(tN,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Trial Countdown"}),r.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Trial access ends soon"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Your trial ends on"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:Zt.planEndsAt.toLocaleDateString()}),". Make the most of your evaluation period."]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-emerald-500 text-white",children:"Trial ends"}),r.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[r.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),r.jsxs("div",{className:"text-lg font-bold",children:[Zt.days,"d ",Zt.hours,"h"," ",Zt.minutes,"m ",Zt.seconds,"s"]})]}),r.jsxs(da,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#1160A8] transition-colors",children:[r.jsx(om,{size:16}),"Upgrade Plan"]})]})]})})}),Qe&&r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-amber-500 text-white",children:r.jsx(tN,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Subscription Reminder"}),r.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"One-week grace period is active"}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Your subscription has ended. You have a one-week window to renew before access is paused."}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Grace ends on"," ",Qe.graceEndsAt.toLocaleDateString(),"."]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("div",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white",children:"Grace period"}),r.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[r.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),r.jsxs("div",{className:"text-lg font-bold",children:[Qe.days,"d ",Qe.hours,"h"," ",Qe.minutes,"m ",Qe.seconds,"s"]})]}),r.jsxs(da,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-colors",children:[r.jsx(om,{size:16}),"Go to Billing"]})]})]})})}),r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-[#0B4A82] text-white",children:r.jsx(Hd,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Customer Support"}),r.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:"Need assistance? Reach us anytime"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["WhatsApp or call support:"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:"0201008784"}),"."]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("a",{href:"https://wa.me/233201008784",className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-medium hover:bg-emerald-700 transition-colors",target:"_blank",rel:"noreferrer",children:"WhatsApp"}),r.jsx("a",{href:"tel:+233201008784",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#1160A8] transition-colors",children:"Call Support"})]})]})})}),ie.length>0&&r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(e1,{className:"text-red-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Attendance Alerts"}),r.jsxs("p",{className:"text-red-700 text-sm",children:[ie.length," teacher",ie.length!==1?"s":""," have missed attendance recently."]})]})]}),r.jsx("div",{className:"space-y-3 max-h-[320px] overflow-y-auto pr-1",children:ie.map(Ne=>r.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-red-600",children:Ne.teacherName.charAt(0)})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:Ne.teacherName}),r.jsx("p",{className:"text-sm text-slate-500",children:Ne.classes})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed:"," ",(()=>{const nt=Ne.date.split("-");return nt.length===3?`${nt[1]}/${nt[2]}/${nt[0]}`:Ne.date})()]}),r.jsx("p",{className:"text-xs text-slate-400",children:"Please follow up"})]})]})},`${Ne.teacherId}-${Ne.date}`))})]})}),X.length>0&&r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-sky-50 border border-blue-200 rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(e1,{className:"text-blue-600",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-blue-900 text-lg",children:"Missed Student Attendance"}),r.jsxs("p",{className:"text-blue-700 text-sm",children:[X.length," teacher",X.length!==1?"s":""," have not marked student attendance recently."]})]})]}),r.jsx("div",{className:"space-y-3 max-h-[320px] overflow-y-auto pr-1",children:X.map(Ne=>r.jsx("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-blue-700",children:Ne.teacherName.charAt(0)})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:Ne.teacherName}),r.jsx("p",{className:"text-sm text-slate-500",children:Ne.className})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-blue-700",children:["Missed for:"," ",(()=>{const nt=Ne.date.split("-");return nt.length===3?`${nt[1]}/${nt[2]}/${nt[0]}`:Ne.date})()]}),r.jsx("p",{className:"text-xs text-slate-400",children:"Action may be required"})]})]})},`${Ne.teacherId}-${Ne.date}`))})]})}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Overview"}),(T||B)&&r.jsx(yd,{})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[fi?r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[r.jsx(ki,{className:"h-4 w-32"}),r.jsx(ki,{className:"h-10 w-24 mt-4"}),r.jsx(ki,{className:"h-4 w-40 mt-4"}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsx(ki,{className:"h-6 w-16"}),r.jsx(ki,{className:"h-6 w-16"})]})]}):r.jsx(jn,{}),fi?r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[r.jsx(ki,{className:"h-4 w-32"}),r.jsx(ki,{className:"h-10 w-24 mt-4"}),r.jsx(ki,{className:"h-4 w-40 mt-4"}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsx(ki,{className:"h-6 w-16"}),r.jsx(ki,{className:"h-6 w-16"})]})]}):r.jsx(Ei,{}),r.jsx(pa,{title:"Notices",value:fi?"":A.length,subtext:"Active Announcements",icon:Hd,colorClass:"bg-[#E6F0FA]",iconColorClass:"text-[#0B4A82]"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Live KPIs"}),(T||B)&&r.jsx(yd,{})]}),fi?r.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((Ne,nt)=>r.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[r.jsx(ki,{className:"h-4 w-24"}),r.jsx(ki,{className:"h-8 w-20 mt-3"}),r.jsx(ki,{className:"h-4 w-16 mt-2"})]},nt))})}):r.jsx(zr,{})]}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Attendance & Demographics"}),(L||B)&&r.jsx(yd,{})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[r.jsx("div",{className:"lg:col-span-2 h-[550px]",children:fi?r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full",children:[r.jsx(ki,{className:"h-5 w-40"}),r.jsx(ki,{className:"h-4 w-64 mt-3"}),r.jsx(ki,{className:"h-64 mt-6"})]}):r.jsx(x7,{data:a.classAttendance,week:xt,onPreviousWeek:Io,onNextWeek:Nl,onCurrentWeek:_o,schoolReopenDate:Fe.schoolReopenDate})}),r.jsx("div",{className:"h-96",children:fi?r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center",children:[r.jsx(ki,{className:"h-5 w-32"}),r.jsx(ki,{className:"h-44 w-44 rounded-full mx-auto mt-6"}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsx(ki,{className:"h-6 w-20"}),r.jsx(ki,{className:"h-6 w-20"})]})]}):r.jsx(Ya,{})})]}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Academic Performance"}),(L||B)&&r.jsx(yd,{})]}),r.jsx(xn,{}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-visible",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-800",children:"New Admissions"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Recently added students"})]}),(L||B)&&r.jsx(yd,{}),r.jsx(da,{to:"/admin/students",className:"text-sm text-[#0B4A82] hover:text-[#0B4A82] font-medium bg-[#E6F0FA] px-3 py-1 rounded-full transition-colors",children:"View All"})]}),r.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:r.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Student Name"}),r.jsx("th",{className:"px-6 py-3",children:"Assigned Class"}),r.jsx("th",{className:"px-6 py-3",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-6 text-center text-slate-400",children:"No students yet."})}):u.map((Ne,nt)=>{var Tt;return r.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[r.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${Ne.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:Ne.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{children:Ne.name}),r.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:Ne.gender})]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:(Tt=Is.find(zt=>zt.id===Ne.classId))==null?void 0:Tt.name})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"inline-flex items-center text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5"}),"Active"]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:zt=>Er(zt,Ne.id),className:`transition-colors p-1.5 rounded-full hover:bg-slate-200 ${D===Ne.id?"text-[#1160A8] bg-slate-100":"text-slate-400"}`,children:r.jsx(WP,{size:18})}),D===Ne.id&&r.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-xl border border-slate-100 z-50 py-1 text-left animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[r.jsxs("button",{onClick:()=>Gn(Ne),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[r.jsx(Qu,{size:14,className:"mr-2"})," View Details"]}),r.jsxs("button",{onClick:()=>Ga(Ne),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[r.jsx(h2,{size:14,className:"mr-2"})," Edit Student"]})]})]})})]},Ne.id)})})]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-[#0B4A82] to-[#0B4A82] rounded-2xl shadow-lg border border-[#0B4A82] overflow-hidden flex flex-col text-white self-start",children:[r.jsxs("div",{className:"p-6 border-b border-[#0B4A82] flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-[#E6F0FA]",children:"Notice Board"}),r.jsx("p",{className:"text-xs text-slate-300",children:"School announcements"})]}),(L||B)&&r.jsx(yd,{label:"Refreshing"}),r.jsx(da,{to:"/admin/settings",className:"p-2 rounded-lg hover:bg-white/10 text-slate-300 transition-colors",children:r.jsx(d2,{size:18})})]}),r.jsx("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto max-h-[400px]",children:A.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:[r.jsx(Si,{size:40,className:"mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:"No new notices"})]}):A.map((Ne,nt)=>r.jsxs("div",{className:"group relative pl-4 pb-4 border-l border-slate-700 last:pb-0",children:[r.jsx("div",{className:`absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full border-2 border-slate-800 ${Ne.type==="urgent"?"bg-red-500":"bg-amber-500"}`}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-900 px-1.5 py-0.5 rounded",children:Ne.date}),Ne.type==="urgent"&&r.jsx("span",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider",children:"Urgent"})]}),r.jsx("p",{className:"text-sm font-medium text-slate-200 group-hover:text-white transition-colors",children:Ne.message})]})]},Ne.id))}),r.jsx("div",{className:"p-4 bg-slate-900/50 text-center",children:r.jsxs(da,{to:"/admin/timetable",className:"text-xs font-semibold text-amber-400 hover:text-amber-300 uppercase tracking-wide flex items-center justify-center w-full",children:["View Calendar ",r.jsx(kT,{size:12,className:"ml-1"})]})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 rounded-2xl shadow-lg border border-emerald-200 flex flex-col min-h-[260px] hover:shadow-xl transition-shadow duration-300",children:[r.jsxs("div",{className:"p-3 sm:p-4 border-b border-emerald-200 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-emerald-900 text-base sm:text-lg",children:"Teacher Attendance Today"}),r.jsx("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-0.5",children:"Current day's staff presence overview"})]}),(L||B)&&r.jsx(yd,{}),r.jsx("div",{className:"bg-emerald-100 p-1.5 sm:p-2 rounded-full",children:r.jsx(fo,{className:"text-emerald-600",size:16})})]}),r.jsxs("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:[H.length>0&&r.jsxs("div",{className:"mb-3 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[r.jsxs("p",{className:"text-xs font-semibold text-amber-800",children:["Pending approvals (",H.length,")"]}),r.jsx("span",{className:"text-[10px] text-amber-700",children:"Approve to confirm attendance"})]}),r.jsx("div",{className:"space-y-2",children:H.map(Ne=>r.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-md bg-white px-3 py-2 border border-amber-100",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-800 truncate",children:Ne.teacherName}),r.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:Ne.teacherClasses||"No classes assigned"}),r.jsxs("p",{className:"text-[10px] text-slate-400 flex flex-wrap items-center gap-1",children:[r.jsx("span",{children:Ne.date}),$a(Ne.date)&&r.jsx("span",{className:"rounded-full bg-slate-100 px-1.5 py-0.5 text-[9px] font-semibold text-slate-600",children:$a(Ne.date)})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>za(Ne),className:"inline-flex items-center gap-1 rounded-full bg-emerald-600 px-3 py-1 text-[10px] font-semibold text-white hover:bg-emerald-700",children:"Yes"}),r.jsx("button",{onClick:()=>Ci(Ne),className:"inline-flex items-center gap-1 rounded-full bg-rose-600 px-3 py-1 text-[10px] font-semibold text-white hover:bg-rose-700",children:"No"})]})]},Ne.id))})]}),V.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-emerald-500",children:[r.jsx("div",{className:"bg-emerald-100 p-3 rounded-full mb-2",children:r.jsx(fo,{size:24,className:"text-emerald-400"})}),r.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance marked yet today"}),r.jsx("p",{className:"text-[10px] text-emerald-400 mt-0.5",children:"Teachers will appear here once they mark attendance"})]}):r.jsxs("div",{className:"space-y-2",children:[V.map(Ne=>r.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-emerald-100 hover:shadow-md transition-all duration-200 hover:border-emerald-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex-shrink-0 ${Ne.isHoliday?"bg-amber-500":Ne.status==="present"?"bg-emerald-500":"bg-red-500"} shadow-sm`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[r.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Ne.teacherName}),r.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Ne.isHoliday?"bg-amber-100 text-amber-700":Ne.status==="present"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:Ne.isHoliday?"Holiday":Ne.status==="present"?"Present":"Absent"})]}),r.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Ne.teacherClasses||"No classes assigned"}),r.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:Ne.date})]})]}),r.jsx("div",{className:"ml-2 flex-shrink-0",children:r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${Ne.isHoliday?"bg-amber-100 text-amber-600":Ne.status==="present"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:Ne.isHoliday?r.jsx(Gi,{className:"w-3 h-3"}):Ne.status==="present"?r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},Ne.id)),r.jsx("div",{className:"text-center mt-3 pt-2 border-t border-emerald-100",children:r.jsxs("p",{className:"text-[10px] text-emerald-600 font-medium",children:[V.length," teacher",V.length!==1?"s":""," marked attendance today"]})})]})]})]}),Fe.schoolReopenDate!==new Date().toISOString().split("T")[0]&&r.jsxs("div",{className:"bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-white rounded-2xl shadow-lg border border-[#E6F0FA] flex flex-col min-h-[280px] hover:shadow-xl transition-shadow duration-300",children:[r.jsxs("div",{className:"p-3 sm:p-4 border-b border-[#E6F0FA] flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-[#0B4A82] text-base sm:text-lg",children:"Teacher Attendance Summary"}),r.jsx("p",{className:"text-[10px] sm:text-xs text-[#1160A8] mt-0.5",children:"Term-wide staff attendance statistics"})]}),(L||B)&&r.jsx(yd,{}),r.jsx("div",{className:"bg-[#E6F0FA] p-1.5 sm:p-2 rounded-full",children:r.jsx(Wp,{className:"text-[#0B4A82]",size:16})})]}),r.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:ae.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-[#0B4A82]",children:[r.jsx("div",{className:"bg-[#E6F0FA] p-3 rounded-full mb-2",children:r.jsx(Wp,{size:24,className:"text-[#1160A8]"})}),r.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance data available"}),r.jsx("p",{className:"text-[10px] text-[#1160A8] mt-0.5",children:"Term statistics will appear as teachers mark attendance"})]}):r.jsxs("div",{className:"space-y-2",children:[ae.map(Ne=>r.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-[#E6F0FA] hover:shadow-md transition-all duration-200 hover:border-[#E6F0FA]",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-9 h-9 bg-[#E6F0FA] rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-[10px] font-bold text-[#0B4A82]",children:[Ne.attendanceRate,"%"]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-white rounded-full flex items-center justify-center",children:r.jsx("div",{className:`w-2 h-2 rounded-full ${Ne.attendanceRate>=80?"bg-emerald-500":Ne.attendanceRate>=70?"bg-amber-500":"bg-red-500"}`})})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[r.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Ne.name}),r.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Ne.attendanceRate>=80?"bg-emerald-100 text-emerald-700":Ne.attendanceRate>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:Ne.attendanceRate>=80?"Excellent":Ne.attendanceRate>=70?"Good":"Needs Attention"})]}),r.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Ne.classes||"No classes assigned"}),r.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:[Ne.presentDays," present / ",Ne.totalDays," ","total days"]})]})]})})},Ne.id)),r.jsx("div",{className:"text-center mt-3 pt-2 border-t border-[#E6F0FA]",children:r.jsxs("p",{className:"text-[10px] text-[#0B4A82] font-medium",children:["Average attendance:"," ",ae.length>0?Math.round(ae.reduce((Ne,nt)=>Ne+nt.attendanceRate,0)/ae.length):0,"%"]})})]})})]})]})]}),as&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center text-2xl font-bold text-slate-500 shadow-inner",children:as.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:as.name}),r.jsxs("div",{className:"flex gap-2 text-sm text-slate-500 mt-1",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(KT,{size:14,className:"mr-1"})," ",as.gender]}),r.jsx("span",{children:""}),r.jsx("span",{children:(En=Is.find(Ne=>Ne.id===as.classId))==null?void 0:En.name})]})]})]}),r.jsx("button",{onClick:()=>Vn(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:r.jsx(oo,{size:20})})]}),r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-5 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-amber-100 rounded-full text-amber-600",children:r.jsx(Si,{size:24})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-amber-900",children:"Attendance Overview"}),r.jsx("p",{className:"text-sm text-amber-700",children:"Current Term Participation"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-3xl font-bold text-amber-600",children:qs?`${qs.attendance.percentage}%`:"..."}),r.jsx("p",{className:"text-xs text-amber-700 font-medium mt-1",children:qs?`${qs.attendance.present}/${qs.attendance.total} Days`:"Loading"})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[r.jsx(cl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance (",Fe.currentTerm,")"]}),r.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"Subject"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),r.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:qs?qs.grades.map((Ne,nt)=>{const Tt=Ne.total??Fc(Ne),{grade:zt,remark:vs}=ym(Tt);return r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:Ne.subject}),r.jsx("td",{className:"px-4 py-3 text-center",children:Tt>0?Tt:"-"}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${zg(zt)}`,children:Tt>0?zt:"-"})}),r.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Tt>0?vs:"N/A"})]},nt)}):r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-4 text-center text-slate-400 italic",children:"Fetching academic records..."})})})]})})]})]})]})}),Kn&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Student Details"}),r.jsx("button",{onClick:()=>rs(null),className:"text-slate-400 hover:text-slate-700",children:r.jsx(oo,{size:20})})]}),r.jsxs("form",{onSubmit:ia,className:"space-y-5",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Personal Information"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none transition-all placeholder-slate-400",value:Hs.name||"",onChange:Ne=>Cn({...Hs,name:Ne.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),r.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Hs.gender,onChange:Ne=>Cn({...Hs,gender:Ne.target.value}),children:[r.jsx("option",{value:"Male",children:"Male"}),r.jsx("option",{value:"Female",children:"Female"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),r.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none",value:Hs.dob||"",onChange:Ne=>Cn({...Hs,dob:Ne.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[r.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Academic Info"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),r.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:Hs.classId,onChange:Ne=>Cn({...Hs,classId:Ne.target.value}),children:Is.map(Ne=>r.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))})]})]}),r.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[r.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Guardian Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),r.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Hs.guardianName||"",onChange:Ne=>Cn({...Hs,guardianName:Ne.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),r.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:Hs.guardianPhone||"",onChange:Ne=>Cn({...Hs,guardianPhone:Ne.target.value})})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[r.jsx("button",{type:"button",onClick:()=>rs(null),className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"flex items-center px-5 py-2.5 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] font-medium shadow-sm transition-colors",children:[r.jsx(Ac,{size:18,className:"mr-2"})," Save Changes"]})]})]})]})}),es&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Students with grade ",es]}),r.jsxs("p",{className:"text-sm text-slate-500",children:[(Ye[es]||[]).length," students"]})]}),r.jsx("button",{onClick:()=>Gt(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:r.jsx(oo,{size:20})})]}),r.jsx("div",{className:"p-6 space-y-4",children:!Ye[es]||Ye[es].length===0?r.jsx("div",{className:"text-center text-slate-400 py-8",children:"No students in this grade for the selected term."}):r.jsx("div",{className:"space-y-3",children:Ye[es].map((Ne,nt)=>r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:pb-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:Ne.name}),r.jsxs("p",{className:"text-xs text-slate-400",children:[Ne.class,"  Avg: ",Ne.avg]})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("button",{onClick:()=>Tr(Ne.id),className:"text-xs text-[#0B4A82] hover:underline",children:"View"})})]},Ne.id))})})]})})]})},b7=()=>{var K,ee,oe,he,ue,ye,je;const{school:s}=kc(),e=(s==null?void 0:s.id)||null,[t,n]=J.useState([]),[a,o]=J.useState("all"),[A,h]=J.useState(!1),[u,f]=J.useState(null),[c,m]=J.useState({gender:"Male",classId:"c_p1",dob:""}),[x,g]=J.useState(null),[w,E]=J.useState(null),[B,C]=J.useState(null),[T,F]=J.useState(!1),L=async()=>{if(!e){n([]);return}const ve=await mt.getStudents(e,void 0);if(n(ve),e){const _e=ve.filter(ke=>!ke.schoolId);_e.length>0&&await Promise.all(_e.map(ke=>mt.updateStudent({...ke,schoolId:e})))}};J.useEffect(()=>{L()},[e]);const k=async ve=>{E(null),g(ve);const _e=await mt.getStudentPerformance(e||"",ve.id,ve.classId);E(_e)},M=()=>{g(null),E(null)},Q=t.filter(ve=>a==="all"?!0:ve.classId===a).sort((ve,_e)=>ve.name.localeCompare(_e.name)),D=a==="all"?"All Classes":((K=Is.find(ve=>ve.id===a))==null?void 0:K.name)||a,R=t.length,V=Q.length,O=(ee=w==null?void 0:w.attendance)==null?void 0:ee.total,H=(oe=w==null?void 0:w.attendance)==null?void 0:oe.present,G=O!=null&&H!=null?Math.max(O-H,0):null;(he=w==null?void 0:w.attendance)==null||he.percentage;const ae=((ue=w==null?void 0:w.grades)==null?void 0:ue.length)??0,Ae=()=>{E(null),m({gender:"Male",classId:a!=="all"?a:"c_p1",dob:""}),f(null),h(!0)},ie=async ve=>{m(ve),f(ve.id),h(!0),E(null);const _e=await mt.getStudentPerformance(e||"",ve.id,ve.classId);E(_e)},le=()=>{h(!1),m({gender:"Male",classId:"c_p1",dob:""}),f(null),E(null)},X=(ve,_e)=>{_e.stopPropagation(),C(ve)},ne=async()=>{if(!B)return;const ve=B;C(null);const _e=[...t];n(ke=>ke.filter(Me=>Me.id!==ve));try{await mt.deleteStudent(ve)}catch(ke){console.error("Delete failed",ke),n(_e),Xt("Failed to delete student. Please try again.",{type:"error"})}},re=async ve=>{if(ve.preventDefault(),!(!c.name||!c.classId)){F(!0);try{if(u){const _e={...c,id:u,schoolId:e||c.schoolId};await mt.updateStudent(_e),Xt("Student updated successfully.",{type:"success"})}else{const _e={id:Math.random().toString(36).substr(2,9),name:c.name,gender:c.gender,dob:c.dob||"2015-01-01",classId:c.classId,schoolId:e||"",guardianName:c.guardianName||"",guardianPhone:c.guardianPhone||""};await mt.addStudent(_e),Xt("Student added successfully.",{type:"success"})}await L(),le()}catch(_e){console.error("Save failed",_e),Xt("Failed to save student. Please try again.",{type:"error"})}finally{F(!1)}}},W=()=>{if(!w||!w.attendance||!w.attendance.schoolDates)return null;const{schoolDates:ve,presentDates:_e}=w.attendance;if(ve.length===0)return r.jsx("div",{className:"text-center text-slate-400 py-4 italic",children:"No attendance records found for this term."});const ke=ht=>(typeof ht=="string"?new Date(ht):ht).toISOString().split("T")[0],Me=new Set(ve.map(ht=>ke(ht))),Je=new Set(_e.map(ht=>ke(ht))),at={};ve.forEach(ht=>{const Kt=new Date(ht),Pt=`${Kt.getFullYear()}-${Kt.getMonth()}`;at[Pt]||(at[Pt]={label:Kt.toLocaleString("default",{month:"long",year:"numeric"}),year:Kt.getFullYear(),month:Kt.getMonth()})});const ge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(at).map(([ht,Kt])=>{const{year:Pt,month:Le,label:jt}=Kt,Ve=new Date(Pt,Le,1).getDay(),Fe=new Date(Pt,Le+1,0).getDate(),lt=Math.ceil((Ve+Fe)/7)*7;return r.jsxs("div",{className:"relative overflow-hidden border border-slate-200 rounded-2xl p-4 bg-white shadow-sm",children:[r.jsx("div",{className:"absolute -top-10 -right-10 h-24 w-24 rounded-full bg-indigo-100/60 blur-2xl"}),r.jsx("div",{className:"absolute -bottom-12 -left-10 h-28 w-28 rounded-full bg-emerald-100/60 blur-2xl"}),r.jsxs("div",{className:"relative flex items-center justify-between mb-3 border-b border-slate-100 pb-2",children:[r.jsx("h5",{className:"font-semibold text-slate-800 text-sm",children:jt}),r.jsx("span",{className:"text-[11px] text-slate-400",children:"Attendance"})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[ge.map((xt,Et)=>r.jsx("div",{className:"text-[10px] text-slate-400 font-semibold uppercase",children:xt},Et)),Array.from({length:lt}).map((xt,Et)=>{const Jt=Et-Ve+1;if(Jt<1||Jt>Fe)return r.jsx("div",{className:"h-8"},Et);const Mt=new Date(Pt,Le,Jt),He=ke(Mt),ft=Me.has(He),Ye=Je.has(He),At=Mt.getDay()===0||Mt.getDay()===6,es="h-8 w-8 mx-auto flex items-center justify-center rounded-full text-xs font-semibold transition",Gt=At?"text-slate-300 bg-slate-50":"text-slate-600";return ft?r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{title:`${He}: ${Ye?"Present":"Absent"}`,className:`${es} ${Gt} ${Ye?"bg-emerald-100 text-emerald-800 shadow-sm":"bg-sky-100 text-sky-800 shadow-sm"}`,children:Jt})},Et):r.jsx("div",{className:"h-8 flex items-center justify-center text-[11px] text-slate-200"},Et)})]}),r.jsxs("div",{className:"mt-3 flex justify-center gap-4 text-[11px] text-slate-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-emerald-100 rounded-full border border-emerald-200"})," ","Present"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-sky-100 rounded-full border border-sky-200"})," ","Absent"]})]})]},ht)})})};return r.jsxs(lr,{title:"Manage Students",children:[r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[r.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),r.jsxs("div",{className:"relative flex flex-col gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Manage Students"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Organize, update, and review student profiles in a beautiful workspace."}),r.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[r.jsx(fo,{className:"h-4 w-4 text-indigo-500"}),"Total: ",R]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[r.jsx(Rc,{className:"h-4 w-4"}),"Showing: ",V]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[r.jsx(cl,{className:"h-4 w-4"}),D]})]})]})]}),r.jsxs("div",{className:"rounded-2xl border bg-white/80 shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsx("div",{className:"flex gap-2",children:r.jsxs("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm focus:ring-2 focus:ring-emerald-200",value:a,onChange:ve=>o(ve.target.value),children:[r.jsx("option",{value:"all",children:"All Classes"}),Is.map(ve=>r.jsx("option",{value:ve.id,children:ve.name},ve.id))]})}),r.jsxs("button",{onClick:Ae,className:"flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2 text-sm font-semibold shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700",children:[r.jsx(Yh,{size:16}),"Add Student"]})]}),r.jsx("div",{className:"p-4",children:Q.length===0?r.jsx("div",{className:"px-6 py-10 text-center text-slate-400",children:"No students found."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Q.map(ve=>{var ke;const _e=((ke=Is.find(Me=>Me.id===ve.classId))==null?void 0:ke.name)||ve.classId;return r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition duration-300 hover:-translate-y-1 hover:shadow-md",children:[r.jsx("div",{className:"absolute -top-14 -right-14 h-28 w-28 rounded-full bg-indigo-100/60 blur-2xl"}),r.jsx("div",{className:"absolute -bottom-16 -left-10 h-32 w-32 rounded-full bg-emerald-100/60 blur-2xl"}),r.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-11 w-11 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-semibold",children:ve.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:ve.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",ve.id]})]})]}),r.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:_e})]}),r.jsxs("div",{className:"relative mt-4 grid grid-cols-2 gap-3 text-xs text-slate-600",children:[r.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[r.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Gender"}),r.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:ve.gender})]}),r.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[r.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Guardian"}),r.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:ve.guardianName||"-"}),r.jsx("p",{className:"text-[11px] text-slate-400",children:ve.guardianPhone||""})]})]}),r.jsxs("div",{className:"relative mt-4 flex items-center justify-between",children:[r.jsxs("button",{type:"button",onClick:()=>k(ve),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100",title:"View Performance",children:[r.jsx(Qu,{size:14}),"View"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>ie(ve),className:"text-[#1160A8] hover:text-[#0B4A82] p-2 hover:bg-[#E6F0FA] rounded-full transition-colors",title:"Edit Details",children:r.jsx(h2,{size:16})}),r.jsx("button",{type:"button",onClick:Me=>X(ve.id,Me),className:"text-rose-500 hover:text-rose-700 p-2 hover:bg-rose-50 rounded-full transition-colors cursor-pointer",title:"Delete Student",children:r.jsx(Lc,{size:16,className:"pointer-events-none"})})]})]})]},ve.id)})})})]})]}),B&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-2xl transform transition-all",children:r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-full flex items-center justify-center mb-4",children:r.jsx(Gi,{className:"text-rose-600 w-6 h-6"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Student?"}),r.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this student? This action cannot be undone."}),r.jsxs("div",{className:"flex gap-3 w-full",children:[r.jsx("button",{onClick:()=>C(null),className:"flex-1 px-4 py-2 border border-slate-200 text-slate-700 rounded-full hover:bg-slate-50 font-medium transition",children:"Cancel"}),r.jsx("button",{onClick:ne,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-full hover:bg-rose-700 font-medium transition shadow-sm",children:"Delete"})]})]})})}),A&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"mb-6 border-b border-slate-100 pb-3",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:u?"Edit Student Details":"Add New Student"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Keep student records accurate and up to date."})]}),u&&r.jsxs("div",{className:"mb-6 bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Attendance Summary"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Current Term Performance"})]}),r.jsx("div",{className:"text-right",children:w?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[w.attendance.percentage,"%"]}),r.jsxs("p",{className:"text-xs text-slate-500",children:[w.attendance.present,"/",w.attendance.total," Days"]})]}):r.jsx("span",{className:"text-xs text-slate-400",children:"Loading data..."})})]}),r.jsxs("form",{onSubmit:re,className:"space-y-5",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Personal Information"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all placeholder-slate-400",value:c.name||"",onChange:ve=>m({...c,name:ve.target.value}),placeholder:"e.g. Kwame Nkrumah Jnr"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),r.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:c.gender,onChange:ve=>m({...c,gender:ve.target.value}),children:[r.jsx("option",{value:"Male",children:"Male"}),r.jsx("option",{value:"Female",children:"Female"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),r.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:c.dob||"",onChange:ve=>m({...c,dob:ve.target.value})})]})]})]}),r.jsxs("div",{className:"space-y-4 pt-2",children:[r.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Academic Info"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),r.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:c.classId,onChange:ve=>m({...c,classId:ve.target.value}),children:Is.map(ve=>r.jsx("option",{value:ve.id,children:ve.name},ve.id))})]})]}),r.jsxs("div",{className:"space-y-4 pt-2",children:[r.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Guardian Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),r.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:c.guardianName||"",onChange:ve=>m({...c,guardianName:ve.target.value}),placeholder:"e.g. Mr. John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),r.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:c.guardianPhone||"",onChange:ve=>m({...c,guardianPhone:ve.target.value}),placeholder:"e.g. 024 123 4567"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[r.jsx("button",{type:"button",onClick:le,className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:T,className:`px-5 py-2.5 bg-emerald-600 text-white rounded-lg font-medium shadow-sm transition-colors ${T?"opacity-60 cursor-not-allowed hover:bg-emerald-600":"hover:bg-emerald-700"}`,children:T?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u?"Updating...":"Saving..."]}):u?"Update Student":"Save Student"})]})]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col gap-4 bg-gradient-to-r from-slate-50 via-white to-emerald-50 sticky top-0 z-10",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-700 rounded-2xl flex items-center justify-center text-2xl font-bold shadow-sm",children:x.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:x.name}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-500 mt-1",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[r.jsx(KT,{size:14}),x.gender]}),r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[r.jsx(cl,{size:14}),(ye=Is.find(ve=>ve.id===x.classId))==null?void 0:ye.name]})]})]})]}),r.jsx("button",{onClick:M,className:"text-slate-400 hover:text-slate-700 bg-white p-2 rounded-full shadow-sm",children:r.jsx(oo,{size:24})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Attendance Rate"}),r.jsx("p",{className:`mt-1 text-2xl font-bold ${((je=w==null?void 0:w.attendance)==null?void 0:je.percentage)<50?"text-rose-600":"text-emerald-600"}`,children:w?`${w.attendance.percentage}%`:"-"})]}),r.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Days Present"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:w?w.attendance.present:"-"})]}),r.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total School Days"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:w?w.attendance.total:"-"})]})]})]}),r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:r.jsx(Si,{size:20})}),r.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Attendance Record"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[r.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-300 rounded-full"}),"Present"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 font-semibold text-sky-700",children:[r.jsx("div",{className:"w-2.5 h-2.5 bg-sky-300 rounded-full"}),"Absent"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total Days"}),r.jsx("p",{className:"mt-2 text-2xl font-bold text-slate-900",children:O??"-"})]}),r.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-emerald-500",children:"Days Present"}),r.jsx("p",{className:"mt-2 text-2xl font-bold text-emerald-700",children:H??"-"})]}),r.jsxs("div",{className:"rounded-2xl border border-sky-100 bg-sky-50/70 p-4",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-sky-500",children:"Days Absent"}),r.jsx("p",{className:"mt-2 text-2xl font-bold text-sky-700",children:G??"-"})]})]}),r.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm",children:W()})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[r.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[r.jsx(cl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:["Subjects: ",ae]})]}),r.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden bg-white",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"Subject"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),r.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:w?w.grades.map((ve,_e)=>{const ke=ve.total||(ve.testScore||0)+(ve.homeworkScore||0)+(ve.projectScore||0)+(ve.examScore||0),{grade:Me,remark:Je}=ym(ke);return r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:ve.subject}),r.jsx("td",{className:"px-4 py-3 text-center",children:ke>0?ke:"-"}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${zg(Me)}`,children:ke>0?Me:"-"})}),r.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:ke>0?Je:"N/A"})]},_e)}):r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Loading grades..."})})})]})}),r.jsx("div",{className:"mt-3 flex items-center justify-end text-xs text-slate-400",children:"Updated via system records"})]})]}),r.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center",children:r.jsx("p",{className:"text-xs text-slate-400",children:"Generated automatically by School Manager GH System"})})]})})]})};async function w7(){const s=HA.currentUser;if(!s)throw new Error("NO_SESSION");try{return await s.getIdToken(!0)}catch(e){throw console.error("Error refreshing ID token:",e),new Error("TOKEN_REFRESH_FAILED")}}async function j7(s=2,e=400){let t=0;for(;t<=s;)try{return await w7()}catch(n){if(((n==null?void 0:n.message)==="NO_SESSION"||(n==null?void 0:n.message)==="TOKEN_REFRESH_FAILED")&&t<s){await new Promise(a=>setTimeout(a,e)),t+=1;continue}throw n}throw new Error("TOKEN_REFRESH_FAILED")}const B7="http://localhost:3001".replace(/\/$/,"")||"https://school-manager-hehk.onrender.com",aN=B7;class Ip extends Error{constructor(e,t,n){super(e),this.code=t,this.status=n,this.name="ApiError"}}async function Um(s,e={}){let t=0;const n=1;for(;t<=n;)try{const a=await j7(),o=await fetch(`${aN}${s}`,{method:e.method||"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:e.body?JSON.stringify(e.body):void 0});if(!o.ok){const A=await o.json().catch(()=>({})),h=o.status===403&&(A.code==="INVALID_TOKEN"||/invalid token/i.test(A.error||"")||/invalid token/i.test(A.message||""));if(o.status===401&&A.code==="ID_TOKEN_EXPIRED"||h){if(t<n){console.log("ID token expired, retrying request..."),t++;continue}throw new Ip("Your session has expired. Please log out and log in again.","SESSION_EXPIRED",o.status)}throw new Ip(A.error||`HTTP ${o.status} ${o.statusText}`,A.code,o.status)}return await o.json()}catch(a){throw a.message==="NO_SESSION"?new Ip("You are not logged in. Please log in to continue.","NO_SESSION"):a.message==="TOKEN_REFRESH_FAILED"?new Ip("Your session has expired. Please log out and log in again.","SESSION_EXPIRED"):a.name==="TypeError"&&a.message==="Failed to fetch"?new Ip(`Cannot connect to the backend at ${aN}. Please ensure the server is running.`,"CONNECTION_FAILED"):a}throw new Error("API request failed after all retries.")}async function N7(s){return Um("/api/superadmin/create-school",{body:s})}async function S7(s){return Um("/api/superadmin/create-school-admin",{body:s})}async function C7(s){return Um("/api/superadmin/reset-school-admin-password",{body:s})}async function E7(s){return Um("/api/createTeacher",{body:s})}async function T7(s){return Um("/api/billing/initiate",{body:s})}async function iN(s){return Um("/api/billing/verify",{body:s})}Vg(Kg,"createSchool");Vg(Kg,"createSchoolAdmin");const I7=Vg(Kg,"deleteSchool");Vg(Kg,"createTeacherAccount");const _7=Vg(Kg,"repairUserSchoolId"),F7=()=>{const{school:s}=kc(),e=(s==null?void 0:s.id)||"",[t,n]=J.useState([]),[a,o]=J.useState(!1),[A,h]=J.useState(!1),[u,f]=J.useState(!1),[c,m]=J.useState(null),[x,g]=J.useState(null),[w,E]=J.useState(null),[B,C]=J.useState(!1),[T,F]=J.useState(!1),[L,k]=J.useState(!1),[M,Q]=J.useState(null),[D,R]=J.useState([]),[V,O]=J.useState(!1),[H,G]=J.useState({role:pn.TEACHER,assignedClassIds:[]}),[ae,Ae]=J.useState(null),ie=async()=>{if(!e){n([]);return}const ye=(await mt.getUsers(e)).filter(je=>je.role===pn.TEACHER);n(ye)};J.useEffect(()=>{ie()},[e]);const le=(ue,ye)=>{navigator.clipboard.writeText(ue),g(ye),setTimeout(()=>g(null),2e3)},X=ue=>{G(ye=>{const je=ye.assignedClassIds||[];return je.includes(ue)?{...ye,assignedClassIds:je.filter(ve=>ve!==ue)}:{...ye,assignedClassIds:[...je,ue]}})},ne=async ue=>{if(ue.preventDefault(),!e){Xt("School ID is not available. Please refresh and try again.",{type:"error"});return}if(!H.fullName||!H.email){Xt("Please fill in all fields (full name and email).",{type:"error"});return}h(!0);try{await E7({fullName:H.fullName,email:H.email,password:H.password||void 0,assignedClassIds:H.assignedClassIds||[],schoolId:e}),m({tempPassword:H.password||void 0,email:H.email,fullName:H.fullName,adminProvidedPassword:!!H.password}),f(!0),o(!1),G({role:pn.TEACHER,assignedClassIds:[],email:"",fullName:"",password:""}),F(!1),await ie()}catch(ye){console.error("Error creating teacher:",ye),Xt((ye==null?void 0:ye.message)||"Failed to create teacher.",{type:"error",duration:7e3})}finally{h(!1)}},re=ue=>{Ae(ue)},W=async()=>{if(!ae)return;const ue=t.find(ve=>ve.id===ae);if(!ue){Ae(null);return}if(ue.schoolId!==e){Ae(null),Xt("You can only delete teachers from your school.",{type:"error"});return}const ye=ae;Ae(null);const je=[...t];n(ve=>ve.filter(_e=>_e.id!==ye));try{await mt.deleteUser(ye);const ke=(await mt.getAllTeacherAttendanceRecords(e)).filter(Me=>Me.teacherId===ye&&Me.schoolId&&Me.schoolId===e).map(Me=>Hi(Qs(Ct,"teacher_attendance",Me.id)));await Promise.all(ke)}catch(ve){console.error("Failed to delete teacher",ve),n(je),Xt("Failed to delete teacher profile. Please try again.",{type:"error"})}},K=ue=>{Q(ue),R(ue.assignedClassIds||[]),k(!0)},ee=ue=>{R(ye=>(ye||[]).includes(ue)?(ye||[]).filter(je=>je!==ue):[...ye||[],ue])},oe=async()=>{if(M){if(M.schoolId!==e){Xt("You can only edit teachers from your school.",{type:"error"});return}O(!0);try{await mt.updateUserAssignedClasses(M.id,D),Xt("Teacher classes updated successfully.",{type:"success"}),k(!1),Q(null),R([]),await ie()}catch(ue){console.error("Error updating teacher classes:",ue),Xt((ue==null?void 0:ue.message)||"Failed to update teacher classes.",{type:"error"})}finally{O(!1)}}},he=async()=>{if(w){C(!0);try{const ue=await _7({targetUid:w,schoolId:e}),{message:ye}=ue.data;Xt(ye||"Teacher account repaired successfully.",{type:"success"}),E(null),await ie()}catch(ue){console.error("Error repairing teacher:",ue),Xt((ue==null?void 0:ue.details)||(ue==null?void 0:ue.message)||"Failed to repair teacher account.",{type:"error",duration:6e3})}finally{C(!1)}}};return r.jsxs(lr,{title:"Manage Teachers",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[r.jsx("h2",{className:"font-semibold text-slate-800",children:"Staff List"}),r.jsxs("button",{onClick:()=>{if(!e){Xt("School ID is not available yet. Please refresh and try again.",{type:"error"});return}o(!0)},className:"flex items-center bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[r.jsx(Yh,{size:16,className:"mr-2"}),"Add Teacher"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3",children:"Name"}),r.jsx("th",{className:"px-6 py-3",children:"Email"}),r.jsx("th",{className:"px-6 py-3",children:"Account Status"}),r.jsx("th",{className:"px-6 py-3",children:"Assigned Classes"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No teachers found for this school."})}):t.map(ue=>{const je=(ue.assignedClassIds||[]).map(_e=>{var ke;return(ke=Is.find(Me=>Me.id===_e))==null?void 0:ke.name}).filter(Boolean),ve=!ue.schoolId;return r.jsxs("tr",{className:`hover:bg-slate-50 ${ve?"bg-red-50":""}`,children:[r.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:ue.fullName}),r.jsxs("td",{className:"px-6 py-3 flex items-center",children:[r.jsx(AM,{size:14,className:"mr-2 text-slate-400"}),ue.email]}),r.jsx("td",{className:"px-6 py-3",children:ve?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gm,{size:16,className:"text-red-600"}),r.jsx("span",{className:"text-red-700 font-semibold text-xs",children:"Missing schoolId"})]}):r.jsx("span",{className:"text-emerald-700 text-xs font-medium",children:" Complete"})}),r.jsx("td",{className:"px-6 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:je.length>0?je.map(_e=>r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:_e},_e)):r.jsx("span",{className:"text-slate-400 italic text-xs",children:"No classes"})})}),r.jsxs("td",{className:"px-6 py-3 text-right flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>K(ue),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit Assigned Classes",children:r.jsx(BM,{size:16,className:"pointer-events-none"})}),ve&&r.jsx("button",{onClick:()=>E(ue.id),className:"text-orange-600 hover:text-orange-800 p-2 hover:bg-orange-50 rounded-full transition-colors",title:"Repair Account",children:r.jsx(nN,{size:16,className:"pointer-events-none"})}),r.jsx("button",{onClick:()=>re(ue.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Remove Teacher",children:r.jsx(Lc,{size:16,className:"pointer-events-none"})})]})]},ue.id)})})]})})]}),ae&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Gi,{className:"text-red-600 w-6 h-6"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Remove Teacher?"}),r.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This removes their profile and disables their login account from the system."}),r.jsxs("div",{className:"flex gap-3 w-full",children:[r.jsx("button",{onClick:()=>Ae(null),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:W,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors shadow-sm",children:"Remove"})]})]})})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center text-slate-900 border-b pb-2",children:[r.jsx(f2,{className:"mr-2 text-emerald-600",size:20})," Add New Teacher"]}),r.jsxs("form",{onSubmit:ne,className:"space-y-4 pt-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.fullName||"",onChange:ue=>G({...H,fullName:ue.target.value}),placeholder:"e.g. Mr. John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.email||"",onChange:ue=>G({...H,email:ue.target.value}),placeholder:"teacher@school.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Password (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:T?"text":"password",className:"w-full border border-slate-300 p-2.5 pr-10 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.password||"",onChange:ue=>G({...H,password:ue.target.value}),placeholder:"Leave empty to send password reset link"}),r.jsx("button",{type:"button",onClick:()=>F(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",title:T?"Hide password":"Show password",children:T?r.jsx(u2,{size:18}):r.jsx(Qu,{size:18})})]})]}),r.jsxs("p",{className:"text-xs text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[" ",r.jsx("strong",{children:"Option 1:"})," Leave password empty - a reset link will be sent to email. ",r.jsx("strong",{children:"Option 2:"})," Set a password above - teacher can log in immediately with it."]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Assign Classes"}),r.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50",children:r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Is.map(ue=>{var je;const ye=(je=H.assignedClassIds)==null?void 0:je.includes(ue.id);return r.jsxs("button",{type:"button",onClick:()=>X(ue.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ye?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[r.jsx("span",{children:ue.name}),ye?r.jsx(Z5,{size:16,className:"text-white ml-2"}):r.jsx(eN,{size:16,className:"text-slate-300 ml-2"})]},ue.id)})})}),r.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Click classes to select/deselect them."})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[r.jsx("button",{type:"button",onClick:()=>o(!1),disabled:A,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:A,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-70",children:A?r.jsxs(r.Fragment,{children:[r.jsx(Zy,{size:16,className:"mr-2 animate-spin"})," ","Creating..."]}):"Create Teacher"})]})]})]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(nN,{className:"text-orange-600 w-6 h-6"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Repair Teacher Account?"}),r.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"This teacher's account is missing the required schoolId field."}),r.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action will add your school's ID to their profile so they can log in."}),r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-3 mb-6 w-full",children:r.jsx("p",{className:"text-xs text-orange-700",children:"After repair, the teacher will be able to log in and access the system."})}),r.jsxs("div",{className:"flex gap-3 w-full",children:[r.jsx("button",{onClick:()=>E(null),disabled:B,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:he,disabled:B,className:"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-colors shadow-sm disabled:opacity-70",children:B?r.jsxs(r.Fragment,{children:[r.jsx(Zy,{size:16,className:"mr-2 animate-spin"}),"Repairing..."]}):"Repair Account"})]})]})})}),u&&c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[r.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Xp,{className:"text-emerald-600 w-6 h-6"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Teacher Created Successfully!"}),r.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Share these credentials with the teacher."})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 mb-4 border border-slate-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:"Email"}),r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[r.jsx("code",{className:"text-sm font-mono text-slate-700",children:c.email}),r.jsx("button",{onClick:()=>le(c.email,"email"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:x==="email"?r.jsx(Xp,{size:16,className:"text-emerald-600"}):r.jsx(J5,{size:16})})]})]}),c.tempPassword&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:c.adminProvidedPassword?"Password":"Temporary Password"}),r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[r.jsx("code",{className:"text-sm font-mono text-slate-700",children:c.tempPassword}),r.jsx("button",{onClick:()=>le(c.tempPassword,"password"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:x==="password"?r.jsx(Xp,{size:16,className:"text-emerald-600"}):r.jsx(J5,{size:16})})]}),!c.adminProvidedPassword&&r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:" Teacher must change password on first login."})]}),c.adminProvidedPassword?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:r.jsx("p",{className:"text-xs text-green-700",children:" Teacher can log in immediately with the password above."})}):r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:r.jsx("p",{className:"text-xs text-blue-700",children:" A password reset link has been sent to their email inbox."})})]}),r.jsx("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition-colors",children:"Done"})]})}),L&&M&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[r.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-900 border-b pb-2",children:"Assign Classes"}),r.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Assign classes to ",M.fullName,"."]}),r.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50 mb-4",children:r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Is.map(ue=>{const ye=(D||[]).includes(ue.id);return r.jsxs("button",{type:"button",onClick:()=>ee(ue.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ye?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[r.jsx("span",{children:ue.name}),ye?r.jsx(Z5,{size:16,className:"text-white ml-2"}):r.jsx(eN,{size:16,className:"text-slate-300 ml-2"})]},ue.id)})})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>k(!1),disabled:V,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors disabled:opacity-60",children:"Cancel"}),r.jsx("button",{type:"button",onClick:oe,disabled:V,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-60",children:V?r.jsxs(r.Fragment,{children:[r.jsx(Zy,{size:16,className:"mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})},U7=()=>{const{school:s}=kc(),e=(s==null?void 0:s.id)||null,[t,n]=J.useState(Is[0].id),[a,o]=J.useState([]),[A,h]=J.useState(!1),[u,f]=J.useState(0);return J.useEffect(()=>{(async()=>{h(!0);try{if(!e){o([]),f(0);return}const m=await mt.getStudents(e,t),x=await mt.getSchoolConfig(e);let g=0;const w=await mt.getClassAttendance(e,t),E=new Set([...w.filter(T=>T.isHoliday).map(T=>T.date),...(x.holidayDates||[]).map(T=>T.date)]);if(x.schoolReopenDate){const T=new Date(`${x.schoolReopenDate}T00:00:00`),F=x.vacationDate?new Date(`${x.vacationDate}T00:00:00`):null,L=new Date;L.setHours(0,0,0,0);const k=F&&F<L?F:L,M=new Date(T);for(;M<=k;){const Q=M.getDay();if(!(Q===0||Q===6)){const R=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}-${String(M.getDate()).padStart(2,"0")}`;E.has(R)||g++}M.setDate(M.getDate()+1)}}else g=w.filter(F=>!F.isHoliday).length;f(g);const B=w,C=m.map(T=>{const F=B.filter(k=>!k.isHoliday&&k.presentStudentIds.includes(T.id)).length,L=g===0?0:Math.round(F/g*100);return{id:T.id,name:T.name,gender:T.gender,presentDays:F,totalDays:g,percentage:L}});C.sort((T,F)=>T.name.localeCompare(F.name)),o(C)}catch(m){console.error("Error fetching attendance stats:",m)}finally{h(!1)}})()},[t,e]),r.jsx(lr,{title:"Attendance Statistics",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),r.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48 bg-white text-slate-900",value:t,onChange:c=>n(c.target.value),children:Is.map(c=>r.jsx("option",{value:c.id,children:c.name},c.id))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-md px-4 py-1.5 shadow-sm",children:[r.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Term Total Days"}),r.jsx("span",{className:"font-bold text-lg text-slate-800",children:u})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})," ","Excellent (90%+)"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400"})," ","Average (50-89%)"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[r.jsx(Gi,{size:12,className:"text-[#0B4A82]"})," Critical (","<","50%)"]})]})]}),r.jsx("div",{className:"flex-1 overflow-auto p-0",children:A?r.jsx("div",{className:"text-center py-20 text-slate-400",children:"Calculating Attendance Data..."}):r.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200 sticky top-0 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4",children:"Student Name"}),r.jsx("th",{className:"px-6 py-4 text-center",children:"Days Present"}),r.jsx("th",{className:"px-6 py-4 text-center",children:"Total School Days"}),r.jsx("th",{className:"px-6 py-4 w-1/3",children:"Attendance Rate"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"No students found in this class."})}):a.map(c=>{let m="bg-emerald-500",x="text-emerald-700 bg-emerald-50 border-emerald-200",g="hover:bg-slate-50",w=null;return c.percentage<50?(m="bg-red-500",x="text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]",g="bg-[#E6F0FA]/60 hover:bg-[#E6F0FA]/80",w=r.jsx("span",{title:"Critical Attendance",children:r.jsx(Gi,{size:14,className:"text-[#0B4A82] ml-2"})})):c.percentage<90&&(m="bg-amber-400",x="text-amber-700 bg-amber-50 border-amber-200"),r.jsxs("tr",{className:`${g} transition-colors border-b border-slate-100 last:border-0`,children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold text-white mr-3 shadow-sm ${c.gender==="Male"?"bg-[#0B4A82]":"bg-pink-500"}`,children:c.name.charAt(0)}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-slate-800 flex items-center",children:[c.name,w]}),r.jsx("p",{className:"text-xs text-slate-500",children:c.gender})]})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:"font-bold text-slate-800 text-lg",children:c.presentDays})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:"text-slate-500",children:c.totalDays})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-2.5 bg-slate-200 rounded-full overflow-hidden shadow-inner",children:r.jsx("div",{className:`h-full ${m} transition-all duration-500 rounded-full`,style:{width:`${c.percentage}%`}})}),r.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded border ${x} min-w-[3.5rem] text-center shadow-sm`,children:[c.percentage,"%"]})]})})]},c.id)})})]})})]})})},D7=()=>{const{school:s}=kc(),e=(s==null?void 0:s.id)||null,[t,n]=J.useState([]),[a,o]=J.useState(!1),[A,h]=J.useState(""),[u,f]=J.useState("");J.useEffect(()=>{(async()=>{o(!0);try{if(!e){n([]);return}const g=await mt.getSchoolConfig(e);g.schoolReopenDate&&!A&&h(g.schoolReopenDate),g.vacationDate&&!u&&f(g.vacationDate);const w=A||g.schoolReopenDate||void 0,E=u||g.vacationDate||void 0,B=await mt.getTeacherAttendanceAnalytics(e,w,E);n(B)}catch(g){console.error("Error fetching teacher attendance analytics:",g)}finally{o(!1)}})()},[A,u,e]);const c=x=>{switch(x){case"improving":return r.jsx(Dd,{className:"text-emerald-600",size:16});case"declining":return r.jsx(sN,{className:"text-[#0B4A82]",size:16});default:return r.jsx(q5,{className:"text-slate-400",size:16})}},m=x=>{switch(x){case"improving":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"declining":return"text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]";default:return"text-slate-600 bg-slate-50 border-slate-200"}};return r.jsx(lr,{title:"Teacher Attendance Analytics",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Teacher Attendance Overview"}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Term Start Date"}),r.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:A,onChange:x=>h(x.target.value)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Vacation Date"}),r.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:u,onChange:x=>f(x.target.value)})]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[r.jsx(Dd,{size:12,className:"text-emerald-600"})," Improving"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[r.jsx(q5,{size:12,className:"text-slate-400"})," Stable"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[r.jsx(sN,{size:12,className:"text-[#0B4A82]"})," Declining"]})]})]}),r.jsx("div",{className:"flex-1 overflow-auto p-0",children:a?r.jsx("div",{className:"text-center py-20 text-slate-400",children:"Analyzing Teacher Attendance Data..."}):r.jsx("div",{className:"p-6 space-y-6",children:t.length===0?r.jsx("div",{className:"text-center py-20 text-slate-400",children:"No teacher attendance data found."}):t.map(x=>r.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0B4A82] border-2 border-[#E6F0FA] flex items-center justify-center text-white font-bold text-lg shadow-lg",children:x.teacherName.charAt(0)}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-slate-800",children:x.teacherName}),r.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Si,{size:14,className:"text-slate-500"}),r.jsxs("span",{className:"text-sm text-slate-600",children:[x.termStartDate," -"," ",x.vacationDate||"Present"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rc,{size:14,className:"text-emerald-600"}),r.jsxs("span",{className:"text-sm font-semibold text-emerald-700",children:[x.overallAttendance,"% Overall Attendance"]})]})]})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Monthly Attendance Breakdown"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.monthlyBreakdown.map(g=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-semibold text-slate-800",children:g.month}),c(g.trend)]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Working Days:"}),r.jsx("span",{className:"font-medium",children:g.totalWorkingDays})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Present:"}),r.jsx("span",{className:"font-medium text-emerald-700",children:g.presentDays})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Absent:"}),r.jsx("span",{className:"font-medium text-rose-600",children:g.absentDays})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-xs text-slate-500",children:"Attendance Rate"}),r.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${m(g.trend)}`,children:[g.attendanceRate,"%"]})]}),r.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.attendanceRate>=90?"bg-emerald-500":g.attendanceRate>=70?"bg-amber-400":"bg-[#1160A8]"}`,style:{width:`${g.attendanceRate}%`}})})]})]})]},g.month))})]}),x.overallAttendance<70&&r.jsxs("div",{className:"mt-4 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Gi,{className:"text-[#0B4A82]",size:20}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#0B4A82]",children:"Critical Attendance Alert"}),r.jsx("p",{className:"text-xs text-[#1160A8]",children:"This teacher has below 70% overall attendance and may need intervention."})]})]})]},x.teacherId))})})]})})},R7=()=>{var B,C;const{school:s}=kc(),e=(s==null?void 0:s.id)||null,[t,n]=J.useState(Is[0].id),[a,o]=J.useState([]),[A,h]=J.useState({pass:[],fail:[]}),[u,f]=J.useState([]),[c,m]=J.useState(!1),[x,g]=J.useState({currentTerm:`Term ${$i}`,academicYear:Co,schoolReopenDate:""}),w=((B=Is.find(T=>T.id===t))==null?void 0:B.name)||"Class";J.useEffect(()=>{t&&(async()=>{if(m(!0),!e){o([]),f([]),m(!1);return}const F=Is.find(H=>H.id===t);let L=await mt.getSubjects(e,t);if(!L.length&&F)switch(F.level){case"NURSERY":L=c7;break;case"KG":L=A7;break;case"PRIMARY":L=u7;break;case"JHS":L=d7;break;default:L=[]}if(f(L),L.length===0){o([]),m(!1);return}const k=await mt.getSchoolConfig(e);g({currentTerm:k.currentTerm||`Term ${$i}`,academicYear:k.academicYear||Co,schoolReopenDate:k.schoolReopenDate||""});let M=$i;if(k.currentTerm){const H=k.currentTerm.match(/\d+/);H&&(M=parseInt(H[0],10))}const Q=await mt.getStudents(e,t),D=await mt.getStudentRemarks(e,t),R=await Promise.all(Q.map(async H=>{let G=0,ae=0;const Ae={};for(const X of L){const re=(await mt.getAssessments(e,t,X)).find(W=>W.studentId===H.id&&W.term===M);if(re){const W=re.total??Fc(re);Ae[X]=W,G+=W,ae++}else Ae[X]="-"}const ie=ae>0?(G/ae).toFixed(1):"0",le=D.find(X=>X.studentId===H.id&&Number(X.term)===M);return{student:H,scores:Ae,totalScore:G,average:ie,remark:le?le.remark:"N/A"}}));R.sort((H,G)=>G.totalScore-H.totalScore),o(R);const V=R.filter(H=>H.totalScore>=500),O=R.filter(H=>H.totalScore<500);h({pass:V,fail:O}),m(!1)})()},[t,e]);const E=()=>{var V,O,H;if(a.length===0)return;const T=["Position","Student Name",...u,"Total Score","Average Grade","Remark"],F=a.map((G,ae)=>{const Ae=u.map(ie=>G.scores[ie]);return[ae+1,`"${G.student.name}"`,...Ae,G.totalScore,G.average,`"${G.remark}"`]}),L=[T.join(","),...F.map(G=>G.join(","))].join(`
`),k=new Blob([L],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(k),Q=document.createElement("a"),R=`${((V=Is.find(G=>G.id===t))==null?void 0:V.name)||"Class"}_Report_${x.academicYear.replace("-","_")}_Term${((H=(O=x.currentTerm)==null?void 0:O.match(/\d+/))==null?void 0:H[0])||$i}.csv`;Q.setAttribute("href",M),Q.setAttribute("download",R),Q.style.visibility="hidden",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)};return r.jsxs(lr,{title:"Academic Reports",children:[r.jsx("style",{children:`
                @media print {
                    @page { size: landscape; margin: 10mm; }
                    body * {
                        visibility: hidden;
                    }
                    #report-content, #report-content * {
                        visibility: visible;
                    }
                    #report-content {
                        position: fixed;
                        left: 0;
                        top: 0;
                        width: 100%;
                        height: 100%;
                        margin: 0;
                        padding: 0;
                        background: white;
                        z-index: 9999;
                    }
                    .no-print {
                        display: none !important;
                    }
                    /* Ensure table expands fully and isn't cut off by scroll areas */
                    #table-container {
                        overflow: visible !important;
                        height: auto !important;
                    }
                }
            `}),r.jsxs("div",{id:"report-content",className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)] print:h-auto print:border-none print:shadow-none",children:[r.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-indigo-50 via-white to-emerald-50 print:bg-white print:border-none",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:r.jsx(cl,{size:22})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Academic Reports"}),r.jsxs("p",{className:"text-sm text-slate-600",children:[x.currentTerm,"  ",x.academicYear]})]})]}),r.jsxs("div",{className:"hidden print:block text-2xl font-bold text-slate-900",children:[w," Report"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm no-print focus:ring-2 focus:ring-emerald-200",value:t,onChange:T=>n(T.target.value),children:Is.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))}),r.jsxs("button",{onClick:E,disabled:c||a.length===0,className:"flex items-center gap-2 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 px-4 py-2 rounded-full transition-colors no-print font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(A2,{size:18})," Export CSV"]})]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[r.jsx(fo,{className:"h-4 w-4 text-indigo-500"}),"Students: ",a.length]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[r.jsx(Rc,{className:"h-4 w-4"}),"Pass: ",A.pass.length]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[r.jsx(Ud,{className:"h-4 w-4"}),"Fail: ",A.fail.length]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[r.jsx(cl,{className:"h-4 w-4"}),"Subjects: ",u.length]})]})]}),r.jsxs("div",{id:"table-container",className:"flex-1 overflow-auto p-4 print:overflow-visible print:p-0",children:[((C=x.currentTerm)==null?void 0:C.includes("3"))&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6 no-print",children:[r.jsxs("div",{className:"bg-emerald-50/70 border border-emerald-100 rounded-2xl p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-emerald-800",children:"Passed (>= 500)"}),r.jsx("span",{className:"text-xs text-emerald-700 font-semibold",children:A.pass.length})]}),A.pass.length===0?r.jsx("p",{className:"text-sm text-emerald-700",children:"No passing students."}):r.jsx("ul",{className:"text-sm text-emerald-900 space-y-1 max-h-40 overflow-y-auto",children:A.pass.map(T=>r.jsxs("li",{className:"flex items-center justify-between",children:[r.jsx("span",{children:T.student.name}),r.jsx("span",{className:"font-semibold",children:T.totalScore})]},T.student.id))})]}),r.jsxs("div",{className:"bg-rose-50/70 border border-rose-100 rounded-2xl p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-rose-800",children:"Failed (< 500)"}),r.jsx("span",{className:"text-xs text-rose-700 font-semibold",children:A.fail.length})]}),A.fail.length===0?r.jsx("p",{className:"text-sm text-rose-700",children:"No failing students."}):r.jsx("ul",{className:"text-sm text-rose-900 space-y-1 max-h-40 overflow-y-auto",children:A.fail.map(T=>r.jsxs("li",{className:"flex items-center justify-between",children:[r.jsx("span",{children:T.student.name}),r.jsx("span",{className:"font-semibold",children:T.totalScore})]},T.student.id))})]})]}),c?r.jsx("div",{className:"text-center py-10 text-slate-400",children:"Loading Report Data..."}):r.jsx("div",{className:"overflow-x-auto print:overflow-visible rounded-2xl border border-slate-100 bg-white shadow-sm",children:r.jsxs("table",{className:"w-full text-left text-sm border-collapse text-black",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold print:bg-slate-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 border border-slate-200 w-10",children:"Pos"}),r.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Student Name"}),u.map(T=>r.jsx("th",{className:"px-2 py-3 border border-slate-200 w-24 text-center text-xs",children:T.substring(0,3)},T)),r.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-emerald-50 text-emerald-900 print:bg-slate-100",children:"Total"}),r.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-[#E6F0FA] text-[#0B4A82] print:bg-slate-100",children:"Avg"}),r.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Remark"})]})}),r.jsxs("tbody",{children:[a.map((T,F)=>r.jsxs("tr",{className:"hover:bg-slate-50 print:hover:bg-transparent",children:[r.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-medium",children:F+1}),r.jsx("td",{className:"px-4 py-2 border border-slate-200 font-medium",children:T.student.name}),u.map(L=>{const k=T.scores[L],M=typeof k=="number"?ym(k).grade:"-";return r.jsx("td",{className:"px-2 py-2 border border-slate-200 text-center",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:k}),typeof k=="number"&&r.jsx("span",{className:`text-[10px] font-bold ${zg(M).split(" ")[0]}`,children:M})]})},L)}),r.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-emerald-50 text-emerald-900 print:bg-transparent",children:T.totalScore}),r.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-[#E6F0FA] text-[#0B4A82] print:bg-transparent",children:T.average}),r.jsx("td",{className:"px-4 py-2 border border-slate-200 text-sm",children:T.remark})]},T.student.id)),a.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:u.length+5,className:"p-8 text-center text-slate-400",children:"No students found."})})]})]})})]})]})]})};var n1={exports:{}};const L7="modulepreload",Q7=function(s,e){return new URL(s,e).href},oN={},r1=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let A=function(c){return Promise.all(c.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const h=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=A(t.map(c=>{if(c=Q7(c,n),c in oN)return;oN[c]=!0;const m=c.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(!!n)for(let E=h.length-1;E>=0;E--){const B=h[E];if(B.href===c&&(!m||B.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${x}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":L7,m||(w.as="script"),w.crossOrigin="",w.href=c,f&&w.setAttribute("nonce",f),document.head.appendChild(w),m)return new Promise((E,B)=>{w.addEventListener("load",E),w.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(A){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=A,window.dispatchEvent(h),!h.defaultPrevented)throw A}return a.then(A=>{for(const h of A||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Kr(s){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(s)}var dA=Uint8Array,cc=Uint16Array,m2=Int32Array,p2=new dA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),g2=new dA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lN=new dA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GT=function(s,e){for(var t=new cc(31),n=0;n<31;++n)t[n]=e+=1<<s[n-1];for(var a=new m2(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)a[o]=o-t[n]<<5|n;return{b:t,r:a}},$T=GT(p2,2),O7=$T.b,wb=$T.r;O7[28]=258,wb[258]=28;var k7=GT(g2,0),cN=k7.r,jb=new cc(32768);for(var Ea=0;Ea<32768;++Ea){var bd=(Ea&43690)>>1|(Ea&21845)<<1;bd=(bd&52428)>>2|(bd&13107)<<2,bd=(bd&61680)>>4|(bd&3855)<<4,jb[Ea]=((bd&65280)>>8|(bd&255)<<8)>>1}var Jp=(function(s,e,t){for(var n=s.length,a=0,o=new cc(e);a<n;++a)s[a]&&++o[s[a]-1];var A=new cc(e);for(a=1;a<e;++a)A[a]=A[a-1]+o[a-1]<<1;var h;if(t){h=new cc(1<<e);var u=15-e;for(a=0;a<n;++a)if(s[a])for(var f=a<<4|s[a],c=e-s[a],m=A[s[a]-1]++<<c,x=m|(1<<c)-1;m<=x;++m)h[jb[m]>>u]=f}else for(h=new cc(n),a=0;a<n;++a)s[a]&&(h[a]=jb[A[s[a]-1]++]>>15-s[a]);return h}),af=new dA(288);for(var Ea=0;Ea<144;++Ea)af[Ea]=8;for(var Ea=144;Ea<256;++Ea)af[Ea]=9;for(var Ea=256;Ea<280;++Ea)af[Ea]=7;for(var Ea=280;Ea<288;++Ea)af[Ea]=8;var av=new dA(32);for(var Ea=0;Ea<32;++Ea)av[Ea]=5;var P7=Jp(af,9,0),M7=Jp(av,5,0),YT=function(s){return(s+7)/8|0},H7=function(s,e,t){return(t==null||t>s.length)&&(t=s.length),new dA(s.subarray(e,t))},yu=function(s,e,t){t<<=e&7;var n=e/8|0;s[n]|=t,s[n+1]|=t>>8},_p=function(s,e,t){t<<=e&7;var n=e/8|0;s[n]|=t,s[n+1]|=t>>8,s[n+2]|=t>>16},a1=function(s,e){for(var t=[],n=0;n<s.length;++n)s[n]&&t.push({s:n,f:s[n]});var a=t.length,o=t.slice();if(!a)return{t:XT,l:0};if(a==1){var A=new dA(t[0].s+1);return A[t[0].s]=1,{t:A,l:1}}t.sort(function(k,M){return k.f-M.f}),t.push({s:-1,f:25001});var h=t[0],u=t[1],f=0,c=1,m=2;for(t[0]={s:-1,f:h.f+u.f,l:h,r:u};c!=a-1;)h=t[t[f].f<t[m].f?f++:m++],u=t[f!=c&&t[f].f<t[m].f?f++:m++],t[c++]={s:-1,f:h.f+u.f,l:h,r:u};for(var x=o[0].s,n=1;n<a;++n)o[n].s>x&&(x=o[n].s);var g=new cc(x+1),w=Bb(t[c-1],g,0);if(w>e){var n=0,E=0,B=w-e,C=1<<B;for(o.sort(function(M,Q){return g[Q.s]-g[M.s]||M.f-Q.f});n<a;++n){var T=o[n].s;if(g[T]>e)E+=C-(1<<w-g[T]),g[T]=e;else break}for(E>>=B;E>0;){var F=o[n].s;g[F]<e?E-=1<<e-g[F]++-1:++n}for(;n>=0&&E;--n){var L=o[n].s;g[L]==e&&(--g[L],++E)}w=e}return{t:new dA(g),l:w}},Bb=function(s,e,t){return s.s==-1?Math.max(Bb(s.l,e,t+1),Bb(s.r,e,t+1)):e[s.s]=t},AN=function(s){for(var e=s.length;e&&!s[--e];);for(var t=new cc(++e),n=0,a=s[0],o=1,A=function(u){t[n++]=u},h=1;h<=e;++h)if(s[h]==a&&h!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)A(32754);o>2&&(A(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(A(a),--o;o>6;o-=6)A(8304);o>2&&(A(o-3<<5|8208),o=0)}for(;o--;)A(a);o=1,a=s[h]}return{c:t.subarray(0,n),n:e}},Fp=function(s,e){for(var t=0,n=0;n<e.length;++n)t+=s[n]*e[n];return t},WT=function(s,e,t){var n=t.length,a=YT(e+2);s[a]=n&255,s[a+1]=n>>8,s[a+2]=s[a]^255,s[a+3]=s[a+1]^255;for(var o=0;o<n;++o)s[a+o+4]=t[o];return(a+4+n)*8},uN=function(s,e,t,n,a,o,A,h,u,f,c){yu(e,c++,t),++a[256];for(var m=a1(a,15),x=m.t,g=m.l,w=a1(o,15),E=w.t,B=w.l,C=AN(x),T=C.c,F=C.n,L=AN(E),k=L.c,M=L.n,Q=new cc(19),D=0;D<T.length;++D)++Q[T[D]&31];for(var D=0;D<k.length;++D)++Q[k[D]&31];for(var R=a1(Q,7),V=R.t,O=R.l,H=19;H>4&&!V[lN[H-1]];--H);var G=f+5<<3,ae=Fp(a,af)+Fp(o,av)+A,Ae=Fp(a,x)+Fp(o,E)+A+14+3*H+Fp(Q,V)+2*Q[16]+3*Q[17]+7*Q[18];if(u>=0&&G<=ae&&G<=Ae)return WT(e,c,s.subarray(u,u+f));var ie,le,X,ne;if(yu(e,c,1+(Ae<ae)),c+=2,Ae<ae){ie=Jp(x,g,0),le=x,X=Jp(E,B,0),ne=E;var re=Jp(V,O,0);yu(e,c,F-257),yu(e,c+5,M-1),yu(e,c+10,H-4),c+=14;for(var D=0;D<H;++D)yu(e,c+3*D,V[lN[D]]);c+=3*H;for(var W=[T,k],K=0;K<2;++K)for(var ee=W[K],D=0;D<ee.length;++D){var oe=ee[D]&31;yu(e,c,re[oe]),c+=V[oe],oe>15&&(yu(e,c,ee[D]>>5&127),c+=ee[D]>>12)}}else ie=P7,le=af,X=M7,ne=av;for(var D=0;D<h;++D){var he=n[D];if(he>255){var oe=he>>18&31;_p(e,c,ie[oe+257]),c+=le[oe+257],oe>7&&(yu(e,c,he>>23&31),c+=p2[oe]);var ue=he&31;_p(e,c,X[ue]),c+=ne[ue],ue>3&&(_p(e,c,he>>5&8191),c+=g2[ue])}else _p(e,c,ie[he]),c+=le[he]}return _p(e,c,ie[256]),c+le[256]},V7=new m2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XT=new dA(0),K7=function(s,e,t,n,a,o){var A=o.z||s.length,h=new dA(n+A+5*(1+Math.ceil(A/7e3))+a),u=h.subarray(n,h.length-a),f=o.l,c=(o.r||0)&7;if(e){c&&(u[0]=o.r>>3);for(var m=V7[e-1],x=m>>13,g=m&8191,w=(1<<t)-1,E=o.p||new cc(32768),B=o.h||new cc(w+1),C=Math.ceil(t/3),T=2*C,F=function(at){return(s[at]^s[at+1]<<C^s[at+2]<<T)&w},L=new m2(25e3),k=new cc(288),M=new cc(32),Q=0,D=0,R=o.i||0,V=0,O=o.w||0,H=0;R+2<A;++R){var G=F(R),ae=R&32767,Ae=B[G];if(E[ae]=Ae,B[G]=ae,O<=R){var ie=A-R;if((Q>7e3||V>24576)&&(ie>423||!f)){c=uN(s,u,0,L,k,M,D,V,H,R-H,c),V=Q=D=0,H=R;for(var le=0;le<286;++le)k[le]=0;for(var le=0;le<30;++le)M[le]=0}var X=2,ne=0,re=g,W=ae-Ae&32767;if(ie>2&&G==F(R-W))for(var K=Math.min(x,ie)-1,ee=Math.min(32767,R),oe=Math.min(258,ie);W<=ee&&--re&&ae!=Ae;){if(s[R+X]==s[R+X-W]){for(var he=0;he<oe&&s[R+he]==s[R+he-W];++he);if(he>X){if(X=he,ne=W,he>K)break;for(var ue=Math.min(W,he-2),ye=0,le=0;le<ue;++le){var je=R-W+le&32767,ve=E[je],_e=je-ve&32767;_e>ye&&(ye=_e,Ae=je)}}}ae=Ae,Ae=E[ae],W+=ae-Ae&32767}if(ne){L[V++]=268435456|wb[X]<<18|cN[ne];var ke=wb[X]&31,Me=cN[ne]&31;D+=p2[ke]+g2[Me],++k[257+ke],++M[Me],O=R+X,++Q}else L[V++]=s[R],++k[s[R]]}}for(R=Math.max(R,O);R<A;++R)L[V++]=s[R],++k[s[R]];c=uN(s,u,f,L,k,M,D,V,H,R-H,c),f||(o.r=c&7|u[c/8|0]<<3,c-=7,o.h=B,o.p=E,o.i=R,o.w=O)}else{for(var R=o.w||0;R<A+f;R+=65535){var Je=R+65535;Je>=A&&(u[c/8|0]=f,Je=A),c=WT(u,c+1,s.subarray(R,Je))}o.i=A}return H7(h,0,n+YT(c)+a)},JT=function(){var s=1,e=0;return{p:function(t){for(var n=s,a=e,o=t.length|0,A=0;A!=o;){for(var h=Math.min(A+2655,o);A<h;++A)a+=n+=t[A];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}s=n,e=a},d:function(){return s%=65521,e%=65521,(s&255)<<24|(s&65280)<<8|(e&255)<<8|e>>8}}},z7=function(s,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),A=new dA(o.length+s.length);A.set(o),A.set(s,o.length),s=A,a.w=o.length}return K7(s,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+e.mem,t,n,a)},qT=function(s,e,t){for(;t;++e)s[e]=t,t>>>=8},G7=function(s,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(s[0]=120,s[1]=n<<6|(e.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,e.dictionary){var a=JT();a.p(e.dictionary),qT(s,2,a.d())}};function Nb(s,e){e||(e={});var t=JT();t.p(s);var n=z7(s,e,e.dictionary?6:2,4);return G7(n,e),qT(n,n.length-4,t.d()),n}var $7=typeof TextDecoder<"u"&&new TextDecoder,Y7=0;try{$7.decode(XT,{stream:!0}),Y7=1}catch{}function W7(s){if(Array.isArray(s))return s}function X7(s,e){var t=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var n,a,o,A,h=[],u=!0,f=!1;try{if(o=(t=t.call(s)).next,e!==0)for(;!(u=(n=o.call(t)).done)&&(h.push(n.value),h.length!==e);u=!0);}catch(c){f=!0,a=c}finally{try{if(!u&&t.return!=null&&(A=t.return(),Object(A)!==A))return}finally{if(f)throw a}}return h}}function dN(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,n=Array(e);t<e;t++)n[t]=s[t];return n}function J7(s,e){if(s){if(typeof s=="string")return dN(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?dN(s,e):void 0}}function q7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hN(s,e){return W7(s)||X7(s,e)||J7(s,e)||q7()}function fN(s,e="utf8"){return new TextDecoder(e).decode(s)}const Z7=new TextEncoder;function eH(s){return Z7.encode(s)}const tH=1024*8,sH=(()=>{const s=new Uint8Array(4),e=new Uint32Array(s.buffer);return!((e[0]=1)&s[0])})(),i1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class x2{constructor(e=tH,t={}){Vr(this,"buffer");Vr(this,"byteLength");Vr(this,"byteOffset");Vr(this,"length");Vr(this,"offset");Vr(this,"lastWrittenByte");Vr(this,"littleEndian");Vr(this,"_data");Vr(this,"_mark");Vr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let A=a;(ArrayBuffer.isView(e)||e instanceof x2)&&(e.byteLength!==e.buffer.byteLength&&(A=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=A,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,A,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=i1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+n);if(this.littleEndian===sH&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+n));h.reverse();const u=new i1[t](h.buffer);return this.offset+=n,u.reverse(),u}const A=new i1[t](o);return this.offset+=n,A}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return fN(this.readBytes(e))}decodeText(e=1,t="utf8"){return fN(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(eH(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Dm(s){let e=s.length;for(;--e>=0;)s[e]=0}const nH=3,rH=258,ZT=29,aH=256,iH=aH+1+ZT,eI=30,oH=512,lH=new Array((iH+2)*2);Dm(lH);const cH=new Array(eI*2);Dm(cH);const AH=new Array(oH);Dm(AH);const uH=new Array(rH-nH+1);Dm(uH);const dH=new Array(ZT);Dm(dH);const hH=new Array(eI);Dm(hH);const fH=(s,e,t,n)=>{let a=s&65535|0,o=s>>>16&65535|0,A=0;for(;t!==0;){A=t>2e3?2e3:t,t-=A;do a=a+e[n++]|0,o=o+a|0;while(--A);a%=65521,o%=65521}return a|o<<16|0};var Sb=fH;const mH=()=>{let s,e=[];for(var t=0;t<256;t++){s=t;for(var n=0;n<8;n++)s=s&1?3988292384^s>>>1:s>>>1;e[t]=s}return e},pH=new Uint32Array(mH()),gH=(s,e,t,n)=>{const a=pH,o=n+t;s^=-1;for(let A=n;A<o;A++)s=s>>>8^a[(s^e[A])&255];return s^-1};var kA=gH,Cb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tI={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xH=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var vH=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)xH(t,n)&&(s[n]=t[n])}}return s},yH=s=>{let e=0;for(let n=0,a=s.length;n<a;n++)e+=s[n].length;const t=new Uint8Array(e);for(let n=0,a=0,o=s.length;n<o;n++){let A=s[n];t.set(A,a),a+=A.length}return t},sI={assign:vH,flattenChunks:yH};let nI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nI=!1}const vg=new Uint8Array(256);for(let s=0;s<256;s++)vg[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;vg[254]=vg[254]=1;var bH=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,t,n,a,o,A=s.length,h=0;for(a=0;a<A;a++)t=s.charCodeAt(a),(t&64512)===55296&&a+1<A&&(n=s.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,a=0;o<h;a++)t=s.charCodeAt(a),(t&64512)===55296&&a+1<A&&(n=s.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const wH=(s,e)=>{if(e<65534&&s.subarray&&nI)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(s[n]);return t};var jH=(s,e)=>{const t=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let n,a;const o=new Array(t*2);for(a=0,n=0;n<t;){let A=s[n++];if(A<128){o[a++]=A;continue}let h=vg[A];if(h>4){o[a++]=65533,n+=h-1;continue}for(A&=h===2?31:h===3?15:7;h>1&&n<t;)A=A<<6|s[n++]&63,h--;if(h>1){o[a++]=65533;continue}A<65536?o[a++]=A:(A-=65536,o[a++]=55296|A>>10&1023,o[a++]=56320|A&1023)}return wH(o,a)},BH=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let t=e-1;for(;t>=0&&(s[t]&192)===128;)t--;return t<0||t===0?e:t+vg[s[t]]>e?t:e},Eb={string2buf:bH,buf2string:jH,utf8border:BH};function NH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var SH=NH;const q0=16209,CH=16191;var EH=function(e,t){let n,a,o,A,h,u,f,c,m,x,g,w,E,B,C,T,F,L,k,M,Q,D,R,V;const O=e.state;n=e.next_in,R=e.input,a=n+(e.avail_in-5),o=e.next_out,V=e.output,A=o-(t-e.avail_out),h=o+(e.avail_out-257),u=O.dmax,f=O.wsize,c=O.whave,m=O.wnext,x=O.window,g=O.hold,w=O.bits,E=O.lencode,B=O.distcode,C=(1<<O.lenbits)-1,T=(1<<O.distbits)-1;e:do{w<15&&(g+=R[n++]<<w,w+=8,g+=R[n++]<<w,w+=8),F=E[g&C];t:for(;;){if(L=F>>>24,g>>>=L,w-=L,L=F>>>16&255,L===0)V[o++]=F&65535;else if(L&16){k=F&65535,L&=15,L&&(w<L&&(g+=R[n++]<<w,w+=8),k+=g&(1<<L)-1,g>>>=L,w-=L),w<15&&(g+=R[n++]<<w,w+=8,g+=R[n++]<<w,w+=8),F=B[g&T];s:for(;;){if(L=F>>>24,g>>>=L,w-=L,L=F>>>16&255,L&16){if(M=F&65535,L&=15,w<L&&(g+=R[n++]<<w,w+=8,w<L&&(g+=R[n++]<<w,w+=8)),M+=g&(1<<L)-1,M>u){e.msg="invalid distance too far back",O.mode=q0;break e}if(g>>>=L,w-=L,L=o-A,M>L){if(L=M-L,L>c&&O.sane){e.msg="invalid distance too far back",O.mode=q0;break e}if(Q=0,D=x,m===0){if(Q+=f-L,L<k){k-=L;do V[o++]=x[Q++];while(--L);Q=o-M,D=V}}else if(m<L){if(Q+=f+m-L,L-=m,L<k){k-=L;do V[o++]=x[Q++];while(--L);if(Q=0,m<k){L=m,k-=L;do V[o++]=x[Q++];while(--L);Q=o-M,D=V}}}else if(Q+=m-L,L<k){k-=L;do V[o++]=x[Q++];while(--L);Q=o-M,D=V}for(;k>2;)V[o++]=D[Q++],V[o++]=D[Q++],V[o++]=D[Q++],k-=3;k&&(V[o++]=D[Q++],k>1&&(V[o++]=D[Q++]))}else{Q=o-M;do V[o++]=V[Q++],V[o++]=V[Q++],V[o++]=V[Q++],k-=3;while(k>2);k&&(V[o++]=V[Q++],k>1&&(V[o++]=V[Q++]))}}else if((L&64)===0){F=B[(F&65535)+(g&(1<<L)-1)];continue s}else{e.msg="invalid distance code",O.mode=q0;break e}break}}else if((L&64)===0){F=E[(F&65535)+(g&(1<<L)-1)];continue t}else if(L&32){O.mode=CH;break e}else{e.msg="invalid literal/length code",O.mode=q0;break e}break}}while(n<a&&o<h);k=w>>3,n-=k,w-=k<<3,g&=(1<<w)-1,e.next_in=n,e.next_out=o,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=o<h?257+(h-o):257-(o-h),O.hold=g,O.bits=w};const Hf=15,mN=852,pN=592,gN=0,o1=1,xN=2,TH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_H=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),FH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),UH=(s,e,t,n,a,o,A,h)=>{const u=h.bits;let f=0,c=0,m=0,x=0,g=0,w=0,E=0,B=0,C=0,T=0,F,L,k,M,Q,D=null,R;const V=new Uint16Array(Hf+1),O=new Uint16Array(Hf+1);let H=null,G,ae,Ae;for(f=0;f<=Hf;f++)V[f]=0;for(c=0;c<n;c++)V[e[t+c]]++;for(g=u,x=Hf;x>=1&&V[x]===0;x--);if(g>x&&(g=x),x===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(m=1;m<x&&V[m]===0;m++);for(g<m&&(g=m),B=1,f=1;f<=Hf;f++)if(B<<=1,B-=V[f],B<0)return-1;if(B>0&&(s===gN||x!==1))return-1;for(O[1]=0,f=1;f<Hf;f++)O[f+1]=O[f]+V[f];for(c=0;c<n;c++)e[t+c]!==0&&(A[O[e[t+c]]++]=c);if(s===gN?(D=H=A,R=20):s===o1?(D=TH,H=IH,R=257):(D=_H,H=FH,R=0),T=0,c=0,f=m,Q=o,w=g,E=0,k=-1,C=1<<g,M=C-1,s===o1&&C>mN||s===xN&&C>pN)return 1;for(;;){G=f-E,A[c]+1<R?(ae=0,Ae=A[c]):A[c]>=R?(ae=H[A[c]-R],Ae=D[A[c]-R]):(ae=96,Ae=0),F=1<<f-E,L=1<<w,m=L;do L-=F,a[Q+(T>>E)+L]=G<<24|ae<<16|Ae|0;while(L!==0);for(F=1<<f-1;T&F;)F>>=1;if(F!==0?(T&=F-1,T+=F):T=0,c++,--V[f]===0){if(f===x)break;f=e[t+A[c]]}if(f>g&&(T&M)!==k){for(E===0&&(E=g),Q+=m,w=f-E,B=1<<w;w+E<x&&(B-=V[w+E],!(B<=0));)w++,B<<=1;if(C+=1<<w,s===o1&&C>mN||s===xN&&C>pN)return 1;k=T&M,a[k]=g<<24|w<<16|Q-o|0}}return T!==0&&(a[Q+T]=f-E<<24|64<<16|0),h.bits=g,0};var qp=UH;const DH=0,rI=1,aI=2,{Z_FINISH:vN,Z_BLOCK:RH,Z_TREES:Z0,Z_OK:of,Z_STREAM_END:LH,Z_NEED_DICT:QH,Z_STREAM_ERROR:Oc,Z_DATA_ERROR:iI,Z_MEM_ERROR:oI,Z_BUF_ERROR:OH,Z_DEFLATED:yN}=tI,Kv=16180,bN=16181,wN=16182,jN=16183,BN=16184,NN=16185,SN=16186,CN=16187,EN=16188,TN=16189,iv=16190,bu=16191,l1=16192,IN=16193,c1=16194,_N=16195,FN=16196,UN=16197,DN=16198,ex=16199,tx=16200,RN=16201,LN=16202,QN=16203,ON=16204,kN=16205,A1=16206,PN=16207,MN=16208,Ma=16209,lI=16210,cI=16211,kH=852,PH=592,MH=15,HH=MH,HN=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function VH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hf=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<Kv||e.mode>cI?1:0},AI=s=>{if(hf(s))return Oc;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=Kv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(kH),e.distcode=e.distdyn=new Int32Array(PH),e.sane=1,e.back=-1,of},uI=s=>{if(hf(s))return Oc;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,AI(s)},dI=(s,e)=>{let t;if(hf(s))return Oc;const n=s.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Oc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,uI(s))},hI=(s,e)=>{if(!s)return Oc;const t=new VH;s.state=t,t.strm=s,t.window=null,t.mode=Kv;const n=dI(s,e);return n!==of&&(s.state=null),n},KH=s=>hI(s,HH);let VN=!0,u1,d1;const zH=s=>{if(VN){u1=new Int32Array(512),d1=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(qp(rI,s.lens,0,288,u1,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;qp(aI,s.lens,0,32,d1,0,s.work,{bits:5}),VN=!1}s.lencode=u1,s.lenbits=9,s.distcode=d1,s.distbits=5},fI=(s,e,t,n)=>{let a;const o=s.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),o.window.set(e.subarray(t-n,t-n+a),o.wnext),n-=a,n?(o.window.set(e.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},GH=(s,e)=>{let t,n,a,o,A,h,u,f,c,m,x,g,w,E,B=0,C,T,F,L,k,M,Q,D;const R=new Uint8Array(4);let V,O;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hf(s)||!s.output||!s.input&&s.avail_in!==0)return Oc;t=s.state,t.mode===bu&&(t.mode=l1),A=s.next_out,a=s.output,u=s.avail_out,o=s.next_in,n=s.input,h=s.avail_in,f=t.hold,c=t.bits,m=h,x=u,D=of;e:for(;;)switch(t.mode){case Kv:if(t.wrap===0){t.mode=l1;break}for(;c<16;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=f&255,R[1]=f>>>8&255,t.check=kA(t.check,R,2,0),f=0,c=0,t.mode=bN;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){s.msg="incorrect header check",t.mode=Ma;break}if((f&15)!==yN){s.msg="unknown compression method",t.mode=Ma;break}if(f>>>=4,c-=4,Q=(f&15)+8,t.wbits===0&&(t.wbits=Q),Q>15||Q>t.wbits){s.msg="invalid window size",t.mode=Ma;break}t.dmax=1<<t.wbits,t.flags=0,s.adler=t.check=1,t.mode=f&512?TN:bu,f=0,c=0;break;case bN:for(;c<16;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(t.flags=f,(t.flags&255)!==yN){s.msg="unknown compression method",t.mode=Ma;break}if(t.flags&57344){s.msg="unknown header flags set",t.mode=Ma;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=kA(t.check,R,2,0)),f=0,c=0,t.mode=wN;case wN:for(;c<32;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,t.check=kA(t.check,R,4,0)),f=0,c=0,t.mode=jN;case jN:for(;c<16;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=kA(t.check,R,2,0)),f=0,c=0,t.mode=BN;case BN:if(t.flags&1024){for(;c<16;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=kA(t.check,R,2,0)),f=0,c=0}else t.head&&(t.head.extra=null);t.mode=NN;case NN:if(t.flags&1024&&(g=t.length,g>h&&(g=h),g&&(t.head&&(Q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+g),Q)),t.flags&512&&t.wrap&4&&(t.check=kA(t.check,n,g,o)),h-=g,o+=g,t.length-=g),t.length))break e;t.length=0,t.mode=SN;case SN:if(t.flags&2048){if(h===0)break e;g=0;do Q=n[o+g++],t.head&&Q&&t.length<65536&&(t.head.name+=String.fromCharCode(Q));while(Q&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=kA(t.check,n,g,o)),h-=g,o+=g,Q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=CN;case CN:if(t.flags&4096){if(h===0)break e;g=0;do Q=n[o+g++],t.head&&Q&&t.length<65536&&(t.head.comment+=String.fromCharCode(Q));while(Q&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=kA(t.check,n,g,o)),h-=g,o+=g,Q)break e}else t.head&&(t.head.comment=null);t.mode=EN;case EN:if(t.flags&512){for(;c<16;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(t.wrap&4&&f!==(t.check&65535)){s.msg="header crc mismatch",t.mode=Ma;break}f=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),s.adler=t.check=0,t.mode=bu;break;case TN:for(;c<32;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}s.adler=t.check=HN(f),f=0,c=0,t.mode=iv;case iv:if(t.havedict===0)return s.next_out=A,s.avail_out=u,s.next_in=o,s.avail_in=h,t.hold=f,t.bits=c,QH;s.adler=t.check=1,t.mode=bu;case bu:if(e===RH||e===Z0)break e;case l1:if(t.last){f>>>=c&7,c-=c&7,t.mode=A1;break}for(;c<3;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}switch(t.last=f&1,f>>>=1,c-=1,f&3){case 0:t.mode=IN;break;case 1:if(zH(t),t.mode=ex,e===Z0){f>>>=2,c-=2;break e}break;case 2:t.mode=FN;break;case 3:s.msg="invalid block type",t.mode=Ma}f>>>=2,c-=2;break;case IN:for(f>>>=c&7,c-=c&7;c<32;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if((f&65535)!==(f>>>16^65535)){s.msg="invalid stored block lengths",t.mode=Ma;break}if(t.length=f&65535,f=0,c=0,t.mode=c1,e===Z0)break e;case c1:t.mode=_N;case _N:if(g=t.length,g){if(g>h&&(g=h),g>u&&(g=u),g===0)break e;a.set(n.subarray(o,o+g),A),h-=g,o+=g,u-=g,A+=g,t.length-=g;break}t.mode=bu;break;case FN:for(;c<14;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(t.nlen=(f&31)+257,f>>>=5,c-=5,t.ndist=(f&31)+1,f>>>=5,c-=5,t.ncode=(f&15)+4,f>>>=4,c-=4,t.nlen>286||t.ndist>30){s.msg="too many length or distance symbols",t.mode=Ma;break}t.have=0,t.mode=UN;case UN:for(;t.have<t.ncode;){for(;c<3;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}t.lens[H[t.have++]]=f&7,f>>>=3,c-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,V={bits:t.lenbits},D=qp(DH,t.lens,0,19,t.lencode,0,t.work,V),t.lenbits=V.bits,D){s.msg="invalid code lengths set",t.mode=Ma;break}t.have=0,t.mode=DN;case DN:for(;t.have<t.nlen+t.ndist;){for(;B=t.lencode[f&(1<<t.lenbits)-1],C=B>>>24,T=B>>>16&255,F=B&65535,!(C<=c);){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(F<16)f>>>=C,c-=C,t.lens[t.have++]=F;else{if(F===16){for(O=C+2;c<O;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(f>>>=C,c-=C,t.have===0){s.msg="invalid bit length repeat",t.mode=Ma;break}Q=t.lens[t.have-1],g=3+(f&3),f>>>=2,c-=2}else if(F===17){for(O=C+3;c<O;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}f>>>=C,c-=C,Q=0,g=3+(f&7),f>>>=3,c-=3}else{for(O=C+7;c<O;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}f>>>=C,c-=C,Q=0,g=11+(f&127),f>>>=7,c-=7}if(t.have+g>t.nlen+t.ndist){s.msg="invalid bit length repeat",t.mode=Ma;break}for(;g--;)t.lens[t.have++]=Q}}if(t.mode===Ma)break;if(t.lens[256]===0){s.msg="invalid code -- missing end-of-block",t.mode=Ma;break}if(t.lenbits=9,V={bits:t.lenbits},D=qp(rI,t.lens,0,t.nlen,t.lencode,0,t.work,V),t.lenbits=V.bits,D){s.msg="invalid literal/lengths set",t.mode=Ma;break}if(t.distbits=6,t.distcode=t.distdyn,V={bits:t.distbits},D=qp(aI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,V),t.distbits=V.bits,D){s.msg="invalid distances set",t.mode=Ma;break}if(t.mode=ex,e===Z0)break e;case ex:t.mode=tx;case tx:if(h>=6&&u>=258){s.next_out=A,s.avail_out=u,s.next_in=o,s.avail_in=h,t.hold=f,t.bits=c,EH(s,x),A=s.next_out,a=s.output,u=s.avail_out,o=s.next_in,n=s.input,h=s.avail_in,f=t.hold,c=t.bits,t.mode===bu&&(t.back=-1);break}for(t.back=0;B=t.lencode[f&(1<<t.lenbits)-1],C=B>>>24,T=B>>>16&255,F=B&65535,!(C<=c);){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(T&&(T&240)===0){for(L=C,k=T,M=F;B=t.lencode[M+((f&(1<<L+k)-1)>>L)],C=B>>>24,T=B>>>16&255,F=B&65535,!(L+C<=c);){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}f>>>=L,c-=L,t.back+=L}if(f>>>=C,c-=C,t.back+=C,t.length=F,T===0){t.mode=kN;break}if(T&32){t.back=-1,t.mode=bu;break}if(T&64){s.msg="invalid literal/length code",t.mode=Ma;break}t.extra=T&15,t.mode=RN;case RN:if(t.extra){for(O=t.extra;c<O;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=LN;case LN:for(;B=t.distcode[f&(1<<t.distbits)-1],C=B>>>24,T=B>>>16&255,F=B&65535,!(C<=c);){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if((T&240)===0){for(L=C,k=T,M=F;B=t.distcode[M+((f&(1<<L+k)-1)>>L)],C=B>>>24,T=B>>>16&255,F=B&65535,!(L+C<=c);){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}f>>>=L,c-=L,t.back+=L}if(f>>>=C,c-=C,t.back+=C,T&64){s.msg="invalid distance code",t.mode=Ma;break}t.offset=F,t.extra=T&15,t.mode=QN;case QN:if(t.extra){for(O=t.extra;c<O;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){s.msg="invalid distance too far back",t.mode=Ma;break}t.mode=ON;case ON:if(u===0)break e;if(g=x-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){s.msg="invalid distance too far back",t.mode=Ma;break}g>t.wnext?(g-=t.wnext,w=t.wsize-g):w=t.wnext-g,g>t.length&&(g=t.length),E=t.window}else E=a,w=A-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do a[A++]=E[w++];while(--g);t.length===0&&(t.mode=tx);break;case kN:if(u===0)break e;a[A++]=t.length,u--,t.mode=tx;break;case A1:if(t.wrap){for(;c<32;){if(h===0)break e;h--,f|=n[o++]<<c,c+=8}if(x-=u,s.total_out+=x,t.total+=x,t.wrap&4&&x&&(s.adler=t.check=t.flags?kA(t.check,a,x,A-x):Sb(t.check,a,x,A-x)),x=u,t.wrap&4&&(t.flags?f:HN(f))!==t.check){s.msg="incorrect data check",t.mode=Ma;break}f=0,c=0}t.mode=PN;case PN:if(t.wrap&&t.flags){for(;c<32;){if(h===0)break e;h--,f+=n[o++]<<c,c+=8}if(t.wrap&4&&f!==(t.total&4294967295)){s.msg="incorrect length check",t.mode=Ma;break}f=0,c=0}t.mode=MN;case MN:D=LH;break e;case Ma:D=iI;break e;case lI:return oI;case cI:default:return Oc}return s.next_out=A,s.avail_out=u,s.next_in=o,s.avail_in=h,t.hold=f,t.bits=c,(t.wsize||x!==s.avail_out&&t.mode<Ma&&(t.mode<A1||e!==vN))&&fI(s,s.output,s.next_out,x-s.avail_out),m-=s.avail_in,x-=s.avail_out,s.total_in+=m,s.total_out+=x,t.total+=x,t.wrap&4&&x&&(s.adler=t.check=t.flags?kA(t.check,a,x,s.next_out-x):Sb(t.check,a,x,s.next_out-x)),s.data_type=t.bits+(t.last?64:0)+(t.mode===bu?128:0)+(t.mode===ex||t.mode===c1?256:0),(m===0&&x===0||e===vN)&&D===of&&(D=OH),D},$H=s=>{if(hf(s))return Oc;let e=s.state;return e.window&&(e.window=null),s.state=null,of},YH=(s,e)=>{if(hf(s))return Oc;const t=s.state;return(t.wrap&2)===0?Oc:(t.head=e,e.done=!1,of)},WH=(s,e)=>{const t=e.length;let n,a,o;return hf(s)||(n=s.state,n.wrap!==0&&n.mode!==iv)?Oc:n.mode===iv&&(a=1,a=Sb(a,e,t,0),a!==n.check)?iI:(o=fI(s,e,t,t),o?(n.mode=lI,oI):(n.havedict=1,of))};var XH=uI,JH=dI,qH=AI,ZH=KH,e9=hI,t9=GH,s9=$H,n9=YH,r9=WH,a9="pako inflate (from Nodeca project)",ju={inflateReset:XH,inflateReset2:JH,inflateResetKeep:qH,inflateInit:ZH,inflateInit2:e9,inflate:t9,inflateEnd:s9,inflateGetHeader:n9,inflateSetDictionary:r9,inflateInfo:a9};function i9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var o9=i9;const mI=Object.prototype.toString,{Z_NO_FLUSH:l9,Z_FINISH:c9,Z_OK:yg,Z_STREAM_END:h1,Z_NEED_DICT:f1,Z_STREAM_ERROR:A9,Z_DATA_ERROR:KN,Z_MEM_ERROR:u9}=tI;function Gg(s){this.options=sI.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SH,this.strm.avail_out=0;let t=ju.inflateInit2(this.strm,e.windowBits);if(t!==yg)throw new Error(Cb[t]);if(this.header=new o9,ju.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Eb.string2buf(e.dictionary):mI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ju.inflateSetDictionary(this.strm,e.dictionary),t!==yg)))throw new Error(Cb[t])}Gg.prototype.push=function(s,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let o,A,h;if(this.ended)return!1;for(e===~~e?A=e:A=e===!0?c9:l9,mI.call(s)==="[object ArrayBuffer]"?t.input=new Uint8Array(s):t.input=s,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=ju.inflate(t,A),o===f1&&a&&(o=ju.inflateSetDictionary(t,a),o===yg?o=ju.inflate(t,A):o===KN&&(o=f1));t.avail_in>0&&o===h1&&t.state.wrap>0&&s[t.next_in]!==0;)ju.inflateReset(t),o=ju.inflate(t,A);switch(o){case A9:case KN:case f1:case u9:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===h1))if(this.options.to==="string"){let u=Eb.utf8border(t.output,t.next_out),f=t.next_out-u,c=Eb.buf2string(t.output,u);t.next_out=f,t.avail_out=n-f,f&&t.output.set(t.output.subarray(u,u+f),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===yg&&h===0)){if(o===h1)return o=ju.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Gg.prototype.onData=function(s){this.chunks.push(s)};Gg.prototype.onEnd=function(s){s===yg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sI.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function d9(s,e){const t=new Gg(e);if(t.push(s),t.err)throw t.msg||Cb[t.err];return t.result}var h9=Gg,f9=d9,m9={Inflate:h9,inflate:f9};const{Inflate:p9,inflate:g9}=m9;var zN=p9,x9=g9;const pI=[];for(let s=0;s<256;s++){let e=s;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;pI[s]=e}const GN=4294967295;function v9(s,e,t){let n=s;for(let a=0;a<t;a++)n=pI[(n^e[a])&255]^n>>>8;return n}function y9(s,e){return(v9(GN,s,e)^GN)>>>0}function $N(s,e,t){const n=s.readUint32(),a=y9(new Uint8Array(s.buffer,s.byteOffset+s.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function gI(s,e,t){for(let n=0;n<t;n++)e[n]=s[n]}function xI(s,e,t,n){let a=0;for(;a<n;a++)e[a]=s[a];for(;a<t;a++)e[a]=s[a]+e[a-n]&255}function vI(s,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=s[a];else for(;a<n;a++)e[a]=s[a]+t[a]&255}function yI(s,e,t,n,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=s[o];for(;o<n;o++)e[o]=s[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=s[o]+(t[o]>>1)&255;for(;o<n;o++)e[o]=s[o]+(e[o-a]+t[o]>>1)&255}}function bI(s,e,t,n,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=s[o];for(;o<n;o++)e[o]=s[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=s[o]+t[o]&255;for(;o<n;o++)e[o]=s[o]+b9(e[o-a],t[o],t[o-a])&255}}function b9(s,e,t){const n=s+e-t,a=Math.abs(n-s),o=Math.abs(n-e),A=Math.abs(n-t);return a<=o&&a<=A?s:o<=A?e:t}function w9(s,e,t,n,a,o){switch(s){case 0:gI(e,t,a);break;case 1:xI(e,t,a,o);break;case 2:vI(e,t,n,a);break;case 3:yI(e,t,n,a,o);break;case 4:bI(e,t,n,a,o);break;default:throw new Error(`Unsupported filter: ${s}`)}}const j9=new Uint16Array([255]),B9=new Uint8Array(j9.buffer),N9=B9[0]===255;function S9(s){const{data:e,width:t,height:n,channels:a,depth:o}=s,A=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,u=new Uint8Array(n*t*h);let f=0;for(let c=0;c<7;c++){const m=A[c],x=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(x<=0||g<=0)continue;const w=x*h,E=new Uint8Array(w);for(let B=0;B<g;B++){const C=e[f++],T=e.subarray(f,f+w);f+=w;const F=new Uint8Array(w);w9(C,T,F,E,w,h),E.set(F);for(let L=0;L<x;L++){const k=m.x+L*m.xStep,M=m.y+B*m.yStep;if(!(k>=t||M>=n))for(let Q=0;Q<h;Q++)u[(M*t+k)*h+Q]=F[L*h+Q]}}}if(o===16){const c=new Uint16Array(u.buffer);if(N9)for(let m=0;m<c.length;m++)c[m]=C9(c[m]);return c}else return u}function C9(s){return(s&255)<<8|s>>8&255}const E9=new Uint16Array([255]),T9=new Uint8Array(E9.buffer),I9=T9[0]===255,_9=new Uint8Array(0);function YN(s){const{data:e,width:t,height:n,channels:a,depth:o}=s,A=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*t),u=new Uint8Array(n*h);let f=_9,c=0,m,x;for(let g=0;g<n;g++){switch(m=e.subarray(c+1,c+1+h),x=u.subarray(g*h,(g+1)*h),e[c]){case 0:gI(m,x,h);break;case 1:xI(m,x,h,A);break;case 2:vI(m,x,f,h);break;case 3:yI(m,x,f,h,A);break;case 4:bI(m,x,f,h,A);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}f=x,c+=h+1}if(o===16){const g=new Uint16Array(u.buffer);if(I9)for(let w=0;w<g.length;w++)g[w]=F9(g[w]);return g}else return u}function F9(s){return(s&255)<<8|s>>8&255}const Cx=Uint8Array.of(137,80,78,71,13,10,26,10);function WN(s){if(!U9(s.readBytes(Cx.length)))throw new Error("wrong PNG signature")}function U9(s){if(s.length<Cx.length)return!1;for(let e=0;e<Cx.length;e++)if(s[e]!==Cx[e])return!1;return!0}const D9="tEXt",R9=0,wI=new TextDecoder("latin1");function L9(s){if(O9(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const Q9=/^[\u0000-\u00FF]*$/;function O9(s){if(!Q9.test(s))throw new Error("invalid latin1 text")}function k9(s,e,t){const n=jI(e);s[n]=P9(e,t-n.length-1)}function jI(s){for(s.mark();s.readByte()!==R9;);const e=s.offset;s.reset();const t=wI.decode(s.readBytes(e-s.offset-1));return s.skip(1),L9(t),t}function P9(s,e){return wI.decode(s.readBytes(e))}const ic={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},m1={UNKNOWN:-1,DEFLATE:0},XN={UNKNOWN:-1,ADAPTIVE:0},p1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},sx={NONE:0,BACKGROUND:1,PREVIOUS:2},g1={SOURCE:0,OVER:1};class M9 extends x2{constructor(t,n={}){super(t);Vr(this,"_checkCrc");Vr(this,"_inflator");Vr(this,"_png");Vr(this,"_apng");Vr(this,"_end");Vr(this,"_hasPalette");Vr(this,"_palette");Vr(this,"_hasTransparency");Vr(this,"_transparency");Vr(this,"_compressionMethod");Vr(this,"_filterMethod");Vr(this,"_interlaceMethod");Vr(this,"_colorType");Vr(this,"_isAnimated");Vr(this,"_numberOfFrames");Vr(this,"_numberOfPlays");Vr(this,"_frames");Vr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new zN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=m1.UNKNOWN,this._filterMethod=XN.UNKNOWN,this._interlaceMethod=p1.UNKNOWN,this._colorType=ic.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(WN(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(WN(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case D9:k9(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?$N(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?$N(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=H9(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case ic.GREYSCALE:a=1;break;case ic.TRUECOLOUR:a=3;break;case ic.INDEXED_COLOUR:a=1;break;case ic.GREYSCALE_ALPHA:a=2;break;case ic.TRUECOLOUR_ALPHA:a=4;break;case ic.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==m1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ic.GREYSCALE:case ic.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case ic.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ic.UNKNOWN:case ic.GREYSCALE_ALPHA:case ic.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=jI(this),a=this.readUint8();if(a!==m1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:x9(o)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=YN({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,a){switch(t.disposeOp){case sx.NONE:break;case sx.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let A=0;A<this._png.width;A++){const h=(o*t.width+A)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[h+u]=0}break;case sx.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const a=1<<this._png.depth,o=(A,h)=>{const u=((A+n.yOffset)*this._png.width+n.xOffset+h)*this._png.channels,f=(A*n.width+h)*this._png.channels;return{index:u,frameIndex:f}};switch(n.blendOp){case g1.SOURCE:for(let A=0;A<n.height;A++)for(let h=0;h<n.width;h++){const{index:u,frameIndex:f}=o(A,h);for(let c=0;c<this._png.channels;c++)t.data[u+c]=n.data[f+c]}break;case g1.OVER:for(let A=0;A<n.height;A++)for(let h=0;h<n.width;h++){const{index:u,frameIndex:f}=o(A,h);for(let c=0;c<this._png.channels;c++){const m=n.data[f+this._png.channels-1]/a,x=c%(this._png.channels-1)===0?1:n.data[f+c],g=Math.floor(m*x+(1-m)*t.data[u+c]);t.data[u+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==XN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===p1.NO_INTERLACE)this._png.data=YN({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===p1.ADAM7)this._png.data=S9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sx.NONE,blendOp:g1.SOURCE,data:t}),this._inflator=new zN,this._writingDataChunks=!1}}function H9(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var JN;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(JN||(JN={}));function V9(s,e){return new M9(s,e).decode()}var fn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function x1(){fn.console&&typeof fn.console.log=="function"&&fn.console.log.apply(fn.console,arguments)}var ra={log:x1,warn:function(s){fn.console&&(typeof fn.console.warn=="function"?fn.console.warn.apply(fn.console,arguments):x1.call(null,arguments))},error:function(s){fn.console&&(typeof fn.console.error=="function"?fn.console.error.apply(fn.console,arguments):x1(s))}};function v1(s,e,t){var n=new XMLHttpRequest;n.open("GET",s),n.responseType="blob",n.onload=function(){Oh(n.response,e,t)},n.onerror=function(){ra.error("could not download file")},n.send()}function qN(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function nx(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var Oh=fn.saveAs||((typeof window>"u"?"undefined":Kr(window))!=="object"||window!==fn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,e,t){var n=fn.URL||fn.webkitURL,a=document.createElement("a");e=e||s.name||"download",a.download=e,a.rel="noopener",typeof s=="string"?(a.href=s,a.origin!==location.origin?qN(a.href)?v1(s,e,t):nx(a,a.target="_blank"):nx(a)):(a.href=n.createObjectURL(s),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){nx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(s,e,t){if(e=e||s.name||"download",typeof s=="string")if(qN(s))v1(s,e,t);else{var n=document.createElement("a");n.href=s,n.target="_blank",setTimeout(function(){nx(n)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Kr(o)!=="object"&&(ra.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(s,t),e)}:function(s,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof s=="string")return v1(s,e,t);var a=s.type==="application/octet-stream",o=/constructor/i.test(fn.HTMLElement)||fn.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||a&&o)&&(typeof FileReader>"u"?"undefined":Kr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var c=h.result;c=A?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},h.readAsDataURL(s)}else{var u=fn.URL||fn.webkitURL,f=u.createObjectURL(s);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function BI(s){var e;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,o=t[n].process,A=a.exec(s);A&&(e=o(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+h+u+f}}var Ex=fn.atob.bind(fn),ZN=fn.btoa.bind(fn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y1(s,e){var t=s[0],n=s[1],a=s[2],o=s[3];t=tl(t,n,a,o,e[0],7,-680876936),o=tl(o,t,n,a,e[1],12,-389564586),a=tl(a,o,t,n,e[2],17,606105819),n=tl(n,a,o,t,e[3],22,-1044525330),t=tl(t,n,a,o,e[4],7,-176418897),o=tl(o,t,n,a,e[5],12,1200080426),a=tl(a,o,t,n,e[6],17,-1473231341),n=tl(n,a,o,t,e[7],22,-45705983),t=tl(t,n,a,o,e[8],7,1770035416),o=tl(o,t,n,a,e[9],12,-1958414417),a=tl(a,o,t,n,e[10],17,-42063),n=tl(n,a,o,t,e[11],22,-1990404162),t=tl(t,n,a,o,e[12],7,1804603682),o=tl(o,t,n,a,e[13],12,-40341101),a=tl(a,o,t,n,e[14],17,-1502002290),t=sl(t,n=tl(n,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=sl(o,t,n,a,e[6],9,-1069501632),a=sl(a,o,t,n,e[11],14,643717713),n=sl(n,a,o,t,e[0],20,-373897302),t=sl(t,n,a,o,e[5],5,-701558691),o=sl(o,t,n,a,e[10],9,38016083),a=sl(a,o,t,n,e[15],14,-660478335),n=sl(n,a,o,t,e[4],20,-405537848),t=sl(t,n,a,o,e[9],5,568446438),o=sl(o,t,n,a,e[14],9,-1019803690),a=sl(a,o,t,n,e[3],14,-187363961),n=sl(n,a,o,t,e[8],20,1163531501),t=sl(t,n,a,o,e[13],5,-1444681467),o=sl(o,t,n,a,e[2],9,-51403784),a=sl(a,o,t,n,e[7],14,1735328473),t=nl(t,n=sl(n,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=nl(o,t,n,a,e[8],11,-2022574463),a=nl(a,o,t,n,e[11],16,1839030562),n=nl(n,a,o,t,e[14],23,-35309556),t=nl(t,n,a,o,e[1],4,-1530992060),o=nl(o,t,n,a,e[4],11,1272893353),a=nl(a,o,t,n,e[7],16,-155497632),n=nl(n,a,o,t,e[10],23,-1094730640),t=nl(t,n,a,o,e[13],4,681279174),o=nl(o,t,n,a,e[0],11,-358537222),a=nl(a,o,t,n,e[3],16,-722521979),n=nl(n,a,o,t,e[6],23,76029189),t=nl(t,n,a,o,e[9],4,-640364487),o=nl(o,t,n,a,e[12],11,-421815835),a=nl(a,o,t,n,e[15],16,530742520),t=rl(t,n=nl(n,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=rl(o,t,n,a,e[7],10,1126891415),a=rl(a,o,t,n,e[14],15,-1416354905),n=rl(n,a,o,t,e[5],21,-57434055),t=rl(t,n,a,o,e[12],6,1700485571),o=rl(o,t,n,a,e[3],10,-1894986606),a=rl(a,o,t,n,e[10],15,-1051523),n=rl(n,a,o,t,e[1],21,-2054922799),t=rl(t,n,a,o,e[8],6,1873313359),o=rl(o,t,n,a,e[15],10,-30611744),a=rl(a,o,t,n,e[6],15,-1560198380),n=rl(n,a,o,t,e[13],21,1309151649),t=rl(t,n,a,o,e[4],6,-145523070),o=rl(o,t,n,a,e[11],10,-1120210379),a=rl(a,o,t,n,e[2],15,718787259),n=rl(n,a,o,t,e[9],21,-343485551),s[0]=Rd(t,s[0]),s[1]=Rd(n,s[1]),s[2]=Rd(a,s[2]),s[3]=Rd(o,s[3])}function zv(s,e,t,n,a,o){return e=Rd(Rd(e,s),Rd(n,o)),Rd(e<<a|e>>>32-a,t)}function tl(s,e,t,n,a,o,A){return zv(e&t|~e&n,s,e,a,o,A)}function sl(s,e,t,n,a,o,A){return zv(e&n|t&~n,s,e,a,o,A)}function nl(s,e,t,n,a,o,A){return zv(e^t^n,s,e,a,o,A)}function rl(s,e,t,n,a,o,A){return zv(t^(e|~n),s,e,a,o,A)}function NI(s){var e,t=s.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s.length;e+=64)y1(n,K9(s.substring(e-64,e)));s=s.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s.length;e++)a[e>>2]|=s.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(y1(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,y1(n,a),n}function K9(s){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return t}var eS="0123456789abcdef".split("");function z9(s){for(var e="",t=0;t<4;t++)e+=eS[s>>8*t+4&15]+eS[s>>8*t&15];return e}function G9(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function Tb(s){return NI(s).map(G9).join("")}var $9=(function(s){for(var e=0;e<s.length;e++)s[e]=z9(s[e]);return s.join("")})(NI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rd(s,e){if($9){var t=(65535&s)+(65535&e);return(s>>16)+(e>>16)+(t>>16)<<16|65535&t}return s+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ib(s,e){var t,n,a,o;if(s!==t){for(var A=(a=s,o=1+(256/s.length|0),new Array(o+1).join(a)),h=[],u=0;u<256;u++)h[u]=u;var f=0;for(u=0;u<256;u++){var c=h[u];f=(f+c+A.charCodeAt(u))%256,h[u]=h[f],h[f]=c}t=s,n=h}else h=n;var m=e.length,x=0,g=0,w="";for(u=0;u<m;u++)g=(g+(c=h[x=(x+1)%256]))%256,h[x]=h[g],h[g]=c,A=h[(h[x]+h[g])%256],w+=String.fromCharCode(e.charCodeAt(u)^A);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tS={print:4,modify:8,copy:16,"annot-forms":32};function Yf(s,e,t,n){this.v=1,this.r=2;var a=192;s.forEach(function(h){if(tS.perm!==void 0)throw new Error("Invalid permission: "+h);a+=tS[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),A=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,A),this.P=-(1+(255^a)),this.encryptionKey=Tb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Ib(this.encryptionKey,this.padding)}function Wf(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var e="",t=s.length,n=0;n<t;n++){var a=s.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):s[n]}return e}function sS(s){if(Kr(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!a],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var A=e[t][o];try{A[0].apply(s,n)}catch(h){fn.console&&ra.error("jsPDF PubSub Error",h.message,h)}A[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bg(s){if(!(this instanceof bg))return new bg(s);var e="opacity,stroke-opacity".split(",");for(var t in s)s.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=s[t]);this.id="",this.objectNumber=-1}function SI(s,e){this.gState=s,this.matrix=e,this.id="",this.objectNumber=-1}function Id(s,e,t,n,a){if(!(this instanceof Id))return new Id(s,e,t,n,a);this.type=s==="axial"?2:3,this.coords=e,this.colors=t,SI.call(this,n,a)}function Vh(s,e,t,n,a){if(!(this instanceof Vh))return new Vh(s,e,t,n,a);this.boundingBox=s,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,SI.call(this,n,a)}function Ps(s){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],A=[],h=1,u=16,f="S",c=null;Kr(s=s||{})==="object"&&(t=s.orientation,n=s.unit||n,a=s.format||a,o=s.compress||s.compressPdf||o,(c=s.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),h=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(e=s.precision),s.floatPrecision!==void 0&&(u=s.floatPrecision),f=s.defaultPathOperation||"S"),A=s.filters||(o===!0?["FlateEncode"]:A),n=n||"mm",t=(""+(t||"P")).toLowerCase();var m=s.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=sS;var w="1.3",E=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(P){w=P};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return B};var C=g.__private__.getPageFormat=function(P){return B[P]};a=a||"a4";var T="compat",F="advanced",L=T;function k(){this.saveGraphicsState(),ge(new as(Ye,0,0,-Ye,0,Ti()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),f="n",L=F}function M(){this.restoreGraphicsState(),f="S",L=T}var Q=g.__private__.combineFontStyleAndFontWeight=function(P,ce){if(P=="bold"&&ce=="normal"||P=="bold"&&ce==400||P=="normal"&&ce=="italic"||P=="bold"&&ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(P=ce==400||ce==="normal"?P==="italic"?"italic":"normal":ce!=700&&ce!=="bold"||P!=="normal"?(ce==700?"bold":ce)+""+P:"bold"),P};g.advancedAPI=function(P){var ce=L===T;return ce&&k.call(this),typeof P!="function"||(P(this),ce&&M.call(this)),this},g.compatAPI=function(P){var ce=L===F;return ce&&M.call(this),typeof P!="function"||(P(this),ce&&k.call(this)),this},g.isAdvancedAPI=function(){return L===F};var D,R=function(P){if(L!==F)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(P,ce){var Ee=e||ce;if(isNaN(P)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(Ee).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof u=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return V(P,u)}:u==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return V(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return V(P,16)};var O=g.f2=g.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return V(P,2)},H=g.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return V(P,3)},G=g.scale=g.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return L===T?P*Ye:L===F?P:void 0},ae=function(P){return G((function(ce){return L===T?Ti()-ce:L===F?ce:void 0})(P))};g.__private__.setPrecision=g.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var Ae,ie="00000000000000000000000000000000",le=g.__private__.getFileId=function(){return ie},X=g.__private__.setFileId=function(P){return ie=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Ne=new Yf(c.userPermissions,c.userPassword,c.ownerPassword,ie)),ie};g.setFileId=function(P){return X(P),this},g.getFileId=function(){return le()};var ne=g.__private__.convertDateToPDFDate=function(P){var ce=P.getTimezoneOffset(),Ee=ce<0?"+":"-",Ue=Math.floor(Math.abs(ce/60)),ze=Math.abs(ce%60),yt=[Ee,oe(Ue),"'",oe(ze),"'"].join("");return["D:",P.getFullYear(),oe(P.getMonth()+1),oe(P.getDate()),oe(P.getHours()),oe(P.getMinutes()),oe(P.getSeconds()),yt].join("")},re=g.__private__.convertPDFDateToDate=function(P){var ce=parseInt(P.substr(2,4),10),Ee=parseInt(P.substr(6,2),10)-1,Ue=parseInt(P.substr(8,2),10),ze=parseInt(P.substr(10,2),10),yt=parseInt(P.substr(12,2),10),Ut=parseInt(P.substr(14,2),10);return new Date(ce,Ee,Ue,ze,yt,Ut,0)},W=g.__private__.setCreationDate=function(P){var ce;if(P===void 0&&(P=new Date),P instanceof Date)ce=ne(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=P}return Ae=ce},K=g.__private__.getCreationDate=function(P){var ce=Ae;return P==="jsDate"&&(ce=re(Ae)),ce};g.setCreationDate=function(P){return W(P),this},g.getCreationDate=function(P){return K(P)};var ee,oe=g.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},he=g.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ue=0,ye=[],je=[],ve=0,_e=[],ke=[],Me=!1,Je=je;g.__private__.setCustomOutputDestination=function(P){Me=!0,Je=P};var at=function(P){Me||(Je=P)};g.__private__.resetCustomOutputDestination=function(){Me=!1,Je=je};var ge=g.__private__.out=function(P){return P=P.toString(),ve+=P.length+1,Je.push(P),Je},ht=g.__private__.write=function(P){return ge(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Kt=g.__private__.getArrayBuffer=function(P){for(var ce=P.length,Ee=new ArrayBuffer(ce),Ue=new Uint8Array(Ee);ce--;)Ue[ce]=P.charCodeAt(ce);return Ee},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Pt};var Le=s.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(P){return Le=L===F?P/Ye:P,this};var jt,Ve=g.__private__.getFontSize=g.getFontSize=function(){return L===T?Le:Le*Ye},Fe=s.R2L||!1;g.__private__.setR2L=g.setR2L=function(P){return Fe=P,this},g.__private__.getR2L=g.getR2L=function(){return Fe};var lt,xt=g.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))jt=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');jt=P}else jt=parseInt(P,10)};g.__private__.getZoomMode=function(){return jt};var Et,Jt=g.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');lt=P};g.__private__.getPageMode=function(){return lt};var Mt=g.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Et=P};g.__private__.getLayoutMode=function(){return Et},g.__private__.setDisplayMode=g.setDisplayMode=function(P,ce,Ee){return xt(P),Mt(ce),Jt(Ee),this};var He={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(P){if(Object.keys(He).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return He[P]},g.__private__.getDocumentProperties=function(){return He},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(P){for(var ce in He)He.hasOwnProperty(ce)&&P[ce]&&(He[ce]=P[ce]);return this},g.__private__.setDocumentProperty=function(P,ce){if(Object.keys(He).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return He[P]=ce};var ft,Ye,At,es,Gt,qt={},dt={},Ot=[],Vt={},is={},Zt={},Qe={},Ht=null,it=0,ct=[],Bt=new sS(g),ts=s.hotfixes||[],ss={},Us={},zs=[],as=function P(ce,Ee,Ue,ze,yt,Ut){if(!(this instanceof P))return new P(ce,Ee,Ue,ze,yt,Ut);isNaN(ce)&&(ce=1),isNaN(Ee)&&(Ee=0),isNaN(Ue)&&(Ue=0),isNaN(ze)&&(ze=1),isNaN(yt)&&(yt=0),isNaN(Ut)&&(Ut=0),this._matrix=[ce,Ee,Ue,ze,yt,Ut]};Object.defineProperty(as.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(as.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(as.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(as.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(as.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(as.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(as.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(as.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(as.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(as.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(as.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(as.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(as.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(as.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(as.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(as.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),as.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(P)},as.prototype.multiply=function(P){var ce=P.sx*this.sx+P.shy*this.shx,Ee=P.sx*this.shy+P.shy*this.sy,Ue=P.shx*this.sx+P.sy*this.shx,ze=P.shx*this.shy+P.sy*this.sy,yt=P.tx*this.sx+P.ty*this.shx+this.tx,Ut=P.tx*this.shy+P.ty*this.sy+this.ty;return new as(ce,Ee,Ue,ze,yt,Ut)},as.prototype.decompose=function(){var P=this.sx,ce=this.shy,Ee=this.shx,Ue=this.sy,ze=this.tx,yt=this.ty,Ut=Math.sqrt(P*P+ce*ce),xs=(P/=Ut)*Ee+(ce/=Ut)*Ue;Ee-=P*xs,Ue-=ce*xs;var qe=Math.sqrt(Ee*Ee+Ue*Ue);return xs/=qe,P*(Ue/=qe)<ce*(Ee/=qe)&&(P=-P,ce=-ce,xs=-xs,Ut=-Ut),{scale:new as(Ut,0,0,qe,0,0),translate:new as(1,0,0,1,ze,yt),rotate:new as(P,ce,-ce,P,0,0),skew:new as(1,0,xs,1,0,0)}},as.prototype.toString=function(P){return this.join(" ")},as.prototype.inversed=function(){var P=this.sx,ce=this.shy,Ee=this.shx,Ue=this.sy,ze=this.tx,yt=this.ty,Ut=1/(P*Ue-ce*Ee),xs=Ue*Ut,qe=-ce*Ut,Lt=-Ee*Ut,kt=P*Ut;return new as(xs,qe,Lt,kt,-xs*ze-Lt*yt,-qe*ze-kt*yt)},as.prototype.applyToPoint=function(P){var ce=P.x*this.sx+P.y*this.shx+this.tx,Ee=P.x*this.shy+P.y*this.sy+this.ty;return new va(ce,Ee)},as.prototype.applyToRectangle=function(P){var ce=this.applyToPoint(P),Ee=this.applyToPoint(new va(P.x+P.w,P.y+P.h));return new hr(ce.x,ce.y,Ee.x-ce.x,Ee.y-ce.y)},as.prototype.clone=function(){var P=this.sx,ce=this.shy,Ee=this.shx,Ue=this.sy,ze=this.tx,yt=this.ty;return new as(P,ce,Ee,Ue,ze,yt)},g.Matrix=as;var Vn=g.matrixMult=function(P,ce){return ce.multiply(P)},qs=new as(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=qs;var un=function(P,ce){if(!is[P]){var Ee=(ce instanceof Id?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);ce.id=Ee,is[P]=Ee,Vt[Ee]=ce,Bt.publish("addPattern",ce)}};g.ShadingPattern=Id,g.TilingPattern=Vh,g.addShadingPattern=function(P,ce){return R("addShadingPattern()"),un(P,ce),this},g.beginTilingPattern=function(P){R("beginTilingPattern()"),Ja(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},g.endTilingPattern=function(P,ce){R("endTilingPattern()"),ce.stream=ke[ee].join(`
`),un(P,ce),Bt.publish("endTilingPattern",ce),zs.pop().restore()};var Kn,rs=g.__private__.newObject=function(){var P=Hs();return Cn(P,!0),P},Hs=g.__private__.newObjectDeferred=function(){return ue++,ye[ue]=function(){return ve},ue},Cn=function(P,ce){return ce=typeof ce=="boolean"&&ce,ye[P]=ve,ce&&ge(P+" 0 obj"),P},dn=g.__private__.newAdditionalObject=function(){var P={objId:Hs(),content:""};return _e.push(P),P},wn=Hs(),fs=Hs(),Un=g.__private__.decodeColorString=function(P){var ce=P.split(" ");if(ce.length!==2||ce[1]!=="g"&&ce[1]!=="G")ce.length!==5||ce[4]!=="k"&&ce[4]!=="K"||(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var Ee=parseFloat(ce[0]);ce=[Ee,Ee,Ee,"r"]}for(var Ue="#",ze=0;ze<3;ze++)Ue+=("0"+Math.floor(255*parseFloat(ce[ze])).toString(16)).slice(-2);return Ue},zn=g.__private__.encodeColorString=function(P){var ce;typeof P=="string"&&(P={ch1:P});var Ee=P.ch1,Ue=P.ch2,ze=P.ch3,yt=P.ch4,Ut=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var xs=new BI(Ee);if(xs.ok)Ee=xs.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var qe=parseInt(Ee.substr(1),16);Ee=qe>>16&255,Ue=qe>>8&255,ze=255&qe}if(Ue===void 0||yt===void 0&&Ee===Ue&&Ue===ze)ce=typeof Ee=="string"?Ee+" "+Ut[0]:P.precision===2?O(Ee/255)+" "+Ut[0]:H(Ee/255)+" "+Ut[0];else if(yt===void 0||Kr(yt)==="object"){if(yt&&!isNaN(yt.a)&&yt.a===0)return["1.","1.","1.",Ut[1]].join(" ");ce=typeof Ee=="string"?[Ee,Ue,ze,Ut[1]].join(" "):P.precision===2?[O(Ee/255),O(Ue/255),O(ze/255),Ut[1]].join(" "):[H(Ee/255),H(Ue/255),H(ze/255),Ut[1]].join(" ")}else ce=typeof Ee=="string"?[Ee,Ue,ze,yt,Ut[2]].join(" "):P.precision===2?[O(Ee),O(Ue),O(ze),O(yt),Ut[2]].join(" "):[H(Ee),H(Ue),H(ze),H(yt),Ut[2]].join(" ");return ce},fa=g.__private__.getFilters=function(){return A},za=g.__private__.putStream=function(P){var ce=(P=P||{}).data||"",Ee=P.filters||fa(),Ue=P.alreadyAppliedFilters||[],ze=P.addLength1||!1,yt=ce.length,Ut=P.objectId,xs=function(Y){return Y};if(c!==null&&Ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(xs=Ne.encryptor(Ut,0));var qe={};Ee===!0&&(Ee=["FlateEncode"]);var Lt=P.additionalKeyValues||[],kt=(qe=Ps.API.processDataByFilters!==void 0?Ps.API.processDataByFilters(ce,Ee):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(qe.data.length!==0&&(Lt.push({key:"Length",value:qe.data.length}),ze===!0&&Lt.push({key:"Length1",value:yt})),kt.length!=0)if(kt.split("/").length-1==1)Lt.push({key:"Filter",value:kt});else{Lt.push({key:"Filter",value:"["+kt+"]"});for(var us=0;us<Lt.length;us+=1)if(Lt[us].key==="DecodeParms"){for(var ws=[],$t=0;$t<qe.reverseChain.split("/").length-1;$t+=1)ws.push("null");ws.push(Lt[us].value),Lt[us].value="["+ws.join(" ")+"]"}}ge("<<");for(var y=0;y<Lt.length;y++)ge("/"+Lt[y].key+" "+Lt[y].value);ge(">>"),qe.data.length!==0&&(ge("stream"),ge(xs(qe.data)),ge("endstream"))},Ci=g.__private__.putPage=function(P){var ce=P.number,Ee=P.data,Ue=P.objId,ze=P.contentsObjId;Cn(Ue,!0),ge("<</Type /Page"),ge("/Parent "+P.rootDictionaryObjId+" 0 R"),ge("/Resources "+P.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(D(P.mediaBox.bottomLeftX))+" "+parseFloat(D(P.mediaBox.bottomLeftY))+" "+D(P.mediaBox.topRightX)+" "+D(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ge("/CropBox ["+D(P.cropBox.bottomLeftX)+" "+D(P.cropBox.bottomLeftY)+" "+D(P.cropBox.topRightX)+" "+D(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ge("/BleedBox ["+D(P.bleedBox.bottomLeftX)+" "+D(P.bleedBox.bottomLeftY)+" "+D(P.bleedBox.topRightX)+" "+D(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ge("/TrimBox ["+D(P.trimBox.bottomLeftX)+" "+D(P.trimBox.bottomLeftY)+" "+D(P.trimBox.topRightX)+" "+D(P.trimBox.topRightY)+"]"),P.artBox!==null&&ge("/ArtBox ["+D(P.artBox.bottomLeftX)+" "+D(P.artBox.bottomLeftY)+" "+D(P.artBox.topRightX)+" "+D(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ge("/UserUnit "+P.userUnit),Bt.publish("putPage",{objId:Ue,pageContext:ct[ce],pageNumber:ce,page:Ee}),ge("/Contents "+ze+" 0 R"),ge(">>"),ge("endobj");var yt=Ee.join(`
`);return L===F&&(yt+=`
Q`),Cn(ze,!0),za({data:yt,filters:fa(),objectId:ze}),ge("endobj"),Ue},ma=g.__private__.putPages=function(){var P,ce,Ee=[];for(P=1;P<=it;P++)ct[P].objId=Hs(),ct[P].contentsObjId=Hs();for(P=1;P<=it;P++)Ee.push(Ci({number:P,data:ke[P],objId:ct[P].objId,contentsObjId:ct[P].contentsObjId,mediaBox:ct[P].mediaBox,cropBox:ct[P].cropBox,bleedBox:ct[P].bleedBox,trimBox:ct[P].trimBox,artBox:ct[P].artBox,userUnit:ct[P].userUnit,rootDictionaryObjId:wn,resourceDictionaryObjId:fs}));Cn(wn,!0),ge("<</Type /Pages");var Ue="/Kids [";for(ce=0;ce<it;ce++)Ue+=Ee[ce]+" 0 R ";ge(Ue+"]"),ge("/Count "+it),ge(">>"),ge("endobj"),Bt.publish("postPutPages")},_r=function(P){Bt.publish("putFont",{font:P,out:ge,newObject:rs,putStream:za}),P.isAlreadyPutted!==!0&&(P.objectNumber=rs(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+Wf(P.postScriptName)),ge("/Subtype /Type1"),typeof P.encoding=="string"&&ge("/Encoding /"+P.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},hi=function(P){P.objectNumber=rs();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[D(P.x),D(P.y),D(P.x+P.width),D(P.y+P.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var Ee=P.pages[1].join(`
`);za({data:Ee,additionalKeyValues:ce,objectId:P.objectNumber}),ge("endobj")},Nn=function(P,ce){ce||(ce=21);var Ee=rs(),Ue=(function(Ut,xs){var qe,Lt=[],kt=1/(xs-1);for(qe=0;qe<1;qe+=kt)Lt.push(qe);if(Lt.push(1),Ut[0].offset!=0){var us={offset:0,color:Ut[0].color};Ut.unshift(us)}if(Ut[Ut.length-1].offset!=1){var ws={offset:1,color:Ut[Ut.length-1].color};Ut.push(ws)}for(var $t="",y=0,Y=0;Y<Lt.length;Y++){for(qe=Lt[Y];qe>Ut[y+1].offset;)y++;var se=Ut[y].offset,be=(qe-se)/(Ut[y+1].offset-se),We=Ut[y].color,tt=Ut[y+1].color;$t+=he(Math.round((1-be)*We[0]+be*tt[0]).toString(16))+he(Math.round((1-be)*We[1]+be*tt[1]).toString(16))+he(Math.round((1-be)*We[2]+be*tt[2]).toString(16))}return $t.trim()})(P.colors,ce),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+ce+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),za({data:Ue,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),ge("endobj"),P.objectNumber=rs(),ge("<< /ShadingType "+P.type),ge("/ColorSpace /DeviceRGB");var yt="/Coords ["+D(parseFloat(P.coords[0]))+" "+D(parseFloat(P.coords[1]))+" ";P.type===2?yt+=D(parseFloat(P.coords[2]))+" "+D(parseFloat(P.coords[3])):yt+=D(parseFloat(P.coords[2]))+" "+D(parseFloat(P.coords[3]))+" "+D(parseFloat(P.coords[4]))+" "+D(parseFloat(P.coords[5])),ge(yt+="]"),P.matrix&&ge("/Matrix ["+P.matrix.toString()+"]"),ge("/Function "+Ee+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},br=function(P,ce){var Ee=Hs(),Ue=rs();ce.push({resourcesOid:Ee,objectOid:Ue}),P.objectNumber=Ue;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+P.boundingBox.map(D).join(" ")+"]"}),ze.push({key:"XStep",value:D(P.xStep)}),ze.push({key:"YStep",value:D(P.yStep)}),ze.push({key:"Resources",value:Ee+" 0 R"}),P.matrix&&ze.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),za({data:P.stream,additionalKeyValues:ze,objectId:P.objectNumber}),ge("endobj")},Fr=function(P){for(var ce in P.objectNumber=rs(),ge("<<"),P)switch(ce){case"opacity":ge("/ca "+O(P[ce]));break;case"stroke-opacity":ge("/CA "+O(P[ce]))}ge(">>"),ge("endobj")},Er=function(P){Cn(P.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ce in ge("/Font <<"),qt)qt.hasOwnProperty(ce)&&(m===!1||m===!0&&x.hasOwnProperty(ce))&&ge("/"+ce+" "+qt[ce].objectNumber+" 0 R");ge(">>")})(),(function(){if(Object.keys(Vt).length>0){for(var ce in ge("/Shading <<"),Vt)Vt.hasOwnProperty(ce)&&Vt[ce]instanceof Id&&Vt[ce].objectNumber>=0&&ge("/"+ce+" "+Vt[ce].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),ge(">>")}})(),(function(ce){if(Object.keys(Vt).length>0){for(var Ee in ge("/Pattern <<"),Vt)Vt.hasOwnProperty(Ee)&&Vt[Ee]instanceof g.TilingPattern&&Vt[Ee].objectNumber>=0&&Vt[Ee].objectNumber<ce&&ge("/"+Ee+" "+Vt[Ee].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),ge(">>")}})(P.objectOid),(function(){if(Object.keys(Zt).length>0){var ce;for(ce in ge("/ExtGState <<"),Zt)Zt.hasOwnProperty(ce)&&Zt[ce].objectNumber>=0&&ge("/"+ce+" "+Zt[ce].objectNumber+" 0 R");Bt.publish("putGStateDict"),ge(">>")}})(),(function(){for(var ce in ge("/XObject <<"),ss)ss.hasOwnProperty(ce)&&ss[ce].objectNumber>=0&&ge("/"+ce+" "+ss[ce].objectNumber+" 0 R");Bt.publish("putXobjectDict"),ge(">>")})(),ge(">>"),ge("endobj")},Gn=function(P){dt[P.fontName]=dt[P.fontName]||{},dt[P.fontName][P.fontStyle]=P.id},Ga=function(P,ce,Ee,Ue,ze){var yt={id:"F"+(Object.keys(qt).length+1).toString(10),postScriptName:P,fontName:ce,fontStyle:Ee,encoding:Ue,isStandardFont:ze||!1,metadata:{}};return Bt.publish("addFont",{font:yt,instance:this}),qt[yt.id]=yt,Gn(yt),yt.id},ia=g.__private__.pdfEscape=g.pdfEscape=function(P,ce){return(function(Ee,Ue){var ze,yt,Ut,xs,qe,Lt,kt,us,ws;if(Ut=(Ue=Ue||{}).sourceEncoding||"Unicode",qe=Ue.outputEncoding,(Ue.autoencode||qe)&&qt[ft].metadata&&qt[ft].metadata[Ut]&&qt[ft].metadata[Ut].encoding&&(xs=qt[ft].metadata[Ut].encoding,!qe&&qt[ft].encoding&&(qe=qt[ft].encoding),!qe&&xs.codePages&&(qe=xs.codePages[0]),typeof qe=="string"&&(qe=xs[qe]),qe)){for(kt=!1,Lt=[],ze=0,yt=Ee.length;ze<yt;ze++)(us=qe[Ee.charCodeAt(ze)])?Lt.push(String.fromCharCode(us)):Lt.push(Ee[ze]),Lt[ze].charCodeAt(0)>>8&&(kt=!0);Ee=Lt.join("")}for(ze=Ee.length;kt===void 0&&ze!==0;)Ee.charCodeAt(ze-1)>>8&&(kt=!0),ze--;if(!kt)return Ee;for(Lt=Ue.noBOM?[]:[254,255],ze=0,yt=Ee.length;ze<yt;ze++){if((ws=(us=Ee.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(ws),Lt.push(us-(ws<<8))}return String.fromCharCode.apply(void 0,Lt)})(P,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=g.__private__.beginPage=function(P){ke[++it]=[],ct[it]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Io(it),at(ke[ee])},wr=function(P,ce){var Ee,Ue,ze;switch(t=ce||t,typeof P=="string"&&(Ee=C(P.toLowerCase()),Array.isArray(Ee)&&(Ue=Ee[0],ze=Ee[1])),Array.isArray(P)&&(Ue=P[0]*Ye,ze=P[1]*Ye),isNaN(Ue)&&(Ue=a[0],ze=a[1]),(Ue>14400||ze>14400)&&(ra.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),ze=Math.min(14400,ze)),a=[Ue,ze],t.substr(0,1)){case"l":ze>Ue&&(a=[ze,Ue]);break;case"p":Ue>ze&&(a=[ze,Ue])}Tr(a),_s(Dr),ge(ni),Xa!==0&&ge(Xa+" J"),Rr!==0&&ge(Rr+" j"),Bt.publish("addPage",{pageNumber:it})},$a=function(P){P>0&&P<=it&&(ke.splice(P,1),ct.splice(P,1),it--,ee>it&&(ee=it),this.setPage(ee))},Io=function(P){P>0&&P<=it&&(ee=P)},Nl=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ke.length-1},_o=function(P,ce,Ee){var Ue,ze=void 0;return Ee=Ee||{},P=P!==void 0?P:qt[ft].fontName,ce=ce!==void 0?ce:qt[ft].fontStyle,Ue=P.toLowerCase(),dt[Ue]!==void 0&&dt[Ue][ce]!==void 0?ze=dt[Ue][ce]:dt[P]!==void 0&&dt[P][ce]!==void 0?ze=dt[P][ce]:Ee.disableWarning===!1&&ra.warn("Unable to look up font label for font '"+P+"', '"+ce+"'. Refer to getFontList() for available fonts."),ze||Ee.noFallback||(ze=dt.times[ce])==null&&(ze=dt.times.normal),ze},pa=g.__private__.putInfo=function(){var P=rs(),ce=function(Ue){return Ue};for(var Ee in c!==null&&(ce=Ne.encryptor(P,0)),ge("<<"),ge("/Producer ("+ia(ce("jsPDF "+Ps.version))+")"),He)He.hasOwnProperty(Ee)&&He[Ee]&&ge("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+ia(ce(He[Ee]))+")");ge("/CreationDate ("+ia(ce(Ae))+")"),ge(">>"),ge("endobj")},oa=g.__private__.putCatalog=function(P){var ce=(P=P||{}).rootDictionaryObjId||wn;switch(rs(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+ce+" 0 R"),jt||(jt="fullwidth"),jt){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+jt;Ee.substr(Ee.length-1)==="%"&&(jt=parseInt(jt)/100),typeof jt=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+O(jt)+"]")}switch(Et||(Et="continuous"),Et){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}lt&&ge("/PageMode /"+lt),Bt.publish("putCatalog"),ge(">>"),ge("endobj")},zr=g.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(ue+1)),ge("/Root "+ue+" 0 R"),ge("/Info "+(ue-1)+" 0 R"),c!==null&&ge("/Encrypt "+Ne.oid+" 0 R"),ge("/ID [ <"+ie+"> <"+ie+"> ]"),ge(">>")},jn=g.__private__.putHeader=function(){ge("%PDF-"+w),ge("%")},Ei=g.__private__.putXRef=function(){var P="0000000000";ge("xref"),ge("0 "+(ue+1)),ge("0000000000 65535 f ");for(var ce=1;ce<=ue;ce++)typeof ye[ce]=="function"?ge((P+ye[ce]()).slice(-10)+" 00000 n "):ye[ce]!==void 0?ge((P+ye[ce]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Ya=g.__private__.buildDocument=function(){var P;ue=0,ve=0,je=[],ye=[],_e=[],wn=Hs(),fs=Hs(),at(je),Bt.publish("buildDocument"),jn(),ma(),(function(){Bt.publish("putAdditionalObjects");for(var Ee=0;Ee<_e.length;Ee++){var Ue=_e[Ee];Cn(Ue.objId,!0),ge(Ue.content),ge("endobj")}Bt.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var Ee in qt)qt.hasOwnProperty(Ee)&&(m===!1||m===!0&&x.hasOwnProperty(Ee))&&_r(qt[Ee])})(),(function(){var Ee;for(Ee in Zt)Zt.hasOwnProperty(Ee)&&Fr(Zt[Ee])})(),(function(){for(var Ee in ss)ss.hasOwnProperty(Ee)&&hi(ss[Ee])})(),(function(Ee){var Ue;for(Ue in Vt)Vt.hasOwnProperty(Ue)&&(Vt[Ue]instanceof Id?Nn(Vt[Ue]):Vt[Ue]instanceof Vh&&br(Vt[Ue],Ee))})(P),Bt.publish("putResources"),P.forEach(Er),Er({resourcesOid:fs,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources"),c!==null&&(Ne.oid=rs(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Ne.v),ge("/R "+Ne.r),ge("/U <"+Ne.toHexString(Ne.U)+">"),ge("/O <"+Ne.toHexString(Ne.O)+">"),ge("/P "+Ne.P),ge(">>"),ge("endobj")),pa(),oa();var ce=ve;return Ei(),zr(),ge("startxref"),ge(""+ce),ge("%%EOF"),at(ke[ee]),je.join(`
`)},xn=g.__private__.getBlob=function(P){return new Blob([Kt(P)],{type:"application/pdf"})},fi=g.output=g.__private__.output=(Kn=function(P,ce){switch(typeof(ce=ce||{})=="string"?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",P){case void 0:return Ya();case"save":g.save(ce.filename);break;case"arraybuffer":return Kt(Ya());case"blob":return xn(Ya());case"bloburi":case"bloburl":if(fn.URL!==void 0&&typeof fn.URL.createObjectURL=="function")return fn.URL&&fn.URL.createObjectURL(xn(Ya()))||void 0;ra.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Ue=Ya();try{Ee=ZN(Ue)}catch{Ee=ZN(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+ce.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fn)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",yt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(ze=ce.pdfObjectUrl,yt="");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+yt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",xs=fn.open();return xs!==null&&xs.document.write(Ut),xs}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fn)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',Lt=fn.open();if(Lt!==null){Lt.document.write(qe);var kt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=ce.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var us='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',ws=fn.open();if(ws!==null&&(ws.document.write(us),ws.document.title=ce.filename),ws||typeof safari>"u")return ws;break;case"datauri":case"dataurl":return fn.document.location.href=this.output("datauristring",ce);default:return null}},Kn.foo=function(){try{return Kn.apply(this,arguments)}catch(Ee){var P=Ee.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var ce="Error in function "+P.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!fn.console)throw new Error(ce);fn.console.error(ce,Ee),fn.alert&&alert(ce)}},Kn.foo.bar=Kn,Kn.foo),En=function(P){return Array.isArray(ts)===!0&&ts.indexOf(P)>-1};switch(n){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=En("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ye=n}var Ne=null;W(),X();var nt=g.__private__.getPageInfo=g.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[P].objId,pageNumber:P,pageContext:ct[P]}},Tt=g.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in ct)if(ct[ce].objId===P)break;return nt(ce)},zt=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ct[ee].objId,pageNumber:ee,pageContext:ct[ee]}};g.addPage=function(){return wr.apply(this,arguments),this},g.setPage=function(){return Io.apply(this,arguments),at.call(this,ke[ee]),this},g.insertPage=function(P){return this.addPage(),this.movePage(ee,P),this},g.movePage=function(P,ce){var Ee,Ue;if(P>ce){Ee=ke[P],Ue=ct[P];for(var ze=P;ze>ce;ze--)ke[ze]=ke[ze-1],ct[ze]=ct[ze-1];ke[ce]=Ee,ct[ce]=Ue,this.setPage(ce)}else if(P<ce){Ee=ke[P],Ue=ct[P];for(var yt=P;yt<ce;yt++)ke[yt]=ke[yt+1],ct[yt]=ct[yt+1];ke[ce]=Ee,ct[ce]=Ue,this.setPage(ce)}return this},g.deletePage=function(){return $a.apply(this,arguments),this},g.__private__.text=g.text=function(P,ce,Ee,Ue,ze){var yt,Ut,xs,qe,Lt,kt,us,ws,$t,y=(Ue=Ue||{}).scope||this;if(typeof P=="number"&&typeof ce=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var Y=Ee;Ee=ce,ce=P,P=Y}if(arguments[3]instanceof as==0?(xs=arguments[4],qe=arguments[5],Kr(us=arguments[3])==="object"&&us!==null||(typeof xs=="string"&&(qe=xs,xs=null),typeof us=="string"&&(qe=us,us=null),typeof us=="number"&&(xs=us,us=null),Ue={flags:us,angle:xs,align:qe})):(R("The transform parameter of text() with a Matrix value"),$t=ze),isNaN(ce)||isNaN(Ee)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return y;var se,be="",We=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:ga,tt=y.internal.scaleFactor;function Yt(tr){return tr=tr.split("	").join(Array(Ue.TabLen||9).join(" ")),ia(tr,us)}function Ds(tr){for(var Yn,Ir=tr.concat(),ir=[],xl=Ir.length;xl--;)typeof(Yn=Ir.shift())=="string"?ir.push(Yn):Array.isArray(tr)&&(Yn.length===1||Yn[1]===void 0&&Yn[2]===void 0)?ir.push(Yn[0]):ir.push([Yn[0],Yn[1],Yn[2]]);return ir}function In(tr,Yn){var Ir;if(typeof tr=="string")Ir=Yn(tr)[0];else if(Array.isArray(tr)){for(var ir,xl,vl=tr.concat(),Kc=[],hc=vl.length;hc--;)typeof(ir=vl.shift())=="string"?Kc.push(Yn(ir)[0]):Array.isArray(ir)&&typeof ir[0]=="string"&&(xl=Yn(ir[0],ir[1],ir[2]),Kc.push([xl[0],xl[1],xl[2]]));Ir=Kc}return Ir}var ln=!1,Qn=!0;if(typeof P=="string")ln=!0;else if(Array.isArray(P)){var ba=P.concat();Ut=[];for(var wa,Zn=ba.length;Zn--;)(typeof(wa=ba.shift())!="string"||Array.isArray(wa)&&typeof wa[0]!="string")&&(Qn=!1);ln=Qn}if(ln===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var cn=Le/y.internal.scaleFactor,mo=cn*(We-1);switch(Ue.baseline){case"bottom":Ee-=mo;break;case"top":Ee+=cn-mo;break;case"hanging":Ee+=cn-2*mo;break;case"middle":Ee+=cn/2-mo}if((kt=Ue.maxWidth||0)>0&&(typeof P=="string"?P=y.splitTextToSize(P,kt):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(tr,Yn){return tr.concat(y.splitTextToSize(Yn,kt))},[]))),yt={text:P,x:ce,y:Ee,options:Ue,mutex:{pdfEscape:ia,activeFontKey:ft,fonts:qt,activeFontSize:Le}},Bt.publish("preProcessText",yt),P=yt.text,xs=(Ue=yt.options).angle,$t instanceof as==0&&xs&&typeof xs=="number"){xs*=Math.PI/180,Ue.rotationDirection===0&&(xs=-xs),L===F&&(xs=-xs);var Qo=Math.cos(xs),hl=Math.sin(xs);$t=new as(Qo,hl,-hl,Qo,0,0)}else xs&&xs instanceof as&&($t=xs);L!==F||$t||($t=qs),(Lt=Ue.charSpace||xa)!==void 0&&(be+=D(G(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ws=Ue.horizontalScale)!==void 0&&(be+=D(100*ws)+` Tz
`),Ue.lang;var Ua=-1,ai=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,gA=y.internal.getCurrentPageInfo().pageContext;switch(ai){case 0:case!1:case"fill":Ua=0;break;case 1:case!0:case"stroke":Ua=1;break;case 2:case"fillThenStroke":Ua=2;break;case 3:case"invisible":Ua=3;break;case 4:case"fillAndAddForClipping":Ua=4;break;case 5:case"strokeAndAddPathForClipping":Ua=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ua=6;break;case 7:case"addToPathForClipping":Ua=7}var Oo=gA.usedRenderingMode!==void 0?gA.usedRenderingMode:-1;Ua!==-1?be+=Ua+` Tr
`:Oo!==-1&&(be+=`0 Tr
`),Ua!==-1&&(gA.usedRenderingMode=Ua),qe=Ue.align||"left";var er,ko=Le*We,Lr=y.internal.pageSize.getWidth(),Pc=qt[ft];Lt=Ue.charSpace||xa,kt=Ue.maxWidth||0,us=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var ii=[],Po=function(tr){return y.getStringUnitWidth(tr,{font:Pc,charSpace:Lt,fontSize:Le,doKerning:!1})*Le/tt};if(Object.prototype.toString.call(P)==="[object Array]"){var Bn;Ut=Ds(P),qe!=="left"&&(er=Ut.map(Po));var Ii,fl=0;if(qe==="right"){ce-=er[0],P=[],Zn=Ut.length;for(var ml=0;ml<Zn;ml++)ml===0?(Ii=Xr(ce),Bn=Jr(Ee)):(Ii=G(fl-er[ml]),Bn=-ko),P.push([Ut[ml],Ii,Bn]),fl=er[ml]}else if(qe==="center"){ce-=er[0]/2,P=[],Zn=Ut.length;for(var Sl=0;Sl<Zn;Sl++)Sl===0?(Ii=Xr(ce),Bn=Jr(Ee)):(Ii=G((fl-er[Sl])/2),Bn=-ko),P.push([Ut[Sl],Ii,Bn]),fl=er[Sl]}else if(qe==="left"){P=[],Zn=Ut.length;for(var Yl=0;Yl<Zn;Yl++)P.push(Ut[Yl])}else if(qe==="justify"&&Pc.encoding==="Identity-H"){P=[],Zn=Ut.length,kt=kt!==0?kt:Lr;for(var Mc=0,la=0;la<Zn;la++)if(Bn=la===0?Jr(Ee):-ko,Ii=la===0?Xr(ce):Mc,la<Zn-1){var Ji=G((kt-er[la])/(Ut[la].split(" ").length-1)),pi=Ut[la].split(" ");P.push([pi[0]+" ",Ii,Bn]),Mc=0;for(var gi=1;gi<pi.length;gi++){var On=(Po(pi[gi-1]+" "+pi[gi])-Po(pi[gi]))*tt+Ji;gi==pi.length-1?P.push([pi[gi],On,0]):P.push([pi[gi]+" ",On,0]),Mc-=On}}else P.push([Ut[la],Ii,Bn]);P.push(["",Mc,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Zn=Ut.length,kt=kt!==0?kt:Lr,la=0;la<Zn;la++){Bn=la===0?Jr(Ee):-ko,Ii=la===0?Xr(ce):0;var _i=Ut[la].split(" ").length-1,Hc=_i>0?(kt-er[la])/_i:0;la<Zn-1?ii.push(D(G(Hc))):ii.push(0),P.push([Ut[la],Ii,Bn])}}}(typeof Ue.R2L=="boolean"?Ue.R2L:Fe)===!0&&(P=In(P,function(tr,Yn,Ir){return[tr.split("").reverse().join(""),Yn,Ir]})),yt={text:P,x:ce,y:Ee,options:Ue,mutex:{pdfEscape:ia,activeFontKey:ft,fonts:qt,activeFontSize:Le}},Bt.publish("postProcessText",yt),P=yt.text,se=yt.mutex.isHex||!1;var Vc=qt[ft].encoding;Vc!=="WinAnsiEncoding"&&Vc!=="StandardEncoding"||(P=In(P,function(tr,Yn,Ir){return[Yt(tr),Yn,Ir]})),Ut=Ds(P),P=[];for(var pl,Cl,El,gl=Array.isArray(Ut[0])?1:0,ja="",Wl=function(tr,Yn,Ir){var ir="";return Ir instanceof as?(Ir=typeof Ue.angle=="number"?Vn(Ir,new as(1,0,0,1,tr,Yn)):Vn(new as(1,0,0,1,tr,Yn),Ir),L===F&&(Ir=Vn(new as(1,0,0,-1,0,0),Ir)),ir=Ir.join(" ")+` Tm
`):ir=D(tr)+" "+D(Yn)+` Td
`,ir},Fi=0;Fi<Ut.length;Fi++){switch(ja="",gl){case 1:El=(se?"<":"(")+Ut[Fi][0]+(se?">":")"),pl=parseFloat(Ut[Fi][1]),Cl=parseFloat(Ut[Fi][2]);break;case 0:El=(se?"<":"(")+Ut[Fi]+(se?">":")"),pl=Xr(ce),Cl=Jr(Ee)}ii!==void 0&&ii[Fi]!==void 0&&(ja=ii[Fi]+` Tw
`),Fi===0?P.push(ja+Wl(pl,Cl,$t)+El):gl===0?P.push(ja+El):gl===1&&P.push(ja+Wl(pl,Cl,$t)+El)}P=gl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var qi=`BT
/`;return qi+=ft+" "+Le+` Tf
`,qi+=D(Le*We)+` TL
`,qi+=Yi+`
`,qi+=be,qi+=P,ge(qi+="ET"),x[ft]=!0,y};var vs=g.__private__.clip=g.clip=function(P){return ge(P==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return vs("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ge("n"),this};var cs=g.__private__.isValidStyle=function(P){var ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ce=!0),ce};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(P){return cs(P)&&(f=P),this};var Vs=g.__private__.getStyle=g.getStyle=function(P){var ce=f;switch(P){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=P}return ce},sn=g.close=function(){return ge("h"),this};g.stroke=function(){return ge("S"),this},g.fill=function(P){return It("f",P),this},g.fillEvenOdd=function(P){return It("f*",P),this},g.fillStroke=function(P){return It("B",P),this},g.fillStrokeEvenOdd=function(P){return It("B*",P),this};var It=function(P,ce){Kr(ce)==="object"?on(ce,P):ge(P)},Js=function(P){P===null||L===F&&P===void 0||(P=Vs(P),ge(P))};function Zs(P,ce,Ee,Ue,ze){var yt=new Vh(ce||this.boundingBox,Ee||this.xStep,Ue||this.yStep,this.gState,ze||this.matrix);yt.stream=this.stream;var Ut=P+"$$"+this.cloneIndex+++"$$";return un(Ut,yt),yt}var on=function(P,ce){var Ee=is[P.key],Ue=Vt[Ee];if(Ue instanceof Id)ge("q"),ge(qn(ce)),Ue.gState&&g.setGState(Ue.gState),ge(P.matrix.toString()+" cm"),ge("/"+Ee+" sh"),ge("Q");else if(Ue instanceof Vh){var ze=new as(1,0,0,-1,0,Ti());P.matrix&&(ze=ze.multiply(P.matrix||qs),Ee=Zs.call(Ue,P.key,P.boundingBox,P.xStep,P.yStep,ze).id),ge("q"),ge("/Pattern cs"),ge("/"+Ee+" scn"),Ue.gState&&g.setGState(Ue.gState),ge(ce),ge("Q")}},qn=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dr=g.moveTo=function(P,ce){return ge(D(G(P))+" "+D(ae(ce))+" m"),this},xr=g.lineTo=function(P,ce){return ge(D(G(P))+" "+D(ae(ce))+" l"),this},Ln=g.curveTo=function(P,ce,Ee,Ue,ze,yt){return ge([D(G(P)),D(ae(ce)),D(G(Ee)),D(ae(Ue)),D(G(ze)),D(ae(yt)),"c"].join(" ")),this};g.__private__.line=g.line=function(P,ce,Ee,Ue,ze){if(isNaN(P)||isNaN(ce)||isNaN(Ee)||isNaN(Ue)||!cs(ze))throw new Error("Invalid arguments passed to jsPDF.line");return L===T?this.lines([[Ee-P,Ue-ce]],P,ce,[1,1],ze||"S"):this.lines([[Ee-P,Ue-ce]],P,ce,[1,1]).stroke()},g.__private__.lines=g.lines=function(P,ce,Ee,Ue,ze,yt){var Ut,xs,qe,Lt,kt,us,ws,$t,y,Y,se,be;if(typeof P=="number"&&(be=Ee,Ee=ce,ce=P,P=be),Ue=Ue||[1,1],yt=yt||!1,isNaN(ce)||isNaN(Ee)||!Array.isArray(P)||!Array.isArray(Ue)||!cs(ze)||typeof yt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dr(ce,Ee),Ut=Ue[0],xs=Ue[1],Lt=P.length,Y=ce,se=Ee,qe=0;qe<Lt;qe++)(kt=P[qe]).length===2?(Y=kt[0]*Ut+Y,se=kt[1]*xs+se,xr(Y,se)):(us=kt[0]*Ut+Y,ws=kt[1]*xs+se,$t=kt[2]*Ut+Y,y=kt[3]*xs+se,Y=kt[4]*Ut+Y,se=kt[5]*xs+se,Ln(us,ws,$t,y,Y,se));return yt&&sn(),Js(ze),this},g.path=function(P){for(var ce=0;ce<P.length;ce++){var Ee=P[ce],Ue=Ee.c;switch(Ee.op){case"m":dr(Ue[0],Ue[1]);break;case"l":xr(Ue[0],Ue[1]);break;case"c":Ln.apply(this,Ue);break;case"h":sn()}}return this},g.__private__.rect=g.rect=function(P,ce,Ee,Ue,ze){if(isNaN(P)||isNaN(ce)||isNaN(Ee)||isNaN(Ue)||!cs(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return L===T&&(Ue=-Ue),ge([D(G(P)),D(ae(ce)),D(G(Ee)),D(G(Ue)),"re"].join(" ")),Js(ze),this},g.__private__.triangle=g.triangle=function(P,ce,Ee,Ue,ze,yt,Ut){if(isNaN(P)||isNaN(ce)||isNaN(Ee)||isNaN(Ue)||isNaN(ze)||isNaN(yt)||!cs(Ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-P,Ue-ce],[ze-Ee,yt-Ue],[P-ze,ce-yt]],P,ce,[1,1],Ut,!0),this},g.__private__.roundedRect=g.roundedRect=function(P,ce,Ee,Ue,ze,yt,Ut){if(isNaN(P)||isNaN(ce)||isNaN(Ee)||isNaN(Ue)||isNaN(ze)||isNaN(yt)||!cs(Ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xs=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ee),yt=Math.min(yt,.5*Ue),this.lines([[Ee-2*ze,0],[ze*xs,0,ze,yt-yt*xs,ze,yt],[0,Ue-2*yt],[0,yt*xs,-ze*xs,yt,-ze,yt],[2*ze-Ee,0],[-ze*xs,0,-ze,-yt*xs,-ze,-yt],[0,2*yt-Ue],[0,-yt*xs,ze*xs,-yt,ze,-yt]],P+ze,ce,[1,1],Ut,!0),this},g.__private__.ellipse=g.ellipse=function(P,ce,Ee,Ue,ze){if(isNaN(P)||isNaN(ce)||isNaN(Ee)||isNaN(Ue)||!cs(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var yt=4/3*(Math.SQRT2-1)*Ee,Ut=4/3*(Math.SQRT2-1)*Ue;return dr(P+Ee,ce),Ln(P+Ee,ce-Ut,P+yt,ce-Ue,P,ce-Ue),Ln(P-yt,ce-Ue,P-Ee,ce-Ut,P-Ee,ce),Ln(P-Ee,ce+Ut,P-yt,ce+Ue,P,ce+Ue),Ln(P+yt,ce+Ue,P+Ee,ce+Ut,P+Ee,ce),Js(ze),this},g.__private__.circle=g.circle=function(P,ce,Ee,Ue){if(isNaN(P)||isNaN(ce)||isNaN(Ee)||!cs(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ce,Ee,Ee,Ue)},g.setFont=function(P,ce,Ee){return Ee&&(ce=Q(ce,Ee)),ft=_o(P,ce,{disableWarning:!1}),this};var Ur=g.__private__.getFont=g.getFont=function(){return qt[_o.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var P,ce,Ee={};for(P in dt)if(dt.hasOwnProperty(P))for(ce in Ee[P]=[],dt[P])dt[P].hasOwnProperty(ce)&&Ee[P].push(ce);return Ee},g.addFont=function(P,ce,Ee,Ue,ze){var yt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&yt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&yt.indexOf(arguments[3])==-1&&(Ee=Q(Ee,Ue)),Ga.call(this,P,ce,Ee,ze=ze||"Identity-H")};var ga,Dr=s.lineWidth||.200025,Wa=g.__private__.getLineWidth=g.getLineWidth=function(){return Dr},_s=g.__private__.setLineWidth=g.setLineWidth=function(P){return Dr=P,ge(D(G(P))+" w"),this};g.__private__.setLineDash=Ps.API.setLineDash=Ps.API.setLineDashPattern=function(P,ce){if(P=P||[],ce=ce||0,isNaN(ce)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(Ee){return D(G(Ee))}).join(" "),ce=D(G(ce)),ge("["+P+"] "+ce+" d"),this};var ul=g.__private__.getLineHeight=g.getLineHeight=function(){return Le*ga};g.__private__.getLineHeight=g.getLineHeight=function(){return Le*ga};var Fo=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(ga=P),this},Uo=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ga};Fo(s.lineHeight);var Xr=g.__private__.getHorizontalCoordinate=function(P){return G(P)},Jr=g.__private__.getVerticalCoordinate=function(P){return L===F?P:ct[ee].mediaBox.topRightY-ct[ee].mediaBox.bottomLeftY-G(P)},Ia=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(P){return D(Xr(P))},$n=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(P){return D(Jr(P))},ni=s.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Un(ni)},g.__private__.setStrokeColor=g.setDrawColor=function(P,ce,Ee,Ue){return ni=zn({ch1:P,ch2:ce,ch3:Ee,ch4:Ue,pdfColorType:"draw",precision:2}),ge(ni),this};var Do=s.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Un(Do)},g.__private__.setFillColor=g.setFillColor=function(P,ce,Ee,Ue){return Do=zn({ch1:P,ch2:ce,ch3:Ee,ch4:Ue,pdfColorType:"fill",precision:2}),ge(Do),this};var Yi=s.textColor||"0 g",Gl=g.__private__.getTextColor=g.getTextColor=function(){return Un(Yi)};g.__private__.setTextColor=g.setTextColor=function(P,ce,Ee,Ue){return Yi=zn({ch1:P,ch2:ce,ch3:Ee,ch4:Ue,pdfColorType:"text",precision:3}),this};var xa=s.charSpace,ri=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(xa||0)};g.__private__.setCharSpace=g.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xa=P,this};var Xa=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(P){var ce=g.CapJoinStyles[P];if(ce===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xa=ce,ge(ce+" J"),this};var Rr=0;g.__private__.setLineJoin=g.setLineJoin=function(P){var ce=g.CapJoinStyles[P];if(ce===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rr=ce,ge(ce+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(D(G(P))+" M"),this},g.GState=bg,g.setGState=function(P){(P=typeof P=="string"?Zt[Qe[P]]:Wi(null,P)).equals(Ht)||(ge("/"+P.id+" gs"),Ht=P)};var Wi=function(P,ce){if(!P||!Qe[P]){var Ee=!1;for(var Ue in Zt)if(Zt.hasOwnProperty(Ue)&&Zt[Ue].equals(ce)){Ee=!0;break}if(Ee)ce=Zt[Ue];else{var ze="GS"+(Object.keys(Zt).length+1).toString(10);Zt[ze]=ce,ce.id=ze}return P&&(Qe[P]=ce.id),Bt.publish("addGState",ce),ce}};g.addGState=function(P,ce){return Wi(P,ce),this},g.saveGraphicsState=function(){return ge("q"),Ot.push({key:ft,size:Le,color:Yi}),this},g.restoreGraphicsState=function(){ge("Q");var P=Ot.pop();return ft=P.key,Le=P.size,Yi=P.color,Ht=null,this},g.setCurrentTransformationMatrix=function(P){return ge(P.toString()+" cm"),this},g.comment=function(P){return ge("#"+P),this};var va=function(P,ce){var Ee=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(yt){isNaN(yt)||(Ee=parseFloat(yt))}});var Ue=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(yt){isNaN(yt)||(Ue=parseFloat(yt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(yt){ze=yt.toString()}}),this},hr=function(P,ce,Ee,Ue){va.call(this,P,ce),this.type="rect";var ze=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(Ut){isNaN(Ut)||(ze=parseFloat(Ut))}});var yt=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yt},set:function(Ut){isNaN(Ut)||(yt=parseFloat(Ut))}}),this},Ro=function(){this.page=it,this.currentPage=ee,this.pages=ke.slice(0),this.pagesContext=ct.slice(0),this.x=At,this.y=es,this.matrix=Gt,this.width=_a(ee),this.height=$l(ee),this.outputDestination=Je,this.id="",this.objectNumber=-1};Ro.prototype.restore=function(){it=this.page,ee=this.currentPage,ct=this.pagesContext,ke=this.pages,At=this.x,es=this.y,Gt=this.matrix,dl(ee,this.width),Fa(ee,this.height),Je=this.outputDestination};var Ja=function(P,ce,Ee,Ue,ze){zs.push(new Ro),it=ee=0,ke=[],At=P,es=ce,Gt=ze,Tr([Ee,Ue])};for(var Xi in g.beginFormObject=function(P,ce,Ee,Ue,ze){return Ja(P,ce,Ee,Ue,ze),this},g.endFormObject=function(P){return(function(ce){if(Us[ce])zs.pop().restore();else{var Ee=new Ro,Ue="Xo"+(Object.keys(ss).length+1).toString(10);Ee.id=Ue,Us[ce]=Ue,ss[Ue]=Ee,Bt.publish("addFormObject",Ee),zs.pop().restore()}})(P),this},g.doFormObject=function(P,ce){var Ee=ss[Us[P]];return ge("q"),ge(ce.toString()+" cm"),ge("/"+Ee.id+" Do"),ge("Q"),this},g.getFormObject=function(P){var ce=ss[Us[P]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},g.save=function(P,ce){return P=P||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,ce.returnPromise===!1?(Oh(xn(Ya()),P),typeof Oh.unload=="function"&&fn.setTimeout&&setTimeout(Oh.unload,911),this):new Promise(function(Ee,Ue){try{var ze=Oh(xn(Ya()),P);typeof Oh.unload=="function"&&fn.setTimeout&&setTimeout(Oh.unload,911),Ee(ze)}catch(yt){Ue(yt.message)}})},Ps.API)Ps.API.hasOwnProperty(Xi)&&(Xi==="events"&&Ps.API.events.length?(function(P,ce){var Ee,Ue,ze;for(ze=ce.length-1;ze!==-1;ze--)Ee=ce[ze][0],Ue=ce[ze][1],P.subscribe.apply(P,[Ee].concat(typeof Ue=="function"?[Ue]:Ue))})(Bt,Ps.API.events):g[Xi]=Ps.API[Xi]);function _a(P){return ct[P].mediaBox.topRightX-ct[P].mediaBox.bottomLeftX}function dl(P,ce){ct[P].mediaBox.topRightX=ce+ct[P].mediaBox.bottomLeftX}function $l(P){return ct[P].mediaBox.topRightY-ct[P].mediaBox.bottomLeftY}function Fa(P,ce){ct[P].mediaBox.topRightY=ce+ct[P].mediaBox.bottomLeftY}var mi=g.getPageWidth=function(P){return _a(P=P||ee)/Ye},Lo=g.setPageWidth=function(P,ce){dl(P,ce*Ye)},Ti=g.getPageHeight=function(P){return $l(P=P||ee)/Ye},ya=g.setPageHeight=function(P,ce){Fa(P,ce*Ye)};return g.internal={pdfEscape:ia,getStyle:Vs,getFont:Ur,getFontSize:Ve,getCharSpace:ri,getTextColor:Gl,getLineHeight:ul,getLineHeightFactor:Uo,getLineWidth:Wa,write:ht,getHorizontalCoordinate:Xr,getVerticalCoordinate:Jr,getCoordinateString:Ia,getVerticalCoordinateString:$n,collections:{},newObject:rs,newAdditionalObject:dn,newObjectDeferred:Hs,newObjectDeferredBegin:Cn,getFilters:fa,putStream:za,events:Bt,scaleFactor:Ye,pageSize:{getWidth:function(){return mi(ee)},setWidth:function(P){Lo(ee,P)},getHeight:function(){return Ti(ee)},setHeight:function(P){ya(ee,P)}},encryptionOptions:c,encryption:Ne,getEncryptor:function(P){return c!==null?Ne.encryptor(P,0):function(ce){return ce}},output:fi,getNumberOfPages:Nl,get pages(){return ke},out:ge,f2:O,f3:H,getPageInfo:nt,getPageInfoByObjId:Tt,getCurrentPageInfo:zt,getPDFVersion:E,Point:va,Rectangle:hr,Matrix:as,hasHotfix:En},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return mi(ee)},set:function(P){Lo(ee,P)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ti(ee)},set:function(P){ya(ee,P)},enumerable:!0,configurable:!0}),(function(P){for(var ce=0,Ee=Pt.length;ce<Ee;ce++){var Ue=Ga.call(this,P[ce][0],P[ce][1],P[ce][2],Pt[ce][3],!0);m===!1&&(x[Ue]=!0);var ze=P[ce][0].split("-");Gn({id:Ue,fontName:ze[0],fontStyle:ze[1]||""})}Bt.publish("addFonts",{fonts:qt,dictionary:dt})}).call(g,Pt),ft="F1",wr(a,t),Bt.publish("initialized"),g}Yf.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},Yf.prototype.toHexString=function(s){return s.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yf.prototype.hexToBytes=function(s){for(var e=[],t=0;t<s.length;t+=2)e.push(String.fromCharCode(parseInt(s.substr(t,2),16)));return e.join("")},Yf.prototype.processOwnerPassword=function(s,e){return Ib(Tb(e).substr(0,5),s)},Yf.prototype.encryptor=function(s,e){var t=Tb(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Ib(t,n)}},bg.prototype.equals=function(s){var e,t="id,objectNumber,equals";if(!s||Kr(s)!==Kr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!s.hasOwnProperty(e)||this[e]!==s[e])return!1;n++}for(e in s)s.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Ps.API={events:[]},Ps.version="3.0.4";var Ai=Ps.API,v2=1,ff=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vf=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(s){return s.toFixed(2)},wd=function(s){return s.toFixed(5)};Ai.__acroform__={};var zl=function(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s},nS=function(s){return s*v2},PA=function(s){var e=new EI,t=Ts.internal.getHeight(s)||0,n=Ts.internal.getWidth(s)||0;return e.BBox=[0,0,Number(bn(n)),Number(bn(t))],e},Y9=Ai.__acroform__.setBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<e},W9=Ai.__acroform__.clearBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<e)},X9=Ai.__acroform__.getBit=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<e?1:0},ji=Ai.__acroform__.getBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X9(s,e-1)},Bi=Ai.__acroform__.setBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Y9(s,e-1)},Ni=Ai.__acroform__.clearBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return W9(s,e-1)},J9=Ai.__acroform__.calculateCoordinates=function(s,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=s[0],o=s[1],A=s[2],h=s[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=n(o+h)||0,u.upperRight_X=t(a+A)||0,u.upperRight_Y=n(o)||0,[Number(bn(u.lowerLeft_X)),Number(bn(u.lowerLeft_Y)),Number(bn(u.upperRight_X)),Number(bn(u.upperRight_Y))]},q9=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var e=[],t=s._V||s.DV,n=_b(s,t),a=s.scope.internal.getFont(s.fontName,s.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(s.scope.__private__.encodeColorString(s.color)),e.push("/"+a+" "+bn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=PA(s);return o.scope=s.scope,o.stream=e.join(`
`),o}},_b=function(s,e){var t=s.fontSize===0?s.maxFontSize:s.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=s.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var o=t,A=Ts.internal.getHeight(s)||0;A=A<0?-A:A;var h=Ts.internal.getWidth(s)||0;h=h<0?-h:h;var u=function(O,H,G){if(O+1<a.length){var ae=H+" "+a[O+1][0];return rx(ae,s,G).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var f,c,m=rx("3",s,o).height,x=s.multiline?A-o:(A-m)/2,g=x+=2,w=0,E=0,B=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+rx(e,s,o=12).width+", FieldWidth:"+h+`
`;break}for(var C="",T=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var L=!1;if(a[F].length!==1&&B!==a[F].length-1){if((m+2)*(T+2)+2>A)continue e;C+=a[F][B],L=!0,E=F,F--}else{C=(C+=a[F][B]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var k=parseInt(F),M=u(k,C,o),Q=F>=a.length-1;if(M&&!Q){C+=" ",B=0;continue}if(M||Q){if(Q)E=k;else if(s.multiline&&(m+2)*(T+2)+2>A)continue e}else{if(!s.multiline||(m+2)*(T+2)+2>A)continue e;E=k}}for(var D="",R=w;R<=E;R++){var V=a[R];if(s.multiline){if(R===E){D+=V[B]+" ",B=(B+1)%V.length;continue}if(R===w){D+=V[V.length-1]+" ";continue}}D+=V[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,c=rx(D,s,o).width,s.textAlign){case"right":f=h-c-2;break;case"center":f=(h-c)/2;break;default:f=2}e+=bn(f)+" "+bn(g)+` Td
`,e+="("+ff(D)+`) Tj
`,e+=-bn(f)+` 0 Td
`,g=-(o+2),c=0,w=L?E:E+1,T++,C=""}break}return n.text=e,n.fontSize=o,n},rx=function(s,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(s,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},Z9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eV=function(s,e){var t={type:"reference",object:s};e.internal.getPageInfo(s.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(s.page).pageContext.annotations.push(t)},tV=function(s,e){if(e.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(mA.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(Z9)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");v2=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new TI,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&eV(o,t)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(t){(function(n,a){var o=!n;for(var A in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var h=n[A],u=[],f=h.Rect;if(h.Rect&&(h.Rect=J9(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=Ts.createDefaultAppearanceStream(h),Kr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(u=h.getKeyValueListForStream()),h.Rect=f,h.hasAppearanceStream&&!h.appearanceStreamContent){var c=q9(h);u.push({key:"AP",value:"<</N "+c+">>"}),a.internal.acroformPlugin.xForms.push(c)}if(h.appearanceStreamContent){var m="";for(var x in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(x)){var g=h.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var A in g)if(g.hasOwnProperty(A)){var w=g[A];typeof w=="function"&&(w=w.call(a,h)),m+="/"+A+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(a,h)),m+="/"+A+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:h.objId}),a.internal.out("endobj")}o&&(function(E,B){for(var C in E)if(E.hasOwnProperty(C)){var T=C,F=E[C];B.internal.newObjectDeferredBegin(F.objId,!0),Kr(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete E[T]}})(a.internal.acroformPlugin.xForms,a)})(t,s)}),s.internal.acroformPlugin.isInitialized=!0}},CI=Ai.__acroform__.arrayToPdfArray=function(s,e,t){var n=function(A){return A};if(Array.isArray(s)){for(var a="[",o=0;o<s.length;o++)switch(o!==0&&(a+=" "),Kr(s[o])){case"boolean":case"number":case"object":a+=s[o].toString();break;case"string":s[o].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+ff(n(s[o].toString()))+")"):a+=s[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},b1=function(s,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(s=s||"").toString(),"("+ff(n(s))+")"},VA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};VA.prototype.toString=function(){return this.objId+" 0 R"},VA.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},VA.prototype.getKeyValueListForStream=function(){var s=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?s.push({key:n,value:CI(a,this.objId,this.scope)}):a instanceof VA?(a.scope=this.scope,s.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&s.push({key:n,value:a}))}return s};var EI=function(){VA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){s=t.trim()},get:function(){return s||null}})};zl(EI,VA);var TI=function(){VA.call(this);var s,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ff(t(s))+")"}},set:function(t){s=t}})};zl(TI,VA);var mA=function s(){VA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ji(e,3)},set:function(C){C?this.F=Bi(e,3):this.F=Ni(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof ov)return;o="FieldObject"+s.FieldNum++}var C=function(T){return T};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+ff(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(C){A=C}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/v2:f},set:function(C){f=C}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof ov||this instanceof Vd))return b1(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=C}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ao==0?b1(x,this.objId,this.scope):x},set:function(C){C=C.toString(),x=this instanceof ao==0?C.substr(0,1)==="("?Vf(C.substr(1,C.length-2)):Vf(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao==1?Vf(x.substr(1,x.length-1)):x},set:function(C){C=C.toString(),x=this instanceof ao==1?"/"+C:C}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ao==0?b1(g,this.objId,this.scope):g},set:function(C){C=C.toString(),g=this instanceof ao==0?C.substr(0,1)==="("?Vf(C.substr(1,C.length-2)):Vf(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao==1?Vf(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof ao==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(C){C=!!C,E=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(C){w=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,1)},set:function(C){C?this.Ff=Bi(this.Ff,1):this.Ff=Ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,2)},set:function(C){C?this.Ff=Bi(this.Ff,2):this.Ff=Ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,3)},set:function(C){C?this.Ff=Bi(this.Ff,3):this.Ff=Ni(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');B=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(B){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};zl(mA,VA);var Wh=function(){mA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CI(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(o,A,h){h||(h=1);for(var u,f=[];u=A.exec(o);)f.push(u[h]);return f})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,18)},set:function(t){t?this.Ff=Bi(this.Ff,18):this.Ff=Ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Bi(this.Ff,19):this.Ff=Ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,20)},set:function(t){t?(this.Ff=Bi(this.Ff,20),e.sort()):this.Ff=Ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,22)},set:function(t){t?this.Ff=Bi(this.Ff,22):this.Ff=Ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,23)},set:function(t){t?this.Ff=Bi(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,27)},set:function(t){t?this.Ff=Bi(this.Ff,27):this.Ff=Ni(this.Ff,27)}}),this.hasAppearanceStream=!1};zl(Wh,mA);var Xh=function(){Wh.call(this),this.fontName="helvetica",this.combo=!1};zl(Xh,Wh);var Jh=function(){Xh.call(this),this.combo=!0};zl(Jh,Xh);var Zp=function(){Jh.call(this),this.edit=!0};zl(Zp,Jh);var ao=function(){mA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,15)},set:function(t){t?this.Ff=Bi(this.Ff,15):this.Ff=Ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,16)},set:function(t){t?this.Ff=Bi(this.Ff,16):this.Ff=Ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,17)},set:function(t){t?this.Ff=Bi(this.Ff,17):this.Ff=Ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,26)},set:function(t){t?this.Ff=Bi(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var s,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+ff(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Kr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(t){s="/"+t}})};zl(ao,mA);var eg=function(){ao.call(this),this.pushButton=!0};zl(eg,ao);var qh=function(){ao.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e!==void 0?e:[]}})};zl(qh,ao);var ov=function(){var s,e;mA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,A=[];for(o in A.push("<<"),n)A.push("/"+o+" ("+ff(a(n[o]))+")");return A.push(">>"),A.join(`
`)},set:function(a){Kr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ts.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zl(ov,mA),qh.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=s.createAppearanceStream(t.optionName),t.caption=s.getCA()}},qh.prototype.createOption=function(s){var e=new ov;return e.Parent=this,e.optionName=s,this.Kids.push(e),sV.call(this.scope,e),e};var tg=function(){ao.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ts.CheckBox.createAppearanceStream()};zl(tg,ao);var Vd=function(){mA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,13)},set:function(e){e?this.Ff=Bi(this.Ff,13):this.Ff=Ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,21)},set:function(e){e?this.Ff=Bi(this.Ff,21):this.Ff=Ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,23)},set:function(e){e?this.Ff=Bi(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,24)},set:function(e){e?this.Ff=Bi(this.Ff,24):this.Ff=Ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,25)},set:function(e){e?this.Ff=Bi(this.Ff,25):this.Ff=Ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,26)},set:function(e){e?this.Ff=Bi(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){Number.isInteger(e)&&(s=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zl(Vd,mA);var sg=function(){Vd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ji(this.Ff,14)},set:function(s){s?this.Ff=Bi(this.Ff,14):this.Ff=Ni(this.Ff,14)}}),this.password=!0};zl(sg,Vd);var Ts={CheckBox:{createAppearanceStream:function(){return{N:{On:Ts.CheckBox.YesNormal},D:{On:Ts.CheckBox.YesPushDown,Off:Ts.CheckBox.OffPushDown}}},YesPushDown:function(s){var e=PA(s);e.scope=s.scope;var t=[],n=s.scope.internal.getFont(s.fontName,s.fontStyle).id,a=s.scope.__private__.encodeColorString(s.color),o=_b(s,s.caption);return t.push("0.749023 g"),t.push("0 0 "+bn(Ts.internal.getWidth(s))+" "+bn(Ts.internal.getHeight(s))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+bn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(s){var e=PA(s);e.scope=s.scope;var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,n=s.scope.__private__.encodeColorString(s.color),a=[],o=Ts.internal.getHeight(s),A=Ts.internal.getWidth(s),h=_b(s,s.caption);return a.push("1 g"),a.push("0 0 "+bn(A)+" "+bn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+bn(A-1)+" "+bn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+bn(h.fontSize)+" Tf "+n),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(s){var e=PA(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Ts.internal.getWidth(s))+" "+bn(Ts.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(s){var e={D:{Off:Ts.RadioButton.Circle.OffPushDown},N:{}};return e.N[s]=Ts.RadioButton.Circle.YesNormal,e.D[s]=Ts.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(s){var e=PA(s);e.scope=s.scope;var t=[],n=Ts.internal.getWidth(s)<=Ts.internal.getHeight(s)?Ts.internal.getWidth(s)/4:Ts.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var a=Ts.internal.Bezier_C,o=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+wd(Ts.internal.getWidth(s)/2)+" "+wd(Ts.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=PA(s);e.scope=s.scope;var t=[],n=Ts.internal.getWidth(s)<=Ts.internal.getHeight(s)?Ts.internal.getWidth(s)/4:Ts.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*Ts.internal.Bezier_C).toFixed(5)),A=Number((n*Ts.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wd(Ts.internal.getWidth(s)/2)+" "+wd(Ts.internal.getHeight(s)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+wd(Ts.internal.getWidth(s)/2)+" "+wd(Ts.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),t.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),t.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),t.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(s){var e=PA(s);e.scope=s.scope;var t=[],n=Ts.internal.getWidth(s)<=Ts.internal.getHeight(s)?Ts.internal.getWidth(s)/4:Ts.internal.getHeight(s)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*Ts.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wd(Ts.internal.getWidth(s)/2)+" "+wd(Ts.internal.getHeight(s)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(s){var e={D:{Off:Ts.RadioButton.Cross.OffPushDown},N:{}};return e.N[s]=Ts.RadioButton.Cross.YesNormal,e.D[s]=Ts.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(s){var e=PA(s);e.scope=s.scope;var t=[],n=Ts.internal.calculateCross(s);return t.push("q"),t.push("1 1 "+bn(Ts.internal.getWidth(s)-2)+" "+bn(Ts.internal.getHeight(s)-2)+" re"),t.push("W"),t.push("n"),t.push(bn(n.x1.x)+" "+bn(n.x1.y)+" m"),t.push(bn(n.x2.x)+" "+bn(n.x2.y)+" l"),t.push(bn(n.x4.x)+" "+bn(n.x4.y)+" m"),t.push(bn(n.x3.x)+" "+bn(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=PA(s);e.scope=s.scope;var t=Ts.internal.calculateCross(s),n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(Ts.internal.getWidth(s))+" "+bn(Ts.internal.getHeight(s))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+bn(Ts.internal.getWidth(s)-2)+" "+bn(Ts.internal.getHeight(s)-2)+" re"),n.push("W"),n.push("n"),n.push(bn(t.x1.x)+" "+bn(t.x1.y)+" m"),n.push(bn(t.x2.x)+" "+bn(t.x2.y)+" l"),n.push(bn(t.x4.x)+" "+bn(t.x4.y)+" m"),n.push(bn(t.x3.x)+" "+bn(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(s){var e=PA(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Ts.internal.getWidth(s))+" "+bn(Ts.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(s){var e=s.scope.internal.getFont(s.fontName,s.fontStyle).id,t=s.scope.__private__.encodeColorString(s.color);return"/"+e+" "+s.fontSize+" Tf "+t}};Ts.internal={Bezier_C:.551915024494,calculateCross:function(s){var e=Ts.internal.getWidth(s),t=Ts.internal.getHeight(s),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Ts.internal.getWidth=function(s){var e=0;return Kr(s)==="object"&&(e=nS(s.Rect[2])),e},Ts.internal.getHeight=function(s){var e=0;return Kr(s)==="object"&&(e=nS(s.Rect[3])),e};var sV=Ai.addField=function(s){if(tV(this,s),!(s instanceof mA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=s).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=Wh,Ai.AcroFormListBox=Xh,Ai.AcroFormComboBox=Jh,Ai.AcroFormEditBox=Zp,Ai.AcroFormButton=ao,Ai.AcroFormPushButton=eg,Ai.AcroFormRadioButton=qh,Ai.AcroFormCheckBox=tg,Ai.AcroFormTextField=Vd,Ai.AcroFormPasswordField=sg,Ai.AcroFormAppearance=Ts,Ai.AcroForm={ChoiceField:Wh,ListBox:Xh,ComboBox:Jh,EditBox:Zp,Button:ao,PushButton:eg,RadioButton:qh,CheckBox:tg,TextField:Vd,PasswordField:sg,Appearance:Ts},Ps.AcroForm={ChoiceField:Wh,ListBox:Xh,ComboBox:Jh,EditBox:Zp,Button:ao,PushButton:eg,RadioButton:qh,CheckBox:tg,TextField:Vd,PasswordField:sg,Appearance:Ts};var nV=Ps.AcroForm;function II(s){return s.reduce(function(e,t,n){return e[t]=n,e},{})}(function(s){var e="addImage_";s.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=s.__addimage__.getImageFileTypeByImageData=function(O,H){var G,ae,Ae,ie,le,X=t;if((H=H||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(M(O))for(le in n)for(Ae=n[le],G=0;G<Ae.length;G+=1){for(ie=!0,ae=0;ae<Ae[G].length;ae+=1)if(Ae[G][ae]!==void 0&&Ae[G][ae]!==O[ae]){ie=!1;break}if(ie===!0){X=le;break}}else for(le in n)for(Ae=n[le],G=0;G<Ae.length;G+=1){for(ie=!0,ae=0;ae<Ae[G].length;ae+=1)if(Ae[G][ae]!==void 0&&Ae[G][ae]!==O.charCodeAt(ae)){ie=!1;break}if(ie===!0){X=le;break}}return X===t&&H!==t&&(X=H),X},o=function O(H){for(var G=this.internal.write,ae=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:H.width}),ie.push({key:"Height",value:H.height}),H.colorSpace===C.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===C.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var le="",X=0,ne=H.transparency.length;X<ne;X++)le+=H.transparency[X]+" "+H.transparency[X]+" ";ie.push({key:"Mask",value:"["+le+"]"})}H.sMask!==void 0&&ie.push({key:"SMask",value:H.objectId+1+" 0 R"});var re=H.filter!==void 0?["/"+H.filter]:void 0;if(ae({data:H.data,additionalKeyValues:ie,alreadyAppliedFilters:re,objectId:H.objectId}),G("endobj"),"sMask"in H&&H.sMask!==void 0){var W,K=(W=H.sMaskBitsPerComponent)!==null&&W!==void 0?W:H.bitsPerComponent,ee={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:K,data:H.sMask};"filter"in H&&(ee.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(K," /Columns ").concat(H.width),ee.filter=H.filter),O.call(this,ee)}if(H.colorSpace===C.INDEXED){var oe=this.internal.newObject();ae({data:D(new Uint8Array(H.palette)),objectId:oe}),G("endobj")}},A=function(){var O=this.internal.collections[e+"images"];for(var H in O)o.call(this,O[H])},h=function(){var O,H=this.internal.collections[e+"images"],G=this.internal.write;for(var ae in H)G("/I"+(O=H[ae]).index,O.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",h))},f=function(){var O=this.internal.collections[e+"images"];return u.call(this),O},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(O){return typeof s["process"+O.toUpperCase()]=="function"},x=function(O){return Kr(O)==="object"&&O.nodeType===1},g=function(O,H){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var G=""+O.getAttribute("src");if(G.indexOf("data:image/")===0)return Ex(unescape(G).split("base64,").pop());var ae=s.loadFile(G,!0);if(ae!==void 0)return ae}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var Ae;switch(H){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;default:Ae="image/jpeg"}return Ex(O.toDataURL(Ae,1).split("base64,").pop())}},w=function(O){var H=this.internal.collections[e+"images"];if(H){for(var G in H)if(O===H[G].alias)return H[G]}},E=function(O,H,G){return O||H||(O=-96,H=-96),O<0&&(O=-1*G.width*72/O/this.internal.scaleFactor),H<0&&(H=-1*G.height*72/H/this.internal.scaleFactor),O===0&&(O=H*G.width/G.height),H===0&&(H=O*G.height/G.width),[O,H]},B=function(O,H,G,ae,Ae,ie){var le=E.call(this,G,ae,Ae),X=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,re=f.call(this);if(G=le[0],ae=le[1],re[Ae.index]=Ae,ie){ie*=Math.PI/180;var W=Math.cos(ie),K=Math.sin(ie),ee=function(he){return he.toFixed(4)},oe=[ee(W),ee(K),ee(-1*K),ee(W),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,X(O),ne(H+ae),"cm"].join(" ")),this.internal.write(oe.join(" ")),this.internal.write([X(G),"0","0",X(ae),"0","0","cm"].join(" "))):this.internal.write([X(G),"0","0",X(ae),X(O),ne(H+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},C=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=s.__addimage__.sHashCode=function(O){var H,G,ae=0;if(typeof O=="string")for(G=O.length,H=0;H<G;H++)ae=(ae<<5)-ae+O.charCodeAt(H),ae|=0;else if(M(O))for(G=O.byteLength/2,H=0;H<G;H++)ae=(ae<<5)-ae+O[H],ae|=0;return ae},L=s.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var H=!0;return O.length===0&&(H=!1),O.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(H=!1),H},k=s.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var H=O.indexOf(",");return H<0?null:O.substring(0,H).trim().endsWith("base64")?O.substring(H+1):null};s.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var M=s.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},Q=s.__addimage__.binaryStringToUint8Array=function(O){for(var H=O.length,G=new Uint8Array(H),ae=0;ae<H;ae++)G[ae]=O.charCodeAt(ae);return G},D=s.__addimage__.arrayBufferToBinaryString=function(O){for(var H="",G=M(O)?O:new Uint8Array(O),ae=0;ae<G.length;ae+=8192)H+=String.fromCharCode.apply(null,G.subarray(ae,ae+8192));return H};s.addImage=function(){var O,H,G,ae,Ae,ie,le,X,ne;if(typeof arguments[1]=="number"?(H=t,G=arguments[1],ae=arguments[2],Ae=arguments[3],ie=arguments[4],le=arguments[5],X=arguments[6],ne=arguments[7]):(H=arguments[1],G=arguments[2],ae=arguments[3],Ae=arguments[4],ie=arguments[5],le=arguments[6],X=arguments[7],ne=arguments[8]),Kr(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var re=O;O=re.imageData,H=re.format||H||t,G=re.x||G||0,ae=re.y||ae||0,Ae=re.w||re.width||Ae,ie=re.h||re.height||ie,le=re.alias||le,X=re.compression||X,ne=re.rotation||re.angle||ne}var W=this.internal.getFilters();if(X===void 0&&W.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(G)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var K=R.call(this,O,H,le,X);return B.call(this,G,ae,Ae,ie,K,ne),this};var R=function(O,H,G,ae){var Ae,ie,le;if(typeof O=="string"&&a(O)===t){O=unescape(O);var X=V(O,!1);(X!==""||(X=s.loadFile(O,!0))!==void 0)&&(O=X)}if(x(O)&&(O=g(O,H)),H=a(O,H),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((le=G)==null||le.length===0)&&(G=(function(ne){return typeof ne=="string"||M(ne)?F(ne):M(ne.data)?F(ne.data):null})(O)),(Ae=w.call(this,G))||(O instanceof Uint8Array||H==="RGBA"||(ie=O,O=Q(O)),Ae=this["process"+H.toUpperCase()](O,c.call(this),G,(function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in s.image_compression?ne:T.NONE})(ae),ie)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},V=s.__addimage__.convertBase64ToBinaryString=function(O,H){H=typeof H!="boolean"||H;var G,ae="";if(typeof O=="string"){var Ae;G=(Ae=k(O))!==null&&Ae!==void 0?Ae:O;try{ae=Ex(G)}catch(ie){if(H)throw L(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};s.getImageProperties=function(O){var H,G,ae="";if(x(O)&&(O=g(O)),typeof O=="string"&&a(O)===t&&((ae=V(O,!1))===""&&(ae=s.loadFile(O)||""),O=ae),G=a(O),!m(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(O instanceof Uint8Array||(O=Q(O)),!(H=this["process"+G.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=G,H}})(Ps.API),(function(s){var e=function(t){if(t!==void 0&&t!="")return!0};Ps.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(t){for(var n,a,o,A=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,c=!1,m=0;m<f.length&&!c;m++)switch((n=f[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){n=f[x];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(E.objId),T=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+A(n.bounds.x)+" "+h(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y)+"] ")+"/Contents ("+g(C(n.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(C(T))+") >>",E.content=o;var F=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+A(n.bounds.x+30)+" "+h(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+h(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(E.objId,"0 R",B.objId,"0 R");break;case"freetext":a="/Rect ["+A(n.bounds.x)+" "+h(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(w(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var M=h(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),s.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},s.link=function(t,n,a,o,A){var h=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:u(t),y:f(n),w:u(t+a),h:f(n+o)},options:A,type:"link"})},s.textWithLink=function(t,n,a,o){var A,h,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var c=this.splitTextToSize(t,h).length;A=Math.ceil(f*c)}else h=u,A=f;return this.text(t,n,a,o),a+=.2*f,o.align==="center"&&(n-=u/2),o.align==="right"&&(n-=u),this.link(n,a-f,h,A,o),u},s.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Ps.API),(function(s){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];s.__arabicParser__={};var o=s.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},A=s.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},h=s.__arabicParser__.isArabicEndLetter=function(E){return A(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},u=s.__arabicParser__.isArabicAlfLetter=function(E){return A(E)&&a.indexOf(E.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return A(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var f=s.__arabicParser__.arabicLetterHasFinalForm=function(E){return A(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(E){return A(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var c=s.__arabicParser__.arabicLetterHasMedialForm=function(E){return A(E)&&o(E)&&e[E.charCodeAt(0)].length==4},m=s.__arabicParser__.resolveLigatures=function(E){var B=0,C=t,T="",F=0;for(B=0;B<E.length;B+=1)C[E.charCodeAt(B)]!==void 0?(F++,typeof(C=C[E.charCodeAt(B)])=="number"&&(T+=String.fromCharCode(C),C=t,F=0),B===E.length-1&&(C=t,T+=E.charAt(B-(F-1)),B-=F-1,F=0)):(C=t,T+=E.charAt(B-F),B-=F,F=0);return T};s.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var x=s.__arabicParser__.getCorrectForm=function(E,B,C){return A(E)?o(E)===!1?-1:!f(E)||!A(B)&&!A(C)||!A(C)&&h(B)||h(E)&&!A(B)||h(E)&&u(B)||h(E)&&h(B)?0:c(E)&&A(B)&&!h(B)&&A(C)&&f(C)?3:h(E)||!A(C)?1:2:-1},g=function(E){var B=0,C=0,T=0,F="",L="",k="",M=(E=E||"").split("\\s+"),Q=[];for(B=0;B<M.length;B+=1){for(Q.push(""),C=0;C<M[B].length;C+=1)F=M[B][C],L=M[B][C-1],k=M[B][C+1],A(F)?(T=x(F,L,k),Q[B]+=T!==-1?String.fromCharCode(e[F.charCodeAt(0)][T]):F):Q[B]+=F;Q[B]=m(Q[B])}return Q.join(" ")},w=s.__arabicParser__.processArabic=s.processArabic=function(){var E,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(B)){var T=0;for(C=[],T=0;T<B.length;T+=1)Array.isArray(B[T])?C.push([g(B[T][0]),B[T][1],B[T][2]]):C.push([g(B[T])]);E=C}else E=g(B);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};s.events.push(["preProcessText",w])})(Ps.API),Ps.API.autoPrint=function(s){var e;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(s){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(h){n=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(h){A=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ps.API),(function(s){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(E){w=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},s.getTextDimensions=function(u,f){n.call(this);var c=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,g=0,w=0,E=0,B=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=f.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(F,L){return F.concat(B.splitTextToSize(L,C))},[])):u=Array.isArray(u)?u:[u];for(var T=0;T<u.length;T++)g<(E=this.getStringUnitWidth(u[T],{font:m})*c)&&(g=E);return g!==0&&(w=u.length),{w:g/=x,h:Math.max((w*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/x,0)}},s.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=s.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-c,u.y+c,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+c,{align:"center",baseline:"top",maxWidth:u.width-c-c}):this.text(u.text,u.x+c,u.y+c,{align:"left",baseline:"top",maxWidth:u.width-c-c})),this.internal.__cell__.lastCell=u,this};s.table=function(u,f,c,m,x){if(n.call(this),!c)throw new Error("No data for PDF table.");var g,w,E,B,C=[],T=[],F=[],L={},k={},M=[],Q=[],D=(x=x||{}).autoSize||!1,R=x.printHeaders!==!1,V=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},e),H=typeof x.padding=="number"?x.padding:3,G=x.headerBackgroundColor||"#c8c8c8",ae=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=ae,this.setFontSize(V),m==null)T=C=Object.keys(c[0]),F=C.map(function(){return"left"});else if(Array.isArray(m)&&Kr(m[0])==="object")for(C=m.map(function(re){return re.name}),T=m.map(function(re){return re.prompt||re.name||""}),F=m.map(function(re){return re.align||"left"}),g=0;g<m.length;g+=1)k[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(T=C=m,F=C.map(function(){return"left"}));if(D||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<C.length;g+=1){for(L[B=C[g]]=c.map(function(re){return re[B]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(T[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=L[B],this.setFont(void 0,"normal"),E=0;E<w.length;E+=1)M.push(this.getTextDimensions(w[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[B]=Math.max.apply(null,M)+H+H,M=[]}if(R){var Ae={};for(g=0;g<C.length;g+=1)Ae[C[g]]={},Ae[C[g]].text=T[g],Ae[C[g]].align=F[g];var ie=h.call(this,Ae,k);Q=C.map(function(re){return new o(u,f,k[re],ie,Ae[re].text,void 0,Ae[re].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var le=m.reduce(function(re,W){return re[W.name]=W.align,re},{});for(g=0;g<c.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:c[g]},this);var X=h.call(this,c[g],k);for(E=0;E<C.length;E+=1){var ne=c[g][C[E]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:E,data:ne},this),A.call(this,new o(u,f,k[C[E]],X,ne,g+2,le[C[E]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var h=function(u,f){var c=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var w=u[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[g]-c-c)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/x+c+c},this).reduce(function(g,w){return Math.max(g,w)},0)};s.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},s.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){c=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(c.y=this.internal.__cell__.margins.top||0,x.push(c)),c.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,c),this.setTextColor(w)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Ps.API);var _I={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fb=II(FI),UI=[100,200,300,400,500,600,700,800,900],rV=II(UI);function w1(s){var e=s.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return _I[o=o||"normal"]?o:"normal"})(s.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(s.weight),a=(function(o){return typeof Fb[o=o||"normal"]=="number"?o:"normal"})(s.stretch);return{family:e,style:t,weight:n,stretch:a,src:s.src||[],ref:s.ref||{name:e,style:[a,t,n].join(" ")}}}function rS(s,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(s[e[a]])return s[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(s[e[a]])return s[e[a]]}var aV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function iS(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function oS(s){return s.trimLeft()}function iV(s,e){for(var t=0;t<s.length;){if(s.charAt(t)===e)return[s.substring(0,t),s.substring(t+1)];t+=1}return null}function oV(s){var e=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],s.substring(e[0].length)]}var ax,lS,cS,Kf,ix,AS,uS,dS,j1=["times"];function hS(s,e,t,n,a){var o=4,A=mS;switch(a){case Ps.API.image_compression.FAST:o=1,A=fS;break;case Ps.API.image_compression.MEDIUM:o=6,A=pS;break;case Ps.API.image_compression.SLOW:o=9,A=gS}s=(function(u,f,c,m){for(var x,g=u.length/f,w=new Uint8Array(u.length+g),E=[lV,fS,mS,pS,gS],B=0;B<g;B+=1){var C=B*f,T=u.subarray(C,C+f);if(m)w.set(m(T,c,x),C+B);else{for(var F=E.length,L=[],k=0;k<F;k+=1)L[k]=E[k](T,c,x);var M=AV(L.concat());w.set(L[M],C+B)}x=T}return w})(s,e,Math.ceil(t*n/8),A);var h=Nb(s,{level:o});return Ps.API.__addimage__.arrayBufferToBinaryString(h)}function lV(s){var e=Array.apply([],s);return e.unshift(0),e}function fS(s,e){var t=s.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var o=s[a-e]||0;n[a+1]=s[a]-o+256&255}return n}function mS(s,e,t){var n=s.length,a=[];a[0]=2;for(var o=0;o<n;o+=1){var A=t&&t[o]||0;a[o+1]=s[o]-A+256&255}return a}function pS(s,e,t){var n=s.length,a=[];a[0]=3;for(var o=0;o<n;o+=1){var A=s[o-e]||0,h=t&&t[o]||0;a[o+1]=s[o]+256-(A+h>>>1)&255}return a}function gS(s,e,t){var n=s.length,a=[];a[0]=4;for(var o=0;o<n;o+=1){var A=cV(s[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=s[o]-A+256&255}return a}function cV(s,e,t){if(s===e&&e===t)return s;var n=Math.abs(e-t),a=Math.abs(s-t),o=Math.abs(s+e-t-t);return n<=a&&n<=o?s:a<=o?e:t}function AV(s){var e=s.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function B1(s,e,t){var n=e*t,a=Math.floor(n/8),o=16-(n-8*a+t),A=(1<<t)-1;return DI(s,a)>>o&A}function xS(s,e,t,n){var a=t*n,o=Math.floor(a/8),A=16-(a-8*o+n),h=(1<<n)-1,u=(e&h)<<A;(function(f,c,m){if(c+1<f.byteLength)f.setUint16(c,m,!1);else{var x=m>>8&255;f.setUint8(c,x)}})(s,o,DI(s,o)&~(h<<A)&65535|u)}function DI(s,e){return e+1<s.byteLength?s.getUint16(e,!1):s.getUint8(e)<<8}function uV(s){var e=0;if(s[e++]!==71||s[e++]!==73||s[e++]!==70||s[e++]!==56||(s[e++]+1&253)!=56||s[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=s[e++]|s[e++]<<8,n=s[e++]|s[e++]<<8,a=s[e++],o=a>>7,A=1<<1+(7&a);s[e++],s[e++];var h=null,u=null;o&&(h=e,u=A,e+=3*A);var f=!0,c=[],m=0,x=null,g=0,w=null;for(this.width=t,this.height=n;f&&e<s.length;)switch(s[e++]){case 33:switch(s[e++]){case 255:if(s[e]!==11||s[e+1]==78&&s[e+2]==69&&s[e+3]==84&&s[e+4]==83&&s[e+5]==67&&s[e+6]==65&&s[e+7]==80&&s[e+8]==69&&s[e+9]==50&&s[e+10]==46&&s[e+11]==48&&s[e+12]==3&&s[e+13]==1&&s[e+16]==0)e+=14,w=s[e++]|s[e++]<<8,e++;else for(e+=12;;){if(!((O=s[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(s[e++]!==4||s[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=s[e++];m=s[e++]|s[e++]<<8,x=s[e++],1&E||(x=null),g=E>>2&7,e++;break;case 254:for(;;){if(!((O=s[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+s[e-1].toString(16))}break;case 44:var B=s[e++]|s[e++]<<8,C=s[e++]|s[e++]<<8,T=s[e++]|s[e++]<<8,F=s[e++]|s[e++]<<8,L=s[e++],k=L>>6&1,M=1<<1+(7&L),Q=h,D=u,R=!1;L>>7&&(R=!0,Q=e,D=M,e+=3*M);var V=e;for(e++;;){var O;if(!((O=s[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x:B,y:C,width:T,height:F,has_local_palette:R,palette_offset:Q,palette_size:D,data_offset:V,data_length:e-V,transparent_index:x,interlaced:!!k,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+s[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return w},this.frameInfo=function(H){if(H<0||H>=c.length)throw new Error("Frame index out of range.");return c[H]},this.decodeAndBlitFrameBGRA=function(H,G){var ae=this.frameInfo(H),Ae=ae.width*ae.height,ie=new Uint8Array(Ae);vS(s,ae.data_offset,ie,Ae);var le=ae.palette_offset,X=ae.transparent_index;X===null&&(X=256);var ne=ae.width,re=t-ne,W=ne,K=4*(ae.y*t+ae.x),ee=4*((ae.y+ae.height)*t+ae.x),oe=K,he=4*re;ae.interlaced===!0&&(he+=4*t*7);for(var ue=8,ye=0,je=ie.length;ye<je;++ye){var ve=ie[ye];if(W===0&&(W=ne,(oe+=he)>=ee&&(he=4*re+4*t*(ue-1),oe=K+(ne+re)*(ue<<1),ue>>=1)),ve===X)oe+=4;else{var _e=s[le+3*ve],ke=s[le+3*ve+1],Me=s[le+3*ve+2];G[oe++]=Me,G[oe++]=ke,G[oe++]=_e,G[oe++]=255}--W}},this.decodeAndBlitFrameRGBA=function(H,G){var ae=this.frameInfo(H),Ae=ae.width*ae.height,ie=new Uint8Array(Ae);vS(s,ae.data_offset,ie,Ae);var le=ae.palette_offset,X=ae.transparent_index;X===null&&(X=256);var ne=ae.width,re=t-ne,W=ne,K=4*(ae.y*t+ae.x),ee=4*((ae.y+ae.height)*t+ae.x),oe=K,he=4*re;ae.interlaced===!0&&(he+=4*t*7);for(var ue=8,ye=0,je=ie.length;ye<je;++ye){var ve=ie[ye];if(W===0&&(W=ne,(oe+=he)>=ee&&(he=4*re+4*t*(ue-1),oe=K+(ne+re)*(ue<<1),ue>>=1)),ve===X)oe+=4;else{var _e=s[le+3*ve],ke=s[le+3*ve+1],Me=s[le+3*ve+2];G[oe++]=_e,G[oe++]=ke,G[oe++]=Me,G[oe++]=255}--W}}}function vS(s,e,t,n){for(var a=s[e++],o=1<<a,A=o+1,h=A+1,u=a+1,f=(1<<u)-1,c=0,m=0,x=0,g=s[e++],w=new Int32Array(4096),E=null;;){for(;c<16&&g!==0;)m|=s[e++]<<c,c+=8,g===1?g=s[e++]:--g;if(c<u)break;var B=m&f;if(m>>=u,c-=u,B!==o){if(B===A)break;for(var C=B<h?B:E,T=0,F=C;F>o;)F=w[F]>>8,++T;var L=F;if(x+T+(C!==B?1:0)>n)return void ra.log("Warning, gif stream longer than expected.");t[x++]=L;var k=x+=T;for(C!==B&&(t[x++]=L),F=C;T--;)F=w[F],t[--k]=255&F,F>>=8;E!==null&&h<4096&&(w[h++]=E<<8|L,h>=f+1&&u<12&&(++u,f=f<<1|1)),E=B}else h=A+1,f=(1<<(u=a+1))-1,E=null}return x!==n&&ra.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N1(s){var e,t,n,a,o,A=Math.floor,h=new Array(64),u=new Array(64),f=new Array(64),c=new Array(64),m=new Array(65535),x=new Array(65535),g=new Array(64),w=new Array(64),E=[],B=0,C=7,T=new Array(64),F=new Array(64),L=new Array(64),k=new Array(256),M=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(K,ee){for(var oe=0,he=0,ue=new Array,ye=1;ye<=16;ye++){for(var je=1;je<=K[ye];je++)ue[ee[he]]=[],ue[ee[he]][0]=oe,ue[ee[he]][1]=ye,he++,oe++;oe*=2}return ue}function le(K){for(var ee=K[0],oe=K[1]-1;oe>=0;)ee&1<<oe&&(B|=1<<C),oe--,--C<0&&(B==255?(X(255),X(0)):X(B),C=7,B=0)}function X(K){E.push(K)}function ne(K){X(K>>8&255),X(255&K)}function re(K,ee,oe,he,ue){for(var ye,je=ue[0],ve=ue[240],_e=(function(Le,jt){var Ve,Fe,lt,xt,Et,Jt,Mt,He,ft,Ye,At=0;for(ft=0;ft<8;++ft){Ve=Le[At],Fe=Le[At+1],lt=Le[At+2],xt=Le[At+3],Et=Le[At+4],Jt=Le[At+5],Mt=Le[At+6];var es=Ve+(He=Le[At+7]),Gt=Ve-He,qt=Fe+Mt,dt=Fe-Mt,Ot=lt+Jt,Vt=lt-Jt,is=xt+Et,Zt=xt-Et,Qe=es+is,Ht=es-is,it=qt+Ot,ct=qt-Ot;Le[At]=Qe+it,Le[At+4]=Qe-it;var Bt=.707106781*(ct+Ht);Le[At+2]=Ht+Bt,Le[At+6]=Ht-Bt;var ts=.382683433*((Qe=Zt+Vt)-(ct=dt+Gt)),ss=.5411961*Qe+ts,Us=1.306562965*ct+ts,zs=.707106781*(it=Vt+dt),as=Gt+zs,Vn=Gt-zs;Le[At+5]=Vn+ss,Le[At+3]=Vn-ss,Le[At+1]=as+Us,Le[At+7]=as-Us,At+=8}for(At=0,ft=0;ft<8;++ft){Ve=Le[At],Fe=Le[At+8],lt=Le[At+16],xt=Le[At+24],Et=Le[At+32],Jt=Le[At+40],Mt=Le[At+48];var qs=Ve+(He=Le[At+56]),un=Ve-He,Kn=Fe+Mt,rs=Fe-Mt,Hs=lt+Jt,Cn=lt-Jt,dn=xt+Et,wn=xt-Et,fs=qs+dn,Un=qs-dn,zn=Kn+Hs,fa=Kn-Hs;Le[At]=fs+zn,Le[At+32]=fs-zn;var za=.707106781*(fa+Un);Le[At+16]=Un+za,Le[At+48]=Un-za;var Ci=.382683433*((fs=wn+Cn)-(fa=rs+un)),ma=.5411961*fs+Ci,_r=1.306562965*fa+Ci,hi=.707106781*(zn=Cn+rs),Nn=un+hi,br=un-hi;Le[At+40]=br+ma,Le[At+24]=br-ma,Le[At+8]=Nn+_r,Le[At+56]=Nn-_r,At++}for(ft=0;ft<64;++ft)Ye=Le[ft]*jt[ft],g[ft]=Ye>0?Ye+.5|0:Ye-.5|0;return g})(K,ee),ke=0;ke<64;++ke)w[Q[ke]]=_e[ke];var Me=w[0]-oe;oe=w[0],Me==0?le(he[0]):(le(he[x[ye=32767+Me]]),le(m[ye]));for(var Je=63;Je>0&&w[Je]==0;)Je--;if(Je==0)return le(je),oe;for(var at,ge=1;ge<=Je;){for(var ht=ge;w[ge]==0&&ge<=Je;)++ge;var Kt=ge-ht;if(Kt>=16){at=Kt>>4;for(var Pt=1;Pt<=at;++Pt)le(ve);Kt&=15}ye=32767+w[ge],le(ue[(Kt<<4)+x[ye]]),le(m[ye]),ge++}return Je!=63&&le(je),oe}function W(K){K=Math.min(Math.max(K,1),100),o!=K&&((function(ee){for(var oe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var ue=A((oe[he]*ee+50)/100);ue=Math.min(Math.max(ue,1),255),h[Q[he]]=ue}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var ve=A((ye[je]*ee+50)/100);ve=Math.min(Math.max(ve,1),255),u[Q[je]]=ve}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Me=0;Me<8;Me++)for(var Je=0;Je<8;Je++)f[ke]=1/(h[Q[ke]]*_e[Me]*_e[Je]*8),c[ke]=1/(u[Q[ke]]*_e[Me]*_e[Je]*8),ke++})(K<50?Math.floor(5e3/K):Math.floor(200-2*K)),o=K)}this.encode=function(K,ee){ee&&W(ee),E=new Array,B=0,C=7,ne(65496),ne(65504),ne(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ne(1),ne(1),X(0),X(0),(function(){ne(65499),ne(132),X(0);for(var Fe=0;Fe<64;Fe++)X(h[Fe]);X(1);for(var lt=0;lt<64;lt++)X(u[lt])})(),(function(Fe,lt){ne(65472),ne(17),X(8),ne(lt),ne(Fe),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)})(K.width,K.height),(function(){ne(65476),ne(418),X(0);for(var Fe=0;Fe<16;Fe++)X(D[Fe+1]);for(var lt=0;lt<=11;lt++)X(R[lt]);X(16);for(var xt=0;xt<16;xt++)X(V[xt+1]);for(var Et=0;Et<=161;Et++)X(O[Et]);X(1);for(var Jt=0;Jt<16;Jt++)X(H[Jt+1]);for(var Mt=0;Mt<=11;Mt++)X(G[Mt]);X(17);for(var He=0;He<16;He++)X(ae[He+1]);for(var ft=0;ft<=161;ft++)X(Ae[ft])})(),ne(65498),ne(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var oe=0,he=0,ue=0;B=0,C=7,this.encode.displayName="_encode_";for(var ye,je,ve,_e,ke,Me,Je,at,ge,ht=K.data,Kt=K.width,Pt=K.height,Le=4*Kt,jt=0;jt<Pt;){for(ye=0;ye<Le;){for(ke=Le*jt+ye,Je=-1,at=0,ge=0;ge<64;ge++)Me=ke+(at=ge>>3)*Le+(Je=4*(7&ge)),jt+at>=Pt&&(Me-=Le*(jt+1+at-Pt)),ye+Je>=Le&&(Me-=ye+Je-Le+4),je=ht[Me++],ve=ht[Me++],_e=ht[Me++],T[ge]=(M[je]+M[ve+256|0]+M[_e+512|0]>>16)-128,F[ge]=(M[je+768|0]+M[ve+1024|0]+M[_e+1280|0]>>16)-128,L[ge]=(M[je+1280|0]+M[ve+1536|0]+M[_e+1792|0]>>16)-128;oe=re(T,f,oe,e,n),he=re(F,c,he,t,a),ue=re(L,c,ue,t,a),ye+=32}jt+=8}if(C>=0){var Ve=[];Ve[1]=C+1,Ve[0]=(1<<C+1)-1,le(Ve)}return ne(65497),new Uint8Array(E)},s=s||50,(function(){for(var K=String.fromCharCode,ee=0;ee<256;ee++)k[ee]=K(ee)})(),e=ie(D,R),t=ie(H,G),n=ie(V,O),a=ie(ae,Ae),(function(){for(var K=1,ee=2,oe=1;oe<=15;oe++){for(var he=K;he<ee;he++)x[32767+he]=oe,m[32767+he]=[],m[32767+he][1]=oe,m[32767+he][0]=he;for(var ue=-(ee-1);ue<=-K;ue++)x[32767+ue]=oe,m[32767+ue]=[],m[32767+ue][1]=oe,m[32767+ue][0]=ee-1+ue;K<<=1,ee<<=1}})(),(function(){for(var K=0;K<256;K++)M[K]=19595*K,M[K+256|0]=38470*K,M[K+512|0]=7471*K+32768,M[K+768|0]=-11059*K,M[K+1024|0]=-21709*K,M[K+1280|0]=32768*K+8421375,M[K+1536|0]=-27439*K,M[K+1792|0]=-5329*K})(),W(s)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nA(s,e){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yS(s){function e(R){if(!R)throw Error("assert :P")}function t(R,V,O){for(var H=0;4>H;H++)if(R[V+H]!=O.charCodeAt(H))return!0;return!1}function n(R,V,O,H,G){for(var ae=0;ae<G;ae++)R[V+ae]=O[H+ae]}function a(R,V,O,H){for(var G=0;G<H;G++)R[V+G]=O}function o(R){return new Int32Array(R)}function A(R,V){for(var O=[],H=0;H<R;H++)O.push(new V);return O}function h(R,V){var O=[];return(function H(G,ae,Ae){for(var ie=Ae[ae],le=0;le<ie&&(G.push(Ae.length>ae+1?[]:new V),!(Ae.length<ae+1));le++)H(G[le],ae+1,Ae)})(O,0,R),O}var u=function(){var R=this;function V(b,_){for(var z=1<<_-1>>>0;b&z;)z>>>=1;return z?(b&z-1)+z:b}function O(b,_,z,q,de){e(!(q%z));do b[_+(q-=z)]=de;while(0<q)}function H(b,_,z,q,de){if(e(2328>=de),512>=de)var me=o(512);else if((me=o(de))==null)return 0;return(function(pe,we,Be,Ie,Oe,st){var Te,Ke,Ge=we,bt=1<<Be,et=o(16),vt=o(16);for(e(Oe!=0),e(Ie!=null),e(pe!=null),e(0<Be),Ke=0;Ke<Oe;++Ke){if(15<Ie[Ke])return 0;++et[Ie[Ke]]}if(et[0]==Oe)return 0;for(vt[1]=0,Te=1;15>Te;++Te){if(et[Te]>1<<Te)return 0;vt[Te+1]=vt[Te]+et[Te]}for(Ke=0;Ke<Oe;++Ke)Te=Ie[Ke],0<Ie[Ke]&&(st[vt[Te]++]=Ke);if(vt[15]==1)return(Ie=new G).g=0,Ie.value=st[0],O(pe,Ge,1,bt,Ie),bt;var St,Wt=-1,Dt=bt-1,Cs=0,ys=1,nn=1,Bs=1<<Be;for(Ke=0,Te=1,Oe=2;Te<=Be;++Te,Oe<<=1){if(ys+=nn<<=1,0>(nn-=et[Te]))return 0;for(;0<et[Te];--et[Te])(Ie=new G).g=Te,Ie.value=st[Ke++],O(pe,Ge+Cs,Oe,Bs,Ie),Cs=V(Cs,Te)}for(Te=Be+1,Oe=2;15>=Te;++Te,Oe<<=1){if(ys+=nn<<=1,0>(nn-=et[Te]))return 0;for(;0<et[Te];--et[Te]){if(Ie=new G,(Cs&Dt)!=Wt){for(Ge+=Bs,St=1<<(Wt=Te)-Be;15>Wt&&!(0>=(St-=et[Wt]));)++Wt,St<<=1;bt+=Bs=1<<(St=Wt-Be),pe[we+(Wt=Cs&Dt)].g=St+Be,pe[we+Wt].value=Ge-we-Wt}Ie.g=Te-Be,Ie.value=st[Ke++],O(pe,Ge+(Cs>>Be),Oe,Bs,Ie),Cs=V(Cs,Te)}}return ys!=2*vt[15]-1?0:bt})(b,_,z,q,de,me)}function G(){this.value=this.g=0}function ae(){this.value=this.g=0}function Ae(){this.G=A(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(Po,ae)}function ie(b,_,z,q){e(b!=null),e(_!=null),e(2147483648>q),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=z,b.Jd=_,b.Yc=z+q,b.Zc=4<=q?z+q-4+1:z,je(b)}function le(b,_){for(var z=0;0<_--;)z|=_e(b,128)<<_;return z}function X(b,_){var z=le(b,_);return ve(b)?-z:z}function ne(b,_,z,q){var de,me=0;for(e(b!=null),e(_!=null),e(4294967288>q),b.Sb=q,b.Ra=0,b.u=0,b.h=0,4<q&&(q=4),de=0;de<q;++de)me+=_[z+de]<<8*de;b.Ra=me,b.bb=q,b.oa=_,b.pa=z}function re(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<fl-8>>>0,++b.bb,b.u-=8;he(b)&&(b.h=1,b.u=0)}function W(b,_){if(e(0<=_),!b.h&&_<=Ii){var z=oe(b)&Bn[_];return b.u+=_,re(b),z}return b.h=1,b.u=0}function K(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ee(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function oe(b){return b.Ra>>>(b.u&fl-1)>>>0}function he(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>fl}function ue(b,_){b.u=_,b.h=he(b)}function ye(b){b.u>=ml&&(e(b.u>=ml),re(b))}function je(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ve(b){return le(b,1)}function _e(b,_){var z=b.Ca;0>b.b&&je(b);var q=b.b,de=z*_>>>8,me=(b.I>>>q>de)+0;for(me?(z-=de,b.I-=de+1<<q>>>0):z=de+1,q=z,de=0;256<=q;)de+=8,q>>=8;return q=7^de+Sl[q],b.b-=q,b.Ca=(z<<q)-1,me}function ke(b,_,z){b[_+0]=z>>24&255,b[_+1]=z>>16&255,b[_+2]=z>>8&255,b[_+3]=255&z}function Me(b,_){return b[_+0]|b[_+1]<<8}function Je(b,_){return Me(b,_)|b[_+2]<<16}function at(b,_){return Me(b,_)|Me(b,_+2)<<16}function ge(b,_){var z=1<<_;return e(b!=null),e(0<_),b.X=o(z),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function ht(b,_){e(b!=null),e(_!=null),e(b.Xa==_.Xa),n(_.X,0,b.X,0,1<<_.Xa)}function Kt(){this.X=[],this.Xa=this.Mb=0}function Pt(b,_,z,q){e(z!=null),e(q!=null);var de=z[0],me=q[0];return de==0&&(de=(b*me+_/2)/_),me==0&&(me=(_*de+b/2)/b),0>=de||0>=me?0:(z[0]=de,q[0]=me,1)}function Le(b,_){return b+(1<<_)-1>>>_}function jt(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function Ve(b,_){R[_]=function(z,q,de,me,pe,we,Be){var Ie;for(Ie=0;Ie<pe;++Ie){var Oe=R[b](we[Be+Ie-1],de,me+Ie);we[Be+Ie]=jt(z[q+Ie],Oe)}}}function Fe(){this.ud=this.hd=this.jd=0}function lt(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function xt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Et(b,_){return xt(b+(b-_+.5>>1))}function Jt(b,_,z){return Math.abs(_-z)-Math.abs(b-z)}function Mt(b,_,z,q,de,me,pe){for(q=me[pe-1],z=0;z<de;++z)me[pe+z]=q=jt(b[_+z],q)}function He(b,_,z,q,de){var me;for(me=0;me<z;++me){var pe=b[_+me],we=pe>>8&255,Be=16711935&(Be=(Be=16711935&pe)+((we<<16)+we));q[de+me]=(4278255360&pe)+Be>>>0}}function ft(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function Ye(b,_,z,q,de,me){var pe;for(pe=0;pe<q;++pe){var we=_[z+pe],Be=we>>>8,Ie=we,Oe=255&(Oe=(Oe=we>>>16)+((b.jd<<24>>24)*(Be<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(b.hd<<24>>24)*(Be<<24>>24)>>>5)+((b.ud<<24>>24)*(Oe<<24>>24)>>>5)),de[me+pe]=(4278255360&we)+(Oe<<16)+Ie}}function At(b,_,z,q,de){R[_]=function(me,pe,we,Be,Ie,Oe,st,Te,Ke){for(Be=st;Be<Te;++Be)for(st=0;st<Ke;++st)Ie[Oe++]=de(we[q(me[pe++])])},R[b]=function(me,pe,we,Be,Ie,Oe,st){var Te=8>>me.b,Ke=me.Ea,Ge=me.K[0],bt=me.w;if(8>Te)for(me=(1<<me.b)-1,bt=(1<<Te)-1;pe<we;++pe){var et,vt=0;for(et=0;et<Ke;++et)et&me||(vt=q(Be[Ie++])),Oe[st++]=de(Ge[vt&bt]),vt>>=Te}else R["VP8LMapColor"+z](Be,Ie,Ge,bt,Oe,st,pe,we,Ke)}}function es(b,_,z,q,de){for(z=_+z;_<z;){var me=b[_++];q[de++]=me>>16&255,q[de++]=me>>8&255,q[de++]=255&me}}function Gt(b,_,z,q,de){for(z=_+z;_<z;){var me=b[_++];q[de++]=me>>16&255,q[de++]=me>>8&255,q[de++]=255&me,q[de++]=me>>24&255}}function qt(b,_,z,q,de){for(z=_+z;_<z;){var me=(pe=b[_++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;q[de++]=me,q[de++]=pe}}function dt(b,_,z,q,de){for(z=_+z;_<z;){var me=(pe=b[_++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;q[de++]=me,q[de++]=pe}}function Ot(b,_,z,q,de){for(z=_+z;_<z;){var me=b[_++];q[de++]=255&me,q[de++]=me>>8&255,q[de++]=me>>16&255}}function Vt(b,_,z,q,de,me){if(me==0)for(z=_+z;_<z;)ke(q,((me=b[_++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),de+=32;else n(q,de,b,_,z)}function is(b,_){R[_][0]=R[b+"0"],R[_][1]=R[b+"1"],R[_][2]=R[b+"2"],R[_][3]=R[b+"3"],R[_][4]=R[b+"4"],R[_][5]=R[b+"5"],R[_][6]=R[b+"6"],R[_][7]=R[b+"7"],R[_][8]=R[b+"8"],R[_][9]=R[b+"9"],R[_][10]=R[b+"10"],R[_][11]=R[b+"11"],R[_][12]=R[b+"12"],R[_][13]=R[b+"13"],R[_][14]=R[b+"0"],R[_][15]=R[b+"0"]}function Zt(b){return b==iu||b==Vu||b==vA||b==Gc}function Qe(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function it(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qe,this.f.kb=new Ht,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ts(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function ss(b,_){var z=b.T,q=_.ba.f.RGBA,de=q.eb,me=q.fb+b.ka*q.A,pe=yi[_.ba.S],we=b.y,Be=b.O,Ie=b.f,Oe=b.N,st=b.ea,Te=b.W,Ke=_.cc,Ge=_.dc,bt=_.Mc,et=_.Nc,vt=b.ka,St=b.ka+b.T,Wt=b.U,Dt=Wt+1>>1;for(vt==0?pe(we,Be,null,null,Ie,Oe,st,Te,Ie,Oe,st,Te,de,me,null,null,Wt):(pe(_.ec,_.fc,we,Be,Ke,Ge,bt,et,Ie,Oe,st,Te,de,me-q.A,de,me,Wt),++z);vt+2<St;vt+=2)Ke=Ie,Ge=Oe,bt=st,et=Te,Oe+=b.Rc,Te+=b.Rc,me+=2*q.A,pe(we,(Be+=2*b.fa)-b.fa,we,Be,Ke,Ge,bt,et,Ie,Oe,st,Te,de,me-q.A,de,me,Wt);return Be+=b.fa,b.j+St<b.o?(n(_.ec,_.fc,we,Be,Wt),n(_.cc,_.dc,Ie,Oe,Dt),n(_.Mc,_.Nc,st,Te,Dt),z--):1&St||pe(we,Be,null,null,Ie,Oe,st,Te,Ie,Oe,st,Te,de,me+q.A,null,null,Wt),z}function Us(b,_,z){var q=b.F,de=[b.J];if(q!=null){var me=b.U,pe=_.ba.S,we=pe==au||pe==vA;_=_.ba.f.RGBA;var Be=[0],Ie=b.ka;Be[0]=b.T,b.Kb&&(Ie==0?--Be[0]:(--Ie,de[0]-=b.width),b.j+b.ka+b.T==b.o&&(Be[0]=b.o-b.j-Ie));var Oe=_.eb;Ie=_.fb+Ie*_.A,b=xA(q,de[0],b.width,me,Be,Oe,Ie+(we?0:3),_.A),e(z==Be),b&&Zt(pe)&&fc(Oe,Ie,we,me,Be,_.A)}return 0}function zs(b){var _=b.ma,z=_.ba.S,q=11>z,de=z==Di||z==Mo||z==au||z==Jl||z==12||Zt(z);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Lr(_.Oa,b,de?11:12))return 0;if(de&&Zt(z)&&Ds(),b.da)alert("todo:use_scaling");else{if(q){if(_.Ib=ts,b.Kb){if(z=b.U+1>>1,_.memory=o(b.U+2*z),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+z,_.Ib=ss,Ds()}}else alert("todo:EmitYUV");de&&(_.Jb=Us,q&&tt())}if(q&&!wc){for(b=0;256>b;++b)bi[b]=89858*(b-128)+bA>>Go,Om[b]=-22014*(b-128)+bA,gf[b]=-45773*(b-128),Yu[b]=113618*(b-128)+bA>>Go;for(b=Ul;b<bc;++b)_=76283*(b-16)+bA>>Go,km[b-Ul]=pa(_,255),Pm[b-Ul]=pa(_+8>>4,15);wc=1}return 1}function as(b){var _=b.ma,z=b.U,q=b.T;return e(!(1&b.ka)),0>=z||0>=q?0:(z=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,z),_.Dc+=z,1)}function Vn(b){b.ma.memory=null}function qs(b,_,z,q){return W(b,8)!=47?0:(_[0]=W(b,14)+1,z[0]=W(b,14)+1,q[0]=W(b,1),W(b,3)!=0?0:!b.h)}function un(b,_){if(4>b)return b+1;var z=b-2>>1;return(2+(1&b)<<z)+W(_,z)+1}function Kn(b,_){return 120<_?_-120:1<=(z=((z=Vo[_-1])>>4)*b+(8-(15&z)))?z:1;var z}function rs(b,_,z){var q=oe(z),de=b[_+=255&q].g-8;return 0<de&&(ue(z,z.u+8),q=oe(z),_+=b[_].value,_+=q&(1<<de)-1),ue(z,z.u+b[_].g),b[_].value}function Hs(b,_,z){return z.g+=b.g,z.value+=b.value<<_>>>0,e(8>=z.g),b.g}function Cn(b,_,z){var q=b.xc;return e((_=q==0?0:b.vc[b.md*(z>>q)+(_>>q)])<b.Wb),b.Ya[_]}function dn(b,_,z,q){var de=b.ab,me=b.c*_,pe=b.C;_=pe+_;var we=z,Be=q;for(q=b.Ta,z=b.Ua;0<de--;){var Ie=b.gc[de],Oe=pe,st=_,Te=we,Ke=Be,Ge=(Be=q,we=z,Ie.Ea);switch(e(Oe<st),e(st<=Ie.nc),Ie.hc){case 2:la(Te,Ke,(st-Oe)*Ge,Be,we);break;case 0:var bt=Oe,et=st,vt=Be,St=we,Wt=(Bs=Ie).Ea;bt==0&&(Yl(Te,Ke,null,null,1,vt,St),Mt(Te,Ke+1,0,0,Wt-1,vt,St+1),Ke+=Wt,St+=Wt,++bt);for(var Dt=1<<Bs.b,Cs=Dt-1,ys=Le(Wt,Bs.b),nn=Bs.K,Bs=Bs.w+(bt>>Bs.b)*ys;bt<et;){var _n=nn,Or=Bs,hn=1;for(Mc(Te,Ke,vt,St-Wt,1,vt,St);hn<Wt;){var pt=(hn&~Cs)+Dt;pt>Wt&&(pt=Wt),(0,_i[_n[Or++]>>8&15])(Te,Ke+ +hn,vt,St+hn-Wt,pt-hn,vt,St+hn),hn=pt}Ke+=Wt,St+=Wt,++bt&Cs||(Bs+=ys)}st!=Ie.nc&&n(Be,we-Ge,Be,we+(st-Oe-1)*Ge,Ge);break;case 1:for(Ge=Te,et=Ke,Wt=(Te=Ie.Ea)-(St=Te&~(vt=(Ke=1<<Ie.b)-1)),bt=Le(Te,Ie.b),Dt=Ie.K,Ie=Ie.w+(Oe>>Ie.b)*bt;Oe<st;){for(Cs=Dt,ys=Ie,nn=new Fe,Bs=et+St,_n=et+Te;et<Bs;)ft(Cs[ys++],nn),Hc(nn,Ge,et,Ke,Be,we),et+=Ke,we+=Ke;et<_n&&(ft(Cs[ys++],nn),Hc(nn,Ge,et,Wt,Be,we),et+=Wt,we+=Wt),++Oe&vt||(Ie+=bt)}break;case 3:if(Te==Be&&Ke==we&&0<Ie.b){for(et=Be,Te=Ge=we+(st-Oe)*Ge-(St=(st-Oe)*Le(Ie.Ea,Ie.b)),Ke=Be,vt=we,bt=[],St=(Wt=St)-1;0<=St;--St)bt[St]=Ke[vt+St];for(St=Wt-1;0<=St;--St)et[Te+St]=bt[St];Ji(Ie,Oe,st,Be,Ge,Be,we)}else Ji(Ie,Oe,st,Te,Ke,Be,we)}we=q,Be=z}Be!=z&&n(q,z,we,Be,me)}function wn(b,_){var z=b.V,q=b.Ba+b.c*b.C,de=_-b.C;if(e(_<=b.l.o),e(16>=de),0<de){var me=b.l,pe=b.Ta,we=b.Ua,Be=me.width;if(dn(b,de,z,q),de=we=[we],e((z=b.C)<(q=_)),e(me.v<me.va),q>me.o&&(q=me.o),z<me.j){var Ie=me.j-z;z=me.j,de[0]+=Ie*Be}if(z>=q?z=0:(de[0]+=4*me.v,me.ka=z-me.j,me.U=me.va-me.v,me.T=q-z,z=1),z){if(we=we[0],11>(z=b.ca).S){var Oe=z.f.RGBA,st=(q=z.S,de=me.U,me=me.T,Ie=Oe.eb,Oe.A),Te=me;for(Oe=Oe.fb+b.Ma*Oe.A;0<Te--;){var Ke=pe,Ge=we,bt=de,et=Ie,vt=Oe;switch(q){case Hu:Vc(Ke,Ge,bt,et,vt);break;case Di:pl(Ke,Ge,bt,et,vt);break;case iu:pl(Ke,Ge,bt,et,vt),fc(et,vt,0,bt,1,0);break;case Xl:gl(Ke,Ge,bt,et,vt);break;case Mo:Vt(Ke,Ge,bt,et,vt,1);break;case Vu:Vt(Ke,Ge,bt,et,vt,1),fc(et,vt,0,bt,1,0);break;case au:Vt(Ke,Ge,bt,et,vt,0);break;case vA:Vt(Ke,Ge,bt,et,vt,0),fc(et,vt,1,bt,1,0);break;case Jl:Cl(Ke,Ge,bt,et,vt);break;case Gc:Cl(Ke,Ge,bt,et,vt),po(et,vt,bt,1,0);break;case mc:El(Ke,Ge,bt,et,vt);break;default:e(0)}we+=Be,Oe+=st}b.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=z.height)}}b.C=_,e(b.C<=b.i)}function fs(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var z=b.Ya[_].G,q=b.Ya[_].H;if(0<z[1][q[1]+0].g||0<z[2][q[2]+0].g||0<z[3][q[3]+0].g)return 0}return 1}function Un(b,_,z,q,de,me){if(b.Z!=0){var pe=b.qd,we=b.rd;for(e(_l[b.Z]!=null);_<z;++_)_l[b.Z](pe,we,q,de,q,de,me),pe=q,we=de,de+=me;b.qd=pe,b.rd=we}}function zn(b,_){var z=b.l.ma,q=z.Z==0||z.Z==1?b.l.j:b.C;if(q=b.C<q?q:b.C,e(_<=b.l.o),_>q){var de=b.l.width,me=z.ca,pe=z.tb+de*q,we=b.V,Be=b.Ba+b.c*q,Ie=b.gc;e(b.ab==1),e(Ie[0].hc==3),gi(Ie[0],q,_,we,Be,me,pe),Un(z,q,_,me,pe,de)}b.C=b.Ma=_}function fa(b,_,z,q,de,me,pe){var we=b.$/q,Be=b.$%q,Ie=b.m,Oe=b.s,st=z+b.$,Te=st;de=z+q*de;var Ke=z+q*me,Ge=280+Oe.ua,bt=b.Pb?we:16777216,et=0<Oe.ua?Oe.Wa:null,vt=Oe.wc,St=st<Ke?Cn(Oe,Be,we):null;e(b.C<me),e(Ke<=de);var Wt=!1;e:for(;;){for(;Wt||st<Ke;){var Dt=0;if(we>=bt){var Cs=st-z;e((bt=b).Pb),bt.wd=bt.m,bt.xd=Cs,0<bt.s.ua&&ht(bt.s.Wa,bt.s.vb),bt=we+gc}if(Be&vt||(St=Cn(Oe,Be,we)),e(St!=null),St.Qb&&(_[st]=St.qb,Wt=!0),!Wt)if(ye(Ie),St.jc){Dt=Ie,Cs=_;var ys=st,nn=St.pd[oe(Dt)&Po-1];e(St.jc),256>nn.g?(ue(Dt,Dt.u+nn.g),Cs[ys]=nn.value,Dt=0):(ue(Dt,Dt.u+nn.g-256),e(256<=nn.value),Dt=nn.value),Dt==0&&(Wt=!0)}else Dt=rs(St.G[0],St.H[0],Ie);if(Ie.h)break;if(Wt||256>Dt){if(!Wt)if(St.nd)_[st]=(St.qb|Dt<<8)>>>0;else{if(ye(Ie),Wt=rs(St.G[1],St.H[1],Ie),ye(Ie),Cs=rs(St.G[2],St.H[2],Ie),ys=rs(St.G[3],St.H[3],Ie),Ie.h)break;_[st]=(ys<<24|Wt<<16|Dt<<8|Cs)>>>0}if(Wt=!1,++st,++Be>=q&&(Be=0,++we,pe!=null&&we<=me&&!(we%16)&&pe(b,we),et!=null))for(;Te<st;)Dt=_[Te++],et.X[(506832829*Dt&4294967295)>>>et.Mb]=Dt}else if(280>Dt){if(Dt=un(Dt-256,Ie),Cs=rs(St.G[4],St.H[4],Ie),ye(Ie),Cs=Kn(q,Cs=un(Cs,Ie)),Ie.h)break;if(st-z<Cs||de-st<Dt)break e;for(ys=0;ys<Dt;++ys)_[st+ys]=_[st+ys-Cs];for(st+=Dt,Be+=Dt;Be>=q;)Be-=q,++we,pe!=null&&we<=me&&!(we%16)&&pe(b,we);if(e(st<=de),Be&vt&&(St=Cn(Oe,Be,we)),et!=null)for(;Te<st;)Dt=_[Te++],et.X[(506832829*Dt&4294967295)>>>et.Mb]=Dt}else{if(!(Dt<Ge))break e;for(Wt=Dt-280,e(et!=null);Te<st;)Dt=_[Te++],et.X[(506832829*Dt&4294967295)>>>et.Mb]=Dt;Dt=st,e(!(Wt>>>(Cs=et).Xa)),_[Dt]=Cs.X[Wt],Wt=!0}Wt||e(Ie.h==he(Ie))}if(b.Pb&&Ie.h&&st<de)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ht(b.s.vb,b.s.Wa);else{if(Ie.h)break e;pe!=null&&pe(b,we>me?me:we),b.a=0,b.$=st-z}return 1}return b.a=3,0}function za(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,e(b!=null)}function Ci(){var b=new Lt;return b==null?null:(b.a=0,b.xb=Ah,is("Predictor","VP8LPredictors"),is("Predictor","VP8LPredictors_C"),is("PredictorAdd","VP8LPredictorsAdd"),is("PredictorAdd","VP8LPredictorsAdd_C"),la=He,Hc=Ye,Vc=es,pl=Gt,Cl=qt,El=dt,gl=Ot,R.VP8LMapColor32b=pi,R.VP8LMapColor8b=On,b)}function ma(b,_,z,q,de){var me=1,pe=[b],we=[_],Be=q.m,Ie=q.s,Oe=null,st=0;e:for(;;){if(z)for(;me&&W(Be,1);){var Te=pe,Ke=we,Ge=q,bt=1,et=Ge.m,vt=Ge.gc[Ge.ab],St=W(et,2);if(Ge.Oc&1<<St)me=0;else{switch(Ge.Oc|=1<<St,vt.hc=St,vt.Ea=Te[0],vt.nc=Ke[0],vt.K=[null],++Ge.ab,e(4>=Ge.ab),St){case 0:case 1:vt.b=W(et,3)+2,bt=ma(Le(vt.Ea,vt.b),Le(vt.nc,vt.b),0,Ge,vt.K),vt.K=vt.K[0];break;case 3:var Wt,Dt=W(et,8)+1,Cs=16<Dt?0:4<Dt?1:2<Dt?2:3;if(Te[0]=Le(vt.Ea,Cs),vt.b=Cs,Wt=bt=ma(Dt,1,0,Ge,vt.K)){var ys,nn=Dt,Bs=vt,_n=1<<(8>>Bs.b),Or=o(_n);if(Or==null)Wt=0;else{var hn=Bs.K[0],pt=Bs.w;for(Or[0]=Bs.K[0][0],ys=1;ys<1*nn;++ys)Or[ys]=jt(hn[pt+ys],Or[ys-1]);for(;ys<4*_n;++ys)Or[ys]=0;Bs.K[0]=null,Bs.K[0]=Or,Wt=1}}bt=Wt;break;case 2:break;default:e(0)}me=bt}}if(pe=pe[0],we=we[0],me&&W(Be,1)&&!(me=1<=(st=W(Be,4))&&11>=st)){q.a=3;break e}var ls;if(ls=me)t:{var qr,Gs,Ws,fr=q,Da=pe,Na=we,mr=st,Ra=z,Ri=fr.m,La=fr.s,An=[null],kn=1,kr=0,or=Ko[mr];s:for(;;){if(Ra&&W(Ri,1)){var Qa=W(Ri,3)+2,Zr=Le(Da,Qa),Pn=Le(Na,Qa),Sa=Zr*Pn;if(!ma(Zr,Pn,0,fr,An))break s;for(An=An[0],La.xc=Qa,qr=0;qr<Sa;++qr){var pr=An[qr]>>8&65535;An[qr]=pr,pr>=kn&&(kn=pr+1)}}if(Ri.h)break s;for(Gs=0;5>Gs;++Gs){var Oa=$c[Gs];!Gs&&0<mr&&(Oa+=1<<mr),kr<Oa&&(kr=Oa)}var ka=A(kn*or,G),jr=kn,Wn=A(jr,Ae);if(Wn==null)var Li=null;else e(65536>=jr),Li=Wn;var Aa=o(kr);if(Li==null||Aa==null||ka==null){fr.a=1;break s}var ks=ka;for(qr=Ws=0;qr<kn;++qr){var Ks=Li[qr],sr=Ks.G,co=Ks.H,vo=0,to=1,ea=0;for(Gs=0;5>Gs;++Gs){Oa=$c[Gs],sr[Gs]=ks,co[Gs]=Ws,!Gs&&0<mr&&(Oa+=1<<mr);r:{var jc,Dl=Oa,BA=fr,Br=Aa,Xu=ks,uh=Ws,cu=0,yl=BA.m,dh=W(yl,1);if(a(Br,0,0,Dl),dh){var Ju=W(yl,1)+1,qu=W(yl,1),Au=W(yl,qu==0?1:8);Br[Au]=1,Ju==2&&(Br[Au=W(yl,8)]=1);var qa=1}else{var Gr=o(19),uu=W(yl,4)+4;if(19<uu){BA.a=3;var Bc=0;break r}for(jc=0;jc<uu;++jc)Gr[pc[jc]]=W(yl,3);var NA=void 0,oi=void 0,$o=BA,Zu=Gr,SA=Dl,ed=Br,td=0,Zl=$o.m,hh=8,fh=A(128,G);n:for(;H(fh,0,7,Zu,19);){if(W(Zl,1)){var xf=2+2*W(Zl,3);if((NA=2+W(Zl,xf))>SA)break n}else NA=SA;for(oi=0;oi<SA&&NA--;){ye(Zl);var mh=fh[0+(127&oe(Zl))];ue(Zl,Zl.u+mh.g);var ec=mh.value;if(16>ec)ed[oi++]=ec,ec!=0&&(hh=ec);else{var vf=ec==16,sd=ec-16,ph=yA[sd],Za=W(Zl,Ho[sd])+ph;if(oi+Za>SA)break n;for(var CA=vf?hh:0;0<Za--;)ed[oi++]=CA}}td=1;break n}td||($o.a=3),qa=td}(qa=qa&&!yl.h)&&(cu=H(Xu,uh,8,Br,Dl)),qa&&cu!=0?Bc=cu:(BA.a=3,Bc=0)}if(Bc==0)break s;if(to&&Ku[Gs]==1&&(to=ks[Ws].g==0),vo+=ks[Ws].g,Ws+=Bc,3>=Gs){var Wc,nd=Aa[0];for(Wc=1;Wc<Oa;++Wc)Aa[Wc]>nd&&(nd=Aa[Wc]);ea+=nd}}if(Ks.nd=to,Ks.Qb=0,to&&(Ks.qb=(sr[3][co[3]+0].value<<24|sr[1][co[1]+0].value<<16|sr[2][co[2]+0].value)>>>0,vo==0&&256>sr[0][co[0]+0].value&&(Ks.Qb=1,Ks.qb+=sr[0][co[0]+0].value<<8)),Ks.jc=!Ks.Qb&&6>ea,Ks.jc){var EA,Yo=Ks;for(EA=0;EA<Po;++EA){var tc=EA,sc=Yo.pd[tc],rd=Yo.G[0][Yo.H[0]+tc];256<=rd.value?(sc.g=rd.g+256,sc.value=rd.value):(sc.g=0,sc.value=0,tc>>=Hs(rd,8,sc),tc>>=Hs(Yo.G[1][Yo.H[1]+tc],16,sc),tc>>=Hs(Yo.G[2][Yo.H[2]+tc],0,sc),Hs(Yo.G[3][Yo.H[3]+tc],24,sc))}}}La.vc=An,La.Wb=kn,La.Ya=Li,La.yc=ka,ls=1;break t}ls=0}if(!(me=ls)){q.a=3;break e}if(0<st){if(Ie.ua=1<<st,!ge(Ie.Wa,st)){q.a=1,me=0;break e}}else Ie.ua=0;var ad=q,Xc=pe,yf=we,TA=ad.s,IA=TA.xc;if(ad.c=Xc,ad.i=yf,TA.md=Le(Xc,IA),TA.wc=IA==0?-1:(1<<IA)-1,z){q.xb=xc;break e}if((Oe=o(pe*we))==null){q.a=1,me=0;break e}me=(me=fa(q,Oe,0,pe,we,we,null))&&!Be.h;break e}return me?(de!=null?de[0]=Oe:(e(Oe==null),e(z)),q.$=0,z||za(Ie)):za(Ie),me}function _r(b,_){var z=b.c*b.i,q=z+_+16*_;return e(b.c<=_),b.V=o(q),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+z+_,1)}function hi(b,_){var z=b.C,q=_-z,de=b.V,me=b.Ba+b.c*z;for(e(_<=b.l.o);0<q;){var pe=16<q?16:q,we=b.l.ma,Be=b.l.width,Ie=Be*pe,Oe=we.ca,st=we.tb+Be*z,Te=b.Ta,Ke=b.Ua;dn(b,pe,de,me),go(Te,Ke,Oe,st,Ie),Un(we,z,z+pe,Oe,st,Be),q-=pe,de+=pe*b.c,z+=pe}e(z==_),b.C=b.Ma=_}function Nn(){this.ub=this.yd=this.td=this.Rb=0}function br(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Er(){this.Yb=(function(){var b=[];return(function _(z,q,de){for(var me=de[q],pe=0;pe<me&&(z.push(de.length>q+1?[]:0),!(de.length<q+1));pe++)_(z[pe],q+1,de)})(b,0,[3,11]),b})()}function Gn(){this.jb=o(3),this.Wc=h([4,8],Er),this.Xc=h([4,17],Er)}function Ga(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ia(){this.ld=this.La=this.dd=this.tc=0}function Tr(){this.Na=this.la=0}function wr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $a(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Io(){this.uc=this.M=this.Nb=0,this.wa=Array(new ia),this.Y=0,this.ya=Array(new $a),this.aa=0,this.l=new oa}function Nl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function _o(){this.cb=this.a=0,this.sc="",this.m=new K,this.Od=new Nn,this.Kc=new br,this.ed=new Ga,this.Qa=new Fr,this.Ic=this.$c=this.Aa=0,this.D=new Io,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,K),this.ia=0,this.pb=A(4,wr),this.Pa=new Gn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nl),this.Hd=0,this.rb=Array(new Tr),this.sb=0,this.wa=Array(new ia),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $a),this.L=this.aa=0,this.gd=h([4,2],ia),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pa(b,_){return 0>b?0:b>_?_:b}function oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zr(){var b=new _o;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,xo||(xo=xn)),b}function jn(b,_,z){return b.a==0&&(b.a=_,b.sc=z,b.cb=0),0}function Ei(b,_,z){return 3<=z&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function Ya(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return jn(b,2,"null VP8Io passed to VP8GetHeaders()");var z=_.data,q=_.w,de=_.ha;if(4>de)return jn(b,7,"Truncated header.");var me=z[q+0]|z[q+1]<<8|z[q+2]<<16,pe=b.Od;if(pe.Rb=!(1&me),pe.td=me>>1&7,pe.yd=me>>4&1,pe.ub=me>>5,3<pe.td)return jn(b,3,"Incorrect keyframe parameters.");if(!pe.yd)return jn(b,4,"Frame not displayable.");q+=3,de-=3;var we=b.Kc;if(pe.Rb){if(7>de)return jn(b,7,"cannot parse picture header");if(!Ei(z,q,de))return jn(b,3,"Bad code word");we.c=16383&(z[q+4]<<8|z[q+3]),we.Td=z[q+4]>>6,we.i=16383&(z[q+6]<<8|z[q+5]),we.Ud=z[q+6]>>6,q+=7,de-=7,b.za=we.c+15>>4,b.Ub=we.i+15>>4,_.width=we.c,_.height=we.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((me=b.Pa).jb,0,255,me.jb.length),e((me=b.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,a(me.Zb,0,0,me.Zb.length),a(me.Lb,0,0,me.Lb)}if(pe.ub>de)return jn(b,7,"bad partition length");ie(me=b.m,z,q,pe.ub),q+=pe.ub,de-=pe.ub,pe.Rb&&(we.Ld=ve(me),we.Kd=ve(me)),we=b.Qa;var Be,Ie=b.Pa;if(e(me!=null),e(we!=null),we.Cb=ve(me),we.Cb){if(we.Bb=ve(me),ve(me)){for(we.Fb=ve(me),Be=0;4>Be;++Be)we.Zb[Be]=ve(me)?X(me,7):0;for(Be=0;4>Be;++Be)we.Lb[Be]=ve(me)?X(me,6):0}if(we.Bb)for(Be=0;3>Be;++Be)Ie.jb[Be]=ve(me)?le(me,8):255}else we.Bb=0;if(me.Ka)return jn(b,3,"cannot parse segment header");if((we=b.ed).zd=ve(me),we.Tb=le(me,6),we.wb=le(me,3),we.Pc=ve(me),we.Pc&&ve(me)){for(Ie=0;4>Ie;++Ie)ve(me)&&(we.vd[Ie]=X(me,6));for(Ie=0;4>Ie;++Ie)ve(me)&&(we.od[Ie]=X(me,6))}if(b.L=we.Tb==0?0:we.zd?1:2,me.Ka)return jn(b,3,"cannot parse filter header");var Oe=de;if(de=Be=q,q=Be+Oe,we=Oe,b.Xb=(1<<le(b.m,2))-1,Oe<3*(Ie=b.Xb))z=7;else{for(Be+=3*Ie,we-=3*Ie,Oe=0;Oe<Ie;++Oe){var st=z[de+0]|z[de+1]<<8|z[de+2]<<16;st>we&&(st=we),ie(b.Jc[+Oe],z,Be,st),Be+=st,we-=st,de+=3}ie(b.Jc[+Ie],z,Be,we),z=Be<q?0:5}if(z!=0)return jn(b,z,"cannot parse partitions");for(z=le(Be=b.m,7),de=ve(Be)?X(Be,4):0,q=ve(Be)?X(Be,4):0,we=ve(Be)?X(Be,4):0,Ie=ve(Be)?X(Be,4):0,Be=ve(Be)?X(Be,4):0,Oe=b.Qa,st=0;4>st;++st){if(Oe.Cb){var Te=Oe.Zb[st];Oe.Fb||(Te+=z)}else{if(0<st){b.pb[st]=b.pb[0];continue}Te=z}var Ke=b.pb[st];Ke.Sc[0]=zo[pa(Te+de,127)],Ke.Sc[1]=Zi[pa(Te+0,127)],Ke.Eb[0]=2*zo[pa(Te+q,127)],Ke.Eb[1]=101581*Zi[pa(Te+we,127)]>>16,8>Ke.Eb[1]&&(Ke.Eb[1]=8),Ke.Qc[0]=zo[pa(Te+Ie,117)],Ke.Qc[1]=Zi[pa(Te+Be,127)],Ke.lc=Te+Be}if(!pe.Rb)return jn(b,4,"Not a key frame.");for(ve(me),pe=b.Pa,z=0;4>z;++z){for(de=0;8>de;++de)for(q=0;3>q;++q)for(we=0;11>we;++we)Ie=_e(me,Qr[z][de][q][we])?le(me,8):pf[z][de][q][we],pe.Wc[z][de].Yb[q][we]=Ie;for(de=0;17>de;++de)pe.Xc[z][de]=pe.Wc[z][Dn[de]]}return b.kc=ve(me),b.kc&&(b.Bd=le(me,8)),b.cb=1}function xn(b,_,z,q,de,me,pe){var we=_[de].Yb[z];for(z=0;16>de;++de){if(!_e(b,we[z+0]))return de;for(;!_e(b,we[z+1]);)if(we=_[++de].Yb[0],z=0,de==16)return 16;var Be=_[de+1].Yb;if(_e(b,we[z+2])){var Ie=b,Oe=0;if(_e(Ie,(Te=we)[(st=z)+3]))if(_e(Ie,Te[st+6])){for(we=0,st=2*(Oe=_e(Ie,Te[st+8]))+(Te=_e(Ie,Te[st+9+Oe])),Oe=0,Te=mf[st];Te[we];++we)Oe+=Oe+_e(Ie,Te[we]);Oe+=3+(8<<st)}else _e(Ie,Te[st+7])?(Oe=7+2*_e(Ie,165),Oe+=_e(Ie,145)):Oe=5+_e(Ie,159);else Oe=_e(Ie,Te[st+4])?3+_e(Ie,Te[st+5]):2;we=Be[2]}else Oe=1,we=Be[1];Be=pe+ch[de],0>(Ie=b).b&&je(Ie);var st,Te=Ie.b,Ke=(st=Ie.Ca>>1)-(Ie.I>>Te)>>31;--Ie.b,Ie.Ca+=Ke,Ie.Ca|=1,Ie.I-=(st+1&Ke)<<Te,me[Be]=((Oe^Ke)-Ke)*q[(0<de)+0]}return 16}function fi(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function En(b,_,z,q,de){de=b[_+z+32*q]+(de>>3),b[_+z+32*q]=-256&de?0>de?0:255:de}function Ne(b,_,z,q,de,me){En(b,_,0,z,q+de),En(b,_,1,z,q+me),En(b,_,2,z,q-me),En(b,_,3,z,q-de)}function nt(b){return(20091*b>>16)+b}function Tt(b,_,z,q){var de,me=0,pe=o(16);for(de=0;4>de;++de){var we=b[_+0]+b[_+8],Be=b[_+0]-b[_+8],Ie=(35468*b[_+4]>>16)-nt(b[_+12]),Oe=nt(b[_+4])+(35468*b[_+12]>>16);pe[me+0]=we+Oe,pe[me+1]=Be+Ie,pe[me+2]=Be-Ie,pe[me+3]=we-Oe,me+=4,_++}for(de=me=0;4>de;++de)we=(b=pe[me+0]+4)+pe[me+8],Be=b-pe[me+8],Ie=(35468*pe[me+4]>>16)-nt(pe[me+12]),En(z,q,0,0,we+(Oe=nt(pe[me+4])+(35468*pe[me+12]>>16))),En(z,q,1,0,Be+Ie),En(z,q,2,0,Be-Ie),En(z,q,3,0,we-Oe),me++,q+=32}function zt(b,_,z,q){var de=b[_+0]+4,me=35468*b[_+4]>>16,pe=nt(b[_+4]),we=35468*b[_+1]>>16;Ne(z,q,0,de+pe,b=nt(b[_+1]),we),Ne(z,q,1,de+me,b,we),Ne(z,q,2,de-me,b,we),Ne(z,q,3,de-pe,b,we)}function vs(b,_,z,q,de){Tt(b,_,z,q),de&&Tt(b,_+16,z,q+4)}function cs(b,_,z,q){Wl(b,_+0,z,q,1),Wl(b,_+32,z,q+128,1)}function Vs(b,_,z,q){var de;for(b=b[_+0]+4,de=0;4>de;++de)for(_=0;4>_;++_)En(z,q,_,de,b)}function sn(b,_,z,q){b[_+0]&&tr(b,_+0,z,q),b[_+16]&&tr(b,_+16,z,q+4),b[_+32]&&tr(b,_+32,z,q+128),b[_+48]&&tr(b,_+48,z,q+128+4)}function It(b,_,z,q){var de,me=o(16);for(de=0;4>de;++de){var pe=b[_+0+de]+b[_+12+de],we=b[_+4+de]+b[_+8+de],Be=b[_+4+de]-b[_+8+de],Ie=b[_+0+de]-b[_+12+de];me[0+de]=pe+we,me[8+de]=pe-we,me[4+de]=Ie+Be,me[12+de]=Ie-Be}for(de=0;4>de;++de)pe=(b=me[0+4*de]+3)+me[3+4*de],we=me[1+4*de]+me[2+4*de],Be=me[1+4*de]-me[2+4*de],Ie=b-me[3+4*de],z[q+0]=pe+we>>3,z[q+16]=Ie+Be>>3,z[q+32]=pe-we>>3,z[q+48]=Ie-Be>>3,q+=64}function Js(b,_,z){var q,de=_-32,me=Ui,pe=255-b[de-1];for(q=0;q<z;++q){var we,Be=me,Ie=pe+b[_-1];for(we=0;we<z;++we)b[_+we]=Be[Ie+b[de+we]];_+=32}}function Zs(b,_){Js(b,_,4)}function on(b,_){Js(b,_,8)}function qn(b,_){Js(b,_,16)}function dr(b,_){var z;for(z=0;16>z;++z)n(b,_+32*z,b,_-32,16)}function xr(b,_){var z;for(z=16;0<z;--z)a(b,_,b[_-1],16),_+=32}function Ln(b,_,z){var q;for(q=0;16>q;++q)a(_,z+32*q,b,16)}function Ur(b,_){var z,q=16;for(z=0;16>z;++z)q+=b[_-1+32*z]+b[_+z-32];Ln(q>>5,b,_)}function ga(b,_){var z,q=8;for(z=0;16>z;++z)q+=b[_-1+32*z];Ln(q>>4,b,_)}function Dr(b,_){var z,q=8;for(z=0;16>z;++z)q+=b[_+z-32];Ln(q>>4,b,_)}function Wa(b,_){Ln(128,b,_)}function _s(b,_,z){return b+2*_+z+2>>2}function ul(b,_){var z,q=_-32;for(q=new Uint8Array([_s(b[q-1],b[q+0],b[q+1]),_s(b[q+0],b[q+1],b[q+2]),_s(b[q+1],b[q+2],b[q+3]),_s(b[q+2],b[q+3],b[q+4])]),z=0;4>z;++z)n(b,_+32*z,q,0,q.length)}function Fo(b,_){var z=b[_-1],q=b[_-1+32],de=b[_-1+64],me=b[_-1+96];ke(b,_+0,16843009*_s(b[_-1-32],z,q)),ke(b,_+32,16843009*_s(z,q,de)),ke(b,_+64,16843009*_s(q,de,me)),ke(b,_+96,16843009*_s(de,me,me))}function Uo(b,_){var z,q=4;for(z=0;4>z;++z)q+=b[_+z-32]+b[_-1+32*z];for(q>>=3,z=0;4>z;++z)a(b,_+32*z,q,4)}function Xr(b,_){var z=b[_-1+0],q=b[_-1+32],de=b[_-1+64],me=b[_-1-32],pe=b[_+0-32],we=b[_+1-32],Be=b[_+2-32],Ie=b[_+3-32];b[_+0+96]=_s(q,de,b[_-1+96]),b[_+1+96]=b[_+0+64]=_s(z,q,de),b[_+2+96]=b[_+1+64]=b[_+0+32]=_s(me,z,q),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=_s(pe,me,z),b[_+3+64]=b[_+2+32]=b[_+1+0]=_s(we,pe,me),b[_+3+32]=b[_+2+0]=_s(Be,we,pe),b[_+3+0]=_s(Ie,Be,we)}function Jr(b,_){var z=b[_+1-32],q=b[_+2-32],de=b[_+3-32],me=b[_+4-32],pe=b[_+5-32],we=b[_+6-32],Be=b[_+7-32];b[_+0+0]=_s(b[_+0-32],z,q),b[_+1+0]=b[_+0+32]=_s(z,q,de),b[_+2+0]=b[_+1+32]=b[_+0+64]=_s(q,de,me),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=_s(de,me,pe),b[_+3+32]=b[_+2+64]=b[_+1+96]=_s(me,pe,we),b[_+3+64]=b[_+2+96]=_s(pe,we,Be),b[_+3+96]=_s(we,Be,Be)}function Ia(b,_){var z=b[_-1+0],q=b[_-1+32],de=b[_-1+64],me=b[_-1-32],pe=b[_+0-32],we=b[_+1-32],Be=b[_+2-32],Ie=b[_+3-32];b[_+0+0]=b[_+1+64]=me+pe+1>>1,b[_+1+0]=b[_+2+64]=pe+we+1>>1,b[_+2+0]=b[_+3+64]=we+Be+1>>1,b[_+3+0]=Be+Ie+1>>1,b[_+0+96]=_s(de,q,z),b[_+0+64]=_s(q,z,me),b[_+0+32]=b[_+1+96]=_s(z,me,pe),b[_+1+32]=b[_+2+96]=_s(me,pe,we),b[_+2+32]=b[_+3+96]=_s(pe,we,Be),b[_+3+32]=_s(we,Be,Ie)}function $n(b,_){var z=b[_+0-32],q=b[_+1-32],de=b[_+2-32],me=b[_+3-32],pe=b[_+4-32],we=b[_+5-32],Be=b[_+6-32],Ie=b[_+7-32];b[_+0+0]=z+q+1>>1,b[_+1+0]=b[_+0+64]=q+de+1>>1,b[_+2+0]=b[_+1+64]=de+me+1>>1,b[_+3+0]=b[_+2+64]=me+pe+1>>1,b[_+0+32]=_s(z,q,de),b[_+1+32]=b[_+0+96]=_s(q,de,me),b[_+2+32]=b[_+1+96]=_s(de,me,pe),b[_+3+32]=b[_+2+96]=_s(me,pe,we),b[_+3+64]=_s(pe,we,Be),b[_+3+96]=_s(we,Be,Ie)}function ni(b,_){var z=b[_-1+0],q=b[_-1+32],de=b[_-1+64],me=b[_-1+96];b[_+0+0]=z+q+1>>1,b[_+2+0]=b[_+0+32]=q+de+1>>1,b[_+2+32]=b[_+0+64]=de+me+1>>1,b[_+1+0]=_s(z,q,de),b[_+3+0]=b[_+1+32]=_s(q,de,me),b[_+3+32]=b[_+1+64]=_s(de,me,me),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=me}function Do(b,_){var z=b[_-1+0],q=b[_-1+32],de=b[_-1+64],me=b[_-1+96],pe=b[_-1-32],we=b[_+0-32],Be=b[_+1-32],Ie=b[_+2-32];b[_+0+0]=b[_+2+32]=z+pe+1>>1,b[_+0+32]=b[_+2+64]=q+z+1>>1,b[_+0+64]=b[_+2+96]=de+q+1>>1,b[_+0+96]=me+de+1>>1,b[_+3+0]=_s(we,Be,Ie),b[_+2+0]=_s(pe,we,Be),b[_+1+0]=b[_+3+32]=_s(z,pe,we),b[_+1+32]=b[_+3+64]=_s(q,z,pe),b[_+1+64]=b[_+3+96]=_s(de,q,z),b[_+1+96]=_s(me,de,q)}function Yi(b,_){var z;for(z=0;8>z;++z)n(b,_+32*z,b,_-32,8)}function Gl(b,_){var z;for(z=0;8>z;++z)a(b,_,b[_-1],8),_+=32}function xa(b,_,z){var q;for(q=0;8>q;++q)a(_,z+32*q,b,8)}function ri(b,_){var z,q=8;for(z=0;8>z;++z)q+=b[_+z-32]+b[_-1+32*z];xa(q>>4,b,_)}function Xa(b,_){var z,q=4;for(z=0;8>z;++z)q+=b[_+z-32];xa(q>>3,b,_)}function Rr(b,_){var z,q=4;for(z=0;8>z;++z)q+=b[_-1+32*z];xa(q>>3,b,_)}function Wi(b,_){xa(128,b,_)}function va(b,_,z){var q=b[_-z],de=b[_+0],me=3*(de-q)+Il[1020+b[_-2*z]-b[_+z]],pe=ru[112+(me+4>>3)];b[_-z]=Ui[255+q+ru[112+(me+3>>3)]],b[_+0]=Ui[255+de-pe]}function hr(b,_,z,q){var de=b[_+0],me=b[_+z];return xi[255+b[_-2*z]-b[_-z]]>q||xi[255+me-de]>q}function Ro(b,_,z,q){return 4*xi[255+b[_-z]-b[_+0]]+xi[255+b[_-2*z]-b[_+z]]<=q}function Ja(b,_,z,q,de){var me=b[_-3*z],pe=b[_-2*z],we=b[_-z],Be=b[_+0],Ie=b[_+z],Oe=b[_+2*z],st=b[_+3*z];return 4*xi[255+we-Be]+xi[255+pe-Ie]>q?0:xi[255+b[_-4*z]-me]<=de&&xi[255+me-pe]<=de&&xi[255+pe-we]<=de&&xi[255+st-Oe]<=de&&xi[255+Oe-Ie]<=de&&xi[255+Ie-Be]<=de}function Xi(b,_,z,q){var de=2*q+1;for(q=0;16>q;++q)Ro(b,_+q,z,de)&&va(b,_+q,z)}function _a(b,_,z,q){var de=2*q+1;for(q=0;16>q;++q)Ro(b,_+q*z,1,de)&&va(b,_+q*z,1)}function dl(b,_,z,q){var de;for(de=3;0<de;--de)Xi(b,_+=4*z,z,q)}function $l(b,_,z,q){var de;for(de=3;0<de;--de)_a(b,_+=4,z,q)}function Fa(b,_,z,q,de,me,pe,we){for(me=2*me+1;0<de--;){if(Ja(b,_,z,me,pe))if(hr(b,_,z,we))va(b,_,z);else{var Be=b,Ie=_,Oe=z,st=Be[Ie-2*Oe],Te=Be[Ie-Oe],Ke=Be[Ie+0],Ge=Be[Ie+Oe],bt=Be[Ie+2*Oe],et=27*(St=Il[1020+3*(Ke-Te)+Il[1020+st-Ge]])+63>>7,vt=18*St+63>>7,St=9*St+63>>7;Be[Ie-3*Oe]=Ui[255+Be[Ie-3*Oe]+St],Be[Ie-2*Oe]=Ui[255+st+vt],Be[Ie-Oe]=Ui[255+Te+et],Be[Ie+0]=Ui[255+Ke-et],Be[Ie+Oe]=Ui[255+Ge-vt],Be[Ie+2*Oe]=Ui[255+bt-St]}_+=q}}function mi(b,_,z,q,de,me,pe,we){for(me=2*me+1;0<de--;){if(Ja(b,_,z,me,pe))if(hr(b,_,z,we))va(b,_,z);else{var Be=b,Ie=_,Oe=z,st=Be[Ie-Oe],Te=Be[Ie+0],Ke=Be[Ie+Oe],Ge=ru[112+(4+(bt=3*(Te-st))>>3)],bt=ru[112+(bt+3>>3)],et=Ge+1>>1;Be[Ie-2*Oe]=Ui[255+Be[Ie-2*Oe]+et],Be[Ie-Oe]=Ui[255+st+bt],Be[Ie+0]=Ui[255+Te-Ge],Be[Ie+Oe]=Ui[255+Ke-et]}_+=q}}function Lo(b,_,z,q,de,me){Fa(b,_,z,1,16,q,de,me)}function Ti(b,_,z,q,de,me){Fa(b,_,1,z,16,q,de,me)}function ya(b,_,z,q,de,me){var pe;for(pe=3;0<pe;--pe)mi(b,_+=4*z,z,1,16,q,de,me)}function P(b,_,z,q,de,me){var pe;for(pe=3;0<pe;--pe)mi(b,_+=4,1,z,16,q,de,me)}function ce(b,_,z,q,de,me,pe,we){Fa(b,_,de,1,8,me,pe,we),Fa(z,q,de,1,8,me,pe,we)}function Ee(b,_,z,q,de,me,pe,we){Fa(b,_,1,de,8,me,pe,we),Fa(z,q,1,de,8,me,pe,we)}function Ue(b,_,z,q,de,me,pe,we){mi(b,_+4*de,de,1,8,me,pe,we),mi(z,q+4*de,de,1,8,me,pe,we)}function ze(b,_,z,q,de,me,pe,we){mi(b,_+4,1,de,8,me,pe,we),mi(z,q+4,1,de,8,me,pe,we)}function yt(){this.ba=new it,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ut(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qe(){this.ua=0,this.Wa=new Kt,this.vb=new Kt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ae,this.yc=new G}function Lt(){this.xb=this.a=0,this.l=new oa,this.ca=new it,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ee,this.Pb=0,this.wd=new ee,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qe,this.ab=0,this.gc=A(4,xs),this.Oc=0}function kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function us(b,_,z,q,de,me,pe){for(b=b==null?0:b[_+0],_=0;_<pe;++_)de[me+_]=b+z[q+_]&255,b=de[me+_]}function ws(b,_,z,q,de,me,pe){var we;if(b==null)us(null,null,z,q,de,me,pe);else for(we=0;we<pe;++we)de[me+we]=b[_+we]+z[q+we]&255}function $t(b,_,z,q,de,me,pe){if(b==null)us(null,null,z,q,de,me,pe);else{var we,Be=b[_+0],Ie=Be,Oe=Be;for(we=0;we<pe;++we)Ie=Oe+(Be=b[_+we])-Ie,Oe=z[q+we]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Be,de[me+we]=Oe}}function y(b,_,z,q){var de=_.width,me=_.o;if(e(b!=null&&_!=null),0>z||0>=q||z+q>me)return null;if(!b.Cc){if(b.ga==null){var pe;if(b.ga=new kt,(pe=b.ga==null)||(pe=_.width*_.o,e(b.Gb.length==0),b.Gb=o(pe),b.Uc=0,b.Gb==null?pe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,pe=1),pe=!pe),!pe){pe=b.ga;var we=b.Fa,Be=b.P,Ie=b.qc,Oe=b.mb,st=b.nb,Te=Be+1,Ke=Ie-1,Ge=pe.l;if(e(we!=null&&Oe!=null&&_!=null),_l[0]=null,_l[1]=us,_l[2]=ws,_l[3]=$t,pe.ca=Oe,pe.tb=st,pe.c=_.width,pe.i=_.height,e(0<pe.c&&0<pe.i),1>=Ie)_=0;else if(pe.$a=3&we[Be+0],pe.Z=we[Be+0]>>2&3,pe.Lc=we[Be+0]>>4&3,Be=we[Be+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||Be)_=0;else if(Ge.put=as,Ge.ac=zs,Ge.bc=Vn,Ge.ma=pe,Ge.width=_.width,Ge.height=_.height,Ge.Da=_.Da,Ge.v=_.v,Ge.va=_.va,Ge.j=_.j,Ge.o=_.o,pe.$a)e:{e(pe.$a==1),_=Ci();t:for(;;){if(_==null){_=0;break e}if(e(pe!=null),pe.mc=_,_.c=pe.c,_.i=pe.i,_.l=pe.l,_.l.ma=pe,_.l.width=pe.c,_.l.height=pe.i,_.a=0,ne(_.m,we,Te,Ke),!ma(pe.c,pe.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&fs(_.s)?(pe.ic=1,we=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(we),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(pe.ic=0,_=_r(_,pe.c)),!_))break t;_=1;break e}pe.mc=null,_=0}else _=Ke>=pe.c*pe.i;pe=!_}if(pe)return null;b.ga.Lc!=1?b.Ga=0:q=me-z}e(b.ga!=null),e(z+q<=me);e:{if(_=(we=b.ga).c,me=we.l.o,we.$a==0){if(Te=b.rc,Ke=b.Vc,Ge=b.Fa,Be=b.P+1+z*_,Ie=b.mb,Oe=b.nb+z*_,e(Be<=b.P+b.qc),we.Z!=0)for(e(_l[we.Z]!=null),pe=0;pe<q;++pe)_l[we.Z](Te,Ke,Ge,Be,Ie,Oe,_),Te=Ie,Ke=Oe,Oe+=_,Be+=_;else for(pe=0;pe<q;++pe)n(Ie,Oe,Ge,Be,_),Te=Ie,Ke=Oe,Oe+=_,Be+=_;b.rc=Te,b.Vc=Ke}else{if(e(we.mc!=null),_=z+q,e((pe=we.mc)!=null),e(_<=pe.i),pe.C>=_)_=1;else if(we.ic||tt(),we.ic){we=pe.V,Te=pe.Ba,Ke=pe.c;var bt=pe.i,et=(Ge=1,Be=pe.$/Ke,Ie=pe.$%Ke,Oe=pe.m,st=pe.s,pe.$),vt=Ke*bt,St=Ke*_,Wt=st.wc,Dt=et<St?Cn(st,Ie,Be):null;e(et<=vt),e(_<=bt),e(fs(st));t:for(;;){for(;!Oe.h&&et<St;){if(Ie&Wt||(Dt=Cn(st,Ie,Be)),e(Dt!=null),ye(Oe),256>(bt=rs(Dt.G[0],Dt.H[0],Oe)))we[Te+et]=bt,++et,++Ie>=Ke&&(Ie=0,++Be<=_&&!(Be%16)&&zn(pe,Be));else{if(!(280>bt)){Ge=0;break t}bt=un(bt-256,Oe);var Cs,ys=rs(Dt.G[4],Dt.H[4],Oe);if(ye(Oe),!(et>=(ys=Kn(Ke,ys=un(ys,Oe)))&&vt-et>=bt)){Ge=0;break t}for(Cs=0;Cs<bt;++Cs)we[Te+et+Cs]=we[Te+et+Cs-ys];for(et+=bt,Ie+=bt;Ie>=Ke;)Ie-=Ke,++Be<=_&&!(Be%16)&&zn(pe,Be);et<St&&Ie&Wt&&(Dt=Cn(st,Ie,Be))}e(Oe.h==he(Oe))}zn(pe,Be>_?_:Be);break t}!Ge||Oe.h&&et<vt?(Ge=0,pe.a=Oe.h?5:3):pe.$=et,_=Ge}else _=fa(pe,pe.V,pe.Ba,pe.c,pe.i,_,hi);if(!_){q=0;break e}}z+q>=me&&(b.Cc=1),q=1}if(!q)return null;if(b.Cc&&((q=b.ga)!=null&&(q.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+z*de}function Y(b,_,z,q,de,me){for(;0<de--;){var pe,we=b,Be=_+(z?1:0),Ie=b,Oe=_+(z?0:3);for(pe=0;pe<q;++pe){var st=Ie[Oe+4*pe];st!=255&&(st*=32897,we[Be+4*pe+0]=we[Be+4*pe+0]*st>>23,we[Be+4*pe+1]=we[Be+4*pe+1]*st>>23,we[Be+4*pe+2]=we[Be+4*pe+2]*st>>23)}_+=me}}function se(b,_,z,q,de){for(;0<q--;){var me;for(me=0;me<z;++me){var pe=b[_+2*me+0],we=15&(Ie=b[_+2*me+1]),Be=4369*we,Ie=(240&Ie|Ie>>4)*Be>>16;b[_+2*me+0]=(240&pe|pe>>4)*Be>>16&240|(15&pe|pe<<4)*Be>>16>>4&15,b[_+2*me+1]=240&Ie|we}_+=de}}function be(b,_,z,q,de,me,pe,we){var Be,Ie,Oe=255;for(Ie=0;Ie<de;++Ie){for(Be=0;Be<q;++Be){var st=b[_+Be];me[pe+4*Be]=st,Oe&=st}_+=z,pe+=we}return Oe!=255}function We(b,_,z,q,de){var me;for(me=0;me<de;++me)z[q+me]=b[_+me]>>8}function tt(){fc=Y,po=se,xA=be,go=We}function Yt(b,_,z){R[b]=function(q,de,me,pe,we,Be,Ie,Oe,st,Te,Ke,Ge,bt,et,vt,St,Wt){var Dt,Cs=Wt-1>>1,ys=we[Be+0]|Ie[Oe+0]<<16,nn=st[Te+0]|Ke[Ge+0]<<16;e(q!=null);var Bs=3*ys+nn+131074>>2;for(_(q[de+0],255&Bs,Bs>>16,bt,et),me!=null&&(Bs=3*nn+ys+131074>>2,_(me[pe+0],255&Bs,Bs>>16,vt,St)),Dt=1;Dt<=Cs;++Dt){var _n=we[Be+Dt]|Ie[Oe+Dt]<<16,Or=st[Te+Dt]|Ke[Ge+Dt]<<16,hn=ys+_n+nn+Or+524296,pt=hn+2*(_n+nn)>>3;Bs=pt+ys>>1,ys=(hn=hn+2*(ys+Or)>>3)+_n>>1,_(q[de+2*Dt-1],255&Bs,Bs>>16,bt,et+(2*Dt-1)*z),_(q[de+2*Dt-0],255&ys,ys>>16,bt,et+(2*Dt-0)*z),me!=null&&(Bs=hn+nn>>1,ys=pt+Or>>1,_(me[pe+2*Dt-1],255&Bs,Bs>>16,vt,St+(2*Dt-1)*z),_(me[pe+2*Dt+0],255&ys,ys>>16,vt,St+(2*Dt+0)*z)),ys=_n,nn=Or}1&Wt||(Bs=3*ys+nn+131074>>2,_(q[de+Wt-1],255&Bs,Bs>>16,bt,et+(Wt-1)*z),me!=null&&(Bs=3*nn+ys+131074>>2,_(me[pe+Wt-1],255&Bs,Bs>>16,vt,St+(Wt-1)*z)))}}function Ds(){yi[Hu]=Yc,yi[Di]=ql,yi[Xl]=ou,yi[Mo]=Gu,yi[au]=vc,yi[Jl]=Fl,yi[mc]=yc,yi[iu]=ql,yi[Vu]=Gu,yi[vA]=vc,yi[Gc]=Fl}function In(b){return b&-16384?0>b?0:255:b>>$u}function ln(b,_){return In((19077*b>>8)+(26149*_>>8)-14234)}function Qn(b,_,z){return In((19077*b>>8)-(6419*_>>8)-(13320*z>>8)+8708)}function ba(b,_){return In((19077*b>>8)+(33050*_>>8)-17685)}function wa(b,_,z,q,de){q[de+0]=ln(b,z),q[de+1]=Qn(b,_,z),q[de+2]=ba(b,_)}function Zn(b,_,z,q,de){q[de+0]=ba(b,_),q[de+1]=Qn(b,_,z),q[de+2]=ln(b,z)}function cn(b,_,z,q,de){var me=Qn(b,_,z);_=me<<3&224|ba(b,_)>>3,q[de+0]=248&ln(b,z)|me>>5,q[de+1]=_}function mo(b,_,z,q,de){var me=240&ba(b,_)|15;q[de+0]=240&ln(b,z)|Qn(b,_,z)>>4,q[de+1]=me}function Qo(b,_,z,q,de){q[de+0]=255,wa(b,_,z,q,de+1)}function hl(b,_,z,q,de){Zn(b,_,z,q,de),q[de+3]=255}function Ua(b,_,z,q,de){wa(b,_,z,q,de),q[de+3]=255}function ai(b,_,z){R[b]=function(q,de,me,pe,we,Be,Ie,Oe,st){for(var Te=Oe+(-2&st)*z;Oe!=Te;)_(q[de+0],me[pe+0],we[Be+0],Ie,Oe),_(q[de+1],me[pe+0],we[Be+0],Ie,Oe+z),de+=2,++pe,++Be,Oe+=2*z;1&st&&_(q[de+0],me[pe+0],we[Be+0],Ie,Oe)}}function gA(b,_,z){return z==0?b==0?_==0?6:5:_==0?4:0:z}function Oo(b,_,z,q,de){switch(b>>>30){case 3:Wl(_,z,q,de,0);break;case 2:Fi(_,z,q,de);break;case 1:tr(_,z,q,de)}}function er(b,_){var z,q,de=_.M,me=_.Nb,pe=b.oc,we=b.pc+40,Be=b.oc,Ie=b.pc+584,Oe=b.oc,st=b.pc+600;for(z=0;16>z;++z)pe[we+32*z-1]=129;for(z=0;8>z;++z)Be[Ie+32*z-1]=129,Oe[st+32*z-1]=129;for(0<de?pe[we-1-32]=Be[Ie-1-32]=Oe[st-1-32]=129:(a(pe,we-32-1,127,21),a(Be,Ie-32-1,127,9),a(Oe,st-32-1,127,9)),q=0;q<b.za;++q){var Te=_.ya[_.aa+q];if(0<q){for(z=-1;16>z;++z)n(pe,we+32*z-4,pe,we+32*z+12,4);for(z=-1;8>z;++z)n(Be,Ie+32*z-4,Be,Ie+32*z+4,4),n(Oe,st+32*z-4,Oe,st+32*z+4,4)}var Ke=b.Gd,Ge=b.Hd+q,bt=Te.ad,et=Te.Hc;if(0<de&&(n(pe,we-32,Ke[Ge].y,0,16),n(Be,Ie-32,Ke[Ge].f,0,8),n(Oe,st-32,Ke[Ge].ea,0,8)),Te.Za){var vt=pe,St=we-32+16;for(0<de&&(q>=b.za-1?a(vt,St,Ke[Ge].y[15],4):n(vt,St,Ke[Ge+1].y,0,4)),z=0;4>z;z++)vt[St+128+z]=vt[St+256+z]=vt[St+384+z]=vt[St+0+z];for(z=0;16>z;++z,et<<=2)vt=pe,St=we+Ba[z],ca[Te.Ob[z]](vt,St),Oo(et,bt,16*+z,vt,St)}else if(vt=gA(q,de,Te.Ob[0]),eo[vt](pe,we),et!=0)for(z=0;16>z;++z,et<<=2)Oo(et,bt,16*+z,pe,we+Ba[z]);for(z=Te.Gc,vt=gA(q,de,Te.Dd),lo[vt](Be,Ie),lo[vt](Oe,st),et=bt,vt=Be,St=Ie,255&(Te=0|z)&&(170&Te?qi(et,256,vt,St):Yn(et,256,vt,St)),Te=Oe,et=st,255&(z>>=8)&&(170&z?qi(bt,320,Te,et):Yn(bt,320,Te,et)),de<b.Ub-1&&(n(Ke[Ge].y,0,pe,we+480,16),n(Ke[Ge].f,0,Be,Ie+224,8),n(Ke[Ge].ea,0,Oe,st+224,8)),z=8*me*b.B,Ke=b.sa,Ge=b.ta+16*q+16*me*b.R,bt=b.qa,Te=b.ra+8*q+z,et=b.Ha,vt=b.Ia+8*q+z,z=0;16>z;++z)n(Ke,Ge+z*b.R,pe,we+32*z,16);for(z=0;8>z;++z)n(bt,Te+z*b.B,Be,Ie+32*z,8),n(et,vt+z*b.B,Oe,st+32*z,8)}}function ko(b,_,z,q,de,me,pe,we,Be){var Ie=[0],Oe=[0],st=0,Te=Be!=null?Be.kd:0,Ke=Be??new Ut;if(b==null||12>z)return 7;Ke.data=b,Ke.w=_,Ke.ha=z,_=[_],z=[z],Ke.gb=[Ke.gb];e:{var Ge=_,bt=z,et=Ke.gb;if(e(b!=null),e(bt!=null),e(et!=null),et[0]=0,12<=bt[0]&&!t(b,Ge[0],"RIFF")){if(t(b,Ge[0]+8,"WEBP")){et=3;break e}var vt=at(b,Ge[0]+4);if(12>vt||4294967286<vt){et=3;break e}if(Te&&vt>bt[0]-8){et=7;break e}et[0]=vt,Ge[0]+=12,bt[0]-=12}et=0}if(et!=0)return et;for(vt=0<Ke.gb[0],z=z[0];;){e:{var St=b;bt=_,et=z;var Wt=Ie,Dt=Oe,Cs=Ge=[0];if((Bs=st=[st])[0]=0,8>et[0])et=7;else{if(!t(St,bt[0],"VP8X")){if(at(St,bt[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var ys=at(St,bt[0]+8),nn=1+Je(St,bt[0]+12);if(2147483648<=nn*(St=1+Je(St,bt[0]+15))){et=3;break e}Cs!=null&&(Cs[0]=ys),Wt!=null&&(Wt[0]=nn),Dt!=null&&(Dt[0]=St),bt[0]+=18,et[0]-=18,Bs[0]=1}et=0}}if(st=st[0],Ge=Ge[0],et!=0)return et;if(bt=!!(2&Ge),!vt&&st)return 3;if(me!=null&&(me[0]=!!(16&Ge)),pe!=null&&(pe[0]=bt),we!=null&&(we[0]=0),pe=Ie[0],Ge=Oe[0],st&&bt&&Be==null){et=0;break}if(4>z){et=7;break}if(vt&&st||!vt&&!st&&!t(b,_[0],"ALPH")){z=[z],Ke.na=[Ke.na],Ke.P=[Ke.P],Ke.Sa=[Ke.Sa];e:{ys=b,et=_,vt=z;var Bs=Ke.gb;Wt=Ke.na,Dt=Ke.P,Cs=Ke.Sa,nn=22,e(ys!=null),e(vt!=null),St=et[0];var _n=vt[0];for(e(Wt!=null),e(Cs!=null),Wt[0]=null,Dt[0]=null,Cs[0]=0;;){if(et[0]=St,vt[0]=_n,8>_n){et=7;break e}var Or=at(ys,St+4);if(4294967286<Or){et=3;break e}var hn=8+Or+1&-2;if(nn+=hn,0<Bs&&nn>Bs){et=3;break e}if(!t(ys,St,"VP8 ")||!t(ys,St,"VP8L")){et=0;break e}if(_n[0]<hn){et=7;break e}t(ys,St,"ALPH")||(Wt[0]=ys,Dt[0]=St+8,Cs[0]=Or),St+=hn,_n-=hn}}if(z=z[0],Ke.na=Ke.na[0],Ke.P=Ke.P[0],Ke.Sa=Ke.Sa[0],et!=0)break}z=[z],Ke.Ja=[Ke.Ja],Ke.xa=[Ke.xa];e:if(Bs=b,et=_,vt=z,Wt=Ke.gb[0],Dt=Ke.Ja,Cs=Ke.xa,ys=et[0],St=!t(Bs,ys,"VP8 "),nn=!t(Bs,ys,"VP8L"),e(Bs!=null),e(vt!=null),e(Dt!=null),e(Cs!=null),8>vt[0])et=7;else{if(St||nn){if(Bs=at(Bs,ys+4),12<=Wt&&Bs>Wt-12){et=3;break e}if(Te&&Bs>vt[0]-8){et=7;break e}Dt[0]=Bs,et[0]+=8,vt[0]-=8,Cs[0]=nn}else Cs[0]=5<=vt[0]&&Bs[ys+0]==47&&!(Bs[ys+4]>>5),Dt[0]=vt[0];et=0}if(z=z[0],Ke.Ja=Ke.Ja[0],Ke.xa=Ke.xa[0],_=_[0],et!=0)break;if(4294967286<Ke.Ja)return 3;if(we==null||bt||(we[0]=Ke.xa?2:1),pe=[pe],Ge=[Ge],Ke.xa){if(5>z){et=7;break}we=pe,Te=Ge,bt=me,b==null||5>z?b=0:5<=z&&b[_+0]==47&&!(b[_+4]>>5)?(vt=[0],Bs=[0],Wt=[0],ne(Dt=new ee,b,_,z),qs(Dt,vt,Bs,Wt)?(we!=null&&(we[0]=vt[0]),Te!=null&&(Te[0]=Bs[0]),bt!=null&&(bt[0]=Wt[0]),b=1):b=0):b=0}else{if(10>z){et=7;break}we=Ge,b==null||10>z||!Ei(b,_+3,z-3)?b=0:(Te=b[_+0]|b[_+1]<<8|b[_+2]<<16,bt=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ke.Ja||!bt||!b?b=0:(pe&&(pe[0]=bt),we&&(we[0]=b),b=1))}if(!b||(pe=pe[0],Ge=Ge[0],st&&(Ie[0]!=pe||Oe[0]!=Ge)))return 3;Be!=null&&(Be[0]=Ke,Be.offset=_-Be.w,e(4294967286>_-Be.w),e(Be.offset==Be.ha-z));break}return et==0||et==7&&st&&Be==null?(me!=null&&(me[0]|=Ke.na!=null&&0<Ke.na.length),q!=null&&(q[0]=pe),de!=null&&(de[0]=Ge),0):et}function Lr(b,_,z){var q=_.width,de=_.height,me=0,pe=0,we=q,Be=de;if(_.Da=b!=null&&0<b.Da,_.Da&&(we=b.cd,Be=b.bd,me=b.v,pe=b.j,11>z||(me&=-2,pe&=-2),0>me||0>pe||0>=we||0>=Be||me+we>q||pe+Be>de))return 0;if(_.v=me,_.j=pe,_.va=me+we,_.o=pe+Be,_.U=we,_.T=Be,_.da=b!=null&&0<b.da,_.da){if(!Pt(we,Be,z=[b.ib],me=[b.hb]))return 0;_.ib=z[0],_.hb=me[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*q/4&&_.hb<3*de/4,_.Kb=0),1}function Pc(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function ii(b,_,z,q){if(q==null||0>=b||0>=_)return 2;if(z!=null){if(z.Da){var de=z.cd,me=z.bd,pe=-2&z.v,we=-2&z.j;if(0>pe||0>we||0>=de||0>=me||pe+de>b||we+me>_)return 2;b=de,_=me}if(z.da){if(!Pt(b,_,de=[z.ib],me=[z.hb]))return 2;b=de[0],_=me[0]}}q.width=b,q.height=_;e:{var Be=q.width,Ie=q.height;if(b=q.S,0>=Be||0>=Ie||!(b>=Hu&&13>b))b=2;else{if(0>=q.Rd&&q.sd==null){pe=me=de=_=0;var Oe=(we=Be*Wu[b])*Ie;if(11>b||(me=(Ie+1)/2*(_=(Be+1)/2),b==12&&(pe=(de=Be)*Ie)),(Ie=o(Oe+2*me+pe))==null){b=1;break e}q.sd=Ie,11>b?((Be=q.f.RGBA).eb=Ie,Be.fb=0,Be.A=we,Be.size=Oe):((Be=q.f.kb).y=Ie,Be.O=0,Be.fa=we,Be.Fd=Oe,Be.f=Ie,Be.N=0+Oe,Be.Ab=_,Be.Cd=me,Be.ea=Ie,Be.W=0+Oe+me,Be.Db=_,Be.Ed=me,b==12&&(Be.F=Ie,Be.J=0+Oe+2*me),Be.Tc=pe,Be.lb=de)}if(_=1,de=q.S,me=q.width,pe=q.height,de>=Hu&&13>de)if(11>de)b=q.f.RGBA,_&=(we=Math.abs(b.A))*(pe-1)+me<=b.size,_&=we>=me*Wu[de],_&=b.eb!=null;else{b=q.f.kb,we=(me+1)/2,Oe=(pe+1)/2,Be=Math.abs(b.fa),Ie=Math.abs(b.Ab);var st=Math.abs(b.Db),Te=Math.abs(b.lb),Ke=Te*(pe-1)+me;_&=Be*(pe-1)+me<=b.Fd,_&=Ie*(Oe-1)+we<=b.Cd,_=(_&=st*(Oe-1)+we<=b.Ed)&Be>=me&Ie>=we&st>=we,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,de==12&&(_&=Te>=me,_&=Ke<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||z!=null&&z.fd&&(b=Pc(q)),b}var Po=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ii=24,fl=32,ml=8,Sl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(b){return b},R.Predictor2=function(b,_,z){return _[z+0]},R.Predictor3=function(b,_,z){return _[z+1]},R.Predictor4=function(b,_,z){return _[z-1]},R.Predictor5=function(b,_,z){return lt(lt(b,_[z+1]),_[z+0])},R.Predictor6=function(b,_,z){return lt(b,_[z-1])},R.Predictor7=function(b,_,z){return lt(b,_[z+0])},R.Predictor8=function(b,_,z){return lt(_[z-1],_[z+0])},R.Predictor9=function(b,_,z){return lt(_[z+0],_[z+1])},R.Predictor10=function(b,_,z){return lt(lt(b,_[z-1]),lt(_[z+0],_[z+1]))},R.Predictor11=function(b,_,z){var q=_[z+0];return 0>=Jt(q>>24&255,b>>24&255,(_=_[z-1])>>24&255)+Jt(q>>16&255,b>>16&255,_>>16&255)+Jt(q>>8&255,b>>8&255,_>>8&255)+Jt(255&q,255&b,255&_)?q:b},R.Predictor12=function(b,_,z){var q=_[z+0];return(xt((b>>24&255)+(q>>24&255)-((_=_[z-1])>>24&255))<<24|xt((b>>16&255)+(q>>16&255)-(_>>16&255))<<16|xt((b>>8&255)+(q>>8&255)-(_>>8&255))<<8|xt((255&b)+(255&q)-(255&_)))>>>0},R.Predictor13=function(b,_,z){var q=_[z-1];return(Et((b=lt(b,_[z+0]))>>24&255,q>>24&255)<<24|Et(b>>16&255,q>>16&255)<<16|Et(b>>8&255,q>>8&255)<<8|Et(255&b,255&q))>>>0};var Yl=R.PredictorAdd0;R.PredictorAdd1=Mt,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Mc=R.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var la,Ji=R.ColorIndexInverseTransform,pi=R.MapARGB,gi=R.VP8LColorIndexInverseTransformAlpha,On=R.MapAlpha,_i=R.VP8LPredictorsAdd=[];_i.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Hc,Vc,pl,Cl,El,gl,ja,Wl,Fi,qi,tr,Yn,Ir,ir,xl,vl,Kc,hc,ah,ih,oh,lh,Ou,ku,fc,po,xA,go,Tl=o(511),Pu=o(2041),nu=o(225),zc=o(767),Mu=0,Il=Pu,ru=nu,Ui=zc,xi=Tl,Hu=0,Di=1,Xl=2,Mo=3,au=4,Jl=5,mc=6,iu=7,Vu=8,vA=9,Gc=10,Ho=[2,3,7],yA=[3,3,11],$c=[280,256,256,256,40],Ku=[0,1,1,1,0],pc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ko=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gc=8,zo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xo=null,mf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ch=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Dn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eo=[],ca=[],lo=[],xc=1,Ah=2,_l=[],yi=[];Yt("UpsampleRgbLinePair",wa,3),Yt("UpsampleBgrLinePair",Zn,3),Yt("UpsampleRgbaLinePair",Ua,4),Yt("UpsampleBgraLinePair",hl,4),Yt("UpsampleArgbLinePair",Qo,4),Yt("UpsampleRgba4444LinePair",mo,2),Yt("UpsampleRgb565LinePair",cn,2);var Yc=R.UpsampleRgbLinePair,ou=R.UpsampleBgrLinePair,ql=R.UpsampleRgbaLinePair,Gu=R.UpsampleBgraLinePair,vc=R.UpsampleArgbLinePair,Fl=R.UpsampleRgba4444LinePair,yc=R.UpsampleRgb565LinePair,Go=16,bA=1<<Go-1,Ul=-227,bc=482,$u=6,wc=0,bi=o(256),Yu=o(256),gf=o(256),Om=o(256),km=o(bc-Ul),Pm=o(bc-Ul);ai("YuvToRgbRow",wa,3),ai("YuvToBgrRow",Zn,3),ai("YuvToRgbaRow",Ua,4),ai("YuvToBgraRow",hl,4),ai("YuvToArgbRow",Qo,4),ai("YuvToRgba4444Row",mo,2),ai("YuvToRgb565Row",cn,2);var Ba=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wA=[0,2,8],lu=[8,7,6,4,4,2,2,2,1,1,1,1],jA=1;this.WebPDecodeRGBA=function(b,_,z,q,de){var me=Di,pe=new yt,we=new it;pe.ba=we,we.S=me,we.width=[we.width],we.height=[we.height];var Be=we.width,Ie=we.height,Oe=new ct;if(Oe==null||b==null)var st=2;else e(Oe!=null),st=ko(b,_,z,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(st!=0?Be=0:(Be!=null&&(Be[0]=Oe.width[0]),Ie!=null&&(Ie[0]=Oe.height[0]),Be=1),Be){we.width=we.width[0],we.height=we.height[0],q!=null&&(q[0]=we.width),de!=null&&(de[0]=we.height);e:{if(q=new oa,(de=new Ut).data=b,de.w=_,de.ha=z,de.kd=1,_=[0],e(de!=null),((b=ko(de.data,de.w,de.ha,null,null,null,_,null,de))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(e(pe!=null),q.data=de.data,q.w=de.w+de.offset,q.ha=de.ha-de.offset,q.put=as,q.ac=zs,q.bc=Vn,q.ma=pe,de.xa){if((b=Ci())==null){pe=1;break e}if((function(Te,Ke){var Ge=[0],bt=[0],et=[0];t:for(;;){if(Te==null)return 0;if(Ke==null)return Te.a=2,0;if(Te.l=Ke,Te.a=0,ne(Te.m,Ke.data,Ke.w,Ke.ha),!qs(Te.m,Ge,bt,et)){Te.a=3;break t}if(Te.xb=Ah,Ke.width=Ge[0],Ke.height=bt[0],!ma(Ge[0],bt[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(b,q)){if(q=(_=ii(q.width,q.height,pe.Oa,pe.ba))==0){t:{q=b;s:for(;;){if(q==null){q=0;break t}if(e(q.s.yc!=null),e(q.s.Ya!=null),e(0<q.s.Wb),e((z=q.l)!=null),e((de=z.ma)!=null),q.xb!=0){if(q.ca=de.ba,q.tb=de.tb,e(q.ca!=null),!Lr(de.Oa,z,Mo)){q.a=2;break s}if(!_r(q,z.width)||z.da)break s;if((z.da||Zt(q.ca.S))&&tt(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&tt()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!ge(q.s.vb,q.s.Wa.Xa)){q.a=1;break s}q.xb=0}if(!fa(q,q.V,q.Ba,q.c,q.i,z.o,wn))break s;de.Dc=q.Ma,q=1;break t}e(q.a!=0),q=0}q=!q}q&&(_=b.a)}else _=b.a}else{if((b=new zr)==null){pe=1;break e}if(b.Fa=de.na,b.P=de.P,b.qc=de.Sa,Ya(b,q)){if((_=ii(q.width,q.height,pe.Oa,pe.ba))==0){if(b.Aa=0,z=pe.Oa,e((de=b)!=null),z!=null){if(0<(Be=0>(Be=z.Md)?0:100<Be?255:255*Be/100)){for(Ie=Oe=0;4>Ie;++Ie)12>(st=de.pb[Ie]).lc&&(st.ia=Be*lu[0>st.lc?0:st.lc]>>3),Oe|=st.ia;Oe&&(alert("todo:VP8InitRandom"),de.ia=1)}de.Ga=z.Id,100<de.Ga?de.Ga=100:0>de.Ga&&(de.Ga=0)}(function(Te,Ke){if(Te==null)return 0;if(Ke==null)return jn(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!Ya(Te,Ke))return 0;if(e(Te.cb),Ke.ac==null||Ke.ac(Ke)){Ke.ob&&(Te.L=0);var Ge=wA[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Ke.v-Ge>>4,Te.zb=Ke.j-Ge>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Ke.o+15+Ge>>4,Te.Hb=Ke.va+15+Ge>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var bt=Te.ed;for(Ge=0;4>Ge;++Ge){var et;if(Te.Qa.Cb){var vt=Te.Qa.Lb[Ge];Te.Qa.Fb||(vt+=bt.Tb)}else vt=bt.Tb;for(et=0;1>=et;++et){var St=Te.gd[Ge][et],Wt=vt;if(bt.Pc&&(Wt+=bt.vd[0],et&&(Wt+=bt.od[0])),0<(Wt=0>Wt?0:63<Wt?63:Wt)){var Dt=Wt;0<bt.wb&&(Dt=4<bt.wb?Dt>>2:Dt>>1)>9-bt.wb&&(Dt=9-bt.wb),1>Dt&&(Dt=1),St.dd=Dt,St.tc=2*Wt+Dt,St.ld=40<=Wt?2:15<=Wt?1:0}else St.tc=0;St.La=et}}}Ge=0}else jn(Te,6,"Frame setup failed"),Ge=Te.a;if(Ge=Ge==0){if(Ge){Te.$c=0,0<Te.Aa||(Te.Ic=jA);t:{Ge=Te.Ic,bt=4*(Dt=Te.za);var Cs=32*Dt,ys=Dt+1,nn=0<Te.L?Dt*(0<Te.Aa?2:1):0,Bs=(Te.Aa==2?2:1)*Dt;if((St=bt+832+(et=3*(16*Ge+wA[Te.L])/2*Cs)+(vt=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=St)Ge=0;else{if(St>Te.Vb){if(Te.Vb=0,Te.Ec=o(St),Te.Fc=0,Te.Ec==null){Ge=jn(Te,1,"no memory during frame initialization.");break t}Te.Vb=St}St=Te.Ec,Wt=Te.Fc,Te.Ac=St,Te.Bc=Wt,Wt+=bt,Te.Gd=A(Cs,Nl),Te.Hd=0,Te.rb=A(ys+1,Tr),Te.sb=1,Te.wa=nn?A(nn,ia):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=Dt),e(!0),Te.oc=St,Te.pc=Wt,Wt+=832,Te.ya=A(Bs,$a),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=Dt),Te.R=16*Dt,Te.B=8*Dt,Dt=(Cs=wA[Te.L])*Te.R,Cs=Cs/2*Te.B,Te.sa=St,Te.ta=Wt+Dt,Te.qa=Te.sa,Te.ra=Te.ta+16*Ge*Te.R+Cs,Te.Ha=Te.qa,Te.Ia=Te.ra+8*Ge*Te.B+Cs,Te.$c=0,Wt+=et,Te.mb=vt?St:null,Te.nb=vt?Wt:null,e(Wt+vt<=Te.Fc+Te.Vb),fi(Te),a(Te.Ac,Te.Bc,0,bt),Ge=1}}if(Ge){if(Ke.ka=0,Ke.y=Te.sa,Ke.O=Te.ta,Ke.f=Te.qa,Ke.N=Te.ra,Ke.ea=Te.Ha,Ke.Vd=Te.Ia,Ke.fa=Te.R,Ke.Rc=Te.B,Ke.F=null,Ke.J=0,!Mu){for(Ge=-255;255>=Ge;++Ge)Tl[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)Pu[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)nu[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)zc[255+Ge]=0>Ge?0:255<Ge?255:Ge;Mu=1}ja=It,Wl=vs,qi=cs,tr=Vs,Yn=sn,Fi=zt,Ir=Lo,ir=Ti,xl=ce,vl=Ee,Kc=ya,hc=P,ah=Ue,ih=ze,oh=Xi,lh=_a,Ou=dl,ku=$l,ca[0]=Uo,ca[1]=Zs,ca[2]=ul,ca[3]=Fo,ca[4]=Xr,ca[5]=Ia,ca[6]=Jr,ca[7]=$n,ca[8]=Do,ca[9]=ni,eo[0]=Ur,eo[1]=qn,eo[2]=dr,eo[3]=xr,eo[4]=ga,eo[5]=Dr,eo[6]=Wa,lo[0]=ri,lo[1]=on,lo[2]=Yi,lo[3]=Gl,lo[4]=Rr,lo[5]=Xa,lo[6]=Wi,Ge=1}else Ge=0}Ge&&(Ge=(function(_n,Or){for(_n.M=0;_n.M<_n.Va;++_n.M){var hn,pt=_n.Jc[_n.M&_n.Xb],ls=_n.m,qr=_n;for(hn=0;hn<qr.za;++hn){var Gs=ls,Ws=qr,fr=Ws.Ac,Da=Ws.Bc+4*hn,Na=Ws.zc,mr=Ws.ya[Ws.aa+hn];if(Ws.Qa.Bb?mr.$b=_e(Gs,Ws.Pa.jb[0])?2+_e(Gs,Ws.Pa.jb[2]):_e(Gs,Ws.Pa.jb[1]):mr.$b=0,Ws.kc&&(mr.Ad=_e(Gs,Ws.Bd)),mr.Za=!_e(Gs,145)+0,mr.Za){var Ra=mr.Ob,Ri=0;for(Ws=0;4>Ws;++Ws){var La,An=Na[0+Ws];for(La=0;4>La;++La){An=vi[fr[Da+La]][An];for(var kn=zu[_e(Gs,An[0])];0<kn;)kn=zu[2*kn+_e(Gs,An[kn])];An=-kn,fr[Da+La]=An}n(Ra,Ri,fr,Da,4),Ri+=4,Na[0+Ws]=An}}else An=_e(Gs,156)?_e(Gs,128)?1:3:_e(Gs,163)?2:0,mr.Ob[0]=An,a(fr,Da,An,4),a(Na,0,An,4);mr.Dd=_e(Gs,142)?_e(Gs,114)?_e(Gs,183)?1:3:2:0}if(qr.m.Ka)return jn(_n,7,"Premature end-of-partition0 encountered.");for(;_n.ja<_n.za;++_n.ja){if(qr=pt,Gs=(ls=_n).rb[ls.sb-1],fr=ls.rb[ls.sb+ls.ja],hn=ls.ya[ls.aa+ls.ja],Da=ls.kc?hn.Ad:0)Gs.la=fr.la=0,hn.Za||(Gs.Na=fr.Na=0),hn.Hc=0,hn.Gc=0,hn.ia=0;else{var kr,or;if(Gs=fr,fr=qr,Da=ls.Pa.Xc,Na=ls.ya[ls.aa+ls.ja],mr=ls.pb[Na.$b],Ws=Na.ad,Ra=0,Ri=ls.rb[ls.sb-1],An=La=0,a(Ws,Ra,0,384),Na.Za)var Qa=0,Zr=Da[3];else{kn=o(16);var Pn=Gs.Na+Ri.Na;if(Pn=xo(fr,Da[1],Pn,mr.Eb,0,kn,0),Gs.Na=Ri.Na=(0<Pn)+0,1<Pn)ja(kn,0,Ws,Ra);else{var Sa=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)Ws[Ra+kn]=Sa}Qa=1,Zr=Da[0]}var pr=15&Gs.la,Oa=15&Ri.la;for(kn=0;4>kn;++kn){var ka=1&Oa;for(Sa=or=0;4>Sa;++Sa)pr=pr>>1|(ka=(Pn=xo(fr,Zr,Pn=ka+(1&pr),mr.Sc,Qa,Ws,Ra))>Qa)<<7,or=or<<2|(3<Pn?3:1<Pn?2:Ws[Ra+0]!=0),Ra+=16;pr>>=4,Oa=Oa>>1|ka<<7,La=(La<<8|or)>>>0}for(Zr=pr,Qa=Oa>>4,kr=0;4>kr;kr+=2){for(or=0,pr=Gs.la>>4+kr,Oa=Ri.la>>4+kr,kn=0;2>kn;++kn){for(ka=1&Oa,Sa=0;2>Sa;++Sa)Pn=ka+(1&pr),pr=pr>>1|(ka=0<(Pn=xo(fr,Da[2],Pn,mr.Qc,0,Ws,Ra)))<<3,or=or<<2|(3<Pn?3:1<Pn?2:Ws[Ra+0]!=0),Ra+=16;pr>>=2,Oa=Oa>>1|ka<<5}An|=or<<4*kr,Zr|=pr<<4<<kr,Qa|=(240&Oa)<<kr}Gs.la=Zr,Ri.la=Qa,Na.Hc=La,Na.Gc=An,Na.ia=43690&An?0:mr.ia,Da=!(La|An)}if(0<ls.L&&(ls.wa[ls.Y+ls.ja]=ls.gd[hn.$b][hn.Za],ls.wa[ls.Y+ls.ja].La|=!Da),qr.Ka)return jn(_n,7,"Premature end-of-file encountered.")}if(fi(_n),ls=Or,qr=1,hn=(pt=_n).D,Gs=0<pt.L&&pt.M>=pt.zb&&pt.M<=pt.Va,pt.Aa==0)t:{if(hn.M=pt.M,hn.uc=Gs,er(pt,hn),qr=1,hn=(or=pt.D).Nb,Gs=(An=wA[pt.L])*pt.R,fr=An/2*pt.B,kn=16*hn*pt.R,Sa=8*hn*pt.B,Da=pt.sa,Na=pt.ta-Gs+kn,mr=pt.qa,Ws=pt.ra-fr+Sa,Ra=pt.Ha,Ri=pt.Ia-fr+Sa,Oa=(pr=or.M)==0,La=pr>=pt.Va-1,pt.Aa==2&&er(pt,or),or.uc)for(ka=(Pn=pt).D.M,e(Pn.D.uc),or=Pn.yb;or<Pn.Hb;++or){Qa=or,Zr=ka;var jr=(Wn=(ea=Pn).D).Nb;kr=ea.R;var Wn=Wn.wa[Wn.Y+Qa],Li=ea.sa,Aa=ea.ta+16*jr*kr+16*Qa,ks=Wn.dd,Ks=Wn.tc;if(Ks!=0)if(e(3<=Ks),ea.L==1)0<Qa&&lh(Li,Aa,kr,Ks+4),Wn.La&&ku(Li,Aa,kr,Ks),0<Zr&&oh(Li,Aa,kr,Ks+4),Wn.La&&Ou(Li,Aa,kr,Ks);else{var sr=ea.B,co=ea.qa,vo=ea.ra+8*jr*sr+8*Qa,to=ea.Ha,ea=ea.Ia+8*jr*sr+8*Qa;jr=Wn.ld,0<Qa&&(ir(Li,Aa,kr,Ks+4,ks,jr),vl(co,vo,to,ea,sr,Ks+4,ks,jr)),Wn.La&&(hc(Li,Aa,kr,Ks,ks,jr),ih(co,vo,to,ea,sr,Ks,ks,jr)),0<Zr&&(Ir(Li,Aa,kr,Ks+4,ks,jr),xl(co,vo,to,ea,sr,Ks+4,ks,jr)),Wn.La&&(Kc(Li,Aa,kr,Ks,ks,jr),ah(co,vo,to,ea,sr,Ks,ks,jr))}}if(pt.ia&&alert("todo:DitherRow"),ls.put!=null){if(or=16*pr,pr=16*(pr+1),Oa?(ls.y=pt.sa,ls.O=pt.ta+kn,ls.f=pt.qa,ls.N=pt.ra+Sa,ls.ea=pt.Ha,ls.W=pt.Ia+Sa):(or-=An,ls.y=Da,ls.O=Na,ls.f=mr,ls.N=Ws,ls.ea=Ra,ls.W=Ri),La||(pr-=An),pr>ls.o&&(pr=ls.o),ls.F=null,ls.J=null,pt.Fa!=null&&0<pt.Fa.length&&or<pr&&(ls.J=y(pt,ls,or,pr-or),ls.F=pt.mb,ls.F==null&&ls.F.length==0)){qr=jn(pt,3,"Could not decode alpha data.");break t}or<ls.j&&(An=ls.j-or,or=ls.j,e(!(1&An)),ls.O+=pt.R*An,ls.N+=pt.B*(An>>1),ls.W+=pt.B*(An>>1),ls.F!=null&&(ls.J+=ls.width*An)),or<pr&&(ls.O+=ls.v,ls.N+=ls.v>>1,ls.W+=ls.v>>1,ls.F!=null&&(ls.J+=ls.v),ls.ka=or-ls.j,ls.U=ls.va-ls.v,ls.T=pr-or,qr=ls.put(ls))}hn+1!=pt.Ic||La||(n(pt.sa,pt.ta-Gs,Da,Na+16*pt.R,Gs),n(pt.qa,pt.ra-fr,mr,Ws+8*pt.B,fr),n(pt.Ha,pt.Ia-fr,Ra,Ri+8*pt.B,fr))}if(!qr)return jn(_n,6,"Output aborted.")}return 1})(Te,Ke)),Ke.bc!=null&&Ke.bc(Ke),Ge&=1}return Ge?(Te.cb=0,Ge):0})(b,q)||(_=b.a)}}else _=b.a}_==0&&pe.Oa!=null&&pe.Oa.fd&&(_=Pc(pe.ba))}pe=_}me=pe!=0?null:11>me?we.f.RGBA.eb:we.f.kb.y}else me=null;return me};var Wu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(R,V){for(var O="",H=0;H<4;H++)O+=String.fromCharCode(R[V++]);return O}function c(R,V){return R[V+0]|R[V+1]<<8}function m(R,V){return(R[V+0]|R[V+1]<<8|R[V+2]<<16)>>>0}function x(R,V){return(R[V+0]|R[V+1]<<8|R[V+2]<<16|R[V+3]<<24)>>>0}new u;var g=[0],w=[0],E=[],B=new u,C=s,T=(function(R,V){var O={},H=0,G=!1,ae=0,Ae=0;if(O.frames=[],!(function(K,ee){for(var oe=0;oe<4;oe++)if(K[ee+oe]!="RIFF".charCodeAt(oe))return!0;return!1})(R,V)){for(x(R,V+=4),V+=8;V<R.length;){var ie=f(R,V),le=x(R,V+=4);V+=4;var X=le+(1&le);switch(ie){case"VP8 ":case"VP8L":O.frames[H]===void 0&&(O.frames[H]={}),(W=O.frames[H]).src_off=G?Ae:V-8,W.src_size=ae+le+8,H++,G&&(G=!1,ae=0,Ae=0);break;case"VP8X":(W=O.header={}).feature_flags=R[V];var ne=V+4;W.canvas_width=1+m(R,ne),ne+=3,W.canvas_height=1+m(R,ne),ne+=3;break;case"ALPH":G=!0,ae=X+8,Ae=V-8;break;case"ANIM":(W=O.header).bgcolor=x(R,V),ne=V+4,W.loop_count=c(R,ne),ne+=2;break;case"ANMF":var re,W;(W=O.frames[H]={}).offset_x=2*m(R,V),V+=3,W.offset_y=2*m(R,V),V+=3,W.width=1+m(R,V),V+=3,W.height=1+m(R,V),V+=3,W.duration=m(R,V),V+=3,re=R[V++],W.dispose=1&re,W.blend=re>>1&1}ie!="ANMF"&&(V+=X)}return O}})(C,0);T.response=C,T.rgbaoutput=!0,T.dataurl=!1;var F=T.header?T.header:null,L=T.frames?T.frames:null;if(F){F.loop_counter=F.loop_count,g=[F.canvas_height],w=[F.canvas_width];for(var k=0;k<L.length&&L[k].blend!=0;k++);}var M=L[0],Q=B.WebPDecodeRGBA(C,M.src_off,M.src_size,w,g);M.rgba=Q,M.imgwidth=w[0],M.imgheight=g[0];for(var D=0;D<w[0]*g[0]*4;D++)E[D]=Q[D];return this.width=w,this.height=g,this.data=E,this}(function(s){var e,t,n,a,o,A,h,u,f,c=function(K){return K=K||{},this.isStrokeTransparent=K.isStrokeTransparent||!1,this.strokeOpacity=K.strokeOpacity||1,this.strokeStyle=K.strokeStyle||"#000000",this.fillStyle=K.fillStyle||"#000000",this.isFillTransparent=K.isFillTransparent||!1,this.fillOpacity=K.fillOpacity||1,this.font=K.font||"10px sans-serif",this.textBaseline=K.textBaseline||"alphabetic",this.textAlign=K.textAlign||"left",this.lineWidth=K.lineWidth||1,this.lineJoin=K.lineJoin||"miter",this.lineCap=K.lineCap||"butt",this.path=K.path||[],this.transform=K.transform!==void 0?K.transform.clone():new u,this.globalCompositeOperation=K.globalCompositeOperation||"normal",this.globalAlpha=K.globalAlpha||1,this.clip_path=K.clip_path||[],this.currentPoint=K.currentPoint||new A,this.miterLimit=K.miterLimit||10,this.lastPoint=K.lastPoint||new A,this.lineDashOffset=K.lineDashOffset||0,this.lineDash=K.lineDash||[],this.margin=K.margin||[0,0,0,0],this.prevPageLastElemOffset=K.prevPageLastElemOffset||0,this.ignoreClearRect=typeof K.ignoreClearRect!="boolean"||K.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,A=this.internal.Point,h=this.internal.Rectangle,u=this.internal.Matrix,f=new c}]);var m=function(K){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ee=K;Object.defineProperty(this,"pdf",{get:function(){return ee}});var oe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return oe},set:function(ge){oe=!!ge}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(ge){he=!!ge}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(ge){isNaN(ge)||(ue=ge)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(ge){isNaN(ge)||(ye=ge)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ge){var ht;typeof ge=="number"?ht=[ge,ge,ge,ge]:((ht=new Array(4))[0]=ge[0],ht[1]=ge.length>=2?ge[1]:ht[0],ht[2]=ge.length>=3?ge[2]:ht[0],ht[3]=ge.length>=4?ge[3]:ht[1]),f.margin=ht}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(ge){je=ge}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(ge){ve=ge}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(ge){_e=ge}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ge){ge instanceof c&&(f=ge)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ge){f.path=ge}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ge){ke=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var ht;ht=x(ge),this.ctx.fillStyle=ht.style,this.ctx.isFillTransparent=ht.a===0,this.ctx.fillOpacity=ht.a,this.pdf.setFillColor(ht.r,ht.g,ht.b,{a:ht.a}),this.pdf.setTextColor(ht.r,ht.g,ht.b,{a:ht.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var ht=x(ge);this.ctx.strokeStyle=ht.style,this.ctx.isStrokeTransparent=ht.a===0,this.ctx.strokeOpacity=ht.a,ht.a===0?this.pdf.setDrawColor(255,255,255):(ht.a,this.pdf.setDrawColor(ht.r,ht.g,ht.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Me=null,Je=null,at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(ge){Me=null,Je=null,at=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var ht;if(this.ctx.font=ge,(ht=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ge))!==null){var Kt=ht[1];ht[2];var Pt=ht[3],Le=ht[4];ht[5];var jt=ht[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Ve==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var Fe=(function(At){var es,Gt,qt=[],dt=At.trim();if(dt==="")return j1;if(dt in aS)return[aS[dt]];for(;dt!=="";){switch(Gt=null,es=(dt=oS(dt)).charAt(0)){case'"':case"'":Gt=iV(dt.substring(1),es);break;default:Gt=oV(dt)}if(Gt===null||(qt.push(Gt[0]),(dt=oS(Gt[1]))!==""&&dt.charAt(0)!==","))return j1;dt=dt.replace(/^,/,"")}return qt})(jt);if(this.fontFaces){var lt=(function(At,es){var Gt=At.getFontList(),qt=JSON.stringify(Gt);if(Me===null||Je!==qt){var dt=(function(Ot){var Vt=[];return Object.keys(Ot).forEach(function(is){Ot[is].forEach(function(Zt){var Qe=null;switch(Zt){case"bold":Qe={family:is,weight:"bold"};break;case"italic":Qe={family:is,style:"italic"};break;case"bolditalic":Qe={family:is,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:is}}Qe!==null&&(Qe.ref={name:is,style:Zt},Vt.push(Qe))})}),Vt})(Gt);Me=(function(Ot){for(var Vt={},is=0;is<Ot.length;++is){var Zt=w1(Ot[is]),Qe=Zt.family,Ht=Zt.stretch,it=Zt.style,ct=Zt.weight;Vt[Qe]=Vt[Qe]||{},Vt[Qe][Ht]=Vt[Qe][Ht]||{},Vt[Qe][Ht][it]=Vt[Qe][Ht][it]||{},Vt[Qe][Ht][it][ct]=Zt}return Vt})(dt.concat(es)),Je=qt}return Me})(this.pdf,this.fontFaces),xt=Fe.map(function(At){return{family:At,stretch:"normal",weight:Pt,style:Kt}}),Et=(function(At,es,Gt){for(var qt=(Gt=Gt||{}).defaultFontFamily||"times",dt=Object.assign({},aV,Gt.genericFontFamilies||{}),Ot=null,Vt=null,is=0;is<es.length;++is)if(dt[(Ot=w1(es[is])).family]&&(Ot.family=dt[Ot.family]),At.hasOwnProperty(Ot.family)){Vt=At[Ot.family];break}if(!(Vt=Vt||At[qt]))throw new Error("Could not find a font-family for the rule '"+iS(Ot)+"' and default family '"+qt+"'.");if(Vt=(function(Zt,Qe){if(Qe[Zt])return Qe[Zt];var Ht=Fb[Zt],it=Ht<=Fb.normal?-1:1,ct=rS(Qe,FI,Ht,it);if(!ct)throw new Error("Could not find a matching font-stretch value for "+Zt);return ct})(Ot.stretch,Vt),Vt=(function(Zt,Qe){if(Qe[Zt])return Qe[Zt];for(var Ht=_I[Zt],it=0;it<Ht.length;++it)if(Qe[Ht[it]])return Qe[Ht[it]];throw new Error("Could not find a matching font-style for "+Zt)})(Ot.style,Vt),!(Vt=(function(Zt,Qe){if(Qe[Zt])return Qe[Zt];if(Zt===400&&Qe[500])return Qe[500];if(Zt===500&&Qe[400])return Qe[400];var Ht=rV[Zt],it=rS(Qe,UI,Ht,Zt<400?-1:1);if(!it)throw new Error("Could not find a matching font-weight for value "+Zt);return it})(Ot.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+iS(Ot)+"'.");return Vt})(lt,xt);this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var Jt="";(Pt==="bold"||parseInt(Pt,10)>=700||Kt==="bold")&&(Jt="bold"),Kt==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var Mt="",He={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<Fe.length;ft++){if(this.pdf.internal.getFont(Fe[ft],Jt,{noFallback:!0,disableWarning:!0})!==void 0){Mt=Fe[ft];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(Fe[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=Fe[ft],Jt="bold";else if(this.pdf.internal.getFont(Fe[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=Fe[ft],Jt="normal";break}}if(Mt===""){for(var Ye=0;Ye<Fe.length;Ye++)if(He[Fe[Ye]]){Mt=He[Fe[Ye]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};m.prototype.setLineDash=function(K){this.lineDash=K},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){L.call(this,"fill",!1)},m.prototype.stroke=function(){L.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(K,ee){if(isNaN(K)||isNaN(ee))throw ra.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var oe=this.ctx.transform.applyToPoint(new A(K,ee));this.path.push({type:"mt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new A(K,ee)},m.prototype.closePath=function(){var K=new A(0,0),ee=0;for(ee=this.path.length-1;ee!==-1;ee--)if(this.path[ee].type==="begin"&&Kr(this.path[ee+1])==="object"&&typeof this.path[ee+1].x=="number"){K=new A(this.path[ee+1].x,this.path[ee+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(K.x,K.y)},m.prototype.lineTo=function(K,ee){if(isNaN(K)||isNaN(ee))throw ra.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var oe=this.ctx.transform.applyToPoint(new A(K,ee));this.path.push({type:"lt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new A(oe.x,oe.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},m.prototype.quadraticCurveTo=function(K,ee,oe,he){if(isNaN(oe)||isNaN(he)||isNaN(K)||isNaN(ee))throw ra.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new A(oe,he)),ye=this.ctx.transform.applyToPoint(new A(K,ee));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new A(ue.x,ue.y)},m.prototype.bezierCurveTo=function(K,ee,oe,he,ue,ye){if(isNaN(ue)||isNaN(ye)||isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(he))throw ra.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new A(ue,ye)),ve=this.ctx.transform.applyToPoint(new A(K,ee)),_e=this.ctx.transform.applyToPoint(new A(oe,he));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:_e.x,y2:_e.y,x:je.x,y:je.y}),this.ctx.lastPoint=new A(je.x,je.y)},m.prototype.arc=function(K,ee,oe,he,ue,ye){if(isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(he)||isNaN(ue))throw ra.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new A(K,ee));K=je.x,ee=je.y;var ve=this.ctx.transform.applyToPoint(new A(0,oe)),_e=this.ctx.transform.applyToPoint(new A(0,0));oe=Math.sqrt(Math.pow(ve.x-_e.x,2)+Math.pow(ve.y-_e.y,2))}Math.abs(ue-he)>=2*Math.PI&&(he=0,ue=2*Math.PI),this.path.push({type:"arc",x:K,y:ee,radius:oe,startAngle:he,endAngle:ue,counterclockwise:ye})},m.prototype.arcTo=function(K,ee,oe,he,ue){throw new Error("arcTo not implemented.")},m.prototype.rect=function(K,ee,oe,he){if(isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(he))throw ra.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(K,ee),this.lineTo(K+oe,ee),this.lineTo(K+oe,ee+he),this.lineTo(K,ee+he),this.lineTo(K,ee),this.lineTo(K+oe,ee),this.lineTo(K,ee)},m.prototype.fillRect=function(K,ee,oe,he){if(isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(he))throw ra.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(K,ee,oe,he),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},m.prototype.strokeRect=function(K,ee,oe,he){if(isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(he))throw ra.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(K,ee,oe,he),this.stroke())},m.prototype.clearRect=function(K,ee,oe,he){if(isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(he))throw ra.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(K,ee,oe,he))},m.prototype.save=function(K){K=typeof K!="boolean"||K;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("q");if(this.pdf.setPage(ee),K){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},m.prototype.restore=function(K){K=typeof K!="boolean"||K;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("Q");this.pdf.setPage(ee),K&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(K){var ee,oe,he,ue;if(K.isCanvasGradient===!0&&(K=K.getColor()),!K)return{r:0,g:0,b:0,a:0,style:K};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(K))ee=0,oe=0,he=0,ue=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(K);if(ye!==null)ee=parseInt(ye[1]),oe=parseInt(ye[2]),he=parseInt(ye[3]),ue=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(K))!==null)ee=parseInt(ye[1]),oe=parseInt(ye[2]),he=parseInt(ye[3]),ue=parseFloat(ye[4]);else{if(ue=1,typeof K=="string"&&K.charAt(0)!=="#"){var je=new BI(K);K=je.ok?je.toHex():"#000000"}K.length===4?(ee=K.substring(1,2),ee+=ee,oe=K.substring(2,3),oe+=oe,he=K.substring(3,4),he+=he):(ee=K.substring(1,3),oe=K.substring(3,5),he=K.substring(5,7)),ee=parseInt(ee,16),oe=parseInt(oe,16),he=parseInt(he,16)}}return{r:ee,g:oe,b:he,a:ue,style:K}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(K,ee,oe,he){if(isNaN(ee)||isNaN(oe)||typeof K!="string")throw ra.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!g.call(this)){var ue=X(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;H.call(this,{text:K,x:ee,y:oe,scale:ye,angle:ue,align:this.textAlign,maxWidth:he})}},m.prototype.strokeText=function(K,ee,oe,he){if(isNaN(ee)||isNaN(oe)||typeof K!="string")throw ra.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){he=isNaN(he)?void 0:he;var ue=X(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;H.call(this,{text:K,x:ee,y:oe,scale:ye,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:he})}},m.prototype.measureText=function(K){if(typeof K!="string")throw ra.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ee=this.pdf,oe=this.pdf.internal.scaleFactor,he=ee.internal.getFontSize(),ue=ee.getStringUnitWidth(K)*he/ee.internal.scaleFactor;return new function(ye){var je=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this}({width:ue*=Math.round(96*oe/72*1e4)/1e4})},m.prototype.scale=function(K,ee){if(isNaN(K)||isNaN(ee))throw ra.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var oe=new u(K,0,0,ee,0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},m.prototype.rotate=function(K){if(isNaN(K))throw ra.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ee=new u(Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K),0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.translate=function(K,ee){if(isNaN(K)||isNaN(ee))throw ra.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var oe=new u(1,0,0,1,K,ee);this.ctx.transform=this.ctx.transform.multiply(oe)},m.prototype.transform=function(K,ee,oe,he,ue,ye){if(isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(he)||isNaN(ue)||isNaN(ye))throw ra.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new u(K,ee,oe,he,ue,ye);this.ctx.transform=this.ctx.transform.multiply(je)},m.prototype.setTransform=function(K,ee,oe,he,ue,ye){K=isNaN(K)?1:K,ee=isNaN(ee)?0:ee,oe=isNaN(oe)?0:oe,he=isNaN(he)?1:he,ue=isNaN(ue)?0:ue,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(K,ee,oe,he,ue,ye)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(K,ee,oe,he,ue,ye,je,ve,_e){var ke=this.pdf.getImageProperties(K),Me=1,Je=1,at=1,ge=1;he!==void 0&&ve!==void 0&&(at=ve/he,ge=_e/ue,Me=ke.width/he*ve/he,Je=ke.height/ue*_e/ue),ye===void 0&&(ye=ee,je=oe,ee=0,oe=0),he!==void 0&&ve===void 0&&(ve=he,_e=ue),he===void 0&&ve===void 0&&(ve=ke.width,_e=ke.height);var ht=this.ctx.transform.decompose(),Kt=X(ht.rotate.shx),Pt=new u,Le=(Pt=(Pt=(Pt=Pt.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new h(ye-ee*at,je-oe*ge,he*Me,ue*Je));if(this.autoPaging){for(var jt,Ve=B.call(this,Le),Fe=[],lt=0;lt<Ve.length;lt+=1)Fe.indexOf(Ve[lt])===-1&&Fe.push(Ve[lt]);F(Fe);for(var xt=Fe[0],Et=Fe[Fe.length-1],Jt=xt;Jt<Et+1;Jt++){this.pdf.setPage(Jt);var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Jt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Jt===1?0:ft+(Jt-2)*Ye;if(this.ctx.clip_path.length!==0){var es=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(jt,this.posX+this.margin[3],-At+He+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=es}var Gt=JSON.parse(JSON.stringify(Le));Gt=T([Gt],this.posX+this.margin[3],-At+He+this.ctx.prevPageLastElemOffset)[0];var qt=(Jt>xt||Jt<Et)&&E.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Ye,null).clip().discardPath()),this.pdf.addImage(K,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,Kt),qt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(K,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Kt)};var B=function(K,ee,oe){var he=[];ee=ee||this.pdf.internal.pageSize.width,oe=oe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(K.type){default:case"mt":case"lt":he.push(Math.floor((K.y+ue)/oe)+1);break;case"arc":he.push(Math.floor((K.y+ue-K.radius)/oe)+1),he.push(Math.floor((K.y+ue+K.radius)/oe)+1);break;case"qct":var ye=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x,K.y);he.push(Math.floor((ye.y+ue)/oe)+1),he.push(Math.floor((ye.y+ye.h+ue)/oe)+1);break;case"bct":var je=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x2,K.y2,K.x,K.y);he.push(Math.floor((je.y+ue)/oe)+1),he.push(Math.floor((je.y+je.h+ue)/oe)+1);break;case"rect":he.push(Math.floor((K.y+ue)/oe)+1),he.push(Math.floor((K.y+K.h+ue)/oe)+1)}for(var ve=0;ve<he.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<he[ve];)C.call(this);return he},C=function(){var K=this.fillStyle,ee=this.strokeStyle,oe=this.font,he=this.lineCap,ue=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=K,this.strokeStyle=ee,this.font=oe,this.lineCap=he,this.lineWidth=ue,this.lineJoin=ye},T=function(K,ee,oe){for(var he=0;he<K.length;he++)switch(K[he].type){case"bct":K[he].x2+=ee,K[he].y2+=oe;case"qct":K[he].x1+=ee,K[he].y1+=oe;default:K[he].x+=ee,K[he].y+=oe}return K},F=function(K){return K.sort(function(ee,oe){return ee-oe})},L=function(K,ee){var oe=this.fillStyle,he=this.strokeStyle,ue=this.lineCap,ye=this.lineWidth,je=Math.abs(ye*this.ctx.transform.scaleX),ve=this.lineJoin;if(this.autoPaging){for(var _e,ke,Me=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),at=[],ge=0;ge<Je.length;ge++)if(Je[ge].x!==void 0)for(var ht=B.call(this,Je[ge]),Kt=0;Kt<ht.length;Kt+=1)at.indexOf(ht[Kt])===-1&&at.push(ht[Kt]);for(var Pt=0;Pt<at.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<at[Pt];)C.call(this);F(at);for(var Le=at[0],jt=at[at.length-1],Ve=Le;Ve<jt+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=oe,this.strokeStyle=he,this.lineCap=ue,this.lineWidth=je,this.lineJoin=ve;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=Ve===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=Ve===1?0:xt+(Ve-2)*Et;if(this.ctx.clip_path.length!==0){var Mt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(_e,this.posX+this.margin[3],-Jt+lt+this.ctx.prevPageLastElemOffset),k.call(this,K,!0),this.path=Mt}if(ke=JSON.parse(JSON.stringify(Me)),this.path=T(ke,this.posX+this.margin[3],-Jt+lt+this.ctx.prevPageLastElemOffset),ee===!1||Ve===0){var He=(Ve>Le||Ve<jt)&&E.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Et,null).clip().discardPath()),k.call(this,K,ee),He&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=Me}else this.lineWidth=je,k.call(this,K,ee),this.lineWidth=ye},k=function(K,ee){if((K!=="stroke"||ee||!w.call(this))&&(K==="stroke"||ee||!g.call(this))){for(var oe,he,ue=[],ye=this.path,je=0;je<ye.length;je++){var ve=ye[je];switch(ve.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:ve,deltas:[],abs:[]});break;case"lt":var _e=ue.length;if(ye[je-1]&&!isNaN(ye[je-1].x)&&(oe=[ve.x-ye[je-1].x,ve.y-ye[je-1].y],_e>0)){for(;_e>=0;_e--)if(ue[_e-1].close!==!0&&ue[_e-1].begin!==!0){ue[_e-1].deltas.push(oe),ue[_e-1].abs.push(ve);break}}break;case"bct":oe=[ve.x1-ye[je-1].x,ve.y1-ye[je-1].y,ve.x2-ye[je-1].x,ve.y2-ye[je-1].y,ve.x-ye[je-1].x,ve.y-ye[je-1].y],ue[ue.length-1].deltas.push(oe);break;case"qct":var ke=ye[je-1].x+2/3*(ve.x1-ye[je-1].x),Me=ye[je-1].y+2/3*(ve.y1-ye[je-1].y),Je=ve.x+2/3*(ve.x1-ve.x),at=ve.y+2/3*(ve.y1-ve.y),ge=ve.x,ht=ve.y;oe=[ke-ye[je-1].x,Me-ye[je-1].y,Je-ye[je-1].x,at-ye[je-1].y,ge-ye[je-1].x,ht-ye[je-1].y],ue[ue.length-1].deltas.push(oe);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(ve)}}he=ee?null:K==="stroke"?"stroke":"fill";for(var Kt=!1,Pt=0;Pt<ue.length;Pt++)if(ue[Pt].arc)for(var Le=ue[Pt].abs,jt=0;jt<Le.length;jt++){var Ve=Le[jt];Ve.type==="arc"?D.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,ee,!Kt):G.call(this,Ve.x,Ve.y),Kt=!0}else if(ue[Pt].close===!0)this.pdf.internal.out("h"),Kt=!1;else if(ue[Pt].begin!==!0){var Fe=ue[Pt].start.x,lt=ue[Pt].start.y;ae.call(this,ue[Pt].deltas,Fe,lt),Kt=!0}he&&R.call(this,he),ee&&V.call(this)}},M=function(K){var ee=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,oe=ee*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return K-oe;case"top":return K+ee-oe;case"hanging":return K+ee-2*oe;case"middle":return K+ee/2-oe;default:return K}},Q=function(K){return K+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var K=function(){};return K.colorStops=[],K.addColorStop=function(ee,oe){this.colorStops.push([ee,oe])},K.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},K.isCanvasGradient=!0,K},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(K,ee,oe,he,ue,ye,je,ve,_e){for(var ke=ie.call(this,oe,he,ue,ye),Me=0;Me<ke.length;Me++){var Je=ke[Me];Me===0&&(_e?O.call(this,Je.x1+K,Je.y1+ee):G.call(this,Je.x1+K,Je.y1+ee)),Ae.call(this,K,ee,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}ve?V.call(this):R.call(this,je)},R=function(K){switch(K){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(K,ee){this.pdf.internal.out(t(K)+" "+n(ee)+" m")},H=function(K){var ee;switch(K.align){case"right":case"end":ee="right";break;case"center":ee="center";break;default:ee="left"}var oe,he,ue,ye=this.pdf.getTextDimensions(K.text),je=M.call(this,K.y),ve=Q.call(this,je)-ye.h,_e=this.ctx.transform.applyToPoint(new A(K.x,je));if(this.autoPaging){var ke=this.ctx.transform.decompose(),Me=new u;Me=(Me=(Me=Me.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Je=this.ctx.transform.applyToRectangle(new h(K.x,je,ye.w,ye.h)),at=Me.applyToRectangle(new h(K.x,ve,ye.w,ye.h)),ge=B.call(this,at),ht=[],Kt=0;Kt<ge.length;Kt+=1)ht.indexOf(ge[Kt])===-1&&ht.push(ge[Kt]);F(ht);for(var Pt=ht[0],Le=ht[ht.length-1],jt=Pt;jt<Le+1;jt++){this.pdf.setPage(jt);var Ve=jt===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[2],xt=lt-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],Jt=Et-this.margin[3],Mt=jt===1?0:Fe+(jt-2)*xt;if(this.ctx.clip_path.length!==0){var He=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(oe,this.posX+this.margin[3],-1*Mt+Ve),k.call(this,"fill",!0),this.path=He}var ft=T([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Mt+Ve+this.ctx.prevPageLastElemOffset)[0];K.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*K.scale),ue=this.lineWidth,this.lineWidth=ue*K.scale);var Ye=this.autoPaging!=="text";if(Ye||ft.y+ft.h<=lt){if(Ye||ft.y>=Ve&&ft.x<=Et){var At=Ye?K.text:this.pdf.splitTextToSize(K.text,K.maxWidth||Et-ft.x)[0],es=T([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Mt+Ve+this.ctx.prevPageLastElemOffset)[0],Gt=Ye&&(jt>Pt||jt<Le)&&E.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,xt,null).clip().discardPath()),this.pdf.text(At,es.x,es.y,{angle:K.angle,align:ee,renderingMode:K.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else ft.y<lt&&(this.ctx.prevPageLastElemOffset+=lt-ft.y);K.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=ue)}}else K.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*K.scale),ue=this.lineWidth,this.lineWidth=ue*K.scale),this.pdf.text(K.text,_e.x+this.posX,_e.y+this.posY,{angle:K.angle,align:ee,renderingMode:K.renderingMode,maxWidth:K.maxWidth}),K.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=ue)},G=function(K,ee,oe,he){oe=oe||0,he=he||0,this.pdf.internal.out(t(K+oe)+" "+n(ee+he)+" l")},ae=function(K,ee,oe){return this.pdf.lines(K,ee,oe,null,null)},Ae=function(K,ee,oe,he,ue,ye,je,ve){this.pdf.internal.out([e(a(oe+K)),e(o(he+ee)),e(a(ue+K)),e(o(ye+ee)),e(a(je+K)),e(o(ve+ee)),"c"].join(" "))},ie=function(K,ee,oe,he){for(var ue=2*Math.PI,ye=Math.PI/2;ee>oe;)ee-=ue;var je=Math.abs(oe-ee);je<ue&&he&&(je=ue-je);for(var ve=[],_e=he?-1:1,ke=ee;je>1e-5;){var Me=ke+_e*Math.min(je,ye);ve.push(le.call(this,K,ke,Me)),je-=Math.abs(Me-ke),ke=Me}return ve},le=function(K,ee,oe){var he=(oe-ee)/2,ue=K*Math.cos(he),ye=K*Math.sin(he),je=ue,ve=-ye,_e=je*je+ve*ve,ke=_e+je*ue+ve*ye,Me=4/3*(Math.sqrt(2*_e*ke)-ke)/(je*ye-ve*ue),Je=je-Me*ve,at=ve+Me*je,ge=Je,ht=-at,Kt=he+ee,Pt=Math.cos(Kt),Le=Math.sin(Kt);return{x1:K*Math.cos(ee),y1:K*Math.sin(ee),x2:Je*Pt-at*Le,y2:Je*Le+at*Pt,x3:ge*Pt-ht*Le,y3:ge*Le+ht*Pt,x4:K*Math.cos(oe),y4:K*Math.sin(oe)}},X=function(K){return 180*K/Math.PI},ne=function(K,ee,oe,he,ue,ye){var je=K+.5*(oe-K),ve=ee+.5*(he-ee),_e=ue+.5*(oe-ue),ke=ye+.5*(he-ye),Me=Math.min(K,ue,je,_e),Je=Math.max(K,ue,je,_e),at=Math.min(ee,ye,ve,ke),ge=Math.max(ee,ye,ve,ke);return new h(Me,at,Je-Me,ge-at)},re=function(K,ee,oe,he,ue,ye,je,ve){var _e,ke,Me,Je,at,ge,ht,Kt,Pt,Le,jt,Ve,Fe,lt,xt=oe-K,Et=he-ee,Jt=ue-oe,Mt=ye-he,He=je-ue,ft=ve-ye;for(ke=0;ke<41;ke++)Pt=(ht=(Me=K+(_e=ke/40)*xt)+_e*((at=oe+_e*Jt)-Me))+_e*(at+_e*(ue+_e*He-at)-ht),Le=(Kt=(Je=ee+_e*Et)+_e*((ge=he+_e*Mt)-Je))+_e*(ge+_e*(ye+_e*ft-ge)-Kt),ke==0?(jt=Pt,Ve=Le,Fe=Pt,lt=Le):(jt=Math.min(jt,Pt),Ve=Math.min(Ve,Le),Fe=Math.max(Fe,Pt),lt=Math.max(lt,Le));return new h(Math.round(jt),Math.round(Ve),Math.round(Fe-jt),Math.round(lt-Ve))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K,ee,oe=(K=this.ctx.lineDash,ee=this.ctx.lineDashOffset,JSON.stringify({lineDash:K,lineDashOffset:ee}));this.prevLineDash!==oe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=oe)}}})(Ps.API),(function(s){var e=function(A){var h,u,f,c,m,x,g,w,E,B;for(u=[],f=0,c=(A+=h="\0\0\0\0".slice(A.length%4||4)).length;c>f;f+=4)(m=(A.charCodeAt(f)<<24)+(A.charCodeAt(f+1)<<16)+(A.charCodeAt(f+2)<<8)+A.charCodeAt(f+3))!==0?(x=(m=((m=((m=((m=(m-(B=m%85))/85)-(E=m%85))/85)-(w=m%85))/85)-(g=m%85))/85)%85,u.push(x+33,g+33,w+33,E+33,B+33)):u.push(122);return(function(C,T){for(var F=T;F>0;F--)C.pop()})(u,h.length),String.fromCharCode.apply(String,u)+"~>"},t=function(A){var h,u,f,c,m,x=String,g="length",w=255,E="charCodeAt",B="slice",C="replace";for(A[B](-2),A=A[B](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),f=[],c=0,m=(A+=h="uuuuu"[B](A[g]%5||5))[g];m>c;c+=5)u=52200625*(A[E](c)-33)+614125*(A[E](c+1)-33)+7225*(A[E](c+2)-33)+85*(A[E](c+3)-33)+(A[E](c+4)-33),f.push(w&u>>24,w&u>>16,w&u>>8,w&u);return(function(T,F){for(var L=F;L>0;L--)T.pop()})(f,h[g]),x.fromCharCode.apply(x,f)},n=function(A){return A.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(A){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),h.test(A)===!1)return"";for(var u="",f=0;f<A.length;f+=2)u+=String.fromCharCode("0x"+(A[f]+A[f+1]));return u},o=function(A){for(var h=new Uint8Array(A.length),u=A.length;u--;)h[u]=A.charCodeAt(u);return(h=Nb(h)).reduce(function(f,c){return f+String.fromCharCode(c)},"")};s.processDataByFilters=function(A,h){var u=0,f=A||"",c=[];for(typeof(h=h||[])=="string"&&(h=[h]),u=0;u<h.length;u+=1)switch(h[u]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[u]+'" is not implemented')}return{data:f,reverseChain:c.reverse().join(" ")}}})(Ps.API),(function(s){s.loadFile=function(e,t,n){return(function(a,o,A){o=o!==!1,A=typeof A=="function"?A:function(){};var h=void 0;try{h=(function(u,f,c){var m=new XMLHttpRequest,x=0,g=function(w){var E=w.length,B=[],C=String.fromCharCode;for(x=0;x<E;x+=1)B.push(C(255&w.charCodeAt(x)));return B.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?c(g(this.responseText)):c(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)})(a,o,A)}catch{}return h})(e,t,n)},s.loadImageFile=s.loadFile})(Ps.API),(function(s){function e(){return(fn.html2canvas?Promise.resolve(fn.html2canvas):r1(()=>import("./html2canvas.esm-QH1iLAAe.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(fn.DOMPurify?Promise.resolve(fn.DOMPurify):r1(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var n=function(h){var u=Kr(h);return u==="undefined"?"undefined":u==="string"||h instanceof String?"string":u==="number"||h instanceof Number?"number":u==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(h,u){var f=document.createElement(h);for(var c in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[c]=u.style[c];return f},o=function h(u,f){for(var c=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||c.appendChild(h(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(c.width=u.width,c.height=u.height,c.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(c.value=u.value),c.addEventListener("load",function(){c.scrollTop=u.scrollTop,c.scrollLeft=u.scrollLeft},!0)),c},A=function h(u){var f=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),c=h.convert(Promise.resolve(),f);return(c=c.setProgress(1,h,1,[h])).set(u)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(h,u){return h.__proto__=u||A.prototype,h},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(h,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),u){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:h,dompurify:f})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},A.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=this.opt.jsPDF,c=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var w=c[g],E=w.src.find(function(B){return B.format==="truetype"});E&&f.addFont(E.url,w.ref.name,w.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(h,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(h,u):this.outputPdf(h,u)},A.prototype.outputPdf=function(h,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,u)})},A.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},A.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(h){if(n(h)!=="object")return this;var u=Object.keys(h||{}).map(function(f){if(f in A.template.prop)return function(){this.prop[f]=h[f]};switch(f){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[f]=h[f]}}},this);return this.then(function(){return this.thenList(u)})},A.prototype.get=function(h,u){return this.then(function(){var f=h in A.template.prop?this.prop[h]:this.opt[h];return u?u(f):f})},A.prototype.setMargin=function(h){return this.then(function(){switch(n(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},A.prototype.setPageSize=function(h){function u(f,c){return Math.floor(f*c/72*96)}return this.then(function(){(h=h||Ps.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:u(h.inner.width,h.k),height:u(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},A.prototype.setProgress=function(h,u,f,c){return h!=null&&(this.progress.val=h),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(h,u,f,c){return this.setProgress(h?this.progress.val+h:null,u||null,f?this.progress.n+f:null,c?this.progress.stack.concat(c):null)},A.prototype.then=function(h,u){var f=this;return this.thenCore(h,u,function(c,m){return f.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,c),x}).then(c,m).then(function(x){return f.updateProgress(1),x})})},A.prototype.thenCore=function(h,u,f){f=f||Promise.prototype.then;var c=this;h&&(h=h.bind(c)),u&&(u=u.bind(c));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:A.convert(Object.assign({},c),Promise.prototype),x=f.call(m,h,u);return A.convert(x,c.__proto__)},A.prototype.thenExternal=function(h,u){return Promise.prototype.then.call(this,h,u)},A.prototype.thenList=function(h){var u=this;return h.forEach(function(f){u=u.thenCore(f)}),u},A.prototype.catch=function(h){h&&(h=h.bind(this));var u=Promise.prototype.catch.call(this,h);return A.convert(u,this)},A.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},A.prototype.error=function(h){return this.then(function(){throw new Error(h)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,Ps.getPageSize=function(h,u,f){if(Kr(h)==="object"){var c=h;h=c.orientation,u=c.unit||u,f=c.format||f}u=u||"mm",f=f||"a4",h=(""+(h||"P")).toLowerCase();var m,x=(""+f).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var w,E=0,B=0;if(g.hasOwnProperty(x))E=g[x][1]/m,B=g[x][0]/m;else try{E=f[1],B=f[0]}catch{throw new Error("Invalid format: "+f)}if(h==="p"||h==="portrait")h="p",B>E&&(w=B,B=E,E=w);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",E>B&&(w=B,B=E,E=w)}return{width:B,height:E,unit:u,k:m,orientation:h}},s.html=function(h,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(w1):null;var f=new A(u);return u.worker?f:f.from(h).doCallback()}})(Ps.API),Ps.API.addJS=function(s){return cS=s,this.internal.events.subscribe("postPutResources",function(){ax=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ax+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ax!==void 0&&lS!==void 0&&this.internal.out("/Names <</JavaScript "+ax+" 0 R>>")}),this},(function(s){var e;s.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var A=a[o],h=n.exec(A);if(h!=null){var u=h[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(A)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,c=[];for(o=0;o<f;o++){var m=t.internal.newObject();c.push(m);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<c.length;o++)t.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),s.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,o){var A={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(A),A},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var A=n.children[o];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var h=this.count=this.count_r({count:0},A);if(h>0&&this.line("/Count "+h),A.options&&A.options.pageNumber){var u=t.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])})(Ps.API),(function(s){var e=[192,193,194,195,196,197,198,199];s.processJPEG=function(t,n,a,o,A,h){var u,f=this.decode.DCT_DECODE,c=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=A||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var x,g=256*m.charCodeAt(4)+m.charCodeAt(5),w=m.length,E={width:0,height:0,numcomponents:1},B=4;B<w;B+=2){if(B+=g,e.indexOf(m.charCodeAt(B+1))!==-1){x=256*m.charCodeAt(B+5)+m.charCodeAt(B+6),E={width:256*m.charCodeAt(B+7)+m.charCodeAt(B+8),height:x,numcomponents:m.charCodeAt(B+9)};break}g=256*m.charCodeAt(B+2)+m.charCodeAt(B+3)}return E})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}c={data:t,width:u.width,height:u.height,colorSpace:h,bitsPerComponent:8,filter:f,index:n,alias:a}}return c}})(Ps.API),Ps.API.processPNG=function(s,e,t,n){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var a,o=V9(s,{checkCrc:!0}),A=o.width,h=o.height,u=o.channels,f=o.palette,c=o.depth;a=f&&u===1?(function(D){for(var R=D.width,V=D.height,O=D.data,H=D.palette,G=D.depth,ae=!1,Ae=[],ie=[],le=void 0,X=!1,ne=0,re=0;re<H.length;re++){var W=hN(H[re],4),K=W[0],ee=W[1],oe=W[2],he=W[3];Ae.push(K,ee,oe),he!=null&&(he===0?(ne++,ie.length<1&&ie.push(re)):he<255&&(X=!0))}if(X||ne>1){ae=!0,ie=void 0;var ue=R*V;le=new Uint8Array(ue);for(var ye=new DataView(O.buffer),je=0;je<ue;je++){var ve=B1(ye,je,G),_e=hN(H[ve],4)[3];le[je]=_e}}else ne===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:O,alphaBytes:le,needSMask:ae,palette:Ae,mask:ie}})(o):u===2||u===4?(function(D){for(var R=D.data,V=D.width,O=D.height,H=D.channels,G=D.depth,ae=H===2?"DeviceGray":"DeviceRGB",Ae=H-1,ie=V*O,le=Ae,X=ie*le,ne=1*ie,re=Math.ceil(X*G/8),W=Math.ceil(ne*G/8),K=new Uint8Array(re),ee=new Uint8Array(W),oe=new DataView(R.buffer),he=new DataView(K.buffer),ue=new DataView(ee.buffer),ye=!1,je=0;je<ie;je++){for(var ve=je*H,_e=0;_e<le;_e++)xS(he,B1(oe,ve+_e,G),je*le+_e,G);var ke=B1(oe,ve+le,G);ke<(1<<G)-1&&(ye=!0),xS(ue,ke,1*je,G)}return{colorSpace:ae,colorsPerPixel:Ae,sMaskBitsPerComponent:ye?G:void 0,colorBytes:K,alphaBytes:ee,needSMask:ye}})(o):(function(D){var R=D.data,V=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(O){for(var H=O.length,G=new Uint8Array(2*H),ae=new DataView(G.buffer,G.byteOffset,G.byteLength),Ae=0;Ae<H;Ae++)ae.setUint16(2*Ae,O[Ae],!1);return G})(R):R,needSMask:!1}})(o);var m,x,g,w=a,E=w.colorSpace,B=w.colorsPerPixel,C=w.sMaskBitsPerComponent,T=w.colorBytes,F=w.alphaBytes,L=w.needSMask,k=w.palette,M=w.mask,Q=null;return n!==Ps.API.image_compression.NONE&&typeof Nb=="function"?(Q=(function(D){var R;switch(D){case Ps.API.image_compression.FAST:R=11;break;case Ps.API.image_compression.MEDIUM:R=13;break;case Ps.API.image_compression.SLOW:R=14;break;default:R=12}return R})(n),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(Q," /Colors ").concat(B," /BitsPerComponent ").concat(c," /Columns ").concat(A),s=hS(T,Math.ceil(A*B*c/8),B,c,n),L&&(g=hS(F,Math.ceil(A*C/8),1,C,n))):(m=void 0,x=void 0,s=T,L&&(g=F)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:s,index:e,filter:m,decodeParameters:x,transparency:M,palette:k,sMask:g,predictor:Q,width:A,height:h,bitsPerComponent:c,sMaskBitsPerComponent:C,colorSpace:E}}},(function(s){s.processGIF89A=function(e,t,n,a){var o=new uV(e),A=o.width,h=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:A,height:h},c=new N1(100).encode(f,100);return s.processJPEG.call(this,c,t,n,a)},s.processGIF87A=s.processGIF89A})(Ps.API),nA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var e=0;e<s;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nA.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[s]()}catch(t){ra.log("bit decode error:"+t)}},nA.prototype.bit1=function(){var s,e=Math.ceil(this.width/8),t=e%4;for(s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var u=this.palette[o>>7-h&1];this.data[A+4*h]=u.blue,this.data[A+4*h+1]=u.green,this.data[A+4*h+2]=u.red,this.data[A+4*h+3]=255}t!==0&&(this.pos+=4-t)}},nA.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),e=s%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<s;a++){var o=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*a*4,h=o>>4,u=15&o,f=this.palette[h];if(this.data[A]=f.blue,this.data[A+1]=f.green,this.data[A+2]=f.red,this.data[A+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[A+4]=f.blue,this.data[A+4+1]=f.green,this.data[A+4+2]=f.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},nA.prototype.bit8=function(){for(var s=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(a<this.palette.length){var A=this.palette[a];this.data[o]=A.red,this.data[o+1]=A.green,this.data[o+2]=A.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}s!==0&&(this.pos+=4-s)}},nA.prototype.bit15=function(){for(var s=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,f=o>>15?255:0,c=n*this.width*4+4*a;this.data[c]=u,this.data[c+1]=h,this.data[c+2]=A,this.data[c+3]=f}this.pos+=s}},nA.prototype.bit16=function(){for(var s=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(A&e)/e*255|0,u=(A>>5&t)/t*255|0,f=(A>>11)/e*255|0,c=a*this.width*4+4*o;this.data[c]=f,this.data[c+1]=u,this.data[c+2]=h,this.data[c+3]=255}this.pos+=s}},nA.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*t;this.data[A]=o,this.data[A+1]=a,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},nA.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=n,this.data[h+3]=A}},nA.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(e,t,n,a){var o=new nA(e,!1),A=o.width,h=o.height,u={data:o.getData(),width:A,height:h},f=new N1(100).encode(u,100);return s.processJPEG.call(this,f,t,n,a)}})(Ps.API),yS.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(e,t,n,a){var o=new yS(e),A=o.width,h=o.height,u={data:o.getData(),width:A,height:h},f=new N1(100).encode(u,100);return s.processJPEG.call(this,f,t,n,a)}})(Ps.API),Ps.API.processRGBA=function(s,e,t){for(var n=s.data,a=n.length,o=new Uint8Array(a/4*3),A=new Uint8Array(a/4),h=0,u=0,f=0;f<a;f+=4){var c=n[f],m=n[f+1],x=n[f+2],g=n[f+3];o[h++]=c,o[h++]=m,o[h++]=x,A[u++]=g}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:w,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},Ps.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kf=Ps.API,ix=Kf.getCharWidthsArray=function(s,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,u=h.fof?h.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,c=f.fof?f.fof:1,m=e.doKerning!==!1,x=0,g=s.length,w=0,E=h[0]||u,B=[];for(t=0;t<g;t++)n=s.charCodeAt(t),typeof a.metadata.widthOfString=="function"?B.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+A*(1e3/o)||0)/1e3):(x=m&&Kr(f[n])==="object"&&!isNaN(parseInt(f[n][w],10))?f[n][w]/c:0,B.push((h[n]||E)/u+x)),w=n;return B},AS=Kf.getStringUnitWidth=function(s,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Kf.processArabic&&(s=Kf.processArabic(s)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(s,t,a)/t:ix.apply(this,arguments).reduce(function(o,A){return o+A},0)},uS=function(s,e,t,n){for(var a=[],o=0,A=s.length,h=0;o!==A&&h+e[o]<t;)h+=e[o],o++;a.push(s.slice(0,o));var u=o;for(h=0;o!==A;)h+e[o]>n&&(a.push(s.slice(u,o)),h=0,u=o),h+=e[o],o++;return u!==o&&a.push(s.slice(u,o)),a},dS=function(s,e,t){t||(t={});var n,a,o,A,h,u,f,c=[],m=[c],x=t.textIndent||0,g=0,w=0,E=s.split(" "),B=ix.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var C=Array(u).join(" "),T=[];E.map(function(L){(L=L.split(/\s*\n/)).length>1?T=T.concat(L.map(function(k,M){return(M&&k.length?`
`:"")+k})):T.push(L[0])}),E=T,u=AS.apply(this,[C,t])}for(o=0,A=E.length;o<A;o++){var F=0;if(n=E[o],u&&n[0]==`
`&&(n=n.substr(1),F=1),x+g+(w=(a=ix.apply(this,[n,t])).reduce(function(L,k){return L+k},0))>e||F){if(w>e){for(h=uS.apply(this,[n,a,e-(x+g),e]),c.push(h.shift()),c=[h.pop()];h.length;)m.push([h.shift()]);w=a.slice(n.length-(c[0]?c[0].length:0)).reduce(function(L,k){return L+k},0)}else c=[n];m.push(c),x=w+u,g=B}else c.push(n),x+=g+w,g=B}return f=u?function(L,k){return(k?C:"")+L.join(" ")}:function(L){return L.join(" ")},m.map(f)},Kf.splitTextToSize=function(s,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var m=this.internal.getFont(c.fontName,c.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(s)?s:String(s).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var h,u,f=[];for(h=0,u=n.length;h<u;h++)f=f.concat(dS.apply(this,[n[h],A,o]));return f},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},o=0;o<16;o++)n[t[o]]=e[o],a[e[o]]=t[o];var A=function(x){return"0x"+parseInt(x,10).toString(16)},h=s.__fontmetrics__.compress=function(x){var g,w,E,B,C=["{"];for(var T in x){if(g=x[T],isNaN(parseInt(T,10))?w="'"+T+"'":(T=parseInt(T,10),w=(w=A(T).slice(2)).slice(0,-1)+a[w.slice(-1)]),typeof g=="number")g<0?(E=A(g).slice(3),B="-"):(E=A(g).slice(2),B=""),E=B+E.slice(0,-1)+a[E.slice(-1)];else{if(Kr(g)!=="object")throw new Error("Don't know what to do with value type "+Kr(g)+".");E=h(g)}C.push(w+E)}return C.push("}"),C.join("")},u=s.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,w,E,B,C={},T=1,F=C,L=[],k="",M="",Q=x.length-1,D=1;D<Q;D+=1)(B=x[D])=="'"?g?(E=g.join(""),g=void 0):g=[]:g?g.push(B):B=="{"?(L.push([F,E]),F={},E=void 0):B=="}"?((w=L.pop())[0][w[1]]=F,E=void 0,F=w[0]):B=="-"?T=-1:E===void 0?n.hasOwnProperty(B)?(k+=n[B],E=parseInt(k,16)*T,T=1,k=""):k+=B:n.hasOwnProperty(B)?(M+=n[B],F[E]=parseInt(M,16)*T,T=1,E=void 0,M=""):M+=B;return C},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(x){var g=x.font,w=m.Unicode[g.postScriptName];w&&(g.metadata.Unicode={},g.metadata.Unicode.widths=w.widths,g.metadata.Unicode.kerning=w.kerning);var E=c.Unicode[g.postScriptName];E&&(g.metadata.Unicode.encoding=E,g.encoding=E.codePages[0])}])})(Ps.API),(function(s){var e=function(t){for(var n=t.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=t.charCodeAt(o);return a};s.API.events.push(["addFont",function(t){var n=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(A,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(Ex(h)),A.metadata=s.API.TTFFont.open(h),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(a,n)}}])})(Ps),Ps.API.addSvgAsImage=function(s,e,t,n,a,o,A,h){if(isNaN(e)||isNaN(t))throw ra.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ra.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(fn.canvg?Promise.resolve(fn.canvg):r1(()=>import("./index.es-Dxav4pIL.js"),[],import.meta.url)).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(f,s,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(c)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,n,a,A,h)})},Ps.API.putTotalPages=function(s){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(s,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},Ps.API.viewerPreferences=function(s,e){var t;s=s||{},e=e||!1;var n,a,o,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(A),u=[],f=0,c=0,m=0;function x(w,E){var B,C=!1;for(B=0;B<w.length;B+=1)w[B]===E&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,s==="reset"||e===!0){var g=h.length;for(m=0;m<g;m+=1)t[h[m]].value=t[h[m]].defaultValue,t[h[m]].explicitSet=!1}if(Kr(s)==="object"){for(a in s)if(o=s[a],x(h,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&x(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(f=0;f<o.length;f+=1)if(n=!0,o[f].length===1&&typeof o[f][0]=="number")u.push(String(o[f]-1));else if(o[f].length>1){for(c=0;c<o[f].length;c+=1)typeof o[f][c]!="number"&&(n=!1);n===!0&&u.push([o[f][0]-1,o[f][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,E=[];for(w in t)t[w].explicitSet===!0&&(t[w].type==="name"?E.push("/"+w+" /"+t[w].value):E.push("/"+w+" "+t[w].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(s){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+A.length+h.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+o+A+h+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ps.API),(function(s){var e=s.API,t=e.pdfEscape16=function(o,A){for(var h,u=A.metadata.Unicode.widths,f=["","0","00","000","0000"],c=[""],m=0,x=o.length;m<x;++m){if(h=A.metadata.characterToGlyph(o.charCodeAt(m)),A.metadata.glyIdsUsed.push(h),A.metadata.toUnicode[h]=o.charCodeAt(m),u.indexOf(h)==-1&&(u.push(h),u.push([parseInt(A.metadata.widthOfGlyph(h),10)])),h=="0")return c.join("");h=h.toString(16),c.push(f[4-h.length],h)}return c.join("")},n=function(o){var A,h,u,f,c,m,x;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,x=(h=Object.keys(o).sort(function(g,w){return g-w})).length;m<x;m++)A=h[m],u.length>=100&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[A]!==void 0&&o[A]!==null&&typeof o[A].toString=="function"&&(f=("0000"+o[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),u.push("<"+A+"><"+f+">"));return u.length&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(A){var h=A.font,u=A.out,f=A.newObject,c=A.putStream;if(h.metadata instanceof s.API.TTFFont&&h.encoding==="Identity-H"){for(var m=h.metadata.Unicode.widths,x=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),g="",w=0;w<x.length;w++)g+=String.fromCharCode(x[w]);var E=f();c({data:g,addLength1:!0,objectId:E}),u("endobj");var B=f();c({data:n(h.metadata.toUnicode),addLength1:!0,objectId:B}),u("endobj");var C=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Wf(h.fontName)),u("/FontFile2 "+E+" 0 R"),u("/FontBBox "+s.API.PDFObject.convert(h.metadata.bbox)),u("/Flags "+h.metadata.flags),u("/StemV "+h.metadata.stemV),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u(">>"),u("endobj");var T=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Wf(h.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+s.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+h.encoding+")"),u(">>"),u(">>"),u("endobj"),h.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+B+" 0 R"),u("/BaseFont /"+Wf(h.fontName)),u("/Encoding /"+h.encoding),u("/DescendantFonts ["+T+" 0 R]"),u(">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(A){var h=A.font,u=A.out,f=A.newObject,c=A.putStream;if(h.metadata instanceof s.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var m=h.metadata.rawData,x="",g=0;g<m.length;g++)x+=String.fromCharCode(m[g]);var w=f();c({data:x,addLength1:!0,objectId:w}),u("endobj");var E=f();c({data:n(h.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var B=f();u("<<"),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u("/StemV "+h.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+s.API.PDFObject.convert(h.metadata.bbox)),u("/FontName /"+Wf(h.fontName)),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u(">>"),u("endobj"),h.objectNumber=f();for(var C=0;C<h.metadata.hmtx.widths.length;C++)h.metadata.hmtx.widths[C]=parseInt(h.metadata.hmtx.widths[C]*(1e3/h.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Wf(h.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var A,h=o.text||"",u=o.x,f=o.y,c=o.options||{},m=o.mutex||{},x=m.pdfEscape,g=m.activeFontKey,w=m.fonts,E=g,B="",C=0,T="",F=w[E].encoding;if(w[E].encoding!=="Identity-H")return{text:h,x:u,y:f,options:c,mutex:m};for(T=h,E=g,Array.isArray(h)&&(T=h[0]),C=0;C<T.length;C+=1)w[E].metadata.hasOwnProperty("cmap")&&(A=w[E].metadata.cmap.unicode.codeMap[T[C].charCodeAt(0)]),A||T[C].charCodeAt(0)<256&&w[E].metadata.hasOwnProperty("Unicode")?B+=T[C]:B+="";var L="";return parseInt(E.slice(1))<14||F==="WinAnsiEncoding"?L=x(B,E).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(L=t(B,w[E])),m.isHex=!0,{text:L,x:u,y:f,options:c,mutex:m}};e.events.push(["postProcessText",function(o){var A=o.text||"",h=[],u={text:A,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(A)){var f=0;for(f=0;f<A.length;f+=1)Array.isArray(A[f])&&A[f].length===3?h.push([a(Object.assign({},u,{text:A[f][0]})).text,A[f][1],A[f][2]]):h.push(a(Object.assign({},u,{text:A[f]})).text);o.text=h}else o.text=a(Object.assign({},u,{text:A})).text}])})(Ps),(function(s){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},s.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},s.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ps.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(n){var a,o,A,h,u,f,c,m=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,F=0;this.__bidiEngine__={};var L=function(O){var H=O.charCodeAt(),G=H>>8,ae=E[G];return ae!==void 0?m[256*ae+(255&H)]:G===252||G===253?"AL":C.test(G)?"L":G===8?"R":"N"},k=function(O){for(var H,G=0;G<O.length;G++){if((H=L(O.charAt(G)))==="L")return!1;if(H==="R")return!0}return!1},M=function(O,H,G,ae){var Ae,ie,le,X,ne=H[ae];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(ne="AN");break;case"AL":T=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":ae<1||ae+1>=H.length||(Ae=G[ae-1])!=="EN"&&Ae!=="AN"||(ie=H[ae+1])!=="EN"&&ie!=="AN"?ne="N":T&&(ie="AN"),ne=ie===Ae?ie:"N";break;case"ES":ne=(Ae=ae>0?G[ae-1]:"B")==="EN"&&ae+1<H.length&&H[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&G[ae-1]==="EN"){ne="EN";break}if(T){ne="N";break}for(le=ae+1,X=H.length;le<X&&H[le]==="ET";)le++;ne=le<X&&H[le]==="EN"?"EN":"N";break;case"NSM":if(A&&!h){for(X=H.length,le=ae+1;le<X&&H[le]==="NSM";)le++;if(le<X){var re=O[ae],W=re>=1425&&re<=2303||re===64286;if(Ae=H[le],W&&(Ae==="R"||Ae==="AL")){ne="R";break}}}ne=ae<1||(Ae=H[ae-1])==="B"?"N":G[ae-1];break;case"B":T=!1,a=!0,ne=F;break;case"S":o=!0,ne="N"}return ne},Q=function(O,H,G){var ae=O.split("");return G&&D(ae,G,{hiLevel:F}),ae.reverse(),H&&H.reverse(),ae.join("")},D=function(O,H,G){var ae,Ae,ie,le,X,ne=-1,re=O.length,W=0,K=[],ee=F?g:x,oe=[];for(T=!1,a=!1,o=!1,Ae=0;Ae<re;Ae++)oe[Ae]=L(O[Ae]);for(ie=0;ie<re;ie++){if(X=W,K[ie]=M(O,oe,K,ie),ae=240&(W=ee[X][w[K[ie]]]),W&=15,H[ie]=le=ee[W][5],ae>0)if(ae===16){for(Ae=ne;Ae<ie;Ae++)H[Ae]=1;ne=-1}else ne=-1;if(ee[W][6])ne===-1&&(ne=ie);else if(ne>-1){for(Ae=ne;Ae<ie;Ae++)H[Ae]=le;ne=-1}oe[ie]==="B"&&(H[ie]=0),G.hiLevel|=le}o&&(function(he,ue,ye){for(var je=0;je<ye;je++)if(he[je]==="S"){ue[je]=F;for(var ve=je-1;ve>=0&&he[ve]==="WS";ve--)ue[ve]=F}})(oe,H,re)},R=function(O,H,G,ae,Ae){if(!(Ae.hiLevel<O)){if(O===1&&F===1&&!a)return H.reverse(),void(G&&G.reverse());for(var ie,le,X,ne,re=H.length,W=0;W<re;){if(ae[W]>=O){for(X=W+1;X<re&&ae[X]>=O;)X++;for(ne=W,le=X-1;ne<le;ne++,le--)ie=H[ne],H[ne]=H[le],H[le]=ie,G&&(ie=G[ne],G[ne]=G[le],G[le]=ie);W=X}W++}}},V=function(O,H,G){var ae=O.split(""),Ae={hiLevel:F};return G||(G=[]),D(ae,G,Ae),(function(ie,le,X){if(X.hiLevel!==0&&c)for(var ne,re=0;re<ie.length;re++)le[re]===1&&(ne=B.indexOf(ie[re]))>=0&&(ie[re]=B[ne+1])})(ae,G,Ae),R(2,ae,H,G,Ae),R(1,ae,H,G,Ae),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(O,H,G){if((function(Ae,ie){if(ie)for(var le=0;le<Ae.length;le++)ie[le]=le;h===void 0&&(h=k(Ae)),f===void 0&&(f=k(Ae))})(O,H),A||!u||f)if(A&&u&&h^f)F=h?1:0,O=Q(O,H,G);else if(!A&&u&&f)F=h?1:0,O=V(O,H,G),O=Q(O,H);else if(!A||h||u||f){if(A&&!u&&h^f)O=Q(O,H),h?(F=0,O=V(O,H,G)):(F=1,O=V(O,H,G),O=Q(O,H));else if(A&&h&&!u&&f)F=1,O=V(O,H,G),O=Q(O,H);else if(!A&&!u&&h^f){var ae=c;h?(F=1,O=V(O,H,G),F=0,c=!1,O=V(O,H,G),c=ae):(F=0,O=V(O,H,G),O=Q(O,H),F=1,c=!1,O=V(O,H,G),c=ae,O=Q(O,H))}}else F=0,O=V(O,H,G);else F=h?1:0,O=V(O,H,G);return O},this.__bidiEngine__.setOptions=function(O){O&&(A=O.isInputVisual,u=O.isOutputVisual,h=O.isInputRtl,f=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var A=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(A=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?A.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):A.push([t.doBidiReorder(a[h])]);n.text=A}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Ps),Ps.API.TTFFont=(function(){function s(e){var t;if(this.rawData=e,t=this.contents=new Jd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new SV(this),this.registerTTF()}return s.open=function(e){return new s(e)},s.prototype.parse=function(){return this.directory=new dV(this.contents),this.head=new fV(this),this.name=new vV(this),this.cmap=new RI(this),this.toUnicode={},this.hhea=new mV(this),this.maxp=new yV(this),this.hmtx=new bV(this),this.post=new gV(this),this.os2=new pV(this),this.loca=new NV(this),this.glyf=new wV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var e,t,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,h,u,f;for(f=[],A=0,h=(u=this.bbox).length;A<h;A++)e=u[A],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},s.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},s.prototype.widthOfString=function(e,t,n){var a,o,A,h;for(A=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=e.charCodeAt(o),A+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return A*(t/1e3)},s.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},s})();var pA,Jd=(function(){function s(e){this.data=e??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(e){return this.data[this.pos++]=e},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},s.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},s.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},s.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},s.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(e){return this.writeInt16(e)},s.prototype.readLongLong=function(){var e,t,n,a,o,A,h,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),A=this.readByte(),h=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^A)+256*(255^h)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*o+65536*A+256*h+u},s.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(e){return this.writeInt32(e)},s.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},s.prototype.write=function(e){var t,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)t=e[n],o.push(this.writeByte(t));return o},s})(),dV=(function(){var s;function e(t){var n,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,o,A,h,u,f,c,m,x,g,w,E;for(E in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),A=Math.floor(m/u),c=16*g-m,(a=new Jd).writeInt(this.scalarType),a.writeShort(g),a.writeShort(m),a.writeShort(A),a.writeShort(c),o=16*g,f=a.pos+o,h=null,w=[],t)for(x=t[E],a.writeString(E),a.writeInt(s(x)),a.writeInt(f),a.writeInt(x.length),w=w.concat(x),E==="head"&&(h=f),f+=x.length;f%4;)w.push(0),f++;return a.write(w),n=2981146554-s(a.data),a.pos=h+8,a.writeUInt32(n),a.data},s=function(t){var n,a,o,A;for(t=LI.call(t);t.length%4;)t.push(0);for(o=new Jd(t),a=0,n=0,A=t.length;n<A;n=n+=4)a+=o.readUInt32();return 4294967295&a},e})(),hV={}.hasOwnProperty,tu=function(s,e){for(var t in e)hV.call(e,t)&&(s[t]=e[t]);function n(){this.constructor=s}return n.prototype=e.prototype,s.prototype=new n,s.__super__=e.prototype,s};pA=(function(){function s(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var fV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="head",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},s.prototype.encode=function(e){var t;return(t=new Jd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},s})(),bS=(function(){function s(e,t){var n,a,o,A,h,u,f,c,m,x,g,w,E,B,C,T,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,o=(function(){var L,k;for(k=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)k.push(e.readUInt16());return k})(),e.pos+=2,E=(function(){var L,k;for(k=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)k.push(e.readUInt16());return k})(),f=(function(){var L,k;for(k=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)k.push(e.readUInt16());return k})(),c=(function(){var L,k;for(k=[],u=L=0;0<=x?L<x:L>x;u=0<=x?++L:--L)k.push(e.readUInt16());return k})(),a=(this.length-e.pos+this.offset)/2,h=(function(){var L,k;for(k=[],u=L=0;0<=a?L<a:L>a;u=0<=a?++L:--L)k.push(e.readUInt16());return k})(),u=C=0,F=o.length;C<F;u=++C)for(B=o[u],n=T=w=E[u];w<=B?T<=B:T>=B;n=w<=B?++T:--T)c[u]===0?A=n+f[u]:(A=h[c[u]/2+(n-w)-(x-u)]||0)!==0&&(A+=f[u]),this.codeMap[n]=65535&A}e.pos=m}return s.encode=function(e,t){var n,a,o,A,h,u,f,c,m,x,g,w,E,B,C,T,F,L,k,M,Q,D,R,V,O,H,G,ae,Ae,ie,le,X,ne,re,W,K,ee,oe,he,ue,ye,je,ve,_e,ke,Me;switch(ae=new Jd,A=Object.keys(e).sort(function(Je,at){return Je-at}),t){case"macroman":for(E=0,B=(function(){var Je=[];for(w=0;w<256;++w)Je.push(0);return Je})(),T={0:0},o={},Ae=0,ne=A.length;Ae<ne;Ae++)T[ve=e[a=A[Ae]]]==null&&(T[ve]=++E),o[a]={old:e[a],new:T[e[a]]},B[a]=T[e[a]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(B),{charMap:o,subtable:ae.data,maxGlyphID:E+1};case"unicode":for(H=[],m=[],F=0,T={},n={},C=f=null,ie=0,re=A.length;ie<re;ie++)T[k=e[a=A[ie]]]==null&&(T[k]=++F),n[a]={old:k,new:T[k]},h=T[k]-a,C!=null&&h===f||(C&&m.push(C),H.push(a),f=h),C=a;for(C&&m.push(C),m.push(65535),H.push(65535),V=2*(R=H.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),x=Math.log(D/2)/Math.LN2,Q=2*R-D,u=[],M=[],g=[],w=le=0,W=H.length;le<W;w=++le){if(O=H[w],c=m[w],O===65535){u.push(0),M.push(0);break}if(O-(G=n[O].new)>=32768)for(u.push(0),M.push(2*(g.length+R-w)),a=X=O;O<=c?X<=c:X>=c;a=O<=c?++X:--X)g.push(n[a].new);else u.push(G-O),M.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*R+2*g.length),ae.writeUInt16(0),ae.writeUInt16(V),ae.writeUInt16(D),ae.writeUInt16(x),ae.writeUInt16(Q),ye=0,K=m.length;ye<K;ye++)a=m[ye],ae.writeUInt16(a);for(ae.writeUInt16(0),je=0,ee=H.length;je<ee;je++)a=H[je],ae.writeUInt16(a);for(_e=0,oe=u.length;_e<oe;_e++)h=u[_e],ae.writeUInt16(h);for(ke=0,he=M.length;ke<he;ke++)L=M[ke],ae.writeUInt16(L);for(Me=0,ue=g.length;Me<ue;Me++)E=g[Me],ae.writeUInt16(E);return{charMap:n,subtable:ae.data,maxGlyphID:F+1}}},s})(),RI=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="cmap",s.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new bS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},s.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=bS.encode(e,t),(a=new Jd).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},s})(),mV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="hhea",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},s})(),pV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="OS/2",s.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},s})(),gV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="post",s.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var A,h,u;for(u=[],o=A=0,h=this.file.maxp.numGlyphs;0<=h?A<h:A>h;o=0<=h?++A:--A)u.push(e.readUInt32());return u}).call(this)}},s})(),xV=function(s,e){this.raw=s,this.length=s.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},vV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="name",s.prototype.parse=function(e){var t,n,a,o,A,h,u,f,c,m,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(u={},o=c=0,m=n.length;c<m;o=++c)a=n[o],e.pos=a.offset,f=e.readString(a.length),A=new xV(f,a),u[x=a.nameID]==null&&(u[x]=[]),u[a.nameID].push(A);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},s})(),yV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="maxp",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},s})(),bV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="hmtx",s.prototype.parse=function(e){var t,n,a,o,A,h,u;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,c;for(c=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)c.push(e.readInt16());return c})(),this.widths=(function(){var f,c,m,x;for(x=[],f=0,c=(m=this.metrics).length;f<c;f++)o=m[f],x.push(o.advance);return x}).call(this),n=this.widths[this.widths.length-1],u=[],t=A=0;0<=a?A<a:A>a;t=0<=a?++A:--A)u.push(this.widths.push(n));return u},s.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},s})(),LI=[].slice,wV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(e){var t,n,a,o,A,h,u,f,c,m;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,n=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,A=(h=new Jd(t.read(a))).readShort(),f=h.readShort(),m=h.readShort(),u=h.readShort(),c=h.readShort(),this.cache[e]=A===-1?new BV(h,f,m,u,c):new jV(h,A,f,m,u,c),this.cache[e]))},s.prototype.encode=function(e,t,n){var a,o,A,h,u;for(A=[],o=[],h=0,u=t.length;h<u;h++)a=e[t[h]],o.push(A.length),a&&(A=A.concat(a.encode(n)));return o.push(A.length),{table:A,offsets:o}},s})(),jV=(function(){function s(e,t,n,a,o,A){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=A,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),BV=(function(){function s(e,t,n,a,o){var A,h;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;h=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&h;)A.pos+=1&h?4:2,128&h?A.pos+=8:64&h?A.pos+=4:8&h&&(A.pos+=2)}return s.prototype.encode=function(){var e,t,n;for(t=new Jd(LI.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},s})(),NV=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return tu(s,pA),s.prototype.tag="loca",s.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(e.readUInt32());return o}).call(this)},s.prototype.indexOf=function(e){return this.offsets[e]},s.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},s.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,A=0;A<n.length;++A)if(n[A]=a,o<t.length&&t[o]==A){++o,n[A]=a;var h=this.offsets[A],u=this.offsets[A+1]-h;u>0&&(a+=u)}for(var f=new Array(4*n.length),c=0;c<n.length;++c)f[4*c+3]=255&n[c],f[4*c+2]=(65280&n[c])>>8,f[4*c+1]=(16711680&n[c])>>16,f[4*c]=(4278190080&n[c])>>24;return f},s})(),SV=(function(){function s(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var e,t,n,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=a[n];return e},s.prototype.glyphsFor=function(e){var t,n,a,o,A,h,u;for(a={},A=0,h=e.length;A<h;A++)a[o=e[A]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(n=a[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))n=u[o],a[o]=n;return a},s.prototype.encode=function(e,t){var n,a,o,A,h,u,f,c,m,x,g,w,E,B,C;for(a in n=RI.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),g={0:0},C=n.charMap)g[(u=C[a]).old]=u.new;for(w in x=n.maxGlyphID,A)w in g||(g[w]=x++);return c=(function(T){var F,L;for(F in L={},T)L[T[F]]=F;return L})(g),m=Object.keys(c).sort(function(T,F){return T-F}),E=(function(){var T,F,L;for(L=[],T=0,F=m.length;T<F;T++)h=m[T],L.push(c[h]);return L})(),o=this.font.glyf.encode(A,E,g),f=this.font.loca.encode(o.offsets,E),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},s})();Ps.API.PDFObject=(function(){var s;function e(){}return s=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,o,A;if(Array.isArray(t))return"["+(function(){var h,u,f;for(f=[],h=0,u=t.length;h<u;h++)n=t[h],f.push(e.convert(n));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+s(t.getUTCFullYear(),4)+s(t.getUTCMonth(),2)+s(t.getUTCDate(),2)+s(t.getUTCHours(),2)+s(t.getUTCMinutes(),2)+s(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)A=t[a],o.push("/"+a+" "+e.convert(A));return o.push(">>"),o.join(`
`)}return""+t},e})();const CV=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:nV,AcroFormAppearance:Ts,AcroFormButton:ao,AcroFormCheckBox:tg,AcroFormChoiceField:Wh,AcroFormComboBox:Jh,AcroFormEditBox:Zp,AcroFormListBox:Xh,AcroFormPasswordField:sg,AcroFormPushButton:eg,AcroFormRadioButton:qh,AcroFormTextField:Vd,GState:bg,ShadingPattern:Id,TilingPattern:Vh,default:Ps,jsPDF:Ps},Symbol.toStringTag,{value:"Module"})),EV=h6(CV);var Tx={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var TV=Tx.exports,wS;function IV(){return wS||(wS=1,(function(s,e){(function(t,n){s.exports=n()})(TV,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var t=function(j,v){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(S[$]=N[$])},t(j,v)};function n(j,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");t(j,v);function S(){this.constructor=j}j.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}var a=function(){return a=Object.assign||function(v){for(var S,N=1,$=arguments.length;N<$;N++){S=arguments[N];for(var te in S)Object.prototype.hasOwnProperty.call(S,te)&&(v[te]=S[te])}return v},a.apply(this,arguments)};function o(j,v,S,N){function $(te){return te instanceof S?te:new S(function(fe){fe(te)})}return new(S||(S=Promise))(function(te,fe){function Se($e){try{Re(N.next($e))}catch(Ze){fe(Ze)}}function Ce($e){try{Re(N.throw($e))}catch(Ze){fe(Ze)}}function Re($e){$e.done?te($e.value):$($e.value).then(Se,Ce)}Re((N=N.apply(j,[])).next())})}function A(j,v){var S={label:0,sent:function(){if(te[0]&1)throw te[1];return te[1]},trys:[],ops:[]},N,$,te,fe;return fe={next:Se(0),throw:Se(1),return:Se(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Se(Re){return function($e){return Ce([Re,$e])}}function Ce(Re){if(N)throw new TypeError("Generator is already executing.");for(;S;)try{if(N=1,$&&(te=Re[0]&2?$.return:Re[0]?$.throw||((te=$.return)&&te.call($),0):$.next)&&!(te=te.call($,Re[1])).done)return te;switch($=0,te&&(Re=[Re[0]&2,te.value]),Re[0]){case 0:case 1:te=Re;break;case 4:return S.label++,{value:Re[1],done:!1};case 5:S.label++,$=Re[1],Re=[0];continue;case 7:Re=S.ops.pop(),S.trys.pop();continue;default:if(te=S.trys,!(te=te.length>0&&te[te.length-1])&&(Re[0]===6||Re[0]===2)){S=0;continue}if(Re[0]===3&&(!te||Re[1]>te[0]&&Re[1]<te[3])){S.label=Re[1];break}if(Re[0]===6&&S.label<te[1]){S.label=te[1],te=Re;break}if(te&&S.label<te[2]){S.label=te[2],S.ops.push(Re);break}te[2]&&S.ops.pop(),S.trys.pop();continue}Re=v.call(j,S)}catch($e){Re=[6,$e],$=0}finally{N=te=0}if(Re[0]&5)throw Re[1];return{value:Re[0]?Re[1]:void 0,done:!0}}}function h(j,v,S){if(arguments.length===2)for(var N=0,$=v.length,te;N<$;N++)(te||!(N in v))&&(te||(te=Array.prototype.slice.call(v,0,N)),te[N]=v[N]);return j.concat(te||v)}for(var u=(function(){function j(v,S,N,$){this.left=v,this.top=S,this.width=N,this.height=$}return j.prototype.add=function(v,S,N,$){return new j(this.left+v,this.top+S,this.width+N,this.height+$)},j.fromClientRect=function(v,S){return new j(S.left+v.windowBounds.left,S.top+v.windowBounds.top,S.width,S.height)},j.fromDOMRectList=function(v,S){var N=Array.from(S).find(function($){return $.width!==0});return N?new j(N.left+v.windowBounds.left,N.top+v.windowBounds.top,N.width,N.height):j.EMPTY},j.EMPTY=new j(0,0,0,0),j})(),f=function(j,v){return u.fromClientRect(j,v.getBoundingClientRect())},c=function(j){var v=j.body,S=j.documentElement;if(!v||!S)throw new Error("Unable to get document size");var N=Math.max(Math.max(v.scrollWidth,S.scrollWidth),Math.max(v.offsetWidth,S.offsetWidth),Math.max(v.clientWidth,S.clientWidth)),$=Math.max(Math.max(v.scrollHeight,S.scrollHeight),Math.max(v.offsetHeight,S.offsetHeight),Math.max(v.clientHeight,S.clientHeight));return new u(0,0,N,$)},m=function(j){for(var v=[],S=0,N=j.length;S<N;){var $=j.charCodeAt(S++);if($>=55296&&$<=56319&&S<N){var te=j.charCodeAt(S++);(te&64512)===56320?v.push((($&1023)<<10)+(te&1023)+65536):(v.push($),S--)}else v.push($)}return v},x=function(){for(var j=[],v=0;v<arguments.length;v++)j[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var S=j.length;if(!S)return"";for(var N=[],$=-1,te="";++$<S;){var fe=j[$];fe<=65535?N.push(fe):(fe-=65536,N.push((fe>>10)+55296,fe%1024+56320)),($+1===S||N.length>16384)&&(te+=String.fromCharCode.apply(String,N),N.length=0)}return te},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<g.length;E++)w[g.charCodeAt(E)]=E;for(var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=typeof Uint8Array>"u"?[]:new Uint8Array(256),T=0;T<B.length;T++)C[B.charCodeAt(T)]=T;for(var F=function(j){var v=j.length*.75,S=j.length,N,$=0,te,fe,Se,Ce;j[j.length-1]==="="&&(v--,j[j.length-2]==="="&&v--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),$e=Array.isArray(Re)?Re:new Uint8Array(Re);for(N=0;N<S;N+=4)te=C[j.charCodeAt(N)],fe=C[j.charCodeAt(N+1)],Se=C[j.charCodeAt(N+2)],Ce=C[j.charCodeAt(N+3)],$e[$++]=te<<2|fe>>4,$e[$++]=(fe&15)<<4|Se>>2,$e[$++]=(Se&3)<<6|Ce&63;return Re},L=function(j){for(var v=j.length,S=[],N=0;N<v;N+=2)S.push(j[N+1]<<8|j[N]);return S},k=function(j){for(var v=j.length,S=[],N=0;N<v;N+=4)S.push(j[N+3]<<24|j[N+2]<<16|j[N+1]<<8|j[N]);return S},M=5,Q=11,D=2,R=Q-M,V=65536>>M,O=1<<M,H=O-1,G=1024>>M,ae=V+G,Ae=ae,ie=32,le=Ae+ie,X=65536>>Q,ne=1<<R,re=ne-1,W=function(j,v,S){return j.slice?j.slice(v,S):new Uint16Array(Array.prototype.slice.call(j,v,S))},K=function(j,v,S){return j.slice?j.slice(v,S):new Uint32Array(Array.prototype.slice.call(j,v,S))},ee=function(j,v){var S=F(j),N=Array.isArray(S)?k(S):new Uint32Array(S),$=Array.isArray(S)?L(S):new Uint16Array(S),te=24,fe=W($,te/2,N[4]/2),Se=N[5]===2?W($,(te+N[4])/2):K(N,Math.ceil((te+N[4])/4));return new oe(N[0],N[1],N[2],N[3],fe,Se)},oe=(function(){function j(v,S,N,$,te,fe){this.initialValue=v,this.errorValue=S,this.highStart=N,this.highValueIndex=$,this.index=te,this.data=fe}return j.prototype.get=function(v){var S;if(v>=0){if(v<55296||v>56319&&v<=65535)return S=this.index[v>>M],S=(S<<D)+(v&H),this.data[S];if(v<=65535)return S=this.index[V+(v-55296>>M)],S=(S<<D)+(v&H),this.data[S];if(v<this.highStart)return S=le-X+(v>>Q),S=this.index[S],S+=v>>M&re,S=this.index[S],S=(S<<D)+(v&H),this.data[S];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ue=typeof Uint8Array>"u"?[]:new Uint8Array(256),ye=0;ye<he.length;ye++)ue[he.charCodeAt(ye)]=ye;var je="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ve=50,_e=1,ke=2,Me=3,Je=4,at=5,ge=7,ht=8,Kt=9,Pt=10,Le=11,jt=12,Ve=13,Fe=14,lt=15,xt=16,Et=17,Jt=18,Mt=19,He=20,ft=21,Ye=22,At=23,es=24,Gt=25,qt=26,dt=27,Ot=28,Vt=29,is=30,Zt=31,Qe=32,Ht=33,it=34,ct=35,Bt=36,ts=37,ss=38,Us=39,zs=40,as=41,Vn=42,qs=43,un=[9001,65288],Kn="!",rs="",Hs="",Cn=ee(je),dn=[is,Bt],wn=[_e,ke,Me,at],fs=[Pt,ht],Un=[dt,qt],zn=wn.concat(fs),fa=[ss,Us,zs,it,ct],za=[lt,Ve],Ci=function(j,v){v===void 0&&(v="strict");var S=[],N=[],$=[];return j.forEach(function(te,fe){var Se=Cn.get(te);if(Se>ve?($.push(!0),Se-=ve):$.push(!1),["normal","auto","loose"].indexOf(v)!==-1&&[8208,8211,12316,12448].indexOf(te)!==-1)return N.push(fe),S.push(xt);if(Se===Je||Se===Le){if(fe===0)return N.push(fe),S.push(is);var Ce=S[fe-1];return zn.indexOf(Ce)===-1?(N.push(N[fe-1]),S.push(Ce)):(N.push(fe),S.push(is))}if(N.push(fe),Se===Zt)return S.push(v==="strict"?ft:ts);if(Se===Vn||Se===Vt)return S.push(is);if(Se===qs)return te>=131072&&te<=196605||te>=196608&&te<=262141?S.push(ts):S.push(is);S.push(Se)}),[N,S,$]},ma=function(j,v,S,N){var $=N[S];if(Array.isArray(j)?j.indexOf($)!==-1:j===$)for(var te=S;te<=N.length;){te++;var fe=N[te];if(fe===v)return!0;if(fe!==Pt)break}if($===Pt)for(var te=S;te>0;){te--;var Se=N[te];if(Array.isArray(j)?j.indexOf(Se)!==-1:j===Se)for(var Ce=S;Ce<=N.length;){Ce++;var fe=N[Ce];if(fe===v)return!0;if(fe!==Pt)break}if(Se!==Pt)break}return!1},_r=function(j,v){for(var S=j;S>=0;){var N=v[S];if(N===Pt)S--;else return N}return 0},hi=function(j,v,S,N,$){if(S[N]===0)return rs;var te=N-1;if(Array.isArray($)&&$[te]===!0)return rs;var fe=te-1,Se=te+1,Ce=v[te],Re=fe>=0?v[fe]:0,$e=v[Se];if(Ce===ke&&$e===Me)return rs;if(wn.indexOf(Ce)!==-1)return Kn;if(wn.indexOf($e)!==-1||fs.indexOf($e)!==-1)return rs;if(_r(te,v)===ht)return Hs;if(Cn.get(j[te])===Le||(Ce===Qe||Ce===Ht)&&Cn.get(j[Se])===Le||Ce===ge||$e===ge||Ce===Kt||[Pt,Ve,lt].indexOf(Ce)===-1&&$e===Kt||[Et,Jt,Mt,es,Ot].indexOf($e)!==-1||_r(te,v)===Ye||ma(At,Ye,te,v)||ma([Et,Jt],ft,te,v)||ma(jt,jt,te,v))return rs;if(Ce===Pt)return Hs;if(Ce===At||$e===At)return rs;if($e===xt||Ce===xt)return Hs;if([Ve,lt,ft].indexOf($e)!==-1||Ce===Fe||Re===Bt&&za.indexOf(Ce)!==-1||Ce===Ot&&$e===Bt||$e===He||dn.indexOf($e)!==-1&&Ce===Gt||dn.indexOf(Ce)!==-1&&$e===Gt||Ce===dt&&[ts,Qe,Ht].indexOf($e)!==-1||[ts,Qe,Ht].indexOf(Ce)!==-1&&$e===qt||dn.indexOf(Ce)!==-1&&Un.indexOf($e)!==-1||Un.indexOf(Ce)!==-1&&dn.indexOf($e)!==-1||[dt,qt].indexOf(Ce)!==-1&&($e===Gt||[Ye,lt].indexOf($e)!==-1&&v[Se+1]===Gt)||[Ye,lt].indexOf(Ce)!==-1&&$e===Gt||Ce===Gt&&[Gt,Ot,es].indexOf($e)!==-1)return rs;if([Gt,Ot,es,Et,Jt].indexOf($e)!==-1)for(var Ze=te;Ze>=0;){var wt=v[Ze];if(wt===Gt)return rs;if([Ot,es].indexOf(wt)!==-1)Ze--;else break}if([dt,qt].indexOf($e)!==-1)for(var Ze=[Et,Jt].indexOf(Ce)!==-1?fe:te;Ze>=0;){var wt=v[Ze];if(wt===Gt)return rs;if([Ot,es].indexOf(wt)!==-1)Ze--;else break}if(ss===Ce&&[ss,Us,it,ct].indexOf($e)!==-1||[Us,it].indexOf(Ce)!==-1&&[Us,zs].indexOf($e)!==-1||[zs,ct].indexOf(Ce)!==-1&&$e===zs||fa.indexOf(Ce)!==-1&&[He,qt].indexOf($e)!==-1||fa.indexOf($e)!==-1&&Ce===dt||dn.indexOf(Ce)!==-1&&dn.indexOf($e)!==-1||Ce===es&&dn.indexOf($e)!==-1||dn.concat(Gt).indexOf(Ce)!==-1&&$e===Ye&&un.indexOf(j[Se])===-1||dn.concat(Gt).indexOf($e)!==-1&&Ce===Jt)return rs;if(Ce===as&&$e===as){for(var ps=S[te],ns=1;ps>0&&(ps--,v[ps]===as);)ns++;if(ns%2!==0)return rs}return Ce===Qe&&$e===Ht?rs:Hs},Nn=function(j,v){v||(v={lineBreak:"normal",wordBreak:"normal"});var S=Ci(j,v.lineBreak),N=S[0],$=S[1],te=S[2];(v.wordBreak==="break-all"||v.wordBreak==="break-word")&&($=$.map(function(Se){return[Gt,is,Vn].indexOf(Se)!==-1?ts:Se}));var fe=v.wordBreak==="keep-all"?te.map(function(Se,Ce){return Se&&j[Ce]>=19968&&j[Ce]<=40959}):void 0;return[N,$,fe]},br=(function(){function j(v,S,N,$){this.codePoints=v,this.required=S===Kn,this.start=N,this.end=$}return j.prototype.slice=function(){return x.apply(void 0,this.codePoints.slice(this.start,this.end))},j})(),Fr=function(j,v){var S=m(j),N=Nn(S,v),$=N[0],te=N[1],fe=N[2],Se=S.length,Ce=0,Re=0;return{next:function(){if(Re>=Se)return{done:!0,value:null};for(var $e=rs;Re<Se&&($e=hi(S,te,$,++Re,fe))===rs;);if($e!==rs||Re===Se){var Ze=new br(S,$e,Ce,Re);return Ce=Re,{value:Ze,done:!1}}return{done:!0,value:null}}}},Er=1,Gn=2,Ga=4,ia=8,Tr=10,wr=47,$a=92,Io=9,Nl=32,_o=34,pa=61,oa=35,zr=36,jn=37,Ei=39,Ya=40,xn=41,fi=95,En=45,Ne=33,nt=60,Tt=62,zt=64,vs=91,cs=93,Vs=61,sn=123,It=63,Js=125,Zs=124,on=126,qn=128,dr=65533,xr=42,Ln=43,Ur=44,ga=58,Dr=59,Wa=46,_s=0,ul=8,Fo=11,Uo=14,Xr=31,Jr=127,Ia=-1,$n=48,ni=97,Do=101,Yi=102,Gl=117,xa=122,ri=65,Xa=69,Rr=70,Wi=85,va=90,hr=function(j){return j>=$n&&j<=57},Ro=function(j){return j>=55296&&j<=57343},Ja=function(j){return hr(j)||j>=ri&&j<=Rr||j>=ni&&j<=Yi},Xi=function(j){return j>=ni&&j<=xa},_a=function(j){return j>=ri&&j<=va},dl=function(j){return Xi(j)||_a(j)},$l=function(j){return j>=qn},Fa=function(j){return j===Tr||j===Io||j===Nl},mi=function(j){return dl(j)||$l(j)||j===fi},Lo=function(j){return mi(j)||hr(j)||j===En},Ti=function(j){return j>=_s&&j<=ul||j===Fo||j>=Uo&&j<=Xr||j===Jr},ya=function(j,v){return j!==$a?!1:v!==Tr},P=function(j,v,S){return j===En?mi(v)||ya(v,S):mi(j)?!0:!!(j===$a&&ya(j,v))},ce=function(j,v,S){return j===Ln||j===En?hr(v)?!0:v===Wa&&hr(S):hr(j===Wa?v:j)},Ee=function(j){var v=0,S=1;(j[v]===Ln||j[v]===En)&&(j[v]===En&&(S=-1),v++);for(var N=[];hr(j[v]);)N.push(j[v++]);var $=N.length?parseInt(x.apply(void 0,N),10):0;j[v]===Wa&&v++;for(var te=[];hr(j[v]);)te.push(j[v++]);var fe=te.length,Se=fe?parseInt(x.apply(void 0,te),10):0;(j[v]===Xa||j[v]===Do)&&v++;var Ce=1;(j[v]===Ln||j[v]===En)&&(j[v]===En&&(Ce=-1),v++);for(var Re=[];hr(j[v]);)Re.push(j[v++]);var $e=Re.length?parseInt(x.apply(void 0,Re),10):0;return S*($+Se*Math.pow(10,-fe))*Math.pow(10,Ce*$e)},Ue={type:2},ze={type:3},yt={type:4},Ut={type:13},xs={type:8},qe={type:21},Lt={type:9},kt={type:10},us={type:11},ws={type:12},$t={type:14},y={type:23},Y={type:1},se={type:25},be={type:24},We={type:26},tt={type:27},Yt={type:28},Ds={type:29},In={type:31},ln={type:32},Qn=(function(){function j(){this._value=[]}return j.prototype.write=function(v){this._value=this._value.concat(m(v))},j.prototype.read=function(){for(var v=[],S=this.consumeToken();S!==ln;)v.push(S),S=this.consumeToken();return v},j.prototype.consumeToken=function(){var v=this.consumeCodePoint();switch(v){case _o:return this.consumeStringToken(_o);case oa:var S=this.peekCodePoint(0),N=this.peekCodePoint(1),$=this.peekCodePoint(2);if(Lo(S)||ya(N,$)){var te=P(S,N,$)?Gn:Er,fe=this.consumeName();return{type:5,value:fe,flags:te}}break;case zr:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),Ut;break;case Ei:return this.consumeStringToken(Ei);case Ya:return Ue;case xn:return ze;case xr:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),$t;break;case Ln:if(ce(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case Ur:return yt;case En:var Se=v,Ce=this.peekCodePoint(0),Re=this.peekCodePoint(1);if(ce(Se,Ce,Re))return this.reconsumeCodePoint(v),this.consumeNumericToken();if(P(Se,Ce,Re))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();if(Ce===En&&Re===Tt)return this.consumeCodePoint(),this.consumeCodePoint(),be;break;case Wa:if(ce(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case wr:if(this.peekCodePoint(0)===xr)for(this.consumeCodePoint();;){var $e=this.consumeCodePoint();if($e===xr&&($e=this.consumeCodePoint(),$e===wr))return this.consumeToken();if($e===Ia)return this.consumeToken()}break;case ga:return We;case Dr:return tt;case nt:if(this.peekCodePoint(0)===Ne&&this.peekCodePoint(1)===En&&this.peekCodePoint(2)===En)return this.consumeCodePoint(),this.consumeCodePoint(),se;break;case zt:var Ze=this.peekCodePoint(0),wt=this.peekCodePoint(1),ps=this.peekCodePoint(2);if(P(Ze,wt,ps)){var fe=this.consumeName();return{type:7,value:fe}}break;case vs:return Yt;case $a:if(ya(v,this.peekCodePoint(0)))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();break;case cs:return Ds;case Vs:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),xs;break;case sn:return us;case Js:return ws;case Gl:case Wi:var ns=this.peekCodePoint(0),As=this.peekCodePoint(1);return ns===Ln&&(Ja(As)||As===It)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(v),this.consumeIdentLikeToken();case Zs:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),Lt;if(this.peekCodePoint(0)===Zs)return this.consumeCodePoint(),qe;break;case on:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),kt;break;case Ia:return ln}return Fa(v)?(this.consumeWhiteSpace(),In):hr(v)?(this.reconsumeCodePoint(v),this.consumeNumericToken()):mi(v)?(this.reconsumeCodePoint(v),this.consumeIdentLikeToken()):{type:6,value:x(v)}},j.prototype.consumeCodePoint=function(){var v=this._value.shift();return typeof v>"u"?-1:v},j.prototype.reconsumeCodePoint=function(v){this._value.unshift(v)},j.prototype.peekCodePoint=function(v){return v>=this._value.length?-1:this._value[v]},j.prototype.consumeUnicodeRangeToken=function(){for(var v=[],S=this.consumeCodePoint();Ja(S)&&v.length<6;)v.push(S),S=this.consumeCodePoint();for(var N=!1;S===It&&v.length<6;)v.push(S),S=this.consumeCodePoint(),N=!0;if(N){var $=parseInt(x.apply(void 0,v.map(function(Ce){return Ce===It?$n:Ce})),16),te=parseInt(x.apply(void 0,v.map(function(Ce){return Ce===It?Rr:Ce})),16);return{type:30,start:$,end:te}}var fe=parseInt(x.apply(void 0,v),16);if(this.peekCodePoint(0)===En&&Ja(this.peekCodePoint(1))){this.consumeCodePoint(),S=this.consumeCodePoint();for(var Se=[];Ja(S)&&Se.length<6;)Se.push(S),S=this.consumeCodePoint();var te=parseInt(x.apply(void 0,Se),16);return{type:30,start:fe,end:te}}else return{type:30,start:fe,end:fe}},j.prototype.consumeIdentLikeToken=function(){var v=this.consumeName();return v.toLowerCase()==="url"&&this.peekCodePoint(0)===Ya?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ya?(this.consumeCodePoint(),{type:19,value:v}):{type:20,value:v}},j.prototype.consumeUrlToken=function(){var v=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ia)return{type:22,value:""};var S=this.peekCodePoint(0);if(S===Ei||S===_o){var N=this.consumeStringToken(this.consumeCodePoint());return N.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ia||this.peekCodePoint(0)===xn)?(this.consumeCodePoint(),{type:22,value:N.value}):(this.consumeBadUrlRemnants(),y)}for(;;){var $=this.consumeCodePoint();if($===Ia||$===xn)return{type:22,value:x.apply(void 0,v)};if(Fa($))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ia||this.peekCodePoint(0)===xn?(this.consumeCodePoint(),{type:22,value:x.apply(void 0,v)}):(this.consumeBadUrlRemnants(),y);if($===_o||$===Ei||$===Ya||Ti($))return this.consumeBadUrlRemnants(),y;if($===$a)if(ya($,this.peekCodePoint(0)))v.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),y;else v.push($)}},j.prototype.consumeWhiteSpace=function(){for(;Fa(this.peekCodePoint(0));)this.consumeCodePoint()},j.prototype.consumeBadUrlRemnants=function(){for(;;){var v=this.consumeCodePoint();if(v===xn||v===Ia)return;ya(v,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},j.prototype.consumeStringSlice=function(v){for(var S=5e4,N="";v>0;){var $=Math.min(S,v);N+=x.apply(void 0,this._value.splice(0,$)),v-=$}return this._value.shift(),N},j.prototype.consumeStringToken=function(v){var S="",N=0;do{var $=this._value[N];if($===Ia||$===void 0||$===v)return S+=this.consumeStringSlice(N),{type:0,value:S};if($===Tr)return this._value.splice(0,N),Y;if($===$a){var te=this._value[N+1];te!==Ia&&te!==void 0&&(te===Tr?(S+=this.consumeStringSlice(N),N=-1,this._value.shift()):ya($,te)&&(S+=this.consumeStringSlice(N),S+=x(this.consumeEscapedCodePoint()),N=-1))}N++}while(!0)},j.prototype.consumeNumber=function(){var v=[],S=Ga,N=this.peekCodePoint(0);for((N===Ln||N===En)&&v.push(this.consumeCodePoint());hr(this.peekCodePoint(0));)v.push(this.consumeCodePoint());N=this.peekCodePoint(0);var $=this.peekCodePoint(1);if(N===Wa&&hr($))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),S=ia;hr(this.peekCodePoint(0));)v.push(this.consumeCodePoint());N=this.peekCodePoint(0),$=this.peekCodePoint(1);var te=this.peekCodePoint(2);if((N===Xa||N===Do)&&(($===Ln||$===En)&&hr(te)||hr($)))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),S=ia;hr(this.peekCodePoint(0));)v.push(this.consumeCodePoint());return[Ee(v),S]},j.prototype.consumeNumericToken=function(){var v=this.consumeNumber(),S=v[0],N=v[1],$=this.peekCodePoint(0),te=this.peekCodePoint(1),fe=this.peekCodePoint(2);if(P($,te,fe)){var Se=this.consumeName();return{type:15,number:S,flags:N,unit:Se}}return $===jn?(this.consumeCodePoint(),{type:16,number:S,flags:N}):{type:17,number:S,flags:N}},j.prototype.consumeEscapedCodePoint=function(){var v=this.consumeCodePoint();if(Ja(v)){for(var S=x(v);Ja(this.peekCodePoint(0))&&S.length<6;)S+=x(this.consumeCodePoint());Fa(this.peekCodePoint(0))&&this.consumeCodePoint();var N=parseInt(S,16);return N===0||Ro(N)||N>1114111?dr:N}return v===Ia?dr:v},j.prototype.consumeName=function(){for(var v="";;){var S=this.consumeCodePoint();if(Lo(S))v+=x(S);else if(ya(S,this.peekCodePoint(0)))v+=x(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(S),v}},j})(),ba=(function(){function j(v){this._tokens=v}return j.create=function(v){var S=new Qn;return S.write(v),new j(S.read())},j.parseValue=function(v){return j.create(v).parseComponentValue()},j.parseValues=function(v){return j.create(v).parseComponentValues()},j.prototype.parseComponentValue=function(){for(var v=this.consumeToken();v.type===31;)v=this.consumeToken();if(v.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(v);var S=this.consumeComponentValue();do v=this.consumeToken();while(v.type===31);if(v.type===32)return S;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},j.prototype.parseComponentValues=function(){for(var v=[];;){var S=this.consumeComponentValue();if(S.type===32)return v;v.push(S),v.push()}},j.prototype.consumeComponentValue=function(){var v=this.consumeToken();switch(v.type){case 11:case 28:case 2:return this.consumeSimpleBlock(v.type);case 19:return this.consumeFunction(v)}return v},j.prototype.consumeSimpleBlock=function(v){for(var S={type:v,values:[]},N=this.consumeToken();;){if(N.type===32||gA(N,v))return S;this.reconsumeToken(N),S.values.push(this.consumeComponentValue()),N=this.consumeToken()}},j.prototype.consumeFunction=function(v){for(var S={name:v.value,values:[],type:18};;){var N=this.consumeToken();if(N.type===32||N.type===3)return S;this.reconsumeToken(N),S.values.push(this.consumeComponentValue())}},j.prototype.consumeToken=function(){var v=this._tokens.shift();return typeof v>"u"?ln:v},j.prototype.reconsumeToken=function(v){this._tokens.unshift(v)},j})(),wa=function(j){return j.type===15},Zn=function(j){return j.type===17},cn=function(j){return j.type===20},mo=function(j){return j.type===0},Qo=function(j,v){return cn(j)&&j.value===v},hl=function(j){return j.type!==31},Ua=function(j){return j.type!==31&&j.type!==4},ai=function(j){var v=[],S=[];return j.forEach(function(N){if(N.type===4){if(S.length===0)throw new Error("Error parsing function args, zero tokens for arg");v.push(S),S=[];return}N.type!==31&&S.push(N)}),S.length&&v.push(S),v},gA=function(j,v){return v===11&&j.type===12||v===28&&j.type===29?!0:v===2&&j.type===3},Oo=function(j){return j.type===17||j.type===15},er=function(j){return j.type===16||Oo(j)},ko=function(j){return j.length>1?[j[0],j[1]]:[j[0]]},Lr={type:17,number:0,flags:Ga},Pc={type:16,number:50,flags:Ga},ii={type:16,number:100,flags:Ga},Po=function(j,v,S){var N=j[0],$=j[1];return[Bn(N,v),Bn(typeof $<"u"?$:N,S)]},Bn=function(j,v){if(j.type===16)return j.number/100*v;if(wa(j))switch(j.unit){case"rem":case"em":return 16*j.number;case"px":default:return j.number}return j.number},Ii="deg",fl="grad",ml="rad",Sl="turn",Yl={name:"angle",parse:function(j,v){if(v.type===15)switch(v.unit){case Ii:return Math.PI*v.number/180;case fl:return Math.PI/200*v.number;case ml:return v.number;case Sl:return Math.PI*2*v.number}throw new Error("Unsupported angle type")}},Mc=function(j){return j.type===15&&(j.unit===Ii||j.unit===fl||j.unit===ml||j.unit===Sl)},la=function(j){var v=j.filter(cn).map(function(S){return S.value}).join(" ");switch(v){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Lr,Lr];case"to top":case"bottom":return Ji(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Lr,ii];case"to right":case"left":return Ji(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ii,ii];case"to bottom":case"top":return Ji(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ii,Lr];case"to left":case"right":return Ji(270)}return 0},Ji=function(j){return Math.PI*j/180},pi={name:"color",parse:function(j,v){if(v.type===18){var S=El[v.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported color function "'+v.name+'"');return S(j,v.values)}if(v.type===5){if(v.value.length===3){var N=v.value.substring(0,1),$=v.value.substring(1,2),te=v.value.substring(2,3);return _i(parseInt(N+N,16),parseInt($+$,16),parseInt(te+te,16),1)}if(v.value.length===4){var N=v.value.substring(0,1),$=v.value.substring(1,2),te=v.value.substring(2,3),fe=v.value.substring(3,4);return _i(parseInt(N+N,16),parseInt($+$,16),parseInt(te+te,16),parseInt(fe+fe,16)/255)}if(v.value.length===6){var N=v.value.substring(0,2),$=v.value.substring(2,4),te=v.value.substring(4,6);return _i(parseInt(N,16),parseInt($,16),parseInt(te,16),1)}if(v.value.length===8){var N=v.value.substring(0,2),$=v.value.substring(2,4),te=v.value.substring(4,6),fe=v.value.substring(6,8);return _i(parseInt(N,16),parseInt($,16),parseInt(te,16),parseInt(fe,16)/255)}}if(v.type===20){var Se=ja[v.value.toUpperCase()];if(typeof Se<"u")return Se}return ja.TRANSPARENT}},gi=function(j){return(255&j)===0},On=function(j){var v=255&j,S=255&j>>8,N=255&j>>16,$=255&j>>24;return v<255?"rgba("+$+","+N+","+S+","+v/255+")":"rgb("+$+","+N+","+S+")"},_i=function(j,v,S,N){return(j<<24|v<<16|S<<8|Math.round(N*255)<<0)>>>0},Hc=function(j,v){if(j.type===17)return j.number;if(j.type===16){var S=v===3?1:255;return v===3?j.number/100*S:Math.round(j.number/100*S)}return 0},Vc=function(j,v){var S=v.filter(Ua);if(S.length===3){var N=S.map(Hc),$=N[0],te=N[1],fe=N[2];return _i($,te,fe,1)}if(S.length===4){var Se=S.map(Hc),$=Se[0],te=Se[1],fe=Se[2],Ce=Se[3];return _i($,te,fe,Ce)}return 0};function pl(j,v,S){return S<0&&(S+=1),S>=1&&(S-=1),S<1/6?(v-j)*S*6+j:S<1/2?v:S<2/3?(v-j)*6*(2/3-S)+j:j}var Cl=function(j,v){var S=v.filter(Ua),N=S[0],$=S[1],te=S[2],fe=S[3],Se=(N.type===17?Ji(N.number):Yl.parse(j,N))/(Math.PI*2),Ce=er($)?$.number/100:0,Re=er(te)?te.number/100:0,$e=typeof fe<"u"&&er(fe)?Bn(fe,1):1;if(Ce===0)return _i(Re*255,Re*255,Re*255,1);var Ze=Re<=.5?Re*(Ce+1):Re+Ce-Re*Ce,wt=Re*2-Ze,ps=pl(wt,Ze,Se+1/3),ns=pl(wt,Ze,Se),As=pl(wt,Ze,Se-1/3);return _i(ps*255,ns*255,As*255,$e)},El={hsl:Cl,hsla:Cl,rgb:Vc,rgba:Vc},gl=function(j,v){return pi.parse(j,ba.create(v).parseComponentValue())},ja={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Wl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(j,v){return v.map(function(S){if(cn(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Fi={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qi=function(j,v){var S=pi.parse(j,v[0]),N=v[1];return N&&er(N)?{color:S,stop:N}:{color:S,stop:null}},tr=function(j,v){var S=j[0],N=j[j.length-1];S.stop===null&&(S.stop=Lr),N.stop===null&&(N.stop=ii);for(var $=[],te=0,fe=0;fe<j.length;fe++){var Se=j[fe].stop;if(Se!==null){var Ce=Bn(Se,v);Ce>te?$.push(Ce):$.push(te),te=Ce}else $.push(null)}for(var Re=null,fe=0;fe<$.length;fe++){var $e=$[fe];if($e===null)Re===null&&(Re=fe);else if(Re!==null){for(var Ze=fe-Re,wt=$[Re-1],ps=($e-wt)/(Ze+1),ns=1;ns<=Ze;ns++)$[Re+ns-1]=ps*ns;Re=null}}return j.map(function(As,Rs){var js=As.color;return{color:js,stop:Math.max(Math.min(1,$[Rs]/v),0)}})},Yn=function(j,v,S){var N=v/2,$=S/2,te=Bn(j[0],v)-N,fe=$-Bn(j[1],S);return(Math.atan2(fe,te)+Math.PI*2)%(Math.PI*2)},Ir=function(j,v,S){var N=typeof j=="number"?j:Yn(j,v,S),$=Math.abs(v*Math.sin(N))+Math.abs(S*Math.cos(N)),te=v/2,fe=S/2,Se=$/2,Ce=Math.sin(N-Math.PI/2)*Se,Re=Math.cos(N-Math.PI/2)*Se;return[$,te-Re,te+Re,fe-Ce,fe+Ce]},ir=function(j,v){return Math.sqrt(j*j+v*v)},xl=function(j,v,S,N,$){var te=[[0,0],[0,v],[j,0],[j,v]];return te.reduce(function(fe,Se){var Ce=Se[0],Re=Se[1],$e=ir(S-Ce,N-Re);return($?$e<fe.optimumDistance:$e>fe.optimumDistance)?{optimumCorner:Se,optimumDistance:$e}:fe},{optimumDistance:$?1/0:-1/0,optimumCorner:null}).optimumCorner},vl=function(j,v,S,N,$){var te=0,fe=0;switch(j.size){case 0:j.shape===0?te=fe=Math.min(Math.abs(v),Math.abs(v-N),Math.abs(S),Math.abs(S-$)):j.shape===1&&(te=Math.min(Math.abs(v),Math.abs(v-N)),fe=Math.min(Math.abs(S),Math.abs(S-$)));break;case 2:if(j.shape===0)te=fe=Math.min(ir(v,S),ir(v,S-$),ir(v-N,S),ir(v-N,S-$));else if(j.shape===1){var Se=Math.min(Math.abs(S),Math.abs(S-$))/Math.min(Math.abs(v),Math.abs(v-N)),Ce=xl(N,$,v,S,!0),Re=Ce[0],$e=Ce[1];te=ir(Re-v,($e-S)/Se),fe=Se*te}break;case 1:j.shape===0?te=fe=Math.max(Math.abs(v),Math.abs(v-N),Math.abs(S),Math.abs(S-$)):j.shape===1&&(te=Math.max(Math.abs(v),Math.abs(v-N)),fe=Math.max(Math.abs(S),Math.abs(S-$)));break;case 3:if(j.shape===0)te=fe=Math.max(ir(v,S),ir(v,S-$),ir(v-N,S),ir(v-N,S-$));else if(j.shape===1){var Se=Math.max(Math.abs(S),Math.abs(S-$))/Math.max(Math.abs(v),Math.abs(v-N)),Ze=xl(N,$,v,S,!1),Re=Ze[0],$e=Ze[1];te=ir(Re-v,($e-S)/Se),fe=Se*te}break}return Array.isArray(j.size)&&(te=Bn(j.size[0],N),fe=j.size.length===2?Bn(j.size[1],$):te),[te,fe]},Kc=function(j,v){var S=Ji(180),N=[];return ai(v).forEach(function($,te){if(te===0){var fe=$[0];if(fe.type===20&&fe.value==="to"){S=la($);return}else if(Mc(fe)){S=Yl.parse(j,fe);return}}var Se=qi(j,$);N.push(Se)}),{angle:S,stops:N,type:1}},hc=function(j,v){var S=Ji(180),N=[];return ai(v).forEach(function($,te){if(te===0){var fe=$[0];if(fe.type===20&&["top","left","right","bottom"].indexOf(fe.value)!==-1){S=la($);return}else if(Mc(fe)){S=(Yl.parse(j,fe)+Ji(270))%Ji(360);return}}var Se=qi(j,$);N.push(Se)}),{angle:S,stops:N,type:1}},ah=function(j,v){var S=Ji(180),N=[],$=1,te=0,fe=3,Se=[];return ai(v).forEach(function(Ce,Re){var $e=Ce[0];if(Re===0){if(cn($e)&&$e.value==="linear"){$=1;return}else if(cn($e)&&$e.value==="radial"){$=2;return}}if($e.type===18){if($e.name==="from"){var Ze=pi.parse(j,$e.values[0]);N.push({stop:Lr,color:Ze})}else if($e.name==="to"){var Ze=pi.parse(j,$e.values[0]);N.push({stop:ii,color:Ze})}else if($e.name==="color-stop"){var wt=$e.values.filter(Ua);if(wt.length===2){var Ze=pi.parse(j,wt[1]),ps=wt[0];Zn(ps)&&N.push({stop:{type:16,number:ps.number*100,flags:ps.flags},color:Ze})}}}}),$===1?{angle:(S+Ji(180))%Ji(360),stops:N,type:$}:{size:fe,shape:te,stops:N,position:Se,type:$}},ih="closest-side",oh="farthest-side",lh="closest-corner",Ou="farthest-corner",ku="circle",fc="ellipse",po="cover",xA="contain",go=function(j,v){var S=0,N=3,$=[],te=[];return ai(v).forEach(function(fe,Se){var Ce=!0;if(Se===0){var Re=!1;Ce=fe.reduce(function(Ze,wt){if(Re)if(cn(wt))switch(wt.value){case"center":return te.push(Pc),Ze;case"top":case"left":return te.push(Lr),Ze;case"right":case"bottom":return te.push(ii),Ze}else(er(wt)||Oo(wt))&&te.push(wt);else if(cn(wt))switch(wt.value){case ku:return S=0,!1;case fc:return S=1,!1;case"at":return Re=!0,!1;case ih:return N=0,!1;case po:case oh:return N=1,!1;case xA:case lh:return N=2,!1;case Ou:return N=3,!1}else if(Oo(wt)||er(wt))return Array.isArray(N)||(N=[]),N.push(wt),!1;return Ze},Ce)}if(Ce){var $e=qi(j,fe);$.push($e)}}),{size:N,shape:S,stops:$,position:te,type:2}},Tl=function(j,v){var S=0,N=3,$=[],te=[];return ai(v).forEach(function(fe,Se){var Ce=!0;if(Se===0?Ce=fe.reduce(function($e,Ze){if(cn(Ze))switch(Ze.value){case"center":return te.push(Pc),!1;case"top":case"left":return te.push(Lr),!1;case"right":case"bottom":return te.push(ii),!1}else if(er(Ze)||Oo(Ze))return te.push(Ze),!1;return $e},Ce):Se===1&&(Ce=fe.reduce(function($e,Ze){if(cn(Ze))switch(Ze.value){case ku:return S=0,!1;case fc:return S=1,!1;case xA:case ih:return N=0,!1;case oh:return N=1,!1;case lh:return N=2,!1;case po:case Ou:return N=3,!1}else if(Oo(Ze)||er(Ze))return Array.isArray(N)||(N=[]),N.push(Ze),!1;return $e},Ce)),Ce){var Re=qi(j,fe);$.push(Re)}}),{size:N,shape:S,stops:$,position:te,type:2}},Pu=function(j){return j.type===1},nu=function(j){return j.type===2},zc={name:"image",parse:function(j,v){if(v.type===22){var S={url:v.value,type:0};return j.cache.addImage(v.value),S}if(v.type===18){var N=Il[v.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported image function "'+v.name+'"');return N(j,v.values)}throw new Error("Unsupported image type "+v.type)}};function Mu(j){return!(j.type===20&&j.value==="none")&&(j.type!==18||!!Il[j.name])}var Il={"linear-gradient":Kc,"-moz-linear-gradient":hc,"-ms-linear-gradient":hc,"-o-linear-gradient":hc,"-webkit-linear-gradient":hc,"radial-gradient":go,"-moz-radial-gradient":Tl,"-ms-radial-gradient":Tl,"-o-radial-gradient":Tl,"-webkit-radial-gradient":Tl,"-webkit-gradient":ah},ru={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(j,v){if(v.length===0)return[];var S=v[0];return S.type===20&&S.value==="none"?[]:v.filter(function(N){return Ua(N)&&Mu(N)}).map(function(N){return zc.parse(j,N)})}},Ui={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(j,v){return v.map(function(S){if(cn(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xi={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(j,v){return ai(v).map(function(S){return S.filter(er)}).map(ko)}},Hu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(j,v){return ai(v).map(function(S){return S.filter(cn).map(function(N){return N.value}).join(" ")}).map(Di)}},Di=function(j){switch(j){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Xl;(function(j){j.AUTO="auto",j.CONTAIN="contain",j.COVER="cover"})(Xl||(Xl={}));var Mo={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(j,v){return ai(v).map(function(S){return S.filter(au)})}},au=function(j){return cn(j)||er(j)},Jl=function(j){return{name:"border-"+j+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},mc=Jl("top"),iu=Jl("right"),Vu=Jl("bottom"),vA=Jl("left"),Gc=function(j){return{name:"border-radius-"+j,initialValue:"0 0",prefix:!1,type:1,parse:function(v,S){return ko(S.filter(er))}}},Ho=Gc("top-left"),yA=Gc("top-right"),$c=Gc("bottom-right"),Ku=Gc("bottom-left"),pc=function(j){return{name:"border-"+j+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(v,S){switch(S){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Vo=pc("top"),Ko=pc("right"),gc=pc("bottom"),zo=pc("left"),Zi=function(j){return{name:"border-"+j+"-width",initialValue:"0",type:0,prefix:!1,parse:function(v,S){return wa(S)?S.number:0}}},xo=Zi("top"),mf=Zi("right"),ch=Zi("bottom"),zu=Zi("left"),pf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(j,v){switch(v){case"rtl":return 1;case"ltr":default:return 0}}},Qr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(j,v){return v.filter(cn).reduce(function(S,N){return S|Dn(N.value)},0)}},Dn=function(j){switch(j){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},eo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ca={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(j,v){return v.type===20&&v.value==="normal"?0:v.type===17||v.type===15?v.number:0}},lo;(function(j){j.NORMAL="normal",j.STRICT="strict"})(lo||(lo={}));var xc={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"strict":return lo.STRICT;case"normal":default:return lo.NORMAL}}},Ah={name:"line-height",initialValue:"normal",prefix:!1,type:4},_l=function(j,v){return cn(j)&&j.value==="normal"?1.2*v:j.type===17?v*j.number:er(j)?Bn(j,v):v},yi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(j,v){return v.type===20&&v.value==="none"?null:zc.parse(j,v)}},Yc={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(j,v){switch(v){case"inside":return 0;case"outside":default:return 1}}},ou={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ql=function(j){return{name:"margin-"+j,initialValue:"0",prefix:!1,type:4}},Gu=ql("top"),vc=ql("right"),Fl=ql("bottom"),yc=ql("left"),Go={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(j,v){return v.filter(cn).map(function(S){switch(S.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ul=function(j){return{name:"padding-"+j,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},bc=Ul("top"),$u=Ul("right"),wc=Ul("bottom"),bi=Ul("left"),Yu={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(j,v){switch(v){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},gf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(j,v){switch(v){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Om={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.length===1&&Qo(v[0],"none")?[]:ai(v).map(function(S){for(var N={color:ja.TRANSPARENT,offsetX:Lr,offsetY:Lr,blur:Lr},$=0,te=0;te<S.length;te++){var fe=S[te];Oo(fe)?($===0?N.offsetX=fe:$===1?N.offsetY=fe:N.blur=fe,$++):N.color=pi.parse(j,fe)}return N})}},km={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Pm={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(j,v){if(v.type===20&&v.value==="none")return null;if(v.type===18){var S=lu[v.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported transform function "'+v.name+'"');return S(v.values)}return null}},Ba=function(j){var v=j.filter(function(S){return S.type===17}).map(function(S){return S.number});return v.length===6?v:null},wA=function(j){var v=j.filter(function(Ce){return Ce.type===17}).map(function(Ce){return Ce.number}),S=v[0],N=v[1];v[2],v[3];var $=v[4],te=v[5];v[6],v[7],v[8],v[9],v[10],v[11];var fe=v[12],Se=v[13];return v[14],v[15],v.length===16?[S,N,$,te,fe,Se]:null},lu={matrix:Ba,matrix3d:wA},jA={type:16,number:50,flags:Ga},Wu=[jA,jA],b={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(j,v){var S=v.filter(er);return S.length!==2?Wu:[S[0],S[1]]}},_={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(j,v){switch(v){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},z;(function(j){j.NORMAL="normal",j.BREAK_ALL="break-all",j.KEEP_ALL="keep-all"})(z||(z={}));for(var q={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"break-all":return z.BREAK_ALL;case"keep-all":return z.KEEP_ALL;case"normal":default:return z.NORMAL}}},de={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(j,v){if(v.type===20)return{auto:!0,order:0};if(Zn(v))return{auto:!1,order:v.number};throw new Error("Invalid z-index number parsed")}},me={name:"time",parse:function(j,v){if(v.type===15)switch(v.unit.toLowerCase()){case"s":return 1e3*v.number;case"ms":return v.number}throw new Error("Unsupported time type")}},pe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(j,v){return Zn(v)?v.number:1}},we={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Be={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(j,v){return v.filter(cn).map(function(S){switch(S.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(S){return S!==0})}},Ie={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(j,v){var S=[],N=[];return v.forEach(function($){switch($.type){case 20:case 0:S.push($.value);break;case 17:S.push($.number.toString());break;case 4:N.push(S.join(" ")),S.length=0;break}}),S.length&&N.push(S.join(" ")),N.map(function($){return $.indexOf(" ")===-1?$:"'"+$+"'"})}},Oe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},st={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(j,v){if(Zn(v))return v.number;if(cn(v))switch(v.value){case"bold":return 700;case"normal":default:return 400}return 400}},Te={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.filter(cn).map(function(S){return S.value})}},Ke={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(j,v){switch(v){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ge=function(j,v){return(j&v)!==0},bt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(j,v){if(v.length===0)return[];var S=v[0];return S.type===20&&S.value==="none"?[]:v}},et={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return null;var S=v[0];if(S.type===20&&S.value==="none")return null;for(var N=[],$=v.filter(hl),te=0;te<$.length;te++){var fe=$[te],Se=$[te+1];if(fe.type===20){var Ce=Se&&Zn(Se)?Se.number:1;N.push({counter:fe.value,increment:Ce})}}return N}},vt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return[];for(var S=[],N=v.filter(hl),$=0;$<N.length;$++){var te=N[$],fe=N[$+1];if(cn(te)&&te.value!=="none"){var Se=fe&&Zn(fe)?fe.number:0;S.push({counter:te.value,reset:Se})}}return S}},St={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(j,v){return v.filter(wa).map(function(S){return me.parse(j,S)})}},Wt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(j,v){if(v.length===0)return null;var S=v[0];if(S.type===20&&S.value==="none")return null;var N=[],$=v.filter(mo);if($.length%2!==0)return null;for(var te=0;te<$.length;te+=2){var fe=$[te].value,Se=$[te+1].value;N.push({open:fe,close:Se})}return N}},Dt=function(j,v,S){if(!j)return"";var N=j[Math.min(v,j.length-1)];return N?S?N.open:N.close:""},Cs={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,v){return v.length===1&&Qo(v[0],"none")?[]:ai(v).map(function(S){for(var N={color:255,offsetX:Lr,offsetY:Lr,blur:Lr,spread:Lr,inset:!1},$=0,te=0;te<S.length;te++){var fe=S[te];Qo(fe,"inset")?N.inset=!0:Oo(fe)?($===0?N.offsetX=fe:$===1?N.offsetY=fe:$===2?N.blur=fe:N.spread=fe,$++):N.color=pi.parse(j,fe)}return N})}},ys={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(j,v){var S=[0,1,2],N=[];return v.filter(cn).forEach(function($){switch($.value){case"stroke":N.push(1);break;case"fill":N.push(0);break;case"markers":N.push(2);break}}),S.forEach(function($){N.indexOf($)===-1&&N.push($)}),N}},nn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Bs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(j,v){return wa(v)?v.number:0}},_n=(function(){function j(v,S){var N,$;this.animationDuration=pt(v,St,S.animationDuration),this.backgroundClip=pt(v,Wl,S.backgroundClip),this.backgroundColor=pt(v,Fi,S.backgroundColor),this.backgroundImage=pt(v,ru,S.backgroundImage),this.backgroundOrigin=pt(v,Ui,S.backgroundOrigin),this.backgroundPosition=pt(v,xi,S.backgroundPosition),this.backgroundRepeat=pt(v,Hu,S.backgroundRepeat),this.backgroundSize=pt(v,Mo,S.backgroundSize),this.borderTopColor=pt(v,mc,S.borderTopColor),this.borderRightColor=pt(v,iu,S.borderRightColor),this.borderBottomColor=pt(v,Vu,S.borderBottomColor),this.borderLeftColor=pt(v,vA,S.borderLeftColor),this.borderTopLeftRadius=pt(v,Ho,S.borderTopLeftRadius),this.borderTopRightRadius=pt(v,yA,S.borderTopRightRadius),this.borderBottomRightRadius=pt(v,$c,S.borderBottomRightRadius),this.borderBottomLeftRadius=pt(v,Ku,S.borderBottomLeftRadius),this.borderTopStyle=pt(v,Vo,S.borderTopStyle),this.borderRightStyle=pt(v,Ko,S.borderRightStyle),this.borderBottomStyle=pt(v,gc,S.borderBottomStyle),this.borderLeftStyle=pt(v,zo,S.borderLeftStyle),this.borderTopWidth=pt(v,xo,S.borderTopWidth),this.borderRightWidth=pt(v,mf,S.borderRightWidth),this.borderBottomWidth=pt(v,ch,S.borderBottomWidth),this.borderLeftWidth=pt(v,zu,S.borderLeftWidth),this.boxShadow=pt(v,Cs,S.boxShadow),this.color=pt(v,pf,S.color),this.direction=pt(v,vi,S.direction),this.display=pt(v,Qr,S.display),this.float=pt(v,eo,S.cssFloat),this.fontFamily=pt(v,Ie,S.fontFamily),this.fontSize=pt(v,Oe,S.fontSize),this.fontStyle=pt(v,Ke,S.fontStyle),this.fontVariant=pt(v,Te,S.fontVariant),this.fontWeight=pt(v,st,S.fontWeight),this.letterSpacing=pt(v,ca,S.letterSpacing),this.lineBreak=pt(v,xc,S.lineBreak),this.lineHeight=pt(v,Ah,S.lineHeight),this.listStyleImage=pt(v,yi,S.listStyleImage),this.listStylePosition=pt(v,Yc,S.listStylePosition),this.listStyleType=pt(v,ou,S.listStyleType),this.marginTop=pt(v,Gu,S.marginTop),this.marginRight=pt(v,vc,S.marginRight),this.marginBottom=pt(v,Fl,S.marginBottom),this.marginLeft=pt(v,yc,S.marginLeft),this.opacity=pt(v,pe,S.opacity);var te=pt(v,Go,S.overflow);this.overflowX=te[0],this.overflowY=te[te.length>1?1:0],this.overflowWrap=pt(v,bA,S.overflowWrap),this.paddingTop=pt(v,bc,S.paddingTop),this.paddingRight=pt(v,$u,S.paddingRight),this.paddingBottom=pt(v,wc,S.paddingBottom),this.paddingLeft=pt(v,bi,S.paddingLeft),this.paintOrder=pt(v,ys,S.paintOrder),this.position=pt(v,gf,S.position),this.textAlign=pt(v,Yu,S.textAlign),this.textDecorationColor=pt(v,we,(N=S.textDecorationColor)!==null&&N!==void 0?N:S.color),this.textDecorationLine=pt(v,Be,($=S.textDecorationLine)!==null&&$!==void 0?$:S.textDecoration),this.textShadow=pt(v,Om,S.textShadow),this.textTransform=pt(v,km,S.textTransform),this.transform=pt(v,Pm,S.transform),this.transformOrigin=pt(v,b,S.transformOrigin),this.visibility=pt(v,_,S.visibility),this.webkitTextStrokeColor=pt(v,nn,S.webkitTextStrokeColor),this.webkitTextStrokeWidth=pt(v,Bs,S.webkitTextStrokeWidth),this.wordBreak=pt(v,q,S.wordBreak),this.zIndex=pt(v,de,S.zIndex)}return j.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},j.prototype.isTransparent=function(){return gi(this.backgroundColor)},j.prototype.isTransformed=function(){return this.transform!==null},j.prototype.isPositioned=function(){return this.position!==0},j.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},j.prototype.isFloating=function(){return this.float!==0},j.prototype.isInlineLevel=function(){return Ge(this.display,4)||Ge(this.display,33554432)||Ge(this.display,268435456)||Ge(this.display,536870912)||Ge(this.display,67108864)||Ge(this.display,134217728)},j})(),Or=(function(){function j(v,S){this.content=pt(v,bt,S.content),this.quotes=pt(v,Wt,S.quotes)}return j})(),hn=(function(){function j(v,S){this.counterIncrement=pt(v,et,S.counterIncrement),this.counterReset=pt(v,vt,S.counterReset)}return j})(),pt=function(j,v,S){var N=new Qn,$=S!==null&&typeof S<"u"?S.toString():v.initialValue;N.write($);var te=new ba(N.read());switch(v.type){case 2:var fe=te.parseComponentValue();return v.parse(j,cn(fe)?fe.value:v.initialValue);case 0:return v.parse(j,te.parseComponentValue());case 1:return v.parse(j,te.parseComponentValues());case 4:return te.parseComponentValue();case 3:switch(v.format){case"angle":return Yl.parse(j,te.parseComponentValue());case"color":return pi.parse(j,te.parseComponentValue());case"image":return zc.parse(j,te.parseComponentValue());case"length":var Se=te.parseComponentValue();return Oo(Se)?Se:Lr;case"length-percentage":var Ce=te.parseComponentValue();return er(Ce)?Ce:Lr;case"time":return me.parse(j,te.parseComponentValue())}break}},ls="data-html2canvas-debug",qr=function(j){var v=j.getAttribute(ls);switch(v){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Gs=function(j,v){var S=qr(j);return S===1||v===S},Ws=(function(){function j(v,S){if(this.context=v,this.textNodes=[],this.elements=[],this.flags=0,Gs(S,3))debugger;this.styles=new _n(v,window.getComputedStyle(S,null)),vh(S)&&(this.styles.animationDuration.some(function(N){return N>0})&&(S.style.animationDuration="0s"),this.styles.transform!==null&&(S.style.transform="none")),this.bounds=f(this.context,S),Gs(S,4)&&(this.flags|=16)}return j})(),fr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Na=typeof Uint8Array>"u"?[]:new Uint8Array(256),mr=0;mr<Da.length;mr++)Na[Da.charCodeAt(mr)]=mr;for(var Ra=function(j){var v=j.length*.75,S=j.length,N,$=0,te,fe,Se,Ce;j[j.length-1]==="="&&(v--,j[j.length-2]==="="&&v--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),$e=Array.isArray(Re)?Re:new Uint8Array(Re);for(N=0;N<S;N+=4)te=Na[j.charCodeAt(N)],fe=Na[j.charCodeAt(N+1)],Se=Na[j.charCodeAt(N+2)],Ce=Na[j.charCodeAt(N+3)],$e[$++]=te<<2|fe>>4,$e[$++]=(fe&15)<<4|Se>>2,$e[$++]=(Se&3)<<6|Ce&63;return Re},Ri=function(j){for(var v=j.length,S=[],N=0;N<v;N+=2)S.push(j[N+1]<<8|j[N]);return S},La=function(j){for(var v=j.length,S=[],N=0;N<v;N+=4)S.push(j[N+3]<<24|j[N+2]<<16|j[N+1]<<8|j[N]);return S},An=5,kn=11,kr=2,or=kn-An,Qa=65536>>An,Zr=1<<An,Pn=Zr-1,Sa=1024>>An,pr=Qa+Sa,Oa=pr,ka=32,jr=Oa+ka,Wn=65536>>kn,Li=1<<or,Aa=Li-1,ks=function(j,v,S){return j.slice?j.slice(v,S):new Uint16Array(Array.prototype.slice.call(j,v,S))},Ks=function(j,v,S){return j.slice?j.slice(v,S):new Uint32Array(Array.prototype.slice.call(j,v,S))},sr=function(j,v){var S=Ra(j),N=Array.isArray(S)?La(S):new Uint32Array(S),$=Array.isArray(S)?Ri(S):new Uint16Array(S),te=24,fe=ks($,te/2,N[4]/2),Se=N[5]===2?ks($,(te+N[4])/2):Ks(N,Math.ceil((te+N[4])/4));return new co(N[0],N[1],N[2],N[3],fe,Se)},co=(function(){function j(v,S,N,$,te,fe){this.initialValue=v,this.errorValue=S,this.highStart=N,this.highValueIndex=$,this.index=te,this.data=fe}return j.prototype.get=function(v){var S;if(v>=0){if(v<55296||v>56319&&v<=65535)return S=this.index[v>>An],S=(S<<kr)+(v&Pn),this.data[S];if(v<=65535)return S=this.index[Qa+(v-55296>>An)],S=(S<<kr)+(v&Pn),this.data[S];if(v<this.highStart)return S=jr-Wn+(v>>kn),S=this.index[S],S+=v>>An&Aa,S=this.index[S],S=(S<<kr)+(v&Pn),this.data[S];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",to=typeof Uint8Array>"u"?[]:new Uint8Array(256),ea=0;ea<vo.length;ea++)to[vo.charCodeAt(ea)]=ea;var jc=1,Dl=2,BA=3,Br=4,Xu=5,uh=7,cu=8,yl=9,dh=10,Ju=11,qu=12,Au=13,qa=14,Gr=15,uu=function(j){for(var v=[],S=0,N=j.length;S<N;){var $=j.charCodeAt(S++);if($>=55296&&$<=56319&&S<N){var te=j.charCodeAt(S++);(te&64512)===56320?v.push((($&1023)<<10)+(te&1023)+65536):(v.push($),S--)}else v.push($)}return v},Bc=function(){for(var j=[],v=0;v<arguments.length;v++)j[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var S=j.length;if(!S)return"";for(var N=[],$=-1,te="";++$<S;){var fe=j[$];fe<=65535?N.push(fe):(fe-=65536,N.push((fe>>10)+55296,fe%1024+56320)),($+1===S||N.length>16384)&&(te+=String.fromCharCode.apply(String,N),N.length=0)}return te},NA=sr(fr),oi="",$o="",Zu=function(j){return NA.get(j)},SA=function(j,v,S){var N=S-2,$=v[N],te=v[S-1],fe=v[S];if(te===Dl&&fe===BA)return oi;if(te===Dl||te===BA||te===Br||fe===Dl||fe===BA||fe===Br)return $o;if(te===cu&&[cu,yl,Ju,qu].indexOf(fe)!==-1||(te===Ju||te===yl)&&(fe===yl||fe===dh)||(te===qu||te===dh)&&fe===dh||fe===Au||fe===Xu||fe===uh||te===jc)return oi;if(te===Au&&fe===qa){for(;$===Xu;)$=v[--N];if($===qa)return oi}if(te===Gr&&fe===Gr){for(var Se=0;$===Gr;)Se++,$=v[--N];if(Se%2===0)return oi}return $o},ed=function(j){var v=uu(j),S=v.length,N=0,$=0,te=v.map(Zu);return{next:function(){if(N>=S)return{done:!0,value:null};for(var fe=oi;N<S&&(fe=SA(v,te,++N))===oi;);if(fe!==oi||N===S){var Se=Bc.apply(null,v.slice($,N));return $=N,{value:Se,done:!1}}return{done:!0,value:null}}}},td=function(j){for(var v=ed(j),S=[],N;!(N=v.next()).done;)N.value&&S.push(N.value.slice());return S},Zl=function(j){var v=123;if(j.createRange){var S=j.createRange();if(S.getBoundingClientRect){var N=j.createElement("boundtest");N.style.height=v+"px",N.style.display="block",j.body.appendChild(N),S.selectNode(N);var $=S.getBoundingClientRect(),te=Math.round($.height);if(j.body.removeChild(N),te===v)return!0}}return!1},hh=function(j){var v=j.createElement("boundtest");v.style.width="50px",v.style.display="block",v.style.fontSize="12px",v.style.letterSpacing="0px",v.style.wordSpacing="0px",j.body.appendChild(v);var S=j.createRange();v.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var N=v.firstChild,$=m(N.data).map(function(Ce){return x(Ce)}),te=0,fe={},Se=$.every(function(Ce,Re){S.setStart(N,te),S.setEnd(N,te+Ce.length);var $e=S.getBoundingClientRect();te+=Ce.length;var Ze=$e.x>fe.x||$e.y>fe.y;return fe=$e,Re===0?!0:Ze});return j.body.removeChild(v),Se},fh=function(){return typeof new Image().crossOrigin<"u"},xf=function(){return typeof new XMLHttpRequest().responseType=="string"},mh=function(j){var v=new Image,S=j.createElement("canvas"),N=S.getContext("2d");if(!N)return!1;v.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{N.drawImage(v,0,0),S.toDataURL()}catch{return!1}return!0},ec=function(j){return j[0]===0&&j[1]===255&&j[2]===0&&j[3]===255},vf=function(j){var v=j.createElement("canvas"),S=100;v.width=S,v.height=S;var N=v.getContext("2d");if(!N)return Promise.reject(!1);N.fillStyle="rgb(0, 255, 0)",N.fillRect(0,0,S,S);var $=new Image,te=v.toDataURL();$.src=te;var fe=sd(S,S,0,0,$);return N.fillStyle="red",N.fillRect(0,0,S,S),ph(fe).then(function(Se){N.drawImage(Se,0,0);var Ce=N.getImageData(0,0,S,S).data;N.fillStyle="red",N.fillRect(0,0,S,S);var Re=j.createElement("div");return Re.style.backgroundImage="url("+te+")",Re.style.height=S+"px",ec(Ce)?ph(sd(S,S,0,0,Re)):Promise.reject(!1)}).then(function(Se){return N.drawImage(Se,0,0),ec(N.getImageData(0,0,S,S).data)}).catch(function(){return!1})},sd=function(j,v,S,N,$){var te="http://www.w3.org/2000/svg",fe=document.createElementNS(te,"svg"),Se=document.createElementNS(te,"foreignObject");return fe.setAttributeNS(null,"width",j.toString()),fe.setAttributeNS(null,"height",v.toString()),Se.setAttributeNS(null,"width","100%"),Se.setAttributeNS(null,"height","100%"),Se.setAttributeNS(null,"x",S.toString()),Se.setAttributeNS(null,"y",N.toString()),Se.setAttributeNS(null,"externalResourcesRequired","true"),fe.appendChild(Se),Se.appendChild($),fe},ph=function(j){return new Promise(function(v,S){var N=new Image;N.onload=function(){return v(N)},N.onerror=S,N.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Za={get SUPPORT_RANGE_BOUNDS(){var j=Zl(document);return Object.defineProperty(Za,"SUPPORT_RANGE_BOUNDS",{value:j}),j},get SUPPORT_WORD_BREAKING(){var j=Za.SUPPORT_RANGE_BOUNDS&&hh(document);return Object.defineProperty(Za,"SUPPORT_WORD_BREAKING",{value:j}),j},get SUPPORT_SVG_DRAWING(){var j=mh(document);return Object.defineProperty(Za,"SUPPORT_SVG_DRAWING",{value:j}),j},get SUPPORT_FOREIGNOBJECT_DRAWING(){var j=typeof Array.from=="function"&&typeof window.fetch=="function"?vf(document):Promise.resolve(!1);return Object.defineProperty(Za,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:j}),j},get SUPPORT_CORS_IMAGES(){var j=fh();return Object.defineProperty(Za,"SUPPORT_CORS_IMAGES",{value:j}),j},get SUPPORT_RESPONSE_TYPE(){var j=xf();return Object.defineProperty(Za,"SUPPORT_RESPONSE_TYPE",{value:j}),j},get SUPPORT_CORS_XHR(){var j="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Za,"SUPPORT_CORS_XHR",{value:j}),j},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var j=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Za,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:j}),j}},CA=(function(){function j(v,S){this.text=v,this.bounds=S}return j})(),Wc=function(j,v,S,N){var $=sc(v,S),te=[],fe=0;return $.forEach(function(Se){if(S.textDecorationLine.length||Se.trim().length>0)if(Za.SUPPORT_RANGE_BOUNDS){var Ce=EA(N,fe,Se.length).getClientRects();if(Ce.length>1){var Re=Yo(Se),$e=0;Re.forEach(function(wt){te.push(new CA(wt,u.fromDOMRectList(j,EA(N,$e+fe,wt.length).getClientRects()))),$e+=wt.length})}else te.push(new CA(Se,u.fromDOMRectList(j,Ce)))}else{var Ze=N.splitText(Se.length);te.push(new CA(Se,nd(j,N))),N=Ze}else Za.SUPPORT_RANGE_BOUNDS||(N=N.splitText(Se.length));fe+=Se.length}),te},nd=function(j,v){var S=v.ownerDocument;if(S){var N=S.createElement("html2canvaswrapper");N.appendChild(v.cloneNode(!0));var $=v.parentNode;if($){$.replaceChild(N,v);var te=f(j,N);return N.firstChild&&$.replaceChild(N.firstChild,N),te}}return u.EMPTY},EA=function(j,v,S){var N=j.ownerDocument;if(!N)throw new Error("Node has no owner document");var $=N.createRange();return $.setStart(j,v),$.setEnd(j,v+S),$},Yo=function(j){if(Za.SUPPORT_NATIVE_TEXT_SEGMENTATION){var v=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(v.segment(j)).map(function(S){return S.segment})}return td(j)},tc=function(j,v){if(Za.SUPPORT_NATIVE_TEXT_SEGMENTATION){var S=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(S.segment(j)).map(function(N){return N.segment})}return ad(j,v)},sc=function(j,v){return v.letterSpacing!==0?Yo(j):tc(j,v)},rd=[32,160,4961,65792,65793,4153,4241],ad=function(j,v){for(var S=Fr(j,{lineBreak:v.lineBreak,wordBreak:v.overflowWrap==="break-word"?"break-word":v.wordBreak}),N=[],$,te=function(){if($.value){var fe=$.value.slice(),Se=m(fe),Ce="";Se.forEach(function(Re){rd.indexOf(Re)===-1?Ce+=x(Re):(Ce.length&&N.push(Ce),N.push(x(Re)),Ce="")}),Ce.length&&N.push(Ce)}};!($=S.next()).done;)te();return N},Xc=(function(){function j(v,S,N){this.text=yf(S.data,N.textTransform),this.textBounds=Wc(v,this.text,N,S)}return j})(),yf=function(j,v){switch(v){case 1:return j.toLowerCase();case 3:return j.replace(TA,IA);case 2:return j.toUpperCase();default:return j}},TA=/(^|\s|:|-|\(|\))([a-z])/g,IA=function(j,v,S){return j.length>0?v+S.toUpperCase():j},Mm=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;return $.src=N.currentSrc||N.src,$.intrinsicWidth=N.naturalWidth,$.intrinsicHeight=N.naturalHeight,$.context.cache.addImage($.src),$}return v})(Ws),bf=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;return $.canvas=N,$.intrinsicWidth=N.width,$.intrinsicHeight=N.height,$}return v})(Ws),Jg=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this,te=new XMLSerializer,fe=f(S,N);return N.setAttribute("width",fe.width+"px"),N.setAttribute("height",fe.height+"px"),$.svg="data:image/svg+xml,"+encodeURIComponent(te.serializeToString(N)),$.intrinsicWidth=N.width.baseVal.value,$.intrinsicHeight=N.height.baseVal.value,$.context.cache.addImage($.svg),$}return v})(Ws),Hm=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;return $.value=N.value,$}return v})(Ws),wf=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;return $.start=N.start,$.reversed=typeof N.reversed=="boolean"&&N.reversed===!0,$}return v})(Ws),qg=[{type:15,flags:0,unit:"px",number:3}],Zg=[{type:16,flags:0,number:50}],e0=function(j){return j.width>j.height?new u(j.left+(j.width-j.height)/2,j.top,j.height,j.height):j.width<j.height?new u(j.left,j.top+(j.height-j.width)/2,j.width,j.width):j},Vm=function(j){var v=j.type===Km?new Array(j.value.length+1).join(""):j.value;return v.length===0?j.placeholder||"":v},gh="checkbox",xh="radio",Km="password",zm=707406591,jf=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;switch($.type=N.type.toLowerCase(),$.checked=N.checked,$.value=Vm(N),($.type===gh||$.type===xh)&&($.styles.backgroundColor=3739148031,$.styles.borderTopColor=$.styles.borderRightColor=$.styles.borderBottomColor=$.styles.borderLeftColor=2779096575,$.styles.borderTopWidth=$.styles.borderRightWidth=$.styles.borderBottomWidth=$.styles.borderLeftWidth=1,$.styles.borderTopStyle=$.styles.borderRightStyle=$.styles.borderBottomStyle=$.styles.borderLeftStyle=1,$.styles.backgroundClip=[0],$.styles.backgroundOrigin=[0],$.bounds=e0($.bounds)),$.type){case gh:$.styles.borderTopRightRadius=$.styles.borderTopLeftRadius=$.styles.borderBottomRightRadius=$.styles.borderBottomLeftRadius=qg;break;case xh:$.styles.borderTopRightRadius=$.styles.borderTopLeftRadius=$.styles.borderBottomRightRadius=$.styles.borderBottomLeftRadius=Zg;break}return $}return v})(Ws),t0=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this,te=N.options[N.selectedIndex||0];return $.value=te&&te.text||"",$}return v})(Ws),Bf=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;return $.value=N.value,$}return v})(Ws),Gm=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;$.src=N.src,$.width=parseInt(N.width,10)||0,$.height=parseInt(N.height,10)||0,$.backgroundColor=$.styles.backgroundColor;try{if(N.contentWindow&&N.contentWindow.document&&N.contentWindow.document.documentElement){$.tree=Ym(S,N.contentWindow.document.documentElement);var te=N.contentWindow.document.documentElement?gl(S,getComputedStyle(N.contentWindow.document.documentElement).backgroundColor):ja.TRANSPARENT,fe=N.contentWindow.document.body?gl(S,getComputedStyle(N.contentWindow.document.body).backgroundColor):ja.TRANSPARENT;$.backgroundColor=gi(te)?gi(fe)?$.styles.backgroundColor:fe:te}}catch{}return $}return v})(Ws),s0=["OL","UL","MENU"],id=function(j,v,S,N){for(var $=v.firstChild,te=void 0;$;$=te)if(te=$.nextSibling,Wm($)&&$.data.trim().length>0)S.textNodes.push(new Xc(j,$,S.styles));else if(Nc($))if(jh($)&&$.assignedNodes)$.assignedNodes().forEach(function(Se){return id(j,Se,S,N)});else{var fe=$m(j,$);fe.styles.isVisible()&&(Wv($,fe,N)?fe.flags|=4:Xv(fe.styles)&&(fe.flags|=2),s0.indexOf($.tagName)!==-1&&(fe.flags|=8),S.elements.push(fe),$.slot,$.shadowRoot?id(j,$.shadowRoot,fe,N):!bh($)&&!Nf($)&&!wh($)&&id(j,$,fe,N))}},$m=function(j,v){return Tf(v)?new Mm(j,v):Cf(v)?new bf(j,v):Nf(v)?new Jg(j,v):n0(v)?new Hm(j,v):r0(v)?new wf(j,v):yh(v)?new jf(j,v):wh(v)?new t0(j,v):bh(v)?new Bf(j,v):Xm(v)?new Gm(j,v):new Ws(j,v)},Ym=function(j,v){var S=$m(j,v);return S.flags|=4,id(j,v,S,S),S},Wv=function(j,v,S){return v.styles.isPositionedWithZIndex()||v.styles.opacity<1||v.styles.isTransformed()||Sf(j)&&S.styles.isTransparent()},Xv=function(j){return j.isPositioned()||j.isFloating()},Wm=function(j){return j.nodeType===Node.TEXT_NODE},Nc=function(j){return j.nodeType===Node.ELEMENT_NODE},vh=function(j){return Nc(j)&&typeof j.style<"u"&&!du(j)},du=function(j){return typeof j.className=="object"},n0=function(j){return j.tagName==="LI"},r0=function(j){return j.tagName==="OL"},yh=function(j){return j.tagName==="INPUT"},a0=function(j){return j.tagName==="HTML"},Nf=function(j){return j.tagName==="svg"},Sf=function(j){return j.tagName==="BODY"},Cf=function(j){return j.tagName==="CANVAS"},Ef=function(j){return j.tagName==="VIDEO"},Tf=function(j){return j.tagName==="IMG"},Xm=function(j){return j.tagName==="IFRAME"},_A=function(j){return j.tagName==="STYLE"},i0=function(j){return j.tagName==="SCRIPT"},bh=function(j){return j.tagName==="TEXTAREA"},wh=function(j){return j.tagName==="SELECT"},jh=function(j){return j.tagName==="SLOT"},Jm=function(j){return j.tagName.indexOf("-")>0},qm=(function(){function j(){this.counters={}}return j.prototype.getCounterValue=function(v){var S=this.counters[v];return S&&S.length?S[S.length-1]:1},j.prototype.getCounterValues=function(v){var S=this.counters[v];return S||[]},j.prototype.pop=function(v){var S=this;v.forEach(function(N){return S.counters[N].pop()})},j.prototype.parse=function(v){var S=this,N=v.counterIncrement,$=v.counterReset,te=!0;N!==null&&N.forEach(function(Se){var Ce=S.counters[Se.counter];Ce&&Se.increment!==0&&(te=!1,Ce.length||Ce.push(1),Ce[Math.max(0,Ce.length-1)]+=Se.increment)});var fe=[];return te&&$.forEach(function(Se){var Ce=S.counters[Se.counter];fe.push(Se.counter),Ce||(Ce=S.counters[Se.counter]=[]),Ce.push(Se.reset)}),fe},j})(),Zm={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ep={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Jv={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tp={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ta=function(j,v,S,N,$,te){return j<v||j>S?ld(j,$,te.length>0):N.integers.reduce(function(fe,Se,Ce){for(;j>=Se;)j-=Se,fe+=N.values[Ce];return fe},"")+te},Qi=function(j,v,S,N){var $="";do S||j--,$=N(j)+$,j/=v;while(j*v>=v);return $},Pa=function(j,v,S,N,$){var te=S-v+1;return(j<0?"-":"")+(Qi(Math.abs(j),te,N,function(fe){return x(Math.floor(fe%te)+v)})+$)},FA=function(j,v,S){S===void 0&&(S=". ");var N=v.length;return Qi(Math.abs(j),N,!1,function($){return v[Math.floor($%N)]})+S},hu=1,Jc=2,Rl=4,od=8,Ll=function(j,v,S,N,$,te){if(j<-9999||j>9999)return ld(j,4,$.length>0);var fe=Math.abs(j),Se=$;if(fe===0)return v[0]+Se;for(var Ce=0;fe>0&&Ce<=4;Ce++){var Re=fe%10;Re===0&&Ge(te,hu)&&Se!==""?Se=v[Re]+Se:Re>1||Re===1&&Ce===0||Re===1&&Ce===1&&Ge(te,Jc)||Re===1&&Ce===1&&Ge(te,Rl)&&j>100||Re===1&&Ce>1&&Ge(te,od)?Se=v[Re]+(Ce>0?S[Ce-1]:"")+Se:Re===1&&Ce>0&&(Se=S[Ce-1]+Se),fe=Math.floor(fe/10)}return(j<0?N:"")+Se},sp="",o0="",Bh="",Nh="",ld=function(j,v,S){var N=S?". ":"",$=S?"":"",te=S?", ":"",fe=S?" ":"";switch(v){case 0:return""+fe;case 1:return""+fe;case 2:return""+fe;case 5:var Se=Pa(j,48,57,!0,N);return Se.length<4?"0"+Se:Se;case 4:return FA(j,"",$);case 6:return ta(j,1,3999,Zm,3,N).toLowerCase();case 7:return ta(j,1,3999,Zm,3,N);case 8:return Pa(j,945,969,!1,N);case 9:return Pa(j,97,122,!1,N);case 10:return Pa(j,65,90,!1,N);case 11:return Pa(j,1632,1641,!0,N);case 12:case 49:return ta(j,1,9999,ep,3,N);case 35:return ta(j,1,9999,ep,3,N).toLowerCase();case 13:return Pa(j,2534,2543,!0,N);case 14:case 30:return Pa(j,6112,6121,!0,N);case 15:return FA(j,"",$);case 16:return FA(j,"",$);case 17:case 48:return Ll(j,"",sp,"",$,Jc|Rl|od);case 47:return Ll(j,"",o0,"",$,hu|Jc|Rl|od);case 42:return Ll(j,"",sp,"",$,Jc|Rl|od);case 41:return Ll(j,"",o0,"",$,hu|Jc|Rl|od);case 26:return Ll(j,"","",Bh,$,0);case 25:return Ll(j,"","",Bh,$,hu|Jc|Rl);case 31:return Ll(j,"","",Nh,te,hu|Jc|Rl);case 33:return Ll(j,"","",Nh,te,0);case 32:return Ll(j,"","",Nh,te,hu|Jc|Rl);case 18:return Pa(j,2406,2415,!0,N);case 20:return ta(j,1,19999,tp,3,N);case 21:return Pa(j,2790,2799,!0,N);case 22:return Pa(j,2662,2671,!0,N);case 22:return ta(j,1,10999,Jv,3,N);case 23:return FA(j,"");case 24:return FA(j,"");case 27:return Pa(j,3302,3311,!0,N);case 28:return FA(j,"",$);case 29:return FA(j,"",$);case 34:return Pa(j,3792,3801,!0,N);case 37:return Pa(j,6160,6169,!0,N);case 38:return Pa(j,4160,4169,!0,N);case 39:return Pa(j,2918,2927,!0,N);case 40:return Pa(j,1776,1785,!0,N);case 43:return Pa(j,3046,3055,!0,N);case 44:return Pa(j,3174,3183,!0,N);case 45:return Pa(j,3664,3673,!0,N);case 46:return Pa(j,3872,3881,!0,N);case 3:default:return Pa(j,48,57,!0,N)}},np="data-html2canvas-ignore",rp=(function(){function j(v,S,N){if(this.context=v,this.options=N,this.scrolledElements=[],this.referenceElement=S,this.counters=new qm,this.quoteDepth=0,!S.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(S.ownerDocument.documentElement,!1)}return j.prototype.toIFrame=function(v,S){var N=this,$=ap(v,S);if(!$.contentWindow)return Promise.reject("Unable to find iframe window");var te=v.defaultView.pageXOffset,fe=v.defaultView.pageYOffset,Se=$.contentWindow,Ce=Se.document,Re=op($).then(function(){return o(N,void 0,void 0,function(){var $e,Ze;return A(this,function(wt){switch(wt.label){case 0:return this.scrolledElements.forEach(A0),Se&&(Se.scrollTo(S.left,S.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Se.scrollY!==S.top||Se.scrollX!==S.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Se.scrollX-S.left,Se.scrollY-S.top,0,0))),$e=this.options.onclone,Ze=this.clonedReferenceElement,typeof Ze>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ce.fonts&&Ce.fonts.ready?[4,Ce.fonts.ready]:[3,2];case 1:wt.sent(),wt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,l0(Ce)]:[3,4];case 3:wt.sent(),wt.label=4;case 4:return typeof $e=="function"?[2,Promise.resolve().then(function(){return $e(Ce,Ze)}).then(function(){return $})]:[2,$]}})})});return Ce.open(),Ce.write(c0(document.doctype)+"<html></html>"),lp(this.referenceElement.ownerDocument,te,fe),Ce.replaceChild(Ce.adoptNode(this.documentElement),Ce.documentElement),Ce.close(),Re},j.prototype.createElementClone=function(v){if(Gs(v,2))debugger;if(Cf(v))return this.createCanvasClone(v);if(Ef(v))return this.createVideoClone(v);if(_A(v))return this.createStyleClone(v);var S=v.cloneNode(!1);return Tf(S)&&(Tf(v)&&v.currentSrc&&v.currentSrc!==v.src&&(S.src=v.currentSrc,S.srcset=""),S.loading==="lazy"&&(S.loading="eager")),Jm(S)?this.createCustomElementClone(S):S},j.prototype.createCustomElementClone=function(v){var S=document.createElement("html2canvascustomelement");return Sh(v.style,S),S},j.prototype.createStyleClone=function(v){try{var S=v.sheet;if(S&&S.cssRules){var N=[].slice.call(S.cssRules,0).reduce(function(te,fe){return fe&&typeof fe.cssText=="string"?te+fe.cssText:te},""),$=v.cloneNode(!1);return $.textContent=N,$}}catch(te){if(this.context.logger.error("Unable to access cssRules property",te),te.name!=="SecurityError")throw te}return v.cloneNode(!1)},j.prototype.createCanvasClone=function(v){var S;if(this.options.inlineImages&&v.ownerDocument){var N=v.ownerDocument.createElement("img");try{return N.src=v.toDataURL(),N}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",v)}}var $=v.cloneNode(!1);try{$.width=v.width,$.height=v.height;var te=v.getContext("2d"),fe=$.getContext("2d");if(fe)if(!this.options.allowTaint&&te)fe.putImageData(te.getImageData(0,0,v.width,v.height),0,0);else{var Se=(S=v.getContext("webgl2"))!==null&&S!==void 0?S:v.getContext("webgl");if(Se){var Ce=Se.getContextAttributes();(Ce==null?void 0:Ce.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",v)}fe.drawImage(v,0,0)}return $}catch{this.context.logger.info("Unable to clone canvas as it is tainted",v)}return $},j.prototype.createVideoClone=function(v){var S=v.ownerDocument.createElement("canvas");S.width=v.offsetWidth,S.height=v.offsetHeight;var N=S.getContext("2d");try{return N&&(N.drawImage(v,0,0,S.width,S.height),this.options.allowTaint||N.getImageData(0,0,S.width,S.height)),S}catch{this.context.logger.info("Unable to clone video as it is tainted",v)}var $=v.ownerDocument.createElement("canvas");return $.width=v.offsetWidth,$.height=v.offsetHeight,$},j.prototype.appendChildNode=function(v,S,N){(!Nc(S)||!i0(S)&&!S.hasAttribute(np)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(S)))&&(!this.options.copyStyles||!Nc(S)||!_A(S))&&v.appendChild(this.cloneNode(S,N))},j.prototype.cloneChildNodes=function(v,S,N){for(var $=this,te=v.shadowRoot?v.shadowRoot.firstChild:v.firstChild;te;te=te.nextSibling)if(Nc(te)&&jh(te)&&typeof te.assignedNodes=="function"){var fe=te.assignedNodes();fe.length&&fe.forEach(function(Se){return $.appendChildNode(S,Se,N)})}else this.appendChildNode(S,te,N)},j.prototype.cloneNode=function(v,S){if(Wm(v))return document.createTextNode(v.data);if(!v.ownerDocument)return v.cloneNode(!1);var N=v.ownerDocument.defaultView;if(N&&Nc(v)&&(vh(v)||du(v))){var $=this.createElementClone(v);$.style.transitionProperty="none";var te=N.getComputedStyle(v),fe=N.getComputedStyle(v,":before"),Se=N.getComputedStyle(v,":after");this.referenceElement===v&&vh($)&&(this.clonedReferenceElement=$),Sf($)&&up($);var Ce=this.counters.parse(new hn(this.context,te)),Re=this.resolvePseudoContent(v,$,fe,fu.BEFORE);Jm(v)&&(S=!0),Ef(v)||this.cloneChildNodes(v,$,S),Re&&$.insertBefore(Re,$.firstChild);var $e=this.resolvePseudoContent(v,$,Se,fu.AFTER);return $e&&$.appendChild($e),this.counters.pop(Ce),(te&&(this.options.copyStyles||du(v))&&!Xm(v)||S)&&Sh(te,$),(v.scrollTop!==0||v.scrollLeft!==0)&&this.scrolledElements.push([$,v.scrollLeft,v.scrollTop]),(bh(v)||wh(v))&&(bh($)||wh($))&&($.value=v.value),$}return v.cloneNode(!1)},j.prototype.resolvePseudoContent=function(v,S,N,$){var te=this;if(N){var fe=N.content,Se=S.ownerDocument;if(!(!Se||!fe||fe==="none"||fe==="-moz-alt-content"||N.display==="none")){this.counters.parse(new hn(this.context,N));var Ce=new Or(this.context,N),Re=Se.createElement("html2canvaspseudoelement");Sh(N,Re),Ce.content.forEach(function(Ze){if(Ze.type===0)Re.appendChild(Se.createTextNode(Ze.value));else if(Ze.type===22){var wt=Se.createElement("img");wt.src=Ze.value,wt.style.opacity="1",Re.appendChild(wt)}else if(Ze.type===18){if(Ze.name==="attr"){var ps=Ze.values.filter(cn);ps.length&&Re.appendChild(Se.createTextNode(v.getAttribute(ps[0].value)||""))}else if(Ze.name==="counter"){var ns=Ze.values.filter(Ua),As=ns[0],Rs=ns[1];if(As&&cn(As)){var js=te.counters.getCounterValue(As.value),bs=Rs&&cn(Rs)?ou.parse(te.context,Rs.value):3;Re.appendChild(Se.createTextNode(ld(js,bs,!1)))}}else if(Ze.name==="counters"){var Sn=Ze.values.filter(Ua),As=Sn[0],vn=Sn[1],Rs=Sn[2];if(As&&cn(As)){var en=te.counters.getCounterValues(As.value),gs=Rs&&cn(Rs)?ou.parse(te.context,Rs.value):3,Fn=vn&&vn.type===0?vn.value:"",Hn=en.map(function(Mr){return ld(Mr,gs,!1)}).join(Fn);Re.appendChild(Se.createTextNode(Hn))}}}else if(Ze.type===20)switch(Ze.value){case"open-quote":Re.appendChild(Se.createTextNode(Dt(Ce.quotes,te.quoteDepth++,!0)));break;case"close-quote":Re.appendChild(Se.createTextNode(Dt(Ce.quotes,--te.quoteDepth,!1)));break;default:Re.appendChild(Se.createTextNode(Ze.value))}}),Re.className=Ap+" "+_f;var $e=$===fu.BEFORE?" "+Ap:" "+_f;return du(S)?S.className.baseValue+=$e:S.className+=$e,Re}}},j.destroy=function(v){return v.parentNode?(v.parentNode.removeChild(v),!0):!1},j})(),fu;(function(j){j[j.BEFORE=0]="BEFORE",j[j.AFTER=1]="AFTER"})(fu||(fu={}));var ap=function(j,v){var S=j.createElement("iframe");return S.className="html2canvas-container",S.style.visibility="hidden",S.style.position="fixed",S.style.left="-10000px",S.style.top="0px",S.style.border="0",S.width=v.width.toString(),S.height=v.height.toString(),S.scrolling="no",S.setAttribute(np,"true"),j.body.appendChild(S),S},ip=function(j){return new Promise(function(v){if(j.complete){v();return}if(!j.src){v();return}j.onload=v,j.onerror=v})},l0=function(j){return Promise.all([].slice.call(j.images,0).map(ip))},op=function(j){return new Promise(function(v,S){var N=j.contentWindow;if(!N)return S("No window assigned for iframe");var $=N.document;N.onload=j.onload=function(){N.onload=j.onload=null;var te=setInterval(function(){$.body.childNodes.length>0&&$.readyState==="complete"&&(clearInterval(te),v(j))},50)}})},If=["all","d","content"],Sh=function(j,v){for(var S=j.length-1;S>=0;S--){var N=j.item(S);If.indexOf(N)===-1&&v.style.setProperty(N,j.getPropertyValue(N))}return v},c0=function(j){var v="";return j&&(v+="<!DOCTYPE ",j.name&&(v+=j.name),j.internalSubset&&(v+=j.internalSubset),j.publicId&&(v+='"'+j.publicId+'"'),j.systemId&&(v+='"'+j.systemId+'"'),v+=">"),v},lp=function(j,v,S){j&&j.defaultView&&(v!==j.defaultView.pageXOffset||S!==j.defaultView.pageYOffset)&&j.defaultView.scrollTo(v,S)},A0=function(j){var v=j[0],S=j[1],N=j[2];v.scrollLeft=S,v.scrollTop=N},qc=":before",cp=":after",Ap="___html2canvas___pseudoelement_before",_f="___html2canvas___pseudoelement_after",Sc=`{
    content: "" !important;
    display: none !important;
}`,up=function(j){u0(j,"."+Ap+qc+Sc+`
         .`+_f+cp+Sc)},u0=function(j,v){var S=j.ownerDocument;if(S){var N=S.createElement("style");N.textContent=v,j.appendChild(N)}},Ch=(function(){function j(){}return j.getOrigin=function(v){var S=j._link;return S?(S.href=v,S.href=S.href,S.protocol+S.hostname+S.port):"about:blank"},j.isSameOrigin=function(v){return j.getOrigin(v)===j._origin},j.setContext=function(v){j._link=v.document.createElement("a"),j._origin=j.getOrigin(v.location.href)},j._origin="about:blank",j})(),Eh=(function(){function j(v,S){this.context=v,this._options=S,this._cache={}}return j.prototype.addImage=function(v){var S=Promise.resolve();return this.has(v)||(Ff(v)||d0(v))&&(this._cache[v]=this.loadImage(v)).catch(function(){}),S},j.prototype.match=function(v){return this._cache[v]},j.prototype.loadImage=function(v){return o(this,void 0,void 0,function(){var S,N,$,te,fe=this;return A(this,function(Se){switch(Se.label){case 0:return S=Ch.isSameOrigin(v),N=!mu(v)&&this._options.useCORS===!0&&Za.SUPPORT_CORS_IMAGES&&!S,$=!mu(v)&&!S&&!Ff(v)&&typeof this._options.proxy=="string"&&Za.SUPPORT_CORS_XHR&&!N,!S&&this._options.allowTaint===!1&&!mu(v)&&!Ff(v)&&!$&&!N?[2]:(te=v,$?[4,this.proxy(te)]:[3,2]);case 1:te=Se.sent(),Se.label=2;case 2:return this.context.logger.debug("Added image "+v.substring(0,256)),[4,new Promise(function(Ce,Re){var $e=new Image;$e.onload=function(){return Ce($e)},$e.onerror=Re,(UA(te)||N)&&($e.crossOrigin="anonymous"),$e.src=te,$e.complete===!0&&setTimeout(function(){return Ce($e)},500),fe._options.imageTimeout>0&&setTimeout(function(){return Re("Timed out ("+fe._options.imageTimeout+"ms) loading image")},fe._options.imageTimeout)})];case 3:return[2,Se.sent()]}})})},j.prototype.has=function(v){return typeof this._cache[v]<"u"},j.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},j.prototype.proxy=function(v){var S=this,N=this._options.proxy;if(!N)throw new Error("No proxy defined");var $=v.substring(0,256);return new Promise(function(te,fe){var Se=Za.SUPPORT_RESPONSE_TYPE?"blob":"text",Ce=new XMLHttpRequest;Ce.onload=function(){if(Ce.status===200)if(Se==="text")te(Ce.response);else{var Ze=new FileReader;Ze.addEventListener("load",function(){return te(Ze.result)},!1),Ze.addEventListener("error",function(wt){return fe(wt)},!1),Ze.readAsDataURL(Ce.response)}else fe("Failed to proxy resource "+$+" with status code "+Ce.status)},Ce.onerror=fe;var Re=N.indexOf("?")>-1?"&":"?";if(Ce.open("GET",""+N+Re+"url="+encodeURIComponent(v)+"&responseType="+Se),Se!=="text"&&Ce instanceof XMLHttpRequest&&(Ce.responseType=Se),S._options.imageTimeout){var $e=S._options.imageTimeout;Ce.timeout=$e,Ce.ontimeout=function(){return fe("Timed out ("+$e+"ms) proxying "+$)}}Ce.send()})},j})(),sa=/^data:image\/svg\+xml/i,qv=/^data:image\/.*;base64,/i,Zv=/^data:image\/.*/i,d0=function(j){return Za.SUPPORT_SVG_DRAWING||!h0(j)},mu=function(j){return Zv.test(j)},UA=function(j){return qv.test(j)},Ff=function(j){return j.substr(0,4)==="blob"},h0=function(j){return j.substr(-3).toLowerCase()==="svg"||sa.test(j)},ds=(function(){function j(v,S){this.type=0,this.x=v,this.y=S}return j.prototype.add=function(v,S){return new j(this.x+v,this.y+S)},j})(),yo=function(j,v,S){return new ds(j.x+(v.x-j.x)*S,j.y+(v.y-j.y)*S)},Th=(function(){function j(v,S,N,$){this.type=1,this.start=v,this.startControl=S,this.endControl=N,this.end=$}return j.prototype.subdivide=function(v,S){var N=yo(this.start,this.startControl,v),$=yo(this.startControl,this.endControl,v),te=yo(this.endControl,this.end,v),fe=yo(N,$,v),Se=yo($,te,v),Ce=yo(fe,Se,v);return S?new j(this.start,N,fe,Ce):new j(Ce,Se,te,this.end)},j.prototype.add=function(v,S){return new j(this.start.add(v,S),this.startControl.add(v,S),this.endControl.add(v,S),this.end.add(v,S))},j.prototype.reverse=function(){return new j(this.end,this.endControl,this.startControl,this.start)},j})(),Wo=function(j){return j.type===1},f0=(function(){function j(v){var S=v.styles,N=v.bounds,$=Po(S.borderTopLeftRadius,N.width,N.height),te=$[0],fe=$[1],Se=Po(S.borderTopRightRadius,N.width,N.height),Ce=Se[0],Re=Se[1],$e=Po(S.borderBottomRightRadius,N.width,N.height),Ze=$e[0],wt=$e[1],ps=Po(S.borderBottomLeftRadius,N.width,N.height),ns=ps[0],As=ps[1],Rs=[];Rs.push((te+Ce)/N.width),Rs.push((ns+Ze)/N.width),Rs.push((fe+As)/N.height),Rs.push((Re+wt)/N.height);var js=Math.max.apply(Math,Rs);js>1&&(te/=js,fe/=js,Ce/=js,Re/=js,Ze/=js,wt/=js,ns/=js,As/=js);var bs=N.width-Ce,Sn=N.height-wt,vn=N.width-Ze,en=N.height-As,gs=S.borderTopWidth,Fn=S.borderRightWidth,Hn=S.borderBottomWidth,Os=S.borderLeftWidth,ei=Bn(S.paddingTop,v.bounds.width),Mr=Bn(S.paddingRight,v.bounds.width),qo=Bn(S.paddingBottom,v.bounds.width),Sr=Bn(S.paddingLeft,v.bounds.width);this.topLeftBorderDoubleOuterBox=te>0||fe>0?$r(N.left+Os/3,N.top+gs/3,te-Os/3,fe-gs/3,cr.TOP_LEFT):new ds(N.left+Os/3,N.top+gs/3),this.topRightBorderDoubleOuterBox=te>0||fe>0?$r(N.left+bs,N.top+gs/3,Ce-Fn/3,Re-gs/3,cr.TOP_RIGHT):new ds(N.left+N.width-Fn/3,N.top+gs/3),this.bottomRightBorderDoubleOuterBox=Ze>0||wt>0?$r(N.left+vn,N.top+Sn,Ze-Fn/3,wt-Hn/3,cr.BOTTOM_RIGHT):new ds(N.left+N.width-Fn/3,N.top+N.height-Hn/3),this.bottomLeftBorderDoubleOuterBox=ns>0||As>0?$r(N.left+Os/3,N.top+en,ns-Os/3,As-Hn/3,cr.BOTTOM_LEFT):new ds(N.left+Os/3,N.top+N.height-Hn/3),this.topLeftBorderDoubleInnerBox=te>0||fe>0?$r(N.left+Os*2/3,N.top+gs*2/3,te-Os*2/3,fe-gs*2/3,cr.TOP_LEFT):new ds(N.left+Os*2/3,N.top+gs*2/3),this.topRightBorderDoubleInnerBox=te>0||fe>0?$r(N.left+bs,N.top+gs*2/3,Ce-Fn*2/3,Re-gs*2/3,cr.TOP_RIGHT):new ds(N.left+N.width-Fn*2/3,N.top+gs*2/3),this.bottomRightBorderDoubleInnerBox=Ze>0||wt>0?$r(N.left+vn,N.top+Sn,Ze-Fn*2/3,wt-Hn*2/3,cr.BOTTOM_RIGHT):new ds(N.left+N.width-Fn*2/3,N.top+N.height-Hn*2/3),this.bottomLeftBorderDoubleInnerBox=ns>0||As>0?$r(N.left+Os*2/3,N.top+en,ns-Os*2/3,As-Hn*2/3,cr.BOTTOM_LEFT):new ds(N.left+Os*2/3,N.top+N.height-Hn*2/3),this.topLeftBorderStroke=te>0||fe>0?$r(N.left+Os/2,N.top+gs/2,te-Os/2,fe-gs/2,cr.TOP_LEFT):new ds(N.left+Os/2,N.top+gs/2),this.topRightBorderStroke=te>0||fe>0?$r(N.left+bs,N.top+gs/2,Ce-Fn/2,Re-gs/2,cr.TOP_RIGHT):new ds(N.left+N.width-Fn/2,N.top+gs/2),this.bottomRightBorderStroke=Ze>0||wt>0?$r(N.left+vn,N.top+Sn,Ze-Fn/2,wt-Hn/2,cr.BOTTOM_RIGHT):new ds(N.left+N.width-Fn/2,N.top+N.height-Hn/2),this.bottomLeftBorderStroke=ns>0||As>0?$r(N.left+Os/2,N.top+en,ns-Os/2,As-Hn/2,cr.BOTTOM_LEFT):new ds(N.left+Os/2,N.top+N.height-Hn/2),this.topLeftBorderBox=te>0||fe>0?$r(N.left,N.top,te,fe,cr.TOP_LEFT):new ds(N.left,N.top),this.topRightBorderBox=Ce>0||Re>0?$r(N.left+bs,N.top,Ce,Re,cr.TOP_RIGHT):new ds(N.left+N.width,N.top),this.bottomRightBorderBox=Ze>0||wt>0?$r(N.left+vn,N.top+Sn,Ze,wt,cr.BOTTOM_RIGHT):new ds(N.left+N.width,N.top+N.height),this.bottomLeftBorderBox=ns>0||As>0?$r(N.left,N.top+en,ns,As,cr.BOTTOM_LEFT):new ds(N.left,N.top+N.height),this.topLeftPaddingBox=te>0||fe>0?$r(N.left+Os,N.top+gs,Math.max(0,te-Os),Math.max(0,fe-gs),cr.TOP_LEFT):new ds(N.left+Os,N.top+gs),this.topRightPaddingBox=Ce>0||Re>0?$r(N.left+Math.min(bs,N.width-Fn),N.top+gs,bs>N.width+Fn?0:Math.max(0,Ce-Fn),Math.max(0,Re-gs),cr.TOP_RIGHT):new ds(N.left+N.width-Fn,N.top+gs),this.bottomRightPaddingBox=Ze>0||wt>0?$r(N.left+Math.min(vn,N.width-Os),N.top+Math.min(Sn,N.height-Hn),Math.max(0,Ze-Fn),Math.max(0,wt-Hn),cr.BOTTOM_RIGHT):new ds(N.left+N.width-Fn,N.top+N.height-Hn),this.bottomLeftPaddingBox=ns>0||As>0?$r(N.left+Os,N.top+Math.min(en,N.height-Hn),Math.max(0,ns-Os),Math.max(0,As-Hn),cr.BOTTOM_LEFT):new ds(N.left+Os,N.top+N.height-Hn),this.topLeftContentBox=te>0||fe>0?$r(N.left+Os+Sr,N.top+gs+ei,Math.max(0,te-(Os+Sr)),Math.max(0,fe-(gs+ei)),cr.TOP_LEFT):new ds(N.left+Os+Sr,N.top+gs+ei),this.topRightContentBox=Ce>0||Re>0?$r(N.left+Math.min(bs,N.width+Os+Sr),N.top+gs+ei,bs>N.width+Os+Sr?0:Ce-Os+Sr,Re-(gs+ei),cr.TOP_RIGHT):new ds(N.left+N.width-(Fn+Mr),N.top+gs+ei),this.bottomRightContentBox=Ze>0||wt>0?$r(N.left+Math.min(vn,N.width-(Os+Sr)),N.top+Math.min(Sn,N.height+gs+ei),Math.max(0,Ze-(Fn+Mr)),wt-(Hn+qo),cr.BOTTOM_RIGHT):new ds(N.left+N.width-(Fn+Mr),N.top+N.height-(Hn+qo)),this.bottomLeftContentBox=ns>0||As>0?$r(N.left+Os+Sr,N.top+en,Math.max(0,ns-(Os+Sr)),As-(Hn+qo),cr.BOTTOM_LEFT):new ds(N.left+Os+Sr,N.top+N.height-(Hn+qo))}return j})(),cr;(function(j){j[j.TOP_LEFT=0]="TOP_LEFT",j[j.TOP_RIGHT=1]="TOP_RIGHT",j[j.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",j[j.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(cr||(cr={}));var $r=function(j,v,S,N,$){var te=4*((Math.sqrt(2)-1)/3),fe=S*te,Se=N*te,Ce=j+S,Re=v+N;switch($){case cr.TOP_LEFT:return new Th(new ds(j,Re),new ds(j,Re-Se),new ds(Ce-fe,v),new ds(Ce,v));case cr.TOP_RIGHT:return new Th(new ds(j,v),new ds(j+fe,v),new ds(Ce,Re-Se),new ds(Ce,Re));case cr.BOTTOM_RIGHT:return new Th(new ds(Ce,v),new ds(Ce,v+Se),new ds(j+fe,Re),new ds(j,Re));case cr.BOTTOM_LEFT:default:return new Th(new ds(Ce,Re),new ds(Ce-fe,Re),new ds(j,v+Se),new ds(j,v))}},pu=function(j){return[j.topLeftBorderBox,j.topRightBorderBox,j.bottomRightBorderBox,j.bottomLeftBorderBox]},m0=function(j){return[j.topLeftContentBox,j.topRightContentBox,j.bottomRightContentBox,j.bottomLeftContentBox]},Ql=function(j){return[j.topLeftPaddingBox,j.topRightPaddingBox,j.bottomRightPaddingBox,j.bottomLeftPaddingBox]},li=(function(){function j(v,S,N){this.offsetX=v,this.offsetY=S,this.matrix=N,this.type=0,this.target=6}return j})(),cd=(function(){function j(v,S){this.path=v,this.target=S,this.type=1}return j})(),p0=(function(){function j(v){this.opacity=v,this.type=2,this.target=6}return j})(),Oi=function(j){return j.type===0},g0=function(j){return j.type===1},x0=function(j){return j.type===2},dp=function(j,v){return j.length===v.length?j.some(function(S,N){return S===v[N]}):!1},ua=function(j,v,S,N,$){return j.map(function(te,fe){switch(fe){case 0:return te.add(v,S);case 1:return te.add(v+N,S);case 2:return te.add(v+N,S+$);case 3:return te.add(v,S+$)}return te})},bo=(function(){function j(v){this.element=v,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return j})(),Cc=(function(){function j(v,S){if(this.container=v,this.parent=S,this.effects=[],this.curves=new f0(this.container),this.container.styles.opacity<1&&this.effects.push(new p0(this.container.styles.opacity)),this.container.styles.transform!==null){var N=this.container.bounds.left+this.container.styles.transformOrigin[0].number,$=this.container.bounds.top+this.container.styles.transformOrigin[1].number,te=this.container.styles.transform;this.effects.push(new li(N,$,te))}if(this.container.styles.overflowX!==0){var fe=pu(this.curves),Se=Ql(this.curves);dp(fe,Se)?this.effects.push(new cd(fe,6)):(this.effects.push(new cd(fe,2)),this.effects.push(new cd(Se,4)))}}return j.prototype.getEffects=function(v){for(var S=[2,3].indexOf(this.container.styles.position)===-1,N=this.parent,$=this.effects.slice(0);N;){var te=N.effects.filter(function(Ce){return!g0(Ce)});if(S||N.container.styles.position!==0||!N.parent){if($.unshift.apply($,te),S=[2,3].indexOf(N.container.styles.position)===-1,N.container.styles.overflowX!==0){var fe=pu(N.curves),Se=Ql(N.curves);dp(fe,Se)||$.unshift(new cd(Se,6))}}else $.unshift.apply($,te);N=N.parent}return $.filter(function(Ce){return Ge(Ce.target,v)})},j})(),Uf=function(j,v,S,N){j.container.elements.forEach(function($){var te=Ge($.flags,4),fe=Ge($.flags,2),Se=new Cc($,j);Ge($.styles.display,2048)&&N.push(Se);var Ce=Ge($.flags,8)?[]:N;if(te||fe){var Re=te||$.styles.isPositioned()?S:v,$e=new bo(Se);if($.styles.isPositioned()||$.styles.opacity<1||$.styles.isTransformed()){var Ze=$.styles.zIndex.order;if(Ze<0){var wt=0;Re.negativeZIndex.some(function(ns,As){return Ze>ns.element.container.styles.zIndex.order?(wt=As,!1):wt>0}),Re.negativeZIndex.splice(wt,0,$e)}else if(Ze>0){var ps=0;Re.positiveZIndex.some(function(ns,As){return Ze>=ns.element.container.styles.zIndex.order?(ps=As+1,!1):ps>0}),Re.positiveZIndex.splice(ps,0,$e)}else Re.zeroOrAutoZIndexOrTransformedOrOpacity.push($e)}else $.styles.isFloating()?Re.nonPositionedFloats.push($e):Re.nonPositionedInlineLevel.push($e);Uf(Se,$e,te?$e:S,Ce)}else $.styles.isInlineLevel()?v.inlineLevel.push(Se):v.nonInlineLevel.push(Se),Uf(Se,v,S,Ce);Ge($.flags,8)&&hp($,Ce)})},hp=function(j,v){for(var S=j instanceof wf?j.start:1,N=j instanceof wf?j.reversed:!1,$=0;$<v.length;$++){var te=v[$];te.container instanceof Hm&&typeof te.container.value=="number"&&te.container.value!==0&&(S=te.container.value),te.listValue=ld(S,te.container.styles.listStyleType,!0),S+=N?-1:1}},v0=function(j){var v=new Cc(j,null),S=new bo(v),N=[];return Uf(v,S,S,N),hp(v.container,N),S},y0=function(j,v){switch(v){case 0:return na(j.topLeftBorderBox,j.topLeftPaddingBox,j.topRightBorderBox,j.topRightPaddingBox);case 1:return na(j.topRightBorderBox,j.topRightPaddingBox,j.bottomRightBorderBox,j.bottomRightPaddingBox);case 2:return na(j.bottomRightBorderBox,j.bottomRightPaddingBox,j.bottomLeftBorderBox,j.bottomLeftPaddingBox);case 3:default:return na(j.bottomLeftBorderBox,j.bottomLeftPaddingBox,j.topLeftBorderBox,j.topLeftPaddingBox)}},Df=function(j,v){switch(v){case 0:return na(j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox,j.topRightBorderBox,j.topRightBorderDoubleOuterBox);case 1:return na(j.topRightBorderBox,j.topRightBorderDoubleOuterBox,j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox);case 2:return na(j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox,j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox);case 3:default:return na(j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox,j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox)}},Xo=function(j,v){switch(v){case 0:return na(j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox,j.topRightBorderDoubleInnerBox,j.topRightPaddingBox);case 1:return na(j.topRightBorderDoubleInnerBox,j.topRightPaddingBox,j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox);case 2:return na(j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox,j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox);case 3:default:return na(j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox,j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox)}},nc=function(j,v){switch(v){case 0:return Ih(j.topLeftBorderStroke,j.topRightBorderStroke);case 1:return Ih(j.topRightBorderStroke,j.bottomRightBorderStroke);case 2:return Ih(j.bottomRightBorderStroke,j.bottomLeftBorderStroke);case 3:default:return Ih(j.bottomLeftBorderStroke,j.topLeftBorderStroke)}},Ih=function(j,v){var S=[];return Wo(j)?S.push(j.subdivide(.5,!1)):S.push(j),Wo(v)?S.push(v.subdivide(.5,!0)):S.push(v),S},na=function(j,v,S,N){var $=[];return Wo(j)?$.push(j.subdivide(.5,!1)):$.push(j),Wo(S)?$.push(S.subdivide(.5,!0)):$.push(S),Wo(N)?$.push(N.subdivide(.5,!0).reverse()):$.push(N),Wo(v)?$.push(v.subdivide(.5,!1).reverse()):$.push(v),$},fp=function(j){var v=j.bounds,S=j.styles;return v.add(S.borderLeftWidth,S.borderTopWidth,-(S.borderRightWidth+S.borderLeftWidth),-(S.borderTopWidth+S.borderBottomWidth))},Ol=function(j){var v=j.styles,S=j.bounds,N=Bn(v.paddingLeft,S.width),$=Bn(v.paddingRight,S.width),te=Bn(v.paddingTop,S.width),fe=Bn(v.paddingBottom,S.width);return S.add(N+v.borderLeftWidth,te+v.borderTopWidth,-(v.borderRightWidth+v.borderLeftWidth+N+$),-(v.borderTopWidth+v.borderBottomWidth+te+fe))},gu=function(j,v){return j===0?v.bounds:j===2?Ol(v):fp(v)},Zc=function(j,v){return j===0?v.bounds:j===2?Ol(v):fp(v)},_h=function(j,v,S){var N=gu(rc(j.styles.backgroundOrigin,v),j),$=Zc(rc(j.styles.backgroundClip,v),j),te=b0(rc(j.styles.backgroundSize,v),S,N),fe=te[0],Se=te[1],Ce=Po(rc(j.styles.backgroundPosition,v),N.width-fe,N.height-Se),Re=Fh(rc(j.styles.backgroundRepeat,v),Ce,te,N,$),$e=Math.round(N.left+Ce[0]),Ze=Math.round(N.top+Ce[1]);return[Re,$e,Ze,fe,Se]},DA=function(j){return cn(j)&&j.value===Xl.AUTO},Jo=function(j){return typeof j=="number"},b0=function(j,v,S){var N=v[0],$=v[1],te=v[2],fe=j[0],Se=j[1];if(!fe)return[0,0];if(er(fe)&&Se&&er(Se))return[Bn(fe,S.width),Bn(Se,S.height)];var Ce=Jo(te);if(cn(fe)&&(fe.value===Xl.CONTAIN||fe.value===Xl.COVER)){if(Jo(te)){var Re=S.width/S.height;return Re<te!=(fe.value===Xl.COVER)?[S.width,S.width/te]:[S.height*te,S.height]}return[S.width,S.height]}var $e=Jo(N),Ze=Jo($),wt=$e||Ze;if(DA(fe)&&(!Se||DA(Se))){if($e&&Ze)return[N,$];if(!Ce&&!wt)return[S.width,S.height];if(wt&&Ce){var ps=$e?N:$*te,ns=Ze?$:N/te;return[ps,ns]}var As=$e?N:S.width,Rs=Ze?$:S.height;return[As,Rs]}if(Ce){var js=0,bs=0;return er(fe)?js=Bn(fe,S.width):er(Se)&&(bs=Bn(Se,S.height)),DA(fe)?js=bs*te:(!Se||DA(Se))&&(bs=js/te),[js,bs]}var Sn=null,vn=null;if(er(fe)?Sn=Bn(fe,S.width):Se&&er(Se)&&(vn=Bn(Se,S.height)),Sn!==null&&(!Se||DA(Se))&&(vn=$e&&Ze?Sn/N*$:S.height),vn!==null&&DA(fe)&&(Sn=$e&&Ze?vn/$*N:S.width),Sn!==null&&vn!==null)return[Sn,vn];throw new Error("Unable to calculate background-size for element")},rc=function(j,v){var S=j[v];return typeof S>"u"?j[0]:S},Fh=function(j,v,S,N,$){var te=v[0],fe=v[1],Se=S[0],Ce=S[1];switch(j){case 2:return[new ds(Math.round(N.left),Math.round(N.top+fe)),new ds(Math.round(N.left+N.width),Math.round(N.top+fe)),new ds(Math.round(N.left+N.width),Math.round(Ce+N.top+fe)),new ds(Math.round(N.left),Math.round(Ce+N.top+fe))];case 3:return[new ds(Math.round(N.left+te),Math.round(N.top)),new ds(Math.round(N.left+te+Se),Math.round(N.top)),new ds(Math.round(N.left+te+Se),Math.round(N.height+N.top)),new ds(Math.round(N.left+te),Math.round(N.height+N.top))];case 1:return[new ds(Math.round(N.left+te),Math.round(N.top+fe)),new ds(Math.round(N.left+te+Se),Math.round(N.top+fe)),new ds(Math.round(N.left+te+Se),Math.round(N.top+fe+Ce)),new ds(Math.round(N.left+te),Math.round(N.top+fe+Ce))];default:return[new ds(Math.round($.left),Math.round($.top)),new ds(Math.round($.left+$.width),Math.round($.top)),new ds(Math.round($.left+$.width),Math.round($.height+$.top)),new ds(Math.round($.left),Math.round($.height+$.top))]}},Uh="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",xu="Hidden Text",w0=(function(){function j(v){this._data={},this._document=v}return j.prototype.parseMetrics=function(v,S){var N=this._document.createElement("div"),$=this._document.createElement("img"),te=this._document.createElement("span"),fe=this._document.body;N.style.visibility="hidden",N.style.fontFamily=v,N.style.fontSize=S,N.style.margin="0",N.style.padding="0",N.style.whiteSpace="nowrap",fe.appendChild(N),$.src=Uh,$.width=1,$.height=1,$.style.margin="0",$.style.padding="0",$.style.verticalAlign="baseline",te.style.fontFamily=v,te.style.fontSize=S,te.style.margin="0",te.style.padding="0",te.appendChild(this._document.createTextNode(xu)),N.appendChild(te),N.appendChild($);var Se=$.offsetTop-te.offsetTop+2;N.removeChild(te),N.appendChild(this._document.createTextNode(xu)),N.style.lineHeight="normal",$.style.verticalAlign="super";var Ce=$.offsetTop-N.offsetTop+2;return fe.removeChild(N),{baseline:Se,middle:Ce}},j.prototype.getMetrics=function(v,S){var N=v+" "+S;return typeof this._data[N]>"u"&&(this._data[N]=this.parseMetrics(v,S)),this._data[N]},j})(),mp=(function(){function j(v,S){this.context=v,this.options=S}return j})(),Dh=1e4,j0=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;return $._activeEffects=[],$.canvas=N.canvas?N.canvas:document.createElement("canvas"),$.ctx=$.canvas.getContext("2d"),N.canvas||($.canvas.width=Math.floor(N.width*N.scale),$.canvas.height=Math.floor(N.height*N.scale),$.canvas.style.width=N.width+"px",$.canvas.style.height=N.height+"px"),$.fontMetrics=new w0(document),$.ctx.scale($.options.scale,$.options.scale),$.ctx.translate(-N.x,-N.y),$.ctx.textBaseline="bottom",$._activeEffects=[],$.context.logger.debug("Canvas renderer initialized ("+N.width+"x"+N.height+") with scale "+N.scale),$}return v.prototype.applyEffects=function(S){for(var N=this;this._activeEffects.length;)this.popEffect();S.forEach(function($){return N.applyEffect($)})},v.prototype.applyEffect=function(S){this.ctx.save(),x0(S)&&(this.ctx.globalAlpha=S.opacity),Oi(S)&&(this.ctx.translate(S.offsetX,S.offsetY),this.ctx.transform(S.matrix[0],S.matrix[1],S.matrix[2],S.matrix[3],S.matrix[4],S.matrix[5]),this.ctx.translate(-S.offsetX,-S.offsetY)),g0(S)&&(this.path(S.path),this.ctx.clip()),this._activeEffects.push(S)},v.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},v.prototype.renderStack=function(S){return o(this,void 0,void 0,function(){var N;return A(this,function($){switch($.label){case 0:return N=S.element.container.styles,N.isVisible()?[4,this.renderStackContent(S)]:[3,2];case 1:$.sent(),$.label=2;case 2:return[2]}})})},v.prototype.renderNode=function(S){return o(this,void 0,void 0,function(){return A(this,function(N){switch(N.label){case 0:if(Ge(S.container.flags,16))debugger;return S.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(S)]:[3,3];case 1:return N.sent(),[4,this.renderNodeContent(S)];case 2:N.sent(),N.label=3;case 3:return[2]}})})},v.prototype.renderTextWithLetterSpacing=function(S,N,$){var te=this;if(N===0)this.ctx.fillText(S.text,S.bounds.left,S.bounds.top+$);else{var fe=Yo(S.text);fe.reduce(function(Se,Ce){return te.ctx.fillText(Ce,Se,S.bounds.top+$),Se+te.ctx.measureText(Ce).width},S.bounds.left)}},v.prototype.createFontStyle=function(S){var N=S.fontVariant.filter(function(fe){return fe==="normal"||fe==="small-caps"}).join(""),$=gr(S.fontFamily).join(", "),te=wa(S.fontSize)?""+S.fontSize.number+S.fontSize.unit:S.fontSize.number+"px";return[[S.fontStyle,N,S.fontWeight,te,$].join(" "),$,te]},v.prototype.renderTextNode=function(S,N){return o(this,void 0,void 0,function(){var $,te,fe,Se,Ce,Re,$e,Ze,wt=this;return A(this,function(ps){return $=this.createFontStyle(N),te=$[0],fe=$[1],Se=$[2],this.ctx.font=te,this.ctx.direction=N.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ce=this.fontMetrics.getMetrics(fe,Se),Re=Ce.baseline,$e=Ce.middle,Ze=N.paintOrder,S.textBounds.forEach(function(ns){Ze.forEach(function(As){switch(As){case 0:wt.ctx.fillStyle=On(N.color),wt.renderTextWithLetterSpacing(ns,N.letterSpacing,Re);var Rs=N.textShadow;Rs.length&&ns.text.trim().length&&(Rs.slice(0).reverse().forEach(function(js){wt.ctx.shadowColor=On(js.color),wt.ctx.shadowOffsetX=js.offsetX.number*wt.options.scale,wt.ctx.shadowOffsetY=js.offsetY.number*wt.options.scale,wt.ctx.shadowBlur=js.blur.number,wt.renderTextWithLetterSpacing(ns,N.letterSpacing,Re)}),wt.ctx.shadowColor="",wt.ctx.shadowOffsetX=0,wt.ctx.shadowOffsetY=0,wt.ctx.shadowBlur=0),N.textDecorationLine.length&&(wt.ctx.fillStyle=On(N.textDecorationColor||N.color),N.textDecorationLine.forEach(function(js){switch(js){case 1:wt.ctx.fillRect(ns.bounds.left,Math.round(ns.bounds.top+Re),ns.bounds.width,1);break;case 2:wt.ctx.fillRect(ns.bounds.left,Math.round(ns.bounds.top),ns.bounds.width,1);break;case 3:wt.ctx.fillRect(ns.bounds.left,Math.ceil(ns.bounds.top+$e),ns.bounds.width,1);break}}));break;case 1:N.webkitTextStrokeWidth&&ns.text.trim().length&&(wt.ctx.strokeStyle=On(N.webkitTextStrokeColor),wt.ctx.lineWidth=N.webkitTextStrokeWidth,wt.ctx.lineJoin=window.chrome?"miter":"round",wt.ctx.strokeText(ns.text,ns.bounds.left,ns.bounds.top+Re)),wt.ctx.strokeStyle="",wt.ctx.lineWidth=0,wt.ctx.lineJoin="miter";break}})}),[2]})})},v.prototype.renderReplacedElement=function(S,N,$){if($&&S.intrinsicWidth>0&&S.intrinsicHeight>0){var te=Ol(S),fe=Ql(N);this.path(fe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage($,0,0,S.intrinsicWidth,S.intrinsicHeight,te.left,te.top,te.width,te.height),this.ctx.restore()}},v.prototype.renderNodeContent=function(S){return o(this,void 0,void 0,function(){var N,$,te,fe,Se,Ce,bs,bs,Re,$e,Ze,wt,vn,ps,ns,en,As,Rs,js,bs,Sn,vn,en;return A(this,function(gs){switch(gs.label){case 0:this.applyEffects(S.getEffects(4)),N=S.container,$=S.curves,te=N.styles,fe=0,Se=N.textNodes,gs.label=1;case 1:return fe<Se.length?(Ce=Se[fe],[4,this.renderTextNode(Ce,te)]):[3,4];case 2:gs.sent(),gs.label=3;case 3:return fe++,[3,1];case 4:if(!(N instanceof Mm))return[3,8];gs.label=5;case 5:return gs.trys.push([5,7,,8]),[4,this.context.cache.match(N.src)];case 6:return bs=gs.sent(),this.renderReplacedElement(N,$,bs),[3,8];case 7:return gs.sent(),this.context.logger.error("Error loading image "+N.src),[3,8];case 8:if(N instanceof bf&&this.renderReplacedElement(N,$,N.canvas),!(N instanceof Jg))return[3,12];gs.label=9;case 9:return gs.trys.push([9,11,,12]),[4,this.context.cache.match(N.svg)];case 10:return bs=gs.sent(),this.renderReplacedElement(N,$,bs),[3,12];case 11:return gs.sent(),this.context.logger.error("Error loading svg "+N.svg.substring(0,255)),[3,12];case 12:return N instanceof Gm&&N.tree?(Re=new v(this.context,{scale:this.options.scale,backgroundColor:N.backgroundColor,x:0,y:0,width:N.width,height:N.height}),[4,Re.render(N.tree)]):[3,14];case 13:$e=gs.sent(),N.width&&N.height&&this.ctx.drawImage($e,0,0,N.width,N.height,N.bounds.left,N.bounds.top,N.bounds.width,N.bounds.height),gs.label=14;case 14:if(N instanceof jf&&(Ze=Math.min(N.bounds.width,N.bounds.height),N.type===gh?N.checked&&(this.ctx.save(),this.path([new ds(N.bounds.left+Ze*.39363,N.bounds.top+Ze*.79),new ds(N.bounds.left+Ze*.16,N.bounds.top+Ze*.5549),new ds(N.bounds.left+Ze*.27347,N.bounds.top+Ze*.44071),new ds(N.bounds.left+Ze*.39694,N.bounds.top+Ze*.5649),new ds(N.bounds.left+Ze*.72983,N.bounds.top+Ze*.23),new ds(N.bounds.left+Ze*.84,N.bounds.top+Ze*.34085),new ds(N.bounds.left+Ze*.39363,N.bounds.top+Ze*.79)]),this.ctx.fillStyle=On(zm),this.ctx.fill(),this.ctx.restore()):N.type===xh&&N.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(N.bounds.left+Ze/2,N.bounds.top+Ze/2,Ze/4,0,Math.PI*2,!0),this.ctx.fillStyle=On(zm),this.ctx.fill(),this.ctx.restore())),Rf(N)&&N.value.length){switch(wt=this.createFontStyle(te),vn=wt[0],ps=wt[1],ns=this.fontMetrics.getMetrics(vn,ps).baseline,this.ctx.font=vn,this.ctx.fillStyle=On(te.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ey(N.styles.textAlign),en=Ol(N),As=0,N.styles.textAlign){case 1:As+=en.width/2;break;case 2:As+=en.width;break}Rs=en.add(As,0,0,-en.height/2+1),this.ctx.save(),this.path([new ds(en.left,en.top),new ds(en.left+en.width,en.top),new ds(en.left+en.width,en.top+en.height),new ds(en.left,en.top+en.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new CA(N.value,Rs),te.letterSpacing,ns),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ge(N.styles.display,2048))return[3,20];if(N.styles.listStyleImage===null)return[3,19];if(js=N.styles.listStyleImage,js.type!==0)return[3,18];bs=void 0,Sn=js.url,gs.label=15;case 15:return gs.trys.push([15,17,,18]),[4,this.context.cache.match(Sn)];case 16:return bs=gs.sent(),this.ctx.drawImage(bs,N.bounds.left-(bs.width+10),N.bounds.top),[3,18];case 17:return gs.sent(),this.context.logger.error("Error loading list-style-image "+Sn),[3,18];case 18:return[3,20];case 19:S.listValue&&N.styles.listStyleType!==-1&&(vn=this.createFontStyle(te)[0],this.ctx.font=vn,this.ctx.fillStyle=On(te.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",en=new u(N.bounds.left,N.bounds.top+Bn(N.styles.paddingTop,N.bounds.width),N.bounds.width,_l(te.lineHeight,te.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new CA(S.listValue,en),te.letterSpacing,_l(te.lineHeight,te.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),gs.label=20;case 20:return[2]}})})},v.prototype.renderStackContent=function(S){return o(this,void 0,void 0,function(){var N,$,js,te,fe,js,Se,Ce,js,Re,$e,js,Ze,wt,js,ps,ns,js,As,Rs,js;return A(this,function(bs){switch(bs.label){case 0:if(Ge(S.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(S.element)];case 1:bs.sent(),N=0,$=S.negativeZIndex,bs.label=2;case 2:return N<$.length?(js=$[N],[4,this.renderStack(js)]):[3,5];case 3:bs.sent(),bs.label=4;case 4:return N++,[3,2];case 5:return[4,this.renderNodeContent(S.element)];case 6:bs.sent(),te=0,fe=S.nonInlineLevel,bs.label=7;case 7:return te<fe.length?(js=fe[te],[4,this.renderNode(js)]):[3,10];case 8:bs.sent(),bs.label=9;case 9:return te++,[3,7];case 10:Se=0,Ce=S.nonPositionedFloats,bs.label=11;case 11:return Se<Ce.length?(js=Ce[Se],[4,this.renderStack(js)]):[3,14];case 12:bs.sent(),bs.label=13;case 13:return Se++,[3,11];case 14:Re=0,$e=S.nonPositionedInlineLevel,bs.label=15;case 15:return Re<$e.length?(js=$e[Re],[4,this.renderStack(js)]):[3,18];case 16:bs.sent(),bs.label=17;case 17:return Re++,[3,15];case 18:Ze=0,wt=S.inlineLevel,bs.label=19;case 19:return Ze<wt.length?(js=wt[Ze],[4,this.renderNode(js)]):[3,22];case 20:bs.sent(),bs.label=21;case 21:return Ze++,[3,19];case 22:ps=0,ns=S.zeroOrAutoZIndexOrTransformedOrOpacity,bs.label=23;case 23:return ps<ns.length?(js=ns[ps],[4,this.renderStack(js)]):[3,26];case 24:bs.sent(),bs.label=25;case 25:return ps++,[3,23];case 26:As=0,Rs=S.positiveZIndex,bs.label=27;case 27:return As<Rs.length?(js=Rs[As],[4,this.renderStack(js)]):[3,30];case 28:bs.sent(),bs.label=29;case 29:return As++,[3,27];case 30:return[2]}})})},v.prototype.mask=function(S){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(S.slice(0).reverse()),this.ctx.closePath()},v.prototype.path=function(S){this.ctx.beginPath(),this.formatPath(S),this.ctx.closePath()},v.prototype.formatPath=function(S){var N=this;S.forEach(function($,te){var fe=Wo($)?$.start:$;te===0?N.ctx.moveTo(fe.x,fe.y):N.ctx.lineTo(fe.x,fe.y),Wo($)&&N.ctx.bezierCurveTo($.startControl.x,$.startControl.y,$.endControl.x,$.endControl.y,$.end.x,$.end.y)})},v.prototype.renderRepeat=function(S,N,$,te){this.path(S),this.ctx.fillStyle=N,this.ctx.translate($,te),this.ctx.fill(),this.ctx.translate(-$,-te)},v.prototype.resizeImage=function(S,N,$){var te;if(S.width===N&&S.height===$)return S;var fe=(te=this.canvas.ownerDocument)!==null&&te!==void 0?te:document,Se=fe.createElement("canvas");Se.width=Math.max(1,N),Se.height=Math.max(1,$);var Ce=Se.getContext("2d");return Ce.drawImage(S,0,0,S.width,S.height,0,0,N,$),Se},v.prototype.renderBackgroundImage=function(S){return o(this,void 0,void 0,function(){var N,$,te,fe,Se,Ce;return A(this,function(Re){switch(Re.label){case 0:N=S.styles.backgroundImage.length-1,$=function($e){var Ze,wt,ps,ei,no,Ao,Sr,so,Hn,ns,ei,no,Ao,Sr,so,As,Rs,js,bs,Sn,vn,en,gs,Fn,Hn,Os,ei,Mr,qo,Sr,so,wo,no,Ao,kl,ac,eA,LA,QA,Pl,tA,sA;return A(this,function(ud){switch(ud.label){case 0:if($e.type!==0)return[3,5];Ze=void 0,wt=$e.url,ud.label=1;case 1:return ud.trys.push([1,3,,4]),[4,te.context.cache.match(wt)];case 2:return Ze=ud.sent(),[3,4];case 3:return ud.sent(),te.context.logger.error("Error loading background-image "+wt),[3,4];case 4:return Ze&&(ps=_h(S,N,[Ze.width,Ze.height,Ze.width/Ze.height]),ei=ps[0],no=ps[1],Ao=ps[2],Sr=ps[3],so=ps[4],Hn=te.ctx.createPattern(te.resizeImage(Ze,Sr,so),"repeat"),te.renderRepeat(ei,Hn,no,Ao)),[3,6];case 5:Pu($e)?(ns=_h(S,N,[null,null,null]),ei=ns[0],no=ns[1],Ao=ns[2],Sr=ns[3],so=ns[4],As=Ir($e.angle,Sr,so),Rs=As[0],js=As[1],bs=As[2],Sn=As[3],vn=As[4],en=document.createElement("canvas"),en.width=Sr,en.height=so,gs=en.getContext("2d"),Fn=gs.createLinearGradient(js,Sn,bs,vn),tr($e.stops,Rs).forEach(function(Rh){return Fn.addColorStop(Rh.stop,On(Rh.color))}),gs.fillStyle=Fn,gs.fillRect(0,0,Sr,so),Sr>0&&so>0&&(Hn=te.ctx.createPattern(en,"repeat"),te.renderRepeat(ei,Hn,no,Ao))):nu($e)&&(Os=_h(S,N,[null,null,null]),ei=Os[0],Mr=Os[1],qo=Os[2],Sr=Os[3],so=Os[4],wo=$e.position.length===0?[Pc]:$e.position,no=Bn(wo[0],Sr),Ao=Bn(wo[wo.length-1],so),kl=vl($e,no,Ao,Sr,so),ac=kl[0],eA=kl[1],ac>0&&eA>0&&(LA=te.ctx.createRadialGradient(Mr+no,qo+Ao,0,Mr+no,qo+Ao,ac),tr($e.stops,ac*2).forEach(function(Rh){return LA.addColorStop(Rh.stop,On(Rh.color))}),te.path(ei),te.ctx.fillStyle=LA,ac!==eA?(QA=S.bounds.left+.5*S.bounds.width,Pl=S.bounds.top+.5*S.bounds.height,tA=eA/ac,sA=1/tA,te.ctx.save(),te.ctx.translate(QA,Pl),te.ctx.transform(1,0,0,tA,0,0),te.ctx.translate(-QA,-Pl),te.ctx.fillRect(Mr,sA*(qo-Pl)+Pl,Sr,so*sA),te.ctx.restore()):te.ctx.fill())),ud.label=6;case 6:return N--,[2]}})},te=this,fe=0,Se=S.styles.backgroundImage.slice(0).reverse(),Re.label=1;case 1:return fe<Se.length?(Ce=Se[fe],[5,$(Ce)]):[3,4];case 2:Re.sent(),Re.label=3;case 3:return fe++,[3,1];case 4:return[2]}})})},v.prototype.renderSolidBorder=function(S,N,$){return o(this,void 0,void 0,function(){return A(this,function(te){return this.path(y0($,N)),this.ctx.fillStyle=On(S),this.ctx.fill(),[2]})})},v.prototype.renderDoubleBorder=function(S,N,$,te){return o(this,void 0,void 0,function(){var fe,Se;return A(this,function(Ce){switch(Ce.label){case 0:return N<3?[4,this.renderSolidBorder(S,$,te)]:[3,2];case 1:return Ce.sent(),[2];case 2:return fe=Df(te,$),this.path(fe),this.ctx.fillStyle=On(S),this.ctx.fill(),Se=Xo(te,$),this.path(Se),this.ctx.fill(),[2]}})})},v.prototype.renderNodeBackgroundAndBorders=function(S){return o(this,void 0,void 0,function(){var N,$,te,fe,Se,Ce,Re,$e,Ze=this;return A(this,function(wt){switch(wt.label){case 0:return this.applyEffects(S.getEffects(2)),N=S.container.styles,$=!gi(N.backgroundColor)||N.backgroundImage.length,te=[{style:N.borderTopStyle,color:N.borderTopColor,width:N.borderTopWidth},{style:N.borderRightStyle,color:N.borderRightColor,width:N.borderRightWidth},{style:N.borderBottomStyle,color:N.borderBottomColor,width:N.borderBottomWidth},{style:N.borderLeftStyle,color:N.borderLeftColor,width:N.borderLeftWidth}],fe=B0(rc(N.backgroundClip,0),S.curves),$||N.boxShadow.length?(this.ctx.save(),this.path(fe),this.ctx.clip(),gi(N.backgroundColor)||(this.ctx.fillStyle=On(N.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(S.container)]):[3,2];case 1:wt.sent(),this.ctx.restore(),N.boxShadow.slice(0).reverse().forEach(function(ps){Ze.ctx.save();var ns=pu(S.curves),As=ps.inset?0:Dh,Rs=ua(ns,-As+(ps.inset?1:-1)*ps.spread.number,(ps.inset?1:-1)*ps.spread.number,ps.spread.number*(ps.inset?-2:2),ps.spread.number*(ps.inset?-2:2));ps.inset?(Ze.path(ns),Ze.ctx.clip(),Ze.mask(Rs)):(Ze.mask(ns),Ze.ctx.clip(),Ze.path(Rs)),Ze.ctx.shadowOffsetX=ps.offsetX.number+As,Ze.ctx.shadowOffsetY=ps.offsetY.number,Ze.ctx.shadowColor=On(ps.color),Ze.ctx.shadowBlur=ps.blur.number,Ze.ctx.fillStyle=ps.inset?On(ps.color):"rgba(0,0,0,1)",Ze.ctx.fill(),Ze.ctx.restore()}),wt.label=2;case 2:Se=0,Ce=0,Re=te,wt.label=3;case 3:return Ce<Re.length?($e=Re[Ce],$e.style!==0&&!gi($e.color)&&$e.width>0?$e.style!==2?[3,5]:[4,this.renderDashedDottedBorder($e.color,$e.width,Se,S.curves,2)]:[3,11]):[3,13];case 4:return wt.sent(),[3,11];case 5:return $e.style!==3?[3,7]:[4,this.renderDashedDottedBorder($e.color,$e.width,Se,S.curves,3)];case 6:return wt.sent(),[3,11];case 7:return $e.style!==4?[3,9]:[4,this.renderDoubleBorder($e.color,$e.width,Se,S.curves)];case 8:return wt.sent(),[3,11];case 9:return[4,this.renderSolidBorder($e.color,Se,S.curves)];case 10:wt.sent(),wt.label=11;case 11:Se++,wt.label=12;case 12:return Ce++,[3,3];case 13:return[2]}})})},v.prototype.renderDashedDottedBorder=function(S,N,$,te,fe){return o(this,void 0,void 0,function(){var Se,Ce,Re,$e,Ze,wt,ps,ns,As,Rs,js,bs,Sn,vn,en,gs,en,gs;return A(this,function(Fn){return this.ctx.save(),Se=nc(te,$),Ce=y0(te,$),fe===2&&(this.path(Ce),this.ctx.clip()),Wo(Ce[0])?(Re=Ce[0].start.x,$e=Ce[0].start.y):(Re=Ce[0].x,$e=Ce[0].y),Wo(Ce[1])?(Ze=Ce[1].end.x,wt=Ce[1].end.y):(Ze=Ce[1].x,wt=Ce[1].y),$===0||$===2?ps=Math.abs(Re-Ze):ps=Math.abs($e-wt),this.ctx.beginPath(),fe===3?this.formatPath(Se):this.formatPath(Ce.slice(0,2)),ns=N<3?N*3:N*2,As=N<3?N*2:N,fe===3&&(ns=N,As=N),Rs=!0,ps<=ns*2?Rs=!1:ps<=ns*2+As?(js=ps/(2*ns+As),ns*=js,As*=js):(bs=Math.floor((ps+As)/(ns+As)),Sn=(ps-bs*ns)/(bs-1),vn=(ps-(bs+1)*ns)/bs,As=vn<=0||Math.abs(As-Sn)<Math.abs(As-vn)?Sn:vn),Rs&&(fe===3?this.ctx.setLineDash([0,ns+As]):this.ctx.setLineDash([ns,As])),fe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=N):this.ctx.lineWidth=N*2+1.1,this.ctx.strokeStyle=On(S),this.ctx.stroke(),this.ctx.setLineDash([]),fe===2&&(Wo(Ce[0])&&(en=Ce[3],gs=Ce[0],this.ctx.beginPath(),this.formatPath([new ds(en.end.x,en.end.y),new ds(gs.start.x,gs.start.y)]),this.ctx.stroke()),Wo(Ce[1])&&(en=Ce[1],gs=Ce[2],this.ctx.beginPath(),this.formatPath([new ds(en.end.x,en.end.y),new ds(gs.start.x,gs.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},v.prototype.render=function(S){return o(this,void 0,void 0,function(){var N;return A(this,function($){switch($.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=On(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),N=v0(S),[4,this.renderStack(N)];case 1:return $.sent(),this.applyEffects([]),[2,this.canvas]}})})},v})(mp),Rf=function(j){return j instanceof Bf||j instanceof t0?!0:j instanceof jf&&j.type!==xh&&j.type!==gh},B0=function(j,v){switch(j){case 0:return pu(v);case 2:return m0(v);case 1:default:return Ql(v)}},ey=function(j){switch(j){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ty=["-apple-system","system-ui"],gr=function(j){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?j.filter(function(v){return ty.indexOf(v)===-1}):j},Pr=(function(j){n(v,j);function v(S,N){var $=j.call(this,S,N)||this;return $.canvas=N.canvas?N.canvas:document.createElement("canvas"),$.ctx=$.canvas.getContext("2d"),$.options=N,$.canvas.width=Math.floor(N.width*N.scale),$.canvas.height=Math.floor(N.height*N.scale),$.canvas.style.width=N.width+"px",$.canvas.style.height=N.height+"px",$.ctx.scale($.options.scale,$.options.scale),$.ctx.translate(-N.x,-N.y),$.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+N.width+"x"+N.height+" at "+N.x+","+N.y+") with scale "+N.scale),$}return v.prototype.render=function(S){return o(this,void 0,void 0,function(){var N,$;return A(this,function(te){switch(te.label){case 0:return N=sd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,S),[4,Rn(N)];case 1:return $=te.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=On(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage($,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},v})(mp),Rn=function(j){return new Promise(function(v,S){var N=new Image;N.onload=function(){v(N)},N.onerror=S,N.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Mn=(function(){function j(v){var S=v.id,N=v.enabled;this.id=S,this.enabled=N,this.start=Date.now()}return j.prototype.debug=function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.prototype.getTime=function(){return Date.now()-this.start},j.prototype.info=function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,h([this.id,this.getTime()+"ms"],v))},j.prototype.warn=function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.prototype.error=function(){for(var v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,h([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},j.instances={},j})(),Nr=(function(){function j(v,S){var N;this.windowBounds=S,this.instanceName="#"+j.instanceCount++,this.logger=new Mn({id:this.instanceName,enabled:v.logging}),this.cache=(N=v.cache)!==null&&N!==void 0?N:new Eh(this,v)}return j.instanceCount=1,j})(),bl=function(j,v){return v===void 0&&(v={}),RA(j,v)};typeof window<"u"&&Ch.setContext(window);var RA=function(j,v){return o(void 0,void 0,void 0,function(){var S,N,$,te,fe,Se,Ce,Re,$e,Ze,wt,ps,ns,As,Rs,js,bs,Sn,vn,en,Fn,gs,Fn,Hn,Os,ei,Mr,qo,Sr,so,wo,no,Ao,kl,ac,eA,LA,QA,Pl,tA;return A(this,function(sA){switch(sA.label){case 0:if(!j||typeof j!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(S=j.ownerDocument,!S)throw new Error("Element is not attached to a Document");if(N=S.defaultView,!N)throw new Error("Document is not attached to a Window");return $={allowTaint:(Hn=v.allowTaint)!==null&&Hn!==void 0?Hn:!1,imageTimeout:(Os=v.imageTimeout)!==null&&Os!==void 0?Os:15e3,proxy:v.proxy,useCORS:(ei=v.useCORS)!==null&&ei!==void 0?ei:!1},te=a({logging:(Mr=v.logging)!==null&&Mr!==void 0?Mr:!0,cache:v.cache},$),fe={windowWidth:(qo=v.windowWidth)!==null&&qo!==void 0?qo:N.innerWidth,windowHeight:(Sr=v.windowHeight)!==null&&Sr!==void 0?Sr:N.innerHeight,scrollX:(so=v.scrollX)!==null&&so!==void 0?so:N.pageXOffset,scrollY:(wo=v.scrollY)!==null&&wo!==void 0?wo:N.pageYOffset},Se=new u(fe.scrollX,fe.scrollY,fe.windowWidth,fe.windowHeight),Ce=new Nr(te,Se),Re=(no=v.foreignObjectRendering)!==null&&no!==void 0?no:!1,$e={allowTaint:(Ao=v.allowTaint)!==null&&Ao!==void 0?Ao:!1,onclone:v.onclone,ignoreElements:v.ignoreElements,inlineImages:Re,copyStyles:Re},Ce.logger.debug("Starting document clone with size "+Se.width+"x"+Se.height+" scrolled to "+-Se.left+","+-Se.top),Ze=new rp(Ce,j,$e),wt=Ze.clonedReferenceElement,wt?[4,Ze.toIFrame(S,Se)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return ps=sA.sent(),ns=Sf(wt)||a0(wt)?c(wt.ownerDocument):f(Ce,wt),As=ns.width,Rs=ns.height,js=ns.left,bs=ns.top,Sn=Ad(Ce,wt,v.backgroundColor),vn={canvas:v.canvas,backgroundColor:Sn,scale:(ac=(kl=v.scale)!==null&&kl!==void 0?kl:N.devicePixelRatio)!==null&&ac!==void 0?ac:1,x:((eA=v.x)!==null&&eA!==void 0?eA:0)+js,y:((LA=v.y)!==null&&LA!==void 0?LA:0)+bs,width:(QA=v.width)!==null&&QA!==void 0?QA:Math.ceil(As),height:(Pl=v.height)!==null&&Pl!==void 0?Pl:Math.ceil(Rs)},Re?(Ce.logger.debug("Document cloned, using foreign object rendering"),Fn=new Pr(Ce,vn),[4,Fn.render(wt)]):[3,3];case 2:return en=sA.sent(),[3,5];case 3:return Ce.logger.debug("Document cloned, element located at "+js+","+bs+" with size "+As+"x"+Rs+" using computed rendering"),Ce.logger.debug("Starting DOM parsing"),gs=Ym(Ce,wt),Sn===gs.styles.backgroundColor&&(gs.styles.backgroundColor=ja.TRANSPARENT),Ce.logger.debug("Starting renderer for element at "+vn.x+","+vn.y+" with size "+vn.width+"x"+vn.height),Fn=new j0(Ce,vn),[4,Fn.render(gs)];case 4:en=sA.sent(),sA.label=5;case 5:return(!((tA=v.removeContainer)!==null&&tA!==void 0)||tA)&&(rp.destroy(ps)||Ce.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ce.logger.debug("Finished rendering"),[2,en]}})})},Ad=function(j,v,S){var N=v.ownerDocument,$=N.documentElement?gl(j,getComputedStyle(N.documentElement).backgroundColor):ja.TRANSPARENT,te=N.body?gl(j,getComputedStyle(N.body).backgroundColor):ja.TRANSPARENT,fe=typeof S=="string"?gl(j,S):S===null?ja.TRANSPARENT:4294967295;return v===N.documentElement?gi($)?gi(te)?fe:te:$:fe};return bl}))})(Tx)),Tx.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var jS;function _V(){return jS||(jS=1,(function(s,e){(function(n,a){s.exports=a(EV,IV())})(self,function(t,n){return(function(){var a={"./node_modules/core-js/internals/a-callable.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-callable.js"),x=c("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(w){if(m(w))return w;throw new g(x(w)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-constructor.js"),x=c("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(w){if(m(w))return w;throw new g(x(w)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-possible-prototype.js"),x=String,g=TypeError;u.exports=function(w){if(m(w))return w;throw new g("Can't set "+x(w)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/set-helpers.js").has;u.exports=function(x){return m(x),x}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/well-known-symbol.js"),x=c("./node_modules/core-js/internals/object-create.js"),g=c("./node_modules/core-js/internals/object-define-property.js").f,w=m("unscopables"),E=Array.prototype;E[w]===void 0&&g(E,w,{configurable:!0,value:x(null)}),u.exports=function(B){E[w][B]=!0}}),"./node_modules/core-js/internals/an-instance.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/object-is-prototype-of.js"),x=TypeError;u.exports=function(g,w){if(m(w,g))return g;throw new x("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-object.js"),x=String,g=TypeError;u.exports=function(w){if(m(w))return w;throw new g(x(w)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js");u.exports=m(function(){if(typeof ArrayBuffer=="function"){var x=new ArrayBuffer(8);Object.isExtensible(x)&&Object.defineProperty(x,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/array-iteration.js").forEach,x=c("./node_modules/core-js/internals/array-method-is-strict.js"),g=x("forEach");u.exports=g?[].forEach:function(E){return m(this,E,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-bind-context.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-object.js"),w=c("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),E=c("./node_modules/core-js/internals/is-array-iterator-method.js"),B=c("./node_modules/core-js/internals/is-constructor.js"),C=c("./node_modules/core-js/internals/length-of-array-like.js"),T=c("./node_modules/core-js/internals/create-property.js"),F=c("./node_modules/core-js/internals/get-iterator.js"),L=c("./node_modules/core-js/internals/get-iterator-method.js"),k=Array;u.exports=function(Q){var D=g(Q),R=B(this),V=arguments.length,O=V>1?arguments[1]:void 0,H=O!==void 0;H&&(O=m(O,V>2?arguments[2]:void 0));var G=L(D),ae=0,Ae,ie,le,X,ne,re;if(G&&!(this===k&&E(G)))for(ie=R?new this:[],X=F(D,G),ne=X.next;!(le=x(ne,X)).done;ae++)re=H?w(X,O,[le.value,ae],!0):le.value,T(ie,ae,re);else for(Ae=C(D),ie=R?new this(Ae):k(Ae);Ae>ae;ae++)re=H?O(D[ae],ae):D[ae],T(ie,ae,re);return ie.length=ae,ie}}),"./node_modules/core-js/internals/array-includes.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-indexed-object.js"),x=c("./node_modules/core-js/internals/to-absolute-index.js"),g=c("./node_modules/core-js/internals/length-of-array-like.js"),w=function(E){return function(B,C,T){var F=m(B),L=g(F);if(L===0)return!E&&-1;var k=x(T,L),M;if(E&&C!==C){for(;L>k;)if(M=F[k++],M!==M)return!0}else for(;L>k;k++)if((E||k in F)&&F[k]===C)return E||k||0;return!E&&-1}};u.exports={includes:w(!0),indexOf:w(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-bind-context.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js"),g=c("./node_modules/core-js/internals/indexed-object.js"),w=c("./node_modules/core-js/internals/to-object.js"),E=c("./node_modules/core-js/internals/length-of-array-like.js"),B=c("./node_modules/core-js/internals/array-species-create.js"),C=x([].push),T=function(F){var L=F===1,k=F===2,M=F===3,Q=F===4,D=F===6,R=F===7,V=F===5||D;return function(O,H,G,ae){for(var Ae=w(O),ie=g(Ae),le=E(ie),X=m(H,G),ne=0,re=ae||B,W=L?re(O,le):k||R?re(O,0):void 0,K,ee;le>ne;ne++)if((V||ne in ie)&&(K=ie[ne],ee=X(K,ne,Ae),F))if(L)W[ne]=ee;else if(ee)switch(F){case 3:return!0;case 5:return K;case 6:return ne;case 2:C(W,K)}else switch(F){case 4:return!1;case 7:C(W,K)}return D?-1:M||Q?Q:W}};u.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js"),x=c("./node_modules/core-js/internals/well-known-symbol.js"),g=c("./node_modules/core-js/internals/environment-v8-version.js"),w=x("species");u.exports=function(E){return g>=51||!m(function(){var B=[],C=B.constructor={};return C[w]=function(){return{foo:1}},B[E](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js");u.exports=function(x,g){var w=[][x];return!!w&&m(function(){w.call(null,g||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-slice.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-array.js"),x=c("./node_modules/core-js/internals/is-constructor.js"),g=c("./node_modules/core-js/internals/is-object.js"),w=c("./node_modules/core-js/internals/well-known-symbol.js"),E=w("species"),B=Array;u.exports=function(C){var T;return m(C)&&(T=C.constructor,x(T)&&(T===B||m(T.prototype))?T=void 0:g(T)&&(T=T[E],T===null&&(T=void 0))),T===void 0?B:T}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(x,g){return new(m(x))(g===0?0:g)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/an-object.js"),x=c("./node_modules/core-js/internals/iterator-close.js");u.exports=function(g,w,E,B){try{return B?w(m(E)[0],E[1]):w(E)}catch(C){x(g,"throw",C)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/well-known-symbol.js"),x=m("iterator"),g=!1;try{var w=0,E={next:function(){return{done:!!w++}},return:function(){g=!0}};E[x]=function(){return this},Array.from(E,function(){throw 2})}catch{}u.exports=function(B,C){try{if(!C&&!g)return!1}catch{return!1}var T=!1;try{var F={};F[x]=function(){return{next:function(){return{done:T=!0}}}},B(F)}catch{}return T}}),"./node_modules/core-js/internals/classof-raw.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=m({}.toString),g=m("".slice);u.exports=function(w){return g(x(w),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-string-tag-support.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=c("./node_modules/core-js/internals/classof-raw.js"),w=c("./node_modules/core-js/internals/well-known-symbol.js"),E=w("toStringTag"),B=Object,C=g((function(){return arguments})())==="Arguments",T=function(F,L){try{return F[L]}catch{}};u.exports=m?g:function(F){var L,k,M;return F===void 0?"Undefined":F===null?"Null":typeof(k=T(L=B(F),E))=="string"?k:C?g(L):(M=g(L))==="Object"&&x(L.callee)?"Arguments":M}}),"./node_modules/core-js/internals/collection-strong.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/object-create.js"),x=c("./node_modules/core-js/internals/define-built-in-accessor.js"),g=c("./node_modules/core-js/internals/define-built-ins.js"),w=c("./node_modules/core-js/internals/function-bind-context.js"),E=c("./node_modules/core-js/internals/an-instance.js"),B=c("./node_modules/core-js/internals/is-null-or-undefined.js"),C=c("./node_modules/core-js/internals/iterate.js"),T=c("./node_modules/core-js/internals/iterator-define.js"),F=c("./node_modules/core-js/internals/create-iter-result-object.js"),L=c("./node_modules/core-js/internals/set-species.js"),k=c("./node_modules/core-js/internals/descriptors.js"),M=c("./node_modules/core-js/internals/internal-metadata.js").fastKey,Q=c("./node_modules/core-js/internals/internal-state.js"),D=Q.set,R=Q.getterFor;u.exports={getConstructor:function(V,O,H,G){var ae=V(function(ne,re){E(ne,Ae),D(ne,{type:O,index:m(null),first:null,last:null,size:0}),k||(ne.size=0),B(re)||C(re,ne[G],{that:ne,AS_ENTRIES:H})}),Ae=ae.prototype,ie=R(O),le=function(ne,re,W){var K=ie(ne),ee=X(ne,re),oe,he;return ee?ee.value=W:(K.last=ee={index:he=M(re,!0),key:re,value:W,previous:oe=K.last,next:null,removed:!1},K.first||(K.first=ee),oe&&(oe.next=ee),k?K.size++:ne.size++,he!=="F"&&(K.index[he]=ee)),ne},X=function(ne,re){var W=ie(ne),K=M(re),ee;if(K!=="F")return W.index[K];for(ee=W.first;ee;ee=ee.next)if(ee.key===re)return ee};return g(Ae,{clear:function(){for(var re=this,W=ie(re),K=W.first;K;)K.removed=!0,K.previous&&(K.previous=K.previous.next=null),K=K.next;W.first=W.last=null,W.index=m(null),k?W.size=0:re.size=0},delete:function(ne){var re=this,W=ie(re),K=X(re,ne);if(K){var ee=K.next,oe=K.previous;delete W.index[K.index],K.removed=!0,oe&&(oe.next=ee),ee&&(ee.previous=oe),W.first===K&&(W.first=ee),W.last===K&&(W.last=oe),k?W.size--:re.size--}return!!K},forEach:function(re){for(var W=ie(this),K=w(re,arguments.length>1?arguments[1]:void 0),ee;ee=ee?ee.next:W.first;)for(K(ee.value,ee.key,this);ee&&ee.removed;)ee=ee.previous},has:function(re){return!!X(this,re)}}),g(Ae,H?{get:function(re){var W=X(this,re);return W&&W.value},set:function(re,W){return le(this,re===0?0:re,W)}}:{add:function(re){return le(this,re=re===0?0:re,re)}}),k&&x(Ae,"size",{configurable:!0,get:function(){return ie(this).size}}),ae},setStrong:function(V,O,H){var G=O+" Iterator",ae=R(O),Ae=R(G);T(V,O,function(ie,le){D(this,{type:G,target:ie,state:ae(ie),kind:le,last:null})},function(){for(var ie=Ae(this),le=ie.kind,X=ie.last;X&&X.removed;)X=X.previous;return!ie.target||!(ie.last=X=X?X.next:ie.state.first)?(ie.target=null,F(void 0,!0)):F(le==="keys"?X.key:le==="values"?X.value:[X.key,X.value],!1)},H?"entries":"values",!H,!0),L(O)}}}),"./node_modules/core-js/internals/collection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=c("./node_modules/core-js/internals/function-uncurry-this.js"),w=c("./node_modules/core-js/internals/is-forced.js"),E=c("./node_modules/core-js/internals/define-built-in.js"),B=c("./node_modules/core-js/internals/internal-metadata.js"),C=c("./node_modules/core-js/internals/iterate.js"),T=c("./node_modules/core-js/internals/an-instance.js"),F=c("./node_modules/core-js/internals/is-callable.js"),L=c("./node_modules/core-js/internals/is-null-or-undefined.js"),k=c("./node_modules/core-js/internals/is-object.js"),M=c("./node_modules/core-js/internals/fails.js"),Q=c("./node_modules/core-js/internals/check-correctness-of-iteration.js"),D=c("./node_modules/core-js/internals/set-to-string-tag.js"),R=c("./node_modules/core-js/internals/inherit-if-required.js");u.exports=function(V,O,H){var G=V.indexOf("Map")!==-1,ae=V.indexOf("Weak")!==-1,Ae=G?"set":"add",ie=x[V],le=ie&&ie.prototype,X=ie,ne={},re=function(ye){var je=g(le[ye]);E(le,ye,ye==="add"?function(_e){return je(this,_e===0?0:_e),this}:ye==="delete"?function(ve){return ae&&!k(ve)?!1:je(this,ve===0?0:ve)}:ye==="get"?function(_e){return ae&&!k(_e)?void 0:je(this,_e===0?0:_e)}:ye==="has"?function(_e){return ae&&!k(_e)?!1:je(this,_e===0?0:_e)}:function(_e,ke){return je(this,_e===0?0:_e,ke),this})},W=w(V,!F(ie)||!(ae||le.forEach&&!M(function(){new ie().entries().next()})));if(W)X=H.getConstructor(O,V,G,Ae),B.enable();else if(w(V,!0)){var K=new X,ee=K[Ae](ae?{}:-0,1)!==K,oe=M(function(){K.has(1)}),he=Q(function(ye){new ie(ye)}),ue=!ae&&M(function(){for(var ye=new ie,je=5;je--;)ye[Ae](je,je);return!ye.has(-0)});he||(X=O(function(ye,je){T(ye,le);var ve=R(new ie,ye,X);return L(je)||C(je,ve[Ae],{that:ve,AS_ENTRIES:G}),ve}),X.prototype=le,le.constructor=X),(oe||ue)&&(re("delete"),re("has"),G&&re("get")),(ue||ee)&&re(Ae),ae&&le.clear&&delete le.clear}return ne[V]=X,m({global:!0,constructor:!0,forced:X!==ie},ne),D(X,V),ae||H.setStrong(X,V,G),X}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/has-own-property.js"),x=c("./node_modules/core-js/internals/own-keys.js"),g=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),w=c("./node_modules/core-js/internals/object-define-property.js");u.exports=function(E,B,C){for(var T=x(B),F=w.f,L=g.f,k=0;k<T.length;k++){var M=T[k];!m(E,M)&&!(C&&m(C,M))&&F(E,M,L(B,M))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function x(){}return x.prototype.constructor=null,Object.getPrototypeOf(new x)!==x.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/require-object-coercible.js"),g=c("./node_modules/core-js/internals/to-string.js"),w=/"/g,E=m("".replace);u.exports=function(B,C,T,F){var L=g(x(B)),k="<"+C;return T!==""&&(k+=" "+T+'="'+E(g(F),w,"&quot;")+'"'),k+">"+L+"</"+C+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(u){u.exports=function(f,c){return{value:f,done:c}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/object-define-property.js"),g=c("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(w,E,B){return x.f(w,E,g(1,B))}:function(w,E,B){return w[E]=B,w}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(f,c){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:c}}}),"./node_modules/core-js/internals/create-property.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/object-define-property.js"),g=c("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(w,E,B){m?x.f(w,E,g(0,B)):w[E]=B}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/make-built-in.js"),x=c("./node_modules/core-js/internals/object-define-property.js");u.exports=function(g,w,E){return E.get&&m(E.get,w,{getter:!0}),E.set&&m(E.set,w,{setter:!0}),x.f(g,w,E)}}),"./node_modules/core-js/internals/define-built-in.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-callable.js"),x=c("./node_modules/core-js/internals/object-define-property.js"),g=c("./node_modules/core-js/internals/make-built-in.js"),w=c("./node_modules/core-js/internals/define-global-property.js");u.exports=function(E,B,C,T){T||(T={});var F=T.enumerable,L=T.name!==void 0?T.name:B;if(m(C)&&g(C,L,T),T.global)F?E[B]=C:w(B,C);else{try{T.unsafe?E[B]&&(F=!0):delete E[B]}catch{}F?E[B]=C:x.f(E,B,{value:C,enumerable:!1,configurable:!T.nonConfigurable,writable:!T.nonWritable})}return E}}),"./node_modules/core-js/internals/define-built-ins.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/define-built-in.js");u.exports=function(x,g,w){for(var E in g)m(x,E,g[E],w);return x}}),"./node_modules/core-js/internals/define-global-property.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=Object.defineProperty;u.exports=function(g,w){try{x(m,g,{value:w,configurable:!0,writable:!0})}catch{m[g]=w}return w}}),"./node_modules/core-js/internals/descriptors.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/is-object.js"),g=m.document,w=x(g)&&x(g.createElement);u.exports=function(E){return w?g.createElement(E):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(u){var f=TypeError,c=9007199254740991;u.exports=function(m){if(m>c)throw f("Maximum allowed index exceeded");return m}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/document-create-element.js"),x=m("span").classList,g=x&&x.constructor&&x.constructor.prototype;u.exports=g===Object.prototype?void 0:g}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)}),"./node_modules/core-js/internals/environment-is-node.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/environment.js");u.exports=m==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/web0s(?!.*chrome)/i.test(m)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=m.navigator,g=x&&x.userAgent;u.exports=g?String(g):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/environment-user-agent.js"),g=m.process,w=m.Deno,E=g&&g.versions||w&&w.version,B=E&&E.v8,C,T;B&&(C=B.split("."),T=C[0]>0&&C[0]<4?1:+(C[0]+C[1])),!T&&x&&(C=x.match(/Edge\/(\d+)/),(!C||C[1]>=74)&&(C=x.match(/Chrome\/(\d+)/),C&&(T=+C[1]))),u.exports=T}),"./node_modules/core-js/internals/environment.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/environment-user-agent.js"),g=c("./node_modules/core-js/internals/classof-raw.js"),w=function(E){return x.slice(0,E.length)===E};u.exports=(function(){return w("Bun/")?"BUN":w("Cloudflare-Workers")?"CLOUDFLARE":w("Deno/")?"DENO":w("Node.js/")?"NODE":m.Bun&&typeof Bun.version=="string"?"BUN":m.Deno&&typeof Deno.version=="object"?"DENO":g(m.process)==="process"?"NODE":m.window&&m.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=c("./node_modules/core-js/internals/define-built-in.js"),E=c("./node_modules/core-js/internals/define-global-property.js"),B=c("./node_modules/core-js/internals/copy-constructor-properties.js"),C=c("./node_modules/core-js/internals/is-forced.js");u.exports=function(T,F){var L=T.target,k=T.global,M=T.stat,Q,D,R,V,O,H;if(k?D=m:M?D=m[L]||E(L,{}):D=m[L]&&m[L].prototype,D)for(R in F){if(O=F[R],T.dontCallGetSet?(H=x(D,R),V=H&&H.value):V=D[R],Q=C(k?R:L+(M?".":"#")+R,T.forced),!Q&&V!==void 0){if(typeof O==typeof V)continue;B(O,V)}(T.sham||V&&V.sham)&&g(O,"sham",!0),w(D,R,O,T)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(f){try{return!!f()}catch{return!0}}}),"./node_modules/core-js/internals/freezing.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype,g=x.apply,w=x.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?w.bind(g):function(){return w.apply(g,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this-clause.js"),x=c("./node_modules/core-js/internals/a-callable.js"),g=c("./node_modules/core-js/internals/function-bind-native.js"),w=m(m.bind);u.exports=function(E,B){return x(E),B===void 0?E:g?w(E,B):function(){return E.apply(B,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){var x=(function(){}).bind();return typeof x!="function"||x.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype.call;u.exports=m?x.bind(x):function(){return x.apply(x,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/has-own-property.js"),g=Function.prototype,w=m&&Object.getOwnPropertyDescriptor,E=x(g,"name"),B=E&&(function(){}).name==="something",C=E&&(!m||m&&w(g,"name").configurable);u.exports={EXISTS:E,PROPER:B,CONFIGURABLE:C}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/a-callable.js");u.exports=function(g,w,E){try{return m(x(Object.getOwnPropertyDescriptor(g,w)[E]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/classof-raw.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=function(g){if(m(g)==="Function")return x(g)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-bind-native.js"),x=Function.prototype,g=x.call,w=m&&x.bind.bind(g,g);u.exports=m?w:function(E){return function(){return g.apply(E,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=function(w){return x(w)?w:void 0};u.exports=function(w,E){return arguments.length<2?g(m[w]):m[w]&&m[w][E]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(u){u.exports=function(f){return{iterator:f,next:f.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/classof.js"),x=c("./node_modules/core-js/internals/get-method.js"),g=c("./node_modules/core-js/internals/is-null-or-undefined.js"),w=c("./node_modules/core-js/internals/iterators.js"),E=c("./node_modules/core-js/internals/well-known-symbol.js"),B=E("iterator");u.exports=function(C){if(!g(C))return x(C,B)||x(C,"@@iterator")||w[m(C)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/a-callable.js"),g=c("./node_modules/core-js/internals/an-object.js"),w=c("./node_modules/core-js/internals/try-to-string.js"),E=c("./node_modules/core-js/internals/get-iterator-method.js"),B=TypeError;u.exports=function(C,T){var F=arguments.length<2?E(C):T;if(x(F))return g(m(F,C));throw new B(w(C)+" is not iterable")}}),"./node_modules/core-js/internals/get-json-replacer-function.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/is-array.js"),g=c("./node_modules/core-js/internals/is-callable.js"),w=c("./node_modules/core-js/internals/classof-raw.js"),E=c("./node_modules/core-js/internals/to-string.js"),B=m([].push);u.exports=function(C){if(g(C))return C;if(x(C)){for(var T=C.length,F=[],L=0;L<T;L++){var k=C[L];typeof k=="string"?B(F,k):(typeof k=="number"||w(k)==="Number"||w(k)==="String")&&B(F,E(k))}var M=F.length,Q=!0;return function(D,R){if(Q)return Q=!1,R;if(x(this))return R;for(var V=0;V<M;V++)if(F[V]===D)return R}}}}),"./node_modules/core-js/internals/get-method.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-callable.js"),x=c("./node_modules/core-js/internals/is-null-or-undefined.js");u.exports=function(g,w){var E=g[w];return x(E)?void 0:m(E)}}),"./node_modules/core-js/internals/get-set-record.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-callable.js"),x=c("./node_modules/core-js/internals/an-object.js"),g=c("./node_modules/core-js/internals/function-call.js"),w=c("./node_modules/core-js/internals/to-integer-or-infinity.js"),E=c("./node_modules/core-js/internals/get-iterator-direct.js"),B="Invalid size",C=RangeError,T=TypeError,F=Math.max,L=function(k,M){this.set=k,this.size=F(M,0),this.has=m(k.has),this.keys=m(k.keys)};L.prototype={getIterator:function(){return E(x(g(this.keys,this.set)))},includes:function(k){return g(this.has,this.set,k)}},u.exports=function(k){x(k);var M=+k.size;if(M!==M)throw new T(B);var Q=w(M);if(Q<0)throw new C(B);return new L(k,Q)}}),"./node_modules/core-js/internals/global-this.js":(function(u){var f=function(c){return c&&c.Math===Math&&c};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof Jj=="object"&&Jj)||f(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/to-object.js"),g=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(E,B){return g(x(E),B)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(u){u.exports=function(f,c){try{arguments.length===1?console.error(f):console.error(f,c)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/fails.js"),g=c("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!x(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/fails.js"),g=c("./node_modules/core-js/internals/classof-raw.js"),w=Object,E=m("".split);u.exports=x(function(){return!w("z").propertyIsEnumerable(0)})?function(B){return g(B)==="String"?E(B,""):w(B)}:w}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-callable.js"),x=c("./node_modules/core-js/internals/is-object.js"),g=c("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(w,E,B){var C,T;return g&&m(C=E.constructor)&&C!==B&&x(T=C.prototype)&&T!==B.prototype&&g(w,T),w}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=c("./node_modules/core-js/internals/shared-store.js"),w=m(Function.toString);x(g.inspectSource)||(g.inspectSource=function(E){return w(E)}),u.exports=g.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js"),g=c("./node_modules/core-js/internals/hidden-keys.js"),w=c("./node_modules/core-js/internals/is-object.js"),E=c("./node_modules/core-js/internals/has-own-property.js"),B=c("./node_modules/core-js/internals/object-define-property.js").f,C=c("./node_modules/core-js/internals/object-get-own-property-names.js"),T=c("./node_modules/core-js/internals/object-get-own-property-names-external.js"),F=c("./node_modules/core-js/internals/object-is-extensible.js"),L=c("./node_modules/core-js/internals/uid.js"),k=c("./node_modules/core-js/internals/freezing.js"),M=!1,Q=L("meta"),D=0,R=function(Ae){B(Ae,Q,{value:{objectID:"O"+D++,weakData:{}}})},V=function(Ae,ie){if(!w(Ae))return typeof Ae=="symbol"?Ae:(typeof Ae=="string"?"S":"P")+Ae;if(!E(Ae,Q)){if(!F(Ae))return"F";if(!ie)return"E";R(Ae)}return Ae[Q].objectID},O=function(Ae,ie){if(!E(Ae,Q)){if(!F(Ae))return!0;if(!ie)return!1;R(Ae)}return Ae[Q].weakData},H=function(Ae){return k&&M&&F(Ae)&&!E(Ae,Q)&&R(Ae),Ae},G=function(){ae.enable=function(){},M=!0;var Ae=C.f,ie=x([].splice),le={};le[Q]=1,Ae(le).length&&(C.f=function(X){for(var ne=Ae(X),re=0,W=ne.length;re<W;re++)if(ne[re]===Q){ie(ne,re,1);break}return ne},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},ae=u.exports={enable:G,fastKey:V,getWeakData:O,onFreeze:H};g[Q]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/weak-map-basic-detection.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=c("./node_modules/core-js/internals/is-object.js"),w=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),E=c("./node_modules/core-js/internals/has-own-property.js"),B=c("./node_modules/core-js/internals/shared-store.js"),C=c("./node_modules/core-js/internals/shared-key.js"),T=c("./node_modules/core-js/internals/hidden-keys.js"),F="Object already initialized",L=x.TypeError,k=x.WeakMap,M,Q,D,R=function(G){return D(G)?Q(G):M(G,{})},V=function(G){return function(ae){var Ae;if(!g(ae)||(Ae=Q(ae)).type!==G)throw new L("Incompatible receiver, "+G+" required");return Ae}};if(m||B.state){var O=B.state||(B.state=new k);O.get=O.get,O.has=O.has,O.set=O.set,M=function(G,ae){if(O.has(G))throw new L(F);return ae.facade=G,O.set(G,ae),ae},Q=function(G){return O.get(G)||{}},D=function(G){return O.has(G)}}else{var H=C("state");T[H]=!0,M=function(G,ae){if(E(G,H))throw new L(F);return ae.facade=G,w(G,H,ae),ae},Q=function(G){return E(G,H)?G[H]:{}},D=function(G){return E(G,H)}}u.exports={set:M,get:Q,has:D,enforce:R,getterFor:V}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/well-known-symbol.js"),x=c("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),w=Array.prototype;u.exports=function(E){return E!==void 0&&(x.Array===E||w[g]===E)}}),"./node_modules/core-js/internals/is-array.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(u){var f=typeof document=="object"&&document.all;u.exports=typeof f>"u"&&f!==void 0?function(c){return typeof c=="function"||c===f}:function(c){return typeof c=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/fails.js"),g=c("./node_modules/core-js/internals/is-callable.js"),w=c("./node_modules/core-js/internals/classof.js"),E=c("./node_modules/core-js/internals/get-built-in.js"),B=c("./node_modules/core-js/internals/inspect-source.js"),C=function(){},T=E("Reflect","construct"),F=/^\s*(?:class|function)\b/,L=m(F.exec),k=!F.test(C),M=function(R){if(!g(R))return!1;try{return T(C,[],R),!0}catch{return!1}},Q=function(R){if(!g(R))return!1;switch(w(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return k||!!L(F,B(R))}catch{return!0}};Q.sham=!0,u.exports=!T||x(function(){var D;return M(M.call)||!M(Object)||!M(function(){D=!0})||D})?Q:M}),"./node_modules/core-js/internals/is-forced.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=/#|\.prototype\./,w=function(F,L){var k=B[E(F)];return k===T?!0:k===C?!1:x(L)?m(L):!!L},E=w.normalize=function(F){return String(F).replace(g,".").toLowerCase()},B=w.data={},C=w.NATIVE="N",T=w.POLYFILL="P";u.exports=w}),"./node_modules/core-js/internals/is-iterable.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/classof.js"),x=c("./node_modules/core-js/internals/has-own-property.js"),g=c("./node_modules/core-js/internals/is-null-or-undefined.js"),w=c("./node_modules/core-js/internals/well-known-symbol.js"),E=c("./node_modules/core-js/internals/iterators.js"),B=w("iterator"),C=Object;u.exports=function(T){if(g(T))return!1;var F=C(T);return F[B]!==void 0||"@@iterator"in F||x(E,m(F))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(u){u.exports=function(f){return f==null}}),"./node_modules/core-js/internals/is-object.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-callable.js");u.exports=function(x){return typeof x=="object"?x!==null:m(x)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-object.js");u.exports=function(x){return m(x)||x===null}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/get-built-in.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=c("./node_modules/core-js/internals/object-is-prototype-of.js"),w=c("./node_modules/core-js/internals/use-symbol-as-uid.js"),E=Object;u.exports=w?function(B){return typeof B=="symbol"}:function(B){var C=m("Symbol");return x(C)&&g(C.prototype,E(B))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js");u.exports=function(x,g,w){for(var E=w?x:x.iterator,B=x.next,C,T;!(C=m(B,E)).done;)if(T=g(C.value),T!==void 0)return T}}),"./node_modules/core-js/internals/iterate.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-bind-context.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/an-object.js"),w=c("./node_modules/core-js/internals/try-to-string.js"),E=c("./node_modules/core-js/internals/is-array-iterator-method.js"),B=c("./node_modules/core-js/internals/length-of-array-like.js"),C=c("./node_modules/core-js/internals/object-is-prototype-of.js"),T=c("./node_modules/core-js/internals/get-iterator.js"),F=c("./node_modules/core-js/internals/get-iterator-method.js"),L=c("./node_modules/core-js/internals/iterator-close.js"),k=TypeError,M=function(D,R){this.stopped=D,this.result=R},Q=M.prototype;u.exports=function(D,R,V){var O=V&&V.that,H=!!(V&&V.AS_ENTRIES),G=!!(V&&V.IS_RECORD),ae=!!(V&&V.IS_ITERATOR),Ae=!!(V&&V.INTERRUPTED),ie=m(R,O),le,X,ne,re,W,K,ee,oe=function(ue){return le&&L(le,"normal"),new M(!0,ue)},he=function(ue){return H?(g(ue),Ae?ie(ue[0],ue[1],oe):ie(ue[0],ue[1])):Ae?ie(ue,oe):ie(ue)};if(G)le=D.iterator;else if(ae)le=D;else{if(X=F(D),!X)throw new k(w(D)+" is not iterable");if(E(X)){for(ne=0,re=B(D);re>ne;ne++)if(W=he(D[ne]),W&&C(Q,W))return W;return new M(!1)}le=T(D,X)}for(K=G?D.next:le.next;!(ee=x(K,le)).done;){try{W=he(ee.value)}catch(ue){L(le,"throw",ue)}if(typeof W=="object"&&W&&C(Q,W))return W}return new M(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/iterator-close.js");u.exports=function(x,g,w){for(var E=x.length-1;E>=0;E--)if(x[E]!==void 0)try{w=m(x[E].iterator,g,w)}catch(B){g="throw",w=B}if(g==="throw")throw w;return w}}),"./node_modules/core-js/internals/iterator-close.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/an-object.js"),g=c("./node_modules/core-js/internals/get-method.js");u.exports=function(w,E,B){var C,T;x(w);try{if(C=g(w,"return"),!C){if(E==="throw")throw B;return B}C=m(C,w)}catch(F){T=!0,C=F}if(E==="throw")throw B;if(T)throw C;return x(C),B}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,x=c("./node_modules/core-js/internals/object-create.js"),g=c("./node_modules/core-js/internals/create-property-descriptor.js"),w=c("./node_modules/core-js/internals/set-to-string-tag.js"),E=c("./node_modules/core-js/internals/iterators.js"),B=function(){return this};u.exports=function(C,T,F,L){var k=T+" Iterator";return C.prototype=x(m,{next:g(+!L,F)}),w(C,k,!1,!0),E[k]=B,C}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/object-create.js"),g=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=c("./node_modules/core-js/internals/define-built-ins.js"),E=c("./node_modules/core-js/internals/well-known-symbol.js"),B=c("./node_modules/core-js/internals/internal-state.js"),C=c("./node_modules/core-js/internals/get-method.js"),T=c("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,F=c("./node_modules/core-js/internals/create-iter-result-object.js"),L=c("./node_modules/core-js/internals/iterator-close.js"),k=c("./node_modules/core-js/internals/iterator-close-all.js"),M=E("toStringTag"),Q="IteratorHelper",D="WrapForValidIterator",R="normal",V="throw",O=B.set,H=function(Ae){var ie=B.getterFor(Ae?D:Q);return w(x(T),{next:function(){var X=ie(this);if(Ae)return X.nextHandler();if(X.done)return F(void 0,!0);try{var ne=X.nextHandler();return X.returnHandlerResult?ne:F(ne,X.done)}catch(re){throw X.done=!0,re}},return:function(){var le=ie(this),X=le.iterator;if(le.done=!0,Ae){var ne=C(X,"return");return ne?m(ne,X):F(void 0,!0)}if(le.inner)try{L(le.inner.iterator,R)}catch(re){return L(X,V,re)}if(le.openIters)try{k(le.openIters,R)}catch(re){return L(X,V,re)}return X&&L(X,R),F(void 0,!0)}})},G=H(!0),ae=H(!1);g(ae,M,"Iterator Helper"),u.exports=function(Ae,ie,le){var X=function(re,W){W?(W.iterator=re.iterator,W.next=re.next):W=re,W.type=ie?D:Q,W.returnHandlerResult=!!le,W.nextHandler=Ae,W.counter=0,W.done=!1,O(this,W)};return X.prototype=ie?G:ae,X}}),"./node_modules/core-js/internals/iterator-define.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/is-pure.js"),w=c("./node_modules/core-js/internals/function-name.js"),E=c("./node_modules/core-js/internals/is-callable.js"),B=c("./node_modules/core-js/internals/iterator-create-constructor.js"),C=c("./node_modules/core-js/internals/object-get-prototype-of.js"),T=c("./node_modules/core-js/internals/object-set-prototype-of.js"),F=c("./node_modules/core-js/internals/set-to-string-tag.js"),L=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),k=c("./node_modules/core-js/internals/define-built-in.js"),M=c("./node_modules/core-js/internals/well-known-symbol.js"),Q=c("./node_modules/core-js/internals/iterators.js"),D=c("./node_modules/core-js/internals/iterators-core.js"),R=w.PROPER,V=w.CONFIGURABLE,O=D.IteratorPrototype,H=D.BUGGY_SAFARI_ITERATORS,G=M("iterator"),ae="keys",Ae="values",ie="entries",le=function(){return this};u.exports=function(X,ne,re,W,K,ee,oe){B(re,ne,W);var he=function(ge){if(ge===K&&_e)return _e;if(!H&&ge&&ge in je)return je[ge];switch(ge){case ae:return function(){return new re(this,ge)};case Ae:return function(){return new re(this,ge)};case ie:return function(){return new re(this,ge)}}return function(){return new re(this)}},ue=ne+" Iterator",ye=!1,je=X.prototype,ve=je[G]||je["@@iterator"]||K&&je[K],_e=!H&&ve||he(K),ke=ne==="Array"&&je.entries||ve,Me,Je,at;if(ke&&(Me=C(ke.call(new X)),Me!==Object.prototype&&Me.next&&(!g&&C(Me)!==O&&(T?T(Me,O):E(Me[G])||k(Me,G,le)),F(Me,ue,!0,!0),g&&(Q[ue]=le))),R&&K===Ae&&ve&&ve.name!==Ae&&(!g&&V?L(je,"name",Ae):(ye=!0,_e=function(){return x(ve,this)})),K)if(Je={values:he(Ae),keys:ee?_e:he(ae),entries:he(ie)},oe)for(at in Je)(H||ye||!(at in je))&&k(je,at,Je[at]);else m({target:ne,proto:!0,forced:H||ye},Je);return(!g||oe)&&je[G]!==_e&&k(je,G,_e,{name:K}),Q[ne]=_e,Je}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(u){u.exports=function(f,c){var m=typeof Iterator=="function"&&Iterator.prototype[f];if(m)try{m.call({next:null},c).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js");u.exports=function(x,g){var w=m.Iterator,E=w&&w.prototype,B=E&&E[x],C=!1;if(B)try{B.call({next:function(){return{done:!0}},return:function(){C=!0}},-1)}catch(T){T instanceof g||(C=!1)}if(!C)return B}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=c("./node_modules/core-js/internals/is-object.js"),w=c("./node_modules/core-js/internals/object-create.js"),E=c("./node_modules/core-js/internals/object-get-prototype-of.js"),B=c("./node_modules/core-js/internals/define-built-in.js"),C=c("./node_modules/core-js/internals/well-known-symbol.js"),T=c("./node_modules/core-js/internals/is-pure.js"),F=C("iterator"),L=!1,k,M,Q;[].keys&&(Q=[].keys(),"next"in Q?(M=E(E(Q)),M!==Object.prototype&&(k=M)):L=!0);var D=!g(k)||m(function(){var R={};return k[F].call(R)!==R});D?k={}:T&&(k=w(k)),x(k[F])||B(k,F,function(){return this}),u.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:L}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-length.js");u.exports=function(x){return m(x.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/fails.js"),g=c("./node_modules/core-js/internals/is-callable.js"),w=c("./node_modules/core-js/internals/has-own-property.js"),E=c("./node_modules/core-js/internals/descriptors.js"),B=c("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,C=c("./node_modules/core-js/internals/inspect-source.js"),T=c("./node_modules/core-js/internals/internal-state.js"),F=T.enforce,L=T.get,k=String,M=Object.defineProperty,Q=m("".slice),D=m("".replace),R=m([].join),V=E&&!x(function(){return M(function(){},"length",{value:8}).length!==8}),O=String(String).split("String"),H=u.exports=function(G,ae,Ae){Q(k(ae),0,7)==="Symbol("&&(ae="["+D(k(ae),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),Ae&&Ae.getter&&(ae="get "+ae),Ae&&Ae.setter&&(ae="set "+ae),(!w(G,"name")||B&&G.name!==ae)&&(E?M(G,"name",{value:ae,configurable:!0}):G.name=ae),V&&Ae&&w(Ae,"arity")&&G.length!==Ae.arity&&M(G,"length",{value:Ae.arity});try{Ae&&w(Ae,"constructor")&&Ae.constructor?E&&M(G,"prototype",{writable:!1}):G.prototype&&(G.prototype=void 0)}catch{}var ie=F(G);return w(ie,"source")||(ie.source=R(O,typeof ae=="string"?ae:"")),G};Function.prototype.toString=H(function(){return g(this)&&L(this).source||C(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(u){var f=Math.ceil,c=Math.floor;u.exports=Math.trunc||function(x){var g=+x;return(g>0?c:f)(g)}}),"./node_modules/core-js/internals/microtask.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/safe-get-built-in.js"),g=c("./node_modules/core-js/internals/function-bind-context.js"),w=c("./node_modules/core-js/internals/task.js").set,E=c("./node_modules/core-js/internals/queue.js"),B=c("./node_modules/core-js/internals/environment-is-ios.js"),C=c("./node_modules/core-js/internals/environment-is-ios-pebble.js"),T=c("./node_modules/core-js/internals/environment-is-webos-webkit.js"),F=c("./node_modules/core-js/internals/environment-is-node.js"),L=m.MutationObserver||m.WebKitMutationObserver,k=m.document,M=m.process,Q=m.Promise,D=x("queueMicrotask"),R,V,O,H,G;if(!D){var ae=new E,Ae=function(){var ie,le;for(F&&(ie=M.domain)&&ie.exit();le=ae.get();)try{le()}catch(X){throw ae.head&&R(),X}ie&&ie.enter()};!B&&!F&&!T&&L&&k?(V=!0,O=k.createTextNode(""),new L(Ae).observe(O,{characterData:!0}),R=function(){O.data=V=!V}):!C&&Q&&Q.resolve?(H=Q.resolve(void 0),H.constructor=Q,G=g(H.then,H),R=function(){G(Ae)}):F?R=function(){M.nextTick(Ae)}:(w=g(w,m),R=function(){w(Ae)}),D=function(ie){ae.head||R(),ae.add(ie)}}u.exports=D}),"./node_modules/core-js/internals/new-promise-capability.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-callable.js"),x=TypeError,g=function(w){var E,B;this.promise=new w(function(C,T){if(E!==void 0||B!==void 0)throw new x("Bad Promise constructor");E=C,B=T}),this.resolve=m(E),this.reject=m(B)};u.exports.f=function(w){return new g(w)}}),"./node_modules/core-js/internals/object-assign.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js"),g=c("./node_modules/core-js/internals/function-call.js"),w=c("./node_modules/core-js/internals/fails.js"),E=c("./node_modules/core-js/internals/object-keys.js"),B=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),C=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),T=c("./node_modules/core-js/internals/to-object.js"),F=c("./node_modules/core-js/internals/indexed-object.js"),L=Object.assign,k=Object.defineProperty,M=x([].concat);u.exports=!L||w(function(){if(m&&L({b:1},L(k({},"a",{enumerable:!0,get:function(){k(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Q={},D={},R=Symbol("assign detection"),V="abcdefghijklmnopqrst";return Q[R]=7,V.split("").forEach(function(O){D[O]=O}),L({},Q)[R]!==7||E(L({},D)).join("")!==V})?function(D,R){for(var V=T(D),O=arguments.length,H=1,G=B.f,ae=C.f;O>H;)for(var Ae=F(arguments[H++]),ie=G?M(E(Ae),G(Ae)):E(Ae),le=ie.length,X=0,ne;le>X;)ne=ie[X++],(!m||g(ae,Ae,ne))&&(V[ne]=Ae[ne]);return V}:L}),"./node_modules/core-js/internals/object-create.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/an-object.js"),x=c("./node_modules/core-js/internals/object-define-properties.js"),g=c("./node_modules/core-js/internals/enum-bug-keys.js"),w=c("./node_modules/core-js/internals/hidden-keys.js"),E=c("./node_modules/core-js/internals/html.js"),B=c("./node_modules/core-js/internals/document-create-element.js"),C=c("./node_modules/core-js/internals/shared-key.js"),T=">",F="<",L="prototype",k="script",M=C("IE_PROTO"),Q=function(){},D=function(G){return F+k+T+G+F+"/"+k+T},R=function(G){G.write(D("")),G.close();var ae=G.parentWindow.Object;return G=null,ae},V=function(){var G=B("iframe"),ae="java"+k+":",Ae;return G.style.display="none",E.appendChild(G),G.src=String(ae),Ae=G.contentWindow.document,Ae.open(),Ae.write(D("document.F=Object")),Ae.close(),Ae.F},O,H=function(){try{O=new ActiveXObject("htmlfile")}catch{}H=typeof document<"u"?document.domain&&O?R(O):V():R(O);for(var G=g.length;G--;)delete H[L][g[G]];return H()};w[M]=!0,u.exports=Object.create||function(ae,Ae){var ie;return ae!==null?(Q[L]=m(ae),ie=new Q,Q[L]=null,ie[M]=ae):ie=H(),Ae===void 0?ie:x.f(ie,Ae)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=c("./node_modules/core-js/internals/object-define-property.js"),w=c("./node_modules/core-js/internals/an-object.js"),E=c("./node_modules/core-js/internals/to-indexed-object.js"),B=c("./node_modules/core-js/internals/object-keys.js");f.f=m&&!x?Object.defineProperties:function(T,F){w(T);for(var L=E(F),k=B(F),M=k.length,Q=0,D;M>Q;)g.f(T,D=k[Q++],L[D]);return T}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/ie8-dom-define.js"),g=c("./node_modules/core-js/internals/v8-prototype-define-bug.js"),w=c("./node_modules/core-js/internals/an-object.js"),E=c("./node_modules/core-js/internals/to-property-key.js"),B=TypeError,C=Object.defineProperty,T=Object.getOwnPropertyDescriptor,F="enumerable",L="configurable",k="writable";f.f=m?g?function(Q,D,R){if(w(Q),D=E(D),w(R),typeof Q=="function"&&D==="prototype"&&"value"in R&&k in R&&!R[k]){var V=T(Q,D);V&&V[k]&&(Q[D]=R.value,R={configurable:L in R?R[L]:V[L],enumerable:F in R?R[F]:V[F],writable:!1})}return C(Q,D,R)}:C:function(Q,D,R){if(w(Q),D=E(D),w(R),x)try{return C(Q,D,R)}catch{}if("get"in R||"set"in R)throw new B("Accessors not supported");return"value"in R&&(Q[D]=R.value),Q}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),w=c("./node_modules/core-js/internals/create-property-descriptor.js"),E=c("./node_modules/core-js/internals/to-indexed-object.js"),B=c("./node_modules/core-js/internals/to-property-key.js"),C=c("./node_modules/core-js/internals/has-own-property.js"),T=c("./node_modules/core-js/internals/ie8-dom-define.js"),F=Object.getOwnPropertyDescriptor;f.f=m?F:function(k,M){if(k=E(k),M=B(M),T)try{return F(k,M)}catch{}if(C(k,M))return w(!x(g.f,k,M),k[M])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/classof-raw.js"),x=c("./node_modules/core-js/internals/to-indexed-object.js"),g=c("./node_modules/core-js/internals/object-get-own-property-names.js").f,w=c("./node_modules/core-js/internals/array-slice.js"),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],B=function(C){try{return g(C)}catch{return w(E)}};u.exports.f=function(T){return E&&m(T)==="Window"?B(T):g(x(T))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/object-keys-internal.js"),x=c("./node_modules/core-js/internals/enum-bug-keys.js"),g=x.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(E){return m(E,g)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,f){f.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/has-own-property.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=c("./node_modules/core-js/internals/to-object.js"),w=c("./node_modules/core-js/internals/shared-key.js"),E=c("./node_modules/core-js/internals/correct-prototype-getter.js"),B=w("IE_PROTO"),C=Object,T=C.prototype;u.exports=E?C.getPrototypeOf:function(F){var L=g(F);if(m(L,B))return L[B];var k=L.constructor;return x(k)&&L instanceof k?k.prototype:L instanceof C?T:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js"),x=c("./node_modules/core-js/internals/is-object.js"),g=c("./node_modules/core-js/internals/classof-raw.js"),w=c("./node_modules/core-js/internals/array-buffer-non-extensible.js"),E=Object.isExtensible,B=m(function(){});u.exports=B||w?function(T){return!x(T)||w&&g(T)==="ArrayBuffer"?!1:E?E(T):!0}:E}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/has-own-property.js"),g=c("./node_modules/core-js/internals/to-indexed-object.js"),w=c("./node_modules/core-js/internals/array-includes.js").indexOf,E=c("./node_modules/core-js/internals/hidden-keys.js"),B=m([].push);u.exports=function(C,T){var F=g(C),L=0,k=[],M;for(M in F)!x(E,M)&&x(F,M)&&B(k,M);for(;T.length>L;)x(F,M=T[L++])&&(~w(k,M)||B(k,M));return k}}),"./node_modules/core-js/internals/object-keys.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/object-keys-internal.js"),x=c("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(w){return m(w,x)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,f){var c={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,x=m&&!c.call({1:2},1);f.f=x?function(w){var E=m(this,w);return!!E&&E.enumerable}:c}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),x=c("./node_modules/core-js/internals/is-object.js"),g=c("./node_modules/core-js/internals/require-object-coercible.js"),w=c("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var E=!1,B={},C;try{C=m(Object.prototype,"__proto__","set"),C(B,[]),E=B instanceof Array}catch{}return function(F,L){return g(F),w(L),x(F)&&(E?C(F,L):F.__proto__=L),F}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-string-tag-support.js"),x=c("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+x(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=c("./node_modules/core-js/internals/is-object.js"),w=TypeError;u.exports=function(E,B){var C,T;if(B==="string"&&x(C=E.toString)&&!g(T=m(C,E))||x(C=E.valueOf)&&!g(T=m(C,E))||B!=="string"&&x(C=E.toString)&&!g(T=m(C,E)))return T;throw new w("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/get-built-in.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js"),g=c("./node_modules/core-js/internals/object-get-own-property-names.js"),w=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),E=c("./node_modules/core-js/internals/an-object.js"),B=x([].concat);u.exports=m("Reflect","ownKeys")||function(T){var F=g.f(E(T)),L=w.f;return L?B(F,L(T)):F}}),"./node_modules/core-js/internals/path.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js");u.exports=m}),"./node_modules/core-js/internals/perform.js":(function(u){u.exports=function(f){try{return{error:!1,value:f()}}catch(c){return{error:!0,value:c}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/promise-native-constructor.js"),g=c("./node_modules/core-js/internals/is-callable.js"),w=c("./node_modules/core-js/internals/is-forced.js"),E=c("./node_modules/core-js/internals/inspect-source.js"),B=c("./node_modules/core-js/internals/well-known-symbol.js"),C=c("./node_modules/core-js/internals/environment.js"),T=c("./node_modules/core-js/internals/is-pure.js"),F=c("./node_modules/core-js/internals/environment-v8-version.js"),L=x&&x.prototype,k=B("species"),M=!1,Q=g(m.PromiseRejectionEvent),D=w("Promise",function(){var R=E(x),V=R!==String(x);if(!V&&F===66||T&&!(L.catch&&L.finally))return!0;if(!F||F<51||!/native code/.test(R)){var O=new x(function(ae){ae(1)}),H=function(ae){ae(function(){},function(){})},G=O.constructor={};if(G[k]=H,M=O.then(function(){})instanceof H,!M)return!0}return!V&&(C==="BROWSER"||C==="DENO")&&!Q});u.exports={CONSTRUCTOR:D,REJECTION_EVENT:Q,SUBCLASSING:M}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js");u.exports=m.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/an-object.js"),x=c("./node_modules/core-js/internals/is-object.js"),g=c("./node_modules/core-js/internals/new-promise-capability.js");u.exports=function(w,E){if(m(w),x(E)&&E.constructor===w)return E;var B=g.f(w),C=B.resolve;return C(E),B.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/promise-native-constructor.js"),x=c("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=c("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u.exports=g||!x(function(w){m.all(w).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(u){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(c){var m={item:c,next:null},x=this.tail;x?x.next=m:this.head=m,this.tail=m},get:function(){var c=this.head;if(c){var m=this.head=c.next;return m===null&&(this.tail=null),c.item}}},u.exports=f}),"./node_modules/core-js/internals/regexp-exec.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js"),g=c("./node_modules/core-js/internals/to-string.js"),w=c("./node_modules/core-js/internals/regexp-flags.js"),E=c("./node_modules/core-js/internals/regexp-sticky-helpers.js"),B=c("./node_modules/core-js/internals/shared.js"),C=c("./node_modules/core-js/internals/object-create.js"),T=c("./node_modules/core-js/internals/internal-state.js").get,F=c("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),L=c("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),k=B("native-string-replace",String.prototype.replace),M=RegExp.prototype.exec,Q=M,D=x("".charAt),R=x("".indexOf),V=x("".replace),O=x("".slice),H=(function(){var ie=/a/,le=/b*/g;return m(M,ie,"a"),m(M,le,"a"),ie.lastIndex!==0||le.lastIndex!==0})(),G=E.BROKEN_CARET,ae=/()??/.exec("")[1]!==void 0,Ae=H||ae||G||F||L;Ae&&(Q=function(le){var X=this,ne=T(X),re=g(le),W=ne.raw,K,ee,oe,he,ue,ye,je;if(W)return W.lastIndex=X.lastIndex,K=m(Q,W,re),X.lastIndex=W.lastIndex,K;var ve=ne.groups,_e=G&&X.sticky,ke=m(w,X),Me=X.source,Je=0,at=re;if(_e&&(ke=V(ke,"y",""),R(ke,"g")===-1&&(ke+="g"),at=O(re,X.lastIndex),X.lastIndex>0&&(!X.multiline||X.multiline&&D(re,X.lastIndex-1)!==`
`)&&(Me="(?: "+Me+")",at=" "+at,Je++),ee=new RegExp("^(?:"+Me+")",ke)),ae&&(ee=new RegExp("^"+Me+"$(?!\\s)",ke)),H&&(oe=X.lastIndex),he=m(M,_e?ee:X,at),_e?he?(he.input=O(he.input,Je),he[0]=O(he[0],Je),he.index=X.lastIndex,X.lastIndex+=he[0].length):X.lastIndex=0:H&&he&&(X.lastIndex=X.global?he.index+he[0].length:oe),ae&&he&&he.length>1&&m(k,he[0],ee,function(){for(ue=1;ue<arguments.length-2;ue++)arguments[ue]===void 0&&(he[ue]=void 0)}),he&&ve)for(he.groups=ye=C(null),ue=0;ue<ve.length;ue++)je=ve[ue],ye[je[0]]=he[je[1]];return he}),u.exports=Q}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/fails.js"),g=m.RegExp,w=!x(function(){var E=!0;try{g(".","d")}catch{E=!1}var B={},C="",T=E?"dgimsy":"gimsy",F=function(Q,D){Object.defineProperty(B,Q,{get:function(){return C+=D,!0}})},L={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};E&&(L.hasIndices="d");for(var k in L)F(k,L[k]);var M=Object.getOwnPropertyDescriptor(g.prototype,"flags").get.call(B);return M!==T||C!==T});u.exports={correct:w}}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/an-object.js");u.exports=function(){var x=m(this),g="";return x.hasIndices&&(g+="d"),x.global&&(g+="g"),x.ignoreCase&&(g+="i"),x.multiline&&(g+="m"),x.dotAll&&(g+="s"),x.unicode&&(g+="u"),x.unicodeSets&&(g+="v"),x.sticky&&(g+="y"),g}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/has-own-property.js"),g=c("./node_modules/core-js/internals/object-is-prototype-of.js"),w=c("./node_modules/core-js/internals/regexp-flags-detection.js"),E=c("./node_modules/core-js/internals/regexp-flags.js"),B=RegExp.prototype;u.exports=w.correct?function(C){return C.flags}:function(C){return!w.correct&&g(B,C)&&!x(C,"flags")?m(E,C):C.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=x.RegExp,w=m(function(){var C=g("a","y");return C.lastIndex=2,C.exec("abcd")!==null}),E=w||m(function(){return!g("a","y").sticky}),B=w||m(function(){var C=g("^r","gy");return C.lastIndex=2,C.exec("str")!==null});u.exports={BROKEN_CARET:B,MISSED_STICKY:E,UNSUPPORTED_Y:w}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=x.RegExp;u.exports=m(function(){var w=g(".","s");return!(w.dotAll&&w.test(`
`)&&w.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=x.RegExp;u.exports=m(function(){var w=g("(?<a>b)","g");return w.exec("b").groups.a!=="b"||"b".replace(w,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-null-or-undefined.js"),x=TypeError;u.exports=function(g){if(m(g))throw new x("Can't call method on "+g);return g}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/descriptors.js"),g=Object.getOwnPropertyDescriptor;u.exports=function(w){if(!x)return m[w];var E=g(m,w);return E&&E.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/function-apply.js"),g=c("./node_modules/core-js/internals/is-callable.js"),w=c("./node_modules/core-js/internals/environment.js"),E=c("./node_modules/core-js/internals/environment-user-agent.js"),B=c("./node_modules/core-js/internals/array-slice.js"),C=c("./node_modules/core-js/internals/validate-arguments-length.js"),T=m.Function,F=/MSIE .\./.test(E)||w==="BUN"&&(function(){var L=m.Bun.version.split(".");return L.length<3||L[0]==="0"&&(L[1]<3||L[1]==="3"&&L[2]==="0")})();u.exports=function(L,k){var M=k?2:1;return F?function(Q,D){var R=C(arguments.length,1)>M,V=g(Q)?Q:T(Q),O=R?B(arguments,M):[],H=R?function(){x(V,this,O)}:V;return k?L(H,D):L(H)}:L}}),"./node_modules/core-js/internals/set-clone.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/set-helpers.js"),x=c("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,w=m.add;u.exports=function(E){var B=new g;return x(E,function(C){w(B,C)}),B}}),"./node_modules/core-js/internals/set-difference.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-set.js"),x=c("./node_modules/core-js/internals/set-helpers.js"),g=c("./node_modules/core-js/internals/set-clone.js"),w=c("./node_modules/core-js/internals/set-size.js"),E=c("./node_modules/core-js/internals/get-set-record.js"),B=c("./node_modules/core-js/internals/set-iterate.js"),C=c("./node_modules/core-js/internals/iterate-simple.js"),T=x.has,F=x.remove;u.exports=function(k){var M=m(this),Q=E(k),D=g(M);return w(M)<=Q.size?B(M,function(R){Q.includes(R)&&F(D,R)}):C(Q.getIterator(),function(R){T(D,R)&&F(D,R)}),D}}),"./node_modules/core-js/internals/set-helpers.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=Set.prototype;u.exports={Set,add:m(x.add),has:m(x.has),remove:m(x.delete),proto:x}}),"./node_modules/core-js/internals/set-intersection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-set.js"),x=c("./node_modules/core-js/internals/set-helpers.js"),g=c("./node_modules/core-js/internals/set-size.js"),w=c("./node_modules/core-js/internals/get-set-record.js"),E=c("./node_modules/core-js/internals/set-iterate.js"),B=c("./node_modules/core-js/internals/iterate-simple.js"),C=x.Set,T=x.add,F=x.has;u.exports=function(k){var M=m(this),Q=w(k),D=new C;return g(M)>Q.size?B(Q.getIterator(),function(R){F(M,R)&&T(D,R)}):E(M,function(R){Q.includes(R)&&T(D,R)}),D}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-set.js"),x=c("./node_modules/core-js/internals/set-helpers.js").has,g=c("./node_modules/core-js/internals/set-size.js"),w=c("./node_modules/core-js/internals/get-set-record.js"),E=c("./node_modules/core-js/internals/set-iterate.js"),B=c("./node_modules/core-js/internals/iterate-simple.js"),C=c("./node_modules/core-js/internals/iterator-close.js");u.exports=function(F){var L=m(this),k=w(F);if(g(L)<=k.size)return E(L,function(Q){if(k.includes(Q))return!1},!0)!==!1;var M=k.getIterator();return B(M,function(Q){if(x(L,Q))return C(M,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-set.js"),x=c("./node_modules/core-js/internals/set-size.js"),g=c("./node_modules/core-js/internals/set-iterate.js"),w=c("./node_modules/core-js/internals/get-set-record.js");u.exports=function(B){var C=m(this),T=w(B);return x(C)>T.size?!1:g(C,function(F){if(!T.includes(F))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-set.js"),x=c("./node_modules/core-js/internals/set-helpers.js").has,g=c("./node_modules/core-js/internals/set-size.js"),w=c("./node_modules/core-js/internals/get-set-record.js"),E=c("./node_modules/core-js/internals/iterate-simple.js"),B=c("./node_modules/core-js/internals/iterator-close.js");u.exports=function(T){var F=m(this),L=w(T);if(g(F)<L.size)return!1;var k=L.getIterator();return E(k,function(M){if(!x(F,M))return B(k,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/iterate-simple.js"),g=c("./node_modules/core-js/internals/set-helpers.js"),w=g.Set,E=g.proto,B=m(E.forEach),C=m(E.keys),T=C(new w).next;u.exports=function(F,L,k){return k?x({iterator:C(F),next:T},L):B(F,L)}}),"./node_modules/core-js/internals/set-size.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),x=c("./node_modules/core-js/internals/set-helpers.js");u.exports=m(x.proto,"size","get")||function(g){return g.size}}),"./node_modules/core-js/internals/set-species.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/get-built-in.js"),x=c("./node_modules/core-js/internals/define-built-in-accessor.js"),g=c("./node_modules/core-js/internals/well-known-symbol.js"),w=c("./node_modules/core-js/internals/descriptors.js"),E=g("species");u.exports=function(B){var C=m(B);w&&C&&!C[E]&&x(C,E,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-set.js"),x=c("./node_modules/core-js/internals/set-helpers.js"),g=c("./node_modules/core-js/internals/set-clone.js"),w=c("./node_modules/core-js/internals/get-set-record.js"),E=c("./node_modules/core-js/internals/iterate-simple.js"),B=x.add,C=x.has,T=x.remove;u.exports=function(L){var k=m(this),M=w(L).getIterator(),Q=g(k);return E(M,function(D){C(k,D)?T(Q,D):B(Q,D)}),Q}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/object-define-property.js").f,x=c("./node_modules/core-js/internals/has-own-property.js"),g=c("./node_modules/core-js/internals/well-known-symbol.js"),w=g("toStringTag");u.exports=function(E,B,C){E&&!C&&(E=E.prototype),E&&!x(E,w)&&m(E,w,{configurable:!0,value:B})}}),"./node_modules/core-js/internals/set-union.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/a-set.js"),x=c("./node_modules/core-js/internals/set-helpers.js").add,g=c("./node_modules/core-js/internals/set-clone.js"),w=c("./node_modules/core-js/internals/get-set-record.js"),E=c("./node_modules/core-js/internals/iterate-simple.js");u.exports=function(C){var T=m(this),F=w(C).getIterator(),L=g(T);return E(F,function(k){x(L,k)}),L}}),"./node_modules/core-js/internals/shared-key.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/shared.js"),x=c("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(w){return g[w]||(g[w]=x(w))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/is-pure.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=c("./node_modules/core-js/internals/define-global-property.js"),w="__core-js_shared__",E=u.exports=x[w]||g(w,{});(E.versions||(E.versions=[])).push({version:"3.45.1",mode:m?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/shared-store.js");u.exports=function(x,g){return m[x]||(m[x]=g||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/an-object.js"),x=c("./node_modules/core-js/internals/a-constructor.js"),g=c("./node_modules/core-js/internals/is-null-or-undefined.js"),w=c("./node_modules/core-js/internals/well-known-symbol.js"),E=w("species");u.exports=function(B,C){var T=m(B).constructor,F;return T===void 0||g(F=m(T)[E])?C:x(F)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/fails.js");u.exports=function(x){return m(function(){var g=""[x]('"');return g!==g.toLowerCase()||g.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=c("./node_modules/core-js/internals/to-string.js"),w=c("./node_modules/core-js/internals/require-object-coercible.js"),E=m("".charAt),B=m("".charCodeAt),C=m("".slice),T=function(F){return function(L,k){var M=g(w(L)),Q=x(k),D=M.length,R,V;return Q<0||Q>=D?F?"":void 0:(R=B(M,Q),R<55296||R>56319||Q+1===D||(V=B(M,Q+1))<56320||V>57343?F?E(M,Q):R:F?C(M,Q,Q+2):(R-55296<<10)+(V-56320)+65536)}};u.exports={codeAt:T(!1),charAt:T(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=c("./node_modules/core-js/internals/require-object-coercible.js"),g=c("./node_modules/core-js/internals/to-string.js"),w=c("./node_modules/core-js/internals/whitespaces.js"),E=m("".replace),B=RegExp("^["+w+"]+"),C=RegExp("(^|[^"+w+"])["+w+"]+$"),T=function(F){return function(L){var k=g(x(L));return F&1&&(k=E(k,B,"")),F&2&&(k=E(k,C,"$1")),k}};u.exports={start:T(1),end:T(2),trim:T(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/environment-v8-version.js"),x=c("./node_modules/core-js/internals/fails.js"),g=c("./node_modules/core-js/internals/global-this.js"),w=g.String;u.exports=!!Object.getOwnPropertySymbols&&!x(function(){var E=Symbol("symbol detection");return!w(E)||!(Object(E)instanceof Symbol)||!Symbol.sham&&m&&m<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/get-built-in.js"),g=c("./node_modules/core-js/internals/well-known-symbol.js"),w=c("./node_modules/core-js/internals/define-built-in.js");u.exports=function(){var E=x("Symbol"),B=E&&E.prototype,C=B&&B.valueOf,T=g("toPrimitive");B&&!B[T]&&w(B,T,function(F){return m(C,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/function-apply.js"),g=c("./node_modules/core-js/internals/function-bind-context.js"),w=c("./node_modules/core-js/internals/is-callable.js"),E=c("./node_modules/core-js/internals/has-own-property.js"),B=c("./node_modules/core-js/internals/fails.js"),C=c("./node_modules/core-js/internals/html.js"),T=c("./node_modules/core-js/internals/array-slice.js"),F=c("./node_modules/core-js/internals/document-create-element.js"),L=c("./node_modules/core-js/internals/validate-arguments-length.js"),k=c("./node_modules/core-js/internals/environment-is-ios.js"),M=c("./node_modules/core-js/internals/environment-is-node.js"),Q=m.setImmediate,D=m.clearImmediate,R=m.process,V=m.Dispatch,O=m.Function,H=m.MessageChannel,G=m.String,ae=0,Ae={},ie="onreadystatechange",le,X,ne,re;B(function(){le=m.location});var W=function(he){if(E(Ae,he)){var ue=Ae[he];delete Ae[he],ue()}},K=function(he){return function(){W(he)}},ee=function(he){W(he.data)},oe=function(he){m.postMessage(G(he),le.protocol+"//"+le.host)};(!Q||!D)&&(Q=function(ue){L(arguments.length,1);var ye=w(ue)?ue:O(ue),je=T(arguments,1);return Ae[++ae]=function(){x(ye,void 0,je)},X(ae),ae},D=function(ue){delete Ae[ue]},M?X=function(he){R.nextTick(K(he))}:V&&V.now?X=function(he){V.now(K(he))}:H&&!k?(ne=new H,re=ne.port2,ne.port1.onmessage=ee,X=g(re.postMessage,re)):m.addEventListener&&w(m.postMessage)&&!m.importScripts&&le&&le.protocol!=="file:"&&!B(oe)?(X=oe,m.addEventListener("message",ee,!1)):ie in F("script")?X=function(he){C.appendChild(F("script"))[ie]=function(){C.removeChild(this),W(he)}}:X=function(he){setTimeout(K(he),0)}),u.exports={set:Q,clear:D}}),"./node_modules/core-js/internals/this-number-value.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-integer-or-infinity.js"),x=Math.max,g=Math.min;u.exports=function(w,E){var B=m(w);return B<0?x(B+E,0):g(B,E)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/indexed-object.js"),x=c("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(x(g))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/math-trunc.js");u.exports=function(x){var g=+x;return g!==g||g===0?0:m(g)}}),"./node_modules/core-js/internals/to-length.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-integer-or-infinity.js"),x=Math.min;u.exports=function(g){var w=m(g);return w>0?x(w,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/require-object-coercible.js"),x=Object;u.exports=function(g){return x(m(g))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-call.js"),x=c("./node_modules/core-js/internals/is-object.js"),g=c("./node_modules/core-js/internals/is-symbol.js"),w=c("./node_modules/core-js/internals/get-method.js"),E=c("./node_modules/core-js/internals/ordinary-to-primitive.js"),B=c("./node_modules/core-js/internals/well-known-symbol.js"),C=TypeError,T=B("toPrimitive");u.exports=function(F,L){if(!x(F)||g(F))return F;var k=w(F,T),M;if(k){if(L===void 0&&(L="default"),M=m(k,F,L),!x(M)||g(M))return M;throw new C("Can't convert object to primitive value")}return L===void 0&&(L="number"),E(F,L)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-primitive.js"),x=c("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var w=m(g,"string");return x(w)?w:w+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/get-built-in.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=c("./node_modules/core-js/internals/is-iterable.js"),w=c("./node_modules/core-js/internals/is-object.js"),E=m("Set"),B=function(C){return w(C)&&typeof C.size=="number"&&x(C.has)&&x(C.keys)};u.exports=function(C){return B(C)?C:g(C)?new E(C):C}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/well-known-symbol.js"),x=m("toStringTag"),g={};g[x]="z",u.exports=String(g)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/classof.js"),x=String;u.exports=function(g){if(m(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return x(g)}}),"./node_modules/core-js/internals/try-to-string.js":(function(u){var f=String;u.exports=function(c){try{return f(c)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-uncurry-this.js"),x=0,g=Math.random(),w=m(1.1.toString);u.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+w(++x+g,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/fails.js");u.exports=m&&x(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(u){var f=TypeError;u.exports=function(c,m){if(c<m)throw new f("Not enough arguments");return c}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/is-callable.js"),g=m.WeakMap;u.exports=x(g)&&/native code/.test(String(g))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/path.js"),x=c("./node_modules/core-js/internals/has-own-property.js"),g=c("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),w=c("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(E){var B=m.Symbol||(m.Symbol={});x(B,E)||w(B,E,{value:g.f(E)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/well-known-symbol.js");f.f=m}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/shared.js"),g=c("./node_modules/core-js/internals/has-own-property.js"),w=c("./node_modules/core-js/internals/uid.js"),E=c("./node_modules/core-js/internals/symbol-constructor-detection.js"),B=c("./node_modules/core-js/internals/use-symbol-as-uid.js"),C=m.Symbol,T=x("wks"),F=B?C.for||C:C&&C.withoutSetter||w;u.exports=function(L){return g(T,L)||(T[L]=E&&g(C,L)?C[L]:F("Symbol."+L)),T[L]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/fails.js"),g=c("./node_modules/core-js/internals/is-array.js"),w=c("./node_modules/core-js/internals/is-object.js"),E=c("./node_modules/core-js/internals/to-object.js"),B=c("./node_modules/core-js/internals/length-of-array-like.js"),C=c("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),T=c("./node_modules/core-js/internals/create-property.js"),F=c("./node_modules/core-js/internals/array-species-create.js"),L=c("./node_modules/core-js/internals/array-method-has-species-support.js"),k=c("./node_modules/core-js/internals/well-known-symbol.js"),M=c("./node_modules/core-js/internals/environment-v8-version.js"),Q=k("isConcatSpreadable"),D=M>=51||!x(function(){var O=[];return O[Q]=!1,O.concat()[0]!==O}),R=function(O){if(!w(O))return!1;var H=O[Q];return H!==void 0?!!H:g(O)},V=!D||!L("concat");m({target:"Array",proto:!0,arity:1,forced:V},{concat:function(H){var G=E(this),ae=F(G,0),Ae=0,ie,le,X,ne,re;for(ie=-1,X=arguments.length;ie<X;ie++)if(re=ie===-1?G:arguments[ie],R(re))for(ne=B(re),C(Ae+ne),le=0;le<ne;le++,Ae++)le in re&&T(ae,Ae,re[le]);else C(Ae+1),T(ae,Ae++,re);return ae.length=Ae,ae}})}),"./node_modules/core-js/modules/es.array.from.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/array-from.js"),g=c("./node_modules/core-js/internals/check-correctness-of-iteration.js"),w=!g(function(E){Array.from(E)});m({target:"Array",stat:!0,forced:w},{from:x})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-indexed-object.js"),x=c("./node_modules/core-js/internals/add-to-unscopables.js"),g=c("./node_modules/core-js/internals/iterators.js"),w=c("./node_modules/core-js/internals/internal-state.js"),E=c("./node_modules/core-js/internals/object-define-property.js").f,B=c("./node_modules/core-js/internals/iterator-define.js"),C=c("./node_modules/core-js/internals/create-iter-result-object.js"),T=c("./node_modules/core-js/internals/is-pure.js"),F=c("./node_modules/core-js/internals/descriptors.js"),L="Array Iterator",k=w.set,M=w.getterFor(L);u.exports=B(Array,"Array",function(D,R){k(this,{type:L,target:m(D),index:0,kind:R})},function(){var D=M(this),R=D.target,V=D.index++;if(!R||V>=R.length)return D.target=null,C(void 0,!0);switch(D.kind){case"keys":return C(V,!1);case"values":return C(R[V],!1)}return C([V,R[V]],!1)},"values");var Q=g.Arguments=g.Array;if(x("keys"),x("values"),x("entries"),!T&&F&&Q.name!=="values")try{E(Q,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js"),g=c("./node_modules/core-js/internals/indexed-object.js"),w=c("./node_modules/core-js/internals/to-indexed-object.js"),E=c("./node_modules/core-js/internals/array-method-is-strict.js"),B=x([].join),C=g!==Object,T=C||!E("join",",");m({target:"Array",proto:!0,forced:T},{join:function(L){return B(w(this),L===void 0?",":L)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/array-iteration.js").map,g=c("./node_modules/core-js/internals/array-method-has-species-support.js"),w=g("map");m({target:"Array",proto:!0,forced:!w},{map:function(B){return x(this,B,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/is-array.js"),g=c("./node_modules/core-js/internals/is-constructor.js"),w=c("./node_modules/core-js/internals/is-object.js"),E=c("./node_modules/core-js/internals/to-absolute-index.js"),B=c("./node_modules/core-js/internals/length-of-array-like.js"),C=c("./node_modules/core-js/internals/to-indexed-object.js"),T=c("./node_modules/core-js/internals/create-property.js"),F=c("./node_modules/core-js/internals/well-known-symbol.js"),L=c("./node_modules/core-js/internals/array-method-has-species-support.js"),k=c("./node_modules/core-js/internals/array-slice.js"),M=L("slice"),Q=F("species"),D=Array,R=Math.max;m({target:"Array",proto:!0,forced:!M},{slice:function(O,H){var G=C(this),ae=B(G),Ae=E(O,ae),ie=E(H===void 0?ae:H,ae),le,X,ne;if(x(G)&&(le=G.constructor,g(le)&&(le===D||x(le.prototype))?le=void 0:w(le)&&(le=le[Q],le===null&&(le=void 0)),le===D||le===void 0))return k(G,Ae,ie);for(X=new(le===void 0?D:le)(R(ie-Ae,0)),ne=0;Ae<ie;Ae++,ne++)Ae in G&&T(X,ne,G[Ae]);return X.length=ne,X}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/descriptors.js"),x=c("./node_modules/core-js/internals/function-name.js").EXISTS,g=c("./node_modules/core-js/internals/function-uncurry-this.js"),w=c("./node_modules/core-js/internals/define-built-in-accessor.js"),E=Function.prototype,B=g(E.toString),C=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=g(C.exec),F="name";m&&!x&&w(E,F,{configurable:!0,get:function(){try{return T(C,B(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=c("./node_modules/core-js/internals/an-instance.js"),w=c("./node_modules/core-js/internals/an-object.js"),E=c("./node_modules/core-js/internals/is-callable.js"),B=c("./node_modules/core-js/internals/object-get-prototype-of.js"),C=c("./node_modules/core-js/internals/define-built-in-accessor.js"),T=c("./node_modules/core-js/internals/create-property.js"),F=c("./node_modules/core-js/internals/fails.js"),L=c("./node_modules/core-js/internals/has-own-property.js"),k=c("./node_modules/core-js/internals/well-known-symbol.js"),M=c("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Q=c("./node_modules/core-js/internals/descriptors.js"),D=c("./node_modules/core-js/internals/is-pure.js"),R="constructor",V="Iterator",O=k("toStringTag"),H=TypeError,G=x[V],ae=D||!E(G)||G.prototype!==M||!F(function(){G({})}),Ae=function(){if(g(this,M),B(this)===M)throw new H("Abstract class Iterator not directly constructable")},ie=function(le,X){Q?C(M,le,{configurable:!0,get:function(){return X},set:function(ne){if(w(this),this===M)throw new H("You can't redefine this property");L(this,le)?this[le]=ne:T(this,le,ne)}}):M[le]=X};L(M,O)||ie(O,V),(ae||!L(M,R)||M[R]===Object)&&ie(R,Ae),Ae.prototype=M,m({global:!0,constructor:!0,forced:ae},{Iterator:Ae})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/iterate.js"),w=c("./node_modules/core-js/internals/a-callable.js"),E=c("./node_modules/core-js/internals/an-object.js"),B=c("./node_modules/core-js/internals/get-iterator-direct.js"),C=c("./node_modules/core-js/internals/iterator-close.js"),T=c("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),F=T("forEach",TypeError);m({target:"Iterator",proto:!0,real:!0,forced:F},{forEach:function(k){E(this);try{w(k)}catch(D){C(this,"throw",D)}if(F)return x(F,this,k);var M=B(this),Q=0;g(M,function(D){k(D,Q++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/a-callable.js"),w=c("./node_modules/core-js/internals/an-object.js"),E=c("./node_modules/core-js/internals/get-iterator-direct.js"),B=c("./node_modules/core-js/internals/iterator-create-proxy.js"),C=c("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),T=c("./node_modules/core-js/internals/iterator-close.js"),F=c("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),L=c("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),k=c("./node_modules/core-js/internals/is-pure.js"),M=!k&&!F("map",function(){}),Q=!k&&!M&&L("map",TypeError),D=k||M||Q,R=B(function(){var V=this.iterator,O=w(x(this.next,V)),H=this.done=!!O.done;if(!H)return C(V,this.mapper,[O.value,this.counter++],!0)});m({target:"Iterator",proto:!0,real:!0,forced:D},{map:function(O){w(this);try{g(O)}catch(H){T(this,"throw",H)}return Q?x(Q,this,O):new R(E(this),{mapper:O})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/get-built-in.js"),g=c("./node_modules/core-js/internals/function-apply.js"),w=c("./node_modules/core-js/internals/function-call.js"),E=c("./node_modules/core-js/internals/function-uncurry-this.js"),B=c("./node_modules/core-js/internals/fails.js"),C=c("./node_modules/core-js/internals/is-callable.js"),T=c("./node_modules/core-js/internals/is-symbol.js"),F=c("./node_modules/core-js/internals/array-slice.js"),L=c("./node_modules/core-js/internals/get-json-replacer-function.js"),k=c("./node_modules/core-js/internals/symbol-constructor-detection.js"),M=String,Q=x("JSON","stringify"),D=E(/./.exec),R=E("".charAt),V=E("".charCodeAt),O=E("".replace),H=E(1.1.toString),G=/[\uD800-\uDFFF]/g,ae=/^[\uD800-\uDBFF]$/,Ae=/^[\uDC00-\uDFFF]$/,ie=!k||B(function(){var re=x("Symbol")("stringify detection");return Q([re])!=="[null]"||Q({a:re})!=="{}"||Q(Object(re))!=="{}"}),le=B(function(){return Q("\uDF06\uD834")!=='"\\udf06\\ud834"'||Q("\uDEAD")!=='"\\udead"'}),X=function(re,W){var K=F(arguments),ee=L(W);if(!(!C(ee)&&(re===void 0||T(re))))return K[1]=function(oe,he){if(C(ee)&&(he=w(ee,this,M(oe),he)),!T(he))return he},g(Q,null,K)},ne=function(re,W,K){var ee=R(K,W-1),oe=R(K,W+1);return D(ae,re)&&!D(Ae,oe)||D(Ae,re)&&!D(ae,ee)?"\\u"+H(V(re,0),16):re};Q&&m({target:"JSON",stat:!0,arity:3,forced:ie||le},{stringify:function(W,K,ee){var oe=F(arguments),he=g(ie?X:Q,null,oe);return le&&typeof he=="string"?O(he,G,ne):he}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/is-pure.js"),g=c("./node_modules/core-js/internals/descriptors.js"),w=c("./node_modules/core-js/internals/global-this.js"),E=c("./node_modules/core-js/internals/path.js"),B=c("./node_modules/core-js/internals/function-uncurry-this.js"),C=c("./node_modules/core-js/internals/is-forced.js"),T=c("./node_modules/core-js/internals/has-own-property.js"),F=c("./node_modules/core-js/internals/inherit-if-required.js"),L=c("./node_modules/core-js/internals/object-is-prototype-of.js"),k=c("./node_modules/core-js/internals/is-symbol.js"),M=c("./node_modules/core-js/internals/to-primitive.js"),Q=c("./node_modules/core-js/internals/fails.js"),D=c("./node_modules/core-js/internals/object-get-own-property-names.js").f,R=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,V=c("./node_modules/core-js/internals/object-define-property.js").f,O=c("./node_modules/core-js/internals/this-number-value.js"),H=c("./node_modules/core-js/internals/string-trim.js").trim,G="Number",ae=w[G],Ae=E[G],ie=ae.prototype,le=w.TypeError,X=B("".slice),ne=B("".charCodeAt),re=function(ue){var ye=M(ue,"number");return typeof ye=="bigint"?ye:W(ye)},W=function(ue){var ye=M(ue,"number"),je,ve,_e,ke,Me,Je,at,ge;if(k(ye))throw new le("Cannot convert a Symbol value to a number");if(typeof ye=="string"&&ye.length>2){if(ye=H(ye),je=ne(ye,0),je===43||je===45){if(ve=ne(ye,2),ve===88||ve===120)return NaN}else if(je===48){switch(ne(ye,1)){case 66:case 98:_e=2,ke=49;break;case 79:case 111:_e=8,ke=55;break;default:return+ye}for(Me=X(ye,2),Je=Me.length,at=0;at<Je;at++)if(ge=ne(Me,at),ge<48||ge>ke)return NaN;return parseInt(Me,_e)}}return+ye},K=C(G,!ae(" 0o1")||!ae("0b1")||ae("+0x1")),ee=function(ue){return L(ie,ue)&&Q(function(){O(ue)})},oe=function(ye){var je=arguments.length<1?0:ae(re(ye));return ee(this)?F(Object(je),this,oe):je};oe.prototype=ie,K&&!x&&(ie.constructor=oe),m({global:!0,constructor:!0,wrap:!0,forced:K},{Number:oe});var he=function(ue,ye){for(var je=g?D(ye):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0,_e;je.length>ve;ve++)T(ye,_e=je[ve])&&!T(ue,_e)&&V(ue,_e,R(ye,_e))};x&&Ae&&he(E[G],Ae),(K||x)&&he(E[G],ae)}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==x},{assign:x})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=c("./node_modules/core-js/internals/fails.js"),w=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),E=c("./node_modules/core-js/internals/to-object.js"),B=!x||g(function(){w.f(1)});m({target:"Object",stat:!0,forced:B},{getOwnPropertySymbols:function(T){var F=w.f;return F?F(E(T)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/to-object.js"),g=c("./node_modules/core-js/internals/object-keys.js"),w=c("./node_modules/core-js/internals/fails.js"),E=w(function(){g(1)});m({target:"Object",stat:!0,forced:E},{keys:function(C){return g(x(C))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/to-string-tag-support.js"),x=c("./node_modules/core-js/internals/define-built-in.js"),g=c("./node_modules/core-js/internals/object-to-string.js");m||x(Object.prototype,"toString",g,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/a-callable.js"),w=c("./node_modules/core-js/internals/new-promise-capability.js"),E=c("./node_modules/core-js/internals/perform.js"),B=c("./node_modules/core-js/internals/iterate.js"),C=c("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:C},{all:function(F){var L=this,k=w.f(L),M=k.resolve,Q=k.reject,D=E(function(){var R=g(L.resolve),V=[],O=0,H=1;B(F,function(G){var ae=O++,Ae=!1;H++,x(R,L,G).then(function(ie){Ae||(Ae=!0,V[ae]=ie,--H||M(V))},Q)}),--H||M(V)});return D.error&&Q(D.value),k.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/is-pure.js"),g=c("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,w=c("./node_modules/core-js/internals/promise-native-constructor.js"),E=c("./node_modules/core-js/internals/get-built-in.js"),B=c("./node_modules/core-js/internals/is-callable.js"),C=c("./node_modules/core-js/internals/define-built-in.js"),T=w&&w.prototype;if(m({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(L){return this.then(void 0,L)}}),!x&&B(w)){var F=E("Promise").prototype.catch;T.catch!==F&&C(T,"catch",F,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/is-pure.js"),g=c("./node_modules/core-js/internals/environment-is-node.js"),w=c("./node_modules/core-js/internals/global-this.js"),E=c("./node_modules/core-js/internals/path.js"),B=c("./node_modules/core-js/internals/function-call.js"),C=c("./node_modules/core-js/internals/define-built-in.js"),T=c("./node_modules/core-js/internals/object-set-prototype-of.js"),F=c("./node_modules/core-js/internals/set-to-string-tag.js"),L=c("./node_modules/core-js/internals/set-species.js"),k=c("./node_modules/core-js/internals/a-callable.js"),M=c("./node_modules/core-js/internals/is-callable.js"),Q=c("./node_modules/core-js/internals/is-object.js"),D=c("./node_modules/core-js/internals/an-instance.js"),R=c("./node_modules/core-js/internals/species-constructor.js"),V=c("./node_modules/core-js/internals/task.js").set,O=c("./node_modules/core-js/internals/microtask.js"),H=c("./node_modules/core-js/internals/host-report-errors.js"),G=c("./node_modules/core-js/internals/perform.js"),ae=c("./node_modules/core-js/internals/queue.js"),Ae=c("./node_modules/core-js/internals/internal-state.js"),ie=c("./node_modules/core-js/internals/promise-native-constructor.js"),le=c("./node_modules/core-js/internals/promise-constructor-detection.js"),X=c("./node_modules/core-js/internals/new-promise-capability.js"),ne="Promise",re=le.CONSTRUCTOR,W=le.REJECTION_EVENT,K=le.SUBCLASSING,ee=Ae.getterFor(ne),oe=Ae.set,he=ie&&ie.prototype,ue=ie,ye=he,je=w.TypeError,ve=w.document,_e=w.process,ke=X.f,Me=ke,Je=!!(ve&&ve.createEvent&&w.dispatchEvent),at="unhandledrejection",ge="rejectionhandled",ht=0,Kt=1,Pt=2,Le=1,jt=2,Ve,Fe,lt,xt,Et=function(dt){var Ot;return Q(dt)&&M(Ot=dt.then)?Ot:!1},Jt=function(dt,Ot){var Vt=Ot.value,is=Ot.state===Kt,Zt=is?dt.ok:dt.fail,Qe=dt.resolve,Ht=dt.reject,it=dt.domain,ct,Bt,ts;try{Zt?(is||(Ot.rejection===jt&&At(Ot),Ot.rejection=Le),Zt===!0?ct=Vt:(it&&it.enter(),ct=Zt(Vt),it&&(it.exit(),ts=!0)),ct===dt.promise?Ht(new je("Promise-chain cycle")):(Bt=Et(ct))?B(Bt,ct,Qe,Ht):Qe(ct)):Ht(Vt)}catch(ss){it&&!ts&&it.exit(),Ht(ss)}},Mt=function(dt,Ot){dt.notified||(dt.notified=!0,O(function(){for(var Vt=dt.reactions,is;is=Vt.get();)Jt(is,dt);dt.notified=!1,Ot&&!dt.rejection&&ft(dt)}))},He=function(dt,Ot,Vt){var is,Zt;Je?(is=ve.createEvent("Event"),is.promise=Ot,is.reason=Vt,is.initEvent(dt,!1,!0),w.dispatchEvent(is)):is={promise:Ot,reason:Vt},!W&&(Zt=w["on"+dt])?Zt(is):dt===at&&H("Unhandled promise rejection",Vt)},ft=function(dt){B(V,w,function(){var Ot=dt.facade,Vt=dt.value,is=Ye(dt),Zt;if(is&&(Zt=G(function(){g?_e.emit("unhandledRejection",Vt,Ot):He(at,Ot,Vt)}),dt.rejection=g||Ye(dt)?jt:Le,Zt.error))throw Zt.value})},Ye=function(dt){return dt.rejection!==Le&&!dt.parent},At=function(dt){B(V,w,function(){var Ot=dt.facade;g?_e.emit("rejectionHandled",Ot):He(ge,Ot,dt.value)})},es=function(dt,Ot,Vt){return function(is){dt(Ot,is,Vt)}},Gt=function(dt,Ot,Vt){dt.done||(dt.done=!0,Vt&&(dt=Vt),dt.value=Ot,dt.state=Pt,Mt(dt,!0))},qt=function(dt,Ot,Vt){if(!dt.done){dt.done=!0,Vt&&(dt=Vt);try{if(dt.facade===Ot)throw new je("Promise can't be resolved itself");var is=Et(Ot);is?O(function(){var Zt={done:!1};try{B(is,Ot,es(qt,Zt,dt),es(Gt,Zt,dt))}catch(Qe){Gt(Zt,Qe,dt)}}):(dt.value=Ot,dt.state=Kt,Mt(dt,!1))}catch(Zt){Gt({done:!1},Zt,dt)}}};if(re&&(ue=function(Ot){D(this,ye),k(Ot),B(Ve,this);var Vt=ee(this);try{Ot(es(qt,Vt),es(Gt,Vt))}catch(is){Gt(Vt,is)}},ye=ue.prototype,Ve=function(Ot){oe(this,{type:ne,done:!1,notified:!1,parent:!1,reactions:new ae,rejection:!1,state:ht,value:null})},Ve.prototype=C(ye,"then",function(Ot,Vt){var is=ee(this),Zt=ke(R(this,ue));return is.parent=!0,Zt.ok=M(Ot)?Ot:!0,Zt.fail=M(Vt)&&Vt,Zt.domain=g?_e.domain:void 0,is.state===ht?is.reactions.add(Zt):O(function(){Jt(Zt,is)}),Zt.promise}),Fe=function(){var dt=new Ve,Ot=ee(dt);this.promise=dt,this.resolve=es(qt,Ot),this.reject=es(Gt,Ot)},X.f=ke=function(dt){return dt===ue||dt===lt?new Fe(dt):Me(dt)},!x&&M(ie)&&he!==Object.prototype)){xt=he.then,K||C(he,"then",function(Ot,Vt){var is=this;return new ue(function(Zt,Qe){B(xt,is,Zt,Qe)}).then(Ot,Vt)},{unsafe:!0});try{delete he.constructor}catch{}T&&T(he,ye)}m({global:!0,constructor:!0,wrap:!0,forced:re},{Promise:ue}),lt=E.Promise,F(ue,ne,!1,!0),L(ne)}),"./node_modules/core-js/modules/es.promise.js":(function(u,f,c){c("./node_modules/core-js/modules/es.promise.constructor.js"),c("./node_modules/core-js/modules/es.promise.all.js"),c("./node_modules/core-js/modules/es.promise.catch.js"),c("./node_modules/core-js/modules/es.promise.race.js"),c("./node_modules/core-js/modules/es.promise.reject.js"),c("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/a-callable.js"),w=c("./node_modules/core-js/internals/new-promise-capability.js"),E=c("./node_modules/core-js/internals/perform.js"),B=c("./node_modules/core-js/internals/iterate.js"),C=c("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:C},{race:function(F){var L=this,k=w.f(L),M=k.reject,Q=E(function(){var D=g(L.resolve);B(F,function(R){x(D,L,R).then(k.resolve,M)})});return Q.error&&M(Q.value),k.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/new-promise-capability.js"),g=c("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;m({target:"Promise",stat:!0,forced:g},{reject:function(E){var B=x.f(this),C=B.reject;return C(E),B.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/get-built-in.js"),g=c("./node_modules/core-js/internals/is-pure.js"),w=c("./node_modules/core-js/internals/promise-native-constructor.js"),E=c("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,B=c("./node_modules/core-js/internals/promise-resolve.js"),C=x("Promise"),T=g&&!E;m({target:"Promise",stat:!0,forced:g||E},{resolve:function(L){return B(T&&this===C?w:this,L)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/regexp-exec.js");m({target:"RegExp",proto:!0,forced:/./.exec!==x},{exec:x})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(u,f,c){c("./node_modules/core-js/modules/es.regexp.exec.js");var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/is-callable.js"),w=c("./node_modules/core-js/internals/an-object.js"),E=c("./node_modules/core-js/internals/to-string.js"),B=(function(){var T=!1,F=/[ac]/;return F.exec=function(){return T=!0,/./.exec.apply(this,arguments)},F.test("abc")===!0&&T})(),C=/./.test;m({target:"RegExp",proto:!0,forced:!B},{test:function(T){var F=w(this),L=E(T),k=F.exec;if(!g(k))return x(C,F,L);var M=x(k,F,L);return M===null?!1:(w(M),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/function-name.js").PROPER,x=c("./node_modules/core-js/internals/define-built-in.js"),g=c("./node_modules/core-js/internals/an-object.js"),w=c("./node_modules/core-js/internals/to-string.js"),E=c("./node_modules/core-js/internals/fails.js"),B=c("./node_modules/core-js/internals/regexp-get-flags.js"),C="toString",T=RegExp.prototype,F=T[C],L=E(function(){return F.call({source:"a",flags:"b"})!=="/a/b"}),k=m&&F.name!==C;(L||k)&&x(T,C,function(){var Q=g(this),D=w(Q.source),R=w(B(Q));return"/"+D+"/"+R},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/collection.js"),x=c("./node_modules/core-js/internals/collection-strong.js");m("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},x)}),"./node_modules/core-js/modules/es.set.js":(function(u,f,c){c("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/string-multibyte.js").charAt,x=c("./node_modules/core-js/internals/to-string.js"),g=c("./node_modules/core-js/internals/internal-state.js"),w=c("./node_modules/core-js/internals/iterator-define.js"),E=c("./node_modules/core-js/internals/create-iter-result-object.js"),B="String Iterator",C=g.set,T=g.getterFor(B);w(String,"String",function(F){C(this,{type:B,string:x(F),index:0})},function(){var L=T(this),k=L.string,M=L.index,Q;return M>=k.length?E(void 0,!0):(Q=m(k,M),L.index+=Q.length,E(Q,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/create-html.js"),g=c("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(E){return x(this,"a","href",E)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=c("./node_modules/core-js/internals/function-call.js"),w=c("./node_modules/core-js/internals/function-uncurry-this.js"),E=c("./node_modules/core-js/internals/is-pure.js"),B=c("./node_modules/core-js/internals/descriptors.js"),C=c("./node_modules/core-js/internals/symbol-constructor-detection.js"),T=c("./node_modules/core-js/internals/fails.js"),F=c("./node_modules/core-js/internals/has-own-property.js"),L=c("./node_modules/core-js/internals/object-is-prototype-of.js"),k=c("./node_modules/core-js/internals/an-object.js"),M=c("./node_modules/core-js/internals/to-indexed-object.js"),Q=c("./node_modules/core-js/internals/to-property-key.js"),D=c("./node_modules/core-js/internals/to-string.js"),R=c("./node_modules/core-js/internals/create-property-descriptor.js"),V=c("./node_modules/core-js/internals/object-create.js"),O=c("./node_modules/core-js/internals/object-keys.js"),H=c("./node_modules/core-js/internals/object-get-own-property-names.js"),G=c("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ae=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ae=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),ie=c("./node_modules/core-js/internals/object-define-property.js"),le=c("./node_modules/core-js/internals/object-define-properties.js"),X=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),ne=c("./node_modules/core-js/internals/define-built-in.js"),re=c("./node_modules/core-js/internals/define-built-in-accessor.js"),W=c("./node_modules/core-js/internals/shared.js"),K=c("./node_modules/core-js/internals/shared-key.js"),ee=c("./node_modules/core-js/internals/hidden-keys.js"),oe=c("./node_modules/core-js/internals/uid.js"),he=c("./node_modules/core-js/internals/well-known-symbol.js"),ue=c("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ye=c("./node_modules/core-js/internals/well-known-symbol-define.js"),je=c("./node_modules/core-js/internals/symbol-define-to-primitive.js"),ve=c("./node_modules/core-js/internals/set-to-string-tag.js"),_e=c("./node_modules/core-js/internals/internal-state.js"),ke=c("./node_modules/core-js/internals/array-iteration.js").forEach,Me=K("hidden"),Je="Symbol",at="prototype",ge=_e.set,ht=_e.getterFor(Je),Kt=Object[at],Pt=x.Symbol,Le=Pt&&Pt[at],jt=x.RangeError,Ve=x.TypeError,Fe=x.QObject,lt=Ae.f,xt=ie.f,Et=G.f,Jt=X.f,Mt=w([].push),He=W("symbols"),ft=W("op-symbols"),Ye=W("wks"),At=!Fe||!Fe[at]||!Fe[at].findChild,es=function(it,ct,Bt){var ts=lt(Kt,ct);ts&&delete Kt[ct],xt(it,ct,Bt),ts&&it!==Kt&&xt(Kt,ct,ts)},Gt=B&&T(function(){return V(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a!==7})?es:xt,qt=function(it,ct){var Bt=He[it]=V(Le);return ge(Bt,{type:Je,tag:it,description:ct}),B||(Bt.description=ct),Bt},dt=function(ct,Bt,ts){ct===Kt&&dt(ft,Bt,ts),k(ct);var ss=Q(Bt);return k(ts),F(He,ss)?(ts.enumerable?(F(ct,Me)&&ct[Me][ss]&&(ct[Me][ss]=!1),ts=V(ts,{enumerable:R(0,!1)})):(F(ct,Me)||xt(ct,Me,R(1,V(null))),ct[Me][ss]=!0),Gt(ct,ss,ts)):xt(ct,ss,ts)},Ot=function(ct,Bt){k(ct);var ts=M(Bt),ss=O(ts).concat(Ht(ts));return ke(ss,function(Us){(!B||g(is,ts,Us))&&dt(ct,Us,ts[Us])}),ct},Vt=function(ct,Bt){return Bt===void 0?V(ct):Ot(V(ct),Bt)},is=function(ct){var Bt=Q(ct),ts=g(Jt,this,Bt);return this===Kt&&F(He,Bt)&&!F(ft,Bt)?!1:ts||!F(this,Bt)||!F(He,Bt)||F(this,Me)&&this[Me][Bt]?ts:!0},Zt=function(ct,Bt){var ts=M(ct),ss=Q(Bt);if(!(ts===Kt&&F(He,ss)&&!F(ft,ss))){var Us=lt(ts,ss);return Us&&F(He,ss)&&!(F(ts,Me)&&ts[Me][ss])&&(Us.enumerable=!0),Us}},Qe=function(ct){var Bt=Et(M(ct)),ts=[];return ke(Bt,function(ss){!F(He,ss)&&!F(ee,ss)&&Mt(ts,ss)}),ts},Ht=function(it){var ct=it===Kt,Bt=Et(ct?ft:M(it)),ts=[];return ke(Bt,function(ss){F(He,ss)&&(!ct||F(Kt,ss))&&Mt(ts,He[ss])}),ts};C||(Pt=function(){if(L(Le,this))throw new Ve("Symbol is not a constructor");var ct=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),Bt=oe(ct),ts=function(ss){var Us=this===void 0?x:this;Us===Kt&&g(ts,ft,ss),F(Us,Me)&&F(Us[Me],Bt)&&(Us[Me][Bt]=!1);var zs=R(1,ss);try{Gt(Us,Bt,zs)}catch(as){if(!(as instanceof jt))throw as;es(Us,Bt,zs)}};return B&&At&&Gt(Kt,Bt,{configurable:!0,set:ts}),qt(Bt,ct)},Le=Pt[at],ne(Le,"toString",function(){return ht(this).tag}),ne(Pt,"withoutSetter",function(it){return qt(oe(it),it)}),X.f=is,ie.f=dt,le.f=Ot,Ae.f=Zt,H.f=G.f=Qe,ae.f=Ht,ue.f=function(it){return qt(he(it),it)},B&&(re(Le,"description",{configurable:!0,get:function(){return ht(this).description}}),E||ne(Kt,"propertyIsEnumerable",is,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!C,sham:!C},{Symbol:Pt}),ke(O(Ye),function(it){ye(it)}),m({target:Je,stat:!0,forced:!C},{useSetter:function(){At=!0},useSimple:function(){At=!1}}),m({target:"Object",stat:!0,forced:!C,sham:!B},{create:Vt,defineProperty:dt,defineProperties:Ot,getOwnPropertyDescriptor:Zt}),m({target:"Object",stat:!0,forced:!C},{getOwnPropertyNames:Qe}),je(),ve(Pt,Je),ee[Me]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/descriptors.js"),g=c("./node_modules/core-js/internals/global-this.js"),w=c("./node_modules/core-js/internals/function-uncurry-this.js"),E=c("./node_modules/core-js/internals/has-own-property.js"),B=c("./node_modules/core-js/internals/is-callable.js"),C=c("./node_modules/core-js/internals/object-is-prototype-of.js"),T=c("./node_modules/core-js/internals/to-string.js"),F=c("./node_modules/core-js/internals/define-built-in-accessor.js"),L=c("./node_modules/core-js/internals/copy-constructor-properties.js"),k=g.Symbol,M=k&&k.prototype;if(x&&B(k)&&(!("description"in M)||k().description!==void 0)){var Q={},D=function(){var ie=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),le=C(M,this)?new k(ie):ie===void 0?k():k(ie);return ie===""&&(Q[le]=!0),le};L(D,k),D.prototype=M,M.constructor=D;var R=String(k("description detection"))==="Symbol(description detection)",V=w(M.valueOf),O=w(M.toString),H=/^Symbol\((.*)\)[^)]+$/,G=w("".replace),ae=w("".slice);F(M,"description",{configurable:!0,get:function(){var ie=V(this);if(E(Q,ie))return"";var le=O(ie),X=R?ae(le,7,-1):G(le,H,"$1");return X===""?void 0:X}}),m({global:!0,constructor:!0,forced:!0},{Symbol:D})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/get-built-in.js"),g=c("./node_modules/core-js/internals/has-own-property.js"),w=c("./node_modules/core-js/internals/to-string.js"),E=c("./node_modules/core-js/internals/shared.js"),B=c("./node_modules/core-js/internals/symbol-registry-detection.js"),C=E("string-to-symbol-registry"),T=E("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!B},{for:function(F){var L=w(F);if(g(C,L))return C[L];var k=x("Symbol")(L);return C[L]=k,T[k]=L,k}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/well-known-symbol-define.js");m("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,f,c){c("./node_modules/core-js/modules/es.symbol.constructor.js"),c("./node_modules/core-js/modules/es.symbol.for.js"),c("./node_modules/core-js/modules/es.symbol.key-for.js"),c("./node_modules/core-js/modules/es.json.stringify.js"),c("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/has-own-property.js"),g=c("./node_modules/core-js/internals/is-symbol.js"),w=c("./node_modules/core-js/internals/try-to-string.js"),E=c("./node_modules/core-js/internals/shared.js"),B=c("./node_modules/core-js/internals/symbol-registry-detection.js"),C=E("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!B},{keyFor:function(F){if(!g(F))throw new TypeError(w(F)+" is not a symbol");if(x(C,F))return C[F]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(u,f,c){c("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(u,f,c){c("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(u,f,c){c("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/a-set.js"),g=c("./node_modules/core-js/internals/set-helpers.js").add;m({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var E=x(this),B=0,C=arguments.length;B<C;B++)g(E,arguments[B]);return E}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/a-set.js"),g=c("./node_modules/core-js/internals/set-helpers.js").remove;m({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var E=x(this),B=!0,C,T=0,F=arguments.length;T<F;T++)C=g(E,arguments[T]),B=B&&C;return!!B}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-set-like.js"),w=c("./node_modules/core-js/internals/set-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(B){return x(w,this,g(B))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-bind-context.js"),g=c("./node_modules/core-js/internals/a-set.js"),w=c("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{every:function(B){var C=g(this),T=x(B,arguments.length>1?arguments[1]:void 0);return w(C,function(F){if(!T(F,F,C))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-bind-context.js"),g=c("./node_modules/core-js/internals/a-set.js"),w=c("./node_modules/core-js/internals/set-helpers.js"),E=c("./node_modules/core-js/internals/set-iterate.js"),B=w.Set,C=w.add;m({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(F){var L=g(this),k=x(F,arguments.length>1?arguments[1]:void 0),M=new B;return E(L,function(Q){k(Q,Q,L)&&C(M,Q)}),M}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-bind-context.js"),g=c("./node_modules/core-js/internals/a-set.js"),w=c("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{find:function(B){var C=g(this),T=x(B,arguments.length>1?arguments[1]:void 0),F=w(C,function(L){if(T(L,L,C))return{value:L}},!0);return F&&F.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-set-like.js"),w=c("./node_modules/core-js/internals/set-intersection.js");m({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(B){return x(w,this,g(B))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-set-like.js"),w=c("./node_modules/core-js/internals/set-is-disjoint-from.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(B){return x(w,this,g(B))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-set-like.js"),w=c("./node_modules/core-js/internals/set-is-subset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(B){return x(w,this,g(B))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-set-like.js"),w=c("./node_modules/core-js/internals/set-is-superset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(B){return x(w,this,g(B))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-uncurry-this.js"),g=c("./node_modules/core-js/internals/a-set.js"),w=c("./node_modules/core-js/internals/set-iterate.js"),E=c("./node_modules/core-js/internals/to-string.js"),B=x([].join),C=x([].push);m({target:"Set",proto:!0,real:!0,forced:!0},{join:function(F){var L=g(this),k=F===void 0?",":E(F),M=[];return w(L,function(Q){C(M,Q)}),B(M,k)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-bind-context.js"),g=c("./node_modules/core-js/internals/a-set.js"),w=c("./node_modules/core-js/internals/set-helpers.js"),E=c("./node_modules/core-js/internals/set-iterate.js"),B=w.Set,C=w.add;m({target:"Set",proto:!0,real:!0,forced:!0},{map:function(F){var L=g(this),k=x(F,arguments.length>1?arguments[1]:void 0),M=new B;return E(L,function(Q){C(M,k(Q,Q,L))}),M}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/a-callable.js"),g=c("./node_modules/core-js/internals/a-set.js"),w=c("./node_modules/core-js/internals/set-iterate.js"),E=TypeError;m({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(C){var T=g(this),F=arguments.length<2,L=F?void 0:arguments[1];if(x(C),w(T,function(k){F?(F=!1,L=k):L=C(L,k,k,T)}),F)throw new E("Reduce of empty set with no initial value");return L}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-bind-context.js"),g=c("./node_modules/core-js/internals/a-set.js"),w=c("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{some:function(B){var C=g(this),T=x(B,arguments.length>1?arguments[1]:void 0);return w(C,function(F){if(T(F,F,C))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-set-like.js"),w=c("./node_modules/core-js/internals/set-symmetric-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(B){return x(w,this,g(B))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/function-call.js"),g=c("./node_modules/core-js/internals/to-set-like.js"),w=c("./node_modules/core-js/internals/set-union.js");m({target:"Set",proto:!0,real:!0,forced:!0},{union:function(B){return x(w,this,g(B))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/dom-iterables.js"),g=c("./node_modules/core-js/internals/dom-token-list-prototype.js"),w=c("./node_modules/core-js/internals/array-for-each.js"),E=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),B=function(T){if(T&&T.forEach!==w)try{E(T,"forEach",w)}catch{T.forEach=w}};for(var C in x)x[C]&&B(m[C]&&m[C].prototype);B(g)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/global-this.js"),x=c("./node_modules/core-js/internals/dom-iterables.js"),g=c("./node_modules/core-js/internals/dom-token-list-prototype.js"),w=c("./node_modules/core-js/modules/es.array.iterator.js"),E=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),B=c("./node_modules/core-js/internals/set-to-string-tag.js"),C=c("./node_modules/core-js/internals/well-known-symbol.js"),T=C("iterator"),F=w.values,L=function(M,Q){if(M){if(M[T]!==F)try{E(M,T,F)}catch{M[T]=F}if(B(M,Q,!0),x[Q]){for(var D in w)if(M[D]!==w[D])try{E(M,D,w[D])}catch{M[D]=w[D]}}}};for(var k in x)L(m[k]&&m[k].prototype,k);L(g,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=c("./node_modules/core-js/internals/schedulers-fix.js"),w=g(x.setInterval,!0);m({global:!0,bind:!0,forced:x.setInterval!==w},{setInterval:w})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(u,f,c){var m=c("./node_modules/core-js/internals/export.js"),x=c("./node_modules/core-js/internals/global-this.js"),g=c("./node_modules/core-js/internals/schedulers-fix.js"),w=g(x.setTimeout,!0);m({global:!0,bind:!0,forced:x.setTimeout!==w},{setTimeout:w})}),"./node_modules/core-js/modules/web.timers.js":(function(u,f,c){c("./node_modules/core-js/modules/web.set-interval.js"),c("./node_modules/core-js/modules/web.set-timeout.js")}),"./src/plugin/hyperlinks.js":(function(u,f,c){c.r(f),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.string.link.js"),c("./node_modules/core-js/modules/esnext.iterator.constructor.js"),c("./node_modules/core-js/modules/esnext.iterator.for-each.js"),c("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=c("./src/worker.js"),x=c("./src/utils.js"),g=[],w={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return w.toContainer.call(this).then(function(){if(this.opt.enableLinks){var C=this.prop.container,T=C.querySelectorAll("a"),F=(0,x.unitConvert)(C.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(T,function(L){for(var k=L.getClientRects(),M=0;M<k.length;M++){var Q=(0,x.unitConvert)(k[M],this.prop.pageSize.k);Q.left-=F.left,Q.top-=F.top;var D=Math.floor(Q.top/this.prop.pageSize.inner.height)+1,R=this.opt.margin[0]+Q.top%this.prop.pageSize.inner.height,V=this.opt.margin[1]+Q.left;g.push({page:D,top:R,left:V,clientRect:Q,link:L})}},this)}})},m.default.prototype.toPdf=function(){return w.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(T){this.prop.pdf.setPage(T.page),this.prop.pdf.link(T.left,T.top,T.clientRect.width,T.clientRect.height,{url:T.link.href})},this);var C=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(C)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,f,c){c.r(f),c("./node_modules/core-js/modules/es.symbol.js"),c("./node_modules/core-js/modules/es.symbol.description.js"),c("./node_modules/core-js/modules/es.symbol.iterator.js"),c("./node_modules/core-js/modules/es.array.iterator.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.string.iterator.js"),c("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=c("jspdf");function x(g){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},x(g)}m.jsPDF.getPageSize=function(g,w,E){if(x(g)==="object"){var B=g;g=B.orientation,w=B.unit||w,E=B.format||E}w=w||"mm",E=E||"a4",g=(""+(g||"P")).toLowerCase();var C=(""+E).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(w){case"pt":var F=1;break;case"mm":var F=72/25.4;break;case"cm":var F=72/2.54;break;case"in":var F=72;break;case"px":var F=72/96;break;case"pc":var F=12;break;case"em":var F=12;break;case"ex":var F=6;break;default:throw"Invalid unit: "+w}if(T.hasOwnProperty(C))var L=T[C][1]/F,k=T[C][0]/F;else try{var L=E[1],k=E[0]}catch{throw new Error("Invalid format: "+E)}if(g==="p"||g==="portrait"){if(g="p",k>L){var M=k;k=L,L=M}}else if(g==="l"||g==="landscape"){if(g="l",L>k){var M=k;k=L,L=M}}else throw"Invalid orientation: "+g;var Q={width:k,height:L,unit:w,k:F};return Q},f.default=m.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,f,c){c.r(f),c("./node_modules/core-js/modules/es.array.concat.js"),c("./node_modules/core-js/modules/es.array.join.js"),c("./node_modules/core-js/modules/es.array.slice.js"),c("./node_modules/core-js/modules/es.object.keys.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/esnext.iterator.constructor.js"),c("./node_modules/core-js/modules/esnext.iterator.for-each.js"),c("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=c("./src/worker.js"),x=c("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var B=this.prop.container,C=this.prop.pageSize.inner.px.height,T=[].concat(this.opt.pagebreak.mode),F={avoidAll:T.indexOf("avoid-all")!==-1,css:T.indexOf("css")!==-1,legacy:T.indexOf("legacy")!==-1},L={},k=this;["before","after","avoid"].forEach(function(D){var R=F.avoidAll&&D==="avoid";L[D]=R?[]:[].concat(k.opt.pagebreak[D]||[]),L[D].length>0&&(L[D]=Array.prototype.slice.call(B.querySelectorAll(L[D].join(", "))))});var M=B.querySelectorAll(".html2pdf__page-break");M=Array.prototype.slice.call(M);var Q=B.querySelectorAll("*");Array.prototype.forEach.call(Q,function(R){var V={before:!1,after:F.legacy&&M.indexOf(R)!==-1,avoid:F.avoidAll};if(F.css){var O=window.getComputedStyle(R),H=["always","page","left","right"],G=["avoid","avoid-page"];V={before:V.before||H.indexOf(O.breakBefore||O.pageBreakBefore)!==-1,after:V.after||H.indexOf(O.breakAfter||O.pageBreakAfter)!==-1,avoid:V.avoid||G.indexOf(O.breakInside||O.pageBreakInside)!==-1}}Object.keys(V).forEach(function(ne){V[ne]=V[ne]||L[ne].indexOf(R)!==-1});var ae=R.getBoundingClientRect();if(V.avoid&&!V.before){var Ae=Math.floor(ae.top/C),ie=Math.floor(ae.bottom/C),le=Math.abs(ae.bottom-ae.top)/C;ie!==Ae&&le<=1&&(V.before=!0)}if(V.before){var X=(0,x.createElement)("div",{style:{display:"block",height:C-ae.top%C+"px"}});R.parentNode.insertBefore(X,R)}if(V.after){var X=(0,x.createElement)("div",{style:{display:"block",height:C-ae.bottom%C+"px"}});R.parentNode.insertBefore(X,R.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(u,f,c){c.r(f),c.d(f,{deepCloneBasic:function(){return E}}),c("./node_modules/core-js/modules/es.symbol.js"),c("./node_modules/core-js/modules/es.symbol.description.js"),c("./node_modules/core-js/modules/es.symbol.iterator.js"),c("./node_modules/core-js/modules/es.array.concat.js"),c("./node_modules/core-js/modules/es.array.from.js"),c("./node_modules/core-js/modules/es.array.iterator.js"),c("./node_modules/core-js/modules/es.array.slice.js"),c("./node_modules/core-js/modules/es.function.name.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.regexp.exec.js"),c("./node_modules/core-js/modules/es.regexp.test.js"),c("./node_modules/core-js/modules/es.regexp.to-string.js"),c("./node_modules/core-js/modules/es.set.js"),c("./node_modules/core-js/modules/es.string.iterator.js"),c("./node_modules/core-js/modules/esnext.set.add-all.js"),c("./node_modules/core-js/modules/esnext.set.delete-all.js"),c("./node_modules/core-js/modules/esnext.set.difference.js"),c("./node_modules/core-js/modules/esnext.set.every.js"),c("./node_modules/core-js/modules/esnext.set.filter.js"),c("./node_modules/core-js/modules/esnext.set.find.js"),c("./node_modules/core-js/modules/esnext.set.intersection.js"),c("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),c("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),c("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),c("./node_modules/core-js/modules/esnext.set.join.js"),c("./node_modules/core-js/modules/esnext.set.map.js"),c("./node_modules/core-js/modules/esnext.set.reduce.js"),c("./node_modules/core-js/modules/esnext.set.some.js"),c("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),c("./node_modules/core-js/modules/esnext.set.union.js"),c("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(B,C){var T=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!T){if(Array.isArray(B)||(T=x(B))||C){T&&(B=T);var F=0,L=function(){};return{s:L,n:function(){return F>=B.length?{done:!0}:{done:!1,value:B[F++]}},e:function(R){throw R},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,M=!0,Q=!1;return{s:function(){T=T.call(B)},n:function(){var R=T.next();return M=R.done,R},e:function(R){Q=!0,k=R},f:function(){try{M||T.return==null||T.return()}finally{if(Q)throw k}}}}function x(B,C){if(B){if(typeof B=="string")return g(B,C);var T={}.toString.call(B).slice(8,-1);return T==="Object"&&B.constructor&&(T=B.constructor.name),T==="Map"||T==="Set"?Array.from(B):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?g(B,C):void 0}}function g(B,C){(C==null||C>B.length)&&(C=B.length);for(var T=0,F=Array(C);T<C;T++)F[T]=B[T];return F}function w(B,C){try{var T=B.currentSrc||B.src||"";if(!T)return;C.setAttribute("src",T),C.removeAttribute("srcset"),C.removeAttribute("sizes"),C.loading="eager",C.decoding="sync"}catch{}}function E(B){if(!B)throw new Error("Invalid node");var C=new Set,T=null;if(B.nodeType===Node.TEXT_NODE||B.nodeType!==Node.ELEMENT_NODE)return B.cloneNode(!0);if(B.tagName==="IFRAME"){var F=document.createElement("div");return F.style.cssText="width:".concat(B.offsetWidth,"px;height:").concat(B.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),F}if(B.tagName==="CANVAS"){var L=B.toDataURL(),k=document.createElement("img");return k.src=L,k.width=B.width,k.height=B.height,k}var M;try{M=B.cloneNode(!1),B.tagName==="IMG"&&w(B,M)}catch(Je){throw console.error("[Snapdom] Failed to clone node:",B,Je),Je}if(B instanceof HTMLTextAreaElement){M.textContent=B.value,M.value=B.value;var Q=B.getBoundingClientRect();return M.style.boxSizing="border-box",M.style.width="".concat(Q.width,"px"),M.style.height="".concat(Q.height,"px"),M}if(B instanceof HTMLInputElement&&(B.hasAttribute("value")&&(M.value=B.value,M.setAttribute("value",B.value)),B.checked!==void 0&&(M.checked=B.checked,B.checked&&M.setAttribute("checked",""),B.indeterminate&&(M.indeterminate=B.indeterminate))),B instanceof HTMLSelectElement&&(T=B.value),B.shadowRoot){var D=Array.from(B.shadowRoot.querySelectorAll("slot")).length>0;if(!D){var R=document.createDocumentFragment(),V=m(B.shadowRoot.childNodes),O;try{for(V.s();!(O=V.n()).done;){var H=O.value;if(!(H.nodeType===Node.ELEMENT_NODE&&H.tagName==="STYLE")){var G=E(H);G&&R.appendChild(G)}}}catch(Je){V.e(Je)}finally{V.f()}M.appendChild(R)}}if(B.tagName==="SLOT"){var ae,Ae=((ae=B.assignedNodes)===null||ae===void 0?void 0:ae.call(B,{flatten:!0}))||[],ie=Ae.length>0?Ae:Array.from(B.childNodes),le=document.createDocumentFragment(),X=m(ie),ne;try{for(X.s();!(ne=X.n()).done;){var re=ne.value,W=E(re);W&&le.appendChild(W)}}catch(Je){X.e(Je)}finally{X.f()}return le}var K=m(B.childNodes),ee;try{for(K.s();!(ee=K.n()).done;){var oe=ee.value;if(!C.has(oe)){var he=E(oe);he&&M.appendChild(he)}}}catch(Je){K.e(Je)}finally{K.f()}if(T!==null&&M instanceof HTMLSelectElement){M.value=T;var ue=m(M.options),ye;try{for(ue.s();!(ye=ue.n()).done;){var je=ye.value;je.value===T?je.setAttribute("selected",""):je.removeAttribute("selected")}}catch(Je){ue.e(Je)}finally{ue.f()}}var ve=B.scrollLeft,_e=B.scrollTop,ke=ve||_e;if(ke&&M instanceof HTMLElement){M.style.overflow="hidden",M.style.scrollbarWidth="none",M.style.msOverflowStyle="none";var Me=document.createElement("div");for(Me.style.transform="translate(".concat(-ve,"px, ").concat(-_e,"px)"),Me.style.willChange="transform",Me.style.display="inline-block",Me.style.width="100%";M.firstChild;)Me.appendChild(M.firstChild);M.appendChild(Me)}return M}}),"./src/utils.js":(function(u,f,c){c.r(f),c.d(f,{createElement:function(){return g},objType:function(){return x},toPx:function(){return E},unitConvert:function(){return w}}),c("./node_modules/core-js/modules/es.symbol.js"),c("./node_modules/core-js/modules/es.symbol.description.js"),c("./node_modules/core-js/modules/es.symbol.iterator.js"),c("./node_modules/core-js/modules/es.array.iterator.js"),c("./node_modules/core-js/modules/es.number.constructor.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.string.iterator.js"),c("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(B){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},m(B)}var x=function(C){var T=m(C);return T==="undefined"?"undefined":T==="string"||C instanceof String?"string":T==="number"||C instanceof Number?"number":T==="function"||C instanceof Function?"function":C&&C.constructor===Array?"array":C&&C.nodeType===1?"element":T==="object"?"object":"unknown"},g=function(C,T){var F=document.createElement(C);if(T.className&&(F.className=T.className),T.innerHTML){F.innerHTML=T.innerHTML;for(var L=F.getElementsByTagName("script"),k=L.length;k-- >0;null)L[k].parentNode.removeChild(L[k])}for(var M in T.style)F.style[M]=T.style[M];return F},w=function(C,T){if(x(C)==="number")return C*72/96/T;var F={};for(var L in C)F[L]=C[L]*72/96/T;return F},E=function(C,T){return Math.floor(C*T/72*96)}}),"./src/worker.js":(function(u,f,c){c.r(f),c("./node_modules/core-js/modules/es.array.concat.js"),c("./node_modules/core-js/modules/es.array.map.js"),c("./node_modules/core-js/modules/es.function.name.js"),c("./node_modules/core-js/modules/es.json.stringify.js"),c("./node_modules/core-js/modules/es.object.assign.js"),c("./node_modules/core-js/modules/es.object.keys.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.promise.js"),c("./node_modules/core-js/modules/es.regexp.to-string.js"),c("./node_modules/core-js/modules/esnext.iterator.constructor.js"),c("./node_modules/core-js/modules/esnext.iterator.for-each.js"),c("./node_modules/core-js/modules/esnext.iterator.map.js"),c("./node_modules/core-js/modules/web.dom-collections.for-each.js"),c("./node_modules/core-js/modules/web.timers.js");var m=c("jspdf"),x=c("html2canvas"),g=c.n(x),w=c("./src/snapdom/clone.js"),E=c("./src/utils.js"),B=function C(T){var F=Object.assign(C.convert(Promise.resolve()),JSON.parse(JSON.stringify(C.template))),L=C.convert(Promise.resolve(),F);return L=L.setProgress(1,C,1,[C]),L=L.set(T),L};B.prototype=Object.create(Promise.prototype),B.prototype.constructor=B,B.convert=function(T,F){return T.__proto__=F||B.prototype,T},B.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},B.prototype.from=function(T,F){function L(k){switch((0,E.objType)(k)){case"string":return"string";case"element":return k.nodeName.toLowerCase&&k.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(F=F||L(T),F){case"string":return this.set({src:(0,E.createElement)("div",{innerHTML:T})});case"element":return this.set({src:T});case"canvas":return this.set({canvas:T});case"img":return this.set({img:T});default:return this.error("Unknown source type.")}})},B.prototype.to=function(T){switch(T){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},B.prototype.toContainer=function(){var T=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(T).then(function(){var L={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},k={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};L.opacity=0;var M=(0,w.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,E.createElement)("div",{className:"html2pdf__overlay",style:L}),this.prop.container=(0,E.createElement)("div",{className:"html2pdf__container",style:k}),this.prop.container.appendChild(M),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(Q){return setTimeout(Q,10)})})},B.prototype.toCanvas=function(){var T=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(T).then(function(){var L=Object.assign({},this.opt.html2canvas);return delete L.onrendered,g()(this.prop.container,L)}).then(function(L){var k=this.opt.html2canvas.onrendered||function(){};k(L),this.prop.canvas=L,document.body.removeChild(this.prop.overlay)})},B.prototype.toImg=function(){var T=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(T).then(function(){var L=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=L})},B.prototype.toPdf=function(){var T=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(T).then(function(){var L=this.prop.canvas,k=this.opt,M=L.height,Q=Math.floor(L.width*this.prop.pageSize.inner.ratio),D=Math.ceil(M/Q),R=this.prop.pageSize.inner.height,V=document.createElement("canvas"),O=V.getContext("2d");V.width=L.width,V.height=Q,this.prop.pdf=this.prop.pdf||new m.jsPDF(k.jsPDF);for(var H=0;H<D;H++){H===D-1&&M%Q!==0&&(V.height=M%Q,R=V.height*this.prop.pageSize.inner.width/V.width);var G=V.width,ae=V.height;O.fillStyle="white",O.fillRect(0,0,G,ae),O.drawImage(L,0,H*Q,G,ae,0,0,G,ae),H&&this.prop.pdf.addPage();var Ae=V.toDataURL("image/"+k.image.type,k.image.quality);this.prop.pdf.addImage(Ae,k.image.type,k.margin[1],k.margin[0],this.prop.pageSize.inner.width,R)}})},B.prototype.output=function(T,F,L){return L=L||"pdf",L.toLowerCase()==="img"||L.toLowerCase()==="image"?this.outputImg(T,F):this.outputPdf(T,F)},B.prototype.outputPdf=function(T,F){var L=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(L).then(function(){return this.prop.pdf.output(T,F)})},B.prototype.outputImg=function(T,F){var L=[function(){return this.prop.img||this.toImg()}];return this.thenList(L).then(function(){switch(T){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+T+'" is not supported.'}})},B.prototype.save=function(T){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).set(T?{filename:T}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},B.prototype.set=function(T){if((0,E.objType)(T)!=="object")return this;var F=Object.keys(T||{}).map(function(L){switch(L){case"margin":return this.setMargin.bind(this,T.margin);case"jsPDF":return function(){return this.opt.jsPDF=T.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,T.pageSize);default:return L in B.template.prop?function(){this.prop[L]=T[L]}:function(){this.opt[L]=T[L]}}},this);return this.then(function(){return this.thenList(F)})},B.prototype.get=function(T,F){return this.then(function(){var k=T in B.template.prop?this.prop[T]:this.opt[T];return F?F(k):k})},B.prototype.setMargin=function(T){return this.then(function(){switch((0,E.objType)(T)){case"number":T=[T,T,T,T];case"array":if(T.length===2&&(T=[T[0],T[1],T[0],T[1]]),T.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=T}).then(this.setPageSize)},B.prototype.setPageSize=function(T){return this.then(function(){T=T||m.jsPDF.getPageSize(this.opt.jsPDF),T.hasOwnProperty("inner")||(T.inner={width:T.width-this.opt.margin[1]-this.opt.margin[3],height:T.height-this.opt.margin[0]-this.opt.margin[2]},T.inner.px={width:(0,E.toPx)(T.inner.width,T.k),height:(0,E.toPx)(T.inner.height,T.k)},T.inner.ratio=T.inner.height/T.inner.width),this.prop.pageSize=T})},B.prototype.setProgress=function(T,F,L,k){return T!=null&&(this.progress.val=T),F!=null&&(this.progress.state=F),L!=null&&(this.progress.n=L),k!=null&&(this.progress.stack=k),this.progress.ratio=this.progress.val/this.progress.state,this},B.prototype.updateProgress=function(T,F,L,k){return this.setProgress(T?this.progress.val+T:null,F||null,L?this.progress.n+L:null,k?this.progress.stack.concat(k):null)},B.prototype.then=function(T,F){var L=this;return this.thenCore(T,F,function(M,Q){return L.updateProgress(null,null,1,[M]),Promise.prototype.then.call(this,function(R){return L.updateProgress(null,M),R}).then(M,Q).then(function(R){return L.updateProgress(1),R})})},B.prototype.thenCore=function(T,F,L){L=L||Promise.prototype.then;var k=this;T&&(T=T.bind(k)),F&&(F=F.bind(k));var M=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",Q=M?k:B.convert(Object.assign({},k),Promise.prototype),D=L.call(Q,T,F);return B.convert(D,k.__proto__)},B.prototype.thenExternal=function(T,F){return Promise.prototype.then.call(this,T,F)},B.prototype.thenList=function(T){var F=this;return T.forEach(function(k){F=F.thenCore(k)}),F},B.prototype.catch=function(C){C&&(C=C.bind(this));var T=Promise.prototype.catch.call(this,C);return B.convert(T,this)},B.prototype.catchExternal=function(T){return Promise.prototype.catch.call(this,T)},B.prototype.error=function(T){return this.then(function(){throw new Error(T)})},B.prototype.using=B.prototype.set,B.prototype.saveAs=B.prototype.save,B.prototype.export=B.prototype.output,B.prototype.run=B.prototype.then,f.default=B}),html2canvas:(function(u){u.exports=n}),jspdf:(function(u){u.exports=t})},o={};function A(u){var f=o[u];if(f!==void 0)return f.exports;var c=o[u]={exports:{}};return a[u].call(c.exports,c,c.exports,A),c.exports}(function(){A.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return A.d(f,{a:f}),f}})(),(function(){A.d=function(u,f){for(var c in f)A.o(f,c)&&!A.o(u,c)&&Object.defineProperty(u,c,{enumerable:!0,get:f[c]})}})(),(function(){A.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)}})(),(function(){A.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var h={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/A.r(h);var u=A("./src/worker.js");A("./src/plugin/jspdf-plugin.js"),A("./src/plugin/pagebreaks.js"),A("./src/plugin/hyperlinks.js");var f=function c(m,x){var g=new c.Worker(x);return m?g.from(m).save():g};f.Worker=u.default,h.default=f})(),h=h.default,h})()})})(n1)),n1.exports}var FV=_V();const UV=tw(FV),DV=({data:s})=>{var C;const[e,t]=J.useState(!1),[n,a]=J.useState(null);if(J.useEffect(()=>{var F;const T=async()=>{var k;const L=(k=s==null?void 0:s.schoolInfo)==null?void 0:k.logoUrl;if(!L){a(null);return}if(L.startsWith("data:")){a(L);return}try{const Q=await(await fetch(L)).blob(),D=new FileReader;D.onloadend=()=>{a(D.result)},D.readAsDataURL(Q)}catch(M){console.error("Failed to fetch or convert logo:",M),a(L)}};(F=s==null?void 0:s.schoolInfo)!=null&&F.logoUrl&&T()},[(C=s==null?void 0:s.schoolInfo)==null?void 0:C.logoUrl]),!s)return null;const{schoolInfo:o,studentInfo:A,attendance:h,performance:u,summary:f,skills:c,remarks:m,promotion:x,termDates:g}=s,w=async T=>{const F=Array.from(T.querySelectorAll("img"));await Promise.all(F.map(L=>(L.setAttribute("crossorigin","anonymous"),L.setAttribute("referrerpolicy","no-referrer"),L.complete&&L.naturalWidth>0?Promise.resolve():new Promise(k=>{const M=()=>k();L.addEventListener("load",M,{once:!0}),L.addEventListener("error",M,{once:!0})}))))},E=async T=>{const F=T.includes("?")?`${T}&cb=${Date.now()}`:`${T}?cb=${Date.now()}`,k=await(await fetch(F)).blob();return await new Promise((M,Q)=>{const D=new FileReader;D.onloadend=()=>M(D.result),D.onerror=Q,D.readAsDataURL(k)})},B=async()=>{const T=document.getElementById("report-card");if(!T)return;t(!0);const F=T.querySelector("img[data-report-logo='true']"),L=F==null?void 0:F.src,k={transform:T.style.transform,transformOrigin:T.style.transformOrigin,width:T.style.width};try{T.style.width="794px";const D=T.scrollHeight||T.offsetHeight,R=Math.min(1,1123/D);if(T.style.transform=`scale(${R})`,T.style.transformOrigin="top left",F!=null&&F.src&&!F.src.startsWith("data:image"))try{const O=await E(F.src);F.src=O}catch(O){console.warn("Logo base64 conversion failed. Using normal URL.",O)}await w(T);const V={margin:0,filename:`${s.studentInfo.name}_Report_Card.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2.2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1},jsPDF:{unit:"px",format:[794,1123],orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"]}};await UV().set(V).from(T).save()}catch(M){console.error("PDF generation failed:",M)}finally{F&&L&&(F.src=L),T.style.transform=k.transform,T.style.transformOrigin=k.transformOrigin,T.style.width=k.width,t(!1)}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{id:"report-card",className:"bg-white p-4 rounded-lg shadow-lg border border-slate-200 text-[12.5px] leading-relaxed",style:{minHeight:"10.7in",boxSizing:"border-box",pageBreakInside:"avoid"},children:[r.jsxs("div",{className:"flex justify-between items-center pb-2 mb-2",style:{borderBottom:"2px solid #0B4A82"},children:[r.jsxs("div",{className:"flex items-center",children:[o.logoUrl?r.jsx("img",{"data-report-logo":"true",src:o.logoUrl,alt:"School Logo",className:"h-12 w-12 object-contain",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:T=>{T.currentTarget.style.display="none",console.warn("Logo failed to load:",o.logoUrl)}}):null,r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold text-primary-900",children:o.name}),r.jsxs("p",{className:"text-xs text-slate-600",children:[o.address," | ",o.phone]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("h2",{className:"text-lg font-bold text-primary-800",children:"Terminal Report Card"}),r.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:[o.academicYear," | ",o.term]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 p-2 rounded mb-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Name:"})," ",A.name]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Class:"})," ",A.class]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Gender:"})," ",A.gender]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",A.classTeacher]})]}),r.jsx("div",{className:"mb-2",children:r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[r.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[r.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.totalDays}),r.jsx("span",{className:"text-xs text-red-700",children:"School Days"})]}),r.jsxs("div",{className:"bg-green-50 p-1.5 rounded",children:[r.jsx("span",{className:"block font-bold text-green-800 text-lg",children:h.presentDays}),r.jsx("span",{className:"text-xs text-green-700",children:"Present"})]}),r.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[r.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.absentDays}),r.jsx("span",{className:"text-xs text-red-700",children:"Absent"})]}),r.jsxs("div",{className:"bg-purple-50 p-1.5 rounded",children:[r.jsxs("span",{className:"block font-bold text-purple-800 text-lg",children:[h.attendancePercentage,"%"]}),r.jsx("span",{className:"text-xs text-purple-700",children:"Attendance"})]})]})}),r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-2 px-3 pb-2 bg-slate-50",style:{borderLeft:"2px solid #1160A8",borderRight:"2px solid #1160A8",borderBottom:"1px solid #1160A8"},children:"Academic Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left border-collapse text-xs",children:[r.jsx("thead",{className:"text-white",style:{backgroundColor:"#1160A8"},children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle leading-relaxed",children:"Subject"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"C.Test"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"HW"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Proj"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Exam"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Total"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Pos"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Grade"}),r.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle",children:"Remark"})]})}),r.jsx("tbody",{children:s.allStudentsAssessments&&u.map((T,F)=>{const L=ym(T.total),k=s.allStudentsAssessments.filter(D=>D.subject===T.subject).map(D=>D.total);k.sort((D,R)=>R-D);const M=k.indexOf(T.total)+1,Q=["st","nd","rd"][M-1]||"th";return r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"p-1.5 border font-medium",children:T.subject}),r.jsx("td",{className:"px-2 py-2 border text-center leading-relaxed",children:T.testScore}),r.jsx("td",{className:"p-1.5 border text-center",children:T.homeworkScore}),r.jsx("td",{className:"p-1.5 border text-center",children:T.projectScore}),r.jsx("td",{className:"p-1.5 border text-center",children:T.examScore}),r.jsx("td",{className:"p-1.5 border text-center font-bold",children:T.total}),r.jsx("td",{className:"p-1.5 border text-center",children:`${M}${Q}`}),r.jsx("td",{className:`p-1.5 border text-center font-bold ${zg(L.grade).split(" ")[0]}`,children:L.grade}),r.jsx("td",{className:"p-1.5 border",children:L.remark})]},F)})})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Performance Summary"}),r.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:[r.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[r.jsx("span",{className:"font-semibold",children:"Total Score:"}),r.jsx("span",{children:f.totalScore})]}),r.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[r.jsx("span",{className:"font-semibold",children:"Average:"}),r.jsx("span",{children:f.averageScore})]}),r.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[r.jsx("span",{className:"font-semibold",children:"Grade:"}),r.jsx("span",{className:"font-bold",children:f.overallGrade})]}),r.jsxs("div",{className:"flex justify-between py-0.5",children:[r.jsx("span",{className:"font-semibold",children:"Position:"}),r.jsxs("span",{children:[f.classPosition," of ",f.totalStudents]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Skills & Behaviour"}),r.jsx("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:c&&Object.entries(c).map(([T,F])=>r.jsxs("div",{className:"flex justify-between py-0.5 last:border-0",style:{borderBottom:"1px solid #C7D7EA"},children:[r.jsxs("span",{className:"font-semibold capitalize",children:[T.replace(/([A-Z])/g," $1"),":"]}),r.jsx("span",{children:F})]},T))})]})," "]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Remarks"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs min-h-[70px]",children:[r.jsx("h4",{className:"font-bold mb-0.5",children:"Class Teacher:"}),r.jsxs("p",{className:"italic",children:['"',m.teacher,'"']})]}),r.jsxs("div",{className:"bg-slate-50 p-2 rounded text-xs",children:[r.jsx("h4",{className:"font-bold mb-0.5",children:"Head Teacher:"}),r.jsxs("p",{className:"italic",children:['"',m.headTeacher,'"']})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2 text-xs",children:[r.jsxs("div",{className:"bg-red-50 text-red-800 p-2 rounded text-center",children:[r.jsx("span",{className:"font-bold",children:"Promotion:"})," ",x.status]}),r.jsxs("div",{className:"bg-green-50 text-green-800 p-2 rounded text-center",children:[r.jsx("span",{className:"font-bold",children:"Next Term:"})," ",g.reopeningDate]}),r.jsxs("div",{className:"bg-slate-100 text-slate-700 p-2 rounded text-center",children:[r.jsx("span",{className:"font-bold",children:"Term Ends in:"})," ",g.vacationDate]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Class Teacher"})}),r.jsx("div",{className:"text-center",children:r.jsx("div",{className:"w-16 h-16 border border-dashed border-slate-300 flex items-center justify-center",children:r.jsx("p",{className:"text-slate-400 text-[10px]",children:"Stamp"})})}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Head Teacher"})})]})]}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsx("button",{onClick:B,disabled:e,className:`px-6 py-2 text-white rounded-lg flex items-center gap-2 transition-colors ${e?"bg-[#5C93C4] cursor-not-allowed":"bg-[#1160A8] hover:bg-[#0B4A82]"}`,children:e?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating PDF..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ac,{className:"h-4 w-4"}),"Download PDF"]})})})]})},RV=s=>new Promise((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{try{const a=document.createElement("canvas");a.width=n.width,a.height=n.height;const o=a.getContext("2d");if(!o)return t(new Error("Canvas context not available"));o.drawImage(n,0,0);const A=a.toDataURL("image/png");e(A)}catch(a){t(a)}},n.onerror=()=>t(new Error("Failed to load image for base64")),n.src=s}),BS=s=>{let e=parseInt(s);if(!isNaN(e)&&e>=1&&e<=3)return e;const t=s.split(" ");return t.length>1&&(e=parseInt(t[1]),!isNaN(e)&&e>=1&&e<=3)?e:1},LV=500,QV=()=>{const{school:s}=kc(),e=(s==null?void 0:s.id)||null,[t,n]=J.useState(Is[0].id),[a,o]=J.useState([]),[A,h]=J.useState(""),[u,f]=J.useState(null),[c,m]=J.useState(!1),[x,g]=J.useState(""),[w,E]=J.useState(!1),[B,C]=J.useState(!1),T=async k=>{if(!e){o([]),h(""),f(null);return}n(k);const M=await mt.getStudents(e,k);o(M),h(""),f(null)},F=async()=>{var k,M,Q,D,R,V,O,H,G,ae,Ae;if(!(!A||!e)){m(!0);try{const le=(await mt.getStudents(e,t)).find(Ye=>Ye.id===A),X=await mt.getSchoolConfig(e),ne=((M=(k=X==null?void 0:X.logoUrl)==null?void 0:k.trim)==null?void 0:M.call(k))||((D=(Q=X==null?void 0:X.logo)==null?void 0:Q.trim)==null?void 0:D.call(Q))||((V=(R=X==null?void 0:X.schoolLogo)==null?void 0:R.trim)==null?void 0:V.call(R))||"",re=((H=(O=s==null?void 0:s.logoUrl)==null?void 0:O.trim)==null?void 0:H.call(O))||((ae=(G=s==null?void 0:s.logo)==null?void 0:G.trim)==null?void 0:ae.call(G))||"",W=ne||re||"";let K=W;if(W&&W.startsWith("http"))try{K=await RV(W)}catch(Ye){console.warn("Base64 conversion failed, using original URL:",Ye),K=W}const ee=BS(X.currentTerm),oe=X.academicYear,he=`${A}_term${ee}_${oe}`,ye=(await mt.getAllAssessments(e).then(Ye=>Ye.filter(At=>At.studentId===A))).filter(Ye=>Ye.term===ee),je=Object.values(ye.reduce((Ye,At)=>{const es=At.subject;if(!es)return Ye;const Gt=Ye[es],qt=(Gt==null?void 0:Gt.total)??0,dt=At.total??0;return(!Gt||dt>=qt)&&(Ye[es]=At),Ye},{})),ve=await mt.getStudentRemarks(e,t).then(Ye=>Ye.find(At=>At.studentId===A)),_e=await mt.getAdminRemark(e,he),ke=await mt.getClassAttendance(e,t),Me=new Set([...ke.filter(Ye=>Ye.isHoliday).map(Ye=>Ye.date),...(X.holidayDates||[]).map(Ye=>Ye.date)]),Je=ke.filter(Ye=>!Ye.isHoliday),at=await mt.getStudentSkills(e,t).then(Ye=>Ye.find(At=>At.studentId===A)),ge=await mt.getUsers(e);let ht=0;if(X.schoolReopenDate){const Ye=new Date(`${X.schoolReopenDate}T00:00:00`),At=X.vacationDate?new Date(`${X.vacationDate}T00:00:00`):null,es=new Date;es.setHours(0,0,0,0);const Gt=At&&At<es?At:es;if(Number.isNaN(Ye.getTime()))ht=Je.length;else{const qt=new Date(Ye);for(;qt<=Gt;){const dt=qt.getDay();if(!(dt===0||dt===6)){const Vt=`${qt.getFullYear()}-${String(qt.getMonth()+1).padStart(2,"0")}-${String(qt.getDate()).padStart(2,"0")}`;Me.has(Vt)||ht++}qt.setDate(qt.getDate()+1)}}}else ht=Je.length;const Kt=Je.filter(Ye=>Ye.presentStudentIds.includes(A)).length,Pt=ht-Kt,Le=ht>0?Math.round(Kt/ht*100):0,jt=ge.find(Ye=>{var At;return(At=Ye.assignedClassIds)==null?void 0:At.includes(t)}),Ve=Ye=>Ye>=80?"A":Ye>=70?"B":Ye>=60?"C":Ye>=45?"D":"F",Fe=await mt.getAllAssessments(e).then(Ye=>Ye.filter(At=>At.classId===t&&At.term===ee)),lt=a.map(Ye=>{const es=Fe.filter(Gt=>Gt.studentId===Ye.id).reduce((Gt,qt)=>Gt+(qt.total||0),0);return{studentId:Ye.id,totalScore:es}});lt.sort((Ye,At)=>At.totalScore-Ye.totalScore);const xt=lt.findIndex(Ye=>Ye.studentId===A)+1;g((_e==null?void 0:_e.remark)||"");const Et=je.reduce((Ye,At)=>Ye+(At.total||0),0),Jt=Is.findIndex(Ye=>Ye.id===(le==null?void 0:le.classId)),Mt=Jt>=0&&Jt<Is.length-1?Is[Jt+1].name:"",He=ee===3?Et>=LV?Mt?`Promoted to ${Mt}`:"Promoted":"Fail":"N/A",ft={schoolInfo:{name:(s==null?void 0:s.name)||X.schoolName||"School Manager GH",logoUrl:W,address:(s==null?void 0:s.address)||X.address||"",phone:(s==null?void 0:s.phone)||X.phone||"",email:X.email||"",academicYear:X.academicYear||"",term:X.currentTerm||""},studentInfo:{name:(le==null?void 0:le.name)||"",gender:(le==null?void 0:le.gender)||"",dob:(le==null?void 0:le.dob)||"",class:((Ae=Is.find(Ye=>Ye.id===(le==null?void 0:le.classId)))==null?void 0:Ae.name)||"",classTeacher:(jt==null?void 0:jt.fullName)||"N/A"},attendance:{totalDays:ht||0,presentDays:Kt||0,absentDays:Pt||0,attendancePercentage:Le||0},performance:je||[],summary:{totalScore:Et||0,averageScore:je.length>0?(je.reduce((Ye,At)=>Ye+(At.total||0),0)/je.length).toFixed(1):"0.0",overallGrade:Ve(je.length>0?je.reduce((Ye,At)=>Ye+(At.total||0),0)/je.length:0)||"N/A",classPosition:`${xt}${["st","nd","rd"][xt-1]||"th"}`,totalStudents:a.length||0},skills:{punctuality:(at==null?void 0:at.punctuality)||"N/A",neatness:(at==null?void 0:at.neatness)||"N/A",conduct:(at==null?void 0:at.conduct)||"N/A",attitudeToWork:(at==null?void 0:at.attitudeToWork)||"N/A",classParticipation:(at==null?void 0:at.classParticipation)||"N/A",homeworkCompletion:(at==null?void 0:at.homeworkCompletion)||"N/A"},remarks:{teacher:(ve==null?void 0:ve.remark)||"N/A",headTeacher:(_e==null?void 0:_e.remark)||X.headTeacherRemark||"An outstanding performance. The school is proud of you.",adminRemark:(_e==null?void 0:_e.remark)||"",adminRemarkDate:(_e==null?void 0:_e.dateCreated)||""},promotion:{status:He},termDates:{endDate:X.termEndDate||"",reopeningDate:X.nextTermBegins||"",vacationDate:X.vacationDate||""},allStudentsAssessments:Fe};f(ft),Xt("Report card generated successfully!",{type:"success"})}catch(ie){console.error("Error generating report card:",ie),Xt(`Failed to generate report card: ${ie.message||"An unknown error occurred."}`,{type:"error"})}finally{m(!1)}}},L=async()=>{if(!(!A||!x.trim()||!e)){C(!0);try{const k=await mt.getSchoolConfig(e),M=BS(k.currentTerm),Q={id:`${A}_term${M}_${k.academicYear}`,studentId:A,classId:t,term:M,academicYear:k.academicYear,schoolId:e,remark:x,adminId:"admin",dateCreated:new Date().toISOString().split("T")[0]};await mt.saveAdminRemark(Q),E(!1),F()}catch(k){console.error("Error saving admin remark:",k)}finally{C(!1)}}};return J.useEffect(()=>{(async()=>{try{await T(t)}catch(M){console.error("Error in useEffect:",M)}})()},[e]),r.jsxs(lr,{title:"Generate Report Card",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Select Student"}),r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black",value:t,onChange:k=>T(k.target.value),children:Is.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))}),r.jsxs("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black flex-grow",value:A,onChange:k=>h(k.target.value),disabled:!a.length,children:[r.jsx("option",{value:"",children:"-- Select a student --"}),a.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]})]}),r.jsx("button",{onClick:F,disabled:!A||c,className:"px-6 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] disabled:opacity-50",children:c?"Generating...":"Generate Report"})]}),u&&r.jsxs("div",{className:"mt-8",children:[r.jsxs("div",{className:"bg-[#E6F0FA] border border-[#E6F0FA] rounded-xl p-4 mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("h3",{className:"text-lg font-semibold text-[#0B4A82] flex items-center gap-2",children:[r.jsx(xM,{className:"w-5 h-5"}),"Admin/Head Teacher Remark"]}),w?r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>E(!1),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:[r.jsx(oo,{className:"w-4 h-4"}),"Cancel"]}),r.jsxs("button",{onClick:L,disabled:B,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[r.jsx(Ac,{className:"w-4 h-4"}),B?"Saving...":"Save"]})]}):r.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-1 px-3 py-1 text-sm bg-[#1160A8] text-white rounded hover:bg-[#0B4A82]",children:[r.jsx(wM,{className:"w-4 h-4"}),"Edit Remark"]})]}),w?r.jsx("textarea",{value:x,onChange:k=>g(k.target.value),className:"w-full border border-[#E6F0FA] rounded-lg p-3 text-black bg-white",rows:3,placeholder:"Enter admin/head teacher remark..."}):r.jsx("p",{className:"text-[#0B4A82] italic",children:x||"No remark added yet"})]}),r.jsx(DV,{data:u})]})]})};class OV{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firebasestorage.googleapis.com",kV="storageBucket",PV=120*1e3,MV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends fA{constructor(e,t,n=0){super(S1(e),`Firebase Storage: ${t} (${S1(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,su.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return S1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ZA;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ZA||(ZA={}));function S1(s){return"storage/"+s}function HV(){const s="An unknown error occurred, please check the error payload for server response.";return new su(ZA.UNKNOWN,s)}function VV(){return new su(ZA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KV(){return new su(ZA.CANCELED,"User canceled the upload/download.")}function zV(s){return new su(ZA.INVALID_URL,"Invalid URL '"+s+"'.")}function GV(s){return new su(ZA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function NS(s){return new su(ZA.INVALID_ARGUMENT,s)}function OI(){return new su(ZA.APP_DELETED,"The Firebase app was deleted.")}function $V(s){return new su(ZA.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=lA.makeFromUrl(e,t)}catch{return new lA(e,"")}if(n.path==="")return n;throw GV(e)}static makeFromUrl(e,t){let n=null;const a="([A-Za-z0-9.\\-_]+)";function o(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const A="(/(.*))?$",h=new RegExp("^gs://"+a+A,"i"),u={bucket:1,path:3};function f(L){L.path_=decodeURIComponent(L.path)}const c="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${c}/b/${a}/o${x}`,"i"),w={bucket:1,path:3},E=t===QI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",C=new RegExp(`^https?://${E}/${a}/${B}`,"i"),F=[{regex:h,indices:u,postModify:o},{regex:g,indices:w,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let L=0;L<F.length;L++){const k=F[L],M=k.regex.exec(e);if(M){const Q=M[k.indices.bucket];let D=M[k.indices.path];D||(D=""),n=new lA(Q,D),k.postModify(n);break}}if(n==null)throw zV(e);return n}}class YV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(s,e,t){let n=1,a=null,o=null,A=!1,h=0;function u(){return h===2}let f=!1;function c(...B){f||(f=!0,e.apply(null,B))}function m(B){a=setTimeout(()=>{a=null,s(g,u())},B)}function x(){o&&clearTimeout(o)}function g(B,...C){if(f){x();return}if(B){x(),c.call(null,B,...C);return}if(u()||A){x(),c.call(null,B,...C);return}n<64&&(n*=2);let F;h===1?(h=2,F=0):F=(n+Math.random())*1e3,m(F)}let w=!1;function E(B){w||(w=!0,x(),!f&&(a!==null?(B||(h=2),clearTimeout(a),m(0)):B||(h=1)))}return m(0),o=setTimeout(()=>{A=!0,E(!0)},t),E}function XV(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(s){return s!==void 0}function SS(s,e,t,n){if(n<e)throw NS(`Invalid value for '${s}'. Expected ${e} or greater.`);if(n>t)throw NS(`Invalid value for '${s}'. Expected ${t} or less.`)}function qV(s){const e=encodeURIComponent;let t="?";for(const n in s)if(s.hasOwnProperty(n)){const a=e(n)+"="+e(s[n]);t=t+a+"&"}return t=t.slice(0,-1),t}var lv;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(lv||(lv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(s,e){const t=s>=500&&s<600,a=[408,429].indexOf(s)!==-1,o=e.indexOf(s)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,t,n,a,o,A,h,u,f,c,m,x=!0,g=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=A,this.callback_=h,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=c,this.connectionFactory_=m,this.retry=x,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,E)=>{this.resolve_=w,this.reject_=E,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new ox(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const A=h=>{const u=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(A),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(A),this.pendingConnection_=null;const h=o.getErrorCode()===lv.NO_ERROR,u=o.getStatus();if(!h||ZV(u,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===lv.ABORT;n(!1,new ox(!1,null,c));return}const f=this.successCodes_.indexOf(u)!==-1;n(!0,new ox(f,o))})},t=(n,a)=>{const o=this.resolve_,A=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(h,h.getResponse());JV(u)?o(u):o()}catch(u){A(u)}else if(h!==null){const u=HV();u.serverResponse=h.getErrorText(),this.errorCallback_?A(this.errorCallback_(h,u)):A(u)}else if(a.canceled){const u=this.appDelete_?OI():KV();A(u)}else{const u=VV();A(u)}};this.canceled_?t(!1,new ox(!1,null,!0)):this.backoffId_=WV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ox{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function tK(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function sK(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nK(s,e){e&&(s["X-Firebase-GMPID"]=e)}function rK(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function aK(s,e,t,n,a,o,A=!0,h=!1){const u=qV(s.urlParams),f=s.url+u,c=Object.assign({},s.headers);return nK(c,e),tK(c,t),sK(c,o),rK(c,n),new eK(f,s.method,c,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,a,A,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function oK(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this._service=e,t instanceof lA?this._location=t:this._location=lA.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new cv(e,t)}get root(){const e=new lA(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oK(this._location.path)}get storage(){return this._service}get parent(){const e=iK(this._location.path);if(e===null)return null;const t=new lA(this._location.bucket,e);return new cv(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $V(e)}}function CS(s,e){const t=e==null?void 0:e[kV];return t==null?null:lA.makeFromBucketSpec(t,s)}class lK{constructor(e,t,n,a,o,A=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=A,this._bucket=null,this._host=QI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PV,this._maxUploadRetryTime=MV,this._requests=new Set,a!=null?this._bucket=lA.makeFromBucketSpec(a,this._host):this._bucket=CS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lA.makeFromBucketSpec(this._url,e):this._bucket=CS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(oc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cv(this,e)}_makeRequest(e,t,n,a,o=!0){if(this._deleted)return new YV(OI());{const A=aK(e,this._appId,n,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}async makeRequestWithTokens(e,t){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,a).getPromise()}}const ES="@firebase/storage",TS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="storage";function AK(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),n=s.getProvider("auth-internal"),a=s.getProvider("app-check-internal");return new lK(t,n,a,e,cf)}function uK(){Kd(new OV(cK,AK,"PUBLIC").setMultipleInstances(!0)),Dc(ES,TS,""),Dc(ES,TS,"esm2020")}uK();const IS=s=>{const e=s.toLowerCase();return e.includes("nursery")?"Nursery":e.startsWith("kg")||e.includes("kg")?"KG":/class\s*[1-3]\b/i.test(s)?"Class 1-3":/class\s*[4-6]\b/i.test(s)?"Class 4-6":/jhs\s*[1-3]\b/i.test(s)?"JHS 1-3":"Other"},dK=()=>{var Mt;const{user:s}=To(),{school:e}=kc(),t=DT(s),n=(e==null?void 0:e.plan)==="trial",[a,o]=J.useState([]),[A,h]=J.useState(""),[u,f]=J.useState(new Date().toISOString().split("T")[0]),[c,m]=J.useState("info"),[x,g]=J.useState(!1),[w,E]=J.useState(((Mt=Is[0])==null?void 0:Mt.id)||""),[B,C]=J.useState([]),[T,F]=J.useState(""),[L,k]=J.useState(null),[M,Q]=J.useState({schoolId:t,schoolName:"",academicYear:"",currentTerm:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,headTeacherRemark:"",termEndDate:"",holidayDates:[]}),[D,R]=J.useState(!1),[V,O]=J.useState(!1),[H,G]=J.useState(""),[ae,Ae]=J.useState(""),[ie,le]=J.useState(!1),[X,ne]=J.useState(!1),[re,W]=J.useState(!1),[K,ee]=J.useState(!1),[oe,he]=J.useState(null),[ue,ye]=J.useState(!1),je=Mh.useMemo(()=>{const He={Nursery:[],KG:[],"Class 1-3":[],"Class 4-6":[],"JHS 1-3":[],Other:[]};return Is.forEach(ft=>{const Ye=IS(ft.name);He[Ye].push(ft)}),He},[]),ve=He=>{const ft=Is.find(es=>es.id===He);if(!ft)return[He];const Ye=IS(ft.name),At=je[Ye];return(At!=null&&At.length?At:[ft]).map(es=>es.id)},_e=async()=>{const He=await mt.getNotices(t);o(He)},ke=async()=>{if(w){const He=await mt.getSubjects(t,w);C(He)}},Me=async()=>{const He=await mt.getSchoolConfig(t);Q(ft=>({...ft,schoolId:t,...He,holidayDates:He.holidayDates||[]}))};J.useEffect(()=>{_e(),Me()},[t]),J.useEffect(()=>{ke()},[w,t]);const Je=async()=>{R(!0),await mt.updateSchoolConfig({...M,holidayDates:M.holidayDates||[]}),R(!1),Xt("Configuration saved successfully!",{type:"success"})},at=async()=>{if(!H)return;const He=ae.trim(),ft=M.holidayDates||[];if(ft.some(At=>At.date===H)){Xt("Holiday date already exists.",{type:"error"});return}const Ye={...M,holidayDates:[...ft,{date:H,reason:He||void 0}].sort((At,es)=>At.date.localeCompare(es.date))};Q(Ye),await mt.updateSchoolConfig({...Ye,holidayDates:Ye.holidayDates||[]}),Xt("Holiday date saved.",{type:"success"}),G(""),Ae("")},ge=async He=>{const ft=M.holidayDates||[],Ye={...M,holidayDates:ft.filter(At=>At.date!==He)};Q(Ye),await mt.updateSchoolConfig({...Ye,holidayDates:Ye.holidayDates||[]}),Xt("Holiday date removed.",{type:"success"})},ht=async()=>{O(!0);try{await mt.createTermBackup(M,M.currentTerm,M.academicYear),Xt("Term backup created successfully!",{type:"success"})}catch(He){console.error("Error creating term backup:",He),Xt("Failed to create term backup. Please try again.",{type:"error"})}finally{O(!1)}},Kt=async He=>{if(He.preventDefault(),!(!A.trim()||!u)){g(!0);try{const[ft,Ye,At]=u.split("-").map(Number),Gt=new Date(ft,Ye-1,At).toLocaleDateString("en-GB",{day:"numeric",month:"short"});await mt.addNotice({id:Math.random().toString(36).substr(2,9),schoolId:t,message:A,date:Gt,type:c,createdAt:Date.now()}),h(""),_e(),Xt("Notice added successfully!",{type:"success"})}catch(ft){console.error("Error adding notice:",ft),Xt("Failed to add notice. Please try again.",{type:"error"})}finally{g(!1)}}},Pt=async He=>{await mt.deleteNotice(He),_e()},Le=async He=>{if(He.preventDefault(),!T.trim()||!w)return;const ft=ve(w);await Promise.all(ft.map(Ye=>mt.addSubject(Ye,T.trim(),t))),F(""),ke(),Xt("Subject added successfully!",{type:"success"})},jt=He=>{he(He),ee(!0)},Ve=async()=>{if(!(!oe||!w)){ee(!1);try{const He=ve(w);await Promise.all(He.map(ft=>mt.deleteSubject(ft,oe,t))),ke(),Xt(`Subject "${oe}" deleted successfully!`,{type:"success"})}catch(He){console.error("Error deleting subject:",He),Xt("Failed to delete subject. Please try again.",{type:"error"})}finally{he(null)}}},Fe=He=>{k({original:He,current:He})},lt=async()=>{if(!L||!L.current.trim()||!w)return;const He=ve(w);await Promise.all(He.map(ft=>mt.updateSubject(ft,L.original,L.current.trim(),t))),k(null),ke(),Xt("Subject updated successfully!",{type:"success"})},xt=()=>{W(!0)},Et=async He=>{const ft=Fs(Ct,He),At=(await Xs(ft)).docs.map(es=>Hi(es.ref));await Promise.all(At)},Jt=async()=>{W(!1),ne(!0);try{const He=["attendance","assessments","teacher_attendance","notices","student_remarks","admin_remarks","student_skills","admin_notifications"];for(const Ye of He)console.log(`Deleting collection: ${Ye}`),await Et(Ye);const ft=Qs(Ct,"settings",t);await Pi(ft,{schoolReopenDate:"",vacationDate:"",nextTermBegins:""},{merge:!0}),Xt("Term data reset successfully!",{type:"success"}),window.location.reload()}catch(He){console.error("Term Reset error:",He),Xt(`Term Reset Failed: ${He.message}`,{type:"error"})}finally{ne(!1)}};return r.jsxs(lr,{title:"System Settings",children:[r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[r.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),r.jsxs("div",{className:"relative flex flex-col gap-2",children:[r.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[r.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:r.jsx(d2,{size:20})}),"System Settings"]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Configure academic terms, subjects, notices, and backups with a premium control center."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"General Configuration"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Academic year, term, and key school dates."})]}),r.jsxs("button",{onClick:Je,disabled:D,className:"flex items-center text-xs font-bold text-white bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-full transition-colors",children:[r.jsx(Ac,{size:14,className:"mr-1"})," ",D?"Saving...":"Save Changes"]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),r.jsx("input",{type:"text",value:M.academicYear,onChange:He=>Q({...M,academicYear:He.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Term"}),r.jsxs("select",{value:M.currentTerm,onChange:He=>Q({...M,currentTerm:He.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[r.jsx("option",{value:"Term 1",children:"Term 1"}),r.jsx("option",{value:"Term 2",children:"Term 2"}),r.jsx("option",{value:"Term 3",children:"Term 3"})]})]})]}),r.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[r.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"School Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School Re-open Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(Si,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),r.jsx("input",{type:"date",value:M.schoolReopenDate,onChange:He=>Q({...M,schoolReopenDate:He.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term Vacation Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(Si,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),r.jsx("input",{type:"date",value:M.vacationDate,onChange:He=>Q({...M,vacationDate:He.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Term Begins"}),r.jsxs("div",{className:"relative",children:[r.jsx(Si,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),r.jsx("input",{type:"date",value:M.nextTermBegins||"",onChange:He=>Q({...M,nextTermBegins:He.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),r.jsxs("div",{className:"mt-6 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-amber-900 font-semibold",children:[r.jsx(Gi,{className:"h-5 w-5"}),"Holiday Dates (exclude from term totals)"]}),r.jsx("p",{className:"mt-1 text-xs text-amber-800",children:"Add dates here to remove them from term total days and attendance analytics."}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-[180px_1fr_auto] gap-3 items-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Si,{className:"absolute left-3 top-2.5 w-4 h-4 text-amber-400 pointer-events-none"}),r.jsx("input",{type:"date",value:H,onChange:He=>G(He.target.value),className:"w-full border border-amber-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"})]}),r.jsx("input",{type:"text",value:ae,onChange:He=>Ae(He.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full border border-amber-200 px-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"}),r.jsxs("button",{type:"button",onClick:at,className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-amber-700",children:[r.jsx(Yh,{size:16}),"Add"]})]}),r.jsx("div",{className:"mt-4 space-y-2",children:(M.holidayDates||[]).length===0?r.jsx("div",{className:"text-xs text-amber-700",children:"No holiday dates added yet."}):(M.holidayDates||[]).map(He=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-amber-200 bg-white px-3 py-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-amber-900",children:He.date}),He.reason&&r.jsx("p",{className:"text-xs text-amber-700",children:He.reason})]}),r.jsxs("button",{type:"button",onClick:()=>ge(He.date),className:"inline-flex items-center gap-1 text-xs font-semibold text-rose-600 hover:text-rose-700",children:[r.jsx(Lc,{size:14}),"Remove"]})]},He.date))})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[r.jsx(wP,{className:"mr-2 text-[#0B4A82]",size:24}),"Manage Class Subjects"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),r.jsx("select",{value:w,onChange:He=>E(He.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:["Nursery","KG","Class 1-3","Class 4-6","JHS 1-3","Other"].map(He=>{var ft;return(ft=je[He])!=null&&ft.length?r.jsx("optgroup",{label:He,children:je[He].map(Ye=>r.jsx("option",{value:Ye.id,children:Ye.name},Ye.id))},He):null})})]}),r.jsxs("form",{onSubmit:Le,className:"flex gap-2 mb-6",children:[r.jsx("input",{type:"text",required:!0,className:"flex-1 border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-[#1160A8] outline-none text-sm",placeholder:"New subject name...",value:T,onChange:He=>F(He.target.value)}),r.jsx("button",{type:"submit",className:"bg-[#1160A8] text-white px-4 py-2 rounded-xl hover:bg-[#0B4A82] transition-colors",children:r.jsx(Yh,{size:20})})]}),r.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:B.length===0?r.jsx("p",{className:"text-sm text-slate-500 text-center italic",children:"No subjects configured for this class. Add some above!"}):B.map(He=>r.jsx("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-100 group",children:(L==null?void 0:L.original)===He?r.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[r.jsx("input",{type:"text",className:"flex-1 border border-slate-200 p-2 rounded-lg text-sm focus:ring-2 focus:ring-[#1160A8] outline-none",value:L.current,onChange:ft=>k({...L,current:ft.target.value}),autoFocus:!0}),r.jsx("button",{onClick:lt,className:"text-emerald-600 hover:bg-emerald-50 p-1 rounded",children:r.jsx(Xp,{size:16})}),r.jsx("button",{onClick:()=>k(null),className:"text-[#1160A8] hover:bg-[#E6F0FA] p-1 rounded",children:r.jsx(oo,{size:16})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm font-medium text-slate-700",children:He}),r.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>Fe(He),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:r.jsx(h2,{size:14})}),r.jsx("button",{onClick:()=>jt(He),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:r.jsx(Lc,{size:14})})]})]})},He))})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[r.jsx(Ac,{className:"mr-2 text-purple-600",size:24}),"Term Data Backup"]}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:`Create a full backup of the current term's academic records, attendance, and student data. Backups can be viewed and restored from the "Manage Backups" section.`}),r.jsx("button",{onClick:ht,disabled:V||n,className:"bg-purple-600 text-white px-4 py-2 rounded-full hover:bg-purple-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:V?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ac,{size:16,className:"mr-2"})," Create Current Term Backup"]})}),r.jsxs(da,{to:"/admin/backups",className:`mt-4 inline-flex items-center text-sm font-medium ${n?"text-slate-400 pointer-events-none":"text-[#1160A8] hover:text-[#0B4A82]"}`,children:[r.jsx(sM,{size:16,className:"mr-1"})," View Previous Backups"]}),n&&r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Backups are disabled during the trial period."})]}),ie&&r.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(HT,{className:"text-rose-600 mr-2",size:24}),r.jsx("h2",{className:"text-xl font-bold text-rose-800",children:"Danger Zone: Database Reset"})]}),r.jsx("p",{className:"text-rose-700 mb-4",children:"This will reset term data (attendance, assessments, reports, and term-specific records) for the selected term. It does not delete school accounts or core setup, but the term data cannot be recovered. Use with extreme caution."}),r.jsx("div",{className:"flex flex-col space-y-4",children:r.jsx("button",{onClick:xt,disabled:X,className:"bg-rose-600 text-white px-4 py-2 rounded-full hover:bg-rose-700 disabled:bg-rose-400 transition-colors",children:X?"Resetting Term...":"Term Reset"})})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsxs("button",{onClick:()=>le(!ie),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition-all hover:border-[#1160A8] hover:text-[#0B4A82] hover:shadow-md",children:[r.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold transition-colors ${ie?"bg-rose-100 text-rose-600":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:ie?"":"+"}),ie?"Hide":"Show"," Advanced Settings"]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 flex flex-col h-full",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[r.jsx(fM,{className:"mr-2 text-emerald-600",size:24}),"School Notices"]}),r.jsxs("form",{onSubmit:Kt,className:"mb-6 bg-slate-50 p-4 rounded-2xl border border-slate-200",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(Si,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",value:u,onChange:He=>f(He.target.value)})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notice Message"}),r.jsx("textarea",{required:!0,className:"w-full border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",placeholder:"Type notice here...",rows:2,value:A,onChange:He=>h(He.target.value)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[r.jsx("input",{type:"radio",name:"type",className:"mr-2 text-emerald-600 focus:ring-emerald-500",checked:c==="info",onChange:()=>m("info")}),"Info"]}),r.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[r.jsx("input",{type:"radio",name:"type",className:"mr-2 text-red-600 focus:ring-red-500",checked:c==="urgent",onChange:()=>m("urgent")}),"Urgent"]})]}),r.jsx("button",{type:"submit",disabled:x,className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-emerald-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:x?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Yh,{size:16,className:"mr-1"})," Add Notice"]})})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[r.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-3",children:"Active Notices"}),r.jsx("div",{className:"space-y-3",children:a.length===0?r.jsx("p",{className:"text-slate-400 text-sm text-center italic",children:"No notices posted."}):a.map(He=>r.jsxs("div",{className:"flex justify-between items-start group p-3 border border-slate-100 rounded-xl hover:bg-slate-50 transition-colors",children:[r.jsxs("div",{className:`border-l-2 pl-3 ${He.type==="urgent"?"border-red-500":"border-emerald-500"}`,children:[r.jsx("p",{className:"text-sm text-slate-800 font-medium",children:He.message}),r.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[He.date," "," ",He.type==="urgent"?"Urgent":"General Info"]})]}),r.jsx("button",{onClick:()=>Pt(He.id),className:"text-slate-300 hover:text-[#1160A8] transition-colors p-1",title:"Delete Notice",children:r.jsx(Lc,{size:16})})]},He.id))})]})]})]})]}),re&&r.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4 transform transition-all duration-300 scale-100",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Gi,{className:"text-red-600 mr-3",size:32}),r.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirm Term Reset"})]}),r.jsxs("div",{className:"text-slate-600 mb-6 space-y-2",children:[r.jsxs("p",{children:["This will reset all data for the current term, but"," ",r.jsx("strong",{children:"keep core school setup"}),". Are you sure you want to proceed?"]}),r.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"RESET:"})," Attendance, Assessments, Teacher Attendance, Notices, and all student Remarks."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"KEEP:"})," Student Enrollment, Teacher Accounts, Class Subjects, and Timetables."]})]}),r.jsx("p",{className:"font-semibold text-red-700",children:"This action cannot be undone."})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Jt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Term Reset"})]})]})}),K&&oe&&r.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Gi,{className:"text-red-600 mr-3",size:32}),r.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Delete Subject"})]}),r.jsxs("p",{className:"text-slate-600 mb-6",children:['Are you sure you want to delete the subject "',r.jsx("strong",{children:oe}),'"? This might hide scores associated with this subject and cannot be undone.']}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{ee(!1),he(null)},className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Ve,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Subject"})]})]})})]})},hK=s=>{if(!s)return"CLASS";const e=Is.find(t=>t.id===s);return e&&e.level?e.level:s.startsWith("c_n")?"NURSERY":s.startsWith("c_kg")?"KG":s.startsWith("c_p")?"PRIMARY":s.startsWith("c_jhs")?"JHS":"CLASS"},fK=()=>{var G,ae,Ae,ie,le,X,ne,re,W,K,ee,oe,he,ue,ye,je,ve,_e,ke,Me,Je,at,ge,ht,Kt,Pt;const{school:s}=kc(),e=(s==null?void 0:s.id)||null,t=(s==null?void 0:s.plan)==="trial",[n,a]=J.useState([]),[o,A]=J.useState(!0),[h,u]=J.useState(null),[f,c]=J.useState(""),[m,x]=J.useState(""),[g,w]=J.useState(""),[E,B]=J.useState(null),[C,T]=J.useState(!1),[F,L]=J.useState(null),[k,M]=J.useState(!1),Q=J.useMemo(()=>{var Jt;if(!((Jt=E==null?void 0:E.data)!=null&&Jt.students))return[];const Le=E.data.students||[],jt=E.data.attendanceRecords||[],Ve=E.data.assessments||[],Fe=E.data.studentRemarks||[],lt=jt.reduce((Mt,He)=>(Mt[He.classId]||(Mt[He.classId]=[]),Mt[He.classId].push(He),Mt),{}),xt=Ve.reduce((Mt,He)=>{const ft=typeof He.total=="number"?He.total:Fc(He);return Mt[He.studentId]||(Mt[He.studentId]={total:0,count:0}),Mt[He.studentId].total+=ft,Mt[He.studentId].count+=1,Mt},{}),Et=Fe.reduce((Mt,He)=>{const ft=Mt[He.studentId];if(!ft)return Mt[He.studentId]=He,Mt;const Ye=new Date(ft.dateCreated).getTime();return new Date(He.dateCreated).getTime()>=Ye&&(Mt[He.studentId]=He),Mt},{});return Le.map(Mt=>{var dt;const He=lt[Mt.classId]||[],ft=He.filter(Ot=>{var Vt;return(Vt=Ot.presentStudentIds)==null?void 0:Vt.includes(Mt.id)}).length,Ye=He.length,At=Ye?`${Math.round(ft/Ye*100)}%`:"-",es=xt[Mt.id],Gt=es!=null&&es.count?(es.total/es.count).toFixed(1):"-",qt=((dt=Et[Mt.id])==null?void 0:dt.remark)||"N/A";return{student:Mt,presentDays:ft,totalDays:Ye,attendanceRate:At,avgScore:Gt,remark:qt}})},[E]),D=async Le=>{A(!0),u(null);try{if(!e){a([]);return}const jt={schoolId:e,term:(Le==null?void 0:Le.term)||void 0,academicYear:(Le==null?void 0:Le.academicYear)||void 0,date:(Le==null?void 0:Le.date)||void 0},Ve=await mt.getBackups(jt);a(Ve)}catch(jt){console.error("Error fetching backups:",jt),u("Failed to fetch backups."),Xt("Failed to fetch backups.",{type:"error"})}finally{A(!1)}},R=async Le=>{try{if(!e)return;const jt=await mt.getBackupDetails(e,Le);jt?(B(jt),T(!0)):Xt("Backup details not found.",{type:"error"})}catch(jt){console.error("Error fetching backup details:",jt),Xt("Failed to fetch backup details.",{type:"error"})}},V=Le=>{L(Le),M(!0)},O=async Le=>{try{if(!e)return;const jt=await mt.getBackupDetails(e,Le);if(jt&&jt.data){const Ve=`backup_${jt.academicYear.replace("-","")}_${jt.term.replace(" ","")}_${jt.timestamp}.json`,Fe=JSON.stringify(jt.data,null,2),lt=new Blob([Fe],{type:"application/json"}),xt=URL.createObjectURL(lt),Et=document.createElement("a");Et.href=xt,Et.download=Ve,document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),URL.revokeObjectURL(xt),Xt("Backup downloaded successfully!",{type:"success"})}else Xt("No data available to download for this backup.",{type:"error"})}catch(jt){console.error("Error downloading backup:",jt),Xt("Failed to download backup.",{type:"error"})}},H=async()=>{if(F){console.log("Attempting to delete backup:",F);try{if(!e)return;await mt.deleteBackup(e,F),console.log("Backup deleted successfully in DB."),Xt("Backup deleted successfully!",{type:"success"}),M(!1),L(null),c(""),x(""),w(""),await D(),console.log("Backup list refreshed after deletion.")}catch(Le){console.error("Error during backup deletion or refresh:",Le),Xt("Failed to delete backup or refresh list.",{type:"error"})}}};return J.useEffect(()=>{D()},[e]),o?r.jsx(lr,{title:"Manage Backups",children:r.jsxs("div",{className:"flex justify-center items-center h-48",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-[#0B4A82]"}),r.jsx("p",{className:"ml-4 text-slate-500",children:"Loading backups..."})]})}):h?r.jsx(lr,{title:"Manage Backups",children:r.jsxs("div",{className:"text-center p-8 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg",children:[r.jsx("p",{className:"text-[#0B4A82]",children:h}),r.jsxs("button",{onClick:()=>D(),className:"mt-4 px-4 py-2 bg-[#0B4A82] text-white rounded hover:bg-[#0B4A82]",children:[r.jsx(TM,{className:"inline-block mr-2",size:16})," Retry"]})]})}):r.jsxs(lr,{title:"Manage Backups",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Manage Term Backups"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backup Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"filterTerm",className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),r.jsxs("select",{id:"filterTerm",value:f,onChange:Le=>c(Le.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[r.jsx("option",{value:"",children:"All Terms"}),r.jsx("option",{value:"Term 1",children:"Term 1"}),r.jsx("option",{value:"Term 2",children:"Term 2"}),r.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"filterAcademicYear",className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),r.jsx("input",{id:"filterAcademicYear",type:"text",value:m,onChange:Le=>x(Le.target.value),placeholder:"e.g., 2023-2024",className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Created (YYYY-MM-DD)"}),r.jsx("input",{id:"filterDate",type:"date",value:g,onChange:Le=>w(Le.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]})]}),r.jsxs("button",{onClick:()=>D({term:f,academicYear:m,date:g}),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors flex items-center",children:[r.jsx(MT,{size:16,className:"mr-2"})," Apply Filters"]}),r.jsx("button",{onClick:()=>{c(""),x(""),w(""),D()},className:"ml-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Clear Filters"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Available Backups"}),n.length===0?r.jsx("div",{className:"text-center p-8 text-slate-500",children:r.jsx("p",{children:"No backups found. Create one from System Settings."})}):r.jsx("div",{className:"space-y-4",children:n.map((Le,jt)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-slate-800",children:[Le.term," - ",Le.academicYear]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",new Date(Le.timestamp).toLocaleString()]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>R(Le.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"View Backup Details",children:[r.jsx(Qu,{size:16,className:"mr-1"})," View"]}),r.jsxs("button",{onClick:()=>O(Le.id||""),disabled:t,className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-sm hover:bg-emerald-200 flex items-center disabled:opacity-60 disabled:cursor-not-allowed",title:"Download Backup",children:[r.jsx(A2,{size:16,className:"mr-1"})," Download"]}),r.jsxs("button",{onClick:()=>V(Le.id||""),disabled:t,className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center disabled:opacity-60 disabled:cursor-not-allowed",title:"Delete Backup",children:[r.jsx(Lc,{size:16,className:"mr-1"})," Delete"]})]})]},Le.id||`backup-${jt}`))}),t&&r.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Backups are disabled during the trial period."})]}),C&&E&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Backup Details: ",E.term," -"," ",E.academicYear]}),r.jsx("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-slate-700",children:r.jsx(oo,{size:20})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#E6F0FA] to-amber-50 rounded-xl p-4 mb-6 border border-[#E6F0FA]",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-full",children:r.jsx(Kl,{className:"text-[#0B4A82]",size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup Created"}),r.jsx("p",{className:"text-lg font-bold text-slate-800",children:new Date(E.timestamp).toLocaleString()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup ID"}),r.jsxs("p",{className:"text-sm font-mono text-slate-700",children:[(G=E.id)==null?void 0:G.slice(0,8),"..."]})]})]})}),E.data?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:r.jsx(rf,{className:"text-amber-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Students"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ae=E.data.students)==null?void 0:ae.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-lg",children:r.jsx(fo,{className:"text-[#0B4A82]",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Users"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((Ae=E.data.users)==null?void 0:Ae.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:r.jsx(cl,{className:"text-emerald-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Assessments"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ie=E.data.assessments)==null?void 0:ie.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Si,{className:"text-purple-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Attendance"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((le=E.data.attendanceRecords)==null?void 0:le.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:r.jsx(xm,{className:"text-slate-500",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teacher Attendance"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((X=E.data.teacherAttendanceRecords)==null?void 0:X.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:r.jsx(Wp,{className:"text-amber-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Remarks"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ne=E.data.studentRemarks)==null?void 0:ne.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:r.jsx(cl,{className:"text-indigo-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Timetables"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((re=E.data.timetables)==null?void 0:re.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:r.jsx(Hd,{className:"text-emerald-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Notices"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((W=E.data.notices)==null?void 0:W.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-rose-50 rounded-lg",children:r.jsx(gm,{className:"text-rose-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Notifications"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((K=E.data.adminNotifications)==null?void 0:K.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:r.jsx(Kl,{className:"text-sky-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Activity Logs"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ee=E.data.activityLogs)==null?void 0:ee.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:r.jsx(Si,{className:"text-purple-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Payments"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((oe=E.data.payments)==null?void 0:oe.length)||0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide mb-3",children:"School Settings Snapshot"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-slate-600",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Academic Year"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((he=E.data.schoolSettings)==null?void 0:he.academicYear)||((ue=E.data.schoolConfig)==null?void 0:ue.academicYear)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Current Term"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((ye=E.data.schoolSettings)==null?void 0:ye.currentTerm)||((je=E.data.schoolConfig)==null?void 0:je.currentTerm)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Reopen Date"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((ve=E.data.schoolSettings)==null?void 0:ve.schoolReopenDate)||((_e=E.data.schoolConfig)==null?void 0:_e.schoolReopenDate)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Vacation Date"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((ke=E.data.schoolSettings)==null?void 0:ke.vacationDate)||((Me=E.data.schoolConfig)==null?void 0:Me.vacationDate)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Next Term Begins"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((Je=E.data.schoolSettings)==null?void 0:Je.nextTermBegins)||((at=E.data.schoolConfig)==null?void 0:at.nextTermBegins)||"-"})]})]})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide mb-3",children:"Data Coverage"}),r.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Class Subjects"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((ge=E.data.classSubjects)==null?void 0:ge.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Student Skills"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((ht=E.data.studentSkills)==null?void 0:ht.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Admin Remarks"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((Kt=E.data.adminRemarks)==null?void 0:Kt.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Payments"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((Pt=E.data.payments)==null?void 0:Pt.length)||0})]})]})]})]}),r.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[r.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[r.jsx(fo,{size:18,className:"mr-2 text-[#0B4A82]"}),"Students List"]}),Q.length>0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"Student"}),r.jsx("th",{className:"px-4 py-3",children:"Class"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),r.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:Q.map(Le=>{var jt;return r.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${Le.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:Le.student.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{children:Le.student.name}),r.jsx("p",{className:"text-xs text-slate-400",children:Le.student.gender})]})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((jt=Is.find(Ve=>Ve.id===Le.student.classId))==null?void 0:jt.name)||Le.student.classId})}),r.jsxs("td",{className:"px-4 py-3 text-center",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:Le.attendanceRate}),r.jsxs("div",{className:"text-xs text-slate-400",children:[Le.presentDays,"/",Le.totalDays," days"]})]}),r.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:Le.avgScore}),r.jsx("td",{className:"px-4 py-3 text-slate-600",children:Le.remark})]},Le.student.id)})})]})}),r.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",Q.length," student",Q.length!==1?"s":""]})]}):r.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[r.jsx(fo,{size:32,className:"mx-auto mb-2 text-slate-300"}),r.jsx("p",{children:"No students in this backup."})]}),E.data.classSubjects&&E.data.classSubjects.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h5",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[r.jsx(rf,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.data.classSubjects.map((Le,jt)=>{var lt,xt;const Ve=Is.find(Et=>Et.id===Le.classId),Fe=hK(Le.classId);return r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[r.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:Fe}),r.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(Ve==null?void 0:Ve.name)||Le.classId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Le.subjects&&Le.subjects.length>0?Le.subjects.map((Et,Jt)=>r.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:Et},Jt)):r.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),r.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((lt=Le.subjects)==null?void 0:lt.length)||0," subject",((xt=Le.subjects)==null?void 0:xt.length)!==1?"s":""]})]})]},jt)})})]})]})]}):r.jsxs("div",{className:"text-center py-12 text-slate-500",children:[r.jsx(xm,{size:48,className:"mx-auto mb-4 text-slate-300"}),r.jsx("p",{children:"No data available for this backup."})]})]}),r.jsx("div",{className:"p-6 border-t border-slate-100 text-right",children:r.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Close"})})]})}),k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Deletion"}),r.jsx("button",{onClick:()=>M(!1),className:"text-slate-400 hover:text-slate-700",children:r.jsx(oo,{size:20})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Backup ID: ",F]})]}),r.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[r.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{onClick:H,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Delete"})]})]})})]})},lx=["Monday","Tuesday","Wednesday","Thursday","Friday"],mK=()=>{var F,L;const{user:s}=To(),e=DT(s),[t,n]=J.useState(Is[0].id),[a,o]=J.useState({}),[A,h]=J.useState(!1),[u,f]=J.useState(lx[0]),[c,m]=J.useState([]),[x,g]=J.useState({startTime:"08:00",endTime:"09:00",subject:"",type:"lesson"});J.useEffect(()=>{(async()=>{h(!0);const M=await mt.getSubjects(e,t);m(M),M.length>0?g(V=>({...V,subject:M[0],type:"lesson"})):g(V=>({...V,subject:"",type:"lesson"}));const Q=await mt.getTimetable(e,t),D=(Q==null?void 0:Q.schedule)||{};lx.forEach(V=>{D[V]||(D[V]=[])});let R=!1;if(M.length>0&&Object.keys(D).forEach(V=>{D[V].forEach(O=>{O.type==="lesson"&&!M.includes(O.subject)&&(O.subject=M[0],R=!0)})}),R){const V={schoolId:e,classId:t,schedule:D};await mt.saveTimetable(V),Xt("Timetable subjects updated to match system settings!",{type:"success"})}o(D),h(!1)})()},[t,e]);const w=()=>{if(!x.startTime||!x.endTime||!x.subject)return;if(x.startTime>=x.endTime){Xt("End time must be after start time",{type:"error"});return}const k={id:Math.random().toString(36).substr(2,9),startTime:x.startTime,endTime:x.endTime,subject:x.subject,type:x.type},M={...a};M[u]=[...M[u],k].sort((Q,D)=>Q.startTime.localeCompare(D.startTime)),o(M)},E=k=>{const M={...a};M[u]=M[u].filter(Q=>Q.id!==k),o(M)},B=async()=>{h(!0);const k={schoolId:e,classId:t,schedule:a,updatedAt:Date.now()};await mt.saveTimetable(k),h(!1),Xt("Timetable saved successfully!",{type:"success"})},C=k=>{const M=a[k];return!M||M.length===0?"N/A":M[M.length-1].endTime},T=k=>{switch(k){case"break":return{bg:"bg-amber-50",border:"border-amber-100",icon:HP,iconColor:"text-amber-600",badge:"text-amber-600 border-amber-200"};case"worship":return{bg:"bg-purple-50",border:"border-purple-100",icon:VT,iconColor:"text-purple-600",badge:"text-purple-600 border-purple-200"};case"assembly":return{bg:"bg-[#E6F0FA]",border:"border-[#E6F0FA]",icon:fo,iconColor:"text-[#0B4A82]",badge:"text-[#0B4A82] border-[#E6F0FA]"};case"arrival":return{bg:"bg-green-50",border:"border-green-100",icon:fo,iconColor:"text-green-600",badge:"text-green-600 border-green-200"};case"closing":return{bg:"bg-slate-100",border:"border-slate-200",icon:GP,iconColor:"text-slate-600",badge:"text-slate-600 border-slate-300"};default:return{bg:"bg-white",border:"border-slate-100",icon:Kl,iconColor:"text-emerald-600",badge:"text-slate-600 border-slate-200"}}};return r.jsx(lr,{title:"Manage Timetable",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-auto md:h-[calc(100vh-8rem)]",children:[r.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row justify-between md:items-center gap-4 bg-slate-50",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),r.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48",value:t,onChange:k=>n(k.target.value),children:Is.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))})]})}),r.jsxs("button",{onClick:B,disabled:A,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50",children:[r.jsx(Ac,{size:18,className:"mr-2"}),A?"Saving...":"Save Schedule"]})]}),r.jsxs("div",{className:"flex flex-1 overflow-y-auto md:overflow-hidden",children:[r.jsx("div",{className:"hidden md:flex w-40 border-r border-slate-100 bg-white flex flex-col overflow-y-auto",children:lx.map(k=>{var Q;const M=((Q=a[k])==null?void 0:Q.length)||0;return r.jsxs("button",{onClick:()=>f(k),className:`p-4 text-left border-l-4 transition-colors hover:bg-slate-50 ${u===k?"border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[r.jsx("span",{className:"block",children:k}),r.jsxs("span",{className:"text-xs text-slate-400",children:[M," Slots"]})]},k)})}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto md:overflow-hidden bg-slate-50/50",children:[r.jsx("div",{className:"md:hidden flex overflow-x-auto bg-white border-b border-slate-100",children:lx.map(k=>{var Q;const M=((Q=a[k])==null?void 0:Q.length)||0;return r.jsxs("button",{onClick:()=>f(k),className:`px-4 py-3 text-sm whitespace-nowrap transition-colors hover:bg-slate-50 ${u===k?"border-b-2 border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[r.jsx("span",{children:k}),r.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",M,")"]})]},k)})}),r.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 flex justify-between items-center bg-white",children:r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[u," Schedule"]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Closing Time:"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:C(u)})]})]})}),r.jsx("div",{className:"flex-1 overflow-visible md:overflow-y-auto p-3 md:p-6 space-y-3 md:space-y-4 min-h-[260px]",children:((F=a[u])==null?void 0:F.length)===0?r.jsxs("div",{className:"text-center w-full min-h-[260px] md:min-h-[320px] py-10 md:py-16 px-6 md:px-10 text-slate-500 border-2 border-dashed border-slate-200 rounded-2xl bg-white flex flex-col items-center justify-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-semibold mb-3 text-slate-700",children:"No classes or breaks scheduled"}),r.jsxs("div",{className:"text-base md:text-lg leading-relaxed max-w-md mx-auto",children:["Add time slots for ",u," using the form below."]})]}):(L=a[u])==null?void 0:L.map(k=>{const M=T(k.type),Q=M.icon;return r.jsxs("div",{className:`flex items-center p-4 md:p-5 rounded-lg border shadow-sm ${M.bg} ${M.border}`,children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-full mr-3 md:mr-4 bg-white shadow-sm text-slate-500 flex-shrink-0",children:r.jsx(Q,{size:20,className:M.iconColor})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsxs("span",{className:"font-mono text-sm md:text-base font-semibold text-slate-600 bg-slate-100 px-2 py-1 rounded whitespace-nowrap",children:[k.startTime," - ",k.endTime]}),k.type!=="lesson"&&r.jsx("span",{className:`text-xs uppercase font-bold border px-2 py-0.5 rounded ${M.badge}`,children:k.type})]}),r.jsx("p",{className:"text-base md:text-lg font-bold text-slate-800 break-words",children:k.subject})]}),r.jsx("button",{onClick:()=>E(k.id),className:"text-slate-300 hover:text-[#1160A8] p-2 transition-colors flex-shrink-0",children:r.jsx(Lc,{size:18})})]},k.id)})}),r.jsxs("div",{className:"p-4 md:p-6 bg-white border-t border-slate-200",children:[r.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-4",children:"Add Time Slot"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 items-end",children:[r.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Start Time"}),r.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:x.startTime,onChange:k=>g({...x,startTime:k.target.value})})]}),r.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"End Time"}),r.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:x.endTime,onChange:k=>g({...x,endTime:k.target.value})})]}),r.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Type"}),r.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:x.type,onChange:k=>{const M=k.target.value;let Q="";M==="break"?Q="Break":M==="worship"?Q="Worship":M==="closing"?Q="Closing":M==="assembly"?Q="Assembly":M==="arrival"?Q="Arrival & Free Play":M==="lunch"?Q="Lunch":M==="snack"?Q="Snack":M==="cleaning"?Q="Clean Up":M==="games"?Q="Games":M==="nap"?Q="Nap Time":M==="clubs"?Q="Clubs/Activities":Q=c[0]||"",g({...x,type:M,subject:Q})},children:[r.jsx("option",{value:"arrival",children:"Arrival & Free Play"}),r.jsx("option",{value:"assembly",children:"Morning Assembly"}),r.jsx("option",{value:"lesson",children:"Lesson"}),r.jsx("option",{value:"break",children:"Break"}),r.jsx("option",{value:"snack",children:"Snack"}),r.jsx("option",{value:"lunch",children:"Lunch"}),r.jsx("option",{value:"worship",children:"Worship/Devotion"}),r.jsx("option",{value:"games",children:"Games/Sports"}),r.jsx("option",{value:"clubs",children:"Clubs/Activities"}),r.jsx("option",{value:"cleaning",children:"Clean Up"}),r.jsx("option",{value:"nap",children:"Nap Time"}),r.jsx("option",{value:"closing",children:"Closing"})]})]}),r.jsxs("div",{className:"sm:col-span-2 lg:col-span-4",children:[r.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Activity/Subject"}),x.type==="lesson"?r.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:x.subject,onChange:k=>g({...x,subject:k.target.value}),children:[c.map(k=>r.jsx("option",{value:k,children:k},k)),c.length===0&&r.jsx("option",{value:"",children:"No Subjects Found"})]}):r.jsx("input",{type:"text",className:"w-full border p-3 rounded text-sm md:text-base",value:x.subject,onChange:k=>g({...x,subject:k.target.value})})]}),r.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:r.jsxs("button",{onClick:w,className:"w-full bg-[#1160A8] text-white p-3 rounded text-sm md:text-base font-medium hover:bg-[#0B4A82] transition-colors",children:[r.jsx(Yh,{size:16,className:"inline mr-1"})," Add Slot"]})})]})]})]})]})]})})},pK=()=>{const{school:s}=kc(),e=Nm(),[t,n]=J.useState(!1),[a,o]=J.useState("0"),[A,h]=J.useState([]),[u,f]=J.useState(!1),[c,m]=J.useState(!1),[x,g]=J.useState(!1),w=(R,V="GHS")=>{if(!R&&R!==0)return"-";const O=R>=100?R/100:R;return new Intl.NumberFormat("en-GH",{style:"currency",currency:V}).format(O)},E=R=>{if(!R)return"-";if(R instanceof Jn)return R.toDate().toLocaleString();if(typeof R=="number")return new Date(R).toLocaleString();const V=new Date(R);return Number.isNaN(V.getTime())?"-":V.toLocaleString()},B=R=>{const V=(R||"pending").toLowerCase();return["success","paid","active"].includes(V)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(V)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(V)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},C=J.useMemo(()=>{var O;const R=((O=s==null?void 0:s.billing)==null?void 0:O.status)||"inactive",V=(s==null?void 0:s.plan)||"monthly";return{status:R,plan:V}},[s]),T=C.plan==="free",F=C.plan==="trial",L=J.useMemo(()=>{const R=A[0];return B((R==null?void 0:R.status)||C.status)},[C.status,A]),k=J.useMemo(()=>{const R=C.plan||"monthly",H=300*(R==="termly"?4:R==="yearly"?12:1);return Math.round(H*(1-(R==="termly"?.2:R==="yearly"?.3:0)))},[C.plan]);J.useEffect(()=>{T||o(String(k))},[k,T]);const M=async()=>{if(s!=null&&s.id){f(!0);try{const R=Fs(Ct,"payments"),V=Ms(R,os("schoolId","==",s.id)),H=(await Xs(V)).docs.map(G=>({id:G.id,...G.data()})).sort((G,ae)=>{var le,X;const Ae=(le=G.createdAt)!=null&&le.toMillis?G.createdAt.toMillis():new Date(G.createdAt||0).getTime();return((X=ae.createdAt)!=null&&X.toMillis?ae.createdAt.toMillis():new Date(ae.createdAt||0).getTime())-Ae});h(H)}catch(R){console.error("Failed to load payment history",R),Xt("Failed to load payment history.",{type:"error"})}finally{f(!1)}}},Q=async()=>{if(!A.length){Xt("No payments to verify.",{type:"info"});return}const R=A.filter(V=>["pending","abandoned","failed"].includes(String(V.status||"pending").toLowerCase()));if(!R.length){Xt("All payments are already verified.",{type:"success"});return}try{m(!0);let V=0;for(const O of R)O.reference&&(await iN({reference:O.reference}),V+=1);Xt(`Verification complete. ${V} payment(s) updated.`,{type:"success"}),await M()}catch(V){console.error("Payment verification failed:",V),Xt((V==null?void 0:V.message)||"Payment verification failed.",{type:"error"})}finally{m(!1)}};J.useEffect(()=>{T||M()},[s==null?void 0:s.id,T]),J.useEffect(()=>{if(T)return;const V=new URLSearchParams(window.location.search).get("reference");if(!V)return;(async()=>{try{m(!0);const H=await iN({reference:V});if(String((H==null?void 0:H.status)||"").toLowerCase()==="success"){g(!0),setTimeout(()=>{e("/",{replace:!0})},3500);return}Xt("Payment was not completed. Please try again or verify later.",{type:"info"}),await M()}catch(H){console.error("Payment verification failed:",H),Xt((H==null?void 0:H.message)||"Payment verification failed.",{type:"error"})}finally{m(!1)}})()},[T,e]);const D=async()=>{if(T)return;const R=Number(k);if(!R||R<=0){Xt("Enter a valid amount.",{type:"error"});return}try{n(!0);const V=await T7({amount:R*100,currency:"GHS"});window.location.href=V.authorizationUrl}catch(V){console.error("Billing error:",V),Xt((V==null?void 0:V.message)||"Payment initiation failed.",{type:"error"})}finally{n(!1)}};return T||F?r.jsx(lr,{title:"Billing & Subscription",children:r.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:r.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/60 p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:r.jsx(s1,{size:18})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:F?"Trial Plan Active":"Free Plan Active"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Billing is disabled for your school. Contact your super admin if you need to change your subscription."})]})]})})})}):r.jsx(lr,{title:"Billing & Subscription",children:r.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[x&&r.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/70 p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:r.jsx(s1,{size:18})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Subscription renewed successfully"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Great news! Your access has been restored. Redirecting to the dashboard now."})]})]})}),r.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[r.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),r.jsxs("div",{className:"relative",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Billing & Subscription"}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Pay monthly via Mobile Money and keep your school active."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:r.jsx(Pp,{size:18})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Pay Monthly (MoMo)"}),r.jsx("p",{className:"text-sm text-slate-500",children:"MTN, Telecel, AirtelTigo supported via Paystack."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount (GHS)"}),r.jsx("input",{type:"number",min:"0",step:"1",value:a,readOnly:!0,className:"w-full border border-slate-200 rounded-xl p-2.5 bg-slate-50 text-slate-700"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:D,disabled:t,className:"w-full inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2.5 font-semibold hover:bg-emerald-700 transition disabled:opacity-60",children:[t?"Redirecting...":"Pay with MoMo",r.jsx(mP,{size:16})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-indigo-100 text-indigo-600 flex items-center justify-center",children:r.jsx(s1,{size:18})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Subscription Status"}),r.jsx("p",{className:"text-sm text-slate-500",children:"School Plan"})]})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-slate-500",children:"Plan"}),r.jsx("span",{className:"font-semibold text-slate-800",children:C.plan})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-slate-500",children:"Status"}),r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${L.className}`,children:L.label})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-slate-500",children:"Renewal"}),r.jsx("span",{className:"font-semibold text-slate-800",children:"Monthly"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Payment History"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Track all payments made by your school admin account."})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("button",{onClick:Q,className:"text-sm text-emerald-700 border border-emerald-200 px-3 py-1.5 rounded-lg hover:bg-emerald-50",disabled:u||c,children:c?"Verifying...":"Verify Pending"}),r.jsx("button",{onClick:M,className:"text-sm text-slate-600 border border-slate-200 px-3 py-1.5 rounded-lg hover:bg-slate-50",disabled:u,children:u?"Loading...":"Refresh"})]})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[r.jsx("th",{className:"py-3 pr-4",children:"Amount"}),r.jsx("th",{className:"py-3 pr-4",children:"Currency"}),r.jsx("th",{className:"py-3 pr-4",children:"Status"}),r.jsx("th",{className:"py-3 pr-4",children:"Reference"}),r.jsx("th",{className:"py-3",children:"Created"})]})}),r.jsx("tbody",{children:A.map(R=>{const V=B(R.status);return r.jsxs("tr",{className:"border-b border-slate-100",children:[r.jsx("td",{className:"py-3 pr-4 text-slate-700",children:w(R.amount,R.currency)}),r.jsx("td",{className:"py-3 pr-4 text-slate-600",children:R.currency||"GHS"}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${V.className}`,children:V.label})}),r.jsx("td",{className:"py-3 pr-4 text-slate-500",children:R.reference||"-"}),r.jsx("td",{className:"py-3 text-slate-500",children:E(R.createdAt)})]},R.id)})})]}),!A.length&&!u&&r.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payment history yet."})]})]})]})})},kI=J.createContext({});function gK(s){const e=J.useRef(null);return e.current===null&&(e.current=s()),e.current}const y2=typeof window<"u",xK=y2?J.useLayoutEffect:J.useEffect,b2=J.createContext(null);function w2(s,e){s.indexOf(e)===-1&&s.push(e)}function j2(s,e){const t=s.indexOf(e);t>-1&&s.splice(t,1)}const eu=(s,e,t)=>t>e?e:t<s?s:t;let B2=()=>{};const Uu={},PI=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function MI(s){return typeof s=="object"&&s!==null}const HI=s=>/^0[^.\s]+$/u.test(s);function N2(s){let e;return()=>(e===void 0&&(e=s()),e)}const Qc=s=>s,vK=(s,e)=>t=>e(s(t)),$g=(...s)=>s.reduce(vK),wg=(s,e,t)=>{const n=e-s;return n===0?1:(t-s)/n};class S2{constructor(){this.subscriptions=[]}add(e){return w2(this.subscriptions,e),()=>j2(this.subscriptions,e)}notify(e,t,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,n);else for(let o=0;o<a;o++){const A=this.subscriptions[o];A&&A(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cu=s=>s*1e3,Uc=s=>s/1e3;function VI(s,e){return e?s*(1e3/e):0}const KI=(s,e,t)=>(((1-3*t+3*e)*s+(3*t-6*e))*s+3*e)*s,yK=1e-7,bK=12;function wK(s,e,t,n,a){let o,A,h=0;do A=e+(t-e)/2,o=KI(A,n,a)-s,o>0?t=A:e=A;while(Math.abs(o)>yK&&++h<bK);return A}function Yg(s,e,t,n){if(s===e&&t===n)return Qc;const a=o=>wK(o,0,1,s,t);return o=>o===0||o===1?o:KI(a(o),e,n)}const zI=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,GI=s=>e=>1-s(1-e),$I=Yg(.33,1.53,.69,.99),C2=GI($I),YI=zI(C2),WI=s=>(s*=2)<1?.5*C2(s):.5*(2-Math.pow(2,-10*(s-1))),E2=s=>1-Math.sin(Math.acos(s)),XI=GI(E2),JI=zI(E2),jK=Yg(.42,0,1,1),BK=Yg(0,0,.58,1),qI=Yg(.42,0,.58,1),NK=s=>Array.isArray(s)&&typeof s[0]!="number",ZI=s=>Array.isArray(s)&&typeof s[0]=="number",SK={linear:Qc,easeIn:jK,easeInOut:qI,easeOut:BK,circIn:E2,circInOut:JI,circOut:XI,backIn:C2,backInOut:YI,backOut:$I,anticipate:WI},CK=s=>typeof s=="string",_S=s=>{if(ZI(s)){B2(s.length===4);const[e,t,n,a]=s;return Yg(e,t,n,a)}else if(CK(s))return SK[s];return s},cx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EK(s,e){let t=new Set,n=new Set,a=!1,o=!1;const A=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function u(c){A.has(c)&&(f.schedule(c),s()),c(h)}const f={schedule:(c,m=!1,x=!1)=>{const w=x&&a?t:n;return m&&A.add(c),w.has(c)||w.add(c),c},cancel:c=>{n.delete(c),A.delete(c)},process:c=>{if(h=c,a){o=!0;return}a=!0,[t,n]=[n,t],t.forEach(u),t.clear(),a=!1,o&&(o=!1,f.process(c))}};return f}const TK=40;function e3(s,e){let t=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,A=cx.reduce((F,L)=>(F[L]=EK(o),F),{}),{setup:h,read:u,resolveKeyframes:f,preUpdate:c,update:m,preRender:x,render:g,postRender:w}=A,E=()=>{const F=Uu.useManualTiming?a.timestamp:performance.now();t=!1,Uu.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(F-a.timestamp,TK),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),u.process(a),f.process(a),c.process(a),m.process(a),x.process(a),g.process(a),w.process(a),a.isProcessing=!1,t&&e&&(n=!1,s(E))},B=()=>{t=!0,n=!0,a.isProcessing||s(E)};return{schedule:cx.reduce((F,L)=>{const k=A[L];return F[L]=(M,Q=!1,D=!1)=>(t||B(),k.schedule(M,Q,D)),F},{}),cancel:F=>{for(let L=0;L<cx.length;L++)A[cx[L]].cancel(F)},state:a,steps:A}}const{schedule:Ta,cancel:qd,state:Bo,steps:C1}=e3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qc,!0);let Ix;function IK(){Ix=void 0}const wl={now:()=>(Ix===void 0&&wl.set(Bo.isProcessing||Uu.useManualTiming?Bo.timestamp:performance.now()),Ix),set:s=>{Ix=s,queueMicrotask(IK)}},t3=s=>e=>typeof e=="string"&&e.startsWith(s),s3=t3("--"),_K=t3("var(--"),T2=s=>_K(s)?FK.test(s.split("/*")[0].trim()):!1,FK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function FS(s){return typeof s!="string"?!1:s.split("/*")[0].includes("var(--")}const Rm={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},jg={...Rm,transform:s=>eu(0,1,s)},Ax={...Rm,default:1},ng=s=>Math.round(s*1e5)/1e5,I2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UK(s){return s==null}const DK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_2=(s,e)=>t=>!!(typeof t=="string"&&DK.test(t)&&t.startsWith(s)||e&&!UK(t)&&Object.prototype.hasOwnProperty.call(t,e)),n3=(s,e,t)=>n=>{if(typeof n!="string")return n;const[a,o,A,h]=n.match(I2);return{[s]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(A),alpha:h!==void 0?parseFloat(h):1}},RK=s=>eu(0,255,s),E1={...Rm,transform:s=>Math.round(RK(s))},Kh={test:_2("rgb","red"),parse:n3("red","green","blue"),transform:({red:s,green:e,blue:t,alpha:n=1})=>"rgba("+E1.transform(s)+", "+E1.transform(e)+", "+E1.transform(t)+", "+ng(jg.transform(n))+")"};function LK(s){let e="",t="",n="",a="";return s.length>5?(e=s.substring(1,3),t=s.substring(3,5),n=s.substring(5,7),a=s.substring(7,9)):(e=s.substring(1,2),t=s.substring(2,3),n=s.substring(3,4),a=s.substring(4,5),e+=e,t+=t,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Ub={test:_2("#"),parse:LK,transform:Kh.transform},Wg=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),Bd=Wg("deg"),JA=Wg("%"),Ss=Wg("px"),QK=Wg("vh"),OK=Wg("vw"),US={...JA,parse:s=>JA.parse(s)/100,transform:s=>JA.transform(s*100)},qf={test:_2("hsl","hue"),parse:n3("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(s)+", "+JA.transform(ng(e))+", "+JA.transform(ng(t))+", "+ng(jg.transform(n))+")"},Vi={test:s=>Kh.test(s)||Ub.test(s)||qf.test(s),parse:s=>Kh.test(s)?Kh.parse(s):qf.test(s)?qf.parse(s):Ub.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Kh.transform(s):qf.transform(s),getAnimatableNone:s=>{const e=Vi.parse(s);return e.alpha=0,Vi.transform(e)}},kK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PK(s){var e,t;return isNaN(s)&&typeof s=="string"&&(((e=s.match(I2))==null?void 0:e.length)||0)+(((t=s.match(kK))==null?void 0:t.length)||0)>0}const r3="number",a3="color",MK="var",HK="var(",DS="${}",VK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bg(s){const e=s.toString(),t=[],n={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(VK,u=>(Vi.test(u)?(n.color.push(o),a.push(a3),t.push(Vi.parse(u))):u.startsWith(HK)?(n.var.push(o),a.push(MK),t.push(u)):(n.number.push(o),a.push(r3),t.push(parseFloat(u))),++o,DS)).split(DS);return{values:t,split:h,indexes:n,types:a}}function i3(s){return Bg(s).values}function o3(s){const{split:e,types:t}=Bg(s),n=e.length;return a=>{let o="";for(let A=0;A<n;A++)if(o+=e[A],a[A]!==void 0){const h=t[A];h===r3?o+=ng(a[A]):h===a3?o+=Vi.transform(a[A]):o+=a[A]}return o}}const KK=s=>typeof s=="number"?0:Vi.test(s)?Vi.getAnimatableNone(s):s;function zK(s){const e=i3(s);return o3(s)(e.map(KK))}const Zd={test:PK,parse:i3,createTransformer:o3,getAnimatableNone:zK};function T1(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*(2/3-t)*6:s}function GK({hue:s,saturation:e,lightness:t,alpha:n}){s/=360,e/=100,t/=100;let a=0,o=0,A=0;if(!e)a=o=A=t;else{const h=t<.5?t*(1+e):t+e-t*e,u=2*t-h;a=T1(u,h,s+1/3),o=T1(u,h,s),A=T1(u,h,s-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(A*255),alpha:n}}function Av(s,e){return t=>t>0?e:s}const ti=(s,e,t)=>s+(e-s)*t,I1=(s,e,t)=>{const n=s*s,a=t*(e*e-n)+n;return a<0?0:Math.sqrt(a)},$K=[Ub,Kh,qf],YK=s=>$K.find(e=>e.test(s));function RS(s){const e=YK(s);if(!e)return!1;let t=e.parse(s);return e===qf&&(t=GK(t)),t}const LS=(s,e)=>{const t=RS(s),n=RS(e);if(!t||!n)return Av(s,e);const a={...t};return o=>(a.red=I1(t.red,n.red,o),a.green=I1(t.green,n.green,o),a.blue=I1(t.blue,n.blue,o),a.alpha=ti(t.alpha,n.alpha,o),Kh.transform(a))},Db=new Set(["none","hidden"]);function WK(s,e){return Db.has(s)?t=>t<=0?s:e:t=>t>=1?e:s}function XK(s,e){return t=>ti(s,e,t)}function F2(s){return typeof s=="number"?XK:typeof s=="string"?T2(s)?Av:Vi.test(s)?LS:ZK:Array.isArray(s)?l3:typeof s=="object"?Vi.test(s)?LS:JK:Av}function l3(s,e){const t=[...s],n=t.length,a=s.map((o,A)=>F2(o)(o,e[A]));return o=>{for(let A=0;A<n;A++)t[A]=a[A](o);return t}}function JK(s,e){const t={...s,...e},n={};for(const a in t)s[a]!==void 0&&e[a]!==void 0&&(n[a]=F2(s[a])(s[a],e[a]));return a=>{for(const o in n)t[o]=n[o](a);return t}}function qK(s,e){const t=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],A=s.indexes[o][n[o]],h=s.values[A]??0;t[a]=h,n[o]++}return t}const ZK=(s,e)=>{const t=Zd.createTransformer(e),n=Bg(s),a=Bg(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Db.has(s)&&!a.values.length||Db.has(e)&&!n.values.length?WK(s,e):$g(l3(qK(n,a),a.values),t):Av(s,e)};function c3(s,e,t){return typeof s=="number"&&typeof e=="number"&&typeof t=="number"?ti(s,e,t):F2(s)(s,e)}const ez=s=>{const e=({timestamp:t})=>s(t);return{start:(t=!0)=>Ta.update(e,t),stop:()=>qd(e),now:()=>Bo.isProcessing?Bo.timestamp:wl.now()}},A3=(s,e,t=10)=>{let n="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)n+=Math.round(s(o/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},uv=2e4;function U2(s){let e=0;const t=50;let n=s.next(e);for(;!n.done&&e<uv;)e+=t,n=s.next(e);return e>=uv?1/0:e}function tz(s,e=100,t){const n=t({...s,keyframes:[0,e]}),a=Math.min(U2(n),uv);return{type:"keyframes",ease:o=>n.next(a*o).value/e,duration:Uc(a)}}const sz=5;function u3(s,e,t){const n=Math.max(e-sz,0);return VI(t-s(n),e-n)}const ui={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_1=.001;function nz({duration:s=ui.duration,bounce:e=ui.bounce,velocity:t=ui.velocity,mass:n=ui.mass}){let a,o,A=1-e;A=eu(ui.minDamping,ui.maxDamping,A),s=eu(ui.minDuration,ui.maxDuration,Uc(s)),A<1?(a=f=>{const c=f*A,m=c*s,x=c-t,g=Rb(f,A),w=Math.exp(-m);return _1-x/g*w},o=f=>{const m=f*A*s,x=m*t+t,g=Math.pow(A,2)*Math.pow(f,2)*s,w=Math.exp(-m),E=Rb(Math.pow(f,2),A);return(-a(f)+_1>0?-1:1)*((x-g)*w)/E}):(a=f=>{const c=Math.exp(-f*s),m=(f-t)*s+1;return-_1+c*m},o=f=>{const c=Math.exp(-f*s),m=(t-f)*(s*s);return c*m});const h=5/s,u=az(a,o,h);if(s=Cu(s),isNaN(u))return{stiffness:ui.stiffness,damping:ui.damping,duration:s};{const f=Math.pow(u,2)*n;return{stiffness:f,damping:A*2*Math.sqrt(n*f),duration:s}}}const rz=12;function az(s,e,t){let n=t;for(let a=1;a<rz;a++)n=n-s(n)/e(n);return n}function Rb(s,e){return s*Math.sqrt(1-e*e)}const iz=["duration","bounce"],oz=["stiffness","damping","mass"];function QS(s,e){return e.some(t=>s[t]!==void 0)}function lz(s){let e={velocity:ui.velocity,stiffness:ui.stiffness,damping:ui.damping,mass:ui.mass,isResolvedFromDuration:!1,...s};if(!QS(s,oz)&&QS(s,iz))if(s.visualDuration){const t=s.visualDuration,n=2*Math.PI/(t*1.2),a=n*n,o=2*eu(.05,1,1-(s.bounce||0))*Math.sqrt(a);e={...e,mass:ui.mass,stiffness:a,damping:o}}else{const t=nz(s);e={...e,...t,mass:ui.mass},e.isResolvedFromDuration=!0}return e}function dv(s=ui.visualDuration,e=ui.bounce){const t=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:n,restDelta:a}=t;const o=t.keyframes[0],A=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:u,damping:f,mass:c,duration:m,velocity:x,isResolvedFromDuration:g}=lz({...t,velocity:-Uc(t.velocity||0)}),w=x||0,E=f/(2*Math.sqrt(u*c)),B=A-o,C=Uc(Math.sqrt(u/c)),T=Math.abs(B)<5;n||(n=T?ui.restSpeed.granular:ui.restSpeed.default),a||(a=T?ui.restDelta.granular:ui.restDelta.default);let F;if(E<1){const k=Rb(C,E);F=M=>{const Q=Math.exp(-E*C*M);return A-Q*((w+E*C*B)/k*Math.sin(k*M)+B*Math.cos(k*M))}}else if(E===1)F=k=>A-Math.exp(-C*k)*(B+(w+C*B)*k);else{const k=C*Math.sqrt(E*E-1);F=M=>{const Q=Math.exp(-E*C*M),D=Math.min(k*M,300);return A-Q*((w+E*C*B)*Math.sinh(D)+k*B*Math.cosh(D))/k}}const L={calculatedDuration:g&&m||null,next:k=>{const M=F(k);if(g)h.done=k>=m;else{let Q=k===0?w:0;E<1&&(Q=k===0?Cu(w):u3(F,k,M));const D=Math.abs(Q)<=n,R=Math.abs(A-M)<=a;h.done=D&&R}return h.value=h.done?A:M,h},toString:()=>{const k=Math.min(U2(L),uv),M=A3(Q=>L.next(k*Q).value,k,30);return k+"ms "+M},toTransition:()=>{}};return L}dv.applyToOptions=s=>{const e=tz(s,100,dv);return s.ease=e.ease,s.duration=Cu(e.duration),s.type="keyframes",s};function Lb({keyframes:s,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:A,min:h,max:u,restDelta:f=.5,restSpeed:c}){const m=s[0],x={done:!1,value:m},g=D=>h!==void 0&&D<h||u!==void 0&&D>u,w=D=>h===void 0?u:u===void 0||Math.abs(h-D)<Math.abs(u-D)?h:u;let E=t*e;const B=m+E,C=A===void 0?B:A(B);C!==B&&(E=C-m);const T=D=>-E*Math.exp(-D/n),F=D=>C+T(D),L=D=>{const R=T(D),V=F(D);x.done=Math.abs(R)<=f,x.value=x.done?C:V};let k,M;const Q=D=>{g(x.value)&&(k=D,M=dv({keyframes:[x.value,w(x.value)],velocity:u3(F,D,x.value),damping:a,stiffness:o,restDelta:f,restSpeed:c}))};return Q(0),{calculatedDuration:null,next:D=>{let R=!1;return!M&&k===void 0&&(R=!0,L(D),Q(D)),k!==void 0&&D>=k?M.next(D-k):(!R&&L(D),x)}}}function cz(s,e,t){const n=[],a=t||Uu.mix||c3,o=s.length-1;for(let A=0;A<o;A++){let h=a(s[A],s[A+1]);if(e){const u=Array.isArray(e)?e[A]||Qc:e;h=$g(u,h)}n.push(h)}return n}function Az(s,e,{clamp:t=!0,ease:n,mixer:a}={}){const o=s.length;if(B2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const A=s[0]===s[1];s[0]>s[o-1]&&(s=[...s].reverse(),e=[...e].reverse());const h=cz(e,n,a),u=h.length,f=c=>{if(A&&c<s[0])return e[0];let m=0;if(u>1)for(;m<s.length-2&&!(c<s[m+1]);m++);const x=wg(s[m],s[m+1],c);return h[m](x)};return t?c=>f(eu(s[0],s[o-1],c)):f}function uz(s,e){const t=s[s.length-1];for(let n=1;n<=e;n++){const a=wg(0,e,n);s.push(ti(t,1,a))}}function dz(s){const e=[0];return uz(e,s.length-1),e}function hz(s,e){return s.map(t=>t*e)}function fz(s,e){return s.map(()=>e||qI).splice(0,s.length-1)}function rg({duration:s=300,keyframes:e,times:t,ease:n="easeInOut"}){const a=NK(n)?n.map(_S):_S(n),o={done:!1,value:e[0]},A=hz(t&&t.length===e.length?t:dz(e),s),h=Az(A,e,{ease:Array.isArray(a)?a:fz(e,a)});return{calculatedDuration:s,next:u=>(o.value=h(u),o.done=u>=s,o)}}const mz=s=>s!==null;function D2(s,{repeat:e,repeatType:t="loop"},n,a=1){const o=s.filter(mz),h=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||n===void 0?o[h]:n}const pz={decay:Lb,inertia:Lb,tween:rg,keyframes:rg,spring:dv};function d3(s){typeof s.type=="string"&&(s.type=pz[s.type])}class R2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const gz=s=>s/100;class L2 extends R2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:t}=this.options;t&&t.updatedAt!==wl.now()&&this.tick(wl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;d3(e);const{type:t=rg,repeat:n=0,repeatDelay:a=0,repeatType:o,velocity:A=0}=e;let{keyframes:h}=e;const u=t||rg;u!==rg&&typeof h[0]!="number"&&(this.mixKeyframes=$g(gz,c3(h[0],h[1])),h=[0,100]);const f=u({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...h].reverse(),velocity:-A})),f.calculatedDuration===null&&(f.calculatedDuration=U2(f));const{calculatedDuration:c}=f;this.calculatedDuration=c,this.resolvedDuration=c+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:a,mixKeyframes:o,mirroredGenerator:A,resolvedDuration:h,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:c,repeat:m,repeatType:x,repeatDelay:g,type:w,onUpdate:E,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?C<0:C>a;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,L=n;if(m){const D=Math.min(this.currentTime,a)/h;let R=Math.floor(D),V=D%1;!V&&D>=1&&(V=1),V===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(x==="reverse"?(V=1-V,g&&(V-=g/h)):x==="mirror"&&(L=A)),F=eu(0,1,V)*h}const k=T?{done:!1,value:c[0]}:L.next(F);o&&(k.value=o(k.value));let{done:M}=k;!T&&u!==null&&(M=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return Q&&w!==Lb&&(k.value=D2(c,this.options,B,this.speed)),E&&E(k.value),Q&&this.finish(),k}then(e,t){return this.finished.then(e,t)}get duration(){return Uc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Uc(e)}get time(){return Uc(this.currentTime)}set time(e){var t;e=Cu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wl.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Uc(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:e=ez,startTime:t}=this.options;this.driver||(this.driver=e(A=>this.tick(A))),(o=(a=this.options).onPlay)==null||o.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function xz(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const zh=s=>s*180/Math.PI,Qb=s=>{const e=zh(Math.atan2(s[1],s[0]));return Ob(e)},vz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Qb,rotateZ:Qb,skewX:s=>zh(Math.atan(s[1])),skewY:s=>zh(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},Ob=s=>(s=s%360,s<0&&(s+=360),s),OS=Qb,kS=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),PS=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),yz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kS,scaleY:PS,scale:s=>(kS(s)+PS(s))/2,rotateX:s=>Ob(zh(Math.atan2(s[6],s[5]))),rotateY:s=>Ob(zh(Math.atan2(-s[2],s[0]))),rotateZ:OS,rotate:OS,skewX:s=>zh(Math.atan(s[4])),skewY:s=>zh(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function kb(s){return s.includes("scale")?1:0}function Pb(s,e){if(!s||s==="none")return kb(e);const t=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(t)n=yz,a=t;else{const h=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=vz,a=h}if(!a)return kb(e);const o=n[e],A=a[1].split(",").map(wz);return typeof o=="function"?o(A):A[o]}const bz=(s,e)=>{const{transform:t="none"}=getComputedStyle(s);return Pb(t,e)};function wz(s){return parseFloat(s.trim())}const Lm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qm=new Set(Lm),MS=s=>s===Rm||s===Ss,jz=new Set(["x","y","z"]),Bz=Lm.filter(s=>!jz.has(s));function Nz(s){const e=[];return Bz.forEach(t=>{const n=s.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Ld={width:({x:s},{paddingLeft:e="0",paddingRight:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),height:({y:s},{paddingTop:e="0",paddingBottom:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>Pb(e,"x"),y:(s,{transform:e})=>Pb(e,"y")};Ld.translateX=Ld.x;Ld.translateY=Ld.y;const Zh=new Set;let Mb=!1,Hb=!1,Vb=!1;function h3(){if(Hb){const s=Array.from(Zh).filter(n=>n.needsMeasurement),e=new Set(s.map(n=>n.element)),t=new Map;e.forEach(n=>{const a=Nz(n);a.length&&(t.set(n,a),n.render())}),s.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=t.get(n);a&&a.forEach(([o,A])=>{var h;(h=n.getValue(o))==null||h.set(A)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Hb=!1,Mb=!1,Zh.forEach(s=>s.complete(Vb)),Zh.clear()}function f3(){Zh.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Hb=!0)})}function Sz(){Vb=!0,f3(),h3(),Vb=!1}class Q2{constructor(e,t,n,a,o,A=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=a,this.element=o,this.isAsync=A}scheduleResolve(){this.state="scheduled",this.isAsync?(Zh.add(this),Mb||(Mb=!0,Ta.read(f3),Ta.resolveKeyframes(h3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:a}=this;if(e[0]===null){const o=a==null?void 0:a.get(),A=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){const h=n.readValue(t,A);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=A),a&&o===void 0&&a.set(e[0])}xz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zh.delete(this)}cancel(){this.state==="scheduled"&&(Zh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cz=s=>s.startsWith("--");function Ez(s,e,t){Cz(e)?s.style.setProperty(e,t):s.style[e]=t}const Tz=N2(()=>window.ScrollTimeline!==void 0),Iz={};function _z(s,e){const t=N2(s);return()=>Iz[e]??t()}const m3=_z(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mp=([s,e,t,n])=>`cubic-bezier(${s}, ${e}, ${t}, ${n})`,HS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mp([0,.65,.55,1]),circOut:Mp([.55,0,1,.45]),backIn:Mp([.31,.01,.66,-.59]),backOut:Mp([.33,1.53,.69,.99])};function p3(s,e){if(s)return typeof s=="function"?m3()?A3(s,e):"ease-out":ZI(s)?Mp(s):Array.isArray(s)?s.map(t=>p3(t,e)||HS.easeOut):HS[s]}function Fz(s,e,t,{delay:n=0,duration:a=300,repeat:o=0,repeatType:A="loop",ease:h="easeOut",times:u}={},f=void 0){const c={[e]:t};u&&(c.offset=u);const m=p3(h,a);Array.isArray(m)&&(c.easing=m);const x={delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:A==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),s.animate(c,x)}function g3(s){return typeof s=="function"&&"applyToOptions"in s}function Uz({type:s,...e}){return g3(s)&&m3()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Dz extends R2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:a,pseudoElement:o,allowFlatten:A=!1,finalKeyframe:h,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=A,this.options=e,B2(typeof e.type!="string");const f=Uz(e);this.animation=Fz(t,n,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const c=D2(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(c):Ez(t,n,c),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,n;const e=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return Uc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Uc(e)}get time(){return Uc(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Cu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Tz()?(this.animation.timeline=e,Qc):t(this)}}const x3={anticipate:WI,backInOut:YI,circInOut:JI};function Rz(s){return s in x3}function Lz(s){typeof s.ease=="string"&&Rz(s.ease)&&(s.ease=x3[s.ease])}const F1=10;class Qz extends Dz{constructor(e){Lz(e),d3(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:a,element:o,...A}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new L2({...A,autoplay:!1}),u=Math.max(F1,wl.now()-this.startTime),f=eu(0,F1,u-F1);t.setWithVelocity(h.sample(Math.max(0,u-f)).value,h.sample(u).value,f),h.stop()}}const VS=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Zd.test(s)||s==="0")&&!s.startsWith("url("));function Oz(s){const e=s[0];if(s.length===1)return!0;for(let t=0;t<s.length;t++)if(s[t]!==e)return!0}function kz(s,e,t,n){const a=s[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=s[s.length-1],A=VS(a,e),h=VS(o,e);return!A||!h?!1:Oz(s)||(t==="spring"||g3(t))&&n}function Kb(s){s.duration=0,s.type="keyframes"}const Pz=new Set(["opacity","clipPath","filter","transform"]),Mz=N2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Hz(s){var c;const{motionValue:e,name:t,repeatDelay:n,repeatType:a,damping:o,type:A}=s;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return Mz()&&t&&Pz.has(t)&&(t!=="transform"||!f)&&!u&&!n&&a!=="mirror"&&o!==0&&A!=="inertia"}const Vz=40;class Kz extends R2{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:A="loop",keyframes:h,name:u,motionValue:f,element:c,...m}){var w;super(),this.stop=()=>{var E,B;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(B=this.keyframeResolver)==null||B.cancel()},this.createdAt=wl.now();const x={autoplay:e,delay:t,type:n,repeat:a,repeatDelay:o,repeatType:A,name:u,motionValue:f,element:c,...m},g=(c==null?void 0:c.KeyframeResolver)||Q2;this.keyframeResolver=new g(h,(E,B,C)=>this.onKeyframesResolved(E,B,x,!C),u,f,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,t,n,a){this.keyframeResolver=void 0;const{name:o,type:A,velocity:h,delay:u,isHandoff:f,onUpdate:c}=n;this.resolvedAt=wl.now(),kz(e,o,A,h)||((Uu.instantAnimations||!u)&&(c==null||c(D2(e,n,t))),e[0]=e[e.length-1],Kb(n),n.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Vz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},g=!f&&Hz(x)?new Qz({...x,element:x.motionValue.owner.current}):new L2(x);g.finished.then(()=>this.notifyFinished()).catch(Qc),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Sz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gz(s){const e=zz.exec(s);if(!e)return[,];const[,t,n,a]=e;return[`--${t??n}`,a]}function v3(s,e,t=1){const[n,a]=Gz(s);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const A=o.trim();return PI(A)?parseFloat(A):A}return T2(a)?v3(a,e,t+1):a}function O2(s,e){return(s==null?void 0:s[e])??(s==null?void 0:s.default)??s}const y3=new Set(["width","height","top","left","right","bottom",...Lm]),$z={test:s=>s==="auto",parse:s=>s},b3=s=>e=>e.test(s),w3=[Rm,Ss,JA,Bd,OK,QK,$z],KS=s=>w3.find(b3(s));function Yz(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||HI(s):!0}const Wz=new Set(["brightness","contrast","saturate","opacity"]);function Xz(s){const[e,t]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[n]=t.match(I2)||[];if(!n)return s;const a=t.replace(n,"");let o=Wz.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+a+")"}const Jz=/\b([a-z-]*)\(.*?\)/gu,zb={...Zd,getAnimatableNone:s=>{const e=s.match(Jz);return e?e.map(Xz).join(" "):s}},zS={...Rm,transform:Math.round},qz={rotate:Bd,rotateX:Bd,rotateY:Bd,rotateZ:Bd,scale:Ax,scaleX:Ax,scaleY:Ax,scaleZ:Ax,skew:Bd,skewX:Bd,skewY:Bd,distance:Ss,translateX:Ss,translateY:Ss,translateZ:Ss,x:Ss,y:Ss,z:Ss,perspective:Ss,transformPerspective:Ss,opacity:jg,originX:US,originY:US,originZ:Ss},k2={borderWidth:Ss,borderTopWidth:Ss,borderRightWidth:Ss,borderBottomWidth:Ss,borderLeftWidth:Ss,borderRadius:Ss,radius:Ss,borderTopLeftRadius:Ss,borderTopRightRadius:Ss,borderBottomRightRadius:Ss,borderBottomLeftRadius:Ss,width:Ss,maxWidth:Ss,height:Ss,maxHeight:Ss,top:Ss,right:Ss,bottom:Ss,left:Ss,inset:Ss,insetBlock:Ss,insetBlockStart:Ss,insetBlockEnd:Ss,insetInline:Ss,insetInlineStart:Ss,insetInlineEnd:Ss,padding:Ss,paddingTop:Ss,paddingRight:Ss,paddingBottom:Ss,paddingLeft:Ss,paddingBlock:Ss,paddingBlockStart:Ss,paddingBlockEnd:Ss,paddingInline:Ss,paddingInlineStart:Ss,paddingInlineEnd:Ss,margin:Ss,marginTop:Ss,marginRight:Ss,marginBottom:Ss,marginLeft:Ss,marginBlock:Ss,marginBlockStart:Ss,marginBlockEnd:Ss,marginInline:Ss,marginInlineStart:Ss,marginInlineEnd:Ss,backgroundPositionX:Ss,backgroundPositionY:Ss,...qz,zIndex:zS,fillOpacity:jg,strokeOpacity:jg,numOctaves:zS},Zz={...k2,color:Vi,backgroundColor:Vi,outlineColor:Vi,fill:Vi,stroke:Vi,borderColor:Vi,borderTopColor:Vi,borderRightColor:Vi,borderBottomColor:Vi,borderLeftColor:Vi,filter:zb,WebkitFilter:zb},j3=s=>Zz[s];function B3(s,e){let t=j3(s);return t!==zb&&(t=Zd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const eG=new Set(["auto","none","0"]);function tG(s,e,t){let n=0,a;for(;n<s.length&&!a;){const o=s[n];typeof o=="string"&&!eG.has(o)&&Bg(o).values.length&&(a=s[n]),n++}if(a&&t)for(const o of e)s[o]=B3(t,a)}class sG extends Q2{constructor(e,t,n,a,o){super(e,t,n,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let m=e[c];if(typeof m=="string"&&(m=m.trim(),T2(m))){const x=v3(m,t.current);x!==void 0&&(e[c]=x),c===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!y3.has(n)||e.length!==2)return;const[a,o]=e,A=KS(a),h=KS(o),u=FS(a),f=FS(o);if(u!==f&&Ld[n]){this.needsMeasurement=!0;return}if(A!==h)if(MS(A)&&MS(h))for(let c=0;c<e.length;c++){const m=e[c];typeof m=="string"&&(e[c]=parseFloat(m))}else Ld[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||Yz(e[a]))&&n.push(a);n.length&&tG(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ld[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=n.length-1,A=n[o];n[o]=Ld[t](e.measureViewportBox(),window.getComputedStyle(e.current)),A!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=A),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function nG(s,e,t){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const a=(t==null?void 0:t[s])??n.querySelectorAll(s);return a?Array.from(a):[]}return Array.from(s)}const N3=(s,e)=>e&&typeof s=="number"?e.transform(s):s;function rG(s){return MI(s)&&"offsetHeight"in s}const GS=30,aG=s=>!isNaN(parseFloat(s));class iG{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const a=wl.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const A of this.dependents)A.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=wl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new S2);const n=this.events[e].add(t);return e==="change"?()=>{n(),Ta.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,GS);return VI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bm(s,e){return new iG(s,e)}const{schedule:P2}=e3(queueMicrotask,!1),aA={x:!1,y:!1};function S3(){return aA.x||aA.y}function oG(s){return s==="x"||s==="y"?aA[s]?null:(aA[s]=!0,()=>{aA[s]=!1}):aA.x||aA.y?null:(aA.x=aA.y=!0,()=>{aA.x=aA.y=!1})}function C3(s,e){const t=nG(s),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[t,a,()=>n.abort()]}function $S(s){return!(s.pointerType==="touch"||S3())}function lG(s,e,t={}){const[n,a,o]=C3(s,t),A=h=>{if(!$S(h))return;const{target:u}=h,f=e(u,h);if(typeof f!="function"||!u)return;const c=m=>{$S(m)&&(f(m),u.removeEventListener("pointerleave",c))};u.addEventListener("pointerleave",c,a)};return n.forEach(h=>{h.addEventListener("pointerenter",A,a)}),o}const E3=(s,e)=>e?s===e?!0:E3(s,e.parentElement):!1,M2=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,cG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T3(s){return cG.has(s.tagName)||s.isContentEditable===!0}const _x=new WeakSet;function YS(s){return e=>{e.key==="Enter"&&s(e)}}function U1(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AG=(s,e)=>{const t=s.currentTarget;if(!t)return;const n=YS(()=>{if(_x.has(t))return;U1(t,"down");const a=YS(()=>{U1(t,"up")}),o=()=>U1(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function WS(s){return M2(s)&&!S3()}function uG(s,e,t={}){const[n,a,o]=C3(s,t),A=h=>{const u=h.currentTarget;if(!WS(h))return;_x.add(u);const f=e(u,h),c=(g,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),_x.has(u)&&_x.delete(u),WS(g)&&typeof f=="function"&&f(g,{success:w})},m=g=>{c(g,u===window||u===document||t.useGlobalTarget||E3(u,g.target))},x=g=>{c(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",x,a)};return n.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",A,a),rG(h)&&(h.addEventListener("focus",f=>AG(f,a)),!T3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function I3(s){return MI(s)&&"ownerSVGElement"in s}function dG(s){return I3(s)&&s.tagName==="svg"}const ol=s=>!!(s&&s.getVelocity),hG=[...w3,Vi,Zd],fG=s=>hG.find(b3(s)),_3=J.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function mG(s=!0){const e=J.useContext(b2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:a}=e,o=J.useId();J.useEffect(()=>{if(s)return a(o)},[s]);const A=J.useCallback(()=>s&&n&&n(o),[o,n,s]);return!t&&n?[!1,A]:[!0]}const F3=J.createContext({strict:!1}),XS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wm={};for(const s in XS)wm[s]={isEnabled:e=>XS[s].some(t=>!!e[t])};function pG(s){for(const e in s)wm[e]={...wm[e],...s[e]}}const gG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hv(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||gG.has(s)}let U3=s=>!hv(s);function xG(s){typeof s=="function"&&(U3=e=>e.startsWith("on")?!hv(e):s(e))}try{xG(require("@emotion/is-prop-valid").default)}catch{}function vG(s,e,t){const n={};for(const a in s)a==="values"&&typeof s.values=="object"||(U3(a)||t===!0&&hv(a)||!e&&!hv(a)||s.draggable&&a.startsWith("onDrag"))&&(n[a]=s[a]);return n}const Gv=J.createContext({});function $v(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Ng(s){return typeof s=="string"||Array.isArray(s)}const H2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V2=["initial",...H2];function Yv(s){return $v(s.animate)||V2.some(e=>Ng(s[e]))}function D3(s){return!!(Yv(s)||s.variants)}function yG(s,e){if(Yv(s)){const{initial:t,animate:n}=s;return{initial:t===!1||Ng(t)?t:void 0,animate:Ng(n)?n:void 0}}return s.inherit!==!1?e:{}}function bG(s){const{initial:e,animate:t}=yG(s,J.useContext(Gv));return J.useMemo(()=>({initial:e,animate:t}),[JS(e),JS(t)])}function JS(s){return Array.isArray(s)?s.join(" "):s}function qS(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const Up={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(Ss.test(s))s=parseFloat(s);else return s;const t=qS(s,e.target.x),n=qS(s,e.target.y);return`${t}% ${n}%`}},wG={correct:(s,{treeScale:e,projectionDelta:t})=>{const n=s,a=Zd.parse(s);if(a.length>5)return n;const o=Zd.createTransformer(s),A=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,u=t.y.scale*e.y;a[0+A]/=h,a[1+A]/=u;const f=ti(h,u,.5);return typeof a[2+A]=="number"&&(a[2+A]/=f),typeof a[3+A]=="number"&&(a[3+A]/=f),o(a)}},Gb={borderRadius:{...Up,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Up,borderTopRightRadius:Up,borderBottomLeftRadius:Up,borderBottomRightRadius:Up,boxShadow:wG};function R3(s,{layout:e,layoutId:t}){return Qm.has(s)||s.startsWith("origin")||(e||t!==void 0)&&(!!Gb[s]||s==="opacity")}const jG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BG=Lm.length;function NG(s,e,t){let n="",a=!0;for(let o=0;o<BG;o++){const A=Lm[o],h=s[A];if(h===void 0)continue;let u=!0;if(typeof h=="number"?u=h===(A.startsWith("scale")?1:0):u=parseFloat(h)===0,!u||t){const f=N3(h,k2[A]);if(!u){a=!1;const c=jG[A]||A;n+=`${c}(${f}) `}t&&(e[A]=f)}}return n=n.trim(),t?n=t(e,a?"":n):a&&(n="none"),n}function K2(s,e,t){const{style:n,vars:a,transformOrigin:o}=s;let A=!1,h=!1;for(const u in e){const f=e[u];if(Qm.has(u)){A=!0;continue}else if(s3(u)){a[u]=f;continue}else{const c=N3(f,k2[u]);u.startsWith("origin")?(h=!0,o[u]=c):n[u]=c}}if(e.transform||(A||t?n.transform=NG(e,s.transform,t):n.transform&&(n.transform="none")),h){const{originX:u="50%",originY:f="50%",originZ:c=0}=o;n.transformOrigin=`${u} ${f} ${c}`}}const z2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function L3(s,e,t){for(const n in e)!ol(e[n])&&!R3(n,t)&&(s[n]=e[n])}function SG({transformTemplate:s},e){return J.useMemo(()=>{const t=z2();return K2(t,e,s),Object.assign({},t.vars,t.style)},[e])}function CG(s,e){const t=s.style||{},n={};return L3(n,t,s),Object.assign(n,SG(s,e)),n}function EG(s,e){const t={},n=CG(s,e);return s.drag&&s.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(t.tabIndex=0),t.style=n,t}const TG={offset:"stroke-dashoffset",array:"stroke-dasharray"},IG={offset:"strokeDashoffset",array:"strokeDasharray"};function _G(s,e,t=1,n=0,a=!0){s.pathLength=1;const o=a?TG:IG;s[o.offset]=Ss.transform(-n);const A=Ss.transform(e),h=Ss.transform(t);s[o.array]=`${A} ${h}`}const FG=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Q3(s,{attrX:e,attrY:t,attrScale:n,pathLength:a,pathSpacing:o=1,pathOffset:A=0,...h},u,f,c){if(K2(s,h,f),u){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:m,style:x}=s;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete m.transformBox);for(const g of FG)m[g]!==void 0&&(x[g]=m[g],delete m[g]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),n!==void 0&&(m.scale=n),a!==void 0&&_G(m,a,o,A,!1)}const O3=()=>({...z2(),attrs:{}}),k3=s=>typeof s=="string"&&s.toLowerCase()==="svg";function UG(s,e,t,n){const a=J.useMemo(()=>{const o=O3();return Q3(o,e,k3(n),s.transformTemplate,s.style),{...o.attrs,style:{...o.style}}},[e]);if(s.style){const o={};L3(o,s.style,s),a.style={...o,...a.style}}return a}const DG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G2(s){return typeof s!="string"||s.includes("-")?!1:!!(DG.indexOf(s)>-1||/[A-Z]/u.test(s))}function RG(s,e,t,{latestValues:n},a,o=!1,A){const u=(A??G2(s)?UG:EG)(e,n,a,s),f=vG(e,typeof s=="string",o),c=s!==J.Fragment?{...f,...u,ref:t}:{},{children:m}=e,x=J.useMemo(()=>ol(m)?m.get():m,[m]);return J.createElement(s,{...c,children:x})}function ZS(s){const e=[{},{}];return s==null||s.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function $2(s,e,t,n){if(typeof e=="function"){const[a,o]=ZS(n);e=e(t!==void 0?t:s.custom,a,o)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[a,o]=ZS(n);e=e(t!==void 0?t:s.custom,a,o)}return e}function Fx(s){return ol(s)?s.get():s}function LG({scrapeMotionValuesFromProps:s,createRenderState:e},t,n,a){return{latestValues:QG(t,n,a,s),renderState:e()}}function QG(s,e,t,n){const a={},o=n(s,{});for(const x in o)a[x]=Fx(o[x]);let{initial:A,animate:h}=s;const u=Yv(s),f=D3(s);e&&f&&!u&&s.inherit!==!1&&(A===void 0&&(A=e.initial),h===void 0&&(h=e.animate));let c=t?t.initial===!1:!1;c=c||A===!1;const m=c?h:A;if(m&&typeof m!="boolean"&&!$v(m)){const x=Array.isArray(m)?m:[m];for(let g=0;g<x.length;g++){const w=$2(s,x[g]);if(w){const{transitionEnd:E,transition:B,...C}=w;for(const T in C){let F=C[T];if(Array.isArray(F)){const L=c?F.length-1:0;F=F[L]}F!==null&&(a[T]=F)}for(const T in E)a[T]=E[T]}}}return a}const P3=s=>(e,t)=>{const n=J.useContext(Gv),a=J.useContext(b2),o=()=>LG(s,e,n,a);return t?o():gK(o)};function Y2(s,e,t){var o;const{style:n}=s,a={};for(const A in n)(ol(n[A])||e.style&&ol(e.style[A])||R3(A,s)||((o=t==null?void 0:t.getValue(A))==null?void 0:o.liveStyle)!==void 0)&&(a[A]=n[A]);return a}const OG=P3({scrapeMotionValuesFromProps:Y2,createRenderState:z2});function M3(s,e,t){const n=Y2(s,e,t);for(const a in s)if(ol(s[a])||ol(e[a])){const o=Lm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[o]=s[a]}return n}const kG=P3({scrapeMotionValuesFromProps:M3,createRenderState:O3}),PG=Symbol.for("motionComponentSymbol");function MG(s,e,t){const n=J.useRef(t);J.useInsertionEffect(()=>{n.current=t});const a=J.useRef(null);return J.useCallback(o=>{var h;o&&((h=s.onMount)==null||h.call(s,o)),e&&(o?e.mount(o):e.unmount());const A=n.current;if(typeof A=="function")if(o){const u=A(o);typeof u=="function"&&(a.current=u)}else a.current?(a.current(),a.current=null):A(o);else A&&(A.current=o)},[e])}const W2=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HG="framerAppearId",H3="data-"+W2(HG),V3=J.createContext({});function Hp(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function VG(s,e,t,n,a,o){var B,C;const{visualElement:A}=J.useContext(Gv),h=J.useContext(F3),u=J.useContext(b2),f=J.useContext(_3).reducedMotion,c=J.useRef(null);n=n||h.renderer,!c.current&&n&&(c.current=n(s,{visualState:e,parent:A,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const m=c.current,x=J.useContext(V3);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&KG(c.current,t,a,x);const g=J.useRef(!1);J.useInsertionEffect(()=>{m&&g.current&&m.update(t,u)});const w=t[H3],E=J.useRef(!!w&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,w))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,w)));return xK(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),E.current&&m.animationState&&m.animationState.animateChanges())}),J.useEffect(()=>{m&&(!E.current&&m.animationState&&m.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,w)}),E.current=!1),m.enteringChildren=void 0)}),m}function KG(s,e,t,n){const{layoutId:a,layout:o,drag:A,dragConstraints:h,layoutScroll:u,layoutRoot:f,layoutCrossfade:c}=e;s.projection=new t(s.latestValues,e["data-framer-portal-id"]?void 0:K3(s.parent)),s.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!A||h&&Hp(h),visualElement:s,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:u,layoutRoot:f})}function K3(s){if(s)return s.options.allowProjection!==!1?s.projection:K3(s.parent)}function D1(s,{forwardMotionProps:e=!1,type:t}={},n,a){n&&pG(n);const o=t?t==="svg":G2(s),A=o?kG:OG;function h(f,c){let m;const x={...J.useContext(_3),...f,layoutId:zG(f)},{isStatic:g}=x,w=bG(f),E=A(f,g);if(!g&&y2){GG();const B=$G(x);m=B.MeasureLayout,w.visualElement=VG(s,E,x,a,B.ProjectionNode,o)}return r.jsxs(Gv.Provider,{value:w,children:[m&&w.visualElement?r.jsx(m,{visualElement:w.visualElement,...x}):null,RG(s,f,MG(E,w.visualElement,c),E,g,e,o)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=J.forwardRef(h);return u[PG]=s,u}function zG({layoutId:s}){const e=J.useContext(kI).id;return e&&s!==void 0?e+"-"+s:s}function GG(s,e){J.useContext(F3).strict}function $G(s){const{drag:e,layout:t}=wm;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(s)||t!=null&&t.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function YG(s,e){if(typeof Proxy>"u")return D1;const t=new Map,n=(o,A)=>D1(o,A,s,e),a=(o,A)=>n(o,A);return new Proxy(a,{get:(o,A)=>A==="create"?n:(t.has(A)||t.set(A,D1(A,void 0,s,e)),t.get(A))})}function z3({top:s,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:s,max:n}}}function WG({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function XG(s,e){if(!e)return s;const t=e({x:s.left,y:s.top}),n=e({x:s.right,y:s.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function R1(s){return s===void 0||s===1}function $b({scale:s,scaleX:e,scaleY:t}){return!R1(s)||!R1(e)||!R1(t)}function kh(s){return $b(s)||G3(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function G3(s){return eC(s.x)||eC(s.y)}function eC(s){return s&&s!=="0%"}function fv(s,e,t){const n=s-t,a=e*n;return t+a}function tC(s,e,t,n,a){return a!==void 0&&(s=fv(s,a,n)),fv(s,t,n)+e}function Yb(s,e=0,t=1,n,a){s.min=tC(s.min,e,t,n,a),s.max=tC(s.max,e,t,n,a)}function $3(s,{x:e,y:t}){Yb(s.x,e.translate,e.scale,e.originPoint),Yb(s.y,t.translate,t.scale,t.originPoint)}const sC=.999999999999,nC=1.0000000000001;function JG(s,e,t,n=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,A;for(let h=0;h<a;h++){o=t[h],A=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&em(s,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,$3(s,A)),n&&kh(o.latestValues)&&em(s,o.latestValues))}e.x<nC&&e.x>sC&&(e.x=1),e.y<nC&&e.y>sC&&(e.y=1)}function Zf(s,e){s.min=s.min+e,s.max=s.max+e}function rC(s,e,t,n,a=.5){const o=ti(s.min,s.max,a);Yb(s,e,t,o,n)}function em(s,e){rC(s.x,e.x,e.scaleX,e.scale,e.originX),rC(s.y,e.y,e.scaleY,e.scale,e.originY)}function Y3(s,e){return z3(XG(s.getBoundingClientRect(),e))}function qG(s,e,t){const n=Y3(s,t),{scroll:a}=e;return a&&(Zf(n.x,a.offset.x),Zf(n.y,a.offset.y)),n}const aC=()=>({translate:0,scale:1,origin:0,originPoint:0}),tm=()=>({x:aC(),y:aC()}),iC=()=>({min:0,max:0}),ro=()=>({x:iC(),y:iC()}),Wb={current:null},W3={current:!1};function ZG(){if(W3.current=!0,!!y2)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wb.current=s.matches;s.addEventListener("change",e),e()}else Wb.current=!1}const e$=new WeakMap;function t$(s,e,t){for(const n in e){const a=e[n],o=t[n];if(ol(a))s.addValue(n,a);else if(ol(o))s.addValue(n,bm(a,{owner:s}));else if(o!==a)if(s.hasValue(n)){const A=s.getValue(n);A.liveStyle===!0?A.jump(a):A.hasAnimated||A.set(a)}else{const A=s.getStaticValue(n);s.addValue(n,bm(A!==void 0?A:a,{owner:s}))}}for(const n in t)e[n]===void 0&&s.removeValue(n);return e}const oC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s${scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:o,visualState:A},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=wl.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ta.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=A;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Yv(t),this.isVariantNode=D3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in m){const g=m[x];u[x]!==void 0&&ol(g)&&g.set(u[x])}}mount(e){var t;this.current=e,e$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(W3.current||ZG(),this.shouldReduceMotion=Wb.current),(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),qd(this.notifyUpdate),qd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Qm.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",A=>{this.latestValues[e]=A,this.props.onUpdate&&Ta.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wm){const t=wm[e];if(!t)continue;const{isEnabled:n,Feature:a}=t;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ro()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<oC.length;n++){const a=oC[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,A=e[o];A&&(this.propEventSubscriptions[a]=this.on(a,A))}this.prevMotionValues=t$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=bm(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(PI(n)||HI(n))?n=parseFloat(n):!fG(n)&&Zd.test(t)&&(n=B3(e,t)),this.setBaseTarget(e,ol(n)?n.get():n)),ol(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const A=$2(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);A&&(n=A[e])}if(t&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ol(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new S2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){P2.render(this.render)}}class X3 extends s${constructor(){super(...arguments),this.KeyframeResolver=sG}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ol(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function J3(s,{style:e,vars:t},n,a){const o=s.style;let A;for(A in e)o[A]=e[A];a==null||a.applyProjectionStyles(o,n);for(A in t)o.setProperty(A,t[A])}function n$(s){return window.getComputedStyle(s)}class r$ extends X3{constructor(){super(...arguments),this.type="html",this.renderInstance=J3}readValueFromInstance(e,t){var n;if(Qm.has(t))return(n=this.projection)!=null&&n.isProjecting?kb(t):bz(e,t);{const a=n$(e),o=(s3(t)?a.getPropertyValue(t):a[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Y3(e,t)}build(e,t,n){K2(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Y2(e,t,n)}}const q3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a$(s,e,t,n){J3(s,e,void 0,n);for(const a in e.attrs)s.setAttribute(q3.has(a)?a:W2(a),e.attrs[a])}class i$ extends X3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ro}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Qm.has(t)){const n=j3(t);return n&&n.default||0}return t=q3.has(t)?t:W2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return M3(e,t,n)}build(e,t,n){Q3(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,a){a$(e,t,n,a)}mount(e){this.isSVGTag=k3(e.tagName),super.mount(e)}}const o$=(s,e)=>e.isSVG??G2(s)?new i$(e):new r$(e,{allowProjection:s!==J.Fragment});function lm(s,e,t){const n=s.getProps();return $2(n,e,t!==void 0?t:n.custom,s)}const Xb=s=>Array.isArray(s);function l$(s,e,t){s.hasValue(e)?s.getValue(e).set(t):s.addValue(e,bm(t))}function c$(s){return Xb(s)?s[s.length-1]||0:s}function A$(s,e){const t=lm(s,e);let{transitionEnd:n={},transition:a={},...o}=t||{};o={...o,...n};for(const A in o){const h=c$(o[A]);l$(s,A,h)}}function u$(s){return!!(ol(s)&&s.add)}function Jb(s,e){const t=s.getValue("willChange");if(u$(t))return t.add(e);if(!t&&Uu.WillChange){const n=new Uu.WillChange("auto");s.addValue("willChange",n),n.add(e)}}function Z3(s){return s.props[H3]}const d$=s=>s!==null;function h$(s,{repeat:e,repeatType:t="loop"},n){const a=s.filter(d$),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}const f$={type:"spring",stiffness:500,damping:25,restSpeed:10},m$=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),p$={type:"keyframes",duration:.8},g$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},x$=(s,{keyframes:e})=>e.length>2?p$:Qm.has(s)?s.startsWith("scale")?m$(e[1]):f$:g$;function v$({when:s,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:A,repeatDelay:h,from:u,elapsed:f,...c}){return!!Object.keys(c).length}const X2=(s,e,t,n={},a,o)=>A=>{const h=O2(n,s)||{},u=h.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Cu(u);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{A(),h.onComplete&&h.onComplete()},name:s,motionValue:e,element:o?void 0:a};v$(h)||Object.assign(c,x$(s,c)),c.duration&&(c.duration=Cu(c.duration)),c.repeatDelay&&(c.repeatDelay=Cu(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let m=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Kb(c),c.delay===0&&(m=!0)),(Uu.instantAnimations||Uu.skipAnimations)&&(m=!0,Kb(c),c.delay=0),c.allowFlatten=!h.type&&!h.ease,m&&!o&&e.get()!==void 0){const x=h$(c.keyframes,h);if(x!==void 0){Ta.update(()=>{c.onUpdate(x),c.onComplete()});return}}return h.isSync?new L2(c):new Kz(c)};function y$({protectedKeys:s,needsAnimating:e},t){const n=s.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function e_(s,e,{delay:t=0,transitionOverride:n,type:a}={}){let{transition:o=s.getDefaultTransition(),transitionEnd:A,...h}=e;n&&(o=n);const u=[],f=a&&s.animationState&&s.animationState.getState()[a];for(const c in h){const m=s.getValue(c,s.latestValues[c]??null),x=h[c];if(x===void 0||f&&y$(f,c))continue;const g={delay:t,...O2(o||{},c)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===w&&!g.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const C=Z3(s);if(C){const T=window.MotionHandoffAnimation(C,c,Ta);T!==null&&(g.startTime=T,E=!0)}}Jb(s,c),m.start(X2(c,m,x,s.shouldReduceMotion&&y3.has(c)?{type:!1}:g,s,E));const B=m.animation;B&&u.push(B)}return A&&Promise.all(u).then(()=>{Ta.update(()=>{A&&A$(s,A)})}),u}function t_(s,e,t,n=0,a=1){const o=Array.from(s).sort((f,c)=>f.sortNodePosition(c)).indexOf(e),A=s.size,h=(A-1)*n;return typeof t=="function"?t(o,A):a===1?o*n:h-o*n}function qb(s,e,t={}){var u;const n=lm(s,e,t.type==="exit"?(u=s.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=s.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(a=t.transitionOverride);const o=n?()=>Promise.all(e_(s,n,t)):()=>Promise.resolve(),A=s.variantChildren&&s.variantChildren.size?(f=0)=>{const{delayChildren:c=0,staggerChildren:m,staggerDirection:x}=a;return b$(s,e,f,c,m,x,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,c]=h==="beforeChildren"?[o,A]:[A,o];return f().then(()=>c())}else return Promise.all([o(),A(t.delay)])}function b$(s,e,t=0,n=0,a=0,o=1,A){const h=[];for(const u of s.variantChildren)u.notify("AnimationStart",e),h.push(qb(u,e,{...A,delay:t+(typeof n=="function"?0:n)+t_(s.variantChildren,u,n,a,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(h)}function w$(s,e,t={}){s.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(o=>qb(s,o,t));n=Promise.all(a)}else if(typeof e=="string")n=qb(s,e,t);else{const a=typeof e=="function"?lm(s,e,t.custom):e;n=Promise.all(e_(s,a,t))}return n.then(()=>{s.notify("AnimationComplete",e)})}function s_(s,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==s.length)return!1;for(let n=0;n<t;n++)if(e[n]!==s[n])return!1;return!0}const j$=V2.length;function n_(s){if(!s)return;if(!s.isControllingVariants){const t=s.parent?n_(s.parent)||{}:{};return s.props.initial!==void 0&&(t.initial=s.props.initial),t}const e={};for(let t=0;t<j$;t++){const n=V2[t],a=s.props[n];(Ng(a)||a===!1)&&(e[n]=a)}return e}const B$=[...H2].reverse(),N$=H2.length;function S$(s){return e=>Promise.all(e.map(({animation:t,options:n})=>w$(s,t,n)))}function C$(s){let e=S$(s),t=lC(),n=!0;const a=u=>(f,c)=>{var x;const m=lm(s,c,u==="exit"?(x=s.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:g,transitionEnd:w,...E}=m;f={...f,...E,...w}}return f};function o(u){e=u(s)}function A(u){const{props:f}=s,c=n_(s.parent)||{},m=[],x=new Set;let g={},w=1/0;for(let B=0;B<N$;B++){const C=B$[B],T=t[C],F=f[C]!==void 0?f[C]:c[C],L=Ng(F),k=C===u?T.isActive:null;k===!1&&(w=B);let M=F===c[C]&&F!==f[C]&&L;if(M&&n&&s.manuallyAnimateOnMount&&(M=!1),T.protectedKeys={...g},!T.isActive&&k===null||!F&&!T.prevProp||$v(F)||typeof F=="boolean")continue;const Q=E$(T.prevProp,F);let D=Q||C===u&&T.isActive&&!M&&L||B>w&&L,R=!1;const V=Array.isArray(F)?F:[F];let O=V.reduce(a(C),{});k===!1&&(O={});const{prevResolvedValues:H={}}=T,G={...H,...O},ae=le=>{D=!0,x.has(le)&&(R=!0,x.delete(le)),T.needsAnimating[le]=!0;const X=s.getValue(le);X&&(X.liveStyle=!1)};for(const le in G){const X=O[le],ne=H[le];if(g.hasOwnProperty(le))continue;let re=!1;Xb(X)&&Xb(ne)?re=!s_(X,ne):re=X!==ne,re?X!=null?ae(le):x.add(le):X!==void 0&&x.has(le)?ae(le):T.protectedKeys[le]=!0}T.prevProp=F,T.prevResolvedValues=O,T.isActive&&(g={...g,...O}),n&&s.blockInitialAnimation&&(D=!1);const Ae=M&&Q;D&&(!Ae||R)&&m.push(...V.map(le=>{const X={type:C};if(typeof le=="string"&&n&&!Ae&&s.manuallyAnimateOnMount&&s.parent){const{parent:ne}=s,re=lm(ne,le);if(ne.enteringChildren&&re){const{delayChildren:W}=re.transition||{};X.delay=t_(ne.enteringChildren,s,W)}}return{animation:le,options:X}}))}if(x.size){const B={};if(typeof f.initial!="boolean"){const C=lm(s,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(B.transition=C.transition)}x.forEach(C=>{const T=s.getBaseTarget(C),F=s.getValue(C);F&&(F.liveStyle=!0),B[C]=T??null}),m.push({animation:B})}let E=!!m.length;return n&&(f.initial===!1||f.initial===f.animate)&&!s.manuallyAnimateOnMount&&(E=!1),n=!1,E?e(m):Promise.resolve()}function h(u,f){var m;if(t[u].isActive===f)return Promise.resolve();(m=s.variantChildren)==null||m.forEach(x=>{var g;return(g=x.animationState)==null?void 0:g.setActive(u,f)}),t[u].isActive=f;const c=A(u);for(const x in t)t[x].protectedKeys={};return c}return{animateChanges:A,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=lC()}}}function E$(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!s_(e,s):!1}function Lh(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lC(){return{animate:Lh(!0),whileInView:Lh(),whileHover:Lh(),whileTap:Lh(),whileDrag:Lh(),whileFocus:Lh(),exit:Lh()}}class rh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class T$ extends rh{constructor(e){super(e),e.animationState||(e.animationState=C$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$v(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let I$=0;class _$ extends rh{constructor(){super(...arguments),this.id=I$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const F$={animation:{Feature:T$},exit:{Feature:_$}};function Sg(s,e,t,n={passive:!0}){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t)}function Xg(s){return{point:{x:s.pageX,y:s.pageY}}}const U$=s=>e=>M2(e)&&s(e,Xg(e));function ag(s,e,t,n){return Sg(s,e,U$(t),n)}const r_=1e-4,D$=1-r_,R$=1+r_,a_=.01,L$=0-a_,Q$=0+a_;function jl(s){return s.max-s.min}function O$(s,e,t){return Math.abs(s-e)<=t}function cC(s,e,t,n=.5){s.origin=n,s.originPoint=ti(e.min,e.max,s.origin),s.scale=jl(t)/jl(e),s.translate=ti(t.min,t.max,s.origin)-s.originPoint,(s.scale>=D$&&s.scale<=R$||isNaN(s.scale))&&(s.scale=1),(s.translate>=L$&&s.translate<=Q$||isNaN(s.translate))&&(s.translate=0)}function ig(s,e,t,n){cC(s.x,e.x,t.x,n?n.originX:void 0),cC(s.y,e.y,t.y,n?n.originY:void 0)}function AC(s,e,t){s.min=t.min+e.min,s.max=s.min+jl(e)}function k$(s,e,t){AC(s.x,e.x,t.x),AC(s.y,e.y,t.y)}function uC(s,e,t){s.min=e.min-t.min,s.max=s.min+jl(e)}function mv(s,e,t){uC(s.x,e.x,t.x),uC(s.y,e.y,t.y)}function Ic(s){return[s("x"),s("y")]}const i_=({current:s})=>s?s.ownerDocument.defaultView:null,dC=(s,e)=>Math.abs(s-e);function P$(s,e){const t=dC(s.x,e.x),n=dC(s.y,e.y);return Math.sqrt(t**2+n**2)}const hC=new Set(["auto","scroll"]);class o_{constructor(e,t,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:A=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Q1(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=P$(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!E)return;const{point:B}=g,{timestamp:C}=Bo;this.history.push({...B,timestamp:C});const{onStart:T,onMove:F}=this.handlers;w||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=L1(w,this.transformPagePoint),Ta.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:E,onSessionEnd:B,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Q1(g.type==="pointercancel"?this.lastMoveEventInfo:L1(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,T),B&&B(g,T)},!M2(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=A,this.contextWindow=a||window;const u=Xg(e),f=L1(u,this.transformPagePoint),{point:c}=f,{timestamp:m}=Bo;this.history=[{...c,timestamp:m}];const{onSessionStart:x}=t;x&&x(e,Q1(f,this.history)),this.removeListeners=$g(ag(this.contextWindow,"pointermove",this.handlePointerMove),ag(this.contextWindow,"pointerup",this.handlePointerUp),ag(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const n=getComputedStyle(t);(hC.has(n.overflowX)||hC.has(n.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),Ta.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),qd(this.updatePoint)}}function L1(s,e){return e?{point:e(s.point)}:s}function fC(s,e){return{x:s.x-e.x,y:s.y-e.y}}function Q1({point:s},e){return{point:s,delta:fC(s,l_(e)),offset:fC(s,M$(e)),velocity:H$(e,.1)}}function M$(s){return s[0]}function l_(s){return s[s.length-1]}function H$(s,e){if(s.length<2)return{x:0,y:0};let t=s.length-1,n=null;const a=l_(s);for(;t>=0&&(n=s[t],!(a.timestamp-n.timestamp>Cu(e)));)t--;if(!n)return{x:0,y:0};const o=Uc(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const A={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}function V$(s,{min:e,max:t},n){return e!==void 0&&s<e?s=n?ti(e,s,n.min):Math.max(s,e):t!==void 0&&s>t&&(s=n?ti(t,s,n.max):Math.min(s,t)),s}function mC(s,e,t){return{min:e!==void 0?s.min+e:void 0,max:t!==void 0?s.max+t-(s.max-s.min):void 0}}function K$(s,{top:e,left:t,bottom:n,right:a}){return{x:mC(s.x,t,a),y:mC(s.y,e,n)}}function pC(s,e){let t=e.min-s.min,n=e.max-s.max;return e.max-e.min<s.max-s.min&&([t,n]=[n,t]),{min:t,max:n}}function z$(s,e){return{x:pC(s.x,e.x),y:pC(s.y,e.y)}}function G$(s,e){let t=.5;const n=jl(s),a=jl(e);return a>n?t=wg(e.min,e.max-n,s.min):n>a&&(t=wg(s.min,s.max-a,e.min)),eu(0,1,t)}function $$(s,e){const t={};return e.min!==void 0&&(t.min=e.min-s.min),e.max!==void 0&&(t.max=e.max-s.min),t}const Zb=.35;function Y$(s=Zb){return s===!1?s=0:s===!0&&(s=Zb),{x:gC(s,"left","right"),y:gC(s,"top","bottom")}}function gC(s,e,t){return{min:xC(s,e),max:xC(s,t)}}function xC(s,e){return typeof s=="number"?s:s[e]||0}const W$=new WeakMap;class X${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ro(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{t?(this.stopAnimation(),this.snapToCursor(Xg(m).point)):this.pauseAnimation()},A=(m,x)=>{this.stopAnimation();const{drag:g,dragPropagation:w,onDragStart:E}=this.getProps();if(g&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oG(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ic(C=>{let T=this.getAxisMotionValue(C).get()||0;if(JA.test(T)){const{projection:F}=this.visualElement;if(F&&F.layout){const L=F.layout.layoutBox[C];L&&(T=jl(L)*(parseFloat(T)/100))}}this.originPoint[C]=T}),E&&Ta.postRender(()=>E(m,x)),Jb(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},h=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:g,dragDirectionLock:w,onDirectionLock:E,onDrag:B}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:C}=x;if(w&&this.currentDirection===null){this.currentDirection=J$(C),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),B&&B(m,x)},u=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ic(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)==null?void 0:x.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new o_(e,{onSessionStart:o,onStart:A,onMove:h,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:i_(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!n)return;const{velocity:A}=a;this.startAnimation(A);const{onDragEnd:h}=this.getProps();h&&Ta.postRender(()=>h(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:a}=this.getProps();if(!n||!ux(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let A=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(A=V$(A,this.constraints[e],this.elastic[e])),o.set(A)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&Hp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=K$(n.layoutBox,e):this.constraints=!1,this.elastic=Y$(t),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ic(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=$$(n.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Hp(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=qG(n,a.root,this.visualElement.getTransformPagePoint());let A=z$(a.layout.layoutBox,o);if(t){const h=t(WG(A));this.hasMutatedConstraints=!!h,h&&(A=z3(h))}return A}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:A,onDragTransitionEnd:h}=this.getProps(),u=this.constraints||{},f=Ic(c=>{if(!ux(c,t,this.currentDirection))return;let m=u&&u[c]||{};A&&(m={min:0,max:0});const x=a?200:1e6,g=a?40:1e7,w={type:"inertia",velocity:n?e[c]:0,bounceStiffness:x,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(c,w)});return Promise.all(f).then(h)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Jb(this.visualElement,e),n.start(X2(e,n,0,t,this.visualElement,!1))}stopAnimation(){Ic(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ic(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[t];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ic(t=>{const{drag:n}=this.getProps();if(!ux(t,n,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:A,max:h}=a.layout.layoutBox[t],u=o.get()||0;o.set(e[t]-ti(A,h,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Hp(t)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ic(A=>{const h=this.getAxisMotionValue(A);if(h&&this.constraints!==!1){const u=h.get();a[A]=G$({min:u,max:u},this.constraints[A])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ic(A=>{if(!ux(A,e,null))return;const h=this.getAxisMotionValue(A),{min:u,max:f}=this.constraints[A];h.set(ti(u,f,a[A]))})}addListeners(){if(!this.visualElement.current)return;W$.set(this.visualElement,this);const e=this.visualElement.current,t=ag(e,"pointerdown",u=>{const{drag:f,dragListener:c=!0}=this.getProps();f&&c&&!T3(u.target)&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Hp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ta.read(n);const A=Sg(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ic(c=>{const m=this.getAxisMotionValue(c);m&&(this.originPoint[c]+=u[c].translate,m.set(m.get()+u[c].translate))}),this.visualElement.render())}));return()=>{A(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:A=Zb,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:A,dragMomentum:h}}}function ux(s,e,t){return(e===!0||e===s)&&(t===null||t===s)}function J$(s,e=10){let t=null;return Math.abs(s.y)>e?t="y":Math.abs(s.x)>e&&(t="x"),t}class q$ extends rh{constructor(e){super(e),this.removeGroupControls=Qc,this.removeListeners=Qc,this.controls=new X$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qc}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const vC=s=>(e,t)=>{s&&Ta.postRender(()=>s(e,t))};class Z$ extends rh{constructor(){super(...arguments),this.removePointerDownListener=Qc}onPointerDown(e){this.session=new o_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:vC(e),onStart:vC(t),onMove:n,onEnd:(o,A)=>{delete this.session,a&&Ta.postRender(()=>a(o,A))}}}mount(){this.removePointerDownListener=ag(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ux={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let O1=!1;class eY extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),n&&n.register&&a&&n.register(o),O1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ux.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:a,isPresent:o}=this.props,{projection:A}=n;return A&&(A.isPresent=o,O1=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?A.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?A.promote():A.relegate()||Ta.postRender(()=>{const h=A.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),P2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:a}=e;O1=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function c_(s){const[e,t]=mG(),n=J.useContext(kI);return r.jsx(eY,{...s,layoutGroup:n,switchLayoutGroup:J.useContext(V3),isPresent:e,safeToRemove:t})}function tY(s,e,t){const n=ol(s)?s:bm(s);return n.start(X2("",n,e,t)),n.animation}const sY=(s,e)=>s.depth-e.depth;class nY{constructor(){this.children=[],this.isDirty=!1}add(e){w2(this.children,e),this.isDirty=!0}remove(e){j2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sY),this.isDirty=!1,this.children.forEach(e)}}function rY(s,e){const t=wl.now(),n=({timestamp:a})=>{const o=a-t;o>=e&&(qd(n),s(o-e))};return Ta.setup(n,!0),()=>qd(n)}const A_=["TopLeft","TopRight","BottomLeft","BottomRight"],aY=A_.length,yC=s=>typeof s=="string"?parseFloat(s):s,bC=s=>typeof s=="number"||Ss.test(s);function iY(s,e,t,n,a,o){a?(s.opacity=ti(0,t.opacity??1,oY(n)),s.opacityExit=ti(e.opacity??1,0,lY(n))):o&&(s.opacity=ti(e.opacity??1,t.opacity??1,n));for(let A=0;A<aY;A++){const h=`border${A_[A]}Radius`;let u=wC(e,h),f=wC(t,h);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||bC(u)===bC(f)?(s[h]=Math.max(ti(yC(u),yC(f),n),0),(JA.test(f)||JA.test(u))&&(s[h]+="%")):s[h]=f}(e.rotate||t.rotate)&&(s.rotate=ti(e.rotate||0,t.rotate||0,n))}function wC(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const oY=u_(0,.5,XI),lY=u_(.5,.95,Qc);function u_(s,e,t){return n=>n<s?0:n>e?1:t(wg(s,e,n))}function jC(s,e){s.min=e.min,s.max=e.max}function rA(s,e){jC(s.x,e.x),jC(s.y,e.y)}function BC(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function NC(s,e,t,n,a){return s-=e,s=fv(s,1/t,n),a!==void 0&&(s=fv(s,1/a,n)),s}function cY(s,e=0,t=1,n=.5,a,o=s,A=s){if(JA.test(e)&&(e=parseFloat(e),e=ti(A.min,A.max,e/100)-A.min),typeof e!="number")return;let h=ti(o.min,o.max,n);s===o&&(h-=e),s.min=NC(s.min,e,t,h,a),s.max=NC(s.max,e,t,h,a)}function SC(s,e,[t,n,a],o,A){cY(s,e[t],e[n],e[a],e.scale,o,A)}const AY=["x","scaleX","originX"],uY=["y","scaleY","originY"];function CC(s,e,t,n){SC(s.x,e,AY,t?t.x:void 0,n?n.x:void 0),SC(s.y,e,uY,t?t.y:void 0,n?n.y:void 0)}function EC(s){return s.translate===0&&s.scale===1}function d_(s){return EC(s.x)&&EC(s.y)}function TC(s,e){return s.min===e.min&&s.max===e.max}function dY(s,e){return TC(s.x,e.x)&&TC(s.y,e.y)}function IC(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function h_(s,e){return IC(s.x,e.x)&&IC(s.y,e.y)}function _C(s){return jl(s.x)/jl(s.y)}function FC(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class hY{constructor(){this.members=[]}add(e){w2(this.members,e),e.scheduleRender()}remove(e){if(j2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let n;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fY(s,e,t){let n="";const a=s.x.translate/e.x,o=s.y.translate/e.y,A=(t==null?void 0:t.z)||0;if((a||o||A)&&(n=`translate3d(${a}px, ${o}px, ${A}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:c,rotateX:m,rotateY:x,skewX:g,skewY:w}=t;f&&(n=`perspective(${f}px) ${n}`),c&&(n+=`rotate(${c}deg) `),m&&(n+=`rotateX(${m}deg) `),x&&(n+=`rotateY(${x}deg) `),g&&(n+=`skewX(${g}deg) `),w&&(n+=`skewY(${w}deg) `)}const h=s.x.scale*e.x,u=s.y.scale*e.y;return(h!==1||u!==1)&&(n+=`scale(${h}, ${u})`),n||"none"}const k1=["","X","Y","Z"],mY=1e3;let pY=0;function P1(s,e,t,n){const{latestValues:a}=e;a[s]&&(t[s]=a[s],e.setStaticValue(s,0),n&&(n[s]=0))}function f_(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const t=Z3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=s.options;window.MotionCancelOptimisedAnimation(t,"transform",Ta,!(a||o))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&f_(n)}function m_({attachResizeListener:s,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(A={},h=e==null?void 0:e()){this.id=pY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vY),this.nodes.forEach(jY),this.nodes.forEach(BY),this.nodes.forEach(yY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new nY)}addEventListener(A,h){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new S2),this.eventHandlers.get(A).add(h)}notifyListeners(A,...h){const u=this.eventHandlers.get(A);u&&u.notify(...h)}hasListeners(A){return this.eventHandlers.has(A)}mount(A){if(this.instance)return;this.isSVG=I3(A)&&!dG(A),this.instance=A;const{layoutId:h,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||h)&&(this.isLayoutDirty=!0),s){let c,m=0;const x=()=>this.root.updateBlockedByResize=!1;Ta.read(()=>{m=window.innerWidth}),s(A,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,c&&c(),c=rY(x,250),Ux.hasAnimatedSinceResize&&(Ux.hasAnimatedSinceResize=!1,this.nodes.forEach(RC)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||TY,{onLayoutAnimationStart:E,onLayoutAnimationComplete:B}=f.getProps(),C=!this.targetLayout||!h_(this.targetLayout,g),T=!m&&x;if(this.options.layoutRoot||this.resumeFrom||T||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...O2(w,"layout"),onPlay:E,onComplete:B};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(c,T)}else m||RC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NY),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&f_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const m=this.path[c];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:h,layout:u}=this.options;if(h===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wY),this.nodes.forEach(gY),this.nodes.forEach(xY)):this.nodes.forEach(DC),this.clearAllSnapshots();const h=wl.now();Bo.delta=eu(0,1e3/60,h-Bo.timestamp),Bo.timestamp=h,Bo.isProcessing=!0,C1.update.process(Bo),C1.preRender.process(Bo),C1.render.process(Bo),Bo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bY),this.sharedNodes.forEach(SY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ta.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ta.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jl(this.snapshot.measuredBox.x)&&!jl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ro(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(h=!1),h&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!d_(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,c=f!==this.prevTransformTemplateValue;A&&this.instance&&(h||kh(this.latestValues)||c)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const h=this.measurePageBox();let u=this.removeElementScroll(h);return A&&(u=this.removeTransform(u)),IY(u),{animationId:this.root.animationId,measuredBox:h,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:A}=this.options;if(!A)return ro();const h=A.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(_Y))){const{scroll:c}=this.root;c&&(Zf(h.x,c.offset.x),Zf(h.y,c.offset.y))}return h}removeElementScroll(A){var u;const h=ro();if(rA(h,A),(u=this.scroll)!=null&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const c=this.path[f],{scroll:m,options:x}=c;c!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&rA(h,A),Zf(h.x,m.offset.x),Zf(h.y,m.offset.y))}return h}applyTransform(A,h=!1){const u=ro();rA(u,A);for(let f=0;f<this.path.length;f++){const c=this.path[f];!h&&c.options.layoutScroll&&c.scroll&&c!==c.root&&em(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),kh(c.latestValues)&&em(u,c.latestValues)}return kh(this.latestValues)&&em(u,this.latestValues),u}removeTransform(A){const h=ro();rA(h,A);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!kh(f.latestValues))continue;$b(f.latestValues)&&f.updateSnapshot();const c=ro(),m=f.measurePageBox();rA(c,m),CC(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,c)}return kh(this.latestValues)&&CC(h,this.latestValues),h}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==h;if(!(A||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:m}=this.options;if(!this.layout||!(c||m))return;this.resolvedRelativeTargetAt=Bo.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ro(),this.targetWithTransforms=ro()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),k$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rA(this.target,this.layout.layoutBox),$3(this.target,this.targetDelta)):rA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$b(this.parent.latestValues)||G3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(A,h,u){this.relativeParent=A,this.linkedParentVersion=A.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),mv(this.relativeTargetOrigin,h,u),rA(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const A=this.getLead(),h=!!this.resumingFrom||this!==A;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bo.timestamp&&(u=!1),u)return;const{layout:f,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||c))return;rA(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;JG(this.layoutCorrected,this.treeScale,this.path,h),A.layout&&!A.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(A.target=A.layout.layoutBox,A.targetWithTransforms=ro());const{target:g}=A;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BC(this.prevProjectionDelta.x,this.projectionDelta.x),BC(this.prevProjectionDelta.y,this.projectionDelta.y)),ig(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!FC(this.projectionDelta.x,this.prevProjectionDelta.x)||!FC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),A){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tm(),this.projectionDelta=tm(),this.projectionDeltaWithTransform=tm()}setAnimationOrigin(A,h=!1){const u=this.snapshot,f=u?u.latestValues:{},c={...this.latestValues},m=tm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=ro(),g=u?u.source:void 0,w=this.layout?this.layout.source:void 0,E=g!==w,B=this.getStack(),C=!B||B.members.length<=1,T=!!(E&&!C&&this.options.crossfade===!0&&!this.path.some(EY));this.animationProgress=0;let F;this.mixTargetDelta=L=>{const k=L/1e3;LC(m.x,A.x,k),LC(m.y,A.y,k),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mv(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CY(this.relativeTarget,this.relativeTargetOrigin,x,k),F&&dY(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=ro()),rA(F,this.relativeTarget)),E&&(this.animationValues=c,iY(c,f,this.latestValues,k,T,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){var h,u,f;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&(qd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ta.update(()=>{Ux.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bm(0)),this.currentAnimation=tY(this.motionValue,[0,1e3],{...A,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),A.onUpdate&&A.onUpdate(c)},onStop:()=>{},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:h,target:u,layout:f,latestValues:c}=A;if(!(!h||!u||!f)){if(this!==A&&this.layout&&f&&p_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||ro();const m=jl(this.layout.layoutBox.x);u.x.min=A.target.x.min,u.x.max=u.x.min+m;const x=jl(this.layout.layoutBox.y);u.y.min=A.target.y.min,u.y.max=u.y.min+x}rA(h,u),em(h,c),ig(this.projectionDeltaWithTransform,this.layoutCorrected,h,c)}}registerSharedNode(A,h){this.sharedNodes.has(A)||this.sharedNodes.set(A,new hY),this.sharedNodes.get(A).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var h;const{layoutId:A}=this.options;return A?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:A}=this.options;return A?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:h,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),A&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let h=!1;const{latestValues:u}=A;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(h=!0),!h)return;const f={};u.z&&P1("z",A,f,this.animationValues);for(let c=0;c<k1.length;c++)P1(`rotate${k1[c]}`,A,f,this.animationValues),P1(`skew${k1[c]}`,A,f,this.animationValues);A.render();for(const c in f)A.setStaticValue(c,f[c]),this.animationValues&&(this.animationValues[c]=f[c]);A.scheduleRender()}applyProjectionStyles(A,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){A.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,A.visibility="",A.opacity="",A.pointerEvents=Fx(h==null?void 0:h.pointerEvents)||"",A.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Fx(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!kh(this.latestValues)&&(A.transform=u?u({},""):"none",this.hasProjected=!1);return}A.visibility="";const c=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=fY(this.projectionDeltaWithTransform,this.treeScale,c);u&&(m=u(c,m)),A.transform=m;const{x,y:g}=this.projectionDelta;A.transformOrigin=`${x.origin*100}% ${g.origin*100}% 0`,f.animationValues?A.opacity=f===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:A.opacity=f===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in Gb){if(c[w]===void 0)continue;const{correct:E,applyTo:B,isCSSVariable:C}=Gb[w],T=m==="none"?c[w]:E(c[w],f);if(B){const F=B.length;for(let L=0;L<F;L++)A[B[L]]=T}else C?this.options.visualElement.renderState.vars[w]=T:A[w]=T}this.options.layoutId&&(A.pointerEvents=f===this?Fx(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var h;return(h=A.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(UC),this.root.sharedNodes.clear()}}}function gY(s){s.updateLayout()}function xY(s){var t;const e=((t=s.resumeFrom)==null?void 0:t.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=s.layout,{animationType:o}=s.options,A=e.source!==s.layout.source;o==="size"?Ic(m=>{const x=A?e.measuredBox[m]:e.layoutBox[m],g=jl(x);x.min=n[m].min,x.max=x.min+g}):p_(o,e.layoutBox,n)&&Ic(m=>{const x=A?e.measuredBox[m]:e.layoutBox[m],g=jl(n[m]);x.max=x.min+g,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[m].max=s.relativeTarget[m].min+g)});const h=tm();ig(h,n,e.layoutBox);const u=tm();A?ig(u,s.applyTransform(a,!0),e.measuredBox):ig(u,n,e.layoutBox);const f=!d_(h);let c=!1;if(!s.resumeFrom){const m=s.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:g}=m;if(x&&g){const w=ro();mv(w,e.layoutBox,x.layoutBox);const E=ro();mv(E,n,g.layoutBox),h_(w,E)||(c=!0),m.options.layoutRoot&&(s.relativeTarget=E,s.relativeTargetOrigin=w,s.relativeParent=m)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:c})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function vY(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function yY(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function bY(s){s.clearSnapshot()}function UC(s){s.clearMeasurements()}function DC(s){s.isLayoutDirty=!1}function wY(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function RC(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function jY(s){s.resolveTargetDelta()}function BY(s){s.calcProjection()}function NY(s){s.resetSkewAndRotation()}function SY(s){s.removeLeadSnapshot()}function LC(s,e,t){s.translate=ti(e.translate,0,t),s.scale=ti(e.scale,1,t),s.origin=e.origin,s.originPoint=e.originPoint}function QC(s,e,t,n){s.min=ti(e.min,t.min,n),s.max=ti(e.max,t.max,n)}function CY(s,e,t,n){QC(s.x,e.x,t.x,n),QC(s.y,e.y,t.y,n)}function EY(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const TY={duration:.45,ease:[.4,0,.1,1]},OC=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),kC=OC("applewebkit/")&&!OC("chrome/")?Math.round:Qc;function PC(s){s.min=kC(s.min),s.max=kC(s.max)}function IY(s){PC(s.x),PC(s.y)}function p_(s,e,t){return s==="position"||s==="preserve-aspect"&&!O$(_C(e),_C(t),.2)}function _Y(s){var e;return s!==s.root&&((e=s.scroll)==null?void 0:e.wasRoot)}const FY=m_({attachResizeListener:(s,e)=>Sg(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),M1={current:void 0},g_=m_({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!M1.current){const s=new FY({});s.mount(window),s.setOptions({layoutScroll:!0}),M1.current=s}return M1.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),UY={pan:{Feature:Z$},drag:{Feature:q$,ProjectionNode:g_,MeasureLayout:c_}};function MC(s,e,t){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=n[a];o&&Ta.postRender(()=>o(e,Xg(e)))}class DY extends rh{mount(){const{current:e}=this.node;e&&(this.unmount=lG(e,(t,n)=>(MC(this.node,n,"Start"),a=>MC(this.node,a,"End"))))}unmount(){}}class RY extends rh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$g(Sg(this.node.current,"focus",()=>this.onFocus()),Sg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HC(s,e,t){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=n[a];o&&Ta.postRender(()=>o(e,Xg(e)))}class LY extends rh{mount(){const{current:e}=this.node;e&&(this.unmount=uG(e,(t,n)=>(HC(this.node,n,"Start"),(a,{success:o})=>HC(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ew=new WeakMap,H1=new WeakMap,QY=s=>{const e=ew.get(s.target);e&&e(s)},OY=s=>{s.forEach(QY)};function kY({root:s,...e}){const t=s||document;H1.has(t)||H1.set(t,{});const n=H1.get(t),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(OY,{root:s,...e})),n[a]}function PY(s,e,t){const n=kY(e);return ew.set(s,t),n.observe(s),()=>{ew.delete(s),n.unobserve(s)}}const MY={some:0,all:1};class HY extends rh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:a="some",once:o}=e,A={root:t?t.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:MY[a]},h=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:c,onViewportLeave:m}=this.node.getProps(),x=f?c:m;x&&x(u)};return PY(this.node.current,A,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(VY(e,t))&&this.startObserver()}unmount(){}}function VY({viewport:s={}},{viewport:e={}}={}){return t=>s[t]!==e[t]}const KY={inView:{Feature:HY},tap:{Feature:LY},focus:{Feature:RY},hover:{Feature:DY}},zY={layout:{ProjectionNode:g_,MeasureLayout:c_}},GY={...F$,...KY,...UY,...zY},VC=YG(GY,o$),$Y=({reopenDate:s})=>{const e=s?(()=>{const[t,n,a]=s.split("-").map(A=>parseInt(A,10));return new Date(t,n-1,a).toLocaleDateString()})():"Not set";return r.jsx(VC.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:r.jsxs(VC.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg p-8 m-4 text-center shadow-2xl",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"School is on Vacation!"}),r.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"The school is currently on break. We hope you are having a wonderful time."}),r.jsxs("p",{className:"text-lg text-gray-600",children:["School will reopen on"," ",r.jsx("span",{className:"font-semibold text-red-600",children:e}),"."]})]})})},KC=["Monday","Tuesday","Wednesday","Thursday","Friday"],YY=["punctuality","neatness","conduct","attitudeToWork","classParticipation","homeworkCompletion"],WY=["An outstanding performer with excellent academic progress.","Shows great potential and maintains good conduct in class.","Consistent effort and improvement throughout the term.","Active participant in class activities and assignments.","Demonstrates good leadership qualities among peers.","Maintains excellent attendance and punctuality.","Shows remarkable improvement in academic performance.","A disciplined student who follows school rules diligently.","Excellent interpersonal skills and teamwork abilities.","Creative and innovative in approaching class tasks."],x_=()=>{const{user:s}=To(),e=(s==null?void 0:s.schoolId)||null,[t,n]=J.useState([]),a=(s==null?void 0:s.assignedClassIds)||[],[o,A]=J.useState(""),[h,u]=J.useState("Term 1"),[f,c]=J.useState(null),[m,x]=J.useState(!1),[g,w]=J.useState(!1);J.useEffect(()=>{a.length>0&&A(a[0])},[s]);const E=Is.find(Qe=>Qe.id===o),B=a.map(Qe=>{var Ht;return(Ht=Is.find(it=>it.id===Qe))==null?void 0:Ht.name}).join(", "),[C,T]=J.useState([]),[F,L]=J.useState(null),[k,M]=J.useState(!1),[Q,D]=J.useState({show:!1,dates:[]}),[R,V]=J.useState({show:!1,date:""}),[O,H]=J.useState(!1),[G,ae]=J.useState([]),[Ae,ie]=J.useState({}),[le,X]=J.useState(!1),[ne,re]=J.useState(!1),[W,K]=J.useState([]),[ee,oe]=J.useState({}),[he,ue]=J.useState(!1),[ye,je]=J.useState([]),ve=()=>{const Qe=new Date().toLocaleDateString("en-US",{weekday:"long"});return KC.includes(Qe)?Qe:"Monday"},_e=(Qe=new Date)=>`${Qe.getFullYear()}-${String(Qe.getMonth()+1).padStart(2,"0")}-${String(Qe.getDate()).padStart(2,"0")}`,ke=Qe=>{if(!Qe)return"TBD";const Ht=new Date(Qe+"T00:00:00");return Number.isNaN(Ht.getTime())?Qe:Ht.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})},[Me,Je]=J.useState(null),[at,ge]=J.useState(ve()),[ht,Kt]=J.useState([]),[Pt,Le]=J.useState([]),[jt,Ve]=J.useState([]),[Fe,lt]=J.useState(0),[xt,Et]=J.useState(0),[Jt,Mt]=J.useState(0),[He,ft]=J.useState(0),[Ye,At]=J.useState(0),[es,Gt]=J.useState("0.0"),[qt,dt]=J.useState([]);if(!s)return r.jsx(lr,{title:"Teacher Dashboard",children:r.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1160A8] mx-auto mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading dashboard..."})]})});const Ot=(Qe=0)=>{const Ht=new Date;Ht.setDate(Ht.getDate()+Qe*7);const it=Ht.getDay(),ct=it===0?-6:1-it,Bt=new Date(Ht);Bt.setDate(Ht.getDate()+ct);const ts=[];for(let ss=0;ss<5;ss++){const Us=new Date(Bt);Us.setDate(Bt.getDate()+ss);const zs=Us.getFullYear(),as=String(Us.getMonth()+1).padStart(2,"0"),Vn=String(Us.getDate()).padStart(2,"0");ts.push(`${zs}-${as}-${Vn}`)}return ts},Vt=Qe=>{if(Qe===0)return"This Week";const Ht=Ot(Qe),it=new Date(Ht[0]+"T00:00:00"),ct=new Date(Ht[4]+"T00:00:00"),Bt={month:"short",day:"numeric"},ts=it.toLocaleDateString("en-US",Bt),ss=ct.toLocaleDateString("en-US",Bt);return Qe===-1?`Last Week (${ts} - ${ss})`:`${ts} - ${ss}`},is=async Qe=>{if(!e||!(s!=null&&s.id))return;const Ht=Ot(Qe),it=await Promise.all(Ht.map(Bt=>mt.getTeacherAttendance(e,(s==null?void 0:s.id)||"",Bt))),ct=Ht.map((Bt,ts)=>{const ss=it[ts],[Us,zs,as]=Bt.split("-").map(Number),qs=new Date(Us,zs-1,as).toLocaleDateString("en-US",{weekday:"short"}),un=ss?ss.approvalStatus==="pending"?"pending":ss.approvalStatus==="approved"?ss.status:ss.approvalStatus==="rejected"?"absent":ss.status||"missing":"missing";return{day:qs,percentage:ss?100:0,status:un}});Ve(Bt=>ct.some(ss=>ss.status!=="missing")?ct:Bt)};J.useEffect(()=>{let Qe=!0;return s&&(async()=>{const it=_e();await mt.getTeacherAttendance(e||void 0,(s==null?void 0:s.id)||"",it);try{if(!e)return;const ct=await mt.getSchoolConfig(e);if(!Qe)return;const Bt=new Date,ts=ct.schoolReopenDate?new Date(ct.schoolReopenDate+"T00:00:00"):null;ts&&ts.setHours(0,0,0,0);const ss=new Date;ss.setHours(0,0,0,0);const Us=ct.nextTermBegins?new Date(ct.nextTermBegins+"T00:00:00"):null;if(Us&&Us.setHours(0,0,0,0),Us&&ss.getTime()===Us.getTime()){D({show:!1,dates:[]}),V({show:!1,date:""});return}const zs=ct.vacationDate?new Date(ct.vacationDate+"T00:00:00"):null;zs&&zs.setHours(0,0,0,0);const as=!ts||Bt>=ts,Vn=zs&&Us&&ss>=zs&&ss<Us;if(as&&!Vn){const qs=[];let un=new Date;for(un.setDate(un.getDate()-1);un>=ts;){const Kn=un.getDay(),rs=zs&&un.toDateString()===zs.toDateString();if(Kn===0||Kn===6||rs){un.setDate(un.getDate()-1);continue}const Hs=`${un.getFullYear()}-${String(un.getMonth()+1).padStart(2,"0")}-${String(un.getDate()).padStart(2,"0")}`,Cn=await mt.getTeacherAttendance(e,(s==null?void 0:s.id)||"",Hs);if(!Qe)return;Cn||qs.push(Hs),un.setDate(un.getDate()-1)}if(qs.length>0?D({show:!0,dates:qs}):D({show:!1,dates:[]}),o&&qs.length>0){const Kn=qs[0],rs=await mt.getAttendance(e,o,Kn);if(!Qe)return;V(rs?{show:!1,date:""}:{show:!0,date:Kn})}}}catch(ct){console.error("Error re-checking missed attendance:",ct)}})(),()=>{Qe=!1}},[s,o,Fe,e]),J.useEffect(()=>{!e||!(s!=null&&s.id)||is(Fe)},[e,s==null?void 0:s.id,Fe]),J.useEffect(()=>{if(!e||!(s!=null&&s.id))return;const Qe=Ms(Fs(Ct,"teacher_attendance"),os("schoolId","==",e),os("teacherId","==",s.id)),Ht=Fd(Qe,async()=>{await is(Fe);const it=_e(),ct=await mt.getTeacherAttendance(e,s.id,it);L(ct)});return()=>Ht()},[e,s==null?void 0:s.id,Fe]),J.useEffect(()=>{if(!e||!o)return;const Qe=Ms(Fs(Ct,"attendance"),os("schoolId","==",e),os("classId","==",o)),Ht=Fd(Qe,async()=>{try{const[it,ct]=await Promise.all([mt.getClassAttendance(e,o),mt.getStudents(e,o)]),Bt=ct.length||1,ts=Ot(Fe),ss=it.filter(qs=>ts.includes(qs.date)),Us=ts.map(qs=>{const un=ss.find(fs=>fs.date===qs),Kn=un?Math.round(un.presentStudentIds.length/Bt*100):0,[rs,Hs,Cn]=qs.split("-").map(Number);return{day:new Date(rs,Hs-1,Cn).toLocaleDateString("en-US",{weekday:"short"}),percentage:Kn}});Le(Us),Et(ct.length);const zs=_e(),as=it.find(qs=>qs.date===zs),Vn=as?as.presentStudentIds.length:0;Mt(Vn),ft(as?ct.length-Vn:0)}catch(it){console.error("Error updating attendance trend:",it)}});return()=>Ht()},[e,o,Fe]),J.useEffect(()=>{let Qe=!0;return(async()=>{if(!o||!e)return;let it;try{if(it=await mt.getSchoolConfig(e),Qe){c(it),u(it.currentTerm||`Term ${$i}`);const Us=new Date;Us.setHours(0,0,0,0);const zs=Us.getTime();let as=null;if(it.vacationDate){const rs=new Date(it.vacationDate+"T00:00:00");rs.setHours(0,0,0,0),as=rs.getTime()}let Vn=null;if(it.nextTermBegins){const rs=new Date(it.nextTermBegins+"T00:00:00");rs.setHours(0,0,0,0),Vn=rs.getTime()}let qs=null;if(as!==null){const rs=new Date(as);rs.setDate(rs.getDate()+1),qs=rs.getTime()}let un=!1;qs!==null&&zs>=qs&&(un=Vn?zs<Vn:!0),x(un);const Kn=!!Vn&&zs>=Vn&&!it.schoolReopenDate;if(w(Kn),console.log("--- Vacation Overlay Debug ---"),console.log("Current Date (Local Midnight):",Us.toLocaleDateString()),console.log("Vacation Date (Last School Day):",it.vacationDate),console.log("Vacation Starts (Local Midnight):",qs?new Date(qs).toLocaleDateString():"N/A"),console.log("Next Term Begins (Local Midnight):",it.nextTermBegins),console.log("Is Vacation:",un),console.log("--- End Debug ---"),it.nextTermBegins&&zs>=Vn){if(it.termTransitionProcessed===!1){console.log("New term begins today or has passed. Initiating dashboard reset...");try{await mt.resetForNewTerm(it),await mt.updateSchoolConfig({...it,termTransitionProcessed:!0}),Xt("New term started! Dashboard has been reset.",{type:"success"}),window.location.reload()}catch(rs){console.error("Error during new term reset:",rs),Xt("Failed to reset dashboard for new term.",{type:"error"})}}}else it.nextTermBegins&&zs<Vn&&it.termTransitionProcessed===!0&&await mt.updateSchoolConfig({...it,termTransitionProcessed:!1})}}catch(Us){console.error(Us),it={currentTerm:`Term ${$i}`,academicYear:Co,schoolReopenDate:"",schoolName:"School Manager GH",headTeacherRemark:"An outstanding performance. The school is proud of you.",termEndDate:"2024-12-20",vacationDate:"2024-12-20",nextTermBegins:"",termTransitionProcessed:!1,schoolId:""}}const ct=await mt.getSubjects(e,o);if(!Qe)return;n(ct);const Bt=await mt.getNotices(e);if(!Qe)return;T(Bt);const ts=_e(),ss=await mt.getTeacherAttendance(e,(s==null?void 0:s.id)||"",ts);if(Qe){if(L(ss),o){const Us=await mt.getTimetable(e,o);if(!Qe)return;Je(Us||null),ge(ve());try{const[zs,as]=await Promise.all([mt.getClassAttendance(e,o),mt.getStudents(e,o)]);if(!Qe)return;const Vn=as.length||1,qs=Ot(Fe),un=zs.filter(Nn=>qs.includes(Nn.date)),Kn=qs.map(Nn=>{const br=un.find(wr=>wr.date===Nn),Fr=br?Math.round(br.presentStudentIds.length/Vn*100):0,[Er,Gn,Ga]=Nn.split("-").map(Number);return{day:new Date(Er,Gn-1,Ga).toLocaleDateString("en-US",{weekday:"short"}),percentage:Fr}});Le(Kn),je(as),Et(as.length);const rs=_e(),Hs=zs.find(Nn=>Nn.date===rs),Cn=Hs?Hs.presentStudentIds.length:0;Mt(Cn),ft(Hs?as.length-Cn:0);const dn=parseInt((it.currentTerm||`Term ${$i}`).split(" ")[1]);let wn=0,fs=0;for(const Nn of ct){const Fr=(await mt.getAssessments(e,o,Nn)).filter(Er=>Er.term===dn);for(const Er of Fr){const Gn=Er.total??Fc(Er);wn+=Gn,fs++}}const Un=fs>0?wn/fs:0;At(Un);const fa=(await mt.getStudentSkills(e,o)).filter(Nn=>Nn.term===dn);let za=0,Ci=0;const ma={Excellent:5,"Very Good":4,Good:3,Fair:2,Poor:1};for(const Nn of fa)Nn.conduct&&(za+=ma[Nn.conduct]||0,Ci++);const _r=Ci>0?za/Ci:0;Gt(_r.toFixed(1));const hi=[];for(const Nn of ct){const Fr=(await mt.getAssessments(e,o,Nn)).filter(Tr=>Tr.term===dn);if(Fr.length===0)continue;let Er=0,Gn=0,Ga="";for(const Tr of Fr){const wr=Tr.total??Fc(Tr),$a=as.find(Io=>Io.id===Tr.studentId);$a&&wr>Gn&&(Gn=wr,Ga=$a.name),Er+=wr}const ia=Er/Fr.length;hi.push({subject:Nn,topStudent:Ga,average:ia})}hi.sort((Nn,br)=>br.average-Nn.average),dt(hi)}catch(zs){console.error("Error calculating dashboard stats:",zs)}}try{await is(Fe)}catch(Us){console.error("Error calculating teacher attendance trend:",Us)}}})(),()=>{Qe=!1}},[o,Fe,e]),J.useEffect(()=>{if(Me&&Me.schedule&&at){const Qe=Me.schedule[at]||[];Kt(Qe)}else Kt([])},[Me,at]);const Zt=Qe=>{switch(Qe){case"break":return{border:"border-amber-400",bgHover:"group-hover:bg-amber-50",text:"text-amber-700 italic",badge:"text-amber-600"};case"worship":return{border:"border-purple-400",bgHover:"group-hover:bg-purple-50",text:"text-purple-700 font-semibold",badge:"text-purple-600"};case"closing":return{border:"border-slate-400",bgHover:"group-hover:bg-slate-50",text:"text-slate-700 font-bold",badge:"text-slate-600"};default:return{border:"border-[#1160A8]",bgHover:"group-hover:bg-[#E6F0FA]",text:"text-slate-800",badge:"text-[#1160A8]"}}};return r.jsxs(lr,{title:"Teacher Dashboard",children:[m&&r.jsx($Y,{reopenDate:(f==null?void 0:f.nextTermBegins)||"TBD"}),m&&r.jsx("div",{className:"mb-6 rounded-2xl border border-amber-200 bg-gradient-to-r from-amber-50 via-yellow-50 to-orange-50 p-4 sm:p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-amber-500 text-white flex items-center justify-center shadow-md",children:r.jsx(gm,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-amber-700",children:"Vacation Mode"}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-amber-900 mt-1",children:"School is on vacation"}),r.jsxs("p",{className:"text-sm text-amber-800 mt-1",children:["Classes resume on"," ",r.jsx("span",{className:"font-semibold",children:ke(f==null?void 0:f.nextTermBegins)}),". Enjoy the break!"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-white/70 px-4 py-2 text-xs font-semibold text-amber-800 shadow-sm",children:[r.jsx(Si,{className:"h-4 w-4"}),"Vacation since ",ke(f==null?void 0:f.vacationDate)]})]})}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome back, ",s==null?void 0:s.fullName]}),r.jsxs("p",{className:"text-slate-500 mt-1",children:[r.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#1160A8] mr-2"}),"Class Teacher for:"," ",r.jsx("span",{className:"font-semibold text-slate-800",children:B||"Not Assigned"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end sm:items-center",children:[a.length>1&&r.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-lg px-3 py-1.5 shadow-sm",children:[r.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:"Viewing:"}),r.jsx("select",{value:o,onChange:Qe=>A(Qe.target.value),className:"text-sm font-semibold text-slate-800 bg-transparent outline-none cursor-pointer",children:a.map(Qe=>{const Ht=Is.find(it=>it.id===Qe);return r.jsx("option",{value:Qe,children:Ht==null?void 0:Ht.name},Qe)})})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 text-xs font-bold rounded-full border border-emerald-100 uppercase tracking-wide",children:[h," Active"]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs(da,{to:g?"#":"/teacher/attendance",onClick:Qe=>{g&&(Qe.preventDefault(),Xt("Attendance is locked until the admin sets a school re-open date.",{type:"warning"}))},className:`group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 transition-all relative overflow-hidden ${g?"opacity-60 cursor-not-allowed":"hover:border-[#1160A8]"}`,"aria-disabled":g,children:[r.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#0B4A82] transition-colors",children:r.jsx(Jf,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),r.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Take Attendance"}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Record daily register for"," ",(E==null?void 0:E.name)||"your class","."]})]})]}),r.jsxs(da,{to:"/teacher/assessment",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-amber-500 transition-all relative overflow-hidden",children:[r.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-amber-500 transition-colors",children:r.jsx(cl,{className:"w-6 h-6 text-amber-600 group-hover:text-white"})}),r.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Gradebook"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Record marks for tests, homework & exams."})]})]}),r.jsxs(da,{to:"/teacher/my-attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-green-500 transition-all relative overflow-hidden w-full text-left",children:[r.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-green-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-500 transition-colors",children:r.jsx(Jf,{className:"w-6 h-6 text-green-600 group-hover:text-white"})}),r.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"My Attendance"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Mark weekly attendance & view records"}),F&&r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-400",children:[r.jsxs("span",{children:["Last marked: ",F.date]}),F.approvalStatus==="pending"&&r.jsx("span",{className:"rounded-full bg-amber-50 px-2 py-0.5 text-[10px] font-semibold text-amber-700",children:"Pending approval"})]})]})]}),r.jsxs("button",{onClick:async()=>{let Qe=ye;(!Qe||Qe.length===0)&&(Qe=await mt.getStudents(e,o));const it=(await mt.getStudentRemarks(e,o)).reduce((ts,ss)=>(ts[ss.studentId]={remark:ss.remark,behaviorTag:ss.behaviorTag},ts),{});ie(it);const Bt=(await mt.getStudentSkills(e,o)).reduce((ts,ss)=>(ts[ss.studentId]={punctuality:ss.punctuality,neatness:ss.neatness,conduct:ss.conduct,attitudeToWork:ss.attitudeToWork,classParticipation:ss.classParticipation,homeworkCompletion:ss.homeworkCompletion},ts),{});oe(Bt),ae(Qe||[]),H(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-purple-500 transition-all relative overflow-hidden w-full text-left",children:[r.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-500 transition-colors",children:r.jsx(cl,{className:"w-6 h-6 text-purple-600 group-hover:text-white"})}),r.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Write Remarks"}),r.jsx("p",{className:"text-sm text-slate-500",children:"End of term comments & behavior tags."})]})]}),r.jsxs("button",{onClick:async()=>{let Qe=ye;(!Qe||Qe.length===0)&&(Qe=await mt.getStudents(e,o));const it=(await mt.getStudentSkills(e,o)).reduce((ct,Bt)=>(ct[Bt.studentId]={punctuality:Bt.punctuality,neatness:Bt.neatness,conduct:Bt.conduct,attitudeToWork:Bt.attitudeToWork,classParticipation:Bt.classParticipation,homeworkCompletion:Bt.homeworkCompletion},ct),{});oe(it),K(Qe||[]),re(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden w-full text-left",children:[r.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#1160A8] transition-colors",children:r.jsx(Dd,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),r.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Edit Skills"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Rate student skills and behavior."})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Class Health"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Students:"}),r.jsx("span",{className:"font-semibold",children:xt})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Present Today:"}),r.jsx("span",{className:"font-semibold text-green-600",children:Jt})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Absent Today:"}),r.jsx("span",{className:"font-semibold text-red-600",children:He})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Average Performance"}),r.jsx("div",{className:"text-center",children:Ye>0?r.jsxs("span",{className:"text-2xl font-bold text-[#1160A8]",children:[Ye.toFixed(1),"%"]}):r.jsx("span",{className:"text-sm text-slate-400 italic",children:"No assessment data."})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Behavior Average"}),r.jsx("div",{className:"text-center",children:parseFloat(es)>0?r.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[es,"/5"]}):r.jsx("span",{className:"text-sm text-slate-400 italic",children:"No behavior data."})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Subject Standings"}),r.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:qt.slice(0,3).map(Qe=>r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsxs("span",{children:[Qe.subject,":"]}),r.jsx("span",{className:"font-semibold",children:Qe.topStudent||"N/A"})]},Qe.subject))})]})]}),r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[r.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[r.jsx(Dd,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-[#1160A8]"})," ","Students Weekly Attendance Trend"]}),r.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[r.jsx("button",{onClick:()=>lt(Fe-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),r.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-[#1160A8] text-white text-center min-w-[120px] sm:w-36 truncate",children:Vt(Fe)}),r.jsx("button",{onClick:()=>lt(Fe+1),disabled:Fe===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),r.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2",children:Pt.length===0?r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[r.jsx(Dd,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),r.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):Pt.map((Qe,Ht)=>r.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[r.jsxs("div",{className:"relative w-full flex justify-center",children:[r.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-[#E6F0FA] relative overflow-hidden",style:{height:"120px"},children:r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1160A8] rounded-t-lg transition-all duration-1000",style:{height:`${Qe.percentage}%`}})}),r.jsxs("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[Qe.percentage,"%"]}),r.jsxs("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:[Qe.percentage,"%"]})]}),r.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:Qe.day})]},Ht))})]}),r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[r.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[r.jsx(Jf,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-emerald-600"})," ","Teacher Attendance Trend"]}),r.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[r.jsx("button",{onClick:()=>lt(Fe-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),r.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-emerald-600 text-white text-center min-w-[120px] sm:w-36 truncate",children:Vt(Fe)}),r.jsx("button",{onClick:()=>lt(Fe+1),disabled:Fe===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[10px] text-slate-500 mb-5 mt-2",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 font-semibold text-emerald-700",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Present (Approved)"]}),r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-rose-200 bg-rose-50 px-2 py-0.5 font-semibold text-rose-700",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),"Absent"]}),r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200 bg-amber-50 px-2 py-0.5 font-semibold text-amber-700",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-400"}),"Pending"]})]}),r.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2 mt-2",children:jt.length===0?r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[r.jsx(Jf,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),r.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):jt.map((Qe,Ht)=>r.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[r.jsxs("div",{className:"relative w-full flex justify-center",children:[r.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-emerald-50 relative overflow-hidden",style:{height:"120px"},children:r.jsx("div",{className:`absolute bottom-0 left-0 right-0 rounded-t-lg transition-all duration-1000 ${Qe.status==="pending"?"bg-amber-400":Qe.status==="present"?"bg-emerald-500":Qe.status==="absent"?"bg-rose-500":"bg-slate-300"}`,style:{height:`${Qe.percentage}%`}})}),r.jsx("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:Qe.status==="pending"?"Pending":Qe.status==="present"?"Present":Qe.status==="absent"?"Absent":"Missing"}),r.jsx("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:Qe.status==="pending"?"Pending":Qe.status==="present"?"Present":Qe.status==="absent"?"Absent":"Missing"})]}),r.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:Qe.day})]},Ht))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[r.jsx(Hd,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Notice Board"]}),r.jsx("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-1",children:C.length===0?r.jsx("div",{className:"text-center py-6 text-slate-400 italic text-sm",children:"No announcements at this time."}):C.map(Qe=>r.jsxs("div",{className:"group relative pl-4 pb-2 border-l-2 border-slate-200 hover:border-[#1160A8] transition-colors",children:[r.jsx("div",{className:`absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full border-2 border-white ${Qe.type==="urgent"?"bg-red-500":"bg-amber-400"} shadow-sm`}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:Qe.date}),Qe.type==="urgent"&&r.jsx("span",{className:"text-[10px] text-red-500 font-bold px-1.5 py-0.5 bg-red-50 rounded",children:"URGENT"})]}),r.jsx("p",{className:"text-sm font-medium text-slate-800 leading-snug",children:Qe.message})]})]},Qe.id))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[r.jsx(Kl,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Class Schedule"]}),r.jsx("select",{value:at,onChange:Qe=>ge(Qe.target.value),className:"text-xs font-bold text-[#1160A8] bg-[#E6F0FA] px-2 py-1 rounded uppercase border-none outline-none cursor-pointer hover:bg-[#E6F0FA] transition-colors",children:KC.map(Qe=>r.jsx("option",{value:Qe,children:Qe},Qe))})]}),o?r.jsx("div",{className:"space-y-4 relative min-h-[150px]",children:ht.length===0?r.jsxs("div",{className:"text-center py-10 text-slate-400 text-sm italic border-2 border-dashed border-slate-100 rounded-lg",children:["No schedule set for ",at,"."]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-0.5 bg-slate-200"}),ht.map(Qe=>{const Ht=Zt(Qe.type);return r.jsxs("div",{className:"relative pl-8 group",children:[r.jsx("div",{className:`absolute left-0 top-1.5 w-5 h-5 bg-white border-2 rounded-full z-10 transition-colors ${Ht.border} ${Ht.bgHover}`}),r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[Qe.startTime," - ",Qe.endTime]}),r.jsx("span",{className:`text-[10px] font-bold uppercase ${Ht.badge}`,children:Qe.type})]}),r.jsx("p",{className:`text-sm ${Ht.text}`,children:Qe.subject})]},Qe.id)})]})}):r.jsx("div",{className:"text-center py-10 text-slate-400",children:"Select a class to view schedule."})]})]})]}),Q.show&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b border-slate-100",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:r.jsx(Hd,{className:"text-amber-600",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-900",children:"Attendance Reminder"}),r.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking attendance for a previous school day"})]})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-amber-800",children:"Please mark your attendance for the following dates to keep your records accurate:"}),r.jsx("ul",{className:"mt-2 space-y-1",children:Q.dates.map(Qe=>r.jsx("li",{className:"text-sm font-medium",children:r.jsx("strong",{children:(()=>{const Ht=Qe.split("-");return Ht.length===3?`${Ht[1]}/${Ht[2]}/${Ht[0]}`:Qe})()})},Qe))})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>D({show:!1,dates:[]}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),r.jsx(da,{to:"/teacher/my-attendance",onClick:()=>D({show:!1,dates:[]}),className:"flex-1 px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-center",children:"Mark Attendance Now"})]})]})]})}),R.show&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b border-slate-100",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx(Hd,{className:"text-red-600",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-900",children:"Student Attendance Reminder"}),r.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking student attendance for your class."})]})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-red-800",children:["Please mark student attendance for"," ",r.jsx("strong",{children:E==null?void 0:E.name})," on"," ",r.jsx("strong",{children:(()=>{const Qe=R.date.split("-");return Qe.length===3?`${Qe[1]}/${Qe[2]}/${Qe[0]}`:R.date})()})," ","to keep records accurate."]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>V({show:!1,date:""}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),r.jsx(da,{to:"/teacher/attendance",onClick:()=>V({show:!1,date:""}),className:"flex-1 px-4 py-2 text-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Take Attendance"})]})]})]})}),O&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b border-slate-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(cl,{className:"text-purple-600",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-900",children:"End of Term Remarks"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Write comments and select behavior tags for each student"})]})]}),r.jsx("button",{onClick:()=>H(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:r.jsx(oo,{size:20})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:G.map(Qe=>{var Ht,it;return r.jsxs("div",{className:"border rounded p-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:Qe.name}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Behavior Tag"}),r.jsxs("select",{value:((Ht=Ae[Qe.id])==null?void 0:Ht.behaviorTag)||"",onChange:ct=>ie(Bt=>({...Bt,[Qe.id]:{...Bt[Qe.id],behaviorTag:ct.target.value}})),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"",children:"Select Behavior"}),r.jsx("option",{value:"Excellent",children:"Excellent"}),r.jsx("option",{value:"Good",children:"Good"}),r.jsx("option",{value:"Needs Improvement",children:"Needs Improvement"})]})]}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[r.jsx(VT,{size:14,className:"text-purple-600"}),"Remark"]}),r.jsx("textarea",{value:((it=Ae[Qe.id])==null?void 0:it.remark)||"",onChange:ct=>ie(Bt=>({...Bt,[Qe.id]:{...Bt[Qe.id],remark:ct.target.value}})),placeholder:"Write remark or select from suggestions below...",className:"w-full p-2 border rounded",rows:3}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tap to insert suggestion:"}),r.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto p-1 bg-slate-50 rounded-lg",children:WY.map((ct,Bt)=>r.jsx("button",{type:"button",onClick:()=>ie(ts=>({...ts,[Qe.id]:{...ts[Qe.id],remark:ct}})),className:"text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 hover:bg-purple-100 transition-colors text-left truncate max-w-full",title:ct,children:ct.length>50?ct.substring(0,50)+"...":ct},Bt))})]})]})]},Qe.id)})}),r.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),r.jsx("button",{onClick:async()=>{var Qe,Ht;X(!0);try{for(const it of G){const ct=parseInt(h.split(" ")[1]),Bt={id:`${it.id}_${h}_${Co}`,studentId:it.id,classId:o,term:ct,academicYear:Co,schoolId:e||(f==null?void 0:f.schoolId)||"",remark:((Qe=Ae[it.id])==null?void 0:Qe.remark)||"",behaviorTag:((Ht=Ae[it.id])==null?void 0:Ht.behaviorTag)||"",teacherId:s.id,dateCreated:new Date().toISOString().split("T")[0]};await mt.saveStudentRemark(Bt)}Xt("Remarks saved successfully!",{type:"success"}),H(!1)}catch(it){console.error(it),Xt("Failed to save remarks",{type:"error"})}finally{X(!1)}},disabled:le,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:le?"Saving...":"Save Remarks"})]})]})]})}),ne&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b border-slate-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-full",children:r.jsx(Dd,{className:"text-[#1160A8]",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-900",children:"Edit Student Skills"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Rate skills and behavior for each student"})]})]}),r.jsx("button",{onClick:()=>re(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:r.jsx(oo,{size:20})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:W.map(Qe=>r.jsxs("div",{className:"border rounded p-4",children:[r.jsx("h4",{className:"font-semibold mb-3",children:Qe.name}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:YY.map(Ht=>{var it;return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium mb-1 capitalize",children:Ht.replace(/([A-Z])/g," $1").trim()}),r.jsxs("select",{value:((it=ee[Qe.id])==null?void 0:it[Ht])||"",onChange:ct=>oe(Bt=>({...Bt,[Qe.id]:{...Bt[Qe.id],[Ht]:ct.target.value}})),className:"w-full p-2 border rounded text-sm",children:[r.jsx("option",{value:"",children:"Select"}),r.jsx("option",{value:"Excellent",children:"Excellent"}),r.jsx("option",{value:"Very Good",children:"Very Good"}),r.jsx("option",{value:"Good",children:"Good"}),r.jsx("option",{value:"Fair",children:"Fair"}),r.jsx("option",{value:"Poor",children:"Poor"})]})]},Ht)})})]},Qe.id))}),r.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),r.jsx("button",{onClick:async()=>{ue(!0);try{const Qe=parseInt(h.split(" ")[1]);for(const Ht of W){const it={id:`${Ht.id}_${h}_${Co}`,studentId:Ht.id,classId:o,term:Qe,academicYear:Co,schoolId:e||(f==null?void 0:f.schoolId)||"",...ee[Ht.id]};await mt.saveStudentSkills(it)}Xt("Skills saved successfully!",{type:"success"}),re(!1)}catch(Qe){console.error(Qe),Xt("Failed to save skills",{type:"error"})}finally{ue(!1)}},disabled:he,className:"px-4 py-2 bg-[#1160A8] text-white rounded hover:bg-[#0B4A82] disabled:opacity-50",children:he?"Saving...":"Save Skills"})]})]})]})})]})},XY=()=>{var le;const{user:s}=To(),e=(s==null?void 0:s.assignedClassIds)||[],[t,n]=J.useState(""),a=(s==null?void 0:s.schoolId)||null,[o,A]=J.useState([]),h=(X=new Date)=>`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}-${String(X.getDate()).padStart(2,"0")}`,[u,f]=J.useState(h()),[c,m]=J.useState(new Set),[x,g]=J.useState(!1),[w,E]=J.useState(""),[B,C]=J.useState(!1),[T,F]=J.useState(!1),[L,k]=J.useState(null),[M,Q]=J.useState(""),[D,R]=J.useState(null);J.useEffect(()=>{e.length>0&&!t&&n(e[0])},[e]),J.useEffect(()=>{(async()=>{if(!a){R(null);return}const ne=await mt.getSchoolConfig(a);R(ne);const re=O(ne);re&&u<re&&f(re)})()},[a]);const V=()=>O(D),O=X=>X&&X.schoolReopenDate?X.schoolReopenDate:"",H=()=>{const X=D==null?void 0:D.vacationDate,ne=D==null?void 0:D.nextTermBegins,re=D==null?void 0:D.schoolReopenDate,W=((D==null?void 0:D.holidayDates)||[]).some(K=>K.date===u);return ne&&u>=ne?!1:!!(W||X&&u>X||!X&&re&&u<re)};J.useEffect(()=>{if(!t||!a)return;(async()=>{F(!0);try{const ne=await mt.getStudents(a,t);A(ne);const re=await mt.getAttendance(a,t,u),W=((D==null?void 0:D.holidayDates)||[]).find(K=>K.date===u);if(W){k(W),g(!0),E(W.reason||""),m(new Set);return}re?re.isHoliday?(g(!0),E(re.holidayReason||""),m(new Set),C(!1)):(g(!1),E(""),m(new Set(re.presentStudentIds)),C(!0)):(g(!1),E(""),m(new Set),C(!1)),k(null)}catch(ne){console.error(ne)}finally{F(!1)}})()},[t,u,a,D]);const G=X=>{if(x||L)return;B||C(!0);const ne=new Set(c);ne.has(X)?ne.delete(X):ne.add(X),m(ne)},ae=async()=>{var W;if(!t||!a)return;const X=D==null?void 0:D.vacationDate,ne=D==null?void 0:D.nextTermBegins,re=D==null?void 0:D.schoolReopenDate;if(L){Q("This date is marked as a holiday by the admin."),setTimeout(()=>Q(""),3e3);return}if(!(ne&&u>=ne)){if(X&&u>X){Q("Cannot mark attendance after school vacation date"),setTimeout(()=>Q(""),3e3);return}else if(!X&&re&&u<re){Q(`Cannot mark attendance before school re-open date (${re})`),setTimeout(()=>Q(""),3e3);return}}F(!0);try{if(x&&(await mt.getAttendanceByDate(a,u)).some(oe=>{var he;return(he=oe.presentStudentIds)==null?void 0:he.length})){Q("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>Q(""),4e3);return}await mt.saveAttendance({id:`${a}_${t}_${u}`,schoolId:a,classId:t,date:u,presentStudentIds:x?[]:Array.from(c),isHoliday:x,holidayReason:x?w.trim():""}),C(!x);const K=((W=Is.find(ee=>ee.id===t))==null?void 0:W.name)||t;await mt.addSystemNotification(x?`${s==null?void 0:s.fullName} marked ${K} as Holiday on ${u}.`:`${s==null?void 0:s.fullName} marked attendance for ${K} on ${u}. (${c.size} Present)`,"attendance",a),Q(x?"Holiday saved successfully!":"Attendance saved successfully!"),setTimeout(()=>Q(""),3e3)}catch(K){console.error(K)}finally{F(!1)}};if(e.length===0)return r.jsx(lr,{title:"Attendance",children:r.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const Ae=((le=Is.find(X=>X.id===t))==null?void 0:le.name)||t,ie=x||!B?0:o.length-c.size;return r.jsx(lr,{title:"Mark Attendance",children:r.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[r.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),r.jsxs("div",{className:"relative flex flex-col gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Student Attendance"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Mark attendance quickly and accurately for your class."}),L&&r.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday: ",L.reason||"No reason provided"]}),x&&r.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-800",children:[r.jsx(Gi,{className:"h-4 w-4"}),L?"Admin Holiday":"Holiday / No School",w?` ${w}`:""]}),r.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[r.jsx(fo,{className:"h-4 w-4 text-indigo-500"}),"Class: ",Ae||"Select class"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[r.jsx(Rc,{className:"h-4 w-4"}),c.size," Present"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[r.jsx(Ud,{className:"h-4 w-4"}),ie," Absent"]})]})]})]}),r.jsx("div",{className:"rounded-2xl border bg-white/80 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col gap-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[r.jsxs("div",{className:"w-full md:w-64",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),r.jsx("select",{value:t,onChange:X=>n(X.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",children:e.map(X=>{const ne=Is.find(re=>re.id===X);return r.jsx("option",{value:X,children:ne==null?void 0:ne.name},X)})})]}),r.jsxs("div",{className:"w-full md:w-64",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(Si,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),r.jsx("input",{type:"date",value:u,onChange:X=>f(X.target.value),min:V(),className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-4 py-2 text-sm shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[r.jsxs("label",{className:"inline-flex items-center gap-3 text-sm font-semibold text-amber-900",children:[r.jsx("input",{type:"checkbox",checked:x,onChange:X=>{const ne=X.target.checked;g(ne),ne&&m(new Set)},disabled:!!L,className:"h-4 w-4 rounded border-amber-300 text-amber-600 focus:ring-amber-300"}),"Mark this date as Holiday / No School"]}),L?r.jsx("div",{className:"text-xs text-amber-800",children:"This date is locked as a holiday by the admin."}):x?r.jsx("input",{type:"text",value:w,onChange:X=>E(X.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}):null]}),r.jsxs("div",{className:"flex flex-col gap-4 border-t border-slate-100 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[r.jsx(Rc,{className:"h-4 w-4"}),c.size," Present"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-semibold text-rose-700",children:[r.jsx(Ud,{className:"h-4 w-4"}),ie," Absent"]})]}),r.jsxs("button",{onClick:ae,disabled:T||!t||H()||!!L,className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700 disabled:opacity-50 sm:w-auto",children:[r.jsx(Ac,{size:18}),T?"Saving...":x?"Save Holiday":"Save Register"]})]})]})}),M&&r.jsx("div",{className:`rounded-2xl p-3 text-center text-sm shadow-sm ${M.includes("Cannot")?"bg-rose-50 text-rose-700":"bg-emerald-50 text-emerald-700"}`,children:M}),(H()||L)&&r.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[r.jsx(Gi,{size:18}),r.jsx("span",{className:"font-medium",children:L?`Admin marked ${L.date} as a holiday${L.reason?` (${L.reason})`:""}.`:D!=null&&D.nextTermBegins&&u>=D.nextTermBegins?"Attendance not available for selected date":D!=null&&D.vacationDate&&u>D.vacationDate?`Cannot mark attendance after vacation date (${D.vacationDate})`:!(D!=null&&D.vacationDate)&&(D!=null&&D.schoolReopenDate)&&u<D.schoolReopenDate?`Cannot mark attendance before school re-open date (${D.schoolReopenDate})`:"Attendance not available for selected date"})]})}),r.jsxs("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:[o.map(X=>{const ne=c.has(X.id),re=H()||x||!!L;return r.jsxs("div",{className:`group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md ${re?"opacity-60":"cursor-pointer"}`,onClick:()=>!re&&G(X.id),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full text-sm font-bold ${ne?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:X.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:X.name}),r.jsx("p",{className:"text-xs text-slate-500",children:X.gender})]})]}),r.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${x?"border-amber-200 bg-amber-50 text-amber-700":ne?"border-emerald-200 bg-emerald-50 text-emerald-700":B?"border-rose-200 bg-rose-50 text-rose-700":"border-slate-200 bg-slate-50 text-slate-500"}`,children:[x?r.jsx(Gi,{className:"h-4 w-4"}):ne?r.jsx(Rc,{className:"h-4 w-4"}):B?r.jsx(Ud,{className:"h-4 w-4"}):r.jsx(Kl,{className:"h-4 w-4"}),x?L?"ADMIN HOLIDAY":"HOLIDAY":ne?"PRESENT":B?"ABSENT":"UNMARKED"]})]},X.id)}),o.length===0&&r.jsx("div",{className:"p-8 text-center text-slate-500",children:t?"No students found in this class.":"Select a class to view students."})]})]})})},uo=s=>{const e=s.split("-");if(e.length===3){const n=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]));if(!isNaN(n.getTime()))return n}const t=new Date(s);return isNaN(t.getTime())?(console.error("Invalid date string:",s),new Date):t},JY=()=>{var le;const{user:s}=To(),e=(s==null?void 0:s.schoolId)||null,[t,n]=J.useState({}),[a,o]=J.useState(!0),[A,h]=J.useState({}),[u,f]=J.useState(null),[c,m]=J.useState(null),[x,g]=J.useState({}),[w,E]=J.useState({}),[B,C]=J.useState(""),T=X=>{const ne=X.getFullYear(),re=String(X.getMonth()+1).padStart(2,"0"),W=String(X.getDate()).padStart(2,"0");return`${ne}-${re}-${W}`},F=()=>{const X=new Date;return X.setHours(0,0,0,0),X},L=J.useMemo(()=>F(),[]),k=J.useMemo(()=>T(L),[L]),M=(X,ne,re=!1)=>{const W=[];let K=new Date(X);for(K.setHours(0,0,0,0);W.length<ne;)K.getDay()!==0&&K.getDay()!==6&&W.push(T(K)),K.setDate(K.getDate()+(re?-1:1));return W},Q=J.useMemo(()=>{const X=u!=null&&u.schoolReopenDate?uo(u.schoolReopenDate):null,ne=u!=null&&u.vacationDate?uo(u.vacationDate):null,re=new Date(L);return M(re,20,!0).filter(K=>{const ee=uo(K),oe=u!=null&&u.nextTermBegins?uo(u.nextTermBegins):null;if(oe&&ee>=oe)return!0;const he=!X||ee>=X,ue=!ne||ee<=ne;return he&&ue}).sort()},[L,u]),D=X=>{const ne=new Date(X);for(ne.setDate(ne.getDate()-1);ne.getDay()===0||ne.getDay()===6;)ne.setDate(ne.getDate()-1);return T(ne)},R=J.useMemo(()=>D(L),[L]),V=J.useMemo(()=>{if(!(u!=null&&u.nextTermBegins)||u!=null&&u.schoolReopenDate)return!1;const X=uo(u.nextTermBegins),ne=new Date;return ne.setHours(0,0,0,0),ne>=X},[u==null?void 0:u.nextTermBegins,u==null?void 0:u.schoolReopenDate]),O=(X,ne,re,W,K)=>{const ee=uo(X),oe=ne?uo(ne):null,he=re?uo(re):null,ue=W?uo(W):null,ye=(K||[]).some(je=>je.date===X);return ue&&ee>=ue?!V:!(ye||oe&&ee<oe||he&&ee>he)};J.useEffect(()=>{(async()=>{if(!e){f(null);return}const ne=await mt.getSchoolConfig(e);f(ne)})()},[e]),J.useEffect(()=>{if(!(s!=null&&s.id)||!e||Q.length===0){o(!1);return}(async()=>{o(!0);const ne={};for(const re of Q)if(O(re,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates)){const W=await mt.getTeacherAttendance(e,s.id,re);W&&(ne[re]=W)}n(ne),o(!1)})()},[s==null?void 0:s.id,Q,u==null?void 0:u.schoolReopenDate,e]),J.useEffect(()=>{if(!(s!=null&&s.id)||!e||!u)return;(async()=>{const ne=u.schoolReopenDate,re=u.vacationDate;if(!O(R,ne,re,u.nextTermBegins,u.holidayDates))return;await mt.getTeacherAttendance(e,s.id,R)||m(R)})()},[s==null?void 0:s.id,u,R,O]);const H=async(X,ne)=>{if(!(s!=null&&s.id)||!e)return;if(V){C("Attendance is locked until the admin sets a school re-open date."),setTimeout(()=>C(""),4e3);return}h(W=>({...W,[X]:!0}));const re={id:`${e}_${s.id}_${X}`,date:X,teacherId:s.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:ne,approvalStatus:"pending",isHoliday:!1,holidayReason:""};await mt.saveTeacherAttendance(re),n(W=>({...W,[X]:re})),m(null),await mt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} submitted ${ne} attendance for ${X} (pending approval)`,"attendance",e),h(W=>({...W,[X]:!1}))},G=async X=>{var ne;if(!(!(s!=null&&s.id)||!e)){if(V){C("Attendance is locked until the admin sets a school re-open date."),setTimeout(()=>C(""),4e3);return}h(re=>({...re,[X]:!0}));try{if((await mt.getAllTeacherAttendance(e,X)).some(ee=>!ee.isHoliday)){C("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>C(""),4e3);return}const K={id:`${e}_${s.id}_${X}`,date:X,teacherId:s.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:"absent",approvalStatus:"pending",isHoliday:!0,holidayReason:((ne=x[X])==null?void 0:ne.trim())||""};await mt.saveTeacherAttendance(K),n(ee=>({...ee,[X]:K})),m(null),await mt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} submitted ${X} as Holiday (pending approval).`,"attendance",e),C("Holiday saved successfully!"),setTimeout(()=>C(""),3e3),E(ee=>({...ee,[X]:!1}))}finally{h(re=>({...re,[X]:!1}))}}},ae=()=>V?!1:u!=null&&u.schoolReopenDate?L>=uo(u.schoolReopenDate):!0,Ae=X=>{const ne=uo(X),re=u!=null&&u.schoolReopenDate?uo(u.schoolReopenDate):null,W=u!=null&&u.vacationDate?uo(u.vacationDate):null,K=u!=null&&u.nextTermBegins?uo(u.nextTermBegins):null;return K&&ne>=K?!V:!(re&&ne<re||W&&ne>W)},ie=X=>uo(X).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"});return r.jsx(lr,{title:"Daily Attendance",children:r.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[r.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),r.jsxs("div",{className:"relative flex flex-col gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Daily Attendance"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Mark your attendance with confidence  fast, clear, and beautiful."}),((le=u==null?void 0:u.holidayDates)==null?void 0:le.some(X=>X.date===k))&&r.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday:"," ",(()=>{const X=u.holidayDates.find(ne=>ne.date===k);return(X==null?void 0:X.reason)||"No reason provided"})()]}),r.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[r.jsx(Si,{className:"h-4 w-4 text-indigo-500"}),"Today: ",ie(k)]}),r.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-medium shadow-sm ${ae()?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[r.jsx(Kl,{className:"h-4 w-4"}),ae()?"School Open":"School Closed"]})]})]})]}),c&&r.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-amber-200 bg-amber-50/60 p-5 shadow-sm",children:[r.jsx("div",{className:"absolute -right-10 -top-10 h-24 w-24 rounded-full bg-amber-200/60 blur-2xl"}),r.jsxs("div",{className:"relative flex flex-col gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[r.jsx(Gi,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Missed Attendance"})]}),r.jsxs("p",{className:"text-sm text-amber-900",children:["You missed attendance for",r.jsxs("span",{className:"font-semibold",children:[" ",ie(c)]}),". Please update it now."]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("button",{onClick:()=>H(c,"present"),disabled:A[c],className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-emerald-700 disabled:opacity-50",children:[r.jsx(Rc,{className:"h-4 w-4"}),"Mark Present"]}),r.jsxs("button",{onClick:()=>H(c,"absent"),disabled:A[c],className:"inline-flex items-center gap-2 rounded-full bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(Ud,{className:"h-4 w-4"}),"Mark Absent"]})]})]})]}),B&&r.jsx("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4 text-sm text-emerald-800 shadow-sm",children:B}),!ae()&&r.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/70 p-4 text-rose-800 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[r.jsx(Kl,{className:"h-5 w-5"}),"School not yet open"]})}),(u==null?void 0:u.vacationDate)&&L<uo(u.vacationDate)&&r.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[r.jsx(Si,{className:"h-5 w-5 text-amber-600"}),"School will vacate on: ",u.vacationDate]})}),r.jsx("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:a?r.jsx("div",{className:"p-8 text-center text-sm text-slate-500",children:"Loading attendance..."}):r.jsx("div",{className:"grid gap-3 p-2",children:Q.map(X=>{const ne=t[X],re=X>k,W=O(X,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates),K=((u==null?void 0:u.holidayDates)||[]).find(ue=>ue.date===X),ee=!!K,oe=!!(ne!=null&&ne.isHoliday),he=(ne==null?void 0:ne.holidayReason)||(K==null?void 0:K.reason)||"";return r.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ie(X)}),r.jsx("p",{className:"text-xs text-slate-500",children:X})]}),r.jsx("div",{className:"flex items-center gap-2",children:ee||oe?r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[r.jsx(Gi,{className:"h-4 w-4"}),"Holiday"]}):ne?r.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${ne.approvalStatus==="rejected"?"bg-rose-50 text-rose-700":ne.status==="present"?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[ne.approvalStatus==="pending"?r.jsx(Kl,{className:"h-4 w-4"}):ne.approvalStatus==="rejected"?r.jsx(Ud,{className:"h-4 w-4"}):ne.status==="present"?r.jsx(Rc,{className:"h-4 w-4"}):r.jsx(Ud,{className:"h-4 w-4"}),ne.approvalStatus==="pending"?"PENDING":ne.approvalStatus==="rejected"?"ABSENT":ne.status.toUpperCase()]}):W?re?r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:[r.jsx(Kl,{className:"h-4 w-4"}),"Future"]}):r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:[r.jsx(Si,{className:"h-4 w-4"}),"Pending"]}):r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[r.jsx(Gi,{className:"h-4 w-4"}),uo(X)<uo((u==null?void 0:u.schoolReopenDate)||"")?"Before Reopen":"After Vacation"]})})]}),(ee||oe)&&he&&r.jsxs("div",{className:"text-xs font-medium text-amber-700",children:["Reason: ",he]}),(ne==null?void 0:ne.approvalStatus)==="rejected"&&r.jsx("div",{className:"text-xs font-semibold text-rose-600",children:"Attendance is marked as Absent. Please do not cheat when marking attendance."}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsx("div",{className:"text-xs text-slate-500",children:ee||oe?"Holiday / No School":Ae(X)?"School in session":"Out of session"}),ee||!W||re?null:r.jsxs("div",{className:"flex flex-1 flex-wrap items-center gap-2",children:[!ne&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>H(X,"present"),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-xs font-semibold text-emerald-700 shadow-sm transition hover:scale-[1.02] hover:bg-emerald-100",children:[r.jsx(Rc,{className:"h-4 w-4"}),"Present"]}),r.jsxs("button",{onClick:()=>H(X,"absent"),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 shadow-sm transition hover:scale-[1.02] hover:bg-rose-100",children:[r.jsx(Ud,{className:"h-4 w-4"}),"Absent"]})]}),(!ne||ne.isHoliday)&&r.jsxs("button",{onClick:()=>E(ue=>({...ue,[X]:!ue[X]})),className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-700 shadow-sm transition hover:scale-[1.02] hover:bg-amber-100",children:[r.jsx(Gi,{className:"h-4 w-4"}),ne!=null&&ne.isHoliday?"Update Holiday":"Mark Holiday"]})]})]}),(w[X]||oe)&&(!ne||ne.isHoliday)&&!re&&W&&!ee&&r.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[r.jsx("input",{type:"text",value:x[X]??(ne==null?void 0:ne.holidayReason)??"",onChange:ue=>g(ye=>({...ye,[X]:ue.target.value})),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}),r.jsx("button",{onClick:()=>G(X),disabled:A[X],className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-amber-700 disabled:opacity-50",children:"Save Holiday"})]})]},X)})})})]})})},qY=()=>{const{user:s}=To(),e=(s==null?void 0:s.assignedClassIds)||[],t=(s==null?void 0:s.schoolId)||null,[n,a]=J.useState(""),[o,A]=J.useState([]),[h,u]=J.useState([]),[f,c]=J.useState(""),[m,x]=J.useState({}),[g,w]=J.useState(!1),[E,B]=J.useState(!1),[C,T]=J.useState({currentTerm:`Term ${$i}`,academicYear:Co}),F={testScore:15,homeworkScore:15,projectScore:20,examScore:100};J.useEffect(()=>{e.length>0&&!n&&a(e[0])},[e]),J.useEffect(()=>{(async()=>{try{if(!t)return;const Q=await mt.getSchoolConfig(t);if(T({currentTerm:Q.currentTerm||`Term ${$i}`,academicYear:Q.academicYear||Co}),Q.termTransitionProcessed){console.log("Term transition detected, reloading for fresh data..."),await mt.updateSchoolConfig({...Q,termTransitionProcessed:!1}),window.location.reload();return}const D=new Date;D.setHours(0,0,0,0);const R=Q.nextTermBegins?new Date(Q.nextTermBegins+"T00:00:00"):null;if(R&&D>=R){console.log("New term begins, initiating reset..."),await mt.resetForNewTerm(Q),await mt.updateSchoolConfig({...Q,termTransitionProcessed:!0}),Xt("New term started! Assessments have been reset.",{type:"success"}),window.location.reload();return}}catch(Q){console.error("Failed to load school config",Q)}})()},[t]),J.useEffect(()=>{(async()=>{if(!n||!t){u([]),c("");return}const Q=await mt.getSubjects(t,n);u(Q),Q.length>0?c(Q[0]):c("")})()},[n,t]),J.useEffect(()=>{if(!n||!t)return;(async()=>{const Q=await mt.getStudents(t,n);A(Q)})()},[n,t]),J.useEffect(()=>{if(!n||!f||!t){x({});return}(async()=>{w(!0);const Q=await mt.getAssessments(t,n,f);let D=$i;if(C.currentTerm){const V=C.currentTerm.match(/\d+/);V&&(D=parseInt(V[0],10))}const R={};o.forEach(V=>{const O=Q.find(H=>H.studentId===V.id&&H.term===D);R[V.id]=O||{id:`${V.id}_${f}_${D}_${C.academicYear}`,schoolId:t||"",studentId:V.id,classId:n,term:D,academicYear:C.academicYear,subject:f,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0}}),x(R),w(!1)})()},[n,f,o,C.currentTerm,C.academicYear,t]);const L=(M,Q,D)=>{let R=D===""?0:parseFloat(D);const V=F[Q];R>V&&(R=V),R<0&&(R=0),x(O=>{const H=O[M]||{};return{...O,[M]:{...H,[Q]:R}}})},k=async()=>{var M;if(!(!n||!t)){B(!0);try{let Q=$i;if(C.currentTerm){const V=C.currentTerm.match(/\d+/);V&&(Q=parseInt(V[0],10))}const D=Object.values(m).map(async V=>{if(!V.studentId)return;const O=Fc(V),H={...V,id:V.id||Math.random().toString(36),schoolId:t,total:O,studentId:V.studentId,classId:n,subject:f,term:Q,academicYear:C.academicYear,testScore:V.testScore||0,homeworkScore:V.homeworkScore||0,projectScore:V.projectScore||0,examScore:V.examScore||0};return mt.saveAssessment(H)});await Promise.all(D);const R=((M=Is.find(V=>V.id===n))==null?void 0:M.name)||n;await mt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} updated assessments for ${R} in ${f}.`,"assessment",t),Xt("Saved Successfully",{type:"success"})}catch(Q){console.error(Q),Xt("Error saving data",{type:"error"})}finally{B(!1)}}};return e.length===0?r.jsx(lr,{title:"Assessment",children:r.jsx("div",{className:"p-8 text-center text-slate-500",children:"No class assigned."})}):r.jsx(lr,{title:"Assessment Sheet",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Class"}),r.jsx("select",{value:n,onChange:M=>a(M.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64 bg-white text-black",children:e.map(M=>{const Q=Is.find(D=>D.id===M);return r.jsx("option",{value:M,children:Q==null?void 0:Q.name},M)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Subject"}),r.jsxs("select",{value:f,onChange:M=>c(M.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64",disabled:h.length===0,children:[h.length===0&&r.jsx("option",{children:"Loading subjects..."}),h.map(M=>r.jsx("option",{value:M,children:M},M))]})]})]}),r.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[r.jsx("div",{className:"hidden sm:block",children:r.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[C.currentTerm,"  ",C.academicYear]})}),r.jsxs("button",{onClick:k,disabled:E||!f||!n,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[r.jsx(Ac,{size:18,className:"mr-2"}),E?"Saving...":"Save Scores"]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold uppercase text-xs tracking-wider",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 sticky left-0 bg-slate-100 z-10 w-48",children:"Student Name"}),r.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Class Test",r.jsx("br",{}),r.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),r.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Homework",r.jsx("br",{}),r.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),r.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Project",r.jsx("br",{}),r.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(20)"})]}),r.jsxs("th",{className:"px-2 py-3 w-28 text-center border-l border-slate-200 bg-red-50/50",children:["Exam",r.jsx("br",{}),r.jsx("span",{className:"text-[10px] normal-case font-bold text-red-600",children:"(100)"})]}),r.jsxs("th",{className:"px-4 py-3 w-24 text-center bg-slate-200",children:["Total",r.jsx("br",{}),r.jsx("span",{className:"text-[10px] normal-case",children:"(100%)"})]}),r.jsx("th",{className:"px-4 py-3 w-20 text-center bg-slate-200",children:"Grade"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.map(M=>{const Q=m[M.id]||{},D=Fc(Q),{grade:R,remark:V}=ym(D),O=zg(R);return r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 sticky left-0 bg-white border-r border-slate-100",children:M.name}),r.jsx("td",{className:"px-2 py-2",children:r.jsx("input",{type:"number",min:"0",max:F.testScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:Q.testScore||0,onChange:H=>L(M.id,"testScore",H.target.value),onFocus:H=>H.target.select()})}),r.jsx("td",{className:"px-2 py-2",children:r.jsx("input",{type:"number",min:"0",max:F.homeworkScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:Q.homeworkScore||0,onChange:H=>L(M.id,"homeworkScore",H.target.value),onFocus:H=>H.target.select()})}),r.jsx("td",{className:"px-2 py-2",children:r.jsx("input",{type:"number",min:"0",max:F.projectScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:Q.projectScore||0,onChange:H=>L(M.id,"projectScore",H.target.value),onFocus:H=>H.target.select()})}),r.jsx("td",{className:"px-2 py-2 border-l border-slate-200 bg-red-50/20",children:r.jsx("input",{type:"number",min:"0",max:F.examScore,className:"w-full text-center border border-red-500 rounded p-1 focus:ring-2 focus:ring-red-300 outline-none font-bold text-slate-800 bg-white shadow-sm",value:Q.examScore||0,onChange:H=>L(M.id,"examScore",H.target.value),onFocus:H=>H.target.select()})}),r.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-800 bg-slate-50",children:D}),r.jsx("td",{className:"px-4 py-3 text-center bg-slate-50",children:r.jsx("span",{className:`inline-block w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${O}`,children:R})})]},M.id)}),o.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:n?"No students found in this class.":"Select a class above."})})]})]})})]})})},ZY=()=>{const{user:s}=To(),e=(s==null?void 0:s.assignedClassIds)||[],t=(s==null?void 0:s.schoolId)||null,[n,a]=J.useState(""),[o,A]=J.useState([]),[h,u]=J.useState({}),[f,c]=J.useState(!1),[m,x]=J.useState(!1),[g,w]=J.useState("");J.useEffect(()=>{e.length>0&&!n&&a(e[0])},[e]),J.useEffect(()=>{if(!n||!t)return;(async()=>{c(!0);try{const T=await mt.getStudents(t,n);A(T);const F=await mt.getStudentRemarks(t,n),L={};let k=$i;const M=await mt.getSchoolConfig(t);if(M.currentTerm){const Q=M.currentTerm.match(/\d+/);Q&&(k=parseInt(Q[0],10))}T.forEach(Q=>{const D=F.find(R=>R.studentId===Q.id&&R.term===k);L[Q.id]=(D==null?void 0:D.remark)||""}),u(L)}catch(T){console.error(T)}finally{c(!1)}})()},[n,t]);const E=(C,T)=>{u(F=>({...F,[C]:T}))},B=async()=>{var C;if(!(!n||!t)){x(!0);try{const T=await mt.getSchoolConfig(t);let F=$i;if(T.currentTerm){const M=T.currentTerm.match(/\d+/);M&&(F=parseInt(M[0],10))}const L=Object.entries(h).map(async([M,Q])=>{const D=Q;if(!D.trim())return;const R={id:`${M}_${n}_${F}_${Co}`,studentId:M,classId:n,term:F,academicYear:Co,schoolId:t,remark:D,behaviorTag:"Good",teacherId:(s==null?void 0:s.id)||"",dateCreated:new Date().toISOString().split("T")[0]};await mt.saveStudentRemark(R)});await Promise.all(L);const k=((C=Is.find(M=>M.id===n))==null?void 0:C.name)||n;await mt.addSystemNotification(`${s==null?void 0:s.fullName} updated remarks for ${k}.`,"assessment",t),w("Remarks saved successfully!"),setTimeout(()=>w(""),3e3)}catch(T){console.error(T),w("Error saving remarks"),setTimeout(()=>w(""),3e3)}finally{x(!1)}}};return e.length===0?r.jsx(lr,{title:"Write Remarks",children:r.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})}):r.jsx(lr,{title:"Write Remarks",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[r.jsxs("div",{className:"w-full sm:w-auto",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),r.jsx("select",{value:n,onChange:C=>a(C.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(C=>{const T=Is.find(F=>F.id===C);return r.jsx("option",{value:C,children:T==null?void 0:T.name},C)})})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:B,disabled:m||!n,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[r.jsx(Ac,{size:18,className:"mr-2"}),m?"Saving...":"Save Remarks"]})})]}),g&&r.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),r.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f?r.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):o.map(C=>{var T;return r.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:C.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-800",children:C.name}),r.jsx("p",{className:"text-xs text-slate-400",children:(T=Is.find(F=>F.id===C.classId))==null?void 0:T.name})]})]}),r.jsx("textarea",{value:h[C.id]||"",onChange:F=>E(C.id,F.target.value),placeholder:"Write remarks for this student...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none resize-none",rows:3})]},C.id)}),o.length===0&&r.jsx("div",{className:"p-8 text-center text-slate-500",children:n?"No students found in this class.":"Select a class to view students."})]})]})})},eW=["Excellent","Very Good","Good","Fair","Poor"],tW=()=>{const{user:s}=To(),e=(s==null?void 0:s.assignedClassIds)||[],t=(s==null?void 0:s.schoolId)||null,[n,a]=J.useState(""),[o,A]=J.useState([]),[h,u]=J.useState({}),[f,c]=J.useState(!1),[m,x]=J.useState(!1),[g,w]=J.useState("");J.useEffect(()=>{e.length>0&&!n&&a(e[0])},[e]),J.useEffect(()=>{if(!n||!t)return;(async()=>{c(!0);try{const F=await mt.getStudents(t,n);A(F);const L=await mt.getStudentSkills(t,n),k={};let M=$i;const Q=await mt.getSchoolConfig(t);if(Q.currentTerm){const D=Q.currentTerm.match(/\d+/);D&&(M=parseInt(D[0],10))}F.forEach(D=>{const R=L.find(V=>V.studentId===D.id&&V.term===M);R?k[D.id]=R:k[D.id]={id:`${D.id}_${n}_${M}_${Co}`,studentId:D.id,classId:n,term:M,academicYear:Co,schoolId:t||(Q==null?void 0:Q.schoolId)||"",punctuality:"Good",neatness:"Good",conduct:"Good",attitudeToWork:"Good",classParticipation:"Good",homeworkCompletion:"Good"}}),u(k)}catch(F){console.error(F)}finally{c(!1)}})()},[n,t]);const E=(T,F,L)=>{u(k=>({...k,[T]:{...k[T],[F]:L}}))},B=async()=>{var T;if(!(!n||!t)){x(!0);try{const F=await mt.getSchoolConfig(t);let L=$i;if(F.currentTerm){const Q=F.currentTerm.match(/\d+/);Q&&(L=parseInt(Q[0],10))}const k=Object.values(h).map(async Q=>{await mt.saveStudentSkills(Q)});await Promise.all(k);const M=((T=Is.find(Q=>Q.id===n))==null?void 0:T.name)||n;await mt.addSystemNotification(`${(s==null?void 0:s.fullName)||"Teacher"} updated skills for ${M}.`,"assessment",t),w("Skills saved successfully!"),setTimeout(()=>w(""),3e3)}catch(F){console.error(F),w("Error saving skills"),setTimeout(()=>w(""),3e3)}finally{x(!1)}}};if(e.length===0)return r.jsx(lr,{title:"Edit Skills",children:r.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const C=[{key:"punctuality",label:"Punctuality"},{key:"neatness",label:"Neatness"},{key:"conduct",label:"Conduct"},{key:"attitudeToWork",label:"Attitude to Work"},{key:"classParticipation",label:"Class Participation"},{key:"homeworkCompletion",label:"Homework Completion"}];return r.jsx(lr,{title:"Edit Skills",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[r.jsxs("div",{className:"w-full sm:w-auto",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),r.jsx("select",{value:n,onChange:T=>a(T.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(T=>{const F=Is.find(L=>L.id===T);return r.jsx("option",{value:T,children:F==null?void 0:F.name},T)})})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:B,disabled:m||!n,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[r.jsx(Ac,{size:18,className:"mr-2"}),m?"Saving...":"Save Skills"]})})]}),g&&r.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),r.jsxs("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:[f?r.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left w-48",children:"Student Name"}),C.map(T=>r.jsx("th",{className:"px-2 py-3 text-center",children:T.label},T.key))]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(T=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:T.name.charAt(0)}),T.name]})}),C.map(F=>{var L;return r.jsx("td",{className:"px-2 py-3",children:r.jsx("select",{value:((L=h[T.id])==null?void 0:L[F.key])||"Good",onChange:k=>E(T.id,F.key,k.target.value),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-center",children:eW.map(k=>r.jsx("option",{value:k,children:k},k))})},F.key)})]},T.id))})]}),o.length===0&&r.jsx("div",{className:"p-8 text-center text-slate-500",children:n?"No students found in this class.":"Select a class to view students."})]})]})})},sW=()=>{const{user:s}=To(),[e,t]=J.useState([]),[n,a]=J.useState(!0),[o,A]=J.useState(!1),[h,u]=J.useState({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),[f,c]=J.useState(!1),[m,x]=J.useState(null),[g,w]=J.useState(!1),[E,B]=J.useState(!1),[C,T]=J.useState(""),[F,L]=J.useState(1),[k,M]=J.useState({x:0,y:0}),[Q,D]=J.useState({width:0,height:0}),R=J.useRef(null),V=180,O=512,H=V/2,G=ne=>{if(!ne)return"N/A";const re=ne,W=re instanceof Date?re:typeof(re==null?void 0:re.toDate)=="function"?re.toDate():typeof re=="string"||typeof re=="number"?new Date(re):null;return!W||Number.isNaN(W.getTime())?"N/A":W.toLocaleDateString()};J.useEffect(()=>{const ne=Fs(Ct,"schools");return Fd(ne,W=>{const K=W.docs.map(ee=>({id:ee.id,...ee.data()}));t(K),a(!1)})},[]);const ae=async ne=>{if(ne.preventDefault(),!h.name.trim())return;const re=()=>{if(!C||!R.current)return"";const W=R.current,K=Q.width||W.naturalWidth||1,ee=Q.height||W.naturalHeight||1,he=Math.max(V/K,V/ee)*F*(O/V),ue=k.x*(O/V),ye=k.y*(O/V),je=document.createElement("canvas");je.width=O,je.height=O;const ve=je.getContext("2d");if(!ve)return"";const _e=K*he,ke=ee*he,Me=O/2-_e/2+ue,Je=O/2-ke/2+ye;return ve.drawImage(W,Me,Je,_e,ke),je.toDataURL("image/png")};w(!0);try{const W=re();await N7({name:h.name.trim(),phone:h.phone.trim(),address:h.address.trim(),logoUrl:W||"",plan:h.plan}),u({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),T(""),L(1),M({x:0,y:0}),D({width:0,height:0}),A(!1),Xt("School created successfully!",{type:"success"})}catch(W){console.error("Error creating school:",W),Xt(W.message||"Failed to create school",{type:"error"})}finally{w(!1)}},Ae=ne=>{var K;const re=(K=ne.target.files)==null?void 0:K[0];if(!re){T(""),D({width:0,height:0});return}const W=new FileReader;W.onload=()=>{T(W.result),L(1),M({x:0,y:0})},W.readAsDataURL(re)},ie=async(ne,re)=>{try{const W=re==="active"?"inactive":"active";await Ph(Qs(Ct,"schools",ne),{status:W}),Xt(`School ${W==="active"?"activated":"deactivated"}`,{type:"success"})}catch(W){console.error("Error updating school status:",W),Xt("Failed to update school status",{type:"error"})}},le=async()=>{if(m)try{B(!0);const ne=m.id,re=400,W=await Xs(Ms(Fs(Ct,"users"),os("schoolId","==",ne)));let K=0;const ee=[];for(let ue=0;ue<W.docs.length;ue+=re){const ye=G5(Ct),je=W.docs.slice(ue,ue+re);for(const ve of je)ye.delete(Qs(Ct,"users",ve.id));ee.push(ye.commit()),K+=je.length}ee.length>0&&(await Promise.all(ee),console.log(`Deleted ${K} user documents`));const oe=["students","classes","attendance","assessments","teacher_attendance","notices","student_remarks","student_skills","admin_remarks","admin_notifications","timetables","class_subjects","settings"];let he=0;for(const ue of oe)if(ue==="settings")try{await Hi(Qs(Ct,"settings",ne)),he+=1}catch{console.log(`Settings document ${ne} not found or already deleted`)}else{const ye=Ms(Fs(Ct,ue),os("schoolId","==",ne)),ve=(await Xs(ye)).docs.map(_e=>_e.id);if(ve.length>0)for(let _e=0;_e<ve.length;_e+=re){const ke=G5(Ct),Me=ve.slice(_e,_e+re);for(const Je of Me)ke.delete(Qs(Ct,ue,Je));await ke.commit(),he+=Me.length}}await Hi(Qs(Ct,"schools",ne)),Xt(`School deleted successfully! Removed ${K} users and ${he} data records.`,{type:"success"}),c(!1),x(null)}catch(ne){console.error("Error deleting school:",ne),Xt(ne.message||"Failed to delete school",{type:"error"})}finally{B(!1)}},X=ne=>{x(ne),c(!0)};return n?r.jsx(lr,{title:"Schools",children:r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):r.jsxs(lr,{title:"Schools",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Schools Management"}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Manage all schools in the system"})]}),r.jsxs("button",{onClick:()=>A(!0),className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors",children:[r.jsx(Yh,{size:18,className:"mr-2"}),"Create School"]})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4",children:"Name"}),r.jsx("th",{className:"px-6 py-4",children:"Code"}),r.jsx("th",{className:"px-6 py-4",children:"Status"}),r.jsx("th",{className:"px-6 py-4",children:"Plan"}),r.jsx("th",{className:"px-6 py-4",children:"Created"}),r.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400",children:"No schools created yet."})}):e.map(ne=>r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center overflow-hidden",children:ne.logoUrl?r.jsx("img",{src:ne.logoUrl,alt:ne.name,className:"w-full h-full object-cover"}):r.jsx(Sx,{size:16,className:"text-slate-600"})}),ne.name]}),r.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:ne.code}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ne.status==="active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:ne.status==="active"?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 capitalize",children:ne.plan}),r.jsx("td",{className:"px-6 py-4",children:G(ne.createdAt)}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>ie(ne.id,ne.status),className:`p-1 rounded transition-colors ${ne.status==="active"?"text-[#1160A8] hover:bg-[#E6F0FA]":"text-emerald-600 hover:bg-emerald-50"}`,title:ne.status==="active"?"Deactivate":"Activate",children:ne.status==="active"?r.jsx(zM,{size:18}):r.jsx(VM,{size:18})}),r.jsx(da,{to:`/super-admin/schools/${ne.id}`,className:"p-1 text-slate-600 hover:bg-slate-50 rounded transition-colors",title:"View Details",children:r.jsx(Qu,{size:18})}),r.jsx("button",{onClick:()=>X(ne),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete School",children:r.jsx(Lc,{size:18})})]})})]},ne.id))})]})})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Create New School"}),r.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-slate-700",children:r.jsx(oo,{size:20})})]}),r.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"School Name"}),r.jsx("input",{type:"text",required:!0,disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.name,onChange:ne=>u({...h,name:ne.target.value}),placeholder:"Enter school name"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.phone,onChange:ne=>u({...h,phone:ne.target.value}),placeholder:"School phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),r.jsx("input",{type:"text",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.address,onChange:ne=>u({...h,address:ne.target.value}),placeholder:"School address"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Logo Upload (Optional)"}),r.jsx("input",{type:"file",accept:"image/*",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg bg-white focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",onChange:Ae}),C&&r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[r.jsx("span",{children:"Crop to square"}),r.jsxs("span",{children:[Math.round(F*100),"%"]})]}),r.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:V,height:V},children:r.jsx("img",{ref:R,src:C,alt:"Logo preview",onLoad:ne=>{const re=ne.currentTarget;D({width:re.naturalWidth,height:re.naturalHeight})},style:{width:Q.width?`${Math.max(V,V/Q.height*Q.width)*F}px`:"auto",height:Q.height?`${Math.max(V,V/Q.width*Q.height)*F}px`:"auto",transform:`translate(${k.x}px, ${k.y}px)`}})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),r.jsx("input",{type:"range",min:1,max:3,step:.05,value:F,onChange:ne=>L(parseFloat(ne.target.value)),className:"w-full"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),r.jsx("input",{type:"range",min:-H,max:H,value:k.x,onChange:ne=>M(re=>({...re,x:parseFloat(ne.target.value)})),className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),r.jsx("input",{type:"range",min:-H,max:H,value:k.y,onChange:ne=>M(re=>({...re,y:parseFloat(ne.target.value)})),className:"w-full"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan"}),r.jsxs("select",{disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.plan,onChange:ne=>u({...h,plan:ne.target.value}),children:[r.jsx("option",{value:"free",children:"Free (No Billing)"}),r.jsx("option",{value:"trial",children:"Trial"}),r.jsx("option",{value:"monthly",children:"Monthly"}),r.jsx("option",{value:"termly",children:"Termly"}),r.jsx("option",{value:"yearly",children:"Yearly"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[r.jsx("button",{type:"button",disabled:g,onClick:()=>A(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:g,className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ac,{size:18,className:"mr-2"}),"Create School"]})})]})]}),g&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"w-16 h-16 mx-auto",children:r.jsx(Sx,{size:64,className:"text-[#0B4A82] animate-pulse"})}),r.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-[#E6F0FA] rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-[#0B4A82] rounded-full animate-pulse"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Creating Your School"}),r.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Setting up everything perfectly..."})]}),r.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[r.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-75"}),r.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-150"})]})]})})]})}),f&&m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete School"}),r.jsx("button",{onClick:()=>c(!1),disabled:E,className:"text-slate-400 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(oo,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Are you sure you want to delete this school?"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. All associated data including students, teachers, admin accounts, and all school records will be permanently removed from the system."})]})]})}),r.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:r.jsx(Sx,{size:20,className:"text-slate-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:m.name}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Code: ",m.code]})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[r.jsx("button",{onClick:()=>c(!1),disabled:E,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{onClick:le,disabled:E,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete School"})]}),E&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"w-16 h-16 mx-auto",children:r.jsx(Lc,{size:64,className:"text-red-600 animate-pulse"})}),r.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-red-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-red-300 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-red-500 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Deleting School"}),r.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Removing associated data safely..."})]}),r.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-75"}),r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-150"})]})]})})]})})]})},nW=()=>{const{schoolId:s}=oF(),e=Nm(),[t,n]=J.useState(null),[a,o]=J.useState(null),[A,h]=J.useState(s||null),[u,f]=J.useState(!0),[c,m]=J.useState(!1),[x,g]=J.useState(!1),[w,E]=J.useState(!1),[B,C]=J.useState({fullName:"",email:"",password:""}),[T,F]=J.useState(!1),[L,k]=J.useState(null),[M,Q]=J.useState({students:"0",teachers:"0",lastActivity:"Coming soon"}),[D,R]=J.useState(!1),[V,O]=J.useState(""),[H,G]=J.useState(!1),[ae,Ae]=J.useState(!1),[ie,le]=J.useState(""),[X,ne]=J.useState(""),[re,W]=J.useState(1),[K,ee]=J.useState({x:0,y:0}),[oe,he]=J.useState({width:0,height:0}),ue=J.useRef(null),ye=Ve=>{if(!Ve)return"";const Fe=typeof(Ve==null?void 0:Ve.toDate)=="function"?Ve.toDate():Ve,lt=Fe instanceof Date?Fe:new Date(Fe);return!lt||Number.isNaN(lt.getTime())?"":lt.toISOString().split("T")[0]},je=180,ve=512,_e=je/2;J.useEffect(()=>{if(!s)return;(async()=>{var Fe,lt;try{let xt=await iA(Qs(Ct,"schools",s));if(!xt.exists()){const es=Ms(Fs(Ct,"schools"),os("schoolId","==",s)),qt=(await Xs(es)).docs[0];if(!qt){Xt("School not found",{type:"error"}),e("/super-admin/schools");return}xt=qt}const Et={id:xt.id,...xt.data()};n(Et),h(xt.id);const Jt=Et.createdAt&&((lt=(Fe=Et.createdAt)==null?void 0:Fe.toDate)!=null&&lt.call(Fe))?Et.createdAt.toDate():null;o({name:Et.name||"",code:Et.code||"",phone:Et.phone||"",address:Et.address||"",logoUrl:Et.logoUrl||"",status:Et.status||"active",plan:Et.plan||"trial",planEndsAt:ye(Et.planEndsAt),notes:Et.notes||""});const Mt=Ms(Fs(Ct,"users"),os("role","==",pn.SCHOOL_ADMIN),os("schoolId","==",Et.id)),ft=(await Xs(Mt)).docs[0];k(ft?{id:ft.id,...ft.data()}:null);const[Ye,At]=await Promise.all([Xs(Ms(Fs(Ct,"students"),os("schoolId","==",Et.id))),Xs(Ms(Fs(Ct,"users"),os("schoolId","==",Et.id),os("role","==",pn.TEACHER)))]);Q({students:Ye.size.toString(),teachers:At.size.toString(),lastActivity:Jt?Jt.toLocaleDateString():""})}catch(xt){console.error("Error fetching school:",xt),Xt("Failed to load school details",{type:"error"})}finally{f(!1)}})()},[s,e]);const ke=J.useMemo(()=>{var Fe,lt;if(!(t!=null&&t.createdAt))return"";const Ve=(lt=(Fe=t.createdAt)==null?void 0:Fe.toDate)!=null&&lt.call(Fe)?t.createdAt.toDate():new Date(t.createdAt);return!Ve||Number.isNaN(Ve.getTime())?"":Ve.toLocaleDateString()},[t==null?void 0:t.createdAt]),Me=(Ve,Fe)=>{a&&o({...a,[Ve]:Fe})},Je=Ve=>{var xt;const Fe=(xt=Ve.target.files)==null?void 0:xt[0];if(!Fe){ne(""),he({width:0,height:0});return}const lt=new FileReader;lt.onload=()=>{ne(lt.result),W(1),ee({x:0,y:0})},lt.readAsDataURL(Fe)},at=()=>{if(!a)return!1;if(!a.name.trim())return Xt("School name is required.",{type:"error"}),!1;if(a.phone&&a.phone.trim().length<7)return Xt("Phone number is too short.",{type:"error"}),!1;if(a.planEndsAt){const Ve=new Date(a.planEndsAt),Fe=new Date;if(Fe.setHours(0,0,0,0),Ve<Fe)return Xt("Plan end date cannot be in the past.",{type:"error"}),!1}return!0},ge=async()=>{if(!A||!a||!at())return;const Ve=()=>{if(!X||!ue.current)return"";const Fe=ue.current,lt=oe.width||Fe.naturalWidth||1,xt=oe.height||Fe.naturalHeight||1,Jt=Math.max(je/lt,je/xt)*re*(ve/je),Mt=K.x*(ve/je),He=K.y*(ve/je),ft=document.createElement("canvas");ft.width=ve,ft.height=ve;const Ye=ft.getContext("2d");if(!Ye)return"";const At=lt*Jt,es=xt*Jt,Gt=ve/2-At/2+Mt,qt=ve/2-es/2+He;return Ye.drawImage(Fe,Gt,qt,At,es),ft.toDataURL("image/png")};m(!0);try{const lt=Ve()||a.logoUrl.trim();await Pi(Qs(Ct,"schools",A),{name:a.name.trim(),code:a.code.trim(),phone:a.phone.trim(),address:a.address.trim(),logoUrl:lt,status:a.status,plan:a.plan,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null,notes:a.notes.trim()},{merge:!0}),Xt("School updated successfully.",{type:"success"}),n(xt=>xt&&{...xt,...a,logoUrl:lt,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null}),o(xt=>xt&&{...xt,logoUrl:lt}),ne(""),W(1),ee({x:0,y:0}),he({width:0,height:0})}catch(Fe){console.error("Failed to update school",Fe),Xt(Fe.message||"Failed to update school.",{type:"error"})}finally{m(!1)}},ht=()=>{t&&o({name:t.name||"",code:t.code||"",phone:t.phone||"",address:t.address||"",logoUrl:t.logoUrl||"",status:t.status||"active",plan:t.plan||"trial",planEndsAt:ye(t.planEndsAt),notes:t.notes||""})},Kt=async Ve=>{if(Ve.preventDefault(),!!A&&!(!B.fullName.trim()||!B.email.trim())){F(!0);try{const Fe=await S7({schoolId:A,fullName:B.fullName.trim(),email:B.email.trim(),password:B.password.trim()||void 0});Xt(B.password.trim()?`Admin created: ${Fe.email}`:`Admin created: ${Fe.email}. Reset link sent.`,{type:"success"}),C({fullName:"",email:"",password:""}),g(!1);const lt=Ms(Fs(Ct,"users"),os("role","==",pn.SCHOOL_ADMIN),os("schoolId","==",s)),Et=(await Xs(lt)).docs[0];k(Et?{id:Et.id,...Et.data()}:null)}catch(Fe){console.error("Error creating admin:",Fe),Xt(Fe.message||"Failed to create admin.",{type:"error"})}finally{F(!1)}}},Pt=async()=>{if(L)try{const Ve=await C7({adminUid:L.id});le(Ve.resetLink||""),Ae(!0),Ve.resetLink&&(await navigator.clipboard.writeText(Ve.resetLink),Xt("Reset link copied to clipboard.",{type:"success"}))}catch(Ve){console.error("Failed to reset admin password",Ve),Xt(Ve.message||"Failed to reset admin password.",{type:"error"})}},Le=async()=>{if(!L)return;const Ve=L.status==="active"?"inactive":"active";try{await Ph(Qs(Ct,"users",L.id),{status:Ve}),k({...L,status:Ve}),Xt(Ve==="active"?"Admin activated successfully.":"Admin disabled successfully.",{type:"success"})}catch(Fe){console.error("Failed to update admin status",Fe),Xt(Fe.message||"Failed to update admin status.",{type:"error"})}},jt=async()=>{if(!(!t||V.trim()!==t.name)){G(!0);try{await I7({schoolId:t.id}),Xt("School deleted successfully.",{type:"success"}),R(!1),e("/super-admin/schools")}catch(Ve){console.error("Failed to delete school",Ve),Xt(Ve.message||"Failed to delete school.",{type:"error"})}finally{G(!1),O("")}}};return u?r.jsx(lr,{title:"School Details",children:r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):!t||!a?r.jsx(lr,{title:"School Details",children:r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-slate-500",children:"School not found"})})}):r.jsxs(lr,{title:"School Details",children:[r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("button",{onClick:()=>e("/super-admin/schools"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 text-sm",children:[r.jsx(OT,{size:16}),"Schools / ",t.name]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center overflow-hidden",children:t.logoUrl?r.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-full h-full object-cover"}):r.jsx(BP,{className:"text-slate-500"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.name}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(xm,{size:14})," Code: ",t.code||""]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Si,{size:14})," Created: ",ke]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:t.status==="active"?"Active":"Inactive"}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-600",children:t.plan})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_1.4fr] gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Overview"}),r.jsxs("div",{className:"grid gap-3 text-sm text-slate-600",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(SM,{size:16}),r.jsx("span",{children:t.phone||"No phone"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dM,{size:16}),r.jsx("span",{children:t.address||"No address"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xm,{size:16}),r.jsx("span",{children:t.notes||"No internal notes"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Administration"}),!L&&r.jsx("button",{onClick:()=>g(!0),className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Create Admin"})]}),L?r.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:L.fullName}),r.jsx("p",{className:"text-sm text-slate-500",children:L.email})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:L.status})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:Pt,className:"px-3 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",children:"Reset Admin Password"}),r.jsx("button",{onClick:Le,className:`px-3 py-2 rounded-lg border text-sm ${L.status==="active"?"border-red-200 text-red-600 hover:bg-red-50":"border-emerald-200 text-emerald-600 hover:bg-emerald-50"}`,children:L.status==="active"?"Disable Admin":"Activate Admin"})]})]}):r.jsx("div",{className:"text-sm text-slate-500",children:"No admin assigned yet."})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Total students",value:M.students},{label:"Total teachers",value:M.teachers},{label:"Last activity",value:M.lastActivity}].map(Ve=>r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-4",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:Ve.label}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Ve.value})]},Ve.label))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Edit School Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Name"}),r.jsx("input",{value:a.name,onChange:Ve=>Me("name",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Code"}),r.jsx("input",{value:a.code,onChange:Ve=>Me("code",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),r.jsx("input",{value:a.phone,onChange:Ve=>Me("phone",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Status"}),r.jsxs("select",{value:a.status,onChange:Ve=>Me("status",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Address"}),r.jsx("input",{value:a.address,onChange:Ve=>Me("address",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Logo Upload"}),r.jsx("input",{type:"file",accept:"image/*",onChange:Je,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white"}),a.logoUrl&&!X&&r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Current logo is saved. Upload a new file to replace it."}),X&&r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[r.jsx("span",{children:"Crop to square"}),r.jsxs("span",{children:[Math.round(re*100),"%"]})]}),r.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:je,height:je},children:r.jsx("img",{ref:ue,src:X,alt:"Logo preview",onLoad:Ve=>{const Fe=Ve.currentTarget;he({width:Fe.naturalWidth,height:Fe.naturalHeight})},style:{width:oe.width?`${Math.max(je,je/oe.height*oe.width)*re}px`:"auto",height:oe.height?`${Math.max(je,je/oe.width*oe.height)*re}px`:"auto",transform:`translate(${K.x}px, ${K.y}px)`}})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),r.jsx("input",{type:"range",min:1,max:3,step:.05,value:re,onChange:Ve=>W(parseFloat(Ve.target.value)),className:"w-full"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),r.jsx("input",{type:"range",min:-_e,max:_e,value:K.x,onChange:Ve=>ee(Fe=>({...Fe,x:parseFloat(Ve.target.value)})),className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),r.jsx("input",{type:"range",min:-_e,max:_e,value:K.y,onChange:Ve=>ee(Fe=>({...Fe,y:parseFloat(Ve.target.value)})),className:"w-full"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan"}),r.jsxs("select",{value:a.plan,onChange:Ve=>Me("plan",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[r.jsx("option",{value:"free",children:"Free (No Billing)"}),r.jsx("option",{value:"trial",children:"Trial"}),r.jsx("option",{value:"monthly",children:"Monthly"}),r.jsx("option",{value:"termly",children:"Termly"}),r.jsx("option",{value:"yearly",children:"Yearly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan Ends At"}),r.jsx("input",{type:"date",value:a.planEndsAt,onChange:Ve=>Me("planEndsAt",Ve.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Internal Notes"}),r.jsx("textarea",{value:a.notes,onChange:Ve=>Me("notes",Ve.target.value),rows:4,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[r.jsx("button",{onClick:ht,className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),r.jsxs("button",{onClick:ge,disabled:c,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white flex items-center gap-2 disabled:opacity-60",children:[r.jsx(Ac,{size:16})," ",c?"Saving...":"Save Changes"]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-red-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[r.jsx(t1,{size:18}),r.jsx("h2",{className:"text-lg font-semibold",children:"Danger Zone"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>Me("status",a.status==="active"?"inactive":"active"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[r.jsx("span",{children:a.status==="active"?"Deactivate School":"Activate School"}),r.jsx(Lc,{size:16})]}),r.jsxs("button",{onClick:()=>R(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[r.jsx("span",{children:"Delete School"}),r.jsx(Lc,{size:16})]})]})]})]})]})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create School Admin"}),r.jsx("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-slate-700",children:r.jsx(oo,{size:18})})]}),r.jsxs("form",{onSubmit:Kt,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Full Name"}),r.jsx("input",{value:B.fullName,onChange:Ve=>C({...B,fullName:Ve.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email"}),r.jsx("input",{type:"email",value:B.email,onChange:Ve=>C({...B,email:Ve.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Password (optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:w?"text":"password",value:B.password,onChange:Ve=>C({...B,password:Ve.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 pr-10"}),r.jsx("button",{type:"button",onClick:()=>E(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:w?r.jsx(u2,{size:16}):r.jsx(Qu,{size:16})})]}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Leave blank to send a reset link."})]}),r.jsxs("button",{type:"submit",disabled:T,className:"w-full py-2 rounded-xl bg-emerald-600 text-white flex items-center justify-center gap-2 disabled:opacity-60",children:[r.jsx(f2,{size:16}),T?"Creating...":"Create Admin"]})]})]})}),D&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[r.jsx(t1,{size:18}),r.jsx("h3",{className:"text-lg font-semibold",children:"Delete School"})]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Type ",r.jsx("span",{className:"font-semibold",children:t.name})," to confirm deletion."]}),r.jsx("input",{value:V,onChange:Ve=>O(Ve.target.value),className:"w-full border border-slate-200 rounded-xl px-3 py-2"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),r.jsx("button",{onClick:jt,disabled:V.trim()!==t.name||H,className:"flex-1 py-2 rounded-xl bg-red-600 text-white disabled:opacity-60",children:H?"Deleting...":"Delete"})]})]})}),ae&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[r.jsx(t1,{size:18}),r.jsx("h3",{className:"text-lg font-semibold",children:"Reset Admin Password"})]}),r.jsx("button",{onClick:()=>Ae(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50","aria-label":"Close",children:r.jsx(oo,{size:16})})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Click the link button to be redirected to the reset password page."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>Ae(!1),className:"flex-1 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Close"}),r.jsx("a",{href:ie||"#",target:"_blank",rel:"noreferrer",className:`flex-1 py-2 rounded-xl text-center text-white ${ie?"bg-[#0B4A82] hover:bg-[#1160A8]":"bg-slate-300 pointer-events-none"}`,children:"Open Reset Link"})]})]})})]})},wu=({children:s,className:e=""})=>r.jsx("div",{className:`bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow p-6 ${e}`,children:s}),dx=({label:s,value:e,hint:t,icon:n,trend:a=0})=>r.jsxs(wu,{className:"group hover:-translate-y-0.5 hover:shadow-lg transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:s}),r.jsx("div",{className:"text-3xl md:text-4xl font-bold text-slate-900 mt-2",children:e})]}),r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white ${a>=0?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-amber-400 to-amber-600"}`,children:n})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[t&&r.jsx("div",{className:"text-xs text-slate-500",children:t}),a!==void 0&&r.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${a>=0?"text-emerald-600":"text-[#0B4A82]"}`,children:[a>=0?r.jsx(kT,{size:14}):r.jsx(dP,{size:14}),Math.abs(a),"%"]})]}),r.jsx("div",{className:"mt-3 h-1 bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100 rounded-full opacity-50"})]}),hx=({icon:s,title:e,count:t,description:n,accentColor:a})=>r.jsx(wu,{className:`border-l-4 ${a} group hover:shadow-lg transition-all`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white ${a.replace("border","bg")}`,children:s}),r.jsx("h3",{className:"font-semibold text-slate-800",children:e})]}),r.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:t}),r.jsx("p",{className:"text-sm text-slate-600",children:n})]}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-50 transition",children:r.jsx(PT,{size:18,className:"text-slate-400"})})]})}),jd=({className:s="h-6 bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 rounded animate-pulse"})=>r.jsx("div",{className:s}),V1=({icon:s,title:e,description:t,action:n})=>r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"flex justify-center mb-4",children:s}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:e}),r.jsx("p",{className:"text-sm text-slate-600 mb-6",children:t}),n&&r.jsx("button",{onClick:n.onClick,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-sm font-medium",children:n.label})]}),rW=s=>{if(!s)return"";if(s instanceof Jn)return s.toDate().toLocaleString();const e=new Date(s);return Number.isNaN(e.getTime())?"":e.toLocaleString()},aW=s=>{const e=s.eventType||"activity",t=s.meta||{};switch(e){case"school_created":return`School created (${t.name||"Unnamed"})`;case"school_admin_created":return`School admin created (${t.email||"email"})`;case"school_admin_password_reset":return`School admin password reset (${t.email||"email"})`;case"user_provisioned":return`User provisioned (${t.email||"email"})`;case"teacher_created":return`Teacher created (${t.email||"email"})`;case"backup_created":return`Backup created (${t.term||"term"} ${t.academicYear||""})`;case"billing_initiated":return`Billing initiated (${t.currency||"GHS"} ${t.amount||""})`;case"billing_verified_success":return"Billing verified (success)";case"billing_verified_failed":return"Billing verified (failed)";case"billing_webhook_success":return"Billing webhook (success)";case"billing_webhook_failed":return"Billing webhook (failed)";default:return e.replace(/_/g," ")}},v_=()=>{const{user:s}=To(),[e,t]=J.useState([]),[n,a]=J.useState([]),[o,A]=J.useState(""),[h,u]=J.useState([]),[f,c]=J.useState(!1),[m,x]=J.useState(""),[g,w]=J.useState(""),[E,B]=J.useState(""),[C,T]=J.useState("inactive"),[F,L]=J.useState(null),[k,M]=J.useState({summary:{},perSchool:{}}),Q=J.useCallback(async()=>{c(!0);try{const re=Fs(Ct,"schools"),K=(await Xs(re)).docs.map(ke=>({id:ke.id,...ke.data()}));t(K);const ee=Fs(Ct,"activity_logs"),oe=Ms(ee,sv("createdAt","desc"),im(20)),ue=(await Xs(oe)).docs.map(ke=>({id:ke.id,...ke.data()}));a(ue);const ye=Fs(Ct,"payments"),je=Ms(ye,sv("createdAt","desc"),im(200)),_e=(await Xs(je)).docs.map(ke=>({id:ke.id,...ke.data()}));u(_e),L(new Date)}catch(re){console.error(re)}finally{c(!1)}},[]);J.useEffect(()=>{if(!e.length)return;(async()=>{try{const W=new Date,ee=(Ve=>{const Fe=Ve.getFullYear(),lt=String(Ve.getMonth()+1).padStart(2,"0"),xt=String(Ve.getDate()).padStart(2,"0");return`${Fe}-${lt}-${xt}`})(W),oe=new Date(W);oe.setHours(0,0,0,0);const he=new Date(W);he.setHours(23,59,59,999);const ue=oe.getTime(),ye=he.getTime(),je=e.length,ve={attendance:{completed:0,total:je},teacherAttendance:{completed:0,total:je},assessments:{completed:0,total:je},timetable:{completed:0,total:je},notices:{completed:0,total:je}},_e={},[ke,Me,Je,at,ge]=await Promise.all([Xs(Ms(Fs(Ct,"attendance"),os("date","==",ee))),Xs(Ms(Fs(Ct,"teacher_attendance"),os("date","==",ee))),Xs(Ms(Fs(Ct,"assessments"),os("createdAt",">=",ue),os("createdAt","<=",ye))),Xs(Fs(Ct,"timetables")),Xs(Ms(Fs(Ct,"notices"),os("createdAt",">=",ue),os("createdAt","<=",ye)))]),ht=new Set(ke.docs.map(Ve=>Ve.data().schoolId).filter(Boolean)),Kt=new Set(Me.docs.map(Ve=>Ve.data().schoolId).filter(Boolean)),Pt=new Set(Je.docs.map(Ve=>Ve.data().schoolId).filter(Boolean)),Le=new Set(at.docs.map(Ve=>Ve.data().schoolId).filter(Boolean)),jt=new Set(ge.docs.map(Ve=>Ve.data().schoolId).filter(Boolean));e.forEach(Ve=>{const Fe=Ve.id;if(!Fe)return;const lt={attendance:ht.has(Fe),teacherAttendance:Kt.has(Fe),assessments:Pt.has(Fe),timetable:Le.has(Fe),notices:jt.has(Fe)};_e[Fe]=lt,lt.attendance&&(ve.attendance.completed+=1),lt.teacherAttendance&&(ve.teacherAttendance.completed+=1),lt.assessments&&(ve.assessments.completed+=1),lt.timetable&&(ve.timetable.completed+=1),lt.notices&&(ve.notices.completed+=1)}),M({summary:ve,perSchool:_e})}catch(W){console.error("Failed to load daily checklist",W)}})()},[e]),J.useEffect(()=>{Q()},[Q]);const D=J.useMemo(()=>{const re=e.length,W=e.filter(je=>je.status==="active").length,K=e.filter(je=>je.status==="inactive").length,ee=e.filter(je=>je.plan==="trial").length,oe=e.filter(je=>je.plan==="free").length,he=e.filter(je=>je.plan&&je.plan!=="trial"&&je.plan!=="free").length,ue=e.filter(je=>je.createdAt?(je.createdAt instanceof Jn?je.createdAt.toDate():new Date(je.createdAt))>=new Date(Date.now()-720*60*60*1e3):!1).length,ye=new Set(n.filter(je=>je.createdAt?(je.createdAt instanceof Jn?je.createdAt.toDate():new Date(je.createdAt))>=new Date(Date.now()-10080*60*1e3):!1).map(je=>je.schoolId)).size;return{total:re,active:W,inactive:K,trial:ee,free:oe,paid:he,newSchools:ue,activeLast7:ye}},[e,n]),R=J.useMemo(()=>o?n.filter(re=>re.eventType===o):n,[n,o]),V=re=>{const W=String(re||"pending").toLowerCase();return["success","paid","active"].includes(W)?"success":["failed","failure","past_due"].includes(W)||["abandoned","cancelled","canceled"].includes(W)?"failed":"pending"},O=(re,W="GHS")=>new Intl.NumberFormat("en-GH",{style:"currency",currency:W,maximumFractionDigits:2}).format(re),H=J.useMemo(()=>{const re=new Date,W=[];for(let Me=0;Me<12;Me+=1){const Je=new Date(re.getFullYear(),Me,1),at=`${Je.getFullYear()}-${String(Je.getMonth()+1).padStart(2,"0")}`,ge=Je.toLocaleString("en-US",{month:"short"});W.push({key:at,label:ge})}const K=Object.fromEntries(W.map(Me=>[Me.key,0])),ee=Object.fromEntries(W.map(Me=>[Me.key,0])),oe=new Date(Date.now()-720*60*60*1e3);let he=0,ue=0,ye=0,je=0,ve=0;h.forEach(Me=>{const Je=V(Me.status),at=Me.amount??0,ge=at>=100?at/100:at,ht=Me.createdAt instanceof Jn?Me.createdAt.toDate():new Date(Me.createdAt||0);if(Je==="success"){he+=ge,ue+=1,ht>=oe&&(ve+=ge);const Kt=`${ht.getFullYear()}-${String(ht.getMonth()+1).padStart(2,"0")}`;K[Kt]!==void 0&&(K[Kt]+=ge),ee[Kt]!==void 0&&(ee[Kt]+=ge)}Je==="pending"&&(ye+=1),Je==="failed"&&(je+=1)});const _e=ue+ye+je,ke=_e?Math.round(ue/_e*100):0;return{paidAmount:he,paidCount:ue,pendingCount:ye,failedCount:je,last30Amount:ve,successRate:ke,monthlySeries:W.map(Me=>({label:Me.label,value:K[Me.key]||0})),monthlyFeesSeries:W.map(Me=>({label:Me.label,value:ee[Me.key]||0}))}},[h]),G=J.useMemo(()=>{const re={free:0,trial:0,monthly:0,termly:0,yearly:0};return e.forEach(W=>{const K=W.plan||"trial";re[K]=(re[K]||0)+1}),re},[e]),ae=e.filter(re=>!(m&&!re.name.toLowerCase().includes(m.toLowerCase())||g&&re.status!==g||E&&re.plan!==E)),Ae=e.filter(re=>re.status!=="active"),ie=e.filter(re=>re.plan==="trial"&&re.planEndsAt).sort((re,W)=>{const K=re.planEndsAt instanceof Jn?re.planEndsAt.toDate().getTime():new Date(re.planEndsAt).getTime(),ee=W.planEndsAt instanceof Jn?W.planEndsAt.toDate().getTime():new Date(W.planEndsAt).getTime();return K-ee}),le=e.filter(re=>re.plan!=="free"&&re.planEndsAt).map(re=>{const W=re.planEndsAt,K=W instanceof Jn?W.toDate():new Date(W),ee=new Date(K.getTime()+10080*60*1e3);return{...re,planEndsAt:K,graceEndsAt:ee}}).filter(re=>!Number.isNaN(re.graceEndsAt.getTime())).filter(re=>new Date>=re.graceEndsAt).sort((re,W)=>re.graceEndsAt.getTime()-W.graceEndsAt.getTime()),X=(()=>{const re=new Date(Date.now()-12096e5),W={};return n.forEach(K=>{if(!K.schoolId)return;const ee=K.createdAt instanceof Jn?K.createdAt.toDate():new Date(K.createdAt);(!W[K.schoolId]||W[K.schoolId]<ee)&&(W[K.schoolId]=ee)}),e.filter(K=>{const ee=W[K.id];return!ee||ee<re})})(),ne=[{label:"Active",count:D.active,color:"bg-emerald-100 text-emerald-700"},{label:"Free",count:D.free,color:"bg-emerald-50 text-emerald-700"},{label:"Trial",count:D.trial,color:"bg-amber-100 text-amber-700"},{label:"Paid",count:D.paid,color:"bg-[#E6F0FA] text-[#0B4A82]"}];return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 rounded-3xl border border-slate-100 shadow-sm p-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),r.jsx("span",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-widest",children:"System Status"})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Super Admin Dashboard"}),r.jsxs("p",{className:"text-slate-600",children:["Manage ",D.total," schools across ",D.active," active organizations"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>Q(),"aria-label":"Refresh dashboard",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[r.jsx(vm,{size:16,className:"group-hover:rotate-180 transition-transform"}),"Refresh"]}),r.jsxs(da,{to:"/super-admin/schools",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[r.jsx(Sx,{size:16}),"View Schools"]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-slate-100",children:[ne.map(re=>r.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${re.color}`,children:[re.label,": ",r.jsx("span",{className:"font-bold",children:re.count})]},re.label)),r.jsx("div",{className:"text-xs text-slate-500 flex items-center ml-auto",children:F?`Last updated ${F.toLocaleTimeString()}`:"Not updated yet"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:f?Array.from({length:4}).map((re,W)=>r.jsx("div",{children:r.jsx(jd,{className:"h-32"})},W)):r.jsxs(r.Fragment,{children:[r.jsx(dx,{label:"Total Schools",value:D.total,hint:"All time",icon:r.jsx(fo,{size:20}),trend:5}),r.jsx(dx,{label:"Active Schools",value:D.active,hint:"Currently active",icon:r.jsx(Rc,{size:20}),trend:3}),r.jsx(dx,{label:"Inactive Schools",value:D.inactive,hint:"Needs attention",icon:r.jsx(Gi,{size:20}),trend:-1}),r.jsx(dx,{label:"New Schools",value:D.newSchools,hint:"Last 30 days",icon:r.jsx(Dd,{size:20}),trend:8})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs(wu,{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing Analytics"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Payment performance over the last 6 months"})]}),r.jsxs(da,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 text-sm font-semibold text-[#0B4A82]",children:["View payments ",r.jsx(PT,{size:16})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/50 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-semibold uppercase text-emerald-600",children:"Total Revenue"}),r.jsx("span",{className:"w-8 h-8 rounded-lg bg-emerald-500/90 text-white flex items-center justify-center",children:r.jsx(xP,{size:16})})]}),r.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:O(H.paidAmount)}),r.jsxs("p",{className:"text-xs text-emerald-700 mt-2",children:[H.paidCount," successful payments"]})]}),r.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/60 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-semibold uppercase text-amber-600",children:"Pending"}),r.jsx("span",{className:"w-8 h-8 rounded-lg bg-amber-500/90 text-white flex items-center justify-center",children:r.jsx(Kl,{size:16})})]}),r.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:H.pendingCount}),r.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"Awaiting confirmation"})]}),r.jsxs("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/60 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-semibold uppercase text-rose-600",children:"Failed"}),r.jsx("span",{className:"w-8 h-8 rounded-lg bg-rose-500/90 text-white flex items-center justify-center",children:r.jsx(Gi,{size:16})})]}),r.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:H.failedCount}),r.jsx("p",{className:"text-xs text-rose-700 mt-2",children:"Needs follow-up"})]})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Earnings"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Successful payments per month"})]}),r.jsx("div",{className:"text-xs text-slate-400",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-slate-500",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-[#3B82F6]"}),"Total Collections"]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),"Fees Collection"]})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-10",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Total Collections"}),r.jsx("p",{className:"text-lg font-bold text-slate-900",children:O(H.paidAmount)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Fees Collection"}),r.jsx("p",{className:"text-lg font-bold text-slate-900",children:O(H.last30Amount)})]})]}),r.jsx("div",{className:"mt-4",children:(()=>{const je=Je=>Je>=300?130-(Je-300)/3300*102:130+Math.min(1,(300-Je)/300)*22,ve=H.monthlySeries.map((Je,at)=>{const ge=28+at*584/(H.monthlySeries.length-1||1),ht=je(Je.value);return{x:ge,y:ht}}),_e=H.monthlyFeesSeries.map((Je,at)=>{const ge=28+at*584/(H.monthlyFeesSeries.length-1||1),ht=je(Je.value);return{x:ge,y:ht}}),ke=Je=>{if(Je.length===0)return"";const[at,...ge]=Je;return ge.reduce((ht,Kt,Pt)=>{const Le=Je[Pt],jt=(Le.x+Kt.x)/2;return`${ht} Q ${jt} ${Le.y} ${Kt.x} ${Kt.y}`},`M ${at.x} ${at.y}`)},Me=Je=>{const at=ke(Je);if(!at)return"";const ge=Je[Je.length-1],ht=Je[0];return`${at} L ${ge.x} 152 L ${ht.x} 152 Z`};return r.jsx("div",{className:"w-full rounded-2xl bg-gradient-to-br from-slate-50 via-white to-slate-50 border border-slate-100 p-3 shadow-[0_10px_30px_-24px_rgba(15,23,42,0.5)]",children:r.jsxs("svg",{viewBox:"0 0 640 180",className:"w-full h-44",role:"img","aria-label":"Monthly earnings chart",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"earningsBlue",x1:"0",x2:"0",y1:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"0.65"}),r.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.05"})]}),r.jsxs("linearGradient",{id:"earningsRed",x1:"0",x2:"0",y1:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#F43F5E",stopOpacity:"0.7"}),r.jsx("stop",{offset:"100%",stopColor:"#F43F5E",stopOpacity:"0.1"})]})]}),r.jsx("rect",{x:28,y:28,width:584,height:102,rx:12,fill:"#FFFFFF",opacity:"0.6"}),r.jsx("rect",{x:28,y:130,width:584,height:22,rx:10,fill:"#F1F5F9"}),[0,25,50,75,100].map(Je=>{const at=130-Je/100*102,ge=Math.round(300+Je/100*3300);return r.jsxs("g",{children:[r.jsx("line",{x1:28,x2:612,y1:at,y2:at,stroke:"#E2E8F0",strokeDasharray:"4 4"}),r.jsxs("text",{x:6,y:at+4,fontSize:"10",fill:"#94A3B8",children:["GHS ",ge.toLocaleString("en-GH")]})]},Je)}),r.jsx("line",{x1:28,x2:612,y1:130,y2:130,stroke:"#CBD5F5",strokeWidth:"1.5"}),r.jsx("path",{d:Me(ve),fill:"url(#earningsBlue)"}),r.jsx("path",{d:ke(ve),fill:"none",stroke:"#3B82F6",strokeWidth:"2"}),r.jsx("path",{d:Me(_e),fill:"url(#earningsRed)"}),r.jsx("path",{d:ke(_e),fill:"none",stroke:"#F43F5E",strokeWidth:"2"}),H.monthlySeries.map((Je,at)=>{const ge=28+at*584/(H.monthlySeries.length-1||1);return r.jsx("text",{x:ge,y:174,textAnchor:"middle",fontSize:"10",fill:"#94A3B8",children:Je.label},Je.label)})]})})})()})]})]}),r.jsxs(wu,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Billing Health"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Current payment status mix"})]}),r.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:r.jsx(om,{size:18})})]}),r.jsx("div",{className:"space-y-4",children:[{label:"Successful",value:H.paidCount,color:"bg-emerald-500"},{label:"Pending",value:H.pendingCount,color:"bg-amber-500"},{label:"Failed",value:H.failedCount,color:"bg-rose-500"}].map(re=>{const W=H.paidCount+H.pendingCount+H.failedCount,K=W?Math.round(re.value/W*100):0;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-slate-700",children:re.label}),r.jsxs("span",{className:"text-slate-500",children:[K,"%"]})]}),r.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:r.jsx("div",{className:`h-full ${re.color} rounded-full`,style:{width:`${K}%`}})})]},re.label)})}),r.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-100 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Success rate"}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[H.successRate,"%"]})]}),r.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:r.jsx(Dd,{size:18})})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Track billed revenue and follow up on pending payments."})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[r.jsx(hx,{icon:r.jsx(Gi,{size:18}),title:"Inactive Schools",count:Ae.length,description:"Schools requiring attention",accentColor:"border-[#1160A8] bg-[#E6F0FA]"}),r.jsx(hx,{icon:r.jsx(a7,{size:18}),title:"Trials Ending",count:ie.length,description:"Trial periods expiring soon",accentColor:"border-amber-400 bg-amber-80"}),r.jsx(hx,{icon:r.jsx(Kl,{size:18}),title:"Expired Subscriptions",count:le.length,description:"Grace period ended  renewal required",accentColor:"border-rose-400 bg-rose-50"}),r.jsx(hx,{icon:r.jsx(Kl,{size:18}),title:"No Recent Activity",count:X.length,description:"Last 14 days with no activity",accentColor:"border-slate-400 bg-slate-50"})]}),le.length>0&&r.jsxs(wu,{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-rose-500",children:"Renewal required"}),r.jsx("h2",{className:"text-lg font-semibold text-slate-900 mt-1",children:"Subscriptions past grace period"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"These schools have exceeded the one-week grace period and need renewal to restore access."})]}),r.jsxs(da,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-600 hover:bg-rose-100",children:[r.jsx(om,{size:16}),"Review payments"]})]}),r.jsx("div",{className:"mt-6 overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-xs uppercase tracking-wider text-slate-400",children:[r.jsx("th",{className:"py-2 pr-4",children:"School"}),r.jsx("th",{className:"py-2 pr-4",children:"Plan"}),r.jsx("th",{className:"py-2 pr-4",children:"Grace ended"}),r.jsx("th",{className:"py-2",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:le.slice(0,6).map(re=>r.jsxs("tr",{className:"text-slate-600",children:[r.jsxs("td",{className:"py-3 pr-4",children:[r.jsx(da,{to:`/super-admin/schools/${re.id}`,className:"font-semibold text-slate-800 hover:text-[#0B4A82]",children:re.name}),r.jsx("div",{className:"text-xs text-slate-400",children:re.code})]}),r.jsx("td",{className:"py-3 pr-4 capitalize",children:re.plan}),r.jsx("td",{className:"py-3 pr-4",children:re.graceEndsAt.toLocaleDateString()}),r.jsx("td",{className:"py-3",children:r.jsx("span",{className:"inline-flex items-center rounded-full bg-rose-50 px-2 py-1 text-xs font-semibold text-rose-600",children:"Renewal overdue"})})]},re.id))})]})})]}),r.jsxs(wu,{className:"mb-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Plan Distribution"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Plan split across ",D.total," schools"]})]}),e.length===0?r.jsx(V1,{icon:r.jsx(UP,{className:"mx-auto text-slate-300",size:48}),title:"No Plan Data",description:"Create your first school to see plan distribution",action:{label:"Create School",onClick:()=>{}}}):r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[r.jsx("div",{className:"w-full lg:w-1/3 flex justify-center",children:r.jsx("div",{className:"w-40 h-40",children:r.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",style:{transform:"rotate(-90deg)"},children:[r.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f1f5f9",strokeWidth:"8"}),r.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f97316",strokeWidth:"8",strokeDasharray:`${G.trial/Math.max(1,e.length)*100} 100`}),r.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeDasharray:`${G.monthly/Math.max(1,e.length)*100} 100`,style:{strokeDashoffset:`${-(G.trial/Math.max(1,e.length)*100)}`}})]})})}),r.jsx("div",{className:"w-full lg:w-2/3",children:r.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Free",value:G.free,color:"bg-emerald-50 border-l-4 border-emerald-500"},{label:"Trial",value:G.trial,color:"bg-orange-100 border-l-4 border-orange-500"},{label:"Monthly",value:G.monthly,color:"bg-[#E6F0FA] border-l-4 border-[#1160A8]"},{label:"Termly",value:G.termly,color:"bg-green-100 border-l-4 border-green-500"},{label:"Yearly",value:G.yearly,color:"bg-purple-100 border-l-4 border-purple-500"}].map(re=>r.jsxs("div",{className:`${re.color} rounded-lg p-4`,children:[r.jsx("div",{className:"text-2xl font-bold text-slate-900",children:re.value}),r.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[re.label," Plan"]})]},re.label))})})]})]}),r.jsxs(wu,{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:r.jsx(Jy,{size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Activity Feed"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Recent system events across all schools"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:o,onChange:re=>A(re.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700",children:[r.jsx("option",{value:"",children:"All events"}),r.jsx("option",{value:"school_created",children:"School created"}),r.jsx("option",{value:"school_admin_created",children:"School admin created"}),r.jsx("option",{value:"school_admin_password_reset",children:"School admin password reset"}),r.jsx("option",{value:"user_provisioned",children:"User provisioned"}),r.jsx("option",{value:"teacher_created",children:"Teacher created"}),r.jsx("option",{value:"backup_created",children:"Backup created"}),r.jsx("option",{value:"billing_initiated",children:"Billing initiated"}),r.jsx("option",{value:"billing_verified_success",children:"Billing verified (success)"}),r.jsx("option",{value:"billing_verified_failed",children:"Billing verified (failed)"}),r.jsx("option",{value:"billing_webhook_success",children:"Billing webhook (success)"}),r.jsx("option",{value:"billing_webhook_failed",children:"Billing webhook (failed)"})]}),r.jsxs("button",{onClick:Q,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50",children:[r.jsx(vm,{size:14}),"Refresh"]})]})]}),f?r.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((re,W)=>r.jsxs("div",{className:"p-4 border border-slate-100 rounded-xl",children:[r.jsx(jd,{className:"h-4 w-1/3 mb-2"}),r.jsx(jd,{className:"h-3 w-1/2"})]},W))}):R.length===0?r.jsx(V1,{icon:r.jsx(Jy,{className:"text-slate-300",size:48}),title:"No activity yet",description:"System events will appear here as schools use the platform."}):r.jsx("div",{className:"space-y-3",children:R.map(re=>r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 rounded-xl border border-slate-100 bg-white p-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:aW(re)}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:re.schoolId?`School: ${re.schoolId}`:"System"})]}),r.jsx("div",{className:"text-xs text-slate-500",children:rW(re.createdAt)})]},re.id))})]}),r.jsxs(wu,{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Schools Directory"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[ae.length," of ",e.length," schools"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[r.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[r.jsx(yb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),r.jsx("input",{value:m,onChange:re=>x(re.target.value),placeholder:"Search schools...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-[#1160A8] transition-all","aria-label":"Search schools"})]}),r.jsxs("select",{value:g,onChange:re=>w(re.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]}),r.jsxs("select",{value:E,onChange:re=>B(re.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[r.jsx("option",{value:"",children:"All Plans"}),r.jsx("option",{value:"free",children:"Free"}),r.jsx("option",{value:"trial",children:"Trial"}),r.jsx("option",{value:"monthly",children:"Monthly"}),r.jsx("option",{value:"termly",children:"Termly"}),r.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-slate-100",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"School"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Plan"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-slate-700",children:"Action"})]})}),r.jsx("tbody",{children:f?Array.from({length:5}).map((re,W)=>r.jsxs("tr",{className:"border-b border-slate-100",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsx(jd,{className:"h-4 w-32"})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx(jd,{className:"h-4 w-16"})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx(jd,{className:"h-4 w-20"})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx(jd,{className:"h-4 w-24"})}),r.jsx("td",{className:"py-4 px-4 text-right",children:r.jsx(jd,{className:"h-8 w-16 ml-auto"})})]},W)):ae.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 px-4",children:r.jsx(V1,{icon:r.jsx(yb,{className:"text-slate-300 mx-auto",size:40}),title:"No schools found",description:"Try adjusting your filters or search criteria"})})}):ae.map((re,W)=>r.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${W%2===0?"bg-white":"bg-slate-50/30"}`,children:[r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 overflow-hidden font-semibold flex-shrink-0",children:re.logoUrl?r.jsx("img",{src:re.logoUrl,alt:re.name,className:"w-full h-full object-cover"}):re.name.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-slate-900",children:re.name}),r.jsx("div",{className:"text-xs text-slate-500",children:re.code||""})]})]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${re.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:re.status==="active"?"Active":"Inactive"})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700 capitalize",children:re.plan})}),r.jsx("td",{className:"py-4 px-4 text-slate-600",children:re.createdAt?re.createdAt instanceof Jn?re.createdAt.toDate().toLocaleDateString():new Date(re.createdAt).toLocaleDateString():""}),r.jsx("td",{className:"py-4 px-4 text-right",children:r.jsxs(da,{to:`/super-admin/schools/${re.id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-[#0B4A82] text-white hover:bg-[#0B4A82] transition-colors",children:[r.jsx(Qu,{size:14})," View"]})})]},re.id))})]})}),ae.length>0&&r.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-100",children:[r.jsxs("div",{className:"text-xs text-slate-600",children:["Showing 1 to ",Math.min(10,ae.length)," of"," ",ae.length]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:" Previous"}),r.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Next "})]})]})]}),r.jsxs(wu,{className:"bg-gradient-to-br from-white via-slate-50 to-white border border-slate-100",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:r.jsx(Jy,{size:20})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Daily Operations Checklist"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Track routine school actions completed each day"})]})]})}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[r.jsx("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:"Live today"}),r.jsxs("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:[e.length," schools"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"attendance",title:"Attendance submitted",description:"Daily student attendance recorded by classes.",gradient:"from-emerald-500/15 to-emerald-500/5",accent:"text-emerald-600",bar:"bg-emerald-500"},{key:"teacherAttendance",title:"Teacher attendance completed",description:"Staff attendance confirmed for the day.",gradient:"from-blue-500/15 to-blue-500/5",accent:"text-blue-600",bar:"bg-blue-500"},{key:"timetable",title:"Lesson plans logged",description:"Timetable updated today to reflect lessons.",gradient:"from-violet-500/15 to-violet-500/5",accent:"text-violet-600",bar:"bg-violet-500"},{key:"assessments",title:"Assessments graded",description:"Class assessments scored and saved.",gradient:"from-amber-500/15 to-amber-500/5",accent:"text-amber-600",bar:"bg-amber-500"},{key:"notices",title:"Notices posted",description:"Daily notices shared to staff and students.",gradient:"from-slate-500/15 to-slate-500/5",accent:"text-slate-600",bar:"bg-slate-500"}].map(re=>{const W=k.summary[re.key],K=W?Math.round(W.completed/Math.max(1,W.total)*100):0,ee=(W==null?void 0:W.completed)??0,oe=(W==null?void 0:W.total)??0;return r.jsxs("div",{className:`rounded-2xl border border-slate-100 bg-gradient-to-br ${re.gradient} p-4 shadow-sm hover:shadow-md transition-shadow`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`mt-1 ${re.accent}`,children:r.jsx(Rc,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:re.title}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:re.description})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-bold ${re.accent}`,children:[K,"%"]}),r.jsxs("div",{className:"text-[10px] text-slate-500",children:[ee,"/",oe," schools"]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"h-2 w-full rounded-full bg-white/70 border border-white/60 overflow-hidden",children:r.jsx("div",{className:`h-full ${re.bar} transition-all`,style:{width:`${K}%`}})})})]},re.title)})}),r.jsxs("div",{className:"mt-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"School Activity Status"}),r.jsx("span",{className:"text-xs text-slate-500",children:"Live today per school"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(re=>{const W=k.perSchool[re.id]||{attendance:!1,teacherAttendance:!1,assessments:!1,timetable:!1,notices:!1},K=[{label:"Attendance",value:W.attendance},{label:"Teacher Attendance",value:W.teacherAttendance},{label:"Assessments",value:W.assessments},{label:"Timetable",value:W.timetable},{label:"Notices",value:W.notices}],ee=K.filter(oe=>oe.value).length;return r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"School"}),r.jsx("p",{className:"text-lg font-semibold text-slate-900",children:re.name}),r.jsx("p",{className:"text-xs text-slate-400",children:re.code})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Completion"}),r.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[ee,"/",K.length]})]})]}),r.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:K.map(oe=>r.jsxs("div",{className:`flex items-center justify-between rounded-lg border px-2 py-1.5 ${oe.value?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-500"}`,children:[r.jsx("span",{children:oe.label}),r.jsx("span",{className:"font-semibold",children:oe.value?"Done":"Pending"})]},oe.label))})]},re.id)})})]})]})]})})},iW=()=>{var ie,le,X,ne,re,W,K,ee,oe,he,ue,ye,je,ve,_e,ke,Me,Je,at,ge,ht,Kt,Pt,Le,jt,Ve;const[s,e]=J.useState([]),[t,n]=J.useState([]),[a,o]=J.useState(!0),[A,h]=J.useState(null),[u,f]=J.useState(""),[c,m]=J.useState(""),[x,g]=J.useState(""),[w,E]=J.useState(""),[B,C]=J.useState(null),[T,F]=J.useState(!1),[L,k]=J.useState(null),[M,Q]=J.useState(!1),D=J.useMemo(()=>s.reduce((Fe,lt)=>(Fe[lt.id]=lt,Fe),{}),[s]),R=J.useMemo(()=>{var ft;if(!((ft=B==null?void 0:B.data)!=null&&ft.students))return[];const Fe=B.data.students||[],lt=B.data.attendanceRecords||[],xt=B.data.assessments||[],Et=B.data.studentRemarks||[],Jt=lt.reduce((Ye,At)=>(Ye[At.classId]||(Ye[At.classId]=[]),Ye[At.classId].push(At),Ye),{}),Mt=xt.reduce((Ye,At)=>{const es=typeof At.total=="number"?At.total:Fc(At);return Ye[At.studentId]||(Ye[At.studentId]={total:0,count:0}),Ye[At.studentId].total+=es,Ye[At.studentId].count+=1,Ye},{}),He=Et.reduce((Ye,At)=>{const es=Ye[At.studentId];if(!es)return Ye[At.studentId]=At,Ye;const Gt=new Date(es.dateCreated).getTime();return new Date(At.dateCreated).getTime()>=Gt&&(Ye[At.studentId]=At),Ye},{});return Fe.map(Ye=>{var is;const At=Jt[Ye.classId]||[],es=At.filter(Zt=>{var Qe;return(Qe=Zt.presentStudentIds)==null?void 0:Qe.includes(Ye.id)}).length,Gt=At.length,qt=Gt?`${Math.round(es/Gt*100)}%`:"-",dt=Mt[Ye.id],Ot=dt!=null&&dt.count?(dt.total/dt.count).toFixed(1):"-",Vt=((is=He[Ye.id])==null?void 0:is.remark)||"N/A";return{student:Ye,presentDays:es,totalDays:Gt,attendanceRate:qt,avgScore:Ot,remark:Vt}})},[B]),V=Fe=>{if(!Fe)return"CLASS";const lt=Is.find(xt=>xt.id===Fe);return lt&&lt.level?lt.level:Fe.startsWith("c_n")?"NURSERY":Fe.startsWith("c_kg")?"KG":Fe.startsWith("c_p")?"PRIMARY":Fe.startsWith("c_jhs")?"JHS":"CLASS"};u&&D[u]&&D[u].name;const O=async()=>{const lt=(await Xs(Fs(Ct,"schools"))).docs.map(xt=>({id:xt.id,...xt.data()}));e(lt)},H=async()=>{o(!0),h(null);try{const Fe=[];if(u&&Fe.push(os("schoolId","==",u)),c&&Fe.push(os("term","==",c)),x&&Fe.push(os("academicYear","==",x)),w){const Mt=new Date(w).getTime(),He=Mt+1440*60*1e3-1;Fe.push(os("timestamp",">=",Mt)),Fe.push(os("timestamp","<=",He))}const lt=Fs(Ct,"backups"),xt=Fe.length>0?Ms(lt,...Fe):lt,Jt=(await Xs(xt)).docs.map(Mt=>Mt.data());Jt.sort((Mt,He)=>(He.timestamp||0)-(Mt.timestamp||0)),n(Jt)}catch(Fe){console.error("Error fetching backups:",Fe),h("Failed to fetch backups."),Xt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},G=async Fe=>{try{const lt=await iA(Qs(Ct,"backups",Fe));if(!lt.exists()){Xt("Backup details not found.",{type:"error"});return}C(lt.data()),F(!0)}catch(lt){console.error("Error fetching backup details:",lt),Xt("Failed to fetch backup details.",{type:"error"})}},ae=async Fe=>{try{const lt=await iA(Qs(Ct,"backups",Fe));if(!lt.exists()){Xt("No data available to download.",{type:"error"});return}const xt=lt.data();if(!xt.data){Xt("No data available to download.",{type:"error"});return}const Et=`backup_${xt.academicYear.replace("-","")}_${xt.term.replace(" ","")}_${xt.timestamp}.json`,Jt=JSON.stringify(xt.data,null,2),Mt=new Blob([Jt],{type:"application/json"}),He=URL.createObjectURL(Mt),ft=document.createElement("a");ft.href=He,ft.download=Et,document.body.appendChild(ft),ft.click(),document.body.removeChild(ft),URL.revokeObjectURL(He),Xt("Backup downloaded successfully!",{type:"success"})}catch(lt){console.error("Error downloading backup:",lt),Xt("Failed to download backup.",{type:"error"})}},Ae=async()=>{if(L)try{await Hi(Qs(Ct,"backups",L)),Xt("Backup deleted successfully!",{type:"success"}),Q(!1),k(null),await H()}catch(Fe){console.error("Error deleting backup:",Fe),Xt("Failed to delete backup.",{type:"error"})}};return J.useEffect(()=>{O()},[]),J.useEffect(()=>{H()},[u,c,x,w]),r.jsxs(lr,{title:"Manage Backups",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Manage Term Backups"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backup Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School"}),r.jsxs("select",{value:u,onChange:Fe=>f(Fe.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[r.jsx("option",{value:"",children:"All Schools"}),s.map(Fe=>r.jsx("option",{value:Fe.id,children:Fe.name},Fe.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),r.jsxs("select",{value:c,onChange:Fe=>m(Fe.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[r.jsx("option",{value:"",children:"All Terms"}),r.jsx("option",{value:"Term 1",children:"Term 1"}),r.jsx("option",{value:"Term 2",children:"Term 2"}),r.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),r.jsx("input",{type:"text",value:x,onChange:Fe=>g(Fe.target.value),placeholder:"e.g., 2023-2024",className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Created (YYYY-MM-DD)"}),r.jsx("input",{type:"date",value:w,onChange:Fe=>E(Fe.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]})]}),r.jsxs("button",{onClick:H,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors flex items-center",children:[r.jsx(MT,{size:16,className:"mr-2"})," Apply Filters"]}),r.jsx("button",{onClick:()=>{f(""),m(""),g(""),E("")},className:"ml-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Clear Filters"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Available Backups"}),a?r.jsx("div",{className:"text-center p-8 text-slate-500",children:"Loading backups..."}):A?r.jsx("div",{className:"text-center p-8 text-rose-600",children:A}):t.length===0?r.jsx("div",{className:"text-center p-8 text-slate-500",children:r.jsx("p",{children:"No backups found for the current filters."})}):r.jsx("div",{className:"space-y-4",children:t.map((Fe,lt)=>{var Et;const xt=Fe.schoolId?((Et=D[Fe.schoolId])==null?void 0:Et.name)||Fe.schoolId:"Unknown School";return r.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-slate-800",children:[Fe.term," - ",Fe.academicYear]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["School: ",xt]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Created:"," ",new Date(Fe.timestamp||0).toLocaleString()]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>G(Fe.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"View Backup Details",children:[r.jsx(Qu,{size:16,className:"mr-1"})," View"]}),r.jsxs("button",{onClick:()=>ae(Fe.id||""),className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-sm hover:bg-emerald-200 flex items-center",title:"Download Backup",children:[r.jsx(A2,{size:16,className:"mr-1"})," Download"]}),r.jsxs("button",{onClick:()=>{k(Fe.id||null),Q(!0)},className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"Delete Backup",children:[r.jsx(Lc,{size:16,className:"mr-1"})," Delete"]}),r.jsx(da,{to:Fe.schoolId?`/super-admin/schools/${Fe.schoolId}`:"/super-admin/schools",className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-md text-sm hover:bg-slate-200 flex items-center",children:"View School"})]})]},Fe.id||`backup-${lt}`)})})]}),T&&B&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Backup Details: ",B.term," -"," ",B.academicYear]}),r.jsx("button",{onClick:()=>F(!1),className:"text-slate-400 hover:text-slate-700",children:r.jsx(oo,{size:20})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#E6F0FA] to-amber-50 rounded-xl p-4 mb-6 border border-[#E6F0FA]",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-full",children:r.jsx(Kl,{className:"text-[#0B4A82]",size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup Created"}),r.jsx("p",{className:"text-lg font-bold text-slate-800",children:new Date(B.timestamp||0).toLocaleString()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup ID"}),r.jsxs("p",{className:"text-sm font-mono text-slate-700",children:[(ie=B.id)==null?void 0:ie.slice(0,8),"..."]})]})]})}),B.data?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:r.jsx(rf,{className:"text-amber-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Students"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((le=B.data.students)==null?void 0:le.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-lg",children:r.jsx(fo,{className:"text-[#0B4A82]",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Users"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((X=B.data.users)==null?void 0:X.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:r.jsx(cl,{className:"text-emerald-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Assessments"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ne=B.data.assessments)==null?void 0:ne.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Si,{className:"text-purple-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Attendance"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((re=B.data.attendanceRecords)==null?void 0:re.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:r.jsx(xm,{className:"text-slate-500",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teacher Attendance"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((W=B.data.teacherAttendanceRecords)==null?void 0:W.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:r.jsx(Wp,{className:"text-amber-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Remarks"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((K=B.data.studentRemarks)==null?void 0:K.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:r.jsx(cl,{className:"text-indigo-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Timetables"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ee=B.data.timetables)==null?void 0:ee.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:r.jsx(Hd,{className:"text-emerald-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Notices"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((oe=B.data.notices)==null?void 0:oe.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-rose-50 rounded-lg",children:r.jsx(gm,{className:"text-rose-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Notifications"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((he=B.data.adminNotifications)==null?void 0:he.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:r.jsx(Kl,{className:"text-sky-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Activity Logs"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ue=B.data.activityLogs)==null?void 0:ue.length)||0})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:r.jsx(Si,{className:"text-purple-600",size:20})}),r.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Payments"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((ye=B.data.payments)==null?void 0:ye.length)||0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide mb-3",children:"School Settings Snapshot"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-slate-600",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Academic Year"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((je=B.data.schoolSettings)==null?void 0:je.academicYear)||((ve=B.data.schoolConfig)==null?void 0:ve.academicYear)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Current Term"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((_e=B.data.schoolSettings)==null?void 0:_e.currentTerm)||((ke=B.data.schoolConfig)==null?void 0:ke.currentTerm)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Reopen Date"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((Me=B.data.schoolSettings)==null?void 0:Me.schoolReopenDate)||((Je=B.data.schoolConfig)==null?void 0:Je.schoolReopenDate)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Vacation Date"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((at=B.data.schoolSettings)==null?void 0:at.vacationDate)||((ge=B.data.schoolConfig)==null?void 0:ge.vacationDate)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:"Next Term Begins"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((ht=B.data.schoolSettings)==null?void 0:ht.nextTermBegins)||((Kt=B.data.schoolConfig)==null?void 0:Kt.nextTermBegins)||"-"})]})]})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide mb-3",children:"Data Coverage"}),r.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Class Subjects"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((Pt=B.data.classSubjects)==null?void 0:Pt.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Student Skills"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((Le=B.data.studentSkills)==null?void 0:Le.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Admin Remarks"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((jt=B.data.adminRemarks)==null?void 0:jt.length)||0})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[r.jsx("span",{children:"Payments"}),r.jsx("span",{className:"font-semibold text-slate-800",children:((Ve=B.data.payments)==null?void 0:Ve.length)||0})]})]})]})]}),r.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[r.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[r.jsx(fo,{size:18,className:"mr-2 text-[#0B4A82]"}),"Students List"]}),R.length>0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"Student"}),r.jsx("th",{className:"px-4 py-3",children:"Class"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),r.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:R.map(Fe=>{var lt;return r.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${Fe.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:Fe.student.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{children:Fe.student.name}),r.jsx("p",{className:"text-xs text-slate-400",children:Fe.student.gender})]})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((lt=Is.find(xt=>xt.id===Fe.student.classId))==null?void 0:lt.name)||Fe.student.classId})}),r.jsxs("td",{className:"px-4 py-3 text-center",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:Fe.attendanceRate}),r.jsxs("div",{className:"text-xs text-slate-400",children:[Fe.presentDays,"/",Fe.totalDays," days"]})]}),r.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:Fe.avgScore}),r.jsx("td",{className:"px-4 py-3 text-slate-600",children:Fe.remark})]},Fe.student.id)})})]})}),r.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",R.length," student",R.length!==1?"s":""]})]}):r.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[r.jsx(fo,{size:32,className:"mx-auto mb-2 text-slate-300"}),r.jsx("p",{children:"No students in this backup."})]}),B.data.classSubjects&&B.data.classSubjects.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h5",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[r.jsx(rf,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.data.classSubjects.map((Fe,lt)=>{var Jt,Mt;const xt=Is.find(He=>He.id===Fe.classId),Et=V(Fe.classId);return r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[r.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:Et}),r.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(xt==null?void 0:xt.name)||Fe.classId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Fe.subjects&&Fe.subjects.length>0?Fe.subjects.map((He,ft)=>r.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:He},ft)):r.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),r.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((Jt=Fe.subjects)==null?void 0:Jt.length)||0," subject",((Mt=Fe.subjects)==null?void 0:Mt.length)!==1?"s":""]})]})]},lt)})})]})]})]}):r.jsxs("div",{className:"text-center py-12 text-slate-500",children:[r.jsx(xm,{size:48,className:"mx-auto mb-4 text-slate-300"}),r.jsx("p",{children:"No data available for this backup."})]})]}),r.jsx("div",{className:"p-6 border-t border-slate-100 text-right",children:r.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Close"})})]})}),M&&L&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Deletion"}),r.jsx("button",{onClick:()=>Q(!1),className:"text-slate-400 hover:text-slate-700",children:r.jsx(oo,{size:20})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Backup ID: ",L]})]}),r.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[r.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),r.jsx("button",{onClick:Ae,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Delete"})]})]})})]})},oW=s=>{if(!s)return"-";if(s instanceof Jn)return s.toDate().toLocaleString();if(typeof s=="number")return new Date(s).toLocaleString();const e=new Date(s);return Number.isNaN(e.getTime())?"-":e.toLocaleString()},lW=(s,e="GHS")=>{if(!s&&s!==0)return"-";const t=s>=100?s/100:s;return new Intl.NumberFormat("en-GH",{style:"currency",currency:e}).format(t)},zC=s=>{const e=(s||"pending").toLowerCase();return["success","paid","active"].includes(e)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(e)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(e)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},cW=()=>{const[s,e]=J.useState([]),[t,n]=J.useState(!1),[a,o]=J.useState(""),A=async()=>{n(!0);try{const u=Fs(Ct,"payments"),f=Ms(u,sv("createdAt","desc")),m=(await Xs(f)).docs.map(x=>({id:x.id,...x.data()}));e(m)}catch(u){console.error("Failed to load payments",u),Xt("Failed to load payment data.",{type:"error"})}finally{n(!1)}};J.useEffect(()=>{A()},[]);const h=J.useMemo(()=>{const u=a.trim().toLowerCase();return u?s.filter(f=>[f.schoolName,f.schoolId,f.adminEmail,f.status,f.reference,f.currency].filter(Boolean).join(" ").toLowerCase().includes(u)):s},[s,a]);return r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Payments"}),r.jsx("p",{className:"text-sm text-slate-500",children:"View all school admin payments in one place."})]}),r.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50",disabled:t,children:[r.jsx(vm,{size:16,className:t?"animate-spin":""}),"Refresh"]})]})}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(yb,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:a,onChange:u=>o(u.target.value),placeholder:"Search by school, email, status, reference",className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0B4A82]/20"})]}),r.jsxs("span",{className:"text-xs text-slate-400",children:[h.length," records"]})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[r.jsx("th",{className:"py-3 pr-4",children:"School"}),r.jsx("th",{className:"py-3 pr-4",children:"Admin Email"}),r.jsx("th",{className:"py-3 pr-4",children:"Amount"}),r.jsx("th",{className:"py-3 pr-4",children:"Currency"}),r.jsx("th",{className:"py-3 pr-4",children:"Status"}),r.jsx("th",{className:"py-3 pr-4",children:"Reference"}),r.jsx("th",{className:"py-3",children:"Created"})]})}),r.jsx("tbody",{children:h.map(u=>r.jsxs("tr",{className:"border-b border-slate-100",children:[r.jsxs("td",{className:"py-3 pr-4",children:[r.jsx("div",{className:"font-medium text-slate-800",children:u.schoolName||"-"}),r.jsx("div",{className:"text-xs text-slate-400",children:u.schoolId||""})]}),r.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.adminEmail||"-"}),r.jsx("td",{className:"py-3 pr-4 text-slate-700",children:lW(u.amount,u.currency)}),r.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.currency||"GHS"}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${zC(u.status).className}`,children:zC(u.status).label})}),r.jsx("td",{className:"py-3 pr-4 text-slate-500",children:u.reference||"-"}),r.jsx("td",{className:"py-3 text-slate-500",children:oW(u.createdAt)})]},u.id))})]}),!h.length&&!t&&r.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payments found yet."})]})]})]})},AW=()=>{const{user:s,loading:e,authLoading:t,error:n,logout:a}=To(),{school:o,schoolLoading:A,schoolError:h}=kc(),u=f=>{const c=f.toLowerCase();return c.includes("inactive")?{title:"School Inactive",description:"Your school has been deactivated. Please contact your administrator for support."}:c.includes("not found")?{title:"School Not Found",description:"Your school profile could not be found. Please contact your administrator."}:c.includes("no school")?{title:"No School Assigned",description:"Your account does not have a school assigned. Please contact your administrator."}:{title:"School Access Issue",description:f}};if(t)return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})});if(n==="Your account is not set up yet. Please contact your administrator for access.")return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Account Not Set Up"}),r.jsx("p",{className:"text-slate-600 mb-6",children:"Your account is not set up yet. Please contact your administrator for access to the system."}),r.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})});if(h&&(s==null?void 0:s.role)!==pn.SUPER_ADMIN){const f=u(h);return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:f.title}),r.jsx("p",{className:"text-slate-600 mb-6",children:f.description}),r.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})})}return r.jsx(i7,{children:r.jsx(hW,{})})},uW=()=>r.jsx(nP,{children:r.jsx(rP,{children:r.jsx(GF,{children:r.jsx(AW,{})})})}),ci=({children:s,allowedRoles:e})=>{const{user:t,isAuthenticated:n,authLoading:a}=To();if(a)return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})});if(!n)return r.jsx(z1,{to:"/login",replace:!0});if(e&&t&&!e.includes(t.role)){const o=t.role===pn.SUPER_ADMIN?"/super-admin/schools":t.role===pn.SCHOOL_ADMIN?"/admin/students":"/teacher";return r.jsx(z1,{to:o,replace:!0})}return s},dW=()=>{const{user:s}=To();return(s==null?void 0:s.role)===pn.SUPER_ADMIN?r.jsx(lr,{title:"Super Admin Dashboard",children:r.jsx(v_,{})}):(s==null?void 0:s.role)===pn.SCHOOL_ADMIN?r.jsx(y7,{}):(s==null?void 0:s.role)===pn.TEACHER?r.jsx(x_,{}):r.jsx(z1,{to:"/login"})},hW=()=>r.jsxs(wF,{children:[r.jsx(Ha,{path:"/login",element:r.jsx(o7,{})}),r.jsx(Ha,{path:"/",element:r.jsx(ci,{children:r.jsx(dW,{})})}),r.jsx(Ha,{path:"/admin/students",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(b7,{})})}),r.jsx(Ha,{path:"/admin/teachers",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(F7,{})})}),r.jsx(Ha,{path:"/admin/attendance",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(U7,{})})}),r.jsx(Ha,{path:"/admin/teacher-attendance",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(D7,{})})}),r.jsx(Ha,{path:"/admin/reports",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(R7,{})})}),r.jsx(Ha,{path:"/admin/report-card",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(QV,{})})}),r.jsx(Ha,{path:"/admin/timetable",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(mK,{})})}),r.jsx(Ha,{path:"/admin/settings",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(dK,{})})}),r.jsx(Ha,{path:"/admin/backups",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(fK,{})})}),r.jsx(Ha,{path:"/admin/billing",element:r.jsx(ci,{allowedRoles:[pn.SCHOOL_ADMIN],children:r.jsx(pK,{})})}),r.jsx(Ha,{path:"/super-admin/schools",element:r.jsx(ci,{allowedRoles:[pn.SUPER_ADMIN],children:r.jsx(sW,{})})}),r.jsx(Ha,{path:"/super-admin/dashboard",element:r.jsx(ci,{allowedRoles:[pn.SUPER_ADMIN],children:r.jsx(lr,{title:"Super Admin Dashboard",children:r.jsx(v_,{})})})}),r.jsx(Ha,{path:"/super-admin/schools/:schoolId",element:r.jsx(ci,{allowedRoles:[pn.SUPER_ADMIN],children:r.jsx(nW,{})})}),r.jsx(Ha,{path:"/super-admin/backups",element:r.jsx(ci,{allowedRoles:[pn.SUPER_ADMIN],children:r.jsx(iW,{})})}),r.jsx(Ha,{path:"/super-admin/payments",element:r.jsx(ci,{allowedRoles:[pn.SUPER_ADMIN],children:r.jsx(lr,{title:"Payments",children:r.jsx(cW,{})})})}),r.jsx(Ha,{path:"/teacher",element:r.jsx(ci,{allowedRoles:[pn.TEACHER],children:r.jsx(x_,{})})}),r.jsx(Ha,{path:"/teacher/attendance",element:r.jsx(ci,{allowedRoles:[pn.TEACHER],children:r.jsx(XY,{})})}),r.jsx(Ha,{path:"/teacher/assessment",element:r.jsx(ci,{allowedRoles:[pn.TEACHER],children:r.jsx(qY,{})})}),r.jsx(Ha,{path:"/teacher/my-attendance",element:r.jsx(ci,{allowedRoles:[pn.TEACHER],children:r.jsx(JY,{})})}),r.jsx(Ha,{path:"/teacher/write-remarks",element:r.jsx(ci,{allowedRoles:[pn.TEACHER],children:r.jsx(ZY,{})})}),r.jsx(Ha,{path:"/teacher/edit-skills",element:r.jsx(ci,{allowedRoles:[pn.TEACHER],children:r.jsx(tW,{})})})]}),y_=document.getElementById("root");if(!y_)throw new Error("Could not find root element to mount to");const fW=B6.createRoot(y_);fW.render(r.jsx(Mh.StrictMode,{children:r.jsx(uW,{})}));export{Kr as _,Jj as c,tw as g};
